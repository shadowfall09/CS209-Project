{"items":[{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668422199,"post_id":74429227,"comment_id":131393030,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668424180,"post_id":74429227,"comment_id":131393672,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"answers":[{"tags":[],"owner":{"account_id":20749877,"reputation":11,"user_id":16564674,"display_name":"BadDa3mon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668423717,"creation_date":1668420841,"answer_id":74429994,"question_id":74429227,"body_markdown":"Request permission **android.permission.CALL_PHONE** before calling.\r\n--------------------------------------------------------------------\r\n\r\nAdd into **AndroidManifest.xml**:\r\n```&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;```\r\n\r\nRequest permission **before** calling:\r\n```\r\nboolean isPermissionGranted = (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED);\r\n\r\nif (isPermissionGranted) {\r\n    Intent intent = new Intent(Intent.ACTION_CALL);\r\n    intent.setData(Uri.parse(&quot;tel:&quot; + mNumber));\r\n    \r\n    startActivity(intent);\r\n} else {\r\n    Toast.makeText(this, &quot;Отсутствует разрешение на звонок с устройства&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\tActivityCompat.requestPermissions(this, new String[]{ Manifest.permission.CALL_PHONE }, 0);\r\n}\r\n```\r\n\r\nAdd **request result**:\r\n```\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\r\n\tsuper.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    if (requestCode == 0) {\r\n\t\tfor (int result : grantResults) {\r\n\t\t\tif (result != PackageManager.PERMISSION_GRANTED) {\r\n\t\t\t\t//RETURN, PERMISSION NOT GRANTED\r\n\r\n\t\t\t\tToast.makeText(this, &quot;Вы не выдали разрешение, приложение может работать неккоректно!&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//PERMISSIONS GRANTED\r\n\t\tToast.makeText(this, &quot;Спасибо за выданное разрешение!&quot;, Toast.LENGTH_SHORT).show();\r\n\t}\r\n}\r\n```","title":"call by phone number on button click (java)","body":"<h2>Request permission <strong>android.permission.CALL_PHONE</strong> before calling.</h2>\n<p>Add into <strong>AndroidManifest.xml</strong>:\n<code>&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;</code></p>\n<p>Request permission <strong>before</strong> calling:</p>\n<pre><code>boolean isPermissionGranted = (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED);\n\nif (isPermissionGranted) {\n    Intent intent = new Intent(Intent.ACTION_CALL);\n    intent.setData(Uri.parse(&quot;tel:&quot; + mNumber));\n    \n    startActivity(intent);\n} else {\n    Toast.makeText(this, &quot;Отсутствует разрешение на звонок с устройства&quot;, Toast.LENGTH_SHORT).show();\n\n    ActivityCompat.requestPermissions(this, new String[]{ Manifest.permission.CALL_PHONE }, 0);\n}\n</code></pre>\n<p>Add <strong>request result</strong>:</p>\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull @NotNull String[] permissions, @NonNull @NotNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 0) {\n        for (int result : grantResults) {\n            if (result != PackageManager.PERMISSION_GRANTED) {\n                //RETURN, PERMISSION NOT GRANTED\n\n                Toast.makeText(this, &quot;Вы не выдали разрешение, приложение может работать неккоректно!&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n        }\n\n        //PERMISSIONS GRANTED\n        Toast.makeText(this, &quot;Спасибо за выданное разрешение!&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24644993,"reputation":104,"user_id":18542740,"display_name":"Shyam Sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668431056,"creation_date":1668431056,"answer_id":74432104,"question_id":74429227,"body_markdown":"If your are looking to call the selected number then just use the following code.\r\n\r\n    Intent intentCallForward = new Intent(Intent.ACTION_DIAL); // ACTION_CALL\r\n            Uri uri2 = Uri.fromParts(&quot;tel&quot;, &quot;79142214017, &quot;#&quot;);\r\n            intentCallForward.setData(uri2);\r\n            startActivityForResult(intentCallForward, 101);","title":"call by phone number on button click (java)","body":"<p>If your are looking to call the selected number then just use the following code.</p>\n<pre><code>Intent intentCallForward = new Intent(Intent.ACTION_DIAL); // ACTION_CALL\n        Uri uri2 = Uri.fromParts(&quot;tel&quot;, &quot;79142214017, &quot;#&quot;);\n        intentCallForward.setData(uri2);\n        startActivityForResult(intentCallForward, 101);\n</code></pre>\n"}],"owner":{"account_id":26884422,"reputation":11,"user_id":20467834,"display_name":"shestakovski.erchim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668438018,"creation_date":1668417051,"question_id":74429227,"body_markdown":"I have a call method on button click\r\n```\r\nbutton_call=(Button) findViewById(R.id.button_call);\r\n\r\nbutton_call.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        Intent intent=new Intent(Intent.ACTION_DIAL);\r\n        intent.setData(Uri.parse(&quot;tel:+79142214017&quot;));\r\n        startActivity(intent);\r\n    }\r\n});\r\n```\r\nAnd the data transfer method in Firebase\r\n```\r\nprivate void validateClientInfo() {\r\n    if (TextUtils.isEmpty(client_edit.getText().toString())) {\r\n        Toast.makeText(this, &quot;Введите имя&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    if (TextUtils.isEmpty(client_number.getText().toString())){\r\n        Toast.makeText(this, &quot;Введите номер&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n    else {\r\n        HashMap&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\r\n        userMap.put(&quot;uid&quot;, mAuth.getCurrentUser().getUid());          \r\n                    userMap.put(&quot;numberphone_client&quot;,client_number.getText().toString());\r\n\r\n     clientRef.child(mAuth.getCurrentUser().getUid()).updateChildren(userMap);\r\n\r\n        startActivity(new Intent(ClientName.this,HomeActivity.class));\r\n    }\r\n}\r\n```\r\ntranscripts\r\n```\r\nclient_number=(EditText) findViewById(R.id.client_number);\r\nmAuth=FirebaseAuth.getInstance();\r\n```\r\n\r\n\r\n\r\nhow to make it so that when the call button is pressed, the number is received and called?\r\n\r\nI want that when the button _call button is pressed, the data transmitted by the transfer method is received and a call is made on them.","title":"call by phone number on button click (java)","body":"<p>I have a call method on button click</p>\n<pre><code>button_call=(Button) findViewById(R.id.button_call);\n\nbutton_call.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        Intent intent=new Intent(Intent.ACTION_DIAL);\n        intent.setData(Uri.parse(&quot;tel:+79142214017&quot;));\n        startActivity(intent);\n    }\n});\n</code></pre>\n<p>And the data transfer method in Firebase</p>\n<pre><code>private void validateClientInfo() {\n    if (TextUtils.isEmpty(client_edit.getText().toString())) {\n        Toast.makeText(this, &quot;Введите имя&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    if (TextUtils.isEmpty(client_number.getText().toString())){\n        Toast.makeText(this, &quot;Введите номер&quot;, Toast.LENGTH_SHORT).show();\n\n    }\n    else {\n        HashMap&lt;String, Object&gt; userMap = new HashMap&lt;&gt;();\n        userMap.put(&quot;uid&quot;, mAuth.getCurrentUser().getUid());          \n                    userMap.put(&quot;numberphone_client&quot;,client_number.getText().toString());\n\n     clientRef.child(mAuth.getCurrentUser().getUid()).updateChildren(userMap);\n\n        startActivity(new Intent(ClientName.this,HomeActivity.class));\n    }\n}\n</code></pre>\n<p>transcripts</p>\n<pre><code>client_number=(EditText) findViewById(R.id.client_number);\nmAuth=FirebaseAuth.getInstance();\n</code></pre>\n<p>how to make it so that when the call button is pressed, the number is received and called?</p>\n<p>I want that when the button _call button is pressed, the data transmitted by the transfer method is received and a call is made on them.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1668425046,"post_id":74429335,"comment_id":131393936,"body_markdown":"What is the exact node in this structure that you want to delete?","body":"What is the exact node in this structure that you want to delete?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668437934,"creation_date":1668437934,"answer_id":74433638,"question_id":74429335,"body_markdown":"To [delete a node](https://firebase.google.com/docs/database/android/read-and-write#delete_data) from the database you call `removeValue()` on a `DatabaseReference` to that node.\r\n\r\nSo you can create the entire `Chats` node with:\r\n\r\n```\r\nDatabaseReference root = FirebaseDatabase.getInstance().getReference();\r\nroot.child(&quot;Chats&quot;).removeValue();\r\n```\r\n\r\nTo delete a lower-level node, you can specify the entire path to that node:\r\n```\r\nroot.child(&quot;Chats/hI151.../messages&quot;).removeValue();\r\n```\r\n\r\nYou will need to know/specify the entire `hI151...` value in this code.","title":"How to delete the any particular chats from the chat application android firebase","body":"<p>To <a href=\"https://firebase.google.com/docs/database/android/read-and-write#delete_data\" rel=\"nofollow noreferrer\">delete a node</a> from the database you call <code>removeValue()</code> on a <code>DatabaseReference</code> to that node.</p>\n<p>So you can create the entire <code>Chats</code> node with:</p>\n<pre><code>DatabaseReference root = FirebaseDatabase.getInstance().getReference();\nroot.child(&quot;Chats&quot;).removeValue();\n</code></pre>\n<p>To delete a lower-level node, you can specify the entire path to that node:</p>\n<pre><code>root.child(&quot;Chats/hI151.../messages&quot;).removeValue();\n</code></pre>\n<p>You will need to know/specify the entire <code>hI151...</code> value in this code.</p>\n"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74433638,"answer_count":1,"score":1,"last_activity_date":1668437934,"creation_date":1668417550,"question_id":74429335,"body_markdown":"I am working on an application where i have implemented the chats in my application. So i want to know that how can i delete a whole chat like suppose I have sent a message to someone or someone sent a message to me so how can i delete that particular chat \r\n\r\nthis is the image \r\n\r\n[enter image description here][1]\r\n\r\n\r\nin the image above are tha chats with whom i have interacted. so if i want to delete any chat out of these how can i do that??\r\n\r\nthis is the my firebase data\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TsOFR.jpg\r\n  [2]: https://i.stack.imgur.com/NijtU.png","title":"How to delete the any particular chats from the chat application android firebase","body":"<p>I am working on an application where i have implemented the chats in my application. So i want to know that how can i delete a whole chat like suppose I have sent a message to someone or someone sent a message to me so how can i delete that particular chat</p>\n<p>this is the image</p>\n<p><a href=\"https://i.stack.imgur.com/TsOFR.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>in the image above are tha chats with whom i have interacted. so if i want to delete any chat out of these how can i do that??</p>\n<p>this is the my firebase data</p>\n<p><img src=\"https://i.stack.imgur.com/NijtU.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1668437911,"creation_date":1624089767,"answer_id":68044816,"question_id":68044517,"body_markdown":"You need to specify in the mapping that the column is not `nullable`:\r\n```java\r\n@JoinColumn(name = &quot;course_id&quot;, nullable = false)\r\n```","title":"Hibernate Unidirectional OneToMany Relationship with Not-null Constraint in Foreign Key","body":"<p>You need to specify in the mapping that the column is not <code>nullable</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JoinColumn(name = &quot;course_id&quot;, nullable = false)\n</code></pre>\n"}],"owner":{"account_id":17544601,"reputation":982,"user_id":12726150,"display_name":"fahmiduldul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2918,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":68044816,"answer_count":1,"score":9,"last_activity_date":1668437911,"creation_date":1624087007,"question_id":68044517,"body_markdown":"I have two tables like this\r\n\r\n[![tables schema][1]][1]\r\n\r\nat first, i try to set `course_id` foreign key in `review` table to have **not null constraint** for the sake of data integrity.\r\n\r\nSo i create annotated class like for these two table like below:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;course&quot;)\r\npublic class Course {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;course_id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;course_id&quot;)\r\n    private List&lt;Review&gt; reviews;\r\n\r\n    public Course(){}\r\n\r\n    public Course(String name){\r\n        this.name = name;\r\n    }\r\n\r\n    public void addReview(Review review){\r\n        if(this.reviews == null){\r\n            this.reviews = new ArrayList&lt;&gt;();\r\n        }\r\n        this.reviews.add(review);\r\n    }\r\n}\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;review&quot;)\r\npublic class Review {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;review_id&quot;)\r\n    private int reviewId;\r\n\r\n    @Column(name = &quot;rating&quot;)\r\n    private int rating;\r\n\r\n    public Review(){}\r\n\r\n    public Review(int rating){\r\n        this.rating = rating;\r\n    }\r\n}\r\n```\r\nand i create simple app to add review to an exsiting course like code below:\r\n```\r\nsession.beginTransaction();\r\n\r\n// get instructor from db\r\nCourse course = session.get(Course.class, 3);\r\n\r\n// create review\r\nReview review1 = new Review(4);\r\n\r\ncourse.addReview(review1);\r\n\r\n// save to db\r\nsession.save(course);\r\n\r\nsession.getTransaction().commit();\r\n```\r\nbut this program will throw an error because it violates **not null constraint** i set in database before\r\n&gt;Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;course_id&quot; violates not-null constraint\r\n\r\nbut if remove the **not null constraint** this program works fine because hibernate will execute insert with null value first than update the value like below:\r\n```\r\nHibernate: insert into review (rating) values (?)\r\nHibernate: update review set course_id=? where review_id=?\r\n```\r\n\r\nis there a way for hibernate to insert directly with course_id value so i can keep the **not null constraint**?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ENEyq.png","title":"Hibernate Unidirectional OneToMany Relationship with Not-null Constraint in Foreign Key","body":"<p>I have two tables like this</p>\n<p><a href=\"https://i.stack.imgur.com/ENEyq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ENEyq.png\" alt=\"tables schema\" /></a></p>\n<p>at first, i try to set <code>course_id</code> foreign key in <code>review</code> table to have <strong>not null constraint</strong> for the sake of data integrity.</p>\n<p>So i create annotated class like for these two table like below:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;course&quot;)\npublic class Course {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;course_id&quot;)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;course_id&quot;)\n    private List&lt;Review&gt; reviews;\n\n    public Course(){}\n\n    public Course(String name){\n        this.name = name;\n    }\n\n    public void addReview(Review review){\n        if(this.reviews == null){\n            this.reviews = new ArrayList&lt;&gt;();\n        }\n        this.reviews.add(review);\n    }\n}\n\n@Data\n@Entity\n@Table(name = &quot;review&quot;)\npublic class Review {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;review_id&quot;)\n    private int reviewId;\n\n    @Column(name = &quot;rating&quot;)\n    private int rating;\n\n    public Review(){}\n\n    public Review(int rating){\n        this.rating = rating;\n    }\n}\n</code></pre>\n<p>and i create simple app to add review to an exsiting course like code below:</p>\n<pre><code>session.beginTransaction();\n\n// get instructor from db\nCourse course = session.get(Course.class, 3);\n\n// create review\nReview review1 = new Review(4);\n\ncourse.addReview(review1);\n\n// save to db\nsession.save(course);\n\nsession.getTransaction().commit();\n</code></pre>\n<p>but this program will throw an error because it violates <strong>not null constraint</strong> i set in database before</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;course_id&quot; violates not-null constraint</p>\n</blockquote>\n<p>but if remove the <strong>not null constraint</strong> this program works fine because hibernate will execute insert with null value first than update the value like below:</p>\n<pre><code>Hibernate: insert into review (rating) values (?)\nHibernate: update review set course_id=? where review_id=?\n</code></pre>\n<p>is there a way for hibernate to insert directly with course_id value so i can keep the <strong>not null constraint</strong>?</p>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1668437707,"post_id":74433539,"comment_id":131398329,"body_markdown":"Yes: you&#39;re performing a reference-identity `==` check on two `Long` values. Use `.equals` instead and it should be fine.","body":"Yes: you&#39;re performing a reference-identity <code>==</code> check on two <code>Long</code> values. Use <code>.equals</code> instead and it should be fine."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1668437746,"post_id":74433539,"comment_id":131398347,"body_markdown":"(Note that your title makes an assertion which really isn&#39;t supported by your code...)","body":"(Note that your title makes an assertion which really isn&#39;t supported by your code...)"},{"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"score":0,"creation_date":1668437852,"post_id":74433539,"comment_id":131398389,"body_markdown":"@JonSkeet - why it works for 101 though? :)","body":"@JonSkeet - why it works for 101 though? :)"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":4,"creation_date":1668437977,"post_id":74433539,"comment_id":131398428,"body_markdown":"@BJagger Because of integer cache, see https://stackoverflow.com/questions/3131136/integers-caching-in-java","body":"@BJagger Because of integer cache, see <a href=\"https://stackoverflow.com/questions/3131136/integers-caching-in-java\" title=\"integers caching in java\">stackoverflow.com/questions/3131136/integers-caching-in-java</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668438157,"post_id":74433539,"comment_id":131398500,"body_markdown":"Try `IntStream.range(0, 200)` with the same stream operations to see more about the above.","body":"Try <code>IntStream.range(0, 200)</code> with the same stream operations to see more about the above."}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668437720,"creation_date":1668437518,"question_id":74433539,"body_markdown":"I am making this kata: https://www.codewars.com/kata/55de8eabd9bef5205e0000ba/train/java and one of the parts is to check that the prime digit will not be assessed as &quot;emirp&quot; if it is palindrome, I wanted to do that using SrtingBuilder reverse method:\r\n```\r\npublic static Long reverseDigits(Long pNum) {\r\n      return Long.parseLong(new StringBuilder(String.valueOf(pNum)).reverse().toString());\r\n    }\r\n```\r\nBut I got somewhat strange results; upon calling:\r\n```\r\nSet&lt;Long&gt; primes = possiblePrimesUnderBound(upperBound(n));\r\nparseSolution(\r\n        primes.stream()\r\n          .filter(elem -&gt; primes.contains(reverseDigits(elem)))\r\n          .filter(elem -&gt; elem &lt; n)\r\n          // important part start\r\n          .peek(elem -&gt; System.out.println(&quot;before checking for palindromes: &quot; + elem))\r\n          .filter(elem -&gt; elem != reverseDigits(elem))\r\n          .peek(elem -&gt; System.out.println(&quot;after checking for palindromes: &quot; + elem))\r\n          // important part end\r\n          .collect(Collectors.toList())\r\n      );\r\n```\r\n\r\nI receive: \r\n\r\n```\r\nbefore checking for palindromes: 13\r\nafter checking for palindromes: 13\r\nbefore checking for palindromes: 17\r\nafter checking for palindromes: 17\r\nbefore checking for palindromes: 31\r\nafter checking for palindromes: 31\r\nbefore checking for palindromes: 37\r\nafter checking for palindromes: 37\r\nbefore checking for palindromes: 71\r\nafter checking for palindromes: 71\r\nbefore checking for palindromes: 73\r\nafter checking for palindromes: 73\r\nbefore checking for palindromes: 79\r\nafter checking for palindromes: 79\r\nbefore checking for palindromes: 97\r\nafter checking for palindromes: 97\r\nbefore checking for palindromes: 101 // check passes\r\nbefore checking for palindromes: 107\r\nafter checking for palindromes: 107\r\nbefore checking for palindromes: 113\r\nafter checking for palindromes: 113\r\nbefore checking for palindromes: 131 // check fails\r\nafter checking for palindromes: 131\r\nbefore checking for palindromes: 149\r\nafter checking for palindromes: 149\r\nbefore checking for palindromes: 151 // check fails\r\nafter checking for palindromes: 151\r\nbefore checking for palindromes: 157\r\nafter checking for palindromes: 157\r\nbefore checking for palindromes: 167\r\nafter checking for palindromes: 167\r\nbefore checking for palindromes: 179\r\nafter checking for palindromes: 179\r\nbefore checking for palindromes: 181 // check fails\r\nafter checking for palindromes: 181\r\nbefore checking for palindromes: 191 // check fails\r\nafter checking for palindromes: 191\r\nbefore checking for palindromes: 199\r\nafter checking for palindromes: 199\r\n```\r\n\r\nFor numbers below 200: notice that my check works for `101` but doesn&#39;t work for `131`, `151`, `181`, and `191`, Does anyone have a clue where I am making mistake? ","title":"StringBuilder.reverse() gives inconsistent results when checking for palindrom numbers","body":"<p>I am making this kata: <a href=\"https://www.codewars.com/kata/55de8eabd9bef5205e0000ba/train/java\" rel=\"nofollow noreferrer\">https://www.codewars.com/kata/55de8eabd9bef5205e0000ba/train/java</a> and one of the parts is to check that the prime digit will not be assessed as &quot;emirp&quot; if it is palindrome, I wanted to do that using SrtingBuilder reverse method:</p>\n<pre><code>public static Long reverseDigits(Long pNum) {\n      return Long.parseLong(new StringBuilder(String.valueOf(pNum)).reverse().toString());\n    }\n</code></pre>\n<p>But I got somewhat strange results; upon calling:</p>\n<pre><code>Set&lt;Long&gt; primes = possiblePrimesUnderBound(upperBound(n));\nparseSolution(\n        primes.stream()\n          .filter(elem -&gt; primes.contains(reverseDigits(elem)))\n          .filter(elem -&gt; elem &lt; n)\n          // important part start\n          .peek(elem -&gt; System.out.println(&quot;before checking for palindromes: &quot; + elem))\n          .filter(elem -&gt; elem != reverseDigits(elem))\n          .peek(elem -&gt; System.out.println(&quot;after checking for palindromes: &quot; + elem))\n          // important part end\n          .collect(Collectors.toList())\n      );\n</code></pre>\n<p>I receive:</p>\n<pre><code>before checking for palindromes: 13\nafter checking for palindromes: 13\nbefore checking for palindromes: 17\nafter checking for palindromes: 17\nbefore checking for palindromes: 31\nafter checking for palindromes: 31\nbefore checking for palindromes: 37\nafter checking for palindromes: 37\nbefore checking for palindromes: 71\nafter checking for palindromes: 71\nbefore checking for palindromes: 73\nafter checking for palindromes: 73\nbefore checking for palindromes: 79\nafter checking for palindromes: 79\nbefore checking for palindromes: 97\nafter checking for palindromes: 97\nbefore checking for palindromes: 101 // check passes\nbefore checking for palindromes: 107\nafter checking for palindromes: 107\nbefore checking for palindromes: 113\nafter checking for palindromes: 113\nbefore checking for palindromes: 131 // check fails\nafter checking for palindromes: 131\nbefore checking for palindromes: 149\nafter checking for palindromes: 149\nbefore checking for palindromes: 151 // check fails\nafter checking for palindromes: 151\nbefore checking for palindromes: 157\nafter checking for palindromes: 157\nbefore checking for palindromes: 167\nafter checking for palindromes: 167\nbefore checking for palindromes: 179\nafter checking for palindromes: 179\nbefore checking for palindromes: 181 // check fails\nafter checking for palindromes: 181\nbefore checking for palindromes: 191 // check fails\nafter checking for palindromes: 191\nbefore checking for palindromes: 199\nafter checking for palindromes: 199\n</code></pre>\n<p>For numbers below 200: notice that my check works for <code>101</code> but doesn't work for <code>131</code>, <code>151</code>, <code>181</code>, and <code>191</code>, Does anyone have a clue where I am making mistake?</p>\n"},{"tags":["java","for-loop","methods","while-loop"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1668437219,"post_id":74433437,"comment_id":131398133,"body_markdown":"In option 1 you stop looping as soon as you encounter a number that isn&#39;t odd, solution: Do not put the isOdd condition as your loop condition. Your loop condition is only running from 1 to 100 and nothing else. And in option 2 you loop from 1 to 100, call the isOdd method and do nothing with the result and just ignore it and then after the loop is done you print i, which will be 100. Option 2 is logically just completly wrong and currently equivalent to just printing 100. You need to print inside the loop and make printing conditional on the return value of your isOdd method call.","body":"In option 1 you stop looping as soon as you encounter a number that isn&#39;t odd, solution: Do not put the isOdd condition as your loop condition. Your loop condition is only running from 1 to 100 and nothing else. And in option 2 you loop from 1 to 100, call the isOdd method and do nothing with the result and just ignore it and then after the loop is done you print i, which will be 100. Option 2 is logically just completly wrong and currently equivalent to just printing 100. You need to print inside the loop and make printing conditional on the return value of your isOdd method call."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668437353,"post_id":74433437,"comment_id":131398186,"body_markdown":"Instead of `boolean d;\n        d = c % 2 != 0;\n        return d;` you can write `return c % 2 != 0;`","body":"Instead of <code>boolean d;         d = c % 2 != 0;         return d;</code> you can write <code>return c % 2 != 0;</code>"}],"answers":[{"tags":[],"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668437545,"creation_date":1668437545,"answer_id":74433544,"question_id":74433437,"body_markdown":"&gt; I&#39;m guessing that I have to use either a for- or while-loop (probably can be done with both?)\r\n\r\nYes. `for`-loops are just syntactic sugar for special `while`-loops:\r\n\r\n```java\r\nfor (init_stmt; cond; incr_stmt) body_stmt;\r\n```\r\n\r\nis equivalent to\r\n```java\r\ninit_stmt;\r\nwhile (cond) {\r\n    body_stmt;\r\n    incr_stmt;\r\n}\r\n```\r\n\r\nLet&#39;s first write this using a `for`-loop.\r\n\r\n### `for`-loop\r\n\r\n```java\r\nfor (int i = 1; i &lt; 100; i++)\r\n    if (isOdd(i))\r\n        System.out.println(i)\r\n```\r\n\r\nNote that we can (and should!) do the *declaration* of `i` as `int` in the `for`-loop initializer.\r\n\r\nNow, we may translate this to an equivalent `while`-loop:\r\n\r\n### `while`-loop\r\n\r\n```java\r\nint i = 1;\r\nwhile (i &lt; 100) {\r\n    if (isOdd(i))\r\n        System.out.println(i);\r\n    i++;\r\n}\r\n```\r\n\r\n### Mistakes in your attempts\r\n\r\n#### Attempt 1\r\n\r\nYou&#39;ve mistakenly included the check in the condition (rather than using it in an `if` inside the loop body); the first even number (`2`) will cause the loop to terminate.\r\n\r\n#### Attempt 2\r\n\r\nYou&#39;re not even using the return value of `isOdd` here. You&#39;re unconditionally printing `i` *after* the loop has terminated, which will always be `100`.\r\n\r\n\r\n### The ideal implementation\r\n\r\nIdeally, you&#39;d not be filtering the numbers; you&#39;d directly be incrementing by 2 to get to the next number. The following loop does the job:\r\n\r\n```java\r\nfor (int i = 1; i &lt; 100; i += 2)\r\n    System.out.println(i);\r\n```","title":"Method to print odd numbers between 1 and 100","body":"<blockquote>\n<p>I'm guessing that I have to use either a for- or while-loop (probably can be done with both?)</p>\n</blockquote>\n<p>Yes. <code>for</code>-loops are just syntactic sugar for special <code>while</code>-loops:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (init_stmt; cond; incr_stmt) body_stmt;\n</code></pre>\n<p>is equivalent to</p>\n<pre class=\"lang-java prettyprint-override\"><code>init_stmt;\nwhile (cond) {\n    body_stmt;\n    incr_stmt;\n}\n</code></pre>\n<p>Let's first write this using a <code>for</code>-loop.</p>\n<h3><code>for</code>-loop</h3>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt; 100; i++)\n    if (isOdd(i))\n        System.out.println(i)\n</code></pre>\n<p>Note that we can (and should!) do the <em>declaration</em> of <code>i</code> as <code>int</code> in the <code>for</code>-loop initializer.</p>\n<p>Now, we may translate this to an equivalent <code>while</code>-loop:</p>\n<h3><code>while</code>-loop</h3>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\nwhile (i &lt; 100) {\n    if (isOdd(i))\n        System.out.println(i);\n    i++;\n}\n</code></pre>\n<h3>Mistakes in your attempts</h3>\n<h4>Attempt 1</h4>\n<p>You've mistakenly included the check in the condition (rather than using it in an <code>if</code> inside the loop body); the first even number (<code>2</code>) will cause the loop to terminate.</p>\n<h4>Attempt 2</h4>\n<p>You're not even using the return value of <code>isOdd</code> here. You're unconditionally printing <code>i</code> <em>after</em> the loop has terminated, which will always be <code>100</code>.</p>\n<h3>The ideal implementation</h3>\n<p>Ideally, you'd not be filtering the numbers; you'd directly be incrementing by 2 to get to the next number. The following loop does the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt; 100; i += 2)\n    System.out.println(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668437566,"creation_date":1668437566,"answer_id":74433546,"question_id":74433437,"body_markdown":"Your attempt #1 is closer to your goal ;) \r\n\r\n * you are right that you can use `while` and `for` (and probably other kinds of processing multiple numbers, but that just for the sake of completeness, forget it for now)\r\n * your `println` (or `print`) should be within the loop because you want to print more than just one number.\r\n * in you current attempt #1 you end your loop with the first odd number: 1 This doesn&#39;t count up very far ;)\r\n\r\nSo you have to use an `if` inside your loop where you check the result of `isOdd(number)` and only print if it&#39;s odd.\r\nBut the loop has only the upper bound limit as condition (`number &lt; 100`) as you want to check all the numbers.\r\n\r\nSmartass hint (try it only after your program works fine): if you count up by 2 instead by 1 (`number = number + 2;`), your program will only need half the time - and you could even skip the `isOdd` check ;-)","title":"Method to print odd numbers between 1 and 100","body":"<p>Your attempt #1 is closer to your goal ;)</p>\n<ul>\n<li>you are right that you can use <code>while</code> and <code>for</code> (and probably other kinds of processing multiple numbers, but that just for the sake of completeness, forget it for now)</li>\n<li>your <code>println</code> (or <code>print</code>) should be within the loop because you want to print more than just one number.</li>\n<li>in you current attempt #1 you end your loop with the first odd number: 1 This doesn't count up very far ;)</li>\n</ul>\n<p>So you have to use an <code>if</code> inside your loop where you check the result of <code>isOdd(number)</code> and only print if it's odd.\nBut the loop has only the upper bound limit as condition (<code>number &lt; 100</code>) as you want to check all the numbers.</p>\n<p>Smartass hint (try it only after your program works fine): if you count up by 2 instead by 1 (<code>number = number + 2;</code>), your program will only need half the time - and you could even skip the <code>isOdd</code> check ;-)</p>\n"}],"owner":{"account_id":26798568,"reputation":37,"user_id":20390902,"display_name":"laryberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74433544,"answer_count":2,"score":-1,"last_activity_date":1668437713,"creation_date":1668437024,"question_id":74433437,"body_markdown":"I have to write a method that returns/prints the odd numbers between 1 and 100, but I have to use another method, which checks whether a given integer is odd or not:\r\n\r\n    static boolean isOdd(int c) {\r\n        boolean d;\r\n        d = c % 2 != 0;\r\n        return d;\r\n    }\r\n\r\nI&#39;m guessing that I have to use either a for- or while-loop (probably can be done with both?), but I think what I&#39;m really struggling with is &quot;connecting&quot; both methods. So the numbers actually run through isOdd() which determines whether they are odd. \r\n\r\nI&#39;ve tried these two options so far, but they&#39;re not working.\r\nOption 1: \r\n\r\n\r\n    static void func1() {\r\n        int number = 1;\r\n        while (number &lt; 100 &amp;&amp; isOdd(number)) {\r\n            System.out.println(number);\r\n            number = number + 1;\r\n        }\r\n    }\r\n\r\n\r\nOption 2: \r\n\r\n    static void func1() {\r\n        int i;\r\n        for (i = 1; i &lt; 100; i++) {\r\n            isOdd(i);\r\n        }\r\n        System.out.println(i);\r\n    }","title":"Method to print odd numbers between 1 and 100","body":"<p>I have to write a method that returns/prints the odd numbers between 1 and 100, but I have to use another method, which checks whether a given integer is odd or not:</p>\n<pre><code>static boolean isOdd(int c) {\n    boolean d;\n    d = c % 2 != 0;\n    return d;\n}\n</code></pre>\n<p>I'm guessing that I have to use either a for- or while-loop (probably can be done with both?), but I think what I'm really struggling with is &quot;connecting&quot; both methods. So the numbers actually run through isOdd() which determines whether they are odd.</p>\n<p>I've tried these two options so far, but they're not working.\nOption 1:</p>\n<pre><code>static void func1() {\n    int number = 1;\n    while (number &lt; 100 &amp;&amp; isOdd(number)) {\n        System.out.println(number);\n        number = number + 1;\n    }\n}\n</code></pre>\n<p>Option 2:</p>\n<pre><code>static void func1() {\n    int i;\n    for (i = 1; i &lt; 100; i++) {\n        isOdd(i);\n    }\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":["java","powershell","jenkins"],"comments":[{"owner":{"account_id":10259402,"reputation":25928,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1668435309,"post_id":74432663,"comment_id":131397400,"body_markdown":"This works for me to redirect Java output to a file: `java @javaArgs *&gt;&amp;1 | ForEach-Object { &quot;$_&quot; } | Tee-Object &quot;$PSScriptRoot\\AgentLog.txt&quot; -Append`. I don&#39;t think the `ForEach-Object` and `Tee-Object` commands are really necessary, it really should work like `java ... *&gt;&amp;1 &gt; output.txt` as well. Did you literally include the double quotation marks? These must be omitted!","body":"This works for me to redirect Java output to a file: <code>java @javaArgs *&gt;&amp;1 | ForEach-Object { &quot;$_&quot; } | Tee-Object &quot;$PSScriptRoot\\AgentLog.txt&quot; -Append</code>. I don&#39;t think the <code>ForEach-Object</code> and <code>Tee-Object</code> commands are really necessary, it really should work like <code>java ... *&gt;&amp;1 &gt; output.txt</code> as well. Did you literally include the double quotation marks? These must be omitted!"},{"owner":{"account_id":10259402,"reputation":25928,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1668435441,"post_id":74432663,"comment_id":131397452,"body_markdown":"My `$javaArgs` basically contains the same parameters as in your sample, except that I&#39;m passing only absolute paths for `-jar` and `-workDir`.","body":"My <code>$javaArgs</code> basically contains the same parameters as in your sample, except that I&#39;m passing only absolute paths for <code>-jar</code> and <code>-workDir</code>."},{"owner":{"account_id":5524192,"reputation":805,"user_id":8165583,"display_name":"Batchen Regev"},"score":0,"creation_date":1668435811,"post_id":74432663,"comment_id":131397590,"body_markdown":"@zett42 If i run the start-agent.ps with the output `*&gt;&amp;1 &gt; output.txt` it works but if the other ps script of creating the job running the script of start-agent the redirect doesn&#39;t work, i think it something to do with that but i dont understand what","body":"@zett42 If i run the start-agent.ps with the output <code>*&gt;&amp;1 &gt; output.txt</code> it works but if the other ps script of creating the job running the script of start-agent the redirect doesn&#39;t work, i think it something to do with that but i dont understand what"},{"owner":{"account_id":10259402,"reputation":25928,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":1,"creation_date":1668436025,"post_id":74432663,"comment_id":131397665,"body_markdown":"Could you try to create a simple example that I can copy-paste to reproduce the issue?","body":"Could you try to create a simple example that I can copy-paste to reproduce the issue?"},{"owner":{"account_id":5524192,"reputation":805,"user_id":8165583,"display_name":"Batchen Regev"},"score":0,"creation_date":1668436346,"post_id":74432663,"comment_id":131397767,"body_markdown":"create a ps script that creates a job: `$trigger = New-JobTrigger -AtStartup -RandomDelay 00:00:30\nRegister-ScheduledJob -Trigger $trigger -FilePath start_agent.ps1 -Name MyJob\n`  and create a java command in the start_agent.ps1 with output redirect in the end, if the create job is runing the script no redirect file is created, this specific start-agent is a jenkins jave command so i cannot give you the full script as it wont work for you","body":"create a ps script that creates a job: <code>$trigger = New-JobTrigger -AtStartup -RandomDelay 00:00:30 Register-ScheduledJob -Trigger $trigger -FilePath start_agent.ps1 -Name MyJob </code>  and create a java command in the start_agent.ps1 with output redirect in the end, if the create job is runing the script no redirect file is created, this specific start-agent is a jenkins jave command so i cannot give you the full script as it wont work for you"},{"owner":{"account_id":5524192,"reputation":805,"user_id":8165583,"display_name":"Batchen Regev"},"score":0,"creation_date":1668436474,"post_id":74432663,"comment_id":131397825,"body_markdown":"The job is triggerd to be created after windows vm restart","body":"The job is triggerd to be created after windows vm restart"},{"owner":{"account_id":10259402,"reputation":25928,"user_id":7571258,"accept_rate":62,"display_name":"zett42"},"score":0,"creation_date":1668445624,"post_id":74432663,"comment_id":131401372,"body_markdown":"Sorry, can&#39;t even get the job to run successfully this way. Does it work with a manually created job? Make sure to use absolute path for the log file, e. g. `$PSScriptRoot\\AgentLog.txt`.","body":"Sorry, can&#39;t even get the job to run successfully this way. Does it work with a manually created job? Make sure to use absolute path for the log file, e. g. <code>$PSScriptRoot\\AgentLog.txt</code>."}],"owner":{"account_id":5524192,"reputation":805,"user_id":8165583,"display_name":"Batchen Regev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668437686,"creation_date":1668433658,"question_id":74432663,"body_markdown":"I have Jenkins master on Ubuntu host in docker containers, connected to it is a windows slave that i run Jenkins on it using a PowerShell script that launch the agent:\r\n\r\n    java -jar agent.jar -jnlpUrl http://XX.XX.XX..../jenkins-agent.jnlp -secret XXX... -workDir &quot;/jenkins&quot; \r\n\r\nwe start the launch agent script using this script that creates the job:\r\n\r\n    $trigger = New-JobTrigger -AtStartup -RandomDelay 00:00:30\r\n    Register-ScheduledJob -Trigger $trigger -FilePath start_agent.ps1 -Name MyJob\r\n\r\nmy issues is:\r\n1. when i go to the master UI and go to the slave node - i press on &quot;logs&quot; but it doesn&#39;t show anything, it just loads forever with 3 dots loading \r\n\r\n2. I tried to redirect logs using `*&gt;&amp;1 &gt; output.txt` at the end of the `java -jar` command but it doesn&#39;t work. and I haven&#39;t found any java jar argument that works in redirecting the output have tried -XX file path , couldn&#39;t find the Log4j file\r\n\r\ni have a directory in the windows jenkins path named &quot;remoting&quot; and it has logs but it only have restart logs and not live logs\\error logs and i need it.\r\n\r\nThanks.\r\n\r\n","title":"Jenkins slave on windows doesn&#39;t show logs","body":"<p>I have Jenkins master on Ubuntu host in docker containers, connected to it is a windows slave that i run Jenkins on it using a PowerShell script that launch the agent:</p>\n<pre><code>java -jar agent.jar -jnlpUrl http://XX.XX.XX..../jenkins-agent.jnlp -secret XXX... -workDir &quot;/jenkins&quot; \n</code></pre>\n<p>we start the launch agent script using this script that creates the job:</p>\n<pre><code>$trigger = New-JobTrigger -AtStartup -RandomDelay 00:00:30\nRegister-ScheduledJob -Trigger $trigger -FilePath start_agent.ps1 -Name MyJob\n</code></pre>\n<p>my issues is:</p>\n<ol>\n<li><p>when i go to the master UI and go to the slave node - i press on &quot;logs&quot; but it doesn't show anything, it just loads forever with 3 dots loading</p>\n</li>\n<li><p>I tried to redirect logs using <code>*&gt;&amp;1 &gt; output.txt</code> at the end of the <code>java -jar</code> command but it doesn't work. and I haven't found any java jar argument that works in redirecting the output have tried -XX file path , couldn't find the Log4j file</p>\n</li>\n</ol>\n<p>i have a directory in the windows jenkins path named &quot;remoting&quot; and it has logs but it only have restart logs and not live logs\\error logs and i need it.</p>\n<p>Thanks.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668437166,"creation_date":1668437166,"answer_id":74433465,"question_id":74416518,"body_markdown":"I found the the cause.\r\n\r\nI had to put log libraries on the classpath in order to work to log, the default java logging was not enough to work, I do not know why.\r\n\r\nI put this in my pom file:\r\n\r\n    &lt;!-- logging --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Apache Camel reading file from aws S3","body":"<p>I found the the cause.</p>\n<p>I had to put log libraries on the classpath in order to work to log, the default java logging was not enough to work, I do not know why.</p>\n<p>I put this in my pom file:</p>\n<pre><code>&lt;!-- logging --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;${log4j2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;${log4j2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n  &lt;version&gt;${log4j2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4419164,"reputation":1149,"user_id":3599758,"accept_rate":71,"display_name":"javaTry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74433465,"answer_count":1,"score":0,"last_activity_date":1668437166,"creation_date":1668286553,"question_id":74416518,"body_markdown":"I am trying to read a csv file from AWS S3 and print on console, but it is not working.\r\n\r\n    public class Example {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        var camelContext = new DefaultCamelContext();\r\n    \r\n        camelContext.addRoutes(new MainRoute());\r\n        camelContext.start();\r\n        Thread.sleep(10_000);\r\n        camelContext.stop();\r\n      }\r\n    }\r\n\r\n\r\n    public class MainRoute extends RouteBuilder {\r\n    \r\n      @Override\r\n      public void configure() {\r\n        var s3Url = String.format(\r\n            &quot;aws2-s3://mybucket.com?&quot;\r\n                + &quot;prefix=etl/hello.csv&amp;useDefaultCredentialsProvider=true&amp;deleteAfterRead=false&amp;maxMessagesPerPoll=1&quot;);\r\n    \r\n        System.out.println(&quot;start route&quot;);\r\n        from(s3Url).marshal().csv().log(&quot;log message&quot;).end();\r\n    \r\n        System.out.println(&quot;finish route&quot;);\r\n      }\r\n    }\r\n\r\nI tried using marshal().csv()\r\n\r\nI tried using only: *from(s3Url).log(&quot;log message&quot;).end();*\r\n\r\nOnly &quot;start route&quot; and &quot;finish route&quot; is printed, &quot;log message&quot; is never printed.\r\n\r\n**Versions:**\r\n\r\nApache camel: 3.19.0, Java:17\r\n\r\n**CSV content:**\r\n\r\n    Name,age\r\n    myName,31\r\n\r\n\r\nWhat should I do in order to read the csv content and print in console?\r\n","title":"Apache Camel reading file from aws S3","body":"<p>I am trying to read a csv file from AWS S3 and print on console, but it is not working.</p>\n<pre><code>public class Example {\n\n  public static void main(String[] args) throws Exception {\n    var camelContext = new DefaultCamelContext();\n\n    camelContext.addRoutes(new MainRoute());\n    camelContext.start();\n    Thread.sleep(10_000);\n    camelContext.stop();\n  }\n}\n\n\npublic class MainRoute extends RouteBuilder {\n\n  @Override\n  public void configure() {\n    var s3Url = String.format(\n        &quot;aws2-s3://mybucket.com?&quot;\n            + &quot;prefix=etl/hello.csv&amp;useDefaultCredentialsProvider=true&amp;deleteAfterRead=false&amp;maxMessagesPerPoll=1&quot;);\n\n    System.out.println(&quot;start route&quot;);\n    from(s3Url).marshal().csv().log(&quot;log message&quot;).end();\n\n    System.out.println(&quot;finish route&quot;);\n  }\n}\n</code></pre>\n<p>I tried using marshal().csv()</p>\n<p>I tried using only: <em>from(s3Url).log(&quot;log message&quot;).end();</em></p>\n<p>Only &quot;start route&quot; and &quot;finish route&quot; is printed, &quot;log message&quot; is never printed.</p>\n<p><strong>Versions:</strong></p>\n<p>Apache camel: 3.19.0, Java:17</p>\n<p><strong>CSV content:</strong></p>\n<pre><code>Name,age\nmyName,31\n</code></pre>\n<p>What should I do in order to read the csv content and print in console?</p>\n"},{"tags":["java","java-time","localdatetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1668419342,"post_id":74429550,"comment_id":131392115,"body_markdown":"`myZDT.of(dateTimeL, zonaID)` is calling a static method as if it&#39;s an instance method. I&#39;d strongly avoid doing that - it&#39;s really confusing.","body":"<code>myZDT.of(dateTimeL, zonaID)</code> is calling a static method as if it&#39;s an instance method. I&#39;d strongly avoid doing that - it&#39;s really confusing."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1668421671,"post_id":74429550,"comment_id":131392839,"body_markdown":"The answers you already got are correct answers. Your main problem was that you assumed that string &quot;2022-11-22T17:15:00&quot; is UTC, but in the string itself there is no such indication. in other words it is a LocalDateTime. If you know that it is meant to be UTC, you first need to create ZonedDateTime from LocalDateTime you have with UTC ZoneId, and than convert it to your zoneID &quot;America/Tijuana&quot;","body":"The answers you already got are correct answers. Your main problem was that you assumed that string &quot;2022-11-22T17:15:00&quot; is UTC, but in the string itself there is no such indication. in other words it is a LocalDateTime. If you know that it is meant to be UTC, you first need to create ZonedDateTime from LocalDateTime you have with UTC ZoneId, and than convert it to your zoneID &quot;America/Tijuana&quot;"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668425567,"post_id":74429550,"comment_id":131394093,"body_markdown":"I would use `dateTimeL.atOffset(ZoneOffset.UTC).atZoneSameInstant(zonaID);`. Gives `using toString: 2022-11-22T09:15-08:00[America/Tijuana]`.","body":"I would use <code>dateTimeL.atOffset(ZoneOffset.UTC).atZoneSameInstant(zonaID)&zwnj;&#8203;;</code>. Gives <code>using toString: 2022-11-22T09:15-08:00[America&#47;Tijuana]</code>."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668437068,"post_id":74429550,"comment_id":131398059,"body_markdown":"@OleV.V. Thanks for mentioning `dateTimeL.atOffset`. My original answer was using `dateTimeL.atZone` with `ZoneOffset.UTC` but I realized that it&#39;s more appropriate to get an `OffsetDateTime` if we use `ZoneOffset.UTC` which refers to a `ZoneOffset` rather than a `ZoneId`. Now, I&#39;ve updated my answer to use your approach.","body":"@OleV.V. Thanks for mentioning <code>dateTimeL.atOffset</code>. My original answer was using <code>dateTimeL.atZone</code> with <code>ZoneOffset.UTC</code> but I realized that it&#39;s more appropriate to get an <code>OffsetDateTime</code> if we use <code>ZoneOffset.UTC</code> which refers to a <code>ZoneOffset</code> rather than a <code>ZoneId</code>. Now, I&#39;ve updated my answer to use your approach."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668421628,"creation_date":1668419182,"answer_id":74429653,"question_id":74429550,"body_markdown":"You have to convert your date to UTC, then convert the convert this zone to your expected zone using `withZoneSameInstant` like this:\r\n\r\n    ZonedDateTime toUTCZone  = ZonedDateTime.of(dateTimeL, ZoneOffset.UTC);\r\n    ZonedDateTime myZDTFinal = toUTCZone.withZoneSameInstant(zonaID);\r\n\r\n**Output**\r\n\r\n    2022-11-22T09:15-08:00[America/Tijuana]","title":"Convert UTC datetime to local datetime using java.time","body":"<p>You have to convert your date to UTC, then convert the convert this zone to your expected zone using <code>withZoneSameInstant</code> like this:</p>\n<pre><code>ZonedDateTime toUTCZone  = ZonedDateTime.of(dateTimeL, ZoneOffset.UTC);\nZonedDateTime myZDTFinal = toUTCZone.withZoneSameInstant(zonaID);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>2022-11-22T09:15-08:00[America/Tijuana]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668436804,"creation_date":1668420873,"answer_id":74430001,"question_id":74429550,"body_markdown":"There can be many ways to achieve the result. A simple approach would be\r\n\r\n 1. Parse the given string into `LocalDateTime`.\r\n 2. Convert it into an `OffsetDateTime` at UTC using [`LocalDateTime#atOffset`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#atOffset-java.time.ZoneOffset-).\r\n 3. Use [`OffsetDateTime#atZoneSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#atZoneSameInstant-java.time.ZoneId-) to convert the resulting `OffsetDateTime` into a `ZonedDateTime` at `ZoneId.of(&quot;America/Tijuana&quot;)`.\r\n 4. Get `LocalDateTime` out of the resulting `ZonedDateTime` by using  [`ZonedDateTime#toLocalDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toLocalDateTime--).\r\n 5. If required, format this `LocalDateTime` into the desired string.\r\n\r\n```\r\nLocalDateTime\r\n    .parse(&quot;2022-11-22T17:15:00&quot;) // Parse the given date-time string into LocalDateTime\r\n    .atOffset(ZoneOffset.UTC) // Convert it into a ZonedDateTime at UTC\r\n    .atZoneSameInstant(ZoneId.of(&quot;America/Tijuana&quot;)) // Convert the result into a ZonedDateTime at another time-zome\r\n    .toLocalDateTime() // Get the LocalDateTime out of the ZonedDateTime\r\n    .format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;, Locale.ENGLISH))); // If required\r\n```\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            LocalDateTime ldtInTijuana = LocalDateTime.parse(&quot;2022-11-22T17:15:00&quot;)\r\n                    .atOffset(ZoneOffset.UTC)\r\n                    .atZoneSameInstant(ZoneId.of(&quot;America/Tijuana&quot;))\r\n                    .toLocalDateTime();\r\n            System.out.println(ldtInTijuana);\r\n    \r\n            // Custom format\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;, Locale.ENGLISH);\r\n            String formatted = ldtInTijuana.format(formatter);\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-22T09:15\r\n    2022-11-22T09:15:00\r\n\r\nNote that [`LocalDateTime#toString`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#toString--) removes second and fraction-of-second values if they are zero. Suppose you want to keep them (**as you have posted in your question**), you can use a `DateTimeFormatter` as shown above.\r\n\r\nAn alternate approach:\r\n--\r\n\r\n\r\nAlternatively, you can append `Z` at the end of your ISO 8601 formatted date-time string to enable `Instant` to parse it and then convert the `Instant` into a `ZonedDateTime` corresponding to the `ZoneId.of(&quot;America/Tijuana&quot;)` by using [`Instant#atZone`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atZone-java.time.ZoneId-). The symbol, `Z` refers to UTC in a date-time string.\r\n\r\nThe rest of the steps will remain the same.\r\n\r\n**Demo**:\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String text = &quot;2022-11-22T17:15:00&quot;;\r\n            text = text + &quot;Z&quot;; // Z refers to UTC\r\n            Instant instant = Instant.parse(text);\r\n            LocalDateTime ldt = instant.atZone(ZoneId.of(&quot;America/Tijuana&quot;)).toLocalDateTime();\r\n            System.out.println(ldt);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-22T09:15\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Convert UTC datetime to local datetime using java.time","body":"<p>There can be many ways to achieve the result. A simple approach would be</p>\n<ol>\n<li>Parse the given string into <code>LocalDateTime</code>.</li>\n<li>Convert it into an <code>OffsetDateTime</code> at UTC using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#atOffset-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\"><code>LocalDateTime#atOffset</code></a>.</li>\n<li>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#atZoneSameInstant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>OffsetDateTime#atZoneSameInstant</code></a> to convert the resulting <code>OffsetDateTime</code> into a <code>ZonedDateTime</code> at <code>ZoneId.of(&quot;America/Tijuana&quot;)</code>.</li>\n<li>Get <code>LocalDateTime</code> out of the resulting <code>ZonedDateTime</code> by using  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toLocalDateTime--\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#toLocalDateTime</code></a>.</li>\n<li>If required, format this <code>LocalDateTime</code> into the desired string.</li>\n</ol>\n<pre><code>LocalDateTime\n    .parse(&quot;2022-11-22T17:15:00&quot;) // Parse the given date-time string into LocalDateTime\n    .atOffset(ZoneOffset.UTC) // Convert it into a ZonedDateTime at UTC\n    .atZoneSameInstant(ZoneId.of(&quot;America/Tijuana&quot;)) // Convert the result into a ZonedDateTime at another time-zome\n    .toLocalDateTime() // Get the LocalDateTime out of the ZonedDateTime\n    .format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss&quot;, Locale.ENGLISH))); // If required\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDateTime ldtInTijuana = LocalDateTime.parse(&quot;2022-11-22T17:15:00&quot;)\n                .atOffset(ZoneOffset.UTC)\n                .atZoneSameInstant(ZoneId.of(&quot;America/Tijuana&quot;))\n                .toLocalDateTime();\n        System.out.println(ldtInTijuana);\n\n        // Custom format\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss&quot;, Locale.ENGLISH);\n        String formatted = ldtInTijuana.format(formatter);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-22T09:15\n2022-11-22T09:15:00\n</code></pre>\n<p>Note that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#toString--\" rel=\"nofollow noreferrer\"><code>LocalDateTime#toString</code></a> removes second and fraction-of-second values if they are zero. Suppose you want to keep them (<strong>as you have posted in your question</strong>), you can use a <code>DateTimeFormatter</code> as shown above.</p>\n<h2>An alternate approach:</h2>\n<p>Alternatively, you can append <code>Z</code> at the end of your ISO 8601 formatted date-time string to enable <code>Instant</code> to parse it and then convert the <code>Instant</code> into a <code>ZonedDateTime</code> corresponding to the <code>ZoneId.of(&quot;America/Tijuana&quot;)</code> by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atZone-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>Instant#atZone</code></a>. The symbol, <code>Z</code> refers to UTC in a date-time string.</p>\n<p>The rest of the steps will remain the same.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String text = &quot;2022-11-22T17:15:00&quot;;\n        text = text + &quot;Z&quot;; // Z refers to UTC\n        Instant instant = Instant.parse(text);\n        LocalDateTime ldt = instant.atZone(ZoneId.of(&quot;America/Tijuana&quot;)).toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-22T09:15\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74430001,"answer_count":2,"score":1,"last_activity_date":1668436804,"creation_date":1668418627,"question_id":74429550,"body_markdown":"I have a UTC date-time like this (a String): `2022-11-22T17:15:00`\r\n\r\nAnd a ZoneID like this: `&quot;America/Tijuana&quot;`\r\n\r\nUsing java.time API, I want to get the actual datetime for that zone, which is: `2022-11-22T09:15:00` (the time is 09:15 instead of 17:15) \r\n\r\n - ZonedDateTime.toLocalDateTime() returns: `2022-11-22T17:15`\r\n - ZonedDateTime.toString() returns:\r\n   `2022-11-22T17:15-08:00[America/Tijuana]`\r\n\r\nNone of the above gives me what I&#39;m looking for. \r\n\r\nThis is my code:\r\n\r\n    \tZoneId zonaID = ZoneId.of(&#39;America/Tijuana&#39;);\r\n\t\tCharSequence dateUTC = &quot;2022-11-22T17:15:00&quot;;\r\n\t\tLocalDateTime dateTimeL = LocalDateTime.parse(dateUTC);\r\n\t\tZonedDateTime myZDT = ZonedDateTime.now();\r\n\t\tZonedDateTime myZDTFinal = myZDT.of(dateTimeL, zonaID);\r\n\t\tSystem.out.println(&quot;using toLocalDateTime: &quot; + myZDTFinal.toLocalDateTime());\r\n\t\tSystem.out.println(&quot;using toString: &quot; + myZDTFinal.toString());\r\n\r\nI know that this might be a duplicated question but there&#39;s so many questions about date-times and I just haven&#39;t been able to figure out this.\r\n\r\nAny help will be really appreciated.\r\n\r\n\r\n\r\n","title":"Convert UTC datetime to local datetime using java.time","body":"<p>I have a UTC date-time like this (a String): <code>2022-11-22T17:15:00</code></p>\n<p>And a ZoneID like this: <code>&quot;America/Tijuana&quot;</code></p>\n<p>Using java.time API, I want to get the actual datetime for that zone, which is: <code>2022-11-22T09:15:00</code> (the time is 09:15 instead of 17:15)</p>\n<ul>\n<li>ZonedDateTime.toLocalDateTime() returns: <code>2022-11-22T17:15</code></li>\n<li>ZonedDateTime.toString() returns:\n<code>2022-11-22T17:15-08:00[America/Tijuana]</code></li>\n</ul>\n<p>None of the above gives me what I'm looking for.</p>\n<p>This is my code:</p>\n<pre><code>    ZoneId zonaID = ZoneId.of('America/Tijuana');\n    CharSequence dateUTC = &quot;2022-11-22T17:15:00&quot;;\n    LocalDateTime dateTimeL = LocalDateTime.parse(dateUTC);\n    ZonedDateTime myZDT = ZonedDateTime.now();\n    ZonedDateTime myZDTFinal = myZDT.of(dateTimeL, zonaID);\n    System.out.println(&quot;using toLocalDateTime: &quot; + myZDTFinal.toLocalDateTime());\n    System.out.println(&quot;using toString: &quot; + myZDTFinal.toString());\n</code></pre>\n<p>I know that this might be a duplicated question but there's so many questions about date-times and I just haven't been able to figure out this.</p>\n<p>Any help will be really appreciated.</p>\n"},{"tags":["java","intellij-idea","jdbctemplate","suppress-warnings","notnull"],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668435584,"creation_date":1668435584,"answer_id":74433112,"question_id":74433036,"body_markdown":"Statement `jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);` returns instance of Integer.class, which may be `null`. Since your variable `num` is of primitive type `int`, a NullPointerException will occur during auto-boxing.\r\n\r\nSolution: \r\n\r\n```java\r\npublic int getNum() {\r\n  int num = 0;\r\n  try {\r\n    Integer i = jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);\r\n    if(i != null) {\r\n      num = i;\r\n    }\r\n  } catch (EmptyResultDataAccessException ignored) {\r\n      // log or rethrow exception\r\n  }\r\n  return num;\r\n}\r\n```","title":"jdbcTemplate nullable warning on not null field","body":"<p>Statement <code>jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);</code> returns instance of Integer.class, which may be <code>null</code>. Since your variable <code>num</code> is of primitive type <code>int</code>, a NullPointerException will occur during auto-boxing.</p>\n<p>Solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getNum() {\n  int num = 0;\n  try {\n    Integer i = jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);\n    if(i != null) {\n      num = i;\n    }\n  } catch (EmptyResultDataAccessException ignored) {\n      // log or rethrow exception\n  }\n  return num;\n}\n</code></pre>\n"}],"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668436516,"creation_date":1668435270,"question_id":74433036,"body_markdown":"When calling select query on not null column so we can expect not null (int) value, Code:\r\n```\r\npublic int getNum() {\r\n    int num = 0;\r\n    try {\r\n        num = jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);\r\n    } catch (EmptyResultDataAccessException ignored) {\r\n        // ignored not found\r\n    }\r\n    return num;\r\n}\r\n```\r\n\r\nIntellij warns:\r\n\r\n`Unboxing of &#39;jdbcTemplate.queryForObject(SQL, Integer.class)&#39; may produce &#39;NullPointerException&#39; `\r\n\r\nHow can remove Intellij warning by marking value as not null?\r\n\r\nI can&#39;t mark `jdbcTemplate` method as `@NotNullabe` or  use `@SuppressWarnings`\r\n\r\nthe value returns from SQL is always an int value that can&#39;t be null, I just want to indicate the IDE that value can&#39;t be null by its DB definition","title":"jdbcTemplate nullable warning on not null field","body":"<p>When calling select query on not null column so we can expect not null (int) value, Code:</p>\n<pre><code>public int getNum() {\n    int num = 0;\n    try {\n        num = jdbcTemplate.queryForObject(&quot;select num from mytable&quot;, Integer.class);\n    } catch (EmptyResultDataAccessException ignored) {\n        // ignored not found\n    }\n    return num;\n}\n</code></pre>\n<p>Intellij warns:</p>\n<p><code>Unboxing of 'jdbcTemplate.queryForObject(SQL, Integer.class)' may produce 'NullPointerException' </code></p>\n<p>How can remove Intellij warning by marking value as not null?</p>\n<p>I can't mark <code>jdbcTemplate</code> method as <code>@NotNullabe</code> or  use <code>@SuppressWarnings</code></p>\n<p>the value returns from SQL is always an int value that can't be null, I just want to indicate the IDE that value can't be null by its DB definition</p>\n"},{"tags":["javascript","java","vaadin","vaadin8"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668436472,"creation_date":1668436472,"answer_id":74433315,"question_id":74431651,"body_markdown":"It should be as easy as using the url in the `@JavaScript` annotation in your Java class.\r\n\r\n    @JavaScrip(&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot;)\r\n    public class MyCaptchaView implements View { \r\n    \r\n    ...\r\n    }\r\n\r\nBut, I recommend to download the js file instead and use it withing the project file as loading directly from cloud is always a risk.\r\n\r\nSee more in documentation: **https://vaadin.com/docs/v8/framework/articles/IntegratingAJavaScriptLibraryAsAnExtension**","title":"How to implement script tag in html for remote javascript module in Vaadin 8?","body":"<p>It should be as easy as using the url in the <code>@JavaScript</code> annotation in your Java class.</p>\n<pre><code>@JavaScrip(&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot;)\npublic class MyCaptchaView implements View { \n\n...\n}\n</code></pre>\n<p>But, I recommend to download the js file instead and use it withing the project file as loading directly from cloud is always a risk.</p>\n<p>See more in documentation: <strong><a href=\"https://vaadin.com/docs/v8/framework/articles/IntegratingAJavaScriptLibraryAsAnExtension\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v8/framework/articles/IntegratingAJavaScriptLibraryAsAnExtension</a></strong></p>\n"}],"owner":{"account_id":17445788,"reputation":15,"user_id":12646876,"display_name":"snek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74433315,"answer_count":1,"score":1,"last_activity_date":1668436472,"creation_date":1668428865,"question_id":74431651,"body_markdown":"I am trying to implement FriendlyCaptcha in a Vaadin 8 application. To do this, I need to integrate two script tags which load remote javascript modules.\r\n\r\n\r\n```\r\n&lt;script type=&quot;module&quot; src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js&quot; async defer&gt;&lt;/script&gt;\r\n&lt;script nomodule src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot; async defer&gt;&lt;/script&gt;\r\n```\r\n\r\nI am unfamiliar with Vaadin, I have spent hours trying to implement this, but I am not making any progress.\r\n\r\nI implemented it in a simple HTML file, where it works just fine:\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n\r\n&lt;form METHOD=&quot;POST&quot;&gt;\r\n&lt;input type=&quot;checkbox&quot;&gt;\r\n&lt;div class=&quot;frc-captcha&quot; data-sitekey=&quot;MY-SITE-KEY&quot; data-callback=&quot;myCallback&quot;&gt;&lt;/div&gt;\r\n&lt;input type=&quot;submit&quot; id=&quot;sub&quot; disabled=true&gt;\r\n\r\n&lt;/form&gt;\r\n\r\n&lt;script&gt;\r\n\r\nfunction myCallback(){\r\n\tdocument.getElementById(&quot;sub&quot;).disabled = false;\r\n}\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;script type=&quot;module&quot; src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js&quot; async defer&gt;&lt;/script&gt;\r\n&lt;script nomodule src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot; async defer&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n[This is an image of the above code with the sitekey included](https://i.stack.imgur.com/JRfgI.png)\r\n\r\n\r\n\r\nI tried it like this, the div shows up, but the captcha isn&#39;t displayed:\r\n```\r\ncaptchaDiv = new Label(\r\n        &quot;&lt;div class=\\&quot;frc-captcha\\&quot; data-sitekey=\\&quot;MY_SITE_KEY\\&quot; data-callback=\\&quot;myCallback\\&quot;&gt;&lt;/div&gt;&quot; +\r\n                &quot;&lt;script type=\\&quot;module\\&quot; src=\\&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js\\&quot; async defer&gt;&lt;/script&gt;\\n&quot; +\r\n                &quot;&lt;script nomodule src=\\&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js\\&quot; async defer&gt;&lt;/script&gt;&quot;, ContentMode.HTML);\r\naddComponent(captchaDiv);\r\nsetComponentAlignment(captchaDiv, Alignment.MIDDLE_CENTER);\r\n```\r\n\r\nHow do I make sure the js modules are loaded on the client-side? In Vaadin 14 there is @JsModule, but this annotation doesn&#39;t exist in Vaadin 8 yet.\r\n","title":"How to implement script tag in html for remote javascript module in Vaadin 8?","body":"<p>I am trying to implement FriendlyCaptcha in a Vaadin 8 application. To do this, I need to integrate two script tags which load remote javascript modules.</p>\n<pre><code>&lt;script type=&quot;module&quot; src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js&quot; async defer&gt;&lt;/script&gt;\n&lt;script nomodule src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot; async defer&gt;&lt;/script&gt;\n</code></pre>\n<p>I am unfamiliar with Vaadin, I have spent hours trying to implement this, but I am not making any progress.</p>\n<p>I implemented it in a simple HTML file, where it works just fine:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;form METHOD=&quot;POST&quot;&gt;\n&lt;input type=&quot;checkbox&quot;&gt;\n&lt;div class=&quot;frc-captcha&quot; data-sitekey=&quot;MY-SITE-KEY&quot; data-callback=&quot;myCallback&quot;&gt;&lt;/div&gt;\n&lt;input type=&quot;submit&quot; id=&quot;sub&quot; disabled=true&gt;\n\n&lt;/form&gt;\n\n&lt;script&gt;\n\nfunction myCallback(){\n    document.getElementById(&quot;sub&quot;).disabled = false;\n}\n\n&lt;/script&gt;\n\n&lt;script type=&quot;module&quot; src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js&quot; async defer&gt;&lt;/script&gt;\n&lt;script nomodule src=&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js&quot; async defer&gt;&lt;/script&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JRfgI.png\" rel=\"nofollow noreferrer\">This is an image of the above code with the sitekey included</a></p>\n<p>I tried it like this, the div shows up, but the captcha isn't displayed:</p>\n<pre><code>captchaDiv = new Label(\n        &quot;&lt;div class=\\&quot;frc-captcha\\&quot; data-sitekey=\\&quot;MY_SITE_KEY\\&quot; data-callback=\\&quot;myCallback\\&quot;&gt;&lt;/div&gt;&quot; +\n                &quot;&lt;script type=\\&quot;module\\&quot; src=\\&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.module.min.js\\&quot; async defer&gt;&lt;/script&gt;\\n&quot; +\n                &quot;&lt;script nomodule src=\\&quot;https://unpkg.com/friendly-challenge@0.9.8/widget.min.js\\&quot; async defer&gt;&lt;/script&gt;&quot;, ContentMode.HTML);\naddComponent(captchaDiv);\nsetComponentAlignment(captchaDiv, Alignment.MIDDLE_CENTER);\n</code></pre>\n<p>How do I make sure the js modules are loaded on the client-side? In Vaadin 14 there is @JsModule, but this annotation doesn't exist in Vaadin 8 yet.</p>\n"},{"tags":["java","input","java.util.scanner","user-input"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1668231325,"post_id":74410577,"comment_id":131360497,"body_markdown":"Did you read the documentation?  That&#39;s all I did.  It resets the default delimiter, if it had been changed.  You didn&#39;t change it, so you don&#39;t need to reset.","body":"Did you read the documentation?  That&#39;s all I did.  It resets the default delimiter, if it had been changed.  You didn&#39;t change it, so you don&#39;t need to reset."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668232976,"post_id":74410577,"comment_id":131360612,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668248055,"creation_date":1668231749,"answer_id":74410648,"question_id":74410577,"body_markdown":"`reset()` is explained [here with examples](https://www.geeksforgeeks.org/scanner-reset-method-in-java-with-examples/?tab=article)\r\n\r\nand as per documents purpose stated as:\r\n\r\n&gt; On resetting a scanner **discards** all of its explicit state information **which may have been changed by *invocations of `useDelimiter(java.util.regex.Pattern)`, `useLocale(java.util.Locale)`, or `useRadix(int)`.***\r\n\r\nDocs reference:\r\n[https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--:~:text=scanner%20is%20closed-,reset,1.6,-SKIP%20NAVIGATION%20LINKS)","title":"What does the reset() method of Scanner do?","body":"<p><code>reset()</code> is explained <a href=\"https://www.geeksforgeeks.org/scanner-reset-method-in-java-with-examples/?tab=article\" rel=\"nofollow noreferrer\">here with examples</a></p>\n<p>and as per documents purpose stated as:</p>\n<blockquote>\n<p>On resetting a scanner <strong>discards</strong> all of its explicit state information <strong>which may have been changed by <em>invocations of <code>useDelimiter(java.util.regex.Pattern)</code>, <code>useLocale(java.util.Locale)</code>, or <code>useRadix(int)</code>.</em></strong></p>\n</blockquote>\n<p>Docs reference:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--:%7E:text=scanner%20is%20closed-,reset,1.6,-SKIP%20NAVIGATION%20LINKS\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--</a></p>\n"}],"owner":{"account_id":23431661,"reputation":3,"user_id":17490390,"display_name":"Mohammed Taqi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74410648,"answer_count":1,"score":0,"last_activity_date":1668436075,"creation_date":1668230631,"question_id":74410577,"body_markdown":"I have a simple Java program using `java.util.Scanner` as follows:\r\n```java\r\npackage com.company;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class Favorite_Number {\r\n    public static void main(String[] args) throws IOException {\r\n        int X,sum = 0,rem = 0,t;\r\n        Scanner s = new Scanner(System.in);\r\n        t = s.nextInt();\r\n        while(t!=0) {\r\n            s.reset();  // &lt;-- what does it do?\r\n            X = s.nextInt();\r\n            while (X &gt; 0) {\r\n                rem = X % 10;\r\n                if (rem == 5) {\r\n                    sum++;\r\n                }\r\n                X = X / 10;\r\n            }\r\n            System.out.println(sum);\r\n            sum = 0;\r\n            t--;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhat does `s.reset()` do? If I remove it, the program still works fine.","title":"What does the reset() method of Scanner do?","body":"<p>I have a simple Java program using <code>java.util.Scanner</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class Favorite_Number {\n    public static void main(String[] args) throws IOException {\n        int X,sum = 0,rem = 0,t;\n        Scanner s = new Scanner(System.in);\n        t = s.nextInt();\n        while(t!=0) {\n            s.reset();  // &lt;-- what does it do?\n            X = s.nextInt();\n            while (X &gt; 0) {\n                rem = X % 10;\n                if (rem == 5) {\n                    sum++;\n                }\n                X = X / 10;\n            }\n            System.out.println(sum);\n            sum = 0;\n            t--;\n        }\n\n    }\n}\n</code></pre>\n<p>What does <code>s.reset()</code> do? If I remove it, the program still works fine.</p>\n"},{"tags":["java","awt","textfield"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1668410633,"post_id":74428068,"comment_id":131389411,"body_markdown":"Is this a Swing GUI? If so, then neither is correct, and the best solution would be to add a DocumentFilter to the text field&#39;s Document. Please review MadProgrammer&#39;s answer [here](https://stackoverflow.com/a/24473097/522444).","body":"Is this a Swing GUI? If so, then neither is correct, and the best solution would be to add a DocumentFilter to the text field&#39;s Document. Please review MadProgrammer&#39;s answer <a href=\"https://stackoverflow.com/a/24473097/522444\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668410861,"creation_date":1668410861,"answer_id":74428187,"question_id":74428068,"body_markdown":"Both will stop the text-field from consuming further keys.\r\n\r\n1. calling [`InputEvent.consume()`][1] marks the event as consumed, so that the textfield will not consume it and add the key to it&#39;s contents.\r\n   See https://stackoverflow.com/questions/12550548/what-does-e-consume-do-in-java\r\n2. disabling editing on the textfield with `setEditable(false)` will also prevent the textfield from editing, that is consuming the key. But it also makes this behaviour, the lock, visible to the user. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/event/InputEvent.html#consume--","title":"Is it okey to use evt.consume() in this case?","body":"<p>Both will stop the text-field from consuming further keys.</p>\n<ol>\n<li>calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/InputEvent.html#consume--\" rel=\"nofollow noreferrer\"><code>InputEvent.consume()</code></a> marks the event as consumed, so that the textfield will not consume it and add the key to it's contents.\nSee <a href=\"https://stackoverflow.com/questions/12550548/what-does-e-consume-do-in-java\">What does e.consume() do in java</a></li>\n<li>disabling editing on the textfield with <code>setEditable(false)</code> will also prevent the textfield from editing, that is consuming the key. But it also makes this behaviour, the lock, visible to the user.</li>\n</ol>\n"}],"owner":{"account_id":26394027,"reputation":11,"user_id":20045455,"display_name":"Nicol&#225;s Ortega Mu&#241;oz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74428187,"answer_count":1,"score":-2,"last_activity_date":1668435990,"creation_date":1668410141,"question_id":74428068,"body_markdown":"So I have a textfield which I want to be max length 10 and only letters, this is what I&#39;ve came up with: \r\n\r\n    private void textField1KeyTyped(java.awt.event.KeyEvent evt) {                                      \r\n        \r\n        char c= evt.getKeyChar();\r\n        if( !(Character.isAlphabetic(c)) ){\r\n            evt.consume();   \r\n        }\r\n        if ((textField1.getText().length()) &gt; 10){\r\n            evt.consume();\r\n        }  \r\n    }  \r\n\r\nIt kind of works but I&#39;ve seen some tutorials that use something like this:\r\n\r\n    private void textField1KeyTyped(java.awt.event.KeyEvent evt) {                                      \r\n        \r\n        char c= evt.getKeyChar();\r\n        if( (Character.isAlphabetic(c)) ){\r\n            if((textField1.getText().length()) &lt;= 10){\r\n                textField1.setEditable(true);\r\n            }else {\r\n                textField1.setEditable(false);\r\n            } \r\n        }else {\r\n            if( (c == KeyEvent.VK_BACK_SPACE) || (c == KeyEvent.VK_DELETE) ){\r\n                textField1.setEditable(true);\r\n            }else {\r\n                textField1.setEditable(false);\r\n            }\r\n        }\r\n     } \r\n\r\nWhich one is right?","title":"Is it okey to use evt.consume() in this case?","body":"<p>So I have a textfield which I want to be max length 10 and only letters, this is what I've came up with:</p>\n<pre><code>private void textField1KeyTyped(java.awt.event.KeyEvent evt) {                                      \n    \n    char c= evt.getKeyChar();\n    if( !(Character.isAlphabetic(c)) ){\n        evt.consume();   \n    }\n    if ((textField1.getText().length()) &gt; 10){\n        evt.consume();\n    }  \n}  \n</code></pre>\n<p>It kind of works but I've seen some tutorials that use something like this:</p>\n<pre><code>private void textField1KeyTyped(java.awt.event.KeyEvent evt) {                                      \n    \n    char c= evt.getKeyChar();\n    if( (Character.isAlphabetic(c)) ){\n        if((textField1.getText().length()) &lt;= 10){\n            textField1.setEditable(true);\n        }else {\n            textField1.setEditable(false);\n        } \n    }else {\n        if( (c == KeyEvent.VK_BACK_SPACE) || (c == KeyEvent.VK_DELETE) ){\n            textField1.setEditable(true);\n        }else {\n            textField1.setEditable(false);\n        }\n    }\n } \n</code></pre>\n<p>Which one is right?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668264459,"creation_date":1668264459,"answer_id":74413902,"question_id":74408271,"body_markdown":"I&#39;m not sure about `@ManagedListener` usage here since `@KafkaListener` is what&#39;s more commonly used to setup a Kafka consumer. This annotation already supports consuming multiple topics on its own (assuming same consumer config factory), so you wouldn&#39;t need multiple methods anyway. \r\n\r\nBut the annotations don&#39;t prevent you from calling any common methods.\r\n\r\nI&#39;d suggest extracting all common logic to a function that is not annotated as a Kafka listener, however. ","title":"Multiple @ManagedListener s for different Kafka topics calling the same method","body":"<p>I'm not sure about <code>@ManagedListener</code> usage here since <code>@KafkaListener</code> is what's more commonly used to setup a Kafka consumer. This annotation already supports consuming multiple topics on its own (assuming same consumer config factory), so you wouldn't need multiple methods anyway.</p>\n<p>But the annotations don't prevent you from calling any common methods.</p>\n<p>I'd suggest extracting all common logic to a function that is not annotated as a Kafka listener, however.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668435538,"creation_date":1668435538,"answer_id":74433104,"question_id":74408271,"body_markdown":"I don&#39;t know what `@ManagedListener` is, but `@KafkaListener` is a `@Repeatable` annotation (you can put multiple annotations on a method).","title":"Multiple @ManagedListener s for different Kafka topics calling the same method","body":"<p>I don't know what <code>@ManagedListener</code> is, but <code>@KafkaListener</code> is a <code>@Repeatable</code> annotation (you can put multiple annotations on a method).</p>\n"}],"owner":{"account_id":26904474,"reputation":1,"user_id":20481080,"display_name":"GoHamz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668435538,"creation_date":1668201847,"question_id":74408271,"body_markdown":"The existing code I’m working with is creating a new method with duplicate code each time because it is using @**ManagedListener** configured for the different Kafka Topics and diff configurations using **Java Spring Boot**.\r\n\r\n\r\n```\r\n`@ManagedListener({configurations for Kafka topic-a})\r\nmethod1(){\r\n//logic to handle data\r\n}\r\n\r\n@ManagedListener({configurations for Kafka topic-b})\r\nmethod2(){\r\n//same logic as method1 copied\r\n}\r\n\r\n@ManagedListener({configurations for Kafka topic-c})\r\nmethod3(){\r\n//same logic as method1 copied again\r\n}`\r\n```\r\n\r\nIs there a way I can have a listener configured to different Kafka topics configurations that all call method1 directly? I’m  trying to find a way to avoid duplicate code.\r\n\r\nI tried to add multiple @managedListener annotations to the same method, but it seems like it has to be one to one. It will work if I duplicate the code, but it seems counterintuitive\r\n\r\nThe expected result is to be able to receive messages from multiple different Kafka topics.\r\n","title":"Multiple @ManagedListener s for different Kafka topics calling the same method","body":"<p>The existing code I’m working with is creating a new method with duplicate code each time because it is using @<strong>ManagedListener</strong> configured for the different Kafka Topics and diff configurations using <strong>Java Spring Boot</strong>.</p>\n<pre><code>`@ManagedListener({configurations for Kafka topic-a})\nmethod1(){\n//logic to handle data\n}\n\n@ManagedListener({configurations for Kafka topic-b})\nmethod2(){\n//same logic as method1 copied\n}\n\n@ManagedListener({configurations for Kafka topic-c})\nmethod3(){\n//same logic as method1 copied again\n}`\n</code></pre>\n<p>Is there a way I can have a listener configured to different Kafka topics configurations that all call method1 directly? I’m  trying to find a way to avoid duplicate code.</p>\n<p>I tried to add multiple @managedListener annotations to the same method, but it seems like it has to be one to one. It will work if I duplicate the code, but it seems counterintuitive</p>\n<p>The expected result is to be able to receive messages from multiple different Kafka topics.</p>\n"},{"tags":["java","mybatis","spring-mybatis","dynamicquery"],"comments":[{"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"score":0,"creation_date":1668507352,"post_id":74433049,"comment_id":131416353,"body_markdown":"I generally prefer defining the SQL in the XML file. Easier to write and we can even copy paste the query in to SQL tool to test it. So it would also solve your problem.","body":"I generally prefer defining the SQL in the XML file. Easier to write and we can even copy paste the query in to SQL tool to test it. So it would also solve your problem."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1668542084,"post_id":74433049,"comment_id":131429594,"body_markdown":"@user2298581 The built-in `SQL` class is pretty basic. The mybatis-dynamic-sql that is in your dependencies supports more advanced syntax. Check out the [details](https://github.com/mybatis/mybatis-dynamic-sql). Also, you can specify `databaseId` in `@SelectProvider` to support multiple DB syntax. See the [doc](https://mybatis.org/mybatis-3/java-api.html).","body":"@user2298581 The built-in <code>SQL</code> class is pretty basic. The mybatis-dynamic-sql that is in your dependencies supports more advanced syntax. Check out the <a href=\"https://github.com/mybatis/mybatis-dynamic-sql\" rel=\"nofollow noreferrer\">details</a>. Also, you can specify <code>databaseId</code> in <code>@SelectProvider</code> to support multiple DB syntax. See the <a href=\"https://mybatis.org/mybatis-3/java-api.html\" rel=\"nofollow noreferrer\">doc</a>."}],"owner":{"account_id":2658349,"reputation":582,"user_id":2298581,"accept_rate":43,"display_name":"user2298581"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668435333,"creation_date":1668435333,"question_id":74433049,"body_markdown":"I&#39;m trying to understand how to do dynamic queries for pagination with myBatis in my java spring-boot application\r\n\r\nMy problem is that the database version of my application is Oracle 11.2 which doesn&#39;t support LIMIT &amp; OFFSET in the query.\r\n\r\nThe only solution I&#39;ve found to this is using ROWNUM in this way:\r\n\r\n```\r\nSELECT *  FROM   \r\n(SELECT te.*, ROWNUM AS rn FROM  TEST_EVENT te  order by te.EVENT_ID)\r\n a WHERE  a.rn &gt;= #{resultFrom} AND    a.rn &lt;= #{resultTo}\r\n```\r\nHowever I&#39;m not able to implement inner query with myBatis sqlBuilder. \r\n\r\nAt least I&#39;ve tried like this and it gives me compilation error:\r\n```\r\npublic String selectTestEventsFromDate(Long dateFrom ,int resultFrom, int resultTo) {\r\n        return new SQL() {{\r\n\r\n            SELECT(&quot;*&quot;);\r\n            FROM(\r\n\t\t\t\tSELECT(&quot;te.*, ROWNUM AS rn&quot;);\r\n\t\t\t\tFROM(&quot;  TEST_EVENT te&quot;);\r\n\t\t\t\tif (dateFrom != null) {\r\n\t\t\t\t\tWHERE(&quot;te.TIMESTMP &gt;= #{dateFrom }&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tORDER_BY(&quot;te.EVENT_ID&quot;);\r\n\t\t\ta)\r\n            WHERE  a.rn &gt;= #{resultFrom} AND    a.rn &lt;= #{resultTo}\r\n        }}.toString();\r\n    }\r\n```\r\n**What&#39;s the best way to achieve pagination &amp; dynamic queries with Mybatis without using LIMIT &amp; OFFSET in the query?**\r\n\r\nAdditional code:\r\n\r\nIn my TestEventMapper.java:\r\n```\r\n    @SelectProvider(type = testEventSqlBuilder.class, method = &quot;selectTestEventsFromDate&quot;)\r\n    ArrayList&lt;TestEventEntity&gt; selectTestEventsProvider(Long dateFrom, int resultFrom, int resultTo);\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;${ojdbc.artifactId}&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${ojdbc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis.dynamic-sql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-dynamic-sql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n ","title":"sqlBuilder pagination with MyBatis without Limit &amp; Offset in the query","body":"<p>I'm trying to understand how to do dynamic queries for pagination with myBatis in my java spring-boot application</p>\n<p>My problem is that the database version of my application is Oracle 11.2 which doesn't support LIMIT &amp; OFFSET in the query.</p>\n<p>The only solution I've found to this is using ROWNUM in this way:</p>\n<pre><code>SELECT *  FROM   \n(SELECT te.*, ROWNUM AS rn FROM  TEST_EVENT te  order by te.EVENT_ID)\n a WHERE  a.rn &gt;= #{resultFrom} AND    a.rn &lt;= #{resultTo}\n</code></pre>\n<p>However I'm not able to implement inner query with myBatis sqlBuilder.</p>\n<p>At least I've tried like this and it gives me compilation error:</p>\n<pre><code>public String selectTestEventsFromDate(Long dateFrom ,int resultFrom, int resultTo) {\n        return new SQL() {{\n\n            SELECT(&quot;*&quot;);\n            FROM(\n                SELECT(&quot;te.*, ROWNUM AS rn&quot;);\n                FROM(&quot;  TEST_EVENT te&quot;);\n                if (dateFrom != null) {\n                    WHERE(&quot;te.TIMESTMP &gt;= #{dateFrom }&quot;);\n                }\n                ORDER_BY(&quot;te.EVENT_ID&quot;);\n            a)\n            WHERE  a.rn &gt;= #{resultFrom} AND    a.rn &lt;= #{resultTo}\n        }}.toString();\n    }\n</code></pre>\n<p><strong>What's the best way to achieve pagination &amp; dynamic queries with Mybatis without using LIMIT &amp; OFFSET in the query?</strong></p>\n<p>Additional code:</p>\n<p>In my TestEventMapper.java:</p>\n<pre><code>    @SelectProvider(type = testEventSqlBuilder.class, method = &quot;selectTestEventsFromDate&quot;)\n    ArrayList&lt;TestEventEntity&gt; selectTestEventsProvider(Long dateFrom, int resultFrom, int resultTo);\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;${ojdbc.artifactId}&lt;/artifactId&gt;\n            &lt;version&gt;${ojdbc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.dynamic-sql&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-dynamic-sql&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1668435187,"post_id":74432969,"comment_id":131397349,"body_markdown":"You are missing a `break` *behind* each nested `switch`.","body":"You are missing a <code>break</code> <i>behind</i> each nested <code>switch</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1668435231,"post_id":74432969,"comment_id":131397362,"body_markdown":"Please note: nested switches make it somewhat hard to read. Why don&#39;t you put that code into a separate method?","body":"Please note: nested switches make it somewhat hard to read. Why don&#39;t you put that code into a separate method?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1668436243,"post_id":74432969,"comment_id":131397737,"body_markdown":"Or https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html","body":"Or <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/language/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668435191,"creation_date":1668435191,"answer_id":74433010,"question_id":74432969,"body_markdown":"After the content of every `case` block, you want to `break` out. Your __inner__ switch&#39;s `case` blocks do that, but your outers don&#39;t. Add a `break;` after the closing brace of the inner `switch` and before the next `case`.\r\n\r\nBecause the `break;` is missing, you roll straight into the next `case` block.","title":"Nested switch statement is printing the incorrect answer","body":"<p>After the content of every <code>case</code> block, you want to <code>break</code> out. Your <strong>inner</strong> switch's <code>case</code> blocks do that, but your outers don't. Add a <code>break;</code> after the closing brace of the inner <code>switch</code> and before the next <code>case</code>.</p>\n<p>Because the <code>break;</code> is missing, you roll straight into the next <code>case</code> block.</p>\n"},{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668435233,"creation_date":1668435233,"answer_id":74433023,"question_id":74432969,"body_markdown":"You need additional `break` statements after the nested `switch` so that you `break` out of the outer `switch` as well: \r\n\r\n        switch(planet.charAt(0))\r\n        {\r\n            case &#39;s&#39;:\r\n            case &#39;S&#39;:\r\n                switch(planet.charAt(1))\r\n                {\r\n                case &#39;u&#39;:\r\n                case &#39;U&#39;:\r\n                    ...\r\n                    break;\r\n                }\r\n                break; // this one is needed.\r\n            case &#39;m&#39;:\r\n                ...\r\n\r\n\r\nAlternatively you can label both `switch` statements and then do `break outer;`.\r\n","title":"Nested switch statement is printing the incorrect answer","body":"<p>You need additional <code>break</code> statements after the nested <code>switch</code> so that you <code>break</code> out of the outer <code>switch</code> as well:</p>\n<pre><code>    switch(planet.charAt(0))\n    {\n        case 's':\n        case 'S':\n            switch(planet.charAt(1))\n            {\n            case 'u':\n            case 'U':\n                ...\n                break;\n            }\n            break; // this one is needed.\n        case 'm':\n            ...\n</code></pre>\n<p>Alternatively you can label both <code>switch</code> statements and then do <code>break outer;</code>.</p>\n"}],"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668437127,"accepted_answer_id":74433023,"answer_count":2,"score":-1,"last_activity_date":1668435233,"creation_date":1668434963,"question_id":74432969,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Planets \r\n{\r\n\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tboolean runAgain = true;\r\n\t\tSystem.out.println(&quot;Starting program...\\n\\n&quot;);\r\n\t\t\r\n\t\tdouble weight = getWeight();\r\n\t\t\r\n\t\twhile(runAgain)\r\n\t\t{\r\n\t\t\tString planet = getPlanet();\r\n\t\t\tcalculateWeight(weight, planet);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\nWould you like to see your weight on a different planet? (Yes or No)&quot;);\r\n\t\t\tString input = in.nextLine();\r\n\t\t\tif(input.charAt(0)==&#39;N&#39; || input.charAt(0)==&#39;n&#39;)\r\n\t\t\t{\r\n\t\t\t\trunAgain = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\r\n\t} //end main\r\n\t\r\n\tpublic static double getWeight() throws IOException\r\n\t{ //Prompts user to enter their weight\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Greetings! This program calculates how much you would weigh on other planets.\\n\\nPlease enter your weight (lbs.): &quot;);\r\n\t\tdouble weight = in.nextDouble();\r\n\t\treturn weight;\r\n\t}\r\n\t\r\n\tpublic static String getPlanet() throws IOException\r\n\t{ //Prompts user to enter their planet\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;\\nChoose your planet:\\nSun\\nMoon\\nSaturn\\nMercury\\nMars\\nUranus\\nVenus\\nJupiter\\nNeptune&quot;);\r\n\t\tString planet = in.nextLine();\r\n\t\treturn planet;\r\n\t}\r\n\t\r\n\tpublic static void calculateWeight(double weight, String planet) throws IOException\r\n\t{ //Outputs the weight of the given planet ; takes two parameters weight and planet\r\n\t\tswitch(planet.charAt(0))\r\n\t\t{\r\n\t\t\tcase &#39;s&#39;:\r\n\t\t\tcase &#39;S&#39;:\r\n\t\t\t\tswitch(planet.charAt(1))\r\n\t\t\t\t{\r\n\t\t\t\tcase &#39;u&#39;:\r\n\t\t\t\tcase &#39;U&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on the Sun is &quot; + 27.94*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;a&#39;:\r\n\t\t\t\tcase &#39;A&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Saturn is &quot; + .91*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase &#39;m&#39;:\r\n\t\t\tcase &#39;M&#39;:\r\n\t\t\tswitch(planet.charAt(1))\r\n\t\t\t{\r\n\t\t\t\tcase &#39;o&#39;:\r\n\t\t\t\tcase &#39;O&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on the Moon is &quot; + .17*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;e&#39;:\r\n\t\t\t\tcase &#39;E&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Mercury is &quot; + .37*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;a&#39;:\r\n\t\t\t\tcase &#39;A&#39;:\r\n\t\t\t\t\tSystem.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Mars is &quot; + .38*weight);\r\n\t\t\t\t\tbreak;\r\n\t\t\t} \r\n\t\t\tcase &#39;u&#39;:\r\n\t\t\tcase &#39;U&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Uranus is &quot; + .88*weight);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;v&#39;:\r\n\t\t\tcase &#39;V&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Venus is &quot; + .90*weight);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;j&#39;:\r\n\t\t\tcase &#39;J&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Jupiter is &quot; + 2.64*weight);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;n&#39;:\r\n\t\t\tcase &#39;N&#39;:\r\n\t\t\t\tSystem.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Neptune is &quot; + 1.12*weight);\r\n\t\t\t\tbreak;\r\n\t\t} \r\n\t} \r\n\t\r\n} //end class\r\n\r\n```\r\n\r\n\r\nWorking on an assignment for my CS101 class. Our professor wants us to print our weight on a specific planet using nested switch statements with charAt to determine which planet the user is talking about. The nested switch statement is not doing as expected.\r\n\r\nErrors: \r\nWhen I pick Sun it outputs the result of Sun AND Uranus\r\n\r\nWhen I pick Moon it outputs the result of Moon AND Uranus\r\n\r\nWhen I pick Saturn it outputs the result of Saturn, Mars, AND Uranus.\r\n\r\nWhen I pick Mercury it outputs the result of Mercury AND Uranus\r\n\r\nWhen I pick Mars it outputs the result of Mars AND Mercury.\r\n\r\n\r\nI don&#39;t understand why it is printing the result of multiple planets, even if the letter at the index does not match. Uranus, Venus, Jupiter, and Neptune works fine and prints as expected.","title":"Nested switch statement is printing the incorrect answer","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Planets \n{\n\n    public static void main(String[] args) throws IOException\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        boolean runAgain = true;\n        System.out.println(&quot;Starting program...\\n\\n&quot;);\n        \n        double weight = getWeight();\n        \n        while(runAgain)\n        {\n            String planet = getPlanet();\n            calculateWeight(weight, planet);\n            \n            System.out.println(&quot;\\nWould you like to see your weight on a different planet? (Yes or No)&quot;);\n            String input = in.nextLine();\n            if(input.charAt(0)=='N' || input.charAt(0)=='n')\n            {\n                runAgain = false;\n            }\n        }\n            \n\n    } //end main\n    \n    public static double getWeight() throws IOException\n    { //Prompts user to enter their weight\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;Greetings! This program calculates how much you would weigh on other planets.\\n\\nPlease enter your weight (lbs.): &quot;);\n        double weight = in.nextDouble();\n        return weight;\n    }\n    \n    public static String getPlanet() throws IOException\n    { //Prompts user to enter their planet\n        Scanner in;\n        in = new Scanner(System.in);\n        System.out.println(&quot;\\nChoose your planet:\\nSun\\nMoon\\nSaturn\\nMercury\\nMars\\nUranus\\nVenus\\nJupiter\\nNeptune&quot;);\n        String planet = in.nextLine();\n        return planet;\n    }\n    \n    public static void calculateWeight(double weight, String planet) throws IOException\n    { //Outputs the weight of the given planet ; takes two parameters weight and planet\n        switch(planet.charAt(0))\n        {\n            case 's':\n            case 'S':\n                switch(planet.charAt(1))\n                {\n                case 'u':\n                case 'U':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on the Sun is &quot; + 27.94*weight);\n                    break;\n                case 'a':\n                case 'A':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Saturn is &quot; + .91*weight);\n                    break;\n                }\n            case 'm':\n            case 'M':\n            switch(planet.charAt(1))\n            {\n                case 'o':\n                case 'O':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on the Moon is &quot; + .17*weight);\n                    break;\n                case 'e':\n                case 'E':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Mercury is &quot; + .37*weight);\n                    break;\n                case 'a':\n                case 'A':\n                    System.out.println(&quot;Your weight on the Earth is &quot; + weight + &quot; lbs.\\nYour weight on Mars is &quot; + .38*weight);\n                    break;\n            } \n            case 'u':\n            case 'U':\n                System.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Uranus is &quot; + .88*weight);\n                break;\n            case 'v':\n            case 'V':\n                System.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Venus is &quot; + .90*weight);\n                break;\n            case 'j':\n            case 'J':\n                System.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Jupiter is &quot; + 2.64*weight);\n                break;\n            case 'n':\n            case 'N':\n                System.out.println(&quot;Your weight on Earth is &quot; + weight + &quot; lbs.\\nYour weight on Neptune is &quot; + 1.12*weight);\n                break;\n        } \n    } \n    \n} //end class\n\n</code></pre>\n<p>Working on an assignment for my CS101 class. Our professor wants us to print our weight on a specific planet using nested switch statements with charAt to determine which planet the user is talking about. The nested switch statement is not doing as expected.</p>\n<p>Errors:\nWhen I pick Sun it outputs the result of Sun AND Uranus</p>\n<p>When I pick Moon it outputs the result of Moon AND Uranus</p>\n<p>When I pick Saturn it outputs the result of Saturn, Mars, AND Uranus.</p>\n<p>When I pick Mercury it outputs the result of Mercury AND Uranus</p>\n<p>When I pick Mars it outputs the result of Mars AND Mercury.</p>\n<p>I don't understand why it is printing the result of multiple planets, even if the letter at the index does not match. Uranus, Venus, Jupiter, and Neptune works fine and prints as expected.</p>\n"},{"tags":["java","spring","ssl","ssl-certificate","spring-webclient"],"comments":[{"owner":{"account_id":471659,"reputation":3578,"user_id":879592,"accept_rate":84,"display_name":"Yan"},"score":0,"creation_date":1668276628,"post_id":74408231,"comment_id":131368021,"body_markdown":"Are you connecting to uri `https://broker` or `http://localhost` otherwise could be hostname verification failure","body":"Are you connecting to uri <code>https:&#47;&#47;broker</code> or <code>http:&#47;&#47;localhost</code> otherwise could be hostname verification failure"},{"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"score":0,"creation_date":1668435249,"post_id":74408231,"comment_id":131397371,"body_markdown":"I am getting error for this call `https://schema-registry:8081/subjects/connect-status-value/versions`","body":"I am getting error for this call <code>https:&#47;&#47;schema-registry:8081&#47;subjects&#47;connect-status-value&#47;v&zwnj;&#8203;ersions</code>"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":1,"creation_date":1668436356,"post_id":74408231,"comment_id":131397772,"body_markdown":"Looks like you are not having valid server certificates in your truststore. Can you please cross check","body":"Looks like you are not having valid server certificates in your truststore. Can you please cross check"},{"owner":{"account_id":471659,"reputation":3578,"user_id":879592,"accept_rate":84,"display_name":"Yan"},"score":0,"creation_date":1668446951,"post_id":74408231,"comment_id":131401852,"body_markdown":"Run `curl -vI https://schema-registry:8081/subjects/connect-status-value/versions` which will return header only and will show SSL certificate information.  Make sure you are trusting the Issuer","body":"Run <code>curl -vI https:&#47;&#47;schema-registry:8081&#47;subjects&#47;connect-status-value&#47;v&zwnj;&#8203;ersions</code> which will return header only and will show SSL certificate information.  Make sure you are trusting the Issuer"}],"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668435198,"creation_date":1668201545,"question_id":74408231,"body_markdown":"I am trying to call site with `https` protocol using Spring `WebClient` using following code.\r\n```\r\nobject ClientFactory {\r\n\r\n    @Throws(\r\n        NoSuchAlgorithmException::class,\r\n        IOException::class,\r\n        KeyStoreException::class,\r\n        CertificateException::class,\r\n        UnrecoverableKeyException::class\r\n    )\r\n    @JvmStatic\r\n    fun getClient(\r\n        trustStoreLocation: String,\r\n        trustStorePassword: String,\r\n        keyStoreLocation: String,\r\n        keyStorePassword: String\r\n    ): WebClient.Builder {\r\n        if (trustStorePassword.isBlank() || trustStoreLocation.isBlank()) {\r\n            return WebClient.builder()\r\n        }\r\n\r\n        val contextBuilder = SslContextBuilder.forClient()\r\n\r\n        val trustStore = KeyStore.getInstance(&quot;JKS&quot;)\r\n        trustStore.load(FileInputStream(ResourceUtils.getFile(trustStoreLocation)), trustStorePassword.toCharArray())\r\n\r\n        val trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\r\n        trustManagerFactory.init(trustStore)\r\n        contextBuilder.trustManager(trustManagerFactory)\r\n\r\n        if (keyStoreLocation.isNotBlank() &amp;&amp; keyStorePassword.isNotBlank()) {\r\n            val keyStore: KeyStore = KeyStore.getInstance(&quot;JKS&quot;)\r\n            keyStore.load(FileInputStream(ResourceUtils.getFile(keyStoreLocation)), keyStorePassword.toCharArray())\r\n            val keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm())\r\n            keyManagerFactory.init(keyStore, keyStorePassword.toCharArray())\r\n            contextBuilder.keyManager(keyManagerFactory)\r\n        }\r\n\r\n        val context = contextBuilder.build()\r\n\r\n        return WebClient.builder()\r\n            .clientConnector(\r\n                ReactorClientHttpConnector(\r\n                    HttpClient.create().secure {\r\n                        it.sslContext(context)\r\n                    }\r\n                )\r\n            )\r\n    }\r\n}\r\n\r\nval client = ClientFactory.getClient(&quot;truststore.location&quot;, &quot;truststore.password&quot;, &quot;keystore.location&quot;, &quot;keystore.password&quot;).build()\r\n\r\nclient.get().uri(&quot;https://some-service&quot;).retrieve().toEntity(clazz).awaitSingleOrNull()\r\n```\r\nBut I am getting this error.\r\n```\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.688 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.688 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.689 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.689 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.690 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.690 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.691 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.691 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA for TLSv1.3\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.692 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA for TLSv1.3\r\njavax.net.ssl|WARNING|61|reactor-http-epoll-2|2022-11-14 14:10:57.693 UTC|null:-1|Unable to indicate server name\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.694 UTC|null:-1|Ignore, context unavailable extension: server_name\r\njavax.net.ssl|INFO|61|reactor-http-epoll-2|2022-11-14 14:10:57.694 UTC|null:-1|No available application protocols\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.695 UTC|null:-1|Ignore, context unavailable extension: application_layer_protocol_negotiation\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.695 UTC|null:-1|Stateless resumption supported\r\njavax.net.ssl|ALL|61|reactor-http-epoll-2|2022-11-14 14:10:57.696 UTC|null:-1|Ignore disabled signature scheme: rsa_md5\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.697 UTC|null:-1|Ignore, context unavailable extension: cookie\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.701 UTC|null:-1|No session to resume.\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.702 UTC|null:-1|Ignore, context unavailable extension: pre_shared_key\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.704 UTC|null:-1|Produced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n  &quot;random&quot;              : &quot;9DFA460AFA7E191DE2C3B11C032F1EE7435A0095D7A50EEAE3314D8C40AD44CF&quot;,\r\n  &quot;session id&quot;          : &quot;D5858682374BC479D6E926A9B8A08F5CC0D0E8A800BD19219733FC15765C2BF7&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    &quot;status_request (5)&quot;: {\r\n      &quot;certificate status type&quot;: ocsp\r\n      &quot;OCSP status request&quot;: {\r\n        &quot;responder_id&quot;: &lt;empty&gt;\r\n        &quot;request extensions&quot;: {\r\n          &lt;empty&gt;\r\n        }\r\n      }\r\n    },\r\n    &quot;supported_groups (10)&quot;: {\r\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n    },\r\n    &quot;ec_point_formats (11)&quot;: {\r\n      &quot;formats&quot;: [uncompressed]\r\n    },\r\n    &quot;status_request_v2 (17)&quot;: {\r\n      &quot;cert status request&quot;: {\r\n        &quot;certificate status type&quot;: ocsp_multi\r\n        &quot;OCSP status request&quot;: {\r\n          &quot;responder_id&quot;: &lt;empty&gt;\r\n          &quot;request extensions&quot;: {\r\n            &lt;empty&gt;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    &quot;extended_master_secret (23)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;session_ticket (35)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;signature_algorithms (13)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;supported_versions (43)&quot;: {\r\n      &quot;versions&quot;: [TLSv1.3, TLSv1.2]\r\n    },\r\n    &quot;psk_key_exchange_modes (45)&quot;: {\r\n      &quot;ke_modes&quot;: [psk_dhe_ke]\r\n    },\r\n    &quot;signature_algorithms_cert (50)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;key_share (51)&quot;: {\r\n      &quot;client_shares&quot;: [  \r\n        {\r\n          &quot;named group&quot;: x25519\r\n          &quot;key_exchange&quot;: {\r\n            0000: 34 8F 95 6C E7 41 7E 7A   F0 D3 B4 BC 2E 18 CA A7  4..l.A.z........\r\n            0010: 21 7D 8F 4C CE 5A A9 63   F2 93 D3 CA C2 E2 FE 04  !..L.Z.c........\r\n          }\r\n        },\r\n        {\r\n          &quot;named group&quot;: secp256r1\r\n          &quot;key_exchange&quot;: {\r\n            0000: 04 FC E1 E7 6A 86 69 20   B0 21 40 28 9F 4F C9 8A  ....j.i .!@(.O..\r\n            0010: 43 0E A9 31 FB A1 8B 26   F8 5F CC F3 BC D5 34 AC  C..1...&amp;._....4.\r\n            0020: E3 F6 92 B4 8C C9 3E 8C   04 94 2E D4 D3 A5 EF 0D  ......&gt;.........\r\n            0030: 7D 44 90 BE AB 90 89 B3   6A E9 F3 BF 6B D8 E0 EC  .D......j...k...\r\n            0040: 71 \r\n          }\r\n        },\r\n      ]\r\n    },\r\n    &quot;renegotiation_info (65,281)&quot;: {\r\n      &quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\r\n    }\r\n  ]\r\n}\r\n)\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.704 UTC|null:-1|WRITE: TLSv1.3 handshake, length = 388\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.706 UTC|null:-1|Raw write (\r\n  0000: 16 03 03 01 84 01 00 01   80 03 03 9D FA 46 0A FA  .............F..\r\n  0010: 7E 19 1D E2 C3 B1 1C 03   2F 1E E7 43 5A 00 95 D7  ......../..CZ...\r\n  0020: A5 0E EA E3 31 4D 8C 40   AD 44 CF 20 D5 85 86 82  ....1M.@.D. ....\r\n  0030: 37 4B C4 79 D6 E9 26 A9   B8 A0 8F 5C C0 D0 E8 A8  7K.y..&amp;....\\....\r\n  0040: 00 BD 19 21 97 33 FC 15   76 5C 2B F7 00 16 C0 2C  ...!.3..v\\+....,\r\n  0050: C0 2B C0 2F C0 30 C0 13   C0 14 00 9C 00 2F 00 35  .+./.0......./.5\r\n  0060: 13 01 13 02 01 00 01 21   00 05 00 05 01 00 00 00  .......!........\r\n  0070: 00 00 0A 00 16 00 14 00   1D 00 17 00 18 00 19 00  ................\r\n  0080: 1E 01 00 01 01 01 02 01   03 01 04 00 0B 00 02 01  ................\r\n  0090: 00 00 11 00 09 00 07 02   00 04 00 00 00 00 00 17  ................\r\n  00A0: 00 00 00 23 00 00 00 0D   00 2C 00 2A 04 03 05 03  ...#.....,.*....\r\n  00B0: 06 03 08 07 08 08 08 04   08 05 08 06 08 09 08 0A  ................\r\n  00C0: 08 0B 04 01 05 01 06 01   04 02 03 03 03 01 03 02  ................\r\n  00D0: 02 03 02 01 02 02 00 2B   00 05 04 03 04 03 03 00  .......+........\r\n  00E0: 2D 00 02 01 01 00 32 00   2C 00 2A 04 03 05 03 06  -.....2.,.*.....\r\n  00F0: 03 08 07 08 08 08 04 08   05 08 06 08 09 08 0A 08  ................\r\n  0100: 0B 04 01 05 01 06 01 04   02 03 03 03 01 03 02 02  ................\r\n  0110: 03 02 01 02 02 00 33 00   6B 00 69 00 1D 00 20 34  ......3.k.i... 4\r\n  0120: 8F 95 6C E7 41 7E 7A F0   D3 B4 BC 2E 18 CA A7 21  ..l.A.z........!\r\n  0130: 7D 8F 4C CE 5A A9 63 F2   93 D3 CA C2 E2 FE 04 00  ..L.Z.c.........\r\n  0140: 17 00 41 04 FC E1 E7 6A   86 69 20 B0 21 40 28 9F  ..A....j.i .!@(.\r\n  0150: 4F C9 8A 43 0E A9 31 FB   A1 8B 26 F8 5F CC F3 BC  O..C..1...&amp;._...\r\n  0160: D5 34 AC E3 F6 92 B4 8C   C9 3E 8C 04 94 2E D4 D3  .4.......&gt;......\r\n  0170: A5 EF 0D 7D 44 90 BE AB   90 89 B3 6A E9 F3 BF 6B  ....D......j...k\r\n  0180: D8 E0 EC 71 FF 01 00 01   00                       ...q.....\r\n)\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.713 UTC|null:-1|Raw read (\r\n  0000: 15 03 03 00 02 02 28                               ......(\r\n)\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.713 UTC|null:-1|READ: TLSv1.2 alert, length = 2\r\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.714 UTC|null:-1|Received alert message (\r\n&quot;Alert&quot;: {\r\n  &quot;level&quot;      : &quot;fatal&quot;,\r\n  &quot;description&quot;: &quot;handshake_failure&quot;\r\n}\r\n)\r\njavax.net.ssl|ERROR|61|reactor-http-epoll-2|2022-11-14 14:10:57.716 UTC|null:-1|Fatal (HANDSHAKE_FAILURE): Received fatal alert: handshake_failure (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n  at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\r\n  at java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLEngineImpl.decode(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLEngineImpl.readRecord(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\r\n  at java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\r\n  at java.base/javax.net.ssl.SSLEngine.unwrap(Unknown Source)\r\n  at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296)\r\n  at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343)\r\n  at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\r\n  at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\r\n  at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519)\r\n  at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458)\r\n  at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n  at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n  at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n  at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n  at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n  at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n  at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n  at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n  at java.base/java.lang.Thread.run(Unknown Source)}\r\n\r\n)\r\njavax.net.ssl|ALL|61|reactor-http-epoll-2|2022-11-14 14:10:57.716 UTC|null:-1|Invalidated session:  Session(1668435057686|SSL_NULL_WITH_NULL_NULL)\r\n2022-11-14 14:10:57.724 ERROR 1 --- [or-http-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : [7b30e4fb-2]  500 Server Error for HTTP GET &quot;/api/subjects/connect-status-value/versions&quot;\r\n\r\norg.springframework.web.reactive.function.client.WebClientRequestException: Received fatal alert: handshake_failure; nested exception is javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar:5.3.23]\r\nSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n*__checkpoint ? Request to GET https://schema-registry:8081/subjects/connect-status-value/versions [DefaultWebClient]\r\n*__checkpoint ? Handler com.ideasbucket.tansen.controller.api.SubjectController#getVersionsBySubject(String, Continuation) [DispatcherHandler]\r\n*__checkpoint ? org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n*__checkpoint ? HTTP GET &quot;/api/subjects/connect-status-value/versions&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\nat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar:5.3.23]\r\nat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:307) ~[reactor-netty-http-1.0.24.jar:1.0.24]\r\nat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.24.jar:3.4.24]\r\nat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:204) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\nat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:454) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\nat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:147) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:346) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:325) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:317) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireExceptionCaught(CombinedChannelDuplexHandler.java:424) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.ChannelHandlerAdapter.exceptionCaught(ChannelHandlerAdapter.java:92) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.CombinedChannelDuplexHandler$1.fireExceptionCaught(CombinedChannelDuplexHandler.java:145) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:143) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.CombinedChannelDuplexHandler.exceptionCaught(CombinedChannelDuplexHandler.java:231) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:346) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:325) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:317) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:850) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:400) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:376) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:368) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.handleUnwrapThrowable(SslHandler.java:1260) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1241) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLEngineImpl.decode(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLEngineImpl.readRecord(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) ~[na:na]\r\nat java.base/javax.net.ssl.SSLEngine.unwrap(Unknown Source) ~[na:na]\r\nat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n\r\n2022-11-14 14:10:57.729  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [2d537e20, L:/172.30.0.9:50936 - R:schema-registry/172.30.0.4:8081] The connection observed an error\r\n\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source) ~[na:na]\r\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source) ~[na:na]\r\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n\r\n2022-11-14 14:10:57.731  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [2d537e20, L:/172.30.0.9:50936 ! R:schema-registry/172.30.0.4:8081] The connection observed an error\r\n\r\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\n... 15 common frames omitted\r\n\r\n\r\n```\r\nBut I am unable to pinpoint the real cause of the exception. Is there anything that I am missing from `WebClient` config side.","title":"Getting Handsake error in Spring WebClient for HTTPS site","body":"<p>I am trying to call site with <code>https</code> protocol using Spring <code>WebClient</code> using following code.</p>\n<pre><code>object ClientFactory {\n\n    @Throws(\n        NoSuchAlgorithmException::class,\n        IOException::class,\n        KeyStoreException::class,\n        CertificateException::class,\n        UnrecoverableKeyException::class\n    )\n    @JvmStatic\n    fun getClient(\n        trustStoreLocation: String,\n        trustStorePassword: String,\n        keyStoreLocation: String,\n        keyStorePassword: String\n    ): WebClient.Builder {\n        if (trustStorePassword.isBlank() || trustStoreLocation.isBlank()) {\n            return WebClient.builder()\n        }\n\n        val contextBuilder = SslContextBuilder.forClient()\n\n        val trustStore = KeyStore.getInstance(&quot;JKS&quot;)\n        trustStore.load(FileInputStream(ResourceUtils.getFile(trustStoreLocation)), trustStorePassword.toCharArray())\n\n        val trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\n        trustManagerFactory.init(trustStore)\n        contextBuilder.trustManager(trustManagerFactory)\n\n        if (keyStoreLocation.isNotBlank() &amp;&amp; keyStorePassword.isNotBlank()) {\n            val keyStore: KeyStore = KeyStore.getInstance(&quot;JKS&quot;)\n            keyStore.load(FileInputStream(ResourceUtils.getFile(keyStoreLocation)), keyStorePassword.toCharArray())\n            val keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm())\n            keyManagerFactory.init(keyStore, keyStorePassword.toCharArray())\n            contextBuilder.keyManager(keyManagerFactory)\n        }\n\n        val context = contextBuilder.build()\n\n        return WebClient.builder()\n            .clientConnector(\n                ReactorClientHttpConnector(\n                    HttpClient.create().secure {\n                        it.sslContext(context)\n                    }\n                )\n            )\n    }\n}\n\nval client = ClientFactory.getClient(&quot;truststore.location&quot;, &quot;truststore.password&quot;, &quot;keystore.location&quot;, &quot;keystore.password&quot;).build()\n\nclient.get().uri(&quot;https://some-service&quot;).retrieve().toEntity(clazz).awaitSingleOrNull()\n</code></pre>\n<p>But I am getting this error.</p>\n<pre><code>javax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.688 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.688 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.689 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.689 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.690 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.690 UTC|null:-1|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.691 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.691 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA for TLSv1.3\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.692 UTC|null:-1|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA for TLSv1.3\njavax.net.ssl|WARNING|61|reactor-http-epoll-2|2022-11-14 14:10:57.693 UTC|null:-1|Unable to indicate server name\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.694 UTC|null:-1|Ignore, context unavailable extension: server_name\njavax.net.ssl|INFO|61|reactor-http-epoll-2|2022-11-14 14:10:57.694 UTC|null:-1|No available application protocols\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.695 UTC|null:-1|Ignore, context unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.695 UTC|null:-1|Stateless resumption supported\njavax.net.ssl|ALL|61|reactor-http-epoll-2|2022-11-14 14:10:57.696 UTC|null:-1|Ignore disabled signature scheme: rsa_md5\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.697 UTC|null:-1|Ignore, context unavailable extension: cookie\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.701 UTC|null:-1|No session to resume.\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.702 UTC|null:-1|Ignore, context unavailable extension: pre_shared_key\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.704 UTC|null:-1|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;9DFA460AFA7E191DE2C3B11C032F1EE7435A0095D7A50EEAE3314D8C40AD44CF&quot;,\n  &quot;session id&quot;          : &quot;D5858682374BC479D6E926A9B8A08F5CC0D0E8A800BD19219733FC15765C2BF7&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;session_ticket (35)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;signature_algorithms (13)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.3, TLSv1.2]\n    },\n    &quot;psk_key_exchange_modes (45)&quot;: {\n      &quot;ke_modes&quot;: [psk_dhe_ke]\n    },\n    &quot;signature_algorithms_cert (50)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;key_share (51)&quot;: {\n      &quot;client_shares&quot;: [  \n        {\n          &quot;named group&quot;: x25519\n          &quot;key_exchange&quot;: {\n            0000: 34 8F 95 6C E7 41 7E 7A   F0 D3 B4 BC 2E 18 CA A7  4..l.A.z........\n            0010: 21 7D 8F 4C CE 5A A9 63   F2 93 D3 CA C2 E2 FE 04  !..L.Z.c........\n          }\n        },\n        {\n          &quot;named group&quot;: secp256r1\n          &quot;key_exchange&quot;: {\n            0000: 04 FC E1 E7 6A 86 69 20   B0 21 40 28 9F 4F C9 8A  ....j.i .!@(.O..\n            0010: 43 0E A9 31 FB A1 8B 26   F8 5F CC F3 BC D5 34 AC  C..1...&amp;._....4.\n            0020: E3 F6 92 B4 8C C9 3E 8C   04 94 2E D4 D3 A5 EF 0D  ......&gt;.........\n            0030: 7D 44 90 BE AB 90 89 B3   6A E9 F3 BF 6B D8 E0 EC  .D......j...k...\n            0040: 71 \n          }\n        },\n      ]\n    },\n    &quot;renegotiation_info (65,281)&quot;: {\n      &quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\n    }\n  ]\n}\n)\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.704 UTC|null:-1|WRITE: TLSv1.3 handshake, length = 388\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.706 UTC|null:-1|Raw write (\n  0000: 16 03 03 01 84 01 00 01   80 03 03 9D FA 46 0A FA  .............F..\n  0010: 7E 19 1D E2 C3 B1 1C 03   2F 1E E7 43 5A 00 95 D7  ......../..CZ...\n  0020: A5 0E EA E3 31 4D 8C 40   AD 44 CF 20 D5 85 86 82  ....1M.@.D. ....\n  0030: 37 4B C4 79 D6 E9 26 A9   B8 A0 8F 5C C0 D0 E8 A8  7K.y..&amp;....\\....\n  0040: 00 BD 19 21 97 33 FC 15   76 5C 2B F7 00 16 C0 2C  ...!.3..v\\+....,\n  0050: C0 2B C0 2F C0 30 C0 13   C0 14 00 9C 00 2F 00 35  .+./.0......./.5\n  0060: 13 01 13 02 01 00 01 21   00 05 00 05 01 00 00 00  .......!........\n  0070: 00 00 0A 00 16 00 14 00   1D 00 17 00 18 00 19 00  ................\n  0080: 1E 01 00 01 01 01 02 01   03 01 04 00 0B 00 02 01  ................\n  0090: 00 00 11 00 09 00 07 02   00 04 00 00 00 00 00 17  ................\n  00A0: 00 00 00 23 00 00 00 0D   00 2C 00 2A 04 03 05 03  ...#.....,.*....\n  00B0: 06 03 08 07 08 08 08 04   08 05 08 06 08 09 08 0A  ................\n  00C0: 08 0B 04 01 05 01 06 01   04 02 03 03 03 01 03 02  ................\n  00D0: 02 03 02 01 02 02 00 2B   00 05 04 03 04 03 03 00  .......+........\n  00E0: 2D 00 02 01 01 00 32 00   2C 00 2A 04 03 05 03 06  -.....2.,.*.....\n  00F0: 03 08 07 08 08 08 04 08   05 08 06 08 09 08 0A 08  ................\n  0100: 0B 04 01 05 01 06 01 04   02 03 03 03 01 03 02 02  ................\n  0110: 03 02 01 02 02 00 33 00   6B 00 69 00 1D 00 20 34  ......3.k.i... 4\n  0120: 8F 95 6C E7 41 7E 7A F0   D3 B4 BC 2E 18 CA A7 21  ..l.A.z........!\n  0130: 7D 8F 4C CE 5A A9 63 F2   93 D3 CA C2 E2 FE 04 00  ..L.Z.c.........\n  0140: 17 00 41 04 FC E1 E7 6A   86 69 20 B0 21 40 28 9F  ..A....j.i .!@(.\n  0150: 4F C9 8A 43 0E A9 31 FB   A1 8B 26 F8 5F CC F3 BC  O..C..1...&amp;._...\n  0160: D5 34 AC E3 F6 92 B4 8C   C9 3E 8C 04 94 2E D4 D3  .4.......&gt;......\n  0170: A5 EF 0D 7D 44 90 BE AB   90 89 B3 6A E9 F3 BF 6B  ....D......j...k\n  0180: D8 E0 EC 71 FF 01 00 01   00                       ...q.....\n)\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.713 UTC|null:-1|Raw read (\n  0000: 15 03 03 00 02 02 28                               ......(\n)\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.713 UTC|null:-1|READ: TLSv1.2 alert, length = 2\njavax.net.ssl|DEBUG|61|reactor-http-epoll-2|2022-11-14 14:10:57.714 UTC|null:-1|Received alert message (\n&quot;Alert&quot;: {\n  &quot;level&quot;      : &quot;fatal&quot;,\n  &quot;description&quot;: &quot;handshake_failure&quot;\n}\n)\njavax.net.ssl|ERROR|61|reactor-http-epoll-2|2022-11-14 14:10:57.716 UTC|null:-1|Fatal (HANDSHAKE_FAILURE): Received fatal alert: handshake_failure (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n  at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\n  at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\n  at java.base/sun.security.ssl.SSLEngineImpl.decode(Unknown Source)\n  at java.base/sun.security.ssl.SSLEngineImpl.readRecord(Unknown Source)\n  at java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\n  at java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\n  at java.base/javax.net.ssl.SSLEngine.unwrap(Unknown Source)\n  at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296)\n  at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343)\n  at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236)\n  at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285)\n  at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519)\n  at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458)\n  at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n  at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n  at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n  at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n  at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n  at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n  at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n  at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n  at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n  at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n  at java.base/java.lang.Thread.run(Unknown Source)}\n\n)\njavax.net.ssl|ALL|61|reactor-http-epoll-2|2022-11-14 14:10:57.716 UTC|null:-1|Invalidated session:  Session(1668435057686|SSL_NULL_WITH_NULL_NULL)\n2022-11-14 14:10:57.724 ERROR 1 --- [or-http-epoll-2] a.w.r.e.AbstractErrorWebExceptionHandler : [7b30e4fb-2]  500 Server Error for HTTP GET &quot;/api/subjects/connect-status-value/versions&quot;\n\norg.springframework.web.reactive.function.client.WebClientRequestException: Received fatal alert: handshake_failure; nested exception is javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar:5.3.23]\nSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n*__checkpoint ? Request to GET https://schema-registry:8081/subjects/connect-status-value/versions [DefaultWebClient]\n*__checkpoint ? Handler com.ideasbucket.tansen.controller.api.SubjectController#getVersionsBySubject(String, Continuation) [DispatcherHandler]\n*__checkpoint ? org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\n*__checkpoint ? HTTP GET &quot;/api/subjects/connect-status-value/versions&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\nat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.23.jar:5.3.23]\nat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:307) ~[reactor-netty-http-1.0.24.jar:1.0.24]\nat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.24.jar:3.4.24]\nat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:204) ~[reactor-netty-core-1.0.24.jar:1.0.24]\nat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:454) ~[reactor-netty-core-1.0.24.jar:1.0.24]\nat reactor.netty.channel.ChannelOperationsHandler.exceptionCaught(ChannelOperationsHandler.java:147) ~[reactor-netty-core-1.0.24.jar:1.0.24]\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:346) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:325) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:317) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireExceptionCaught(CombinedChannelDuplexHandler.java:424) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.ChannelHandlerAdapter.exceptionCaught(ChannelHandlerAdapter.java:92) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.CombinedChannelDuplexHandler$1.fireExceptionCaught(CombinedChannelDuplexHandler.java:145) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:143) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.CombinedChannelDuplexHandler.exceptionCaught(CombinedChannelDuplexHandler.java:231) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:346) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:325) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:317) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:850) ~[reactor-netty-core-1.0.24.jar:1.0.24]\nat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:400) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:376) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:368) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.handleUnwrapThrowable(SslHandler.java:1260) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1241) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLEngineImpl.decode(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLEngineImpl.readRecord(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) ~[na:na]\nat java.base/javax.net.ssl.SSLEngine.unwrap(Unknown Source) ~[na:na]\nat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:296) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1343) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:519) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397) ~[netty-transport-classes-epoll-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n\n2022-11-14 14:10:57.729  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [2d537e20, L:/172.30.0.9:50936 - R:schema-registry/172.30.0.4:8081] The connection observed an error\n\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source) ~[na:na]\nat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source) ~[na:na]\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\nat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n\n2022-11-14 14:10:57.731  WARN 1 --- [or-http-epoll-2] r.netty.http.client.HttpClientConnect    : [2d537e20, L:/172.30.0.9:50936 ! R:schema-registry/172.30.0.4:8081] The connection observed an error\n\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:458) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\n... 15 common frames omitted\n\n\n</code></pre>\n<p>But I am unable to pinpoint the real cause of the exception. Is there anything that I am missing from <code>WebClient</code> config side.</p>\n"},{"tags":["java","apache-camel","naming-conventions","dsl"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668376486,"post_id":74425042,"comment_id":131384354,"body_markdown":"For me, the question is unclear. Can you [edit] the post and give some examples of the different cases?","body":"For me, the question is unclear. Can you <a href=\"https://stackoverflow.com/posts/74425042/edit\">edit</a> the post and give some examples of the different cases?"},{"owner":{"account_id":21476231,"reputation":55,"user_id":15824435,"display_name":"Ocimar"},"score":0,"creation_date":1668377644,"post_id":74425042,"comment_id":131384564,"body_markdown":"@Turing85, Okay, I just did it","body":"@Turing85, Okay, I just did it"}],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668435186,"creation_date":1668435186,"answer_id":74433009,"question_id":74425042,"body_markdown":"Generally you should use terms defined in the Enterprise integration patterns book and [website](https://www.enterpriseintegrationpatterns.com/). This is what Camel documentation uses, what Camel in Action book uses and what are generally considered to be most universal terms when using camel whether you use xml-dsl, yaml-dsl or Java-dsl. \r\n\r\nCamel Java-DSL uses something like [Builder design pattern](https://en.wikipedia.org/wiki/Builder_pattern) that uses [method-chaining technique](https://en.wikipedia.org/wiki/Method_chaining) to define routes.\r\n\r\nIn Java-DSL when you call `from(&quot;direct:example&quot;)` method in your route-builder Camel creates new RouteDefition with `direct:example` Consumer-endpoint. The Method returns you the `RouteDefinition` object which you can then use to add Producer-endpoints and processors to that `RouteDefinition` generally using a [pipeline](https://camel.apache.org/components/latest/eips/pipeline-eip.html).\r\n\r\n**Examples:**\r\n- from() -&gt; Consumer endpoint\r\n- to() -&gt; Producer endpoint / Enricher\r\n- removeHeader, setHeader, unmarshal and setBody -&gt; Processors\r\n- split() -&gt; Spillter\r\n- aggregate() -&gt; Aggregator","title":"How should I name Apache Camel DSL elements? Are they &quot;functions&quot;? &quot;Methods&quot;? &quot;Verbs&quot;?","body":"<p>Generally you should use terms defined in the Enterprise integration patterns book and <a href=\"https://www.enterpriseintegrationpatterns.com/\" rel=\"nofollow noreferrer\">website</a>. This is what Camel documentation uses, what Camel in Action book uses and what are generally considered to be most universal terms when using camel whether you use xml-dsl, yaml-dsl or Java-dsl.</p>\n<p>Camel Java-DSL uses something like <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder design pattern</a> that uses <a href=\"https://en.wikipedia.org/wiki/Method_chaining\" rel=\"nofollow noreferrer\">method-chaining technique</a> to define routes.</p>\n<p>In Java-DSL when you call <code>from(&quot;direct:example&quot;)</code> method in your route-builder Camel creates new RouteDefition with <code>direct:example</code> Consumer-endpoint. The Method returns you the <code>RouteDefinition</code> object which you can then use to add Producer-endpoints and processors to that <code>RouteDefinition</code> generally using a <a href=\"https://camel.apache.org/components/latest/eips/pipeline-eip.html\" rel=\"nofollow noreferrer\">pipeline</a>.</p>\n<p><strong>Examples:</strong></p>\n<ul>\n<li>from() -&gt; Consumer endpoint</li>\n<li>to() -&gt; Producer endpoint / Enricher</li>\n<li>removeHeader, setHeader, unmarshal and setBody -&gt; Processors</li>\n<li>split() -&gt; Spillter</li>\n<li>aggregate() -&gt; Aggregator</li>\n</ul>\n"}],"owner":{"account_id":21476231,"reputation":55,"user_id":15824435,"display_name":"Ocimar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668435186,"creation_date":1668376408,"question_id":74425042,"body_markdown":"When I want to refer to the elements used in creating a [route in Apache Camel](https://camel.apache.org/manual/routes.html) (like `from`, `setBody`, `to`, etc), what name should I use? Just call it a &quot;function&quot;? Can I call &quot;method&quot;? Or does it have a more specific and appropriate name?\r\n\r\nI&#39;ve seen people calling it &quot;verb&quot;. Would that be an appropriate nomination too?\r\n\r\nAn example of route definition is:\r\n```java\r\nfrom(&quot;rest:post:bin&quot;)\r\n.removeHeader(Exchange.HTTP_URI)\r\n.setHeader(&quot;CamelHttpMethod&quot;, constant(&quot;POST&quot;))\r\n.to(&quot;http://httpbin.org/anything&quot;)\r\n.unmarshal().json(JsonLibrary.Gson)\r\n.setBody(simple(&quot;${body[data]}&quot;))\r\n```\r\n\r\nIn this example we use the `from`, `removeHeader`, `setHeader`, `to`, `unmarshal` and `setBody` elements of the Java DSL.\r\n\r\nI know that, programmatically, they are function and methods. But using code is not the only way to define a route. We can use these same elements to define a route using the [XML or Yaml DSL](https://camel.apache.org/manual/dsl.html), for example. So I imagine that simply calling &quot;function&quot; might not be the most appropriate option for naming these DSL elements.\r\n\r\n\r\nThanks!","title":"How should I name Apache Camel DSL elements? Are they &quot;functions&quot;? &quot;Methods&quot;? &quot;Verbs&quot;?","body":"<p>When I want to refer to the elements used in creating a <a href=\"https://camel.apache.org/manual/routes.html\" rel=\"nofollow noreferrer\">route in Apache Camel</a> (like <code>from</code>, <code>setBody</code>, <code>to</code>, etc), what name should I use? Just call it a &quot;function&quot;? Can I call &quot;method&quot;? Or does it have a more specific and appropriate name?</p>\n<p>I've seen people calling it &quot;verb&quot;. Would that be an appropriate nomination too?</p>\n<p>An example of route definition is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;rest:post:bin&quot;)\n.removeHeader(Exchange.HTTP_URI)\n.setHeader(&quot;CamelHttpMethod&quot;, constant(&quot;POST&quot;))\n.to(&quot;http://httpbin.org/anything&quot;)\n.unmarshal().json(JsonLibrary.Gson)\n.setBody(simple(&quot;${body[data]}&quot;))\n</code></pre>\n<p>In this example we use the <code>from</code>, <code>removeHeader</code>, <code>setHeader</code>, <code>to</code>, <code>unmarshal</code> and <code>setBody</code> elements of the Java DSL.</p>\n<p>I know that, programmatically, they are function and methods. But using code is not the only way to define a route. We can use these same elements to define a route using the <a href=\"https://camel.apache.org/manual/dsl.html\" rel=\"nofollow noreferrer\">XML or Yaml DSL</a>, for example. So I imagine that simply calling &quot;function&quot; might not be the most appropriate option for naming these DSL elements.</p>\n<p>Thanks!</p>\n"},{"tags":["java","arrays","algorithm","arraylist"],"comments":[{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1652593230,"post_id":72245392,"comment_id":127640503,"body_markdown":"You could also use the [quick-select algoritm](https://en.wikipedia.org/wiki/Quickselect); I have a suspicion that that would be even faster in practice because it doesn&#39;t copy, and doesn&#39;t need to sort the whole list.","body":"You could also use the <a href=\"https://en.wikipedia.org/wiki/Quickselect\" rel=\"nofollow noreferrer\">quick-select algoritm</a>; I have a suspicion that that would be even faster in practice because it doesn&#39;t copy, and doesn&#39;t need to sort the whole list."}],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652587855,"creation_date":1652587855,"answer_id":72245461,"question_id":72245392,"body_markdown":"Sort the stream is descending order of their lengths and skip first 2 elements. Requires java 11\r\n    \r\n    import java.util.*;\r\n    \r\n    class ThirdLongest\r\n    {\r\n        public static void main(String[] args) {\r\n            String[] words={&quot;Word&quot;,&quot;Longer Word&quot;,&quot;Longest Word Here&quot;};\r\n            \r\n            String word=Arrays.stream(words)\r\n                .sorted((s1,s2)-&gt;Integer.compare(s2.length(),s1.length()))\r\n                .skip(2)\r\n                .findFirst()\r\n                .get();\r\n                    \r\n           System.out.println(word);\r\n        }\r\n    }\r\n\r\nOr\r\n\r\nJust sort the Array in descending order and return 3rd element\r\n\r\n    Arrays.sort(words,(s1,s2)-&gt;Integer.compare(s2.length(),s1.length()));\r\n\r\n    return words[2];\r\n","title":"Finding the third largest string from an array of strings in Java","body":"<p>Sort the stream is descending order of their lengths and skip first 2 elements. Requires java 11</p>\n<pre><code>import java.util.*;\n\nclass ThirdLongest\n{\n    public static void main(String[] args) {\n        String[] words={&quot;Word&quot;,&quot;Longer Word&quot;,&quot;Longest Word Here&quot;};\n        \n        String word=Arrays.stream(words)\n            .sorted((s1,s2)-&gt;Integer.compare(s2.length(),s1.length()))\n            .skip(2)\n            .findFirst()\n            .get();\n                \n       System.out.println(word);\n    }\n}\n</code></pre>\n<p>Or</p>\n<p>Just sort the Array in descending order and return 3rd element</p>\n<pre><code>Arrays.sort(words,(s1,s2)-&gt;Integer.compare(s2.length(),s1.length()));\n\nreturn words[2];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652590341,"creation_date":1652588290,"answer_id":72245481,"question_id":72245392,"body_markdown":"As noted by others, the simple solution is to just sort the array into order based on the String size (or whatever the ordering criterion is).  Then take the third from last element from the sorted list.\r\n\r\nThat is an `O(NlogN)` solution, since the sorting step is `O(NlogN)`.\r\n\r\nHere is an `O(N)` solution.\r\n\r\n  - Take the first 3 strings from the input array and sort them.  This array of 3 will represent the third, second, and largest elements of the input array *so far*.\r\n  - Iterate over the rest of the array elements:\r\n    - If the element is less that the *current* third largest element ignore it\r\n    - Otherwise:\r\n      - Add the current element to the array of 3.\r\n      - Sort it\r\n      - Remove the first (smallest) element.\r\n\r\nAt the end, you will have performed `O(N)` tests and *at most* `O(N)` sorts of 3 or 4 element arrays.  For an overall complexity of `O(N)`.\r\n\r\nThere is scope for micro-optimizing the sort steps to avoid loops and unnecessary array creation and copying.\r\n\r\n------------------\r\n\r\nNote: if the input lists are always going to be small, then this (more complex) solution is not worth the effort.  Having a better algorithmic complexity does not guarantee better performance when the scaling variables have small values.\r\n\r\n\r\n\r\n\r\n","title":"Finding the third largest string from an array of strings in Java","body":"<p>As noted by others, the simple solution is to just sort the array into order based on the String size (or whatever the ordering criterion is).  Then take the third from last element from the sorted list.</p>\n<p>That is an <code>O(NlogN)</code> solution, since the sorting step is <code>O(NlogN)</code>.</p>\n<p>Here is an <code>O(N)</code> solution.</p>\n<ul>\n<li>Take the first 3 strings from the input array and sort them.  This array of 3 will represent the third, second, and largest elements of the input array <em>so far</em>.</li>\n<li>Iterate over the rest of the array elements:\n<ul>\n<li>If the element is less that the <em>current</em> third largest element ignore it</li>\n<li>Otherwise:\n<ul>\n<li>Add the current element to the array of 3.</li>\n<li>Sort it</li>\n<li>Remove the first (smallest) element.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>At the end, you will have performed <code>O(N)</code> tests and <em>at most</em> <code>O(N)</code> sorts of 3 or 4 element arrays.  For an overall complexity of <code>O(N)</code>.</p>\n<p>There is scope for micro-optimizing the sort steps to avoid loops and unnecessary array creation and copying.</p>\n<hr />\n<p>Note: if the input lists are always going to be small, then this (more complex) solution is not worth the effort.  Having a better algorithmic complexity does not guarantee better performance when the scaling variables have small values.</p>\n"}],"owner":{"account_id":15759953,"reputation":13,"user_id":11371936,"display_name":"Leonlit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72245461,"answer_count":2,"score":0,"last_activity_date":1668434853,"creation_date":1652586482,"question_id":72245392,"body_markdown":"One of my friends asked me about a coding challenge that their lecturer gave them as an exercise. I got a solution working to solve it. But I think the solution is too lengthy for a categorised question as easy. So, I would like to ask if there&#39;s a more straightforward way to solve the challenge.\r\n\r\n\r\nHave the function third_greatest() that takes an array of strings and returns the third-largest word. So, for example: if the array is [&quot;hello&quot;, &quot;world&quot;, &quot;before&quot;, &quot;noon&quot;], the output should be &quot;world&quot; because &quot;before&quot; is six letters long, and &quot;hello&quot; and &quot;world&quot; are both 5, but the output should be &quot;world&quot; because it appeared as the last five-letter word in\r\nthe array. If the array was [&quot;hello&quot;, &quot;world&quot;, &quot;after&quot;, &quot;noon&quot;], the output should be &quot;after&quot; because the first three words are all five letters long, so return the last one. The array will have at least three strings, and each string will only contain letters.\r\n\r\nThe solution I&#39;ve come up with used HashMap to store the strings in a dictionary manner. The Hashmap will store data in the form of Integer and ArrayList, the length and the words that have that length. Once the code finished iterating the String array and put the respective strings into their separate group, I then extracted all the keys (length) found in the array from the Hashmap, sorting them in ascending order. After that, all the values in the Hashmap&#39;s ArrayList will be transferred to another ArrayList. Finally, it returns the third String of the new ArrayList to the function caller. \r\n\r\nThanks. \r\n\r\n``` Java\r\nimport java.util.Arrays;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\n\r\nclass Main {\r\n    public static void main (String args[]) {\r\n        String test[] = {&quot;hello&quot;, &quot;world&quot;, &quot;before&quot;, &quot;noon&quot;};\r\n        System.out.println(third_greatest(test));\r\n    }\r\n\r\n    public static String third_greatest(String words[]) {\r\n        HashMap&lt;Integer, ArrayList&lt;String&gt;&gt; words_length = new HashMap&lt;Integer, ArrayList&lt;String&gt;&gt;();\r\n        for (String word : words) {\r\n            int length = word.length();\r\n            if (words_length.containsKey(length)) {\r\n                words_length.get(length).add(word);\r\n            } else {\r\n                ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;();\r\n                temp.add(word);\r\n                words_length.put(length, temp);\r\n            }\r\n        }\r\n        Object keys[] = words_length.keySet().toArray();\r\n        Integer sorted[] = new Integer[words_length.size()];\r\n        for (int x = 0; x &lt; keys.length; x++) {\r\n            sorted[x] = (Integer)keys[x];\r\n        }\r\n        Arrays.sort(sorted);\r\n        ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n        for (int x = sorted.length - 1; x &gt;= 0; x--) {\r\n            ArrayList&lt;String&gt; temp = words_length.get(sorted[x]);\r\n            for (String word : temp) {\r\n                results.add(word);\r\n            }\r\n        }\r\n        return results.get(2);\r\n    }\r\n}\r\n\r\n```","title":"Finding the third largest string from an array of strings in Java","body":"<p>One of my friends asked me about a coding challenge that their lecturer gave them as an exercise. I got a solution working to solve it. But I think the solution is too lengthy for a categorised question as easy. So, I would like to ask if there's a more straightforward way to solve the challenge.</p>\n<p>Have the function third_greatest() that takes an array of strings and returns the third-largest word. So, for example: if the array is [&quot;hello&quot;, &quot;world&quot;, &quot;before&quot;, &quot;noon&quot;], the output should be &quot;world&quot; because &quot;before&quot; is six letters long, and &quot;hello&quot; and &quot;world&quot; are both 5, but the output should be &quot;world&quot; because it appeared as the last five-letter word in\nthe array. If the array was [&quot;hello&quot;, &quot;world&quot;, &quot;after&quot;, &quot;noon&quot;], the output should be &quot;after&quot; because the first three words are all five letters long, so return the last one. The array will have at least three strings, and each string will only contain letters.</p>\n<p>The solution I've come up with used HashMap to store the strings in a dictionary manner. The Hashmap will store data in the form of Integer and ArrayList, the length and the words that have that length. Once the code finished iterating the String array and put the respective strings into their separate group, I then extracted all the keys (length) found in the array from the Hashmap, sorting them in ascending order. After that, all the values in the Hashmap's ArrayList will be transferred to another ArrayList. Finally, it returns the third String of the new ArrayList to the function caller.</p>\n<p>Thanks.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\n\nclass Main {\n    public static void main (String args[]) {\n        String test[] = {&quot;hello&quot;, &quot;world&quot;, &quot;before&quot;, &quot;noon&quot;};\n        System.out.println(third_greatest(test));\n    }\n\n    public static String third_greatest(String words[]) {\n        HashMap&lt;Integer, ArrayList&lt;String&gt;&gt; words_length = new HashMap&lt;Integer, ArrayList&lt;String&gt;&gt;();\n        for (String word : words) {\n            int length = word.length();\n            if (words_length.containsKey(length)) {\n                words_length.get(length).add(word);\n            } else {\n                ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;();\n                temp.add(word);\n                words_length.put(length, temp);\n            }\n        }\n        Object keys[] = words_length.keySet().toArray();\n        Integer sorted[] = new Integer[words_length.size()];\n        for (int x = 0; x &lt; keys.length; x++) {\n            sorted[x] = (Integer)keys[x];\n        }\n        Arrays.sort(sorted);\n        ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\n        for (int x = sorted.length - 1; x &gt;= 0; x--) {\n            ArrayList&lt;String&gt; temp = words_length.get(sorted[x]);\n            for (String word : temp) {\n                results.add(word);\n            }\n        }\n        return results.get(2);\n    }\n}\n\n</code></pre>\n"},{"tags":["javascript","java","android","jquery","android-security"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668434734,"post_id":74432881,"comment_id":131397189,"body_markdown":"Switch to an updated version of [jQuery](https://jquery.com/download/), currently it&#39;s at 1.11.0","body":"Switch to an updated version of <a href=\"https://jquery.com/download/\" rel=\"nofollow noreferrer\">jQuery</a>, currently it&#39;s at 1.11.0"},{"owner":{"account_id":20501195,"reputation":1,"user_id":15045099,"display_name":"Etsenumhe Timothy"},"score":0,"creation_date":1668766470,"post_id":74432881,"comment_id":131491258,"body_markdown":"Please how do I update the jQuery version?","body":"Please how do I update the jQuery version?"}],"owner":{"account_id":20501195,"reputation":1,"user_id":15045099,"display_name":"Etsenumhe Timothy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668434626,"creation_date":1668434626,"question_id":74432881,"body_markdown":"In my Play Developer console I see the following message for an updated android app I have in my store:\r\n\r\nVulnerable Libraries\r\nYour app contains one or more libraries with known security issues. Please see this Google Help Center article for details.\r\n\r\nJavaScript jquery 1.9.1 SNYK-npm:jquery:20110606\r\nSNYK-npm:jquery:20150627\r\nSNYK-JS-JQUERY-174006 assets/helix/vendor/jquery.js\r\n\r\nPlease how can I solve this error?","title":"android-security ... How do I fix this jquery security alert: &quot;Your app contains one or more libraries with known security issues&quot;","body":"<p>In my Play Developer console I see the following message for an updated android app I have in my store:</p>\n<p>Vulnerable Libraries\nYour app contains one or more libraries with known security issues. Please see this Google Help Center article for details.</p>\n<p>JavaScript jquery 1.9.1 SNYK-npm:jquery:20110606\nSNYK-npm:jquery:20150627\nSNYK-JS-JQUERY-174006 assets/helix/vendor/jquery.js</p>\n<p>Please how can I solve this error?</p>\n"},{"tags":["java","wiremock"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668383288,"post_id":74425651,"comment_id":131385445,"body_markdown":"Please execute the command: `$&gt; mvn clean package` Then we continue ...","body":"Please execute the command: <code>$&gt; mvn clean package</code> Then we continue ..."},{"owner":{"account_id":364224,"reputation":313,"user_id":708489,"accept_rate":58,"display_name":"PPGoodMan"},"score":0,"creation_date":1668384002,"post_id":74425651,"comment_id":131385555,"body_markdown":"@kladderradatsch thanks for the suggestion. I&#39;m still getting the same &#39;cannot find symbol errrors&#39;.","body":"@kladderradatsch thanks for the suggestion. I&#39;m still getting the same &#39;cannot find symbol errrors&#39;."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668385328,"post_id":74425651,"comment_id":131385752,"body_markdown":"Remove `&lt;scope&gt;test&lt;/scope&gt;` in your `pom.xml` because your main class is not in the test scope. That leads to the further question why do you use Wiremock in a class which is not a test? Don&#39;t do this!","body":"Remove <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code> in your <code>pom.xml</code> because your main class is not in the test scope. That leads to the further question why do you use Wiremock in a class which is not a test? Don&#39;t do this!"},{"owner":{"account_id":364224,"reputation":313,"user_id":708489,"accept_rate":58,"display_name":"PPGoodMan"},"score":0,"creation_date":1668387080,"post_id":74425651,"comment_id":131385931,"body_markdown":"@kladderradatsch I removed it. I&#39;m still having the same problem. The reason for doing this is because I need to test some other component written as a separate stand alone program. I need a http server with good programmatic control over the output. Is there any other recommended way of doing this?","body":"@kladderradatsch I removed it. I&#39;m still having the same problem. The reason for doing this is because I need to test some other component written as a separate stand alone program. I need a http server with good programmatic control over the output. Is there any other recommended way of doing this?"}],"answers":[{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668434343,"creation_date":1668434343,"answer_id":74432816,"question_id":74425651,"body_markdown":"WireMock is just for testing but you&#39;ve put it into the implementation scope of your code base (i.e. in folder *src/main/java*) by referring to it in a main class. However, it cannot be available there because the dependency is equipped with `&lt;scope&gt;test&lt;/scope&gt;`. Leave it as it is and configure WireMock in your test classes (i.e. in folder *src/test/java*) like the [WireMock&#39;s documentation](https://wiremock.org/docs/junit-jupiter/) shows it:\r\n\r\n```\r\n@WireMockTest(httpPort = 8080)\r\npublic class FixedPortDeclarativeWireMockTest {\r\n    ...\r\n}\r\n```\r\nThat code snippet above has the same effect as what you did in the main class.","title":"Unable to run a plain Java Wiremock","body":"<p>WireMock is just for testing but you've put it into the implementation scope of your code base (i.e. in folder <em>src/main/java</em>) by referring to it in a main class. However, it cannot be available there because the dependency is equipped with <code>&lt;scope&gt;test&lt;/scope&gt;</code>. Leave it as it is and configure WireMock in your test classes (i.e. in folder <em>src/test/java</em>) like the <a href=\"https://wiremock.org/docs/junit-jupiter/\" rel=\"nofollow noreferrer\">WireMock's documentation</a> shows it:</p>\n<pre><code>@WireMockTest(httpPort = 8080)\npublic class FixedPortDeclarativeWireMockTest {\n    ...\n}\n</code></pre>\n<p>That code snippet above has the same effect as what you did in the main class.</p>\n"}],"owner":{"account_id":364224,"reputation":313,"user_id":708489,"accept_rate":58,"display_name":"PPGoodMan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668434343,"creation_date":1668382913,"question_id":74425651,"body_markdown":"I&#39;m an absolute beginner to Wiremock, Maven and stuff. I just want to run Wiremock server in my Java program. I got Maven installed and used [this][1] and [this][2] guides to try and get Wiremock running inside my java code. My `pom.xml` file looks like this:\r\n\r\n    &lt;project&gt;\r\n         &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n         &lt;groupId&gt;com.mycode&lt;/groupId&gt;\r\n         &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n         &lt;version&gt;1.0&lt;/version&gt;\r\n         &lt;properties&gt;\r\n              &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n              &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n         &lt;/properties&gt;\r\n         &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                   &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n                   &lt;version&gt;2.35.0&lt;/version&gt;\r\n                   &lt;scope&gt;test&lt;/scope&gt;  \r\n              &lt;/dependency&gt;\r\n         &lt;/dependencies&gt;    \r\n    &lt;/project&gt;\r\n\r\nAnd my Java code which resides in a file called testWiremock.java looks like this:\r\n\r\n    public class testWiremock{\r\n         public static void main(String[] args){\r\n              WireMockServer wiremockServer = new WireMockServer(options().port(8080));\r\n              wireMockServer.start();\r\n              System.out.println(&quot;Server running successfully!&quot;);\r\n              wreMockServer.stop();\r\n         }\r\n    }\r\n\r\nWhen I try to compile it with `mvn compile`, I get the following error:\r\n\r\n    ppgoodman@CWGXXXXQCL wiretest % mvn compile\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO]\r\n    com.mycode:test\r\n    [INFO] Building test 1.0\r\n    [INFO]\r\n    [ jar ]---\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6: resources (default-resources) @ test ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent! [INFO] skip non existing resourceDirectory /Users/ppgoodman/Documents/programming/wiretest/src/main/resources [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ test ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent! [INFO] Compiling 1 source file to /Users/ppgoodman/Documents/programming/wiretest/target/classes [INFO]\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO]\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,9] cannot find symbol symbol: class WireMockServer\r\n    location: class testWiremock\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,45] cannot find symbol symbol: class WireMockServer\r\n    location: class testWiremock\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,60] cannot find symbol symbol: method options()\r\n    location: class testWiremock\r\n    [INFO] 3 errors\r\n    [INFO]\r\n    [INFO]\r\n    [INFO] BUILD FAILURE\r\n    [INFO]\r\n    [INFO] Total time: 8.432 s\r\n    [INFO] Finished at: 2822-11-13T18:29:49-05:00\r\n    [INFO]\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project test: Compilation failure: Compilation failure: [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,9] cannot find symbol\r\n    [ERROR]\r\n    symbol: class WireMockServer\r\n    [ERROR] location: class testwiremock\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,45] cannot find symbol [ERROR] symbol: class WireMockServer\r\n    [ERROR] location: class testWiremock\r\n    wiretest-zsh-245x68\r\n    [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,60] cannot find symbol [ERROR]\r\n    symbol: method options()\r\n    [ERROR] location: class testWiremock\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException \r\n\r\nWhat am I missing here? Do I have to have any imports? Any help would be greatly appreciated.\r\n\r\n\r\n  [1]: https://wiremock.org/docs/getting-started/\r\n  [2]: https://wiremock.org/docs/java-usage/\r\n","title":"Unable to run a plain Java Wiremock","body":"<p>I'm an absolute beginner to Wiremock, Maven and stuff. I just want to run Wiremock server in my Java program. I got Maven installed and used <a href=\"https://wiremock.org/docs/getting-started/\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://wiremock.org/docs/java-usage/\" rel=\"nofollow noreferrer\">this</a> guides to try and get Wiremock running inside my java code. My <code>pom.xml</code> file looks like this:</p>\n<pre><code>&lt;project&gt;\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n     &lt;groupId&gt;com.mycode&lt;/groupId&gt;\n     &lt;artifactId&gt;test&lt;/artifactId&gt;\n     &lt;version&gt;1.0&lt;/version&gt;\n     &lt;properties&gt;\n          &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n          &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n     &lt;/properties&gt;\n     &lt;dependencies&gt;\n          &lt;dependency&gt;\n               &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n               &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n               &lt;version&gt;2.35.0&lt;/version&gt;\n               &lt;scope&gt;test&lt;/scope&gt;  \n          &lt;/dependency&gt;\n     &lt;/dependencies&gt;    \n&lt;/project&gt;\n</code></pre>\n<p>And my Java code which resides in a file called testWiremock.java looks like this:</p>\n<pre><code>public class testWiremock{\n     public static void main(String[] args){\n          WireMockServer wiremockServer = new WireMockServer(options().port(8080));\n          wireMockServer.start();\n          System.out.println(&quot;Server running successfully!&quot;);\n          wreMockServer.stop();\n     }\n}\n</code></pre>\n<p>When I try to compile it with <code>mvn compile</code>, I get the following error:</p>\n<pre><code>ppgoodman@CWGXXXXQCL wiretest % mvn compile\n[INFO] Scanning for projects...\n[INFO]\n[INFO]\ncom.mycode:test\n[INFO] Building test 1.0\n[INFO]\n[ jar ]---\n[INFO]\n[INFO] --- maven-resources-plugin:2.6: resources (default-resources) @ test ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent! [INFO] skip non existing resourceDirectory /Users/ppgoodman/Documents/programming/wiretest/src/main/resources [INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ test ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent! [INFO] Compiling 1 source file to /Users/ppgoodman/Documents/programming/wiretest/target/classes [INFO]\n[ERROR] COMPILATION ERROR :\n[INFO]\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,9] cannot find symbol symbol: class WireMockServer\nlocation: class testWiremock\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,45] cannot find symbol symbol: class WireMockServer\nlocation: class testWiremock\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,60] cannot find symbol symbol: method options()\nlocation: class testWiremock\n[INFO] 3 errors\n[INFO]\n[INFO]\n[INFO] BUILD FAILURE\n[INFO]\n[INFO] Total time: 8.432 s\n[INFO] Finished at: 2822-11-13T18:29:49-05:00\n[INFO]\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project test: Compilation failure: Compilation failure: [ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,9] cannot find symbol\n[ERROR]\nsymbol: class WireMockServer\n[ERROR] location: class testwiremock\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,45] cannot find symbol [ERROR] symbol: class WireMockServer\n[ERROR] location: class testWiremock\nwiretest-zsh-245x68\n[ERROR] /Users/ppgoodman/Documents/programming/wiretest/src/main/java/testWiremock.java: [4,60] cannot find symbol [ERROR]\nsymbol: method options()\n[ERROR] location: class testWiremock\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException \n</code></pre>\n<p>What am I missing here? Do I have to have any imports? Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1667480573,"post_id":74303295,"comment_id":131179666,"body_markdown":"What makes you think that there is an extra query with the second approach?","body":"What makes you think that there is an extra query with the second approach?"},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1667484590,"post_id":74303295,"comment_id":131181332,"body_markdown":"If I use a bidirectional relationship I need to keep synchronized both sides, so when I insert a badge I should call the method userService.addBadge which will fetch the whole collection.","body":"If I use a bidirectional relationship I need to keep synchronized both sides, so when I insert a badge I should call the method userService.addBadge which will fetch the whole collection."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667487143,"post_id":74303295,"comment_id":131182442,"body_markdown":"You &#39;should&#39; but don&#39;t have to. The owning side of the relationship controls the FK, so it is the only side you must update. The other is recommended, but isn&#39;t mandatory; If you must maintain it, do so. If you can&#39;t, just figure out the effects and verify you can live with it. Ie the relationship will be stale if you don&#39;t maintain it, cache that parent for any length of time - non-issues if you never fetch the relationship.","body":"You &#39;should&#39; but don&#39;t have to. The owning side of the relationship controls the FK, so it is the only side you must update. The other is recommended, but isn&#39;t mandatory; If you must maintain it, do so. If you can&#39;t, just figure out the effects and verify you can live with it. Ie the relationship will be stale if you don&#39;t maintain it, cache that parent for any length of time - non-issues if you never fetch the relationship."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667487175,"post_id":74303295,"comment_id":131182455,"body_markdown":"To avoid performance issues on delete, let the database do the delete for you with the ON DELETE CASCADE option. EclipseLInk has an annotation (see https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_cascadeondelete.htm ) so it avoids the query and Hibernate must have something similar. The overhead involved should determine which you go with, but only testing can tell you which is really better for your application. I&#39;ve gone with variations of all 3 approaches for various reasons in the same project - none are perfect one fits all type solutions.","body":"To avoid performance issues on delete, let the database do the delete for you with the ON DELETE CASCADE option. EclipseLInk has an annotation (see <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_cascadeondelete.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.4/jpa/extensions/&hellip;</a> ) so it avoids the query and Hibernate must have something similar. The overhead involved should determine which you go with, but only testing can tell you which is really better for your application. I&#39;ve gone with variations of all 3 approaches for various reasons in the same project - none are perfect one fits all type solutions."},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1668709141,"post_id":74303295,"comment_id":131478002,"body_markdown":"@Chris If I have to create a bidirectional relationship just to use the cascade maybe it&#39;s better to use the db cascade which is faster. As you said using the db cascade I would avoid performance issues.","body":"@Chris If I have to create a bidirectional relationship just to use the cascade maybe it&#39;s better to use the db cascade which is faster. As you said using the db cascade I would avoid performance issues."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668714117,"post_id":74303295,"comment_id":131479615,"body_markdown":"If you don&#39;t need the reference from user-&gt;badge don&#39;t map it. I&#39;ve found the opposite of your &quot;I will end up autowiring a lot of services in the user service and that is bad.&quot; to be true. It has always been beneficial in my projects that the User handling knows about all resources tied to a User. Some of those maybe just database data and there is no problem letting JPA or the DB clear them, others may exist in other places and need different mechanisms to get cleaned up. Some future dev may need to know which resources are cleared when users are and the many different paths to delete badges.","body":"If you don&#39;t need the reference from user-&gt;badge don&#39;t map it. I&#39;ve found the opposite of your &quot;I will end up autowiring a lot of services in the user service and that is bad.&quot; to be true. It has always been beneficial in my projects that the User handling knows about all resources tied to a User. Some of those maybe just database data and there is no problem letting JPA or the DB clear them, others may exist in other places and need different mechanisms to get cleaned up. Some future dev may need to know which resources are cleared when users are and the many different paths to delete badges."},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1668769678,"post_id":74303295,"comment_id":131492375,"body_markdown":"There isn&#39;t a perfect way to handle this. If I use bidirectional relationship I will end up fetching a lot of data. If I don&#39;t sync the relationship I cannot use the cache but at least I don&#39;t have to fetch the relationship and cascade works. If I use the db cascade I resolve the performance issue but then JPA cannot be notified about the changes and future dev may have hard time to understand what happens when user gets deleted. To be honest I would stick to db cascade, less code and better perfomance but it  certainly has its downsides.","body":"There isn&#39;t a perfect way to handle this. If I use bidirectional relationship I will end up fetching a lot of data. If I don&#39;t sync the relationship I cannot use the cache but at least I don&#39;t have to fetch the relationship and cascade works. If I use the db cascade I resolve the performance issue but then JPA cannot be notified about the changes and future dev may have hard time to understand what happens when user gets deleted. To be honest I would stick to db cascade, less code and better perfomance but it  certainly has its downsides."},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1668770661,"post_id":74303295,"comment_id":131492682,"body_markdown":"@Chris I could probably also implement a bidirectional mapping without syncing and not implementing caching. This would make it clear what happens when a user is deleted. I just cannot decide what&#39;s better.","body":"@Chris I could probably also implement a bidirectional mapping without syncing and not implementing caching. This would make it clear what happens when a user is deleted. I just cannot decide what&#39;s better."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668790519,"post_id":74303295,"comment_id":131499660,"body_markdown":"You do not need to ever fetch any data with a bidirectional relationship. That is what lazy (and JSONIgnore and other annotations) are for. You fetch it only if you need it, and it shows the logical mapping of the data in the model. There are other ways to do this, hundreds if you spend the time looking. JPA picked this approach because it seems most commonly used and fits most use cases. I&#39;m not sure what synching you mean (setting both sides?). Other providers (EclipseLink) can allow you to add to a lazy collection without fetching it. Pick the tradeoffs that suite your apps needs","body":"You do not need to ever fetch any data with a bidirectional relationship. That is what lazy (and JSONIgnore and other annotations) are for. You fetch it only if you need it, and it shows the logical mapping of the data in the model. There are other ways to do this, hundreds if you spend the time looking. JPA picked this approach because it seems most commonly used and fits most use cases. I&#39;m not sure what synching you mean (setting both sides?). Other providers (EclipseLink) can allow you to add to a lazy collection without fetching it. Pick the tradeoffs that suite your apps needs"}],"answers":[{"tags":[],"owner":{"account_id":9852838,"reputation":81,"user_id":7298349,"display_name":"exody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667480637,"creation_date":1667480637,"answer_id":74303538,"question_id":74303295,"body_markdown":"By handling the badge deletion in user service, you make it clear what should happen at user deletion. Now anyone who deletes an user will delete also its relations (you can think about that as a side effect). So the first way is the best that you can do. \r\n\r\nJust make sure to not try to delete users from badge service. That would mean circular dependency and would create confusion about who is the owner of the relation. ","title":"How to properly delete a ManyToOne relationship from Parent in JPA?","body":"<p>By handling the badge deletion in user service, you make it clear what should happen at user deletion. Now anyone who deletes an user will delete also its relations (you can think about that as a side effect). So the first way is the best that you can do.</p>\n<p>Just make sure to not try to delete users from badge service. That would mean circular dependency and would create confusion about who is the owner of the relation.</p>\n"},{"tags":[],"owner":{"account_id":26818074,"reputation":1,"user_id":20407794,"display_name":"Deepak Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667481739,"creation_date":1667481739,"answer_id":74303770,"question_id":74303295,"body_markdown":"First approach looks good in this scenario. To keep UserService clean you can create a PreRemove lisener on User entity which will remove all associations before user deletion, and this will help to keep UserService clean. \r\nThe next thing to handle here, you need to change CASCADE\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    @EntityListener(UderDeletionListener.class)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        private String name;\r\n    \r\n        private String lastname;\r\n    \r\n        @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Badge&gt; badges = new ArrayList&lt;Badge&gt;();\r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;badge&quot;)\r\n    public class Badge {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        \r\n        private String code;\r\n        \r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n        @JoinColumn(name = &quot;badge_id&quot;)\r\n        private User user;\r\n        \r\n    }\r\n    \r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class UderDeletionListener {\r\n      private final BadgeRepository badgeRepo;\r\n    \r\n      @PreRemove\r\n      @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n      public void onDeletion(final User user) {\r\n       badgeRepo.deleteByUserId(user.getId());\r\n      }\r\n    }","title":"How to properly delete a ManyToOne relationship from Parent in JPA?","body":"<p>First approach looks good in this scenario. To keep UserService clean you can create a PreRemove lisener on User entity which will remove all associations before user deletion, and this will help to keep UserService clean.\nThe next thing to handle here, you need to change CASCADE</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\n@EntityListener(UderDeletionListener.class)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String name;\n\n    private String lastname;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;Badge&gt; badges = new ArrayList&lt;Badge&gt;();\n\n}\n\n@Entity\n@Table(name = &quot;badge&quot;)\npublic class Badge {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String code;\n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;badge_id&quot;)\n    private User user;\n    \n}\n\n@Component\n@RequiredArgsConstructor\npublic class UderDeletionListener {\n  private final BadgeRepository badgeRepo;\n\n  @PreRemove\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\n  public void onDeletion(final User user) {\n   badgeRepo.deleteByUserId(user.getId());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668434233,"creation_date":1668434233,"answer_id":74432801,"question_id":74303295,"body_markdown":"In this Scenario its better to archive your badge rather then direct delete.\r\n\r\n    @Entity\r\n    @Table(name = &quot;badge&quot;)\r\n    public class Badge {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        \r\n        private String code;\r\n        \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;badge_id&quot;)\r\n        private User user;\r\n    \r\n        @Column(name = &quot;archived&quot;)\r\n        private boolean archived;\r\n    \r\n    }\r\n    \r\n\r\nBecause the user entity may be associated with some other entities also.\r\n\r\nSo instead of delete you may mark batch entity as archived.\r\n\r\nOr you can try the following...First Update the relation of batch user ,set it to null and then delete the badge.\r\n\r\n    @Service\r\n    public class BadgeService {\r\n    \r\n        @Autowired\r\n        BadgeRepository badgeRepository;\r\n        \r\n        public void updateBadgeUser(int id) {\r\n            Badge badge = findBadgeById(id);\r\n            badge.setUser(null);\r\n        }\r\n    \r\n        public void deleteBadge(int id) {\r\n            \r\n           badgeRepository.deleteById(id);\r\n        }\r\n        \r\n    }\r\n\r\n\r\nBut i would suggest you to follow the archive policy.","title":"How to properly delete a ManyToOne relationship from Parent in JPA?","body":"<p>In this Scenario its better to archive your badge rather then direct delete.</p>\n<pre><code>@Entity\n@Table(name = &quot;badge&quot;)\npublic class Badge {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String code;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;badge_id&quot;)\n    private User user;\n\n    @Column(name = &quot;archived&quot;)\n    private boolean archived;\n\n}\n</code></pre>\n<p>Because the user entity may be associated with some other entities also.</p>\n<p>So instead of delete you may mark batch entity as archived.</p>\n<p>Or you can try the following...First Update the relation of batch user ,set it to null and then delete the badge.</p>\n<pre><code>@Service\npublic class BadgeService {\n\n    @Autowired\n    BadgeRepository badgeRepository;\n    \n    public void updateBadgeUser(int id) {\n        Badge badge = findBadgeById(id);\n        badge.setUser(null);\n    }\n\n    public void deleteBadge(int id) {\n        \n       badgeRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<p>But i would suggest you to follow the archive policy.</p>\n"}],"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668434233,"creation_date":1667479444,"question_id":74303295,"body_markdown":"I&#39;m trying to understand how to properly delete a many to one relationship.\r\n\r\nLet&#39;s suppose I have the following entities:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\tprivate String lastname;\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;badge&quot;)\r\npublic class Badge {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t\r\n\tprivate String code;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;badge_id&quot;)\r\n\tprivate User user;\r\n\t\r\n}\r\n```\r\n\r\nNow these two entites have different controllers and services. I can delete a badge in the BadgeService and  delete a user in its service.\r\n\r\n```\r\n@Service\r\npublic class BadgeService {\r\n\r\n\t@Autowired\r\n\tBadgeRepository badgeRepository;\r\n\t\r\n\tpublic void delete(int id) {\r\n\t\tbadgeRepository.deleteById(id);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\tpublic void delete(int id) {\r\n\t\tuserRepository.deleteById(id);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThe problem is that if I delete a badge everthing works but If I delete a User a got an error due to the FK.\r\n\r\nTo solve the problem I came up with 2 ways but I was wondering if there is a better way to handle this kind of problem:\r\n\r\n## First Way\r\n\r\nI simply create a method in the badge repository to delete all badges related to the specific user.\r\n\r\n```\r\npublic interface BadgeRepository extends CrudRepository&lt;Badge, Integer&gt; {\r\n\r\n\t@Modifying\r\n\t@Query(value = &quot;DELETE Badge b WHERE b.user.id = :userId&quot;)\r\n\tpublic void deleteByUserId(@Param(&quot;userId&quot;) int userId);\r\n\r\n}\r\n```\r\n\r\nThen I create a method in the badge service.\r\n\r\n```\r\n@Service\r\npublic class BadgeService {\r\n\r\n\t@Autowired\r\n\tBadgeRepository badgeRepository;\r\n\r\n\tpublic void delete(int id) {\r\n\t\tbadgeRepository.deleteById(id);\r\n\t}\r\n\r\n\t@Transactional\r\n\tpublic void deleteByUserId(int userId) {\r\n\t\tbadgeRepository.deleteByUserId(userId);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd last I simply autowire badge service in user service and call the method in the user delete.\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tBadgeService badgeService;\r\n\t\r\n\t@Transactional\r\n\tpublic void delete(int id) {\r\n\t\tbadgeService.deleteByUserId(id);\r\n\t\tuserRepository.deleteById(id);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n### Cons:\r\n\r\nIf I have multiple relationships with the User entity, I will end up autowiring a lot of services in the user service and that is bad.\r\n\r\n## Second Way\r\n\r\nInstead of having an unidirectional relationship I create a bidirectional relationship between User and Badge.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate String lastname;\r\n\r\n\t@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\r\n\tprivate List&lt;Badge&gt; badges = new ArrayList&lt;Badge&gt;();\r\n\r\n}\r\n```\r\n\r\nAnd when I delete a user, the cascade or simplying removing the badge from the colletion will delete all the related badges.\r\n\r\n### Cons:\r\n\r\n1. Extra Query\r\n\r\n2. If the collection is too big the app performances will decrease\r\n\r\nThat being said, what would you suggest? first or second approach? Maybe there is a better approach to handle this problem?\r\n\r\nThank you all.","title":"How to properly delete a ManyToOne relationship from Parent in JPA?","body":"<p>I'm trying to understand how to properly delete a many to one relationship.</p>\n<p>Let's suppose I have the following entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String name;\n    \n    private String lastname;\n    \n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;badge&quot;)\npublic class Badge {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String code;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;badge_id&quot;)\n    private User user;\n    \n}\n</code></pre>\n<p>Now these two entites have different controllers and services. I can delete a badge in the BadgeService and  delete a user in its service.</p>\n<pre><code>@Service\npublic class BadgeService {\n\n    @Autowired\n    BadgeRepository badgeRepository;\n    \n    public void delete(int id) {\n        badgeRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    UserRepository userRepository;\n    \n    public void delete(int id) {\n        userRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<p>The problem is that if I delete a badge everthing works but If I delete a User a got an error due to the FK.</p>\n<p>To solve the problem I came up with 2 ways but I was wondering if there is a better way to handle this kind of problem:</p>\n<h2>First Way</h2>\n<p>I simply create a method in the badge repository to delete all badges related to the specific user.</p>\n<pre><code>public interface BadgeRepository extends CrudRepository&lt;Badge, Integer&gt; {\n\n    @Modifying\n    @Query(value = &quot;DELETE Badge b WHERE b.user.id = :userId&quot;)\n    public void deleteByUserId(@Param(&quot;userId&quot;) int userId);\n\n}\n</code></pre>\n<p>Then I create a method in the badge service.</p>\n<pre><code>@Service\npublic class BadgeService {\n\n    @Autowired\n    BadgeRepository badgeRepository;\n\n    public void delete(int id) {\n        badgeRepository.deleteById(id);\n    }\n\n    @Transactional\n    public void deleteByUserId(int userId) {\n        badgeRepository.deleteByUserId(userId);\n    }\n\n}\n</code></pre>\n<p>And last I simply autowire badge service in user service and call the method in the user delete.</p>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    UserRepository userRepository;\n    \n    @Autowired\n    BadgeService badgeService;\n    \n    @Transactional\n    public void delete(int id) {\n        badgeService.deleteByUserId(id);\n        userRepository.deleteById(id);\n    }\n    \n}\n</code></pre>\n<h3>Cons:</h3>\n<p>If I have multiple relationships with the User entity, I will end up autowiring a lot of services in the user service and that is bad.</p>\n<h2>Second Way</h2>\n<p>Instead of having an unidirectional relationship I create a bidirectional relationship between User and Badge.</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String name;\n\n    private String lastname;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\n    private List&lt;Badge&gt; badges = new ArrayList&lt;Badge&gt;();\n\n}\n</code></pre>\n<p>And when I delete a user, the cascade or simplying removing the badge from the colletion will delete all the related badges.</p>\n<h3>Cons:</h3>\n<ol>\n<li><p>Extra Query</p>\n</li>\n<li><p>If the collection is too big the app performances will decrease</p>\n</li>\n</ol>\n<p>That being said, what would you suggest? first or second approach? Maybe there is a better approach to handle this problem?</p>\n<p>Thank you all.</p>\n"},{"tags":["java","jvm","system-properties"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1339194285,"post_id":10956676,"comment_id":14302767,"body_markdown":"IMHO, specifying this would be a bit like warning about not putting your cat in the microwave. why would you specify the same system property twice, except if you really like problems?","body":"IMHO, specifying this would be a bit like warning about not putting your cat in the microwave. why would you specify the same system property twice, except if you really like problems?"},{"owner":{"account_id":37614,"reputation":28196,"user_id":107591,"accept_rate":91,"display_name":"RobV"},"score":2,"creation_date":1339195049,"post_id":10956676,"comment_id":14302923,"body_markdown":"In this case there are some shell scripts invoking the JVM with some default settings but users should be able to specify system properties which get passed through the script to the JVM.","body":"In this case there are some shell scripts invoking the JVM with some default settings but users should be able to specify system properties which get passed through the script to the JVM."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1339195152,"post_id":10956676,"comment_id":14302947,"body_markdown":"Ah, OK. Fair enough. I didn&#39;t think about this use-case.","body":"Ah, OK. Fair enough. I didn&#39;t think about this use-case."},{"owner":{"account_id":287119,"reputation":12309,"user_id":586748,"accept_rate":82,"display_name":"Russell"},"score":1,"creation_date":1339200824,"post_id":10956676,"comment_id":14303932,"body_markdown":"I am now desperately trying to think of a use-case for putting a cat in a microwave.","body":"I am now desperately trying to think of a use-case for putting a cat in a microwave."}],"answers":[{"tags":[],"owner":{"account_id":137288,"reputation":4528,"user_id":341369,"accept_rate":91,"display_name":"tjg184"},"down_vote_count":2,"up_vote_count":11,"is_accepted":true,"score":9,"last_activity_date":1555619353,"creation_date":1339209414,"answer_id":10957939,"question_id":10956676,"body_markdown":"The java.util.System class is backed by a Properties class, which is just an extension of Hashtable.  Assuming the values are read in order when passing as arguments to the JVM, then the last value assigned will be the final value.      ","title":"If I specify a System property multiple times when invoking JVM which value is used?","body":"<p>The java.util.System class is backed by a Properties class, which is just an extension of Hashtable.  Assuming the values are read in order when passing as arguments to the JVM, then the last value assigned will be the final value.      </p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1339212942,"creation_date":1339212942,"answer_id":10958164,"question_id":10956676,"body_markdown":"There&#39;s nothing like writing a little class to see how it works.\r\n\r\n    public class PropTest {\r\n    \r\n      public static void main(String[] args) {\r\n        System.out.println(System.getProperty(&quot;prop&quot;));\r\n      }\r\n    \r\n    }\r\n\r\nWhich when compiled and ran with the command line\r\n\r\n    java -Dprop=A -Dprop=B -Dprop=C PropTest\r\n\r\nyeilds the output\r\n\r\n    C\r\n\r\nWhich would imply that the values are put into the table left to right, with the last value overwriting previous values.\r\n\r\nJust to make a note of the environment, Fedora 16, Linux 3.3.7, 64 bit\r\n\r\n    &gt; java -version\r\n\r\n    java version &quot;1.6.0_24&quot;\r\n    OpenJDK Runtime Environment (IcedTea6 1.11.1) (fedora-65.1.11.1.fc16-x86_64)\r\n    OpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)\r\n\r\n\r\n\r\n","title":"If I specify a System property multiple times when invoking JVM which value is used?","body":"<p>There's nothing like writing a little class to see how it works.</p>\n\n<pre><code>public class PropTest {\n\n  public static void main(String[] args) {\n    System.out.println(System.getProperty(\"prop\"));\n  }\n\n}\n</code></pre>\n\n<p>Which when compiled and ran with the command line</p>\n\n<pre><code>java -Dprop=A -Dprop=B -Dprop=C PropTest\n</code></pre>\n\n<p>yeilds the output</p>\n\n<pre><code>C\n</code></pre>\n\n<p>Which would imply that the values are put into the table left to right, with the last value overwriting previous values.</p>\n\n<p>Just to make a note of the environment, Fedora 16, Linux 3.3.7, 64 bit</p>\n\n<pre><code>&gt; java -version\n\njava version \"1.6.0_24\"\nOpenJDK Runtime Environment (IcedTea6 1.11.1) (fedora-65.1.11.1.fc16-x86_64)\nOpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163645,"reputation":421,"user_id":2674117,"display_name":"MotiNK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668434169,"creation_date":1572867009,"answer_id":58692533,"question_id":10956676,"body_markdown":"I&#39;m not sure if there&#39;s anything documented for Oracle.\r\n\r\nAccording to [IBM JRE documents][1]:\r\n\r\n&gt; The sequence of the Java options on the command line defines which\r\n&gt; options take precedence during startup. Rightmost options have\r\n&gt; precedence over leftmost options.\r\n\r\n  [1]: https://www.ibm.com/support/knowledgecenter/en/SSB23S_1.1.0.15/com.ibm.java.vm.80.doc/docs/cmdline_specifying.html","title":"If I specify a System property multiple times when invoking JVM which value is used?","body":"<p>I'm not sure if there's anything documented for Oracle.</p>\n<p>According to <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSB23S_1.1.0.15/com.ibm.java.vm.80.doc/docs/cmdline_specifying.html\" rel=\"nofollow noreferrer\">IBM JRE documents</a>:</p>\n<blockquote>\n<p>The sequence of the Java options on the command line defines which\noptions take precedence during startup. Rightmost options have\nprecedence over leftmost options.</p>\n</blockquote>\n"}],"owner":{"account_id":37614,"reputation":28196,"user_id":107591,"accept_rate":91,"display_name":"RobV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13782,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":10957939,"answer_count":3,"score":26,"last_activity_date":1668434169,"creation_date":1339194011,"question_id":10956676,"body_markdown":"If I specify a system property multiple times when invoking the JVM which value will I actually get when I retrieve the property? e.g.\r\n\r\n    java -Dprop=A -Dprop=B -jar my.jar\r\n\r\nWhat will be the result when I call `System.getProperty(&quot;prop&quot;);`?\r\n\r\nThe [Java documentation][1] on this does not really tell me anything useful on this front.\r\n\r\nIn my non-scientific testing on a couple of machines running different JVMs it seems like the last value is the one returned (which is actually the behavior I need) but I wondered if this behavior is actually defined officially anywhere or can it vary between JVMs?\r\n\r\n[1]: http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html","title":"If I specify a System property multiple times when invoking JVM which value is used?","body":"<p>If I specify a system property multiple times when invoking the JVM which value will I actually get when I retrieve the property? e.g.</p>\n\n<pre><code>java -Dprop=A -Dprop=B -jar my.jar\n</code></pre>\n\n<p>What will be the result when I call <code>System.getProperty(\"prop\");</code>?</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"noreferrer\">Java documentation</a> on this does not really tell me anything useful on this front.</p>\n\n<p>In my non-scientific testing on a couple of machines running different JVMs it seems like the last value is the one returned (which is actually the behavior I need) but I wondered if this behavior is actually defined officially anywhere or can it vary between JVMs?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1668427701,"post_id":74431380,"comment_id":131394670,"body_markdown":"If I am not mistaken, committing an offset in Kafka implicitly commits *all offsets* before that!","body":"If I am not mistaken, committing an offset in Kafka implicitly commits <i>all offsets</i> before that!"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1668428041,"post_id":74431380,"comment_id":131394777,"body_markdown":"You&#39;re absolutely right!, thanks!","body":"You&#39;re absolutely right!, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668434056,"creation_date":1668434056,"answer_id":74432758,"question_id":74431380,"body_markdown":"It&#39;s a Map, so no, you cannot have multiple instances of the same `topicPartition` key. \r\n\r\nThe offset is a single number. If you were able to commit multiple, then your consumer (in the same group) would always have to start reading from the greatest of those values. \r\n\r\nYou can commit offsets for other TopicPartitions, however, in one commit call, or you can commit the same value to **other** consumer groups using a differently configured Consumer instance. ","title":"Multiple offset in same commitSync","body":"<p>It's a Map, so no, you cannot have multiple instances of the same <code>topicPartition</code> key.</p>\n<p>The offset is a single number. If you were able to commit multiple, then your consumer (in the same group) would always have to start reading from the greatest of those values.</p>\n<p>You can commit offsets for other TopicPartitions, however, in one commit call, or you can commit the same value to <strong>other</strong> consumer groups using a differently configured Consumer instance.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74432758,"answer_count":1,"score":0,"last_activity_date":1668434056,"creation_date":1668427543,"question_id":74431380,"body_markdown":"I&#39;m doing manual `commitSync` to Kafka, and I notice in the DSL they use a simple `Map` and not `MultiMap`, so I guess then every time I invoke\r\n\r\n    consumer.commitSync(Map.of(topicPartition, new OffsetAndMetadata(record.offset())))\r\n\r\nIs just for a single record in the partition.\r\n\r\nAny chance to send two offsets of the same `topicPartition` in the same `commitSync`","title":"Multiple offset in same commitSync","body":"<p>I'm doing manual <code>commitSync</code> to Kafka, and I notice in the DSL they use a simple <code>Map</code> and not <code>MultiMap</code>, so I guess then every time I invoke</p>\n<pre><code>consumer.commitSync(Map.of(topicPartition, new OffsetAndMetadata(record.offset())))\n</code></pre>\n<p>Is just for a single record in the partition.</p>\n<p>Any chance to send two offsets of the same <code>topicPartition</code> in the same <code>commitSync</code></p>\n"},{"tags":["java","postgresql","scala","prepared-statement"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1668407195,"post_id":74427563,"comment_id":131388651,"body_markdown":"Have you tried null? The null in Java could be interpreted by the Postgres driver as &quot;DEFAULT&quot;.","body":"Have you tried null? The null in Java could be interpreted by the Postgres driver as &quot;DEFAULT&quot;."},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668407426,"post_id":74427563,"comment_id":131388699,"body_markdown":"Yeah, that was the first thing I did. I&#39;m so used to using MySQL that I ran it that way to start, got the error, then realized &quot;Oh yeah, this is Postgres&quot;. Error: `The future returned an exception of type: java.lang.RuntimeException, with message: ERROR: null value in column &quot;id&quot; of relation &quot;serial_table&quot; violates not-null constraint`","body":"Yeah, that was the first thing I did. I&#39;m so used to using MySQL that I ran it that way to start, got the error, then realized &quot;Oh yeah, this is Postgres&quot;. Error: <code>The future returned an exception of type: java.lang.RuntimeException, with message: ERROR: null value in column &quot;id&quot; of relation &quot;serial_table&quot; violates not-null constraint</code>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1668409845,"post_id":74427563,"comment_id":131389213,"body_markdown":"&quot;*MySQL will accept NULL to an auto increment column and insert the last value*&quot; - which is a bug in my opinion. You are requesting to store a NULL value, but MySQL silently turns it into something else. What&#39;s next? Turning all integer values to 42 because that&#39;s &quot;obviously&quot; the correct value?","body":"&quot;<i>MySQL will accept NULL to an auto increment column and insert the last value</i>&quot; - which is a bug in my opinion. You are requesting to store a NULL value, but MySQL silently turns it into something else. What&#39;s next? Turning all integer values to 42 because that&#39;s &quot;obviously&quot; the correct value?"},{"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"score":0,"creation_date":1668510488,"post_id":74427563,"comment_id":131417448,"body_markdown":"@a_horse_with_no_name  Standard behavior in MySQL, actually. Not a bug. AUTO INCREMENT cannot be null and must be a key. So, I suppose their thinking was, &quot;since NULL is meaningless here, we can use that as a keyword to trigger the default value insertion.&quot;","body":"@a_horse_with_no_name  Standard behavior in MySQL, actually. Not a bug. AUTO INCREMENT cannot be null and must be a key. So, I suppose their thinking was, &quot;since NULL is meaningless here, we can use that as a keyword to trigger the default value insertion.&quot;"}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668409900,"creation_date":1668409900,"answer_id":74428025,"question_id":74427563,"body_markdown":"To insert a row consisting _only_ of default values you can use: \r\n\r\n    INSERT INTO serial_table DEFAULT VALUES","title":"How to insert DEFAULT into Postgresql SERIAL column using Scala Java","body":"<p>To insert a row consisting <em>only</em> of default values you can use:</p>\n<pre><code>INSERT INTO serial_table DEFAULT VALUES\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668433517,"creation_date":1668433517,"answer_id":74432646,"question_id":74427563,"body_markdown":"Just omit the primary key: \r\n\r\n```\r\ninsert into foo (bar) values (&quot;foobar&quot;)\r\n```\r\n\r\nWill assign the default values to any columns that are not mentioned explicitly. \r\nI am not sure how exactly it is done when you only have one column (the other answer seems to be offering a way to deal with it), but as you said yourself, it&#39;s not a sensical use case anyway (as a sidenote, you should not really be writing tests that cover &quot;ridiculous&quot; use cases). ","title":"How to insert DEFAULT into Postgresql SERIAL column using Scala Java","body":"<p>Just omit the primary key:</p>\n<pre><code>insert into foo (bar) values (&quot;foobar&quot;)\n</code></pre>\n<p>Will assign the default values to any columns that are not mentioned explicitly.\nI am not sure how exactly it is done when you only have one column (the other answer seems to be offering a way to deal with it), but as you said yourself, it's not a sensical use case anyway (as a sidenote, you should not really be writing tests that cover &quot;ridiculous&quot; use cases).</p>\n"}],"owner":{"account_id":315888,"reputation":9246,"user_id":631764,"accept_rate":57,"display_name":"Buttle Butkus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668433517,"creation_date":1668406362,"question_id":74427563,"body_markdown":"MySQL will accept NULL to an `auto increment` column and insert the last value. So you could presumably use \r\n\r\n(Using the code from [this SO answer][1], where `st` is a `preparedStatement`)\r\n\r\n`st.setNull(1, java.sql.Types.NULL)`\r\n\r\nI&#39;m trying to figure out how you do the same with Postgresql, where you cannot use `NULL`, but must use `DEFAULT` instead:\r\n\r\n    INSERT INTO serial_table (id) VALUES(NULL)\r\n\r\nDoes something like this exist?\r\n\r\n    st.setDefault(1, java.sql.Types.DEFAULT)\r\n\r\nOr\r\n\r\n    st.setObject(1, &quot;DEFAULT&quot;)\r\n\r\nI assume I can&#39;t just use the string &quot;DEFAULT&quot;.\r\n\r\n\r\nEDIT:\r\n\r\nTo clarify, this is a testing table defined as such:\r\n\r\n    CREATE TABLE serial_table (\r\n        id SERIAL NOT NULL PRIMARY KEY\r\n    );\r\n\r\nSo I can&#39;t just skip the column to let Postgresql handle it\r\n\r\n    INSERT INTO serial_table VALUES()\r\n    ERROR:  syntax error at or near &quot;)&quot;\r\n    LINE 1: INSERT INTO serial_table VALUES();\r\n                                            ^\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46805508/631764\r\n","title":"How to insert DEFAULT into Postgresql SERIAL column using Scala Java","body":"<p>MySQL will accept NULL to an <code>auto increment</code> column and insert the last value. So you could presumably use</p>\n<p>(Using the code from <a href=\"https://stackoverflow.com/a/46805508/631764\">this SO answer</a>, where <code>st</code> is a <code>preparedStatement</code>)</p>\n<p><code>st.setNull(1, java.sql.Types.NULL)</code></p>\n<p>I'm trying to figure out how you do the same with Postgresql, where you cannot use <code>NULL</code>, but must use <code>DEFAULT</code> instead:</p>\n<pre><code>INSERT INTO serial_table (id) VALUES(NULL)\n</code></pre>\n<p>Does something like this exist?</p>\n<pre><code>st.setDefault(1, java.sql.Types.DEFAULT)\n</code></pre>\n<p>Or</p>\n<pre><code>st.setObject(1, &quot;DEFAULT&quot;)\n</code></pre>\n<p>I assume I can't just use the string &quot;DEFAULT&quot;.</p>\n<p>EDIT:</p>\n<p>To clarify, this is a testing table defined as such:</p>\n<pre><code>CREATE TABLE serial_table (\n    id SERIAL NOT NULL PRIMARY KEY\n);\n</code></pre>\n<p>So I can't just skip the column to let Postgresql handle it</p>\n<pre><code>INSERT INTO serial_table VALUES()\nERROR:  syntax error at or near &quot;)&quot;\nLINE 1: INSERT INTO serial_table VALUES();\n                                        ^\n</code></pre>\n"},{"tags":["java","foreach","lambda","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1442304386,"creation_date":1442304386,"answer_id":32580851,"question_id":32580801,"body_markdown":"You don&#39;t need the `Stream` API for that. Use `retainAll` on the `keySet`. Any changes on the `Set` returned by `keySet()` are reflected in the original `Map`.\r\n\r\n    someMap.keySet().retainAll(someList);","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>You don't need the <code>Stream</code> API for that. Use <code>retainAll</code> on the <code>keySet</code>. Any changes on the <code>Set</code> returned by <code>keySet()</code> are reflected in the original <code>Map</code>.</p>\n\n<pre><code>someMap.keySet().retainAll(someList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29404,"reputation":45520,"user_id":79439,"accept_rate":62,"display_name":"thecoop"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1442307428,"creation_date":1442307428,"answer_id":32581815,"question_id":32580801,"body_markdown":"Your stream call is (logically) doing the same as:\r\n\r\n    for (K k : someMap.keySet()) {\r\n        if (!someList.contains(k)) {\r\n            someMap.remove(k);\r\n        }\r\n    }\r\n\r\nIf you run this, you will find it throws `ConcurrentModificationException`, because it is modifying the map at the same time as you&#39;re iterating over it. If you have a look at the [docs][1], you&#39;ll notice the following:\r\n\r\n&gt;Note that this exception does not always indicate that an object has been concurrently modified by a different thread. If a single thread issues a sequence of method invocations that violates the contract of an object, the object may throw this exception. For example, if a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception. \r\n\r\nThis is what you are doing, the map implementation you&#39;re using evidently has fail-fast iterators, therefore this exception is being thrown.\r\n\r\nOne possible alternative is to remove the items using the iterator directly:\r\n\r\n    for (Iterator&lt;K&gt; ks = someMap.keySet().iterator(); ks.hasNext(); ) {\r\n        K next = ks.next();\r\n        if (!someList.contains(k)) {\r\n            ks.remove();\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/index.html","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>Your stream call is (logically) doing the same as:</p>\n\n<pre><code>for (K k : someMap.keySet()) {\n    if (!someList.contains(k)) {\n        someMap.remove(k);\n    }\n}\n</code></pre>\n\n<p>If you run this, you will find it throws <code>ConcurrentModificationException</code>, because it is modifying the map at the same time as you're iterating over it. If you have a look at the <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html\" rel=\"noreferrer\">docs</a>, you'll notice the following:</p>\n\n<blockquote>\n  <p>Note that this exception does not always indicate that an object has been concurrently modified by a different thread. If a single thread issues a sequence of method invocations that violates the contract of an object, the object may throw this exception. For example, if a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception. </p>\n</blockquote>\n\n<p>This is what you are doing, the map implementation you're using evidently has fail-fast iterators, therefore this exception is being thrown.</p>\n\n<p>One possible alternative is to remove the items using the iterator directly:</p>\n\n<pre><code>for (Iterator&lt;K&gt; ks = someMap.keySet().iterator(); ks.hasNext(); ) {\n    K next = ks.next();\n    if (!someList.contains(k)) {\n        ks.remove();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1442315570,"creation_date":1442307601,"answer_id":32581869,"question_id":32580801,"body_markdown":"@Eran already [explained](https://stackoverflow.com/a/32580851/4856258) how to solve this problem better. I will explain why `ConcurrentModificationException` occurs.\n\nThe `ConcurrentModificationException` occurs because you are modifying the stream source. Your `Map` is likely to be `HashMap` or `TreeMap` or other non-concurrent map. Let&#39;s assume it&#39;s a `HashMap`. Every stream is backed by [`Spliterator`](https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html). If spliterator has no `IMMUTABLE` and `CONCURRENT` characteristics, then, as documentation says:\n\n&gt;  After binding a Spliterator should, on a best-effort basis, throw `ConcurrentModificationException` if structural interference is detected. Spliterators that do this are called *fail-fast*.\n\nSo the `HashMap.keySet().spliterator()` is not `IMMUTABLE` (because this `Set` can be modified) and not `CONCURRENT` (concurrent updates are unsafe for `HashMap`). So it just detects the concurrent changes and throws a `ConcurrentModificationException` as spliterator documentation prescribes.\n\nAlso it worth citing the [`HashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html) documentation:\n\n&gt; The iterators returned by all of this class&#39;s &quot;collection view methods&quot; are *fail-fast*: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own remove method, the iterator will throw a `ConcurrentModificationException`. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.\n&gt;\n&gt; Note that the fail-fast behavior of an iterator cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast iterators throw `ConcurrentModificationException` on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: *the fail-fast behavior of iterators should be used only to detect bugs*. \n\nWhile it says about iterators only, I believe it&#39;s the same for spliterators.","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>@Eran already <a href=\"https://stackoverflow.com/a/32580851/4856258\">explained</a> how to solve this problem better. I will explain why <code>ConcurrentModificationException</code> occurs.</p>\n<p>The <code>ConcurrentModificationException</code> occurs because you are modifying the stream source. Your <code>Map</code> is likely to be <code>HashMap</code> or <code>TreeMap</code> or other non-concurrent map. Let's assume it's a <code>HashMap</code>. Every stream is backed by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"noreferrer\"><code>Spliterator</code></a>. If spliterator has no <code>IMMUTABLE</code> and <code>CONCURRENT</code> characteristics, then, as documentation says:</p>\n<blockquote>\n<p>After binding a Spliterator should, on a best-effort basis, throw <code>ConcurrentModificationException</code> if structural interference is detected. Spliterators that do this are called <em>fail-fast</em>.</p>\n</blockquote>\n<p>So the <code>HashMap.keySet().spliterator()</code> is not <code>IMMUTABLE</code> (because this <code>Set</code> can be modified) and not <code>CONCURRENT</code> (concurrent updates are unsafe for <code>HashMap</code>). So it just detects the concurrent changes and throws a <code>ConcurrentModificationException</code> as spliterator documentation prescribes.</p>\n<p>Also it worth citing the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> documentation:</p>\n<blockquote>\n<p>The iterators returned by all of this class's &quot;collection view methods&quot; are <em>fail-fast</em>: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator's own remove method, the iterator will throw a <code>ConcurrentModificationException</code>. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.</p>\n<p>Note that the fail-fast behavior of an iterator cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast iterators throw <code>ConcurrentModificationException</code> on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: <em>the fail-fast behavior of iterators should be used only to detect bugs</em>.</p>\n</blockquote>\n<p>While it says about iterators only, I believe it's the same for spliterators.</p>\n"},{"tags":[],"owner":{"account_id":2603480,"reputation":661,"user_id":2255217,"display_name":"Ron McLeod"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1536555695,"creation_date":1536555695,"answer_id":52251362,"question_id":32580801,"body_markdown":"Later answer, but you could insert a collector into your pipeline so that forEach is operating on a Set which holds a copy of the keys:\r\n\r\n\tsomeMap.keySet()\r\n\t\t.stream()\r\n\t\t.filter(v -&gt; !someList.contains(v))\r\n\t\t.collect(Collectors.toSet())\r\n\t\t.forEach(someMap::remove);","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>Later answer, but you could insert a collector into your pipeline so that forEach is operating on a Set which holds a copy of the keys:</p>\n\n<pre><code>someMap.keySet()\n    .stream()\n    .filter(v -&gt; !someList.contains(v))\n    .collect(Collectors.toSet())\n    .forEach(someMap::remove);\n</code></pre>\n"}],"owner":{"account_id":5159517,"reputation":4176,"user_id":4131673,"accept_rate":56,"display_name":"Mariusz Jask&#243;łka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35735,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":32581869,"answer_count":4,"score":28,"last_activity_date":1668433390,"creation_date":1442304243,"question_id":32580801,"body_markdown":"I want to remove all items from `someMap` which keys are not present in `someList`.  \r\nTake a look into my code:\r\n\r\n    someMap.keySet()\r\n        .stream()\r\n        .filter(v -&gt; !someList.contains(v))\r\n        .forEach(someMap::remove);\r\n\r\nI receive `java.util.ConcurrentModificationException`.  \r\nWhy I faced this Exception given that the stream is not parallel?  \r\nWhat is the most elegant way to do this?","title":"ConcurrentModificationException when using stream with Maps key set","body":"<p>I want to remove all items from <code>someMap</code> which keys are not present in <code>someList</code>.<br />\nTake a look into my code:</p>\n<pre><code>someMap.keySet()\n    .stream()\n    .filter(v -&gt; !someList.contains(v))\n    .forEach(someMap::remove);\n</code></pre>\n<p>I receive <code>java.util.ConcurrentModificationException</code>.<br />\nWhy I faced this Exception given that the stream is not parallel?<br />\nWhat is the most elegant way to do this?</p>\n"},{"tags":["java","jdbc","derby"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668391487,"creation_date":1668391487,"answer_id":74426253,"question_id":74424011,"body_markdown":"If I have interpreted your question correctly...\r\n\r\n**Quick Answer**\r\n\r\n(a) Run the `ij` start-up command in the same location where your Java program created the new database (see below).\r\n\r\nor\r\n\r\n(b) Create the DB using `ij` at the same time as you connect to it (also see below).\r\n\r\n---\r\n\r\n**More Notes**\r\n\r\nWhen you create a new Derby DB using the Java code in your question, that will create the DB in the root folder of where the code (the Java project) was executed. \r\n\r\nLook for a `javaDb` folder there, containing the Derby database files. \r\n\r\nBut when you try to connect to that database at the `ij&gt;` command prompt, after running this:\r\n\r\n```\r\njava -jar derbyrun.jar ij\r\n```\r\n\r\n...and then using `connect &#39;jdbc:derby:javaDb&#39;;` you are telling `ij` that the DB is in the `lib` directory of the Derby installation folder. \r\n\r\nThose are probably two different locations - hence you get your &quot;not found&quot; error. \r\n\r\nYou can locate and copy the `javaDb` folder from where it was created (your Java app) to the Derby installation&#39;s `lib` folder. But probably not a good idea. You should keep the `lib` folder clean.\r\n\r\nAlternatively...\r\n\r\nYou can execute the `java -jar derbyrun.jar ij` command from the parent folder of where the `javaDb` folder is located (i.e. from your Java project root folder:\r\n\r\n```\r\njava -jar %DERBY_HOME%\\lib\\derbyrun.jar ij\r\n```\r\n\r\n(I am assuming that by &quot;CMD&quot; you mean a Windows command prompt.)\r\n\r\nIf `DERBY_HOME` is not defined, then just use the full path to the Derby `lib` folder.\r\n\r\nThen, at the `ij&gt;` prompt, retry your connection command:\r\n\r\n```\r\nconnect &#39;jdbc:derby:javaDb&#39;;\r\n```\r\n\r\nSo, for example, for me, the Java command is this:\r\n\r\n```\r\njava -jar C:\\derbydb\\db-derby-10.16.1.1-bin\\lib\\derbyrun.jar ij\r\n```\r\n\r\nAnd I run the above command from where my Java project is located:\r\n\r\n```\r\nC:\\Users\\me\\Documents\\JavaDerbyDemo\r\n```\r\n\r\n---\r\n\r\n**Use `ij` For DB Creation**\r\n\r\nWhat you maybe want to do instead of all of the above is to use `ij` to actually _create_ the DB as you first try to connect to it in `ij`:\r\n\r\n```\r\nconnect &#39;jdbc:derby:javaDbTwo;create=true&#39;;\r\n```\r\n\r\nThat will create a `javaDbTwo` folder (containing your new, empty Derby DB) in the same location where you run the command.","title":"Java Derby does not find database","body":"<p>If I have interpreted your question correctly...</p>\n<p><strong>Quick Answer</strong></p>\n<p>(a) Run the <code>ij</code> start-up command in the same location where your Java program created the new database (see below).</p>\n<p>or</p>\n<p>(b) Create the DB using <code>ij</code> at the same time as you connect to it (also see below).</p>\n<hr />\n<p><strong>More Notes</strong></p>\n<p>When you create a new Derby DB using the Java code in your question, that will create the DB in the root folder of where the code (the Java project) was executed.</p>\n<p>Look for a <code>javaDb</code> folder there, containing the Derby database files.</p>\n<p>But when you try to connect to that database at the <code>ij&gt;</code> command prompt, after running this:</p>\n<pre><code>java -jar derbyrun.jar ij\n</code></pre>\n<p>...and then using <code>connect 'jdbc:derby:javaDb';</code> you are telling <code>ij</code> that the DB is in the <code>lib</code> directory of the Derby installation folder.</p>\n<p>Those are probably two different locations - hence you get your &quot;not found&quot; error.</p>\n<p>You can locate and copy the <code>javaDb</code> folder from where it was created (your Java app) to the Derby installation's <code>lib</code> folder. But probably not a good idea. You should keep the <code>lib</code> folder clean.</p>\n<p>Alternatively...</p>\n<p>You can execute the <code>java -jar derbyrun.jar ij</code> command from the parent folder of where the <code>javaDb</code> folder is located (i.e. from your Java project root folder:</p>\n<pre><code>java -jar %DERBY_HOME%\\lib\\derbyrun.jar ij\n</code></pre>\n<p>(I am assuming that by &quot;CMD&quot; you mean a Windows command prompt.)</p>\n<p>If <code>DERBY_HOME</code> is not defined, then just use the full path to the Derby <code>lib</code> folder.</p>\n<p>Then, at the <code>ij&gt;</code> prompt, retry your connection command:</p>\n<pre><code>connect 'jdbc:derby:javaDb';\n</code></pre>\n<p>So, for example, for me, the Java command is this:</p>\n<pre><code>java -jar C:\\derbydb\\db-derby-10.16.1.1-bin\\lib\\derbyrun.jar ij\n</code></pre>\n<p>And I run the above command from where my Java project is located:</p>\n<pre><code>C:\\Users\\me\\Documents\\JavaDerbyDemo\n</code></pre>\n<hr />\n<p><strong>Use <code>ij</code> For DB Creation</strong></p>\n<p>What you maybe want to do instead of all of the above is to use <code>ij</code> to actually <em>create</em> the DB as you first try to connect to it in <code>ij</code>:</p>\n<pre><code>connect 'jdbc:derby:javaDbTwo;create=true';\n</code></pre>\n<p>That will create a <code>javaDbTwo</code> folder (containing your new, empty Derby DB) in the same location where you run the command.</p>\n"}],"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668433315,"creation_date":1668367048,"question_id":74424011,"body_markdown":"Java Derby does not find a database even with &quot;create=true&quot; sentence.\r\n\r\nThe code is following:\r\n\r\n    public class Main{\r\n\r\n\tpublic static void main(String[] args) {\t\t\r\n\t\t\ttry {\r\n\t\t\tDriverManager.getConnection(&quot;jdbc:derby:javaDb;create=true&quot;);\r\n\t\t\t} catch (SQLException e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n    } \r\n\r\nIn CMD, from libs folder:\r\n\r\n&gt;     java -jar derbyrun.jar ij\r\n&gt;     version ij 10.15\r\n&gt;     connect &#39;jdbc:derby:javaDb&#39;;\r\n&gt;     ERROR XJ004: Database &#39;javaDb&#39; not found.\r\n&gt;     show connections\r\n&gt;     No connection available.\r\n\r\n\r\n","title":"Java Derby does not find database","body":"<p>Java Derby does not find a database even with &quot;create=true&quot; sentence.</p>\n<p>The code is following:</p>\n<pre><code>public class Main{\n\npublic static void main(String[] args) {        \n        try {\n        DriverManager.getConnection(&quot;jdbc:derby:javaDb;create=true&quot;);\n        } catch (SQLException e){\n            e.printStackTrace();\n        }\n} \n</code></pre>\n<p>In CMD, from libs folder:</p>\n<blockquote>\n<pre><code>java -jar derbyrun.jar ij\nversion ij 10.15\nconnect 'jdbc:derby:javaDb';\nERROR XJ004: Database 'javaDb' not found.\nshow connections\nNo connection available.\n</code></pre>\n</blockquote>\n"},{"tags":["java","service","ldap","window","onpremises-gateway"],"comments":[{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1668433545,"post_id":74432501,"comment_id":131396746,"body_markdown":"_&quot;java is good choice or not&quot;_ - that&#39;s opinionated. Personally, I&#39;d say there are better but also much worse. So, if you already _know_ Java, you&#39;re good to go.","body":"<i>&quot;java is good choice or not&quot;</i> - that&#39;s opinionated. Personally, I&#39;d say there are better but also much worse. So, if you already <i>know</i> Java, you&#39;re good to go."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1668433723,"post_id":74432501,"comment_id":131396807,"body_markdown":"Does this answer your question? [How to create a windows service from java app](https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app\">How to create a windows service from java app</a>"}],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668433305,"creation_date":1668433305,"answer_id":74432593,"question_id":74432501,"body_markdown":"Yes. There are a number of frameworks available. I would recommend [commons-daemon][1], which I have been using for a long time. It is well documented, so just follow the instructions to get it up and running.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-daemon/procrun.html","title":"how to create a window service using java?","body":"<p>Yes. There are a number of frameworks available. I would recommend <a href=\"https://commons.apache.org/proper/commons-daemon/procrun.html\" rel=\"nofollow noreferrer\">commons-daemon</a>, which I have been using for a long time. It is well documented, so just follow the instructions to get it up and running.</p>\n"}],"owner":{"account_id":22401625,"reputation":11,"user_id":16611956,"display_name":"durga murugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668433305,"creation_date":1668432861,"question_id":74432501,"body_markdown":"is it possible to run a java program as window service is anyone done that successfully ,?\r\n\r\nI&#39;m trying to create LDAP application using java, want to run a java application as a window service, java is good choice or not, if any of you guys done any simple window service using java means ,can you please share the steps, thanks!","title":"how to create a window service using java?","body":"<p>is it possible to run a java program as window service is anyone done that successfully ,?</p>\n<p>I'm trying to create LDAP application using java, want to run a java application as a window service, java is good choice or not, if any of you guys done any simple window service using java means ,can you please share the steps, thanks!</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1509716152,"creation_date":1444232947,"answer_id":32996811,"question_id":32995946,"body_markdown":"As the [log4j2 configuration documentation][1] states\r\n\r\n&gt; As of version 2.4, Log4j now supports configuration via properties\r\n&gt; files. **Note that the property syntax is NOT the same as the syntax\r\n&gt; used in Log4j 1.**\r\n\r\nIt then provides a substantial example for all types of configuration elements. \r\n\r\nConcerning your question, you need to specify your loggers in a `loggers` element, then configure each of them. For example\r\n\r\n    loggers = mine\r\n    \r\n    logger.mine.name = com.mycompany.mypackage.ClassName\r\n    logger.mine.level = DEBUG\r\n\r\n\r\n----------\r\n\r\n[Note that log4j2 looks for a `.properties` file on the classpath by default.][2]\r\n\r\n&gt; If a test file cannot be located the properties ConfigurationFactory\r\n&gt; will look for `log4j2.properties` on the classpath.\r\n\r\nBut you can also configure the location yourself. You can use the system property\r\n\r\n    -Dlog4j.configurationFile=conf/log4j.properties\r\n\r\nwith an appropriate path.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/configuration.html#Properties\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","title":"How to set the log level on a class in log4j2 properties","body":"<p>As the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Properties\" rel=\"noreferrer\">log4j2 configuration documentation</a> states</p>\n\n<blockquote>\n  <p>As of version 2.4, Log4j now supports configuration via properties\n  files. <strong>Note that the property syntax is NOT the same as the syntax\n  used in Log4j 1.</strong></p>\n</blockquote>\n\n<p>It then provides a substantial example for all types of configuration elements. </p>\n\n<p>Concerning your question, you need to specify your loggers in a <code>loggers</code> element, then configure each of them. For example</p>\n\n<pre><code>loggers = mine\n\nlogger.mine.name = com.mycompany.mypackage.ClassName\nlogger.mine.level = DEBUG\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"noreferrer\">Note that log4j2 looks for a <code>.properties</code> file on the classpath by default.</a></p>\n\n<blockquote>\n  <p>If a test file cannot be located the properties ConfigurationFactory\n  will look for <code>log4j2.properties</code> on the classpath.</p>\n</blockquote>\n\n<p>But you can also configure the location yourself. You can use the system property</p>\n\n<pre><code>-Dlog4j.configurationFile=conf/log4j.properties\n</code></pre>\n\n<p>with an appropriate path.</p>\n"},{"tags":[],"owner":{"account_id":1734438,"reputation":36245,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668433176,"creation_date":1668433176,"answer_id":74432568,"question_id":32995946,"body_markdown":"If you are using spring boot, you can use\r\n\r\n    logging.level.com.mycompany.mypackage.ClassName=DEBUG\r\n\r\nin [application.properties][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html","title":"How to set the log level on a class in log4j2 properties","body":"<p>If you are using spring boot, you can use</p>\n<pre><code>logging.level.com.mycompany.mypackage.ClassName=DEBUG\n</code></pre>\n<p>in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">application.properties</a>.</p>\n"}],"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19249,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":32996811,"answer_count":2,"score":28,"last_activity_date":1668433207,"creation_date":1444230594,"question_id":32995946,"body_markdown":"In log4j I could specify a class in the properties file to log at the debug level like this:\r\n\r\n    log4j.logger.com.mycompany.mypackage.ClassName=DEBUG\r\n\r\nHow do I do this in log4j2?  Note I still need to use the new property file (not xml or json).","title":"How to set the log level on a class in log4j2 properties","body":"<p>In log4j I could specify a class in the properties file to log at the debug level like this:</p>\n<pre><code>log4j.logger.com.mycompany.mypackage.ClassName=DEBUG\n</code></pre>\n<p>How do I do this in log4j2?  Note I still need to use the new property file (not xml or json).</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1453517235,"creation_date":1453517235,"answer_id":34959054,"question_id":34959000,"body_markdown":"You&#39;d need to pass the monsters into the Battle object somehow (or into another object that you pass into the Battle object). You could pass it as an argument to a method, but in an Object Oriented world, if the monsters really belong to a battle, you could pass them in the constructor and make them available in all the methods of the Battle class.\r\n\r\nExample:\r\n\r\n    public class Battle {\r\n    \tprivate Monster[] monsters;\r\n    \tprivate boolean wonloss;\r\n    \r\n    \tpublic Battle(Monster[] monsters) {\r\n    \t\tthis.monsters = monsters;\r\n    \t}\r\n    \r\n    \tpublic boolean isWonloss() {\r\n    \t\treturn wonloss;\r\n    \t}\r\n    \r\n    \tpublic void battle() {\r\n    \t\t// Do something with monsters,\r\n\r\n            // and then check if there is any life left in the monsters\r\n    \t\tint totalHp = 0;\r\n    \t\tfor (Monster monster : monsters) {\r\n    \t\t\ttotalHp += monster.hp;\r\n    \t\t}\r\n    \t\tif (totalHp == 0) {\r\n    \t\t\twonloss = false;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe &quot;battle&quot; part of your main method would then look like:\r\n\r\n\t// Start\r\n\tBattle battle = new Battle(monsterid);\r\n\twhile (battle.isWonloss()) {\r\n\t\tbattle.battle();\r\n\t}","title":"How to create Array of Objects for Class with Multiple Parameters and Access objects (and their values) in other classes?","body":"<p>You'd need to pass the monsters into the Battle object somehow (or into another object that you pass into the Battle object). You could pass it as an argument to a method, but in an Object Oriented world, if the monsters really belong to a battle, you could pass them in the constructor and make them available in all the methods of the Battle class.</p>\n\n<p>Example:</p>\n\n<pre><code>public class Battle {\n    private Monster[] monsters;\n    private boolean wonloss;\n\n    public Battle(Monster[] monsters) {\n        this.monsters = monsters;\n    }\n\n    public boolean isWonloss() {\n        return wonloss;\n    }\n\n    public void battle() {\n        // Do something with monsters,\n\n        // and then check if there is any life left in the monsters\n        int totalHp = 0;\n        for (Monster monster : monsters) {\n            totalHp += monster.hp;\n        }\n        if (totalHp == 0) {\n            wonloss = false;\n        }\n    }\n}\n</code></pre>\n\n<p>The \"battle\" part of your main method would then look like:</p>\n\n<pre><code>// Start\nBattle battle = new Battle(monsterid);\nwhile (battle.isWonloss()) {\n    battle.battle();\n}\n</code></pre>\n"}],"owner":{"account_id":7693338,"reputation":3,"user_id":5828809,"display_name":"MrOats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34959054,"answer_count":1,"score":0,"last_activity_date":1668432325,"creation_date":1453516589,"question_id":34959000,"body_markdown":"My personal mini project was to learn arrays here, doing a slightly big jump by making an Array of Objects. What I wanted to do was a mini RPG system where I create a class called monster and give it a couple parameters, and create an array of objects of the Monster class. So far I believe I created that Monster class and the Object of Arrays inside the main method class (Exec_Monster) listed below.\r\n\r\nIt took me a while initially, but I finally got to a point where I can create the array of Monsters and access them inside the Main class. But is there a way for me to create this Array of Objects and access each object from another class (and their individual values)? For Example, I would create a &quot;Battle&quot; class and then I would pull the &quot;Health&quot; value from an object of Monster.\r\n\r\nI&#39;m new to Arrays but I have had some experience with classes for the past two weeks here.\r\n\r\n**Class:**\r\n\r\n    public class Monster\r\n    {\r\n        public int hp;\r\n        public String n;\r\n        public Monster(String name,int health){\r\n            n=name;\r\n            hp=health;        \r\n        }\r\n        public int returnHealth(){\r\n            return hp;\r\n        }\r\n        public String returnName(){\r\n            return n;\r\n        }\r\n    }\r\n\r\n**Exec_Monster:**\r\n\r\n    public class Exec_Monster{\r\n    public static void main(String args[])\r\n        {//Define Monsters\r\n            Monster[] monsterid=new Monster[]{\r\n            new Monster(&quot;Goblin&quot;,10),\r\n            new Monster(&quot;Elf&quot;, 8),\r\n            new Monster(&quot;Ant&quot;, 3),\r\n            new Monster(&quot;Worm&quot;, 2),\r\n            new Monster(&quot;Black Widow&quot;,6)};\r\n        \r\n            Random chooser;\r\n            int chosenmonster=(chooser.nextInt()*5);\r\n        //Start\r\n            //while (Battle.wonloss==true) {            \r\n              //  Battle.battle();\r\n            }\r\n        }","title":"How to create Array of Objects for Class with Multiple Parameters and Access objects (and their values) in other classes?","body":"<p>My personal mini project was to learn arrays here, doing a slightly big jump by making an Array of Objects. What I wanted to do was a mini RPG system where I create a class called monster and give it a couple parameters, and create an array of objects of the Monster class. So far I believe I created that Monster class and the Object of Arrays inside the main method class (Exec_Monster) listed below.</p>\n\n<p>It took me a while initially, but I finally got to a point where I can create the array of Monsters and access them inside the Main class. But is there a way for me to create this Array of Objects and access each object from another class (and their individual values)? For Example, I would create a \"Battle\" class and then I would pull the \"Health\" value from an object of Monster.</p>\n\n<p>I'm new to Arrays but I have had some experience with classes for the past two weeks here.</p>\n\n<p><strong>Class:</strong></p>\n\n<pre><code>public class Monster\n{\n    public int hp;\n    public String n;\n    public Monster(String name,int health){\n        n=name;\n        hp=health;        \n    }\n    public int returnHealth(){\n        return hp;\n    }\n    public String returnName(){\n        return n;\n    }\n}\n</code></pre>\n\n<p><strong>Exec_Monster:</strong></p>\n\n<pre><code>public class Exec_Monster{\npublic static void main(String args[])\n    {//Define Monsters\n        Monster[] monsterid=new Monster[]{\n        new Monster(\"Goblin\",10),\n        new Monster(\"Elf\", 8),\n        new Monster(\"Ant\", 3),\n        new Monster(\"Worm\", 2),\n        new Monster(\"Black Widow\",6)};\n\n        Random chooser;\n        int chosenmonster=(chooser.nextInt()*5);\n    //Start\n        //while (Battle.wonloss==true) {            \n          //  Battle.battle();\n        }\n    }\n</code></pre>\n"},{"tags":["java","mouselistener","mousemotionlistener"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1668431469,"post_id":74432164,"comment_id":131395964,"body_markdown":"ok. and what is stopping you from implementing that? Get the coordinates of the mouse, check if they &#39;re (still) on that of the object.","body":"ok. and what is stopping you from implementing that? Get the coordinates of the mouse, check if they &#39;re (still) on that of the object."}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668432175,"creation_date":1668432175,"answer_id":74432353,"question_id":74432164,"body_markdown":"You can achieve this quite easily by implementing a custom `MouseListener`:\r\n```\r\npublic final class DragListener extends MouseInputAdapter {\r\n\r\n    private Point location;\r\n    private MouseEvent pressed;\r\n\r\n\r\n    public DragListener() {\r\n    }\r\n\r\n\r\n    public void mousePressed(final MouseEvent me) {\r\n        pressed = me;\r\n    }\r\n\r\n\r\n    public void mouseDragged(final MouseEvent me) {\r\n        if (pressed == null) {\r\n            return;\r\n        }\r\n        Component component = me.getComponent();\r\n        location = component.getLocation(location);\r\n        int x = location.x - pressed.getX() + me.getX();\r\n        int y = location.y - pressed.getY() + me.getY();\r\n        component.setLocation(x, y);\r\n    }\r\n}\r\n```\r\n\r\nYou can then add this custom Listener to any component like so:\r\n\r\n```\r\nDragListener dragListener = new DragListener();\r\nframe.addMouseListener(dragListener);\r\nframe.addMouseMotionListener(dragListener);\r\n```\r\n\r\nThis will detect the `MouseEvent`s on the component it is set to and only drag the component while the left mouse button is being pressed.","title":"Mouse cursor detecting Java","body":"<p>You can achieve this quite easily by implementing a custom <code>MouseListener</code>:</p>\n<pre><code>public final class DragListener extends MouseInputAdapter {\n\n    private Point location;\n    private MouseEvent pressed;\n\n\n    public DragListener() {\n    }\n\n\n    public void mousePressed(final MouseEvent me) {\n        pressed = me;\n    }\n\n\n    public void mouseDragged(final MouseEvent me) {\n        if (pressed == null) {\n            return;\n        }\n        Component component = me.getComponent();\n        location = component.getLocation(location);\n        int x = location.x - pressed.getX() + me.getX();\n        int y = location.y - pressed.getY() + me.getY();\n        component.setLocation(x, y);\n    }\n}\n</code></pre>\n<p>You can then add this custom Listener to any component like so:</p>\n<pre><code>DragListener dragListener = new DragListener();\nframe.addMouseListener(dragListener);\nframe.addMouseMotionListener(dragListener);\n</code></pre>\n<p>This will detect the <code>MouseEvent</code>s on the component it is set to and only drag the component while the left mouse button is being pressed.</p>\n"}],"owner":{"account_id":26540780,"reputation":1,"user_id":20171553,"display_name":"Khoa Phạm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668432175,"creation_date":1668431354,"question_id":74432164,"body_markdown":"I would want my mouse positions to get detected for dragging object. I want the object will be able to be dragged only when the mouse cursor is pointing at the object\r\n\r\nI can drag the object with .setObjPos(e.getX(),e.getY()). But the object keep jump to wherever the mouse cursor is. I want the object can only be dragged when the mouse cursor pointing at the object.\r\n","title":"Mouse cursor detecting Java","body":"<p>I would want my mouse positions to get detected for dragging object. I want the object will be able to be dragged only when the mouse cursor is pointing at the object</p>\n<p>I can drag the object with .setObjPos(e.getX(),e.getY()). But the object keep jump to wherever the mouse cursor is. I want the object can only be dragged when the mouse cursor pointing at the object.</p>\n"},{"tags":["java","namespaces","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668432024,"creation_date":1668432024,"answer_id":74432318,"question_id":74430030,"body_markdown":"The workaround in the issue is to read the raw AVSC file as JSON and add a namespace to the record if one doesn&#39;t exist, which is what you already proposed.\r\n\r\nWithout doing something like that, as you&#39;ve discovered, then you&#39;ll be unable to import any generated class in your Java project.\r\n\r\nRegarding Kafka, it&#39;s not clear what deserializer you&#39;re using. If using Confluent&#39;s, you may need to define your own that doesn&#39;t lookup the writer schema in the schema registry. \r\n\r\nReminder - you can always use GenericRecord types instead. ","title":"How to handle avro schema without namespace","body":"<p>The workaround in the issue is to read the raw AVSC file as JSON and add a namespace to the record if one doesn't exist, which is what you already proposed.</p>\n<p>Without doing something like that, as you've discovered, then you'll be unable to import any generated class in your Java project.</p>\n<p>Regarding Kafka, it's not clear what deserializer you're using. If using Confluent's, you may need to define your own that doesn't lookup the writer schema in the schema registry.</p>\n<p>Reminder - you can always use GenericRecord types instead.</p>\n"}],"owner":{"account_id":10221257,"reputation":87,"user_id":7545379,"display_name":"mgerbracht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74432318,"answer_count":1,"score":0,"last_activity_date":1668432035,"creation_date":1668421044,"question_id":74430030,"body_markdown":"I would like to use auto-generated java classes from an avro schema to consume kafka messages. Unfortunately the avro schema has no namespace defined (and the owner of the schema is a little hesistant to add one). \r\n\r\nIf I generate the classes using the avro maven plugin they end up in the root package. So it seems that I can not import and use them in my java classes.\r\n\r\nSo the question is how to handle avro schemas without namespace?\r\n\r\nI had the following ideas:\r\n\r\n 1. Configure a default namespace when generating the classes. But I couldn&#39;t find a configuration option for that. I guess it would be in the avro maven plugin in the pom file but there doesn&#39;t seem to be an option for it.\r\n 2. Add a &quot;random&quot; namespace to the avro schema by myself. That way java wise everything is fine - classes are generated and I can use them but the Kafka consumer shows an error (see below) which I guess(!) has to do with my invalid namespace\r\n 3. Generate classes in the root package and use reflection to get them on the class path - but is this a good idea?\r\n 4. I found a similar feature request ([https://github.com/davidmc24/gradle-avro-plugin/issues/81][1]) - but I don&#39;t understand the workaround mentioned there.\r\n\r\nError-Message I get when trying case 2 (namespace added by myself):\r\n\r\n&gt; org.apache.kafka.common.errors.SerializationException: Could not find class MyClass specified in writer&#39;s schema whilst finding reader&#39;s schema for a SpecificRecord.\r\n\r\n\r\n  [1]: https://github.com/davidmc24/gradle-avro-plugin/issues/81","title":"How to handle avro schema without namespace","body":"<p>I would like to use auto-generated java classes from an avro schema to consume kafka messages. Unfortunately the avro schema has no namespace defined (and the owner of the schema is a little hesistant to add one).</p>\n<p>If I generate the classes using the avro maven plugin they end up in the root package. So it seems that I can not import and use them in my java classes.</p>\n<p>So the question is how to handle avro schemas without namespace?</p>\n<p>I had the following ideas:</p>\n<ol>\n<li>Configure a default namespace when generating the classes. But I couldn't find a configuration option for that. I guess it would be in the avro maven plugin in the pom file but there doesn't seem to be an option for it.</li>\n<li>Add a &quot;random&quot; namespace to the avro schema by myself. That way java wise everything is fine - classes are generated and I can use them but the Kafka consumer shows an error (see below) which I guess(!) has to do with my invalid namespace</li>\n<li>Generate classes in the root package and use reflection to get them on the class path - but is this a good idea?</li>\n<li>I found a similar feature request (<a href=\"https://github.com/davidmc24/gradle-avro-plugin/issues/81\" rel=\"nofollow noreferrer\">https://github.com/davidmc24/gradle-avro-plugin/issues/81</a>) - but I don't understand the workaround mentioned there.</li>\n</ol>\n<p>Error-Message I get when trying case 2 (namespace added by myself):</p>\n<blockquote>\n<p>org.apache.kafka.common.errors.SerializationException: Could not find class MyClass specified in writer's schema whilst finding reader's schema for a SpecificRecord.</p>\n</blockquote>\n"},{"tags":["java","tomcat","classloader"],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660723427,"creation_date":1660723427,"answer_id":73384897,"question_id":73293713,"body_markdown":"You can specify a custom class loader via a `Loader` element nested in the `Context` element for your application.\r\n\r\nFor example, add the following in the file `META-INF/context.xml` packaged in the WAR file:\r\n```\r\n&lt;Context&gt;\r\n  &lt;Loader loaderClass=&quot;fully.quialified.package.name.of.your.ClassLoader&quot; /&gt;\r\n&lt;/Context&gt;\r\n","title":"Override ParallelWebappClassLoader for one webapp","body":"<p>You can specify a custom class loader via a <code>Loader</code> element nested in the <code>Context</code> element for your application.</p>\n<p>For example, add the following in the file <code>META-INF/context.xml</code> packaged in the WAR file:</p>\n<pre><code>&lt;Context&gt;\n  &lt;Loader loaderClass=&quot;fully.quialified.package.name.of.your.ClassLoader&quot; /&gt;\n&lt;/Context&gt;\n</code></pre>\n"}],"owner":{"account_id":5912629,"reputation":93,"user_id":4652337,"display_name":"Chandika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73384897,"answer_count":1,"score":0,"last_activity_date":1668431631,"creation_date":1660056008,"question_id":73293713,"body_markdown":"I need to set a custom wrapped classloader as ParallelWebappClassLoader for a one webapp only. Do I have a way to do that?\r\n\r\nAlso anyone have a idea how is the ParallelWebappClassLoader set as default class loader in a webapp in tomcat. When I add a debug point to loadClass(String) method it hits to loadClass method of ParallelWebappClassLoader. How can I change that to my custom class loader and the look in ParallelWebappClassLoader if I need?\r\n\r\nThanks\r\n\r\n#tomcat #java #classloader #ParallelWebappClassLoader","title":"Override ParallelWebappClassLoader for one webapp","body":"<p>I need to set a custom wrapped classloader as ParallelWebappClassLoader for a one webapp only. Do I have a way to do that?</p>\n<p>Also anyone have a idea how is the ParallelWebappClassLoader set as default class loader in a webapp in tomcat. When I add a debug point to loadClass(String) method it hits to loadClass method of ParallelWebappClassLoader. How can I change that to my custom class loader and the look in ParallelWebappClassLoader if I need?</p>\n<p>Thanks</p>\n<p>#tomcat #java #classloader #ParallelWebappClassLoader</p>\n"},{"tags":["java","selenium","csv","selenium-webdriver","csvreader"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668420032,"creation_date":1668420032,"answer_id":74429833,"question_id":74429056,"body_markdown":"Try fixing the csv reading part first. You can use something like this:\r\n```\r\npublic class CSVReader {\r\n    private static final String COMMA_DELIMITER = &quot;,&quot;;\r\n\r\n\r\n    private static List&lt;String&gt; getRecordFromLine(String line) {\r\n        List&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n        try (Scanner rowScanner = new Scanner(line)) {\r\n            rowScanner.useDelimiter(COMMA_DELIMITER);\r\n            while (rowScanner.hasNext()) {\r\n                values.add(rowScanner.next());\r\n            }\r\n        }\r\n        return values;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\r\n        try (Scanner scanner = new Scanner(new File(&quot;src/test/resources/test.csv&quot;));) {\r\n            while (scanner.hasNextLine()) {\r\n                records.add(getRecordFromLine(scanner.nextLine()));\r\n            }\r\n        }\r\n        records.forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n\r\nCSV content:\r\n```\r\ndata1\r\ndata4\r\ndata7\r\n```","title":"Trying to read csv data and compare to web table in java","body":"<p>Try fixing the csv reading part first. You can use something like this:</p>\n<pre><code>public class CSVReader {\n    private static final String COMMA_DELIMITER = &quot;,&quot;;\n\n\n    private static List&lt;String&gt; getRecordFromLine(String line) {\n        List&lt;String&gt; values = new ArrayList&lt;&gt;();\n        try (Scanner rowScanner = new Scanner(line)) {\n            rowScanner.useDelimiter(COMMA_DELIMITER);\n            while (rowScanner.hasNext()) {\n                values.add(rowScanner.next());\n            }\n        }\n        return values;\n    }\n\n\n    public static void main(String[] args) throws FileNotFoundException {\n        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\n        try (Scanner scanner = new Scanner(new File(&quot;src/test/resources/test.csv&quot;));) {\n            while (scanner.hasNextLine()) {\n                records.add(getRecordFromLine(scanner.nextLine()));\n            }\n        }\n        records.forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>CSV content:</p>\n<pre><code>data1\ndata4\ndata7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16352283,"reputation":17,"user_id":11810453,"display_name":"Patryk Patryk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668431035,"creation_date":1668431035,"answer_id":74432101,"question_id":74429056,"body_markdown":"I do it with `FileReader` and `CsvReader`. You can try something like this:\r\n\r\n     public String readCsv(String path) {\r\n\r\n        try {\r\n\r\n            FileReader filereader = new FileReader(path);\r\n\r\n            CSVReader csvReader = new CSVReader(filereader);\r\n            String[] nextRecord;\r\n\r\n            while ((nextRecord = csvReader.readNext()) != null) {\r\n                for (String cell : nextRecord) {\r\n                    return cell;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        throw new IllegalArgumentException(&quot;Something went wrong. Path to file is wrong or cell not found.&quot;);\r\n    }","title":"Trying to read csv data and compare to web table in java","body":"<p>I do it with <code>FileReader</code> and <code>CsvReader</code>. You can try something like this:</p>\n<pre><code> public String readCsv(String path) {\n\n    try {\n\n        FileReader filereader = new FileReader(path);\n\n        CSVReader csvReader = new CSVReader(filereader);\n        String[] nextRecord;\n\n        while ((nextRecord = csvReader.readNext()) != null) {\n            for (String cell : nextRecord) {\n                return cell;\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    throw new IllegalArgumentException(&quot;Something went wrong. Path to file is wrong or cell not found.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":25985595,"reputation":3,"user_id":19698621,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668431035,"creation_date":1668416188,"question_id":74429056,"body_markdown":"I&#39;m trying to compare the data on my csv file to web table.\r\n`\r\n```\r\nWebElement mytable1 = driver.findElement(By.cssSelector(&quot;#dStocks1&quot;));\r\n\t\t// To locate rows of table.\r\n\t\tList&lt;WebElement&gt; rows_table1 = mytable1.findElements(By.tagName(&quot;tr&quot;));\r\n\t\t// To calculate no of rows In table.\r\n\t\tint rows_count1 = rows_table1.size();\r\nString path = (filePath);\r\n\r\n\t\t\tBufferedReader br = null;\r\n\t\t\tString line;\r\n\t\t\tString splitBy = &quot;,(?=([^\\&quot;]|\\&quot;[^\\&quot;]*\\&quot;)*$)&quot;;\r\n\t\t\tbr = new BufferedReader(new FileReader(path));\r\n\t\t\tSystem.out.println(&quot;\\n CSV data: &quot;);\r\n\t\t\tbr.readLine();\r\n\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\tfor (int col = 1; col &lt; line.length();) {\r\n\t\t\t\t\tfor (int row = 1; row &lt; rows_count1;) {\r\n\t\t\t\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\t\t\t\tString[] cells = line.split(splitBy);\r\n\t\t\t\t\t\tList&lt;WebElement&gt; rows_table2 = mytable1.findElements(By.tagName(&quot;tr&quot;));\r\n\t\t\t\t\t\tList&lt;WebElement&gt; Columns_row = rows_table2.get(row).findElements(By.tagName(&quot;td&quot;));\r\n\t\t\t\t\t\tint columns_count = Columns_row.size();\r\n\t\t\t\t\t\tSystem.out.println(&quot;Number of cells In Row &quot; + row + &quot; are &quot; + columns_count);\r\n\t\t\t\t\t\tfor (int column = 1; column &lt; columns_count; column++) {\r\n\r\n\t\t\t\t\t\t\tString celtext = Columns_row.get(column).getText();\r\n\t\t\t\t\t\t\tString col1 = cells[col].substring(1, cells[col].length() - 1);\r\n\t\t\t\t\t\t\tassertEquals(celtext, col1);\r\n\r\n\t\t\t\t\t\t\tSystem.out.print(&quot; CELL: &quot; + column + &quot; &quot; + col1 +&quot;\\n&quot;);\r\n\t\t\t\t\t\t\tbr.readLine();\r\n\t\t\t\t\t\t\tcol++;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\trow++;\r\n\t\t\t\t\t\tSystem.out.println(&quot;  &quot;);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\n`\r\n\r\nThis is the result\r\n`\r\n```\r\nNumber of cells In Row 1 are 9\r\n CELL: 1 Requested\r\n CELL: 2 PO0815454781\r\n CELL: 3 Main Office Stockroom\r\n CELL: 4 09/13/2022\r\n CELL: 5 DR1212475112\r\n CELL: 6 09/20/2022\r\n CELL: 7 TGP\r\n CELL: 8 3,000,000.00\r\n  \r\n \r\nNumber of cells In Row 2 are 9\r\nPASSED: export\r\nFAILED: exportRequested\r\nIndex 9 out of bounds for length 9\r\n```\r\n`\r\n\r\nThe last index of my csv file is &#39;8&#39; but after printing the `line.length` it display &#39;115&#39; and that is the problem. My index is out of bounds. Can someone help me with this. Thank you in advance","title":"Trying to read csv data and compare to web table in java","body":"<p>I'm trying to compare the data on my csv file to web table.\n`</p>\n<pre><code>WebElement mytable1 = driver.findElement(By.cssSelector(&quot;#dStocks1&quot;));\n        // To locate rows of table.\n        List&lt;WebElement&gt; rows_table1 = mytable1.findElements(By.tagName(&quot;tr&quot;));\n        // To calculate no of rows In table.\n        int rows_count1 = rows_table1.size();\nString path = (filePath);\n\n            BufferedReader br = null;\n            String line;\n            String splitBy = &quot;,(?=([^\\&quot;]|\\&quot;[^\\&quot;]*\\&quot;)*$)&quot;;\n            br = new BufferedReader(new FileReader(path));\n            System.out.println(&quot;\\n CSV data: &quot;);\n            br.readLine();\n            while ((line = br.readLine()) != null) {\n                for (int col = 1; col &lt; line.length();) {\n                    for (int row = 1; row &lt; rows_count1;) {\n                        System.out.println(&quot; &quot;);\n                        String[] cells = line.split(splitBy);\n                        List&lt;WebElement&gt; rows_table2 = mytable1.findElements(By.tagName(&quot;tr&quot;));\n                        List&lt;WebElement&gt; Columns_row = rows_table2.get(row).findElements(By.tagName(&quot;td&quot;));\n                        int columns_count = Columns_row.size();\n                        System.out.println(&quot;Number of cells In Row &quot; + row + &quot; are &quot; + columns_count);\n                        for (int column = 1; column &lt; columns_count; column++) {\n\n                            String celtext = Columns_row.get(column).getText();\n                            String col1 = cells[col].substring(1, cells[col].length() - 1);\n                            assertEquals(celtext, col1);\n\n                            System.out.print(&quot; CELL: &quot; + column + &quot; &quot; + col1 +&quot;\\n&quot;);\n                            br.readLine();\n                            col++;\n\n                        }\n                        \n                        row++;\n                        System.out.println(&quot;  &quot;);\n\n                    }\n\n                }\n            }\n</code></pre>\n<p>`</p>\n<p>This is the result\n`</p>\n<pre><code>Number of cells In Row 1 are 9\n CELL: 1 Requested\n CELL: 2 PO0815454781\n CELL: 3 Main Office Stockroom\n CELL: 4 09/13/2022\n CELL: 5 DR1212475112\n CELL: 6 09/20/2022\n CELL: 7 TGP\n CELL: 8 3,000,000.00\n  \n \nNumber of cells In Row 2 are 9\nPASSED: export\nFAILED: exportRequested\nIndex 9 out of bounds for length 9\n</code></pre>\n<p>`</p>\n<p>The last index of my csv file is '8' but after printing the <code>line.length</code> it display '115' and that is the problem. My index is out of bounds. Can someone help me with this. Thank you in advance</p>\n"},{"tags":["java","spring-boot","file-upload","swagger-ui","springdoc"],"answers":[{"tags":[],"owner":{"account_id":26722059,"reputation":405,"user_id":20325718,"display_name":"YutaSaito"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668431011,"creation_date":1668431011,"answer_id":74432093,"question_id":74404175,"body_markdown":"I think that it will be displayed if you use @Schema.\r\n\r\n```java\r\n@Schema(type = &quot;string&quot;, format = &quot;binary&quot;) @RequestBody Flux&lt;ByteBuffer&gt; data\r\n```","title":"How to add button for file upload in swagger-ui (spring doc) which accepts Flux&lt;ByteBuffer&gt;?","body":"<p>I think that it will be displayed if you use @Schema.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Schema(type = &quot;string&quot;, format = &quot;binary&quot;) @RequestBody Flux&lt;ByteBuffer&gt; data\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74432093,"answer_count":1,"score":0,"last_activity_date":1668431011,"creation_date":1668177919,"question_id":74404175,"body_markdown":"I use spring doc 1.6.12:\r\n\r\n    &lt;spring-doc.version&gt;1.6.12&lt;/spring-doc.version&gt;\r\n    ...\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-doc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-doc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-doc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-doc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have following controller method:\r\n```\r\n  @PostMapping(produces = &quot;application/hal+json&quot;)\r\n  @ResponseStatus(code = HttpStatus.CREATED)\r\n  public Mono&lt;ResponseEntity&lt;MyDTO&gt;&gt; upload(\r\n      @RequestBody Flux&lt;ByteBuffer&gt; data,\r\n      @RequestHeader(name = CONTENT_LENGTH) long contentLength,\r\n      @RequestHeader(name = CONTENT_TYPE, required = false) MediaType contentType,\r\n      @RequestHeader(name = CONTENT_DISPOSITION) @ContentDispositionConstraint ContentDisposition contentDisposition,\r\n      @RequestParam(name = &quot;archive&quot;, required = false, defaultValue = &quot;false&quot;) boolean archive,\r\n      @RequestParam(name = &quot;folder&quot;, required = false) @Pattern(regexp = FOLDER_PATTERN) String folder,\r\n      @RequestParam(name = &quot;folderOwner&quot;, required = false) String folderOwner,\r\n      @RequestParam(value = &quot;folderUuid&quot;, required = false) UUID folderUuid,\r\n      @RequestParam(name = &quot;expirationDate&quot;, required = false) Instant expirationDate,\r\n      JwtAuthenticationToken jwtToken,\r\n      ServerHttpRequest request) {\r\n\r\n  ```\r\n\r\nIn swagger ui I see:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSo I have no button to upload file. Is there way to acheve it ?\r\n\r\n\r\n**P.S.**\r\n\r\nIf I change  \r\n\r\n    @RequestBody Flux&lt;ByteBuffer&gt; data\r\n\r\nto\r\n\r\n    @RequestPart (&quot;file&quot;) MultipartFile data,\r\n\r\nI see the upload button in swagger but underlying code depends on `Flux&lt;ByteBuffer&gt; data` so I don&#39;t wanna change it.\r\n\r\n  [1]: https://i.stack.imgur.com/a0qgl.jpg\r\n","title":"How to add button for file upload in swagger-ui (spring doc) which accepts Flux&lt;ByteBuffer&gt;?","body":"<p>I use spring doc 1.6.12:</p>\n<pre><code>&lt;spring-doc.version&gt;1.6.12&lt;/spring-doc.version&gt;\n...\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n  &lt;version&gt;${spring-doc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\n  &lt;version&gt;${spring-doc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\n  &lt;version&gt;${spring-doc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n  &lt;version&gt;${spring-doc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have following controller method:</p>\n<pre><code>  @PostMapping(produces = &quot;application/hal+json&quot;)\n  @ResponseStatus(code = HttpStatus.CREATED)\n  public Mono&lt;ResponseEntity&lt;MyDTO&gt;&gt; upload(\n      @RequestBody Flux&lt;ByteBuffer&gt; data,\n      @RequestHeader(name = CONTENT_LENGTH) long contentLength,\n      @RequestHeader(name = CONTENT_TYPE, required = false) MediaType contentType,\n      @RequestHeader(name = CONTENT_DISPOSITION) @ContentDispositionConstraint ContentDisposition contentDisposition,\n      @RequestParam(name = &quot;archive&quot;, required = false, defaultValue = &quot;false&quot;) boolean archive,\n      @RequestParam(name = &quot;folder&quot;, required = false) @Pattern(regexp = FOLDER_PATTERN) String folder,\n      @RequestParam(name = &quot;folderOwner&quot;, required = false) String folderOwner,\n      @RequestParam(value = &quot;folderUuid&quot;, required = false) UUID folderUuid,\n      @RequestParam(name = &quot;expirationDate&quot;, required = false) Instant expirationDate,\n      JwtAuthenticationToken jwtToken,\n      ServerHttpRequest request) {\n\n</code></pre>\n<p>In swagger ui I see:</p>\n<p><a href=\"https://i.stack.imgur.com/a0qgl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a0qgl.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So I have no button to upload file. Is there way to acheve it ?</p>\n<p><strong>P.S.</strong></p>\n<p>If I change</p>\n<pre><code>@RequestBody Flux&lt;ByteBuffer&gt; data\n</code></pre>\n<p>to</p>\n<pre><code>@RequestPart (&quot;file&quot;) MultipartFile data,\n</code></pre>\n<p>I see the upload button in swagger but underlying code depends on <code>Flux&lt;ByteBuffer&gt; data</code> so I don't wanna change it.</p>\n"},{"tags":["java","ant","owasp"],"answers":[{"tags":[],"owner":{"account_id":2380110,"reputation":148,"user_id":2082302,"display_name":"COBRA.cH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652948329,"creation_date":1652948329,"answer_id":72301001,"question_id":71605182,"body_markdown":"Haven&#39;t found an ANT integration. Also the CLI doesn&#39;t support creating of BOMs just yet, but there exists a Java Core of CycloneDX that should be able to generate the BOMs:\r\nhttps://github.com/CycloneDX/cyclonedx-core-java","title":"How do I generate a Cyclonedx bom for a Java project built with Ant?","body":"<p>Haven't found an ANT integration. Also the CLI doesn't support creating of BOMs just yet, but there exists a Java Core of CycloneDX that should be able to generate the BOMs:\n<a href=\"https://github.com/CycloneDX/cyclonedx-core-java\" rel=\"nofollow noreferrer\">https://github.com/CycloneDX/cyclonedx-core-java</a></p>\n"}],"owner":{"account_id":7509527,"reputation":389,"user_id":5704969,"display_name":"PatrickE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1925,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1668430849,"creation_date":1648135571,"question_id":71605182,"body_markdown":"I&#39;m already generating boms and using them with Dependency Track for some projects built with Gradle. There&#39;s a CycloneDx Gradle plugin that works well for that. However I&#39;m also working with many older Java projects that are built with Ant. I&#39;ve not been able to find an Ant tool to generate the boms anywhere. Is there one out there? If not, what&#39;s the best way to generate the bom files? \r\n\r\nIf it can be done from a Windows command prompt, I can probably work with that as I&#39;ll add batch scripts to my Jenkins builds. ","title":"How do I generate a Cyclonedx bom for a Java project built with Ant?","body":"<p>I'm already generating boms and using them with Dependency Track for some projects built with Gradle. There's a CycloneDx Gradle plugin that works well for that. However I'm also working with many older Java projects that are built with Ant. I've not been able to find an Ant tool to generate the boms anywhere. Is there one out there? If not, what's the best way to generate the bom files?</p>\n<p>If it can be done from a Windows command prompt, I can probably work with that as I'll add batch scripts to my Jenkins builds.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1668430585,"post_id":74431950,"comment_id":131395653,"body_markdown":"have you read the error message? it shows exactly what you&#39;re doing wrong. Personally, I would advice against using tutorialspoint or similar sites in order to learn","body":"have you read the error message? it shows exactly what you&#39;re doing wrong. Personally, I would advice against using tutorialspoint or similar sites in order to learn"},{"owner":{"account_id":20727020,"reputation":29,"user_id":15220085,"display_name":"KjellPettersen"},"score":0,"creation_date":1668432890,"post_id":74431950,"comment_id":131396486,"body_markdown":"Which error here is “correct”, I wonder?","body":"Which error here is “correct”, I wonder?"}],"owner":{"account_id":20727020,"reputation":29,"user_id":15220085,"display_name":"KjellPettersen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668430338,"creation_date":1668430338,"question_id":74431950,"body_markdown":"This simple JSP page give me error in at &lt;jsp:useBean in Netbeans:\r\n    \r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Beans&lt;/title&gt;\r\n            &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;jsp:useBean id=&quot;students&quot; class =&quot;com.tutorialspoint.StudentsBean&quot;/&gt;\r\n            &lt;div&gt;Beans and stuff&lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cCAgx.jpg","title":"jsp usebean gives errror in Netbeans","body":"<p>This simple JSP page give me error in at &lt;jsp:useBean in Netbeans:</p>\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Beans&lt;/title&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;jsp:useBean id=&quot;students&quot; class =&quot;com.tutorialspoint.StudentsBean&quot;/&gt;\n        &lt;div&gt;Beans and stuff&lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cCAgx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cCAgx.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","spring-data"],"answers":[{"tags":[],"owner":{"account_id":315641,"reputation":1091,"user_id":631425,"accept_rate":72,"display_name":"Dave Taubler"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1416109968,"creation_date":1416109968,"answer_id":26953556,"question_id":26823359,"body_markdown":"I spent a bunch of time with my debugger and the Spring Data source code, and I learned that Spring Data isn&#39;t as good as it probably should be with polymorphism as it should be, especially given the schema-less nature of NoSQL solutions like MongoDB. But ultimately what I did was to write my own type mapper, and that wasn&#39;t too tough.\r\n\r\nThe main problem was that, when reading in my Page document, the default mappers used by Spring Data would see a collection called *widgets*, then consult the Page class to determine that widgets pointed to a List&lt;Widget&gt;, then consult the Widget class to look for @TypeAlias information. What I needed instead was a mapper that scanned my persistent entities up front and stored an alias-to-class mapping for later use. That&#39;s what my custom type mapper does.\r\n\r\nI wrote a [blog post discussing the details][1].\r\n\r\n\r\n  [1]: http://foreignloops.blogspot.com/2014/11/spring-data-mongo-and-lazy-mappers.html","title":"Spring Data, Mongo, and @TypeAlias: reading not working","body":"<p>I spent a bunch of time with my debugger and the Spring Data source code, and I learned that Spring Data isn't as good as it probably should be with polymorphism as it should be, especially given the schema-less nature of NoSQL solutions like MongoDB. But ultimately what I did was to write my own type mapper, and that wasn't too tough.</p>\n\n<p>The main problem was that, when reading in my Page document, the default mappers used by Spring Data would see a collection called <em>widgets</em>, then consult the Page class to determine that widgets pointed to a List, then consult the Widget class to look for @TypeAlias information. What I needed instead was a mapper that scanned my persistent entities up front and stored an alias-to-class mapping for later use. That's what my custom type mapper does.</p>\n\n<p>I wrote a <a href=\"http://foreignloops.blogspot.com/2014/11/spring-data-mongo-and-lazy-mappers.html\" rel=\"noreferrer\">blog post discussing the details</a>.</p>\n"},{"tags":[],"owner":{"account_id":5508165,"reputation":11,"user_id":4375432,"display_name":"Andreas Svensson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435869106,"creation_date":1435869106,"answer_id":31194122,"question_id":26823359,"body_markdown":"Today I ran into the exact same issue. After more research I found out that my subclass was missing a repository. It appears that Spring Data is using the repositories to determine which concrete subclass to create and when it is missing, it falls back to the superclass which in this case is abstract.\r\n\r\nSo please try to add a FooWidgetRepository and map it to FooWidget with correct ID type. It might work in your case as well.","title":"Spring Data, Mongo, and @TypeAlias: reading not working","body":"<p>Today I ran into the exact same issue. After more research I found out that my subclass was missing a repository. It appears that Spring Data is using the repositories to determine which concrete subclass to create and when it is missing, it falls back to the superclass which in this case is abstract.</p>\n\n<p>So please try to add a FooWidgetRepository and map it to FooWidget with correct ID type. It might work in your case as well.</p>\n"},{"tags":[],"owner":{"account_id":2428068,"reputation":212,"user_id":2119598,"accept_rate":100,"display_name":"cheppsn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436812094,"creation_date":1436803459,"answer_id":31388194,"question_id":26823359,"body_markdown":"_[Andreas Svensson][1]_ is right, this can be done much simpler than described by _[Dave Taubler][2]_.\r\n\r\nI posted a slightly more elaborate answer than Andreas&#39; (including sample code) in [this post][3]. Excerpt:\r\n\r\n&gt; So all you need to do is to declare an &quot;unused&quot; Repository-Interface\r\n&gt; for your sub-classes, just like you proposed as &quot;unsafe&quot; in your OP:\r\n\r\n    public interface NodeRepository extends MongoRepository&lt;Node, String&gt; { \r\n      // all of your repo methods go here\r\n      Node findById(String id);\r\n      Node findFirst100ByNodeType(String nodeType);\r\n      ... etc.\r\n    }\r\n    public interface LeafType1Repository extends MongoRepository&lt;LeafType1, String&gt; {\r\n      // leave empty\r\n    }\r\n    public interface LeafType2Repository extends MongoRepository&lt;LeafType2, String&gt; { \r\n      // leave empty\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31194122/2119598\r\n  [2]: https://stackoverflow.com/a/26953556/2119598\r\n  [3]: https://stackoverflow.com/a/31387936/2119598","title":"Spring Data, Mongo, and @TypeAlias: reading not working","body":"<p><em><a href=\"https://stackoverflow.com/a/31194122/2119598\">Andreas Svensson</a></em> is right, this can be done much simpler than described by <em><a href=\"https://stackoverflow.com/a/26953556/2119598\">Dave Taubler</a></em>.</p>\n\n<p>I posted a slightly more elaborate answer than Andreas' (including sample code) in <a href=\"https://stackoverflow.com/a/31387936/2119598\">this post</a>. Excerpt:</p>\n\n<blockquote>\n  <p>So all you need to do is to declare an \"unused\" Repository-Interface\n  for your sub-classes, just like you proposed as \"unsafe\" in your OP:</p>\n</blockquote>\n\n<pre><code>public interface NodeRepository extends MongoRepository&lt;Node, String&gt; { \n  // all of your repo methods go here\n  Node findById(String id);\n  Node findFirst100ByNodeType(String nodeType);\n  ... etc.\n}\npublic interface LeafType1Repository extends MongoRepository&lt;LeafType1, String&gt; {\n  // leave empty\n}\npublic interface LeafType2Repository extends MongoRepository&lt;LeafType2, String&gt; { \n  // leave empty\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9674987,"reputation":41,"user_id":7178778,"display_name":"Chris Purcell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1552376819,"creation_date":1479481421,"answer_id":40680238,"question_id":26823359,"body_markdown":"If you extend *AbstractMongoConfiguration*, you can override method *getMappingBasePackage* to specify the base package for your documents.\r\n\r\n    @Configuration\r\n    class RepositoryConfig extends AbstractMongoConfiguration {\r\n\r\n        @Override\r\n        protected String getMappingBasePackage() {\r\n            return &quot;com.example&quot;;\r\n        }\r\n}\r\n\r\n**Update:** In spring-data-mongodb 2+ you should use:\r\n\t\r\n\r\n \t    @Configuration\r\n        class RepositoryConfig extends AbstractMongoConfiguration {\r\n            \t@Override\r\n            \tprotected Collection&lt;String&gt; getMappingBasePackages(){\r\n    \t\t\t\treturn Arrays.asList(&quot;com.example&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\nbecause `getMappingBasePackage()` is no deprecated and won&#39;t work.","title":"Spring Data, Mongo, and @TypeAlias: reading not working","body":"<p>If you extend <em>AbstractMongoConfiguration</em>, you can override method <em>getMappingBasePackage</em> to specify the base package for your documents.</p>\n\n<pre><code>@Configuration\nclass RepositoryConfig extends AbstractMongoConfiguration {\n\n    @Override\n    protected String getMappingBasePackage() {\n        return \"com.example\";\n    }\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Update:</strong> In spring-data-mongodb 2+ you should use:</p>\n\n<pre><code>    @Configuration\n    class RepositoryConfig extends AbstractMongoConfiguration {\n            @Override\n            protected Collection&lt;String&gt; getMappingBasePackages(){\n                return Arrays.asList(\"com.example\");\n            }\n        }\n</code></pre>\n\n<p>because <code>getMappingBasePackage()</code> is no deprecated and won't work.</p>\n"},{"tags":[],"owner":{"account_id":12583956,"reputation":91,"user_id":9153638,"display_name":"Christophe S"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1514568900,"creation_date":1514568448,"answer_id":48026183,"question_id":26823359,"body_markdown":"In the default setting, the `MappingMongoConverter` creates a `DefaultMongoTypeMapper` which in turn creates a `MappingContextTypeInformationMapper`. \r\n\r\nThat last class is the one responsible for maintaining the `typeMap` cache between `TypeInformation` and aliases. \r\n\r\nThat cache is populated in two places: \r\n\r\n 1. In the constructor, for each `mappingContext.getPersistentEntities()`\r\n 2. When writing an object of an aliased type. \r\n\r\nSo if you want to make sure the alias is recognized in any context, you need to make sure that all your aliased entities are part of `mappingContext.getPersistentEntities()`. \r\n\r\nHow you do that depends on your configuration. For instance:\r\n\r\n - if you&#39;re using `AbstractMongoConfiguration`, you can overwrite its `getMappingBasePackage()` to return the name of a package containing all of your entities. \r\n - if you&#39;re using spring boot, you can use `@EntityScan` to declare which packages to scan for entities\r\n - in any case, you can always configure it with a custom set (from a static list or a custom scan) using `mongoMappingContext.setInitialEntitySet()`\r\n\r\nOne side note, for an entity to be discovered by a scan, it has to be annotated with either `@Document` or `@Persitent`. \r\n\r\nMore informations can be found in the [spring-data-commons Developer Guide](https://github.com/spring-projects/spring-data-commons/wiki/developer-guide)","title":"Spring Data, Mongo, and @TypeAlias: reading not working","body":"<p>In the default setting, the <code>MappingMongoConverter</code> creates a <code>DefaultMongoTypeMapper</code> which in turn creates a <code>MappingContextTypeInformationMapper</code>. </p>\n\n<p>That last class is the one responsible for maintaining the <code>typeMap</code> cache between <code>TypeInformation</code> and aliases. </p>\n\n<p>That cache is populated in two places: </p>\n\n<ol>\n<li>In the constructor, for each <code>mappingContext.getPersistentEntities()</code></li>\n<li>When writing an object of an aliased type. </li>\n</ol>\n\n<p>So if you want to make sure the alias is recognized in any context, you need to make sure that all your aliased entities are part of <code>mappingContext.getPersistentEntities()</code>. </p>\n\n<p>How you do that depends on your configuration. For instance:</p>\n\n<ul>\n<li>if you're using <code>AbstractMongoConfiguration</code>, you can overwrite its <code>getMappingBasePackage()</code> to return the name of a package containing all of your entities. </li>\n<li>if you're using spring boot, you can use <code>@EntityScan</code> to declare which packages to scan for entities</li>\n<li>in any case, you can always configure it with a custom set (from a static list or a custom scan) using <code>mongoMappingContext.setInitialEntitySet()</code></li>\n</ul>\n\n<p>One side note, for an entity to be discovered by a scan, it has to be annotated with either <code>@Document</code> or <code>@Persitent</code>. </p>\n\n<p>More informations can be found in the <a href=\"https://github.com/spring-projects/spring-data-commons/wiki/developer-guide\" rel=\"noreferrer\">spring-data-commons Developer Guide</a></p>\n"},{"tags":[],"owner":{"account_id":5783852,"reputation":27,"user_id":4563723,"display_name":"Maxim Ignatiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668430334,"creation_date":1668430334,"answer_id":74431949,"question_id":26823359,"body_markdown":"If you use spring boot with auto-configuration, declaring the following bean can help:\r\n\r\n```\r\n@Bean\r\nMongoMappingContext mongoMappingContext(ApplicationContext applicationContext, MongoCustomConversions conversions) throws ClassNotFoundException {\r\n    MongoMappingContext context = new MongoMappingContext();\r\n    context.setInitialEntitySet(new EntityScanner(applicationContext).scan(Persistent.class));\r\n    context.setSimpleTypeHolder(conversions.getSimpleTypeHolder());\r\n    return context;\r\n}\r\n```\r\n\r\nwhat does the trick is the following line:\r\n```\r\nnew EntityScanner(applicationContext).scan(Persistent.class)\r\n```\r\nInstead of scanning for `Document`s it will scan for both `Document` and `TypeAlias`, since both of these annotations are `Persistent`","title":"Spring Data, Mongo, and @TypeAlias: reading not working","body":"<p>If you use spring boot with auto-configuration, declaring the following bean can help:</p>\n<pre><code>@Bean\nMongoMappingContext mongoMappingContext(ApplicationContext applicationContext, MongoCustomConversions conversions) throws ClassNotFoundException {\n    MongoMappingContext context = new MongoMappingContext();\n    context.setInitialEntitySet(new EntityScanner(applicationContext).scan(Persistent.class));\n    context.setSimpleTypeHolder(conversions.getSimpleTypeHolder());\n    return context;\n}\n</code></pre>\n<p>what does the trick is the following line:</p>\n<pre><code>new EntityScanner(applicationContext).scan(Persistent.class)\n</code></pre>\n<p>Instead of scanning for <code>Document</code>s it will scan for both <code>Document</code> and <code>TypeAlias</code>, since both of these annotations are <code>Persistent</code></p>\n"}],"owner":{"account_id":315641,"reputation":1091,"user_id":631425,"accept_rate":72,"display_name":"Dave Taubler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14461,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":26953556,"answer_count":6,"score":10,"last_activity_date":1668430334,"creation_date":1415490409,"question_id":26823359,"body_markdown":"**The issue**\r\n\r\nAwhile back I started using MongoDB and Spring Data. I&#39;d left most of the default functionality in place, and so all of my documents were stored in MongoDB with a `_class` field pointing to the entity&#39;s fully-qualified class name. \r\n\r\nRight away that didn&#39;t &quot;smell&quot; right to me, but I left it alone. Until recently, when I refactored a bunch of code, and suddenly none of my documents could be read back from MongoDB and converted into their (refactored/renamed) Java entities. I quickly realized that it was because there was now a fully-qualified-classname mismatch. I also quickly realized that--given that I might refactor again sometime in the future--if I didn&#39;t want all of my data to become unusable I&#39;d need to figure something else out. \r\n\r\n**What I&#39;ve tried**\r\n\r\nSo that&#39;s what I&#39;m doing, but I&#39;ve hit a wall. I *think* that I need to do the following:\r\n\r\n - Annotate each entity with `@TypeAlias(&quot;ta&quot;)` where &quot;ta&quot; is a unique, stable string.\r\n - Configure and use a different `TypeInformationMapper` for Spring Data to use when converting my documents back into their Java entities; it needs to know, for example, that a type-alias of &quot;widget.foo&quot; refers to `com.myapp.document.FooWidget`.\r\n\r\nI determined that I should use a `TypeInformationMapper` of type `org.springframework.data.convert.MappingContextTypeInformationMapper`. Supposedly a MappingContextTypeInformationMapper will scan my entities/documents to find @TypeAlias&#39;ed documents and store an alias-&gt;to-&gt;class mapping. But I can&#39;t pass that to my MappingMongoConverter; I have to pass a subtype of MongoTypeMapper. So I am configuring a `DefaultMongoTypeMapper`, and passing a List of one `MappingContextTypeInformationMapper` as its &quot;mappers&quot; constructor arg.\r\n\r\n**Code**\r\n\r\nHere&#39;s the relevant part of my spring XML config:\r\n\r\n\t&lt;bean id=&quot;mongoTypeMapper&quot; class=&quot;org.springframework.data.mongodb.core.convert.DefaultMongoTypeMapper&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;typeKey&quot; value=&quot;_class&quot;&gt;&lt;/constructor-arg&gt;\r\n\t    &lt;constructor-arg name=&quot;mappers&quot;&gt;\r\n\t        &lt;list&gt;\r\n\t            &lt;ref bean=&quot;mappingContextTypeMapper&quot; /&gt;\r\n\t        &lt;/list&gt;\r\n\t    &lt;/constructor-arg&gt; \r\n\t&lt;/bean&gt;\r\n\t\r\n \t&lt;bean id=&quot;mappingContextTypeMapper&quot; class=&quot;org.springframework.data.convert.MappingContextTypeInformationMapper&quot;&gt;\r\n \t    &lt;constructor-arg ref=&quot;mappingContext&quot; /&gt;\r\n \t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;mappingMongoConverter&quot;\r\n\t\tclass=&quot;org.springframework.data.mongodb.core.convert.MappingMongoConverter&quot;&gt;\r\n\t\t&lt;constructor-arg ref=&quot;mongoDbFactory&quot; /&gt;\r\n\t\t&lt;constructor-arg ref=&quot;mappingContext&quot; /&gt;\r\n\t\t&lt;property name=&quot;mapKeyDotReplacement&quot; value=&quot;__dot__&quot; /&gt;\r\n\t\t&lt;property name=&quot;typeMapper&quot; ref=&quot;mongoTypeMapper&quot;/&gt;\r\n\t &lt;/bean&gt;\r\n\r\n\t &lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n \t\t&lt;constructor-arg ref=&quot;mongoDbFactory&quot; /&gt;\r\n \t\t&lt;constructor-arg ref=&quot;mappingMongoConverter&quot; /&gt;\r\n\t &lt;/bean&gt;\r\n\r\nHere&#39;s a sample entity/document:\r\n\r\n    @Document(collection=&quot;widget&quot;)\r\n    @TypeAlias(&quot;widget.foo&quot;)\r\n    public class FooWidget extends Widget {\r\n    \t\r\n    \t// ...\r\n    \r\n    }\r\n\r\nOne important note is that any such &quot;Widget&quot; entity is stored as a nested document in Mongo. So in reality you won&#39;t really find a populated &quot;Widget&quot; collection in my MongoDB instance. Instead, a higher-level &quot;Page&quot; class can contain multiple &quot;widgets&quot; like so:\r\n\r\n    @Document(collection=&quot;page&quot;)\r\n    @TypeAlias(&quot;page&quot;)\r\n    public class Page extends BaseDocument {\r\n    \r\n    \t// ...\r\n    \t\r\n    \tprivate List&lt;Widget&gt; widgets = new ArrayList&lt;Widget&gt;();\r\n    \r\n    }\r\n\r\n**The error I&#39;m stuck on**\r\n\r\nWhat happens is that I can save a Page along with a number of nested Widgets in Mongo. But when I try to read said Page back out, I get something like the following:\r\n\r\n    org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.myapp.document.Widget]: Is it an abstract class?\r\n\r\nI can indeed see pages in Mongo containing `&quot;_class&quot; : &quot;page&quot;`, with nested widgets also containing `&quot;_class&quot; : &quot;widget.foo&quot;`  It just appears like the mapping is not being applied in the reverse.\r\n\r\nIs there anything I might be missing?","title":"Spring Data, Mongo, and @TypeAlias: reading not working","body":"<p><strong>The issue</strong></p>\n\n<p>Awhile back I started using MongoDB and Spring Data. I'd left most of the default functionality in place, and so all of my documents were stored in MongoDB with a <code>_class</code> field pointing to the entity's fully-qualified class name. </p>\n\n<p>Right away that didn't \"smell\" right to me, but I left it alone. Until recently, when I refactored a bunch of code, and suddenly none of my documents could be read back from MongoDB and converted into their (refactored/renamed) Java entities. I quickly realized that it was because there was now a fully-qualified-classname mismatch. I also quickly realized that--given that I might refactor again sometime in the future--if I didn't want all of my data to become unusable I'd need to figure something else out. </p>\n\n<p><strong>What I've tried</strong></p>\n\n<p>So that's what I'm doing, but I've hit a wall. I <em>think</em> that I need to do the following:</p>\n\n<ul>\n<li>Annotate each entity with <code>@TypeAlias(\"ta\")</code> where \"ta\" is a unique, stable string.</li>\n<li>Configure and use a different <code>TypeInformationMapper</code> for Spring Data to use when converting my documents back into their Java entities; it needs to know, for example, that a type-alias of \"widget.foo\" refers to <code>com.myapp.document.FooWidget</code>.</li>\n</ul>\n\n<p>I determined that I should use a <code>TypeInformationMapper</code> of type <code>org.springframework.data.convert.MappingContextTypeInformationMapper</code>. Supposedly a MappingContextTypeInformationMapper will scan my entities/documents to find @TypeAlias'ed documents and store an alias->to->class mapping. But I can't pass that to my MappingMongoConverter; I have to pass a subtype of MongoTypeMapper. So I am configuring a <code>DefaultMongoTypeMapper</code>, and passing a List of one <code>MappingContextTypeInformationMapper</code> as its \"mappers\" constructor arg.</p>\n\n<p><strong>Code</strong></p>\n\n<p>Here's the relevant part of my spring XML config:</p>\n\n<pre><code>&lt;bean id=\"mongoTypeMapper\" class=\"org.springframework.data.mongodb.core.convert.DefaultMongoTypeMapper\"&gt;\n    &lt;constructor-arg name=\"typeKey\" value=\"_class\"&gt;&lt;/constructor-arg&gt;\n    &lt;constructor-arg name=\"mappers\"&gt;\n        &lt;list&gt;\n            &lt;ref bean=\"mappingContextTypeMapper\" /&gt;\n        &lt;/list&gt;\n    &lt;/constructor-arg&gt; \n&lt;/bean&gt;\n\n&lt;bean id=\"mappingContextTypeMapper\" class=\"org.springframework.data.convert.MappingContextTypeInformationMapper\"&gt;\n    &lt;constructor-arg ref=\"mappingContext\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"mappingMongoConverter\"\n    class=\"org.springframework.data.mongodb.core.convert.MappingMongoConverter\"&gt;\n    &lt;constructor-arg ref=\"mongoDbFactory\" /&gt;\n    &lt;constructor-arg ref=\"mappingContext\" /&gt;\n    &lt;property name=\"mapKeyDotReplacement\" value=\"__dot__\" /&gt;\n    &lt;property name=\"typeMapper\" ref=\"mongoTypeMapper\"/&gt;\n &lt;/bean&gt;\n\n &lt;bean id=\"mongoTemplate\" class=\"org.springframework.data.mongodb.core.MongoTemplate\"&gt;\n    &lt;constructor-arg ref=\"mongoDbFactory\" /&gt;\n    &lt;constructor-arg ref=\"mappingMongoConverter\" /&gt;\n &lt;/bean&gt;\n</code></pre>\n\n<p>Here's a sample entity/document:</p>\n\n<pre><code>@Document(collection=\"widget\")\n@TypeAlias(\"widget.foo\")\npublic class FooWidget extends Widget {\n\n    // ...\n\n}\n</code></pre>\n\n<p>One important note is that any such \"Widget\" entity is stored as a nested document in Mongo. So in reality you won't really find a populated \"Widget\" collection in my MongoDB instance. Instead, a higher-level \"Page\" class can contain multiple \"widgets\" like so:</p>\n\n<pre><code>@Document(collection=\"page\")\n@TypeAlias(\"page\")\npublic class Page extends BaseDocument {\n\n    // ...\n\n    private List&lt;Widget&gt; widgets = new ArrayList&lt;Widget&gt;();\n\n}\n</code></pre>\n\n<p><strong>The error I'm stuck on</strong></p>\n\n<p>What happens is that I can save a Page along with a number of nested Widgets in Mongo. But when I try to read said Page back out, I get something like the following:</p>\n\n<pre><code>org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.myapp.document.Widget]: Is it an abstract class?\n</code></pre>\n\n<p>I can indeed see pages in Mongo containing <code>\"_class\" : \"page\"</code>, with nested widgets also containing <code>\"_class\" : \"widget.foo\"</code>  It just appears like the mapping is not being applied in the reverse.</p>\n\n<p>Is there anything I might be missing?</p>\n"},{"tags":["java","multithreading","kotlin","coroutine"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1668409075,"post_id":74427791,"comment_id":131389020,"body_markdown":"There is no reason to bother with pooling coroutines.","body":"There is no reason to bother with pooling coroutines."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1668949516,"post_id":74427791,"comment_id":131525429,"body_markdown":"Furthermore, be advised that with the release of Java 19 on the 20th of September 2022 java now supports &quot;virtual threads&quot;, which are essentially fibers, (see &quot;project loom&quot;) and languages like Go and Kotlin became obsolete overnight.","body":"Furthermore, be advised that with the release of Java 19 on the 20th of September 2022 java now supports &quot;virtual threads&quot;, which are essentially fibers, (see &quot;project loom&quot;) and languages like Go and Kotlin became obsolete overnight."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1695207956,"post_id":74427791,"comment_id":135992602,"body_markdown":"@MikeNakis virtual threads and coroutines solve different problems, and coroutines are not the only difference between Java and Kotlin.","body":"@MikeNakis virtual threads and coroutines solve different problems, and coroutines are not the only difference between Java and Kotlin."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1695209555,"post_id":74427791,"comment_id":135992945,"body_markdown":"@Tenfour04 would you like to discuss this? (Perhaps in one of the stack overflow chatrooms, or via some other means, like google hangouts, microsoft teams, etc.)","body":"@Tenfour04 would you like to discuss this? (Perhaps in one of the stack overflow chatrooms, or via some other means, like google hangouts, microsoft teams, etc.)"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1695212707,"post_id":74427791,"comment_id":135993631,"body_markdown":"@MikeNakis [My answer here](https://stackoverflow.com/questions/77053797/java-virtual-threads-vs-kotlin-coroutines/77059883#77059883) is the point I&#39;m getting at about them solving different problems, but I&#39;m not an expert at the details. But I don&#39;t think of coroutines as the main point of Kotlin. Even if Kotlin didn&#39;t have coroutines at all, I would usually choose it over Java because in most cases (for me) the pros outweigh the cons. If you want to open an SO chat room I can join, but I would be sporadic through the day.","body":"@MikeNakis <a href=\"https://stackoverflow.com/questions/77053797/java-virtual-threads-vs-kotlin-coroutines/77059883#77059883\">My answer here</a> is the point I&#39;m getting at about them solving different problems, but I&#39;m not an expert at the details. But I don&#39;t think of coroutines as the main point of Kotlin. Even if Kotlin didn&#39;t have coroutines at all, I would usually choose it over Java because in most cases (for me) the pros outweigh the cons. If you want to open an SO chat room I can join, but I would be sporadic through the day."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1695214609,"post_id":74427791,"comment_id":135994131,"body_markdown":"@Tenfour04 yes, I saw your answer. Here is a chat room: https://chat.stackoverflow.com/rooms/255344/virtual-threads-vs-coroutines I will also be sporadically available, that&#39;s okay.","body":"@Tenfour04 yes, I saw your answer. Here is a chat room: <a href=\"https://chat.stackoverflow.com/rooms/255344/virtual-threads-vs-coroutines\">chat.stackoverflow.com/rooms/255344/&hellip;</a> I will also be sporadically available, that&#39;s okay."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668430300,"creation_date":1668430300,"answer_id":74431943,"question_id":74427791,"body_markdown":"When Kotlin documentation talks about coroutines being lightweight threads, it’s just because coroutines use thread pools under the hood. Therefore, pooling coroutines would not provide any benefits, while it would defeat the other primary purpose of coroutines, simpler concurrency-related code. ","title":"how to implement coroutine pool in coroutine-support language?","body":"<p>When Kotlin documentation talks about coroutines being lightweight threads, it’s just because coroutines use thread pools under the hood. Therefore, pooling coroutines would not provide any benefits, while it would defeat the other primary purpose of coroutines, simpler concurrency-related code.</p>\n"}],"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74431943,"answer_count":1,"score":0,"last_activity_date":1668430300,"creation_date":1668408389,"question_id":74427791,"body_markdown":"I&#39;m wondering if it is approriate to implement coroutine pool in kotlin since coroutine itself is more lightweight than thread.\r\n\r\nThere&#39;s such a scene, code was wittern in Java:\r\nI designed different kind of messages which are received from clients. These messages will be extracted a `msgId` and encapsulated into a task(which actually a `Runnable` in Java), and finally be dispathced to different `consumption queues` according to `msgId`.\r\n\r\nThe `consumption queues` actually are thread pool. These tasks will finally be processed by the processor related to the pool.\r\n\r\n```\r\n/*    \r\n    The whole process is simplified into the following process method\r\n*/\r\nclass MsgProcess {\r\n    public void process(Msg msg) {\r\n        int msgId = msg.getId();\r\n        Task task = new AbstractTask(msg);\r\n        Processor processor = ProcessorMap.getProcessorById(msgId);\r\n        QueueDriver driver = processor.getDriver();\r\n        driver.addTask(task);\r\n    }\r\n}\r\n\r\nabstract class Processor {\r\n    ...\r\n\r\n    protected abstract QueueDriver getDriver(); // QueueDriver is the consumption queue\r\n}\r\n\r\nabstract class AbstractTask implements Runnable {\r\n    ...\r\n\r\n    @Override\r\n    public void run() {\r\n        ...\r\n    }\r\n}\r\n\r\n\r\nclass Task1 extends AbstractTask{\r\n    @Override\r\n    public void run() {\r\n        // remote procedure call to the script server to process the task\r\n    }\r\n}\r\n```\r\nThen an idea came into my mind, if in languages like Go and Kotlin that support coroutine, What can thread pools be replaced?  To design a coutine pool? Coroutine has already been lightweight. Is pooling design really meaningful\r\n\r\nOr how to involve consumption queues for different tasks using coroutine?\r\n\r\n","title":"how to implement coroutine pool in coroutine-support language?","body":"<p>I'm wondering if it is approriate to implement coroutine pool in kotlin since coroutine itself is more lightweight than thread.</p>\n<p>There's such a scene, code was wittern in Java:\nI designed different kind of messages which are received from clients. These messages will be extracted a <code>msgId</code> and encapsulated into a task(which actually a <code>Runnable</code> in Java), and finally be dispathced to different <code>consumption queues</code> according to <code>msgId</code>.</p>\n<p>The <code>consumption queues</code> actually are thread pool. These tasks will finally be processed by the processor related to the pool.</p>\n<pre><code>/*    \n    The whole process is simplified into the following process method\n*/\nclass MsgProcess {\n    public void process(Msg msg) {\n        int msgId = msg.getId();\n        Task task = new AbstractTask(msg);\n        Processor processor = ProcessorMap.getProcessorById(msgId);\n        QueueDriver driver = processor.getDriver();\n        driver.addTask(task);\n    }\n}\n\nabstract class Processor {\n    ...\n\n    protected abstract QueueDriver getDriver(); // QueueDriver is the consumption queue\n}\n\nabstract class AbstractTask implements Runnable {\n    ...\n\n    @Override\n    public void run() {\n        ...\n    }\n}\n\n\nclass Task1 extends AbstractTask{\n    @Override\n    public void run() {\n        // remote procedure call to the script server to process the task\n    }\n}\n</code></pre>\n<p>Then an idea came into my mind, if in languages like Go and Kotlin that support coroutine, What can thread pools be replaced?  To design a coutine pool? Coroutine has already been lightweight. Is pooling design really meaningful</p>\n<p>Or how to involve consumption queues for different tasks using coroutine?</p>\n"},{"tags":["java","mockito","objectmapper"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1668422371,"post_id":74430283,"comment_id":131393088,"body_markdown":"The reason for the exception is explained in the error message. What did you expect  / what are you trying to achieve?","body":"The reason for the exception is explained in the error message. What did you expect  / what are you trying to achieve?"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1668422707,"post_id":74430283,"comment_id":131393190,"body_markdown":"What are you trying to achive ? What would you expected the string to look like?  The code you displayed can not worke. A mocked object is just a mock and not a real Object.","body":"What are you trying to achive ? What would you expected the string to look like?  The code you displayed can not worke. A mocked object is just a mock and not a real Object."},{"owner":{"account_id":19659036,"reputation":375,"user_id":14390963,"display_name":"lando"},"score":0,"creation_date":1668423098,"post_id":74430283,"comment_id":131393315,"body_markdown":"I&#39;m just confused, because it used to work before I updated a few dependencies I guess. So the correct way would be to just create stubbed objects?","body":"I&#39;m just confused, because it used to work before I updated a few dependencies I guess. So the correct way would be to just create stubbed objects?"},{"owner":{"account_id":19659036,"reputation":375,"user_id":14390963,"display_name":"lando"},"score":0,"creation_date":1668424853,"post_id":74430283,"comment_id":131393876,"body_markdown":"that&#39;s correct, but I don&#39;t need it for `new Object()`, I just used Object.class for simplification :) sorry, but I understood the problem, thanks!","body":"that&#39;s correct, but I don&#39;t need it for <code>new Object()</code>, I just used Object.class for simplification :) sorry, but I understood the problem, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668430085,"creation_date":1668423037,"answer_id":74430469,"question_id":74430283,"body_markdown":"**TL; DR**\r\n\r\nMock objects aren&#39;t data structures, you can&#39;t serialize them by ObjectMapper.\r\n\r\n**Full answer**\r\n\r\nYou are trying to serialize a mock object which is very special kind of object created by Mockito. It is very different from a ordinary data structures that are processable by ObjectMapper.\r\n\r\nWhat ObjectMapper does is that it looks at the members of a serialized object and tries to serialize each of them. It either knows, how to do that (int, Long...), or it is configured (often right after a new instance creation), or the serialized member has some annotations to tell the ObjectMapper. In your case the mock object has a member of type ByteBuddyCrossClassLoaderSerializationSupport and the ObjectMapper has no idea what to do.","title":"Error when using mockito.mock(&lt;SomeObject&gt;.class) and object mapper","body":"<p><strong>TL; DR</strong></p>\n<p>Mock objects aren't data structures, you can't serialize them by ObjectMapper.</p>\n<p><strong>Full answer</strong></p>\n<p>You are trying to serialize a mock object which is very special kind of object created by Mockito. It is very different from a ordinary data structures that are processable by ObjectMapper.</p>\n<p>What ObjectMapper does is that it looks at the members of a serialized object and tries to serialize each of them. It either knows, how to do that (int, Long...), or it is configured (often right after a new instance creation), or the serialized member has some annotations to tell the ObjectMapper. In your case the mock object has a member of type ByteBuddyCrossClassLoaderSerializationSupport and the ObjectMapper has no idea what to do.</p>\n"}],"owner":{"account_id":19659036,"reputation":375,"user_id":14390963,"display_name":"lando"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74430469,"answer_count":1,"score":1,"last_activity_date":1668430085,"creation_date":1668422161,"question_id":74430283,"body_markdown":"Im getting an InvalidDefinitionException when I try to map a mocked object with ObjectMapper. The object doesn&#39;t matter in that case. The code which produces the exception looks like this:\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.writeValueAsString(mock(Object.class));\r\n```\r\n\r\nThe resulting exception message is this:\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.mockito.internal.creation.bytebuddy.ByteBuddyCrossClassLoaderSerializationSupport and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.mockito.codegen.Object$MockitoMock$nY0RyieU[&quot;mockitoInterceptor&quot;]-&gt;org.mockito.internal.creation.bytebuddy.MockMethodInterceptor[&quot;serializationSupport&quot;])\r\n```\r\n\r\nThe ObjectMapper comes from jackson-databind v2.14.0, for mockito I&#39;m using version 4.8.1","title":"Error when using mockito.mock(&lt;SomeObject&gt;.class) and object mapper","body":"<p>Im getting an InvalidDefinitionException when I try to map a mocked object with ObjectMapper. The object doesn't matter in that case. The code which produces the exception looks like this:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.writeValueAsString(mock(Object.class));\n</code></pre>\n<p>The resulting exception message is this:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.mockito.internal.creation.bytebuddy.ByteBuddyCrossClassLoaderSerializationSupport and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.mockito.codegen.Object$MockitoMock$nY0RyieU[&quot;mockitoInterceptor&quot;]-&gt;org.mockito.internal.creation.bytebuddy.MockMethodInterceptor[&quot;serializationSupport&quot;])\n</code></pre>\n<p>The ObjectMapper comes from jackson-databind v2.14.0, for mockito I'm using version 4.8.1</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":4,"creation_date":1668361092,"post_id":74423239,"comment_id":131381089,"body_markdown":"The JVM has a definition of how it&#39;s supposed to work. But you can&#39;t rule out bugs in some implementations.","body":"The JVM has a definition of how it&#39;s supposed to work. But you can&#39;t rule out bugs in some implementations."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":6,"creation_date":1668361427,"post_id":74423239,"comment_id":131381161,"body_markdown":"[TCK](https://en.m.wikipedia.org/wiki/Technology_Compatibility_Kit) and  [Eclipse AQAvit™](https://projects.eclipse.org/projects/adoptium.aqavit)","body":"<a href=\"https://en.m.wikipedia.org/wiki/Technology_Compatibility_Kit\" rel=\"nofollow noreferrer\">TCK</a> and  <a href=\"https://projects.eclipse.org/projects/adoptium.aqavit\" rel=\"nofollow noreferrer\">Eclipse AQAvit™</a>"}],"owner":{"account_id":12110791,"reputation":114,"user_id":8847661,"display_name":"8qfx1ai5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668429915,"creation_date":1668360806,"question_id":74423239,"body_markdown":"Does anybody know an official third-party study or proven test-suite that can give evidence, that the JVM will work on some/any/all operating systems the same? (For the non OS-Special functions.) Or is there evidence, that this can not be achieved anyhow?\r\n\r\nI am looking from a security view and wonder if I need to test my Java-Software on every OS to ensure this.\r\n\r\n","title":"Evidences that Java (JVM) behaves similar on &quot;some/all&quot; OS?","body":"<p>Does anybody know an official third-party study or proven test-suite that can give evidence, that the JVM will work on some/any/all operating systems the same? (For the non OS-Special functions.) Or is there evidence, that this can not be achieved anyhow?</p>\n<p>I am looking from a security view and wonder if I need to test my Java-Software on every OS to ensure this.</p>\n"},{"tags":["java","loops","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668348459,"creation_date":1668348459,"answer_id":74421728,"question_id":74420810,"body_markdown":"You dont need to iterate backward or inverse:\r\n\r\n    public class StackOveFlow {\r\n    \r\n       \r\n        static int[][] matrix = {\r\n                {2,2,0,2,0,0},\r\n                {0,2,2,2,2,2},\r\n                {2,2,2,2,2,0},\r\n                {0,2,2,0,0,0},\r\n                {2,2,2,0,1,1}\r\n            };\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n            int rowToSearch = 0;\r\n            int integerToFind = 2;\r\n            int lastOccurance = findLastOccurrance(rowToSearch,integerToFind);\r\n            if(lastOccurance&gt;-1)\r\n                System.out.println(&quot;Found last &quot; + integerToFind + &quot; in row &quot; + rowToSearch + &quot; at column = &quot; + lastOccurance);\r\n            else\r\n                System.out.println(&quot;NOT FOUND&quot;);\r\n           \r\n           \r\n        }\r\n        public static int findLastOccurrance(int row, int intToFind)\r\n        {\r\n            int index = -1;\r\n            for(int column = 0; column &lt; 6;column++)\r\n                if(matrix[row][column]==intToFind)\r\n                    index = column;\r\n            \r\n            return index;\r\n        }\r\n    }\r\n\r\nIterating reverse will be useful if you have large array.. Backward iteration can done with minute changes for loop. \r\n\r\n  ","title":"iterating backward in a row within a 2d array","body":"<p>You dont need to iterate backward or inverse:</p>\n<pre><code>public class StackOveFlow {\n\n   \n    static int[][] matrix = {\n            {2,2,0,2,0,0},\n            {0,2,2,2,2,2},\n            {2,2,2,2,2,0},\n            {0,2,2,0,0,0},\n            {2,2,2,0,1,1}\n        };\n    public static void main(String[] args) {\n        // TODO code application logic here\n        int rowToSearch = 0;\n        int integerToFind = 2;\n        int lastOccurance = findLastOccurrance(rowToSearch,integerToFind);\n        if(lastOccurance&gt;-1)\n            System.out.println(&quot;Found last &quot; + integerToFind + &quot; in row &quot; + rowToSearch + &quot; at column = &quot; + lastOccurance);\n        else\n            System.out.println(&quot;NOT FOUND&quot;);\n       \n       \n    }\n    public static int findLastOccurrance(int row, int intToFind)\n    {\n        int index = -1;\n        for(int column = 0; column &lt; 6;column++)\n            if(matrix[row][column]==intToFind)\n                index = column;\n        \n        return index;\n    }\n}\n</code></pre>\n<p>Iterating reverse will be useful if you have large array.. Backward iteration can done with minute changes for loop.</p>\n"}],"owner":{"account_id":26883166,"reputation":5,"user_id":20463221,"display_name":"David T Laszlo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74421728,"answer_count":1,"score":-2,"last_activity_date":1668429661,"creation_date":1668341484,"question_id":74420810,"body_markdown":"I hope someone can help me with this. My problem is that I have a 2D int array in Java. It looks like this:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/hj2aW.png)](https://i.stack.imgur.com/hj2aW.png)\r\n\r\nI need to find the index of the last `2` in row `0`. I already tried to iterate backward with an inverse for each loop, but that just mirrored the whole array. What I need is just the index number. In this case it should be row `0` col `3`. \r\n\r\nI also tried to do it in a while loop, but it also doesn&#39;t print the right value and I don&#39;t know why. It only prints 2. \r\n\r\n```\r\nint x = ans.length;\r\nint y = ans[0].length;\r\nSystem.out.println(x);\r\nSystem.out.println(y);\r\nwhile(y - 1&gt;= 0 ) {\r\n\tSystem.out.println(&quot;In&quot;);\r\n\ty--;\r\n\tif(ans[0][y] != 0) {\r\n\t\tx = ans[0][y];\r\n\t\tSystem.out.println(x);\r\n```\r\n\r\n","title":"iterating backward in a row within a 2d array","body":"<p>I hope someone can help me with this. My problem is that I have a 2D int array in Java. It looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/hj2aW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hj2aW.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to find the index of the last <code>2</code> in row <code>0</code>. I already tried to iterate backward with an inverse for each loop, but that just mirrored the whole array. What I need is just the index number. In this case it should be row <code>0</code> col <code>3</code>.</p>\n<p>I also tried to do it in a while loop, but it also doesn't print the right value and I don't know why. It only prints 2.</p>\n<pre><code>int x = ans.length;\nint y = ans[0].length;\nSystem.out.println(x);\nSystem.out.println(y);\nwhile(y - 1&gt;= 0 ) {\n    System.out.println(&quot;In&quot;);\n    y--;\n    if(ans[0][y] != 0) {\n        x = ans[0][y];\n        System.out.println(x);\n</code></pre>\n"},{"tags":["java","jakarta-ee","java-17","hk2"],"comments":[{"owner":{"account_id":7708267,"reputation":97,"user_id":5838539,"display_name":"Sagar Kale"},"score":0,"creation_date":1668429840,"post_id":74431731,"comment_id":131395405,"body_markdown":"error means you are not passing proper request it should be json of MessageRelayModel\nhow are you calling backend","body":"error means you are not passing proper request it should be json of MessageRelayModel how are you calling backend"},{"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"score":0,"creation_date":1668430188,"post_id":74431731,"comment_id":131395540,"body_markdown":"If you are right, why it is correct in Intellij idea??","body":"If you are right, why it is correct in Intellij idea??"},{"owner":{"account_id":3683657,"reputation":2364,"user_id":3067964,"display_name":"jwells131313"},"score":0,"creation_date":1668522798,"post_id":74431731,"comment_id":131422322,"body_markdown":"My guess would be you need to use the appending accumulator when creating the uber jar.  The files under META-INF/hk2-locator need to be appended to each other when creating your uber jar, rather than replacing each other.  There is some documentation somewhere under hk2 about how to do this.  I&#39;ll see if I can find it later but that&#39;s probably the issue","body":"My guess would be you need to use the appending accumulator when creating the uber jar.  The files under META-INF/hk2-locator need to be appended to each other when creating your uber jar, rather than replacing each other.  There is some documentation somewhere under hk2 about how to do this.  I&#39;ll see if I can find it later but that&#39;s probably the issue"}],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668429577,"creation_date":1668429269,"question_id":74431731,"body_markdown":"I am so confusing.\r\n\r\nThere is an Jakarta application that is run by GrizzlyHttpServer and the following configuration:\r\n\r\n1- JDK 17\r\n\r\n2- hibernate 5\r\n\r\n3- hk2 for DI\r\n\r\nThe pom.xml is :\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-container-grizzly2-http&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Jersey DI and core--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- add jackson as json provider --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Need this to hide warning for jakarta.activation.DataSource --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- JUnit 5 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- test json data --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n                &lt;version&gt;${jsonassert.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.12.Final&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.art.vesal&lt;/groupId&gt;\r\n                &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n                &lt;version&gt;11.2.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.7&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.7&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.behsa&lt;/groupId&gt;\r\n                &lt;artifactId&gt;behsa-utils&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.freeutils&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jcharset&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ir.ghasemkiani&lt;/groupId&gt;\r\n                &lt;artifactId&gt;persiancalendar&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\r\n                &lt;version&gt;5.15.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mongodb.morphia&lt;/groupId&gt;\r\n                &lt;artifactId&gt;morphia&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;3.12&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jdom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;com.springsource.org.jdom&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jdom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jdom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.art&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dataserver_api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jodd&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jodd-http&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nand the Jersey endpoint is :\r\n\r\n    @Path(&quot;/backend&quot;)\r\n    public class MessageRelayRest {\r\n    \r\n        @Inject\r\n        private UserDaoInf log;\r\n        @Inject\r\n        private ArtMTSMSRemoteInf relay;\r\n    \r\n        @Path(&quot;/many2many&quot;)\r\n        @POST\r\n        @Produces(&quot;application/json&quot;)\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        public ReferenceResultModel sendMessageManyToMany(MessageRelayModel messageRelayModel) {\r\n            System.out.println(&quot;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&quot;);\r\n            ReferenceResultModel result = relay.sendMessageManyToMany(messageRelayModel.getUsername(), messageRelayModel.getPassword(), messageRelayModel.getOriginator(), messageRelayModel.getDestination(), messageRelayModel.getContent(), messageRelayModel.getUserSuppliedIds(), messageRelayModel.getIp());\r\n            return result;\r\n        }\r\n    \r\n    .....\r\n\r\n\r\nEverything is working correctly as expected in Intellij IDEA but when I make as uber jar by the following maven plugin:\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;archive&gt;\r\n                                    &lt;manifest&gt;\r\n                                        &lt;mainClass&gt;\r\n                                            com.art.vesal.MainApp\r\n                                        &lt;/mainClass&gt;\r\n                                    &lt;/manifest&gt;\r\n                                &lt;/archive&gt;\r\n                                &lt;descriptorRefs&gt;\r\n                                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                                &lt;/descriptorRefs&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\nand run the jar by `java -jar`, when request to the endpoint, the following error is raised:\r\n\r\n&gt; POST http://localhost:8081/backend/many2many returned a response\r\n&gt; status of 415 Unsupported Media Type\r\n&gt; \r\n&gt; \r\n&gt; 14-Nov-2022 15:58:36.811 SEVERE [http-nio-8080-exec-78]\r\n&gt; com.sun.jersey.api.client.ClientResponse.getEntity A message body\r\n&gt; reader for Java class com.art.vesal.common.model.ReferenceResultModel,\r\n&gt; and Java type class com.art.vesal.common.model.ReferenceResultModel,\r\n&gt; and MIME media type application/octet-stream was not found 14-Nov-2022\r\n&gt; 15:58:36.812 SEVERE [http-nio-8080-exec-78]\r\n&gt; com.sun.jersey.api.client.ClientResponse.getEntity The registered\r\n&gt; message body readers compatible with the MIME media type are:\r\n&gt; application/octet-stream -&gt;  \r\n&gt; com.sun.jersey.core.impl.provider.entity.ByteArrayProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.FileProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.InputStreamProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.DataSourceProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.RenderedImageProvider\r\n&gt; */* -&gt;   com.sun.jersey.core.impl.provider.entity.FormProvider   com.sun.jersey.core.impl.provider.entity.StringProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.ByteArrayProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.FileProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.InputStreamProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.DataSourceProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.XMLJAXBElementProvider$General\r\n&gt; com.sun.jersey.core.impl.provider.entity.ReaderProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.DocumentProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.SourceProvider$StreamSourceReader\r\n&gt; com.sun.jersey.core.impl.provider.entity.SourceProvider$SAXSourceReader\r\n&gt; com.sun.jersey.core.impl.provider.entity.SourceProvider$DOMSourceReader\r\n&gt; com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider  \r\n&gt; com.sun.jersey.core.impl.provider.entity.XMLRootElementProvider$General\r\n&gt; com.sun.jersey.core.impl.provider.entity.XMLListElementProvider$General\r\n&gt; com.sun.jersey.core.impl.provider.entity.XMLRootObjectProvider$General\r\n&gt; com.sun.jersey.core.impl.provider.entity.EntityHolderReader\r\n\r\n\r\nWhere is wrong? I am so confusing!!\r\n\r\n\r\n**EDIT 1**\r\nThis is main class:\r\n\r\n    public class MainApp {\r\n    \r\n        public static final URI BASE_URI = URI.create(&quot;http://localhost:8081&quot;);\r\n    \r\n        // Starts Grizzly HTTP server\r\n        public static HttpServer startHttpServer() {\r\n    \r\n            final ResourceConfig config = new ResourceConfig();\r\n            config.register(MessageRelayRest.class);\r\n            config.register(CustomJacksonMapperProvider.class);\r\n            config.register(CustomJsonExceptionMapper.class);\r\n            config.register(Binder.class);\r\n            // JacksonFeature for JAXB/POJO, for pure JSON, no need this JacksonFeature\r\n            // config.register(JacksonFeature.class);\r\n    \r\n            return GrizzlyHttpServerFactory.createHttpServer(BASE_URI, config);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n    \r\n                final HttpServer server = startHttpServer();\r\n    \r\n                server.start();\r\n    \r\n                // shut down hook\r\n                Runtime.getRuntime().addShutdownHook(new Thread(server::shutdownNow));\r\n    \r\n                System.out.println(String.format(&quot;Application started.%nStop the application using CTRL+C&quot;));\r\n    \r\n                // block and wait shut down signal, like CTRL+C\r\n                Thread.currentThread().join();\r\n    \r\n            } catch (InterruptedException | IOException ex) {\r\n                //Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"@Produces(MediaType.APPLICATION_JSON) and the content_type is not added to header in uber jar","body":"<p>I am so confusing.</p>\n<p>There is an Jakarta application that is run by GrizzlyHttpServer and the following configuration:</p>\n<p>1- JDK 17</p>\n<p>2- hibernate 5</p>\n<p>3- hk2 for DI</p>\n<p>The pom.xml is :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-grizzly2-http&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Jersey DI and core--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;hk2-metadata-generator&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- add jackson as json provider --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Need this to hide warning for jakarta.activation.DataSource --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JUnit 5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test json data --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;version&gt;${jsonassert.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.5.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.12.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n            &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n            &lt;version&gt;0.9.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.art.vesal&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.7&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.7&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.behsa&lt;/groupId&gt;\n            &lt;artifactId&gt;behsa-utils&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.freeutils&lt;/groupId&gt;\n            &lt;artifactId&gt;jcharset&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ir.ghasemkiani&lt;/groupId&gt;\n            &lt;artifactId&gt;persiancalendar&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;\n            &lt;version&gt;5.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb.morphia&lt;/groupId&gt;\n            &lt;artifactId&gt;morphia&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jdom&lt;/groupId&gt;\n            &lt;artifactId&gt;com.springsource.org.jdom&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jdom&lt;/groupId&gt;\n            &lt;artifactId&gt;jdom&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.art&lt;/groupId&gt;\n            &lt;artifactId&gt;dataserver_api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jodd&lt;/groupId&gt;\n            &lt;artifactId&gt;jodd-http&lt;/artifactId&gt;\n            &lt;version&gt;3.6.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and the Jersey endpoint is :</p>\n<pre><code>@Path(&quot;/backend&quot;)\npublic class MessageRelayRest {\n\n    @Inject\n    private UserDaoInf log;\n    @Inject\n    private ArtMTSMSRemoteInf relay;\n\n    @Path(&quot;/many2many&quot;)\n    @POST\n    @Produces(&quot;application/json&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    public ReferenceResultModel sendMessageManyToMany(MessageRelayModel messageRelayModel) {\n        System.out.println(&quot;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&quot;);\n        ReferenceResultModel result = relay.sendMessageManyToMany(messageRelayModel.getUsername(), messageRelayModel.getPassword(), messageRelayModel.getOriginator(), messageRelayModel.getDestination(), messageRelayModel.getContent(), messageRelayModel.getUserSuppliedIds(), messageRelayModel.getIp());\n        return result;\n    }\n\n.....\n</code></pre>\n<p>Everything is working correctly as expected in Intellij IDEA but when I make as uber jar by the following maven plugin:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;\n                                        com.art.vesal.MainApp\n                                    &lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>and run the jar by <code>java -jar</code>, when request to the endpoint, the following error is raised:</p>\n<blockquote>\n<p>POST http://localhost:8081/backend/many2many returned a response\nstatus of 415 Unsupported Media Type</p>\n<p>14-Nov-2022 15:58:36.811 SEVERE [http-nio-8080-exec-78]\ncom.sun.jersey.api.client.ClientResponse.getEntity A message body\nreader for Java class com.art.vesal.common.model.ReferenceResultModel,\nand Java type class com.art.vesal.common.model.ReferenceResultModel,\nand MIME media type application/octet-stream was not found 14-Nov-2022\n15:58:36.812 SEVERE [http-nio-8080-exec-78]\ncom.sun.jersey.api.client.ClientResponse.getEntity The registered\nmessage body readers compatible with the MIME media type are:\napplication/octet-stream -&gt;<br />\ncom.sun.jersey.core.impl.provider.entity.ByteArrayProvider<br />\ncom.sun.jersey.core.impl.provider.entity.FileProvider<br />\ncom.sun.jersey.core.impl.provider.entity.InputStreamProvider<br />\ncom.sun.jersey.core.impl.provider.entity.DataSourceProvider<br />\ncom.sun.jersey.core.impl.provider.entity.RenderedImageProvider\n<em>/</em> -&gt;   com.sun.jersey.core.impl.provider.entity.FormProvider   com.sun.jersey.core.impl.provider.entity.StringProvider<br />\ncom.sun.jersey.core.impl.provider.entity.ByteArrayProvider<br />\ncom.sun.jersey.core.impl.provider.entity.FileProvider<br />\ncom.sun.jersey.core.impl.provider.entity.InputStreamProvider<br />\ncom.sun.jersey.core.impl.provider.entity.DataSourceProvider<br />\ncom.sun.jersey.core.impl.provider.entity.XMLJAXBElementProvider$General\ncom.sun.jersey.core.impl.provider.entity.ReaderProvider<br />\ncom.sun.jersey.core.impl.provider.entity.DocumentProvider<br />\ncom.sun.jersey.core.impl.provider.entity.SourceProvider$StreamSourceReader\ncom.sun.jersey.core.impl.provider.entity.SourceProvider$SAXSourceReader\ncom.sun.jersey.core.impl.provider.entity.SourceProvider$DOMSourceReader\ncom.fasterxml.jackson.jaxrs.json.JacksonJsonProvider<br />\ncom.sun.jersey.core.impl.provider.entity.XMLRootElementProvider$General\ncom.sun.jersey.core.impl.provider.entity.XMLListElementProvider$General\ncom.sun.jersey.core.impl.provider.entity.XMLRootObjectProvider$General\ncom.sun.jersey.core.impl.provider.entity.EntityHolderReader</p>\n</blockquote>\n<p>Where is wrong? I am so confusing!!</p>\n<p><strong>EDIT 1</strong>\nThis is main class:</p>\n<pre><code>public class MainApp {\n\n    public static final URI BASE_URI = URI.create(&quot;http://localhost:8081&quot;);\n\n    // Starts Grizzly HTTP server\n    public static HttpServer startHttpServer() {\n\n        final ResourceConfig config = new ResourceConfig();\n        config.register(MessageRelayRest.class);\n        config.register(CustomJacksonMapperProvider.class);\n        config.register(CustomJsonExceptionMapper.class);\n        config.register(Binder.class);\n        // JacksonFeature for JAXB/POJO, for pure JSON, no need this JacksonFeature\n        // config.register(JacksonFeature.class);\n\n        return GrizzlyHttpServerFactory.createHttpServer(BASE_URI, config);\n    }\n\n    public static void main(String[] args) {\n\n        try {\n\n            final HttpServer server = startHttpServer();\n\n            server.start();\n\n            // shut down hook\n            Runtime.getRuntime().addShutdownHook(new Thread(server::shutdownNow));\n\n            System.out.println(String.format(&quot;Application started.%nStop the application using CTRL+C&quot;));\n\n            // block and wait shut down signal, like CTRL+C\n            Thread.currentThread().join();\n\n        } catch (InterruptedException | IOException ex) {\n            //Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666893810,"post_id":74226248,"comment_id":131048897,"body_markdown":"Measure and you will know. Why would one be slower then the other? The majority of the time is spend on the execution of the SQL (which should be the same) and parsing the results. One could even argue that a specification would be faster as that could eliminate the step of parsing the JPQL into a AST Tree and into SQL.","body":"Measure and you will know. Why would one be slower then the other? The majority of the time is spend on the execution of the SQL (which should be the same) and parsing the results. One could even argue that a specification would be faster as that could eliminate the step of parsing the JPQL into a AST Tree and into SQL."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1668429885,"post_id":74226248,"comment_id":131395427,"body_markdown":"@M.Deinum &quot;specification would be faster as that could eliminate the step of parsing the JPQL into a AST Tree and into SQL&quot; - the reality is completely different: specifications (criteria api) get translated to JPQL first. BTW, specifications has some obvious disadvantage: since they do not implement `#equals` writing mocks is not possible and thus the only option to test the code is to perform integration tests.","body":"@M.Deinum &quot;specification would be faster as that could eliminate the step of parsing the JPQL into a AST Tree and into SQL&quot; - the reality is completely different: specifications (criteria api) get translated to JPQL first. BTW, specifications has some obvious disadvantage: since they do not implement <code>#equals</code> writing mocks is not possible and thus the only option to test the code is to perform integration tests."}],"owner":{"account_id":83479,"reputation":2229,"user_id":234037,"accept_rate":70,"display_name":"Seagull"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668429437,"creation_date":1666892735,"question_id":74226248,"body_markdown":"I am working on a REST API that provides options to filter the data set based on certain criteria. \r\n\r\nGenerally, I have presumed that a statically defined JPQL will be faster than a query generated using the Spring Specification API (based on the principle that a static SQL query is faster than dynamic queries). Based on that, I have logic that actually uses the &quot;static&quot; query by default, but if there are filtering parameters, then I use the Specification API. \r\n\r\nMy question is, whether my assumption is incorrect here and whether I have added unnecessary complexity by doing this. \r\n\r\n","title":"Is there a Performance difference between a static Spring JPQL query vs a query that uses the Spring Specification API?","body":"<p>I am working on a REST API that provides options to filter the data set based on certain criteria.</p>\n<p>Generally, I have presumed that a statically defined JPQL will be faster than a query generated using the Spring Specification API (based on the principle that a static SQL query is faster than dynamic queries). Based on that, I have logic that actually uses the &quot;static&quot; query by default, but if there are filtering parameters, then I use the Specification API.</p>\n<p>My question is, whether my assumption is incorrect here and whether I have added unnecessary complexity by doing this.</p>\n"},{"tags":["java","xml","deserialization","xstream"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1665032371,"post_id":73967639,"comment_id":130605097,"body_markdown":"Please include the exception message in the question.","body":"Please include the exception message in the question."}],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668429347,"creation_date":1668429347,"answer_id":74431752,"question_id":73967639,"body_markdown":"This will happen automatically when the security feature of XStream is not opening access to the class. It is to prevent severe attacks to your system.\r\n\r\nhttps://x-stream.github.io/security.html#framework\r\n\r\nYou can add the permission *before* the try-block to make it work:\r\n```\r\nXStream.allowTypes(new Class[]{ListaPersonas.class});\r\n```","title":"Why does XStream fromXML() method throw and exception?","body":"<p>This will happen automatically when the security feature of XStream is not opening access to the class. It is to prevent severe attacks to your system.</p>\n<p><a href=\"https://x-stream.github.io/security.html#framework\" rel=\"nofollow noreferrer\">https://x-stream.github.io/security.html#framework</a></p>\n<p>You can add the permission <em>before</em> the try-block to make it work:</p>\n<pre><code>XStream.allowTypes(new Class[]{ListaPersonas.class});\n</code></pre>\n"}],"owner":{"account_id":26457014,"reputation":11,"user_id":20099484,"display_name":"errorrelativo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668429347,"creation_date":1665017430,"question_id":73967639,"body_markdown":"I&#39;m trying the examples in a book dealing with serialization and deserialization to and from XML.\r\n\r\nWhy does fromXML() method (line 37) throw and exception in this code? \r\nWhat could I do to have it working?\r\n\r\n    import java.io.*;\r\n    import com.thoughtworks.xstream.XStream;\r\n     \r\n    public class EscribirPersonas {\r\n        public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n            File fichero = new File(&quot;FichPersona.dat&quot;);\r\n            FileInputStream filein = new FileInputStream(fichero);\r\n            ObjectInputStream dataIS = new ObjectInputStream(filein);\r\n             \r\n            System.out.println(&quot;Comienza el proceso...&quot;);\r\n             \r\n            //Creamos el objeto Lista de Personas\r\n            ListaPersonas listaper = new ListaPersonas();\r\n             \r\n            try {\r\n                while (true) {//lectura del fichero\r\n                    Persona persona = (Persona) dataIS.readObject();\r\n                    listaper.add(persona); //a&#241;adimos persona a la lista\r\n                }\r\n            } catch (EOFException eo) {}\r\n            dataIS.close(); //cerrar stream de entrada\r\n             \r\n            try {\r\n                XStream xstream = new XStream();\r\n                //cambiamos el nombre a las etiquetas XML\r\n                xstream.alias(&quot;ListaPersonasMunicipio&quot;, ListaPersonas.class);\r\n                xstream.alias(&quot;DatosPersona&quot;, Persona.class);\r\n                //quitamos la etiqueta lista (atributo de la clase ListaPersonas)\r\n                xstream.addImplicitCollection(ListaPersonas.class, &quot;lista&quot;);\r\n                //Insertamos los objetos en el XML\r\n                xstream.toXML(listaper, new FileOutputStream(&quot;Personas.xml&quot;));\r\n                 \r\n                System.out.println(&quot;Creado fichero XML...&quot;);\r\n                 \r\n                File ficheroXML = new File(&quot;Personas.xml&quot;);\r\n                FileInputStream  fis = new FileInputStream (ficheroXML);\r\n                Object o = xstream.fromXML(fis);\r\n     \r\n            } catch (Exception e) {e.printStackTrace();}\r\n        } // fin main\r\n    } // fin clase\r\n\r\nError message:\r\n\r\n&gt; Comienza el proceso... \r\n&gt; Creado fichero XML...\r\n&gt; com.thoughtworks.xstream.security.ForbiddenClassException:\r\n&gt; ListaPersonas at\r\n&gt; com.thoughtworks.xstream.security.NoTypePermission.allows(NoTypePermission.java:26)\r\n&gt; at\r\n&gt; com.thoughtworks.xstream.mapper.SecurityMapper.realClass(SecurityMapper.java:74)\r\n&gt; at\r\n&gt; com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\r\n&gt; at\r\n&gt; com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:47)\r\n&gt; at\r\n&gt; com.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29)\r\n&gt; at\r\n&gt; com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:135)\r\n&gt; at\r\n&gt; com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)\r\n&gt; at com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1421) at\r\n&gt; com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1399) at\r\n&gt; com.thoughtworks.xstream.XStream.fromXML(XStream.java:1293) at\r\n&gt; EscribirPersonas.main(EscribirPersonas.java:37)","title":"Why does XStream fromXML() method throw and exception?","body":"<p>I'm trying the examples in a book dealing with serialization and deserialization to and from XML.</p>\n<p>Why does fromXML() method (line 37) throw and exception in this code?\nWhat could I do to have it working?</p>\n<pre><code>import java.io.*;\nimport com.thoughtworks.xstream.XStream;\n \npublic class EscribirPersonas {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        File fichero = new File(&quot;FichPersona.dat&quot;);\n        FileInputStream filein = new FileInputStream(fichero);\n        ObjectInputStream dataIS = new ObjectInputStream(filein);\n         \n        System.out.println(&quot;Comienza el proceso...&quot;);\n         \n        //Creamos el objeto Lista de Personas\n        ListaPersonas listaper = new ListaPersonas();\n         \n        try {\n            while (true) {//lectura del fichero\n                Persona persona = (Persona) dataIS.readObject();\n                listaper.add(persona); //añadimos persona a la lista\n            }\n        } catch (EOFException eo) {}\n        dataIS.close(); //cerrar stream de entrada\n         \n        try {\n            XStream xstream = new XStream();\n            //cambiamos el nombre a las etiquetas XML\n            xstream.alias(&quot;ListaPersonasMunicipio&quot;, ListaPersonas.class);\n            xstream.alias(&quot;DatosPersona&quot;, Persona.class);\n            //quitamos la etiqueta lista (atributo de la clase ListaPersonas)\n            xstream.addImplicitCollection(ListaPersonas.class, &quot;lista&quot;);\n            //Insertamos los objetos en el XML\n            xstream.toXML(listaper, new FileOutputStream(&quot;Personas.xml&quot;));\n             \n            System.out.println(&quot;Creado fichero XML...&quot;);\n             \n            File ficheroXML = new File(&quot;Personas.xml&quot;);\n            FileInputStream  fis = new FileInputStream (ficheroXML);\n            Object o = xstream.fromXML(fis);\n \n        } catch (Exception e) {e.printStackTrace();}\n    } // fin main\n} // fin clase\n</code></pre>\n<p>Error message:</p>\n<blockquote>\n<p>Comienza el proceso...\nCreado fichero XML...\ncom.thoughtworks.xstream.security.ForbiddenClassException:\nListaPersonas at\ncom.thoughtworks.xstream.security.NoTypePermission.allows(NoTypePermission.java:26)\nat\ncom.thoughtworks.xstream.mapper.SecurityMapper.realClass(SecurityMapper.java:74)\nat\ncom.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\nat\ncom.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:47)\nat\ncom.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29)\nat\ncom.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:135)\nat\ncom.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)\nat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1421) at\ncom.thoughtworks.xstream.XStream.unmarshal(XStream.java:1399) at\ncom.thoughtworks.xstream.XStream.fromXML(XStream.java:1293) at\nEscribirPersonas.main(EscribirPersonas.java:37)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","openapi","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668427640,"creation_date":1668427640,"answer_id":74431408,"question_id":74431102,"body_markdown":"The `@RequestMapping` tells Spring that any HTTP request with the specified path should be mapped to the corresponding method. The path should be specified as an argument of the `@PutMapping` and `@GetMapping` annotations and the `@RequestMapping` annotation should be removed.\r\n\r\n","title":"OpenApi 3.0 shows all af the HTTP methods","body":"<p>The <code>@RequestMapping</code> tells Spring that any HTTP request with the specified path should be mapped to the corresponding method. The path should be specified as an argument of the <code>@PutMapping</code> and <code>@GetMapping</code> annotations and the <code>@RequestMapping</code> annotation should be removed.</p>\n"}],"owner":{"account_id":23563659,"reputation":40,"user_id":17604707,"display_name":"Jatel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74431408,"answer_count":1,"score":0,"last_activity_date":1668429064,"creation_date":1668426303,"question_id":74431102,"body_markdown":"My OpenApi gone crazy... i created 2 simple rest APIs \r\n\r\n```\r\n    @RequestMapping(&quot;/inWithHibernate&quot;)\r\n    @PutMapping\r\n    public void inDbMobile() {\r\n        hibernateInsert.inDB();\r\n    }\r\n\r\n    @RequestMapping(&quot;/outWithHibernate&quot;)\r\n    @GetMapping\r\n    public MobileEntity outDbMobile(@RequestParam(name = &quot;id&quot;)Long id) {\r\n        return hibernateInsert.fromDB(id);\r\n    }\r\n```\r\n\r\nas i understand it it should show one Put method and one Get method...Instead of that is shows all of the methods, can you please explain what is happening ?\r\n\r\nmy dependency\r\n\r\n``` \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n ```\r\n\r\n[![OpenApi3.0][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XHSVv.png","title":"OpenApi 3.0 shows all af the HTTP methods","body":"<p>My OpenApi gone crazy... i created 2 simple rest APIs</p>\n<pre><code>    @RequestMapping(&quot;/inWithHibernate&quot;)\n    @PutMapping\n    public void inDbMobile() {\n        hibernateInsert.inDB();\n    }\n\n    @RequestMapping(&quot;/outWithHibernate&quot;)\n    @GetMapping\n    public MobileEntity outDbMobile(@RequestParam(name = &quot;id&quot;)Long id) {\n        return hibernateInsert.fromDB(id);\n    }\n</code></pre>\n<p>as i understand it it should show one Put method and one Get method...Instead of that is shows all of the methods, can you please explain what is happening ?</p>\n<p>my dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XHSVv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XHSVv.png\" alt=\"OpenApi3.0\" /></a></p>\n"},{"tags":["java","spring-boot","apache-kafka","microservices"],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668428883,"creation_date":1668426071,"answer_id":74431057,"question_id":74430194,"body_markdown":"&gt; 1. How do I track a particular event in both micro-services. This will help in logging and tracking the event changes etc.\r\n\r\nFor that, usually what is used in prod environments is implementing a [traceId](https://medium.com/data-rocks/kafka-record-tracing-379ed2b0af51).\r\n\r\n&gt; 2. Let us assume that Order micro-service has 10 orders and all the ten have been processed and 10 events are generated and are pushed to the Kafka? If there is a failure how should I handle it?\r\n\r\nGenerally what is implemented is a [retry template](https://www.baeldung.com/spring-retry) (if you are using spring-boot, otherwise something similar in whichever framework you are working with). What this does is that it retries for a set number of times, handling any possible transitive errors. If the error still persists there are multiple possibilities. You could log appropriately and reprocess from that given offset, or in a less critical environment you could save the event as a file and build an Admin RESTful Endpoint which takes the event and processes it in the same way you process the kafka events.\r\n\r\n&gt; 3. At the delivery micro-service how do I ensure that the a particular event is not processed more than once.\r\n\r\nThis depends on the logic you perform per kafka message. If you are creating new data (inserting rows) in your db then you could simply check for uniqueness based on primary key (which in this case would be using order-id or smth similar) and refuse to add the new data, by logging it with a warn message. Otherwise, a common way to do this would be to overwrite the previously inserted data. Both ways should be as performant as processing always unique records if you leave the uniqueness to the db and properly handle the exception.\r\n\r\nAnother workaround towards uniqueness includes editing the producer to send only unique messages. Check [this out](https://developer.confluent.io/tutorials/message-ordering/kafka.html).\r\n\r\n&gt; 4. Also, if there any errors while processing the events from the delivery micro-service side, how should this be handled?\r\n\r\nSee no 2.","title":"Spring micro-services: Kafka event processing issue","body":"<blockquote>\n<ol>\n<li>How do I track a particular event in both micro-services. This will help in logging and tracking the event changes etc.</li>\n</ol>\n</blockquote>\n<p>For that, usually what is used in prod environments is implementing a <a href=\"https://medium.com/data-rocks/kafka-record-tracing-379ed2b0af51\" rel=\"nofollow noreferrer\">traceId</a>.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Let us assume that Order micro-service has 10 orders and all the ten have been processed and 10 events are generated and are pushed to the Kafka? If there is a failure how should I handle it?</li>\n</ol>\n</blockquote>\n<p>Generally what is implemented is a <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">retry template</a> (if you are using spring-boot, otherwise something similar in whichever framework you are working with). What this does is that it retries for a set number of times, handling any possible transitive errors. If the error still persists there are multiple possibilities. You could log appropriately and reprocess from that given offset, or in a less critical environment you could save the event as a file and build an Admin RESTful Endpoint which takes the event and processes it in the same way you process the kafka events.</p>\n<blockquote>\n<ol start=\"3\">\n<li>At the delivery micro-service how do I ensure that the a particular event is not processed more than once.</li>\n</ol>\n</blockquote>\n<p>This depends on the logic you perform per kafka message. If you are creating new data (inserting rows) in your db then you could simply check for uniqueness based on primary key (which in this case would be using order-id or smth similar) and refuse to add the new data, by logging it with a warn message. Otherwise, a common way to do this would be to overwrite the previously inserted data. Both ways should be as performant as processing always unique records if you leave the uniqueness to the db and properly handle the exception.</p>\n<p>Another workaround towards uniqueness includes editing the producer to send only unique messages. Check <a href=\"https://developer.confluent.io/tutorials/message-ordering/kafka.html\" rel=\"nofollow noreferrer\">this out</a>.</p>\n<blockquote>\n<ol start=\"4\">\n<li>Also, if there any errors while processing the events from the delivery micro-service side, how should this be handled?</li>\n</ol>\n</blockquote>\n<p>See no 2.</p>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668467942,"accepted_answer_id":74431057,"answer_count":1,"score":-1,"last_activity_date":1668428883,"creation_date":1668421809,"question_id":74430194,"body_markdown":"I&#39;m new to micro-services and need some suggestion on how to address the below issue.\r\n\r\nI have two micro-services order micro-service and delivery micro-services. The order micro-service pushes the event to delivery micro-service through Kafka. \r\n\r\nI need some assistance in \r\n\r\n 1. How do I track a particular event in both micro-services? This will help in logging and tracking the event changes etc.\r\n\r\n    For this can I generate a random number and add it to the payload which can be used for tracking.\r\n\r\n 2. Let&#39;s assume that order micro-service has 10 orders and all the ten have been processed and 10 events are generated and are pushed to the Kafka? If there is a failure, how should I handle it?\r\n\r\n    I thought of creating an error queue for order service and if there are any errors while processing the events from the order micro-service side it can be pushed there. The user can correct the issue and re-try only those events.\r\n\r\n 3. At the delivery micro-service how do I ensure that the a particular event is not processed more than once?\r\n\r\n 4. Also, if there any errors while processing the events from the delivery micro-service side, how should this be handled?\r\n\r\n    Same as second point?\r\n\r\nAre there any more scenarios which I need to consider?\r\n\r\n","title":"Spring micro-services: Kafka event processing issue","body":"<p>I'm new to micro-services and need some suggestion on how to address the below issue.</p>\n<p>I have two micro-services order micro-service and delivery micro-services. The order micro-service pushes the event to delivery micro-service through Kafka.</p>\n<p>I need some assistance in</p>\n<ol>\n<li><p>How do I track a particular event in both micro-services? This will help in logging and tracking the event changes etc.</p>\n<p>For this can I generate a random number and add it to the payload which can be used for tracking.</p>\n</li>\n<li><p>Let's assume that order micro-service has 10 orders and all the ten have been processed and 10 events are generated and are pushed to the Kafka? If there is a failure, how should I handle it?</p>\n<p>I thought of creating an error queue for order service and if there are any errors while processing the events from the order micro-service side it can be pushed there. The user can correct the issue and re-try only those events.</p>\n</li>\n<li><p>At the delivery micro-service how do I ensure that the a particular event is not processed more than once?</p>\n</li>\n<li><p>Also, if there any errors while processing the events from the delivery micro-service side, how should this be handled?</p>\n<p>Same as second point?</p>\n</li>\n</ol>\n<p>Are there any more scenarios which I need to consider?</p>\n"},{"tags":["java","spring","spring-boot","rest","soap"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668407317,"post_id":74427661,"comment_id":131388678,"body_markdown":"WSDL, generate object, receive object, call rest service, convert result to objkect, return object. As long as the object you receive for SOAP and REST is the same you don&#39;t need to do anything.","body":"WSDL, generate object, receive object, call rest service, convert result to objkect, return object. As long as the object you receive for SOAP and REST is the same you don&#39;t need to do anything."},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1668407876,"post_id":74427661,"comment_id":131388795,"body_markdown":"Yeah with the WSDL I can generate the Objects. But how do I map the incoming SOAP Request XML to my generated Java Object?","body":"Yeah with the WSDL I can generate the Objects. But how do I map the incoming SOAP Request XML to my generated Java Object?"},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1668408049,"post_id":74427661,"comment_id":131388828,"body_markdown":"Request is not in Java object but in SOAP xml format and I need to map it to Java object. How do I do that?","body":"Request is not in Java object but in SOAP xml format and I need to map it to Java object. How do I do that?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668408718,"post_id":74427661,"comment_id":131388944,"body_markdown":"You don&#39;t as that is what SPring Web Services does for you, so you don&#39;t need to map anything.","body":"You don&#39;t as that is what SPring Web Services does for you, so you don&#39;t need to map anything."},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1668408941,"post_id":74427661,"comment_id":131388991,"body_markdown":"Can u refer me one example pls ? I mean I&#39;m not able to work it out, how do I hold the SOAP XML as Java object in controller","body":"Can u refer me one example pls ? I mean I&#39;m not able to work it out, how do I hold the SOAP XML as Java object in controller"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668409542,"post_id":74427661,"comment_id":131389133,"body_markdown":"You don&#39;t as you have an endpoint, not a controller. From the endpoint you use a resttemplate or webclient to send the object to the endpoint that needs JSON. As stated I strongly suggest to look at Spring Web Services (the SOAP project from the Spring portfolio).","body":"You don&#39;t as you have an endpoint, not a controller. From the endpoint you use a resttemplate or webclient to send the object to the endpoint that needs JSON. As stated I strongly suggest to look at Spring Web Services (the SOAP project from the Spring portfolio)."},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1668410019,"post_id":74427661,"comment_id":131389255,"body_markdown":"Sorry if I&#39;m not getting you but I want it be a Stand-alone intermediate service which will do the conversion stuffs between SOAP &amp; REST. I don&#39;t want to touch the existing SOAP/REST services. I want this service to be used as plugin which can be plugged in or of on the basis of need.","body":"Sorry if I&#39;m not getting you but I want it be a Stand-alone intermediate service which will do the conversion stuffs between SOAP &amp; REST. I don&#39;t want to touch the existing SOAP/REST services. I want this service to be used as plugin which can be plugged in or of on the basis of need."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668410229,"post_id":74427661,"comment_id":131389305,"body_markdown":"If you already have a SOAP service then what is the problem? I don&#39;t see hte issue then? You just write a new SOAP endpoint which receives the request, sends it out again to your endpoint. You are both overthinking this and making it overly complex.","body":"If you already have a SOAP service then what is the problem? I don&#39;t see hte issue then? You just write a new SOAP endpoint which receives the request, sends it out again to your endpoint. You are both overthinking this and making it overly complex."},{"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"score":0,"creation_date":1668410739,"post_id":74427661,"comment_id":131389446,"body_markdown":"See that SOAP service is a third party service and the REST too, I can&#39;t edit them so I opted for creating an intermediate service","body":"See that SOAP service is a third party service and the REST too, I can&#39;t edit them so I opted for creating an intermediate service"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668410803,"post_id":74427661,"comment_id":131389466,"body_markdown":"Where did I say you need to edit those? You assumed something I didn&#39;t say.","body":"Where did I say you need to edit those? You assumed something I didn&#39;t say."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668410715,"creation_date":1668410715,"answer_id":74428164,"question_id":74427661,"body_markdown":"Just write and endpoint what does what you want. \r\n\r\n```java\r\n@Endpoint\r\npublic class YourEndpoint {\r\n\r\n  public final RestTemplate rest;\r\n\r\n  public YourEndpoint(RestTemplate rest) {\r\n    this.rest=rest;\r\n  }\r\n\r\n\r\n  @PayloadRoot(localName=&quot;YourRequestFromWsdlRequest&quot;)\r\n  @ResponsePayload\r\n  public YourResponseFromWsdl method(@RequestPayload YourRequestFromWsdl) {\r\n    return rest.postForObject(rest-url, YourRequestFromWsdl, YourResponseFromWsdl.class);\r\n}\r\n}\r\n```\r\n\r\nInstead of `RestTemplate` you could use an `WebClient`. But basically that is all you need. For the SOAP part Spring Web Services will do the conversion, for the JSON part Spring MVC will do the conversion. You don&#39;t need to to it yourself. ","title":"How to receive SOAP Message and convert it to JSON in spring boot java?","body":"<p>Just write and endpoint what does what you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Endpoint\npublic class YourEndpoint {\n\n  public final RestTemplate rest;\n\n  public YourEndpoint(RestTemplate rest) {\n    this.rest=rest;\n  }\n\n\n  @PayloadRoot(localName=&quot;YourRequestFromWsdlRequest&quot;)\n  @ResponsePayload\n  public YourResponseFromWsdl method(@RequestPayload YourRequestFromWsdl) {\n    return rest.postForObject(rest-url, YourRequestFromWsdl, YourResponseFromWsdl.class);\n}\n}\n</code></pre>\n<p>Instead of <code>RestTemplate</code> you could use an <code>WebClient</code>. But basically that is all you need. For the SOAP part Spring Web Services will do the conversion, for the JSON part Spring MVC will do the conversion. You don't need to to it yourself.</p>\n"},{"tags":[],"owner":{"account_id":8361884,"reputation":24,"user_id":6279883,"display_name":"Parinda Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668428502,"creation_date":1668428502,"answer_id":74431575,"question_id":74427661,"body_markdown":"    Please try using  (com.ibm.json.xml.XMLToJSONTransformer) Library which help you to convert Soap String(i.e Request Body) to Json Object\r\n    \r\n    \r\n    \r\n    String jsonObjectStr =&quot;&quot;;\r\n    \r\n    // convert String to JSONObject\r\n    jsonObjectStr = xmlToJsonTransformer.transform(SOAPReq);\r\n      JSONObject.parse(jsonObjectStr); ","title":"How to receive SOAP Message and convert it to JSON in spring boot java?","body":"<pre><code>Please try using  (com.ibm.json.xml.XMLToJSONTransformer) Library which help you to convert Soap String(i.e Request Body) to Json Object\n\n\n\nString jsonObjectStr =&quot;&quot;;\n\n// convert String to JSONObject\njsonObjectStr = xmlToJsonTransformer.transform(SOAPReq);\n  JSONObject.parse(jsonObjectStr); \n</code></pre>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668428502,"creation_date":1668407151,"question_id":74427661,"body_markdown":"Here I&#39;m developing a service which is going to receive a SOAP request Message and then convert it into JSON. After that, I want to invoke a REST API with the converted JSON and then I want to receive the JSON response back from that REST API and finally I want to convert that JSON response into SOAP Response message and then send it back the caller service. So basically this service is going to act as a intermediate Wrapper service between SOAP and REST communication.  \r\n\r\nI&#39;ve the WSDL with me and need a way to do this by using Spring boot. Could any help me here please?\r\n\r\nCurrently I&#39;m doing as below - \r\n\r\n    @RestController\r\n    public class WrapperController {\r\n    \r\n      @PostMapping(\r\n          value = &quot;/wrap&quot;,\r\n          consumes = MediaType.APPLICATION_XML_VALUE,\r\n          produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public Q248Req wrapSOAPRequest(@RequestBody String SOAPReq)\r\n          throws SOAPException, IOException, JAXBException {\r\n        System.out.println(&quot;SOAP Request: &quot; + SOAPReq);\r\n        SOAPMessage message =\r\n            MessageFactory.newInstance()\r\n                .createMessage(null, new ByteArrayInputStream(SOAPReq.getBytes()));\r\n        Unmarshaller unmarshaller = JAXBContext.newInstance(TestObj.class).createUnmarshaller();\r\n        TestObj Req =\r\n            (TestObj) unmarshaller.unmarshal(message.getSOAPBody().extractContentAsDocument());\r\n    \r\n        return Req;\r\n      }\r\n\r\nI have generated the TestObj class from the supplied WSDL then I&#39;m trying to map SOAP Message to TestObj class but it&#39;s throwing error - \r\n\r\n    SOAP Body: [#document: null]\r\n    2022-11-14 12:36:43.888 ERROR 21596 --- [nio-9080-exec-3] c.s.x.m.s.s.impl                         : SAAJ0251: Unable to extract Document from body\r\n    2022-11-14 12:36:43.896 ERROR 21596 --- [nio-9080-exec-3] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/wrapper-service/v1/decisions/q248] threw exception [Request processing failed; nested exception is com.sun.xml.messaging.saaj.SOAPExceptionImpl: Unable to extract Document from body] with root cause\r\n    \r\n    java.lang.ClassCastException: class com.sun.org.apache.xerces.internal.dom.TextImpl cannot be cast to class org.w3c.dom.Element (com.sun.org.apache.xerces.internal.dom.TextImpl and org.w3c.dom.Element are in module java.xml of loader &#39;bootstrap&#39;)\r\n    \tat com.sun.xml.messaging.saaj.soap.impl.BodyImpl.extractContentAsDocument(BodyImpl.java:338) ~[saaj-impl-1.5.3.jar:1.5.3]\r\n    \tat com.lbg.rsk.cdp.core.controller.WrapperController.wrapSOAPRequest(WrapperController.java:265) ~[main/:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.lang.Thread.run(Thread.java:829) [?:?]\r\n\r\n","title":"How to receive SOAP Message and convert it to JSON in spring boot java?","body":"<p>Here I'm developing a service which is going to receive a SOAP request Message and then convert it into JSON. After that, I want to invoke a REST API with the converted JSON and then I want to receive the JSON response back from that REST API and finally I want to convert that JSON response into SOAP Response message and then send it back the caller service. So basically this service is going to act as a intermediate Wrapper service between SOAP and REST communication.</p>\n<p>I've the WSDL with me and need a way to do this by using Spring boot. Could any help me here please?</p>\n<p>Currently I'm doing as below -</p>\n<pre><code>@RestController\npublic class WrapperController {\n\n  @PostMapping(\n      value = &quot;/wrap&quot;,\n      consumes = MediaType.APPLICATION_XML_VALUE,\n      produces = MediaType.APPLICATION_JSON_VALUE)\n  public Q248Req wrapSOAPRequest(@RequestBody String SOAPReq)\n      throws SOAPException, IOException, JAXBException {\n    System.out.println(&quot;SOAP Request: &quot; + SOAPReq);\n    SOAPMessage message =\n        MessageFactory.newInstance()\n            .createMessage(null, new ByteArrayInputStream(SOAPReq.getBytes()));\n    Unmarshaller unmarshaller = JAXBContext.newInstance(TestObj.class).createUnmarshaller();\n    TestObj Req =\n        (TestObj) unmarshaller.unmarshal(message.getSOAPBody().extractContentAsDocument());\n\n    return Req;\n  }\n</code></pre>\n<p>I have generated the TestObj class from the supplied WSDL then I'm trying to map SOAP Message to TestObj class but it's throwing error -</p>\n<pre><code>SOAP Body: [#document: null]\n2022-11-14 12:36:43.888 ERROR 21596 --- [nio-9080-exec-3] c.s.x.m.s.s.impl                         : SAAJ0251: Unable to extract Document from body\n2022-11-14 12:36:43.896 ERROR 21596 --- [nio-9080-exec-3] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/wrapper-service/v1/decisions/q248] threw exception [Request processing failed; nested exception is com.sun.xml.messaging.saaj.SOAPExceptionImpl: Unable to extract Document from body] with root cause\n\njava.lang.ClassCastException: class com.sun.org.apache.xerces.internal.dom.TextImpl cannot be cast to class org.w3c.dom.Element (com.sun.org.apache.xerces.internal.dom.TextImpl and org.w3c.dom.Element are in module java.xml of loader 'bootstrap')\n    at com.sun.xml.messaging.saaj.soap.impl.BodyImpl.extractContentAsDocument(BodyImpl.java:338) ~[saaj-impl-1.5.3.jar:1.5.3]\n    at com.lbg.rsk.cdp.core.controller.WrapperController.wrapSOAPRequest(WrapperController.java:265) ~[main/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.6.jar:2.6.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.lang.Thread.run(Thread.java:829) [?:?]\n</code></pre>\n"},{"tags":["java","methods","minimum"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1668362957,"post_id":74423446,"comment_id":131381523,"body_markdown":"`if(lessThan = true)` the `x=y` is *assignment* operator which also *returns* assigned value. So `lessThan = true` *assigns* true to `lessThan` variable and also returns `true`. So `if(lessThan = true){..}` is essentially the same as `lessThan = true; if (true){...}`. To *compare* values use `==` operator, or to avoid such mistake skip `== true` and just write `if (lessThan) {...}`.  OR use `if (input &lt; input){...}` directly in `if` condition (BTW do you see the problem with `input &lt; input`? Can it ever be true?)","body":"<code>if(lessThan = true)</code> the <code>x=y</code> is <i>assignment</i> operator which also <i>returns</i> assigned value. So <code>lessThan = true</code> <i>assigns</i> true to <code>lessThan</code> variable and also returns <code>true</code>. So <code>if(lessThan = true){..}</code> is essentially the same as <code>lessThan = true; if (true){...}</code>. To <i>compare</i> values use <code>==</code> operator, or to avoid such mistake skip <code>== true</code> and just write <code>if (lessThan) {...}</code>.  OR use <code>if (input &lt; input){...}</code> directly in <code>if</code> condition (BTW do you see the problem with <code>input &lt; input</code>? Can it ever be true?)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1668363264,"post_id":74423446,"comment_id":131381607,"body_markdown":"Anyway there are a lot of small problem in your code. Like what is the purpose of `count = count` in `for(count = count; count &gt; 0; count--)`? Why in `else` you are doing same thing as in case where condition is true?","body":"Anyway there are a lot of small problem in your code. Like what is the purpose of <code>count = count</code> in <code>for(count = count; count &gt; 0; count--)</code>? Why in <code>else</code> you are doing same thing as in case where condition is true?"},{"owner":{"account_id":26842841,"reputation":1,"user_id":20429066,"display_name":"Caleb Sims"},"score":0,"creation_date":1668363575,"post_id":74423446,"comment_id":131381675,"body_markdown":"the purpose for count = count is to set count equal to itself so that i get the correct int for how many doubles the user requires the program to process. I cannot figure out how to compare input with the later values of input and store it in a variable.","body":"the purpose for count = count is to set count equal to itself so that i get the correct int for how many doubles the user requires the program to process. I cannot figure out how to compare input with the later values of input and store it in a variable."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1668364429,"post_id":74423446,"comment_id":131381853,"body_markdown":"&quot;to set count equal to itself&quot; lets say `count` holds some value like 4. What we execute `count = count` will something change? No, it will still hold `4`. Coding is about applying some *changes*, if nothing happens such code is not needed. You can skip `count = count` and write `for ( ; count&gt;0; count--){ .. }` or use good old `while (count &gt; 0) { .. ; count--}`.","body":"&quot;to set count equal to itself&quot; lets say <code>count</code> holds some value like 4. What we execute <code>count = count</code> will something change? No, it will still hold <code>4</code>. Coding is about applying some <i>changes</i>, if nothing happens such code is not needed. You can skip <code>count = count</code> and write <code>for ( ; count&gt;0; count--){ .. }</code> or use good old <code>while (count &gt; 0) { .. ; count--}</code>."},{"owner":{"account_id":26842841,"reputation":1,"user_id":20429066,"display_name":"Caleb Sims"},"score":0,"creation_date":1668364737,"post_id":74423446,"comment_id":131381920,"body_markdown":"okay I will fix that, do you have any advice on comparing input with itself considering that input = console.nextDouble(); has multiple values?","body":"okay I will fix that, do you have any advice on comparing input with itself considering that input = console.nextDouble(); has multiple values?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1668365172,"post_id":74423446,"comment_id":131382016,"body_markdown":"It will have *one value at a time* (one value per iteration). It is like searching max value in list of numbers, for instance 4,2,3,5,1. First you assign as `max` first number, so 4. Then you read next number which is 1. You compare that `current` value with `max` and if it is greater you assign that value to max, if not then you do nothing and move to another value. And so on until you read all numbers.","body":"It will have <i>one value at a time</i> (one value per iteration). It is like searching max value in list of numbers, for instance 4,2,3,5,1. First you assign as <code>max</code> first number, so 4. Then you read next number which is 1. You compare that <code>current</code> value with <code>max</code> and if it is greater you assign that value to max, if not then you do nothing and move to another value. And so on until you read all numbers."}],"answers":[{"tags":[],"owner":{"account_id":25693839,"reputation":34,"user_id":19454844,"display_name":"Sachithra Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668428107,"creation_date":1668365006,"answer_id":74423740,"question_id":74423446,"body_markdown":"Here is the answer but my answer is a little bit different. Firstly I created an initialized array because we need to execute the code several times, then I stored the user inputs into the array after that I found the min value using array indexes.\r\n\r\n    public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            double arr[] = new double[5];\r\n    \r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                System.out.println(&quot;Enter the double&quot;);\r\n                arr[i] = scanner.nextDouble();\r\n            }\r\n            double min = arr[0];\r\n            for (int j=0;j&lt;arr.length;j++){\r\n                if(arr[j]&lt;min)\r\n                    min=arr[j];\r\n            }\r\n            System.out.println(&quot;min value is&quot;+&quot; &quot;+min);\r\n        }","title":"Finding the minimum of scanner input in a method","body":"<p>Here is the answer but my answer is a little bit different. Firstly I created an initialized array because we need to execute the code several times, then I stored the user inputs into the array after that I found the min value using array indexes.</p>\n<pre><code>public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        double arr[] = new double[5];\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.println(&quot;Enter the double&quot;);\n            arr[i] = scanner.nextDouble();\n        }\n        double min = arr[0];\n        for (int j=0;j&lt;arr.length;j++){\n            if(arr[j]&lt;min)\n                min=arr[j];\n        }\n        System.out.println(&quot;min value is&quot;+&quot; &quot;+min);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20958807,"reputation":1,"user_id":15398691,"display_name":"Kefiloe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668372697,"creation_date":1668372697,"answer_id":74424668,"question_id":74423446,"body_markdown":"\r\n    public static void main(String [] args){\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;How many inputs?: &quot;);\r\n        int answer = scanner.nextInt();\r\n        int arr[] = new int[answer];\r\n        int y = 0;\r\n        \r\n        while(y &lt; answer){\r\n            System.out.println(&quot;Enter a value: &quot;);\r\n            arr[y] = scanner.nextInt();\r\n            \r\n            y++;\r\n        }\r\n        int smallNum = arr[arr.length - 1];\r\n        for(int i = arr.length; i &gt; 0; i--){\r\n            if(smallNum &gt; arr[i - 1]){\r\n                smallNum = arr[i - 1];\r\n            }\r\n        }\r\n         System.out.println(&quot;Minimum is: &quot; + smallNum);\r\n    }\r\n  ","title":"Finding the minimum of scanner input in a method","body":"<pre><code>public static void main(String [] args){\n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.println(&quot;How many inputs?: &quot;);\n    int answer = scanner.nextInt();\n    int arr[] = new int[answer];\n    int y = 0;\n    \n    while(y &lt; answer){\n        System.out.println(&quot;Enter a value: &quot;);\n        arr[y] = scanner.nextInt();\n        \n        y++;\n    }\n    int smallNum = arr[arr.length - 1];\n    for(int i = arr.length; i &gt; 0; i--){\n        if(smallNum &gt; arr[i - 1]){\n            smallNum = arr[i - 1];\n        }\n    }\n     System.out.println(&quot;Minimum is: &quot; + smallNum);\n}\n</code></pre>\n"}],"owner":{"account_id":26842841,"reputation":1,"user_id":20429066,"display_name":"Caleb Sims"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668428107,"creation_date":1668362540,"question_id":74423446,"body_markdown":"I am trying to find the minimum of a variable input of the scanner class. I have as many inputs as the user wants but I cannot seem to find out how to find the minimum of multiple inputs. Any help would be appreciated.\r\n\r\n```\r\npublic static void minimum(int count)\r\n{\r\n\tdouble input;\r\n\tboolean lessThan;\r\n\tdouble lesser = 0;\r\n\tfor(count = count; count &gt; 0; count--)\r\n\t{\r\n\t\tSystem.out.print(&quot;Enter a double: &quot;);\r\n\t\tinput = console.nextDouble();\r\n\t\tlessThan = input &lt; input;\r\n\t\tif(lessThan = true)\r\n\t\t{\r\n\t\t\tlesser = input;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlesser = input;\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(&quot;The minimum is &quot; + lesser);\r\n}\r\n```\r\n  ","title":"Finding the minimum of scanner input in a method","body":"<p>I am trying to find the minimum of a variable input of the scanner class. I have as many inputs as the user wants but I cannot seem to find out how to find the minimum of multiple inputs. Any help would be appreciated.</p>\n<pre><code>public static void minimum(int count)\n{\n    double input;\n    boolean lessThan;\n    double lesser = 0;\n    for(count = count; count &gt; 0; count--)\n    {\n        System.out.print(&quot;Enter a double: &quot;);\n        input = console.nextDouble();\n        lessThan = input &lt; input;\n        if(lessThan = true)\n        {\n            lesser = input;\n        }\n        else\n        {\n            lesser = input;\n        }\n    }\n    System.out.println(&quot;The minimum is &quot; + lesser);\n}\n</code></pre>\n"},{"tags":["java","stopwatch"],"comments":[{"owner":{"account_id":2585798,"reputation":1250,"user_id":8084588,"display_name":"damjad"},"score":0,"creation_date":1668421539,"post_id":74430007,"comment_id":131392792,"body_markdown":"Have you tried using `AtomicInteger` as a counter? because each client will start their own thread.","body":"Have you tried using <code>AtomicInteger</code> as a counter? because each client will start their own thread."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1668425238,"post_id":74430007,"comment_id":131393987,"body_markdown":"What use is a stopwatch when you can&#39;t account for internet latency?","body":"What use is a stopwatch when you can&#39;t account for internet latency?"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1668427321,"post_id":74430007,"comment_id":131394552,"body_markdown":"Explain: If client A comes at first and sends &quot;start&quot;, and 20 seconds later, client B comes and sends &quot;start&quot;, should client B see &quot;20&quot; or &quot;1&quot;?","body":"Explain: If client A comes at first and sends &quot;start&quot;, and 20 seconds later, client B comes and sends &quot;start&quot;, should client B see &quot;20&quot; or &quot;1&quot;?"},{"owner":{"account_id":26692269,"reputation":1,"user_id":20406785,"display_name":"Artemiy"},"score":0,"creation_date":1668427443,"post_id":74430007,"comment_id":131394592,"body_markdown":"@RealSkeptic client B should see 20.","body":"@RealSkeptic client B should see 20."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1668427547,"post_id":74430007,"comment_id":131394630,"body_markdown":"And do they get one message or how many? In short, [edit] your question, and add an explanation of what the inputs and the outputs are. &quot;A client comes in and sends `start`, the system is supposed  to give them such and such report such and such times&quot; etc.","body":"And do they get one message or how many? In short, <a href=\"https://stackoverflow.com/posts/74430007/edit\">edit</a> your question, and add an explanation of what the inputs and the outputs are. &quot;A client comes in and sends <code>start</code>, the system is supposed  to give them such and such report such and such times&quot; etc."},{"owner":{"account_id":26692269,"reputation":1,"user_id":20406785,"display_name":"Artemiy"},"score":0,"creation_date":1668427722,"post_id":74430007,"comment_id":131394682,"body_markdown":"@damjad idk what it is, began to reading about","body":"@damjad idk what it is, began to reading about"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1668442852,"post_id":74430007,"comment_id":131400307,"body_markdown":"&quot;the counter should be one for everyone&quot; - consider modeling the counter as its own object.  Create a singleton instance for each of the components that need to share it.","body":"&quot;the counter should be one for everyone&quot; - consider modeling the counter as its own object.  Create a singleton instance for each of the components that need to share it."}],"owner":{"account_id":26692269,"reputation":1,"user_id":20406785,"display_name":"Artemiy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668428079,"creation_date":1668420914,"question_id":74430007,"body_markdown":"```\r\npackage primer;\r\n\r\nimport java.io.IOException;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.socket.TextMessage;\r\nimport org.springframework.web.socket.WebSocketSession;\r\nimport org.springframework.web.socket.handler.TextWebSocketHandler;\r\n\r\n@Component\r\npublic class SocketTextHandler extends TextWebSocketHandler {\r\n\r\n\t@Override\r\n\tpublic void handleTextMessage(WebSocketSession session, TextMessage message) \r\n\r\n\t\t\tthrows InterruptedException, IOException {\r\n\r\n\t\tString clientMessage = message.getPayload();\r\n\t\tif (clientMessage.startsWith(&quot;start&quot;)) {\t\r\n\t\t\t\r\n\t\tfor (int h = 0; h &lt; 60; h++) {\r\n\t\t\t    for (int m = 0; m &lt; 60; m++) {\r\n\t\t\t        for (int s = 0; s &lt; 60; s++){\r\n\t\t\t            session.sendMessage(new TextMessage(\r\n\t\t\t                String.format(&quot;%02d:%02d:%02d&quot;, h, m, s)));\r\n\t\t\t                \r\n\t\t\t            Thread.sleep(1000);\t\t\t                 \t\t\t       \t\t\t        \t\r\n\t\t\t        }\t\t}\t        \r\n\t\t\t    }\r\n\t\t\t} if (clientMessage.startsWith(&quot;stop&quot;)) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\t}\r\n\t\t\t\t\r\n\t\t\t\r\n\r\n\r\n\r\n\t\r\n```\r\n\r\nThis is the `socketTextHandler` code that responds to messages sent from the client to the server. \r\n\r\nThe question is, the counter should be one for everyone, i.e. multiple clients see the same counter value, regardless of when the client typed start. \r\n\r\nHow to implement it? If you make it static, how? Or make one global counter on the server, which is launched by the first client and already subsequent clients, if you enter start, it shows the current counter. In principle, I can imagine how to implement this, but I don’t know by what methods. Hours of scrolled forums and Google did not give any knowledge.\r\nUPD\r\nwhen server get `start`, server will respond to client many messages like : 00:00:01, 00:00:02... \r\ni wanted to doesnt matter how much client writed `start` they all need to see value of first client timer\r\n\r\n\r\n\r\ntried to static whole cycle, but then `sendMessage` can&#39;t reach &quot;h, m, s&quot; value.","title":"how use timer, to create a stopwatch without gui/jframe?","body":"<pre><code>package primer;\n\nimport java.io.IOException;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.socket.TextMessage;\nimport org.springframework.web.socket.WebSocketSession;\nimport org.springframework.web.socket.handler.TextWebSocketHandler;\n\n@Component\npublic class SocketTextHandler extends TextWebSocketHandler {\n\n    @Override\n    public void handleTextMessage(WebSocketSession session, TextMessage message) \n\n            throws InterruptedException, IOException {\n\n        String clientMessage = message.getPayload();\n        if (clientMessage.startsWith(&quot;start&quot;)) {    \n            \n        for (int h = 0; h &lt; 60; h++) {\n                for (int m = 0; m &lt; 60; m++) {\n                    for (int s = 0; s &lt; 60; s++){\n                        session.sendMessage(new TextMessage(\n                            String.format(&quot;%02d:%02d:%02d&quot;, h, m, s)));\n                            \n                        Thread.sleep(1000);                                                                 \n                    }       }           \n                }\n            } if (clientMessage.startsWith(&quot;stop&quot;)) {\n                \n            }\n                    \n                }       }\n                \n            \n\n\n\n    \n</code></pre>\n<p>This is the <code>socketTextHandler</code> code that responds to messages sent from the client to the server.</p>\n<p>The question is, the counter should be one for everyone, i.e. multiple clients see the same counter value, regardless of when the client typed start.</p>\n<p>How to implement it? If you make it static, how? Or make one global counter on the server, which is launched by the first client and already subsequent clients, if you enter start, it shows the current counter. In principle, I can imagine how to implement this, but I don’t know by what methods. Hours of scrolled forums and Google did not give any knowledge.\nUPD\nwhen server get <code>start</code>, server will respond to client many messages like : 00:00:01, 00:00:02...\ni wanted to doesnt matter how much client writed <code>start</code> they all need to see value of first client timer</p>\n<p>tried to static whole cycle, but then <code>sendMessage</code> can't reach &quot;h, m, s&quot; value.</p>\n"},{"tags":["java","android","kotlin","native","whatsapp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667970097,"post_id":74370023,"comment_id":131292389,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26927410,"reputation":1,"user_id":20500453,"display_name":"ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668427822,"creation_date":1668427822,"answer_id":74431437,"question_id":74370023,"body_markdown":"I know about Normal phone calls which can be detected using incallservice apis but i don&#39;t have any idea about whatsapp calls. For calls through phone i think we have to use NotificationListener.\r\n","title":"How to listen or check whatsapp icoming calls through notifications?","body":"<p>I know about Normal phone calls which can be detected using incallservice apis but i don't have any idea about whatsapp calls. For calls through phone i think we have to use NotificationListener.</p>\n"}],"owner":{"account_id":26874445,"reputation":1,"user_id":20455906,"display_name":"Jaffar Abbas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668427822,"creation_date":1667969187,"question_id":74370023,"body_markdown":"I am creating an app that will announce the incoming caller name and number through notifications, I&#39;ve created this for phone but now i want to add one more feature that whenever user will get a call through whatsapp app should also announce caller name and number. but i don&#39;t know how to access the incoming caller notification. I&#39;ve tried to access through broadcast listener and notificationlistener but unable to do it. please help me out . Thanks \r\n\r\nI&#39;ve tried to access through broadcast listener and notificationlistener but unable to do it. I did for call on phone using phonestatelistener and InCallSericeAPi, please help me out . Thanks ","title":"How to listen or check whatsapp icoming calls through notifications?","body":"<p>I am creating an app that will announce the incoming caller name and number through notifications, I've created this for phone but now i want to add one more feature that whenever user will get a call through whatsapp app should also announce caller name and number. but i don't know how to access the incoming caller notification. I've tried to access through broadcast listener and notificationlistener but unable to do it. please help me out . Thanks</p>\n<p>I've tried to access through broadcast listener and notificationlistener but unable to do it. I did for call on phone using phonestatelistener and InCallSericeAPi, please help me out . Thanks</p>\n"},{"tags":["java","security","passwords"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1296417912,"post_id":4844590,"comment_id":5380074,"body_markdown":"Is your application (the one that uses the web service) something that you distribute to users, or is it an Internet app that you run on your own server?","body":"Is your application (the one that uses the web service) something that you distribute to users, or is it an Internet app that you run on your own server?"},{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1412753455,"post_id":4844590,"comment_id":41179900,"body_markdown":"Related question: http://stackoverflow.com/questions/992019/java-256-bit-aes-password-based-encryption","body":"Related question: <a href=\"http://stackoverflow.com/questions/992019/java-256-bit-aes-password-based-encryption\" title=\"java 256 bit aes password based encryption\">stackoverflow.com/questions/992019/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296411359,"creation_date":1296411359,"answer_id":4844597,"question_id":4844590,"body_markdown":"To store it in a file, but make the file read-only and only readable by the service process. \r\n\r\nIf you want to give your application away, there is NO WAY to secure it in a way where the login information cannot be recovered. Sorry.\r\n\r\nUsually this is handled by providing server side security, and by giving each user of your public API their own credentials. It is like Google Maps, where you have to get a special key and use this to use the API, so Google can track if you use the API in a legal way. ","title":"Securely store user account details required for use in code","body":"<p>To store it in a file, but make the file read-only and only readable by the service process. </p>\n\n<p>If you want to give your application away, there is NO WAY to secure it in a way where the login information cannot be recovered. Sorry.</p>\n\n<p>Usually this is handled by providing server side security, and by giving each user of your public API their own credentials. It is like Google Maps, where you have to get a special key and use this to use the API, so Google can track if you use the API in a legal way. </p>\n"},{"tags":[],"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1296411645,"creation_date":1296411645,"answer_id":4844620,"question_id":4844590,"body_markdown":"If you *really* want them to be safe, you&#39;re going to have to lock them into a cryptographically secure &quot;vault&quot; file.  Somebody &amp;mdash; you or somebody trusted, however that&#39;s appropriate here &amp;mdash; would provide a key to unlock the vault (basically another password), and then your software would be able to access the information stored in it.\r\n\r\nIf there is no human with a secret involved in starting the application, then there&#39;s really not going to be any way to totally hide the information.  This is just a simple fact of reality, one that many people (like the DVD consortium) struggle to deny at their own peril.\r\n","title":"Securely store user account details required for use in code","body":"<p>If you <em>really</em> want them to be safe, you're going to have to lock them into a cryptographically secure \"vault\" file.  Somebody &mdash; you or somebody trusted, however that's appropriate here &mdash; would provide a key to unlock the vault (basically another password), and then your software would be able to access the information stored in it.</p>\n\n<p>If there is no human with a secret involved in starting the application, then there's really not going to be any way to totally hide the information.  This is just a simple fact of reality, one that many people (like the DVD consortium) struggle to deny at their own peril.</p>\n"},{"tags":[],"owner":{"account_id":287076,"reputation":1916,"user_id":586682,"display_name":"pnt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296411746,"creation_date":1296411746,"answer_id":4844636,"question_id":4844590,"body_markdown":"Since you&#39;re suggesting that people will be able to see your code i&#39;m guessing they will also be able to run the software on their hardware (meaning they have root and any read-only restriction will fail, ultimately).\r\n\r\nThe only secure way that i can think of is the following:\r\n\r\n - Get yourself an e-signature on a smart card\r\n - Encrypt the password with your public key and store it\r\n\r\nThis way the only way to use your credentials will be by decrypting them with the private key which is stored read-only on your card and accessed with an additional password (PIN code).\r\n\r\nAs Pointy mentioned, if there is no human element holding a secret (PIN code to the private key and physical ownership of the smartcard), there is no way to have the information 100% secure.","title":"Securely store user account details required for use in code","body":"<p>Since you're suggesting that people will be able to see your code i'm guessing they will also be able to run the software on their hardware (meaning they have root and any read-only restriction will fail, ultimately).</p>\n\n<p>The only secure way that i can think of is the following:</p>\n\n<ul>\n<li>Get yourself an e-signature on a smart card</li>\n<li>Encrypt the password with your public key and store it</li>\n</ul>\n\n<p>This way the only way to use your credentials will be by decrypting them with the private key which is stored read-only on your card and accessed with an additional password (PIN code).</p>\n\n<p>As Pointy mentioned, if there is no human element holding a secret (PIN code to the private key and physical ownership of the smartcard), there is no way to have the information 100% secure.</p>\n"},{"tags":[],"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296411809,"creation_date":1296411809,"answer_id":4844640,"question_id":4844590,"body_markdown":"You should use a hashing function and your database passwords should not be stored as plaintext but rather as hash values. Then you only provide the hash to the database and as in it there is also a hash, you don&#39;t have anything to worry about.\r\n\r\nIf you, however, must use in your program the plaintext, then an attacker with a debugger can find the values of username and password AT the moment you supply them to the database. More so, an outside attacker can observe your network with a sniffing tool (e.g wireshark) and just obtain the values if you use an insecure network protocol. Thus, it is not recommended at all to have any plaintext username password pair during the flow of your program.\r\n\r\nIf you have to do that, anyway, the bestest and safest way is to encrypt your username/password pair and when time comes for them to be sent to the server you should decrypt them and send them as plaintext as the server won&#39;t understand the encryption. If you, however, have any access to the server, maybe you should tinker with it a bit so it doesn&#39;t store passwords as plaintext.\r\n\r\nCheers.","title":"Securely store user account details required for use in code","body":"<p>You should use a hashing function and your database passwords should not be stored as plaintext but rather as hash values. Then you only provide the hash to the database and as in it there is also a hash, you don't have anything to worry about.</p>\n\n<p>If you, however, must use in your program the plaintext, then an attacker with a debugger can find the values of username and password AT the moment you supply them to the database. More so, an outside attacker can observe your network with a sniffing tool (e.g wireshark) and just obtain the values if you use an insecure network protocol. Thus, it is not recommended at all to have any plaintext username password pair during the flow of your program.</p>\n\n<p>If you have to do that, anyway, the bestest and safest way is to encrypt your username/password pair and when time comes for them to be sent to the server you should decrypt them and send them as plaintext as the server won't understand the encryption. If you, however, have any access to the server, maybe you should tinker with it a bit so it doesn't store passwords as plaintext.</p>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":74767,"reputation":31622,"user_id":214668,"accept_rate":100,"display_name":"T.Rob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296445009,"creation_date":1296445009,"answer_id":4847407,"question_id":4844590,"body_markdown":"You do not mention where the code is deployed.  If your application runs on your customer&#39;s machine and makes the web service request directly, there is no way to prevent someone from obtaining the credentials.  Even if you encrypted them, the application has to be able to render them usable therefore the decryption key must be available to it, and thus to your user.  Even if you could encrypt it securely, the user has other methods since it&#39;s their box, for example sniffing the outbound network traffic.\r\n\r\nIf the code making the web service call is on your server then you have the same problem but at least control the environment.  At some point the server MUST render the encrypted credentials into usable form to make the web service request, therefore you can encrypt the web service credentials but a password or certificate must be available to the code to access them.  Unless there&#39;s a human hanging around to enter the pass-phrase for the certificate each time, all this does is nest credentials but does not secure them.\r\n\r\nThe answer to this of course, is not to try to solve the problem of an unsecure web service requirement in your code.  Either find a more secure equivalent web service that you can call (perhaps one that uses an API key and user&#39;s own credentials or generates a secure token) or lobby the web service provider to do it the right way.  Look at all the recent advances in security on Twitter and Facebook - user demand can make a difference.","title":"Securely store user account details required for use in code","body":"<p>You do not mention where the code is deployed.  If your application runs on your customer's machine and makes the web service request directly, there is no way to prevent someone from obtaining the credentials.  Even if you encrypted them, the application has to be able to render them usable therefore the decryption key must be available to it, and thus to your user.  Even if you could encrypt it securely, the user has other methods since it's their box, for example sniffing the outbound network traffic.</p>\n\n<p>If the code making the web service call is on your server then you have the same problem but at least control the environment.  At some point the server MUST render the encrypted credentials into usable form to make the web service request, therefore you can encrypt the web service credentials but a password or certificate must be available to the code to access them.  Unless there's a human hanging around to enter the pass-phrase for the certificate each time, all this does is nest credentials but does not secure them.</p>\n\n<p>The answer to this of course, is not to try to solve the problem of an unsecure web service requirement in your code.  Either find a more secure equivalent web service that you can call (perhaps one that uses an API key and user's own credentials or generates a secure token) or lobby the web service provider to do it the right way.  Look at all the recent advances in security on Twitter and Facebook - user demand can make a difference.</p>\n"},{"tags":[],"owner":{"account_id":51798,"reputation":15810,"user_id":154770,"accept_rate":67,"display_name":"Todd Owen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296447506,"creation_date":1296447506,"answer_id":4847588,"question_id":4844590,"body_markdown":"As other people have pointed out, there is no magic way to cloak your password (it&#39;s a logical impossibility, c.f. DVD copy protection), but there are some security precautions you should take to minimize the potential for damage.\r\n\r\nIf you don&#39;t control the server (e.g. you are running your app on a shared host), then:\r\n\r\n* Ensure the web service account you are logging into (with MyUsername/MyPassword) has only the minimum permissions necessary for the purpose of this app.\r\n* Use this account for only *one* deployment (so that if it&#39;s ever compromised, you can lock out this account without affecting other apps/installations).\r\n\r\nAnd if you do control the server, then *in addition*:\r\n\r\n* Secure the server, i.e. normal ongoing sysadmin tasks such as firewalling, installing the latest patches, monitoring logs, etc.\r\n","title":"Securely store user account details required for use in code","body":"<p>As other people have pointed out, there is no magic way to cloak your password (it's a logical impossibility, c.f. DVD copy protection), but there are some security precautions you should take to minimize the potential for damage.</p>\n\n<p>If you don't control the server (e.g. you are running your app on a shared host), then:</p>\n\n<ul>\n<li>Ensure the web service account you are logging into (with MyUsername/MyPassword) has only the minimum permissions necessary for the purpose of this app.</li>\n<li>Use this account for only <em>one</em> deployment (so that if it's ever compromised, you can lock out this account without affecting other apps/installations).</li>\n</ul>\n\n<p>And if you do control the server, then <em>in addition</em>:</p>\n\n<ul>\n<li>Secure the server, i.e. normal ongoing sysadmin tasks such as firewalling, installing the latest patches, monitoring logs, etc.</li>\n</ul>\n"}],"owner":{"display_name":"user130076"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2907,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4844620,"answer_count":6,"score":2,"last_activity_date":1668427268,"creation_date":1296411272,"question_id":4844590,"body_markdown":"I am building an application that interacts with a web service. In order to use that web service I have to login using my actual username and password - there is no other way to use the service. \r\n\r\nI do not want to hard code in my details, like so:\r\n\r\n    String username = &quot;MyUsername&quot;;\r\n    String password = &quot;MyPassword&quot;;\r\n\r\nI have thought about encrypting the details and storing them in a file, but, even so, anyone who has some programming experience can easily recover the information by looking at my source code:\r\n\r\n    File f = load(&quot;mydetails.txt&quot;);\r\n    String[] = recoverDetails(f); //or something like that\r\n\r\nWhat is the safest way for me to store this information?","title":"Securely store user account details required for use in code","body":"<p>I am building an application that interacts with a web service. In order to use that web service I have to login using my actual username and password - there is no other way to use the service. </p>\n\n<p>I do not want to hard code in my details, like so:</p>\n\n<pre><code>String username = \"MyUsername\";\nString password = \"MyPassword\";\n</code></pre>\n\n<p>I have thought about encrypting the details and storing them in a file, but, even so, anyone who has some programming experience can easily recover the information by looking at my source code:</p>\n\n<pre><code>File f = load(\"mydetails.txt\");\nString[] = recoverDetails(f); //or something like that\n</code></pre>\n\n<p>What is the safest way for me to store this information?</p>\n"},{"tags":["java","sql","spring-boot","jpa"],"comments":[{"owner":{"account_id":3682084,"reputation":459,"user_id":3066816,"accept_rate":80,"display_name":"jon martin solaas"},"score":0,"creation_date":1667348575,"post_id":74283053,"comment_id":131145310,"body_markdown":"If you use hibernate the @DynamicUpdate annotation might be of interest (https://www.baeldung.com/spring-data-jpa-dynamicupdate). I wouldn&#39;t say manual implementation of dirty-checks to only update dirty fields is common practice. Not sure if this answers your question, whatever it is, so I just post this as a comment.","body":"If you use hibernate the @DynamicUpdate annotation might be of interest (<a href=\"https://www.baeldung.com/spring-data-jpa-dynamicupdate\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-dynamicupdate</a>). I wouldn&#39;t say manual implementation of dirty-checks to only update dirty fields is common practice. Not sure if this answers your question, whatever it is, so I just post this as a comment."}],"owner":{"account_id":26800686,"reputation":19,"user_id":20392668,"display_name":"James Nguyen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1668427140,"creation_date":1667347685,"question_id":74283053,"body_markdown":"When update an existing field in the table, what is the best practice to consider? Like I do write a lot of `PUT` method which overwrite the existing data when update ( I consider with large objects using a lot of logic and also calculation, it&#39;d be better).\r\nBut what about sometimes I just need to update one field? I saw a pattern of using same or similar put method when people update data, in those function, they will check to delete the old one and put the new data into table.\r\nShould it be better if we using an update set JPA query to change exactly what we need?\r\n\r\nLike there&#39;s an existing function when user create or update the record they have, should I create then add one update set query inside that function so it would update or create into those new set table I create?\r\n\r\nThanks for reading this load of text, I hope to have a clear point of view to become a better programmer.\r\n\r\nI did try to google to understand the definition but not so clear. I hope I can get a clearer point of view here.","title":"When to use @Put Method or straight away using query in Spring Java Data JPA?","body":"<p>When update an existing field in the table, what is the best practice to consider? Like I do write a lot of <code>PUT</code> method which overwrite the existing data when update ( I consider with large objects using a lot of logic and also calculation, it'd be better).\nBut what about sometimes I just need to update one field? I saw a pattern of using same or similar put method when people update data, in those function, they will check to delete the old one and put the new data into table.\nShould it be better if we using an update set JPA query to change exactly what we need?</p>\n<p>Like there's an existing function when user create or update the record they have, should I create then add one update set query inside that function so it would update or create into those new set table I create?</p>\n<p>Thanks for reading this load of text, I hope to have a clear point of view to become a better programmer.</p>\n<p>I did try to google to understand the definition but not so clear. I hope I can get a clearer point of view here.</p>\n"},{"tags":["java","junit","cucumber","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1668428261,"post_id":74431287,"comment_id":131394863,"body_markdown":"No there is no way. Extensions are a Jupiter engine concept. Cucumber comes with its own test engine. Test engines do not share a common lifecycle.","body":"No there is no way. Extensions are a Jupiter engine concept. Cucumber comes with its own test engine. Test engines do not share a common lifecycle."}],"owner":{"account_id":14710918,"reputation":43,"user_id":10624295,"display_name":"der2te"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1668427139,"creation_date":1668427139,"question_id":74431287,"body_markdown":"I have cucumber tests which I execute with a Junit 5 suite. The Cucumber tests are all executed, but the extensions are ignored.\r\n\r\nThe class to run the cucumber tests looks like this:\r\n\r\n```\r\nimport cucumber.Extensions.TestExtension;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\n@Suite\r\n@SelectClasspathResource(&quot;cucumber&quot;)\r\n@ExtendWith(TestExtension.class)\r\npublic class Junit5Runner {\r\n}\r\n```\r\n\r\nRunning this executes all my cucumber tests, but the extension is ignored. Since @ExtendWith is part of a different engine then @Suite it does not seem to be compatible. I couldn&#39;t really find anything about this topic online. Is there no way to run Cucumber tests with Junit 5 and Junit 5 extensions?\r\n\r\nThanks in advance ","title":"Junit 5 how to use extensions with a test suite","body":"<p>I have cucumber tests which I execute with a Junit 5 suite. The Cucumber tests are all executed, but the extensions are ignored.</p>\n<p>The class to run the cucumber tests looks like this:</p>\n<pre><code>import cucumber.Extensions.TestExtension;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\n@Suite\n@SelectClasspathResource(&quot;cucumber&quot;)\n@ExtendWith(TestExtension.class)\npublic class Junit5Runner {\n}\n</code></pre>\n<p>Running this executes all my cucumber tests, but the extension is ignored. Since @ExtendWith is part of a different engine then @Suite it does not seem to be compatible. I couldn't really find anything about this topic online. Is there no way to run Cucumber tests with Junit 5 and Junit 5 extensions?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668183490,"creation_date":1668183490,"answer_id":74405359,"question_id":74401898,"body_markdown":"Not sure what why is the question.\r\n\r\nWhat you have so far is OK:\r\n\r\n1. You call that `sendToFtp()` gateway&#39;s method with an `InputStream` for a local file.\r\n\r\n2. The `Ftp.outboundAdapter(sf()` is based on the `this.remoteFileTemplate.send(message, this.mode)` operation which really supports an `InputStream` for a request payload:\r\n\r\n       else if (payload instanceof InputStream) {\r\n\t\t\t\treturn new StreamHolder((InputStream) payload, &quot;InputStream payload&quot;);\r\n\t\t\t}\r\n\r\n\r\nSo, share with us, please, what the problem are you observing with your configuration?\r\n\r\nPerhaps you are looking into a `fileName` to give for that data while saving to FTP. Consider to have another gateway argument as a `@Header(FileHeaders.FILENAME) String fileName`. The `RemoteFileTemplate` relies on a `DefaultFileNameGenerator` which looks into that header by default.","title":"Sending Inputstream in spring integration","body":"<p>Not sure what why is the question.</p>\n<p>What you have so far is OK:</p>\n<ol>\n<li><p>You call that <code>sendToFtp()</code> gateway's method with an <code>InputStream</code> for a local file.</p>\n</li>\n<li><p>The <code>Ftp.outboundAdapter(sf()</code> is based on the <code>this.remoteFileTemplate.send(message, this.mode)</code> operation which really supports an <code>InputStream</code> for a request payload:</p>\n<pre><code>else if (payload instanceof InputStream) {\n         return new StreamHolder((InputStream) payload, &quot;InputStream payload&quot;);\n     }\n</code></pre>\n</li>\n</ol>\n<p>So, share with us, please, what the problem are you observing with your configuration?</p>\n<p>Perhaps you are looking into a <code>fileName</code> to give for that data while saving to FTP. Consider to have another gateway argument as a <code>@Header(FileHeaders.FILENAME) String fileName</code>. The <code>RemoteFileTemplate</code> relies on a <code>DefaultFileNameGenerator</code> which looks into that header by default.</p>\n"}],"owner":{"account_id":12670622,"reputation":163,"user_id":9208293,"display_name":"Elias Khattar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74405359,"answer_count":1,"score":0,"last_activity_date":1668426774,"creation_date":1668166608,"question_id":74401898,"body_markdown":"I have a project where I want to sending a pdf file to an ftp server.\r\n\r\nI am creating the file using pdfbox and changing it to an Inputstream and then I was to pass this input scream value to a remote FTP and save it as .pdf.\r\n\r\nI have the below code but not sure how I can pass the data to the outbound adapter.\r\n\r\n     @Bean\r\n    public IntegrationFlow localToFtpFlow() {\r\n        return IntegrationFlows.from(&quot;toFtpChannel&quot;)\r\n                .handle(Ftp.outboundAdapter(sf())\r\n                        .remoteDirectory(&quot;/ftp/forklift_checklist&quot;))\r\n                .get();\r\n    }\r\n\r\n    @MessagingGateway\r\n    public interface MyGateway {\r\n\r\n        @Gateway(requestChannel = &quot;toFtpChannel&quot;)\r\n        void sendToFtp(InputStream file);\r\n\r\n    }","title":"Sending Inputstream in spring integration","body":"<p>I have a project where I want to sending a pdf file to an ftp server.</p>\n<p>I am creating the file using pdfbox and changing it to an Inputstream and then I was to pass this input scream value to a remote FTP and save it as .pdf.</p>\n<p>I have the below code but not sure how I can pass the data to the outbound adapter.</p>\n<pre><code> @Bean\npublic IntegrationFlow localToFtpFlow() {\n    return IntegrationFlows.from(&quot;toFtpChannel&quot;)\n            .handle(Ftp.outboundAdapter(sf())\n                    .remoteDirectory(&quot;/ftp/forklift_checklist&quot;))\n            .get();\n}\n\n@MessagingGateway\npublic interface MyGateway {\n\n    @Gateway(requestChannel = &quot;toFtpChannel&quot;)\n    void sendToFtp(InputStream file);\n\n}\n</code></pre>\n"},{"tags":["java","list","collections","hashmap"],"comments":[{"owner":{"display_name":"user19078589"},"score":1,"creation_date":1665826610,"post_id":74077678,"comment_id":130792769,"body_markdown":"@Abra I added the code I tried, what I am not understanding is how I will store the multiplied data and along with that store the rest of the data","body":"@Abra I added the code I tried, what I am not understanding is how I will store the multiplied data and along with that store the rest of the data"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666296693,"creation_date":1665829924,"answer_id":74078651,"question_id":74077678,"body_markdown":"It would be handy to define a method containing accumulation logic inside the `Records` class instead of manually manipulating the data outside the `Records` instance and then reassigning it via setter, which is less maintainable and violates the [*Information expert principle*](https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)).\r\n\r\n    public static class Records {\r\n        private BigDecimal price = BigDecimal.ONE;\r\n        private BigDecimal tos = BigDecimal.ONE;\r\n        private BigDecimal share = BigDecimal.ONE;\r\n        \r\n        public void merge(Records other) {\r\n            price = DecimalUtil.resetValueWithDefaultScale(price.multiply(other.getPrice()));\r\n            share = DecimalUtil.resetValueWithDefaultScale(share.multiply(other.getShare()));\r\n            tos = DecimalUtil.resetValueWithDefaultScale(fl.multiply(other.getTos()));\r\n        }\r\n        \r\n        // getters, constructors, etc.\r\n    }\r\n\r\nNow the code in the method that operates with a map of records can be made leaner.\r\n\r\n**Note**\r\n* That in order to perform the transformation, you&#39;ve illustrated with the sample data you don&#39;t need a nested `for`-loop (the inner loop iterating over the keys in your code is redundant).\r\n* Since your objects are *mutable*, it might not be a good idea to share object between different collections (for that reason in the implementations provided below all `Records` instances are not reused, even if there&#39;s only one record mapped to a particular key).\r\n* Plural nouns like `Records` are rarely used as names-class. And in such cases it&#39;s either a utility class (like `Collections`) which is meant to facilitate various actions which can be performed with instances of a particular type or class which is meant to store multiple instances of particular type. But `Records` is neither of these, therefore I would rather call this class `Record`.\r\n\r\nThat&#39;s your code can be reimplemented using classic Java features:\r\n\r\n    private static Map&lt;String, Records&gt; getCumulativeSafFafPaf(Map&lt;String, List&lt;Records&gt;&gt; recordsMap) {\r\n    \r\n        Map&lt;String, Records&gt; recordData = new HashMap&lt;&gt;();\r\n        \r\n        for (Map.Entry&lt;String, List&lt;Records&gt;&gt; entry : recordsMap.entrySet()) {\r\n            Records value = new Records();\r\n            recordData.put(entry.getKey(), value);\r\n            for (Records next : entry.getValue()) {\r\n                value.merge(next);\r\n            }\r\n        }\r\n        return recordData;\r\n    }\r\n\r\nThat&#39;s how it can be implemented with Stream IPA in a more concise way using collector [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)) and *three-args* [`collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)) to perform mutable reduction:\r\n\r\n    private static Map&lt;String, Records&gt; getCumulativeSafFafPaf(Map&lt;String, List&lt;Records&gt;&gt; recordsMap) {\r\n        \r\n        return recordsMap.entrySet().stream()\r\n            .collect(Collectors.toMap(\r\n                Map.Entry::getKey,\r\n                entry -&gt; entry.getValue().stream()\r\n                    .collect( Records::new, Records::merge, Records::merge )\r\n            ));\r\n    }\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/xpU)","title":"How to acumulate properties of Objects assosiated with the same Key in a Map&lt;K, List&lt;V&gt;&gt; and transform it into Map&lt;K, V&gt;","body":"<p>It would be handy to define a method containing accumulation logic inside the <code>Records</code> class instead of manually manipulating the data outside the <code>Records</code> instance and then reassigning it via setter, which is less maintainable and violates the <a href=\"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)\" rel=\"nofollow noreferrer\"><em>Information expert principle</em></a>.</p>\n<pre><code>public static class Records {\n    private BigDecimal price = BigDecimal.ONE;\n    private BigDecimal tos = BigDecimal.ONE;\n    private BigDecimal share = BigDecimal.ONE;\n    \n    public void merge(Records other) {\n        price = DecimalUtil.resetValueWithDefaultScale(price.multiply(other.getPrice()));\n        share = DecimalUtil.resetValueWithDefaultScale(share.multiply(other.getShare()));\n        tos = DecimalUtil.resetValueWithDefaultScale(fl.multiply(other.getTos()));\n    }\n    \n    // getters, constructors, etc.\n}\n</code></pre>\n<p>Now the code in the method that operates with a map of records can be made leaner.</p>\n<p><strong>Note</strong></p>\n<ul>\n<li>That in order to perform the transformation, you've illustrated with the sample data you don't need a nested <code>for</code>-loop (the inner loop iterating over the keys in your code is redundant).</li>\n<li>Since your objects are <em>mutable</em>, it might not be a good idea to share object between different collections (for that reason in the implementations provided below all <code>Records</code> instances are not reused, even if there's only one record mapped to a particular key).</li>\n<li>Plural nouns like <code>Records</code> are rarely used as names-class. And in such cases it's either a utility class (like <code>Collections</code>) which is meant to facilitate various actions which can be performed with instances of a particular type or class which is meant to store multiple instances of particular type. But <code>Records</code> is neither of these, therefore I would rather call this class <code>Record</code>.</li>\n</ul>\n<p>That's your code can be reimplemented using classic Java features:</p>\n<pre><code>private static Map&lt;String, Records&gt; getCumulativeSafFafPaf(Map&lt;String, List&lt;Records&gt;&gt; recordsMap) {\n\n    Map&lt;String, Records&gt; recordData = new HashMap&lt;&gt;();\n    \n    for (Map.Entry&lt;String, List&lt;Records&gt;&gt; entry : recordsMap.entrySet()) {\n        Records value = new Records();\n        recordData.put(entry.getKey(), value);\n        for (Records next : entry.getValue()) {\n            value.merge(next);\n        }\n    }\n    return recordData;\n}\n</code></pre>\n<p>That's how it can be implemented with Stream IPA in a more concise way using collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> and <em>three-args</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>collect()</code></a> to perform mutable reduction:</p>\n<pre><code>private static Map&lt;String, Records&gt; getCumulativeSafFafPaf(Map&lt;String, List&lt;Records&gt;&gt; recordsMap) {\n    \n    return recordsMap.entrySet().stream()\n        .collect(Collectors.toMap(\n            Map.Entry::getKey,\n            entry -&gt; entry.getValue().stream()\n                .collect( Records::new, Records::merge, Records::merge )\n        ));\n}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/xpU\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665830253,"creation_date":1665830253,"answer_id":74078696,"question_id":74077678,"body_markdown":"You basically have the right idea. You just seem to be making it more complicated than it needs to be.\r\n\r\nThe below code was developed using JDK 19.  \r\n(More notes after the code.)\r\n```java\r\nimport java.math.BigDecimal;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class Records {\r\n    private BigDecimal price;\r\n    private BigDecimal $float;\r\n    private BigDecimal share;\r\n\r\n    public Records(BigDecimal thePrice, BigDecimal theFloat, BigDecimal theShare) {\r\n        price = thePrice;\r\n        $float = theFloat;\r\n        share = theShare;\r\n    }\r\n\r\n    public BigDecimal getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public BigDecimal getFloat() {\r\n        return $float;\r\n    }\r\n\r\n    public BigDecimal getShare() {\r\n        return share;\r\n    }\r\n\r\n    public String toString() {\r\n        return String.format(&quot;price: %.2f , float: %.2f , share: %.2f&quot;, price, $float, share);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Records&gt; id1List = List.of(new Records(new BigDecimal(3),\r\n                                                    new BigDecimal(4),\r\n                                                    new BigDecimal(5)),\r\n                                        new Records(new BigDecimal(2),\r\n                                                    new BigDecimal(3),\r\n                                                    new BigDecimal(6)));\r\n        List&lt;Records&gt; id2List = List.of(new Records(new BigDecimal(1),\r\n                                                    new BigDecimal(7),\r\n                                                    new BigDecimal(4)));\r\n        Map&lt;String, List&lt;Records&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;Id1&quot;, id1List);\r\n        map.put(&quot;Id2&quot;, id2List);\r\n        for (Map.Entry&lt;String, List&lt;Records&gt;&gt; entry : map.entrySet()) {\r\n            List&lt;Records&gt; list = entry.getValue();\r\n            int size = list.size();\r\n            if (size &gt; 1) {\r\n                Records record = list.get(0);\r\n                BigDecimal thePrice = record.getPrice();\r\n                BigDecimal theFloat = record.getFloat();\r\n                BigDecimal theShare = record.getShare();\r\n                for (int i = 1; i &lt; size; i++) {\r\n                    record = list.get(i);\r\n                    thePrice = thePrice.multiply(record.getPrice());\r\n                    theFloat = theFloat.multiply(record.getFloat());\r\n                    theShare = theShare.multiply(record.getShare());\r\n                }\r\n                map.put(entry.getKey(), List.of(new Records(thePrice, theFloat, theShare)));\r\n            }\r\n        }\r\n        System.out.println(map);\r\n    }\r\n}\r\n```\r\n- You can&#39;t use `float` as an identifier in Java since it is a primitive type. Therefore I changed it to `$float`.\r\n- You don&#39;t need to iterate the set of keys (from the `Map`), you can iterate the entries. Each entry contains both the key and the value.\r\n- I am not familiar with class `DecimalUtil` but class `BigDecimal` can do the multiplication.\r\n\r\nRunning the above code produces the following output:\r\n```none\r\n{Id2=[price: 1.00 , float: 7.00 , share: 4.00], Id1=[price: 6.00 , float: 12.00 , share: 30.00]}\r\n```\r\n","title":"How to acumulate properties of Objects assosiated with the same Key in a Map&lt;K, List&lt;V&gt;&gt; and transform it into Map&lt;K, V&gt;","body":"<p>You basically have the right idea. You just seem to be making it more complicated than it needs to be.</p>\n<p>The below code was developed using JDK 19.<br />\n(More notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigDecimal;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Records {\n    private BigDecimal price;\n    private BigDecimal $float;\n    private BigDecimal share;\n\n    public Records(BigDecimal thePrice, BigDecimal theFloat, BigDecimal theShare) {\n        price = thePrice;\n        $float = theFloat;\n        share = theShare;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    public BigDecimal getFloat() {\n        return $float;\n    }\n\n    public BigDecimal getShare() {\n        return share;\n    }\n\n    public String toString() {\n        return String.format(&quot;price: %.2f , float: %.2f , share: %.2f&quot;, price, $float, share);\n    }\n\n    public static void main(String[] args) {\n        List&lt;Records&gt; id1List = List.of(new Records(new BigDecimal(3),\n                                                    new BigDecimal(4),\n                                                    new BigDecimal(5)),\n                                        new Records(new BigDecimal(2),\n                                                    new BigDecimal(3),\n                                                    new BigDecimal(6)));\n        List&lt;Records&gt; id2List = List.of(new Records(new BigDecimal(1),\n                                                    new BigDecimal(7),\n                                                    new BigDecimal(4)));\n        Map&lt;String, List&lt;Records&gt;&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;Id1&quot;, id1List);\n        map.put(&quot;Id2&quot;, id2List);\n        for (Map.Entry&lt;String, List&lt;Records&gt;&gt; entry : map.entrySet()) {\n            List&lt;Records&gt; list = entry.getValue();\n            int size = list.size();\n            if (size &gt; 1) {\n                Records record = list.get(0);\n                BigDecimal thePrice = record.getPrice();\n                BigDecimal theFloat = record.getFloat();\n                BigDecimal theShare = record.getShare();\n                for (int i = 1; i &lt; size; i++) {\n                    record = list.get(i);\n                    thePrice = thePrice.multiply(record.getPrice());\n                    theFloat = theFloat.multiply(record.getFloat());\n                    theShare = theShare.multiply(record.getShare());\n                }\n                map.put(entry.getKey(), List.of(new Records(thePrice, theFloat, theShare)));\n            }\n        }\n        System.out.println(map);\n    }\n}\n</code></pre>\n<ul>\n<li>You can't use <code>float</code> as an identifier in Java since it is a primitive type. Therefore I changed it to <code>$float</code>.</li>\n<li>You don't need to iterate the set of keys (from the <code>Map</code>), you can iterate the entries. Each entry contains both the key and the value.</li>\n<li>I am not familiar with class <code>DecimalUtil</code> but class <code>BigDecimal</code> can do the multiplication.</li>\n</ul>\n<p>Running the above code produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{Id2=[price: 1.00 , float: 7.00 , share: 4.00], Id1=[price: 6.00 , float: 12.00 , share: 30.00]}\n</code></pre>\n"}],"owner":{"display_name":"user19078589"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74078651,"answer_count":2,"score":1,"last_activity_date":1668426630,"creation_date":1665820363,"question_id":74077678,"body_markdown":"I have a class `Records` as follows:\r\n\r\n    public class Records { \r\n        private BigDecimal price;\r\n        private BigDecimal tos;\r\n        private BigDecimal share;\r\n    }\r\n\r\nAnd have a Map of type `Map&lt;String, List&lt;Records&gt;&gt;` where each *Key* can be associated with a group of Records.\r\n\r\nI want to perform cumulative multiplication on those `Records` instances associated with the same *Key* and produce the resulting Map where every Key is mapped to a single `Records` instance.\r\n\r\nFor example, in my map the data, if I store data, is like this:\r\n\r\n`Map&lt;String, List&lt;Records&gt;&gt;` has data\r\n\r\n    {\r\n    &quot;Id1&quot;: [ { &quot;price&quot;: 3, &quot;share&quot;: 4, &quot;tos&quot;: 5}, { &quot;price&quot;: 2, &quot;share&quot;: 3, &quot;tos&quot;: 6} ],\r\n    &quot;Id2&quot;: [ { &quot;price&quot;: 1, &quot;share&quot;: 7, &quot;tos&quot;: 4} ]\r\n    }\r\n\r\nI want to perform cumulative multiplication on data of *Id1* and achieve output like:\r\n\r\n`Map&lt;String, Records&gt;`\r\n\r\n    {\r\n    &quot;Id1&quot;: { &quot;price&quot;: 6, &quot;share&quot;: 12, &quot;tos&quot;: 30},\r\n    &quot;Id2&quot;: { &quot;price&quot;: 1, &quot;share&quot;: 7, &quot;tos&quot;: 4}\r\n    }\r\n\r\n\r\n*My attempt:*\r\n\r\n    private static Map&lt;String, Records&gt; getCumulativeSafFafPaf(Map&lt;String, List&lt;Records&gt;&gt; recordsMap) {\r\n\r\n        Map&lt;String, Records&gt; recordData = null;\r\n        Records output = null;\r\n\r\n        for (Map.Entry&lt;String, List&lt;Records&gt;&gt; data : recordsMap.entrySet()) {\r\n\r\n            List&lt;Records&gt; dbData = data.getValue();\r\n\r\n            for (String pid : recordsMap.keySet()) {\r\n\r\n                output = new Records();\r\n\r\n                if(recordsMap.get(pid).size() &gt; 1) {\r\n\r\n                    BigDecimal price = BigDecimal.ONE, share = BigDecimal.ONE, tos= BigDecimal.ONE;\r\n\r\n                    for (Records abc : dbData) {\r\n                        price = DecimalUtil.resetValueWithDefaultScale(price .multiply(abc.getPrice()));\r\n                        share = DecimalUtil.resetValueWithDefaultScale(share .multiply(abc.getShare()));\r\n                        tos= DecimalUtil.resetValueWithDefaultScale(tos.multiply(abc.getTos()));\r\n                    }\r\n                    output.setPrice(price);\r\n                    output.setShare(share);\r\n                    output.setTos(tos);\r\n                }\r\n                recordData.put(pid, output);\r\n            }\r\n        }\r\n        return recordData;\r\n    }\r\n\r\n*What I&#39;m stuck on:*\r\n\r\nI&#39;m not fully understand how I to store the multiplied data and along with that store the rest of the data.","title":"How to acumulate properties of Objects assosiated with the same Key in a Map&lt;K, List&lt;V&gt;&gt; and transform it into Map&lt;K, V&gt;","body":"<p>I have a class <code>Records</code> as follows:</p>\n<pre><code>public class Records { \n    private BigDecimal price;\n    private BigDecimal tos;\n    private BigDecimal share;\n}\n</code></pre>\n<p>And have a Map of type <code>Map&lt;String, List&lt;Records&gt;&gt;</code> where each <em>Key</em> can be associated with a group of Records.</p>\n<p>I want to perform cumulative multiplication on those <code>Records</code> instances associated with the same <em>Key</em> and produce the resulting Map where every Key is mapped to a single <code>Records</code> instance.</p>\n<p>For example, in my map the data, if I store data, is like this:</p>\n<p><code>Map&lt;String, List&lt;Records&gt;&gt;</code> has data</p>\n<pre><code>{\n&quot;Id1&quot;: [ { &quot;price&quot;: 3, &quot;share&quot;: 4, &quot;tos&quot;: 5}, { &quot;price&quot;: 2, &quot;share&quot;: 3, &quot;tos&quot;: 6} ],\n&quot;Id2&quot;: [ { &quot;price&quot;: 1, &quot;share&quot;: 7, &quot;tos&quot;: 4} ]\n}\n</code></pre>\n<p>I want to perform cumulative multiplication on data of <em>Id1</em> and achieve output like:</p>\n<p><code>Map&lt;String, Records&gt;</code></p>\n<pre><code>{\n&quot;Id1&quot;: { &quot;price&quot;: 6, &quot;share&quot;: 12, &quot;tos&quot;: 30},\n&quot;Id2&quot;: { &quot;price&quot;: 1, &quot;share&quot;: 7, &quot;tos&quot;: 4}\n}\n</code></pre>\n<p><em>My attempt:</em></p>\n<pre><code>private static Map&lt;String, Records&gt; getCumulativeSafFafPaf(Map&lt;String, List&lt;Records&gt;&gt; recordsMap) {\n\n    Map&lt;String, Records&gt; recordData = null;\n    Records output = null;\n\n    for (Map.Entry&lt;String, List&lt;Records&gt;&gt; data : recordsMap.entrySet()) {\n\n        List&lt;Records&gt; dbData = data.getValue();\n\n        for (String pid : recordsMap.keySet()) {\n\n            output = new Records();\n\n            if(recordsMap.get(pid).size() &gt; 1) {\n\n                BigDecimal price = BigDecimal.ONE, share = BigDecimal.ONE, tos= BigDecimal.ONE;\n\n                for (Records abc : dbData) {\n                    price = DecimalUtil.resetValueWithDefaultScale(price .multiply(abc.getPrice()));\n                    share = DecimalUtil.resetValueWithDefaultScale(share .multiply(abc.getShare()));\n                    tos= DecimalUtil.resetValueWithDefaultScale(tos.multiply(abc.getTos()));\n                }\n                output.setPrice(price);\n                output.setShare(share);\n                output.setTos(tos);\n            }\n            recordData.put(pid, output);\n        }\n    }\n    return recordData;\n}\n</code></pre>\n<p><em>What I'm stuck on:</em></p>\n<p>I'm not fully understand how I to store the multiplied data and along with that store the rest of the data.</p>\n"},{"tags":["java","out-of-memory","java-11"],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668417724,"creation_date":1668417724,"answer_id":74429374,"question_id":74429094,"body_markdown":"The file is too large, this will consume too much resources, you can use the database much easier, I think","title":"Stream.forEach OutOfMemoryError reading large file","body":"<p>The file is too large, this will consume too much resources, you can use the database much easier, I think</p>\n"},{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668419882,"creation_date":1668419882,"answer_id":74429799,"question_id":74429094,"body_markdown":"You ask the lines to be sorted. This requires ALL of them to be read to memory first, and their total size exceeds the max amount of heap you give to the program.\r\n\r\nEither give it more heap, or use something like File Sort (aka External sorting, https://en.wikipedia.org/wiki/External_sorting ).","title":"Stream.forEach OutOfMemoryError reading large file","body":"<p>You ask the lines to be sorted. This requires ALL of them to be read to memory first, and their total size exceeds the max amount of heap you give to the program.</p>\n<p>Either give it more heap, or use something like File Sort (aka External sorting, <a href=\"https://en.wikipedia.org/wiki/External_sorting\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/External_sorting</a> ).</p>\n"}],"owner":{"account_id":475248,"reputation":2320,"user_id":885453,"accept_rate":44,"display_name":"maqjav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74429799,"answer_count":2,"score":0,"last_activity_date":1668426602,"creation_date":1668416359,"question_id":74429094,"body_markdown":"I&#39;m using Java11 and I&#39;m reading a file with around 600MB, where every line has the same length (274 chars).\r\n\r\nThis is the code I&#39;m using:\r\n\r\n    Path tempFile;\r\n\ttry (final Stream&lt;String&gt; stream = Files.lines(largeFilePath, StandardCharsets.ISO_8859_1).sorted()) {\r\n\t\ttempFile = Files.createTempFile(null, null);\r\n\t\tstream.forEach(e -&gt; {\r\n\t\t\tif (StringUtils.startsWith(e, &quot;aa&quot;)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFiles.write(tempFile, (e + System.lineSeparator()).getBytes(), StandardOpenOption.APPEND);\r\n\t\t\t\t} catch (final IOException e1) {\r\n\t\t\t\t\tthrow new RuntimeException(e1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t} catch (final Exception e) {\r\n\t\tthrow e;\r\n\t}\r\n\r\nThis is the error:\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n\t    at java.lang.StringUTF16.compress(StringUTF16.java:160) ~[?:?]\r\n\t    at java.lang.String.&lt;init&gt;(String.java:3214) ~[?:?]\r\n\t    at java.lang.String.&lt;init&gt;(String.java:276) ~[?:?]\r\n\t    at java.io.BufferedReader.readLine(BufferedReader.java:358) ~[?:?]\r\n\t    at java.io.BufferedReader.readLine(BufferedReader.java:392) ~[?:?]\r\n\t    at java.nio.file.FileChannelLinesSpliterator.readLine(FileChannelLinesSpliterator.java:171) ~[?:?]\r\n\t    at java.nio.file.FileChannelLinesSpliterator.forEachRemaining(FileChannelLinesSpliterator.java:113) ~[?:?]\r\n\t    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]\r\n\t    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n\t    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n\t    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n\t    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\t    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]\r\n\t    at mypackage.MyClass.execute(MyClass.java:103) ~[classes/:?]\r\n\r\nThe line where it crashes is:\r\n\r\n    stream.forEach(e -&gt; {\r\n\r\nI don&#39;t know what I&#39;m missing here... in theory that code should be memory safe, right?\r\nIf I use a smaller file it works perfectly.\r\n\r\nThese are my memory settings:\r\n\r\n    -Xms512m\r\n    -Xmx512m\r\n    -XX:MaxMetaspaceSize=256m","title":"Stream.forEach OutOfMemoryError reading large file","body":"<p>I'm using Java11 and I'm reading a file with around 600MB, where every line has the same length (274 chars).</p>\n<p>This is the code I'm using:</p>\n<pre><code>Path tempFile;\ntry (final Stream&lt;String&gt; stream = Files.lines(largeFilePath, StandardCharsets.ISO_8859_1).sorted()) {\n    tempFile = Files.createTempFile(null, null);\n    stream.forEach(e -&gt; {\n        if (StringUtils.startsWith(e, &quot;aa&quot;)) {\n            try {\n                Files.write(tempFile, (e + System.lineSeparator()).getBytes(), StandardOpenOption.APPEND);\n            } catch (final IOException e1) {\n                throw new RuntimeException(e1);\n            }\n        }\n    });\n} catch (final Exception e) {\n    throw e;\n}\n</code></pre>\n<p>This is the error:</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n    at java.lang.StringUTF16.compress(StringUTF16.java:160) ~[?:?]\n    at java.lang.String.&lt;init&gt;(String.java:3214) ~[?:?]\n    at java.lang.String.&lt;init&gt;(String.java:276) ~[?:?]\n    at java.io.BufferedReader.readLine(BufferedReader.java:358) ~[?:?]\n    at java.io.BufferedReader.readLine(BufferedReader.java:392) ~[?:?]\n    at java.nio.file.FileChannelLinesSpliterator.readLine(FileChannelLinesSpliterator.java:171) ~[?:?]\n    at java.nio.file.FileChannelLinesSpliterator.forEachRemaining(FileChannelLinesSpliterator.java:113) ~[?:?]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]\n    at mypackage.MyClass.execute(MyClass.java:103) ~[classes/:?]\n</code></pre>\n<p>The line where it crashes is:</p>\n<pre><code>stream.forEach(e -&gt; {\n</code></pre>\n<p>I don't know what I'm missing here... in theory that code should be memory safe, right?\nIf I use a smaller file it works perfectly.</p>\n<p>These are my memory settings:</p>\n<pre><code>-Xms512m\n-Xmx512m\n-XX:MaxMetaspaceSize=256m\n</code></pre>\n"},{"tags":["java","react-native","block","message","callblocking"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668103515,"post_id":74375679,"comment_id":131331201,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":26875193,"reputation":11,"user_id":20456544,"display_name":"Joti Kumari"},"score":0,"creation_date":1683199725,"post_id":74375679,"comment_id":134331586,"body_markdown":"kindly Review, i have updated the details","body":"kindly Review, i have updated the details"}],"owner":{"account_id":26875193,"reputation":11,"user_id":20456544,"display_name":"Joti Kumari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668426462,"creation_date":1668000717,"question_id":74375679,"body_markdown":"how to block calls and messages on phone using react-native application, can&#39;t find any dependency or service of react-native.\r\nif anyone have worked kindly help.\r\nis it possible with java service or any alternate way?\r\nthanks in advance","title":"Block calls/messages in react native application","body":"<p>how to block calls and messages on phone using react-native application, can't find any dependency or service of react-native.\nif anyone have worked kindly help.\nis it possible with java service or any alternate way?\nthanks in advance</p>\n"},{"tags":["java","azure","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":25323437,"reputation":5152,"user_id":19144428,"display_name":"Venkatesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668426449,"creation_date":1668426449,"answer_id":74431131,"question_id":74371163,"body_markdown":"&gt; 403, &quot;﻿`AuthorizationPermissionMismatch`This request is not authorized\r\n&gt; to perform this operation using this permission.\r\n\r\nThe above error it says that you don&#39;t have proper permission to list the containers in your storage account.\r\n\r\nfor authentication purpose you need to assign roles in your storage account. \r\n\r\n-   **Storage Blob Data Contributor**\r\n-   **Storage Blob Data Reader**\r\n\r\n![enter image description here](https://i.stack.imgur.com/Q7kES.png)\r\n\r\nThe code is correct and make sure you have proper permission to access the container in the storage account.\r\n\r\n```java\r\nvar defaultCredential = new DefaultAzureCredentialBuilder().build();\r\n\r\nvar containerClient = new BlobContainerClientBuilder()\r\n              .endpoint(&quot;https://storageaccount.blob.core.windows.net/testcontainer/&quot;)\r\n              .credential(defaultCredential)\r\n              .buildClient();\r\n\r\nvar isEmpty = containerClient.listBlobs().stream().findAny().isEmpty();\r\n```\r\n\r\nAlso check the firewall settings whether, In networking\r\n\r\n -  If you are access in public enable the select all network\r\n -  If you enabled selected networks add the **`virtual networks.`** and add your add your client **`iP address`** and also enable &quot;**Allow trusted Microsoft services to access this storage account&quot;** allows you to access storage account.\r\n\r\n![enter image description here](https://i.stack.imgur.com/zmMXv.png)\r\n\r\nAlso check the **`Blob Url`** is in correct state or make sure with credentials.\r\n\r\n**Reference:**\r\nhttps://stackoverflow.com/questions/60602497/azcopy-error-this-request-is-not-authorized-to-perform-this-operation\r\n\r\n\r\n\r\n","title":"How to list empty containers in Azure storage account using Java?","body":"<blockquote>\n<p>403, &quot;﻿<code>AuthorizationPermissionMismatch</code>This request is not authorized\nto perform this operation using this permission.</p>\n</blockquote>\n<p>The above error it says that you don't have proper permission to list the containers in your storage account.</p>\n<p>for authentication purpose you need to assign roles in your storage account.</p>\n<ul>\n<li><strong>Storage Blob Data Contributor</strong></li>\n<li><strong>Storage Blob Data Reader</strong></li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/Q7kES.png\" alt=\"enter image description here\" /></p>\n<p>The code is correct and make sure you have proper permission to access the container in the storage account.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var defaultCredential = new DefaultAzureCredentialBuilder().build();\n\nvar containerClient = new BlobContainerClientBuilder()\n              .endpoint(&quot;https://storageaccount.blob.core.windows.net/testcontainer/&quot;)\n              .credential(defaultCredential)\n              .buildClient();\n\nvar isEmpty = containerClient.listBlobs().stream().findAny().isEmpty();\n</code></pre>\n<p>Also check the firewall settings whether, In networking</p>\n<ul>\n<li>If you are access in public enable the select all network</li>\n<li>If you enabled selected networks add the <strong><code>virtual networks.</code></strong> and add your add your client <strong><code>iP address</code></strong> and also enable &quot;<strong>Allow trusted Microsoft services to access this storage account&quot;</strong> allows you to access storage account.</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/zmMXv.png\" alt=\"enter image description here\" /></p>\n<p>Also check the <strong><code>Blob Url</code></strong> is in correct state or make sure with credentials.</p>\n<p><strong>Reference:</strong>\n<a href=\"https://stackoverflow.com/questions/60602497/azcopy-error-this-request-is-not-authorized-to-perform-this-operation\">Azcopy error &quot;This request is not authorized to perform this operation.&quot;</a></p>\n"}],"owner":{"account_id":25103965,"reputation":89,"user_id":18954336,"display_name":"JoeBloggs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668426449,"creation_date":1667978240,"question_id":74371163,"body_markdown":"I want to get a list of empty containers in a storage account using Java.\r\n\r\nHere is my initial approach to check if container does not have any blobs:\r\n\r\n    var defaultCredential = new DefaultAzureCredentialBuilder().build();\r\n\r\n    var containerClient = new BlobContainerClientBuilder()\r\n                  .endpoint(&quot;https://storageaccount.blob.core.windows.net/testcontainer/&quot;)\r\n                  .credential(defaultCredential)\r\n                  .buildClient();\r\n\r\n    var isEmpty = containerClient.listBlobs().stream().findAny().isEmpty();\r\n\r\nUnfortunately, this simple approach does not work and throws &quot;Signature did not match&quot; exception\r\n\r\n&gt; com.azure.storage.blob.models.BlobStorageException: If you are using a StorageSharedKeyCredential, and the server returned an error message that says &#39;Signature did not match&#39;, you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair &#39;Azure-Storage-Log-String-To-Sign&#39;: true to the appropriate method call.\r\nIf you are using a SAS token, and the server returned an error message that says &#39;Signature did not match&#39;, you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair &#39;Azure-Storage-Log-String-To-Sign&#39;: true to the appropriate generateSas method call.\r\nPlease remember to disable &#39;Azure-Storage-Log-String-To-Sign&#39; before going to production as this string can potentially contain PII.\r\nStatus code 403, &quot;﻿&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthorizationPermissionMismatch&lt;/Code&gt;&lt;Message&gt;This request is not authorized to perform this operation using this permission.\r\n\r\nCredentials are fine, and even more \r\n\r\n    var exists = containerClient.exists();\r\n\r\nworks and returns true.\r\n\r\nWhat is wrong with the `.listBlobs().stream().findAny().isEmpty()` call?\r\n\r\n","title":"How to list empty containers in Azure storage account using Java?","body":"<p>I want to get a list of empty containers in a storage account using Java.</p>\n<p>Here is my initial approach to check if container does not have any blobs:</p>\n<pre><code>var defaultCredential = new DefaultAzureCredentialBuilder().build();\n\nvar containerClient = new BlobContainerClientBuilder()\n              .endpoint(&quot;https://storageaccount.blob.core.windows.net/testcontainer/&quot;)\n              .credential(defaultCredential)\n              .buildClient();\n\nvar isEmpty = containerClient.listBlobs().stream().findAny().isEmpty();\n</code></pre>\n<p>Unfortunately, this simple approach does not work and throws &quot;Signature did not match&quot; exception</p>\n<blockquote>\n<p>com.azure.storage.blob.models.BlobStorageException: If you are using a StorageSharedKeyCredential, and the server returned an error message that says 'Signature did not match', you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair 'Azure-Storage-Log-String-To-Sign': true to the appropriate method call.\nIf you are using a SAS token, and the server returned an error message that says 'Signature did not match', you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair 'Azure-Storage-Log-String-To-Sign': true to the appropriate generateSas method call.\nPlease remember to disable 'Azure-Storage-Log-String-To-Sign' before going to production as this string can potentially contain PII.\nStatus code 403, &quot;﻿<Code>AuthorizationPermissionMismatch</Code>This request is not authorized to perform this operation using this permission.</p>\n</blockquote>\n<p>Credentials are fine, and even more</p>\n<pre><code>var exists = containerClient.exists();\n</code></pre>\n<p>works and returns true.</p>\n<p>What is wrong with the <code>.listBlobs().stream().findAny().isEmpty()</code> call?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668012791,"post_id":74378033,"comment_id":131306258,"body_markdown":"This is not a bad way to do transactions, but you have to make sure that in case of (some specifically chosen) exceptions, you call `setRollbackOnly(true)` so that you will rollback in your `finally` statement","body":"This is not a bad way to do transactions, but you have to make sure that in case of (some specifically chosen) exceptions, you call <code>setRollbackOnly(true)</code> so that you will rollback in your <code>finally</code> statement"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668023366,"post_id":74378033,"comment_id":131309749,"body_markdown":"There is no auto commit in JPA, and the feature itself is one they do not recommend within Hibernate. See https://stackoverflow.com/questions/23100888/why-is-hibernate-connection-autocommit-true-not-recommended-in-hibernate and I&#39;m sure others can think of tons of good reasons it isn&#39;t the best choice to use. It seems reasonable to avoid boiler plate transaction begin/commit handling for a single call, but transactional scopes rarely stay that simple, and you need to have much better exception handling to deal with the EntityManager context and its state after a problem with auto commit","body":"There is no auto commit in JPA, and the feature itself is one they do not recommend within Hibernate. See <a href=\"https://stackoverflow.com/questions/23100888/why-is-hibernate-connection-autocommit-true-not-recommended-in-hibernate\" title=\"why is hibernate connection autocommit true not recommended in hibernate\">stackoverflow.com/questions/23100888/&hellip;</a> and I&#39;m sure others can think of tons of good reasons it isn&#39;t the best choice to use. It seems reasonable to avoid boiler plate transaction begin/commit handling for a single call, but transactional scopes rarely stay that simple, and you need to have much better exception handling to deal with the EntityManager context and its state after a problem with auto commit"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668023748,"post_id":74378033,"comment_id":131309849,"body_markdown":"Not mentioned but important and I didn&#39;t see it mentioned: entity handling via merge and persist can span multiple SQL statements. Auto commit will allow some to get in and stay in, as there is no transaction to roll them back. I don&#39;t know how you/hibernate handles getting the persist call to &#39;flush&#39; to the database in your auto commit situation, but if an error happens, you cannot know what is in the database at all (without checking DB data and logs that is) - not just the EntityManager state","body":"Not mentioned but important and I didn&#39;t see it mentioned: entity handling via merge and persist can span multiple SQL statements. Auto commit will allow some to get in and stay in, as there is no transaction to roll them back. I don&#39;t know how you/hibernate handles getting the persist call to &#39;flush&#39; to the database in your auto commit situation, but if an error happens, you cannot know what is in the database at all (without checking DB data and logs that is) - not just the EntityManager state"}],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668426384,"creation_date":1668010226,"question_id":74378033,"body_markdown":"As a result of some transaction problems with JPA, I am managing some of these manually,  following a standard like:\r\n\r\n    EntityTransaction txn = em.getTransaction();\r\n    txn.begin();\r\n    try {\r\n        em.persist(myentity);\r\n        txn.commit();\r\n    } \r\n    finally {\r\n       if (txn.isActive())\r\n          txn.rollback(); \r\n    }\r\n\r\nWhile others are managed directly from entitymanager using autocommit (set in my framework):\r\n\r\n     em.persist(myentity);\r\n\r\nWhat are the problems using this approach?\r\n","title":"What are the problems of auto-commit and commit transaction when used programmatically in combination?","body":"<p>As a result of some transaction problems with JPA, I am managing some of these manually,  following a standard like:</p>\n<pre><code>EntityTransaction txn = em.getTransaction();\ntxn.begin();\ntry {\n    em.persist(myentity);\n    txn.commit();\n} \nfinally {\n   if (txn.isActive())\n      txn.rollback(); \n}\n</code></pre>\n<p>While others are managed directly from entitymanager using autocommit (set in my framework):</p>\n<pre><code> em.persist(myentity);\n</code></pre>\n<p>What are the problems using this approach?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668425902,"post_id":74430373,"comment_id":131394200,"body_markdown":"It is deprecated. This has been, recently, added to the documentation (see https://github.com/spring-projects/spring-security/commit/001452d249fde1c6729f2b080531033856ee4afc).","body":"It is deprecated. This has been, recently, added to the documentation (see <a href=\"https://github.com/spring-projects/spring-security/commit/001452d249fde1c6729f2b080531033856ee4afc\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/commit/&hellip;</a>)."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668426376,"creation_date":1668426034,"answer_id":74431047,"question_id":74430373,"body_markdown":"There won&#39;t be (at the moment) as it has been removed. See [this issue][1] from Spring Security on the removal (basically there is never going to be a JakartaEE version of the java client and hence no support). \r\n\r\nA couple of days a snippet was added to the documentation (see [this commit][2]) on what you can do as a replacement/workaround. Which leads to [this documentation in the reference guide][3].\r\n\r\nThere has been some activity on the Java CAS Client, so it might be re-added before GA or in a next major release of Spring Security. See [this issue][4].\r\n\r\n[1]: https://github.com/spring-projects/spring-security/issues/10441\r\n[2]: https://github.com/spring-projects/spring-security/commit/001452d249fde1c6729f2b080531033856ee4afc\r\n[3]: https://docs.spring.io/spring-security/reference/6.0/migration.html#_remove_cas_support\r\n[4]: https://github.com/spring-projects/spring-security/issues/11674","title":"Spring security cas with jakarta compatibility for Springboot 3 updagre","body":"<p>There won't be (at the moment) as it has been removed. See <a href=\"https://github.com/spring-projects/spring-security/issues/10441\" rel=\"nofollow noreferrer\">this issue</a> from Spring Security on the removal (basically there is never going to be a JakartaEE version of the java client and hence no support).</p>\n<p>A couple of days a snippet was added to the documentation (see <a href=\"https://github.com/spring-projects/spring-security/commit/001452d249fde1c6729f2b080531033856ee4afc\" rel=\"nofollow noreferrer\">this commit</a>) on what you can do as a replacement/workaround. Which leads to <a href=\"https://docs.spring.io/spring-security/reference/6.0/migration.html#_remove_cas_support\" rel=\"nofollow noreferrer\">this documentation in the reference guide</a>.</p>\n<p>There has been some activity on the Java CAS Client, so it might be re-added before GA or in a next major release of Spring Security. See <a href=\"https://github.com/spring-projects/spring-security/issues/11674\" rel=\"nofollow noreferrer\">this issue</a>.</p>\n"}],"owner":{"account_id":20788081,"reputation":100,"user_id":15266877,"display_name":"Ezekiela Rakotoarijaona"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74431047,"answer_count":1,"score":1,"last_activity_date":1668426376,"creation_date":1668422580,"question_id":74430373,"body_markdown":"I&#39;m trying to check if my springboot app can upgrade to springboot 3 when it will release officially. One of the breaking changes is that all javax has been replaced by jakarta libs. \r\n\r\nAll of my libs are supporting support that except one, spring-security-cas. As of now what I can see on the public project is that the latest version is still 5.8.0.\r\n\r\nI can also see that on the github project of spring security the CAS part has been removed since the 6.0.0 version.\r\n\r\nDoes anyone know if there will be a 6.0.0 version like for other spring security libs or is it deprecated ? ","title":"Spring security cas with jakarta compatibility for Springboot 3 updagre","body":"<p>I'm trying to check if my springboot app can upgrade to springboot 3 when it will release officially. One of the breaking changes is that all javax has been replaced by jakarta libs.</p>\n<p>All of my libs are supporting support that except one, spring-security-cas. As of now what I can see on the public project is that the latest version is still 5.8.0.</p>\n<p>I can also see that on the github project of spring security the CAS part has been removed since the 6.0.0 version.</p>\n<p>Does anyone know if there will be a 6.0.0 version like for other spring security libs or is it deprecated ?</p>\n"},{"tags":["java","spring-boot","azure-cosmosdb"],"comments":[{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668421927,"post_id":74429711,"comment_id":131392932,"body_markdown":"I think you need thinking about the deleteAll method funcionality. Spring framework says: reactor.core.publisher.Mono&lt;Void&gt; deleteAll()\nDeletes all entities **managed** by the repository.\nSo on initialization your repo does not manages any entity, so deletes nothing.","body":"I think you need thinking about the deleteAll method funcionality. Spring framework says: reactor.core.publisher.Mono&lt;Void&gt; deleteAll() Deletes all entities <b>managed</b> by the repository. So on initialization your repo does not manages any entity, so deletes nothing."},{"owner":{"account_id":8529853,"reputation":277,"user_id":8870092,"display_name":"JasperR"},"score":0,"creation_date":1668423314,"post_id":74429711,"comment_id":131393382,"body_markdown":"Doesn&#39;t it manage the entities already existing in the container? When I&#39;m starting the app, the container already exists and has items in CosmosDB --&gt; shouldn&#39;t it delete those items? And that doesn&#39;t really explain why the `Mono&lt;Void&gt; deleteById()` function doesn&#39;t work, does it?","body":"Doesn&#39;t it manage the entities already existing in the container? When I&#39;m starting the app, the container already exists and has items in CosmosDB --&gt; shouldn&#39;t it delete those items? And that doesn&#39;t really explain why the <code>Mono&lt;Void&gt; deleteById()</code> function doesn&#39;t work, does it?"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668423685,"post_id":74429711,"comment_id":131393518,"body_markdown":"I&#39;m just guessing, but spring says: deleteById(K id,\n                                             com.azure.data.cosmos.PartitionKey partitionKey)\nDeletes an entity by its id and partition key.\nSo i think this interact with CosmosDB, but deleteAll not, because this works only with managed entities. I&#39;m not sure I got everything right.","body":"I&#39;m just guessing, but spring says: deleteById(K id,                                              com.azure.data.cosmos.PartitionKey partitionKey) Deletes an entity by its id and partition key. So i think this interact with CosmosDB, but deleteAll not, because this works only with managed entities. I&#39;m not sure I got everything right."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668425715,"creation_date":1668425715,"answer_id":74430993,"question_id":74429711,"body_markdown":"You&#39;re not subscribing anywhere, so the reactive stream isn&#39;t executed.\r\n\r\nYou could solve that by subscribing manually:\r\n\r\n```\r\ntrashcanRepository.deleteAll().subscribe()\r\n```\r\n\r\nHowever, this is not a good practice, and certainly not in your `DataLoader` as you can&#39;t guarantee the order in which the save/delete-logic is executed (maybe the `TrashcanDao` is saved before you delete everything).\r\n\r\nTo solve this, you should create a proper reactive stream:\r\n\r\n```java\r\ntrashcanRepository\r\n    .deleteAll()\r\n    .then(trashcanRepository.save(new TrashcanDao(address1, FillStatus.EMPTY)))\r\n    .thenMany(trashcanRepository.findAll())\r\n    // Your previous subscribe() shouldn&#39;t compile since it should contain List&lt;TrashcanDao&gt;\r\n    .subscribe(trashcans -&gt; log.info(trashcans.size()));\r\n```","title":"ReactiveCosmosRepository delete functions not working","body":"<p>You're not subscribing anywhere, so the reactive stream isn't executed.</p>\n<p>You could solve that by subscribing manually:</p>\n<pre><code>trashcanRepository.deleteAll().subscribe()\n</code></pre>\n<p>However, this is not a good practice, and certainly not in your <code>DataLoader</code> as you can't guarantee the order in which the save/delete-logic is executed (maybe the <code>TrashcanDao</code> is saved before you delete everything).</p>\n<p>To solve this, you should create a proper reactive stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>trashcanRepository\n    .deleteAll()\n    .then(trashcanRepository.save(new TrashcanDao(address1, FillStatus.EMPTY)))\n    .thenMany(trashcanRepository.findAll())\n    // Your previous subscribe() shouldn't compile since it should contain List&lt;TrashcanDao&gt;\n    .subscribe(trashcans -&gt; log.info(trashcans.size()));\n</code></pre>\n"}],"owner":{"account_id":8529853,"reputation":277,"user_id":8870092,"display_name":"JasperR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74430993,"answer_count":1,"score":0,"last_activity_date":1668425715,"creation_date":1668419514,"question_id":74429711,"body_markdown":"I&#39;m building a Spring Boot app using CosmosDB as my database. All functions work (creating an item, updating one, get all, get by id,...), apart from delete functions. They don&#39;t do anything and since their output is void, it doesn&#39;t give me any logs either. \r\n\r\nThe DAO class: \r\n``` java\r\npackage projects.trashcanapplication.trashcan.dao;\r\n\r\nimport com.azure.spring.data.cosmos.core.mapping.Container;\r\nimport com.azure.spring.data.cosmos.core.mapping.GeneratedValue;\r\nimport com.azure.spring.data.cosmos.core.mapping.PartitionKey;\r\nimport org.springframework.data.annotation.Id;\r\nimport projects.trashcanapplication.trashcan.models.Address;\r\nimport projects.trashcanapplication.trashcan.models.FillStatus;\r\n\r\n@Container(containerName = &quot;trashcanData&quot;)\r\npublic class TrashcanDao{\r\n\t@GeneratedValue\r\n\tprivate String attachments;\r\n\tprivate FillStatus fillStatus;\r\n\t@GeneratedValue\r\n\tprivate String rid;\r\n\tprivate Address address;\r\n\t@Id\r\n\t@PartitionKey\r\n\t@GeneratedValue\r\n\tprivate String id;\r\n\t@GeneratedValue\r\n\tprivate String self;\r\n\t@GeneratedValue\r\n\tprivate String etag;\r\n\t@GeneratedValue\r\n\tprivate int ts;\r\n\r\n\tpublic TrashcanDao(Address address, FillStatus fillStatus) {\r\n\t\tthis.fillStatus = fillStatus;\r\n\t\tthis.address = address;\r\n\t}\r\n\r\n\tpublic String getAttachments(){\r\n\t\treturn attachments;\r\n\t}\r\n\r\n\tpublic FillStatus getFillStatus(){\r\n\t\treturn fillStatus;\r\n\t}\r\n\r\n\tpublic String getRid(){\r\n\t\treturn rid;\r\n\t}\r\n\r\n\tpublic Address getAddress(){\r\n\t\treturn address;\r\n\t}\r\n\r\n\tpublic String getId(){\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic String getSelf(){\r\n\t\treturn self;\r\n\t}\r\n\r\n\tpublic String getEtag(){\r\n\t\treturn etag;\r\n\t}\r\n\r\n\tpublic int getTs(){\r\n\t\treturn ts;\r\n\t}\r\n}\r\n```\r\n\r\nThe repository\r\n``` java\r\npackage projects.trashcanapplication.trashcan.repositories;\r\n\r\nimport com.azure.spring.data.cosmos.repository.ReactiveCosmosRepository;\r\nimport projects.trashcanapplication.trashcan.dao.TrashcanDao;\r\n\r\npublic interface TrashcanRepository extends ReactiveCosmosRepository&lt;TrashcanDao, String&gt; {\r\n\r\n}\r\n```\r\n\r\nThe service calling the repository\r\n```java\r\npackage projects.trashcanapplication.trashcan.services;\r\n\r\nimport com.azure.cosmos.models.PartitionKey;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Service;\r\nimport projects.trashcanapplication.trashcan.dao.TrashcanDao;\r\nimport projects.trashcanapplication.trashcan.models.Trashcan;\r\nimport projects.trashcanapplication.trashcan.repositories.TrashcanRepository;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Slf4j\r\n@Service\r\n@AllArgsConstructor\r\npublic class TrashcanServiceImpl implements TrashcanService {\r\n    private final TrashcanRepository trashcanRepository;\r\n    private final TrashcanMapper trashcanMapper;\r\n\r\n\r\n    public Flux&lt;Trashcan&gt; getAllTrashcans() {\r\n        return trashcanRepository.findAll().map(trashcanMapper::fromDaoToTrashcan);\r\n    }\r\n\r\n    public Mono&lt;Trashcan&gt; getTrashcanById(String id) {\r\n        return trashcanRepository.findById(id).map(trashcanMapper::fromDaoToTrashcan);\r\n    }\r\n\r\n    public String createTrashcan(Trashcan trashcan) {\r\n        TrashcanDao saveTrashcan = trashcanMapper.fromTrashcanToDao(trashcan);\r\n        trashcanRepository.save(saveTrashcan).subscribe();\r\n        return saveTrashcan.getId();\r\n    }\r\n\r\n    public void deleteTrashcan(String id) {\r\n        trashcanRepository.deleteById(id, new PartitionKey(id));\r\n        log.info(String.format(&quot;Deleted trashcan %s&quot;, id));\r\n    }\r\n}\r\n```\r\n\r\nI have a dataloader temporarily set up to populate my DB with an item upon running the app. The deleteAll() function doesn&#39;t work here either.\r\n\r\n```java\r\npackage projects.trashcanapplication.trashcan.services;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Component;\r\nimport projects.trashcanapplication.trashcan.dao.TrashcanDao;\r\nimport projects.trashcanapplication.trashcan.models.Address;\r\nimport projects.trashcanapplication.trashcan.models.FillStatus;\r\nimport projects.trashcanapplication.trashcan.repositories.TrashcanRepository;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\n@Slf4j\r\n@Component\r\n@AllArgsConstructor\r\npublic class DataLoader {\r\n    private final TrashcanRepository trashcanRepository;\r\n\r\n    @PostConstruct\r\n    void loadData() {\r\n        Address address1 = new Address(&quot;Begijnendijk&quot;, &quot;3130&quot;, &quot;Liersesteenweg&quot;, &quot;181&quot;);\r\n        trashcanRepository.deleteAll();\r\n        trashcanRepository.save(new TrashcanDao(address1, FillStatus.EMPTY))\r\n                .flatMap(trashcanRepository::save)\r\n                .thenMany(trashcanRepository.findAll())\r\n                .subscribe(trashcan -&gt; log.info(trashcan.getId().toString()))\r\n        ;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"ReactiveCosmosRepository delete functions not working","body":"<p>I'm building a Spring Boot app using CosmosDB as my database. All functions work (creating an item, updating one, get all, get by id,...), apart from delete functions. They don't do anything and since their output is void, it doesn't give me any logs either.</p>\n<p>The DAO class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package projects.trashcanapplication.trashcan.dao;\n\nimport com.azure.spring.data.cosmos.core.mapping.Container;\nimport com.azure.spring.data.cosmos.core.mapping.GeneratedValue;\nimport com.azure.spring.data.cosmos.core.mapping.PartitionKey;\nimport org.springframework.data.annotation.Id;\nimport projects.trashcanapplication.trashcan.models.Address;\nimport projects.trashcanapplication.trashcan.models.FillStatus;\n\n@Container(containerName = &quot;trashcanData&quot;)\npublic class TrashcanDao{\n    @GeneratedValue\n    private String attachments;\n    private FillStatus fillStatus;\n    @GeneratedValue\n    private String rid;\n    private Address address;\n    @Id\n    @PartitionKey\n    @GeneratedValue\n    private String id;\n    @GeneratedValue\n    private String self;\n    @GeneratedValue\n    private String etag;\n    @GeneratedValue\n    private int ts;\n\n    public TrashcanDao(Address address, FillStatus fillStatus) {\n        this.fillStatus = fillStatus;\n        this.address = address;\n    }\n\n    public String getAttachments(){\n        return attachments;\n    }\n\n    public FillStatus getFillStatus(){\n        return fillStatus;\n    }\n\n    public String getRid(){\n        return rid;\n    }\n\n    public Address getAddress(){\n        return address;\n    }\n\n    public String getId(){\n        return id;\n    }\n\n    public String getSelf(){\n        return self;\n    }\n\n    public String getEtag(){\n        return etag;\n    }\n\n    public int getTs(){\n        return ts;\n    }\n}\n</code></pre>\n<p>The repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>package projects.trashcanapplication.trashcan.repositories;\n\nimport com.azure.spring.data.cosmos.repository.ReactiveCosmosRepository;\nimport projects.trashcanapplication.trashcan.dao.TrashcanDao;\n\npublic interface TrashcanRepository extends ReactiveCosmosRepository&lt;TrashcanDao, String&gt; {\n\n}\n</code></pre>\n<p>The service calling the repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>package projects.trashcanapplication.trashcan.services;\n\nimport com.azure.cosmos.models.PartitionKey;\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\nimport projects.trashcanapplication.trashcan.dao.TrashcanDao;\nimport projects.trashcanapplication.trashcan.models.Trashcan;\nimport projects.trashcanapplication.trashcan.repositories.TrashcanRepository;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\n@Slf4j\n@Service\n@AllArgsConstructor\npublic class TrashcanServiceImpl implements TrashcanService {\n    private final TrashcanRepository trashcanRepository;\n    private final TrashcanMapper trashcanMapper;\n\n\n    public Flux&lt;Trashcan&gt; getAllTrashcans() {\n        return trashcanRepository.findAll().map(trashcanMapper::fromDaoToTrashcan);\n    }\n\n    public Mono&lt;Trashcan&gt; getTrashcanById(String id) {\n        return trashcanRepository.findById(id).map(trashcanMapper::fromDaoToTrashcan);\n    }\n\n    public String createTrashcan(Trashcan trashcan) {\n        TrashcanDao saveTrashcan = trashcanMapper.fromTrashcanToDao(trashcan);\n        trashcanRepository.save(saveTrashcan).subscribe();\n        return saveTrashcan.getId();\n    }\n\n    public void deleteTrashcan(String id) {\n        trashcanRepository.deleteById(id, new PartitionKey(id));\n        log.info(String.format(&quot;Deleted trashcan %s&quot;, id));\n    }\n}\n</code></pre>\n<p>I have a dataloader temporarily set up to populate my DB with an item upon running the app. The deleteAll() function doesn't work here either.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package projects.trashcanapplication.trashcan.services;\n\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Component;\nimport projects.trashcanapplication.trashcan.dao.TrashcanDao;\nimport projects.trashcanapplication.trashcan.models.Address;\nimport projects.trashcanapplication.trashcan.models.FillStatus;\nimport projects.trashcanapplication.trashcan.repositories.TrashcanRepository;\n\nimport javax.annotation.PostConstruct;\n\n@Slf4j\n@Component\n@AllArgsConstructor\npublic class DataLoader {\n    private final TrashcanRepository trashcanRepository;\n\n    @PostConstruct\n    void loadData() {\n        Address address1 = new Address(&quot;Begijnendijk&quot;, &quot;3130&quot;, &quot;Liersesteenweg&quot;, &quot;181&quot;);\n        trashcanRepository.deleteAll();\n        trashcanRepository.save(new TrashcanDao(address1, FillStatus.EMPTY))\n                .flatMap(trashcanRepository::save)\n                .thenMany(trashcanRepository.findAll())\n                .subscribe(trashcan -&gt; log.info(trashcan.getId().toString()))\n        ;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1668402726,"post_id":74426952,"comment_id":131388013,"body_markdown":"*a foreign key constraint fails, but the foreign value is there?* If constraint fails then the value is not present. No variants. &quot;Value is present&#39; and &quot;you think that it is present&quot; is not the same. Enable General Log and look the queries which are received by MySQL really.","body":"<i>a foreign key constraint fails, but the foreign value is there?</i> If constraint fails then the value is not present. No variants. &quot;Value is present&#39; and &quot;you think that it is present&quot; is not the same. Enable General Log and look the queries which are received by MySQL really."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668404056,"post_id":74426952,"comment_id":131388180,"body_markdown":"Check value of `appointment.getCustomerID()` if it contains a valid Customer‘s ID","body":"Check value of <code>appointment.getCustomerID()</code> if it contains a valid Customer‘s ID"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1668423464,"post_id":74426952,"comment_id":131393441,"body_markdown":"@ChristophDahlen it is the `appointment.getContactsID()` the OP needs to check, not the customer one :)","body":"@ChristophDahlen it is the <code>appointment.getContactsID()</code> the OP needs to check, not the customer one :)"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668426237,"post_id":74426952,"comment_id":131394288,"body_markdown":"@Shadow You are correct.","body":"@Shadow You are correct."}],"owner":{"account_id":22114825,"reputation":93,"user_id":16369112,"display_name":"Jschwery"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668425220,"creation_date":1668400238,"question_id":74426952,"body_markdown":"I have scene a similar [post](https://stackoverflow.com/questions/5005388/cannot-add-or-update-a-child-row-a-foreign-key-constraint-fails) on this error, but my problem is that I get this error while the foreign key value is clearly in the **Contact Table**\r\n```none\r\njava.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`client_schedule`.`appointments`, CONSTRAINT `fk_contact_id` FOREIGN KEY (`Contact_ID`) REFERENCES `contacts` (`Contact_ID`) ON DELETE CASCADE ON UPDATE CASCADE)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)\r\n\tat com.example.customerdatabaseprojectii/com.example.customerdatabaseprojectii.daos.AppointmentsDao.updateAppointment(AppointmentsDao.java:61)\r\n\tat com.example.customerdatabaseprojectii/com.example.customerdatabaseprojectii.view.AppointmentFormController.addAppointmentClicked(AppointmentFormController.java:241)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n```\r\nThe error gets thrown from this method:\r\n```java\r\nprivate static final String appointmentUpdateQuery = &quot;UPDATE appointments SET Appointment_ID = ?, Title = ?, Description = ?, &quot; +\r\n        &quot;Location = ?, Type = ?, Start = ?, End = ?, Last_Update = ?, Last_Updated_By = ?, &quot; +\r\n        &quot;Customer_ID = ?, User_ID = ?, Contact_ID = ? WHERE Appointment_ID = ?&quot;;\r\n\r\npublic static void updateAppointment(Appointments appointment) throws SQLException {\r\n    Connection apptConnection = DbConnection.getConnection();\r\n    DbConnection.makePreparedStatement(appointmentUpdateQuery, apptConnection);\r\n    PreparedStatement ps = DbConnection.getPreparedStatement();\r\n    if (ps != null) {\r\n        ps.setInt(1, appointment.getAppointmentID());\r\n        ps.setString(2, appointment.getTitle());\r\n        ps.setString(3, appointment.getDescription());\r\n        ps.setString(4, appointment.getLocation());\r\n        ps.setString(5, appointment.getType());\r\n        ps.setTimestamp(6, Timestamp.valueOf(appointment.getStartDateTime()));\r\n        ps.setTimestamp(7, Timestamp.valueOf(appointment.getEndDateTime()));\r\n        ps.setTimestamp(8, Timestamp.valueOf(LocalDateTime.now()));\r\n        ps.setString(9, UsersDao.getUserNameByID(appointment.getUsersID()));\r\n        ps.setInt(10, appointment.getCustomerID());\r\n        ps.setInt(11, appointment.getUsersID());\r\n        ps.setInt(12, appointment.getContactsID());\r\n        ps.setInt(13, appointment.getAppointmentID());\r\n        \r\n        if(ps.execute()) {\r\n            AppointmentFormController.isValidated = true;\r\n        }\r\n```\r\n\r\nHere is the calling method:\r\n\r\n   ```java\r\n   public void addAppointmentClicked(ActionEvent event) throws SQLException {\r\n     Appointments scheduleAppointment = new Appointments();\r\n     fieldValidator(scheduleAppointment);\r\n     DateTimeFormatter hourAndMinuteFormat = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n     try {\r\n       LocalDate localAppointmentDate = afDatePicker.getValue();\r\n       LocalTime localEndTime = RelatedTime.formattedTimeParser(hourAndMinuteFormat, afEndTimePicker.getValue());\r\n       LocalTime localStartTime = RelatedTime.formattedTimeParser(hourAndMinuteFormat, afStartTimePicker.getValue());\r\n       LocalDateTime localDateTimeStartAppointment = LocalDateTime.of(localAppointmentDate, localStartTime);\r\n       LocalDateTime localDateTimeEndAppointment = LocalDateTime.of(localAppointmentDate, localEndTime);\r\n       scheduleAppointment.setStartDateTime(localDateTimeStartAppointment);\r\n       scheduleAppointment.setEndDateTime(localDateTimeEndAppointment);\r\n     } catch (NullPointerException e) {\r\n       System.out.println(&quot;Date or time selection is null&quot;);\r\n     }\r\n     try {\r\n       if (!isModified &amp;&amp; fieldValidator() &amp;&amp; compareAppointmentToBusiness(scheduleAppointment)) {\r\n         insertAppointmentIntoMap(scheduleAppointment.getAppointmentID(), scheduleAppointment); //is validated set false if sql exception caught\r\n         AppointmentsDao.insertAppointmentIntoDB(scheduleAppointment); //WHERE ERROR IS OCCURRING\r\n         isModified = false;\r\n         if (isValidated) {\r\n           closeSceneWindow();\r\n         }\r\n       }\r\n     } catch (SQLException e) {\r\n       e.printStackTrace();\r\n       System.out.println(&quot;There was an error inserting the appointment into the database&quot;);\r\n     }\r\n     try {\r\n       if (isModified &amp;&amp; fieldValidator() &amp;&amp; compareAppointmentToBusiness(scheduleAppointment)) {\r\n         insertAppointmentIntoMap(scheduleAppointment.getAppointmentID(), scheduleAppointment);\r\n         AppointmentsDao.updateAppointment(scheduleAppointment);\r\n         isModified = false;\r\n         if (isValidated) {\r\n           closeSceneWindow();\r\n         }\r\n       }\r\n     } catch (SQLException e) {\r\n       e.printStackTrace();\r\n     }\r\n   }\r\n```\r\n\r\n[![Database Design](https://i.stack.imgur.com/HI7s1.png)](https://i.stack.imgur.com/HI7s1.png)\r\n**Contact Table**\r\n\r\n```none\r\njava.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`client_schedule`.`appointments`, CONSTRAINT `fk_contact_id` FOREIGN KEY (`Contact_ID`) REFERENCES `contacts` (`Contact_ID`) ON DELETE CASCADE ON UPDATE CASCADE)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n```\r\n\r\n[![Database table](https://i.stack.imgur.com/VHbXG.png)](https://i.stack.imgur.com/VHbXG.png)\r\n\r\nI have tried to do first check that all the entered text fields that pertain to foreign keys are found within the database before executing the query.\r\n\r\n```java\r\nif (UsersDao.getAllUsersObservableList().stream().\r\n        anyMatch(m -&gt; Objects.equals(m.getUser_ID(), appointment.getUsersID())) &amp;&amp;\r\n        CustomerMainController.getAllCustomers().stream().\r\n                anyMatch(m -&gt; Objects.equals(m.getCustomerID(), appointment.getCustomerID())) &amp;&amp;\r\n        ContactsDao.addContactToObservableList().stream().\r\n                anyMatch(m -&gt; Objects.equals(m.getContactID(), appointment.getContactsID()))) {\r\n    if (ps.execute()) {\r\n        System.out.println(&quot;Successfully inserted appointment into database&quot; +\r\n                &quot;\\nTime: &quot; + LocalTime.now());\r\n        AppointmentFormController.isValidated = true;\r\n    }\r\n} else {\r\n    AppointmentFormController.isValidated = false;\r\n}\r\n```\r\nBut when I did this I got this error:\r\n```none\r\njava.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;2&#39; for key &#39;appointments.PRIMARY&#39;\r\n```\r\nAfter I got this error I tried to remove ```SET Appointment_ID = ?``` from the query and also the prepared statement. I am pretty confused with whether its my query that is the issue or what is being checked that goes in it. \r\n\r\n\r\n","title":"Cannot add or update a child row: a foreign key constraint fails, but the foreign value is there?","body":"<p>I have scene a similar <a href=\"https://stackoverflow.com/questions/5005388/cannot-add-or-update-a-child-row-a-foreign-key-constraint-fails\">post</a> on this error, but my problem is that I get this error while the foreign key value is clearly in the <strong>Contact Table</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`client_schedule`.`appointments`, CONSTRAINT `fk_contact_id` FOREIGN KEY (`Contact_ID`) REFERENCES `contacts` (`Contact_ID`) ON DELETE CASCADE ON UPDATE CASCADE)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)\n    at com.example.customerdatabaseprojectii/com.example.customerdatabaseprojectii.daos.AppointmentsDao.updateAppointment(AppointmentsDao.java:61)\n    at com.example.customerdatabaseprojectii/com.example.customerdatabaseprojectii.view.AppointmentFormController.addAppointmentClicked(AppointmentFormController.java:241)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n<p>The error gets thrown from this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String appointmentUpdateQuery = &quot;UPDATE appointments SET Appointment_ID = ?, Title = ?, Description = ?, &quot; +\n        &quot;Location = ?, Type = ?, Start = ?, End = ?, Last_Update = ?, Last_Updated_By = ?, &quot; +\n        &quot;Customer_ID = ?, User_ID = ?, Contact_ID = ? WHERE Appointment_ID = ?&quot;;\n\npublic static void updateAppointment(Appointments appointment) throws SQLException {\n    Connection apptConnection = DbConnection.getConnection();\n    DbConnection.makePreparedStatement(appointmentUpdateQuery, apptConnection);\n    PreparedStatement ps = DbConnection.getPreparedStatement();\n    if (ps != null) {\n        ps.setInt(1, appointment.getAppointmentID());\n        ps.setString(2, appointment.getTitle());\n        ps.setString(3, appointment.getDescription());\n        ps.setString(4, appointment.getLocation());\n        ps.setString(5, appointment.getType());\n        ps.setTimestamp(6, Timestamp.valueOf(appointment.getStartDateTime()));\n        ps.setTimestamp(7, Timestamp.valueOf(appointment.getEndDateTime()));\n        ps.setTimestamp(8, Timestamp.valueOf(LocalDateTime.now()));\n        ps.setString(9, UsersDao.getUserNameByID(appointment.getUsersID()));\n        ps.setInt(10, appointment.getCustomerID());\n        ps.setInt(11, appointment.getUsersID());\n        ps.setInt(12, appointment.getContactsID());\n        ps.setInt(13, appointment.getAppointmentID());\n        \n        if(ps.execute()) {\n            AppointmentFormController.isValidated = true;\n        }\n</code></pre>\n<p>Here is the calling method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addAppointmentClicked(ActionEvent event) throws SQLException {\n  Appointments scheduleAppointment = new Appointments();\n  fieldValidator(scheduleAppointment);\n  DateTimeFormatter hourAndMinuteFormat = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\n  try {\n    LocalDate localAppointmentDate = afDatePicker.getValue();\n    LocalTime localEndTime = RelatedTime.formattedTimeParser(hourAndMinuteFormat, afEndTimePicker.getValue());\n    LocalTime localStartTime = RelatedTime.formattedTimeParser(hourAndMinuteFormat, afStartTimePicker.getValue());\n    LocalDateTime localDateTimeStartAppointment = LocalDateTime.of(localAppointmentDate, localStartTime);\n    LocalDateTime localDateTimeEndAppointment = LocalDateTime.of(localAppointmentDate, localEndTime);\n    scheduleAppointment.setStartDateTime(localDateTimeStartAppointment);\n    scheduleAppointment.setEndDateTime(localDateTimeEndAppointment);\n  } catch (NullPointerException e) {\n    System.out.println(&quot;Date or time selection is null&quot;);\n  }\n  try {\n    if (!isModified &amp;&amp; fieldValidator() &amp;&amp; compareAppointmentToBusiness(scheduleAppointment)) {\n      insertAppointmentIntoMap(scheduleAppointment.getAppointmentID(), scheduleAppointment); //is validated set false if sql exception caught\n      AppointmentsDao.insertAppointmentIntoDB(scheduleAppointment); //WHERE ERROR IS OCCURRING\n      isModified = false;\n      if (isValidated) {\n        closeSceneWindow();\n      }\n    }\n  } catch (SQLException e) {\n    e.printStackTrace();\n    System.out.println(&quot;There was an error inserting the appointment into the database&quot;);\n  }\n  try {\n    if (isModified &amp;&amp; fieldValidator() &amp;&amp; compareAppointmentToBusiness(scheduleAppointment)) {\n      insertAppointmentIntoMap(scheduleAppointment.getAppointmentID(), scheduleAppointment);\n      AppointmentsDao.updateAppointment(scheduleAppointment);\n      isModified = false;\n      if (isValidated) {\n        closeSceneWindow();\n      }\n    }\n  } catch (SQLException e) {\n    e.printStackTrace();\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HI7s1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HI7s1.png\" alt=\"Database Design\" /></a>\n<strong>Contact Table</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`client_schedule`.`appointments`, CONSTRAINT `fk_contact_id` FOREIGN KEY (`Contact_ID`) REFERENCES `contacts` (`Contact_ID`) ON DELETE CASCADE ON UPDATE CASCADE)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VHbXG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VHbXG.png\" alt=\"Database table\" /></a></p>\n<p>I have tried to do first check that all the entered text fields that pertain to foreign keys are found within the database before executing the query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (UsersDao.getAllUsersObservableList().stream().\n        anyMatch(m -&gt; Objects.equals(m.getUser_ID(), appointment.getUsersID())) &amp;&amp;\n        CustomerMainController.getAllCustomers().stream().\n                anyMatch(m -&gt; Objects.equals(m.getCustomerID(), appointment.getCustomerID())) &amp;&amp;\n        ContactsDao.addContactToObservableList().stream().\n                anyMatch(m -&gt; Objects.equals(m.getContactID(), appointment.getContactsID()))) {\n    if (ps.execute()) {\n        System.out.println(&quot;Successfully inserted appointment into database&quot; +\n                &quot;\\nTime: &quot; + LocalTime.now());\n        AppointmentFormController.isValidated = true;\n    }\n} else {\n    AppointmentFormController.isValidated = false;\n}\n</code></pre>\n<p>But when I did this I got this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '2' for key 'appointments.PRIMARY'\n</code></pre>\n<p>After I got this error I tried to remove <code>SET Appointment_ID = ?</code> from the query and also the prepared statement. I am pretty confused with whether its my query that is the issue or what is being checked that goes in it.</p>\n"},{"tags":["java","stringbuilder","capacity"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":6,"creation_date":1668418218,"post_id":74429419,"comment_id":131391747,"body_markdown":"*The root of all evil is premature optimization*. I suggest not to worry about it unless you actually encounter performance problems.","body":"<i>The root of all evil is premature optimization</i>. I suggest not to worry about it unless you actually encounter performance problems."},{"owner":{"account_id":8348703,"reputation":722,"user_id":7100079,"display_name":"Jorge Guerreiro"},"score":0,"creation_date":1668418310,"post_id":74429419,"comment_id":131391778,"body_markdown":"I guess that is a valid point yes. But, is there a way of alarming on it? So rather than premature optimization, going for a more defensive approach","body":"I guess that is a valid point yes. But, is there a way of alarming on it? So rather than premature optimization, going for a more defensive approach"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1668418510,"post_id":74429419,"comment_id":131391840,"body_markdown":"No, there is not. Defensive approach is still premature optimization. Always go for clean, minimalist code, and then consider performance as needed.","body":"No, there is not. Defensive approach is still premature optimization. Always go for clean, minimalist code, and then consider performance as needed."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668418515,"post_id":74429419,"comment_id":131391843,"body_markdown":"I would say that the only sure way is *over* allocation, but would certainly second the thing about premature optimization. I say *sure* but of course, you might end up *de*-optimizing by allocating more memory. The only thing that you&#39;d save is the processing involved in resizing internal buffers","body":"I would say that the only sure way is <i>over</i> allocation, but would certainly second the thing about premature optimization. I say <i>sure</i> but of course, you might end up <i>de</i>-optimizing by allocating more memory. The only thing that you&#39;d save is the processing involved in resizing internal buffers"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1668418567,"post_id":74429419,"comment_id":131391861,"body_markdown":"Define _an expensive operation_. Adding N characters to a StringBuilder has a time complexity of O(N). If the StringBuilder has not enough space it will allocate the necessary memory also in O(N). So the overall time complexity is still O(N), only a by constant factor slower.","body":"Define <i>an expensive operation</i>. Adding N characters to a StringBuilder has a time complexity of O(N). If the StringBuilder has not enough space it will allocate the necessary memory also in O(N). So the overall time complexity is still O(N), only a by constant factor slower."},{"owner":{"account_id":8348703,"reputation":722,"user_id":7100079,"display_name":"Jorge Guerreiro"},"score":0,"creation_date":1668418846,"post_id":74429419,"comment_id":131391948,"body_markdown":"@RealSkeptic, I understand your point, but I don&#39;t see how alarming/logging is premature optimization, I love clean and minimalist code, but I also like to protect myself when I feel the need for it","body":"@RealSkeptic, I understand your point, but I don&#39;t see how alarming/logging is premature optimization, I love clean and minimalist code, but I also like to protect myself when I feel the need for it"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1668429819,"post_id":74429419,"comment_id":131395396,"body_markdown":"It is better to measure instead of &quot;feel the need for it&quot;.","body":"It is better to measure instead of &quot;feel the need for it&quot;."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1668419582,"creation_date":1668419582,"answer_id":74429728,"question_id":74429419,"body_markdown":"&gt; I&#39;m aware that, for good practice, StringBuilder should be initialised with a capacity value of the expected content. Otherwise, increasing the size after compilation is going to be an expensive operation.\r\n\r\nThis is a wildly incorrect statement. It is very bad practice to do this. Even if you know exactly how large it&#39;ll be.\r\n\r\nIf I see this code:\r\n\r\n```\r\nStringBuilder sb = new StringBuilder(in1.length() + in2.length() * 3 + loaded ? suffixLen : 0);\r\n```\r\n\r\nThen this is an additional thing to worry about, test, and keep up to date. I would assume if all this is present that for whatever reason somebody did some performance testing and actually figured out that this saves a worthwhile chunk of cycles, and somehow, in a fit of idiocy, neglected to write an enlightening comment and link to the JMH or profiler result analysis to verify this conclusion.\r\n\r\nSo, I&#39;d either painstakingly attempt to manually analyse _precisely_ if the calculation is still correct after an update to this code, or, I&#39;d fix the problem and add the tests (and then be utterly befuddled, when, of course, the profile review shows this code is utterly inconsequential), or, I&#39;d go through the considerable trouble of writing an assert based test case that will run the entire operation and then verify at the end that the size calculation done at the top is, in fact, correct.\r\n\r\nI don&#39;t think you fully grasp why the hyperbolic _premature optimization is the root of all evil_ statement is so popular.\r\n\r\nHere&#39;s the problem. 99% of the system&#39;s resources are spent on 1% of the code. That&#39;s not an exaggeration; in fact, that is likely understating the issue.\r\n\r\nDeveloper time is not infinite, and even if it was, the programmer&#39;s ability to comprehend code and focus on the relevant parts, is limited because, in the end, they are humans. Spending additional code that needs to be parsed and understood by human eyeballs and brains is therefore __bad__ if the code does something __irrelevant__. We&#39;re literally talking about the same order of magnitude as you throwing a glass of water into the ocean down by the seashore in europe and then watching the water levels rise in manhattan. Beyond any and all ability to measure, and __utterly__ incomprehensive. Bold does not do sufficient justice to how little it matters. Even if this code runs 100 million times a day for 15 years, it amounts to perhaps 5 cents in IAAS deployment costs total over that entire decade and a half, and that&#39;s _if_ there is even a performance impact, which often there isn&#39;t because modern VMs, GCs, OSes, and CPU architectures get up to some crazy shenanigans.\r\n\r\nFurthermore, the system optimizes. Optimizers, such as JVM hotspot engines, are in the end pattern matching machines. They find commonly used patterns and recognize how to run them as efficient as possible. By writing code in ways that nobody else does, it is _highly_ unlikely that code is going to _actually_ outperform the common (idiomatic) case. Most likely because it just doesn&#39;t matter, and even if it does, because the idiomatic case gets optimized much more readily.\r\n\r\nHere is a trivial example:\r\n\r\n```\r\nList&lt;String&gt; someList = new ArrayList&lt;String&gt;();\r\nfor (int i = 0; i &lt; 10000; i++) someList.add(someRandomString);\r\nString[] arrayForm = someList.toArray(new String[0]);\r\n```\r\n\r\nHere you may go: Huh, well, we can optimize this code a little bit and pass `new String[10000]` instead; this saves the system from having to allocate an admittedly small object (a 0-size string array).\r\n\r\n__You would be wrong__. The above code, with the `new String[0]`, is in fact _faster_. How can that be? Optimizers, with pattern matching. They recognize the pattern and realize that the system can create a new array of the requisite size, __not zero it out__, and then run the code that fills it. Whereas the optimization patterns do not include the `new String[reqSize]` variant where the system could in theory also realize it can allocate the array and then omit zeroing out the array (which the JVM spec guarantees, which merely means the spec guarantees you can never observe that it wasn&#39;t zeroed out; it doesn&#39;t _actually_ mean the JVM _must_ zero it out, that&#39;s where the pattern optimization of not doing so is coming from). However, it doesn&#39;t do that - not common enough, and somewhat more complicated.\r\n\r\nI&#39;m not saying that `new StringBuilder()` is neccessarilyt faster than `new StringBuilder(knownSize)`. I&#39;m saying it:\r\n\r\n* 99.9% of the time literally does not make one iota of difference. Not a single nanosecond - the speedup is _entirely_ theoretical: No performance test of any stripe can detect the difference. If a tree falls in the forest, and all that.\r\n* You have no idea when that 0.1% of the time even is, or if it&#39;s not actually straight up _never_ - 0%. Between a CPU that caches and pipelines (did you know modern CPUs cannot access memory? At all? I bet you didn&#39;t. The basic von neumann model of how CPUs work? Totally misleads you if you try to performance analyse machine code if you do that) - VMs, garbage collectors (did you know that garbage is free but live objects are expensive? Re-using an object is in fact _more_ expensive that creating a ton of fast garbage.. depending on many factors, _of course_ this too is an oversimplification. That&#39;s the real point: This is an intractable thing; you cannot just look at code and jump to conclusions about performance) - you stand no chance to know what&#39;s &#39;faster&#39;.\r\n\r\nThe only right move is to write code as simple and as clean as you can (&#39;clean&#39; defined as: When you look at it, you jump to conclusions, and these conclusions are correct. It is easy to adjust in the face of changing requirements, and flexible in how it connects to the rest of the codebase). _IF_ (big if!) real life situations result in a performance issue, you first run a profiler so you know the 1% of the code that is in any way relevant, and then you go ham on that, with JMH benchmarks and all sorts of performance experiments to optimize the heck out of it. If your code is clean, that&#39;s great, because almost always this requires adjusting how the code that calls into the &#39;hot path&#39; or where the code flows to out of the &#39;hot path&#39; - and the cleaner your code the easier that will be.\r\n\r\nNeedless performance optimization almost invariably reduces flexibility, and makes code harder to understand.\r\n\r\nHence, objectively, __micro-optimizing like this just makes your code slower and buggier__ for literally no benefit. Not even a tiny, almost immeasurable one.\r\n\r\nHence, the advice is silly. The only correct call is `new StringBuilder()` - no pre-configured size. The one and only excuse you have to write `new StringBuilder(presetCapacity)` is if there&#39;s a lengthy comment that immediately precedes it that lays out in a lot of detail, or links to a ticket, the exact performance study done to indicate this indeed fixes a real performance issue and how to recreate that study, and on what schedule it should be revisited.\r\n","title":"Define StringBuilder capacity when number of characters is unknown","body":"<blockquote>\n<p>I'm aware that, for good practice, StringBuilder should be initialised with a capacity value of the expected content. Otherwise, increasing the size after compilation is going to be an expensive operation.</p>\n</blockquote>\n<p>This is a wildly incorrect statement. It is very bad practice to do this. Even if you know exactly how large it'll be.</p>\n<p>If I see this code:</p>\n<pre><code>StringBuilder sb = new StringBuilder(in1.length() + in2.length() * 3 + loaded ? suffixLen : 0);\n</code></pre>\n<p>Then this is an additional thing to worry about, test, and keep up to date. I would assume if all this is present that for whatever reason somebody did some performance testing and actually figured out that this saves a worthwhile chunk of cycles, and somehow, in a fit of idiocy, neglected to write an enlightening comment and link to the JMH or profiler result analysis to verify this conclusion.</p>\n<p>So, I'd either painstakingly attempt to manually analyse <em>precisely</em> if the calculation is still correct after an update to this code, or, I'd fix the problem and add the tests (and then be utterly befuddled, when, of course, the profile review shows this code is utterly inconsequential), or, I'd go through the considerable trouble of writing an assert based test case that will run the entire operation and then verify at the end that the size calculation done at the top is, in fact, correct.</p>\n<p>I don't think you fully grasp why the hyperbolic <em>premature optimization is the root of all evil</em> statement is so popular.</p>\n<p>Here's the problem. 99% of the system's resources are spent on 1% of the code. That's not an exaggeration; in fact, that is likely understating the issue.</p>\n<p>Developer time is not infinite, and even if it was, the programmer's ability to comprehend code and focus on the relevant parts, is limited because, in the end, they are humans. Spending additional code that needs to be parsed and understood by human eyeballs and brains is therefore <strong>bad</strong> if the code does something <strong>irrelevant</strong>. We're literally talking about the same order of magnitude as you throwing a glass of water into the ocean down by the seashore in europe and then watching the water levels rise in manhattan. Beyond any and all ability to measure, and <strong>utterly</strong> incomprehensive. Bold does not do sufficient justice to how little it matters. Even if this code runs 100 million times a day for 15 years, it amounts to perhaps 5 cents in IAAS deployment costs total over that entire decade and a half, and that's <em>if</em> there is even a performance impact, which often there isn't because modern VMs, GCs, OSes, and CPU architectures get up to some crazy shenanigans.</p>\n<p>Furthermore, the system optimizes. Optimizers, such as JVM hotspot engines, are in the end pattern matching machines. They find commonly used patterns and recognize how to run them as efficient as possible. By writing code in ways that nobody else does, it is <em>highly</em> unlikely that code is going to <em>actually</em> outperform the common (idiomatic) case. Most likely because it just doesn't matter, and even if it does, because the idiomatic case gets optimized much more readily.</p>\n<p>Here is a trivial example:</p>\n<pre><code>List&lt;String&gt; someList = new ArrayList&lt;String&gt;();\nfor (int i = 0; i &lt; 10000; i++) someList.add(someRandomString);\nString[] arrayForm = someList.toArray(new String[0]);\n</code></pre>\n<p>Here you may go: Huh, well, we can optimize this code a little bit and pass <code>new String[10000]</code> instead; this saves the system from having to allocate an admittedly small object (a 0-size string array).</p>\n<p><strong>You would be wrong</strong>. The above code, with the <code>new String[0]</code>, is in fact <em>faster</em>. How can that be? Optimizers, with pattern matching. They recognize the pattern and realize that the system can create a new array of the requisite size, <strong>not zero it out</strong>, and then run the code that fills it. Whereas the optimization patterns do not include the <code>new String[reqSize]</code> variant where the system could in theory also realize it can allocate the array and then omit zeroing out the array (which the JVM spec guarantees, which merely means the spec guarantees you can never observe that it wasn't zeroed out; it doesn't <em>actually</em> mean the JVM <em>must</em> zero it out, that's where the pattern optimization of not doing so is coming from). However, it doesn't do that - not common enough, and somewhat more complicated.</p>\n<p>I'm not saying that <code>new StringBuilder()</code> is neccessarilyt faster than <code>new StringBuilder(knownSize)</code>. I'm saying it:</p>\n<ul>\n<li>99.9% of the time literally does not make one iota of difference. Not a single nanosecond - the speedup is <em>entirely</em> theoretical: No performance test of any stripe can detect the difference. If a tree falls in the forest, and all that.</li>\n<li>You have no idea when that 0.1% of the time even is, or if it's not actually straight up <em>never</em> - 0%. Between a CPU that caches and pipelines (did you know modern CPUs cannot access memory? At all? I bet you didn't. The basic von neumann model of how CPUs work? Totally misleads you if you try to performance analyse machine code if you do that) - VMs, garbage collectors (did you know that garbage is free but live objects are expensive? Re-using an object is in fact <em>more</em> expensive that creating a ton of fast garbage.. depending on many factors, <em>of course</em> this too is an oversimplification. That's the real point: This is an intractable thing; you cannot just look at code and jump to conclusions about performance) - you stand no chance to know what's 'faster'.</li>\n</ul>\n<p>The only right move is to write code as simple and as clean as you can ('clean' defined as: When you look at it, you jump to conclusions, and these conclusions are correct. It is easy to adjust in the face of changing requirements, and flexible in how it connects to the rest of the codebase). <em>IF</em> (big if!) real life situations result in a performance issue, you first run a profiler so you know the 1% of the code that is in any way relevant, and then you go ham on that, with JMH benchmarks and all sorts of performance experiments to optimize the heck out of it. If your code is clean, that's great, because almost always this requires adjusting how the code that calls into the 'hot path' or where the code flows to out of the 'hot path' - and the cleaner your code the easier that will be.</p>\n<p>Needless performance optimization almost invariably reduces flexibility, and makes code harder to understand.</p>\n<p>Hence, objectively, <strong>micro-optimizing like this just makes your code slower and buggier</strong> for literally no benefit. Not even a tiny, almost immeasurable one.</p>\n<p>Hence, the advice is silly. The only correct call is <code>new StringBuilder()</code> - no pre-configured size. The one and only excuse you have to write <code>new StringBuilder(presetCapacity)</code> is if there's a lengthy comment that immediately precedes it that lays out in a lot of detail, or links to a ticket, the exact performance study done to indicate this indeed fixes a real performance issue and how to recreate that study, and on what schedule it should be revisited.</p>\n"}],"owner":{"account_id":8348703,"reputation":722,"user_id":7100079,"display_name":"Jorge Guerreiro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74429728,"answer_count":1,"score":0,"last_activity_date":1668424570,"creation_date":1668417984,"question_id":74429419,"body_markdown":"I&#39;m aware that, for good practice, `StringBuilder` should be initialised with a capacity value of the expected content. Otherwise, increasing the size after compilation is going to be an expensive operation.\r\n\r\nMy question is, if we don&#39;t know the expected size, how should one go about it? Is there a standard value/way to avoid expensive operations under the hood?\r\n\r\nIf not, is there potentially a way of alarming/logging in the code if the capacity is bigger than the value given upon initialisation?\r\n\r\n","title":"Define StringBuilder capacity when number of characters is unknown","body":"<p>I'm aware that, for good practice, <code>StringBuilder</code> should be initialised with a capacity value of the expected content. Otherwise, increasing the size after compilation is going to be an expensive operation.</p>\n<p>My question is, if we don't know the expected size, how should one go about it? Is there a standard value/way to avoid expensive operations under the hood?</p>\n<p>If not, is there potentially a way of alarming/logging in the code if the capacity is bigger than the value given upon initialisation?</p>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":21890825,"reputation":55,"user_id":16177819,"display_name":"TF Ryzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668371815,"creation_date":1668371815,"answer_id":74424572,"question_id":74423867,"body_markdown":"I found this method that does the trick without a custom layout.\r\nfetch function(found in MyDatabaseHelper.java):\r\n```\r\npublic Cursor getListContents(){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor data = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\r\n        return data;\r\n    }\r\n```\r\nHistoryFragment.java\r\n\r\n```\r\nListView lw = view.findViewById(R.id.list_View);\r\nArrayList&lt;String&gt; theList = new ArrayList&lt;&gt;();\r\n            Cursor data = myDB.getListContents();\r\n \r\n                while(data.moveToNext()){\r\n                    theList.add(&quot;ID: &quot; + data.getString(0) +&quot;\\nWeight: &quot; + data.getString(1) + &quot;\\t\\tHeight: &quot; + data.getString(2) + &quot;\\t\\tAge: &quot; + data.getString(3)\r\n                            + &quot;\\nGender: &quot; + data.getString(4) + &quot;\\t\\tBMI: &quot; + data.getString(5));\r\n                    ListAdapter listAdapter = new ArrayAdapter&lt;&gt;(getActivity(),android.R.layout.simple_list_item_1,theList);\r\n                    lw.setAdapter(listAdapter);\r\n                }\r\n```\r\n  ","title":"How to fetch data to listview?","body":"<p>I found this method that does the trick without a custom layout.\nfetch function(found in MyDatabaseHelper.java):</p>\n<pre><code>public Cursor getListContents(){\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor data = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\n        return data;\n    }\n</code></pre>\n<p>HistoryFragment.java</p>\n<pre><code>ListView lw = view.findViewById(R.id.list_View);\nArrayList&lt;String&gt; theList = new ArrayList&lt;&gt;();\n            Cursor data = myDB.getListContents();\n \n                while(data.moveToNext()){\n                    theList.add(&quot;ID: &quot; + data.getString(0) +&quot;\\nWeight: &quot; + data.getString(1) + &quot;\\t\\tHeight: &quot; + data.getString(2) + &quot;\\t\\tAge: &quot; + data.getString(3)\n                            + &quot;\\nGender: &quot; + data.getString(4) + &quot;\\t\\tBMI: &quot; + data.getString(5));\n                    ListAdapter listAdapter = new ArrayAdapter&lt;&gt;(getActivity(),android.R.layout.simple_list_item_1,theList);\n                    lw.setAdapter(listAdapter);\n                }\n</code></pre>\n"}],"owner":{"account_id":21890825,"reputation":55,"user_id":16177819,"display_name":"TF Ryzen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74424572,"answer_count":1,"score":-1,"last_activity_date":1668424199,"creation_date":1668365924,"question_id":74423867,"body_markdown":"fragment_history.xml (consisting of one listview):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.HistoryFragment&quot;&gt;\r\n    &lt;ListView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/list_View&quot;\r\n        /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI&#39;m trying to fetch data from database into list view.\r\n\r\nHistoryFragment.java :\r\n\r\n```\r\npublic class HistoryFragment extends Fragment {\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_history, container, false);\r\n\r\n        ListView lw = view.findViewById(R.id.list_View);\r\n        MyDatabaseHelper myDB = new MyDatabaseHelper(getActivity());\r\n        List&lt;ContactModel&gt; data = myDB.fetchData();\r\n        ArrayAdapter&lt;ContactModel&gt; adapter = new ArrayAdapter&lt;&gt;(getActivity(), android.R.layout.simple_list_item_1, data);\r\n        lw.setAdapter(adapter);\r\n\r\n        return view;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFetch function in MyDatabaseHelper.java ([full code][1]) :\r\n\r\n```\r\npublic List&lt;ContactModel&gt; fetchData(){\r\n    SQLiteDatabase db = this.getWritableDatabase();\r\n    Cursor cursor = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\r\n    List&lt;ContactModel&gt; data = new ArrayList&lt;ContactModel&gt;();\r\n    if(cursor.moveToFirst()){\r\n        do {\r\n            data.add(new ContactModel(cursor.getString(0), cursor.getString(1), cursor.getString(2), cursor.getString(3), cursor.getString(4),cursor.getString(5)));\r\n        }while(cursor.moveToNext());\r\n    }\r\n    cursor.close();\r\n    return data;\r\n}\r\n```\r\n\r\nContactModel.java :\r\n\r\n```\r\npublic class ContactModel {\r\n    private String id;\r\n    private String weight;\r\n    private String height;\r\n    private String age;\r\n    private String gender;\r\n    private String bmi;\r\n\r\n    public ContactModel(String id, String weight, String height, String age, String gender,String bmi) {\r\n        this.id = id;\r\n        this.weight = weight;\r\n        this.height = height;\r\n        this.age = age;\r\n        this.gender = gender;\r\n        this.bmi = bmi;\r\n    }\r\n\r\n    public String getID() {\r\n        return this.id;\r\n    }\r\n\r\n    public String getWeight() {\r\n        return this.weight;\r\n    }\r\n\r\n    public String getHeight() {\r\n        return this.height;\r\n    }\r\n\r\n    public String getAge() {\r\n        return this.age;\r\n    }\r\n\r\n    public String getGender() {\r\n        return this.gender;\r\n    }\r\n    public String getBmi() {\r\n        return this.bmi;\r\n    }\r\n}\r\n```\r\n\r\n[Output](https://i.stack.imgur.com/hnfbQ.png). When I print cursor to logcat it showed same text.\r\n\r\n\r\n  [1]: https://pastebin.com/SRdLeUT2","title":"How to fetch data to listview?","body":"<p>fragment_history.xml (consisting of one listview):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.HistoryFragment&quot;&gt;\n    &lt;ListView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/list_View&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I'm trying to fetch data from database into list view.</p>\n<p>HistoryFragment.java :</p>\n<pre><code>public class HistoryFragment extends Fragment {\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_history, container, false);\n\n        ListView lw = view.findViewById(R.id.list_View);\n        MyDatabaseHelper myDB = new MyDatabaseHelper(getActivity());\n        List&lt;ContactModel&gt; data = myDB.fetchData();\n        ArrayAdapter&lt;ContactModel&gt; adapter = new ArrayAdapter&lt;&gt;(getActivity(), android.R.layout.simple_list_item_1, data);\n        lw.setAdapter(adapter);\n\n        return view;\n    }\n\n}\n</code></pre>\n<p>Fetch function in MyDatabaseHelper.java (<a href=\"https://pastebin.com/SRdLeUT2\" rel=\"nofollow noreferrer\">full code</a>) :</p>\n<pre><code>public List&lt;ContactModel&gt; fetchData(){\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor cursor = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null);\n    List&lt;ContactModel&gt; data = new ArrayList&lt;ContactModel&gt;();\n    if(cursor.moveToFirst()){\n        do {\n            data.add(new ContactModel(cursor.getString(0), cursor.getString(1), cursor.getString(2), cursor.getString(3), cursor.getString(4),cursor.getString(5)));\n        }while(cursor.moveToNext());\n    }\n    cursor.close();\n    return data;\n}\n</code></pre>\n<p>ContactModel.java :</p>\n<pre><code>public class ContactModel {\n    private String id;\n    private String weight;\n    private String height;\n    private String age;\n    private String gender;\n    private String bmi;\n\n    public ContactModel(String id, String weight, String height, String age, String gender,String bmi) {\n        this.id = id;\n        this.weight = weight;\n        this.height = height;\n        this.age = age;\n        this.gender = gender;\n        this.bmi = bmi;\n    }\n\n    public String getID() {\n        return this.id;\n    }\n\n    public String getWeight() {\n        return this.weight;\n    }\n\n    public String getHeight() {\n        return this.height;\n    }\n\n    public String getAge() {\n        return this.age;\n    }\n\n    public String getGender() {\n        return this.gender;\n    }\n    public String getBmi() {\n        return this.bmi;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hnfbQ.png\" rel=\"nofollow noreferrer\">Output</a>. When I print cursor to logcat it showed same text.</p>\n"},{"tags":["java","spring-boot","newrelic","spring-logback","newrelic-platform"],"answers":[{"tags":[],"owner":{"account_id":8426753,"reputation":511,"user_id":6323724,"display_name":"pramesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668424036,"creation_date":1668424036,"answer_id":74430681,"question_id":74427578,"body_markdown":"New Relic has provided a flag to forward Diagnostic Context to the new relic agent, we can enable this flag in the newrelic.yml file as follows\r\n\r\n```\r\ncommon: &amp;default_settings\r\n    # forwad Diagnostic Context to new relic agent\r\n    forwarding:\r\n        context_data:\r\n            enabled: true\r\n\r\n```\r\n\r\n","title":"How to log MDC context values in New Relic","body":"<p>New Relic has provided a flag to forward Diagnostic Context to the new relic agent, we can enable this flag in the newrelic.yml file as follows</p>\n<pre><code>common: &amp;default_settings\n    # forwad Diagnostic Context to new relic agent\n    forwarding:\n        context_data:\n            enabled: true\n\n</code></pre>\n"}],"owner":{"account_id":8426753,"reputation":511,"user_id":6323724,"display_name":"pramesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74430681,"answer_count":1,"score":0,"last_activity_date":1668424036,"creation_date":1668406460,"question_id":74427578,"body_markdown":"I am using logback to print the log in my spring boot project. I can see the log printing in the new relic, but it does not print the values from the MDC context.\r\n\r\nfor example:\r\nI have stored `x-request-id` in the MDC.context and am using the following config file to print the log. I can see the `x-request-id` printing in the `Console` and in the log file in the `logs/logback-app.log` location, but I do not see the `x-request-id` printing in NewRelic.\r\n\r\nI am taking reference from this https://docs.newrelic.com/docs/logs/logs-context/java-configure-logs-context-all/#java-logback documentation.\r\nAn example from: https://github.com/newrelic/java-log-extensions/blob/main/examples/logback-app/src/main/resources/logback.xml\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;logs/logback-app.log&lt;/file&gt;\r\n        &lt;append&gt;false&lt;/append&gt;\r\n        &lt;!-- encoders are assigned the type\r\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n        &lt;encoder class=&quot;com.newrelic.logging.logback.NewRelicEncoder&quot;&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ASYNC&quot; class=&quot;com.newrelic.logging.logback.NewRelicAsyncAppender&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;pattern&gt;%X{request-id} %d %-5level [%thread] %logger{0}: %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;TRACE&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ASYNC&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n","title":"How to log MDC context values in New Relic","body":"<p>I am using logback to print the log in my spring boot project. I can see the log printing in the new relic, but it does not print the values from the MDC context.</p>\n<p>for example:\nI have stored <code>x-request-id</code> in the MDC.context and am using the following config file to print the log. I can see the <code>x-request-id</code> printing in the <code>Console</code> and in the log file in the <code>logs/logback-app.log</code> location, but I do not see the <code>x-request-id</code> printing in NewRelic.</p>\n<p>I am taking reference from this <a href=\"https://docs.newrelic.com/docs/logs/logs-context/java-configure-logs-context-all/#java-logback\" rel=\"nofollow noreferrer\">https://docs.newrelic.com/docs/logs/logs-context/java-configure-logs-context-all/#java-logback</a> documentation.\nAn example from: <a href=\"https://github.com/newrelic/java-log-extensions/blob/main/examples/logback-app/src/main/resources/logback.xml\" rel=\"nofollow noreferrer\">https://github.com/newrelic/java-log-extensions/blob/main/examples/logback-app/src/main/resources/logback.xml</a></p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;logs/logback-app.log&lt;/file&gt;\n        &lt;append&gt;false&lt;/append&gt;\n        &lt;!-- encoders are assigned the type\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n        &lt;encoder class=&quot;com.newrelic.logging.logback.NewRelicEncoder&quot;&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ASYNC&quot; class=&quot;com.newrelic.logging.logback.NewRelicAsyncAppender&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/appender&gt;\n    \n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;pattern&gt;%X{request-id} %d %-5level [%thread] %logger{0}: %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;TRACE&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNC&quot; /&gt;\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","javascript","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1385921066,"creation_date":1385921066,"answer_id":20315404,"question_id":20315330,"body_markdown":"Try setting your web client not to throw exception:\r\n\r\n    client.getOptions().setThrowExceptionOnScriptError(false);","title":"How to overcome an HTMLUnit ScriptException?","body":"<p>Try setting your web client not to throw exception:</p>\n\n<pre><code>client.getOptions().setThrowExceptionOnScriptError(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":99289,"reputation":42852,"user_id":268273,"accept_rate":93,"display_name":"Mosty Mostacho"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1385922441,"creation_date":1385922441,"answer_id":20315631,"question_id":20315330,"body_markdown":"HtmlUnit does not play well with JavaScript. It will frequently throw errors complaining about variables or functions not defined.\r\n\r\nIn that sense, *real life* browsers (FireFox, Internet Explorer, Chrome, etc) are much more flexible. That means that they will allow syntactically incorrect pieces of HTML and JavaScript (eg: not defining functions or not ending HTML tags).\r\n\r\nHtmlUnit expects everything to be (almost) perfect. Although, it will fix some missing ending HTML tags, in general, it expects the code in the pages not to contain any kind of error. Furthermore, even if everything looks correct HtmlUnit might even complain.\r\n\r\nSome items for you to think about are:\r\n\r\n - The most important one is switching between different `BrowserVersions`. You can set them when creating the `WebClient` object. Internet Explorer (ironically) has proven to give me the best results when it comes to interpreting JavaScript\r\n - Make sure your HTML and JavaScript code are both correct\r\n - Avoid using of *complex* libraries (jQuery seems to be properly supported)\r\n - Try to use non-minimized versions of libraries\r\n - If you happen to be using jQuery (or other similar libraries) avoid complex jQuery methods (eg: dynamically adding events to elements)\r\n\r\n\r\nOf course, those comments would apply if you have control over the source code you&#39;re fetching from the server. Sometimes, this is not the case. In this situation your hands are even more tied.\r\n\r\nOne option, would be to suppress the exception with:\r\n\r\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\nAlthough, this will get you through the exception won&#39;t correct any JavaScript error. That means that if the JS piece of code that is throwing this exception happens to be crucial in your logic, I mean, you absolutely depend on the result of the execution of that code then you can not let HtmlUnit handle your JS. If this happens to be the result of an AJAX request then you can issue the request yourself manually instead of letting HtmlUnit do so.\r\n\r\nOn the other hand, if the JS code that is giving you trouble is not critical in your logic, I mean, it might just be hiding an element or changing a color that you don&#39;t care about, then suppressing the exception would be the way to go.\r\n\r\nThere aren&#39;t many options left.","title":"How to overcome an HTMLUnit ScriptException?","body":"<p>HtmlUnit does not play well with JavaScript. It will frequently throw errors complaining about variables or functions not defined.</p>\n\n<p>In that sense, <em>real life</em> browsers (FireFox, Internet Explorer, Chrome, etc) are much more flexible. That means that they will allow syntactically incorrect pieces of HTML and JavaScript (eg: not defining functions or not ending HTML tags).</p>\n\n<p>HtmlUnit expects everything to be (almost) perfect. Although, it will fix some missing ending HTML tags, in general, it expects the code in the pages not to contain any kind of error. Furthermore, even if everything looks correct HtmlUnit might even complain.</p>\n\n<p>Some items for you to think about are:</p>\n\n<ul>\n<li>The most important one is switching between different <code>BrowserVersions</code>. You can set them when creating the <code>WebClient</code> object. Internet Explorer (ironically) has proven to give me the best results when it comes to interpreting JavaScript</li>\n<li>Make sure your HTML and JavaScript code are both correct</li>\n<li>Avoid using of <em>complex</em> libraries (jQuery seems to be properly supported)</li>\n<li>Try to use non-minimized versions of libraries</li>\n<li>If you happen to be using jQuery (or other similar libraries) avoid complex jQuery methods (eg: dynamically adding events to elements)</li>\n</ul>\n\n<p>Of course, those comments would apply if you have control over the source code you're fetching from the server. Sometimes, this is not the case. In this situation your hands are even more tied.</p>\n\n<p>One option, would be to suppress the exception with:</p>\n\n<pre><code>webClient.getOptions().setThrowExceptionOnScriptError(false);\n</code></pre>\n\n<p>Although, this will get you through the exception won't correct any JavaScript error. That means that if the JS piece of code that is throwing this exception happens to be crucial in your logic, I mean, you absolutely depend on the result of the execution of that code then you can not let HtmlUnit handle your JS. If this happens to be the result of an AJAX request then you can issue the request yourself manually instead of letting HtmlUnit do so.</p>\n\n<p>On the other hand, if the JS code that is giving you trouble is not critical in your logic, I mean, it might just be hiding an element or changing a color that you don't care about, then suppressing the exception would be the way to go.</p>\n\n<p>There aren't many options left.</p>\n"},{"tags":[],"owner":{"account_id":5516070,"reputation":71,"user_id":4380807,"display_name":"Oxygenium"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571235961,"creation_date":1471197629,"answer_id":38945045,"question_id":20315330,"body_markdown":"I had this same problem when I get some website with method:\r\n\r\n    webClient.getPage(&quot;http://somepage.com&quot;);\r\n\r\nIf you don&#39;t need use JavaScript to working with websites you can write:\r\n\r\n    webClient.getOptions().setJavaScriptEnabled(false);\r\n\r\nIn my case it works well and script is performing immediately (when I used only `webClient.getOptions().setThrowExceptionOnScriptError(false)` then the script always tried perform bad JavaScript code and for about 10 seconds writing out exception messages in the console, so I don&#39;t recommend to use it).","title":"How to overcome an HTMLUnit ScriptException?","body":"<p>I had this same problem when I get some website with method:</p>\n\n<pre><code>webClient.getPage(\"http://somepage.com\");\n</code></pre>\n\n<p>If you don't need use JavaScript to working with websites you can write:</p>\n\n<pre><code>webClient.getOptions().setJavaScriptEnabled(false);\n</code></pre>\n\n<p>In my case it works well and script is performing immediately (when I used only <code>webClient.getOptions().setThrowExceptionOnScriptError(false)</code> then the script always tried perform bad JavaScript code and for about 10 seconds writing out exception messages in the console, so I don't recommend to use it).</p>\n"},{"tags":[],"owner":{"account_id":3213846,"reputation":81,"user_id":2713163,"display_name":"werner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668423919,"creation_date":1668423919,"answer_id":74430654,"question_id":20315330,"body_markdown":"Just to put additional salt into the wounds. HTMLUnit is pretty far behind when it comes to modern browser standards. Atm only a small subset of ES2015 is supported. The problem is that the underlying javascript engine (Rhino), has not moved forward fast enough.\r\nIf you want to stay in the java realm for testing I would recommend to have a serious look at Selenium Webdrivers and use chrome in headless mode as engine.\r\nThis is not a pure java solution anymore but uses the latest engine.\r\nUntil HTMLUnit switches to a different engine, and/or Rhino get its act together HTML Unit definitely is not recommendable for javascript unit testing.\r\n","title":"How to overcome an HTMLUnit ScriptException?","body":"<p>Just to put additional salt into the wounds. HTMLUnit is pretty far behind when it comes to modern browser standards. Atm only a small subset of ES2015 is supported. The problem is that the underlying javascript engine (Rhino), has not moved forward fast enough.\nIf you want to stay in the java realm for testing I would recommend to have a serious look at Selenium Webdrivers and use chrome in headless mode as engine.\nThis is not a pure java solution anymore but uses the latest engine.\nUntil HTMLUnit switches to a different engine, and/or Rhino get its act together HTML Unit definitely is not recommendable for javascript unit testing.</p>\n"}],"owner":{"account_id":3666738,"reputation":281,"user_id":3054975,"display_name":"user3054975"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30680,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"answer_count":4,"score":27,"last_activity_date":1668423919,"creation_date":1385920647,"question_id":20315330,"body_markdown":"I got a problem with a line of code that probably triggers some js function e couse an exception, how can i fix this?\r\n\r\n    box.setText(link.toString());\r\n    client.waitForBackgroundJavaScriptStartingBefore(10000);\r\n    box.dblClick(); //this line cause the exception\r\n\r\n    Exception in thread &quot;main&quot; ======= EXCEPTION START ========\r\n    EcmaError: lineNumber=[0] column=[0] lineSource=[function () {] name=[ReferenceError] sourceName=[onclick event for HtmlDivision[&lt;div class=&quot;_119 stat_elem focus_target mtm mbl _5bsm _6dh _51z6&quot; id=&quot;u_0_k&quot; data-location=&quot;maincolumn&quot; onclick=&quot;Bootloader.loadComponents(&amp;quot;ComposerXControllerBootload&amp;quot;, emptyFunction);&quot;&gt;] in https://www.facebook.com/?_fb_noscript=1] message=[ReferenceError: &quot;Bootloader&quot; is not defined.]\r\n    com.gargoylesoftware.htmlunit.ScriptException: ReferenceError: &quot;Bootloader&quot; is not defined.\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:684)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:602)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:507)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:616)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:591)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunctionIfPossible(HtmlPage.java:985)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeEventHandler(EventListenersContainer.java:210)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeBubblingListeners(EventListenersContainer.java:230)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:804)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:738)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement$1.run(HtmlElement.java:869)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:602)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:507)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.fireEvent(HtmlElement.java:874)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.doClickFireClickEvent(HtmlElement.java:1311)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.click(HtmlElement.java:1253)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.click(HtmlElement.java:1205)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.dblClick(HtmlElement.java:1351)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.dblClick(HtmlElement.java:1326)\r\n    \tat prototype.Profile.postLinkOnWall(Profile.java:225)\r\n    \tat html.Log.findNext(Log.java:150)\r\n    \tat prototype.Prtp.main(Prtp.java:49)\r\n    Caused by: net.sourceforge.htmlunit.corejs.javascript.EcmaError: ReferenceError: &quot;Bootloader&quot; is not defined.\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3603)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3587)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3657)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1749)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.name(ScriptRuntime.java:1690)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1622)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:798)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:105)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:405)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:309)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3031)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:103)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.EventHandler.call(EventHandler.java:81)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$4.doRun(JavaScriptEngine.java:609)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:669)\r\n    \t... 21 more\r\n    Enclosed exception: \r\n    net.sourceforge.htmlunit.corejs.javascript.EcmaError: ReferenceError: &quot;Bootloader&quot; is not defined.\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3603)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3587)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3657)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1749)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.name(ScriptRuntime.java:1690)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1622)\r\n    \tat script.onclick(onclick event for HtmlDivision[&lt;div class=&quot;_119 stat_elem focus_target mtm mbl _5bsm _6dh _51z6&quot; id=&quot;u_0_k&quot; data-location=&quot;maincolumn&quot; onclick=&quot;Bootloader.loadComponents(&amp;quot;ComposerXControllerBootload&amp;quot;, emptyFunction);&quot;&gt;] in https://www.facebook.com/?_fb_noscript=1)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:798)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:105)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:405)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:309)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3031)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:103)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.EventHandler.call(EventHandler.java:81)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$4.doRun(JavaScriptEngine.java:609)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:669)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:602)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:507)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:616)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:591)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunctionIfPossible(HtmlPage.java:985)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeEventHandler(EventListenersContainer.java:210)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeBubblingListeners(EventListenersContainer.java:230)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:804)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:738)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement$1.run(HtmlElement.java:869)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:602)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:507)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.fireEvent(HtmlElement.java:874)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.doClickFireClickEvent(HtmlElement.java:1311)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.click(HtmlElement.java:1253)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.click(HtmlElement.java:1205)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.dblClick(HtmlElement.java:1351)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlElement.dblClick(HtmlElement.java:1326)\r\n    \tat prototype.Profile.postLinkOnWall(Profile.java:225)\r\n    \tat html.Log.findNext(Log.java:150)\r\n    \tat prototype.Prtp.main(Prtp.java:49)\r\n    == CALLING JAVASCRIPT ==\r\n    function () {\r\n    \t[native code, arity=0]\r\n    }\r\n    \r\n    ======= EXCEPTION END ========\r\n\r\nThe box where I write, acts on a normal browser a reformatting function which is not performed using HtmlUnit so I tried to force it with a dbclick().","title":"How to overcome an HTMLUnit ScriptException?","body":"<p>I got a problem with a line of code that probably triggers some js function e couse an exception, how can i fix this?</p>\n\n<pre><code>box.setText(link.toString());\nclient.waitForBackgroundJavaScriptStartingBefore(10000);\nbox.dblClick(); //this line cause the exception\n\nException in thread \"main\" ======= EXCEPTION START ========\nEcmaError: lineNumber=[0] column=[0] lineSource=[function () {] name=[ReferenceError] sourceName=[onclick event for HtmlDivision[&lt;div class=\"_119 stat_elem focus_target mtm mbl _5bsm _6dh _51z6\" id=\"u_0_k\" data-location=\"maincolumn\" onclick=\"Bootloader.loadComponents(&amp;quot;ComposerXControllerBootload&amp;quot;, emptyFunction);\"&gt;] in https://www.facebook.com/?_fb_noscript=1] message=[ReferenceError: \"Bootloader\" is not defined.]\ncom.gargoylesoftware.htmlunit.ScriptException: ReferenceError: \"Bootloader\" is not defined.\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:684)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:602)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:507)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:616)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:591)\n    at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunctionIfPossible(HtmlPage.java:985)\n    at com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeEventHandler(EventListenersContainer.java:210)\n    at com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeBubblingListeners(EventListenersContainer.java:230)\n    at com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:804)\n    at com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:738)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement$1.run(HtmlElement.java:869)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:602)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:507)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.fireEvent(HtmlElement.java:874)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.doClickFireClickEvent(HtmlElement.java:1311)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.click(HtmlElement.java:1253)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.click(HtmlElement.java:1205)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.dblClick(HtmlElement.java:1351)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.dblClick(HtmlElement.java:1326)\n    at prototype.Profile.postLinkOnWall(Profile.java:225)\n    at html.Log.findNext(Log.java:150)\n    at prototype.Prtp.main(Prtp.java:49)\nCaused by: net.sourceforge.htmlunit.corejs.javascript.EcmaError: ReferenceError: \"Bootloader\" is not defined.\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3603)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3587)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3657)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1749)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.name(ScriptRuntime.java:1690)\n    at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1622)\n    at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:798)\n    at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:105)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:405)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:309)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3031)\n    at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:103)\n    at com.gargoylesoftware.htmlunit.javascript.host.EventHandler.call(EventHandler.java:81)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$4.doRun(JavaScriptEngine.java:609)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:669)\n    ... 21 more\nEnclosed exception: \nnet.sourceforge.htmlunit.corejs.javascript.EcmaError: ReferenceError: \"Bootloader\" is not defined.\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3603)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3587)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3657)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.nameOrFunction(ScriptRuntime.java:1749)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.name(ScriptRuntime.java:1690)\n    at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1622)\n    at script.onclick(onclick event for HtmlDivision[&lt;div class=\"_119 stat_elem focus_target mtm mbl _5bsm _6dh _51z6\" id=\"u_0_k\" data-location=\"maincolumn\" onclick=\"Bootloader.loadComponents(&amp;quot;ComposerXControllerBootload&amp;quot;, emptyFunction);\"&gt;] in https://www.facebook.com/?_fb_noscript=1)\n    at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:798)\n    at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:105)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:405)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:309)\n    at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3031)\n    at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:103)\n    at com.gargoylesoftware.htmlunit.javascript.host.EventHandler.call(EventHandler.java:81)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$4.doRun(JavaScriptEngine.java:609)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:669)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:602)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:507)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:616)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:591)\n    at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunctionIfPossible(HtmlPage.java:985)\n    at com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeEventHandler(EventListenersContainer.java:210)\n    at com.gargoylesoftware.htmlunit.javascript.host.EventListenersContainer.executeBubblingListeners(EventListenersContainer.java:230)\n    at com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:804)\n    at com.gargoylesoftware.htmlunit.javascript.host.Node.fireEvent(Node.java:738)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement$1.run(HtmlElement.java:869)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:602)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:507)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.fireEvent(HtmlElement.java:874)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.doClickFireClickEvent(HtmlElement.java:1311)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.click(HtmlElement.java:1253)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.click(HtmlElement.java:1205)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.dblClick(HtmlElement.java:1351)\n    at com.gargoylesoftware.htmlunit.html.HtmlElement.dblClick(HtmlElement.java:1326)\n    at prototype.Profile.postLinkOnWall(Profile.java:225)\n    at html.Log.findNext(Log.java:150)\n    at prototype.Prtp.main(Prtp.java:49)\n== CALLING JAVASCRIPT ==\nfunction () {\n    [native code, arity=0]\n}\n\n======= EXCEPTION END ========\n</code></pre>\n\n<p>The box where I write, acts on a normal browser a reformatting function which is not performed using HtmlUnit so I tried to force it with a dbclick().</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1257703069,"creation_date":1257701778,"answer_id":1697274,"question_id":1697250,"body_markdown":" - `System.arraycopy()` uses JNI (Java Native Interface) to copy\r\n   an array (or parts of it), so it is\r\n   blazingly fast, as you can confirm\r\n   [here][1];\r\n - `clone()` creates a **new** array with the same characteristics as the old array, i.e., same size, same type, and *same* contents. Refer to [here][2] for some examples of `clone` in action;\r\n - `manual copying` is, well, manual copying. There isn&#39;t much to say about this method, except that many people have found it to be the most [performant][3].\r\n - `arraynew = arrayold` **doesn&#39;t** copy the array; it just *points* `arraynew` to the memory address of `arrayold` or, in other words, you are simply assigning a **reference** to the old array.\r\n\r\n\r\n  [1]: http://www.javaspecialists.co.za/archive/Issue124.html\r\n  [2]: http://java.sun.com/docs/books/jls/second_edition/html/arrays.doc.html\r\n  [3]: http://www.javapractices.com/topic/TopicAction.do?Id=3","title":"Difference between various Array copy methods","body":"<ul>\n<li><code>System.arraycopy()</code> uses JNI (Java Native Interface) to copy\nan array (or parts of it), so it is\nblazingly fast, as you can confirm\n<a href=\"http://www.javaspecialists.co.za/archive/Issue124.html\" rel=\"noreferrer\">here</a>;</li>\n<li><code>clone()</code> creates a <strong>new</strong> array with the same characteristics as the old array, i.e., same size, same type, and <em>same</em> contents. Refer to <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/arrays.doc.html\" rel=\"noreferrer\">here</a> for some examples of <code>clone</code> in action;</li>\n<li><code>manual copying</code> is, well, manual copying. There isn't much to say about this method, except that many people have found it to be the most <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=3\" rel=\"noreferrer\">performant</a>.</li>\n<li><code>arraynew = arrayold</code> <strong>doesn't</strong> copy the array; it just <em>points</em> <code>arraynew</code> to the memory address of <code>arrayold</code> or, in other words, you are simply assigning a <strong>reference</strong> to the old array.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1360064349,"creation_date":1257702194,"answer_id":1697292,"question_id":1697250,"body_markdown":" * [`System.arraycopy()`][1] copies data from one existing array into another one and depending on the arguments only copies parts of it.\r\n * `clone()` allocates a new array that has the same type and size than the original and ensures that it has the same content.\r\n * manual copying usually does pretty much the same thing than `System.arraycopy()`, but is more code and therefore a bigger source for errors\r\n * `arraynew = arrayold` only copies the reference to the array to a new variable and doesn&#39;t influence the array itself\r\n\r\nThere is one more useful option:\r\n\r\n[`Arrays.copyOf()`][2] can be used to create a copy of another array with a different size. This means that the new array can be bigger or larger than the original array and the content of the common size will be that of the source. There&#39;s even a version that makes it possible to create an array of a different type, and a version where you can specify a range of elements to copy ([`Array.copyOfRange()`][3]).\r\n\r\nNote that all of those methods make shallow copies. That means that only the references stored in the arrays are copied and the referenced objects are *not* duplicated.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf%28T%5b%5d,%20int%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange%28T%5b%5d,%20int,%20int%29","title":"Difference between various Array copy methods","body":"<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\" rel=\"noreferrer\"><code>System.arraycopy()</code></a> copies data from one existing array into another one and depending on the arguments only copies parts of it.</li>\n<li><code>clone()</code> allocates a new array that has the same type and size than the original and ensures that it has the same content.</li>\n<li>manual copying usually does pretty much the same thing than <code>System.arraycopy()</code>, but is more code and therefore a bigger source for errors</li>\n<li><code>arraynew = arrayold</code> only copies the reference to the array to a new variable and doesn't influence the array itself</li>\n</ul>\n\n<p>There is one more useful option:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf%28T%5b%5d,%20int%29\" rel=\"noreferrer\"><code>Arrays.copyOf()</code></a> can be used to create a copy of another array with a different size. This means that the new array can be bigger or larger than the original array and the content of the common size will be that of the source. There's even a version that makes it possible to create an array of a different type, and a version where you can specify a range of elements to copy (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange%28T%5b%5d,%20int,%20int%29\" rel=\"noreferrer\"><code>Array.copyOfRange()</code></a>).</p>\n\n<p>Note that all of those methods make shallow copies. That means that only the references stored in the arrays are copied and the referenced objects are <em>not</em> duplicated.</p>\n"},{"tags":[],"owner":{"account_id":279765,"reputation":171,"user_id":575106,"display_name":"Venkata"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1301635127,"creation_date":1301635127,"answer_id":5509439,"question_id":1697250,"body_markdown":"Arrays.copyOf(..) uses System.arrayCopy(..) method internally.","title":"Difference between various Array copy methods","body":"<p>Arrays.copyOf(..) uses System.arrayCopy(..) method internally.</p>\n"},{"tags":[],"owner":{"account_id":1161038,"reputation":18030,"user_id":1140529,"accept_rate":50,"display_name":"Jeril Kuruvila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477038809,"creation_date":1477038809,"answer_id":40171923,"question_id":1697250,"body_markdown":"There are answers but not a complete one.\r\n\r\nThe options considered are\r\n\r\n - Arrays.copyOf() \r\n - System.arraycopy()\r\n\r\n**Below is the java implementation of Arrays.copyOf()**\r\n\r\n    public static double[] More ...copyOf(double[] original, int newLength) {\r\n            double[] copy = new double[newLength];\r\n            System.arraycopy(original, 0, copy, 0,\r\n                             Math.min(original.length, newLength));\r\n            return copy;\r\n       }\r\n\r\nAs you can see copyOf uses System.arraycopy internally.\r\n\r\n - If you already have an array created use **System.arraycopy()** to copy\r\n - If you need the result in a new array use **Arrays.copyOf()** to copy\r\n\r\nNote: There is no point in comparing the speed obviously because their functionalities differ.\r\n\r\n","title":"Difference between various Array copy methods","body":"<p>There are answers but not a complete one.</p>\n\n<p>The options considered are</p>\n\n<ul>\n<li>Arrays.copyOf() </li>\n<li>System.arraycopy()</li>\n</ul>\n\n<p><strong>Below is the java implementation of Arrays.copyOf()</strong></p>\n\n<pre><code>public static double[] More ...copyOf(double[] original, int newLength) {\n        double[] copy = new double[newLength];\n        System.arraycopy(original, 0, copy, 0,\n                         Math.min(original.length, newLength));\n        return copy;\n   }\n</code></pre>\n\n<p>As you can see copyOf uses System.arraycopy internally.</p>\n\n<ul>\n<li>If you already have an array created use <strong>System.arraycopy()</strong> to copy</li>\n<li>If you need the result in a new array use <strong>Arrays.copyOf()</strong> to copy</li>\n</ul>\n\n<p>Note: There is no point in comparing the speed obviously because their functionalities differ.</p>\n"}],"owner":{"account_id":30252,"reputation":52431,"user_id":82368,"accept_rate":71,"display_name":"unj2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13988,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":4,"score":21,"last_activity_date":1668423874,"creation_date":1257701300,"question_id":1697250,"body_markdown":"What is the difference between\r\n\r\n - `System.arraycopy()`,\r\n - `clone()`\r\n - manual copying by iterating through the elements  \r\n - `Arrays.copyOf()` \r\n - and just doing `arraynew = arrayold`?","title":"Difference between various Array copy methods","body":"<p>What is the difference between</p>\n\n<ul>\n<li><code>System.arraycopy()</code>,</li>\n<li><code>clone()</code></li>\n<li>manual copying by iterating through the elements  </li>\n<li><code>Arrays.copyOf()</code> </li>\n<li>and just doing <code>arraynew = arrayold</code>?</li>\n</ul>\n"},{"tags":["java","spring","soap","jaxb","cxf"],"comments":[{"owner":{"account_id":353834,"reputation":1165,"user_id":691781,"accept_rate":87,"display_name":"PepeFloyd"},"score":0,"creation_date":1461495977,"post_id":31880068,"comment_id":61216053,"body_markdown":"Did you manage to do this?","body":"Did you manage to do this?"},{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":0,"creation_date":1597048460,"post_id":31880068,"comment_id":111996532,"body_markdown":"Did you manage to solve this?","body":"Did you manage to solve this?"}],"answers":[{"tags":[],"owner":{"account_id":9336983,"reputation":1,"user_id":7296249,"display_name":"Hostile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668423739,"creation_date":1668423739,"answer_id":74430614,"question_id":31880068,"body_markdown":"You need to double check the namespace params of your classes\r\nthis should be something like \r\n\r\n    @XmlRootElement(name = &quot;Foo&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;YourName&quot;, namespace = &quot;http://your.name.space/&quot;)\r\n    public class MyServiceResponse {\r\n    \r\n        @XmlElement(name = &quot;Foo&quot;, required = true, namespace = &quot;http://your.name.space/&quot;)\r\n        private String foo;\r\n\r\ninstead of\r\n\r\n    @XmlRootElement(name = &quot;Foo&quot;, namespace = &quot;http://your.name.space/&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;YourName&quot;)\r\n    public class MyServiceResponse {\r\n    \r\n        @XmlElement(name = &quot;Foo&quot;)\r\n        private String foo;\r\n\r\nAnd your service interface must not contain targetNamespace param, only but in @WebService ","title":"How to remove namespace prefix ns2 from Soap body in Apache CXF","body":"<p>You need to double check the namespace params of your classes\nthis should be something like</p>\n<pre><code>@XmlRootElement(name = &quot;Foo&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;YourName&quot;, namespace = &quot;http://your.name.space/&quot;)\npublic class MyServiceResponse {\n\n    @XmlElement(name = &quot;Foo&quot;, required = true, namespace = &quot;http://your.name.space/&quot;)\n    private String foo;\n</code></pre>\n<p>instead of</p>\n<pre><code>@XmlRootElement(name = &quot;Foo&quot;, namespace = &quot;http://your.name.space/&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;YourName&quot;)\npublic class MyServiceResponse {\n\n    @XmlElement(name = &quot;Foo&quot;)\n    private String foo;\n</code></pre>\n<p>And your service interface must not contain targetNamespace param, only but in @WebService</p>\n"}],"owner":{"account_id":3963644,"reputation":589,"user_id":3270198,"accept_rate":67,"display_name":"Swaraj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1998,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668423739,"creation_date":1438957377,"question_id":31880068,"body_markdown":"I am using Apache Cxf for creating webservice like below: \r\n\r\n    @WebService(name = &quot;xmlServiceSoap&quot;, targetNamespace = &quot;http://www.Test.com/&quot;)\r\n    @BindingType(value = javax.xml.ws.soap.SOAPBinding.SOAP12HTTP_BINDING)\r\n    public class MyEndpoint {\r\n        @Autowired\r\n        \tMyServiceImpl myServiceImpl;\r\n    \r\n        \t@WebMethod(action = &quot;http://www.Test.com/MyService&quot;)\r\n        \t@WebResult(name = &quot;MyServiceResponse&quot;,targetNamespace=&quot;http://www.Test.com/&quot;)\r\n        \t@SOAPBinding(parameterStyle = ParameterStyle.BARE)\r\n        \tpublic MyServiceResponse getMyServiceResponse(\r\n        \t\t\t@WebParam(name = &quot;MyService&quot;, targetNamespace = &quot;http://www.Test.com/&quot;) MyService partnerService,\r\n    \t    \t\t@WebParam(name = &quot;AuthenticationHeader&quot;, header = true, targetNamespace = &quot;http://www.Test.com/&quot;) AuthenticationHeader header) {\r\n    \r\n        \t\tMyServiceResponse res = myServiceImpl.getMyServiceResponse(partnerService, header);\r\n    \t    \treturn res;\r\n        \t}\r\n    }\r\n  \r\nThe problem is that I am getting response like below:   \r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n       &lt;soap:Body&gt;\r\n          &lt;ns2:MyServiceResponse xmlns:ns2=&quot;http://www.HotelTravel.com/&quot;&gt;\r\n             &lt;MyServiceResult&gt;\r\n\r\nBut I want response like: \r\n\r\n    &lt;soap:Body&gt;\r\n      &lt;MyServiceResponse xmlns=&quot;http://www.HotelTravel.com/&quot;&gt;\r\n         &lt;MyServiceResult&gt;\r\n\r\nmeans `removinf ns2` in `soap:body`. \r\nIs it possible to achieve this in CXF?\r\n","title":"How to remove namespace prefix ns2 from Soap body in Apache CXF","body":"<p>I am using Apache Cxf for creating webservice like below: </p>\n\n<pre><code>@WebService(name = \"xmlServiceSoap\", targetNamespace = \"http://www.Test.com/\")\n@BindingType(value = javax.xml.ws.soap.SOAPBinding.SOAP12HTTP_BINDING)\npublic class MyEndpoint {\n    @Autowired\n        MyServiceImpl myServiceImpl;\n\n        @WebMethod(action = \"http://www.Test.com/MyService\")\n        @WebResult(name = \"MyServiceResponse\",targetNamespace=\"http://www.Test.com/\")\n        @SOAPBinding(parameterStyle = ParameterStyle.BARE)\n        public MyServiceResponse getMyServiceResponse(\n                @WebParam(name = \"MyService\", targetNamespace = \"http://www.Test.com/\") MyService partnerService,\n                @WebParam(name = \"AuthenticationHeader\", header = true, targetNamespace = \"http://www.Test.com/\") AuthenticationHeader header) {\n\n            MyServiceResponse res = myServiceImpl.getMyServiceResponse(partnerService, header);\n            return res;\n        }\n}\n</code></pre>\n\n<p>The problem is that I am getting response like below:   </p>\n\n<pre><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n   &lt;soap:Body&gt;\n      &lt;ns2:MyServiceResponse xmlns:ns2=\"http://www.HotelTravel.com/\"&gt;\n         &lt;MyServiceResult&gt;\n</code></pre>\n\n<p>But I want response like: </p>\n\n<pre><code>&lt;soap:Body&gt;\n  &lt;MyServiceResponse xmlns=\"http://www.HotelTravel.com/\"&gt;\n     &lt;MyServiceResult&gt;\n</code></pre>\n\n<p>means <code>removinf ns2</code> in <code>soap:body</code>. \nIs it possible to achieve this in CXF?</p>\n"},{"tags":["java","parent-child","jtextfield","mouselistener","jcomponent"],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668423596,"creation_date":1668423134,"answer_id":74430489,"question_id":74430388,"body_markdown":"It&#39;s much simpler than that. The class has public methods [setText][1] and [getText][2] to set/get the text. See this [tutorial][3] and the [javadoc][4].\r\n\r\nYou **dont&#39;t need reflection here**, it&#39;s completely overkill and if you actually did need it, it would be a sign you were trying to do something the developers of JTextField didn&#39;t intend you to do.\r\n\r\nIt&#39;s just:\r\n\r\n```\r\nmyComponent.setText(&quot;my awesome text&quot;);\r\n```\r\n\r\nMy advice is that you forget you ever heard about Reflection until you are no longer &quot;new to Java&quot;. 99% of the time you will not need it, and the 1% where you do, you should be knowing what you are doing.\r\n\r\nIn fact, that class **does not even have** an attribute `text`. Here is what setText [actually does][5]:\r\n\r\n```\r\n1377:   public void setText(String text)\r\n1378:   {\r\n1379:     try\r\n1380:       {\r\n1381:         if (doc instanceof AbstractDocument)\r\n1382:           ((AbstractDocument) doc).replace(0, doc.getLength(), text, null);\r\n1383:         else\r\n1384:           {\r\n1385:             doc.remove(0, doc.getLength());\r\n1386:             doc.insertString(0, text, null);\r\n1387:           }\r\n1388:       }\r\n1389:     catch (BadLocationException e)\r\n1390:       {\r\n1391:         // This can never happen.\r\n1392:         throw (InternalError) new InternalError().initCause(e);\r\n1393:       }\r\n1394:   }\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setText(java.lang.String)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#getText()\r\n  [3]: http://java.sun.com/docs/books/tutorial/uiswing/components/textfield.html\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\r\n  [5]: https://developer.classpath.org/doc/javax/swing/text/JTextComponent-source.html","title":"How can I access the parent&#39;s field in another class and change it?","body":"<p>It's much simpler than that. The class has public methods <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setText(java.lang.String)\" rel=\"nofollow noreferrer\">setText</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#getText()\" rel=\"nofollow noreferrer\">getText</a> to set/get the text. See this <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/textfield.html\" rel=\"nofollow noreferrer\">tutorial</a> and the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextField.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<p>You <strong>dont't need reflection here</strong>, it's completely overkill and if you actually did need it, it would be a sign you were trying to do something the developers of JTextField didn't intend you to do.</p>\n<p>It's just:</p>\n<pre><code>myComponent.setText(&quot;my awesome text&quot;);\n</code></pre>\n<p>My advice is that you forget you ever heard about Reflection until you are no longer &quot;new to Java&quot;. 99% of the time you will not need it, and the 1% where you do, you should be knowing what you are doing.</p>\n<p>In fact, that class <strong>does not even have</strong> an attribute <code>text</code>. Here is what setText <a href=\"https://developer.classpath.org/doc/javax/swing/text/JTextComponent-source.html\" rel=\"nofollow noreferrer\">actually does</a>:</p>\n<pre><code>1377:   public void setText(String text)\n1378:   {\n1379:     try\n1380:       {\n1381:         if (doc instanceof AbstractDocument)\n1382:           ((AbstractDocument) doc).replace(0, doc.getLength(), text, null);\n1383:         else\n1384:           {\n1385:             doc.remove(0, doc.getLength());\n1386:             doc.insertString(0, text, null);\n1387:           }\n1388:       }\n1389:     catch (BadLocationException e)\n1390:       {\n1391:         // This can never happen.\n1392:         throw (InternalError) new InternalError().initCause(e);\n1393:       }\n1394:   }\n</code></pre>\n"}],"owner":{"account_id":26925978,"reputation":1,"user_id":20499271,"display_name":"Arina "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668423596,"creation_date":1668422634,"question_id":74430388,"body_markdown":")) I&#39;m new to Java, And I have such task:\r\n- Create a text field component class. In the constructor, the default string must be set in the text field.\r\n-  When clicking on the field, this record should be erased.\r\n- If  user has not entered anything, and the focus from the field has been lost, then\r\nthe default string should be restored.\r\nI have 3 classes: Main, MyComponent (extends JTextField), MyListener (implements MouseListener).\r\nThats my class MyComponent: \r\n\r\n```\r\npublic class MyComponent extends JTextField {\r\n    \r\n    private int code;\r\n    \r\n    public MyComponent(String text, int code) {\r\n        super(text);\r\n        this.code = code;\r\n        setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 30));\r\n}\r\n    public int getCode() {\r\n        return code;\r\n    }\r\n    \r\n}\r\n```\r\nThat&#39;s my Main:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        \r\n        JFrame frame = new JFrame(&quot;My programm&quot;);\r\n        frame.setBounds(320, 80, 750, 600);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        MyComponent enterName = new MyComponent(&quot;Default name&quot;, MyListener.ENTERNAME);\r\n        enterName.addMouseListener(new MyListener());\r\n        \r\n        JPanel panel = new JPanel();\r\n        JLabel labelName = new JLabel(&quot;Enter name: &quot;);\r\n\r\n        panel.setLayout(new GridBagLayout());\r\n        GridBagConstraints c = new GridBagConstraints();\r\n        c.gridx = 0;\r\n        panel.add(labelName, c);\r\n        c.gridx = 1;\r\n        c.insets = new Insets(0, 10, 0, 0);\r\n        panel.add(enterName, c);\r\n             \r\n        frame.add(panel);\r\n        frame.setVisible(true); \r\n    }\r\n```\r\n\r\nand that&#39;s MyListener class:\r\n\r\n```\r\npublic class MyListener implements MouseListener {\r\n    \r\n    final static public int ENTERNAME = 1;\r\n    MyComponent enterName;\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n        int code = ((MyComponent)e.getSource()).getCode();\r\n        if (code == ENTERNAME) {\r\n            System.out.println(&quot;Clicked on JTF&quot;); // just to understand that MouseListener is working\r\n             // here I need code which in String text from enterName will put &quot;&quot; instead of &quot;Default name&quot;\r\n             }\r\n    //...\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent e) {\r\n    } \r\n\r\n    }\r\n```\r\n\r\nAs I understand I need to make the text in the JTextField &quot;Default name&quot; disappear when I click the mouse.\r\nBut I don&#39;t understan how should I do that.\r\nI also don&#39;t understand how to make it so that if the cursor is not on the JTextField, the default text &quot;Default name&quot; is returned. \r\n\r\nI tried Reflection in MyListener, but it didn&#39;t work out well. That&#39;s my attempt:\r\n\r\n```\r\npublic class MyListener implements MouseListener {\r\n    \r\n    final static public int ENTERNAME = 1;\r\n    MyComponent enterName = new MyComponent(&quot;Ivan&quot;, MyListener.ENTERNAME);\r\n    Field field = enterName.getClass().getField(&quot;text&quot;);\r\n    field.setAccessible(true);\r\n    \r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n        int code = ((MyComponent)e.getSource()).getCode();\r\n        if (code == ENTERNAME) field.set(enterName, (String) &quot; &quot;);\r\n    }\r\n```\r\n**Dear Professionals, please help me! :)**","title":"How can I access the parent&#39;s field in another class and change it?","body":"<p>)) I'm new to Java, And I have such task:</p>\n<ul>\n<li>Create a text field component class. In the constructor, the default string must be set in the text field.</li>\n<li>When clicking on the field, this record should be erased.</li>\n<li>If  user has not entered anything, and the focus from the field has been lost, then\nthe default string should be restored.\nI have 3 classes: Main, MyComponent (extends JTextField), MyListener (implements MouseListener).\nThats my class MyComponent:</li>\n</ul>\n<pre><code>public class MyComponent extends JTextField {\n    \n    private int code;\n    \n    public MyComponent(String text, int code) {\n        super(text);\n        this.code = code;\n        setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 30));\n}\n    public int getCode() {\n        return code;\n    }\n    \n}\n</code></pre>\n<p>That's my Main:</p>\n<pre><code>public static void main(String[] args) {\n        \n        JFrame frame = new JFrame(&quot;My programm&quot;);\n        frame.setBounds(320, 80, 750, 600);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        MyComponent enterName = new MyComponent(&quot;Default name&quot;, MyListener.ENTERNAME);\n        enterName.addMouseListener(new MyListener());\n        \n        JPanel panel = new JPanel();\n        JLabel labelName = new JLabel(&quot;Enter name: &quot;);\n\n        panel.setLayout(new GridBagLayout());\n        GridBagConstraints c = new GridBagConstraints();\n        c.gridx = 0;\n        panel.add(labelName, c);\n        c.gridx = 1;\n        c.insets = new Insets(0, 10, 0, 0);\n        panel.add(enterName, c);\n             \n        frame.add(panel);\n        frame.setVisible(true); \n    }\n</code></pre>\n<p>and that's MyListener class:</p>\n<pre><code>public class MyListener implements MouseListener {\n    \n    final static public int ENTERNAME = 1;\n    MyComponent enterName;\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        int code = ((MyComponent)e.getSource()).getCode();\n        if (code == ENTERNAME) {\n            System.out.println(&quot;Clicked on JTF&quot;); // just to understand that MouseListener is working\n             // here I need code which in String text from enterName will put &quot;&quot; instead of &quot;Default name&quot;\n             }\n    //...\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n    } \n\n    }\n</code></pre>\n<p>As I understand I need to make the text in the JTextField &quot;Default name&quot; disappear when I click the mouse.\nBut I don't understan how should I do that.\nI also don't understand how to make it so that if the cursor is not on the JTextField, the default text &quot;Default name&quot; is returned.</p>\n<p>I tried Reflection in MyListener, but it didn't work out well. That's my attempt:</p>\n<pre><code>public class MyListener implements MouseListener {\n    \n    final static public int ENTERNAME = 1;\n    MyComponent enterName = new MyComponent(&quot;Ivan&quot;, MyListener.ENTERNAME);\n    Field field = enterName.getClass().getField(&quot;text&quot;);\n    field.setAccessible(true);\n    \n    @Override\n    public void mouseClicked(MouseEvent e) {\n        int code = ((MyComponent)e.getSource()).getCode();\n        if (code == ENTERNAME) field.set(enterName, (String) &quot; &quot;);\n    }\n</code></pre>\n<p><strong>Dear Professionals, please help me! :)</strong></p>\n"},{"tags":["java","android","oop"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668422717,"creation_date":1668422717,"answer_id":74430411,"question_id":74429668,"body_markdown":"You could use a lambda expression/method reference:\r\n```java\r\n@FunctionalInterface\r\npublic interface BindingCreator&lt;T extends ViewDataBinding&gt;{\r\n    T createBinding(LayoutInflater inflator, ViewGroup parent, boolean addToParent);\r\n}\r\n\r\n\r\npublic abstract class BindingElement &lt;T extends ViewDataBinding&gt;{\r\n    T binding;//maybe make it protected\r\n    public BindingElement(ViewGroup parent, BindingCreator&lt;T&gt; bindingCreator){\r\n        binding = bindingCreator.createBinding(\r\n                       LayoutInflater.from(parent.getContext()),\r\n                       parent,\r\n                       false));\r\n        binding.setLifecycleOwner(ViewTreeLifecycleOwner.get(parent));\r\n    }\r\n\r\n    public void doDomething() {\r\n        //somehing do with binding\r\n    }\r\n}\r\n\r\npublic class LoadElement extends BindingElement&lt;LoadingElementBinding&gt;{\r\n    public LoadElement(ViewGroup parent) {\r\n        super(parent, LoadingElementBinding::inflate);\r\n    }\r\n\r\n}\r\npublic class ErrorElement extends BindingElement&lt;ErrorElementBinding&gt;{\r\n\r\n    public LoadElement(ViewGroup parent) {\r\n        super(parent, ErrorElementBinding::inflate);\r\n    }\r\n\r\n}\r\n```\r\n\r\n`BindingCreator` contains a &quot;single abstract method&quot; `createBinding` and the expression (method reference) `LoadingElementBinding::inflate` creates a `BindingCreator` where `createBinding` is implemented by calling `LoadingElementBinding.inflate` with the same arguments. Instances like that are just passed to the super constructor.","title":"Right way to group initialization code in Java","body":"<p>You could use a lambda expression/method reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface BindingCreator&lt;T extends ViewDataBinding&gt;{\n    T createBinding(LayoutInflater inflator, ViewGroup parent, boolean addToParent);\n}\n\n\npublic abstract class BindingElement &lt;T extends ViewDataBinding&gt;{\n    T binding;//maybe make it protected\n    public BindingElement(ViewGroup parent, BindingCreator&lt;T&gt; bindingCreator){\n        binding = bindingCreator.createBinding(\n                       LayoutInflater.from(parent.getContext()),\n                       parent,\n                       false));\n        binding.setLifecycleOwner(ViewTreeLifecycleOwner.get(parent));\n    }\n\n    public void doDomething() {\n        //somehing do with binding\n    }\n}\n\npublic class LoadElement extends BindingElement&lt;LoadingElementBinding&gt;{\n    public LoadElement(ViewGroup parent) {\n        super(parent, LoadingElementBinding::inflate);\n    }\n\n}\npublic class ErrorElement extends BindingElement&lt;ErrorElementBinding&gt;{\n\n    public LoadElement(ViewGroup parent) {\n        super(parent, ErrorElementBinding::inflate);\n    }\n\n}\n</code></pre>\n<p><code>BindingCreator</code> contains a &quot;single abstract method&quot; <code>createBinding</code> and the expression (method reference) <code>LoadingElementBinding::inflate</code> creates a <code>BindingCreator</code> where <code>createBinding</code> is implemented by calling <code>LoadingElementBinding.inflate</code> with the same arguments. Instances like that are just passed to the super constructor.</p>\n"}],"owner":{"account_id":18838992,"reputation":93,"user_id":14335049,"display_name":"Makc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74430411,"answer_count":1,"score":0,"last_activity_date":1668422717,"creation_date":1668419262,"question_id":74429668,"body_markdown":"I have some stuff with similar properties, methods and initialization code. Like\r\n\r\n```\r\npublic class LoadElement {\r\n\r\n    LoadingElementBinding binding;\r\n\r\n    public LoadElement(ViewGroup parent) {\r\n        binding = LoadingElementBinding.inflate(\r\n                       LayoutInflater.from(parent.getContext()),\r\n                       parent,\r\n                       false));\r\n        binding.setLifecycleOwner(ViewTreeLifecycleOwner.get(parent));\r\n    }\r\n\r\n    public void doDomething() {\r\n        //somehing do with binding\r\n    }\r\n}\r\n\r\npublic class ErrorElement {\r\n\r\n    ErrorElementBinding binding;\r\n\r\n    public ErrorElement(ViewGroup parent) {\r\n        binding = ErrorElementBinding.inflate(\r\n                       LayoutInflater.from(parent.getContext()),\r\n                       parent,\r\n                       false));\r\n        binding.setLifecycleOwner(ViewTreeLifecycleOwner.get(parent));\r\n    }\r\n\r\n    public void doDomething() {\r\n        //somehing do with binding\r\n    }\r\n}\r\n```\r\nI wanna group this code and write some like\r\n```\r\npublic abstract class BindingElement &lt;T extends ViewDataBinding&gt;{\r\n\r\n    T binding;\r\n\r\n    public BindingElement (ViewGroup parent) {\r\n        binding = createBinding(LayoutInflater.from(parent.getContext()), parent);\r\n        binding.setLifecycleOwner(ViewTreeLifecycleOwner.get(parent));\r\n    }\r\n\r\n    abstract T createBinding(ViewGroup parent, LayoutInflater inflater);\r\n\r\n    public void doDomething() {\r\n        //somehing do with binding\r\n    }\r\n}\r\n\r\npublic class LoadElement extends BindingElement&lt;LoadingElementBinding&gt;{\r\n\r\n    public LoadElement(ViewGroup parent) {super(parent)}\r\n\r\n    @Override LoadingElementBinding createBinding(ViewGroup parent, LayoutInflater inflater){\r\n       return LoadingElementBinding.inflate(\r\n                       LayoutInflater.from(parent.getContext()),\r\n                       parent,\r\n                       false));\r\n    }\r\n}\r\n\r\npublic class ErrorElement extends BindingElement&lt;ErrorElementBinding&gt;{\r\n\r\n    public ErrorElement(ViewGroup parent) {super(parent)}\r\n\r\n    @Override ErrorElementBinding createBinding(ViewGroup parent, LayoutInflater inflater){\r\n       return ErrorElementBinding.inflate(\r\n                       LayoutInflater.from(parent.getContext()),\r\n                       parent,\r\n                       false));\r\n    }\r\n}\r\n```\r\nIt is grouped and i will never forget determine my property (binding) when i add new similar class.\r\nBut this code is wrong cause [i use non final or abstract function from the constructor](https://stackoverflow.com/questions/74404392/kotlin-implement-abstract-properties-correctly).\r\n\r\nBut how can i group my code correctly in java oop style? ","title":"Right way to group initialization code in Java","body":"<p>I have some stuff with similar properties, methods and initialization code. Like</p>\n<pre><code>public class LoadElement {\n\n    LoadingElementBinding binding;\n\n    public LoadElement(ViewGroup parent) {\n        binding = LoadingElementBinding.inflate(\n                       LayoutInflater.from(parent.getContext()),\n                       parent,\n                       false));\n        binding.setLifecycleOwner(ViewTreeLifecycleOwner.get(parent));\n    }\n\n    public void doDomething() {\n        //somehing do with binding\n    }\n}\n\npublic class ErrorElement {\n\n    ErrorElementBinding binding;\n\n    public ErrorElement(ViewGroup parent) {\n        binding = ErrorElementBinding.inflate(\n                       LayoutInflater.from(parent.getContext()),\n                       parent,\n                       false));\n        binding.setLifecycleOwner(ViewTreeLifecycleOwner.get(parent));\n    }\n\n    public void doDomething() {\n        //somehing do with binding\n    }\n}\n</code></pre>\n<p>I wanna group this code and write some like</p>\n<pre><code>public abstract class BindingElement &lt;T extends ViewDataBinding&gt;{\n\n    T binding;\n\n    public BindingElement (ViewGroup parent) {\n        binding = createBinding(LayoutInflater.from(parent.getContext()), parent);\n        binding.setLifecycleOwner(ViewTreeLifecycleOwner.get(parent));\n    }\n\n    abstract T createBinding(ViewGroup parent, LayoutInflater inflater);\n\n    public void doDomething() {\n        //somehing do with binding\n    }\n}\n\npublic class LoadElement extends BindingElement&lt;LoadingElementBinding&gt;{\n\n    public LoadElement(ViewGroup parent) {super(parent)}\n\n    @Override LoadingElementBinding createBinding(ViewGroup parent, LayoutInflater inflater){\n       return LoadingElementBinding.inflate(\n                       LayoutInflater.from(parent.getContext()),\n                       parent,\n                       false));\n    }\n}\n\npublic class ErrorElement extends BindingElement&lt;ErrorElementBinding&gt;{\n\n    public ErrorElement(ViewGroup parent) {super(parent)}\n\n    @Override ErrorElementBinding createBinding(ViewGroup parent, LayoutInflater inflater){\n       return ErrorElementBinding.inflate(\n                       LayoutInflater.from(parent.getContext()),\n                       parent,\n                       false));\n    }\n}\n</code></pre>\n<p>It is grouped and i will never forget determine my property (binding) when i add new similar class.\nBut this code is wrong cause <a href=\"https://stackoverflow.com/questions/74404392/kotlin-implement-abstract-properties-correctly\">i use non final or abstract function from the constructor</a>.</p>\n<p>But how can i group my code correctly in java oop style?</p>\n"},{"tags":["java","xml","xslt","xmlunit","xmlunit-2"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658909042,"creation_date":1658909042,"answer_id":73134269,"question_id":73134199,"body_markdown":"You need some implementation of XML diff. I am not aware of Java, but there is some python library: https://pypi.org/project/xmldiff/\r\n\r\nSee also https://stackoverflow.com/questions/1871076/are-there-any-free-xml-diff-merge-tools-available","title":"Is there any way to compare two xml and it should ignore exact content text but it should compare content text by Data type","body":"<p>You need some implementation of XML diff. I am not aware of Java, but there is some python library: <a href=\"https://pypi.org/project/xmldiff/\" rel=\"nofollow noreferrer\">https://pypi.org/project/xmldiff/</a></p>\n<p>See also <a href=\"https://stackoverflow.com/questions/1871076/are-there-any-free-xml-diff-merge-tools-available\">Are there any free Xml Diff/Merge tools available?</a></p>\n"},{"tags":[],"owner":{"account_id":26826730,"reputation":1,"user_id":20415268,"display_name":"Varshaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668422679,"creation_date":1668422369,"answer_id":74430329,"question_id":73134199,"body_markdown":"`DifferenceEvaluator` is the class which decides whether a difference is `SIMILAR`, `EQUAL` or `DIFFERENT`. In my approach I am saying if there is any comparison of type `TEXT` then make the result of those comparison as `SIMILAR`\r\n[Refer to XMLUnit 2.x][1]\r\n\r\n    import org.xmlunit.builder.DiffBuilder;\r\n    import org.xmlunit.diff.*;\r\n    \r\n    import static org.xmlunit.diff.ComparisonType.TEXT_VALUE;\r\n    \r\n    public class XmlDemo {\r\n\r\n    public static void main(String[] args) {\r\n        String actual = &quot;&lt;struct&gt;&lt;int&gt;6&lt;/int&gt;&lt;boolean&gt;false&lt;/boolean&gt;&lt;/struct&gt;&quot;;\r\n        String expected = &quot;&lt;struct&gt;&lt;boolean&gt;false&lt;/boolean&gt;&lt;int&gt;4&lt;/int&gt;&lt;/struct&gt;&quot;;\r\n\r\n        Diff diff = DiffBuilder.compare(actual)\r\n                .checkForSimilar()\r\n                .withTest(expected)\r\n                .ignoreWhitespace().normalizeWhitespace()\r\n                .withNodeMatcher(new\r\n                        DefaultNodeMatcher(ElementSelectors.byName))\r\n                .withDifferenceEvaluator(DifferenceEvaluators.chain(DifferenceEvaluators.Default, DifferenceEvaluators.downgradeDifferencesToSimilar(TEXT_VALUE)))\r\n                .build();\r\n\r\n        for (Difference difference: diff.getDifferences())\r\n            System.out.println(difference);\r\n    }\r\n}\r\n\r\n\r\n[1]: https://github.com/xmlunit/user-guide/wiki/DifferenceEvaluator","title":"Is there any way to compare two xml and it should ignore exact content text but it should compare content text by Data type","body":"<p><code>DifferenceEvaluator</code> is the class which decides whether a difference is <code>SIMILAR</code>, <code>EQUAL</code> or <code>DIFFERENT</code>. In my approach I am saying if there is any comparison of type <code>TEXT</code> then make the result of those comparison as <code>SIMILAR</code>\n<a href=\"https://github.com/xmlunit/user-guide/wiki/DifferenceEvaluator\" rel=\"nofollow noreferrer\">Refer to XMLUnit 2.x</a></p>\n<pre><code>import org.xmlunit.builder.DiffBuilder;\nimport org.xmlunit.diff.*;\n\nimport static org.xmlunit.diff.ComparisonType.TEXT_VALUE;\n\npublic class XmlDemo {\n\npublic static void main(String[] args) {\n    String actual = &quot;&lt;struct&gt;&lt;int&gt;6&lt;/int&gt;&lt;boolean&gt;false&lt;/boolean&gt;&lt;/struct&gt;&quot;;\n    String expected = &quot;&lt;struct&gt;&lt;boolean&gt;false&lt;/boolean&gt;&lt;int&gt;4&lt;/int&gt;&lt;/struct&gt;&quot;;\n\n    Diff diff = DiffBuilder.compare(actual)\n            .checkForSimilar()\n            .withTest(expected)\n            .ignoreWhitespace().normalizeWhitespace()\n            .withNodeMatcher(new\n                    DefaultNodeMatcher(ElementSelectors.byName))\n            .withDifferenceEvaluator(DifferenceEvaluators.chain(DifferenceEvaluators.Default, DifferenceEvaluators.downgradeDifferencesToSimilar(TEXT_VALUE)))\n            .build();\n\n    for (Difference difference: diff.getDifferences())\n        System.out.println(difference);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14153122,"reputation":51,"user_id":10224595,"display_name":"KB1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668422679,"creation_date":1658908744,"question_id":73134199,"body_markdown":"I have tried the below example and tried with different methods of `DiffBuilder` and `CompareMatcher` classes: \r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.xmlunit.diff.DefaultNodeMatcher;\r\n    import org.xmlunit.diff.ElementSelectors;\r\n    import org.xmlunit.matchers.CompareMatcher;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n    public class XmlDemo4 {\r\n\r\n        @Test\r\n        public void demoMethod() {\r\n        String actual = &quot;&lt;struct&gt;&lt;int&gt;3&lt;/int&gt;&lt;boolean&gt;false&lt;/boolean&gt;&lt;/struct&gt;&quot;;\r\n        String expected = &quot;&lt;struct&gt;&lt;boolean&gt;false&lt;/boolean&gt;&lt;int&gt;4&lt;/int&gt;&lt;/struct&gt;&quot;;\r\n\r\n        assertThat(actual, CompareMatcher.isSimilarTo(expected)\r\n                .ignoreWhitespace().normalizeWhitespace().\r\n                withNodeMatcher(new \r\n        DefaultNodeMatcher(ElementSelectors.byName,ElementSelectors.Default)));\r\n\r\n        }\r\n\r\n    }\r\n\r\nby running above code I am getting:\r\n\r\n    java.lang.AssertionError: \r\n    Expected: Expected text value &#39;4&#39; but was &#39;3&#39; - comparing &lt;int ...&gt;4&lt;/int&gt; at \r\n    /struct[1]/int[1]/text()[1] to &lt;int ...&gt;3&lt;/int&gt; at /struct[1]/int[1]/text()[1]:\r\n    &lt;int&gt;4&lt;/int&gt;\r\n         but: result was: \r\n    &lt;int&gt;3&lt;/int&gt;\r\n\r\n    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:8)\r\n    at StringXml.XmlDemo4.demoMethod(XmlDemo4.java:29)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\r\n    Process finished with exit code -1\r\n\r\nhere it is comparing content text also, \r\nplease suggest, is there any way to compare the content text with the data type and it should not compare with the exact content text","title":"Is there any way to compare two xml and it should ignore exact content text but it should compare content text by Data type","body":"<p>I have tried the below example and tried with different methods of <code>DiffBuilder</code> and <code>CompareMatcher</code> classes:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.xmlunit.diff.DefaultNodeMatcher;\nimport org.xmlunit.diff.ElementSelectors;\nimport org.xmlunit.matchers.CompareMatcher;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\npublic class XmlDemo4 {\n\n    @Test\n    public void demoMethod() {\n    String actual = &quot;&lt;struct&gt;&lt;int&gt;3&lt;/int&gt;&lt;boolean&gt;false&lt;/boolean&gt;&lt;/struct&gt;&quot;;\n    String expected = &quot;&lt;struct&gt;&lt;boolean&gt;false&lt;/boolean&gt;&lt;int&gt;4&lt;/int&gt;&lt;/struct&gt;&quot;;\n\n    assertThat(actual, CompareMatcher.isSimilarTo(expected)\n            .ignoreWhitespace().normalizeWhitespace().\n            withNodeMatcher(new \n    DefaultNodeMatcher(ElementSelectors.byName,ElementSelectors.Default)));\n\n    }\n\n}\n</code></pre>\n<p>by running above code I am getting:</p>\n<pre><code>java.lang.AssertionError: \nExpected: Expected text value '4' but was '3' - comparing &lt;int ...&gt;4&lt;/int&gt; at \n/struct[1]/int[1]/text()[1] to &lt;int ...&gt;3&lt;/int&gt; at /struct[1]/int[1]/text()[1]:\n&lt;int&gt;4&lt;/int&gt;\n     but: result was: \n&lt;int&gt;3&lt;/int&gt;\n\nat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\nat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:8)\nat StringXml.XmlDemo4.demoMethod(XmlDemo4.java:29)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n\nProcess finished with exit code -1\n</code></pre>\n<p>here it is comparing content text also,\nplease suggest, is there any way to compare the content text with the data type and it should not compare with the exact content text</p>\n"},{"tags":["java","spring","postgresql","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":4998645,"reputation":1806,"user_id":4018293,"display_name":"javasenior"},"score":0,"creation_date":1441952429,"post_id":32516534,"comment_id":52891733,"body_markdown":"This solution may help your question.\r\n\r\nhttp://stackoverflow.com/questions/1945615/how-to-map-the-type-interval-in-hibernate#answer-6139581","body":"This solution may help your question.    <a href=\"http://stackoverflow.com/questions/1945615/how-to-map-the-type-interval-in-hibernate#answer-6139581\" title=\"how to map the type interval in hibernate%23answer 6139581\">stackoverflow.com/questions/1945615/&hellip;</a>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1441952433,"post_id":32516534,"comment_id":52891735,"body_markdown":"JPQL and SQL are two different languages. Trying to use a JPQL query in a postgresql client and vice versa doesn&#39;t make much sense.","body":"JPQL and SQL are two different languages. Trying to use a JPQL query in a postgresql client and vice versa doesn&#39;t make much sense."},{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":0,"creation_date":1441952455,"post_id":32516534,"comment_id":52891751,"body_markdown":"have you tried to add `nativeQuery = true` to the @Query annotation?","body":"have you tried to add <code>nativeQuery = true</code> to the @Query annotation?"},{"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"score":0,"creation_date":1441952553,"post_id":32516534,"comment_id":52891804,"body_markdown":"I have changed the query from SQL to JPQL, you can see I am using objects that are mapped to tables.. they query is giving correct output if I DO NOT use interval. @JBNizet","body":"I have changed the query from SQL to JPQL, you can see I am using objects that are mapped to tables.. they query is giving correct output if I DO NOT use interval. @JBNizet"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1441952672,"post_id":32516534,"comment_id":52891854,"body_markdown":"Yes, because there&#39;s no such things as interval in JPQL. That&#39;s a SQL thing (and probably even a PostgreSQL thing). You can&#39;t expect each and every feature of SQL to exist in JPQL: they&#39;re different languages.","body":"Yes, because there&#39;s no such things as interval in JPQL. That&#39;s a SQL thing (and probably even a PostgreSQL thing). You can&#39;t expect each and every feature of SQL to exist in JPQL: they&#39;re different languages."},{"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"score":0,"creation_date":1441952984,"post_id":32516534,"comment_id":52892025,"body_markdown":"@JBNizet thanks that&#39;s helpful I had an assumption that the core functions work based on the back-end drivers used..I am using postgresql..","body":"@JBNizet thanks that&#39;s helpful I had an assumption that the core functions work based on the back-end drivers used..I am using postgresql.."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1441953808,"post_id":32516534,"comment_id":52892403,"body_markdown":"I&#39;d base assumptions on actual documents that define JPQL (and there are many), rather than heresay. Such as http://www.datanucleus.org/products/accessplatform_4_2/jpa/jpql.html","body":"I&#39;d base assumptions on actual documents that define JPQL (and there are many), rather than heresay. Such as <a href=\"http://www.datanucleus.org/products/accessplatform_4_2/jpa/jpql.html\" rel=\"nofollow noreferrer\">datanucleus.org/products/accessplatform_4_2/jpa/jpql.html</a>"},{"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"score":1,"creation_date":1441954091,"post_id":32516534,"comment_id":52892513,"body_markdown":"@reto solved my issue -&gt; nativeQuery = true , used native query","body":"@reto solved my issue -&gt; nativeQuery = true , used native query"}],"answers":[{"tags":[],"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1442306701,"creation_date":1441957149,"answer_id":32518099,"question_id":32516534,"body_markdown":"This solved my issue.\r\n\r\nI used `nativeQuery=true` and used the query that I executed in postgresql. Thought to share with others too.\r\n\r\n    @Query( nativeQuery = true, value = &quot;select domain_name.* from domain_name, domain_name_reminder, reseller &quot; +\r\n            &quot;where domain_name.reminder_id = domain_name_reminder.id &quot; +\r\n            &quot;and domain_name_reminder.second_notification=current_date - interval &#39;:totalDays days&#39; &quot; +\r\n            &quot;and reseller.myCheck=true &quot; +\r\n            &quot;and reseller.id = domain_name.invoicing_party_id &quot;)\r\n    public List&lt;DomainName&gt; findDomainsBySecondNotificationDate(@Param(&quot;totalDays&quot;)Integer totalDays);","title":"Custom (raw) queries in Spring Data JPA","body":"<p>This solved my issue.</p>\n\n<p>I used <code>nativeQuery=true</code> and used the query that I executed in postgresql. Thought to share with others too.</p>\n\n<pre><code>@Query( nativeQuery = true, value = \"select domain_name.* from domain_name, domain_name_reminder, reseller \" +\n        \"where domain_name.reminder_id = domain_name_reminder.id \" +\n        \"and domain_name_reminder.second_notification=current_date - interval ':totalDays days' \" +\n        \"and reseller.myCheck=true \" +\n        \"and reseller.id = domain_name.invoicing_party_id \")\npublic List&lt;DomainName&gt; findDomainsBySecondNotificationDate(@Param(\"totalDays\")Integer totalDays);\n</code></pre>\n"}],"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32518099,"answer_count":1,"score":2,"last_activity_date":1668422336,"creation_date":1441951367,"question_id":32516534,"body_markdown":"I am using custom queries in JPA, it doesn&#39;t let me use `interval` keyword. It gives correct output if I do not use ` - interval &#39;7 days&#39;` in the query. \r\n\r\nException says:\r\n`Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: interval near line 1, column 214 `\r\n\r\n\r\n           @Query(&quot;select d from DomainName d , DomainNameReminder dr, Reseller  r&quot;+\r\n            &quot; where d.reminder.id = dr.id  &quot;+\r\n            &quot; and dr.secondNotification=current_date - interval &#39;7 days&#39; &quot;+\r\n            &quot; and r.checkParty=true &quot;+\r\n            &quot; and r.id = d.invoicingParty.id &quot;)\r\n            public List&lt;Object&gt; findDomainsBySecondNotificationDate();\r\n\r\n\r\nThis query basically brings all the records that are having second notification date 7 days before today.\r\n\r\nMy interface is declared as \r\n                   \r\n\r\n    public interface DomainNameRepository extends JpaRepository&lt;DomainName, Long&gt;, \r\n    QueryDslPredicateExecutor&lt;DomainName&gt; {\r\n\r\nMy query is giving correct output in `pgadmin postgresql client`, I am pretty surprised why can&#39;t I use keywords here.","title":"Custom (raw) queries in Spring Data JPA","body":"<p>I am using custom queries in JPA, it doesn't let me use <code>interval</code> keyword. It gives correct output if I do not use <code>- interval '7 days'</code> in the query. </p>\n\n<p>Exception says:\n<code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: interval near line 1, column 214</code></p>\n\n<pre><code>       @Query(\"select d from DomainName d , DomainNameReminder dr, Reseller  r\"+\n        \" where d.reminder.id = dr.id  \"+\n        \" and dr.secondNotification=current_date - interval '7 days' \"+\n        \" and r.checkParty=true \"+\n        \" and r.id = d.invoicingParty.id \")\n        public List&lt;Object&gt; findDomainsBySecondNotificationDate();\n</code></pre>\n\n<p>This query basically brings all the records that are having second notification date 7 days before today.</p>\n\n<p>My interface is declared as </p>\n\n<pre><code>public interface DomainNameRepository extends JpaRepository&lt;DomainName, Long&gt;, \nQueryDslPredicateExecutor&lt;DomainName&gt; {\n</code></pre>\n\n<p>My query is giving correct output in <code>pgadmin postgresql client</code>, I am pretty surprised why can't I use keywords here.</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1668354559,"post_id":74418932,"comment_id":131379669,"body_markdown":"It&#39;s hard to say more than what the error message already does: the data you are trying to write contains an array, which Firebase doesn&#39;t support. Can you replace te screenshot of the error+stacktrace with its actual text, and include the entire stack trace and then point out exactly what line in your code the error comes from?","body":"It&#39;s hard to say more than what the error message already does: the data you are trying to write contains an array, which Firebase doesn&#39;t support. Can you replace te screenshot of the error+stacktrace with its actual text, and include the entire stack trace and then point out exactly what line in your code the error comes from?"},{"owner":{"account_id":25790462,"reputation":9,"user_id":19534611,"display_name":"Matrix"},"score":0,"creation_date":1668397670,"post_id":74418932,"comment_id":131387326,"body_markdown":"Main error line is  . setValue(coinsadd) ;","body":"Main error line is  . setValue(coinsadd) ;"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668418266,"post_id":74418932,"comment_id":131391767,"body_markdown":"What is the exact line of code that produces that error? Please respond using @AlexMamo","body":"What is the exact line of code that produces that error? Please respond using @AlexMamo"},{"owner":{"account_id":25790462,"reputation":9,"user_id":19534611,"display_name":"Matrix"},"score":0,"creation_date":1668420585,"post_id":74418932,"comment_id":131392468,"body_markdown":"@AlexMamo i solved it . The solution was very simple, I had put the time  direct in Hashmap whereas it should have been in string format.","body":"@AlexMamo i solved it . The solution was very simple, I had put the time  direct in Hashmap whereas it should have been in string format."},{"owner":{"account_id":25790462,"reputation":9,"user_id":19534611,"display_name":"Matrix"},"score":0,"creation_date":1668420715,"post_id":74418932,"comment_id":131392503,"body_markdown":"@AlexMamo my solution is this                 coinsadd. put(&quot;time&quot;, savecurrentTime) ;","body":"@AlexMamo my solution is this                 coinsadd. put(&quot;time&quot;, savecurrentTime) ;"}],"answers":[{"tags":[],"owner":{"account_id":25790462,"reputation":9,"user_id":19534611,"display_name":"Matrix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668422183,"creation_date":1668420421,"answer_id":74429919,"question_id":74418932,"body_markdown":"The solution was very simple, I had put the time direct in Hashmap whereas it should have been in string format.\r\n\r\nMy Solution is this&#128071;\r\n\r\n    coinsadd.put(&quot;time&quot;, savecurrentTime);","title":"My app is crash when I setValue in firebasedatabase from a BindViewHolder","body":"<p>The solution was very simple, I had put the time direct in Hashmap whereas it should have been in string format.</p>\n<p>My Solution is this👇</p>\n<pre><code>coinsadd.put(&quot;time&quot;, savecurrentTime);\n</code></pre>\n"}],"owner":{"account_id":25790462,"reputation":9,"user_id":19534611,"display_name":"Matrix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668422183,"creation_date":1668320860,"question_id":74418932,"body_markdown":"I&#39;m making an app where user can increase their channel subscribers by sub4sub. But problems is that when my countdown timer finished and setting the value in firebasedatabase my app crash. Question is this why my app crash even my codes is working in my another project.\r\n\r\nI Try this\r\n\r\n\r\n```\r\npublic void setPlayClick(TextView Times, TextView ActionText, CompaginModel cModel) {\r\n      int count = Integer.valueOf(cModel.times);\r\n      int longvalue = 3000 + count * 1000;\r\n      long countdown = Long.valueOf(longvalue);\r\n      myCount =\r\n          new CountDownTimer(countdown, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n              Times.setText(&quot;&quot; + millisUntilFinished / 1000);\r\n              ActionText.setText(&quot;Please Wait &amp; Watch the Video&quot;);\r\n            }\r\n\r\n            public void onFinish() {\r\n              Times.setText(&quot;done&quot;);\r\n              setViewFinal(cModel);\r\n            }\r\n          }.start();\r\n    }\r\n```\r\n\r\n\r\nAnd this \r\n\r\n```\r\npublic void setViews(CompaginModel cModel) {\r\n      Calendar calendar = Calendar.getInstance();\r\n      SimpleDateFormat currentDate = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n      String savecurrentDate = currentDate.format(calendar.getTime());\r\n      SimpleDateFormat currentTime = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n      String savecurrentTime = currentTime.format(calendar.getTime());\r\n      String currentuserid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n      FirebaseDatabase.getInstance()\r\n          .getReference()\r\n          .child(&quot;UsedCompagin/&quot; + &quot;views&quot;)\r\n          .child(cModel.userid)\r\n          .child(&quot;user_view&quot;)\r\n          .child(currentuserid)\r\n          .addListenerForSingleValueEvent(\r\n              new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                  if (dataSnapshot.exists()) {\r\n\t\t\t\t\t  //nothing\r\n                  } else {\r\n                    HashMap&lt;String, Object&gt; coinsadd = new HashMap&lt;&gt;();\r\n                    coinsadd.put(&quot;currentuser&quot;, currentuserid);\r\n                    coinsadd.put(&quot;coinsearn&quot;, cModel.one_user_cost);\r\n                    coinsadd.put(&quot;date&quot;, savecurrentDate);\r\n                    coinsadd.put(&quot;time&quot;, currentTime);\r\n                    FirebaseDatabase.getInstance()\r\n                        .getReference()\r\n                        .child(&quot;UsedCompagin/&quot; + &quot;views&quot;)\r\n                        .child(cModel.userid)\r\n                        .child(&quot;user_view&quot;)\r\n                        .child(currentuserid)\r\n                     .setValue(coinsadd);\r\n                  }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {}\r\n              });\r\n    }\r\n```\r\n[![my app crash log](https://i.stack.imgur.com/T2KHZ.jpg)](https://i.stack.imgur.com/T2KHZ.jpg)\r\n","title":"My app is crash when I setValue in firebasedatabase from a BindViewHolder","body":"<p>I'm making an app where user can increase their channel subscribers by sub4sub. But problems is that when my countdown timer finished and setting the value in firebasedatabase my app crash. Question is this why my app crash even my codes is working in my another project.</p>\n<p>I Try this</p>\n<pre><code>public void setPlayClick(TextView Times, TextView ActionText, CompaginModel cModel) {\n      int count = Integer.valueOf(cModel.times);\n      int longvalue = 3000 + count * 1000;\n      long countdown = Long.valueOf(longvalue);\n      myCount =\n          new CountDownTimer(countdown, 1000) {\n            public void onTick(long millisUntilFinished) {\n              Times.setText(&quot;&quot; + millisUntilFinished / 1000);\n              ActionText.setText(&quot;Please Wait &amp; Watch the Video&quot;);\n            }\n\n            public void onFinish() {\n              Times.setText(&quot;done&quot;);\n              setViewFinal(cModel);\n            }\n          }.start();\n    }\n</code></pre>\n<p>And this</p>\n<pre><code>public void setViews(CompaginModel cModel) {\n      Calendar calendar = Calendar.getInstance();\n      SimpleDateFormat currentDate = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n      String savecurrentDate = currentDate.format(calendar.getTime());\n      SimpleDateFormat currentTime = new SimpleDateFormat(&quot;hh:mm a&quot;);\n      String savecurrentTime = currentTime.format(calendar.getTime());\n      String currentuserid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n      FirebaseDatabase.getInstance()\n          .getReference()\n          .child(&quot;UsedCompagin/&quot; + &quot;views&quot;)\n          .child(cModel.userid)\n          .child(&quot;user_view&quot;)\n          .child(currentuserid)\n          .addListenerForSingleValueEvent(\n              new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                  if (dataSnapshot.exists()) {\n                      //nothing\n                  } else {\n                    HashMap&lt;String, Object&gt; coinsadd = new HashMap&lt;&gt;();\n                    coinsadd.put(&quot;currentuser&quot;, currentuserid);\n                    coinsadd.put(&quot;coinsearn&quot;, cModel.one_user_cost);\n                    coinsadd.put(&quot;date&quot;, savecurrentDate);\n                    coinsadd.put(&quot;time&quot;, currentTime);\n                    FirebaseDatabase.getInstance()\n                        .getReference()\n                        .child(&quot;UsedCompagin/&quot; + &quot;views&quot;)\n                        .child(cModel.userid)\n                        .child(&quot;user_view&quot;)\n                        .child(currentuserid)\n                     .setValue(coinsadd);\n                  }\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError databaseError) {}\n              });\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/T2KHZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2KHZ.jpg\" alt=\"my app crash log\" /></a></p>\n"},{"tags":["java","hibernate","maven-3","reverse-engineering"],"comments":[{"owner":{"account_id":3497212,"reputation":134,"user_id":2925026,"display_name":"Manoj Reddy"},"score":0,"creation_date":1599024527,"post_id":46790512,"comment_id":112641150,"body_markdown":"For hbm2java, you can refer this https://jonamlabs.com/how-to-use-hibernate-tools-maven-plugin-to-generate-jpa-entities-from-an-existing-database/","body":"For hbm2java, you can refer this <a href=\"https://jonamlabs.com/how-to-use-hibernate-tools-maven-plugin-to-generate-jpa-entities-from-an-existing-database/\" rel=\"nofollow noreferrer\">jonamlabs.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13129127,"reputation":51,"user_id":9484083,"display_name":"karmarok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668422077,"creation_date":1520933980,"answer_id":49252755,"question_id":46790512,"body_markdown":"Instead of having a shared configuration element in **plugin/configuration** you have to move it to every separate execution in **plugin/executions/execution/configuration**.\r\n\r\nSo for example if you have your plugin currently configured like this:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;components&gt;\r\n                &lt;component&gt;\r\n                    &lt;name&gt;hbm2java&lt;/name&gt;\r\n                    &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n                    &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n                &lt;/component&gt;\r\n                &lt;component&gt;\r\n                    &lt;name&gt;hbm2dao&lt;/name&gt;\r\n                    &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n                    &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n                &lt;/component&gt;\r\n            &lt;/components&gt;\r\n            &lt;componentProperties\r\n                &lt;revengfile&gt;src/main/resources/hibernate.reveng.xml&lt;/revengfile&gt;\r\n                &lt;configurationfile&gt;src/main/resources/hibernate.cfg.xml&lt;/configurationfile&gt;\r\n                &lt;jdk5&gt;true&lt;/jdk5&gt;\r\n                &lt;ejb3&gt;false&lt;/ejb3&gt;\r\n            &lt;/componentProperties&gt;\r\n        &lt;/configuration&gt;\r\n\t    &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;hbm2java-execution&lt;/id&gt;\r\n                &lt;phase&gt;compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;hbm2java&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n    \t\t    &lt;id&gt;hbm2dao-execution&lt;/id&gt;\r\n\t\t        &lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t        &lt;goals&gt;\r\n    \t\t        &lt;goal&gt;hbm2dao&lt;/goal&gt;\r\n\t\t        &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;dependencies&gt;\r\n        \t...\r\n\t    &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\nChange it to:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n\t    &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;hbm2java-execution&lt;/id&gt;\r\n                &lt;phase&gt;compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;hbm2java&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t    &lt;!-- hbm2java component only --&gt;\r\n                    &lt;components&gt;\r\n                        &lt;component&gt;\r\n                            &lt;name&gt;hbm2java&lt;/name&gt;\r\n                            &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n                            &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n                        &lt;/component&gt;\r\n                    &lt;/components&gt;\r\n\t\t\t\t\t&lt;!-- hbm2java component properties --&gt;\r\n                    &lt;componentProperties\r\n                        &lt;revengfile&gt;src/main/resources/hibernate.reveng.xml&lt;/revengfile&gt;\r\n                        &lt;configurationfile&gt;src/main/resources/hibernate.cfg.xml&lt;/configurationfile&gt;\r\n\t\t\t\t\t\t&lt;packagename&gt;app.myapp.pojo&lt;/packagename&gt;\r\n                        &lt;jdk5&gt;true&lt;/jdk5&gt;\r\n                        &lt;ejb3&gt;false&lt;/ejb3&gt;\r\n                    &lt;/componentProperties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n    \t\t    &lt;id&gt;hbm2dao-execution&lt;/id&gt;\r\n\t\t        &lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t        &lt;goals&gt;\r\n    \t\t        &lt;goal&gt;hbm2dao&lt;/goal&gt;\r\n\t\t        &lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t    &lt;!-- hbm2dao component only --&gt;\r\n                    &lt;components&gt;\r\n                        &lt;component&gt;\r\n                            &lt;name&gt;hbm2dao&lt;/name&gt;\r\n                            &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n                            &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n                        &lt;/component&gt;\r\n                    &lt;/components&gt;\r\n\t\t\t\t\t&lt;!-- hbm2dao component properties --&gt;\r\n                    &lt;componentProperties\r\n                        &lt;revengfile&gt;src/main/resources/hibernate.reveng.xml&lt;/revengfile&gt;\r\n                        &lt;configurationfile&gt;src/main/resources/hibernate.cfg.xml&lt;/configurationfile&gt;\r\n\t\t\t\t\t\t&lt;packagename&gt;app.myapp.dao&lt;/packagename&gt;\r\n                        &lt;jdk5&gt;true&lt;/jdk5&gt;\r\n                        &lt;ejb3&gt;false&lt;/ejb3&gt;\r\n                    &lt;/componentProperties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    \t&lt;dependencies&gt;\r\n        \t...\r\n\t    &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\nSee how now you can specify different **packagename** property values for hbm2java and hbm2dao.","title":"How to configure different components in maven for hibernate","body":"<p>Instead of having a shared configuration element in <strong>plugin/configuration</strong> you have to move it to every separate execution in <strong>plugin/executions/execution/configuration</strong>.</p>\n<p>So for example if you have your plugin currently configured like this:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;components&gt;\n            &lt;component&gt;\n                &lt;name&gt;hbm2java&lt;/name&gt;\n                &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n                &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n            &lt;/component&gt;\n            &lt;component&gt;\n                &lt;name&gt;hbm2dao&lt;/name&gt;\n                &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n                &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n            &lt;/component&gt;\n        &lt;/components&gt;\n        &lt;componentProperties\n            &lt;revengfile&gt;src/main/resources/hibernate.reveng.xml&lt;/revengfile&gt;\n            &lt;configurationfile&gt;src/main/resources/hibernate.cfg.xml&lt;/configurationfile&gt;\n            &lt;jdk5&gt;true&lt;/jdk5&gt;\n            &lt;ejb3&gt;false&lt;/ejb3&gt;\n        &lt;/componentProperties&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;hbm2java-execution&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;hbm2java&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;hbm2dao-execution&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;hbm2dao&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        ...\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Change it to:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;hbm2java-execution&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;hbm2java&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;!-- hbm2java component only --&gt;\n                &lt;components&gt;\n                    &lt;component&gt;\n                        &lt;name&gt;hbm2java&lt;/name&gt;\n                        &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n                        &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n                    &lt;/component&gt;\n                &lt;/components&gt;\n                &lt;!-- hbm2java component properties --&gt;\n                &lt;componentProperties\n                    &lt;revengfile&gt;src/main/resources/hibernate.reveng.xml&lt;/revengfile&gt;\n                    &lt;configurationfile&gt;src/main/resources/hibernate.cfg.xml&lt;/configurationfile&gt;\n                    &lt;packagename&gt;app.myapp.pojo&lt;/packagename&gt;\n                    &lt;jdk5&gt;true&lt;/jdk5&gt;\n                    &lt;ejb3&gt;false&lt;/ejb3&gt;\n                &lt;/componentProperties&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;hbm2dao-execution&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;hbm2dao&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;!-- hbm2dao component only --&gt;\n                &lt;components&gt;\n                    &lt;component&gt;\n                        &lt;name&gt;hbm2dao&lt;/name&gt;\n                        &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n                        &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n                    &lt;/component&gt;\n                &lt;/components&gt;\n                &lt;!-- hbm2dao component properties --&gt;\n                &lt;componentProperties\n                    &lt;revengfile&gt;src/main/resources/hibernate.reveng.xml&lt;/revengfile&gt;\n                    &lt;configurationfile&gt;src/main/resources/hibernate.cfg.xml&lt;/configurationfile&gt;\n                    &lt;packagename&gt;app.myapp.dao&lt;/packagename&gt;\n                    &lt;jdk5&gt;true&lt;/jdk5&gt;\n                    &lt;ejb3&gt;false&lt;/ejb3&gt;\n                &lt;/componentProperties&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        ...\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>See how now you can specify different <strong>packagename</strong> property values for hbm2java and hbm2dao.</p>\n"}],"owner":{"account_id":1118826,"reputation":89,"user_id":1107577,"display_name":"Bluemoon10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668422077,"creation_date":1508244420,"question_id":46790512,"body_markdown":"I&#39;m currently reverse engineering table from a DB, I wish to produce xml mappings, java pojo classes and java dao classes. I would like to store the resulting classes in different package folders eg app.myapp.dao, app.myapp.pojo and app.myapp.dao. I would like to configure my pom to have separate &#39;component&#39; configurations, so for example for hbm2dao, look for a specific hibernate.reveng.xml file which would contain info and tell the class generation to add package app.myapp.dao to the top of the class.\r\nMy current set up is:\r\n\r\n\r\n    &lt;configuration&gt;\r\n        &lt;components&gt;\r\n            &lt;component&gt;\r\n                &lt;name&gt;hbm2java&lt;/name&gt;\r\n                &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n                &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n          &lt;/component&gt;\r\n              &lt;component&gt;\r\n                  &lt;name&gt;hbm2dao&lt;/name&gt;\r\n                  &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n                  &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n              &lt;/component&gt;\r\n            &lt;/components&gt;\r\n       &lt;componentProperties\r\n            &lt;revengfile&gt;src/main/resources/hibernate.reveng.xml&lt;/revengfile\r\n     &lt;configurationfile&gt;src/main/resources/hibernate.cfg.xml&lt;/configurationfile&gt;\r\n        &lt;jdk5&gt;true&lt;/jdk5&gt;\r\n        &lt;ejb3&gt;false&lt;/ejb3&gt;\r\n       &lt;/componentProperties&gt;\r\n    &lt;/configuration&gt;\r\n\r\nMy current set up can only use one version of hibernate.reveng.xml for all 3 types of generation(hbm2dao, hbm2java, hbm2hbxml)\r\nSo my question is how do i set up my pom to use 3 separate hibernate.reveng.xml files, so i can configure the package info and put the generated classes in different locations? is it possible?\r\nThanks\r\n","title":"How to configure different components in maven for hibernate","body":"<p>I'm currently reverse engineering table from a DB, I wish to produce xml mappings, java pojo classes and java dao classes. I would like to store the resulting classes in different package folders eg app.myapp.dao, app.myapp.pojo and app.myapp.dao. I would like to configure my pom to have separate 'component' configurations, so for example for hbm2dao, look for a specific hibernate.reveng.xml file which would contain info and tell the class generation to add package app.myapp.dao to the top of the class.\nMy current set up is:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;components&gt;\n        &lt;component&gt;\n            &lt;name&gt;hbm2java&lt;/name&gt;\n            &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n            &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n      &lt;/component&gt;\n          &lt;component&gt;\n              &lt;name&gt;hbm2dao&lt;/name&gt;\n              &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n              &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n          &lt;/component&gt;\n        &lt;/components&gt;\n   &lt;componentProperties\n        &lt;revengfile&gt;src/main/resources/hibernate.reveng.xml&lt;/revengfile\n &lt;configurationfile&gt;src/main/resources/hibernate.cfg.xml&lt;/configurationfile&gt;\n    &lt;jdk5&gt;true&lt;/jdk5&gt;\n    &lt;ejb3&gt;false&lt;/ejb3&gt;\n   &lt;/componentProperties&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>My current set up can only use one version of hibernate.reveng.xml for all 3 types of generation(hbm2dao, hbm2java, hbm2hbxml)\nSo my question is how do i set up my pom to use 3 separate hibernate.reveng.xml files, so i can configure the package info and put the generated classes in different locations? is it possible?\nThanks</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1668406790,"post_id":74427592,"comment_id":131388585,"body_markdown":"Stop using `SimpleDateFormat` and `java.util.Date`. These are outdated since years. Use classes from the newer `java.tim`package","body":"Stop using <code>SimpleDateFormat</code> and <code>java.util.Date</code>. These are outdated since years. Use classes from the newer <code>java.tim</code>package"},{"owner":{"account_id":7119081,"reputation":515,"user_id":5444290,"accept_rate":45,"display_name":"Venkatesh R"},"score":0,"creation_date":1668406947,"post_id":74427592,"comment_id":131388610,"body_markdown":"@Jens, `java.tim` namespace will resolve the issue?","body":"@Jens, <code>java.tim</code> namespace will resolve the issue?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668407787,"post_id":74427592,"comment_id":131388775,"body_markdown":"That too, @VenkateshR. (Even if it hadn&#39;t in itself, using `Date` and `SimpleDateFormat` is still strongly discouraged and java.time recommended.)","body":"That too, @VenkateshR. (Even if it hadn&#39;t in itself, using <code>Date</code> and <code>SimpleDateFormat</code> is still strongly discouraged and java.time recommended.)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668407850,"post_id":74427592,"comment_id":131388790,"body_markdown":"@VenkateshR sorry missed an `e` should be `java.time`","body":"@VenkateshR sorry missed an <code>e</code> should be <code>java.time</code>"}],"answers":[{"tags":[],"owner":{"account_id":7119081,"reputation":515,"user_id":5444290,"accept_rate":45,"display_name":"Venkatesh R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668421456,"creation_date":1668410017,"answer_id":74428046,"question_id":74427592,"body_markdown":"Below code resolves the issue. \r\n\r\n```\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.ResolverStyle;\r\nimport java.time.LocalDate;\r\n\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        if (dateValidate(&quot;20220110&quot;))\r\n        {\r\n            System.out.println(&quot;Valid&quot;);\r\n        }\r\n        else\r\n        {System.out.println(&quot;In Valid&quot;);}\r\n    }\r\n    \r\n    private static boolean dateValidate(String date) {\r\n        boolean returnVal = false;\r\n        try {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuuMMdd&quot;);\r\n            LocalDate DateValue = LocalDate.parse(date, parser.withResolverStyle(ResolverStyle.STRICT));\r\n            System.out.println(DateValue);\r\n            returnVal  = true;\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return returnVal;\r\n\t}\r\n}\r\n```","title":"Strict Date format validation in Java","body":"<p>Below code resolves the issue.</p>\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.format.ResolverStyle;\nimport java.time.LocalDate;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n        if (dateValidate(&quot;20220110&quot;))\n        {\n            System.out.println(&quot;Valid&quot;);\n        }\n        else\n        {System.out.println(&quot;In Valid&quot;);}\n    }\n    \n    private static boolean dateValidate(String date) {\n        boolean returnVal = false;\n        try {\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuuMMdd&quot;);\n            LocalDate DateValue = LocalDate.parse(date, parser.withResolverStyle(ResolverStyle.STRICT));\n            System.out.println(DateValue);\n            returnVal  = true;\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n        return returnVal;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7119081,"reputation":515,"user_id":5444290,"accept_rate":45,"display_name":"Venkatesh R"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668421456,"creation_date":1668406574,"question_id":74427592,"body_markdown":"Below is my java code to validate the date passed. Need to check the date format is in &quot;yyyyMMdd&quot; format. But when passed the date value &quot;2022109&quot; it is considered as &quot;2022 Oct 9&quot; but it should since the input is not in expected format. \r\nConsider, user may tried to give an input as &quot;2022 Jan 9&quot; and missed 0 in front of 1 in the afore mentioned input and entered as &quot;2022109&quot;. Now the code considered the date as &quot;2022 Oct 9&quot; which is incorrect. Please assist me on the same.\r\n\r\n\r\n```import java.text.DateFormat;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class Main\r\n{\r\n    public static void main(String[] args) {\r\n        dateValidate(&quot;2022109&quot;);\r\n        dateValidate(&quot;2022110&quot;);\r\n    }\r\n    \r\n    private static boolean dateValidate(String date) {\r\n        boolean returnVal = false;\r\n        try {\r\n            System.out.println(date);\r\n            DateFormat objDateFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n\t\t\tobjDateFormat.setLenient(false);\r\n            Date DateValue = objDateFormat.parse(date);\r\n            System.out.println(DateValue);\r\n            returnVal  = true;\r\n        } catch (ParseException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return returnVal;\r\n\t}\r\n}\r\n```\r\n\r\nOutput\r\n```\r\n2022109\r\nSun Oct 09 00:00:00 GMT 2022\r\n2022110\r\nUnparseable date: &quot;2022110&quot;\r\n","title":"Strict Date format validation in Java","body":"<p>Below is my java code to validate the date passed. Need to check the date format is in &quot;yyyyMMdd&quot; format. But when passed the date value &quot;2022109&quot; it is considered as &quot;2022 Oct 9&quot; but it should since the input is not in expected format.\nConsider, user may tried to give an input as &quot;2022 Jan 9&quot; and missed 0 in front of 1 in the afore mentioned input and entered as &quot;2022109&quot;. Now the code considered the date as &quot;2022 Oct 9&quot; which is incorrect. Please assist me on the same.</p>\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Main\n{\n    public static void main(String[] args) {\n        dateValidate(&quot;2022109&quot;);\n        dateValidate(&quot;2022110&quot;);\n    }\n    \n    private static boolean dateValidate(String date) {\n        boolean returnVal = false;\n        try {\n            System.out.println(date);\n            DateFormat objDateFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n            objDateFormat.setLenient(false);\n            Date DateValue = objDateFormat.parse(date);\n            System.out.println(DateValue);\n            returnVal  = true;\n        } catch (ParseException e) {\n            System.out.println(e.getMessage());\n        }\n        return returnVal;\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>2022109\nSun Oct 09 00:00:00 GMT 2022\n2022110\nUnparseable date: &quot;2022110&quot;\n</code></pre>\n"},{"tags":["java","path","inputstream"],"comments":[{"owner":{"account_id":12329207,"reputation":1050,"user_id":8995812,"display_name":"Jakob Em"},"score":0,"creation_date":1668177233,"post_id":74403962,"comment_id":131349228,"body_markdown":"Where does you zip file come from? Is is send as the request body or is it stored somewhere on disk?","body":"Where does you zip file come from? Is is send as the request body or is it stored somewhere on disk?"},{"owner":{"display_name":"user13963867"},"score":0,"creation_date":1668177327,"post_id":74403962,"comment_id":131349257,"body_markdown":"If the zip file is a... file, then you have everything you need in [java.util.zip](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/package-summary.html). If the zip file is itself a stream (say, from a network connection), it will get more complicated, as a zip file is not supposed to be read as stream (there is metadata at the end, for instance).","body":"If the zip file is a... file, then you have everything you need in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/package-summary.html\" rel=\"nofollow noreferrer\">java.util.zip</a>. If the zip file is itself a stream (say, from a network connection), it will get more complicated, as a zip file is not supposed to be read as stream (there is metadata at the end, for instance)."},{"owner":{"account_id":26539115,"reputation":1080,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1668203214,"post_id":74403962,"comment_id":131356855,"body_markdown":"@YunusEmre Welcome to SO! please [edit] that info into your post instead of putting it in the comments.","body":"@YunusEmre Welcome to SO! please <a href=\"https://stackoverflow.com/posts/74403962/edit\">edit</a> that info into your post instead of putting it in the comments."}],"answers":[{"tags":[],"owner":{"account_id":24643497,"reputation":29,"user_id":18541426,"display_name":"ktxdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668182292,"creation_date":1668182292,"answer_id":74405106,"question_id":74403962,"body_markdown":"From what i have seen you cannot access the contents of the zip file directly from the zip file&#39;s input stream. So i did some kind of work around where you start by creating a temporary directory which will eventually be deleted by the OS, then read all the files in the uploaded zip file into that temporary folder. After reading all the files in the temporary folder you can then visit all the files in this folder and persist to you database. Here is the code example:\r\n\r\n    @PostMapping(&quot;upload&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;multipartFile&quot;) MultipartFile multipartFile) throws IOException {\r\n\r\n        File unzippedFolder = createTempZipFile(multipartFile);\r\n        \r\n        for (File file: unzippedFolder.listFiles()) { // May need to check if list is not null\r\n            try(BufferedReader br = new BufferedReader(new FileReader(file))) {\r\n                String line;\r\n                while ((line = br.readLine()) != null) {\r\n                    // Here process you file\r\n                    System.out.println(line);\r\n                }\r\n            }\r\n        }\r\n\r\n        return ResponseEntity.ok().build();\r\n    }\r\n\r\n    private File createTempZipFile(MultipartFile file) throws IOException {\r\n        File tempDir = Files.createTempDirectory(&quot;data&quot;).toFile();\r\n\r\n        byte[] buffer = new byte[1024];\r\n\r\n        try(ZipInputStream zis = new ZipInputStream(file.getInputStream())) {\r\n            ZipEntry zipEntry;\r\n\r\n            while ((zipEntry = zis.getNextEntry()) != null) {\r\n\r\n                if (!zipEntry.isDirectory()) {\r\n                    FileOutputStream fos = new FileOutputStream(new File(tempDir, zipEntry.getName()));\r\n\r\n                    int len;\r\n                    while ((len = zis.read(buffer)) &gt; 0) {\r\n                        fos.write(buffer, 0, len);\r\n                    }\r\n                    fos.close();\r\n                }\r\n            }\r\n        }\r\n\r\n        return tempDir;\r\n    }","title":"How can I convert zip file to input stream without file path?","body":"<p>From what i have seen you cannot access the contents of the zip file directly from the zip file's input stream. So i did some kind of work around where you start by creating a temporary directory which will eventually be deleted by the OS, then read all the files in the uploaded zip file into that temporary folder. After reading all the files in the temporary folder you can then visit all the files in this folder and persist to you database. Here is the code example:</p>\n<pre><code>@PostMapping(&quot;upload&quot;)\npublic ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;multipartFile&quot;) MultipartFile multipartFile) throws IOException {\n\n    File unzippedFolder = createTempZipFile(multipartFile);\n    \n    for (File file: unzippedFolder.listFiles()) { // May need to check if list is not null\n        try(BufferedReader br = new BufferedReader(new FileReader(file))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                // Here process you file\n                System.out.println(line);\n            }\n        }\n    }\n\n    return ResponseEntity.ok().build();\n}\n\nprivate File createTempZipFile(MultipartFile file) throws IOException {\n    File tempDir = Files.createTempDirectory(&quot;data&quot;).toFile();\n\n    byte[] buffer = new byte[1024];\n\n    try(ZipInputStream zis = new ZipInputStream(file.getInputStream())) {\n        ZipEntry zipEntry;\n\n        while ((zipEntry = zis.getNextEntry()) != null) {\n\n            if (!zipEntry.isDirectory()) {\n                FileOutputStream fos = new FileOutputStream(new File(tempDir, zipEntry.getName()));\n\n                int len;\n                while ((len = zis.read(buffer)) &gt; 0) {\n                    fos.write(buffer, 0, len);\n                }\n                fos.close();\n            }\n        }\n    }\n\n    return tempDir;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26067784,"reputation":1,"user_id":19767957,"display_name":"Yunus Emre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668421365,"creation_date":1668421365,"answer_id":74430105,"question_id":74403962,"body_markdown":"This problem is solved.\r\n\r\n    String unzip(MultipartFile file) throws IOException {\r\n        byte[] bytes = file.getBytes();\r\n        ByteArrayInputStream bufferedInputStream = new ByteArrayInputStream(bytes);\r\n\r\n        byte[] buffer = new byte[ZIP_BUFFER_SIZE];\r\n\r\n        try (ZipInputStream zis = new ZipInputStream(bufferedInputStream)) {\r\n            ZipEntry zipEntry;\r\n\r\n            while ((zipEntry = zis.getNextEntry()) != null) {\r\n\r\n                if (!zipEntry.isDirectory()) {\r\n                    ByteArrayOutputStream fos = new ByteArrayOutputStream();\r\n\r\n                    int len;\r\n                    while ((len = zis.read(buffer)) &gt; 0) {\r\n                        fos.write(buffer, 0, len);\r\n                    }\r\n\r\n                    String result = fos.toString(StandardCharsets.UTF_8);\r\n                    \r\n                    fos.close();\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"How can I convert zip file to input stream without file path?","body":"<p>This problem is solved.</p>\n<pre><code>String unzip(MultipartFile file) throws IOException {\n    byte[] bytes = file.getBytes();\n    ByteArrayInputStream bufferedInputStream = new ByteArrayInputStream(bytes);\n\n    byte[] buffer = new byte[ZIP_BUFFER_SIZE];\n\n    try (ZipInputStream zis = new ZipInputStream(bufferedInputStream)) {\n        ZipEntry zipEntry;\n\n        while ((zipEntry = zis.getNextEntry()) != null) {\n\n            if (!zipEntry.isDirectory()) {\n                ByteArrayOutputStream fos = new ByteArrayOutputStream();\n\n                int len;\n                while ((len = zis.read(buffer)) &gt; 0) {\n                    fos.write(buffer, 0, len);\n                }\n\n                String result = fos.toString(StandardCharsets.UTF_8);\n                \n                fos.close();\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":26067784,"reputation":1,"user_id":19767957,"display_name":"Yunus Emre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74430105,"answer_count":2,"score":0,"last_activity_date":1668421365,"creation_date":1668176924,"question_id":74403962,"body_markdown":"I am writing a rest api method. I have to get a zip file, then read the data in that file and write it to the database. But I have to achieve this without writing or extracting the zip file in the local. So I can&#39;t use the file path. How can I access the file? \r\n\r\n\r\n\r\n\r\nI tried to directly convert the file to inputstream with the following method. But it cannot find the file.\r\n(java.io.IOException: Couldn&#39;t find file /zipFile.zip)\r\n\r\n\r\n    InputStream getZipFileContentAsInputStream(@Nonnull String fileName) throws IOException {\r\n        if (!fileName.startsWith(&quot;/&quot;)) {\r\n            fileName = &quot;/&quot; + fileName;      // NOSONAR This &quot;/&quot; is portable, it&#39;s inside a JAR.\r\n        }\r\n        val inputStream = getClass().getResourceAsStream(fileName);\r\n        if (inputStream == null) {\r\n            throw new IOException(&quot;Couldn&#39;t find file &quot; + fileName);\r\n        }\r\n\r\n        if (fileName.endsWith(ZIP)) {\r\n            try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n                try (ZipInputStream bzIn = new ZipInputStream(inputStream)) {\r\n\r\n                    final byte[] buffer = new byte[ZIP_BUFFER_SIZE];\r\n                    int n;\r\n                    while (-1 != (n = bzIn.read(buffer))) {\r\n                        out.write(buffer, 0, n);\r\n                    }\r\n                    return new ByteArrayInputStream(out.toByteArray());\r\n                }\r\n            }\r\n        } else {\r\n            return inputStream;\r\n        }\r\n    }\r\n\r\nI send the file as the request param. \r\n\r\n    @PostMapping(&quot;/import/zip&quot;) public ResponseEntity&lt;Object&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException, UnsupportedOperationException { ... }","title":"How can I convert zip file to input stream without file path?","body":"<p>I am writing a rest api method. I have to get a zip file, then read the data in that file and write it to the database. But I have to achieve this without writing or extracting the zip file in the local. So I can't use the file path. How can I access the file?</p>\n<p>I tried to directly convert the file to inputstream with the following method. But it cannot find the file.\n(java.io.IOException: Couldn't find file /zipFile.zip)</p>\n<pre><code>InputStream getZipFileContentAsInputStream(@Nonnull String fileName) throws IOException {\n    if (!fileName.startsWith(&quot;/&quot;)) {\n        fileName = &quot;/&quot; + fileName;      // NOSONAR This &quot;/&quot; is portable, it's inside a JAR.\n    }\n    val inputStream = getClass().getResourceAsStream(fileName);\n    if (inputStream == null) {\n        throw new IOException(&quot;Couldn't find file &quot; + fileName);\n    }\n\n    if (fileName.endsWith(ZIP)) {\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n            try (ZipInputStream bzIn = new ZipInputStream(inputStream)) {\n\n                final byte[] buffer = new byte[ZIP_BUFFER_SIZE];\n                int n;\n                while (-1 != (n = bzIn.read(buffer))) {\n                    out.write(buffer, 0, n);\n                }\n                return new ByteArrayInputStream(out.toByteArray());\n            }\n        }\n    } else {\n        return inputStream;\n    }\n}\n</code></pre>\n<p>I send the file as the request param.</p>\n<pre><code>@PostMapping(&quot;/import/zip&quot;) public ResponseEntity&lt;Object&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException, UnsupportedOperationException { ... }\n</code></pre>\n"},{"tags":["java","arrays","object","traversal"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1668420745,"post_id":74429686,"comment_id":131392509,"body_markdown":"Check this: https://stackoverflow.com/questions/31851548/flatten-nested-arrays-in-java","body":"Check this: <a href=\"https://stackoverflow.com/questions/31851548/flatten-nested-arrays-in-java\" title=\"flatten nested arrays in java\">stackoverflow.com/questions/31851548/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668419759,"creation_date":1668419759,"answer_id":74429766,"question_id":74429686,"body_markdown":"You&#39;re only checking for integers, but you also have arrays in your array.\r\nTogether with the instanceof Integer check, you should also add a check on instanceof Object[]. Be careful that also the Object[] contains an Object[]. So you&#39;ll have to have the same check inside of it as well. You shall have 3 loops in the end, each of which will have checks on instanceof Integer and instanceof Object[] ","title":"How to iterate an object array in java?","body":"<p>You're only checking for integers, but you also have arrays in your array.\nTogether with the instanceof Integer check, you should also add a check on instanceof Object[]. Be careful that also the Object[] contains an Object[]. So you'll have to have the same check inside of it as well. You shall have 3 loops in the end, each of which will have checks on instanceof Integer and instanceof Object[]</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668420386,"creation_date":1668420386,"answer_id":74429917,"question_id":74429686,"body_markdown":"As there&#39;s no finite depth of nesting of Object[] you&#39;ll need a recursive approach:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Answer {\r\n    static void extractIntegers(Object[] source, List&lt;Integer&gt; destination) {\r\n        for (Object i : source) {\r\n            if (i instanceof Object[] array) {\r\n                extractIntegers(array, destination);\r\n            } else if (i instanceof Integer integer) {\r\n                destination.add(integer);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Unexpected: &quot; + i);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\r\n        Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10};\r\n        extractIntegers(array, ints);\r\n        System.out.println(ints);\r\n    }\r\n}\r\n```\r\n\r\nNote that I&#39;m using the recently added &quot;pattern matching for instanceof&quot; feature of Java.\r\nYou could ignore objects which are not `Object[]` or `Integer`. I&#39;ve chosen to throw an excpetion.","title":"How to iterate an object array in java?","body":"<p>As there's no finite depth of nesting of Object[] you'll need a recursive approach:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Answer {\n    static void extractIntegers(Object[] source, List&lt;Integer&gt; destination) {\n        for (Object i : source) {\n            if (i instanceof Object[] array) {\n                extractIntegers(array, destination);\n            } else if (i instanceof Integer integer) {\n                destination.add(integer);\n            } else {\n                throw new IllegalArgumentException(&quot;Unexpected: &quot; + i);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\n        Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10};\n        extractIntegers(array, ints);\n        System.out.println(ints);\n    }\n}\n</code></pre>\n<p>Note that I'm using the recently added &quot;pattern matching for instanceof&quot; feature of Java.\nYou could ignore objects which are not <code>Object[]</code> or <code>Integer</code>. I've chosen to throw an excpetion.</p>\n"},{"tags":[],"owner":{"account_id":19207127,"reputation":93,"user_id":14033758,"display_name":"AdmiJW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668420506,"creation_date":1668420506,"answer_id":74429932,"question_id":74429686,"body_markdown":"The operation you are looking for is called **flattening** an array. Your input is an array of `Object` which can consist of either `Integer` or `Object[]`. So we have to handle both cases here, and it is easier done with **recursion**:\r\n\r\nWrite a function `flatten(Object[] arr)` that takes in an `Object[]` as parameter. The function will return `List&lt;Integer&gt;` which is the result after `arr` is flattened. \r\n\r\nThe logic is simple for the recursive `flatten()` function:\r\n```\r\ncreate empty result_array\r\n\r\nfor each obj in Object[]:\r\n   if obj is an Integer:\r\n      add obj to the result_array\r\n   else obj is Object[]:\r\n      flat_obj := flatten(obj)\r\n      add all integers of flat_obj into result_array\r\n\r\nreturn result_array\r\n```\r\n\r\n\r\nHere are the Java code for the above logic implemented. Hope it helps!\r\n\r\n```java\r\npublic class Test {\r\n    public static List&lt;Integer&gt; flatten(Object[] array) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        for (Object o: array) {\r\n            if (o instanceof Object[])\r\n                result.addAll( flatten( (Object[]) o) );\r\n            else \r\n                result.add((Integer) o);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10};    \r\n        System.out.println( flatten(array) );\r\n    }\r\n}\r\n```\r\n","title":"How to iterate an object array in java?","body":"<p>The operation you are looking for is called <strong>flattening</strong> an array. Your input is an array of <code>Object</code> which can consist of either <code>Integer</code> or <code>Object[]</code>. So we have to handle both cases here, and it is easier done with <strong>recursion</strong>:</p>\n<p>Write a function <code>flatten(Object[] arr)</code> that takes in an <code>Object[]</code> as parameter. The function will return <code>List&lt;Integer&gt;</code> which is the result after <code>arr</code> is flattened.</p>\n<p>The logic is simple for the recursive <code>flatten()</code> function:</p>\n<pre><code>create empty result_array\n\nfor each obj in Object[]:\n   if obj is an Integer:\n      add obj to the result_array\n   else obj is Object[]:\n      flat_obj := flatten(obj)\n      add all integers of flat_obj into result_array\n\nreturn result_array\n</code></pre>\n<p>Here are the Java code for the above logic implemented. Hope it helps!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static List&lt;Integer&gt; flatten(Object[] array) {\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n\n        for (Object o: array) {\n            if (o instanceof Object[])\n                result.addAll( flatten( (Object[]) o) );\n            else \n                result.add((Integer) o);\n        }\n\n        return result;\n    }\n\n    public static void main(String[] args) {\n        Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10};    \n        System.out.println( flatten(array) );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26926006,"reputation":1,"user_id":20499295,"display_name":"Dushyant Suthar"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1668420977,"answer_count":3,"score":-1,"last_activity_date":1668420506,"creation_date":1668419353,"question_id":74429686,"body_markdown":"This question was asked to me in Razorpay. I could not come up with a solution. Can anyone help me in writing Java code for this.\r\n\r\n```java\r\nObject[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10};\r\n```\r\n\r\nAnswer should be:\r\n```java\r\nInteger[] = {1,2,3,4,5,6,7,8,9,10};\r\n```\r\ni.e. all the Integer elements should be stored\r\n\r\nWhat I did is\r\n```\r\nfor(Object obj: array){\r\n   if(obj instanceof Integer) list.add((int)(obj));\r\n}\r\n```\r\n\r\nWhich results in -&gt; 1,2,8,9,10. How do I add 3,4,5,6,7 inside list?","title":"How to iterate an object array in java?","body":"<p>This question was asked to me in Razorpay. I could not come up with a solution. Can anyone help me in writing Java code for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10};\n</code></pre>\n<p>Answer should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] = {1,2,3,4,5,6,7,8,9,10};\n</code></pre>\n<p>i.e. all the Integer elements should be stored</p>\n<p>What I did is</p>\n<pre><code>for(Object obj: array){\n   if(obj instanceof Integer) list.add((int)(obj));\n}\n</code></pre>\n<p>Which results in -&gt; 1,2,8,9,10. How do I add 3,4,5,6,7 inside list?</p>\n"},{"tags":["java","maven","automation","testng"],"answers":[{"tags":[],"owner":{"account_id":6925249,"reputation":365,"user_id":5316516,"display_name":"NothingBox"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575253236,"creation_date":1575253236,"answer_id":59131869,"question_id":59131829,"body_markdown":"You are trying to test the app not build it. Anyway, if you really want to build it and skip test, you should run \r\n\r\n```mvn clean install -DskipTest```\r\n\r\n","title":"mvn build fail when testng test fail","body":"<p>You are trying to test the app not build it. Anyway, if you really want to build it and skip test, you should run </p>\n\n<p><code>mvn clean install -DskipTest</code></p>\n"},{"tags":[],"owner":{"account_id":6477511,"reputation":886,"user_id":5015695,"display_name":"irfan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575291147,"creation_date":1575291147,"answer_id":59139323,"question_id":59131829,"body_markdown":"The Surefire Plugin is used during the test phase of the build lifecycle to execute the unit tests of an application\r\n\r\neither you can skip the test or if you still want to build the project even if there are test failures then you can use  `**&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;**` in pom.xml\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n        &lt;/configuration&gt;\r\n     &lt;/plugin&gt;","title":"mvn build fail when testng test fail","body":"<p>The Surefire Plugin is used during the test phase of the build lifecycle to execute the unit tests of an application</p>\n\n<p>either you can skip the test or if you still want to build the project even if there are test failures then you can use  <code>**&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;**</code> in pom.xml</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M4&lt;/version&gt;\n     &lt;configuration&gt;\n    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n    &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26926213,"reputation":26,"user_id":20499465,"display_name":"Talha Shahab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668420469,"creation_date":1668420469,"answer_id":74429927,"question_id":59131829,"body_markdown":"Use this option -Dmaven.test.failure.ignore","title":"mvn build fail when testng test fail","body":"<p>Use this option -Dmaven.test.failure.ignore</p>\n"}],"owner":{"account_id":11372854,"reputation":173,"user_id":11856988,"display_name":"Anonymous shooter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2939,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74429927,"answer_count":3,"score":2,"last_activity_date":1668420469,"creation_date":1575252886,"question_id":59131829,"body_markdown":"i have 2 different tests \r\n\r\n    public class testcase1 {\r\n    \r\n            @Test\r\n            public void testcase1() {\r\n                System.out.println(&quot;test1 &quot;);\r\n            }\r\n           @Test\r\n            public void testcase2() {\r\n                System.out.println(&quot;test 2 &quot;);\r\n            }\r\n           @Test\r\n            public void testcase3() {\r\n                 Assert.assertTrue(false);\r\n            }\r\n        }\r\n\r\nwhen i use `mvn clean test` in terminal its execute all testcases and i git the report but its mark as build fail\r\n\r\nhere is the log \r\n\r\n    [ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 7.588 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n    [ERROR] fail1.testcase2.testcase2  Time elapsed: 0.012 s  &lt;&lt;&lt; FAILURE!\r\n    java.lang.AssertionError: did not expect to find [true] but found [false]\r\n            at fail1.testcase2.testcase2(testcase2.java:10)\r\n\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Failures: \r\n    [ERROR]   testcase2.testcase2:10 did not expect to find [true] but found [false]\r\n    [INFO] \r\n    [ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  59.248 s\r\n    [INFO] Finished at: 2019-12-02T07:30:00+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test (default-test) on project neeewdev1: There are test failures.\r\n    [ERROR] \r\n    [ERROR] Please refer to /home/neeewdev1/target/surefire-reports for the individual test results.\r\n    [ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nplease some can you explain why when testng result fail build also fail? and how can i solve this problem?","title":"mvn build fail when testng test fail","body":"<p>i have 2 different tests </p>\n\n<pre><code>public class testcase1 {\n\n        @Test\n        public void testcase1() {\n            System.out.println(\"test1 \");\n        }\n       @Test\n        public void testcase2() {\n            System.out.println(\"test 2 \");\n        }\n       @Test\n        public void testcase3() {\n             Assert.assertTrue(false);\n        }\n    }\n</code></pre>\n\n<p>when i use <code>mvn clean test</code> in terminal its execute all testcases and i git the report but its mark as build fail</p>\n\n<p>here is the log </p>\n\n<pre><code>[ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 7.588 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] fail1.testcase2.testcase2  Time elapsed: 0.012 s  &lt;&lt;&lt; FAILURE!\njava.lang.AssertionError: did not expect to find [true] but found [false]\n        at fail1.testcase2.testcase2(testcase2.java:10)\n\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Failures: \n[ERROR]   testcase2.testcase2:10 did not expect to find [true] but found [false]\n[INFO] \n[ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  59.248 s\n[INFO] Finished at: 2019-12-02T07:30:00+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M4:test (default-test) on project neeewdev1: There are test failures.\n[ERROR] \n[ERROR] Please refer to /home/neeewdev1/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>please some can you explain why when testng result fail build also fail? and how can i solve this problem?</p>\n"},{"tags":["java","spring-boot","jpa","one-to-many","many-to-one"],"comments":[{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1668415998,"post_id":74428917,"comment_id":131390936,"body_markdown":"can you show me your charset sql","body":"can you show me your charset sql"},{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":1,"creation_date":1668417459,"post_id":74428917,"comment_id":131391455,"body_markdown":"In the Product and Category classes you can leave out two fields:\n**private List&lt;Product&gt;product**  and try again","body":"In the Product and Category classes you can leave out two fields: <b>private List&lt;Product&gt;product</b>  and try again"},{"owner":{"account_id":15786217,"reputation":35,"user_id":11390915,"display_name":"Emre"},"score":0,"creation_date":1668420127,"post_id":74428917,"comment_id":131392349,"body_markdown":"@lavantho0508_java_dev Yes it worked. But how will the binding process be done on the category side? Supplier has the same list. Why didn&#39;t we remove it?","body":"@lavantho0508_java_dev Yes it worked. But how will the binding process be done on the category side? Supplier has the same list. Why didn&#39;t we remove it?"}],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668420350,"creation_date":1668420350,"answer_id":74429909,"question_id":74428917,"body_markdown":"In the Product and Category classes you can leave out two fields: private List&lt;Product&gt;product and try again : link ref [link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16119531/hibernate-jpa-manytoone-vs-onetomany","title":"How To Solve com.fasterxml.jackson.databind.ser Error","body":"<p>In the Product and Category classes you can leave out two fields: private Listproduct and try again : link ref <a href=\"https://stackoverflow.com/questions/16119531/hibernate-jpa-manytoone-vs-onetomany\">link</a></p>\n"}],"owner":{"account_id":15786217,"reputation":35,"user_id":11390915,"display_name":"Emre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668420350,"creation_date":1668415510,"question_id":74428917,"body_markdown":"I am getting databind error. The error occurred after connecting manyToOne and oneToMany. I suspect this.\r\n\r\n*Product class contains multiple records belonging to category and supplier (Northwind Database)\r\n\r\n**Error:**\r\n\r\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\r\nThe problem started when I added the connection annotations here:\r\n\r\n**Product Entity:** \r\n\r\n    package com.JpaTraining.JpaTraining.entities.concretes;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;products&quot;)\r\n    public class Product {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;product_id&quot;)\r\n    \tprivate int productId;\r\n    \t@Column(name = &quot;product_name&quot;)\r\n    \tprivate String productName;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;supplier_id&quot;)\r\n    \tprivate Supplier supplier;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;category_id&quot;)\r\n    \tprivate Category category;\r\n    \t@Column(name = &quot;unit_price&quot;)\r\n    \tprivate double unitPrice;\r\n    \t@Column(name = &quot;units_in_stock&quot;)\r\n    \tprivate int unitsInStock;\r\n    \r\n    \tpublic Product() {\r\n    \t}\r\n    \r\n    \tpublic Product(int productId, String productName, Supplier supplier, Category category, double unitPrice,\r\n    \t\t\tint unitsInStock) {\r\n    \t\tthis.productId = productId;\r\n    \t\tthis.productName = productName;\r\n    \t\tthis.supplier = supplier;\r\n    \t\tthis.category = category;\r\n    \t\tthis.unitPrice = unitPrice;\r\n    \t\tthis.unitsInStock = unitsInStock;\r\n    \t}\r\n    }\r\n\r\n**Category Entity:** \r\n\r\n    package com.JpaTraining.JpaTraining.entities.concretes;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;categories&quot;)\r\n    public class Category {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;category_id&quot;)\r\n    \tprivate int categoryId;\r\n    \t@Column(name = &quot;category_name&quot;)\r\n    \tprivate String categoryName;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;category&quot;)\r\n    \tprivate List&lt;Product&gt; product;\r\n    \r\n    \tpublic Category() {\r\n    \t}\r\n    \r\n    \tpublic Category(int categoryId, String categoryName, List&lt;Product&gt; product) {\r\n    \t\tthis.categoryId = categoryId;\r\n    \t\tthis.categoryName = categoryName;\r\n    \t\tthis.product = product;\r\n    \t}\r\n    }\r\n\r\n**Supplier Entity:** \r\n\r\n    package com.JpaTraining.JpaTraining.entities.concretes;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;suppliers&quot;)\r\n    public class Supplier {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;supplier_id&quot;)\r\n    \tprivate int supplierId;\r\n    \t@Column(name = &quot;company_name&quot;)\r\n    \tprivate String supplierName;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;supplier&quot;)\r\n    \tprivate List&lt;Product&gt; product;\r\n    \r\n    \tpublic Supplier() {\r\n    \r\n    \t}\r\n    \r\n    \tpublic Supplier(int supplierId, String supplierName, List&lt;Product&gt; product) {\r\n    \t\tthis.supplierId = supplierId;\r\n    \t\tthis.supplierName = supplierName;\r\n    \t\tthis.product = product;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Charsets:**\r\n\r\n[![charsetOfProducts][1]][1]\r\n[![charsetOfSuppliers][2]][2]\r\n[![charsetOfCategories][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S5Y8J.png\r\n  [2]: https://i.stack.imgur.com/AuVpn.png\r\n  [3]: https://i.stack.imgur.com/aSYMc.png","title":"How To Solve com.fasterxml.jackson.databind.ser Error","body":"<p>I am getting databind error. The error occurred after connecting manyToOne and oneToMany. I suspect this.</p>\n<p>*Product class contains multiple records belonging to category and supplier (Northwind Database)</p>\n<p><strong>Error:</strong></p>\n<pre><code>at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n</code></pre>\n<p>The problem started when I added the connection annotations here:</p>\n<p><strong>Product Entity:</strong></p>\n<pre><code>package com.JpaTraining.JpaTraining.entities.concretes;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Data\n@Table(name = &quot;products&quot;)\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;product_id&quot;)\n    private int productId;\n    @Column(name = &quot;product_name&quot;)\n    private String productName;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;supplier_id&quot;)\n    private Supplier supplier;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;)\n    private Category category;\n    @Column(name = &quot;unit_price&quot;)\n    private double unitPrice;\n    @Column(name = &quot;units_in_stock&quot;)\n    private int unitsInStock;\n\n    public Product() {\n    }\n\n    public Product(int productId, String productName, Supplier supplier, Category category, double unitPrice,\n            int unitsInStock) {\n        this.productId = productId;\n        this.productName = productName;\n        this.supplier = supplier;\n        this.category = category;\n        this.unitPrice = unitPrice;\n        this.unitsInStock = unitsInStock;\n    }\n}\n</code></pre>\n<p><strong>Category Entity:</strong></p>\n<pre><code>package com.JpaTraining.JpaTraining.entities.concretes;\n\nimport java.util.List;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Data\n@Table(name = &quot;categories&quot;)\npublic class Category {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;category_id&quot;)\n    private int categoryId;\n    @Column(name = &quot;category_name&quot;)\n    private String categoryName;\n\n    @OneToMany(mappedBy = &quot;category&quot;)\n    private List&lt;Product&gt; product;\n\n    public Category() {\n    }\n\n    public Category(int categoryId, String categoryName, List&lt;Product&gt; product) {\n        this.categoryId = categoryId;\n        this.categoryName = categoryName;\n        this.product = product;\n    }\n}\n</code></pre>\n<p><strong>Supplier Entity:</strong></p>\n<pre><code>package com.JpaTraining.JpaTraining.entities.concretes;\n\nimport java.util.List;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Data\n@Table(name = &quot;suppliers&quot;)\npublic class Supplier {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;supplier_id&quot;)\n    private int supplierId;\n    @Column(name = &quot;company_name&quot;)\n    private String supplierName;\n\n    @OneToMany(mappedBy = &quot;supplier&quot;)\n    private List&lt;Product&gt; product;\n\n    public Supplier() {\n\n    }\n\n    public Supplier(int supplierId, String supplierName, List&lt;Product&gt; product) {\n        this.supplierId = supplierId;\n        this.supplierName = supplierName;\n        this.product = product;\n    }\n\n}\n</code></pre>\n<p><strong>Charsets:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/S5Y8J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S5Y8J.png\" alt=\"charsetOfProducts\" /></a>\n<a href=\"https://i.stack.imgur.com/AuVpn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AuVpn.png\" alt=\"charsetOfSuppliers\" /></a>\n<a href=\"https://i.stack.imgur.com/aSYMc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aSYMc.png\" alt=\"charsetOfCategories\" /></a></p>\n"},{"tags":["java","android","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665757500,"creation_date":1665727522,"answer_id":74064970,"question_id":74064858,"body_markdown":"XML file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;!--Widget for exoplayer view--&gt;\r\n        &lt;com.google.android.exoplayer2.ui.StyledPlayerView\r\n            android:id=&quot;@+id/exoPlayerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nClass file- \r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        var playerView: StyledPlayerView? = null\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n          playerView = findViewById(R.id.exoPlayerView)\r\n            val dataSourceFactory: DataSource.Factory = DefaultHttpDataSource.Factory()\r\n            val hlsMediaSource: HlsMediaSource = HlsMediaSource.Factory(dataSourceFactory)\r\n                .createMediaSource(MediaItem.fromUri(&quot;http://cdnapi.kaltura.com/p/1878761/sp/187876100/playManifest/entryId/1_usagz19w/flavorIds/1_5spqkazq,1_nslowvhp,1_boih5aji,1_qahc37ag/format/applehttp/protocol/http/a.m3u8&quot;))\r\n            val player = ExoPlayer.Builder(this).build()\r\n            player.setMediaSource(hlsMediaSource)\r\n            playerView?.player = player\r\n            player.prepare()\r\n            player.playWhenReady = true\r\n        }\r\n    }\r\n\r\nManifest File- \r\n\r\n       &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nand [add][1] this code\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53984915/18362930\r\n","title":"is there a way to play http hls media resource in exoplayer","body":"<p>XML file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;!--Widget for exoplayer view--&gt;\n    &lt;com.google.android.exoplayer2.ui.StyledPlayerView\n        android:id=&quot;@+id/exoPlayerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Class file-</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    var playerView: StyledPlayerView? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n      playerView = findViewById(R.id.exoPlayerView)\n        val dataSourceFactory: DataSource.Factory = DefaultHttpDataSource.Factory()\n        val hlsMediaSource: HlsMediaSource = HlsMediaSource.Factory(dataSourceFactory)\n            .createMediaSource(MediaItem.fromUri(&quot;http://cdnapi.kaltura.com/p/1878761/sp/187876100/playManifest/entryId/1_usagz19w/flavorIds/1_5spqkazq,1_nslowvhp,1_boih5aji,1_qahc37ag/format/applehttp/protocol/http/a.m3u8&quot;))\n        val player = ExoPlayer.Builder(this).build()\n        player.setMediaSource(hlsMediaSource)\n        playerView?.player = player\n        player.prepare()\n        player.playWhenReady = true\n    }\n}\n</code></pre>\n<p>Manifest File-</p>\n<pre><code>   &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>and <a href=\"https://stackoverflow.com/a/53984915/18362930\">add</a> this code</p>\n"},{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668419976,"creation_date":1668419976,"answer_id":74429822,"question_id":74064858,"body_markdown":"By default, ExoPlayer will not play HTTP content now - many players and browser now impose this restriction as their standard behaviour.\r\n\r\nFrom the current , at the the time of writing ExoPlayer documentation (https://exoplayer.dev/troubleshooting.html): \r\n\r\n&gt; Fixing “Cleartext HTTP traffic not permitted” errors\r\n&gt;\r\n&gt;This error will occur if your app requests cleartext HTTP traffic (i.e., http:// rather than https://) when its Network Security Configuration does not permit it. If your app targets Android 9 (API level 28) or later, cleartext HTTP traffic is disabled by the default configuration.\r\n&gt;\r\n&gt;If your app needs to work with cleartext HTTP traffic then you need to use a Network Security Configuration that permits it. Please see Android’s network security documentation for details. To enable all cleartext HTTP traffic, you can simply add android:usesCleartextTraffic=&quot;true&quot; to the application element of your app’s AndroidManifest.xml.\r\n&gt;\r\n&gt;The ExoPlayer demo app uses the default Network Security Configuration, and so does not allow cleartext HTTP traffic. You can enable it using the instructions above.\r\n\r\nAs a first step you can try as they suggest and add &#39;android:usesCleartextTraffic=&quot;true&quot;&#39; to your manifest.","title":"is there a way to play http hls media resource in exoplayer","body":"<p>By default, ExoPlayer will not play HTTP content now - many players and browser now impose this restriction as their standard behaviour.</p>\n<p>From the current , at the the time of writing ExoPlayer documentation (<a href=\"https://exoplayer.dev/troubleshooting.html\" rel=\"nofollow noreferrer\">https://exoplayer.dev/troubleshooting.html</a>):</p>\n<blockquote>\n<p>Fixing “Cleartext HTTP traffic not permitted” errors</p>\n<p>This error will occur if your app requests cleartext HTTP traffic (i.e., http:// rather than https://) when its Network Security Configuration does not permit it. If your app targets Android 9 (API level 28) or later, cleartext HTTP traffic is disabled by the default configuration.</p>\n<p>If your app needs to work with cleartext HTTP traffic then you need to use a Network Security Configuration that permits it. Please see Android’s network security documentation for details. To enable all cleartext HTTP traffic, you can simply add android:usesCleartextTraffic=&quot;true&quot; to the application element of your app’s AndroidManifest.xml.</p>\n<p>The ExoPlayer demo app uses the default Network Security Configuration, and so does not allow cleartext HTTP traffic. You can enable it using the instructions above.</p>\n</blockquote>\n<p>As a first step you can try as they suggest and add 'android:usesCleartextTraffic=&quot;true&quot;' to your manifest.</p>\n"}],"owner":{"account_id":25716323,"reputation":11,"user_id":19474049,"display_name":"Milan singh Chouhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668419976,"creation_date":1665726838,"question_id":74064858,"body_markdown":"i am trying to play a hls uri with exoplayer in java \r\n\r\nwhem i give a uri with https protocol it plays well but in case of http protocol the content is not ben played\r\n\r\nbut when i play the same links with other players like mxplayer or vlc media player it is played well\r\n\r\ncan anypne help\r\n\r\n\r\n\r\n`ExoPlayer player = new ExoPlayer.Builder(this).build();\r\n\r\n        binding.playerView.setPlayer(player);\r\n\r\n        MediaItem mediaItem = MediaItem.fromUri(&quot;http://cdnapi.kaltura.com/p/1878761/sp/187876100/playManifest/entryId/1_usagz19w/flavorIds/1_5spqkazq,1_nslowvhp,1_boih5aji,1_qahc37ag/format/applehttp/protocol/http/a.m3u8&quot;);\r\n        player.addMediaItem(mediaItem);\r\n\r\n        player.prepare();\r\n\r\n        player.setPlayWhenReady(true);`\r\n\r\n","title":"is there a way to play http hls media resource in exoplayer","body":"<p>i am trying to play a hls uri with exoplayer in java</p>\n<p>whem i give a uri with https protocol it plays well but in case of http protocol the content is not ben played</p>\n<p>but when i play the same links with other players like mxplayer or vlc media player it is played well</p>\n<p>can anypne help</p>\n<p>`ExoPlayer player = new ExoPlayer.Builder(this).build();</p>\n<pre><code>    binding.playerView.setPlayer(player);\n\n    MediaItem mediaItem = MediaItem.fromUri(&quot;http://cdnapi.kaltura.com/p/1878761/sp/187876100/playManifest/entryId/1_usagz19w/flavorIds/1_5spqkazq,1_nslowvhp,1_boih5aji,1_qahc37ag/format/applehttp/protocol/http/a.m3u8&quot;);\n    player.addMediaItem(mediaItem);\n\n    player.prepare();\n\n    player.setPlayWhenReady(true);`\n</code></pre>\n"},{"tags":["java","jdbc","resultset","sqlexception"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1668419116,"post_id":74429596,"comment_id":131392040,"body_markdown":"Does this answer your question? [What does the following Oracle error mean: invalid column index](https://stackoverflow.com/questions/5969081/what-does-the-following-oracle-error-mean-invalid-column-index)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5969081/what-does-the-following-oracle-error-mean-invalid-column-index\">What does the following Oracle error mean: invalid column index</a>"},{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1668419217,"post_id":74429596,"comment_id":131392073,"body_markdown":"did you try with index = 0??","body":"did you try with index = 0??"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1668419243,"post_id":74429596,"comment_id":131392080,"body_markdown":"@Sobhan no, those indexes are 1-based, not 0-based. See [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSet.html#getString(int))","body":"@Sobhan no, those indexes are 1-based, not 0-based. See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSet.html#getString(int)\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":2,"creation_date":1668419254,"post_id":74429596,"comment_id":131392084,"body_markdown":"It looks like you&#39;re increasing `index` with every record you read. If there are more results than columns you will get this error.","body":"It looks like you&#39;re increasing <code>index</code> with every record you read. If there are more results than columns you will get this error."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1668419333,"post_id":74429596,"comment_id":131392108,"body_markdown":"Why are you doing  `index++;` inside your loop? That line makes no sense. You always want to select the first and only column your SQL would return","body":"Why are you doing  <code>index++;</code> inside your loop? That line makes no sense. You always want to select the first and only column your SQL would return"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668420026,"post_id":74429596,"comment_id":131392321,"body_markdown":"why not use `searchResultSet.getString(&quot;EMAIL&quot;)` ?","body":"why not use <code>searchResultSet.getString(&quot;EMAIL&quot;)</code> ?"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1668429694,"post_id":74429596,"comment_id":131395353,"body_markdown":"Shouldn&#39;t the loop check for searchResultSet.hasNext(), and inside the loop retrieve the record by calling searchResultSet.next()?","body":"Shouldn&#39;t the loop check for searchResultSet.hasNext(), and inside the loop retrieve the record by calling searchResultSet.next()?"}],"answers":[{"tags":[],"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668419877,"creation_date":1668419389,"answer_id":74429690,"question_id":74429596,"body_markdown":"The failure is in getEmail(ResultSet searchResultSet) function.\r\n\r\nWhy are you increasing the index value?\r\n\r\nThe index variable is the column index, not row index.\r\n\r\nYou loop through the result set with the .next() in your while cycle.\r\n\r\nKeep index value on 1, and never change it.","title":"ResultSet Invalid column index","body":"<p>The failure is in getEmail(ResultSet searchResultSet) function.</p>\n<p>Why are you increasing the index value?</p>\n<p>The index variable is the column index, not row index.</p>\n<p>You loop through the result set with the .next() in your while cycle.</p>\n<p>Keep index value on 1, and never change it.</p>\n"}],"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668419877,"creation_date":1668418938,"question_id":74429596,"body_markdown":"I have this error: Caused by: java.sql.SQLException: Invalid column index, when I want to get the emails form the resultSet in order to send an emails by looping in the search result and get one email by one.\r\n\r\n``` \r\npublic List&lt;UserDto&gt; getEmail() {\r\n    \r\n    Connection connection = null;\r\n    \r\n    PreparedStatement preparedStatement = null;\r\n    \r\n    ResultSet searchResultSet = null;\r\n    \r\n    try {\r\n    \r\n        connection = getConnection();\r\n    \r\n        preparedStatement = connection.prepareStatement(\r\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;);\r\n                \r\n        searchResultSet = preparedStatement.executeQuery();\r\n    \r\n        return getEmail(searchResultSet);\r\n    \r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    } finally {\r\n        try {\r\n            preparedStatement.close();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nprivate List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\r\n    List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\r\n\r\n    UserDto userDto = null;\r\n    int index = 1;\r\n    while (searchResultSet.next()) {\r\n        userDto = new UserDto();\r\n\r\n        userDto .setEmailAddress(searchResultSet.getString(index));\r\n        result.add(userDto);\r\n        index++;\r\n     }\r\n     return result;\r\n}\r\n``` \r\n\r\n\r\nsecond class that I call the getEmail method:\r\n``` \r\nDelegate delegate = new Delegate();\r\n\r\nUserDto userDto = new UserDto();\r\n\r\nList&lt;UserDto&gt; users = delegate.getEmail();\r\n\r\ndelegate.sendNotification(&quot;****&quot;, &quot;****&quot;, users .toString(), &quot;&quot;, &quot;&quot;,\r\n                   &quot;&quot;, body);\r\n\r\n\r\n``` ","title":"ResultSet Invalid column index","body":"<p>I have this error: Caused by: java.sql.SQLException: Invalid column index, when I want to get the emails form the resultSet in order to send an emails by looping in the search result and get one email by one.</p>\n<pre><code>public List&lt;UserDto&gt; getEmail() {\n    \n    Connection connection = null;\n    \n    PreparedStatement preparedStatement = null;\n    \n    ResultSet searchResultSet = null;\n    \n    try {\n    \n        connection = getConnection();\n    \n        preparedStatement = connection.prepareStatement(\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;);\n                \n        searchResultSet = preparedStatement.executeQuery();\n    \n        return getEmail(searchResultSet);\n    \n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    } finally {\n        try {\n            preparedStatement.close();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\nprivate List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\n    List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\n\n    UserDto userDto = null;\n    int index = 1;\n    while (searchResultSet.next()) {\n        userDto = new UserDto();\n\n        userDto .setEmailAddress(searchResultSet.getString(index));\n        result.add(userDto);\n        index++;\n     }\n     return result;\n}\n</code></pre>\n<p>second class that I call the getEmail method:</p>\n<pre><code>Delegate delegate = new Delegate();\n\nUserDto userDto = new UserDto();\n\nList&lt;UserDto&gt; users = delegate.getEmail();\n\ndelegate.sendNotification(&quot;****&quot;, &quot;****&quot;, users .toString(), &quot;&quot;, &quot;&quot;,\n                   &quot;&quot;, body);\n\n\n</code></pre>\n"},{"tags":["java","rest","httpresponse","http-delete"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668418096,"post_id":74429356,"comment_id":131391700,"body_markdown":"Does this answer your question? [How to set respond header values in Spring Boot rest service method?](https://stackoverflow.com/questions/45152484/how-to-set-respond-header-values-in-spring-boot-rest-service-method)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45152484/how-to-set-respond-header-values-in-spring-boot-rest-service-method\">How to set respond header values in Spring Boot rest service method?</a>"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1668418692,"post_id":74429356,"comment_id":131391904,"body_markdown":"http 204 is defined as &quot;no content&quot;, so i suppose setting a body will be ignored by spring... e.g. using `http 202 - accepted` could be an option","body":"http 204 is defined as &quot;no content&quot;, so i suppose setting a body will be ignored by spring... e.g. using <code>http 202 - accepted</code> could be an option"}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668419811,"creation_date":1668419811,"answer_id":74429777,"question_id":74429356,"body_markdown":"As Marc correctly pointed out in his comment, returning `204` and a body at the same time makes no sense, as that is not what `204` signifies. I suggest you simply return the following:\r\n\r\n```\r\nreturn new ResponseEntity&lt;&gt;(&quot;Successfully deleted&quot;, HttpStatus.OK);\r\n```\r\nYou don&#39;t really need any custom headers for what you described, but if you still feel the need for one, you can do it  like so\r\n```         \r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.add(&quot;custom-header&quot;, &quot;value&quot;);\r\nreturn new ResponseEntity&lt;&gt;(&quot;Successfully deleted&quot;, headers, HttpStatus.OK);\r\n```\r\n","title":"How to add custom header in 204 response (NO_CONTENT)?","body":"<p>As Marc correctly pointed out in his comment, returning <code>204</code> and a body at the same time makes no sense, as that is not what <code>204</code> signifies. I suggest you simply return the following:</p>\n<pre><code>return new ResponseEntity&lt;&gt;(&quot;Successfully deleted&quot;, HttpStatus.OK);\n</code></pre>\n<p>You don't really need any custom headers for what you described, but if you still feel the need for one, you can do it  like so</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.add(&quot;custom-header&quot;, &quot;value&quot;);\nreturn new ResponseEntity&lt;&gt;(&quot;Successfully deleted&quot;, headers, HttpStatus.OK);\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74429777,"answer_count":1,"score":0,"last_activity_date":1668419811,"creation_date":1668417651,"question_id":74429356,"body_markdown":"I have the following endpoint:\r\n\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;204&quot;, content = {@Content(schema = @Schema(implementation = UserDTO.class))}, description = &quot;Successful&quot;)\r\n    })\r\n    @DeleteMapping(&quot;/Users/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; deleteUser(@PathVariable(&quot;id&quot;) String id) {\r\n        userService.deleteUser(id);\r\n        return ResponseEntity.noContent().header(&quot;Successfully deleted&quot;, &quot;0&quot;).build();\r\n    }\r\nAnd I need to customise 204 response - return not just status and empty body but 204 code + body which will be contained &quot;Successfully deleted&quot; message. I&#39;ve tried to add header manually (in code above), but it didn&#39;t work properly.\r\nCould you give me a piece of advice - how can I add it by different way?","title":"How to add custom header in 204 response (NO_CONTENT)?","body":"<p>I have the following endpoint:</p>\n<pre><code>@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;204&quot;, content = {@Content(schema = @Schema(implementation = UserDTO.class))}, description = &quot;Successful&quot;)\n})\n@DeleteMapping(&quot;/Users/{id}&quot;)\npublic ResponseEntity&lt;String&gt; deleteUser(@PathVariable(&quot;id&quot;) String id) {\n    userService.deleteUser(id);\n    return ResponseEntity.noContent().header(&quot;Successfully deleted&quot;, &quot;0&quot;).build();\n}\n</code></pre>\n<p>And I need to customise 204 response - return not just status and empty body but 204 code + body which will be contained &quot;Successfully deleted&quot; message. I've tried to add header manually (in code above), but it didn't work properly.\nCould you give me a piece of advice - how can I add it by different way?</p>\n"},{"tags":["java","dictionary","collections","hashmap"],"comments":[{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1236802126,"post_id":636126,"comment_id":449364,"body_markdown":"What is your declared type for fileParameters?","body":"What is your declared type for fileParameters?"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1236802487,"post_id":636126,"comment_id":449384,"body_markdown":"You&#39;ll probably get a ClassCastException too.","body":"You&#39;ll probably get a ClassCastException too."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":1,"creation_date":1236803761,"post_id":636126,"comment_id":449465,"body_markdown":"fileParameters should be a Map and not a HashMap.","body":"fileParameters should be a Map and not a HashMap."}],"answers":[{"tags":[],"owner":{"account_id":23673,"reputation":4578,"user_id":59499,"accept_rate":95,"display_name":"AndreiM"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1236802036,"creation_date":1236802036,"answer_id":636134,"question_id":636126,"body_markdown":"If you need an instance of HashMap, the best way is:\r\n\r\n    fileParameters = new HashMap&lt;String,String&gt;();\r\n\r\nSince Map is an interface, you need to pick some class that instantiates it if you want to create an empty instance. HashMap seems as good as any other - so just use that.\r\n","title":"Best way to create an empty map in Java","body":"<p>If you need an instance of HashMap, the best way is:</p>\n\n<pre><code>fileParameters = new HashMap&lt;String,String&gt;();\n</code></pre>\n\n<p>Since Map is an interface, you need to pick some class that instantiates it if you want to create an empty instance. HashMap seems as good as any other - so just use that.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1236802122,"creation_date":1236802122,"answer_id":636142,"question_id":636126,"body_markdown":"[The emptyMap method of the Collections class][1].\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#emptyMap%28%29\r\n","title":"Best way to create an empty map in Java","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#emptyMap%28%29\" rel=\"noreferrer\">The emptyMap method of the Collections class</a>.</p>\n"},{"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1236802170,"creation_date":1236802123,"answer_id":636143,"question_id":636126,"body_markdown":"[Collections.emptyMap()][1]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#emptyMap()","title":"Best way to create an empty map in Java","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#emptyMap()\" rel=\"noreferrer\">Collections.emptyMap()</a></p>\n"},{"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1236802227,"creation_date":1236802227,"answer_id":636149,"question_id":636126,"body_markdown":"Either `Collections.emptyMap()`, or if type inference doesn&#39;t work in your case,  \r\n`Collections.&lt;String, String&gt;emptyMap()`","title":"Best way to create an empty map in Java","body":"<p>Either <code>Collections.emptyMap()</code>, or if type inference doesn't work in your case,<br>\n<code>Collections.&lt;String, String&gt;emptyMap()</code></p>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":302,"is_accepted":true,"score":302,"last_activity_date":1539811660,"creation_date":1236802249,"answer_id":636151,"question_id":636126,"body_markdown":"**1)** If the Map can be immutable:\r\n\r\n    Collections.emptyMap()\r\n\r\n    // or, in some cases:\r\n    Collections.&lt;String, String&gt;emptyMap()\r\n\r\nYou&#39;ll have to use the latter sometimes when the compiler cannot automatically figure out what kind of Map is needed (this is called [*type inference*][1]). For example, consider a method declared like this:     \r\n    \r\n    public void foobar(Map&lt;String, String&gt; map){ ... }\r\n\r\nWhen passing the empty Map directly to it, you have to be explicit about the type:\r\n\r\n    foobar(Collections.emptyMap());                 // doesn&#39;t compile\r\n    foobar(Collections.&lt;String, String&gt;emptyMap()); // works fine\r\n\r\n**2)** If you need to be able to modify the Map, then for example:\r\n\r\n    new HashMap&lt;String, String&gt;()\r\n\r\n(as [tehblanx pointed out](https://stackoverflow.com/questions/636126/best-way-to-create-an-empty-map-in-java/636134#636134))\r\n\r\n----\r\n\r\n**Addendum**: If your project uses [**Guava**][2], you have the following alternatives:\r\n\r\n**1)** Immutable map:\r\n\r\n    ImmutableMap.of()\r\n    // or:\r\n    ImmutableMap.&lt;String, String&gt;of()\r\n\r\nGranted, no big benefits here compared to `Collections.emptyMap()`. [From the Javadoc][3]:\r\n\r\n&gt; This map behaves and performs comparably to `Collections.emptyMap()`,\r\n&gt; and is preferable mainly for consistency and maintainability of your\r\n&gt; code.\r\n\r\n**2)** Map that you can modify: \r\n\r\n    Maps.newHashMap()\r\n    // or:\r\n    Maps.&lt;String, String&gt;newHashMap()\r\n\r\n[`Maps`][4] contains similar factory methods for instantiating other types of maps as well, such as [`TreeMap`][5] or [`LinkedHashMap`][6].\r\n\r\n----\r\n**Update (2018)**: On **Java 9** or newer, the shortest code for creating an immutable empty map is:\r\n\r\n    Map.of()\r\n\r\n...using the new [convenience factory methods][7] from [JEP 269][8]. &#128526;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\r\n  [2]: https://github.com/google/guava\r\n  [3]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ImmutableMap.html#of%28%29\r\n  [4]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html\r\n  [5]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html#newTreeMap%28%29\r\n  [6]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html#newLinkedHashMap%28%29\r\n  [7]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\r\n  [8]: http://openjdk.java.net/jeps/269","title":"Best way to create an empty map in Java","body":"<p><strong>1)</strong> If the Map can be immutable:</p>\n\n<pre><code>Collections.emptyMap()\n\n// or, in some cases:\nCollections.&lt;String, String&gt;emptyMap()\n</code></pre>\n\n<p>You'll have to use the latter sometimes when the compiler cannot automatically figure out what kind of Map is needed (this is called <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"noreferrer\"><em>type inference</em></a>). For example, consider a method declared like this:     </p>\n\n<pre><code>public void foobar(Map&lt;String, String&gt; map){ ... }\n</code></pre>\n\n<p>When passing the empty Map directly to it, you have to be explicit about the type:</p>\n\n<pre><code>foobar(Collections.emptyMap());                 // doesn't compile\nfoobar(Collections.&lt;String, String&gt;emptyMap()); // works fine\n</code></pre>\n\n<p><strong>2)</strong> If you need to be able to modify the Map, then for example:</p>\n\n<pre><code>new HashMap&lt;String, String&gt;()\n</code></pre>\n\n<p>(as <a href=\"https://stackoverflow.com/questions/636126/best-way-to-create-an-empty-map-in-java/636134#636134\">tehblanx pointed out</a>)</p>\n\n<hr>\n\n<p><strong>Addendum</strong>: If your project uses <a href=\"https://github.com/google/guava\" rel=\"noreferrer\"><strong>Guava</strong></a>, you have the following alternatives:</p>\n\n<p><strong>1)</strong> Immutable map:</p>\n\n<pre><code>ImmutableMap.of()\n// or:\nImmutableMap.&lt;String, String&gt;of()\n</code></pre>\n\n<p>Granted, no big benefits here compared to <code>Collections.emptyMap()</code>. <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ImmutableMap.html#of%28%29\" rel=\"noreferrer\">From the Javadoc</a>:</p>\n\n<blockquote>\n  <p>This map behaves and performs comparably to <code>Collections.emptyMap()</code>,\n  and is preferable mainly for consistency and maintainability of your\n  code.</p>\n</blockquote>\n\n<p><strong>2)</strong> Map that you can modify: </p>\n\n<pre><code>Maps.newHashMap()\n// or:\nMaps.&lt;String, String&gt;newHashMap()\n</code></pre>\n\n<p><a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html\" rel=\"noreferrer\"><code>Maps</code></a> contains similar factory methods for instantiating other types of maps as well, such as <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html#newTreeMap%28%29\" rel=\"noreferrer\"><code>TreeMap</code></a> or <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Maps.html#newLinkedHashMap%28%29\" rel=\"noreferrer\"><code>LinkedHashMap</code></a>.</p>\n\n<hr>\n\n<p><strong>Update (2018)</strong>: On <strong>Java 9</strong> or newer, the shortest code for creating an immutable empty map is:</p>\n\n<pre><code>Map.of()\n</code></pre>\n\n<p>...using the new <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\" rel=\"noreferrer\">convenience factory methods</a> from <a href=\"http://openjdk.java.net/jeps/269\" rel=\"noreferrer\">JEP 269</a>. 😎</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1236802350,"creation_date":1236802350,"answer_id":636156,"question_id":636126,"body_markdown":"What about :\r\n\r\n[Map&amp;lt;String, String&gt; s = Collections.emptyMap();][1]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#emptyMap()","title":"Best way to create an empty map in Java","body":"<p>What about :</p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#emptyMap()\" rel=\"nofollow noreferrer\">Map&lt;String, String> s = Collections.emptyMap();</a></p>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417971296,"creation_date":1334418264,"answer_id":10154904,"question_id":636126,"body_markdown":"Since in many cases an empty map is used for null-safe design, you can utilize the `nullToEmpty` utility method:\r\n\r\n    class MapUtils {\r\n\r\n      static &lt;K,V&gt; Map&lt;K,V&gt; nullToEmpty(Map&lt;K,V&gt; map) {\r\n        if (map != null) {\r\n          return map;\r\n        } else {\r\n           return Collections.&lt;K,V&gt;emptyMap(); // or guava ImmutableMap.of()\r\n        }\r\n      }\r\n\r\n    }  \r\n\r\nSimilarly for sets:\r\n\r\n    class SetUtils {\r\n\r\n      static &lt;T&gt; Set&lt;T&gt; nullToEmpty(Set&lt;T&gt; set) {\r\n        if (set != null) {\r\n          return set;\r\n        } else {\r\n          return Collections.&lt;T&gt;emptySet();\r\n        }\r\n      }\r\n\r\n    }\r\n\r\nand lists:\r\n\r\n    class ListUtils {\r\n\r\n      static &lt;T&gt; List&lt;T&gt; nullToEmpty(List&lt;T&gt; list) {\r\n        if (list != null) {\r\n          return list;\r\n        } else {\r\n          return Collections.&lt;T&gt;emptyList();\r\n        }\r\n      }\r\n\r\n    }","title":"Best way to create an empty map in Java","body":"<p>Since in many cases an empty map is used for null-safe design, you can utilize the <code>nullToEmpty</code> utility method:</p>\n\n<pre><code>class MapUtils {\n\n  static &lt;K,V&gt; Map&lt;K,V&gt; nullToEmpty(Map&lt;K,V&gt; map) {\n    if (map != null) {\n      return map;\n    } else {\n       return Collections.&lt;K,V&gt;emptyMap(); // or guava ImmutableMap.of()\n    }\n  }\n\n}  \n</code></pre>\n\n<p>Similarly for sets:</p>\n\n<pre><code>class SetUtils {\n\n  static &lt;T&gt; Set&lt;T&gt; nullToEmpty(Set&lt;T&gt; set) {\n    if (set != null) {\n      return set;\n    } else {\n      return Collections.&lt;T&gt;emptySet();\n    }\n  }\n\n}\n</code></pre>\n\n<p>and lists:</p>\n\n<pre><code>class ListUtils {\n\n  static &lt;T&gt; List&lt;T&gt; nullToEmpty(List&lt;T&gt; list) {\n    if (list != null) {\n      return list;\n    } else {\n      return Collections.&lt;T&gt;emptyList();\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4770958,"reputation":380,"user_id":3855723,"display_name":"Rakesh Singh Balhara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668419486,"creation_date":1667991795,"answer_id":74373834,"question_id":636126,"body_markdown":"You can use:\r\n\r\n``Collections&lt;String, String&gt;.emptyMap();``","title":"Best way to create an empty map in Java","body":"<p>You can use:</p>\n<p><code>Collections&lt;String, String&gt;.emptyMap();</code></p>\n"}],"owner":{"account_id":27969,"reputation":2220,"user_id":74280,"accept_rate":62,"display_name":"JorgeO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211414,"favorite_count":0,"down_vote_count":0,"up_vote_count":156,"accepted_answer_id":636151,"answer_count":8,"score":156,"last_activity_date":1668419486,"creation_date":1236801940,"question_id":636126,"body_markdown":"I need to create an empty map.\r\n\r\n    if (fileParameters == null)\r\n        fileParameters = (HashMap&lt;String, String&gt;) Collections.EMPTY_MAP;\r\n\r\nThe problem is that the above code produces this warning: \r\n**Type safety: Unchecked cast from Map to HashMap&lt;String,String&gt;**\r\n\r\nWhat is the best way to create this empty map?","title":"Best way to create an empty map in Java","body":"<p>I need to create an empty map.</p>\n\n<pre><code>if (fileParameters == null)\n    fileParameters = (HashMap&lt;String, String&gt;) Collections.EMPTY_MAP;\n</code></pre>\n\n<p>The problem is that the above code produces this warning: \n<strong>Type safety: Unchecked cast from Map to HashMap</strong></p>\n\n<p>What is the best way to create this empty map?</p>\n"},{"tags":["java","android","onkeyup"],"answers":[{"tags":[],"owner":{"account_id":98821,"reputation":90665,"user_id":267269,"accept_rate":86,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1284803979,"creation_date":1284803979,"answer_id":3741199,"question_id":3741147,"body_markdown":"Just for an `EditText`. its achieve by `setOnClickListener()` itself. No Need for the `onKeyUp()`. Because that will perform by a click/Touch Event. right? Just do this.\r\n\r\n    edittext_object.setOnClickListener(new OnClickListener() {\r\n         public void onClick(View v) {\r\n        //do what you need \r\n        }\r\n    }","title":"Android Development: How To Use onKeyUp?","body":"<p>Just for an <code>EditText</code>. its achieve by <code>setOnClickListener()</code> itself. No Need for the <code>onKeyUp()</code>. Because that will perform by a click/Touch Event. right? Just do this.</p>\n\n<pre><code>edittext_object.setOnClickListener(new OnClickListener() {\n     public void onClick(View v) {\n    //do what you need \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24560,"reputation":15519,"user_id":62570,"accept_rate":97,"display_name":"Milan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1284804094,"creation_date":1284804094,"answer_id":3741204,"question_id":3741147,"body_markdown":"Writing this out of my head but it should be among the following lines:\r\n\r\n    text.setKeyListener(new KeyListener() {\r\n        @Override\r\n    \tpublic boolean onKeyUp(int keyCode, KeyEvent event) {\r\n    \t\t\r\n\r\n    \t\tif(keyCode == KeyEvent.KEYCODE_0) dosomething // pick the custom key from keyEvent\r\n\r\n\r\n    \t\treturn super.onKeyUp(keyCode, event);\r\n    \t}\r\n    });","title":"Android Development: How To Use onKeyUp?","body":"<p>Writing this out of my head but it should be among the following lines:</p>\n\n<pre><code>text.setKeyListener(new KeyListener() {\n    @Override\n    public boolean onKeyUp(int keyCode, KeyEvent event) {\n\n\n        if(keyCode == KeyEvent.KEYCODE_0) dosomething // pick the custom key from keyEvent\n\n\n        return super.onKeyUp(keyCode, event);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300139,"reputation":640,"user_id":607118,"accept_rate":50,"display_name":"R Hughes"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1470814435,"creation_date":1298048724,"answer_id":5044242,"question_id":3741147,"body_markdown":"CORRECTION:\r\n\r\nFor a while, I used a generic **onKeyListener**. I soon found that my code was being called twice. Once with the key down and once with key up. I now use the following listener and only call the code once. \r\n`&quot;if (event.getAction() == KeyEvent.ACTION_UP)&quot;` is the key.\r\n\r\n\tOnKeyListener keyListener = new OnKeyListener() {\r\n\r\n\t\t@Override\r\n\t\tpublic boolean onKey(View v, int keyCode, KeyEvent event) {\r\n\t\t\tif (event.getAction() == KeyEvent.ACTION_UP) {\r\n\t\t\t\t//do something here\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\r\nI found that `onKeyUp()` is called automatically for every control in the Activity. If this is what you want, add it to the Activity just like you add the `onCreate()`\r\n\r\nExample:\r\n\r\n\tpublic boolean onKeyUp(int keyCode, KeyEvent event) {\r\n\t\t//do something here\r\n\t\treturn false;\r\n\t};\r\n\r\nI know this is a old question, but maybe this will help others with the same issue.","title":"Android Development: How To Use onKeyUp?","body":"<p>CORRECTION:</p>\n\n<p>For a while, I used a generic <strong>onKeyListener</strong>. I soon found that my code was being called twice. Once with the key down and once with key up. I now use the following listener and only call the code once. \n<code>\"if (event.getAction() == KeyEvent.ACTION_UP)\"</code> is the key.</p>\n\n<pre><code>OnKeyListener keyListener = new OnKeyListener() {\n\n    @Override\n    public boolean onKey(View v, int keyCode, KeyEvent event) {\n        if (event.getAction() == KeyEvent.ACTION_UP) {\n            //do something here\n        }\n        return false;\n    }\n};\n</code></pre>\n\n<p>I found that <code>onKeyUp()</code> is called automatically for every control in the Activity. If this is what you want, add it to the Activity just like you add the <code>onCreate()</code></p>\n\n<p>Example:</p>\n\n<pre><code>public boolean onKeyUp(int keyCode, KeyEvent event) {\n    //do something here\n    return false;\n};\n</code></pre>\n\n<p>I know this is a old question, but maybe this will help others with the same issue.</p>\n"},{"tags":[],"owner":{"account_id":310052,"reputation":2933,"user_id":622828,"display_name":"Damjan"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1314389538,"creation_date":1314389538,"answer_id":7210068,"question_id":3741147,"body_markdown":"The very right way is to use TextWatcher class.\r\n\r\n    EditText tv_filter = (EditText) findViewById(R.id.filter);\r\n\r\n    TextWatcher fieldValidatorTextWatcher = new TextWatcher() {\r\n\t\t\t@Override\r\n\t\t\tpublic void afterTextChanged(Editable s) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\t\t\t\tif (filterLongEnough()) {\r\n\t\t\t\t\tpopulateList();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tprivate boolean filterLongEnough() {\r\n\t\t\t\treturn tv_filter.getText().toString().trim().length() &gt; 2;\r\n\t\t\t}\r\n\t\t};\r\n\t\ttv_filter.addTextChangedListener(fieldValidatorTextWatcher);","title":"Android Development: How To Use onKeyUp?","body":"<p>The very right way is to use TextWatcher class.</p>\n\n<pre><code>EditText tv_filter = (EditText) findViewById(R.id.filter);\n\nTextWatcher fieldValidatorTextWatcher = new TextWatcher() {\n        @Override\n        public void afterTextChanged(Editable s) {\n        }\n\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n            if (filterLongEnough()) {\n                populateList();\n            }\n        }\n\n        private boolean filterLongEnough() {\n            return tv_filter.getText().toString().trim().length() &gt; 2;\n        }\n    };\n    tv_filter.addTextChangedListener(fieldValidatorTextWatcher);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6561862,"reputation":596,"user_id":5230044,"accept_rate":100,"display_name":"cammando"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468682664,"creation_date":1468682664,"answer_id":38412566,"question_id":3741147,"body_markdown":"You may consider using the following code: \r\n\r\n     \r\n     @Override \r\n     public boolean onKeyUp(int keyCode, KeyEvent event) {\r\n        switch (keyCode) {\r\n            ...\r\n            case KeyEvent.KEYCODE_J:\r\n                if (event.isShiftPressed()) {\r\n                    fireLaser();\r\n                } else {\r\n                    fireMachineGun();\r\n                }\r\n                return true;\r\n            case KeyEvent.KEYCODE_K:\r\n                if (event.isShiftPressed()) {\r\n                    fireSeekingMissle();\r\n                } else {\r\n                    fireMissile();\r\n                }\r\n                return true;\r\n            default:\r\n                return super.onKeyUp(keyCode, event);\r\n        } }\r\n\r\nHere In the end we have called the super.onkeyUp method. Which handles the event when the user do not presses the valid key.\r\n\r\n\r\nFor more details you may consider following [link][1].\r\n\r\n\r\n  [1]: https://developer.android.com/training/keyboard-input/commands.html","title":"Android Development: How To Use onKeyUp?","body":"<p>You may consider using the following code: </p>\n\n<pre><code> @Override \n public boolean onKeyUp(int keyCode, KeyEvent event) {\n    switch (keyCode) {\n        ...\n        case KeyEvent.KEYCODE_J:\n            if (event.isShiftPressed()) {\n                fireLaser();\n            } else {\n                fireMachineGun();\n            }\n            return true;\n        case KeyEvent.KEYCODE_K:\n            if (event.isShiftPressed()) {\n                fireSeekingMissle();\n            } else {\n                fireMissile();\n            }\n            return true;\n        default:\n            return super.onKeyUp(keyCode, event);\n    } }\n</code></pre>\n\n<p>Here In the end we have called the super.onkeyUp method. Which handles the event when the user do not presses the valid key.</p>\n\n<p>For more details you may consider following <a href=\"https://developer.android.com/training/keyboard-input/commands.html\" rel=\"nofollow\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":2065745,"reputation":1093,"user_id":1841283,"display_name":"Udi Reshef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563013597,"creation_date":1563012969,"answer_id":57018199,"question_id":3741147,"body_markdown":"If you use device with no touch but with hard keypad buttons (keyboard) use this code to control the events of moving left right up down and ok. use onkeyDown and not onKeyUp because the onKeyup will return the next button events:\r\n\r\n            Button myButton = (Button) findViewById(R.id.my_btn);\r\n            myButton .setKeyListener(new KeyListener() {\r\n            @Override\r\n            public int getInputType() {\r\n                return 0;\r\n            }\r\n\r\n            @Override\r\n            public boolean onKeyDown(View view, Editable editable, int keyCode, KeyEvent keyEvent) {\r\n                Log.d(&quot;myTag&quot;, &quot;onKeyDown code: &quot; +keyCode);\r\n                switch (keyCode) {\r\n                    case KeyEvent.KEYCODE_DPAD_RIGHT:\r\n                        // USER_MOVE_RIGHT();\r\n                        return true;\r\n                    case KeyEvent.KEYCODE_DPAD_LEFT:\r\n                        //USER_MOVE_LEFT());\r\n                        return true;\r\n                    case KeyEvent.KEYCODE_DPAD_DOWN:\r\n                        //USER_MOVE_DOWN());\r\n                        return true;\r\n                    case KeyEvent.KEYCODE_DPAD_UP:\r\n                        //USER_MOVE_UP();\r\n                        return true;\r\n                    case KeyEvent.KEYCODE_DPAD_CENTER:\r\n                        //USER_Press_OK()\r\n                        return true;\r\n                                   }\r\n                return false;\r\n            }","title":"Android Development: How To Use onKeyUp?","body":"<p>If you use device with no touch but with hard keypad buttons (keyboard) use this code to control the events of moving left right up down and ok. use onkeyDown and not onKeyUp because the onKeyup will return the next button events:</p>\n\n<pre><code>        Button myButton = (Button) findViewById(R.id.my_btn);\n        myButton .setKeyListener(new KeyListener() {\n        @Override\n        public int getInputType() {\n            return 0;\n        }\n\n        @Override\n        public boolean onKeyDown(View view, Editable editable, int keyCode, KeyEvent keyEvent) {\n            Log.d(\"myTag\", \"onKeyDown code: \" +keyCode);\n            switch (keyCode) {\n                case KeyEvent.KEYCODE_DPAD_RIGHT:\n                    // USER_MOVE_RIGHT();\n                    return true;\n                case KeyEvent.KEYCODE_DPAD_LEFT:\n                    //USER_MOVE_LEFT());\n                    return true;\n                case KeyEvent.KEYCODE_DPAD_DOWN:\n                    //USER_MOVE_DOWN());\n                    return true;\n                case KeyEvent.KEYCODE_DPAD_UP:\n                    //USER_MOVE_UP();\n                    return true;\n                case KeyEvent.KEYCODE_DPAD_CENTER:\n                    //USER_Press_OK()\n                    return true;\n                               }\n            return false;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20763975,"reputation":1,"user_id":15248440,"display_name":"Essa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614635831,"creation_date":1614635831,"answer_id":66430271,"question_id":3741147,"body_markdown":"\r\n\t\t\r\n\t\t‏\t\tpublic boolean onKeyDown(int keyCode, KeyEvent event) {\r\n\t\t\tswitch (keyCode) {\r\n\t\t\t‏\t\t\t\tcase KeyEvent.KEYCODE_BACK:\r\n\t\t\t‏\t\t\t\t\tactionLabel.setText(&quot;KEYCODE_BACK key pressed&quot;);\r\n\t\t\t‏\t\t\t\t\tToast.makeText(this, &quot;Press again back for exit&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t‏\t\t\t\t\tcounter++;\r\n\t\t\t‏\t\t\t\t\tif (counter &gt; 1) {\r\n\t\t\t‏\t\t\t\t\t\tsuper.onBackPressed();\r\n\t\t\t‏\t\t\t\t\t}\r\n\t\t\t‏\t\t\t\t\treturn true;\r\n\t\t\t‏\t\t\t\tcase KeyEvent.KEYCODE_VOLUME_UP:\r\n\t\t\t‏\t\t\t\t\tactionLabel.setText(&quot;VOLUME_UP key pressed&quot;);\r\n\t\t\t‏\t\t\t\t\treturn true;\r\n\t\t\t‏\t\t\t\tcase KeyEvent.KEYCODE_VOLUME_DOWN:\r\n\t\t\t‏\t\t\t\t\tactionLabel.setText(&quot;VOLUME_DOWN key pressed&quot;);\r\n\t\t\t‏\t\t\t\t\treturn true;\r\n\t\t\t‏\t\t\t}\r\n\t\t\treturn super.onKeyDown(keyCode, event);\r\n\t\t\t‏\t\t}\r\n\t\t// catches the onKeyUp button event\r\n\t\t‏\t\t@Override\r\n\t\t‏\t\tpublic boolean onKeyUp(int keyCode, KeyEvent event) {\r\n\t\t‏\t\t\tswitch (keyCode) {\r\n\t\t‏\t\t\t\tcase KeyEvent.KEYCODE_BACK:\r\n\t\t‏\t\t\t\t\tactionLabel.setText(&quot;KEYCODE_BACK key released&quot;);\r\n\t\t‏\t\t\t\t\treturn true;\r\n\t\t‏\t\t\t\tcase KeyEvent.KEYCODE_VOLUME_UP:\r\n\t\t‏\t\t\t\t\tactionLabel.setText(&quot;VOLUME_UP key released&quot;);\r\n\t\t‏\t\t\t\t\treturn true;\r\n\t\t‏\t\t\t\tcase KeyEvent.KEYCODE_VOLUME_DOWN:\r\n\t\t‏\t\t\t\t\tactionLabel.setText(&quot;VOLUME_DOWN key released&quot;);\r\n\t\t‏\t\t\t\t\treturn true;\r\n\t\t‏\t\t\t}\r\n\t\t‏\t\t\treturn super.onKeyDown(keyCode, event);\r\n\t\t‏\t\t}\r\n\t\t// works for API level 5 and lower\r\n\t\t‏\t\t@Override\r\n\t\t‏\t\tpublic void onBackPressed() {\r\n\t\t‏\t\t\tactionLabel.setText(&quot;BACK key pressed&quot;);\r\n\t\t‏\t\t\tsuper.onBackPressed();\r\n\t\t‏\t\t}\r\n\t\t// catches the long press button event (longer than 2 seconds)\r\n\t\t‏\t\t@Override\r\n\t\t‏\t\tpublic boolean onKeyLongPress(int keyCode, KeyEvent event) {\r\n\t\t‏\t\t\tToast.makeText(this, &quot;Pressed for a long time&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t‏\t\t\treturn true;\r\n\t\t‏\t\t}\r\n\t\t// catches the on touch event on screen and shows the specific pixels\r\n\t\t‏\t\t// touched\r\n\t\t‏\t\t@Override\r\n\t\t‏\t\tpublic boolean onTouchEvent(MotionEvent event) {\r\n\t\t‏\t\t\tfloat x = event.getX();\r\n\t\t‏\t\t\tfloat y = event.getY();\r\n\t\t‏\t\t\tactionLabel.setText(&quot;Touch press on x: &quot; + x + &quot; y: &quot; + y);\r\n\t\t‏\t\t\treturn true;\r\n\t\t‏\t\t}}","title":"Android Development: How To Use onKeyUp?","body":"<pre><code>    ‏       public boolean onKeyDown(int keyCode, KeyEvent event) {\n        switch (keyCode) {\n        ‏               case KeyEvent.KEYCODE_BACK:\n        ‏                   actionLabel.setText(&quot;KEYCODE_BACK key pressed&quot;);\n        ‏                   Toast.makeText(this, &quot;Press again back for exit&quot;, Toast.LENGTH_SHORT).show();\n        ‏                   counter++;\n        ‏                   if (counter &gt; 1) {\n        ‏                       super.onBackPressed();\n        ‏                   }\n        ‏                   return true;\n        ‏               case KeyEvent.KEYCODE_VOLUME_UP:\n        ‏                   actionLabel.setText(&quot;VOLUME_UP key pressed&quot;);\n        ‏                   return true;\n        ‏               case KeyEvent.KEYCODE_VOLUME_DOWN:\n        ‏                   actionLabel.setText(&quot;VOLUME_DOWN key pressed&quot;);\n        ‏                   return true;\n        ‏           }\n        return super.onKeyDown(keyCode, event);\n        ‏       }\n    // catches the onKeyUp button event\n    ‏       @Override\n    ‏       public boolean onKeyUp(int keyCode, KeyEvent event) {\n    ‏           switch (keyCode) {\n    ‏               case KeyEvent.KEYCODE_BACK:\n    ‏                   actionLabel.setText(&quot;KEYCODE_BACK key released&quot;);\n    ‏                   return true;\n    ‏               case KeyEvent.KEYCODE_VOLUME_UP:\n    ‏                   actionLabel.setText(&quot;VOLUME_UP key released&quot;);\n    ‏                   return true;\n    ‏               case KeyEvent.KEYCODE_VOLUME_DOWN:\n    ‏                   actionLabel.setText(&quot;VOLUME_DOWN key released&quot;);\n    ‏                   return true;\n    ‏           }\n    ‏           return super.onKeyDown(keyCode, event);\n    ‏       }\n    // works for API level 5 and lower\n    ‏       @Override\n    ‏       public void onBackPressed() {\n    ‏           actionLabel.setText(&quot;BACK key pressed&quot;);\n    ‏           super.onBackPressed();\n    ‏       }\n    // catches the long press button event (longer than 2 seconds)\n    ‏       @Override\n    ‏       public boolean onKeyLongPress(int keyCode, KeyEvent event) {\n    ‏           Toast.makeText(this, &quot;Pressed for a long time&quot;, Toast.LENGTH_SHORT).show();\n    ‏           return true;\n    ‏       }\n    // catches the on touch event on screen and shows the specific pixels\n    ‏       // touched\n    ‏       @Override\n    ‏       public boolean onTouchEvent(MotionEvent event) {\n    ‏           float x = event.getX();\n    ‏           float y = event.getY();\n    ‏           actionLabel.setText(&quot;Touch press on x: &quot; + x + &quot; y: &quot; + y);\n    ‏           return true;\n    ‏       }}\n</code></pre>\n"}],"owner":{"account_id":188491,"reputation":1987,"user_id":427234,"accept_rate":63,"display_name":"PriceyUK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49367,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":7210068,"answer_count":7,"score":20,"last_activity_date":1668419276,"creation_date":1284803267,"question_id":3741147,"body_markdown":"I&#39;m new to Android development and I can&#39;t seem to find a good guide on how to use an `onKeyUp` listener.\r\n\r\nIn my app, I have a big `EditText`, when someone presses and releases a key in that `EditText` I want to call a function that will perform regular expressions in that `EditText`.\r\n\r\nI don&#39;t know how I&#39;d use the `onKeyUp`. Could someone please show me how?","title":"Android Development: How To Use onKeyUp?","body":"<p>I'm new to Android development and I can't seem to find a good guide on how to use an <code>onKeyUp</code> listener.</p>\n<p>In my app, I have a big <code>EditText</code>, when someone presses and releases a key in that <code>EditText</code> I want to call a function that will perform regular expressions in that <code>EditText</code>.</p>\n<p>I don't know how I'd use the <code>onKeyUp</code>. Could someone please show me how?</p>\n"},{"tags":["java","spring","kubernetes"],"comments":[{"owner":{"account_id":2476830,"reputation":11126,"user_id":2157294,"accept_rate":78,"display_name":"Rick Rainey"},"score":2,"creation_date":1628105327,"post_id":68654505,"comment_id":121335260,"body_markdown":"Hard to say why you&#39;re only seeing this in a K8S deployment.  I suspect in your non-K8S environment your application get&#39;s warmed up before accepting requests (just guessing).  Anyway, you could configure your container with a readinessProbe to make an initial request.  This would insure that your users never have to experience this delay on initial requests.","body":"Hard to say why you&#39;re only seeing this in a K8S deployment.  I suspect in your non-K8S environment your application get&#39;s warmed up before accepting requests (just guessing).  Anyway, you could configure your container with a readinessProbe to make an initial request.  This would insure that your users never have to experience this delay on initial requests."},{"owner":{"account_id":3302072,"reputation":3582,"user_id":2777988,"display_name":"Rakesh Gupta"},"score":0,"creation_date":1628108843,"post_id":68654505,"comment_id":121336454,"body_markdown":"It could be the case that you have your cache setup on a network file store, which could introduce slowness. try disabling response caching and see if it helps.","body":"It could be the case that you have your cache setup on a network file store, which could introduce slowness. try disabling response caching and see if it helps."},{"owner":{"account_id":19053579,"reputation":295,"user_id":13911247,"display_name":"gindex"},"score":0,"creation_date":1628157492,"post_id":68654505,"comment_id":121348136,"body_markdown":"Is you app getting throttled by k8s? There is a high chance that on the first request several pools (threads, db connections) are created and your applications need more resources during the warm up phase. Depending on your limits the app gets throttled and therefore slower in k8s compared to non-k8s env. Check k8s metrics, e.g. cpu, cpu throttling, number of threads, memory and other jvm/stack related metrics.","body":"Is you app getting throttled by k8s? There is a high chance that on the first request several pools (threads, db connections) are created and your applications need more resources during the warm up phase. Depending on your limits the app gets throttled and therefore slower in k8s compared to non-k8s env. Check k8s metrics, e.g. cpu, cpu throttling, number of threads, memory and other jvm/stack related metrics."},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1628168866,"post_id":68654505,"comment_id":121352716,"body_markdown":"Please show the deployment/replicaset/pod yaml and loadbalancer/ingress configuration","body":"Please show the deployment/replicaset/pod yaml and loadbalancer/ingress configuration"}],"answers":[{"tags":[],"owner":{"account_id":25967454,"reputation":11,"user_id":19683214,"display_name":"Thomas Meyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668419237,"creation_date":1668419237,"answer_id":74429666,"question_id":68654505,"body_markdown":"I got the same problem with using **redhat openshift container platform**, **helm** and a **spring boot application**. \r\n\r\nMy start up time until the spring application is ready is up to 90 seconds in the ocp (=openshift container platform). On my local machine the application starts within 5 seconds.\r\n\r\nAlso when i make my first request the response time is between 5 - 15 seconds and after that around 100ms - 300ms. I have no idea why it takes so long on the first request. I&#39;m also using keycloak and on the first request it maybe takes that long, because you have to get the keycloak access token, but that shouldn&#39;t take that long, or should it?","title":"Slow initial http requests with spring in k8s","body":"<p>I got the same problem with using <strong>redhat openshift container platform</strong>, <strong>helm</strong> and a <strong>spring boot application</strong>.</p>\n<p>My start up time until the spring application is ready is up to 90 seconds in the ocp (=openshift container platform). On my local machine the application starts within 5 seconds.</p>\n<p>Also when i make my first request the response time is between 5 - 15 seconds and after that around 100ms - 300ms. I have no idea why it takes so long on the first request. I'm also using keycloak and on the first request it maybe takes that long, because you have to get the keycloak access token, but that shouldn't take that long, or should it?</p>\n"}],"owner":{"account_id":156773,"reputation":1750,"user_id":374265,"accept_rate":74,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668419237,"creation_date":1628092809,"question_id":68654505,"body_markdown":"I have a simple java app with a controller that simply returns a hello world jsp. It works as expected deploying in a non-k8s environment, however when deploying on k8s it takes about 15 seconds to respond the first time the page is requested. After the first request, performance is back to normal responding in a split second. I&#39;ve enabled debug logs for spring but nothing much useful there, just 15 seconds of no logs:\r\n\r\n    2021-08-04 16:38:16,856 DEBUG org.springframework.web.servlet.view.InternalResourceView: Forwarding to [/WEB-INF/jsp/test.jsp]\r\n    ...\r\n    2021-08-04 16:38:31,452 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter: Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5073a20b\r\n    2021-08-04 16:38:31,453 DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository$SaveToSessionResponseWrapper: SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.\r\n    2021-08-04 16:38:31,455 DEBUG org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor: Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    2021-08-04 16:38:31,459 DEBUG org.springframework.web.servlet.FrameworkServlet: Completed 200 OK\r\n    2021-08-04 16:38:31,459 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter: Chain processed normally\r\n    2021-08-04 16:38:31,460 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter: SecurityContextHolder now cleared, as request processing completed\r\n\r\nI was wondering if anyone has any advice on what might be going on, or how I could investigate further? ","title":"Slow initial http requests with spring in k8s","body":"<p>I have a simple java app with a controller that simply returns a hello world jsp. It works as expected deploying in a non-k8s environment, however when deploying on k8s it takes about 15 seconds to respond the first time the page is requested. After the first request, performance is back to normal responding in a split second. I've enabled debug logs for spring but nothing much useful there, just 15 seconds of no logs:</p>\n<pre><code>2021-08-04 16:38:16,856 DEBUG org.springframework.web.servlet.view.InternalResourceView: Forwarding to [/WEB-INF/jsp/test.jsp]\n...\n2021-08-04 16:38:31,452 DEBUG org.springframework.security.web.header.writers.HstsHeaderWriter: Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5073a20b\n2021-08-04 16:38:31,453 DEBUG org.springframework.security.web.context.HttpSessionSecurityContextRepository$SaveToSessionResponseWrapper: SecurityContext is empty or contents are anonymous - context will not be stored in HttpSession.\n2021-08-04 16:38:31,455 DEBUG org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor: Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2021-08-04 16:38:31,459 DEBUG org.springframework.web.servlet.FrameworkServlet: Completed 200 OK\n2021-08-04 16:38:31,459 DEBUG org.springframework.security.web.access.ExceptionTranslationFilter: Chain processed normally\n2021-08-04 16:38:31,460 DEBUG org.springframework.security.web.context.SecurityContextPersistenceFilter: SecurityContextHolder now cleared, as request processing completed\n</code></pre>\n<p>I was wondering if anyone has any advice on what might be going on, or how I could investigate further?</p>\n"},{"tags":["java","oracle","oracle-sqldeveloper"],"answers":[{"tags":[],"owner":{"account_id":1376723,"reputation":4004,"user_id":1310604,"accept_rate":100,"display_name":"RyanS"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1522863441,"creation_date":1522863441,"answer_id":49657159,"question_id":49657158,"body_markdown":"After pulling my hair out, a coworker discovered the cause: I was using multiple monitors.\r\n\r\nIt turns out the splash screen was trying to display on the main monitor but wasnt able to for some reason. Disconecting my extra displays solved the issue and allowed me to launch the application. After launching I plugged in the displays and dragged the window over to them, no issue.\r\n\r\n**TLDR: set your main monitor to the Macbook screen or use one monitor to launch**\r\n\r\nYou can change the main monitor by using spotlight search for `displays` and then drag the white bar to your actual computers display (in my case the macbook screen).","title":"Why does Oracle SQL Developer have null pointer exception on startup on Mac OS","body":"<p>After pulling my hair out, a coworker discovered the cause: I was using multiple monitors.</p>\n\n<p>It turns out the splash screen was trying to display on the main monitor but wasnt able to for some reason. Disconecting my extra displays solved the issue and allowed me to launch the application. After launching I plugged in the displays and dragged the window over to them, no issue.</p>\n\n<p><strong>TLDR: set your main monitor to the Macbook screen or use one monitor to launch</strong></p>\n\n<p>You can change the main monitor by using spotlight search for <code>displays</code> and then drag the white bar to your actual computers display (in my case the macbook screen).</p>\n"},{"tags":[],"owner":{"account_id":3899224,"reputation":425,"user_id":3227457,"display_name":"Gerrit Griebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668419205,"creation_date":1668419205,"answer_id":74429658,"question_id":49657158,"body_markdown":"Exactly that exception appeared for me with macOS 12.6.1 and single monitor. Update of SQL Developer 22.2.0.173.2018 to 22.2.1.234.1810 helped.","title":"Why does Oracle SQL Developer have null pointer exception on startup on Mac OS","body":"<p>Exactly that exception appeared for me with macOS 12.6.1 and single monitor. Update of SQL Developer 22.2.0.173.2018 to 22.2.1.234.1810 helped.</p>\n"}],"owner":{"account_id":1376723,"reputation":4004,"user_id":1310604,"accept_rate":100,"display_name":"RyanS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5187,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49657159,"answer_count":2,"score":8,"last_activity_date":1668419205,"creation_date":1522863441,"question_id":49657158,"body_markdown":"When I launch a fresh install of Oracle SQL Developer the icon bounces in the dock a bit then disappears.\r\n\r\nWhen I launch it via CLI I get this error:\r\n\r\n    Oracle SQL Developer\r\n     Copyright (c) 1997, 2017, Oracle and/or its affiliates. All rights reserved.\r\n    \r\n    java.lang.IllegalStateException: Problem creating splash screen on ETD.\r\n        at oracle.ide.osgi.boot.SplashScreenImpl.SynchronizeWithEdt(SplashScreenImpl.java:541)\r\n        at oracle.ide.osgi.boot.api.SplashScreen.createInstance(SplashScreen.java:66)\r\n        at oracle.ide.osgi.boot.OracleIdeLauncher.showSplashScreen(OracleIdeLauncher.java:828)\r\n        at oracle.ide.osgi.boot.OracleIdeLauncher.main(OracleIdeLauncher.java:109)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.desktop/java.awt.EventQueue.invokeAndWait(EventQueue.java:1328)\r\n        at java.desktop/java.awt.EventQueue.invokeAndWait(EventQueue.java:1303)\r\n        at java.desktop/javax.swing.SwingUtilities.invokeAndWait(SwingUtilities.java:1475)\r\n        at oracle.ide.osgi.boot.SplashScreenImpl.SynchronizeWithEdt(SplashScreenImpl.java:537)\r\n        ... 3 more\r\n    Caused by: java.lang.NullPointerException\r\n        at java.desktop/java.awt.Window.init(Window.java:495)\r\n        at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:535)\r\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:423)\r\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:388)\r\n        at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\r\n        at oracle.ide.osgi.boot.OracleIdeLauncher$2.getHiddenWindow(OracleIdeLauncher.java:807)\r\n        at oracle.ide.osgi.boot.api.SplashScreen$1.run(SplashScreen.java:61)\r\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:303)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)\r\n        at java.desktop/java.awt.EventQueue.access$500(EventQueue.java:97)\r\n        at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:717)\r\n        at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:711)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:89)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:734)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:199)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    A fatal error in the IDE boostraping code. Exiting ...\r\n\r\nI have tried to verify the JDK version is correct, and there are no other missing dependencies. What is causing this error?\r\n\r\n**Edit:** \r\n\r\nCurrently connected via Dell D6000 dock over minidisplay port, using DisplayLink drivers\r\n\r\nMacBook Pro (15-inch, 2017), High Sierra v10.13.3, DisplayLinkDriver v4.0.0 (85514)\r\n\r\n    $ java -version\r\n    java version &quot;9.0.4&quot;\r\n    Java(TM) SE Runtime Environment (build 9.0.4+11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)","title":"Why does Oracle SQL Developer have null pointer exception on startup on Mac OS","body":"<p>When I launch a fresh install of Oracle SQL Developer the icon bounces in the dock a bit then disappears.</p>\n\n<p>When I launch it via CLI I get this error:</p>\n\n<pre><code>Oracle SQL Developer\n Copyright (c) 1997, 2017, Oracle and/or its affiliates. All rights reserved.\n\njava.lang.IllegalStateException: Problem creating splash screen on ETD.\n    at oracle.ide.osgi.boot.SplashScreenImpl.SynchronizeWithEdt(SplashScreenImpl.java:541)\n    at oracle.ide.osgi.boot.api.SplashScreen.createInstance(SplashScreen.java:66)\n    at oracle.ide.osgi.boot.OracleIdeLauncher.showSplashScreen(OracleIdeLauncher.java:828)\n    at oracle.ide.osgi.boot.OracleIdeLauncher.main(OracleIdeLauncher.java:109)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.desktop/java.awt.EventQueue.invokeAndWait(EventQueue.java:1328)\n    at java.desktop/java.awt.EventQueue.invokeAndWait(EventQueue.java:1303)\n    at java.desktop/javax.swing.SwingUtilities.invokeAndWait(SwingUtilities.java:1475)\n    at oracle.ide.osgi.boot.SplashScreenImpl.SynchronizeWithEdt(SplashScreenImpl.java:537)\n    ... 3 more\nCaused by: java.lang.NullPointerException\n    at java.desktop/java.awt.Window.init(Window.java:495)\n    at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:535)\n    at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:423)\n    at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:388)\n    at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\n    at oracle.ide.osgi.boot.OracleIdeLauncher$2.getHiddenWindow(OracleIdeLauncher.java:807)\n    at oracle.ide.osgi.boot.api.SplashScreen$1.run(SplashScreen.java:61)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:303)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:764)\n    at java.desktop/java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:717)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:711)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:89)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:734)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:199)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nA fatal error in the IDE boostraping code. Exiting ...\n</code></pre>\n\n<p>I have tried to verify the JDK version is correct, and there are no other missing dependencies. What is causing this error?</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>Currently connected via Dell D6000 dock over minidisplay port, using DisplayLink drivers</p>\n\n<p>MacBook Pro (15-inch, 2017), High Sierra v10.13.3, DisplayLinkDriver v4.0.0 (85514)</p>\n\n<pre><code>$ java -version\njava version \"9.0.4\"\nJava(TM) SE Runtime Environment (build 9.0.4+11)\nJava HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate","keytool","mutual-authentication"],"owner":{"account_id":5671174,"reputation":341,"user_id":4485743,"accept_rate":27,"display_name":"Craig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668419153,"creation_date":1521122794,"question_id":49301607,"body_markdown":"I&#39;m trying to set up mutual (2 way) SSL authentication. Ultimately I will have a mulesoft application (as client) calling a webapp (as the server). For now I am testing using Firefox browser as the client to simplify testing.\r\n\r\nI followed this tutorial \r\n[http://www.baeldung.com/x-509-authentication-in-spring-security][1]\r\n\r\n\r\n  [1]: http://www.baeldung.com/x-509-authentication-in-spring-security\r\n\r\nand managed to get this working fine. This uses a self signed certificate for the server and a self signed certificate for the client which is installed into firefox to make the client call. \r\n\r\nSo far so good...\r\n\r\nHowever I am having issues once I try and use certificates signed by my company.\r\n\r\nSo I have a client certificate which my company has signed. This has been provided as a client.cer file. I can view the details of this and see that it is issued by the company intermediary (which in turn is issued by the company root CA)\r\n\r\nThe client CSR was created with \r\n\r\n    keytool -genkey -alias client -keyalg RSA -keysize 2048 -keystore client.jks -dname &quot;CN=client-dev,OU=Dept, O=Company, L=London, ST=Greater London, C=GB&quot;\r\n\r\n    keytool -certreq -alias client -file client.csr -keystore client.jks\r\n\r\nThe next step of my testing is to try and use this company signed client.cer file to call my server on localhost (which is using a self signed certificate as per the tutorial).\r\n\r\nOn having received the signed client.cer file the steps I have taken are...\r\n\r\n - Import the companies Root.cer into the keystore I used to generate my\r\n   client certificate signing request. \r\n - Import the companies Intermediate.cer into the same keystore. \r\n - Import the client.cer into the same keystore \r\n - I then export a p12 file from this keystore and install this into firefox as my client certificate.\r\n\r\nThe commands I use to do this are as follows\r\n\r\n    keytool -import -trustcacerts -alias primaryintermediate -file Root.cer -keystore client.jks -storepass &lt;pwd&gt;\r\n\r\n    keytool -import -trustcacerts -alias secondaryintermediate -file Int.cer -keystore client.jks -storepass &lt;pwd&gt;\r\n\r\n    keytool -import -trustcacerts -alias client -file client.cer -keystore client.jks -storepass &lt;pwd&gt;\r\n\r\n    keytool -importkeystore -srcalias client -srckeystore client.jks -srcstorepass &lt;pwd&gt; -destkeystore &quot;client.p12&quot; -deststorepass &lt;pwd&gt; -deststoretype PKCS12\r\n\r\n\r\nHowever when I try and hit my localhost app endpoint from firefox and view the log output I see the server side SSL handshake succeed but then get a &quot;null cert chain&quot; error in the client handshake. So the following steps look to succeed\r\n\r\n - ClientHello\r\n - ServerHello\r\n - Certificate\r\n - CertificateRequest\r\n - ServerHelloDone\r\n - Certificate - Error occurs here\r\n\r\nThe relevant part of the log looks like this...\r\n\r\n    *** CertificateRequest\r\n    Cert Types: RSA, DSS, ECDSA\r\n    Supported Signature Algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\r\n    Cert Authorities:\r\n    &lt;CN=Root&gt;\r\n    &lt;CN=client-dev, OU=Dept, O=Company, L=London, ST=Greater London, C=GB&gt;\r\n    &lt;CN=Intermediate, DC=HBEU, DC=ADROOT, DC=Company&gt;\r\n    *** ServerHelloDone\r\n    https-jsse-nio-8443-exec-1, WRITE: TLSv1.2 Handshake, length = 2710\r\n    https-jsse-nio-8443-exec-2, READ: TLSv1.2 Handshake, length = 77\r\n    *** Certificate chain\r\n    &lt;Empty&gt;\r\n    ***\r\n    https-jsse-nio-8443-exec-2, fatal error: 42: null cert chain\r\n    javax.net.ssl.SSLHandshakeException: null cert chain\r\n\r\nI&#39;m unclear what I have done wrong but assume I must have created the p12 file incorrectly?\r\n\r\nCan anyone point me in the right direction?\r\n\r\n","title":"Mutual Authentication - null cert chain","body":"<p>I'm trying to set up mutual (2 way) SSL authentication. Ultimately I will have a mulesoft application (as client) calling a webapp (as the server). For now I am testing using Firefox browser as the client to simplify testing.</p>\n\n<p>I followed this tutorial \n<a href=\"http://www.baeldung.com/x-509-authentication-in-spring-security\" rel=\"nofollow noreferrer\">http://www.baeldung.com/x-509-authentication-in-spring-security</a></p>\n\n<p>and managed to get this working fine. This uses a self signed certificate for the server and a self signed certificate for the client which is installed into firefox to make the client call. </p>\n\n<p>So far so good...</p>\n\n<p>However I am having issues once I try and use certificates signed by my company.</p>\n\n<p>So I have a client certificate which my company has signed. This has been provided as a client.cer file. I can view the details of this and see that it is issued by the company intermediary (which in turn is issued by the company root CA)</p>\n\n<p>The client CSR was created with </p>\n\n<pre><code>keytool -genkey -alias client -keyalg RSA -keysize 2048 -keystore client.jks -dname \"CN=client-dev,OU=Dept, O=Company, L=London, ST=Greater London, C=GB\"\n\nkeytool -certreq -alias client -file client.csr -keystore client.jks\n</code></pre>\n\n<p>The next step of my testing is to try and use this company signed client.cer file to call my server on localhost (which is using a self signed certificate as per the tutorial).</p>\n\n<p>On having received the signed client.cer file the steps I have taken are...</p>\n\n<ul>\n<li>Import the companies Root.cer into the keystore I used to generate my\nclient certificate signing request. </li>\n<li>Import the companies Intermediate.cer into the same keystore. </li>\n<li>Import the client.cer into the same keystore </li>\n<li>I then export a p12 file from this keystore and install this into firefox as my client certificate.</li>\n</ul>\n\n<p>The commands I use to do this are as follows</p>\n\n<pre><code>keytool -import -trustcacerts -alias primaryintermediate -file Root.cer -keystore client.jks -storepass &lt;pwd&gt;\n\nkeytool -import -trustcacerts -alias secondaryintermediate -file Int.cer -keystore client.jks -storepass &lt;pwd&gt;\n\nkeytool -import -trustcacerts -alias client -file client.cer -keystore client.jks -storepass &lt;pwd&gt;\n\nkeytool -importkeystore -srcalias client -srckeystore client.jks -srcstorepass &lt;pwd&gt; -destkeystore \"client.p12\" -deststorepass &lt;pwd&gt; -deststoretype PKCS12\n</code></pre>\n\n<p>However when I try and hit my localhost app endpoint from firefox and view the log output I see the server side SSL handshake succeed but then get a \"null cert chain\" error in the client handshake. So the following steps look to succeed</p>\n\n<ul>\n<li>ClientHello</li>\n<li>ServerHello</li>\n<li>Certificate</li>\n<li>CertificateRequest</li>\n<li>ServerHelloDone</li>\n<li>Certificate - Error occurs here</li>\n</ul>\n\n<p>The relevant part of the log looks like this...</p>\n\n<pre><code>*** CertificateRequest\nCert Types: RSA, DSS, ECDSA\nSupported Signature Algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\nCert Authorities:\n&lt;CN=Root&gt;\n&lt;CN=client-dev, OU=Dept, O=Company, L=London, ST=Greater London, C=GB&gt;\n&lt;CN=Intermediate, DC=HBEU, DC=ADROOT, DC=Company&gt;\n*** ServerHelloDone\nhttps-jsse-nio-8443-exec-1, WRITE: TLSv1.2 Handshake, length = 2710\nhttps-jsse-nio-8443-exec-2, READ: TLSv1.2 Handshake, length = 77\n*** Certificate chain\n&lt;Empty&gt;\n***\nhttps-jsse-nio-8443-exec-2, fatal error: 42: null cert chain\njavax.net.ssl.SSLHandshakeException: null cert chain\n</code></pre>\n\n<p>I'm unclear what I have done wrong but assume I must have created the p12 file incorrectly?</p>\n\n<p>Can anyone point me in the right direction?</p>\n"},{"tags":["java","outlook","exchange-server","exchangewebservices","outlook-restapi"],"comments":[{"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"score":0,"creation_date":1517523363,"post_id":48537185,"comment_id":84142064,"body_markdown":"What about appointments with no end date?","body":"What about appointments with no end date?"},{"owner":{"account_id":11690898,"reputation":177,"user_id":8559224,"accept_rate":44,"display_name":"im_mangesh"},"score":0,"creation_date":1517576973,"post_id":48537185,"comment_id":84163179,"body_markdown":"With appointment.getRecurrence().hasEnd() we can check appointment has end date or not.","body":"With appointment.getRecurrence().hasEnd() we can check appointment has end date or not."}],"answers":[{"tags":[],"owner":{"account_id":3281161,"reputation":1929,"user_id":2761747,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668418973,"creation_date":1668418973,"answer_id":74429605,"question_id":48537185,"body_markdown":"Id do this in PHP (a little different syntax)\r\n\r\n    $item-&gt;getRecurrence()-&gt;getNumberedRecurrence() ? $item-&gt;getRecurrence()-&gt;getNumberedRecurrence()-&gt;getNumberOfOccurrences()+1 : 9999;\r\n\r\nHopefully there are not more than 9999 occurrences","title":"How can I get count of occurrences from Master instance of appointment EWS?","body":"<p>Id do this in PHP (a little different syntax)</p>\n<pre><code>$item-&gt;getRecurrence()-&gt;getNumberedRecurrence() ? $item-&gt;getRecurrence()-&gt;getNumberedRecurrence()-&gt;getNumberOfOccurrences()+1 : 9999;\n</code></pre>\n<p>Hopefully there are not more than 9999 occurrences</p>\n"}],"owner":{"account_id":11690898,"reputation":177,"user_id":8559224,"accept_rate":44,"display_name":"im_mangesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668418973,"creation_date":1517385394,"question_id":48537185,"body_markdown":"I want to print count of total occurrences which is present in master instance of recurring appointment. While I am using\r\n\r\n    appointment.getRecurrence().getNumberOfOccurrences() \r\nit returns null value.\r\nHow can i get that?","title":"How can I get count of occurrences from Master instance of appointment EWS?","body":"<p>I want to print count of total occurrences which is present in master instance of recurring appointment. While I am using</p>\n\n<pre><code>appointment.getRecurrence().getNumberOfOccurrences() \n</code></pre>\n\n<p>it returns null value.\nHow can i get that?</p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667924338,"post_id":74363828,"comment_id":131281685,"body_markdown":"I think recent Java versions disabled insecure RSA key sizes by default (although as far as I can tell, 1024 should still be allowed with the default config). Either you need to change your SQL Server to use a certificate with a larger RSA key (e.g. 2048 bits or more), or you need to change the security config of your JVM to allow those smaller RSA keys.","body":"I think recent Java versions disabled insecure RSA key sizes by default (although as far as I can tell, 1024 should still be allowed with the default config). Either you need to change your SQL Server to use a certificate with a larger RSA key (e.g. 2048 bits or more), or you need to change the security config of your JVM to allow those smaller RSA keys."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1667924704,"post_id":74363828,"comment_id":131281832,"body_markdown":"encrypt=true is now the default behavior (since 10.x) - try encrypt=false.","body":"encrypt=true is now the default behavior (since 10.x) - try encrypt=false."}],"answers":[{"tags":[],"owner":{"account_id":7563997,"reputation":55,"user_id":5740353,"display_name":"Brent Gammon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668418764,"creation_date":1668418168,"answer_id":74429456,"question_id":74363828,"body_markdown":"I figured out the issue, since RHEL8 it has removed weak crypto algorithms. So, I had to update the Docker file to have `RUN update-crypto-policies --set LEGACY`, see also https://access.redhat.com/articles/3642912 ","title":"Connecting to SQL Server 13 with Java 17","body":"<p>I figured out the issue, since RHEL8 it has removed weak crypto algorithms. So, I had to update the Docker file to have <code>RUN update-crypto-policies --set LEGACY</code>, see also <a href=\"https://access.redhat.com/articles/3642912\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/3642912</a></p>\n"}],"owner":{"account_id":7563997,"reputation":55,"user_id":5740353,"display_name":"Brent Gammon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74429456,"answer_count":1,"score":0,"last_activity_date":1668418764,"creation_date":1667923681,"question_id":74363828,"body_markdown":"I&#39;m trying to connect to SQL Server 13 in a Springboot 2.7.5 after upgrading java to version 17\r\n\r\nThis is the key points the stacktrace when the application starts up and attempts to connect \r\n```\r\n Failed to obtain JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \\&quot;Certificates do not conform to algorithm constraints\\&quot;. ClientConnectionId:3dd8afba-ccaf-451e-a8f1-5687b548ee3b\\\r\n\r\njava.security.cert.CertPathValidatorException: Algorithm constraints check failed on keysize limits: RSA 1024 bit key used with certificate: CN={SERVER_URL} \r\n```\r\n\r\nI&#39;ve tried to add `encrypt=true` and `trustServerCertificate=true` to the connection url and still get the same issue.\r\n\r\nLooking at the SQL version compatbiity list: https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-ver16\r\n\r\nI should be able to use `com.microsoft.sqlserver:mssql-jdbc:11.2.0.jre17` also downgrading major versions also get the same result.\r\n\r\nI&#39;m able to connect the server using the same creds using intellij thats configured to use java 17 and using driver `11.2.1`","title":"Connecting to SQL Server 13 with Java 17","body":"<p>I'm trying to connect to SQL Server 13 in a Springboot 2.7.5 after upgrading java to version 17</p>\n<p>This is the key points the stacktrace when the application starts up and attempts to connect</p>\n<pre><code> Failed to obtain JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \\&quot;Certificates do not conform to algorithm constraints\\&quot;. ClientConnectionId:3dd8afba-ccaf-451e-a8f1-5687b548ee3b\\\n\njava.security.cert.CertPathValidatorException: Algorithm constraints check failed on keysize limits: RSA 1024 bit key used with certificate: CN={SERVER_URL} \n</code></pre>\n<p>I've tried to add <code>encrypt=true</code> and <code>trustServerCertificate=true</code> to the connection url and still get the same issue.</p>\n<p>Looking at the SQL version compatbiity list: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-ver16\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-ver16</a></p>\n<p>I should be able to use <code>com.microsoft.sqlserver:mssql-jdbc:11.2.0.jre17</code> also downgrading major versions also get the same result.</p>\n<p>I'm able to connect the server using the same creds using intellij thats configured to use java 17 and using driver <code>11.2.1</code></p>\n"},{"tags":["java","android","crash","pushy"],"comments":[{"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"score":0,"creation_date":1668414555,"post_id":74427982,"comment_id":131390488,"body_markdown":"Please share your added dependencies list in build.gradle  file, and update all firebase dependencies to their latest version.","body":"Please share your added dependencies list in build.gradle  file, and update all firebase dependencies to their latest version."},{"owner":{"account_id":2454220,"reputation":43,"user_id":2139794,"display_name":"JayP"},"score":0,"creation_date":1668418559,"post_id":74427982,"comment_id":131391858,"body_markdown":"I edited and added my build.gradle dependencies.","body":"I edited and added my build.gradle dependencies."},{"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"score":0,"creation_date":1668421608,"post_id":74427982,"comment_id":131392823,"body_markdown":"unable to see any firebase related dependency in your file","body":"unable to see any firebase related dependency in your file"},{"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"score":0,"creation_date":1668421613,"post_id":74427982,"comment_id":131392825,"body_markdown":"implementation platform(&#39;com.google.firebase:firebase-bom:27.1.0&#39;)\n\nimplementation &#39;com.google.firebase:firebase-core&#39;\nimplementation &#39;com.google.firebase:firebase-analytics&#39;\nimplementation &#39;com.google.firebase:firebase-messaging&#39;","body":"implementation platform(&#39;com.google.firebase:firebase-bom:27.1.0&#39;)  implementation &#39;com.google.firebase:firebase-core&#39; implementation &#39;com.google.firebase:firebase-analytics&#39; implementation &#39;com.google.firebase:firebase-messaging&#39;"}],"owner":{"account_id":2454220,"reputation":43,"user_id":2139794,"display_name":"JayP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668418433,"creation_date":1668409731,"question_id":74427982,"body_markdown":"I kindly ask for help. My app is crashing on Android, from versions 8 to 12. I&#39;m having an crash reports from googleplay. I have zero idea on how to deal with this. Help!\r\n\r\nHere is the Stacktrace:\r\n\r\n``\r\n    Type java.lang.NoClassDefFoundError\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:929)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:923)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:920)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1162)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:636)\r\n      at java.lang.Thread.run (Thread.java:764)\r\n    Caused by java.lang.ClassNotFoundException:\r\n      at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:93)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:764)\r\n    Caused by java.lang.ClassNotFoundException:\r\n      at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:134)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.processTask (ThreadPoolExecutor.java:1187)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1152)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:784)\r\n    Caused by java.lang.ClassNotFoundException:\r\n      at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:134)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:784)\r\n    Caused by java.lang.ClassNotFoundException:\r\n      at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:134)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\n      at java.lang.Thread.run (Thread.java:919)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1162)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:636)\r\n      at java.lang.Thread.run (Thread.java:784)\r\n    Caused by java.lang.ClassNotFoundException:\r\n      at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:93)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\n    \r\n    Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\r\n      at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\r\n      at me.pushy.sdk.Pushy.register (Pushy.java:213)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\r\n      at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1137)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:637)\r\n      at java.lang.Thread.run (Thread.java:1012)\r\n``\r\n\r\nI am currently researching on this online. I have got no helpful solution.\r\n\r\nHere is the dependencies from my build.gradle file:\r\n\r\n```\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\r\n    implementation project(&#39;:capacitor-android&#39;)\r\n    testImplementation &quot;junit:junit:$junitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\r\n    implementation project(&#39;:capacitor-cordova-android-plugins&#39;)\r\n    implementation &#39;com.google.android.gms:play-services-location:18.0.0&#39;\r\n\r\n    def appCenterSdkVersion = &#39;4.3.1&#39;\r\n    implementation &quot;com.microsoft.appcenter:appcenter-analytics:${appCenterSdkVersion}&quot;\r\n}\r\n```","title":"App crashing on android 8 to 12 due to java.lang.NoClassDefFoundError","body":"<p>I kindly ask for help. My app is crashing on Android, from versions 8 to 12. I'm having an crash reports from googleplay. I have zero idea on how to deal with this. Help!</p>\n<p>Here is the Stacktrace:</p>\n<p>``\nType java.lang.NoClassDefFoundError</p>\n<pre><code>Exception java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:929)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:923)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:920)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1162)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:636)\n  at java.lang.Thread.run (Thread.java:764)\nCaused by java.lang.ClassNotFoundException:\n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:93)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:764)\nCaused by java.lang.ClassNotFoundException:\n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:134)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.processTask (ThreadPoolExecutor.java:1187)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1152)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:784)\nCaused by java.lang.ClassNotFoundException:\n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:134)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:784)\nCaused by java.lang.ClassNotFoundException:\n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:134)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\n  at java.lang.Thread.run (Thread.java:919)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1162)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:636)\n  at java.lang.Thread.run (Thread.java:784)\nCaused by java.lang.ClassNotFoundException:\n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:93)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\n\nException java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/messaging/FirebaseMessaging;\n  at me.pushy.sdk.util.PushyFirebase.register (PushyFirebase.java:12)\n  at me.pushy.sdk.Pushy.register (Pushy.java:213)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.register (PushyPlugin.java:245)\n  at me.pushy.sdk.cordova.internal.PushyPlugin.access$000 (PushyPlugin.java:27)\n  at me.pushy.sdk.cordova.internal.PushyPlugin$1.run (PushyPlugin.java:53)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1137)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:637)\n  at java.lang.Thread.run (Thread.java:1012)\n</code></pre>\n<p>``</p>\n<p>I am currently researching on this online. I have got no helpful solution.</p>\n<p>Here is the dependencies from my build.gradle file:</p>\n<pre><code>dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\n    implementation project(':capacitor-android')\n    testImplementation &quot;junit:junit:$junitVersion&quot;\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\n    implementation project(':capacitor-cordova-android-plugins')\n    implementation 'com.google.android.gms:play-services-location:18.0.0'\n\n    def appCenterSdkVersion = '4.3.1'\n    implementation &quot;com.microsoft.appcenter:appcenter-analytics:${appCenterSdkVersion}&quot;\n}\n</code></pre>\n"},{"tags":["java","scala","ip-address"],"answers":[{"tags":[],"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668415529,"creation_date":1668415529,"answer_id":74428920,"question_id":74427925,"body_markdown":"I&#39;m not sure about those types. If by any chance you can use [`commons-net`][1], `SubnetUtils` include the functionality you are looking for, as in the following example:\r\n\r\n```\r\nimport org.apache.commons.net.util.SubnetUtils\r\n\r\nval subnetInfo = new SubnetUtils(&quot;0.0.0.0/8&quot;).getInfo\r\n\r\nsubnetInfo.isInRange(&quot;0.0.0.0&quot;)     // false\r\nsubnetInfo.isInRange(&quot;0.0.0.1&quot;)     // true\r\nsubnetInfo.isInRange(&quot;192.168.0.1&quot;) // false\r\n```\r\n\r\nYou can play around with it [here on Scastie][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-net/\r\n  [2]: https://scastie.scala-lang.org/stefanobaghino/ypg56xmgQEuwRRb7YYuKdg/6","title":"scala subnet ip address check 0/8","body":"<p>I'm not sure about those types. If by any chance you can use <a href=\"https://commons.apache.org/proper/commons-net/\" rel=\"nofollow noreferrer\"><code>commons-net</code></a>, <code>SubnetUtils</code> include the functionality you are looking for, as in the following example:</p>\n<pre><code>import org.apache.commons.net.util.SubnetUtils\n\nval subnetInfo = new SubnetUtils(&quot;0.0.0.0/8&quot;).getInfo\n\nsubnetInfo.isInRange(&quot;0.0.0.0&quot;)     // false\nsubnetInfo.isInRange(&quot;0.0.0.1&quot;)     // true\nsubnetInfo.isInRange(&quot;192.168.0.1&quot;) // false\n</code></pre>\n<p>You can play around with it <a href=\"https://scastie.scala-lang.org/stefanobaghino/ypg56xmgQEuwRRb7YYuKdg/6\" rel=\"nofollow noreferrer\">here on Scastie</a>.</p>\n"}],"owner":{"account_id":5619892,"reputation":2614,"user_id":4450090,"accept_rate":69,"display_name":"Dariusz Krynicki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668418406,"creation_date":1668409355,"question_id":74427925,"body_markdown":"    import java.net.InetAddress\r\n    \r\n    println(InetAddress.getByName(&quot;0.0.0.0&quot;).isAnyLocalAddress)\r\n    true\r\n\r\n    println(InetAddress.getByName(&quot;0.0.0.1&quot;).isAnyLocalAddress)\r\n    false\r\n\r\nCan I check somehow with any java.net.InetAddress native method or with com.google.common.net.InetAddresses if IP address is from within the range 0/8?\r\n\r\n\r\n","title":"scala subnet ip address check 0/8","body":"<pre><code>import java.net.InetAddress\n\nprintln(InetAddress.getByName(&quot;0.0.0.0&quot;).isAnyLocalAddress)\ntrue\n\nprintln(InetAddress.getByName(&quot;0.0.0.1&quot;).isAnyLocalAddress)\nfalse\n</code></pre>\n<p>Can I check somehow with any java.net.InetAddress native method or with com.google.common.net.InetAddresses if IP address is from within the range 0/8?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1668416457,"post_id":74429049,"comment_id":131391106,"body_markdown":"not quite sure on ur specification, should the thing be skipped or the whole stream be aborted? for former, use `.filter(r -&gt; r.title != null)`. for latter u might want to use `.takeWhile(r -&gt; r.title != null)` or similar.","body":"not quite sure on ur specification, should the thing be skipped or the whole stream be aborted? for former, use <code>.filter(r -&gt; r.title != null)</code>. for latter u might want to use <code>.takeWhile(r -&gt; r.title != null)</code> or similar."},{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1668416728,"post_id":74429049,"comment_id":131391194,"body_markdown":"@Zabuzard as the r value is an object at first and in map I am converting it to Response, it hasn&#39;t a title option to check if it is null or not in the filter","body":"@Zabuzard as the r value is an object at first and in map I am converting it to Response, it hasn&#39;t a title option to check if it is null or not in the filter"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1668417075,"post_id":74429049,"comment_id":131391323,"body_markdown":"You can put the filter after the map","body":"You can put the filter after the map"},{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1668417184,"post_id":74429049,"comment_id":131391346,"body_markdown":"@TimMoore it doesn&#39;t recognize the value again","body":"@TimMoore it doesn&#39;t recognize the value again"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1668417292,"post_id":74429049,"comment_id":131391388,"body_markdown":"@Tindona I don’t understand what you mean by that. What doesn’t recognise which value?","body":"@Tindona I don’t understand what you mean by that. What doesn’t recognise which value?"},{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1668417397,"post_id":74429049,"comment_id":131391434,"body_markdown":"@TimMoore when I use filter after the map, `.filter(r.title)` the title is not recognized for the type of object, it is object type even after the map","body":"@TimMoore when I use filter after the map, <code>.filter(r.title)</code> the title is not recognized for the type of object, it is object type even after the map"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1668419612,"post_id":74429049,"comment_id":131392206,"body_markdown":"thats also the wrong syntax for a lambda. u have to write `.filter(r -&gt; r.title != null)`. carefully read the suggestions.","body":"thats also the wrong syntax for a lambda. u have to write <code>.filter(r -&gt; r.title != null)</code>. carefully read the suggestions."}],"answers":[{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668418240,"creation_date":1668416445,"answer_id":74429110,"question_id":74429049,"body_markdown":"I would suggest using`.filter()`\r\n\r\nTry out this \r\n\r\n    executeRequest(requestId).stream()\r\n    .filter(Objects::nonNull)\r\n    .map(d-&gt; (Response) d)\r\n    .filter(resp -&gt; Objects.nonNull(resp.getTitle()))\r\n    .collect(Collectors.toList());","title":"Java 8 stream condition for null values","body":"<p>I would suggest using<code>.filter()</code></p>\n<p>Try out this</p>\n<pre><code>executeRequest(requestId).stream()\n.filter(Objects::nonNull)\n.map(d-&gt; (Response) d)\n.filter(resp -&gt; Objects.nonNull(resp.getTitle()))\n.collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668417281,"creation_date":1668417281,"answer_id":74429287,"question_id":74429049,"body_markdown":"I think you need some think like this:\r\n\r\n    List&lt;Response&gt; response = executeRequest(requestId).stream()\r\n        .filter(Objects::nonNull)                    // filter the object if not null\r\n        .map(Response.class::cast)                   // cast the object\r\n        .filter(r -&gt; Objects.nonNull(r.getTitle()))  // filter by title if not null\r\n        .collect(Collectors.toList());","title":"Java 8 stream condition for null values","body":"<p>I think you need some think like this:</p>\n<pre><code>List&lt;Response&gt; response = executeRequest(requestId).stream()\n    .filter(Objects::nonNull)                    // filter the object if not null\n    .map(Response.class::cast)                   // cast the object\n    .filter(r -&gt; Objects.nonNull(r.getTitle()))  // filter by title if not null\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74429287,"answer_count":2,"score":1,"last_activity_date":1668418240,"creation_date":1668416148,"question_id":74429049,"body_markdown":"I am using Java 8 stream \r\n\r\n    executeRequest(requestId).stream()\r\n            .map(d-&gt; (Response) d).collect(Collectors.toList());\r\n\r\nthe Response object is like this \r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Response {\r\n    \r\n      String title;\r\n      String id;\r\n    }\r\n\r\nwhen the responses are null, I am getting an error because it is trying to collect null values in a list, I want to have a condition that when title is null, stream does not continue, or any thing that helps me to handle it\r\n","title":"Java 8 stream condition for null values","body":"<p>I am using Java 8 stream</p>\n<pre><code>executeRequest(requestId).stream()\n        .map(d-&gt; (Response) d).collect(Collectors.toList());\n</code></pre>\n<p>the Response object is like this</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Response {\n\n  String title;\n  String id;\n}\n</code></pre>\n<p>when the responses are null, I am getting an error because it is trying to collect null values in a list, I want to have a condition that when title is null, stream does not continue, or any thing that helps me to handle it</p>\n"},{"tags":["java","apache-poi","xwpf"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1668559124,"post_id":74429083,"comment_id":131433784,"body_markdown":"Create a file like that in Word, save it, open it as a template and populate from that?","body":"Create a file like that in Word, save it, open it as a template and populate from that?"},{"owner":{"account_id":13861613,"reputation":35,"user_id":10007128,"display_name":"陳昇昇"},"score":0,"creation_date":1668570149,"post_id":74429083,"comment_id":131435456,"body_markdown":"let me try it. thank","body":"let me try it. thank"},{"owner":{"account_id":13861613,"reputation":35,"user_id":10007128,"display_name":"陳昇昇"},"score":0,"creation_date":1668578155,"post_id":74429083,"comment_id":131436730,"body_markdown":"I don&#39;t copy table in other document.","body":"I don&#39;t copy table in other document."}],"owner":{"account_id":13861613,"reputation":35,"user_id":10007128,"display_name":"陳昇昇"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668417632,"creation_date":1668416297,"question_id":74429083,"body_markdown":"I&#39;m using Apache poi to generate the MS word report. Is there any way to set the table style to the blue one? As shown below.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/gVE5e.png)](https://i.stack.imgur.com/gVE5e.png)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rmujk.png","title":"How to use java apache poi create default style in MS word?","body":"<p>I'm using Apache poi to generate the MS word report. Is there any way to set the table style to the blue one? As shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/gVE5e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVE5e.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rmujk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rmujk.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks!</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1668416345,"post_id":74429020,"comment_id":131391060,"body_markdown":"Could you share the real code? Its a bit difficult to find proper alternatives on such a vague example. Most proper solutions are likely more specific to the actual situation at hand.","body":"Could you share the real code? Its a bit difficult to find proper alternatives on such a vague example. Most proper solutions are likely more specific to the actual situation at hand."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1668416471,"post_id":74429020,"comment_id":131391111,"body_markdown":"*the one that returns true will be excuted. if/else can&#39;t be implemented because all of the given if need to be checked* - this part is a bit inconsistent. If you know that only one of them can be true at a time, `else` can be used so after finding the `true` one, the rest can be skipped. However if you have 8 `if`s where any amount of them may run at a time, then collecting them at a single place as you do now is probably the most what can be done.","body":"<i>the one that returns true will be excuted. if/else can&#39;t be implemented because all of the given if need to be checked</i> - this part is a bit inconsistent. If you know that only one of them can be true at a time, <code>else</code> can be used so after finding the <code>true</code> one, the rest can be skipped. However if you have 8 <code>if</code>s where any amount of them may run at a time, then collecting them at a single place as you do now is probably the most what can be done."},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1668418062,"post_id":74429020,"comment_id":131391687,"body_markdown":"I agree for seeing your actual code. It gives us a better idea what you have tried.","body":"I agree for seeing your actual code. It gives us a better idea what you have tried."}],"answers":[{"tags":[],"owner":{"account_id":34880,"reputation":7380,"user_id":98636,"display_name":"Elemental"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668417136,"creation_date":1668417136,"answer_id":74429248,"question_id":74429020,"body_markdown":"If seems to me your method1 is a `Check` and your method2 might be called `Flip`.\r\nIt seems to me you issue can be easily encapsulated like this:\r\n\r\n    CheckAndFlip(params) {\r\n       if (Check(params)) \r\n          Flip(Params)\r\n    }\r\n\r\nAnd then call \r\n\r\n    CheckAndFlip(params);\r\n    CheckAndFlip(otherParams);\r\n    ...\r\n\r\nwhich looks a lot better for me.","title":"Removing separate IF statements","body":"<p>If seems to me your method1 is a <code>Check</code> and your method2 might be called <code>Flip</code>.\nIt seems to me you issue can be easily encapsulated like this:</p>\n<pre><code>CheckAndFlip(params) {\n   if (Check(params)) \n      Flip(Params)\n}\n</code></pre>\n<p>And then call</p>\n<pre><code>CheckAndFlip(params);\nCheckAndFlip(otherParams);\n...\n</code></pre>\n<p>which looks a lot better for me.</p>\n"}],"owner":{"account_id":26489770,"reputation":11,"user_id":20127861,"display_name":"p_un"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668417234,"creation_date":1668416031,"question_id":74429020,"body_markdown":"I am wondering what type of alternatives are best to use in this situation.\r\n\r\n    if (method1(parameters)\r\n      method2(parameters);\r\n    if (method1(differentParameters)\r\n      method2(differentParameters;\r\n    //and so on. \r\n\r\nThe code is for an othello game implementation, the first method checks if there are any opponent pieces that can be fliped, the inner method flips the pieces. We check all 8 directions to and flip pieces accordingly.\r\n\r\nThe code works, but I am searching for alternatives to refactor it.\r\n","title":"Removing separate IF statements","body":"<p>I am wondering what type of alternatives are best to use in this situation.</p>\n<pre><code>if (method1(parameters)\n  method2(parameters);\nif (method1(differentParameters)\n  method2(differentParameters;\n//and so on. \n</code></pre>\n<p>The code is for an othello game implementation, the first method checks if there are any opponent pieces that can be fliped, the inner method flips the pieces. We check all 8 directions to and flip pieces accordingly.</p>\n<p>The code works, but I am searching for alternatives to refactor it.</p>\n"},{"tags":["java","json","polymorphism","jackson"],"answers":[{"tags":[],"owner":{"account_id":1713288,"reputation":1341,"user_id":1570898,"accept_rate":75,"display_name":"Curro"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1365676361,"creation_date":1365676361,"answer_id":15946535,"question_id":15945404,"body_markdown":"Fixed!\r\n\r\nIt works with jackson 2.0!!","title":"Jackson Polymorphic Deserialization based on Enum","body":"<p>Fixed!</p>\n\n<p>It works with jackson 2.0!!</p>\n"},{"tags":[],"owner":{"account_id":6169704,"reputation":149,"user_id":4808346,"display_name":"Soufiane KAMAD"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1668416664,"creation_date":1591692192,"answer_id":62278471,"question_id":15945404,"body_markdown":"It worked for me using enum with the following :\r\n\r\n```\r\n@JsonTypeInfo(  \r\n    use = JsonTypeInfo.Id.NAME,  \r\n    include = JsonTypeInfo.As.EXISTING_PROPERTY,  \r\n    property = &quot;type&quot;,\r\n    visible = true\r\n) \r\n```","title":"Jackson Polymorphic Deserialization based on Enum","body":"<p>It worked for me using enum with the following :</p>\n<pre><code>@JsonTypeInfo(  \n    use = JsonTypeInfo.Id.NAME,  \n    include = JsonTypeInfo.As.EXISTING_PROPERTY,  \n    property = &quot;type&quot;,\n    visible = true\n) \n</code></pre>\n"}],"owner":{"account_id":1713288,"reputation":1341,"user_id":1570898,"accept_rate":75,"display_name":"Curro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22368,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":15946535,"answer_count":2,"score":42,"last_activity_date":1668416664,"creation_date":1365672986,"question_id":15945404,"body_markdown":"I&#39;m working with [JacksonPolymorphicDeserialization][1], this is my code which deserializes into the proper class based in the &#39;type&#39; property:\n\n    @JsonTypeInfo(  \n        use = JsonTypeInfo.Id.NAME,  \n        include = JsonTypeInfo.As.PROPERTY,  \n        property = &quot;type&quot;,\n        defaultImpl = Event.class, \n        visible = true)  \n    @JsonSubTypes({        \n        @Type(value = SpecialEvent1.class, name = &quot;SPECIAL_EVENT_1&quot;), \n        @Type(value = SpecialEvent2.class, name = &quot;SPECIAL_EVENT_2&quot;), \n        })  \n    public abstract class AbstractEvent {\n    \n        private String type;\n\n        public String getType() {\n        return type;\n        }\n\n        public void setType(String type) {\n        this.type = type;\n        }   \n    }\n\nIt&#39;s working perfectly and my json turns into the expected class according to the &#39;type&#39; value.\n\nHowever, I&#39;m considering to move the &#39;type&#39; property from String to Enum, this is my new code with this change:\n\n    @JsonTypeInfo(  \n        use = JsonTypeInfo.Id.NAME,  \n        include = JsonTypeInfo.As.PROPERTY,  \n        property = &quot;type&quot;,\n        defaultImpl = Event.class, \n        visible = true)  \n    @JsonSubTypes({        \n        @Type(value = SpecialEvent1.class, name = &quot;SPECIAL_EVENT_1&quot;), \n        @Type(value = SpecialEvent2.class, name = &quot;SPECIAL_EVENT_2&quot;), \n        })  \n    public abstract class AbstractEvent {\n    \n        private EventType type;\n\n        public EventType getType() {\n        return type;\n        }\n\n        public void setType(EventType type) {\n        this.type = type;\n        }   \n    }\n\nand the Enum:\n\n    public enum EventType {\n        SPECIAL_EVENT_1,\n        SPECIAL_EVENT_2,\n        EVENT;\n    }\n\nThe problem is that this second approach is not working... any idea why??? can I use Enum here???\n\nThanks!\n\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization","title":"Jackson Polymorphic Deserialization based on Enum","body":"<p>I'm working with <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"noreferrer\">JacksonPolymorphicDeserialization</a>, this is my code which deserializes into the proper class based in the 'type' property:</p>\n<pre><code>@JsonTypeInfo(  \n    use = JsonTypeInfo.Id.NAME,  \n    include = JsonTypeInfo.As.PROPERTY,  \n    property = &quot;type&quot;,\n    defaultImpl = Event.class, \n    visible = true)  \n@JsonSubTypes({        \n    @Type(value = SpecialEvent1.class, name = &quot;SPECIAL_EVENT_1&quot;), \n    @Type(value = SpecialEvent2.class, name = &quot;SPECIAL_EVENT_2&quot;), \n    })  \npublic abstract class AbstractEvent {\n\n    private String type;\n\n    public String getType() {\n    return type;\n    }\n\n    public void setType(String type) {\n    this.type = type;\n    }   \n}\n</code></pre>\n<p>It's working perfectly and my json turns into the expected class according to the 'type' value.</p>\n<p>However, I'm considering to move the 'type' property from String to Enum, this is my new code with this change:</p>\n<pre><code>@JsonTypeInfo(  \n    use = JsonTypeInfo.Id.NAME,  \n    include = JsonTypeInfo.As.PROPERTY,  \n    property = &quot;type&quot;,\n    defaultImpl = Event.class, \n    visible = true)  \n@JsonSubTypes({        \n    @Type(value = SpecialEvent1.class, name = &quot;SPECIAL_EVENT_1&quot;), \n    @Type(value = SpecialEvent2.class, name = &quot;SPECIAL_EVENT_2&quot;), \n    })  \npublic abstract class AbstractEvent {\n\n    private EventType type;\n\n    public EventType getType() {\n    return type;\n    }\n\n    public void setType(EventType type) {\n    this.type = type;\n    }   \n}\n</code></pre>\n<p>and the Enum:</p>\n<pre><code>public enum EventType {\n    SPECIAL_EVENT_1,\n    SPECIAL_EVENT_2,\n    EVENT;\n}\n</code></pre>\n<p>The problem is that this second approach is not working... any idea why??? can I use Enum here???</p>\n<p>Thanks!</p>\n"},{"tags":["java","arrays","buffer"],"comments":[{"owner":{"display_name":"user142162"},"score":1,"creation_date":1370720643,"post_id":17003164,"comment_id":24568285,"body_markdown":"What are the remaining bytes in your new array going to equal?  What you&#39;re looking to do doesn&#39;t make much sense.","body":"What are the remaining bytes in your new array going to equal?  What you&#39;re looking to do doesn&#39;t make much sense."},{"owner":{"account_id":48992,"reputation":13236,"user_id":145757,"accept_rate":69,"display_name":"Pragmateek"},"score":0,"creation_date":1370720663,"post_id":17003164,"comment_id":24568291,"body_markdown":"A good old for loop? It will be simpler if you can&#39;t have zeros in the data part.","body":"A good old for loop? It will be simpler if you can&#39;t have zeros in the data part."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1370720700,"post_id":17003164,"comment_id":24568297,"body_markdown":"A new `byte[]` will have 0 in all elements, so you won&#39;t actually accomplish anything if you want an 8192 element array at the end.","body":"A new <code>byte[]</code> will have 0 in all elements, so you won&#39;t actually accomplish anything if you want an 8192 element array at the end."}],"answers":[{"tags":[],"owner":{"account_id":2500468,"reputation":967,"user_id":2175721,"accept_rate":100,"display_name":"Mohammed Falha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1370722935,"creation_date":1370722935,"answer_id":17003477,"question_id":17003164,"body_markdown":"why not try the static method array copy in the system class just give the source array src start position , destination array , destination start position and the length\r\n\r\n    \t    System.arraycopy(src, srcPos, dest, destPos, length);\r\n            byte [] dest= new byte [6000];\r\n            System.arraycopy(src, 0, dest, 0, 6000);","title":"Byte array with padding of null bytes at the end: how to efficiently copy to smaller byte array","body":"<p>why not try the static method array copy in the system class just give the source array src start position , destination array , destination start position and the length</p>\n\n<pre><code>        System.arraycopy(src, srcPos, dest, destPos, length);\n        byte [] dest= new byte [6000];\n        System.arraycopy(src, 0, dest, 0, 6000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48992,"reputation":13236,"user_id":145757,"accept_rate":69,"display_name":"Pragmateek"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1370730402,"creation_date":1370730402,"answer_id":17004488,"question_id":17003164,"body_markdown":"Here is my try:\r\n\r\n    static byte[] trim(byte[] bytes)\r\n\t{\r\n\t\tint i = bytes.length - 1;\r\n\t\twhile (i &gt;= 0 &amp;&amp; bytes[i] == 0)\r\n\t\t{\r\n\t\t\t--i;\r\n\t\t}\r\n\t\t\r\n\t\treturn Arrays.copyOf(bytes, i + 1);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tbyte[] bytes = { 0, 1, 2, 0, 3, 4, 5, 0, 6, 0, 0, 7, 8, 9, 10, 0, 0, 0, 0 };\r\n\t\t\r\n\t\tbyte[] trimmed = trim(bytes);\r\n\t\t\r\n\t\treturn;\r\n\t}","title":"Byte array with padding of null bytes at the end: how to efficiently copy to smaller byte array","body":"<p>Here is my try:</p>\n\n<pre><code>static byte[] trim(byte[] bytes)\n{\n    int i = bytes.length - 1;\n    while (i &gt;= 0 &amp;&amp; bytes[i] == 0)\n    {\n        --i;\n    }\n\n    return Arrays.copyOf(bytes, i + 1);\n}\n\npublic static void main(String[] args)\n{\n    byte[] bytes = { 0, 1, 2, 0, 3, 4, 5, 0, 6, 0, 0, 7, 8, 9, 10, 0, 0, 0, 0 };\n\n    byte[] trimmed = trim(bytes);\n\n    return;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8581069,"reputation":233,"user_id":6428642,"display_name":"Dattatray Satpute"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1466671609,"creation_date":1466671518,"answer_id":37986494,"question_id":17003164,"body_markdown":"I think we can do in this way also\r\n\r\n    byte []array={0, 69, 0, 71, 0, 72};\r\n\r\n    byte ar[]=new String(array).replaceAll(&quot;\\0&quot;, &quot;&quot;).getBytes();","title":"Byte array with padding of null bytes at the end: how to efficiently copy to smaller byte array","body":"<p>I think we can do in this way also</p>\n\n<pre><code>byte []array={0, 69, 0, 71, 0, 72};\n\nbyte ar[]=new String(array).replaceAll(\"\\0\", \"\").getBytes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4621272,"reputation":2975,"user_id":3746306,"accept_rate":50,"display_name":"Nilesh Deokar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1540301672,"creation_date":1540301672,"answer_id":52950459,"question_id":17003164,"body_markdown":"With `kotlin` :\r\n\r\n    val strWithoutZeros = String(byteArray,StandardCharsets.UTF_8).replace(0.toChar().toString(), &quot;&quot;)\r\n    \r\n    val byteArrayWithoutZeros = strWithoutZeros.toByteArray(StandardCharsets.UTF_8)\r\n\r\n","title":"Byte array with padding of null bytes at the end: how to efficiently copy to smaller byte array","body":"<p>With <code>kotlin</code> :</p>\n\n<pre><code>val strWithoutZeros = String(byteArray,StandardCharsets.UTF_8).replace(0.toChar().toString(), \"\")\n\nval byteArrayWithoutZeros = strWithoutZeros.toByteArray(StandardCharsets.UTF_8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668416647,"creation_date":1668416647,"answer_id":74429147,"question_id":17003164,"body_markdown":"Another option using java string trim():\r\n\r\n    byte[] array={65, 66, 67, 0, 0, 0};\r\n\r\n    byte[] trimmedArray = new String(array).trim().getBytes();","title":"Byte array with padding of null bytes at the end: how to efficiently copy to smaller byte array","body":"<p>Another option using java string trim():</p>\n<pre><code>byte[] array={65, 66, 67, 0, 0, 0};\n\nbyte[] trimmedArray = new String(array).trim().getBytes();\n</code></pre>\n"}],"owner":{"account_id":47249,"reputation":2460,"user_id":139861,"accept_rate":92,"display_name":"Atomix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31687,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":17004488,"answer_count":5,"score":24,"last_activity_date":1668416647,"creation_date":1370720512,"question_id":17003164,"body_markdown":"Have:\r\n    \r\n    [46][111][36][11][101][55][87][30][122][75][66][32][49][55][67][77][88][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0]\r\n\r\nWant:\r\n\r\n    [46][111][36][11][101][55][87][30][122][75][66][32][49][55][67][77][88]\r\n\r\nI have an array of bytes size 8192 to start, and starting at some index in that first array until the end of the array the bytes are all null bytes. So there might be 6000 bytes with values and 2196 null bytes at the end in the array. How do I efficiently create a new array of size (6000) and copy those bytes over? Note: I do not know how many null bytes, or bytes with values there will be.","title":"Byte array with padding of null bytes at the end: how to efficiently copy to smaller byte array","body":"<p>Have:</p>\n\n<pre><code>[46][111][36][11][101][55][87][30][122][75][66][32][49][55][67][77][88][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0][0]\n</code></pre>\n\n<p>Want:</p>\n\n<pre><code>[46][111][36][11][101][55][87][30][122][75][66][32][49][55][67][77][88]\n</code></pre>\n\n<p>I have an array of bytes size 8192 to start, and starting at some index in that first array until the end of the array the bytes are all null bytes. So there might be 6000 bytes with values and 2196 null bytes at the end in the array. How do I efficiently create a new array of size (6000) and copy those bytes over? Note: I do not know how many null bytes, or bytes with values there will be.</p>\n"},{"tags":["java","jackson","pojo"],"comments":[{"owner":{"account_id":24960547,"reputation":83,"user_id":18824568,"display_name":"Andrzej Jankowski"},"score":1,"creation_date":1668416380,"post_id":74428962,"comment_id":131391075,"body_markdown":"I hope that topic should help:\nhttps://stackoverflow.com/questions/27286528/how-to-parse-json-with-java-when-there-are-random-key-names","body":"I hope that topic should help: <a href=\"https://stackoverflow.com/questions/27286528/how-to-parse-json-with-java-when-there-are-random-key-names\" title=\"how to parse json with java when there are random key names\">stackoverflow.com/questions/27286528/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668416643,"creation_date":1668416643,"answer_id":74429146,"question_id":74428962,"body_markdown":"I assume you tried to deserialize this JSON as a `UserResponse`.\r\n\r\nIn that case, the JSON would need to have a property `users` with the map of properties:\r\n\r\n    {\r\n      &quot;users&quot;: {\r\n        &quot;random1&quot; : {\r\n          &quot;name&quot; : &quot;john&quot;,\r\n          &quot;lastName&quot; : &quot;johnson&quot;\r\n        },\r\n        &quot;nextRandom500&quot; : {\r\n          &quot;name&quot; : &quot;jack&quot;,\r\n          &quot;lastName&quot; : &quot;jackson&quot;\r\n        },\r\n        &quot;random100500&quot; : {\r\n          &quot;name&quot; : &quot;jack&quot;,\r\n          &quot;lastName&quot; : &quot;johnson&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nYou could also read the original JSON with:\r\n\r\n    Map&lt;String,User&gt; users = objectMapper.readValue(json, \r\n        new TypeReference&lt;Map&lt;String,User&gt;&gt;(){});\r\n\r\n","title":"How to serialize &amp; deserialize JSON from/to POJO using Jackson, when property key randomly generated","body":"<p>I assume you tried to deserialize this JSON as a <code>UserResponse</code>.</p>\n<p>In that case, the JSON would need to have a property <code>users</code> with the map of properties:</p>\n<pre><code>{\n  &quot;users&quot;: {\n    &quot;random1&quot; : {\n      &quot;name&quot; : &quot;john&quot;,\n      &quot;lastName&quot; : &quot;johnson&quot;\n    },\n    &quot;nextRandom500&quot; : {\n      &quot;name&quot; : &quot;jack&quot;,\n      &quot;lastName&quot; : &quot;jackson&quot;\n    },\n    &quot;random100500&quot; : {\n      &quot;name&quot; : &quot;jack&quot;,\n      &quot;lastName&quot; : &quot;johnson&quot;\n    }\n  }\n}\n</code></pre>\n<p>You could also read the original JSON with:</p>\n<pre><code>Map&lt;String,User&gt; users = objectMapper.readValue(json, \n    new TypeReference&lt;Map&lt;String,User&gt;&gt;(){});\n</code></pre>\n"}],"owner":{"account_id":26924802,"reputation":1,"user_id":20498239,"display_name":"Grin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668416643,"creation_date":1668415722,"question_id":74428962,"body_markdown":"I&#39;m receiving JSON from a service with randomly generated property key\r\n\r\n```\r\n{\r\n    &quot;random1&quot; : {\r\n        &quot;name&quot; : &quot;john&quot;,\r\n        &quot;lastName&quot; : &quot;johnson&quot;\r\n    },\r\n    &quot;nextRandom500&quot; : {\r\n        &quot;name&quot; : &quot;jack&quot;,\r\n        &quot;lastName&quot; : &quot;jackson&quot;\r\n    },\r\n    &quot;random100500&quot; : {\r\n        &quot;name&quot; : &quot;jack&quot;,\r\n        &quot;lastName&quot; : &quot;johnson&quot;\r\n    }   \r\n}\r\n```\r\n\r\nI&#39;ve created POJO class using jackson.annotations-2.13.4 and java 11\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport java.util.Map;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.experimental.SuperBuilder;\r\n\r\n@Data\r\n@SuperBuilder(toBuilder=true)\r\n@NoArgsConstructor\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class UserResponse {\r\nprivate Map&lt;String,User&gt; users;\r\n\r\n    @Data\r\n    @SuperBuilder(toBuilder=true)\r\n    @NoArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public static class User {\r\n        private String name;\r\n        private String lastName;\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut when I&#39;ve tried to deserialize it i received error :\r\n\r\n```\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;random1&quot; (class com.pingidentity.UserResponse), not marked as ignorable (one known property: &quot;variables&quot;\\])\r\nat \\[Source: (String)&quot;{\r\n&quot;random1&quot;:\r\n{\r\n&quot;name&quot;: &quot;john&quot;,\r\n&quot;lastName&quot;: &quot;johnson&quot;\r\n},\r\n&quot;nextRandom500&quot;:\r\n{\r\n&quot;name&quot;: &quot;jack&quot;,\r\n&quot;lastName&quot;: &quot;jackson&quot;\r\n},\r\n&quot;random100500&quot;:\r\n{\r\n&quot;name&quot;: &quot;john&quot;,\r\n&quot;lastName&quot;: &quot;jackson&quot;\r\n}\r\n}&quot;; line: 3, column: 6\\] (through reference chain: com.pingidentity.UserResponse\\[&quot;random1&quot;\\])\r\nat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\r\nat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\r\nat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2023)\r\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\r\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\r\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)\r\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)\r\nat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\nat com.fasterxml.jackson.databind.ObjectMapper.\\_readMapAndClose(ObjectMapper.java:4674)\r\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\r\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\r\nat com.pingidentity.Test.main(Test.java:507)\r\n```\r\n\r\nSo I&#39;m looking for a way how to properly deserialize such a JSON and how to serialize it if i would use this POJO to create same JSON for another service\r\nWould Appreciate for your help!","title":"How to serialize &amp; deserialize JSON from/to POJO using Jackson, when property key randomly generated","body":"<p>I'm receiving JSON from a service with randomly generated property key</p>\n<pre><code>{\n    &quot;random1&quot; : {\n        &quot;name&quot; : &quot;john&quot;,\n        &quot;lastName&quot; : &quot;johnson&quot;\n    },\n    &quot;nextRandom500&quot; : {\n        &quot;name&quot; : &quot;jack&quot;,\n        &quot;lastName&quot; : &quot;jackson&quot;\n    },\n    &quot;random100500&quot; : {\n        &quot;name&quot; : &quot;jack&quot;,\n        &quot;lastName&quot; : &quot;johnson&quot;\n    }   \n}\n</code></pre>\n<p>I've created POJO class using jackson.annotations-2.13.4 and java 11</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport java.util.Map;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.experimental.SuperBuilder;\n\n@Data\n@SuperBuilder(toBuilder=true)\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class UserResponse {\nprivate Map&lt;String,User&gt; users;\n\n    @Data\n    @SuperBuilder(toBuilder=true)\n    @NoArgsConstructor\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    public static class User {\n        private String name;\n        private String lastName;\n    }\n\n}\n</code></pre>\n<p>But when I've tried to deserialize it i received error :</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;random1&quot; (class com.pingidentity.UserResponse), not marked as ignorable (one known property: &quot;variables&quot;\\])\nat \\[Source: (String)&quot;{\n&quot;random1&quot;:\n{\n&quot;name&quot;: &quot;john&quot;,\n&quot;lastName&quot;: &quot;johnson&quot;\n},\n&quot;nextRandom500&quot;:\n{\n&quot;name&quot;: &quot;jack&quot;,\n&quot;lastName&quot;: &quot;jackson&quot;\n},\n&quot;random100500&quot;:\n{\n&quot;name&quot;: &quot;john&quot;,\n&quot;lastName&quot;: &quot;jackson&quot;\n}\n}&quot;; line: 3, column: 6\\] (through reference chain: com.pingidentity.UserResponse\\[&quot;random1&quot;\\])\nat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\nat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\nat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2023)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)\nat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\nat com.fasterxml.jackson.databind.ObjectMapper.\\_readMapAndClose(ObjectMapper.java:4674)\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\nat com.pingidentity.Test.main(Test.java:507)\n</code></pre>\n<p>So I'm looking for a way how to properly deserialize such a JSON and how to serialize it if i would use this POJO to create same JSON for another service\nWould Appreciate for your help!</p>\n"},{"tags":["java","spring","rest","spring-mvc","annotations"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1423412540,"post_id":28396263,"comment_id":45128576,"body_markdown":"I think before learning Spring, you should learn the basics of HTTP. Each HTTP response has a status. 200 means OK. 201 means &quot;you asked to create something and I did it&quot;. In this case, as the method name indicates, an order has been created.","body":"I think before learning Spring, you should learn the basics of HTTP. Each HTTP response has a status. 200 means OK. 201 means &quot;you asked to create something and I did it&quot;. In this case, as the method name indicates, an order has been created."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1519929247,"creation_date":1423412542,"answer_id":28396296,"question_id":28396263,"body_markdown":"201 is an [HTTP status code][1]. It indicates that the\r\n\r\n&gt; request has been fulfilled and resulted in a new resource being created.\r\n\r\nSo if your server is returning such a status code, then the client understands that some (conceptual) resource was created. What that resource is is your responsibility, you&#39;re the server.\r\n\r\nA status code is part of the [HTTP response status line.][2]\r\n\r\n\r\n  [1]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\r\n  [2]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html","title":"How exactly works the @ResponseStatus Spring annotation for RESTful application?","body":"<p>201 is an <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" rel=\"nofollow noreferrer\">HTTP status code</a>. It indicates that the</p>\n\n<blockquote>\n  <p>request has been fulfilled and resulted in a new resource being created.</p>\n</blockquote>\n\n<p>So if your server is returning such a status code, then the client understands that some (conceptual) resource was created. What that resource is is your responsibility, you're the server.</p>\n\n<p>A status code is part of the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html\" rel=\"nofollow noreferrer\">HTTP response status line.</a></p>\n"}],"owner":{"display_name":"user4296472"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11235,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28396296,"answer_count":1,"score":9,"last_activity_date":1668416400,"creation_date":1423412316,"question_id":28396263,"body_markdown":"I am studying for the Spring Core certification and I have some doubts about how Spring handles **REST** requests.\r\n\r\nI know that with REST the resources are exposed as name and that the actions on these resources are the HTTP methods, such as **GET**, **PUT**, **POST**,  and **DELETE**.\r\n\r\nAnd I know that requests are handled by the use of `@RequestMapping` annotations over the method that handles the operation on the resource.\r\n\r\nFrom what I have understood, both standard web applications and RESTful applications use some codes to communicate with their clients (the RESTful application have an expanded set of codes) that I think represent the status of the request (for example **200** is the request is a successful GET returning content, etc.).\r\n\r\nNow the documentation shows the use of the `@ResponseStatus` annotation as in this example:\r\n\r\n    @RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.POST)\r\n    @ResponseStatus(HttpStatus.CREATED) // 201\r\n    public void createOrder(HttpServletRequest request, HttpServletResponse response) {\r\n        Order order = createOrder(request);\r\n        // determine full URI for newly created Order based on request\r\n        response.addHeader(&quot;Location&quot;,\r\n        getLocationForChildResource(request, order.getId()));\r\n    }\r\n\r\nSo looking at the previous method I know that it handles **HttpRequest POST** requests towards the resource named **/orders** (using REST the resource is seen as an URL, is that correct?).\r\n\r\nBut what exactly does the annotation below do:\r\n\r\n    @ResponseStatus(HttpStatus.CREATED) // 201\r\n\r\nI know that the **201** status code means that a **new resource was created on POST**.\r\n\r\nAnd looking at the official documentation I can read:\r\n\r\n&gt; Marks a method or exception class with the status code and reason that\r\n&gt; should be returned. The status code is applied to the HTTP response\r\n&gt; when the handler method is invoked, or whenever said exception is\r\n&gt; thrown.\r\n\r\nSo what exactly it means? I think that as is done in the previous example it sets the 201 status that says that the resource is correctly created by the POST request. If this is correct I have 2 questions:\r\n\r\n 1. The resource is the **/orders** URI. So what is created? a file named **orders** (I think that this assertion is false) or what?\r\n\r\n 2. Where the 201 status is put?\r\n","title":"How exactly works the @ResponseStatus Spring annotation for RESTful application?","body":"<p>I am studying for the Spring Core certification and I have some doubts about how Spring handles <strong>REST</strong> requests.</p>\n<p>I know that with REST the resources are exposed as name and that the actions on these resources are the HTTP methods, such as <strong>GET</strong>, <strong>PUT</strong>, <strong>POST</strong>,  and <strong>DELETE</strong>.</p>\n<p>And I know that requests are handled by the use of <code>@RequestMapping</code> annotations over the method that handles the operation on the resource.</p>\n<p>From what I have understood, both standard web applications and RESTful applications use some codes to communicate with their clients (the RESTful application have an expanded set of codes) that I think represent the status of the request (for example <strong>200</strong> is the request is a successful GET returning content, etc.).</p>\n<p>Now the documentation shows the use of the <code>@ResponseStatus</code> annotation as in this example:</p>\n<pre><code>@RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.POST)\n@ResponseStatus(HttpStatus.CREATED) // 201\npublic void createOrder(HttpServletRequest request, HttpServletResponse response) {\n    Order order = createOrder(request);\n    // determine full URI for newly created Order based on request\n    response.addHeader(&quot;Location&quot;,\n    getLocationForChildResource(request, order.getId()));\n}\n</code></pre>\n<p>So looking at the previous method I know that it handles <strong>HttpRequest POST</strong> requests towards the resource named <strong>/orders</strong> (using REST the resource is seen as an URL, is that correct?).</p>\n<p>But what exactly does the annotation below do:</p>\n<pre><code>@ResponseStatus(HttpStatus.CREATED) // 201\n</code></pre>\n<p>I know that the <strong>201</strong> status code means that a <strong>new resource was created on POST</strong>.</p>\n<p>And looking at the official documentation I can read:</p>\n<blockquote>\n<p>Marks a method or exception class with the status code and reason that\nshould be returned. The status code is applied to the HTTP response\nwhen the handler method is invoked, or whenever said exception is\nthrown.</p>\n</blockquote>\n<p>So what exactly it means? I think that as is done in the previous example it sets the 201 status that says that the resource is correctly created by the POST request. If this is correct I have 2 questions:</p>\n<ol>\n<li><p>The resource is the <strong>/orders</strong> URI. So what is created? a file named <strong>orders</strong> (I think that this assertion is false) or what?</p>\n</li>\n<li><p>Where the 201 status is put?</p>\n</li>\n</ol>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668416666,"post_id":74429093,"comment_id":131391172,"body_markdown":"Maybe it&#39;s not allowed when creating a new DriveItem, as all required information is already present in the request&#39;s path (https://graph.microsoft.com/v1.0/drives/{driveId}/items/{itemId}/children). Did you try simply without parentReference?","body":"Maybe it&#39;s not allowed when creating a new DriveItem, as all required information is already present in the request&#39;s path (<a href=\"https://graph.microsoft.com/v1.0/drives/\" rel=\"nofollow noreferrer\">graph.microsoft.com/v1.0/drives</a>{driveId}/items/{itemId}/chi&zwnj;&#8203;ldren). Did you try simply without parentReference?"},{"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"score":0,"creation_date":1668418017,"post_id":74429093,"comment_id":131391668,"body_markdown":"Do you want to create a folder or a file?","body":"Do you want to create a folder or a file?"},{"owner":{"account_id":1543453,"reputation":992,"user_id":1437558,"accept_rate":86,"display_name":"Emre T&#252;rkiş"},"score":0,"creation_date":1668419942,"post_id":74429093,"comment_id":131392301,"body_markdown":"I want to create a file. Actually, I don&#39;t want to change how we&#39;re calling this API because nothing has changed in our code but this endpoint started failing. I&#39;m suspecting something has changed on the API.","body":"I want to create a file. Actually, I don&#39;t want to change how we&#39;re calling this API because nothing has changed in our code but this endpoint started failing. I&#39;m suspecting something has changed on the API."},{"owner":{"account_id":6138740,"reputation":607,"user_id":4786776,"accept_rate":100,"display_name":"codeye"},"score":0,"creation_date":1668438599,"post_id":74429093,"comment_id":131398678,"body_markdown":"Are you saying this type of call has worked in the past?? When using this API endpoint  &quot;parentReference&quot; is not supported in the  body of the request - as indicated by Christoph Dahlen above.","body":"Are you saying this type of call has worked in the past?? When using this API endpoint  &quot;parentReference&quot; is not supported in the  body of the request - as indicated by Christoph Dahlen above."},{"owner":{"account_id":1543453,"reputation":992,"user_id":1437558,"accept_rate":86,"display_name":"Emre T&#252;rkiş"},"score":0,"creation_date":1668441502,"post_id":74429093,"comment_id":131399788,"body_markdown":"How we&#39;re calling the API is not changed. I&#39;ll check the dependencies to make sure. But the documentation suggests that parentReference is allowed in the request, as it&#39;s listed as a property.","body":"How we&#39;re calling the API is not changed. I&#39;ll check the dependencies to make sure. But the documentation suggests that parentReference is allowed in the request, as it&#39;s listed as a property."},{"owner":{"account_id":1543453,"reputation":992,"user_id":1437558,"accept_rate":86,"display_name":"Emre T&#252;rkiş"},"score":0,"creation_date":1668608479,"post_id":74429093,"comment_id":131446967,"body_markdown":"I&#39;ve opened this ticket but the response was something that is expected: https://learn.microsoft.com/en-us/answers/questions/1087833/invalid-request-error-when-creating-a-new-driveite.html","body":"I&#39;ve opened this ticket but the response was something that is expected: <a href=\"https://learn.microsoft.com/en-us/answers/questions/1087833/invalid-request-error-when-creating-a-new-driveite.html\" rel=\"nofollow noreferrer\" title=\"invalid request error when creating a new driveite.html\">learn.microsoft.com/en-us/answers/questions/1087833/&hellip;</a>"}],"owner":{"account_id":1543453,"reputation":992,"user_id":1437558,"accept_rate":86,"display_name":"Emre T&#252;rkiş"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668416353,"creation_date":1668416353,"question_id":74429093,"body_markdown":"We&#39;re getting the following error when we try to create a new driveItem. I checked the [documentation][1] but everything seems fine. I&#39;m not experienced with this API but can it be that something changed recently? It says the &#39;parentReference&#39; was not allowed there but it clearly is, looking at the [documentation of driveItem][1]. We didn&#39;t change the code too. Any ideas?\r\n\r\nRequest:\r\n\r\n    POST https://graph.microsoft.com/v1.0/drives/{driveId}/items/{itemId}/children\r\n    SdkVersion : graph-java/v1.5.0\r\n    {\r\n        &quot;file&quot;: {},\r\n        &quot;name&quot;: &quot;....pdf&quot;,\r\n        &quot;parentReference&quot;: {\r\n            &quot;driveId&quot;: &quot;b!CI0Uhi...&quot;,\r\n            &quot;id&quot;: &quot;01BRIXMT...&quot;\r\n        }\r\n    }\r\n\r\nResponse:\r\n\r\n    400 : Bad Request\r\n    Transfer-Encoding : chunked\r\n    Strict-Transport-Security : max-age=31536000\r\n    Cache-Control : no-store, no-cache\r\n    x-ms-ags-diagnostic : {&quot;ServerInfo&quot;:{&quot;DataCenter&quot;:&quot;South Central US&quot;,&quot;Slice&quot;:&quot;E&quot;,&quot;Ring&quot;:&quot;5&quot;,&quot;ScaleUnit&quot;:&quot;005&quot;,&quot;RoleInstance&quot;:&quot;SN4PEPF0000085A&quot;}}\r\n    client-request-id : 535b6eab-c9ad-45a2-9bc9-7264c935014d\r\n    Vary : Accept-Encoding\r\n    request-id : 202ce588-4f71-436c-b9f2-28e95a572eda\r\n    Date : Fri, 11 Nov 2022 20:18:32 GMT\r\n    Content-Type : application/json\r\n    {\r\n      &quot;error&quot;: {\r\n        &quot;code&quot;: &quot;invalidRequest&quot;,\r\n        &quot;message&quot;: &quot;The item cannot contain a parentReference&quot;,\r\n        &quot;innerError&quot;: {\r\n          &quot;date&quot;: &quot;2022-11-11T20:18:33&quot;,\r\n          &quot;request-id&quot;: &quot;202ce588-4f71-436c-b9f2-28e95a572eda&quot;,\r\n          &quot;client-request-id&quot;: &quot;535b6eab-c9ad-45a2-9bc9-7264c935014d&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/api/driveitem-post-children?view=graph-rest-1.0&amp;tabs=http","title":"Invalid Request Error When Creating A New DriveItem","body":"<p>We're getting the following error when we try to create a new driveItem. I checked the <a href=\"https://learn.microsoft.com/en-us/graph/api/driveitem-post-children?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">documentation</a> but everything seems fine. I'm not experienced with this API but can it be that something changed recently? It says the 'parentReference' was not allowed there but it clearly is, looking at the <a href=\"https://learn.microsoft.com/en-us/graph/api/driveitem-post-children?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">documentation of driveItem</a>. We didn't change the code too. Any ideas?</p>\n<p>Request:</p>\n<pre><code>POST https://graph.microsoft.com/v1.0/drives/{driveId}/items/{itemId}/children\nSdkVersion : graph-java/v1.5.0\n{\n    &quot;file&quot;: {},\n    &quot;name&quot;: &quot;....pdf&quot;,\n    &quot;parentReference&quot;: {\n        &quot;driveId&quot;: &quot;b!CI0Uhi...&quot;,\n        &quot;id&quot;: &quot;01BRIXMT...&quot;\n    }\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>400 : Bad Request\nTransfer-Encoding : chunked\nStrict-Transport-Security : max-age=31536000\nCache-Control : no-store, no-cache\nx-ms-ags-diagnostic : {&quot;ServerInfo&quot;:{&quot;DataCenter&quot;:&quot;South Central US&quot;,&quot;Slice&quot;:&quot;E&quot;,&quot;Ring&quot;:&quot;5&quot;,&quot;ScaleUnit&quot;:&quot;005&quot;,&quot;RoleInstance&quot;:&quot;SN4PEPF0000085A&quot;}}\nclient-request-id : 535b6eab-c9ad-45a2-9bc9-7264c935014d\nVary : Accept-Encoding\nrequest-id : 202ce588-4f71-436c-b9f2-28e95a572eda\nDate : Fri, 11 Nov 2022 20:18:32 GMT\nContent-Type : application/json\n{\n  &quot;error&quot;: {\n    &quot;code&quot;: &quot;invalidRequest&quot;,\n    &quot;message&quot;: &quot;The item cannot contain a parentReference&quot;,\n    &quot;innerError&quot;: {\n      &quot;date&quot;: &quot;2022-11-11T20:18:33&quot;,\n      &quot;request-id&quot;: &quot;202ce588-4f71-436c-b9f2-28e95a572eda&quot;,\n      &quot;client-request-id&quot;: &quot;535b6eab-c9ad-45a2-9bc9-7264c935014d&quot;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","jvm","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":22074613,"reputation":57,"user_id":16340746,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640673169,"creation_date":1640673169,"answer_id":70503517,"question_id":70462406,"body_markdown":"I resolve it. In @SpringBootApplication class i had ReactorDebugAgent.init();\r\nI dont know, why, but without ReactorDebugAgent it works","title":"ReactorDebugAgent.init throw IllegalStateException","body":"<p>I resolve it. In @SpringBootApplication class i had ReactorDebugAgent.init();\nI dont know, why, but without ReactorDebugAgent it works</p>\n"},{"tags":[],"owner":{"account_id":16140798,"reputation":1,"user_id":11651990,"display_name":"Warm as jade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668416013,"creation_date":1668416013,"answer_id":74429016,"question_id":70462406,"body_markdown":"you can add -javaagent:reactor-tools.jar","title":"ReactorDebugAgent.init throw IllegalStateException","body":"<p>you can add -javaagent:reactor-tools.jar</p>\n"}],"owner":{"account_id":22074613,"reputation":57,"user_id":16340746,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70503517,"answer_count":2,"score":1,"last_activity_date":1668416013,"creation_date":1640264007,"question_id":70462406,"body_markdown":"I&#39;m upgrading the app from JVM 8 to 11 and i have any problem. My SpringBootApplication class has ReactorDebugAgent.init();\r\n```\r\n@SpringBootApplication\r\n@Slf4j\r\n@Import(SwaggerCustomConfig.class)\r\npublic class RequisitesApplication {\r\n    public static void main(String[] args) {\r\n        ReactorDebugAgent.init();\r\n        SpringApplication.run(RequisitesApplication.class, args);\r\n    }\r\n}\r\n```\r\nAnd when i tried run the app, a catch IllegalStateException:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Could not self-attach to current VM using external process\r\n\tat reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.installExternal(ByteBuddyAgent.java:695)\r\n\tat reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:626)\r\n\tat reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:606)\r\n\tat reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:558)\r\n\tat reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:535)\r\n\tat reactor.tools.agent.ReactorDebugAgent.init(ReactorDebugAgent.java:56)\r\n\tat ru.gazprombank.omni.pcidss.RequisitesApplication.main(RequisitesApplication.java:23)\r\n```\r\nWell, when i go deeper to stack trace, i found, then this exception is catching in ByteBuddyAgent.class:\r\n```\r\nif ((new ProcessBuilder(new String[]{System.getProperty(&quot;java.home&quot;) + File.separatorChar + &quot;bin&quot; + File.separatorChar + (System.getProperty(&quot;os.name&quot;, &quot;&quot;).toLowerCase(Locale.US).contains(&quot;windows&quot;) ? &quot;java.exe&quot; : &quot;java&quot;), &quot;-cp&quot;, classPath.toString(), Attacher.class.getName(), externalAttachment.getVirtualMachineType(), processId, quote(agent.getAbsolutePath()), Boolean.toString(isNative), argument == null ? &quot;&quot; : &quot;=&quot; + argument})).start().waitFor() != 0) {\r\n                throw new IllegalStateException(&quot;Could not self-attach to current VM using external process&quot;);\r\n            }\r\n```\r\nIn my Intellij Idea Project settings, Platfirm Settings and Gradle Settings i install and choose 11 version.\r\nPlease, help me to resolve this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bM38T.png\r\n  [2]: https://i.stack.imgur.com/dzZnk.png\r\n  [3]: https://i.stack.imgur.com/jMpvp.png","title":"ReactorDebugAgent.init throw IllegalStateException","body":"<p>I'm upgrading the app from JVM 8 to 11 and i have any problem. My SpringBootApplication class has ReactorDebugAgent.init();</p>\n<pre><code>@SpringBootApplication\n@Slf4j\n@Import(SwaggerCustomConfig.class)\npublic class RequisitesApplication {\n    public static void main(String[] args) {\n        ReactorDebugAgent.init();\n        SpringApplication.run(RequisitesApplication.class, args);\n    }\n}\n</code></pre>\n<p>And when i tried run the app, a catch IllegalStateException:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Could not self-attach to current VM using external process\n    at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.installExternal(ByteBuddyAgent.java:695)\n    at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:626)\n    at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:606)\n    at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:558)\n    at reactor.tools.shaded.net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:535)\n    at reactor.tools.agent.ReactorDebugAgent.init(ReactorDebugAgent.java:56)\n    at ru.gazprombank.omni.pcidss.RequisitesApplication.main(RequisitesApplication.java:23)\n</code></pre>\n<p>Well, when i go deeper to stack trace, i found, then this exception is catching in ByteBuddyAgent.class:</p>\n<pre><code>if ((new ProcessBuilder(new String[]{System.getProperty(&quot;java.home&quot;) + File.separatorChar + &quot;bin&quot; + File.separatorChar + (System.getProperty(&quot;os.name&quot;, &quot;&quot;).toLowerCase(Locale.US).contains(&quot;windows&quot;) ? &quot;java.exe&quot; : &quot;java&quot;), &quot;-cp&quot;, classPath.toString(), Attacher.class.getName(), externalAttachment.getVirtualMachineType(), processId, quote(agent.getAbsolutePath()), Boolean.toString(isNative), argument == null ? &quot;&quot; : &quot;=&quot; + argument})).start().waitFor() != 0) {\n                throw new IllegalStateException(&quot;Could not self-attach to current VM using external process&quot;);\n            }\n</code></pre>\n<p>In my Intellij Idea Project settings, Platfirm Settings and Gradle Settings i install and choose 11 version.\nPlease, help me to resolve this problem.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9107,"page":885,"page_size":100}
