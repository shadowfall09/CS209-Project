{"items":[{"tags":["java","jms"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1642145023,"post_id":70707227,"comment_id":124997889,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) --- Are you using by any chances the smallrye connector for ActiveMQ?","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a> --- Are you using by any chances the smallrye connector for ActiveMQ?"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642148335,"creation_date":1642148335,"answer_id":70707778,"question_id":70707227,"body_markdown":"Since you are using JMS, the way to go is the message properties. You define them with the `setXxxProperty` family of methods. Quoting from the [Message Javadocs](https://javaee.github.io/javaee-spec/javadocs/javax/jms/Message.html):\r\n\r\n&gt; #### Message Properties\r\n&gt;\r\n&gt; A Message object contains a built-in facility for supporting application-defined property values. In effect, this provides a mechanism for adding application-specific header fields to a message.\r\n\r\nSo, go ahead, create your message, e.g.: `TextMessage textMessage = session.createTextMessage(payload);` and then set headers as:\r\n\r\n```java\r\ntextMessage.setStringProperty(&quot;name&quot;, &quot;value&quot;);\r\ntextMessage.setBooleanProperty(&quot;i_am_a_header&quot;, true);\r\n// etc\r\n```","title":"How to send headers to a JMS message","body":"<p>Since you are using JMS, the way to go is the message properties. You define them with the <code>setXxxProperty</code> family of methods. Quoting from the <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/jms/Message.html\" rel=\"nofollow noreferrer\">Message Javadocs</a>:</p>\n<blockquote>\n<h4>Message Properties</h4>\n<p>A Message object contains a built-in facility for supporting application-defined property values. In effect, this provides a mechanism for adding application-specific header fields to a message.</p>\n</blockquote>\n<p>So, go ahead, create your message, e.g.: <code>TextMessage textMessage = session.createTextMessage(payload);</code> and then set headers as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>textMessage.setStringProperty(&quot;name&quot;, &quot;value&quot;);\ntextMessage.setBooleanProperty(&quot;i_am_a_header&quot;, true);\n// etc\n</code></pre>\n"}],"owner":{"account_id":23532427,"reputation":61,"user_id":17577844,"display_name":"Rumi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3965,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70707778,"answer_count":1,"score":1,"last_activity_date":1642191829,"creation_date":1642144943,"question_id":70707227,"body_markdown":"I am trying to add headers to a JMS message. The headers being `eventType`, `messageId`, `correlationId` and `messageStamp`. This is my queue sender method:\r\n```java\r\npublic void messageSentInQueue(String queueName, Message payload)\r\n            throws JMSException {\r\n\r\n    if (!MessageQueueConfigs.userName.isEmpty() || !MessageQueueConfigs.password.isEmpty() || !MessageQueueConfigs.brokerUrl.isEmpty()) {\r\n        try {\r\n            connection = ActiveMQConnection.makeConnection(MessageQueueConfigs.userName, MessageQueueConfigs.password, MessageQueueConfigs.brokerUrl);\r\n            connection.start();\r\n            // create a Session\r\n            session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            System.out.print(&quot;what is session&quot; + session);\r\n\r\n            // create the Queue to which messages will be sent . If the Queue is not there it will be auto created\r\n            Queue queue = session.createQueue(queueName);\r\n            // create a MessageProducer for sending messages\r\n            messageProducer = session.createProducer(queue);\r\n            TextMessage textMessage = session.createTextMessage(payload);\r\n            System.out.println(&quot;message to sent&quot; + payload);\r\n            messageProducer.send(payload);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            connection.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow can I send headers along with the payload?","title":"How to send headers to a JMS message","body":"<p>I am trying to add headers to a JMS message. The headers being <code>eventType</code>, <code>messageId</code>, <code>correlationId</code> and <code>messageStamp</code>. This is my queue sender method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void messageSentInQueue(String queueName, Message payload)\n            throws JMSException {\n\n    if (!MessageQueueConfigs.userName.isEmpty() || !MessageQueueConfigs.password.isEmpty() || !MessageQueueConfigs.brokerUrl.isEmpty()) {\n        try {\n            connection = ActiveMQConnection.makeConnection(MessageQueueConfigs.userName, MessageQueueConfigs.password, MessageQueueConfigs.brokerUrl);\n            connection.start();\n            // create a Session\n            session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            System.out.print(&quot;what is session&quot; + session);\n\n            // create the Queue to which messages will be sent . If the Queue is not there it will be auto created\n            Queue queue = session.createQueue(queueName);\n            // create a MessageProducer for sending messages\n            messageProducer = session.createProducer(queue);\n            TextMessage textMessage = session.createTextMessage(payload);\n            System.out.println(&quot;message to sent&quot; + payload);\n            messageProducer.send(payload);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            connection.close();\n        }\n    }\n}\n</code></pre>\n<p>How can I send headers along with the payload?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642224925,"post_id":70712201,"comment_id":125019674,"body_markdown":"have you tried using `map` instead of `flatMap` after your get sequence, as `map` is synchronous, while `flatMap` is async.","body":"have you tried using <code>map</code> instead of <code>flatMap</code> after your get sequence, as <code>map</code> is synchronous, while <code>flatMap</code> is async."},{"owner":{"account_id":8477153,"reputation":1,"user_id":6358041,"display_name":"Dhilli Nellepalli"},"score":0,"creation_date":1642385495,"post_id":70712201,"comment_id":125049289,"body_markdown":"still the same...","body":"still the same..."}],"owner":{"account_id":8477153,"reputation":1,"user_id":6358041,"display_name":"Dhilli Nellepalli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642191106,"creation_date":1642170838,"question_id":70712201,"body_markdown":"I am using Spring webflux and default project reactor. Each http request will poll the ConcurrentLinkedQueue and get a unique number, if the queue becomes empty all the request should wait for the queue to be populated (I am looking at smart way to refill the queue as part of the reactive chain of the first request which found queue is empty and make all the other requests wait for the queue to be replenished). I am find it hard to implement it in spring webflux and project reactor. By way, during the app startup I have event lister to populate the queue on app load. This problem will be prominent once the queue is empty. **Any help here will be much appreciated**. Here is the minified version of the code...\r\n\r\n\r\n```\r\npackage com.learning;\r\n\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.Queue;\r\nimport java.util.concurrent.ConcurrentLinkedQueue;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.LongStream;\r\n\r\npublic class UniqueNumberGenerator {\r\n\r\n    Queue&lt;Long&gt; uniqueNumberCache = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n    static private Long sequence = 0l;\r\n\r\n    public static void main(String arg[]) throws InterruptedException {\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(9);\r\n\r\n        UniqueNumberGenerator uniqueNumberGenerator = new UniqueNumberGenerator();\r\n\r\n        for (int i = 0; i &lt; 15; i++) {\r\n            executorService.submit(() -&gt; {\r\n                uniqueNumberGenerator.getUniqueNumber()\r\n                        .doOnNext(number -&gt; System.out.println(&quot;Consumed number : &quot; + number))\r\n                        .subscribe();\r\n            });\r\n        }\r\n\r\n        Thread.sleep(5000);\r\n    }\r\n\r\n\r\n    public Mono&lt;Long&gt; getUniqueNumber() {\r\n\r\n        Long orderId = uniqueNumberCache.poll();\r\n\r\n        if(orderId != null) {\r\n            return Mono.just(orderId);\r\n        } else {\r\n            return generateUniqueNumbers();\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * This is where the problem lies, When the queue is empty in the above method,\r\n     * All thw thread are concurrently trying to get the db sequence and generating the\r\n     * unique numbers and populating the queue,\r\n     * where I want to only one thread to populate the queue and make all other to wait for it\r\n     *\r\n     * @return\r\n     */\r\n\r\n    public Mono&lt;Long&gt; generateUniqueNumbers() {\r\n\r\n        Mono&lt;Long&gt; sequenceMono = getSequence()\r\n                .flatMap(nextVal -&gt; {\r\n                    var list = LongStream.rangeClosed(1, 9)\r\n                            .boxed()\r\n                            .map(value -&gt; Long.valueOf(nextVal + &quot;&quot; + value))\r\n                            .collect(Collectors.toList());\r\n                    System.out.println(&quot;Generated number &quot; + list);\r\n                    var nextOrderId = list.remove(0);\r\n                    uniqueNumberCache.addAll(list);\r\n                    return Mono.just(nextOrderId);\r\n                });\r\n\r\n        return sequenceMono;\r\n    }\r\n\r\n    /**\r\n     * This method is actually backed by db sequence\r\n     *\r\n     * @return\r\n     */\r\n    public Mono&lt;Long&gt; getSequence() {\r\n        return Mono.create(longMonoSink -&gt; {\r\n            synchronized (sequence) {\r\n                sequence = sequence + 1;\r\n                //System.out.println(&quot;sequence : &quot; + sequence);\r\n                longMonoSink.success(sequence);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nOutput\r\n\r\n```\r\nGenerated number [11, 12, 13, 14, 15, 16, 17, 18, 19]\r\nGenerated number [31, 32, 33, 34, 35, 36, 37, 38, 39]\r\nGenerated number [41, 42, 43, 44, 45, 46, 47, 48, 49]\r\nGenerated number [51, 52, 53, 54, 55, 56, 57, 58, 59]\r\nGenerated number [21, 22, 23, 24, 25, 26, 27, 28, 29]\r\nConsumed number : 31\r\nConsumed number : 11\r\nConsumed number : 21\r\nConsumed number : 41\r\nConsumed number : 51\r\nGenerated number [61, 62, 63, 64, 65, 66, 67, 68, 69]\r\nConsumed number : 61\r\nGenerated number [71, 72, 73, 74, 75, 76, 77, 78, 79]\r\nConsumed number : 71\r\nGenerated number [81, 82, 83, 84, 85, 86, 87, 88, 89]\r\nConsumed number : 81\r\nGenerated number [91, 92, 93, 94, 95, 96, 97, 98, 99]\r\nConsumed number : 91\r\nConsumed number : 17\r\nConsumed number : 12\r\nConsumed number : 13\r\nConsumed number : 16\r\nConsumed number : 14\r\nConsumed number : 15\r\n\r\n```\r\n\r\nBy looking at above example it is very clear that all the threads are populating the queue. There are around 90 (each thread generated 10 numbers ) unique numbers generated for 15 requests\r\n","title":"Spring Webflux, Make all request wait for queue to be replenished by first request","body":"<p>I am using Spring webflux and default project reactor. Each http request will poll the ConcurrentLinkedQueue and get a unique number, if the queue becomes empty all the request should wait for the queue to be populated (I am looking at smart way to refill the queue as part of the reactive chain of the first request which found queue is empty and make all the other requests wait for the queue to be replenished). I am find it hard to implement it in spring webflux and project reactor. By way, during the app startup I have event lister to populate the queue on app load. This problem will be prominent once the queue is empty. <strong>Any help here will be much appreciated</strong>. Here is the minified version of the code...</p>\n<pre><code>package com.learning;\n\nimport reactor.core.publisher.Mono;\n\nimport java.util.Queue;\nimport java.util.concurrent.ConcurrentLinkedQueue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.stream.Collectors;\nimport java.util.stream.LongStream;\n\npublic class UniqueNumberGenerator {\n\n    Queue&lt;Long&gt; uniqueNumberCache = new ConcurrentLinkedQueue&lt;&gt;();\n\n    static private Long sequence = 0l;\n\n    public static void main(String arg[]) throws InterruptedException {\n\n        ExecutorService executorService = Executors.newFixedThreadPool(9);\n\n        UniqueNumberGenerator uniqueNumberGenerator = new UniqueNumberGenerator();\n\n        for (int i = 0; i &lt; 15; i++) {\n            executorService.submit(() -&gt; {\n                uniqueNumberGenerator.getUniqueNumber()\n                        .doOnNext(number -&gt; System.out.println(&quot;Consumed number : &quot; + number))\n                        .subscribe();\n            });\n        }\n\n        Thread.sleep(5000);\n    }\n\n\n    public Mono&lt;Long&gt; getUniqueNumber() {\n\n        Long orderId = uniqueNumberCache.poll();\n\n        if(orderId != null) {\n            return Mono.just(orderId);\n        } else {\n            return generateUniqueNumbers();\n        }\n\n    }\n\n    /**\n     * This is where the problem lies, When the queue is empty in the above method,\n     * All thw thread are concurrently trying to get the db sequence and generating the\n     * unique numbers and populating the queue,\n     * where I want to only one thread to populate the queue and make all other to wait for it\n     *\n     * @return\n     */\n\n    public Mono&lt;Long&gt; generateUniqueNumbers() {\n\n        Mono&lt;Long&gt; sequenceMono = getSequence()\n                .flatMap(nextVal -&gt; {\n                    var list = LongStream.rangeClosed(1, 9)\n                            .boxed()\n                            .map(value -&gt; Long.valueOf(nextVal + &quot;&quot; + value))\n                            .collect(Collectors.toList());\n                    System.out.println(&quot;Generated number &quot; + list);\n                    var nextOrderId = list.remove(0);\n                    uniqueNumberCache.addAll(list);\n                    return Mono.just(nextOrderId);\n                });\n\n        return sequenceMono;\n    }\n\n    /**\n     * This method is actually backed by db sequence\n     *\n     * @return\n     */\n    public Mono&lt;Long&gt; getSequence() {\n        return Mono.create(longMonoSink -&gt; {\n            synchronized (sequence) {\n                sequence = sequence + 1;\n                //System.out.println(&quot;sequence : &quot; + sequence);\n                longMonoSink.success(sequence);\n            }\n        });\n    }\n\n\n}\n\n</code></pre>\n<p>Output</p>\n<pre><code>Generated number [11, 12, 13, 14, 15, 16, 17, 18, 19]\nGenerated number [31, 32, 33, 34, 35, 36, 37, 38, 39]\nGenerated number [41, 42, 43, 44, 45, 46, 47, 48, 49]\nGenerated number [51, 52, 53, 54, 55, 56, 57, 58, 59]\nGenerated number [21, 22, 23, 24, 25, 26, 27, 28, 29]\nConsumed number : 31\nConsumed number : 11\nConsumed number : 21\nConsumed number : 41\nConsumed number : 51\nGenerated number [61, 62, 63, 64, 65, 66, 67, 68, 69]\nConsumed number : 61\nGenerated number [71, 72, 73, 74, 75, 76, 77, 78, 79]\nConsumed number : 71\nGenerated number [81, 82, 83, 84, 85, 86, 87, 88, 89]\nConsumed number : 81\nGenerated number [91, 92, 93, 94, 95, 96, 97, 98, 99]\nConsumed number : 91\nConsumed number : 17\nConsumed number : 12\nConsumed number : 13\nConsumed number : 16\nConsumed number : 14\nConsumed number : 15\n\n</code></pre>\n<p>By looking at above example it is very clear that all the threads are populating the queue. There are around 90 (each thread generated 10 numbers ) unique numbers generated for 15 requests</p>\n"},{"tags":["java","spring","maven","dependencies","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":4,"up_vote_count":34,"is_accepted":true,"score":30,"last_activity_date":1642191087,"creation_date":1394640489,"answer_id":22357323,"question_id":22357179,"body_markdown":"It&#39;s a dependency tree. The things below a listing are dependencies of their parent.\r\n\r\n    [INFO] +- org.springframework:spring-core:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  \\- commons-logging:commons-logging:jar:1.1.3:compile\r\n\r\nSpring-core depends on commons-logging.\r\n\r\n    [INFO] +- org.glassfish.jersey.core:jersey-server:jar:2.6:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.6:compile\r\n    [INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (javax.annotation:javax.annotation-api:jar:1.2:compile - omitted for duplicate)\r\n\r\nJersey-server depends on jersey-common. Jersey-common depends on rs-api and annotation-api, etc.","title":"How to understand Maven dependency tree","body":"<p>It's a dependency tree. The things below a listing are dependencies of their parent.</p>\n<pre><code>[INFO] +- org.springframework:spring-core:jar:4.0.2.RELEASE:compile\n[INFO] |  \\- commons-logging:commons-logging:jar:1.1.3:compile\n</code></pre>\n<p>Spring-core depends on commons-logging.</p>\n<pre><code>[INFO] +- org.glassfish.jersey.core:jersey-server:jar:2.6:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.6:compile\n[INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (javax.annotation:javax.annotation-api:jar:1.2:compile - omitted for duplicate)\n</code></pre>\n<p>Jersey-server depends on jersey-common. Jersey-common depends on rs-api and annotation-api, etc.</p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1394641009,"creation_date":1394641009,"answer_id":22357585,"question_id":22357179,"body_markdown":"The answer you linked to says that you should look for a version conflict between `spring-core` and `spring-asm`. \r\n\r\nIf you search for these libraries in the tree, you&#39;ll find that most of Spring components including `spring-core` are `4.0.2.RELEASE`, whereas `spring-asm` is `3.0.0.RC3`. Also you can see that offending `spring-asm` is a transitive dependency of the following top-level dependency:\r\n\r\n    [INFO] +- org.springframework:spring-aop:jar:3.0.0.RC3:compile\r\n\r\nSo, now you need to find it in `pom.xml` and correct its version.","title":"How to understand Maven dependency tree","body":"<p>The answer you linked to says that you should look for a version conflict between <code>spring-core</code> and <code>spring-asm</code>. </p>\n\n<p>If you search for these libraries in the tree, you'll find that most of Spring components including <code>spring-core</code> are <code>4.0.2.RELEASE</code>, whereas <code>spring-asm</code> is <code>3.0.0.RC3</code>. Also you can see that offending <code>spring-asm</code> is a transitive dependency of the following top-level dependency:</p>\n\n<pre><code>[INFO] +- org.springframework:spring-aop:jar:3.0.0.RC3:compile\n</code></pre>\n\n<p>So, now you need to find it in <code>pom.xml</code> and correct its version.</p>\n"}],"owner":{"account_id":177922,"reputation":1166,"user_id":409573,"accept_rate":66,"display_name":"R. Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29389,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":22357323,"answer_count":2,"score":41,"last_activity_date":1642191087,"creation_date":1394640160,"question_id":22357179,"body_markdown":"Please excuse if this a dump question but I have searched a lot and couldn&#39;t understand how to actually read Maven Dependency tee.\r\nI know this command is used to figure out the dependencies but how?\r\nThis is the result of `mvn dependency:tree -Dverbose` in my project.\r\n\r\n    [INFO] +- org.springframework:spring-core:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  \\- commons-logging:commons-logging:jar:1.1.3:compile\r\n    [INFO] +- org.springframework:spring-web:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-aop:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- org.springframework:spring-beans:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework:spring-webmvc:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- org.springframework:spring-expression:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-web:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework:spring-context:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-aop:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-expression:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework:spring-aop:jar:3.0.0.RC3:compile\r\n    [INFO] |  +- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] |  +- org.springframework:spring-asm:jar:3.0.0.RC3:compile\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:3.0.0.RC3:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  \\- (org.springframework:spring-core:jar:3.0.0.RC3:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] +- org.springframework:spring-tx:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework:spring-orm:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- org.springframework:spring-jdbc:jar:4.0.2.RELEASE:compile\r\n    [INFO] |  |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  |  \\- (org.springframework:spring-tx:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  \\- (org.springframework:spring-tx:jar:4.0.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] +- org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile\r\n    [INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-aop:jar:3.2.8.RELEASE:compile - omitted for conflict with 3.0.0.RC3)\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  \\- (org.springframework:spring-expression:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] +- org.springframework.security:spring-security-web:jar:3.2.2.RELEASE:compile\r\n    [INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-expression:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  \\- (org.springframework:spring-web:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] +- org.springframework.security:spring-security-config:jar:3.2.2.RELEASE:compile\r\n    [INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile - omitted for duplicate)\r\n    [INFO] |  +- (org.springframework:spring-aop:jar:3.2.8.RELEASE:compile - omitted for conflict with 3.0.0.RC3)\r\n    [INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] |  \\- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\r\n    [INFO] +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\r\n    [INFO] +- org.glassfish.jersey.core:jersey-server:jar:2.6:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.6:compile\r\n    [INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (javax.annotation:javax.annotation-api:jar:1.2:compile - omitted for duplicate)\r\n    [INFO] |  |  +- org.glassfish.jersey.bundles.repackaged:jersey-guava:jar:2.6:compile\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-locator:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.1:compile\r\n    [INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.6:compile\r\n    [INFO] |  |  +- (org.glassfish.jersey.core:jersey-common:jar:2.6:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  \\- (org.glassfish.hk2:hk2-locator:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  +- javax.ws.rs:javax.ws.rs-api:jar:2.0:compile\r\n    [INFO] |  +- javax.annotation:javax.annotation-api:jar:1.2:compile\r\n    [INFO] |  +- org.glassfish.hk2:hk2-api:jar:2.2.0:compile\r\n    [INFO] |  |  +- org.glassfish.hk2:hk2-utils:jar:2.2.0:compile\r\n    [INFO] |  |  \\- org.glassfish.hk2.external:aopalliance-repackaged:jar:2.2.0:compile\r\n    [INFO] |  +- org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile\r\n    [INFO] |  +- org.glassfish.hk2:hk2-locator:jar:2.2.0:compile\r\n    [INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2.external:aopalliance-repackaged:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  +- (org.glassfish.hk2:hk2-utils:jar:2.2.0:compile - omitted for duplicate)\r\n    [INFO] |  |  \\- (org.javassist:javassist:jar:3.18.1-GA:compile - omitted for conflict with 3.15.0-GA)\r\n    [INFO] |  \\- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] +- com.sun.jersey.contribs:jersey-spring:jar:1.18.1:compile\r\n    [INFO] |  +- com.sun.jersey:jersey-servlet:jar:1.18.1:compile\r\n    [INFO] |  |  \\- com.sun.jersey:jersey-server:jar:1.18.1:compile\r\n    [INFO] |  |     \\- com.sun.jersey:jersey-core:jar:1.18.1:compile\r\n    [INFO] |  \\- (org.springframework:spring-aop:jar:3.0.0.RC3:compile - omitted for duplicate)\r\n    [INFO] +- commons-dbcp:commons-dbcp:jar:1.3:compile\r\n    [INFO] |  \\- commons-pool:commons-pool:jar:1.5.4:compile\r\n    [INFO] +- org.hibernate:hibernate-core:jar:4.0.1.Final:compile\r\n    [INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\r\n    [INFO] |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.1_spec:jar:1.0.0.Final:compile\r\n    [INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\r\n    [INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.0-api:jar:1.0.1.Final:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile\r\n    [INFO] |  +- org.javassist:javassist:jar:3.15.0-GA:compile\r\n    [INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:4.0.1.Final:compile\r\n    [INFO] |     \\- (org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile - omitted for duplicate)\r\n    [INFO] +- cglib:cglib:jar:2.2.2:compile\r\n    [INFO] |  \\- asm:asm:jar:3.3.1:compile\r\n    [INFO] +- mysql:mysql-connector-java:jar:5.1.22:compile\r\n    [INFO] +- org.hibernate:hibernate-validator:jar:4.2.0.Final:compile\r\n    [INFO] |  +- (javax.validation:validation-api:jar:1.0.0.GA:compile - omitted for conflict with 1.1.0.Final)\r\n    [INFO] |  \\- (org.slf4j:slf4j-api:jar:1.6.1:compile - omitted for conflict with 1.7.5)\r\n    [INFO] +- com.sun.xml.bind:jaxb-xjc:jar:2.2.6:compile\r\n    [INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.2.6:compile\r\n    [INFO] +- javax.xml.bind:jaxb-api:jar:2.2.6:compile\r\n    [INFO] +- javax.servlet:jstl:jar:1.2:compile\r\n    [INFO] +- org.apache.tomcat:jsp-api:jar:6.0.32:provided\r\n    [INFO] |  +- org.apache.tomcat:el-api:jar:6.0.32:provided\r\n    [INFO] |  \\- org.apache.tomcat:servlet-api:jar:6.0.32:provided\r\n    [INFO] +- log4j:log4j:jar:1.2.15:compile\r\n    [INFO] |  \\- javax.mail:mail:jar:1.4:compile\r\n    [INFO] |     \\- javax.activation:activation:jar:1.1:compile\r\n    [INFO] +- org.slf4j:slf4j-api:jar:1.7.5:compile\r\n    [INFO] +- org.slf4j:slf4j-simple:jar:1.6.4:compile\r\n    [INFO] |  \\- (org.slf4j:slf4j-api:jar:1.6.4:compile - omitted for conflict with 1.7.5)\r\n    [INFO] \\- org.slf4j:slf4j-log4j12:jar:1.7.5:compile\r\n    [INFO]    +- (org.slf4j:slf4j-api:jar:1.7.5:compile - omitted for duplicate)\r\n    [INFO]    \\- (log4j:log4j:jar:1.2.17:compile - omitted for conflict with 1.2.15)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 6.667 s\r\n    [INFO] Finished at: 2014-03-12T14:37:46+01:00\r\n    [INFO] Final Memory: 9M/16M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\nAs marked as solution in this question: [https://stackoverflow.com/questions/16209623/incompatibleclasschangeerror-class-classmetadatareadingvisitor-has-interface-cl][1]\r\n  [1]: https://stackoverflow.com/questions/16209623/incompatibleclasschangeerror-class-classmetadatareadingvisitor-has-interface-cl\r\n\r\nhow can I check for the dependent jars and conflicts?","title":"How to understand Maven dependency tree","body":"<p>Please excuse if this a dump question but I have searched a lot and couldn't understand how to actually read Maven Dependency tee.\nI know this command is used to figure out the dependencies but how?\nThis is the result of <code>mvn dependency:tree -Dverbose</code> in my project.</p>\n\n<pre><code>[INFO] +- org.springframework:spring-core:jar:4.0.2.RELEASE:compile\n[INFO] |  \\- commons-logging:commons-logging:jar:1.1.3:compile\n[INFO] +- org.springframework:spring-web:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-aop:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- org.springframework:spring-beans:jar:4.0.2.RELEASE:compile\n[INFO] |  |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-context:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework:spring-webmvc:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-context:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- org.springframework:spring-expression:jar:4.0.2.RELEASE:compile\n[INFO] |  |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-web:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework:spring-context:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-aop:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-expression:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework:spring-aop:jar:3.0.0.RC3:compile\n[INFO] |  +- aopalliance:aopalliance:jar:1.0:compile\n[INFO] |  +- org.springframework:spring-asm:jar:3.0.0.RC3:compile\n[INFO] |  +- (org.springframework:spring-beans:jar:3.0.0.RC3:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  \\- (org.springframework:spring-core:jar:3.0.0.RC3:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] +- org.springframework:spring-tx:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework:spring-orm:jar:4.0.2.RELEASE:compile\n[INFO] |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- org.springframework:spring-jdbc:jar:4.0.2.RELEASE:compile\n[INFO] |  |  +- (org.springframework:spring-beans:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  |  +- (org.springframework:spring-core:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.springframework:spring-tx:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  \\- (org.springframework:spring-tx:jar:4.0.2.RELEASE:compile - omitted for duplicate)\n[INFO] +- org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile\n[INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-aop:jar:3.2.8.RELEASE:compile - omitted for conflict with 3.0.0.RC3)\n[INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  \\- (org.springframework:spring-expression:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] +- org.springframework.security:spring-security-web:jar:3.2.2.RELEASE:compile\n[INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-expression:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  \\- (org.springframework:spring-web:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] +- org.springframework.security:spring-security-config:jar:3.2.2.RELEASE:compile\n[INFO] |  +- (aopalliance:aopalliance:jar:1.0:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework.security:spring-security-core:jar:3.2.2.RELEASE:compile - omitted for duplicate)\n[INFO] |  +- (org.springframework:spring-aop:jar:3.2.8.RELEASE:compile - omitted for conflict with 3.0.0.RC3)\n[INFO] |  +- (org.springframework:spring-beans:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  +- (org.springframework:spring-context:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] |  \\- (org.springframework:spring-core:jar:3.2.8.RELEASE:compile - omitted for conflict with 4.0.2.RELEASE)\n[INFO] +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\n[INFO] +- org.glassfish.jersey.core:jersey-server:jar:2.6:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.6:compile\n[INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (javax.annotation:javax.annotation-api:jar:1.2:compile - omitted for duplicate)\n[INFO] |  |  +- org.glassfish.jersey.bundles.repackaged:jersey-guava:jar:2.6:compile\n[INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2:hk2-locator:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.1:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.6:compile\n[INFO] |  |  +- (org.glassfish.jersey.core:jersey-common:jar:2.6:compile - omitted for duplicate)\n[INFO] |  |  +- (javax.ws.rs:javax.ws.rs-api:jar:2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.glassfish.hk2:hk2-locator:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  +- javax.ws.rs:javax.ws.rs-api:jar:2.0:compile\n[INFO] |  +- javax.annotation:javax.annotation-api:jar:1.2:compile\n[INFO] |  +- org.glassfish.hk2:hk2-api:jar:2.2.0:compile\n[INFO] |  |  +- org.glassfish.hk2:hk2-utils:jar:2.2.0:compile\n[INFO] |  |  \\- org.glassfish.hk2.external:aopalliance-repackaged:jar:2.2.0:compile\n[INFO] |  +- org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile\n[INFO] |  +- org.glassfish.hk2:hk2-locator:jar:2.2.0:compile\n[INFO] |  |  +- (org.glassfish.hk2.external:javax.inject:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2.external:aopalliance-repackaged:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2:hk2-api:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.glassfish.hk2:hk2-utils:jar:2.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.javassist:javassist:jar:3.18.1-GA:compile - omitted for conflict with 3.15.0-GA)\n[INFO] |  \\- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] +- com.sun.jersey.contribs:jersey-spring:jar:1.18.1:compile\n[INFO] |  +- com.sun.jersey:jersey-servlet:jar:1.18.1:compile\n[INFO] |  |  \\- com.sun.jersey:jersey-server:jar:1.18.1:compile\n[INFO] |  |     \\- com.sun.jersey:jersey-core:jar:1.18.1:compile\n[INFO] |  \\- (org.springframework:spring-aop:jar:3.0.0.RC3:compile - omitted for duplicate)\n[INFO] +- commons-dbcp:commons-dbcp:jar:1.3:compile\n[INFO] |  \\- commons-pool:commons-pool:jar:1.5.4:compile\n[INFO] +- org.hibernate:hibernate-core:jar:4.0.1.Final:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.1_spec:jar:1.0.0.Final:compile\n[INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  \\- xml-apis:xml-apis:jar:1.0.b2:compile\n[INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.0-api:jar:1.0.1.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile\n[INFO] |  +- org.javassist:javassist:jar:3.15.0-GA:compile\n[INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:4.0.1.Final:compile\n[INFO] |     \\- (org.jboss.logging:jboss-logging:jar:3.1.0.CR2:compile - omitted for duplicate)\n[INFO] +- cglib:cglib:jar:2.2.2:compile\n[INFO] |  \\- asm:asm:jar:3.3.1:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.22:compile\n[INFO] +- org.hibernate:hibernate-validator:jar:4.2.0.Final:compile\n[INFO] |  +- (javax.validation:validation-api:jar:1.0.0.GA:compile - omitted for conflict with 1.1.0.Final)\n[INFO] |  \\- (org.slf4j:slf4j-api:jar:1.6.1:compile - omitted for conflict with 1.7.5)\n[INFO] +- com.sun.xml.bind:jaxb-xjc:jar:2.2.6:compile\n[INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.2.6:compile\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.2.6:compile\n[INFO] +- javax.servlet:jstl:jar:1.2:compile\n[INFO] +- org.apache.tomcat:jsp-api:jar:6.0.32:provided\n[INFO] |  +- org.apache.tomcat:el-api:jar:6.0.32:provided\n[INFO] |  \\- org.apache.tomcat:servlet-api:jar:6.0.32:provided\n[INFO] +- log4j:log4j:jar:1.2.15:compile\n[INFO] |  \\- javax.mail:mail:jar:1.4:compile\n[INFO] |     \\- javax.activation:activation:jar:1.1:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.5:compile\n[INFO] +- org.slf4j:slf4j-simple:jar:1.6.4:compile\n[INFO] |  \\- (org.slf4j:slf4j-api:jar:1.6.4:compile - omitted for conflict with 1.7.5)\n[INFO] \\- org.slf4j:slf4j-log4j12:jar:1.7.5:compile\n[INFO]    +- (org.slf4j:slf4j-api:jar:1.7.5:compile - omitted for duplicate)\n[INFO]    \\- (log4j:log4j:jar:1.2.17:compile - omitted for conflict with 1.2.15)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 6.667 s\n[INFO] Finished at: 2014-03-12T14:37:46+01:00\n[INFO] Final Memory: 9M/16M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>As marked as solution in this question: <a href=\"https://stackoverflow.com/questions/16209623/incompatibleclasschangeerror-class-classmetadatareadingvisitor-has-interface-cl\">IncompatibleClassChangeError: class ClassMetadataReadingVisitor has interface ClassVisitor as super class</a>\nhow can I check for the dependent jars and conflicts?</p>\n"},{"tags":["java","nullpointerexception","method-call"],"comments":[{"owner":{"account_id":11581290,"reputation":21,"user_id":8485115,"display_name":"Ajaykumar"},"score":0,"creation_date":1561862825,"post_id":1917384,"comment_id":100197438,"body_markdown":"Try making calling method **static** and check!","body":"Try making calling method <b>static</b> and check!"}],"answers":[{"tags":[],"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260994990,"creation_date":1260994990,"answer_id":1917408,"question_id":1917384,"body_markdown":"It would be helpful to know what line number 117 in the logic class was. My guess would be either `mine`, `mine[x]`, `flagged` or `flagged[x]` is null.\r\n\r\nThat said, your technique of &quot;loop through the entire table to see which one was clicked&quot; doesn&#39;t strike me as particularly inspired.\r\n\r\nEDIT: Actually, the problem is that the `isOpen` array is null, because you&#39;ve only just instantiated the class.\r\n\r\nEDIT2: Alright, so it&#39;s one of the ones I listed initially. My guess would be *all of them*, because you&#39;ve only just instantiated the class, and it&#39;s using the default do-nothing constructor.","title":"NullPointer Exception when calling method from a difference class","body":"<p>It would be helpful to know what line number 117 in the logic class was. My guess would be either <code>mine</code>, <code>mine[x]</code>, <code>flagged</code> or <code>flagged[x]</code> is null.</p>\n\n<p>That said, your technique of \"loop through the entire table to see which one was clicked\" doesn't strike me as particularly inspired.</p>\n\n<p>EDIT: Actually, the problem is that the <code>isOpen</code> array is null, because you've only just instantiated the class.</p>\n\n<p>EDIT2: Alright, so it's one of the ones I listed initially. My guess would be <em>all of them</em>, because you've only just instantiated the class, and it's using the default do-nothing constructor.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1260994997,"creation_date":1260994997,"answer_id":1917410,"question_id":1917384,"body_markdown":"How about that:\r\n\r\n1. look at the first line of your exception stacktrace, and see which class and which line the problem occurs\r\n2. go to that line, and see which objects could possibly be &quot;null&quot; at this location\r\n3. find out why the object that is null doesn&#39;t have a value assgined\r\n4. if there are more than one objects that could be null, you could `System.out.println()` them, to see whchi one is.","title":"NullPointer Exception when calling method from a difference class","body":"<p>How about that:</p>\n\n<ol>\n<li>look at the first line of your exception stacktrace, and see which class and which line the problem occurs</li>\n<li>go to that line, and see which objects could possibly be \"null\" at this location</li>\n<li>find out why the object that is null doesn't have a value assgined</li>\n<li>if there are more than one objects that could be null, you could <code>System.out.println()</code> them, to see whchi one is.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":58573,"reputation":17921,"user_id":175308,"accept_rate":71,"display_name":"tster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260995290,"creation_date":1260995290,"answer_id":1917443,"question_id":1917384,"body_markdown":"The arrays (flag, isZero, isClicked) are not initialized and are null when you try and use them.  You need the GUI class to contain an instance of the logic class and always use that same instance.  Otherwise, each GUI action will take place on a different game!","title":"NullPointer Exception when calling method from a difference class","body":"<p>The arrays (flag, isZero, isClicked) are not initialized and are null when you try and use them.  You need the GUI class to contain an instance of the logic class and always use that same instance.  Otherwise, each GUI action will take place on a different game!</p>\n"},{"tags":[],"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1260997706,"creation_date":1260995340,"answer_id":1917456,"question_id":1917384,"body_markdown":"Your stacktrace tells you this:\r\n\r\n&gt;  Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\r\n\r\nSo you can go to line 117 and determine which references could possibly be null.  (It seems like you added a line at 117 after the stacktrace was taken, and then commented out the new line, so I&#39;m going to go out on a limb here and say the stacktrace was actually referring to what is now called line 118: `isClicked[x][y] = true;`)  The only thing that could be null, in this case, is `isClicked[][]`.\r\n\r\nDigging a little deeper, we can see that you do initialize isClicked in startNewGame(), but obviously that instance is getting lost.  This is happening for two reasons: first, the logicClass from your constructor is going out-of-scope because it&#39;s not a member of the class.  Second (and this was probably a failed attempt to fix the first problem), in `mouseClicked`, you create a new `MinesweeperLogic` (along with a newly-created null isClicked) instead of using the one you previously created in your `MineSweeper()` constructor.\r\n\r\nThere are several other refactorings you should make to clean up your code, but making logicClass a member and removing the duplicate instantiation should fix the immediate problem.\r\n\r\nIt might be helpful for you to use the debugger, and step through the problem yourself to understand exactly what is happening.","title":"NullPointer Exception when calling method from a difference class","body":"<p>Your stacktrace tells you this:</p>\n\n<blockquote>\n  <p>Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n   at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)</p>\n</blockquote>\n\n<p>So you can go to line 117 and determine which references could possibly be null.  (It seems like you added a line at 117 after the stacktrace was taken, and then commented out the new line, so I'm going to go out on a limb here and say the stacktrace was actually referring to what is now called line 118: <code>isClicked[x][y] = true;</code>)  The only thing that could be null, in this case, is <code>isClicked[][]</code>.</p>\n\n<p>Digging a little deeper, we can see that you do initialize isClicked in startNewGame(), but obviously that instance is getting lost.  This is happening for two reasons: first, the logicClass from your constructor is going out-of-scope because it's not a member of the class.  Second (and this was probably a failed attempt to fix the first problem), in <code>mouseClicked</code>, you create a new <code>MinesweeperLogic</code> (along with a newly-created null isClicked) instead of using the one you previously created in your <code>MineSweeper()</code> constructor.</p>\n\n<p>There are several other refactorings you should make to clean up your code, but making logicClass a member and removing the duplicate instantiation should fix the immediate problem.</p>\n\n<p>It might be helpful for you to use the debugger, and step through the problem yourself to understand exactly what is happening.</p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260995378,"creation_date":1260995378,"answer_id":1917463,"question_id":1917384,"body_markdown":"You say that the error occurs in the mouseClicked() method, however the stacktrace shows differently:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n     at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\r\n     at MineSweeperGUI.mouseClicked(MineSweeperGUI.java:126)\r\n\r\nThis is saying that the NPE occured on line 117 of MineSweeperLogic. Use either your debugger on that line, or insert print statements to work out what is null, from there, you can work out why.","title":"NullPointer Exception when calling method from a difference class","body":"<p>You say that the error occurs in the mouseClicked() method, however the stacktrace shows differently:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\n at MineSweeperGUI.mouseClicked(MineSweeperGUI.java:126)\n</code></pre>\n\n<p>This is saying that the NPE occured on line 117 of MineSweeperLogic. Use either your debugger on that line, or insert print statements to work out what is null, from there, you can work out why.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642191019,"creation_date":1642191019,"answer_id":70716037,"question_id":1917384,"body_markdown":"As a note, you can get this exception on a line like this\r\n\r\n` myMethod(myNumber);` due to auto-unboxing is &quot;myNumber&quot; is a type Long but is currently null.  Wish the JVM reported this better.  Fix is to not pass in null, which isn&#39;t auto converted to zero...","title":"NullPointer Exception when calling method from a difference class","body":"<p>As a note, you can get this exception on a line like this</p>\n<p><code> myMethod(myNumber);</code> due to auto-unboxing is &quot;myNumber&quot; is a type Long but is currently null.  Wish the JVM reported this better.  Fix is to not pass in null, which isn't auto converted to zero...</p>\n"}],"owner":{"account_id":83106,"reputation":17,"user_id":233224,"display_name":"newBie01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1917410,"answer_count":6,"score":1,"last_activity_date":1642191019,"creation_date":1260994702,"question_id":1917384,"body_markdown":"JAVA-\r\nHi,\r\nI am writing a minesweeper program (first biggie) and am really stuck. The program itself is comprised of 2 classes (one for the logic, one for the GUI) as per the specifications that I am to follow. I have done a fair bit in both classes but am not finished either. However, I am attempting to test implementing call methods from one class to the other and that is where I get stuck. From the GUI class, I am attempting to call the method openCell(int x, int y) in the Logic Class every time the user clicks on a box. That Logic Class method will in turn check to see whether there is a mine, a 0 or a number on the square and call the appropriate method from the GUI class. The two methods involved in the error are as follows:\r\n\r\n    GUI CLASS\r\n    public void mouseClicked(MouseEvent e) {\r\n        for (int x = 0 ; x &lt; width ; x++) {\r\n           for (int y = 0 ; y &lt; height ; y++) {\r\n               if (e.getSource() == table[x][y]) {    \r\n                    if(e.getButton() == e.BUTTON1) {\r\n                       MinesweeperLogic logicClass = new MinesweeperLogic();\r\n                       logicClass.isOpen(x, y); // &lt;--------------------------- ERROR\r\n                     }}}}}\r\n\r\n    LOGIC CLASS\r\n    boolean openCell(int x, int y) {\r\n    isClicked[x][y] = true;\r\n        if(mine[x][y] == true &amp;&amp; flag[x][y]==false) {\r\n            return false;\r\n        } else if(neighborBombs(x, y) &gt; 0 &amp;&amp; flag[x][y]==false) {\r\n            return true;\r\n        }else {\r\n                marked = true;\r\n                return marked;\r\n        }}\r\n\r\n\r\nFollowing is the error report I recieve once the user clicks on a box in the game (it does to catch it when compiling the code):\r\n\r\n   \r\n\r\n     Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n     at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\r\n     at MineSweeperGUI.mouseClicked(MineSweeperGUI.java:126)\r\n     at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:253)\r\n     at java.awt.Component.processMouseEvent(Component.java:6266)\r\n     at javax.swing.JComponent.processMouseEvent(JComponent.java:3255)\r\n     at java.awt.Component.processEvent(Component.java:6028)\r\n     at java.awt.Container.processEvent(Container.java:2041)\r\n     at java.awt.Component.dispatchEventImpl(Component.java:4630)\r\n     at java.awt.Container.dispatchEventImpl(Container.java:2099)\r\n     at java.awt.Component.dispatchEvent(Component.java:4460)\r\n     at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4574)\r\n     at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4247)\r\n     at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\r\n     at java.awt.Container.dispatchEventImpl(Container.java:2085)\r\n     at java.awt.Window.dispatchEventImpl(Window.java:2475)\r\n     at java.awt.Component.dispatchEvent(Component.java:4460)\r\n     at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\r\n     at  java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\r\n     at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\r\n     at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\r\n     at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\r\n     at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\r\n     at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\r\n\r\n\r\nFinally, the entire (tho incomplete at this point) code for two classes so far if needed. (The methods in the logic class are required to perform specific actions as per the instructions of the project and must  have no user interaction in the logic class). I cannot figure out what exactly is causing the error. Any guidance would be greatly appreciated. (hopefully it&#39;s not something really obvious cuz I have spent the last couple of hours trying to figure this out even though ive got the flu! lol).\r\n\r\n    import java.awt.* ;\r\n    import java.awt.event.* ;\r\n    import java.awt.geom.* ;\r\n    import javax.swing.* ;\r\n    import javax.swing.event.* ;\r\n\r\n    public class MineSweeperGUI extends JFrame implements ActionListener, MouseListener {  \r\n    int width = 10;\r\n    int height = 10;\r\n    JPanel p = new JPanel();\r\n    JButton[][] table = new JButton[width][height];\r\n\r\n    public void MineSweeper() {\r\n        MinesweeperLogic logicClass = new MinesweeperLogic();\r\n        logicClass.startNewGame(width, height);\r\n        JButton[] button = new JButton[width*height];\r\n        GridLayout layout = new GridLayout (width, height) ;\r\n        p.setLayout(layout);\r\n        for(int x = 0 ; x &lt; width ; x++) {\r\n            for(int y = 0 ; y &lt; height ; y++) {\r\n                table[x][y] = new JButton();\r\n                table[x][y].setPreferredSize(new Dimension(25,25));\r\n                table[x][y].addMouseListener (this);\r\n                p.add(table [x] [y]);\r\n            }\r\n        }       \r\n        this.add(p);\r\n        this.pack();\r\n        this.setVisible(true);\r\n    }\r\n\r\n   \r\n    public void mouseClicked(MouseEvent e) {\r\n        for (int x = 0 ; x &lt; width ; x++) {\r\n           for (int y = 0 ; y &lt; height ; y++) {\r\n               if (e.getSource() == table[x][y]) {    \r\n                    if(e.getButton() == e.BUTTON1) {\r\n                       MinesweeperLogic logicClass = new MinesweeperLogic();\r\n                       logicClass.isOpen(x, y); //&lt;--------------------------------------\r\n                   }\r\n               }\r\n           }\r\n       }\r\n     }\r\n    public void gameover(int x, int y) {\r\n       table[x][y].setText(&quot;*&quot;);\r\n    }\r\n    \r\n    public static void main(String[]args) {\r\n        MineSweeperGUI guiClass = new MineSweeperGUI();\r\n        guiClass.MineSweeper();\r\n    }}    \r\n\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n    }\r\n        \r\n    public void mouseEntered(MouseEvent e) {\r\n    }\r\n\r\n    public void mousePressed(MouseEvent e) {\r\n    }\r\n   \r\n    public void mouseExited(MouseEvent e) {\r\n    }\r\n \r\n    public void mouseReleased(MouseEvent e) {\r\n    }\r\n\r\n\r\n\r\n    \r\n    public class MinesweeperLogic {\r\n    \r\n    private int w, h, maxBombs, bombsremaining;\r\n    public int width, height;\r\n    private boolean mine[][];\r\n    private boolean flag[][];\r\n    private boolean isClicked[][];\r\n    private boolean isZero[][];\r\n    private boolean marked;\r\n\r\n\r\n\r\n    public void startNewGame(int width, int height) {\r\n        w = width;\r\n        h = height;\r\n        flag = new boolean[w][h];\r\n        isZero = new boolean[w][h];\r\n        isClicked = new boolean[w][h];\r\n        mine = new boolean[w][h];\r\n        maxBombs =(int) Math.floor (width*height*0.15);\r\n        bombsremaining = maxBombs;\r\n        for(int i = 0; i &lt; maxBombs; i++) {\r\n            int x = (int) (Math.random() * (w));\r\n            int y = (int) (Math.random() * (h));\r\n            if (mine[x][y] == false) {\r\n                mine[x][y] = true;\r\n                isClicked[x][y] = false;\r\n                flag[x][y] = false;\r\n            }\r\n        } \r\n    }\r\n\r\n    \r\n    int getWidth() {\r\n        return w;\r\n    }\r\n    \r\n    \r\n    int getHeight() {\r\n        return h;\r\n    }\r\n\r\n\r\n    boolean openCell(int x, int y) { // &lt;---------------------------------------------\r\n        //MineSweeperGUI guiClass = new MineSweeperGUI();\r\n        isClicked[x][y] = true;\r\n        if(mine[x][y] == true &amp;&amp; flag[x][y]==false) {\r\n            //guiClass.gameover(x, y);\r\n            return false;\r\n        } else if(neighborBombs(x, y) &gt; 0 &amp;&amp; flag[x][y]==false) {\r\n            return true;\r\n        } else {\r\n                marked = true;\r\n                return marked;\r\n        }}\r\n        \r\n\r\n     boolean markCell(int x, int y) {\r\n         if(flag[x][y] == true) {\r\n                flag[x][y] = false;\r\n                isClicked[x][y] = false;\r\n                bombsremaining++;\r\n                marked = false;\r\n                return marked;\r\n            } else {\r\n                flag[x][y] = true;\r\n                isClicked[x][y] = true;\r\n                bombsremaining--;\r\n                    if(mine[x][y]==true) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            \r\n     boolean isOpen(int x, int y) {\r\n         if(isClicked[x][y] == false) {\r\n             return false;\r\n            } else {\r\n                return true;\r\n            }\r\n    }\r\n        \r\n        \r\n     boolean isMarked(int x, int y) {\r\n         if(flag[x][y] == true) {\r\n             return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n        \r\n      int getValue(int x, int y) {\r\n          if(mine[x][y] == true) {\r\n              return -1;\r\n            } else {\r\n                return neighborBombs(x, y);\r\n            }\r\n        }\r\n        \r\n        \r\n        private int neighborBombs(int x, int y) {  // checks surrounding 8 squares for number of bombs \r\n            int surBombs = 0;\r\n                for (int q = x - 1 ; q &lt;= x + 1 ; q++) {\r\n                    for (int w = y - 1 ; w &lt;= y + 1 ; w++) {\r\n                        while (true) {\r\n                            if (q &lt; 0 || w &lt; 0 || q &gt;= w || w &gt;= h) { \r\n                                break;\r\n                            }\r\n                            if (mine[q][w] == true) {\r\n                                surBombs++;\r\n                                break;\r\n                            }\r\n                        }   \r\n                    }\r\n                }\r\n             return surBombs;\r\n            }\r\n        }\r\n            \r\n","title":"NullPointer Exception when calling method from a difference class","body":"<p>JAVA-\nHi,\nI am writing a minesweeper program (first biggie) and am really stuck. The program itself is comprised of 2 classes (one for the logic, one for the GUI) as per the specifications that I am to follow. I have done a fair bit in both classes but am not finished either. However, I am attempting to test implementing call methods from one class to the other and that is where I get stuck. From the GUI class, I am attempting to call the method openCell(int x, int y) in the Logic Class every time the user clicks on a box. That Logic Class method will in turn check to see whether there is a mine, a 0 or a number on the square and call the appropriate method from the GUI class. The two methods involved in the error are as follows:</p>\n\n<pre><code>GUI CLASS\npublic void mouseClicked(MouseEvent e) {\n    for (int x = 0 ; x &lt; width ; x++) {\n       for (int y = 0 ; y &lt; height ; y++) {\n           if (e.getSource() == table[x][y]) {    \n                if(e.getButton() == e.BUTTON1) {\n                   MinesweeperLogic logicClass = new MinesweeperLogic();\n                   logicClass.isOpen(x, y); // &lt;--------------------------- ERROR\n                 }}}}}\n\nLOGIC CLASS\nboolean openCell(int x, int y) {\nisClicked[x][y] = true;\n    if(mine[x][y] == true &amp;&amp; flag[x][y]==false) {\n        return false;\n    } else if(neighborBombs(x, y) &gt; 0 &amp;&amp; flag[x][y]==false) {\n        return true;\n    }else {\n            marked = true;\n            return marked;\n    }}\n</code></pre>\n\n<p>Following is the error report I recieve once the user clicks on a box in the game (it does to catch it when compiling the code):</p>\n\n<pre><code> Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n at MinesweeperLogic.isOpen(MinesweeperLogic.java:117)\n at MineSweeperGUI.mouseClicked(MineSweeperGUI.java:126)\n at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:253)\n at java.awt.Component.processMouseEvent(Component.java:6266)\n at javax.swing.JComponent.processMouseEvent(JComponent.java:3255)\n at java.awt.Component.processEvent(Component.java:6028)\n at java.awt.Container.processEvent(Container.java:2041)\n at java.awt.Component.dispatchEventImpl(Component.java:4630)\n at java.awt.Container.dispatchEventImpl(Container.java:2099)\n at java.awt.Component.dispatchEvent(Component.java:4460)\n at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4574)\n at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4247)\n at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\n at java.awt.Container.dispatchEventImpl(Container.java:2085)\n at java.awt.Window.dispatchEventImpl(Window.java:2475)\n at java.awt.Component.dispatchEvent(Component.java:4460)\n at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\n at  java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\n at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\n at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\n at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\n at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\n at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\n</code></pre>\n\n<p>Finally, the entire (tho incomplete at this point) code for two classes so far if needed. (The methods in the logic class are required to perform specific actions as per the instructions of the project and must  have no user interaction in the logic class). I cannot figure out what exactly is causing the error. Any guidance would be greatly appreciated. (hopefully it's not something really obvious cuz I have spent the last couple of hours trying to figure this out even though ive got the flu! lol).</p>\n\n<pre><code>import java.awt.* ;\nimport java.awt.event.* ;\nimport java.awt.geom.* ;\nimport javax.swing.* ;\nimport javax.swing.event.* ;\n\npublic class MineSweeperGUI extends JFrame implements ActionListener, MouseListener {  \nint width = 10;\nint height = 10;\nJPanel p = new JPanel();\nJButton[][] table = new JButton[width][height];\n\npublic void MineSweeper() {\n    MinesweeperLogic logicClass = new MinesweeperLogic();\n    logicClass.startNewGame(width, height);\n    JButton[] button = new JButton[width*height];\n    GridLayout layout = new GridLayout (width, height) ;\n    p.setLayout(layout);\n    for(int x = 0 ; x &lt; width ; x++) {\n        for(int y = 0 ; y &lt; height ; y++) {\n            table[x][y] = new JButton();\n            table[x][y].setPreferredSize(new Dimension(25,25));\n            table[x][y].addMouseListener (this);\n            p.add(table [x] [y]);\n        }\n    }       \n    this.add(p);\n    this.pack();\n    this.setVisible(true);\n}\n\n\npublic void mouseClicked(MouseEvent e) {\n    for (int x = 0 ; x &lt; width ; x++) {\n       for (int y = 0 ; y &lt; height ; y++) {\n           if (e.getSource() == table[x][y]) {    \n                if(e.getButton() == e.BUTTON1) {\n                   MinesweeperLogic logicClass = new MinesweeperLogic();\n                   logicClass.isOpen(x, y); //&lt;--------------------------------------\n               }\n           }\n       }\n   }\n }\npublic void gameover(int x, int y) {\n   table[x][y].setText(\"*\");\n}\n\npublic static void main(String[]args) {\n    MineSweeperGUI guiClass = new MineSweeperGUI();\n    guiClass.MineSweeper();\n}}    \n\n\npublic void actionPerformed(ActionEvent e) {\n}\n\npublic void mouseEntered(MouseEvent e) {\n}\n\npublic void mousePressed(MouseEvent e) {\n}\n\npublic void mouseExited(MouseEvent e) {\n}\n\npublic void mouseReleased(MouseEvent e) {\n}\n\n\n\n\npublic class MinesweeperLogic {\n\nprivate int w, h, maxBombs, bombsremaining;\npublic int width, height;\nprivate boolean mine[][];\nprivate boolean flag[][];\nprivate boolean isClicked[][];\nprivate boolean isZero[][];\nprivate boolean marked;\n\n\n\npublic void startNewGame(int width, int height) {\n    w = width;\n    h = height;\n    flag = new boolean[w][h];\n    isZero = new boolean[w][h];\n    isClicked = new boolean[w][h];\n    mine = new boolean[w][h];\n    maxBombs =(int) Math.floor (width*height*0.15);\n    bombsremaining = maxBombs;\n    for(int i = 0; i &lt; maxBombs; i++) {\n        int x = (int) (Math.random() * (w));\n        int y = (int) (Math.random() * (h));\n        if (mine[x][y] == false) {\n            mine[x][y] = true;\n            isClicked[x][y] = false;\n            flag[x][y] = false;\n        }\n    } \n}\n\n\nint getWidth() {\n    return w;\n}\n\n\nint getHeight() {\n    return h;\n}\n\n\nboolean openCell(int x, int y) { // &lt;---------------------------------------------\n    //MineSweeperGUI guiClass = new MineSweeperGUI();\n    isClicked[x][y] = true;\n    if(mine[x][y] == true &amp;&amp; flag[x][y]==false) {\n        //guiClass.gameover(x, y);\n        return false;\n    } else if(neighborBombs(x, y) &gt; 0 &amp;&amp; flag[x][y]==false) {\n        return true;\n    } else {\n            marked = true;\n            return marked;\n    }}\n\n\n boolean markCell(int x, int y) {\n     if(flag[x][y] == true) {\n            flag[x][y] = false;\n            isClicked[x][y] = false;\n            bombsremaining++;\n            marked = false;\n            return marked;\n        } else {\n            flag[x][y] = true;\n            isClicked[x][y] = true;\n            bombsremaining--;\n                if(mine[x][y]==true) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }\n\n\n boolean isOpen(int x, int y) {\n     if(isClicked[x][y] == false) {\n         return false;\n        } else {\n            return true;\n        }\n}\n\n\n boolean isMarked(int x, int y) {\n     if(flag[x][y] == true) {\n         return true;\n        } else {\n            return false;\n        }\n    }\n\n\n  int getValue(int x, int y) {\n      if(mine[x][y] == true) {\n          return -1;\n        } else {\n            return neighborBombs(x, y);\n        }\n    }\n\n\n    private int neighborBombs(int x, int y) {  // checks surrounding 8 squares for number of bombs \n        int surBombs = 0;\n            for (int q = x - 1 ; q &lt;= x + 1 ; q++) {\n                for (int w = y - 1 ; w &lt;= y + 1 ; w++) {\n                    while (true) {\n                        if (q &lt; 0 || w &lt; 0 || q &gt;= w || w &gt;= h) { \n                            break;\n                        }\n                        if (mine[q][w] == true) {\n                            surBombs++;\n                            break;\n                        }\n                    }   \n                }\n            }\n         return surBombs;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642190992,"creation_date":1642190642,"answer_id":70715981,"question_id":70713768,"body_markdown":"If you want to display a `json` object as request body in `Swagger` you can create a model object.\r\n\r\nYour model object can be as follows.\r\n\r\n    public class VerificationRequest {\r\n        private String phoneNumber;\r\n        private String mobileVerificationOtp;\r\n\r\n        public VerificationRequest(String phoneNumber, String mobileVerificationOtp) {\r\n            this.phoneNumber = phoneNumber;\r\n            this.mobileVerificationOtp = mobileVerificationOtp;\r\n        }\r\n\r\n        public String getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n\r\n        public void setPhoneNumber(String phoneNumber) {\r\n            this.phoneNumber = phoneNumber;\r\n        }\r\n\r\n        public String getMobileVerificationOtp() {\r\n            return mobileVerificationOtp;\r\n        }\r\n\r\n        public void setMobileVerificationOtp(String mobileVerificationOtp) {\r\n            this.mobileVerificationOtp = mobileVerificationOtp;\r\n        }\r\n    }\r\n\r\nThen you can edit this model where your endpoint is located as follows.\r\n\r\n    @PostMapping(value = &quot;/verifyMobile&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ApiOperation(value = &quot;Verify User otp&quot;, notes = &quot;Verifies user email&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; verifyMobile(@RequestBody VerificationRequest verificationObj) {\r\n        Boolean isUpdated = userService.mobileVerification(verificationObj.getPhoneNumber(),\r\n                verificationObj.getMobileVerificationOtp());\r\n        Map&lt;String, Boolean&gt; objMap = new HashMap&lt;String, Boolean&gt;();\r\n        objMap.put(&quot;success&quot;, isUpdated);\r\n        return isUpdated ? ResponseEntity.status(HttpStatus.ACCEPTED).body(objMap) :\r\n                ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(objMap);\r\n    }\r\n","title":"Pass custom json object in swagger with spring boot","body":"<p>If you want to display a <code>json</code> object as request body in <code>Swagger</code> you can create a model object.</p>\n<p>Your model object can be as follows.</p>\n<pre><code>public class VerificationRequest {\n    private String phoneNumber;\n    private String mobileVerificationOtp;\n\n    public VerificationRequest(String phoneNumber, String mobileVerificationOtp) {\n        this.phoneNumber = phoneNumber;\n        this.mobileVerificationOtp = mobileVerificationOtp;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getMobileVerificationOtp() {\n        return mobileVerificationOtp;\n    }\n\n    public void setMobileVerificationOtp(String mobileVerificationOtp) {\n        this.mobileVerificationOtp = mobileVerificationOtp;\n    }\n}\n</code></pre>\n<p>Then you can edit this model where your endpoint is located as follows.</p>\n<pre><code>@PostMapping(value = &quot;/verifyMobile&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n@ApiOperation(value = &quot;Verify User otp&quot;, notes = &quot;Verifies user email&quot;)\npublic ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; verifyMobile(@RequestBody VerificationRequest verificationObj) {\n    Boolean isUpdated = userService.mobileVerification(verificationObj.getPhoneNumber(),\n            verificationObj.getMobileVerificationOtp());\n    Map&lt;String, Boolean&gt; objMap = new HashMap&lt;String, Boolean&gt;();\n    objMap.put(&quot;success&quot;, isUpdated);\n    return isUpdated ? ResponseEntity.status(HttpStatus.ACCEPTED).body(objMap) :\n            ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(objMap);\n}\n</code></pre>\n"}],"owner":{"account_id":11503332,"reputation":741,"user_id":8430441,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70715981,"answer_count":1,"score":0,"last_activity_date":1642190992,"creation_date":1642178236,"question_id":70713768,"body_markdown":"I want to pass a custom json object as swagger request body. In Java we use `@ApiModelProperty(hidden = true)` annotation to hide some fields in swagger. But in my case I want to pass custom json object as swagger request body.\r\n\r\nhere&#39;s my code,\r\n\r\n    @PostMapping(value = &quot;/verifyMobile&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        @ApiOperation(value = &quot;Verify User otp&quot;, notes = &quot;Verifies user email&quot;)\r\n        public ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; verifyMobile(@RequestBody Map&lt;String, Object&gt; verificationObj) {\r\n            Boolean isUpdated = userService.mobileVerification(verificationObj.get(&quot;phoneNumber&quot;).toString(),\r\n                    verificationObj.get(&quot;mobileVerificationOtp&quot;).toString());\r\n            Map&lt;String, Boolean&gt; objMap = new HashMap&lt;String, Boolean&gt;();\r\n            objMap.put(&quot;success&quot;, isUpdated);\r\n            return isUpdated ? ResponseEntity.status(HttpStatus.ACCEPTED).body(objMap) :\r\n                    ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(objMap);\r\n        }\r\nand I will be accepting bellow as request body,\r\n\r\n    {\r\n        &quot;phoneNumber&quot;:&quot;+919038897580&quot;,\r\n        &quot;mobileVerificationOtp&quot;:&quot;9399&quot;\r\n    }\r\nHow can I implement this on swagger. Swagger body looks something like this.\r\n[![enter image description here][1]][1]\r\nPlease help me to fix this. &#128591;&#127995;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AspIP.png","title":"Pass custom json object in swagger with spring boot","body":"<p>I want to pass a custom json object as swagger request body. In Java we use <code>@ApiModelProperty(hidden = true)</code> annotation to hide some fields in swagger. But in my case I want to pass custom json object as swagger request body.</p>\n<p>here's my code,</p>\n<pre><code>@PostMapping(value = &quot;/verifyMobile&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    @ApiOperation(value = &quot;Verify User otp&quot;, notes = &quot;Verifies user email&quot;)\n    public ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; verifyMobile(@RequestBody Map&lt;String, Object&gt; verificationObj) {\n        Boolean isUpdated = userService.mobileVerification(verificationObj.get(&quot;phoneNumber&quot;).toString(),\n                verificationObj.get(&quot;mobileVerificationOtp&quot;).toString());\n        Map&lt;String, Boolean&gt; objMap = new HashMap&lt;String, Boolean&gt;();\n        objMap.put(&quot;success&quot;, isUpdated);\n        return isUpdated ? ResponseEntity.status(HttpStatus.ACCEPTED).body(objMap) :\n                ResponseEntity.status(HttpStatus.NOT_ACCEPTABLE).body(objMap);\n    }\n</code></pre>\n<p>and I will be accepting bellow as request body,</p>\n<pre><code>{\n    &quot;phoneNumber&quot;:&quot;+919038897580&quot;,\n    &quot;mobileVerificationOtp&quot;:&quot;9399&quot;\n}\n</code></pre>\n<p>How can I implement this on swagger. Swagger body looks something like this.\n<a href=\"https://i.stack.imgur.com/AspIP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AspIP.png\" alt=\"enter image description here\" /></a>\nPlease help me to fix this. 🙏🏻</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":1,"creation_date":1642182156,"post_id":70714514,"comment_id":125011311,"body_markdown":"Variables can exist in different scopes. Any variable defined inside your `main` method would be a local variable, and would be inaccessible outside your `main` method. You can share variables between methods by defining them at the class level. (Simplified)","body":"Variables can exist in different scopes. Any variable defined inside your <code>main</code> method would be a local variable, and would be inaccessible outside your <code>main</code> method. You can share variables between methods by defining them at the class level. (Simplified)"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642182753,"post_id":70714514,"comment_id":125011532,"body_markdown":"Given that `contacts` is never used in the other method, nor is `scanner` after that method is called, it doesn&#39;t really matter where they are defined for the code shown.","body":"Given that <code>contacts</code> is never used in the other method, nor is <code>scanner</code> after that method is called, it doesn&#39;t really matter where they are defined for the code shown."},{"owner":{"account_id":9970271,"reputation":6093,"user_id":7376590,"accept_rate":50,"display_name":"steven7mwesigwa"},"score":1,"creation_date":1642190949,"post_id":70714514,"comment_id":125014320,"body_markdown":"Does this answer your question? [what is difference between declaring variable out of main method and inside main method?](https://stackoverflow.com/questions/17700147/what-is-difference-between-declaring-variable-out-of-main-method-and-inside-main)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17700147/what-is-difference-between-declaring-variable-out-of-main-method-and-inside-main\">what is difference between declaring variable out of main method and inside main method?</a>"}],"answers":[{"tags":[],"owner":{"account_id":11075738,"reputation":39,"user_id":8132524,"display_name":"Marius Nicolae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642190458,"creation_date":1642182363,"answer_id":70714603,"question_id":70714514,"body_markdown":"Variables outside a method are called global variables, it&#39;s extending the range of using them, unlike local variables instantiation. Search more for global vs. local variables to understand it better.\r\n\r\nYou can use local or global variables in the upper example but it is a better practice to instantiate them global for later usage, and a bigger range of the class scope.\r\n\r\nThe second example is a method, you can&#39;t create functions inside other functions in Java and in any programming languages (as far as i know).","title":"Putting variables outside of main(String[] args) in the Main java file","body":"<p>Variables outside a method are called global variables, it's extending the range of using them, unlike local variables instantiation. Search more for global vs. local variables to understand it better.</p>\n<p>You can use local or global variables in the upper example but it is a better practice to instantiate them global for later usage, and a bigger range of the class scope.</p>\n<p>The second example is a method, you can't create functions inside other functions in Java and in any programming languages (as far as i know).</p>\n"},{"tags":[],"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642182492,"creation_date":1642182492,"answer_id":70714630,"question_id":70714514,"body_markdown":"Functions allow you to piece-up your code to be reusable, modular and abstractable. In your case showInitialOptions is a logic step in your procedure that can be abstracted in a function different from main, and only then used my other parts of the program that need it.\r\n\r\nAlso, variables are subject to [scoping rules][1] that define their lifetime and usage.\r\n\r\nIn short, since you seem to be a beginner and this is what you are asking for: some things are outside the main() because otherwise it would be too long and unreadable.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-variable-scope#:~:text=In%20Java%2C%20as%20in%20any,be%20used%20and%20is%20valid.","title":"Putting variables outside of main(String[] args) in the Main java file","body":"<p>Functions allow you to piece-up your code to be reusable, modular and abstractable. In your case showInitialOptions is a logic step in your procedure that can be abstracted in a function different from main, and only then used my other parts of the program that need it.</p>\n<p>Also, variables are subject to <a href=\"https://www.baeldung.com/java-variable-scope#:%7E:text=In%20Java%2C%20as%20in%20any,be%20used%20and%20is%20valid.\" rel=\"nofollow noreferrer\">scoping rules</a> that define their lifetime and usage.</p>\n<p>In short, since you seem to be a beginner and this is what you are asking for: some things are outside the main() because otherwise it would be too long and unreadable.</p>\n"}],"owner":{"account_id":23230690,"reputation":39,"user_id":17321507,"display_name":"menamejaff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642239851,"answer_count":2,"score":0,"last_activity_date":1642190458,"creation_date":1642181966,"question_id":70714514,"body_markdown":"I am new to java and have been watching a tutorial, the instructor has added initializing variables outside of the public static void main(String[] args) method as well as he creates another method outside of the main one. I was lead to believe the initialization of variables was to be inside of the public static void main(String[] args) method so why is he putting it outside? He tries to explain but earlier in the tutorial he put them inside so i am confused. Here is what code is going on:\r\n\r\n```\r\npublic class Main {\r\n\r\n    //initializing (why is this here not in the public static void main)\r\n    private static ArrayList&lt;Contact&gt; contacts;\r\n    private static Scanner scanner;\r\n\r\n    //the main code area\r\n    public static void main(String[] args) {\r\n\r\n    contacts = new ArrayList&lt;&gt;();\r\n\r\n    System.out.println(&quot;Welcome!&quot;);\r\n    showInitialOptions();\r\n\r\n    }\r\n\r\n\r\n    // why did he create this down here and not in public static void main)\r\n    private static void showInitialOptions(){\r\n        System.out.println(&quot;Please select one: &quot; +\r\n                &quot;\\n\\n1. Manage Contacts&quot; +\r\n                &quot;\\n\\n2. Messages&quot; +\r\n                &quot;\\n\\n3. Quit&quot;);\r\n\r\n        scanner = new Scanner(System.in);\r\n        int choice = scanner.nextInt();\r\n```\r\n\r\nMaybe i&#39;m just that dumb but if someone could clarify what&#39;s going on in a dumbed down way that would be great.\r\nHere is the tutorial where things get weird: https://youtu.be/fis26HvvDII?t=18174","title":"Putting variables outside of main(String[] args) in the Main java file","body":"<p>I am new to java and have been watching a tutorial, the instructor has added initializing variables outside of the public static void main(String[] args) method as well as he creates another method outside of the main one. I was lead to believe the initialization of variables was to be inside of the public static void main(String[] args) method so why is he putting it outside? He tries to explain but earlier in the tutorial he put them inside so i am confused. Here is what code is going on:</p>\n<pre><code>public class Main {\n\n    //initializing (why is this here not in the public static void main)\n    private static ArrayList&lt;Contact&gt; contacts;\n    private static Scanner scanner;\n\n    //the main code area\n    public static void main(String[] args) {\n\n    contacts = new ArrayList&lt;&gt;();\n\n    System.out.println(&quot;Welcome!&quot;);\n    showInitialOptions();\n\n    }\n\n\n    // why did he create this down here and not in public static void main)\n    private static void showInitialOptions(){\n        System.out.println(&quot;Please select one: &quot; +\n                &quot;\\n\\n1. Manage Contacts&quot; +\n                &quot;\\n\\n2. Messages&quot; +\n                &quot;\\n\\n3. Quit&quot;);\n\n        scanner = new Scanner(System.in);\n        int choice = scanner.nextInt();\n</code></pre>\n<p>Maybe i'm just that dumb but if someone could clarify what's going on in a dumbed down way that would be great.\nHere is the tutorial where things get weird: <a href=\"https://youtu.be/fis26HvvDII?t=18174\" rel=\"nofollow noreferrer\">https://youtu.be/fis26HvvDII?t=18174</a></p>\n"},{"tags":["java","spring-boot","gradle","lombok"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1581170277,"creation_date":1581170277,"answer_id":60127478,"question_id":60127458,"body_markdown":"There&#39;s a known bug in javac about statically importing generated methods. javac concludes that an annotation processor can&#39;t &#39;fix&#39; it incorrectly and just throws out an error.\r\n\r\nThe fix is to not statically import it:\r\n\r\n    import com.business.lunch.dto.OfferContent;\r\n\r\n    ....\r\n        return OfferContent.builder();\r\n\r\nEDIT: DISCLAIMER: I&#39;m a core contributor to Project Lombok.\r\n","title":"Compilation failure because of Lombok","body":"<p>There's a known bug in javac about statically importing generated methods. javac concludes that an annotation processor can't 'fix' it incorrectly and just throws out an error.</p>\n\n<p>The fix is to not statically import it:</p>\n\n<pre><code>import com.business.lunch.dto.OfferContent;\n\n....\n    return OfferContent.builder();\n</code></pre>\n\n<p>EDIT: DISCLAIMER: I'm a core contributor to Project Lombok.</p>\n"},{"tags":[],"owner":{"account_id":23933960,"reputation":1,"user_id":17927977,"display_name":"Jorge Arias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642190405,"creation_date":1642186310,"answer_id":70715286,"question_id":60127458,"body_markdown":"For me, it happened that I had the wrong import. I had:\r\n`import groovy.transform.builder.Builder;` instead of `import lombok.Builder;`\r\n\r\nRookie mistake.","title":"Compilation failure because of Lombok","body":"<p>For me, it happened that I had the wrong import. I had:\n<code>import groovy.transform.builder.Builder;</code> instead of <code>import lombok.Builder;</code></p>\n<p>Rookie mistake.</p>\n"}],"owner":{"account_id":5581565,"reputation":339,"user_id":4916010,"accept_rate":80,"display_name":"Lerul Ler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60127478,"answer_count":2,"score":0,"last_activity_date":1642190405,"creation_date":1581170139,"question_id":60127458,"body_markdown":"I have a springboot app using gradle as build tool and also lombok.\r\n\r\nWhen I&#39;m running `./gradlew build` command, then the `compileJava` task is failing with many messages related to lombok annotations. Examples:\r\n\r\n```\r\n&gt; Task :compileJava\r\n\\my\\path\\ResolverDelegator.java:12: error: cannot find symbol\r\nimport static com.business.lunch.dto.OfferContent.builder;\r\n^\r\n  symbol:   static builder\r\n  location: class OfferContent\r\n\\my\\path\\LunchOfferService.java:40: error: cannot find symbol\r\n        lunchOfferRepository.findByLocation(lunchOffer.getLocation())\r\n                                                      ^\r\n  symbol:   method getLocation()\r\n  location: variable lunchOffer of type LunchOffer\r\n\\my\\path\\ResolverDelegator.java:60: error: cannot find symbol\r\n        return builder()\r\n               ^\r\n  symbol:   method builder()\r\n  location: class ResolverDelegator\r\n\r\n...\r\n\r\n&gt; Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n```\r\n\r\nMy gradle wrapper is set to use Gradle 6.1\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-bin.zip`\r\n\r\nLombok version is 1.18.12 and I mention that I have the following entries in `dependencies` block from my `build.gradle` file:\r\n```\r\n\tcompileOnly &#39;org.projectlombok:lombok:1.18.12&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok:1.18.12&#39;\r\n```\r\n\r\nAny idea/suggestion is welcome.","title":"Compilation failure because of Lombok","body":"<p>I have a springboot app using gradle as build tool and also lombok.</p>\n\n<p>When I'm running <code>./gradlew build</code> command, then the <code>compileJava</code> task is failing with many messages related to lombok annotations. Examples:</p>\n\n<pre><code>&gt; Task :compileJava\n\\my\\path\\ResolverDelegator.java:12: error: cannot find symbol\nimport static com.business.lunch.dto.OfferContent.builder;\n^\n  symbol:   static builder\n  location: class OfferContent\n\\my\\path\\LunchOfferService.java:40: error: cannot find symbol\n        lunchOfferRepository.findByLocation(lunchOffer.getLocation())\n                                                      ^\n  symbol:   method getLocation()\n  location: variable lunchOffer of type LunchOffer\n\\my\\path\\ResolverDelegator.java:60: error: cannot find symbol\n        return builder()\n               ^\n  symbol:   method builder()\n  location: class ResolverDelegator\n\n...\n\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n</code></pre>\n\n<p>My gradle wrapper is set to use Gradle 6.1\n<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-bin.zip</code></p>\n\n<p>Lombok version is 1.18.12 and I mention that I have the following entries in <code>dependencies</code> block from my <code>build.gradle</code> file:</p>\n\n<pre><code>    compileOnly 'org.projectlombok:lombok:1.18.12'\n    annotationProcessor 'org.projectlombok:lombok:1.18.12'\n</code></pre>\n\n<p>Any idea/suggestion is welcome.</p>\n"},{"tags":["java","sorting","data-structures","linked-list","nodes"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1642143657,"post_id":70706816,"comment_id":124997591,"body_markdown":"Can you add the driver code with an example of insertions, demonstrating the problem?","body":"Can you add the driver code with an example of insertions, demonstrating the problem?"},{"owner":{"account_id":23937035,"reputation":1,"user_id":17930649,"display_name":"Suma HC"},"score":0,"creation_date":1642144199,"post_id":70706816,"comment_id":124997700,"body_markdown":"public static void main(String args[]){\n      \n\t    MyLinkedList&lt;Integer&gt; mine = new MyLinkedList&lt;Integer&gt;();\n\t   \n\t    for (int i=0; i&lt; 10; i++){\n\t        mine.insert((int)(100*Math.random()));\n\t    }\n\t    \n\t   \n\t    mine.print();\n    }","body":"public static void main(String args[]){        \t    MyLinkedList&lt;Integer&gt; mine = new MyLinkedList&lt;Integer&gt;(); \t    \t    for (int i=0; i&lt; 10; i++){ \t        mine.insert((int)(100*Math.random())); \t    } \t     \t    \t    mine.print();     }"},{"owner":{"account_id":23937035,"reputation":1,"user_id":17930649,"display_name":"Suma HC"},"score":0,"creation_date":1642144257,"post_id":70706816,"comment_id":124997712,"body_markdown":"Above is my main method, where I am using Math.random() to generate the integers and trying to insert them into linked list","body":"Above is my main method, where I am using Math.random() to generate the integers and trying to insert them into linked list"},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1642144307,"post_id":70706816,"comment_id":124997725,"body_markdown":"Can you edit your question and add this code in a formatted way? Add enough code for us to reproduce the issue. So please add your Node class code as well.","body":"Can you edit your question and add this code in a formatted way? Add enough code for us to reproduce the issue. So please add your Node class code as well."},{"owner":{"account_id":4824120,"reputation":748,"user_id":3893990,"display_name":"Han"},"score":0,"creation_date":1642146290,"post_id":70706816,"comment_id":124998213,"body_markdown":"Sound like you need to check your &quot;info.compareTo&quot; method. If the input number is between (1-9) my guesses is that you may get consistent output. Coming to strings, or beyond 10 and it gets inconsistent then, most probably the comparator used is incorrect.","body":"Sound like you need to check your &quot;info.compareTo&quot; method. If the input number is between (1-9) my guesses is that you may get consistent output. Coming to strings, or beyond 10 and it gets inconsistent then, most probably the comparator used is incorrect."}],"answers":[{"tags":[],"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642150702,"creation_date":1642149281,"answer_id":70707938,"question_id":70706816,"body_markdown":"Your while statement needs to be `while(current.getNext() != null &amp;&amp; info.compareTo(current.getNext().getInfo()) &gt; 0)`. I&#39;d recommend running through the algorithm on paper with a few test numbers - for example, inserting 1 into [2,5], inserting 3 into [2,5], and inserting 6 into [2,5]. You might also want to test the case of duplicates such as inserting 2 into [1,2,2,3]. `info.compareTo(current.getNext().getInfo())` returns something less than 0 if `info` is less than `current.getNext().getInfo()` and something greater than 0 if `info` is greater than `current.getNext().getInfo()`. It returns 0 if the two values are equal.","title":"Inserting elements in a linked list in a sorted way","body":"<p>Your while statement needs to be <code>while(current.getNext() != null &amp;&amp; info.compareTo(current.getNext().getInfo()) &gt; 0)</code>. I'd recommend running through the algorithm on paper with a few test numbers - for example, inserting 1 into [2,5], inserting 3 into [2,5], and inserting 6 into [2,5]. You might also want to test the case of duplicates such as inserting 2 into [1,2,2,3]. <code>info.compareTo(current.getNext().getInfo())</code> returns something less than 0 if <code>info</code> is less than <code>current.getNext().getInfo()</code> and something greater than 0 if <code>info</code> is greater than <code>current.getNext().getInfo()</code>. It returns 0 if the two values are equal.</p>\n"}],"owner":{"account_id":23937035,"reputation":1,"user_id":17930649,"display_name":"Suma HC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642190327,"creation_date":1642142038,"question_id":70706816,"body_markdown":"- I am trying to add int elements to my single linked list in a sorted manner. but the output is coming in a random order. Can anyone please suggest me what is wrong with my code?\r\n\r\nThis is my Node.java class where I am using Generics \r\n\r\n```\r\n/* Node.java */\r\npublic class Node&lt;E&gt;{\r\n    private E info;\r\n    private Node&lt;E&gt; next;\r\n\r\n    public Node(){\r\n\t    this.next = null;\r\n    }\r\n\r\n    public Node(E info){\r\n\t    this.info = info;\r\n\t    this.next = null;\r\n    }\r\n    public Node(E info, Node&lt;E&gt; next){\r\n\t    this.info = info;\r\n\t    this.next = next;\r\n    }\r\n\r\n    public E getInfo(){\r\n\t    return this.info;\r\n    }\r\n    public void setInfo(E info){\r\n\t    this.info = info;\r\n    }\r\n    public Node&lt;E&gt; getNext(){\r\n\t    return this.next;\r\n    }\r\n\r\n    public void setNext(Node&lt;E&gt; next){\r\n\t    this.next = next;\r\n    }\r\n\r\n}\r\n````\r\nIn the main method, I created a linked list and using Math.random() method - I am trying to insert int elements to my linked list\r\n````\r\n/* Main Method */\r\n\r\npublic class SortedInsertionLinkedList{\r\n\r\n    public static void main(String args[]){\r\n        // Create a linked list using MyLinkedList&lt;Integer&gt;\r\n\t    MyLinkedList&lt;Integer&gt; mine = new MyLinkedList&lt;Integer&gt;();\r\n\t   // Insert 10 ints \r\n\t    for (int i=0; i&lt; 10; i++){\r\n\t        mine.insert((int)(100*Math.random()));\r\n\t    }\r\n\t    \r\n\t    //Print the whole list\r\n\t    mine.print();\r\n    }\r\n}\r\n````\r\nIn the implementation of linked list, I am using compareTo() method \r\n````\r\n/* Linked list implementation */\r\n\r\npublic class MyLinkedList&lt;E extends Comparable&lt;E&gt;&gt;{\r\n   \r\n    private Node&lt;E&gt; first;\r\n    \r\n    public MyLinkedList(){\r\n\t    this.first = null;\r\n    }\r\n    \r\n       public void insert(E info){\r\n        Node&lt;E&gt; newNode = new Node&lt;E&gt;(info);\r\n\t    \r\n\t    if(first == null || info.compareTo(first.getInfo()) &lt; 0 ) {\r\n\t    \tnewNode.setNext(first);\r\n\t    \tfirst = newNode;\r\n\t    } else {\r\n\t    \tNode&lt;E&gt; current = first;\r\n\t    \twhile(current.getNext() != null &amp;&amp; info.compareTo(current.getNext().getInfo()) &lt; 0)\r\n\t    \t{\r\n\t    \t\tcurrent = current.getNext();\r\n\t    \t\t\r\n\t    \t}\r\n    \t\tnewNode.setNext(current.getNext());\r\n    \t\tcurrent.setNext(newNode); \r\n\t    }\r\n\t    }\r\n        \r\n    \r\n    public void print(){\r\n\t    Node&lt;E&gt; current = first;\r\n\t    \r\n\t    while (current != null){\r\n\t        System.out.print(current.getInfo() + &quot; &quot;);\r\n\t        current = current.getNext();\r\n\t    }\r\n\t    System.out.println();\r\n    }\r\n}\r\n","title":"Inserting elements in a linked list in a sorted way","body":"<ul>\n<li>I am trying to add int elements to my single linked list in a sorted manner. but the output is coming in a random order. Can anyone please suggest me what is wrong with my code?</li>\n</ul>\n<p>This is my Node.java class where I am using Generics</p>\n<pre><code>/* Node.java */\npublic class Node&lt;E&gt;{\n    private E info;\n    private Node&lt;E&gt; next;\n\n    public Node(){\n        this.next = null;\n    }\n\n    public Node(E info){\n        this.info = info;\n        this.next = null;\n    }\n    public Node(E info, Node&lt;E&gt; next){\n        this.info = info;\n        this.next = next;\n    }\n\n    public E getInfo(){\n        return this.info;\n    }\n    public void setInfo(E info){\n        this.info = info;\n    }\n    public Node&lt;E&gt; getNext(){\n        return this.next;\n    }\n\n    public void setNext(Node&lt;E&gt; next){\n        this.next = next;\n    }\n\n}\n</code></pre>\n<p>In the main method, I created a linked list and using Math.random() method - I am trying to insert int elements to my linked list</p>\n<pre><code>/* Main Method */\n\npublic class SortedInsertionLinkedList{\n\n    public static void main(String args[]){\n        // Create a linked list using MyLinkedList&lt;Integer&gt;\n        MyLinkedList&lt;Integer&gt; mine = new MyLinkedList&lt;Integer&gt;();\n       // Insert 10 ints \n        for (int i=0; i&lt; 10; i++){\n            mine.insert((int)(100*Math.random()));\n        }\n        \n        //Print the whole list\n        mine.print();\n    }\n}\n</code></pre>\n<p>In the implementation of linked list, I am using compareTo() method</p>\n<pre><code>/* Linked list implementation */\n\npublic class MyLinkedList&lt;E extends Comparable&lt;E&gt;&gt;{\n   \n    private Node&lt;E&gt; first;\n    \n    public MyLinkedList(){\n        this.first = null;\n    }\n    \n       public void insert(E info){\n        Node&lt;E&gt; newNode = new Node&lt;E&gt;(info);\n        \n        if(first == null || info.compareTo(first.getInfo()) &lt; 0 ) {\n            newNode.setNext(first);\n            first = newNode;\n        } else {\n            Node&lt;E&gt; current = first;\n            while(current.getNext() != null &amp;&amp; info.compareTo(current.getNext().getInfo()) &lt; 0)\n            {\n                current = current.getNext();\n                \n            }\n            newNode.setNext(current.getNext());\n            current.setNext(newNode); \n        }\n        }\n        \n    \n    public void print(){\n        Node&lt;E&gt; current = first;\n        \n        while (current != null){\n            System.out.print(current.getInfo() + &quot; &quot;);\n            current = current.getNext();\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","apache-spark","logging","log4j"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642086686,"post_id":70698737,"comment_id":124983064,"body_markdown":"I can&#39;t be certain on Linux, but I don&#39;t think it matters. The `log` folder should be a folder relative to the base directory of your code project. From the IDE you might not see it right away (Eclipse is NOTORIOUS for this), so you will have to refresh your project to see it.  Also, just because you have a file appender, it doesn&#39;t mean that you are actually writing to it. Make sure the Log4J configuration is not just outputting to console. Lastly, if you are using Log4J, I suggest you upgrade to the latest Log4J2 version.","body":"I can&#39;t be certain on Linux, but I don&#39;t think it matters. The <code>log</code> folder should be a folder relative to the base directory of your code project. From the IDE you might not see it right away (Eclipse is NOTORIOUS for this), so you will have to refresh your project to see it.  Also, just because you have a file appender, it doesn&#39;t mean that you are actually writing to it. Make sure the Log4J configuration is not just outputting to console. Lastly, if you are using Log4J, I suggest you upgrade to the latest Log4J2 version."}],"answers":[{"tags":[],"owner":{"account_id":23109342,"reputation":51,"user_id":17217503,"display_name":"stackbacon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642130308,"creation_date":1642130308,"answer_id":70705659,"question_id":70698737,"body_markdown":"Check it:\r\n```\r\nlog4j.appender.stdout.File=${myhome}/log/myapp.log \r\n```\r\nOf course, without this statement, check the application&#39;s directory.","title":"Where is log4j logging out?","body":"<p>Check it:</p>\n<pre><code>log4j.appender.stdout.File=${myhome}/log/myapp.log \n</code></pre>\n<p>Of course, without this statement, check the application's directory.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642132188,"creation_date":1642132188,"answer_id":70705833,"question_id":70698737,"body_markdown":"There is no log4j specific base path for log4j paths.\r\n\r\nIf you use a relative file path in the log4j configs, it will be resolved in the same way that all relative file paths are resolved.  It will resolved relative to the *working directory* for the JVM.  Loosely speaking, that is &quot;the current directory where you launched the application&quot;.\r\n\r\nSee: https://stackoverflow.com/questions/21060992\r\n","title":"Where is log4j logging out?","body":"<p>There is no log4j specific base path for log4j paths.</p>\n<p>If you use a relative file path in the log4j configs, it will be resolved in the same way that all relative file paths are resolved.  It will resolved relative to the <em>working directory</em> for the JVM.  Loosely speaking, that is &quot;the current directory where you launched the application&quot;.</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/21060992\">How does Java resolve a relative path in new File()?</a></p>\n"}],"owner":{"account_id":9996148,"reputation":9,"user_id":7393687,"display_name":"Willian A. Lauber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642190319,"creation_date":1642086219,"question_id":70698737,"body_markdown":"In a legacy project I found that in log4j.properties the appender file is defined as:\r\n```\r\nlog4j.appender.file.File=log/logging.log\r\n```\r\n\r\nWhere I can find that output file of log4j in linux?\r\nAt system level the application the logs of &quot;LOG.info&quot; command are not appearing, only the start of its execution\r\n```\r\n 2022-01-13 11:03:19 INFO  DAGScheduler:54 - Submitting 200 missing tasks from ShuffleMapStage 2 (MapPartitionsRDD[12] at count at appname.java:133) (first 15 tasks are for parti.. ```\r\n```\r\n\r\n***edit: complete log4j properties.:\r\n\r\n```\r\n#\r\n# Licensed to the Apache Software Foundation (ASF) under one or more\r\n# contributor license agreements.  See the NOTICE file distributed with\r\n# this work for additional information regarding copyright ownership.\r\n# The ASF licenses this file to You under the Apache License, Version 2.0\r\n# (the &quot;License&quot;); you may not use this file except in compliance with\r\n# the License.  You may obtain a copy of the License at\r\n#\r\n#    http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n#\r\n\r\nlog4j.rootCategory=INFO, console, file\r\n\r\n# Set events to be logged to a file\r\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.file.File=log/logging.log\r\nlog4j.appender.file.MaxFileSize=10MB\r\nlog4j.appender.file.MaxBackupIndex=10\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n\r\n# Set everything to be logged to the console\r\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.console.target=System.err\r\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\r\n\r\n# Set the default spark-shell log level to WARN. When running the spark-shell, the\r\n# log level for this class is used to overwrite the root logger&#39;s log level, so that\r\n# the user can have different defaults for the shell and regular Spark apps.\r\nlog4j.logger.org.apache.spark.repl.Main=WARN\r\n\r\n# Settings to quiet third party logs that are too verbose\r\nlog4j.logger.org.spark_project.jetty=WARN\r\nlog4j.logger.org.spark_project.jetty.util.component.AbstractLifeCycle=ERROR\r\nlog4j.logger.org.apache.spark.repl.SparkIMain$exprTyper=WARN\r\nlog4j.logger.org.apache.spark.repl.SparkILoop$SparkILoopInterpreter=WARN\r\n\r\n# SPARK-9183: Settings to avoid annoying messages when looking up nonexistent UDFs in SparkSQL with Hive support\r\nlog4j.logger.org.apache.hadoop.hive.metastore.RetryingHMSHandler=FATAL\r\nlog4j.logger.org.apache.hadoop.hive.ql.exec.FunctionRegistry=ERROR\r\n\r\n# Parquet related logging\r\nlog4j.logger.org.apache.parquet.CorruptStatistics=ERROR\r\nlog4j.logger.parquet.CorruptStatistics=ERROR\r\n```\r\n","title":"Where is log4j logging out?","body":"<p>In a legacy project I found that in log4j.properties the appender file is defined as:</p>\n<pre><code>log4j.appender.file.File=log/logging.log\n</code></pre>\n<p>Where I can find that output file of log4j in linux?\nAt system level the application the logs of &quot;LOG.info&quot; command are not appearing, only the start of its execution</p>\n<pre><code> 2022-01-13 11:03:19 INFO  DAGScheduler:54 - Submitting 200 missing tasks from ShuffleMapStage 2 (MapPartitionsRDD[12] at count at appname.java:133) (first 15 tasks are for parti.. ```\n</code></pre>\n<p>***edit: complete log4j properties.:</p>\n<pre><code>#\n# Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the &quot;License&quot;); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n\nlog4j.rootCategory=INFO, console, file\n\n# Set events to be logged to a file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=log/logging.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n\n# Set everything to be logged to the console\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.target=System.err\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\n\n# Set the default spark-shell log level to WARN. When running the spark-shell, the\n# log level for this class is used to overwrite the root logger's log level, so that\n# the user can have different defaults for the shell and regular Spark apps.\nlog4j.logger.org.apache.spark.repl.Main=WARN\n\n# Settings to quiet third party logs that are too verbose\nlog4j.logger.org.spark_project.jetty=WARN\nlog4j.logger.org.spark_project.jetty.util.component.AbstractLifeCycle=ERROR\nlog4j.logger.org.apache.spark.repl.SparkIMain$exprTyper=WARN\nlog4j.logger.org.apache.spark.repl.SparkILoop$SparkILoopInterpreter=WARN\n\n# SPARK-9183: Settings to avoid annoying messages when looking up nonexistent UDFs in SparkSQL with Hive support\nlog4j.logger.org.apache.hadoop.hive.metastore.RetryingHMSHandler=FATAL\nlog4j.logger.org.apache.hadoop.hive.ql.exec.FunctionRegistry=ERROR\n\n# Parquet related logging\nlog4j.logger.org.apache.parquet.CorruptStatistics=ERROR\nlog4j.logger.parquet.CorruptStatistics=ERROR\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":0,"creation_date":1642185654,"post_id":70715066,"comment_id":125012565,"body_markdown":"There is a whole guide about reading connectivity state and reacting to changes: https://developer.android.com/training/basics/network-ops/reading-network-state","body":"There is a whole guide about reading connectivity state and reacting to changes: <a href=\"https://developer.android.com/training/basics/network-ops/reading-network-state\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/network-ops/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642190245,"creation_date":1642186016,"answer_id":70715232,"question_id":70715066,"body_markdown":"You can check if your internet connection is available before loading the page\r\n\r\n            WebView webView = new WebView(this);\r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setBuiltInZoomControls(true);\r\n            webSettings.setJavaScriptEnabled(true);\r\n            setContentView(webView);\r\n            webView.getSettings().setLoadWithOverviewMode(true);\r\n            webView.getSettings().setUseWideViewPort(true);\r\n            webView.getSettings().setSupportZoom(true);\r\n            webView.getSettings().setBuiltInZoomControls(true);\r\n            webView.getSettings().setDisplayZoomControls(false);\r\n            webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n            webView.setScrollbarFadingEnabled(false);\r\n    \r\n    \r\n          if(isNetworkAvailable(this)){\r\n    \r\n            webView.loadUrl(&quot;https://example.com/&quot;);\r\n    \r\n             } else {\r\n    \r\n    \r\n          Toast.makeText(this,&quot;NO internet&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n             }\r\n\r\n\r\nCheck the connection\r\n\r\n\r\n    public static boolean isNetworkAvailable(Context context) {\r\n    \r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n        if (connectivityManager != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\r\n            } else {\r\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\r\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\r\n            }\r\n        }\r\n    \r\n        return false;\r\n    }\r\n\r\n","title":"How to show error message in my android webview app when no internet","body":"<p>You can check if your internet connection is available before loading the page</p>\n<pre><code>        WebView webView = new WebView(this);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n        setContentView(webView);\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setUseWideViewPort(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setBuiltInZoomControls(true);\n        webView.getSettings().setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n\n\n      if(isNetworkAvailable(this)){\n\n        webView.loadUrl(&quot;https://example.com/&quot;);\n\n         } else {\n\n\n      Toast.makeText(this,&quot;NO internet&quot;, Toast.LENGTH_SHORT).show();\n\n         }\n</code></pre>\n<p>Check the connection</p>\n<pre><code>public static boolean isNetworkAvailable(Context context) {\n\n    ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    if (connectivityManager != null) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n            return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\n        } else {\n            NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n            return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":23942675,"reputation":9,"user_id":17935487,"display_name":"Culann Brown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70715232,"answer_count":1,"score":0,"last_activity_date":1642190245,"creation_date":1642185037,"question_id":70715066,"body_markdown":"I am working with an android webview application. I use my url succesfully in my app and it works only if an internet connection is available. But I want to show some messages when there is no internet connection. How can I do this?\r\n\r\n```java\r\npackage com.echoedev.rackstk;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        WebView webView = new WebView(this);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setBuiltInZoomControls(true);\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://example.com/&quot;);\r\n        setContentView(webView);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.getSettings().setUseWideViewPort(true);\r\n        webView.getSettings().setSupportZoom(true);\r\n        webView.getSettings().setBuiltInZoomControls(true);\r\n        webView.getSettings().setDisplayZoomControls(false);\r\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n        webView.setScrollbarFadingEnabled(false);\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to show error message in my android webview app when no internet","body":"<p>I am working with an android webview application. I use my url succesfully in my app and it works only if an internet connection is available. But I want to show some messages when there is no internet connection. How can I do this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.echoedev.rackstk;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        WebView webView = new WebView(this);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://example.com/&quot;);\n        setContentView(webView);\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setUseWideViewPort(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setBuiltInZoomControls(true);\n        webView.getSettings().setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","file-upload","struts2"],"answers":[{"tags":[],"owner":{"account_id":23941988,"reputation":16,"user_id":17934944,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642182064,"creation_date":1642182064,"answer_id":70714536,"question_id":70711059,"body_markdown":"The naming convention for the setters is\r\n\r\n```\r\nsetX(File file)\r\nsetXContentType(String contentType)\r\nsetXFileName(String fileName)\r\n```\r\n\r\nwhere X corresponds to the value of the name attribute of the `&lt;s:file /&gt;` tag in your jsp page\r\n\r\n**Jsp form**\r\n```\r\n&lt;s:form action=&quot;doUpload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n   &lt;s:file name=&quot;upload&quot; label=&quot;File&quot;/&gt;\r\n   &lt;s:submit/&gt;\r\n&lt;/s:form&gt;\r\n```\r\n\r\n**Action class**\r\n\r\n```\r\nprivate File upload ;\r\nprivate String uploadFileName ;\r\nprivate String uploadContentType ;\r\n\r\n// Getters and setters\r\n// ActionSupport methods \r\n```","title":"Getting original filename in Struts2","body":"<p>The naming convention for the setters is</p>\n<pre><code>setX(File file)\nsetXContentType(String contentType)\nsetXFileName(String fileName)\n</code></pre>\n<p>where X corresponds to the value of the name attribute of the <code>&lt;s:file /&gt;</code> tag in your jsp page</p>\n<p><strong>Jsp form</strong></p>\n<pre><code>&lt;s:form action=&quot;doUpload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n   &lt;s:file name=&quot;upload&quot; label=&quot;File&quot;/&gt;\n   &lt;s:submit/&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p><strong>Action class</strong></p>\n<pre><code>private File upload ;\nprivate String uploadFileName ;\nprivate String uploadContentType ;\n\n// Getters and setters\n// ActionSupport methods \n</code></pre>\n"}],"owner":{"account_id":18850169,"reputation":25,"user_id":13749495,"display_name":"Muzammil Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642190000,"accepted_answer_id":70714536,"answer_count":1,"score":1,"last_activity_date":1642190114,"creation_date":1642165768,"question_id":70711059,"body_markdown":"How can I get original filename of an uploaded file in Struts2. Currently what I am getting is a filename.tmp filename whereas the file being uploaded is a CSV and the filename is different to what I am getting. Here is the JSP code\r\n\r\n&lt;div class=&quot;col-md-6&quot;&gt;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;fileinput fileinput-new input-group&quot; data-provides=&quot;fileinput&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;div class=&quot;form-control&quot; data-trigger=&quot;fileinput&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;i class=&quot;fa fa-file fileinput-exists&quot;&gt;&lt;/i&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;span class=&quot;fileinput-filename&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;span class=&quot;input-group-addon btn btn-default btn-file&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;span class=&quot;fileinput-new&quot;&gt;Select file&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;span class=&quot;fileinput-exists&quot;&gt;Change&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;s:file name=&quot;upload&quot; accept=&quot;text/csv&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;input-group-addon btn btn-default fileinput-exists&quot; data-dismiss=&quot;fileinput&quot;&gt;Remove&lt;/a&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\r\nHere is the action mapping in struts config\r\n\r\n```\r\n        &lt;action name=&quot;survey/send&quot; class=&quot;surveyAction&quot; method=&quot;send&quot;&gt;\r\n            &lt;interceptor-ref name=&quot;authorizationStack&quot;/&gt;\r\n            &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\r\n                &lt;param name=&quot;maximumSize&quot;&gt;20971520&lt;/param&gt;\r\n            &lt;/interceptor-ref&gt;\r\n            &lt;result name=&quot;success&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\r\n            &lt;result name=&quot;input&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\r\n            &lt;result name=&quot;error&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\r\n        &lt;/action&gt;\r\n```\r\n\r\nAction class contains the following 3 instance variables instance with getter and setter\r\n\r\n```\r\n    public File upload;\r\n    private String contentType;\r\n    private String filename;\r\n```\r\n\r\nHowever, ```upload.getName()``` is not getting the actual filename, whereas ```contentType``` and ```filename``` properties are ```null```.\r\n","title":"Getting original filename in Struts2","body":"<p>How can I get original filename of an uploaded file in Struts2. Currently what I am getting is a filename.tmp filename whereas the file being uploaded is a CSV and the filename is different to what I am getting. Here is the JSP code</p>\n\n                                \n                                \n                                    \n                                        \n                                        \n                                    \n                                    \n                                        Select file\n                                        Change\n                                        \n                                    \n                                    Remove\n                                \n                            \n<p>Here is the action mapping in struts config</p>\n<pre><code>        &lt;action name=&quot;survey/send&quot; class=&quot;surveyAction&quot; method=&quot;send&quot;&gt;\n            &lt;interceptor-ref name=&quot;authorizationStack&quot;/&gt;\n            &lt;interceptor-ref name=&quot;fileUpload&quot;&gt;\n                &lt;param name=&quot;maximumSize&quot;&gt;20971520&lt;/param&gt;\n            &lt;/interceptor-ref&gt;\n            &lt;result name=&quot;success&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\n            &lt;result name=&quot;input&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\n            &lt;result name=&quot;error&quot; type=&quot;tiles&quot;&gt;orgAdmin.survey.send.settings&lt;/result&gt;\n        &lt;/action&gt;\n</code></pre>\n<p>Action class contains the following 3 instance variables instance with getter and setter</p>\n<pre><code>    public File upload;\n    private String contentType;\n    private String filename;\n</code></pre>\n<p>However, <code>upload.getName()</code> is not getting the actual filename, whereas <code>contentType</code> and <code>filename</code> properties are <code>null</code>.</p>\n"},{"tags":["java","android","json","firebase","android-studio"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642185600,"post_id":70715033,"comment_id":125012543,"body_markdown":"Seriously? The error captured in the image is telling you EXACTLY what&#39;s wrong. In this chain `response.body().toString()` either `response` object is `null` (doubtful) or the call to `body()` is returning null. And so, you can call any method (in this case `toString()`) on a `null` reference.","body":"Seriously? The error captured in the image is telling you EXACTLY what&#39;s wrong. In this chain <code>response.body().toString()</code> either <code>response</code> object is <code>null</code> (doubtful) or the call to <code>body()</code> is returning null. And so, you can call any method (in this case <code>toString()</code>) on a <code>null</code> reference."},{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1642185928,"post_id":70715033,"comment_id":125012660,"body_markdown":"Actually the error already says that it is not response to be null but the body","body":"Actually the error already says that it is not response to be null but the body"},{"owner":{"account_id":18841324,"reputation":1,"user_id":13742678,"display_name":"Roshan Adhikari"},"score":0,"creation_date":1642186687,"post_id":70715033,"comment_id":125012924,"body_markdown":"please clarify and write code","body":"please clarify and write code"}],"answers":[{"tags":[],"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642189880,"creation_date":1642186242,"answer_id":70715272,"question_id":70715033,"body_markdown":"You should move the log after the check for success. In general, unless you have a good reason to assume that a variable is not null it is better to check.\r\nBy the way you don&#39;t need to explicitly call the `toString` you can do something like `&quot;&quot;+response.body()` and eventually you will get `null`.","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.gson.JsonElement.toString()&#39; on a null object reference","body":"<p>You should move the log after the check for success. In general, unless you have a good reason to assume that a variable is not null it is better to check.\nBy the way you don't need to explicitly call the <code>toString</code> you can do something like <code>&quot;&quot;+response.body()</code> and eventually you will get <code>null</code>.</p>\n"}],"owner":{"account_id":18841324,"reputation":1,"user_id":13742678,"display_name":"Roshan Adhikari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1984,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642242779,"answer_count":1,"score":-1,"last_activity_date":1642189880,"creation_date":1642184847,"question_id":70715033,"body_markdown":"\r\n```    \r\n  private void getNewPhotos() {\r\n        Call&lt;JsonElement&gt; call1 = RestClient.post().getNewPhotos(Config.NEW_ID, Config.unsplash_access_key);\r\n        call1.enqueue(new Callback&lt;JsonElement&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;JsonElement&gt; call, Response&lt;JsonElement&gt; response) {\r\n                //  progressDialog.dismiss();\r\n                newPhotoslist.clear();\r\n                Log.e(&quot;FeatureNews&quot;, response.body().toString());\r\n                if (response.isSuccessful()) {\r\n\r\n                    JSONArray jsonArr = null;\r\n\r\n\r\n                    try {\r\n                        jsonArr = new JSONArray(response.body().toString());\r\n                        if (jsonArr.length() &gt; 0) {\r\n                            for (int i = 0; i &lt; jsonArr.length(); i++) {\r\n                                JSONObject json2 = jsonArr.getJSONObject(i);\r\n                                String id=json2.getString(&quot;id&quot;);\r\n\r\n                                JSONObject object=json2.getJSONObject(&quot;urls&quot;);\r\n                                String url=object.getString(&quot;regular&quot;);\r\n\r\n                                JSONObject objectUser=json2.getJSONObject(&quot;user&quot;);\r\n                                JSONObject objectUserProfile=objectUser.getJSONObject(&quot;profile_image&quot;);\r\n                                String userprofile=objectUserProfile.getString(&quot;large&quot;);\r\n\r\n\r\n                                newPhotoslist.add(new PhotosBean(id,url,userprofile));\r\n\r\n                            }\r\n\r\n                            bindTrendData();\r\n\r\n                        }\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                }\r\n            }\r\n```","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.gson.JsonElement.toString()&#39; on a null object reference","body":"<pre><code>  private void getNewPhotos() {\n        Call&lt;JsonElement&gt; call1 = RestClient.post().getNewPhotos(Config.NEW_ID, Config.unsplash_access_key);\n        call1.enqueue(new Callback&lt;JsonElement&gt;() {\n            @Override\n            public void onResponse(Call&lt;JsonElement&gt; call, Response&lt;JsonElement&gt; response) {\n                //  progressDialog.dismiss();\n                newPhotoslist.clear();\n                Log.e(&quot;FeatureNews&quot;, response.body().toString());\n                if (response.isSuccessful()) {\n\n                    JSONArray jsonArr = null;\n\n\n                    try {\n                        jsonArr = new JSONArray(response.body().toString());\n                        if (jsonArr.length() &gt; 0) {\n                            for (int i = 0; i &lt; jsonArr.length(); i++) {\n                                JSONObject json2 = jsonArr.getJSONObject(i);\n                                String id=json2.getString(&quot;id&quot;);\n\n                                JSONObject object=json2.getJSONObject(&quot;urls&quot;);\n                                String url=object.getString(&quot;regular&quot;);\n\n                                JSONObject objectUser=json2.getJSONObject(&quot;user&quot;);\n                                JSONObject objectUserProfile=objectUser.getJSONObject(&quot;profile_image&quot;);\n                                String userprofile=objectUserProfile.getString(&quot;large&quot;);\n\n\n                                newPhotoslist.add(new PhotosBean(id,url,userprofile));\n\n                            }\n\n                            bindTrendData();\n\n                        }\n\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n\n\n                }\n            }\n</code></pre>\n"},{"tags":["javascript","java","jsp","struts2","type-conversion"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1411644259,"post_id":26036876,"comment_id":40785545,"body_markdown":"You want to convert from string to byte array?","body":"You want to convert from string to byte array?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1411645189,"post_id":26036876,"comment_id":40786128,"body_markdown":"Have you tried to gooogle for how to convert a string to byte array in java?","body":"Have you tried to gooogle for how to convert a string to byte array in java?"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1411645890,"post_id":26036876,"comment_id":40786458,"body_markdown":"Googling or just Stackoverflowing :P","body":"Googling or just Stackoverflowing :P"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411649656,"creation_date":1411649656,"answer_id":26039194,"question_id":26036876,"body_markdown":"You need to write a custom type converter. Strings from input are converted as `String` type by default. You can read [which types conversion is supported via built-in type conversion][1].  If you want to convert a string to bytearray you need to write a converter. Then use it with your property\r\n\r\n    @TypeConversion(converter=&quot;org.conversion.StringToBytearrayConverter&quot;)\r\n    public void setContent(byte[] bytes) {\r\n      this.content = bytes;\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25698962/573032","title":"Type conversion from string to byte array in Struts 2","body":"<p>You need to write a custom type converter. Strings from input are converted as <code>String</code> type by default. You can read <a href=\"https://stackoverflow.com/a/25698962/573032\">which types conversion is supported via built-in type conversion</a>.  If you want to convert a string to bytearray you need to write a converter. Then use it with your property</p>\n\n<pre><code>@TypeConversion(converter=\"org.conversion.StringToBytearrayConverter\")\npublic void setContent(byte[] bytes) {\n  this.content = bytes;\n}\n</code></pre>\n"}],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642189479,"creation_date":1411642712,"question_id":26036876,"body_markdown":"I am getting some input from the user on client side with no limit on characters. So I am storing input as a BLOB data type.\r\n\r\nI am directly getting my entity filled using getters and setters.\r\n\r\n**Action class:**\r\n\r\n    public class OperatorNotesAction extends ActionSupport {\r\n    \t\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tprivate OperatorNotesInfo note;\r\n    ....\t\r\n    }\r\n\r\n`OperatorNotesInfo` is the entity I wana get filled. On client side I send the input filled by the user to the action class using JavaScript:\r\n\r\n**JS:**\r\n\r\n    $.ajax({\r\n    \ttype: &#39;POST&#39;,\r\n    \turl: &quot;&lt;s:url action=&#39;updateNote&#39;/&gt;&quot;,\r\n    \tdata:\r\n    \t{\t\t\t\t\t\r\n    \t\t&#39;note.title&#39;:$(&#39;#title&#39;).val(),\r\n    \t\t&#39;note.id.operatorId&#39;:$(&#39;#operatorId&#39;).val(),\r\n            &#39;note.content&#39;:$(&#39;textarea&#39;).val()\r\n    \r\n    \t},\r\n\r\nHere content is of byte array type in action class as it&#39;s stored as a BLOB.\r\n\r\nHow do I type convert the input entered by the user into byte array, so that content property of the entity `note` gets saved ?\r\n\t\t\t","title":"Type conversion from string to byte array in Struts 2","body":"<p>I am getting some input from the user on client side with no limit on characters. So I am storing input as a BLOB data type.</p>\n<p>I am directly getting my entity filled using getters and setters.</p>\n<p><strong>Action class:</strong></p>\n<pre><code>public class OperatorNotesAction extends ActionSupport {\n    \n\n    private static final long serialVersionUID = 1L;\n    \n    private OperatorNotesInfo note;\n....    \n}\n</code></pre>\n<p><code>OperatorNotesInfo</code> is the entity I wana get filled. On client side I send the input filled by the user to the action class using JavaScript:</p>\n<p><strong>JS:</strong></p>\n<pre><code>$.ajax({\n    type: 'POST',\n    url: &quot;&lt;s:url action='updateNote'/&gt;&quot;,\n    data:\n    {                   \n        'note.title':$('#title').val(),\n        'note.id.operatorId':$('#operatorId').val(),\n        'note.content':$('textarea').val()\n\n    },\n</code></pre>\n<p>Here content is of byte array type in action class as it's stored as a BLOB.</p>\n<p>How do I type convert the input entered by the user into byte array, so that content property of the entity <code>note</code> gets saved ?</p>\n"},{"tags":["java","active-directory","apacheds"],"comments":[{"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"score":0,"creation_date":1363620534,"post_id":15480512,"comment_id":21911279,"body_markdown":"Have you tried anything? Where are you stuck? I&#39;m pretty sure a search with a big searchengine would yield enough results.","body":"Have you tried anything? Where are you stuck? I&#39;m pretty sure a search with a big searchengine would yield enough results."},{"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"score":0,"creation_date":1363703766,"post_id":15480512,"comment_id":21949743,"body_markdown":"I had the same challenge a couple of months ago. Do you only want to add a few attributes? If so, you might be able to do it with apacheds, but I had very-very bad experiences with it. No documentation at all, and all my experiments to extend its schema have failed. (It could be all my fault, of course.) Anyway I ended up sacking apacheds, and used the UnboundID java ldap sdk instead. With that I could load an exported Active Directory schema, which wasn&#39;t very easy either, but succeeded eventually. I can try to find something useful for you if you still need it.","body":"I had the same challenge a couple of months ago. Do you only want to add a few attributes? If so, you might be able to do it with apacheds, but I had very-very bad experiences with it. No documentation at all, and all my experiments to extend its schema have failed. (It could be all my fault, of course.) Anyway I ended up sacking apacheds, and used the UnboundID java ldap sdk instead. With that I could load an exported Active Directory schema, which wasn&#39;t very easy either, but succeeded eventually. I can try to find something useful for you if you still need it."},{"owner":{"account_id":2001641,"reputation":2740,"user_id":1792540,"accept_rate":75,"display_name":"sndyuk"},"score":0,"creation_date":1363707249,"post_id":15480512,"comment_id":21952255,"body_markdown":"Thanks @zagyi !! I still need it. I just want to add few attributes.","body":"Thanks @zagyi !! I still need it. I just want to add few attributes."},{"owner":{"account_id":2001641,"reputation":2740,"user_id":1792540,"accept_rate":75,"display_name":"sndyuk"},"score":0,"creation_date":1363835193,"post_id":15480512,"comment_id":22015038,"body_markdown":"I added a few attribute. But it&#39;s very long code... I still want simple code.","body":"I added a few attribute. But it&#39;s very long code... I still want simple code."}],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642189327,"creation_date":1642189327,"answer_id":70715778,"question_id":15480512,"body_markdown":"Use Apache DS Studio to define your own schema. You can use attributes and object classes from core, cosine or other schemas. Actually you can take MS AD schema and define the required object classes and attributes.\r\n\r\nYou probably will not be able to import AD schema directly in Apache DS as the formats would vary (even if they are both in LDIF), however, you can create the same classes and attributes in Apache DS schema (I recommend using different OIDs than MS).\r\n\r\nYou can then import the schema LDIF to Apache DS.","title":"How to build a ldap server that is same schema as active directory","body":"<p>Use Apache DS Studio to define your own schema. You can use attributes and object classes from core, cosine or other schemas. Actually you can take MS AD schema and define the required object classes and attributes.</p>\n<p>You probably will not be able to import AD schema directly in Apache DS as the formats would vary (even if they are both in LDIF), however, you can create the same classes and attributes in Apache DS schema (I recommend using different OIDs than MS).</p>\n<p>You can then import the schema LDIF to Apache DS.</p>\n"}],"owner":{"account_id":2001641,"reputation":2740,"user_id":1792540,"accept_rate":75,"display_name":"sndyuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642189327,"creation_date":1363620397,"question_id":15480512,"body_markdown":"I want to build a stub server using apacheds that has same schema as active directory.\r\n\r\nWe need to add custom attribute like:\r\nuserAccountControl, unicodePwd, ..etc.\r\n\r\nI have no idea how to add this to the default schema programmatically.\r\nAny idea?\r\n\r\napacheds version 2.0.0-M10\r\n\r\nThanks!","title":"How to build a ldap server that is same schema as active directory","body":"<p>I want to build a stub server using apacheds that has same schema as active directory.</p>\n\n<p>We need to add custom attribute like:\nuserAccountControl, unicodePwd, ..etc.</p>\n\n<p>I have no idea how to add this to the default schema programmatically.\nAny idea?</p>\n\n<p>apacheds version 2.0.0-M10</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","push-notification"],"comments":[{"owner":{"account_id":14620333,"reputation":35,"user_id":10559220,"display_name":"SkywalkerLuke JS"},"score":0,"creation_date":1642155476,"post_id":70708960,"comment_id":125001105,"body_markdown":"https://stackoverflow.com/questions/60170040/firebase-admin-sdk-fcm-error-exactly-one-of-topic-token-or-condition-is-require","body":"<a href=\"https://stackoverflow.com/questions/60170040/firebase-admin-sdk-fcm-error-exactly-one-of-topic-token-or-condition-is-require\" title=\"firebase admin sdk fcm error exactly one of topic token or condition is require\">stackoverflow.com/questions/60170040/&hellip;</a>"},{"owner":{"account_id":5747098,"reputation":307,"user_id":4538021,"display_name":"Ran Shorowitz"},"score":0,"creation_date":1642189053,"post_id":70708960,"comment_id":125013715,"body_markdown":"@SkywalkerLukeJS I don&#39;t think there&#39;s a solution in there to my code. I&#39;m trying to send a notification, not a message. Also that person is using NodeJS, not Java.","body":"@SkywalkerLukeJS I don&#39;t think there&#39;s a solution in there to my code. I&#39;m trying to send a notification, not a message. Also that person is using NodeJS, not Java."}],"answers":[{"tags":[],"owner":{"account_id":5747098,"reputation":307,"user_id":4538021,"display_name":"Ran Shorowitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642189186,"creation_date":1642189186,"answer_id":70715756,"question_id":70708960,"body_markdown":"Just had to put .setToken(...) after the line: build())\r\n\r\nI was putting it in the wrong place.","title":"FireBase Admin SDK Java: Sending a notification","body":"<p>Just had to put .setToken(...) after the line: build())</p>\n<p>I was putting it in the wrong place.</p>\n"}],"owner":{"account_id":5747098,"reputation":307,"user_id":4538021,"display_name":"Ran Shorowitz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642189186,"creation_date":1642155085,"question_id":70708960,"body_markdown":"I&#39;m trying to send a notification to my Android device using my Java Server with the FireBase Admin SDK.\r\n\r\nI can send test notifications from the FireBase website successfully, but I&#39;m having trouble setting it up on Java in my server:\r\n\r\n\t\tMessage message = Message.builder()\r\n\t    .setNotification(Notification.builder()\r\n\t        .setTitle(&quot;$GOOG up 1.43% on the day&quot;)\r\n\t        .setBody(&quot;$GOOG gained 11.80 points to close at 835.67, up 1.43% on the day.&quot;)\r\n\t        .build())\r\n\t    .build();\r\n\r\n\r\n\t\t// Send a message to the device corresponding to the provided\r\n\t\t// registration token.\r\n\t\tString response = &quot;N/A&quot;;\r\n\t\ttry {\r\n\t\t\tresponse = FirebaseMessaging.getInstance().send(message);\r\n\t\t} catch (FirebaseMessagingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nI get this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Exactly one of token, topic or condition must be specified\r\n\r\nWhere do I even set the user token here? I just want to send a simple notification using FireBase in Java to my Android FireBase client.","title":"FireBase Admin SDK Java: Sending a notification","body":"<p>I'm trying to send a notification to my Android device using my Java Server with the FireBase Admin SDK.</p>\n<p>I can send test notifications from the FireBase website successfully, but I'm having trouble setting it up on Java in my server:</p>\n<pre><code>    Message message = Message.builder()\n    .setNotification(Notification.builder()\n        .setTitle(&quot;$GOOG up 1.43% on the day&quot;)\n        .setBody(&quot;$GOOG gained 11.80 points to close at 835.67, up 1.43% on the day.&quot;)\n        .build())\n    .build();\n\n\n    // Send a message to the device corresponding to the provided\n    // registration token.\n    String response = &quot;N/A&quot;;\n    try {\n        response = FirebaseMessaging.getInstance().send(message);\n    } catch (FirebaseMessagingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I get this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Exactly one of token, topic or condition must be specified</p>\n</blockquote>\n<p>Where do I even set the user token here? I just want to send a simple notification using FireBase in Java to my Android FireBase client.</p>\n"},{"tags":["java","java-8","aem","crx"],"comments":[{"owner":{"account_id":5055816,"reputation":348,"user_id":4059086,"display_name":"Rob McDougall"},"score":0,"creation_date":1641653977,"post_id":70620618,"comment_id":124863507,"body_markdown":"It would help if you indicated which file is not found.\n\nAEM does not support Java 17 yet, so only 8 and 11 are supported.  I would recommend 11, since it&#39;s faster.  \n\nIf you switch Java versions then you will have to start again from scratch (delete crx-quickstart directory) if you downgrade (say from 11 to 8 or 17 to 11).  It compiles some classes and older versions won&#39;t like classes previously compiled under newer versions.","body":"It would help if you indicated which file is not found.  AEM does not support Java 17 yet, so only 8 and 11 are supported.  I would recommend 11, since it&#39;s faster.    If you switch Java versions then you will have to start again from scratch (delete crx-quickstart directory) if you downgrade (say from 11 to 8 or 17 to 11).  It compiles some classes and older versions won&#39;t like classes previously compiled under newer versions."},{"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"score":0,"creation_date":1641846227,"post_id":70620618,"comment_id":124909387,"body_markdown":"Is JAVA_HOME setup? Share what errors appear under crx-quickstart/logs","body":"Is JAVA_HOME setup? Share what errors appear under crx-quickstart/logs"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1642359138,"post_id":70620618,"comment_id":125044452,"body_markdown":"Please provide the exact error message.","body":"Please provide the exact error message."}],"answers":[{"tags":[],"owner":{"account_id":2931738,"reputation":541,"user_id":2511804,"display_name":"Sadistic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642189111,"creation_date":1642189111,"answer_id":70715744,"question_id":70620618,"body_markdown":"Dont try java17 as it is not supported by AEM yet. AEM 6.5 supports java8 and java11.\r\n\r\nI am not sure what steps you are following to setup the local environment or why you are getting file not found exception. Below are some steps that are generally used to set up local dev environment for AEM on windows.\r\n\r\n 1. Set up jdk- Use jdk8 or jdk11. Do the path setting in the environment variable. Use JAVA_HOME as environment variable name. To test if java is properly installed type `java -version` in command prompt and if you get the proper version then java is installed properly.\r\n 2. Set up maven - Use maven version 3.3.6 or above. Set the environment variable M2_HOME. Maven internally relies on JAVA_HOME, so that variable is required. To check run the command `mvn -v` in commmand prompt. If a proper version is displayed then maven is installed properly.\r\n 3. AEM jar - Keep the AEM jar and the license property file in same folder. Rename the jar to &#39;aem-author-p4502.jar&#39; for author running on port 4502. If you need publish instance then replace the author with publish and port as 4503.\r\n 4. To start AEM - From command prompt run `java -jar aem-author-p4502.jar`. Depending on system configuration it may take few minutes to start.\r\n ","title":"Trying to set-up AEM installation in my new laptop and its showing File Not Fount exception","body":"<p>Dont try java17 as it is not supported by AEM yet. AEM 6.5 supports java8 and java11.</p>\n<p>I am not sure what steps you are following to setup the local environment or why you are getting file not found exception. Below are some steps that are generally used to set up local dev environment for AEM on windows.</p>\n<ol>\n<li>Set up jdk- Use jdk8 or jdk11. Do the path setting in the environment variable. Use JAVA_HOME as environment variable name. To test if java is properly installed type <code>java -version</code> in command prompt and if you get the proper version then java is installed properly.</li>\n<li>Set up maven - Use maven version 3.3.6 or above. Set the environment variable M2_HOME. Maven internally relies on JAVA_HOME, so that variable is required. To check run the command <code>mvn -v</code> in commmand prompt. If a proper version is displayed then maven is installed properly.</li>\n<li>AEM jar - Keep the AEM jar and the license property file in same folder. Rename the jar to 'aem-author-p4502.jar' for author running on port 4502. If you need publish instance then replace the author with publish and port as 4503.</li>\n<li>To start AEM - From command prompt run <code>java -jar aem-author-p4502.jar</code>. Depending on system configuration it may take few minutes to start.</li>\n</ol>\n"}],"owner":{"account_id":23859056,"reputation":11,"user_id":17862255,"display_name":"vidhya r s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642189111,"creation_date":1641555150,"question_id":70620618,"body_markdown":"Was trying to set-up my local environment to practice AEM dev concepts and installed the same version of jdk8 and crx 6.5 version.\r\n\r\nWhen I try to instantiate the author jar, it&#39;s showing a FILENOTFOUND EXCEPTION.\r\n\r\nI tried with different versions of AEM like 11,17 no clue to the problem\r\n\r\nPlease can somebody help! Thanks a lot in advance!","title":"Trying to set-up AEM installation in my new laptop and its showing File Not Fount exception","body":"<p>Was trying to set-up my local environment to practice AEM dev concepts and installed the same version of jdk8 and crx 6.5 version.</p>\n<p>When I try to instantiate the author jar, it's showing a FILENOTFOUND EXCEPTION.</p>\n<p>I tried with different versions of AEM like 11,17 no clue to the problem</p>\n<p>Please can somebody help! Thanks a lot in advance!</p>\n"},{"tags":["java","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1497954466,"post_id":44650274,"comment_id":76285903,"body_markdown":"What do you mean by &#39;different project&#39;? Is this another plugin? Is that plugin in the dependencies list of the current plugin?","body":"What do you mean by &#39;different project&#39;? Is this another plugin? Is that plugin in the dependencies list of the current plugin?"},{"owner":{"account_id":438921,"reputation":481,"user_id":827502,"accept_rate":46,"display_name":"Ganesh Rao B"},"score":0,"creation_date":1497954669,"post_id":44650274,"comment_id":76286036,"body_markdown":"Ya this is another plugin project .","body":"Ya this is another plugin project ."},{"owner":{"account_id":438921,"reputation":481,"user_id":827502,"accept_rate":46,"display_name":"Ganesh Rao B"},"score":0,"creation_date":1497954693,"post_id":44650274,"comment_id":76286055,"body_markdown":"that plugin in the dependencies list of the current plugin -NO","body":"that plugin in the dependencies list of the current plugin -NO"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497955485,"creation_date":1497955485,"answer_id":44650898,"question_id":44650274,"body_markdown":"If the class is in another plugin which is not in your plugin&#39;s dependency list then you need to know the id of the plugin to load the class.\r\n\r\nYou would get the class using:\r\n\r\n    Bundle bundle = Platform.getBundle(&quot;the plugin id&quot;);\r\n\r\n    Class&lt;?&gt; theClass = bundle.loadClass(&quot;the class name&quot;);\r\n\r\nYou can then use `NLS.initializeMessages` using the class, **but** the `BUNDLE_NAME` you specify must be loadable by the class loader for `theClass` - which means it must be in the same plugin or one of that plugin&#39;s dependencies, it can&#39;t be in your plugin.\r\n","title":"NLS initializing Messaging","body":"<p>If the class is in another plugin which is not in your plugin's dependency list then you need to know the id of the plugin to load the class.</p>\n\n<p>You would get the class using:</p>\n\n<pre><code>Bundle bundle = Platform.getBundle(\"the plugin id\");\n\nClass&lt;?&gt; theClass = bundle.loadClass(\"the class name\");\n</code></pre>\n\n<p>You can then use <code>NLS.initializeMessages</code> using the class, <strong>but</strong> the <code>BUNDLE_NAME</code> you specify must be loadable by the class loader for <code>theClass</code> - which means it must be in the same plugin or one of that plugin's dependencies, it can't be in your plugin.</p>\n"}],"owner":{"account_id":438921,"reputation":481,"user_id":827502,"accept_rate":46,"display_name":"Ganesh Rao B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642189104,"creation_date":1497953830,"question_id":44650274,"body_markdown":"I am using the `NLS.initializeMessages(BUNDLE_NAME, XYZ.class)` to load the constants.\r\n\r\nWhen &#39;BUNDLE_NAME&#39; and &#39;XYZ.class&#39; are present in the same project it works, but when it&#39;s in a different project it is not working.\r\n\r\nCan we use the above API when we have &#39;BUNDLE_NAME&#39; and &#39;XYZ.class&#39; in different project?\r\n\r\n\r\n","title":"NLS initializing Messaging","body":"<p>I am using the <code>NLS.initializeMessages(BUNDLE_NAME, XYZ.class)</code> to load the constants.</p>\n<p>When 'BUNDLE_NAME' and 'XYZ.class' are present in the same project it works, but when it's in a different project it is not working.</p>\n<p>Can we use the above API when we have 'BUNDLE_NAME' and 'XYZ.class' in different project?</p>\n"},{"tags":["java","metrics","dropwizard","codahale-metrics"],"answers":[{"tags":[],"owner":{"account_id":1004882,"reputation":2184,"user_id":1018903,"display_name":"Andr&#233;"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1435000289,"creation_date":1435000289,"answer_id":30987963,"question_id":30987775,"body_markdown":"Quoting the same [link][1] you added:\r\n\r\n&gt; &lt;h3&gt;Cached Gauges&lt;/h3&gt;\r\n&gt; \r\n&gt; A cached gauge allows for a more efficient reporting of values which\r\n&gt; are expensive to calculate\r\n\r\nWhat if your metric takes around two seconds seconds to calculate, or even minutes? Would you calculate every time the user request the data? Makes sense to store on a cache.\r\n\r\nSuch metric isn&#39;t what I would call *real time* because updating itself takes more time than rendering the information for the user. The metric is outdated already when it finishes it&#39;s calculation.\r\n\r\n\r\n  [1]: https://dropwizard.github.io/metrics/3.1.0/manual/core/#cached-gauges","title":"Why ever use CachedGauage in Dropwizard Metrics?","body":"<p>Quoting the same <a href=\"https://dropwizard.github.io/metrics/3.1.0/manual/core/#cached-gauges\" rel=\"noreferrer\">link</a> you added:</p>\n\n<blockquote>\n  <h3>Cached Gauges</h3>\n  \n  <p>A cached gauge allows for a more efficient reporting of values which\n  are expensive to calculate</p>\n</blockquote>\n\n<p>What if your metric takes around two seconds seconds to calculate, or even minutes? Would you calculate every time the user request the data? Makes sense to store on a cache.</p>\n\n<p>Such metric isn't what I would call <em>real time</em> because updating itself takes more time than rendering the information for the user. The metric is outdated already when it finishes it's calculation.</p>\n"},{"tags":[],"owner":{"account_id":5550205,"reputation":31,"user_id":4403580,"display_name":"Tiago L. Alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642188947,"creation_date":1642188947,"answer_id":70715720,"question_id":30987775,"body_markdown":"Just a note of warning when using `CachedGauge`. You need to take into account  the computation time when specifying the time for which you&#39;re caching that value. This is because the cache expiry period starts counting before the computation is done and it&#39;s not the cache period after the value is computed. \r\n\r\nFor example, in the example in the link which we&#39;re caching a value for 10 minutes, if `loadValue()` takes 5m, we&#39;re only caching it for 10m - 5m = 5 minutes.","title":"Why ever use CachedGauage in Dropwizard Metrics?","body":"<p>Just a note of warning when using <code>CachedGauge</code>. You need to take into account  the computation time when specifying the time for which you're caching that value. This is because the cache expiry period starts counting before the computation is done and it's not the cache period after the value is computed.</p>\n<p>For example, in the example in the link which we're caching a value for 10 minutes, if <code>loadValue()</code> takes 5m, we're only caching it for 10m - 5m = 5 minutes.</p>\n"}],"owner":{"account_id":4973546,"reputation":28157,"user_id":4009451,"accept_rate":87,"display_name":"smeeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1325,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30987963,"answer_count":2,"score":5,"last_activity_date":1642188947,"creation_date":1434999719,"question_id":30987775,"body_markdown":"I see there is the [`CachedGauge`](https://dropwizard.github.io/metrics/3.1.0/manual/core/#cached-gauges) in the DropWizard Metrics (formerly Coda Hale Metrics) lib. I&#39;m wondering why anyone would *ever* use this?!?\r\n\r\nMy *understanding* of the value of a metric is that it is real-time, accurate and relevant. If a metric is reporting a stale/cached value, of what purpose could it possibly serve?","title":"Why ever use CachedGauage in Dropwizard Metrics?","body":"<p>I see there is the <a href=\"https://dropwizard.github.io/metrics/3.1.0/manual/core/#cached-gauges\" rel=\"noreferrer\"><code>CachedGauge</code></a> in the DropWizard Metrics (formerly Coda Hale Metrics) lib. I'm wondering why anyone would <em>ever</em> use this?!?</p>\n\n<p>My <em>understanding</em> of the value of a metric is that it is real-time, accurate and relevant. If a metric is reporting a stale/cached value, of what purpose could it possibly serve?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataproc"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1641741093,"post_id":70640346,"comment_id":124879698,"body_markdown":"From where are your run that code? If out of Google Cloud (on your local workstation or on another cloud/on-prem environment, which type of authentication do you use?","body":"From where are your run that code? If out of Google Cloud (on your local workstation or on another cloud/on-prem environment, which type of authentication do you use?"},{"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"score":0,"creation_date":1641742430,"post_id":70640346,"comment_id":124880037,"body_markdown":"yes it&#39;s on my local machine, I am authenticated using end user credentials","body":"yes it&#39;s on my local machine, I am authenticated using end user credentials"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1641748435,"post_id":70640346,"comment_id":124881770,"body_markdown":"Sadly, you have to use a service account key file. The library create a JWT and try to add scope. It&#39;s  not possible to create ID Token with user credential and google cloud auth....","body":"Sadly, you have to use a service account key file. The library create a JWT and try to add scope. It&#39;s  not possible to create ID Token with user credential and google cloud auth...."},{"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"score":0,"creation_date":1641750956,"post_id":70640346,"comment_id":124882403,"body_markdown":"Are you submitting with gcloud? Could you share your command?","body":"Are you submitting with gcloud? Could you share your command?"},{"owner":{"account_id":21489672,"reputation":1464,"user_id":15835642,"display_name":"Sandeep Mohanty"},"score":0,"creation_date":1641817353,"post_id":70640346,"comment_id":124897651,"body_markdown":"Could you try using the [service account keys](https://cloud.google.com/dataproc/docs/reference/libraries#setting_up_authentication) ? It worked for me.","body":"Could you try using the <a href=\"https://cloud.google.com/dataproc/docs/reference/libraries#setting_up_authentication\" rel=\"nofollow noreferrer\">service account keys</a> ? It worked for me."}],"answers":[{"tags":[],"owner":{"account_id":174724,"reputation":25097,"user_id":404264,"accept_rate":58,"display_name":"Dagang Wei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642188161,"creation_date":1642188161,"answer_id":70715582,"question_id":70640346,"body_markdown":"The method `com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)` was introduced in `com.google.api:gax` in version [2.3.0](https://github.com/googleapis/gax-java/releases/tag/v2.3.0).\r\n\r\nCan you \r\n\r\n1) run `mvn dependency:tree` and confirm that your version of `com.google.api:gax` is above version 2.3.0?\r\n\r\n2) upgrade all Google libraries to the latest version?\r\n\r\nHere is a [similar issue](https://issueexplorer.com/issue/GoogleCloudPlatform/google-cloud-graalvm-support/211) found on the internet.","title":"Dataproc Java client throws NoSuchMethodError setUseJwtAccessWithScope","body":"<p>The method <code>com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)</code> was introduced in <code>com.google.api:gax</code> in version <a href=\"https://github.com/googleapis/gax-java/releases/tag/v2.3.0\" rel=\"nofollow noreferrer\">2.3.0</a>.</p>\n<p>Can you</p>\n<ol>\n<li><p>run <code>mvn dependency:tree</code> and confirm that your version of <code>com.google.api:gax</code> is above version 2.3.0?</p>\n</li>\n<li><p>upgrade all Google libraries to the latest version?</p>\n</li>\n</ol>\n<p>Here is a <a href=\"https://issueexplorer.com/issue/GoogleCloudPlatform/google-cloud-graalvm-support/211\" rel=\"nofollow noreferrer\">similar issue</a> found on the internet.</p>\n"}],"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2547,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70715582,"answer_count":1,"score":3,"last_activity_date":1642188258,"creation_date":1641723796,"question_id":70640346,"body_markdown":"I am following this [article][1] ,for submit a job to an existing Dataproc cluster via a Dataproc API\r\n\r\nFor the following line of code : \r\n\r\n     // Configure the settings for the job controller client.\r\n        JobControllerSettings jobControllerSettings =\r\n            JobControllerSettings.newBuilder().setEndpoint(myEndpoint).build();\r\n\r\nI am getting the following errors : \r\n\r\n    SEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)&#39;] with root cause\r\n    java.lang.NoSuchMethodError: &#39;com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)&#39;\r\n\r\nIn my pom I used the following dependencies :\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;24.1.2&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n\r\n And added the dataproc \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;google-cloud-dataproc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nAny help what I am missing here?\r\n\r\n  [1]: https://cloud.google.com/dataproc/docs/guides/submit-job\r\n\r\n","title":"Dataproc Java client throws NoSuchMethodError setUseJwtAccessWithScope","body":"<p>I am following this <a href=\"https://cloud.google.com/dataproc/docs/guides/submit-job\" rel=\"nofollow noreferrer\">article</a> ,for submit a job to an existing Dataproc cluster via a Dataproc API</p>\n<p>For the following line of code :</p>\n<pre><code> // Configure the settings for the job controller client.\n    JobControllerSettings jobControllerSettings =\n        JobControllerSettings.newBuilder().setEndpoint(myEndpoint).build();\n</code></pre>\n<p>I am getting the following errors :</p>\n<pre><code>SEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)'] with root cause\njava.lang.NoSuchMethodError: 'com.google.api.gax.core.GoogleCredentialsProvider$Builder com.google.api.gax.core.GoogleCredentialsProvider$Builder.setUseJwtAccessWithScope(boolean)'\n</code></pre>\n<p>In my pom I used the following dependencies :</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;24.1.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>And added the dataproc</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-dataproc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any help what I am missing here?</p>\n"},{"tags":["java","authentication","ldap","virtual-directory","apacheds"],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642188151,"creation_date":1642188151,"answer_id":70715578,"question_id":31940543,"body_markdown":"**Disclaimer:** I know very little about Spring Framework and even less of Spring Security\r\n\r\nHaving said that. I did face a similar situation, in my case, it was Apache DS as my app authentication source and client AD as the other.\r\n\r\nMy deployment environment was Tomcat and I used Tomcat Combined realm, which nests more than one realm for authentication. My app realm was configured to be one and client&#39;s AD was configured to be another.\r\n\r\nUsers could authenticate from any one of the realm, it worked. However, I did have to replicate client&#39;s AD users every night (including AD tombstones to mark them inactive), for authentication is one thing but other client information was also required, e.g. email, roles etc. and inclusion of new users.\r\n\r\nI am kind of sure that Spring Security will also have the concept of Combined Realm.\r\n\r\nI understand that this answer is not really an answer and more of design approach and many years too late at that; however, I wished to share my experience.","title":"Providing LDAP support on top of existing Database authentication","body":"<p><strong>Disclaimer:</strong> I know very little about Spring Framework and even less of Spring Security</p>\n<p>Having said that. I did face a similar situation, in my case, it was Apache DS as my app authentication source and client AD as the other.</p>\n<p>My deployment environment was Tomcat and I used Tomcat Combined realm, which nests more than one realm for authentication. My app realm was configured to be one and client's AD was configured to be another.</p>\n<p>Users could authenticate from any one of the realm, it worked. However, I did have to replicate client's AD users every night (including AD tombstones to mark them inactive), for authentication is one thing but other client information was also required, e.g. email, roles etc. and inclusion of new users.</p>\n<p>I am kind of sure that Spring Security will also have the concept of Combined Realm.</p>\n<p>I understand that this answer is not really an answer and more of design approach and many years too late at that; however, I wished to share my experience.</p>\n"}],"owner":{"account_id":4706918,"reputation":764,"user_id":3808721,"display_name":"Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642188151,"creation_date":1439292503,"question_id":31940543,"body_markdown":"I am working on a java application having Database authentication using spring-security.\r\nIt is very usual that, this application is used with other applications on similar domain. \r\n\r\n**Requirement:** The need is that all such partner apps should be able to share common authentication with my application.\r\nAlso it is required to continue supporting DB authentication as well.\r\n\r\nOne way I found is to embed LDAP server like ApacheDS in my application so that other partner apps can use it to get authenticated.\r\nIn this case, I need to load ApacheDS with related Database records and keep it in sync programmatically.\r\nBut disadvantage on this is to have redundant copy of authentication data - one at DB and another at ApacheDS LDAP.\r\n\r\n**Question:** Is there any way to avoid such duplication. By googling, I found option of having virtual directory server [Penrose](https://fedorahosted.org/penrose/) or [Oracle Virtual Directory](http://www.oracle.com/technetwork/middleware/id-mgmt/index-093158.html). But unfortunately they cannot be embedded in application. Is there any way to provide embedded LDAP support on top of existing Database authentication?","title":"Providing LDAP support on top of existing Database authentication","body":"<p>I am working on a java application having Database authentication using spring-security.\nIt is very usual that, this application is used with other applications on similar domain. </p>\n\n<p><strong>Requirement:</strong> The need is that all such partner apps should be able to share common authentication with my application.\nAlso it is required to continue supporting DB authentication as well.</p>\n\n<p>One way I found is to embed LDAP server like ApacheDS in my application so that other partner apps can use it to get authenticated.\nIn this case, I need to load ApacheDS with related Database records and keep it in sync programmatically.\nBut disadvantage on this is to have redundant copy of authentication data - one at DB and another at ApacheDS LDAP.</p>\n\n<p><strong>Question:</strong> Is there any way to avoid such duplication. By googling, I found option of having virtual directory server <a href=\"https://fedorahosted.org/penrose/\" rel=\"nofollow\">Penrose</a> or <a href=\"http://www.oracle.com/technetwork/middleware/id-mgmt/index-093158.html\" rel=\"nofollow\">Oracle Virtual Directory</a>. But unfortunately they cannot be embedded in application. Is there any way to provide embedded LDAP support on top of existing Database authentication?</p>\n"},{"tags":["java","sql","hadoop","hive","hiveql"],"answers":[{"tags":[],"owner":{"account_id":2704121,"reputation":7828,"user_id":2334092,"accept_rate":69,"display_name":"AbtPst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593238323,"creation_date":1593237172,"answer_id":62606459,"question_id":62605917,"body_markdown":"I think i figured it out\r\n\r\n    select k,collect_set(vi) from dum lateral view explode(val) x as k,v lateral view explode(v) y as vi group by k;\r\n\r\nand i get\r\n\r\n    B\t[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\r\n    A\t[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;]\r\n\r\nIs this the correct way ?","title":"Hive : How to flatten an array?","body":"<p>I think i figured it out</p>\n<pre><code>select k,collect_set(vi) from dum lateral view explode(val) x as k,v lateral view explode(v) y as vi group by k;\n</code></pre>\n<p>and i get</p>\n<pre><code>B   [&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\nA   [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;]\n</code></pre>\n<p>Is this the correct way ?</p>\n"},{"tags":[],"owner":{"account_id":1149847,"reputation":3845,"user_id":1131789,"accept_rate":85,"display_name":"Rishu S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593257684,"creation_date":1593257684,"answer_id":62609450,"question_id":62605917,"body_markdown":"You can also try to use `concat_ws` on top of `collect_list` / `collect_set` to flatten the collected data.\r\n\r\n    select split(concat_ws(&#39;,&#39;,collect_list(concat_ws(&#39;,&#39;,pe.v1))),&#39;,&#39;) from dum lateral view explode(val) pe as k1,v1 group by val\r\n\r\n\r\n\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i9Hnp.png","title":"Hive : How to flatten an array?","body":"<p>You can also try to use <code>concat_ws</code> on top of <code>collect_list</code> / <code>collect_set</code> to flatten the collected data.</p>\n<pre><code>select split(concat_ws(',',collect_list(concat_ws(',',pe.v1))),',') from dum lateral view explode(val) pe as k1,v1 group by val\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/i9Hnp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i9Hnp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12481947,"reputation":154,"user_id":9086383,"display_name":"Keith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642187912,"creation_date":1642187912,"answer_id":70715537,"question_id":62605917,"body_markdown":"There&#39;s actually already a brickhouse UDF for this, `array_flatten`:\r\nhttps://github.com/klout/brickhouse/blob/master/src/main/java/brickhouse/udf/collect/ArrayFlattenUDF.java\r\n\r\n```sql\r\nhive (default)&gt; select array_flatten(array(array(&#39;a&#39;, &#39;b&#39;), array(&#39;b&#39;, &#39;c&#39;)));\r\nOK\r\n[&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;]\r\nTime taken: 0.302 seconds, Fetched: 1 row(s)\r\n```\r\nA bit janky, but you can also de-dupe using another brickhouse UDF, `array_union`, and just pass an additional empty array:\r\n```sql\r\nhive (default)&gt; select array_union(array_flatten(array(array(&#39;a&#39;, &#39;b&#39;), array(&#39;b&#39;, &#39;c&#39;))), array());\r\nOK\r\n[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]\r\nTime taken: 0.245 seconds, Fetched: 1 row(s)\r\n```","title":"Hive : How to flatten an array?","body":"<p>There's actually already a brickhouse UDF for this, <code>array_flatten</code>:\n<a href=\"https://github.com/klout/brickhouse/blob/master/src/main/java/brickhouse/udf/collect/ArrayFlattenUDF.java\" rel=\"nofollow noreferrer\">https://github.com/klout/brickhouse/blob/master/src/main/java/brickhouse/udf/collect/ArrayFlattenUDF.java</a></p>\n<pre class=\"lang-sql prettyprint-override\"><code>hive (default)&gt; select array_flatten(array(array('a', 'b'), array('b', 'c')));\nOK\n[&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;]\nTime taken: 0.302 seconds, Fetched: 1 row(s)\n</code></pre>\n<p>A bit janky, but you can also de-dupe using another brickhouse UDF, <code>array_union</code>, and just pass an additional empty array:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>hive (default)&gt; select array_union(array_flatten(array(array('a', 'b'), array('b', 'c'))), array());\nOK\n[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]\nTime taken: 0.245 seconds, Fetched: 1 row(s)\n</code></pre>\n"}],"owner":{"account_id":2704121,"reputation":7828,"user_id":2334092,"accept_rate":69,"display_name":"AbtPst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62609450,"answer_count":3,"score":1,"last_activity_date":1642187912,"creation_date":1593232725,"question_id":62605917,"body_markdown":"I have this table\r\n\r\n    CREATE TABLE `dum`(\r\n      `val` map&lt;string,array&lt;string&gt;&gt;)\r\n    ROW FORMAT SERDE\r\n      &#39;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&#39;\r\n    STORED AS INPUTFORMAT\r\n      &#39;org.apache.hadoop.mapred.SequenceFileInputFormat&#39;\r\n    OUTPUTFORMAT\r\n      &#39;org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat&#39;\r\n    LOCATION\r\n      &#39;some/hdfs/dum&#39;\r\n    TBLPROPERTIES (\r\n      &#39;transient_lastDdlTime&#39;=&#39;1593230834&#39;)\r\n\r\nand i insert a simple value here as\r\n\r\n    insert into dum select map(&#39;A&#39;,array(&#39;1&#39;,&#39;2&#39;,&#39;3&#39;),&#39;B&#39;,array(&#39;4&#39;,&#39;5&#39;,&#39;6&#39;));\r\n\r\nand i see this data as\r\n\r\n    hive&gt; select * from dum;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627042934_21c7038a-3499-4076-a67b-7260f0b57030\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks is set to 0 since there&#39;s no reduce operator\r\n    Starting Job = job_1593212599278_0076, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0076/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0076\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\r\n    2020-06-27 04:29:43,830 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 04:29:51,000 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.04 sec\r\n    MapReduce Total cumulative CPU time: 4 seconds 40 msec\r\n    Ended Job = job_1593212599278_0076\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1   Cumulative CPU: 4.04 sec   HDFS Read: 237 HDFS Write: 124 SUCCESS\r\n    Total MapReduce CPU Time Spent: 4 seconds 40 msec\r\n    OK\r\n    {&quot;A&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],&quot;B&quot;:[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]}\r\n\r\nnow i want to collect all the values in the above map column. and i want to collect them as an array\r\n\r\nwhen i do\r\n\r\n    hive&gt; select map_values(val) from dum;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627043423_63c2a284-ca5b-4c6a-b8e9-3226f81c8b0d\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks is set to 0 since there&#39;s no reduce operator\r\n    Starting Job = job_1593212599278_0077, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0077/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0077\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\r\n    2020-06-27 04:34:31,658 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 04:34:38,817 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.9 sec\r\n    MapReduce Total cumulative CPU time: 4 seconds 900 msec\r\n    Ended Job = job_1593212599278_0077\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1   Cumulative CPU: 4.9 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\r\n    Total MapReduce CPU Time Spent: 4 seconds 900 msec\r\n    OK\r\n    [[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]]\r\n    Time taken: 16.82 seconds, Fetched: 1 row(s)\r\n    hive&gt;\r\n\r\ni want the result in an array like this\r\n\r\n    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\r\n\r\nso basically i just want to **flatten the array of arrays**\r\n\r\nhow can i achieve that ? i tried collect_set but i got the same result as above\r\n\r\n    hive&gt; select collect_set(v) from dum lateral view explode(map_values(val)) vl as v;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627043601_e3483ad4-96be-459d-9384-6d4d2852afa1\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks determined at compile time: 1\r\n    In order to change the average load for a reducer (in bytes):\r\n      set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;\r\n    In order to limit the maximum number of reducers:\r\n      set hive.exec.reducers.max=&lt;number&gt;\r\n    In order to set a constant number of reducers:\r\n      set mapreduce.job.reduces=&lt;number&gt;\r\n    Starting Job = job_1593212599278_0078, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0078/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0078\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\r\n    2020-06-27 04:36:11,241 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 04:36:19,424 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 5.36 sec\r\n    2020-06-27 04:36:25,556 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 8.04 sec\r\n    MapReduce Total cumulative CPU time: 8 seconds 40 msec\r\n    Ended Job = job_1593212599278_0078\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 8.04 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\r\n    Total MapReduce CPU Time Spent: 8 seconds 40 msec\r\n    OK\r\n    [[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]]\r\n\r\nwhat am i doing wrong ? Here is one way i found\r\n\r\n    hive&gt; select collect_set(vi) from dum lateral view explode(map_values(val)) x as v lateral view explode(v) y as vi;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627054452_d23a4e84-e68e-4087-8513-23b31d7ad1d1\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks determined at compile time: 1\r\n    In order to change the average load for a reducer (in bytes):\r\n      set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;\r\n    In order to limit the maximum number of reducers:\r\n      set hive.exec.reducers.max=&lt;number&gt;\r\n    In order to set a constant number of reducers:\r\n      set mapreduce.job.reduces=&lt;number&gt;\r\n    Starting Job = job_1593212599278_0090, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0090/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0090\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\r\n    2020-06-27 05:44:58,435 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 05:45:06,604 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.95 sec\r\n    2020-06-27 05:45:12,725 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 7.5 sec\r\n    MapReduce Total cumulative CPU time: 7 seconds 500 msec\r\n    Ended Job = job_1593212599278_0090\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 7.5 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\r\n    Total MapReduce CPU Time Spent: 7 seconds 500 msec\r\n    OK\r\n    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\r\n    Time taken: 21.69 seconds, Fetched: 1 row(s)\r\n\r\nI dont know if this is the ideal approach\r\n\r\nalso, this does not work with multiple rows. consider this\r\n\r\n    insert into dum select map(&#39;A&#39;,array(&#39;7&#39;,&#39;8&#39;,&#39;9&#39;),&#39;B&#39;,array(&#39;10&#39;,&#39;11&#39;,&#39;12&#39;));\r\n\r\nso now we have\r\n\r\n    hive&gt; select * from dum;\r\n    WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\r\n    Query ID = root_20200627055921_69298f96-ebd4-4022-aa44-228e81203404\r\n    Total jobs = 1\r\n    Launching Job 1 out of 1\r\n    Number of reduce tasks is set to 0 since there&#39;s no reduce operator\r\n    Starting Job = job_1593212599278_0098, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0098/\r\n    Kill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0098\r\n    Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\r\n    2020-06-27 05:59:27,692 Stage-1 map = 0%,  reduce = 0%\r\n    2020-06-27 05:59:33,817 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 3.86 sec\r\n    MapReduce Total cumulative CPU time: 3 seconds 860 msec\r\n    Ended Job = job_1593212599278_0098\r\n    MapReduce Jobs Launched:\r\n    Stage-Stage-1: Map: 1   Cumulative CPU: 3.86 sec   HDFS Read: 336 HDFS Write: 164 SUCCESS\r\n    Total MapReduce CPU Time Spent: 3 seconds 860 msec\r\n    OK\r\n    {&quot;A&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],&quot;B&quot;:[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]}\r\n    {&quot;A&quot;:[&quot;7&quot;,&quot;8&quot;,&quot;9&quot;],&quot;B&quot;:[&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]}\r\n\r\nbut if try the above solution\r\n\r\n    select collect_set(vi) from dum lateral view explode(map_values(val)) x as v lateral view explode(v) y as vi;\r\n\r\ni get\r\n\r\n    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\r\n\r\nhowever, i want to see\r\n\r\n    [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\r\n    [&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]","title":"Hive : How to flatten an array?","body":"<p>I have this table</p>\n<pre><code>CREATE TABLE `dum`(\n  `val` map&lt;string,array&lt;string&gt;&gt;)\nROW FORMAT SERDE\n  'org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe'\nSTORED AS INPUTFORMAT\n  'org.apache.hadoop.mapred.SequenceFileInputFormat'\nOUTPUTFORMAT\n  'org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat'\nLOCATION\n  'some/hdfs/dum'\nTBLPROPERTIES (\n  'transient_lastDdlTime'='1593230834')\n</code></pre>\n<p>and i insert a simple value here as</p>\n<pre><code>insert into dum select map('A',array('1','2','3'),'B',array('4','5','6'));\n</code></pre>\n<p>and i see this data as</p>\n<pre><code>hive&gt; select * from dum;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627042934_21c7038a-3499-4076-a67b-7260f0b57030\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks is set to 0 since there's no reduce operator\nStarting Job = job_1593212599278_0076, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0076/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0076\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\n2020-06-27 04:29:43,830 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 04:29:51,000 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.04 sec\nMapReduce Total cumulative CPU time: 4 seconds 40 msec\nEnded Job = job_1593212599278_0076\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1   Cumulative CPU: 4.04 sec   HDFS Read: 237 HDFS Write: 124 SUCCESS\nTotal MapReduce CPU Time Spent: 4 seconds 40 msec\nOK\n{&quot;A&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],&quot;B&quot;:[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]}\n</code></pre>\n<p>now i want to collect all the values in the above map column. and i want to collect them as an array</p>\n<p>when i do</p>\n<pre><code>hive&gt; select map_values(val) from dum;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627043423_63c2a284-ca5b-4c6a-b8e9-3226f81c8b0d\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks is set to 0 since there's no reduce operator\nStarting Job = job_1593212599278_0077, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0077/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0077\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\n2020-06-27 04:34:31,658 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 04:34:38,817 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.9 sec\nMapReduce Total cumulative CPU time: 4 seconds 900 msec\nEnded Job = job_1593212599278_0077\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1   Cumulative CPU: 4.9 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\nTotal MapReduce CPU Time Spent: 4 seconds 900 msec\nOK\n[[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]]\nTime taken: 16.82 seconds, Fetched: 1 row(s)\nhive&gt;\n</code></pre>\n<p>i want the result in an array like this</p>\n<pre><code>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\n</code></pre>\n<p>so basically i just want to <strong>flatten the array of arrays</strong></p>\n<p>how can i achieve that ? i tried collect_set but i got the same result as above</p>\n<pre><code>hive&gt; select collect_set(v) from dum lateral view explode(map_values(val)) vl as v;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627043601_e3483ad4-96be-459d-9384-6d4d2852afa1\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks determined at compile time: 1\nIn order to change the average load for a reducer (in bytes):\n  set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;\nIn order to limit the maximum number of reducers:\n  set hive.exec.reducers.max=&lt;number&gt;\nIn order to set a constant number of reducers:\n  set mapreduce.job.reduces=&lt;number&gt;\nStarting Job = job_1593212599278_0078, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0078/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0078\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\n2020-06-27 04:36:11,241 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 04:36:19,424 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 5.36 sec\n2020-06-27 04:36:25,556 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 8.04 sec\nMapReduce Total cumulative CPU time: 8 seconds 40 msec\nEnded Job = job_1593212599278_0078\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 8.04 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\nTotal MapReduce CPU Time Spent: 8 seconds 40 msec\nOK\n[[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]]\n</code></pre>\n<p>what am i doing wrong ? Here is one way i found</p>\n<pre><code>hive&gt; select collect_set(vi) from dum lateral view explode(map_values(val)) x as v lateral view explode(v) y as vi;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627054452_d23a4e84-e68e-4087-8513-23b31d7ad1d1\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks determined at compile time: 1\nIn order to change the average load for a reducer (in bytes):\n  set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;\nIn order to limit the maximum number of reducers:\n  set hive.exec.reducers.max=&lt;number&gt;\nIn order to set a constant number of reducers:\n  set mapreduce.job.reduces=&lt;number&gt;\nStarting Job = job_1593212599278_0090, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0090/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0090\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 1\n2020-06-27 05:44:58,435 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 05:45:06,604 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.95 sec\n2020-06-27 05:45:12,725 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 7.5 sec\nMapReduce Total cumulative CPU time: 7 seconds 500 msec\nEnded Job = job_1593212599278_0090\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 7.5 sec   HDFS Read: 237 HDFS Write: 111 SUCCESS\nTotal MapReduce CPU Time Spent: 7 seconds 500 msec\nOK\n[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\nTime taken: 21.69 seconds, Fetched: 1 row(s)\n</code></pre>\n<p>I dont know if this is the ideal approach</p>\n<p>also, this does not work with multiple rows. consider this</p>\n<pre><code>insert into dum select map('A',array('7','8','9'),'B',array('10','11','12'));\n</code></pre>\n<p>so now we have</p>\n<pre><code>hive&gt; select * from dum;\nWARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.\nQuery ID = root_20200627055921_69298f96-ebd4-4022-aa44-228e81203404\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks is set to 0 since there's no reduce operator\nStarting Job = job_1593212599278_0098, Tracking URL = http://ndb4zi3yi7-m:8088/proxy/application_1593212599278_0098/\nKill Command = /usr/lib/hadoop/bin/hadoop job  -kill job_1593212599278_0098\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\n2020-06-27 05:59:27,692 Stage-1 map = 0%,  reduce = 0%\n2020-06-27 05:59:33,817 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 3.86 sec\nMapReduce Total cumulative CPU time: 3 seconds 860 msec\nEnded Job = job_1593212599278_0098\nMapReduce Jobs Launched:\nStage-Stage-1: Map: 1   Cumulative CPU: 3.86 sec   HDFS Read: 336 HDFS Write: 164 SUCCESS\nTotal MapReduce CPU Time Spent: 3 seconds 860 msec\nOK\n{&quot;A&quot;:[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;],&quot;B&quot;:[&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]}\n{&quot;A&quot;:[&quot;7&quot;,&quot;8&quot;,&quot;9&quot;],&quot;B&quot;:[&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]}\n</code></pre>\n<p>but if try the above solution</p>\n<pre><code>select collect_set(vi) from dum lateral view explode(map_values(val)) x as v lateral view explode(v) y as vi;\n</code></pre>\n<p>i get</p>\n<pre><code>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\n</code></pre>\n<p>however, i want to see</p>\n<pre><code>[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]\n[&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;11&quot;,&quot;12&quot;]\n</code></pre>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1642152320,"post_id":70700759,"comment_id":125000048,"body_markdown":"1) Have a look at [this Q&amp;A](https://stackoverflow.com/q/15025092/418556) which does much the same thing (I think). 2) Use tags wisely. This one will get a lot more views with the Swing and Java tags added. 3) For better help sooner, [edit] to add a [mre].","body":"1) Have a look at <a href=\"https://stackoverflow.com/q/15025092/418556\">this Q&amp;A</a> which does much the same thing (I think). 2) Use tags wisely. This one will get a lot more views with the Swing and Java tags added. 3) For better help sooner, <a href=\"https://stackoverflow.com/posts/70700759/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642187794,"creation_date":1642187354,"answer_id":70715459,"question_id":70700759,"body_markdown":"Please see below. Use it as you normally do in your provided example, i.e., \t\t`startButton.setBorder(new RoundedButton(20));` passing the radius parameter.\r\n\r\nAlso, optionally, you can add the next line of code, i.e., `startButton.setFocusPainted(false);` to disable the focus border of the JButton.\r\n\r\n\r\n\r\n    class RoundedButton implements Border {\r\n    \tprivate int roundRadius;\r\n    \r\n    \tRoundedButton(int roundRadius) {\r\n    \t\tthis.roundRadius = roundRadius;\r\n    \t}\r\n    \r\n    \tpublic void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\r\n    \t\tGraphics2D g2 = (Graphics2D) g.create();\r\n    \t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tint r = roundRadius;\r\n    \t\tint w = width - 1;\r\n    \t\tint h = height - 1;\r\n    \r\n    \t\tArea round = new Area(new RoundRectangle2D.Float(x, y, w, h, r, r));\r\n    \t\tContainer parent = c.getParent();\r\n    \t\tif (Objects.nonNull(parent)) {\r\n    \t\t\tg2.setPaint(parent.getBackground());\r\n    \t\t\tArea corner = new Area(new Rectangle2D.Float(x, y, width, height));\r\n    \t\t\tcorner.subtract(round);\r\n    \t\t\tg2.fill(corner);\r\n    \t\t}\r\n    \t\tg2.draw(round);\r\n    \t\tg2.dispose();\r\n    \t}\r\n    \r\n    \tpublic Insets getBorderInsets(Component c) {\r\n    \t\treturn new Insets(this.roundRadius + 1, this.roundRadius + 1, this.roundRadius + 2, this.roundRadius + 2);\r\n    \t}\r\n    \r\n    \tpublic boolean isBorderOpaque() {\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\n","title":"How to remove &quot;shaded&quot; background/border of my rounded JButton?","body":"<p>Please see below. Use it as you normally do in your provided example, i.e.,         <code>startButton.setBorder(new RoundedButton(20));</code> passing the radius parameter.</p>\n<p>Also, optionally, you can add the next line of code, i.e., <code>startButton.setFocusPainted(false);</code> to disable the focus border of the JButton.</p>\n<pre><code>class RoundedButton implements Border {\n    private int roundRadius;\n\n    RoundedButton(int roundRadius) {\n        this.roundRadius = roundRadius;\n    }\n\n    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height) {\n        Graphics2D g2 = (Graphics2D) g.create();\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        int r = roundRadius;\n        int w = width - 1;\n        int h = height - 1;\n\n        Area round = new Area(new RoundRectangle2D.Float(x, y, w, h, r, r));\n        Container parent = c.getParent();\n        if (Objects.nonNull(parent)) {\n            g2.setPaint(parent.getBackground());\n            Area corner = new Area(new Rectangle2D.Float(x, y, width, height));\n            corner.subtract(round);\n            g2.fill(corner);\n        }\n        g2.draw(round);\n        g2.dispose();\n    }\n\n    public Insets getBorderInsets(Component c) {\n        return new Insets(this.roundRadius + 1, this.roundRadius + 1, this.roundRadius + 2, this.roundRadius + 2);\n    }\n\n    public boolean isBorderOpaque() {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23926345,"reputation":11,"user_id":17921411,"display_name":"Christian Bonifacio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642187794,"creation_date":1642095228,"question_id":70700759,"body_markdown":"I have a rounded JButton in my JFrame but it has the sharp corners of which I assume is the default background/border for the JButton itself. I would like to remove that &quot;shaded&quot; tint so that it blends well with the frame color. \r\n\r\nFor example, I&#39;ve changed the background color of the button to RED and the corners of the borders are still visible. \r\n\r\n[Red button with visible background/border][1]\r\n\r\nAnyway to go about this?\r\n\r\n    startButton = new JButton(&quot;Start!&quot;);\r\n\tstartButton.setPreferredSize(new Dimension(150,80));\r\n\tstartButton.setBorder(new RoundedButton(20));\r\n\tstartButton.setBackground(Color.RED);\r\n\tstartButton.setFont(new Font(null, Font.BOLD, 20));\r\n\tstartButton.addActionListener(this);\r\n\r\n---\r\n\r\n    class RoundedButton implements Border \r\n\t{\r\n\t\tprivate int roundRadius;\r\n\t\t\r\n\t\tRoundedButton(int roundRadius) \r\n\t\t{\r\n\t\t\tthis.roundRadius = roundRadius;\r\n\t\t}\r\n\r\n\t\tpublic void paintBorder(Component c, Graphics g, int x, int y, int width, int height)\r\n\t\t{\r\n\t\t\tg.drawRoundRect(x, y, width-1, height-1, roundRadius, roundRadius);\r\n\t\t}\r\n\r\n\t\tpublic Insets getBorderInsets(Component c) \r\n\t\t{\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\treturn new Insets(this.roundRadius+1, this.roundRadius+1, this.roundRadius+2, this.roundRadius+2);\r\n\t\t}\r\n\r\n\t\tpublic boolean isBorderOpaque()\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bOovy.png\r\n","title":"How to remove &quot;shaded&quot; background/border of my rounded JButton?","body":"<p>I have a rounded JButton in my JFrame but it has the sharp corners of which I assume is the default background/border for the JButton itself. I would like to remove that &quot;shaded&quot; tint so that it blends well with the frame color.</p>\n<p>For example, I've changed the background color of the button to RED and the corners of the borders are still visible.</p>\n<p><a href=\"https://i.stack.imgur.com/bOovy.png\" rel=\"nofollow noreferrer\">Red button with visible background/border</a></p>\n<p>Anyway to go about this?</p>\n<pre><code>startButton = new JButton(&quot;Start!&quot;);\nstartButton.setPreferredSize(new Dimension(150,80));\nstartButton.setBorder(new RoundedButton(20));\nstartButton.setBackground(Color.RED);\nstartButton.setFont(new Font(null, Font.BOLD, 20));\nstartButton.addActionListener(this);\n</code></pre>\n<hr />\n<pre><code>class RoundedButton implements Border \n{\n    private int roundRadius;\n    \n    RoundedButton(int roundRadius) \n    {\n        this.roundRadius = roundRadius;\n    }\n\n    public void paintBorder(Component c, Graphics g, int x, int y, int width, int height)\n    {\n        g.drawRoundRect(x, y, width-1, height-1, roundRadius, roundRadius);\n    }\n\n    public Insets getBorderInsets(Component c) \n    {\n        // TODO Auto-generated method stub\n        return new Insets(this.roundRadius+1, this.roundRadius+1, this.roundRadius+2, this.roundRadius+2);\n    }\n\n    public boolean isBorderOpaque()\n    {\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1642177325,"post_id":70710115,"comment_id":125009383,"body_markdown":"The performance difference might be small but since the first variant is both, more readable and potentially more efficient why not just use it? `fruits.stream().findFirst()` enforces you to deal with the potentially absent value when the list is empty. But when you know that the list is not empty, `get(0)` obviously is simpler. And even `if(!fruits.isEmpty()) { … fruits.get(0) … }` might be simpler than bringing in a Stream operation.","body":"The performance difference might be small but since the first variant is both, more readable and potentially more efficient why not just use it? <code>fruits.stream().findFirst()</code> enforces you to deal with the potentially absent value when the list is empty. But when you know that the list is not empty, <code>get(0)</code> obviously is simpler. And even <code>if(!fruits.isEmpty()) { … fruits.get(0) … }</code> might be simpler than bringing in a Stream operation."}],"answers":[{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642186915,"creation_date":1642186915,"answer_id":70715383,"question_id":70710115,"body_markdown":"Yes some impact, but it might be negligible depending on the collection type and whether you&#39;re actually pulling item 0 or some higher index (different collection types have different scaling of `get`, e.g. `get(0)` vs. `get(1000000)` on a LinkedList would be very different in comparative runtimes).\r\n\r\nI would also say the first version is preferable from a cleanliness/maintenance POV.  Consider sequential calls to `fruits.get(0).getProperty()` for some set of properties, and then we need to change from the 0th item to the 1st (e.g. need to change to `fruits.get(0).getProperty()` in many spots).  That change now runs a higher risk of some typo leading to a bug (e.g. someone misses changing a 0 to a 1).","title":"Getting element properties from first list item by getting element once vs couple of times performance","body":"<p>Yes some impact, but it might be negligible depending on the collection type and whether you're actually pulling item 0 or some higher index (different collection types have different scaling of <code>get</code>, e.g. <code>get(0)</code> vs. <code>get(1000000)</code> on a LinkedList would be very different in comparative runtimes).</p>\n<p>I would also say the first version is preferable from a cleanliness/maintenance POV.  Consider sequential calls to <code>fruits.get(0).getProperty()</code> for some set of properties, and then we need to change from the 0th item to the 1st (e.g. need to change to <code>fruits.get(0).getProperty()</code> in many spots).  That change now runs a higher risk of some typo leading to a bug (e.g. someone misses changing a 0 to a 1).</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642187767,"creation_date":1642187767,"answer_id":70715516,"question_id":70710115,"body_markdown":"Generally it&#39;s rather about cleaner code style than about performance, and the first approach may be easily extracted into a mapper method, to copy the properties of an entity into DTO (and it does not actually matter that the entity belongs to some collection at some index):\r\n```java\r\nFruitDto dto = toDto(fruits.get(0));\r\n\r\nstatic FruitDto toDto(Fruit fruit) {\r\n    FruitDto dto = new FruitDto();\r\n    dto.setPrice(fruit.getPrice());\r\n    dto.setType(fruit.getType());\r\n    // ...\r\n    return dto;\r\n}\r\n```\r\nRegarding use of `Stream::findFirst` instead of checking the size/emptiness of the list -- it&#39;s also rather about code style and handling the empty input collection:\r\n* &quot;imperative&quot;\r\n```java\r\nif (fruits.isEmpty()) throw new NoFruitException(); // or return &quot;empty&quot; dto\r\n\r\nFruitDto dto = toDto(fruits.get(0));\r\n```\r\n* &quot;functional&quot; using `Optional`\r\n```java\r\nFruitDto dto = fruits.stream().findFirst() // Optional&lt;Fruit&gt;\r\n    .map(Mapper::toDto)                    // Optional&lt;FruitDto&gt;\r\n    .orElseThrow(NoFruitException::new);   // or .orElse(EMPTY_DTO)\r\n```","title":"Getting element properties from first list item by getting element once vs couple of times performance","body":"<p>Generally it's rather about cleaner code style than about performance, and the first approach may be easily extracted into a mapper method, to copy the properties of an entity into DTO (and it does not actually matter that the entity belongs to some collection at some index):</p>\n<pre class=\"lang-java prettyprint-override\"><code>FruitDto dto = toDto(fruits.get(0));\n\nstatic FruitDto toDto(Fruit fruit) {\n    FruitDto dto = new FruitDto();\n    dto.setPrice(fruit.getPrice());\n    dto.setType(fruit.getType());\n    // ...\n    return dto;\n}\n</code></pre>\n<p>Regarding use of <code>Stream::findFirst</code> instead of checking the size/emptiness of the list -- it's also rather about code style and handling the empty input collection:</p>\n<ul>\n<li>&quot;imperative&quot;</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (fruits.isEmpty()) throw new NoFruitException(); // or return &quot;empty&quot; dto\n\nFruitDto dto = toDto(fruits.get(0));\n</code></pre>\n<ul>\n<li>&quot;functional&quot; using <code>Optional</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>FruitDto dto = fruits.stream().findFirst() // Optional&lt;Fruit&gt;\n    .map(Mapper::toDto)                    // Optional&lt;FruitDto&gt;\n    .orElseThrow(NoFruitException::new);   // or .orElse(EMPTY_DTO)\n</code></pre>\n"}],"owner":{"account_id":22196809,"reputation":3,"user_id":16438114,"display_name":"Erflow Stackov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642187767,"creation_date":1642160879,"question_id":70710115,"body_markdown":"Can&#39;t find any article regarding this. Does it have any impact if we use:\r\n\r\n```\r\nFruit fruit = fruits.get(0);\r\n\r\nFruitDto dto = new FruitDto();\r\ndto.setPrice(fruit.getPrice());\r\ndto.setType(fruit.getType());\r\n... eg to set 10 properties using fruit.getSomeProperty\r\n```\r\n\r\ncompared to: \r\n```\r\nFruitDto dto = new FruitDto();\r\ndto.setPrice(fruits.get(0).getPrice());\r\ndto.setType(fruits.get(0).getType());\r\n... eg to set 10 properties using fruits.get(0).getSomeProperty\r\n```\r\n\r\nand is there any advantage if we use `fruits.stream().findFirst()` instead of `get(0)`?","title":"Getting element properties from first list item by getting element once vs couple of times performance","body":"<p>Can't find any article regarding this. Does it have any impact if we use:</p>\n<pre><code>Fruit fruit = fruits.get(0);\n\nFruitDto dto = new FruitDto();\ndto.setPrice(fruit.getPrice());\ndto.setType(fruit.getType());\n... eg to set 10 properties using fruit.getSomeProperty\n</code></pre>\n<p>compared to:</p>\n<pre><code>FruitDto dto = new FruitDto();\ndto.setPrice(fruits.get(0).getPrice());\ndto.setType(fruits.get(0).getType());\n... eg to set 10 properties using fruits.get(0).getSomeProperty\n</code></pre>\n<p>and is there any advantage if we use <code>fruits.stream().findFirst()</code> instead of <code>get(0)</code>?</p>\n"},{"tags":["java","spring","spring-mvc","jackson"],"answers":[{"tags":[],"owner":{"account_id":379421,"reputation":10229,"user_id":732771,"accept_rate":100,"display_name":"Jean-Philippe Bond"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1507520613,"creation_date":1507520613,"answer_id":46638528,"question_id":46637479,"body_markdown":"If both parts of the `API` are not dealing with the same domain objects, you&#39;ll be able to do it by providing your own implementation of `MappingJackson2HttpMessageConverter` that overwrite the `canRead` and `canWrite` methods. Here an example using the base package of the object which must be serialized : \r\n\r\n**Custom converter :** \r\n\r\n    public class CustomConverter extends MappingJackson2HttpMessageConverter {\r\n    \r\n        private String basePackage;\r\n    \r\n        public CustomConverter(String basePackage) {\r\n            this.basePackage = basePackage;\r\n        }\r\n    \r\n        @Override\r\n        public boolean canRead(Type type, Class&lt;?&gt; contextClass, MediaType mediaType) {\r\n            if (contextClass.getName().startsWith(basePackage)) {\r\n                return super.canRead(type, contextClass, mediaType);\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType) {\r\n            if (clazz.getName().startsWith(basePackage)) {\r\n                return super.canWrite(clazz, mediaType);\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n**Configuration**\r\n\r\n    @Configuration\r\n    public class Configuration {\r\n    \r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter camelCaseConverter() {\r\n            MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.camel&quot;);\r\n            converter.setObjectMapper(camelCaseObjectMapper());\r\n            return converter;\r\n        }\r\n    \r\n        @Bean\r\n        public MappingJackson2HttpMessageConverter snakeCaseConverter() {\r\n            MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.snake&quot;);\r\n            converter.setObjectMapper(snakeCaseObjectMapper());\r\n            return converter;\r\n        }\r\n    \r\n        @Bean\r\n        public ObjectMapper camelCaseObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n            mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    \r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            mapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\r\n    \r\n            return mapper;\r\n        }\r\n    \r\n        @Bean\r\n        public ObjectMapper snakeCaseObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n            mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    \r\n            mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n    \r\n            return mapper;\r\n        }\r\n    }","title":"Multiple ObjectMappers for different parts of API","body":"<p>If both parts of the <code>API</code> are not dealing with the same domain objects, you'll be able to do it by providing your own implementation of <code>MappingJackson2HttpMessageConverter</code> that overwrite the <code>canRead</code> and <code>canWrite</code> methods. Here an example using the base package of the object which must be serialized : </p>\n\n<p><strong>Custom converter :</strong> </p>\n\n<pre><code>public class CustomConverter extends MappingJackson2HttpMessageConverter {\n\n    private String basePackage;\n\n    public CustomConverter(String basePackage) {\n        this.basePackage = basePackage;\n    }\n\n    @Override\n    public boolean canRead(Type type, Class&lt;?&gt; contextClass, MediaType mediaType) {\n        if (contextClass.getName().startsWith(basePackage)) {\n            return super.canRead(type, contextClass, mediaType);\n        }\n        return false;\n    }\n\n    @Override\n    public boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType) {\n        if (clazz.getName().startsWith(basePackage)) {\n            return super.canWrite(clazz, mediaType);\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p><strong>Configuration</strong></p>\n\n<pre><code>@Configuration\npublic class Configuration {\n\n    @Bean\n    public MappingJackson2HttpMessageConverter camelCaseConverter() {\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(\"package.camel\");\n        converter.setObjectMapper(camelCaseObjectMapper());\n        return converter;\n    }\n\n    @Bean\n    public MappingJackson2HttpMessageConverter snakeCaseConverter() {\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(\"package.snake\");\n        converter.setObjectMapper(snakeCaseObjectMapper());\n        return converter;\n    }\n\n    @Bean\n    public ObjectMapper camelCaseObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\n\n        return mapper;\n    }\n\n    @Bean\n    public ObjectMapper snakeCaseObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n\n        return mapper;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16642958,"reputation":1,"user_id":12027976,"display_name":"CK SIOW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642187399,"creation_date":1642183567,"answer_id":70714826,"question_id":46637479,"body_markdown":"Remove `@Bean` of `ObjectMapper` to avoid multi bean errors\r\n\r\n```\r\n@Configuration\r\npublic class Configuration {\r\n\r\n    @Bean\r\n    public MappingJackson2HttpMessageConverter camelCaseConverter() {\r\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.camel&quot;);\r\n        converter.setObjectMapper(camelCaseObjectMapper());\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public MappingJackson2HttpMessageConverter snakeCaseConverter() {\r\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.snake&quot;);\r\n        converter.setObjectMapper(snakeCaseObjectMapper());\r\n        return converter;\r\n    }\r\n\r\n    public ObjectMapper camelCaseObjectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\r\n\r\n        return mapper;\r\n    }\r\n\r\n\r\n    public ObjectMapper snakeCaseObjectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n\r\n        return mapper;\r\n    }\r\n}\r\n```","title":"Multiple ObjectMappers for different parts of API","body":"<p>Remove <code>@Bean</code> of <code>ObjectMapper</code> to avoid multi bean errors</p>\n<pre><code>@Configuration\npublic class Configuration {\n\n    @Bean\n    public MappingJackson2HttpMessageConverter camelCaseConverter() {\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.camel&quot;);\n        converter.setObjectMapper(camelCaseObjectMapper());\n        return converter;\n    }\n\n    @Bean\n    public MappingJackson2HttpMessageConverter snakeCaseConverter() {\n        MappingJackson2HttpMessageConverter converter = new CustomConverter(&quot;package.snake&quot;);\n        converter.setObjectMapper(snakeCaseObjectMapper());\n        return converter;\n    }\n\n    public ObjectMapper camelCaseObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.LOWER_CAMEL_CASE);\n\n        return mapper;\n    }\n\n\n    public ObjectMapper snakeCaseObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n\n        return mapper;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46638528,"answer_count":2,"score":3,"last_activity_date":1642187399,"creation_date":1507510301,"question_id":46637479,"body_markdown":"Currently I have a `@Bean` configuration in my Spring Boot App like that:\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\r\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    \r\n        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n    \r\n        return mapper;\r\n    }\r\n\r\nIs it possible to have different ObjectMappers for different parts of the API?\r\nI am interested for example to have different property naming strategy for different parts of the API. I want a part of my API (e.g `/api/v1/snake/**`) to work with `SNAKE_CASE` and a part of it (e.g `/api/v1/camel/**`) to work with `LOWER_CAMEL_CASE`.\r\n\r\nThanks!","title":"Multiple ObjectMappers for different parts of API","body":"<p>Currently I have a <code>@Bean</code> configuration in my Spring Boot App like that:</p>\n\n<pre><code>@Bean\npublic ObjectMapper objectMapper() {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    mapper.configure(MapperFeature.DEFAULT_VIEW_INCLUSION, true);\n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n    mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n    mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n    mapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n\n    return mapper;\n}\n</code></pre>\n\n<p>Is it possible to have different ObjectMappers for different parts of the API?\nI am interested for example to have different property naming strategy for different parts of the API. I want a part of my API (e.g <code>/api/v1/snake/**</code>) to work with <code>SNAKE_CASE</code> and a part of it (e.g <code>/api/v1/camel/**</code>) to work with <code>LOWER_CAMEL_CASE</code>.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","windows","url"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":45,"creation_date":1377810500,"post_id":18520972,"comment_id":27236348,"body_markdown":"Try Java 7 `Paths.get(new URL(url).toURI());`","body":"Try Java 7 <code>Paths.get(new URL(url).toURI());</code>"},{"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"score":1,"creation_date":1377815659,"post_id":18520972,"comment_id":27238182,"body_markdown":"Thanks (and +1) for pointing to java.nio.Paths. However, I need to be compatible with Java 6 (I edit the question) - sorry for that.","body":"Thanks (and +1) for pointing to java.nio.Paths. However, I need to be compatible with Java 6 (I edit the question) - sorry for that."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":9,"creation_date":1393924754,"post_id":18520972,"comment_id":33643012,"body_markdown":"The standard way is `new File(url.toURI())`. Works even with Java&#160;5.","body":"The standard way is <code>new File(url.toURI())</code>. Works even with Java 5."},{"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"score":2,"creation_date":1454316146,"post_id":18520972,"comment_id":57972206,"body_markdown":"I suggest that comment from @SotiriosDelimanolis should be refactored out as a straight-to-the-point answer.","body":"I suggest that comment from @SotiriosDelimanolis should be refactored out as a straight-to-the-point answer."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1582797216,"post_id":18520972,"comment_id":106903689,"body_markdown":"Related: [java.nio.file.Path for a classpath resource](https://stackoverflow.com/questions/15713119/java-nio-file-path-for-a-classpath-resource)","body":"Related: <a href=\"https://stackoverflow.com/questions/15713119/java-nio-file-path-for-a-classpath-resource\">java.nio.file.Path for a classpath resource</a>"}],"answers":[{"tags":[],"owner":{"account_id":234634,"reputation":11522,"user_id":500916,"accept_rate":57,"display_name":"Simone Gianni"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1377820506,"creation_date":1377820506,"answer_id":18522792,"question_id":18520972,"body_markdown":"Java (at least 5 and 6, java 7 Paths solved most) has a problem with UNC and URI. Eclipse team wrapped it up here : http://wiki.eclipse.org/Eclipse/UNC_Paths \r\n\r\nFrom java.io.File javadocs, the UNC prefix is &quot;////&quot;, and java.net.URI handles file:////host/path (four slashes).\r\n\r\nMore details on why this happens and possible problems it causes in other URI and URL methods can be found in the list of bugs at the end of the link given above.\r\n\r\nUsing these informations, Eclipse team developed org.eclipse.core.runtime.URIUtil class, which source code can probably help out when dealing with UNC paths.","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>Java (at least 5 and 6, java 7 Paths solved most) has a problem with UNC and URI. Eclipse team wrapped it up here : <a href=\"http://wiki.eclipse.org/Eclipse/UNC_Paths\" rel=\"nofollow\">http://wiki.eclipse.org/Eclipse/UNC_Paths</a> </p>\n\n<p>From java.io.File javadocs, the UNC prefix is \"////\", and java.net.URI handles file:////host/path (four slashes).</p>\n\n<p>More details on why this happens and possible problems it causes in other URI and URL methods can be found in the list of bugs at the end of the link given above.</p>\n\n<p>Using these informations, Eclipse team developed org.eclipse.core.runtime.URIUtil class, which source code can probably help out when dealing with UNC paths.</p>\n"},{"tags":[],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1642187131,"creation_date":1377852629,"answer_id":18528710,"question_id":18520972,"body_markdown":"Based on the hint and link provided in [Simone Giannis&#39; answer](https://stackoverflow.com/a/18522792), this is my *hack* to fix this.\r\n\r\nI am testing on `uri.getAuthority()`, because UNC path will report an Authority. This is a bug - so I rely on the existence of a bug, which is evil, but it apears as if this will stay forever (since Java 7 solves the problem in java.nio.Paths).\r\n\r\nNote: In my context I will receive absolute paths. I have tested this on Windows and OS X.\r\n\r\n(Still looking for a better way to do it)\r\n\r\n\tpackage com.christianfries.test;\r\n\t\r\n\timport java.io.File;\r\n\timport java.net.MalformedURLException;\r\n\timport java.net.URI;\r\n\timport java.net.URISyntaxException;\r\n\timport java.net.URL;\r\n\t\r\n\tpublic class UNCPathTest {\r\n\t\r\n\t\tpublic static void main(String[] args) throws MalformedURLException, URISyntaxException {\r\n\t\t\tUNCPathTest upt = new UNCPathTest();\r\n\t\t\t\r\n\t\t\tupt.testURL(&quot;file://server/dir/file.txt&quot;);\t// Windows UNC Path\r\n\t\r\n\t\t\tupt.testURL(&quot;file:///Z:/dir/file.txt&quot;);\t\t// Windows drive letter path\r\n\t\t\t\r\n\t\t\tupt.testURL(&quot;file:///dir/file.txt&quot;);\t\t// Unix (absolute) path\r\n\t\t}\r\n\t\r\n\t\tprivate void testURL(String urlString) throws MalformedURLException, URISyntaxException {\r\n\t\t\tURL url = new URL(urlString);\r\n\t\t\tSystem.out.println(&quot;URL is: &quot; + url.toString());\r\n\t\r\n\t\t\tURI uri = url.toURI();\r\n\t\t\tSystem.out.println(&quot;URI is: &quot; + uri.toString());\r\n\t\t\t\r\n\t\t\tif(uri.getAuthority() != null &amp;&amp; uri.getAuthority().length() &gt; 0) {\r\n\t\t\t\t// Hack for UNC Path\r\n\t\t\t\turi = (new URL(&quot;file://&quot; + urlString.substring(&quot;file:&quot;.length()))).toURI();\r\n\t\t\t}\r\n\t\r\n\t\t\tFile file = new File(uri);\r\n\t\t\tSystem.out.println(&quot;File is: &quot; + file.toString());\r\n\t\r\n\t\t\tString parent = file.getParent();\r\n\t\t\tSystem.out.println(&quot;Parent is: &quot; + parent);\r\n\t\r\n\t\t\tSystem.out.println(&quot;____________________________________________________________&quot;);\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>Based on the hint and link provided in <a href=\"https://stackoverflow.com/a/18522792\">Simone Giannis' answer</a>, this is my <em>hack</em> to fix this.</p>\n<p>I am testing on <code>uri.getAuthority()</code>, because UNC path will report an Authority. This is a bug - so I rely on the existence of a bug, which is evil, but it apears as if this will stay forever (since Java 7 solves the problem in java.nio.Paths).</p>\n<p>Note: In my context I will receive absolute paths. I have tested this on Windows and OS X.</p>\n<p>(Still looking for a better way to do it)</p>\n<pre><code>package com.christianfries.test;\n\nimport java.io.File;\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\n\npublic class UNCPathTest {\n\n    public static void main(String[] args) throws MalformedURLException, URISyntaxException {\n        UNCPathTest upt = new UNCPathTest();\n        \n        upt.testURL(&quot;file://server/dir/file.txt&quot;);  // Windows UNC Path\n\n        upt.testURL(&quot;file:///Z:/dir/file.txt&quot;);     // Windows drive letter path\n        \n        upt.testURL(&quot;file:///dir/file.txt&quot;);        // Unix (absolute) path\n    }\n\n    private void testURL(String urlString) throws MalformedURLException, URISyntaxException {\n        URL url = new URL(urlString);\n        System.out.println(&quot;URL is: &quot; + url.toString());\n\n        URI uri = url.toURI();\n        System.out.println(&quot;URI is: &quot; + uri.toString());\n        \n        if(uri.getAuthority() != null &amp;&amp; uri.getAuthority().length() &gt; 0) {\n            // Hack for UNC Path\n            uri = (new URL(&quot;file://&quot; + urlString.substring(&quot;file:&quot;.length()))).toURI();\n        }\n\n        File file = new File(uri);\n        System.out.println(&quot;File is: &quot; + file.toString());\n\n        String parent = file.getParent();\n        System.out.println(&quot;Parent is: &quot; + parent);\n\n        System.out.println(&quot;____________________________________________________________&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3658600,"reputation":417,"user_id":3048996,"display_name":"judovana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493122201,"creation_date":1493122201,"answer_id":43610274,"question_id":18520972,"body_markdown":"I hope (not exactly verified) that newer java brought nio package and Path. Hopefully it have it fixed:`\r\n        String s=&quot;C:\\\\some\\\\ile.txt&quot;;\r\n        System.out.println(new File(s).toPath().toUri());`","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>I hope (not exactly verified) that newer java brought nio package and Path. Hopefully it have it fixed:<code>\n        String s=\"C:\\\\some\\\\ile.txt\";\n        System.out.println(new File(s).toPath().toUri());</code></p>\n"},{"tags":[],"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1563978338,"creation_date":1508252818,"answer_id":46793408,"question_id":18520972,"body_markdown":"Building on @SotiriosDelimanolis&#39;s comment, here is a method to deal with URLs (such as file:...) and non-URLs (such as C:\\...), using Spring&#39;s FileSystemResource:\r\n\r\n    public FileSystemResource get(String file) {\r\n    \ttry {\r\n\t\t\t// First try to resolve as URL (file:...)\r\n\t\t\tPath path = Paths.get(new URL(file).toURI());\r\n\t\t\tFileSystemResource resource = new FileSystemResource(path.toFile());\r\n\t\t\treturn resource;\r\n\t\t} catch (URISyntaxException | MalformedURLException e) {\r\n\t\t\t// If given file string isn&#39;t an URL, fall back to using a normal file \r\n\t\t\treturn new FileSystemResource(file);\r\n\t\t}\r\n    }\r\n","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>Building on @SotiriosDelimanolis's comment, here is a method to deal with URLs (such as file:...) and non-URLs (such as C:...), using Spring's FileSystemResource:</p>\n\n<pre><code>public FileSystemResource get(String file) {\n    try {\n        // First try to resolve as URL (file:...)\n        Path path = Paths.get(new URL(file).toURI());\n        FileSystemResource resource = new FileSystemResource(path.toFile());\n        return resource;\n    } catch (URISyntaxException | MalformedURLException e) {\n        // If given file string isn't an URL, fall back to using a normal file \n        return new FileSystemResource(file);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1547104245,"creation_date":1547103675,"answer_id":54123394,"question_id":18520972,"body_markdown":"For Java 8 the following method works:\r\n\r\n 1. Form an URI from file URI string\r\n 2. Create a file from the URI (not directly from URI string, absolute URI string are not paths)\r\n\r\nRefer, below code snippet\r\n\r\n    \tString fileURiString=&quot;file:///D:/etc/MySQL.txt&quot;;\r\n\t\tURI fileURI=new URI(fileURiString);\r\n\t\tFile file=new File(fileURI);//File file=new File(fileURiString) - will generate exception\r\n\t\t\r\n\t\tFileInputStream fis=new FileInputStream(file);\r\n\t\tfis.close();\r\n\r\n","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>For Java 8 the following method works:</p>\n\n<ol>\n<li>Form an URI from file URI string</li>\n<li>Create a file from the URI (not directly from URI string, absolute URI string are not paths)</li>\n</ol>\n\n<p>Refer, below code snippet</p>\n\n<pre><code>    String fileURiString=\"file:///D:/etc/MySQL.txt\";\n    URI fileURI=new URI(fileURiString);\n    File file=new File(fileURI);//File file=new File(fileURiString) - will generate exception\n\n    FileInputStream fis=new FileInputStream(file);\n    fis.close();\n</code></pre>\n"}],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123057,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":5,"score":41,"last_activity_date":1642187131,"creation_date":1377810342,"question_id":18520972,"body_markdown":"I am developing a platform independent application. I am receiving a file URL*.\r\nOn windows these are:\r\n\r\n - `file:///Z:/folder%20to%20file/file.txt`\r\n\r\n - `file://host/folder%20to%20file/file.txt` (an UNC path)\r\n\r\nI am using `new File(URI(urlOfDocument).getPath())`which works fine with the first one and also on Unix, Linux, OS X, but does not work with UNC paths.\r\n\r\nWhat is the standard way to convert file: URLs to File(..) paths, being compatible with Java 6?\r\n\r\n\r\n......\r\n\r\n*\r\nNote: I am receiving theses URLs from OpenOffice / LibreOffice (XModel.getURL()).","title":"Converting Java file:// URL to File(...) path, platform independent, including UNC paths","body":"<p>I am developing a platform independent application. I am receiving a file URL*.\nOn windows these are:</p>\n\n<ul>\n<li><p><code>file:///Z:/folder%20to%20file/file.txt</code></p></li>\n<li><p><code>file://host/folder%20to%20file/file.txt</code> (an UNC path)</p></li>\n</ul>\n\n<p>I am using <code>new File(URI(urlOfDocument).getPath())</code>which works fine with the first one and also on Unix, Linux, OS X, but does not work with UNC paths.</p>\n\n<p>What is the standard way to convert file: URLs to File(..) paths, being compatible with Java 6?</p>\n\n<p>......</p>\n\n<p>*\nNote: I am receiving theses URLs from OpenOffice / LibreOffice (XModel.getURL()).</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1642185564,"post_id":70715082,"comment_id":125012529,"body_markdown":"You create a new array in each loop iteration with one element. That is not what you want.  And the access of `arr[i]` will throw an ArrayOutOfBoundsException right away.","body":"You create a new array in each loop iteration with one element. That is not what you want.  And the access of <code>arr[i]</code> will throw an ArrayOutOfBoundsException right away."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1642185589,"post_id":70715082,"comment_id":125012539,"body_markdown":"Do you know how you can create an (empty) array with 100 elements?","body":"Do you know how you can create an (empty) array with 100 elements?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642187571,"post_id":70715082,"comment_id":125013222,"body_markdown":"@xFive the solution you selected as the answer is innacurate. Try running these two arrays `{1,2,3,4,5,6,7,8,9,10}` and `{10,2,3,4,5,6,7,8,9,10}`. Both will add up to 55.","body":"@xFive the solution you selected as the answer is innacurate. Try running these two arrays <code>{1,2,3,4,5,6,7,8,9,10}</code> and <code>{10,2,3,4,5,6,7,8,9,10}</code>. Both will add up to 55."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642187853,"post_id":70715082,"comment_id":125013305,"body_markdown":"@xFive I also noticed the line `arr[i] = i+1;` This OVERRIDES the values of the array with the value of the counter. Totally incorrect. You are not supposed to mutate the array. You are supposed to _read_ the values and add them up.","body":"@xFive I also noticed the line <code>arr[i] = i+1;</code> This OVERRIDES the values of the array with the value of the counter. Totally incorrect. You are not supposed to mutate the array. You are supposed to <i>read</i> the values and add them up."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642188806,"post_id":70715082,"comment_id":125013631,"body_markdown":"@xFive this is why you need to test out code with different inputs.","body":"@xFive this is why you need to test out code with different inputs."}],"answers":[{"tags":[],"owner":{"account_id":23271322,"reputation":145,"user_id":17356111,"display_name":"Devck - DC"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1642185677,"creation_date":1642185677,"answer_id":70715183,"question_id":70715082,"body_markdown":"I think you are looking for something like this:\r\n\r\n```\r\nint i, sum = 0;\r\n        int[] arr = new int[100];\r\n        for(i = 0; i &lt; arr.length; i++) {\r\n            arr[i] = i+1;\r\n            sum += arr[i];\r\n        }\r\n         System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\r\n```","title":"print the summation of an array","body":"<p>I think you are looking for something like this:</p>\n<pre><code>int i, sum = 0;\n        int[] arr = new int[100];\n        for(i = 0; i &lt; arr.length; i++) {\n            arr[i] = i+1;\n            sum += arr[i];\n        }\n         System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642186975,"creation_date":1642186171,"answer_id":70715262,"question_id":70715082,"body_markdown":"A &quot;one-liner&quot; solution.\r\n\r\n    int[] arr = {...}; // Your array here\r\n    int sum = 0;\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        sum = sum + arr[i]; // can also be written as sum += arr[i];\r\n    }\r\n\r\n    System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\r\n\r\nIf the array is empty, the sum will be zero. Otherwise, it is the accumulated sum. The best thing to do is to declare and increment the loop counter variable inside the `for` structure and not outside. That&#39;s how it is designed. If you need this variable accessible outside the loop, use a `while` loop instead.\r\n\r\nUPDATE: In case you&#39;re curious for a `while` loop equivalent:\r\n\r\n    int[] arr = {...}; // Your array here\r\n    int sum = 0;\r\n    int i = 0; \r\n    while (i &lt; arr.length) {\r\n        sum = sum + arr[i]; // can also be written as sum += arr[i];\r\n        i++; // always increment the variable at the end of the loop\r\n    }","title":"print the summation of an array","body":"<p>A &quot;one-liner&quot; solution.</p>\n<pre><code>int[] arr = {...}; // Your array here\nint sum = 0;\nfor (int i = 0; i &lt; arr.length; i++) {\n    sum = sum + arr[i]; // can also be written as sum += arr[i];\n}\n\nSystem.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\n</code></pre>\n<p>If the array is empty, the sum will be zero. Otherwise, it is the accumulated sum. The best thing to do is to declare and increment the loop counter variable inside the <code>for</code> structure and not outside. That's how it is designed. If you need this variable accessible outside the loop, use a <code>while</code> loop instead.</p>\n<p>UPDATE: In case you're curious for a <code>while</code> loop equivalent:</p>\n<pre><code>int[] arr = {...}; // Your array here\nint sum = 0;\nint i = 0; \nwhile (i &lt; arr.length) {\n    sum = sum + arr[i]; // can also be written as sum += arr[i];\n    i++; // always increment the variable at the end of the loop\n}\n</code></pre>\n"}],"owner":{"account_id":23472896,"reputation":13,"user_id":17695409,"display_name":"xFive"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70715262,"answer_count":2,"score":-1,"last_activity_date":1642186975,"creation_date":1642185142,"question_id":70715082,"body_markdown":"I need to create an array of 1 to 100 and print the summation of the elements. \r\n\r\nActually, I have used for loop and Array together! But it won&#39;t work.\r\n\r\n      int i, sum = 0;\r\n        for(i = 1; i &lt; 100; i++) {\r\n          int [] arr = new int [] {i};\r\n                sum = sum + arr[i];\r\n        }\r\n                System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\r\n    }","title":"print the summation of an array","body":"<p>I need to create an array of 1 to 100 and print the summation of the elements.</p>\n<p>Actually, I have used for loop and Array together! But it won't work.</p>\n<pre><code>  int i, sum = 0;\n    for(i = 1; i &lt; 100; i++) {\n      int [] arr = new int [] {i};\n            sum = sum + arr[i];\n    }\n            System.out.println(&quot;Sum of all the elements of an array: &quot; + sum);\n}\n</code></pre>\n"},{"tags":["java","string","for-loop","count","user-input"],"answers":[{"tags":[],"owner":{"account_id":3244122,"reputation":21,"user_id":2736247,"display_name":"Jelmer Mulder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380478572,"creation_date":1380478503,"answer_id":19081549,"question_id":19081463,"body_markdown":"First you&#39;ll want to store the first character:\r\n\r\n    char firstChar = userInput.charAt(0);\r\n\r\nMake a variably to keep track of the amount of matches you have found:\r\n\r\n    int count = 0;\r\n\r\nLoop through the String and increase count if applicable:\r\n\r\n    for(int i=0; i&lt;userInput.length(); i++){\r\n      if(userInput.charAt(i) == firstChar){\r\n        count++\r\n      }\r\n     }\r\n\r\n\r\nEDIT: All you were basically missing is storing the first letter in a seperate variable.\r\n    \r\n\r\n","title":"How many times the first character appears in a string","body":"<p>First you'll want to store the first character:</p>\n\n<pre><code>char firstChar = userInput.charAt(0);\n</code></pre>\n\n<p>Make a variably to keep track of the amount of matches you have found:</p>\n\n<pre><code>int count = 0;\n</code></pre>\n\n<p>Loop through the String and increase count if applicable:</p>\n\n<pre><code>for(int i=0; i&lt;userInput.length(); i++){\n  if(userInput.charAt(i) == firstChar){\n    count++\n  }\n }\n</code></pre>\n\n<p>EDIT: All you were basically missing is storing the first letter in a seperate variable.</p>\n"},{"tags":[],"owner":{"account_id":2670372,"reputation":911,"user_id":2307921,"display_name":"Carsten Hoffmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380478634,"creation_date":1380478634,"answer_id":19081571,"question_id":19081463,"body_markdown":"I am not willing to give you working code, since it is no help to deliver the homework for you.\r\nSince you already know how to retrieve a character with `userInput.charAt(n)` you should save the first character as `targetCharacter` using the index 0 before the for-loop. You can now use the for loop to check every character for equality against that character and count those. For better readability you should correctly indent the code and use braces, like this:\r\n\r\n    if(userInput.charAt(i) == &#39;a&#39;) {\r\n      count++;\r\n    }\r\n\r\nThen you can print out the count *after* the for loop (which means after the curly brace of the for-loop. If you still have any trouble, alter your original question.","title":"How many times the first character appears in a string","body":"<p>I am not willing to give you working code, since it is no help to deliver the homework for you.\nSince you already know how to retrieve a character with <code>userInput.charAt(n)</code> you should save the first character as <code>targetCharacter</code> using the index 0 before the for-loop. You can now use the for loop to check every character for equality against that character and count those. For better readability you should correctly indent the code and use braces, like this:</p>\n\n<pre><code>if(userInput.charAt(i) == 'a') {\n  count++;\n}\n</code></pre>\n\n<p>Then you can print out the count <em>after</em> the for loop (which means after the curly brace of the for-loop. If you still have any trouble, alter your original question.</p>\n"},{"tags":[],"owner":{"account_id":3308628,"reputation":3588,"user_id":2782628,"display_name":"Stefan Freitag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380478713,"creation_date":1380478713,"answer_id":19081587,"question_id":19081463,"body_markdown":"I would try it like this:\r\n\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class CounterCharacter {\r\n     public static void main(String[] args) {\r\n        String userInput = JOptionPane.showInputDialog(&quot;Input a string&quot;);\r\n        // Use charAt to retrieve a character at a specific position\r\n        char firstChar = userInput.charAt(0);\r\n        int count=0;\r\n\r\n        for(int i =0; i &lt; userInput.length(); i++)\r\n            if(userInput.charAt(i) == firstChar)\r\n          {\r\n             count++;\r\n          }\r\n       System.out.println(count);\r\n     }\r\n    }\r\n","title":"How many times the first character appears in a string","body":"<p>I would try it like this:</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class CounterCharacter {\n public static void main(String[] args) {\n    String userInput = JOptionPane.showInputDialog(\"Input a string\");\n    // Use charAt to retrieve a character at a specific position\n    char firstChar = userInput.charAt(0);\n    int count=0;\n\n    for(int i =0; i &lt; userInput.length(); i++)\n        if(userInput.charAt(i) == firstChar)\n      {\n         count++;\n      }\n   System.out.println(count);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908539,"reputation":1102,"user_id":1722923,"accept_rate":43,"display_name":"Raju Rudru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380478795,"creation_date":1380478795,"answer_id":19081601,"question_id":19081463,"body_markdown":"&lt;code&gt;\r\n    public class CountCharacter {\r\n\t\r\n    public static void main(String[] args)\r\n\t{\r\n\tint count = 1;\r\n\tString userInput = JOptionPane.showInputDialog(&quot;Input a string&quot;);\r\n\tchar ch = userInput.charAt(0);\r\n\tfor(int i =1; i &lt; userInput.length(); i++)\r\n\t{\r\n\t    if(userInput.charAt(i) == ch)\r\n\t\r\n\t    count++;\r\n\t}\r\n\t    \r\n\t\r\n\tSystem.out.println(count);\r\n\t\r\n\t}\r\n\r\n\t}\r\n\r\n&lt;/code&gt;\r\n\r\n\r\nThis will give you the output you intended to produce ....","title":"How many times the first character appears in a string","body":"<p><code>\n    public class CountCharacter {</p>\n\n<pre><code>public static void main(String[] args)\n{\nint count = 1;\nString userInput = JOptionPane.showInputDialog(\"Input a string\");\nchar ch = userInput.charAt(0);\nfor(int i =1; i &lt; userInput.length(); i++)\n{\n    if(userInput.charAt(i) == ch)\n\n    count++;\n}\n\n\nSystem.out.println(count);\n\n}\n\n}\n</code></pre>\n\n<p></code></p>\n\n<p>This will give you the output you intended to produce ....</p>\n"},{"tags":[],"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380479116,"creation_date":1380479116,"answer_id":19081665,"question_id":19081463,"body_markdown":"You&#39;ve described the problem fairly well, so you really need to just take your description of it and turn it into code.\r\n\r\nThis is probably difficult right now because you don&#39;t seem to understand why your code is doing what it is right now.  Once you understand it -- line by line -- it should be easier to achieve the result you want.\r\n\r\n**I&#39;ll help you understand what you have now, you can take it and turn it into the working result:**\r\n\r\n    String userInput = JOptionPane.showInputDialog(&quot;Input a string&quot;);\r\n\r\nGet an input string to operate on.\r\n\r\n    int count = userInput.indexOf(0);\r\n\r\nThis method is using [indexOf(int)](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#indexOf(int)).  You are asking &quot;where is the first occurrence (index) of character 0 ([null character](http://en.wikipedia.org/wiki/Null_character)).  This is not helpful, because what you want is the opposite -- you want the *first character at **index** 0*.  That&#39;s what `charAt` does instead.  The docs for [`String`](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html) are helpful -- read them.\r\n\r\nNot only that but you are also assigning this result to `count`.  Why?\r\n\r\nYou will you need to remember the character at index `0` (hint, a character, not an `int`) but you also need to start a count -- at 0 if you start looping right at the beginning of the string.  So I think you&#39;ll need to start with two variables.\r\n\r\n    for(int i =0; i &lt; userInput.length(); i++)\r\n\r\nStart a loop with `i` at 0 and increment until the last index of the string.  That sounds right to me.\r\n\r\nHowever, notice that you haven&#39;t included a `{` to open a *block* - this means that only the next statement (up to the next semicolon) will be included in the loop.  This doesn&#39;t mean your code is broken, but this can be easy to turn into a bug later, if you add any more statements that you want to be in your loop.\r\n\r\n        if(userInput.charAt(i) == &#39;a&#39;)\r\n\r\nThis checks if the character at `i` is `&#39;a&#39;` -- why?  What you really need is to see if it matches the first character.\r\n\r\nAlso be aware that if blocks (again, `{ ... }`) work the same way as for loops.  It&#39;s best practice to use them on every `if`, `else`, `for`, `while`, etc. until you really know what you are doing.  That way you won&#39;t get accidentally tripped up.\r\n\r\n        count++;\r\n\r\nIncrement the count.  This is what you want if your `count` is correct (but it wasn&#39;t, remember).\r\n\r\n        System.out.println(count);\r\n\r\nLooks good to me, except remember that this not in the loop block, but you&#39;ve indented it like it is.","title":"How many times the first character appears in a string","body":"<p>You've described the problem fairly well, so you really need to just take your description of it and turn it into code.</p>\n\n<p>This is probably difficult right now because you don't seem to understand why your code is doing what it is right now.  Once you understand it -- line by line -- it should be easier to achieve the result you want.</p>\n\n<p><strong>I'll help you understand what you have now, you can take it and turn it into the working result:</strong></p>\n\n<pre><code>String userInput = JOptionPane.showInputDialog(\"Input a string\");\n</code></pre>\n\n<p>Get an input string to operate on.</p>\n\n<pre><code>int count = userInput.indexOf(0);\n</code></pre>\n\n<p>This method is using <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#indexOf%28int%29\" rel=\"nofollow\">indexOf(int)</a>.  You are asking \"where is the first occurrence (index) of character 0 (<a href=\"http://en.wikipedia.org/wiki/Null_character\" rel=\"nofollow\">null character</a>).  This is not helpful, because what you want is the opposite -- you want the <em>first character at <strong>index</strong> 0</em>.  That's what <code>charAt</code> does instead.  The docs for <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html\" rel=\"nofollow\"><code>String</code></a> are helpful -- read them.</p>\n\n<p>Not only that but you are also assigning this result to <code>count</code>.  Why?</p>\n\n<p>You will you need to remember the character at index <code>0</code> (hint, a character, not an <code>int</code>) but you also need to start a count -- at 0 if you start looping right at the beginning of the string.  So I think you'll need to start with two variables.</p>\n\n<pre><code>for(int i =0; i &lt; userInput.length(); i++)\n</code></pre>\n\n<p>Start a loop with <code>i</code> at 0 and increment until the last index of the string.  That sounds right to me.</p>\n\n<p>However, notice that you haven't included a <code>{</code> to open a <em>block</em> - this means that only the next statement (up to the next semicolon) will be included in the loop.  This doesn't mean your code is broken, but this can be easy to turn into a bug later, if you add any more statements that you want to be in your loop.</p>\n\n<pre><code>    if(userInput.charAt(i) == 'a')\n</code></pre>\n\n<p>This checks if the character at <code>i</code> is <code>'a'</code> -- why?  What you really need is to see if it matches the first character.</p>\n\n<p>Also be aware that if blocks (again, <code>{ ... }</code>) work the same way as for loops.  It's best practice to use them on every <code>if</code>, <code>else</code>, <code>for</code>, <code>while</code>, etc. until you really know what you are doing.  That way you won't get accidentally tripped up.</p>\n\n<pre><code>    count++;\n</code></pre>\n\n<p>Increment the count.  This is what you want if your <code>count</code> is correct (but it wasn't, remember).</p>\n\n<pre><code>    System.out.println(count);\n</code></pre>\n\n<p>Looks good to me, except remember that this not in the loop block, but you've indented it like it is.</p>\n"}],"owner":{"account_id":3369269,"reputation":11,"user_id":2828963,"display_name":"user2828963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1642186675,"creation_date":1380478055,"question_id":19081463,"body_markdown":"What I am Trying to Achieve:\r\n\r\nWrite a program that will ask the user to input a String.  Then output the number of times the first letter of that String occurs.  Assume the user will enter a String with all uppercase letters.  For example, if the user enters “PETER PIPER PICKED A PECK OF PICKLED PEPPERS” your program should output “P occurs 9 times”.\r\n\r\nWhat I have so far:\r\n\r\n    import javax.swing.JOptionPane;\r\n  \r\n    public class counterCharacter {\r\n    \t\r\n      public static void main(String[] args)\r\n      {\r\n        String userInput = JOptionPane.showInputDialog(&quot;Input a string&quot;);\r\n        int count = userInput.indexOf(0);\r\n        for(int i =0; i &lt; userInput.length(); i++)\r\n    \t\t\r\n            if(userInput.charAt(i) == &#39;a&#39;)\t\r\n              count++;\r\n            System.out.println(count);\r\n    \t}\r\n    }\r\n\r\n\r\nThe problem with this code is that it only prints the character &#39;a&#39; and only if it occurs in index point 0. My task is to allow a user to input any string, take the character from index point 0 of the users input, and count exactly how many times that character reoccurs within the input. For the PETER PIPER example, the system should print out &quot;6&quot; because that is how many times the character in the index 0 position occurs. But if the user input abcdcbabcdcda, it should print out &quot;3.&quot; \r\n\r\nAny help with this would be much appreciated as I am a new programmer and missed a day of class and am now far behind and trying to catch up. If you can, please explain why you used the specific code you used and any reference materials I can use to learn how to use that specific thing. Thank You! \r\n\r\n\r\n\r\n","title":"How many times the first character appears in a string","body":"<p>What I am Trying to Achieve:</p>\n\n<p>Write a program that will ask the user to input a String.  Then output the number of times the first letter of that String occurs.  Assume the user will enter a String with all uppercase letters.  For example, if the user enters “PETER PIPER PICKED A PECK OF PICKLED PEPPERS” your program should output “P occurs 9 times”.</p>\n\n<p>What I have so far:</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class counterCharacter {\n\n  public static void main(String[] args)\n  {\n    String userInput = JOptionPane.showInputDialog(\"Input a string\");\n    int count = userInput.indexOf(0);\n    for(int i =0; i &lt; userInput.length(); i++)\n\n        if(userInput.charAt(i) == 'a')  \n          count++;\n        System.out.println(count);\n    }\n}\n</code></pre>\n\n<p>The problem with this code is that it only prints the character 'a' and only if it occurs in index point 0. My task is to allow a user to input any string, take the character from index point 0 of the users input, and count exactly how many times that character reoccurs within the input. For the PETER PIPER example, the system should print out \"6\" because that is how many times the character in the index 0 position occurs. But if the user input abcdcbabcdcda, it should print out \"3.\" </p>\n\n<p>Any help with this would be much appreciated as I am a new programmer and missed a day of class and am now far behind and trying to catch up. If you can, please explain why you used the specific code you used and any reference materials I can use to learn how to use that specific thing. Thank You! </p>\n"},{"tags":["java","sql-server"],"answers":[{"tags":[],"owner":{"account_id":5207957,"reputation":156,"user_id":4165265,"accept_rate":25,"display_name":"anand kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485377524,"creation_date":1428053441,"answer_id":29429578,"question_id":29429193,"body_markdown":"I will suggest you to add one column to Active_QC1 table that names `Status_Flag` its `varchar` type and set status flag &#39;Y&#39; or &#39;N&#39; as corresponding to deleted or not. then you can try following queries\r\n\r\nQuery #1:\r\n\r\n    ALTER TABLE Active_QC1\r\n    ADD Status_Flag VARCHAR2(3 BYTE)\r\n\r\nQuery #2:\r\n\r\n    UPDATE Active_QC1\r\n    SET Status_Flag = &#39;Y&#39; \r\n    WHERE id = &lt;deleted records id&gt;\r\n\r\nQuery #3:\r\n\r\n    INSERT INTO Deleted_QC1 (id, req_name, req_type)\r\n        SELECT id, req_name, req_type\r\n        FROM Active_QC1\r\n        WHERE Status_Flag = &#39;Y&#39;;\r\n\r\nQuery #4.\r\n\r\n    DELETE FROM Active_QC1\r\n    WHERE Status_Flag = &#39;N&#39;;","title":"Moving deleted rows from one table to another table (has the triggers as well) using ms sql","body":"<p>I will suggest you to add one column to Active_QC1 table that names <code>Status_Flag</code> its <code>varchar</code> type and set status flag 'Y' or 'N' as corresponding to deleted or not. then you can try following queries</p>\n\n<p>Query #1:</p>\n\n<pre><code>ALTER TABLE Active_QC1\nADD Status_Flag VARCHAR2(3 BYTE)\n</code></pre>\n\n<p>Query #2:</p>\n\n<pre><code>UPDATE Active_QC1\nSET Status_Flag = 'Y' \nWHERE id = &lt;deleted records id&gt;\n</code></pre>\n\n<p>Query #3:</p>\n\n<pre><code>INSERT INTO Deleted_QC1 (id, req_name, req_type)\n    SELECT id, req_name, req_type\n    FROM Active_QC1\n    WHERE Status_Flag = 'Y';\n</code></pre>\n\n<p>Query #4.</p>\n\n<pre><code>DELETE FROM Active_QC1\nWHERE Status_Flag = 'N';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477736326,"creation_date":1428056614,"answer_id":29430344,"question_id":29429193,"body_markdown":"You can use the [OUTPUT clause][1] (microsoft.com) in a DELETE statement. The basic outline for a simple delete statement would be something as follows:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    DELETE FROM Active_QC1 \r\n    OUTPUT DELETED.* INTO Deleted_QC1\r\n    WHERE id=5;\r\n\r\nWhat it does is delete all rows in `Active_QC1` with `id=5`, then inserts those rows into `Deleted_QC1`.\r\n\r\nAn example:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TABLE #Active_QC1(id INT, req_name VARCHAR(128), req_type INT);\r\n    CREATE TABLE #Deleted_QC1(id INT, req_name VARCHAR(128), req_type INT);\r\n    \r\n    INSERT INTO #Active_QC1(id,req_name,req_type)\r\n    VALUES\r\n    \t(1,&#39;engage&#39;,3),\r\n    \t(2,&#39;forward&#39;,5),\r\n    \t(3,&#39;obliterate&#39;,3),\r\n    \t(4,&#39;reply&#39;,5),\r\n    \t(5,&#39;delete&#39;,5);\r\n    \r\n    DELETE FROM \r\n    \t#Active_QC1\r\n    OUTPUT \r\n    \tDELETED.id,\r\n    \tDELETED.req_name,\r\n    \tDELETED.req_type \r\n    INTO \r\n    \t#Deleted_QC1(id,req_name,req_type)\r\n    WHERE \r\n    \treq_type=5;\r\n    \r\n    SELECT*FROM #Deleted_QC1;\r\n    \r\n    DROP TABLE #Deleted_QC1;\r\n    DROP TABLE #Active_QC1;\r\n\r\nThis script makes two temporary tables `#Active_QC1` and `#Deleted_QC1` with identical table definitions. Some rows are added to `#Active_QC1`. The `DELETE` statement deletes all rows in `#Active_QC1` with `req_type=5`, and inserts them into `#Deleted_QC1`. The script finally selects all rows in `#Deleted_QC1`. The result is the following:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ╔════════╦══════════╦══════════╗\r\n    ║     id ║ req_name ║ req_type ║\r\n    ╠════════╬══════════╬══════════╣\r\n    ║      2 ║ forward  ║        5 ║\r\n    ║      4 ║ reply    ║        5 ║\r\n    ║      5 ║ delete   ║        5 ║\r\n    ╚════════╩══════════╩══════════╝\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/ms177564.aspx\r\n\r\n\r\n","title":"Moving deleted rows from one table to another table (has the triggers as well) using ms sql","body":"<p>You can use the <a href=\"https://msdn.microsoft.com/en-us/library/ms177564.aspx\" rel=\"nofollow\">OUTPUT clause</a> (microsoft.com) in a DELETE statement. The basic outline for a simple delete statement would be something as follows:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>DELETE FROM Active_QC1 \nOUTPUT DELETED.* INTO Deleted_QC1\nWHERE id=5;\n</code></pre>\n\n<p>What it does is delete all rows in <code>Active_QC1</code> with <code>id=5</code>, then inserts those rows into <code>Deleted_QC1</code>.</p>\n\n<p>An example:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE #Active_QC1(id INT, req_name VARCHAR(128), req_type INT);\nCREATE TABLE #Deleted_QC1(id INT, req_name VARCHAR(128), req_type INT);\n\nINSERT INTO #Active_QC1(id,req_name,req_type)\nVALUES\n    (1,'engage',3),\n    (2,'forward',5),\n    (3,'obliterate',3),\n    (4,'reply',5),\n    (5,'delete',5);\n\nDELETE FROM \n    #Active_QC1\nOUTPUT \n    DELETED.id,\n    DELETED.req_name,\n    DELETED.req_type \nINTO \n    #Deleted_QC1(id,req_name,req_type)\nWHERE \n    req_type=5;\n\nSELECT*FROM #Deleted_QC1;\n\nDROP TABLE #Deleted_QC1;\nDROP TABLE #Active_QC1;\n</code></pre>\n\n<p>This script makes two temporary tables <code>#Active_QC1</code> and <code>#Deleted_QC1</code> with identical table definitions. Some rows are added to <code>#Active_QC1</code>. The <code>DELETE</code> statement deletes all rows in <code>#Active_QC1</code> with <code>req_type=5</code>, and inserts them into <code>#Deleted_QC1</code>. The script finally selects all rows in <code>#Deleted_QC1</code>. The result is the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>╔════════╦══════════╦══════════╗\n║     id ║ req_name ║ req_type ║\n╠════════╬══════════╬══════════╣\n║      2 ║ forward  ║        5 ║\n║      4 ║ reply    ║        5 ║\n║      5 ║ delete   ║        5 ║\n╚════════╩══════════╩══════════╝\n</code></pre>\n"}],"owner":{"account_id":6079390,"reputation":21,"user_id":4745639,"display_name":"Anand K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642186639,"creation_date":1428051728,"question_id":29429193,"body_markdown":"I have two tables called `Active_QC1(id, req_name, req_type)` and `Deleted_QC1(id, req_name, req_type)`. In case I delete data from the `Active_QC1` table, that data should move to the `Deleted_QC1` table. Both tables can have triggers.\r\n\r\nCan anyone guide me with this?","title":"Moving deleted rows from one table to another table (has the triggers as well) using ms sql","body":"<p>I have two tables called <code>Active_QC1(id, req_name, req_type)</code> and <code>Deleted_QC1(id, req_name, req_type)</code>. In case I delete data from the <code>Active_QC1</code> table, that data should move to the <code>Deleted_QC1</code> table. Both tables can have triggers.</p>\n<p>Can anyone guide me with this?</p>\n"},{"tags":["java","subtraction","shunting-yard"],"comments":[{"owner":{"account_id":138915,"reputation":1025,"user_id":344169,"accept_rate":67,"display_name":"Trevor Boyle"},"score":0,"creation_date":1299628998,"post_id":5239715,"comment_id":5898100,"body_markdown":"I added the &#39;java&#39; tag, I thought it might get your question more views.","body":"I added the &#39;java&#39; tag, I thought it might get your question more views."}],"answers":[{"tags":[],"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299633024,"creation_date":1299633024,"answer_id":5240309,"question_id":5239715,"body_markdown":"The answers to [this question][1] might be helpful.\r\n\r\nIn particular, one of those answers references a [solution][2] in C that handles unary minus.\r\n\r\nBasically, you have to recognize a unary minus based on the appearance of the minus sign in positions where a binary operator can&#39;t be, and make a different token for it, as it has different precedence.\r\n\r\nDijkstra&#39;s [original paper][3] doesn&#39;t too clearly explain how he dealt with this, but the unary minus was listed as a separate operator.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1593080/how-can-i-modify-my-shunting-yard-algorithm-so-it-accepts-unary-operators\r\n  [2]: http://en.literateprograms.org/Shunting_yard_algorithm_%28C%29\r\n  [3]: http://www.cs.utexas.edu/~EWD/MCReps/MR35.PDF","title":"Problems with a shunting yard algorithm","body":"<p>The answers to <a href=\"https://stackoverflow.com/questions/1593080/how-can-i-modify-my-shunting-yard-algorithm-so-it-accepts-unary-operators\">this question</a> might be helpful.</p>\n\n<p>In particular, one of those answers references a <a href=\"http://en.literateprograms.org/Shunting_yard_algorithm_%28C%29\" rel=\"nofollow noreferrer\">solution</a> in C that handles unary minus.</p>\n\n<p>Basically, you have to recognize a unary minus based on the appearance of the minus sign in positions where a binary operator can't be, and make a different token for it, as it has different precedence.</p>\n\n<p>Dijkstra's <a href=\"http://www.cs.utexas.edu/~EWD/MCReps/MR35.PDF\" rel=\"nofollow noreferrer\">original paper</a> doesn't too clearly explain how he dealt with this, but the unary minus was listed as a separate operator.</p>\n"},{"tags":[],"owner":{"account_id":83081,"reputation":5427,"user_id":233160,"display_name":"Austin Taylor"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1299639265,"creation_date":1299639265,"answer_id":5240781,"question_id":5239715,"body_markdown":"It sounds like you&#39;re doing a lex-then-parse style parser, where you&#39;re going to need a simple state machine in the lexer in order to get separate tokens for unary and binary minus. (In a PEG parser, this isn&#39;t something you have to worry about.)\r\n\r\nIn JavaCC, you would have a `DEFAULT` state, where you would consider the `-` character to be `UNARY_MINUS`. When you tokenized the end of a primary expression (either a closing paren, or an integer, based on the examples you gave), then you would switch to the `INFIX` state where `-` would be considered to be `INFIX_MINUS`. Once you encountered any infix operator, you would return to the `DEFAULT` state.\r\n\r\nIf you&#39;re rolling your own, it might be a bit simpler than that. Look at this [Python code][1] for a clever way of doing it. Basically, when you encounter a `-`, you just check to see if the previous token was an infix operator. That example uses the string `&quot;-u&quot;` to represent the unary minus token, which is convenient for an informal tokenization. Best I can tell, the Python example does fail to handle case where a `-` follows an open paren, or comes at the beginning of the input. Those should be considered unary as well.\r\n\r\nIn order for unary minus to be handled correctly in the shunting-yard algorithm itself, it needs to have higher precedence than any of the infix operators, and it needs to marked as right-associative. (Make sure you handle right-associativity. You may have left it out since the rest of your operators are left-associative.) This is clear enough in the Python code (although I would use some kind of struct rather than two separate maps).\r\n\r\nWhen it comes time to evaluate, you will need to handle unary operators a little differently, since you only need to pop one number off the stack, rather than two. Depending on what your implementation looks like, it may be easier to just go through the list and replace every occurrence of `&quot;-u&quot;` with `[-1, &quot;*&quot;]`.\r\n\r\nIf you can follow Python at all, you should be able to see everything I&#39;m talking about in the example I linked to. I find the code to be a bit easier to read than the C version that someone else mentioned. Also, if you&#39;re curious, I did a little write-up a while back about using shunting-yard [in Ruby][2], but I handled unary operators as a separate nonterminal, so they are not shown.\r\n\r\n  [1]: http://en.literateprograms.org/Shunting_yard_algorithm_%28Python%29#Operators\r\n  [2]: http://austintaylor.org/blog/2010/07/25/treetop-operator-precedence/\r\n","title":"Problems with a shunting yard algorithm","body":"<p>It sounds like you're doing a lex-then-parse style parser, where you're going to need a simple state machine in the lexer in order to get separate tokens for unary and binary minus. (In a PEG parser, this isn't something you have to worry about.)</p>\n\n<p>In JavaCC, you would have a <code>DEFAULT</code> state, where you would consider the <code>-</code> character to be <code>UNARY_MINUS</code>. When you tokenized the end of a primary expression (either a closing paren, or an integer, based on the examples you gave), then you would switch to the <code>INFIX</code> state where <code>-</code> would be considered to be <code>INFIX_MINUS</code>. Once you encountered any infix operator, you would return to the <code>DEFAULT</code> state.</p>\n\n<p>If you're rolling your own, it might be a bit simpler than that. Look at this <a href=\"http://en.literateprograms.org/Shunting_yard_algorithm_%28Python%29#Operators\" rel=\"noreferrer\">Python code</a> for a clever way of doing it. Basically, when you encounter a <code>-</code>, you just check to see if the previous token was an infix operator. That example uses the string <code>\"-u\"</code> to represent the unary minus token, which is convenient for an informal tokenization. Best I can tell, the Python example does fail to handle case where a <code>-</code> follows an open paren, or comes at the beginning of the input. Those should be considered unary as well.</p>\n\n<p>In order for unary minus to be handled correctly in the shunting-yard algorithm itself, it needs to have higher precedence than any of the infix operators, and it needs to marked as right-associative. (Make sure you handle right-associativity. You may have left it out since the rest of your operators are left-associative.) This is clear enough in the Python code (although I would use some kind of struct rather than two separate maps).</p>\n\n<p>When it comes time to evaluate, you will need to handle unary operators a little differently, since you only need to pop one number off the stack, rather than two. Depending on what your implementation looks like, it may be easier to just go through the list and replace every occurrence of <code>\"-u\"</code> with <code>[-1, \"*\"]</code>.</p>\n\n<p>If you can follow Python at all, you should be able to see everything I'm talking about in the example I linked to. I find the code to be a bit easier to read than the C version that someone else mentioned. Also, if you're curious, I did a little write-up a while back about using shunting-yard <a href=\"http://austintaylor.org/blog/2010/07/25/treetop-operator-precedence/\" rel=\"noreferrer\">in Ruby</a>, but I handled unary operators as a separate nonterminal, so they are not shown.</p>\n"},{"tags":[],"owner":{"account_id":1385398,"reputation":4788,"user_id":1317564,"accept_rate":100,"display_name":"Learn OpenGL ES"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349297696,"creation_date":1349296197,"answer_id":12716401,"question_id":5239715,"body_markdown":"In your lexer, you can implement this pseudo-logic:\r\n\r\n    if (symbol == &#39;-&#39;) {\r\n        if (previousToken is a number \r\n         OR previousToken is an identifier \r\n         OR previousToken is a function) {\r\n            currentToken = SUBTRACT;\r\n        } else {\r\n            currentToken = NEGATION;\r\n        }\r\n    }\r\n\r\nYou can set up negation to have a precedence higher than multiply and divide, but lower than exponentiation. You can also set it up to be right associative (just like &#39;^&#39;).\r\nThen you just need to integrate the precedence and associativity into the algorithm as described on Wikipedia&#39;s page.\r\n\r\n&gt; If the token is an operator, o1, then: while there is an operator\r\n&gt; token, o2, at the top of the stack, and either o1 is left-associative\r\n&gt; and its precedence is less than or equal to that of o2, or o1 has\r\n&gt; precedence less than that of o2, pop o2 off the stack, onto the output\r\n&gt; queue; push o1 onto the stack.\r\n\r\nI ended up implementing this corresponding code:\r\n\r\n    } else if (nextToken instanceof Operator) {\r\n        final Operator o1 = (Operator) nextToken;\r\n        \r\n        while (!stack.isEmpty() &amp;&amp; stack.peek() instanceof Operator) {\r\n            final Operator o2 = (Operator) stack.peek();\r\n\r\n            if ((o1.associativity == Associativity.LEFT &amp;&amp; o1.precedence &lt;= o2.precedence)\r\n             || (o1.associativity == Associativity.RIGHT &amp;&amp; o1.precedence &lt; o2.precedence)) {\r\n                popStackTopToOutput();\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n\r\n        stack.push(nextToken);\r\n    }\r\n\r\nAustin Taylor is quite right that you only need to pop off one number for a unary operator:\r\n\r\n    if (token is operator negate) {\r\n        operand = pop;\r\n        push operand * -1;\r\n    }\r\n\r\nExample project:\r\n\r\nhttps://github.com/Digipom/Calculator-for-Android/\r\n\r\nFurther reading: \r\n\r\nhttp://en.wikipedia.org/wiki/Shunting-yard_algorithm\r\n\r\nhttp://sankuru.biz/blog/1-parsing-object-oriented-expressions-with-dijkstras-shunting-yard-algorithm","title":"Problems with a shunting yard algorithm","body":"<p>In your lexer, you can implement this pseudo-logic:</p>\n\n<pre><code>if (symbol == '-') {\n    if (previousToken is a number \n     OR previousToken is an identifier \n     OR previousToken is a function) {\n        currentToken = SUBTRACT;\n    } else {\n        currentToken = NEGATION;\n    }\n}\n</code></pre>\n\n<p>You can set up negation to have a precedence higher than multiply and divide, but lower than exponentiation. You can also set it up to be right associative (just like '^').\nThen you just need to integrate the precedence and associativity into the algorithm as described on Wikipedia's page.</p>\n\n<blockquote>\n  <p>If the token is an operator, o1, then: while there is an operator\n  token, o2, at the top of the stack, and either o1 is left-associative\n  and its precedence is less than or equal to that of o2, or o1 has\n  precedence less than that of o2, pop o2 off the stack, onto the output\n  queue; push o1 onto the stack.</p>\n</blockquote>\n\n<p>I ended up implementing this corresponding code:</p>\n\n<pre><code>} else if (nextToken instanceof Operator) {\n    final Operator o1 = (Operator) nextToken;\n\n    while (!stack.isEmpty() &amp;&amp; stack.peek() instanceof Operator) {\n        final Operator o2 = (Operator) stack.peek();\n\n        if ((o1.associativity == Associativity.LEFT &amp;&amp; o1.precedence &lt;= o2.precedence)\n         || (o1.associativity == Associativity.RIGHT &amp;&amp; o1.precedence &lt; o2.precedence)) {\n            popStackTopToOutput();\n        } else {\n            break;\n        }\n    }\n\n    stack.push(nextToken);\n}\n</code></pre>\n\n<p>Austin Taylor is quite right that you only need to pop off one number for a unary operator:</p>\n\n<pre><code>if (token is operator negate) {\n    operand = pop;\n    push operand * -1;\n}\n</code></pre>\n\n<p>Example project:</p>\n\n<p><a href=\"https://github.com/Digipom/Calculator-for-Android/\" rel=\"nofollow\">https://github.com/Digipom/Calculator-for-Android/</a></p>\n\n<p>Further reading: </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Shunting-yard_algorithm</a></p>\n\n<p><a href=\"http://sankuru.biz/blog/1-parsing-object-oriented-expressions-with-dijkstras-shunting-yard-algorithm\" rel=\"nofollow\">http://sankuru.biz/blog/1-parsing-object-oriented-expressions-with-dijkstras-shunting-yard-algorithm</a></p>\n"},{"tags":[],"owner":{"account_id":2195447,"reputation":931,"user_id":1941253,"accept_rate":54,"display_name":"Yasmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384114958,"creation_date":1384114958,"answer_id":19894709,"question_id":5239715,"body_markdown":"I know it&#39;s an old post, but may be someone will find it useful .\r\nI implemented this algorithm before, starting by toknizer using StreamTokenizer class\r\nand it works fine. In StreamTokenizer in Java, there are some character with specific meaning. For example: ( is an operator, sin is a word,...\r\nFor your question, There is a method called &quot;streamToknizer.ordinaryChar(..)&quot; which it specifies that the character argument is &quot;ordinary&quot; in this tokenizer. It removes any special significance the character has as a comment character, word component, string delimiter, white space, or number character. Source [here][1]\r\n\r\nSo you can define - as ordinary character which means, it won&#39;t be considered as a sign for number.For example, if you have expression 2-3 , You will have [2,-,3], but if you didn&#39;t specify it as ordinary, so it will be [2,-3]\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java/io/streamtokenizer_ordinarychar.htm","title":"Problems with a shunting yard algorithm","body":"<p>I know it's an old post, but may be someone will find it useful .\nI implemented this algorithm before, starting by toknizer using StreamTokenizer class\nand it works fine. In StreamTokenizer in Java, there are some character with specific meaning. For example: ( is an operator, sin is a word,...\nFor your question, There is a method called \"streamToknizer.ordinaryChar(..)\" which it specifies that the character argument is \"ordinary\" in this tokenizer. It removes any special significance the character has as a comment character, word component, string delimiter, white space, or number character. Source <a href=\"http://www.tutorialspoint.com/java/io/streamtokenizer_ordinarychar.htm\" rel=\"nofollow\">here</a></p>\n\n<p>So you can define - as ordinary character which means, it won't be considered as a sign for number.For example, if you have expression 2-3 , You will have [2,-,3], but if you didn't specify it as ordinary, so it will be [2,-3]</p>\n"},{"tags":[],"owner":{"account_id":2005447,"reputation":3070,"user_id":1795483,"accept_rate":73,"display_name":"David Ljung Madison Stellar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642186632,"creation_date":1641955738,"answer_id":70675749,"question_id":5239715,"body_markdown":"This isn&#39;t in Java, but here is a library I wrote to specifically solve this problem after searching and not finding any clear answers. \r\n This does all you want and more:\r\n\r\nhttps://marginalhacks.com/Hacks/libExpr.rb/\r\n\r\nIt is a ruby library (as well as a testbench to check it) that runs a modified shunting yard algorithm that also supports unary (&#39;-a&#39;) and ternary (&#39;a?b:c&#39;) ops.  It also does RPN, Prefix and AST (abstract syntax trees) - your choice, and can evaluate the expression, including the ability to yield to a block (a lambda of sorts) that can handle any variable evaluation.  Only AST does the full set of operations, including the ability to handle short-circuit operations (such as &#39;||&#39; and &#39;?:&#39; and so on), but RPN *does* support unary.  It also has a flexible precedence model that includes presets for precedence as done by C expressions or by Ruby expressions (not the same).  The testbench itself is interesting as it can create random expressions which it can then eval() and also run through libExpr to compare results.\r\n\r\nIt&#39;s fairly documented/commented, so it shouldn&#39;t be too hard to convert the ideas to Java or some other language.\r\n\r\nThe basic idea as far as unary operators is that you can recognize them based on the previous token. If the previous token is either an operator or a left-paren, then the &quot;unary-possible&quot; operators (+ and -) are just unary and can be pushed with only one operand.  It&#39;s important that your RPN stack distinguishes between the unary operator and the binary operator so it knows what to do on evaluation.\r\n\r\n","title":"Problems with a shunting yard algorithm","body":"<p>This isn't in Java, but here is a library I wrote to specifically solve this problem after searching and not finding any clear answers.\nThis does all you want and more:</p>\n<p><a href=\"https://marginalhacks.com/Hacks/libExpr.rb/\" rel=\"nofollow noreferrer\">https://marginalhacks.com/Hacks/libExpr.rb/</a></p>\n<p>It is a ruby library (as well as a testbench to check it) that runs a modified shunting yard algorithm that also supports unary ('-a') and ternary ('a?b:c') ops.  It also does RPN, Prefix and AST (abstract syntax trees) - your choice, and can evaluate the expression, including the ability to yield to a block (a lambda of sorts) that can handle any variable evaluation.  Only AST does the full set of operations, including the ability to handle short-circuit operations (such as '||' and '?:' and so on), but RPN <em>does</em> support unary.  It also has a flexible precedence model that includes presets for precedence as done by C expressions or by Ruby expressions (not the same).  The testbench itself is interesting as it can create random expressions which it can then eval() and also run through libExpr to compare results.</p>\n<p>It's fairly documented/commented, so it shouldn't be too hard to convert the ideas to Java or some other language.</p>\n<p>The basic idea as far as unary operators is that you can recognize them based on the previous token. If the previous token is either an operator or a left-paren, then the &quot;unary-possible&quot; operators (+ and -) are just unary and can be pushed with only one operand.  It's important that your RPN stack distinguishes between the unary operator and the binary operator so it knows what to do on evaluation.</p>\n"}],"owner":{"account_id":231757,"reputation":310,"user_id":496150,"accept_rate":56,"display_name":"The Dude"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8562,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1642186632,"creation_date":1299627672,"question_id":5239715,"body_markdown":"I have successfully implemented a shunting yard algorithm in java. The algorithm itself was simple however I am having trouble with the tokenizer. Currently the algorithm works with everything I want excluding one thing. How can I tell the difference between subtraction(-) and negative (-)\r\n\r\nsuch as 4-3 is subtraction\r\nbut -4+3 is negative \r\n\r\nI now know how to find out when it should be a negative and when it should be a minus, but where in the algorithm should it be placed because if you use it like a function it wont always work for example\r\n\r\n3 + 4 * 2 / -( 1 − 5 ) ^ 2 ^ 3\r\n\r\nwhen 1-5 becomes -4 it will become 4 before it gets squared and cubed\r\n\r\njust like\r\n3 + 4 * 2 / cos( 1 − 5 ) ^ 2 ^ 3 , you would take the cosine before squaring and cubing\r\n\r\nbut in real math you wouldn’t with a - because what your really saying is\r\n3 + 4 * 2 / -(( 1 − 5 ) ^ 2 ^ 3)   in order to have the right value\r\n","title":"Problems with a shunting yard algorithm","body":"<p>I have successfully implemented a shunting yard algorithm in java. The algorithm itself was simple however I am having trouble with the tokenizer. Currently the algorithm works with everything I want excluding one thing. How can I tell the difference between subtraction(-) and negative (-)</p>\n\n<p>such as 4-3 is subtraction\nbut -4+3 is negative </p>\n\n<p>I now know how to find out when it should be a negative and when it should be a minus, but where in the algorithm should it be placed because if you use it like a function it wont always work for example</p>\n\n<p>3 + 4 * 2 / -( 1 − 5 ) ^ 2 ^ 3</p>\n\n<p>when 1-5 becomes -4 it will become 4 before it gets squared and cubed</p>\n\n<p>just like\n3 + 4 * 2 / cos( 1 − 5 ) ^ 2 ^ 3 , you would take the cosine before squaring and cubing</p>\n\n<p>but in real math you wouldn’t with a - because what your really saying is\n3 + 4 * 2 / -(( 1 − 5 ) ^ 2 ^ 3)   in order to have the right value</p>\n"},{"tags":["java","android","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":5171841,"reputation":111,"user_id":4140086,"display_name":"Rohail Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420039668,"creation_date":1420039668,"answer_id":27723059,"question_id":27723002,"body_markdown":"are you perhaps talking about settings the hint text ?\r\n\r\n    editText.setHint(&quot;Enter Text Here&quot;); \r\nin XML\r\n    \r\n    android:hint=&quot;Enter Text Here&quot;\r\n\r\nIf this is not what you are looking for then please alaborate the problem a bit more\r\n","title":"How to insert a text in EditText?","body":"<p>are you perhaps talking about settings the hint text ?</p>\n\n<pre><code>editText.setHint(\"Enter Text Here\"); \n</code></pre>\n\n<p>in XML</p>\n\n<pre><code>android:hint=\"Enter Text Here\"\n</code></pre>\n\n<p>If this is not what you are looking for then please alaborate the problem a bit more</p>\n"},{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420039968,"creation_date":1420039968,"answer_id":27723123,"question_id":27723002,"body_markdown":"Add *\\n* before the text you want to add...\r\n\r\nvar.setText(var.getText() + &quot;\\nnewtext&quot;);\r\n","title":"How to insert a text in EditText?","body":"<p>Add <em>\\n</em> before the text you want to add...</p>\n\n<p>var.setText(var.getText() + \"\\nnewtext\");</p>\n"},{"tags":[],"owner":{"account_id":5531907,"reputation":673,"user_id":4391652,"display_name":"gsanskar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1420041448,"creation_date":1420041448,"answer_id":27723392,"question_id":27723002,"body_markdown":"Its very easy to do this :\r\n\r\n    int start =editText.getSelectionStart(); //Get cursor position with this function\r\n    String str = &quot;my text&quot;;//String you want to insert\r\n    editText.getText().insert(start, str); //This will get the text and insert the String str at the current position.\r\n\r\nHope this Helps!","title":"How to insert a text in EditText?","body":"<p>Its very easy to do this :</p>\n\n<pre><code>int start =editText.getSelectionStart(); //Get cursor position with this function\nString str = \"my text\";//String you want to insert\neditText.getText().insert(start, str); //This will get the text and insert the String str at the current position.\n</code></pre>\n\n<p>Hope this Helps!</p>\n"}],"owner":{"account_id":5553013,"reputation":100,"user_id":4405457,"display_name":"massivemadness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27723392,"answer_count":3,"score":1,"last_activity_date":1642186611,"creation_date":1420039325,"question_id":27723002,"body_markdown":"How to insert a text in `EditText` at the cursor position? `editText.setText` erases the current text and sets the new one, which is not what I want. `editText.setText(editText.getText() + &quot;my text&quot;);` inserts the text at the end, that&#39;s also not the case.","title":"How to insert a text in EditText?","body":"<p>How to insert a text in <code>EditText</code> at the cursor position? <code>editText.setText</code> erases the current text and sets the new one, which is not what I want. <code>editText.setText(editText.getText() + &quot;my text&quot;);</code> inserts the text at the end, that's also not the case.</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin14","vaadin22"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1641760303,"post_id":70644551,"comment_id":124884736,"body_markdown":"You could remove and then add the components in beforeEnter.","body":"You could remove and then add the components in beforeEnter."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1641852077,"post_id":70644551,"comment_id":124911172,"body_markdown":"Right now I have a flag isRendered which skips that part of the code but to me that&#39;s a pretty hacky solution that I&#39;d like to avoid if possible.","body":"Right now I have a flag isRendered which skips that part of the code but to me that&#39;s a pretty hacky solution that I&#39;d like to avoid if possible."}],"answers":[{"tags":[],"owner":{"account_id":4356937,"reputation":418,"user_id":3555230,"display_name":"gruntled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642101240,"creation_date":1642101240,"answer_id":70701895,"question_id":70644551,"body_markdown":"If you are using Spring with Vaadin, you can annotate the class with \r\n```\r\n@Component\r\n@Scope(&quot;prototype&quot;)\r\n```\r\n\r\n","title":"How do I force the view class to reload in Vaadin Flow when navigating to the same view","body":"<p>If you are using Spring with Vaadin, you can annotate the class with</p>\n<pre><code>@Component\n@Scope(&quot;prototype&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22446224,"reputation":76,"user_id":16650110,"display_name":"Mikhail Shabarov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642186524,"creation_date":1642186524,"answer_id":70715315,"question_id":70644551,"body_markdown":"Please try the code below. It removes the view (navigation target) instance from UI and then calls page reload on the client side. Then, after page reload, the next request to server will force creating a new instance of the view.\r\n\r\n```java\r\n@Route(value=&quot;test&quot;)\r\npublic class TestView extends VerticalLayout implements BeforeEnterObserver {\r\n\r\n    private final String uuid;\r\n\r\n    public TestView() {\r\n        super();\r\n        // do some stuff.\r\n        System.out.println(&quot;CTOR called&quot;);\r\n        uuid = UUID.randomUUID().toString();\r\n\r\n        final Element view = getElement();\r\n        Button button = new Button(&quot;Test&quot;, click -&gt; {\r\n                    getUI().ifPresent(ui -&gt; ui.getPage().setLocation(&quot;test&quot;));\r\n                    view.removeFromParent();\r\n                });\r\n        add(button);\r\n    }\r\n\r\n    @Override\r\n    public void beforeEnter(BeforeEnterEvent event) {\r\n        // do some other stuff.\r\n        System.out.println(&quot;Before enter&quot;);\r\n        System.out.println(&quot;UUID = &quot; + uuid);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nCTOR called\r\nBefore enter\r\nUUID = 74306acc-3771-4998-aa46-19834ca9e033\r\nCTOR called\r\nBefore enter\r\nUUID = dbc1be2a-1bee-4da7-b676-187208621569\r\n```\r\nHope this is something you wanted to reach.","title":"How do I force the view class to reload in Vaadin Flow when navigating to the same view","body":"<p>Please try the code below. It removes the view (navigation target) instance from UI and then calls page reload on the client side. Then, after page reload, the next request to server will force creating a new instance of the view.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Route(value=&quot;test&quot;)\npublic class TestView extends VerticalLayout implements BeforeEnterObserver {\n\n    private final String uuid;\n\n    public TestView() {\n        super();\n        // do some stuff.\n        System.out.println(&quot;CTOR called&quot;);\n        uuid = UUID.randomUUID().toString();\n\n        final Element view = getElement();\n        Button button = new Button(&quot;Test&quot;, click -&gt; {\n                    getUI().ifPresent(ui -&gt; ui.getPage().setLocation(&quot;test&quot;));\n                    view.removeFromParent();\n                });\n        add(button);\n    }\n\n    @Override\n    public void beforeEnter(BeforeEnterEvent event) {\n        // do some other stuff.\n        System.out.println(&quot;Before enter&quot;);\n        System.out.println(&quot;UUID = &quot; + uuid);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>CTOR called\nBefore enter\nUUID = 74306acc-3771-4998-aa46-19834ca9e033\nCTOR called\nBefore enter\nUUID = dbc1be2a-1bee-4da7-b676-187208621569\n</code></pre>\n<p>Hope this is something you wanted to reach.</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642186524,"creation_date":1641754919,"question_id":70644551,"body_markdown":"Assuming my view is: \r\n\r\n    @Route(value=&quot;test&quot;)\r\n    public class TestView extends VerticalLayout implements BeforeEnterObserver {\r\n    \tpublic TestView() {\r\n    \t\tsuper();\r\n    \t\t// do some stuff.\r\n    \t\tnew Button(&quot;Test&quot;, click -&gt; getUI().ifPresent(ui -&gt; ui.navigate(&quot;test&quot;)));\r\n    \t}\r\n    \t\r\n        @Override\r\n        public void beforeEnter(BeforeEnterEvent event) {\r\n    \t\t// do some other stuff.\r\n    \t}\r\n    }\r\n\r\nIf I click on the Test button above then the constructor is not instantiated however the `beforeEnter()` method is called. In my case I would much prefer to instantiate the whole view class because the `beforeEnter()` method includes some logic and setup code that the view needs that if called twice can mess up the components. Specially the `beforeEnter()` does some checks and depending on the details may call different component rendering paths.\r\n\r\n","title":"How do I force the view class to reload in Vaadin Flow when navigating to the same view","body":"<p>Assuming my view is:</p>\n<pre><code>@Route(value=&quot;test&quot;)\npublic class TestView extends VerticalLayout implements BeforeEnterObserver {\n    public TestView() {\n        super();\n        // do some stuff.\n        new Button(&quot;Test&quot;, click -&gt; getUI().ifPresent(ui -&gt; ui.navigate(&quot;test&quot;)));\n    }\n    \n    @Override\n    public void beforeEnter(BeforeEnterEvent event) {\n        // do some other stuff.\n    }\n}\n</code></pre>\n<p>If I click on the Test button above then the constructor is not instantiated however the <code>beforeEnter()</code> method is called. In my case I would much prefer to instantiate the whole view class because the <code>beforeEnter()</code> method includes some logic and setup code that the view needs that if called twice can mess up the components. Specially the <code>beforeEnter()</code> does some checks and depending on the details may call different component rendering paths.</p>\n"},{"tags":["java","selenium","web","intellij-idea","copy"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642177814,"creation_date":1642177814,"answer_id":70713686,"question_id":70713408,"body_markdown":"I am not sure what `Navegador` does and it really does not matter. The key here are the Selenium methods you are invoking. For example, to *write* to a web element, `sendKeys()` is appropriate. But, based on the description of your post, you need to *read* from the page and not write to it. One way to obtain the text from a page is\r\n\r\n    WebElement myElement = driver.findElement(By.xpath(&quot;...&quot;)); // Provide the XPath expression for the element containing the text you need.\r\n    String myText = myElement.getText();  // Saves the obtained text into a String object\r\n\r\nOutside of this, I am not sure what else you need. Again, based on the limited information here, this seems all you need.","title":"How to select and copy info from webpage using Selenium and send to IntelliJ console","body":"<p>I am not sure what <code>Navegador</code> does and it really does not matter. The key here are the Selenium methods you are invoking. For example, to <em>write</em> to a web element, <code>sendKeys()</code> is appropriate. But, based on the description of your post, you need to <em>read</em> from the page and not write to it. One way to obtain the text from a page is</p>\n<pre><code>WebElement myElement = driver.findElement(By.xpath(&quot;...&quot;)); // Provide the XPath expression for the element containing the text you need.\nString myText = myElement.getText();  // Saves the obtained text into a String object\n</code></pre>\n<p>Outside of this, I am not sure what else you need. Again, based on the limited information here, this seems all you need.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642185741,"creation_date":1642179477,"answer_id":70714046,"question_id":70713408,"body_markdown":"To select and copy any info from any webpage using [Selenium](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491) and send it to the IntelliJ console you can use the following solution:\r\n\r\n\t//required imports\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n\timport java.awt.HeadlessException;\r\n\timport java.awt.Toolkit;\r\n\timport java.awt.datatransfer.DataFlavor;\r\n\timport java.awt.datatransfer.UnsupportedFlavorException;\r\n\timport java.io.IOException;\r\n\r\n\t// simulating CONTROL + A\r\n\tdriver.findElement(By.foo(&quot;bar&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;a&quot;));\r\n\t// simulating CONTROL + C\r\n\tdriver.findElement(By.foo(&quot;bar&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;c&quot;));\r\n\t// extracting the text from the clipboard\r\n\tString myText = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor); \r\n\t// printing the text\r\n    System.out.println(myText)","title":"How to select and copy info from webpage using Selenium and send to IntelliJ console","body":"<p>To select and copy any info from any webpage using <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> and send it to the IntelliJ console you can use the following solution:</p>\n<pre><code>//required imports\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport java.awt.HeadlessException;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.io.IOException;\n\n// simulating CONTROL + A\ndriver.findElement(By.foo(&quot;bar&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;a&quot;));\n// simulating CONTROL + C\ndriver.findElement(By.foo(&quot;bar&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;c&quot;));\n// extracting the text from the clipboard\nString myText = (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor); \n// printing the text\nSystem.out.println(myText)\n</code></pre>\n"}],"owner":{"account_id":23941574,"reputation":11,"user_id":17934597,"display_name":"Victor Roberto Skroch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642185741,"creation_date":1642176513,"question_id":70713408,"body_markdown":"How do I select/copy info from web with Selenium and copy into IntelliJ to String? I&#39;m using IntelliJ in Java. I am trying to use:\r\n```\r\nNavegador.getInstance().instanciaNavegador().findElement(By.xpath(&quot;//div[@id=&#39;cpf&#39;]/span[2]&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;v&quot;));\r\n```","title":"How to select and copy info from webpage using Selenium and send to IntelliJ console","body":"<p>How do I select/copy info from web with Selenium and copy into IntelliJ to String? I'm using IntelliJ in Java. I am trying to use:</p>\n<pre><code>Navegador.getInstance().instanciaNavegador().findElement(By.xpath(&quot;//div[@id='cpf']/span[2]&quot;)).sendKeys(Keys.chord(Keys.CONTROL, &quot;v&quot;));\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-juno"],"comments":[{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":1,"creation_date":1398864024,"post_id":23389221,"comment_id":35831732,"body_markdown":"Is `Project -&gt; Build Automatically` ticked? And did you save the relevant file before debugging?","body":"Is <code>Project -&gt; Build Automatically</code> ticked? And did you save the relevant file before debugging?"},{"owner":{"account_id":326464,"reputation":1250,"user_id":648244,"accept_rate":74,"display_name":"user648244"},"score":0,"creation_date":1398864798,"post_id":23389221,"comment_id":35832311,"body_markdown":"Hi, the project is saved. Im new to Eclipse, is there a tickbox to trigger the build automatically when i save it? Or do i need to go Project &gt;&gt; Build Automatically","body":"Hi, the project is saved. Im new to Eclipse, is there a tickbox to trigger the build automatically when i save it? Or do i need to go Project &gt;&gt; Build Automatically"},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1398864924,"post_id":23389221,"comment_id":35832406,"body_markdown":"When you click Project in the title bar you should see a tick left of `Build Automatically`, if not click it one time.","body":"When you click Project in the title bar you should see a tick left of <code>Build Automatically</code>, if not click it one time."},{"owner":{"account_id":326464,"reputation":1250,"user_id":648244,"accept_rate":74,"display_name":"user648244"},"score":0,"creation_date":1398866448,"post_id":23389221,"comment_id":35833521,"body_markdown":"that still does not work, seems like i still have to clean/install with maven ..","body":"that still does not work, seems like i still have to clean/install with maven .."},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1398866661,"post_id":23389221,"comment_id":35833683,"body_markdown":"That&#39;s odd. What Kind of Project is it? Are there any error (in `Problems` section)? Can you provide a screenshot of your eclipse?","body":"That&#39;s odd. What Kind of Project is it? Are there any error (in <code>Problems</code> section)? Can you provide a screenshot of your eclipse?"},{"owner":{"account_id":326464,"reputation":1250,"user_id":648244,"accept_rate":74,"display_name":"user648244"},"score":0,"creation_date":1398867729,"post_id":23389221,"comment_id":35834374,"body_markdown":"Just a basic java application. It seems that eclipse packages the module as a jar and then during debug/compilation runs the code from jar. Is there a way to avoid this? or an automated process? similar to Intellj","body":"Just a basic java application. It seems that eclipse packages the module as a jar and then during debug/compilation runs the code from jar. Is there a way to avoid this? or an automated process? similar to Intellj"},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1398868092,"post_id":23389221,"comment_id":35834623,"body_markdown":"No, it doesn&#39;t. It builds all classes to `target/` directory and runs them from there. Is your project a dependency used by a different project?","body":"No, it doesn&#39;t. It builds all classes to <code>target&#47;</code> directory and runs them from there. Is your project a dependency used by a different project?"},{"owner":{"account_id":19516253,"reputation":173,"user_id":14279052,"display_name":"akash patel"},"score":0,"creation_date":1603805239,"post_id":23389221,"comment_id":114148103,"body_markdown":"@user648244 how it worked for you?","body":"@user648244 how it worked for you?"}],"answers":[{"tags":[],"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1398918705,"creation_date":1398918705,"answer_id":23402030,"question_id":23389221,"body_markdown":"Click `Project &gt; Build Automatically` once and make sure that tick mark is appeared in front of `Build Automatically` option.\r\n\r\nAlso you have to enable hot code replace options. Click `Windows &gt; Preferences`. Go to `Java &gt; Debug`  select all options in **Hot Code Replace** group","title":"Eclipse IDE debugging - code not reflects new changes","body":"<p>Click <code>Project &gt; Build Automatically</code> once and make sure that tick mark is appeared in front of <code>Build Automatically</code> option.</p>\n\n<p>Also you have to enable hot code replace options. Click <code>Windows &gt; Preferences</code>. Go to <code>Java &gt; Debug</code>  select all options in <strong>Hot Code Replace</strong> group</p>\n"},{"tags":[],"owner":{"account_id":4009584,"reputation":21,"user_id":3303387,"display_name":"pmk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464111564,"creation_date":1464111564,"answer_id":37420363,"question_id":23389221,"body_markdown":"I had the same problem and these steps fixed it:\r\n\r\n- Run -&gt; Run configurations \r\n- Select the one giving the problem \r\n- Go to the Source tab \r\n- Make sure your project is the first entry there\r\n- Mine had just the Default set there so I had to do this:\r\n Add -&gt; Java Project -&gt; Select your Project and add it\r\n\r\n\r\n","title":"Eclipse IDE debugging - code not reflects new changes","body":"<p>I had the same problem and these steps fixed it:</p>\n\n<ul>\n<li>Run -> Run configurations </li>\n<li>Select the one giving the problem </li>\n<li>Go to the Source tab </li>\n<li>Make sure your project is the first entry there</li>\n<li>Mine had just the Default set there so I had to do this:\nAdd -> Java Project -> Select your Project and add it</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15476638,"reputation":86,"user_id":11165127,"display_name":"Hc."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642185368,"creation_date":1629029156,"answer_id":68791369,"question_id":23389221,"body_markdown":"I had the same problem, the reason was a wrong configuration of the javabuilder in the *.project* managed by Eclipse. I opened it and rewrote the `buildspec` section so that either Maven or jdt.core can compile. Once done, relaunch Eclipse and if the *Project &gt; Build Automatically* option is enabled, any change should now be reflected:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;projectDescription&gt;\r\n\t  &lt;name&gt;ProjectName&lt;/name&gt;\r\n\t  &lt;comment&gt;My beautiful project&lt;/comment&gt;\r\n\t  &lt;projects&gt;\r\n\t  &lt;/projects&gt;\r\n\t  &lt;buildSpec&gt;\r\n\t    &lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t  &lt;/buildSpec&gt;\r\n\t  &lt;natures&gt;\r\n\t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t  &lt;/natures&gt;\r\n     &lt;/projectDescription&gt;","title":"Eclipse IDE debugging - code not reflects new changes","body":"<p>I had the same problem, the reason was a wrong configuration of the javabuilder in the <em>.project</em> managed by Eclipse. I opened it and rewrote the <code>buildspec</code> section so that either Maven or jdt.core can compile. Once done, relaunch Eclipse and if the <em>Project &gt; Build Automatically</em> option is enabled, any change should now be reflected:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;projectDescription&gt;\n  &lt;name&gt;ProjectName&lt;/name&gt;\n  &lt;comment&gt;My beautiful project&lt;/comment&gt;\n  &lt;projects&gt;\n  &lt;/projects&gt;\n  &lt;buildSpec&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n  &lt;/buildSpec&gt;\n  &lt;natures&gt;\n    &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n    &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n  &lt;/natures&gt;\n &lt;/projectDescription&gt;\n</code></pre>\n"}],"owner":{"account_id":326464,"reputation":1250,"user_id":648244,"accept_rate":74,"display_name":"user648244"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11511,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":23402030,"answer_count":3,"score":5,"last_activity_date":1642185368,"creation_date":1398863932,"question_id":23389221,"body_markdown":"I&#39;m using Eclipse IDE (4.2). When I make a change in Eclipse and try to debug it, the previous version is compiled, but not the new one. To get around this, I do maven clean/build and then refresh the project. But this is very tedious and I need to do it every time I make any changes. Is there another way around this or a plugin that I can use to pick up these changes automatically?","title":"Eclipse IDE debugging - code not reflects new changes","body":"<p>I'm using Eclipse IDE (4.2). When I make a change in Eclipse and try to debug it, the previous version is compiled, but not the new one. To get around this, I do maven clean/build and then refresh the project. But this is very tedious and I need to do it every time I make any changes. Is there another way around this or a plugin that I can use to pick up these changes automatically?</p>\n"},{"tags":["java","javafx","audio","nullpointerexception","embedded-resource"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1642027016,"post_id":70689170,"comment_id":124966655,"body_markdown":"Note you don&#39;t need Java Sound imports when using JavaFX&#39;s media API. Also note you should maintain a strong reference to the `MediaPlayer`; if it&#39;s garbage collected the media will stop playing. As for the error, `getResource(String)` returns null if the resource could not be found using the specified path. Check out [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other) for some help with that.","body":"Note you don&#39;t need Java Sound imports when using JavaFX&#39;s media API. Also note you should maintain a strong reference to the <code>MediaPlayer</code>; if it&#39;s garbage collected the media will stop playing. As for the error, <code>getResource(String)</code> returns null if the resource could not be found using the specified path. Check out <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a> for some help with that."},{"owner":{"account_id":15062918,"reputation":69,"user_id":10871037,"display_name":"Patryk Kobyłka"},"score":0,"creation_date":1642027074,"post_id":70689170,"comment_id":124966673,"body_markdown":"thx for advices, i gonna do it right now!","body":"thx for advices, i gonna do it right now!"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1642042679,"post_id":70689170,"comment_id":124969256,"body_markdown":"As far as I can tell, `&quot;test2.mp3&quot;` should be `&quot;/sample/test2.mp3&quot;`.","body":"As far as I can tell, <code>&quot;test2.mp3&quot;</code> should be <code>&quot;&#47;sample&#47;test2.mp3&quot;</code>."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1642154123,"post_id":70689170,"comment_id":125000646,"body_markdown":"@AndrewThompson, I&#39;m thinking since the class Main is in the same folder as the audio file, the relative form may actually be correct, even if your form, with the audio file in the resources folder would be better. The method getClass() will be referring to the Main class and it&#39;s folder location, yes? This stuff can get confusing.","body":"@AndrewThompson, I&#39;m thinking since the class Main is in the same folder as the audio file, the relative form may actually be correct, even if your form, with the audio file in the resources folder would be better. The method getClass() will be referring to the Main class and it&#39;s folder location, yes? This stuff can get confusing."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1642154256,"post_id":70689170,"comment_id":125000709,"body_markdown":"@Slaw, I&#39;m curious why you didn&#39;t put this comment into an Answer area. It seems to me to be a valid answer, not a request for clarifying info as the Stackoverflow guidelines suggest for this area.","body":"@Slaw, I&#39;m curious why you didn&#39;t put this comment into an Answer area. It seems to me to be a valid answer, not a request for clarifying info as the Stackoverflow guidelines suggest for this area."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642160188,"post_id":70689170,"comment_id":125002739,"body_markdown":"@PhilFreihofner *&quot;This stuff can get confusing.&quot;* That&#39;s a large part of the reason I would never, ever, *ever* use anything but the explicit &#39;path from the root of the class path&#39;. Why guess or be confused?","body":"@PhilFreihofner <i>&quot;This stuff can get confusing.&quot;</i> That&#39;s a large part of the reason I would never, ever, <i>ever</i> use anything but the explicit &#39;path from the root of the class path&#39;. Why guess or be confused?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1642183413,"post_id":70689170,"comment_id":125011807,"body_markdown":"@PhilFreihofner Because the question is, in my opinion, a duplicate of the one I linked in my comment, but I didn&#39;t feel like using my gold badge to single-handedly make that decision. The other notes are auxiliary to the problem.","body":"@PhilFreihofner Because the question is, in my opinion, a duplicate of the one I linked in my comment, but I didn&#39;t feel like using my gold badge to single-handedly make that decision. The other notes are auxiliary to the problem."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1642195890,"post_id":70689170,"comment_id":125015652,"body_markdown":"@Slaw Thanks for the explanation. As I did not see the phrase &quot;duplicate question&quot; I didn&#39;t make that connection. You can indicate this and put it up for a vote without using your gold badge, yes?","body":"@Slaw Thanks for the explanation. As I did not see the phrase &quot;duplicate question&quot; I didn&#39;t make that connection. You can indicate this and put it up for a vote without using your gold badge, yes?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1642197448,"post_id":70689170,"comment_id":125016118,"body_markdown":"@PhilFreihofner No, I don&#39;t think I can avoid the gold badge (but maybe I&#39;m wrong). In any case, the answer posted by the OP seems to agree that their question is a duplicate and so I&#39;ve marked it as such.","body":"@PhilFreihofner No, I don&#39;t think I can avoid the gold badge (but maybe I&#39;m wrong). In any case, the answer posted by the OP seems to agree that their question is a duplicate and so I&#39;ve marked it as such."}],"answers":[{"tags":[],"owner":{"account_id":15062918,"reputation":69,"user_id":10871037,"display_name":"Patryk Kobyłka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642185329,"creation_date":1642185329,"answer_id":70715113,"question_id":70689170,"body_markdown":"As @Slaw wrote problem was with path to resource, there is more information in link belove,\r\n\r\nTHX Slaw!\r\n\r\n&quot;Note you don&#39;t need Java Sound imports when using JavaFX&#39;s media API. Also note you should maintain a strong reference to the MediaPlayer; if it&#39;s garbage collected the media will stop playing. As for the error, getResource(String) returns null if the resource could not be found using the specified path. Check out [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application][1]? for some help with that.&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other","title":"Trying play audio file with JavaFX","body":"<p>As @Slaw wrote problem was with path to resource, there is more information in link belove,</p>\n<p>THX Slaw!</p>\n<p>&quot;Note you don't need Java Sound imports when using JavaFX's media API. Also note you should maintain a strong reference to the MediaPlayer; if it's garbage collected the media will stop playing. As for the error, getResource(String) returns null if the resource could not be found using the specified path. Check out <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application</a>? for some help with that.&quot;</p>\n"}],"owner":{"account_id":15062918,"reputation":69,"user_id":10871037,"display_name":"Patryk Kobyłka"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1642197404,"answer_count":1,"score":2,"last_activity_date":1642185329,"creation_date":1642026263,"question_id":70689170,"body_markdown":"I&#39;m trying to play audio file in my JavaFX app, code look fine for me but I&#39;m getting errors\r\n\r\nI think that the problem is in line 28:\r\n\r\n&quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because &quot;resource&quot; is null\r\n\tat sample.Main.start(Main.java:28)&quot;\r\n\r\nwhy resource is null? in my file structure I got resource package, but it doesn&#39;t matter where audio file is, error is the same\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m new in coding, so I don&#39;t know how to exactly read these errors... if anyone could help, would be great\r\n\r\ncode and errors belove\r\n\r\n\r\n    package sample;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    import javafx.stage.Stage;\r\n    \r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.UnsupportedAudioFileException;\r\n    import java.io.IOException;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws UnsupportedAudioFileException, IOException, LineUnavailableException\r\n        {\r\n            String css = this.getClass().getResource(&quot;styles.css&quot;).toExternalForm();\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n            root.getStylesheets().add(css);\r\n            primaryStage.setTitle(&quot;Hello World&quot;);\r\n            primaryStage.setScene(new Scene(root, 300, 275));\r\n            primaryStage.show();\r\n    \r\n            final java.net.URL resource = getClass().getResource(&quot;test2.mp3&quot;);\r\n            final Media media = new Media(resource.toString());\r\n            final MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n            mediaPlayer.play();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nafter run this code I;m getting these errors\r\n\r\n```none\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because &quot;resource&quot; is null\r\n\tat sample.Main.start(Main.java:28)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nException running application sample.Main\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nthx for any help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rO9EF.png","title":"Trying play audio file with JavaFX","body":"<p>I'm trying to play audio file in my JavaFX app, code look fine for me but I'm getting errors</p>\n<p>I think that the problem is in line 28:</p>\n<p>&quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because &quot;resource&quot; is null\nat sample.Main.start(Main.java:28)&quot;</p>\n<p>why resource is null? in my file structure I got resource package, but it doesn't matter where audio file is, error is the same</p>\n<p><a href=\"https://i.stack.imgur.com/rO9EF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rO9EF.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm new in coding, so I don't know how to exactly read these errors... if anyone could help, would be great</p>\n<p>code and errors belove</p>\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\nimport java.io.IOException;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws UnsupportedAudioFileException, IOException, LineUnavailableException\n    {\n        String css = this.getClass().getResource(&quot;styles.css&quot;).toExternalForm();\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\n        root.getStylesheets().add(css);\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 300, 275));\n        primaryStage.show();\n\n        final java.net.URL resource = getClass().getResource(&quot;test2.mp3&quot;);\n        final Media media = new Media(resource.toString());\n        final MediaPlayer mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.play();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>after run this code I;m getting these errors</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toString()&quot; because &quot;resource&quot; is null\n    at sample.Main.start(Main.java:28)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nException running application sample.Main\n\nProcess finished with exit code 1\n</code></pre>\n<p>thx for any help!</p>\n"},{"tags":["java","eclipse","eclipse-plugin","plugin.xml"],"answers":[{"tags":[],"owner":{"account_id":419412,"reputation":12668,"user_id":796559,"accept_rate":75,"display_name":"Tonny Madsen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1312472465,"creation_date":1312472465,"answer_id":6944398,"question_id":6944051,"body_markdown":"That is not possible by design.\r\n\r\nThe idea is that the Eclipse core can load the `plugin.xml` files for all resolved plug-ins/bundles without loading/activating the plug-ins. Resolving your construct above would normally require Eclipse to resolve all references for the class - `MyNature` in this case - which can easily lead to the activation of many other dependent plug-ins. Not good.\r\n\r\nSo - by design - all data in `plugin.xml` must be self-contained. (With the possible exception of localized strings).","title":"Use a class field in the &#39;plugin.xml&#39; for an eclipse plugin","body":"<p>That is not possible by design.</p>\n\n<p>The idea is that the Eclipse core can load the <code>plugin.xml</code> files for all resolved plug-ins/bundles without loading/activating the plug-ins. Resolving your construct above would normally require Eclipse to resolve all references for the class - <code>MyNature</code> in this case - which can easily lead to the activation of many other dependent plug-ins. Not good.</p>\n\n<p>So - by design - all data in <code>plugin.xml</code> must be self-contained. (With the possible exception of localized strings).</p>\n"}],"owner":{"account_id":802541,"reputation":13,"user_id":878907,"display_name":"geoffroy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6944398,"answer_count":1,"score":1,"last_activity_date":1642185275,"creation_date":1312471194,"question_id":6944051,"body_markdown":"I am currently working on a little Eclipse plugin and I have to deal with the classic *&#39;plugin.xml&#39;* stuff, such as the creation of a nature:\r\n\r\n```xml\r\n&lt;extension\r\n    id=&quot;aplugin.natures.MyNature.NATURE_ID.id&quot;\r\n    name=&quot;Sample Project Nature&quot;\r\n    point=&quot;org.eclipse.core.resources.natures&quot;&gt;\r\n```\r\n\r\nNow in this particular example, I must, somewhere in my plugin code, give this *&#39;id&#39;* as a *String* to some Eclipse function. So I need to create a specific class like:\r\n\r\n```java\r\npackage aplugin.natures;\r\n\r\npublic class MyNature implements IProjectNature {\r\n    public static final String NATURE_ID = &quot;aplugin.natures.MyNature.NATURE_ID.id&quot;; //$NON-NLS-1$\r\n}\r\n```\r\n\r\nAnd **here comes my problem, I got some copy and paste of my *&#39;id&#39;***. I must admit that I am not very proud of it.\r\n\r\nSo my question is, does someone know a way to use the *&#39;NATURE_ID&#39;* field in the *&#39;MyNature&#39;* class directly in the *&#39;plugin.xml&#39;* file ?.\r\n\r\nIn the end I wish to write something like:\r\n\r\n```xml\r\n&lt;extension id=&quot;${aplugin.natures.MyNature.NATURE_ID}&quot; ... &gt;\r\n````\r\n\r\n","title":"Use a class field in the &#39;plugin.xml&#39; for an eclipse plugin","body":"<p>I am currently working on a little Eclipse plugin and I have to deal with the classic <em>'plugin.xml'</em> stuff, such as the creation of a nature:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;extension\n    id=&quot;aplugin.natures.MyNature.NATURE_ID.id&quot;\n    name=&quot;Sample Project Nature&quot;\n    point=&quot;org.eclipse.core.resources.natures&quot;&gt;\n</code></pre>\n<p>Now in this particular example, I must, somewhere in my plugin code, give this <em>'id'</em> as a <em>String</em> to some Eclipse function. So I need to create a specific class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package aplugin.natures;\n\npublic class MyNature implements IProjectNature {\n    public static final String NATURE_ID = &quot;aplugin.natures.MyNature.NATURE_ID.id&quot;; //$NON-NLS-1$\n}\n</code></pre>\n<p>And <strong>here comes my problem, I got some copy and paste of my <em>'id'</em></strong>. I must admit that I am not very proud of it.</p>\n<p>So my question is, does someone know a way to use the <em>'NATURE_ID'</em> field in the <em>'MyNature'</em> class directly in the <em>'plugin.xml'</em> file ?.</p>\n<p>In the end I wish to write something like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;extension id=&quot;${aplugin.natures.MyNature.NATURE_ID}&quot; ... &gt;\n</code></pre>\n"},{"tags":["java","postgresql","precision","jdbctemplate"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1642073620,"post_id":70695200,"comment_id":124977600,"body_markdown":"If it is a float, you use `getFloat()`, I dont undertand what you need exactly.  Perhaps show code, where your problem in the code.","body":"If it is a float, you use <code>getFloat()</code>, I dont undertand what you need exactly.  Perhaps show code, where your problem in the code."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1642074082,"post_id":70695200,"comment_id":124977785,"body_markdown":"Why are you storing numbers in a `text` column? That is a really bad idea to begin with. Additionally: `float` (and `double precision`)  are **approximate** data types. What you store is not necessarily the same that you get back. If you need accurate numbers, use `numeric`","body":"Why are you storing numbers in a <code>text</code> column? That is a really bad idea to begin with. Additionally: <code>float</code> (and <code>double precision</code>)  are <b>approximate</b> data types. What you store is not necessarily the same that you get back. If you need accurate numbers, use <code>numeric</code>"},{"owner":{"account_id":17043042,"reputation":41,"user_id":12330442,"display_name":"Daniel"},"score":0,"creation_date":1642150904,"post_id":70695200,"comment_id":124999631,"body_markdown":"It is too big project for me to handle every query and implement getFloat() everywhere it is needed.\nI am not storing numbers in text type columns. To be more specific. When I call the procedure which returns table with text type columns in pgAdmin I get exact values. As I wrote above, for example 23.9. Unfortunately from java it returns 23.899995.","body":"It is too big project for me to handle every query and implement getFloat() everywhere it is needed. I am not storing numbers in text type columns. To be more specific. When I call the procedure which returns table with text type columns in pgAdmin I get exact values. As I wrote above, for example 23.9. Unfortunately from java it returns 23.899995."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1642154637,"post_id":70695200,"comment_id":125000852,"body_markdown":"Well, `float` (and `double precision`)  is a _approximate_ data type (see https://floating-point-gui.de/). You don&#39;t always get back what you put in. When you need exact values, use `numeric`.","body":"Well, <code>float</code> (and <code>double precision</code>)  is a <i>approximate</i> data type (see <a href=\"https://floating-point-gui.de/\" rel=\"nofollow noreferrer\">floating-point-gui.de</a>). You don&#39;t always get back what you put in. When you need exact values, use <code>numeric</code>."},{"owner":{"account_id":17043042,"reputation":41,"user_id":12330442,"display_name":"Daniel"},"score":0,"creation_date":1642159796,"post_id":70695200,"comment_id":125002593,"body_markdown":"Thank you for your answers and support :) All problem was about &#39;extra_float_digits&#39; database variable. A driver which java use in my project use &#39;extra_float_digits&#39; =3, wheras postgresql has value 0. So on every database connection I need to set &#39;extra_float_digits&#39; =0. So on every database connection I need to set &#39;extra_float_digits&#39; =0. This resolve problem and avoid doing changes on every sql query results. Hope that this topic will help save some time to anyone else.","body":"Thank you for your answers and support :) All problem was about &#39;extra_float_digits&#39; database variable. A driver which java use in my project use &#39;extra_float_digits&#39; =3, wheras postgresql has value 0. So on every database connection I need to set &#39;extra_float_digits&#39; =0. So on every database connection I need to set &#39;extra_float_digits&#39; =0. This resolve problem and avoid doing changes on every sql query results. Hope that this topic will help save some time to anyone else."}],"owner":{"account_id":17043042,"reputation":41,"user_id":12330442,"display_name":"Daniel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642184776,"creation_date":1642070478,"question_id":70695200,"body_markdown":"I develop a Java project and running into a problem with incorrect text data value from the PostgreSQL database.\r\n\r\nFor example, in PostgreSQL I have a table with text type columns. Inside that table, I have a text value of 62.1 or something similar. When retrieving data with jdbcTemplate (query or queryForList method) the result is 62.09999999999999996.\r\n\r\nWhen I use ResultSet getFloat (index) it works fine. But I need a different solution as my database is huge and the tables contain different values ​​on different column indexes. So if I get stuck with the getFloat (index) method then I will have to implement a different approach for each table.\r\n\r\nCode Example.\r\nDatabase pocedure:\r\n```sql\r\n    CREATE OR REPLACE FUNCTION public.float_test_ret_cast_table2(\r\n\t)\r\n    RETURNS TABLE(value text, value2 character varying, value3 text, value4 text, value5 text, value6 text) \r\n    LANGUAGE &#39;plpgsql&#39;\r\n    COST 100\r\n    VOLATILE PARALLEL UNSAFE\r\n    ROWS 1000\r\n\r\nAS $BODY$\r\nDECLARE\r\nBEGIN\r\n\tDROP TABLE IF EXISTS tmp_float_cast_test2;\r\n\t\tEXECUTE &#39;CREATE TABLE tmp_float_cast_test2 AS ( \r\n\t\t\tSELECT value, value2, value3::text, value4::text, value5::text, (value6::real / 100)::text FROM &quot;FloatTest&quot;    \r\n\t\t)&#39;;\r\n\tRETURN QUERY SELECT * FROM tmp_float_cast_test2;\r\nEND;\r\n$BODY$;\r\n```\r\n\r\nQuery results:\r\n - from pg admin: \r\n\r\n```none\r\nselect * from float_test_ret_cast_table2()\r\n62.1 | 62,1 | 62.1111 | 62.1111 | 62.1111 | 6.21\r\n```\r\n\r\nfrom java: \r\n```none\r\nselect * from float_test_ret_cast_table2()\r\n62.1 | 62,1 | 62.1111000000000004 | 62.1110992 | 62.1111 | 6.20999999999999996\r\n```\r\n\r\nHow can I fix this problem?\r\n","title":"Float precision issue - different values then from pgAdmin","body":"<p>I develop a Java project and running into a problem with incorrect text data value from the PostgreSQL database.</p>\n<p>For example, in PostgreSQL I have a table with text type columns. Inside that table, I have a text value of 62.1 or something similar. When retrieving data with jdbcTemplate (query or queryForList method) the result is 62.09999999999999996.</p>\n<p>When I use ResultSet getFloat (index) it works fine. But I need a different solution as my database is huge and the tables contain different values ​​on different column indexes. So if I get stuck with the getFloat (index) method then I will have to implement a different approach for each table.</p>\n<p>Code Example.\nDatabase pocedure:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    CREATE OR REPLACE FUNCTION public.float_test_ret_cast_table2(\n    )\n    RETURNS TABLE(value text, value2 character varying, value3 text, value4 text, value5 text, value6 text) \n    LANGUAGE 'plpgsql'\n    COST 100\n    VOLATILE PARALLEL UNSAFE\n    ROWS 1000\n\nAS $BODY$\nDECLARE\nBEGIN\n    DROP TABLE IF EXISTS tmp_float_cast_test2;\n        EXECUTE 'CREATE TABLE tmp_float_cast_test2 AS ( \n            SELECT value, value2, value3::text, value4::text, value5::text, (value6::real / 100)::text FROM &quot;FloatTest&quot;    \n        )';\n    RETURN QUERY SELECT * FROM tmp_float_cast_test2;\nEND;\n$BODY$;\n</code></pre>\n<p>Query results:</p>\n<ul>\n<li>from pg admin:</li>\n</ul>\n<pre class=\"lang-none prettyprint-override\"><code>select * from float_test_ret_cast_table2()\n62.1 | 62,1 | 62.1111 | 62.1111 | 62.1111 | 6.21\n</code></pre>\n<p>from java:</p>\n<pre class=\"lang-none prettyprint-override\"><code>select * from float_test_ret_cast_table2()\n62.1 | 62,1 | 62.1111000000000004 | 62.1110992 | 62.1111 | 6.20999999999999996\n</code></pre>\n<p>How can I fix this problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller","spring-rest"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1527532814,"post_id":50571926,"comment_id":88153511,"body_markdown":"You return `HttpStatus.OK`, when an exception occurs. However, there are HTTP status codes for a reason. E.g. if the requested resource is not found, return a 404.","body":"You return <code>HttpStatus.OK</code>, when an exception occurs. However, there are HTTP status codes for a reason. E.g. if the requested resource is not found, return a 404."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1527533219,"post_id":50571926,"comment_id":88153640,"body_markdown":"@dunni is 404 recommended when a business exception occurs? i thought that 404 was recommended when a resource wasn&#39;t found on the server, something like http://myservice.com/user &lt;- should be **users** instead of **user**, then a 404 is thrown, isn&#39;t it?","body":"@dunni is 404 recommended when a business exception occurs? i thought that 404 was recommended when a resource wasn&#39;t found on the server, something like <a href=\"http://myservice.com/user\" rel=\"nofollow noreferrer\">myservice.com/user</a> &lt;- should be <b>users</b> instead of <b>user</b>, then a 404 is thrown, isn&#39;t it?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1527533296,"post_id":50571926,"comment_id":88153669,"body_markdown":"Well, it looks like you provide a REST API, to search for users, right? So eg. myservice.com/user/1234 to get the user with ID 1234. That is a resource, so if the user is not found, return 404.","body":"Well, it looks like you provide a REST API, to search for users, right? So eg. myservice.com/user/1234 to get the user with ID 1234. That is a resource, so if the user is not found, return 404."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1527533332,"post_id":50571926,"comment_id":88153681,"body_markdown":"Well explained, thanks!","body":"Well explained, thanks!"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":1,"creation_date":1527537254,"post_id":50571926,"comment_id":88155052,"body_markdown":"It&#39;s a good way. My only tip is simplify and use only a concrete class `BusinessException` and control the error reason by an error code when the `BusinessException` is throwed. Eventually, you will end up with a lot of exception classes and the error code can accomplish the same thing. [See here an example](https://github.com/dherik/java-exception-handling)","body":"It&#39;s a good way. My only tip is simplify and use only a concrete class <code>BusinessException</code> and control the error reason by an error code when the <code>BusinessException</code> is throwed. Eventually, you will end up with a lot of exception classes and the error code can accomplish the same thing. <a href=\"https://github.com/dherik/java-exception-handling\" rel=\"nofollow noreferrer\">See here an example</a>"},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":1,"creation_date":1527596582,"post_id":50571926,"comment_id":88177764,"body_markdown":"@Dherik great tip and excellent example!","body":"@Dherik great tip and excellent example!"}],"answers":[{"tags":[],"owner":{"account_id":3958600,"reputation":149,"user_id":3266342,"display_name":"Ara Kokeba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527536374,"creation_date":1527536374,"answer_id":50572621,"question_id":50571926,"body_markdown":"I use a similar way to handle exceptions. But in my case, different handlers are managed according to the error status (e.g. an user exists, an user cannot be registered due to some unsatisfied condition, etc.). \r\n\r\nYou also might add your generic BusinessException for some special cases. Hope it helps you feel better. \r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n    import com.rest.restwebservices.controller.UserController;\r\n    import com.rest.restwebservices.exception.ResourceNotFoundException;\r\n    import com.rest.restwebservices.exception.PreconditionFailedException;\r\n    import com.rest.restwebservices.exception.ResourceAlreadyExistsException;\r\n    import com.rest.restwebservices.exception.fault.BusinessFault;\r\n\r\n    @ControllerAdvice(basePackageClasses = UserController.class)\r\n    public class BusinessExceptionHandler {\r\n\r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, ResourceNotFoundException ex) {\r\n            return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.NOT_FOUND);\r\n        }\r\n\r\n        @ExceptionHandler(PreconditionFailedException.class)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, PreconditionFailedExceptionex) {\r\n            return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.PRECONDITION_FAILED);\r\n        }\r\n\r\n        @ExceptionHandler(ResourceAlreadyExistsException.class)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, ResourceAlreadyExistsException) {\r\n            return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.CONFLICT);\r\n        }\r\n    }\r\n\r\n","title":"Correct way to handle exceptions in Spring Boot","body":"<p>I use a similar way to handle exceptions. But in my case, different handlers are managed according to the error status (e.g. an user exists, an user cannot be registered due to some unsatisfied condition, etc.). </p>\n\n<p>You also might add your generic BusinessException for some special cases. Hope it helps you feel better. </p>\n\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.rest.restwebservices.controller.UserController;\nimport com.rest.restwebservices.exception.ResourceNotFoundException;\nimport com.rest.restwebservices.exception.PreconditionFailedException;\nimport com.rest.restwebservices.exception.ResourceAlreadyExistsException;\nimport com.rest.restwebservices.exception.fault.BusinessFault;\n\n@ControllerAdvice(basePackageClasses = UserController.class)\npublic class BusinessExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    @ResponseBody\n    public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, ResourceNotFoundException ex) {\n        return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler(PreconditionFailedException.class)\n    @ResponseBody\n    public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, PreconditionFailedExceptionex) {\n        return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.PRECONDITION_FAILED);\n    }\n\n    @ExceptionHandler(ResourceAlreadyExistsException.class)\n    @ResponseBody\n    public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, ResourceAlreadyExistsException) {\n        return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.CONFLICT);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642184572,"creation_date":1527537570,"answer_id":50572816,"question_id":50571926,"body_markdown":"I&#39;ve got a little problem with your exception handling. Principally it is absolutely ok to catch ``runtime exceptions``, handle them and send them forth to the client, which is probably someone using your REST service and getting the error response as a JSON object. If you manage to tell him what he did wrong and what he can do about it, great! Of course, it will add some complexity to it, but it is probably easy and comfortable to work with that API.\r\n\r\nBut think about the backend developers, too, that work with your code. Especially the ``public User findById(Long id)`` method in your UserService is obscure. The reason for this is that you made your ``BusinessException``, in particular, the ``UserNotFoundException`` *unchecked*.\r\n\r\nIf I joined your (backend) team, and I was to write some business logic using that service, I&#39;d be quite sure what I had to expect from that method: I pass a _user ID_ and get back a ``User`` object if it was found or ``null`` if not. That&#39;s why I would write code like that\r\n\r\n    User user = userService.findById(&quot;42A&quot;);\r\n    if (user == null) {\r\n      // create a User or return an error or null or whatever\r\n    } else {\r\n      // proceed\r\n    }\r\n\r\nHowever, I would never know, that the first condition will never be true since you never return ``null``. How should I know that I had to catch an Exception? \r\n\r\n**Is the compiler telling me to catch it?** No, as it is not checked. \r\n\r\n**Would I look into your source code?** Hell, no! Your case is extremely simple. That ``UserNotFoundException`` may be raised in another method in another class among hundred lines of code. Sometimes I couldn&#39;t look inside it, anyway, as that ``UserService`` is just a compiled class in a dependency. \r\n\r\n**Do I read the JavaDoc?** Hahaha. Let&#39;s say, 50% of the time I wouldn&#39;t, and the other 50% you&#39;ve forgotten to document it, anyway. \r\n\r\nSo, the developer has to wait until his code is used (either by a client or in Unit tests) to see that it doesn&#39;t work as he intended, forcing him to redesign what he has coded so far. And if your whole API is designed that way, that unchecked exceptions pop out of nowhere, it can be very very annoying, it costs time and money and is so easy to avoid, actually.\r\n\r\n\r\n\r\n","title":"Correct way to handle exceptions in Spring Boot","body":"<p>I've got a little problem with your exception handling. Principally it is absolutely ok to catch <code>runtime exceptions</code>, handle them and send them forth to the client, which is probably someone using your REST service and getting the error response as a JSON object. If you manage to tell him what he did wrong and what he can do about it, great! Of course, it will add some complexity to it, but it is probably easy and comfortable to work with that API.</p>\n<p>But think about the backend developers, too, that work with your code. Especially the <code>public User findById(Long id)</code> method in your UserService is obscure. The reason for this is that you made your <code>BusinessException</code>, in particular, the <code>UserNotFoundException</code> <em>unchecked</em>.</p>\n<p>If I joined your (backend) team, and I was to write some business logic using that service, I'd be quite sure what I had to expect from that method: I pass a <em>user ID</em> and get back a <code>User</code> object if it was found or <code>null</code> if not. That's why I would write code like that</p>\n<pre><code>User user = userService.findById(&quot;42A&quot;);\nif (user == null) {\n  // create a User or return an error or null or whatever\n} else {\n  // proceed\n}\n</code></pre>\n<p>However, I would never know, that the first condition will never be true since you never return <code>null</code>. How should I know that I had to catch an Exception?</p>\n<p><strong>Is the compiler telling me to catch it?</strong> No, as it is not checked.</p>\n<p><strong>Would I look into your source code?</strong> Hell, no! Your case is extremely simple. That <code>UserNotFoundException</code> may be raised in another method in another class among hundred lines of code. Sometimes I couldn't look inside it, anyway, as that <code>UserService</code> is just a compiled class in a dependency.</p>\n<p><strong>Do I read the JavaDoc?</strong> Hahaha. Let's say, 50% of the time I wouldn't, and the other 50% you've forgotten to document it, anyway.</p>\n<p>So, the developer has to wait until his code is used (either by a client or in Unit tests) to see that it doesn't work as he intended, forcing him to redesign what he has coded so far. And if your whole API is designed that way, that unchecked exceptions pop out of nowhere, it can be very very annoying, it costs time and money and is so easy to avoid, actually.</p>\n"}],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12319,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":50572816,"answer_count":2,"score":9,"last_activity_date":1642184572,"creation_date":1527532605,"question_id":50571926,"body_markdown":"I was reading the Spring docs and found that creating a subclass from `ResponseEntityExceptionHandler` was a good way on handling exceptions. However, I tried to handle exceptions in a different way, since I need to diff `BusinessExceptions` from `TechnicalExceptions`. \r\n\r\nCreated a bean called `BusinessFault` which encapsulates the exception details:\r\n\r\n**BusinessFault.java** \r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonInclude.Include;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    @JsonInclude(value = Include.NON_NULL)\r\n    public class BusinessFault {\r\n    \r\n    \t@JsonProperty(value = &quot;category&quot;)\r\n    \tprivate final String CATEGORY = &quot;Business Failure&quot;;\r\n    \tprotected String type;\r\n    \tprotected String code;\r\n    \tprotected String reason;\r\n    \tprotected String description;\r\n    \tprotected String instruction;\r\n    \r\n    \tpublic BusinessFault(String type, String code, String reason) {\r\n    \t\tthis.type = type;\r\n    \t\tthis.code = code;\r\n    \t\tthis.reason = reason;\r\n    \t}\r\n    \r\n    \tpublic BusinessFault(String type, String code, String reason, String description, String instruction) {\r\n    \t\tthis.type = type;\r\n    \t\tthis.code = code;\r\n    \t\tthis.reason = reason;\r\n    \t\tthis.description = description;\r\n    \t\tthis.instruction = instruction;\r\n    \t}\r\n    \r\n    \tpublic String getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \r\n    \tpublic void setType(String type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n    \r\n    \tpublic String getCode() {\r\n    \t\treturn code;\r\n    \t}\r\n    \r\n    \tpublic void setCode(String code) {\r\n    \t\tthis.code = code;\r\n    \t}\r\n    \r\n    \tpublic String getReason() {\r\n    \t\treturn reason;\r\n    \t}\r\n    \r\n    \tpublic void setReason(String reason) {\r\n    \t\tthis.reason = reason;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic String getInstruction() {\r\n    \t\treturn instruction;\r\n    \t}\r\n    \r\n    \tpublic void setInstruction(String instruction) {\r\n    \t\tthis.instruction = instruction;\r\n    \t}\r\n    \r\n    \tpublic String getCATEGORY() {\r\n    \t\treturn CATEGORY;\r\n    \t}\r\n    }\r\n\r\nCreated a `BusinessException` class, which do the job by creating a `BusinessFault` beans through the details passed by its constructor:\r\n\r\n**BusinessException.java**\r\n\r\n    import com.rest.restwebservices.exception.fault.BusinessFault;\r\n    \r\n    public abstract class BusinessException extends RuntimeException {\r\n    \r\n    \tprivate BusinessFault businessFault;\r\n    \r\n    \tpublic BusinessException(String type, String code, String reason) {\r\n    \t\tthis.businessFault = new BusinessFault(type, code, reason);\r\n    \t}\r\n    \r\n    \tpublic BusinessException(String type, String code, String reason, String description, String instruction) {\r\n    \t\tthis.businessFault = new BusinessFault(type, code, reason, description, instruction);\r\n    \t}\r\n    \r\n    \tpublic BusinessException(BusinessFault businessFault) {\r\n    \t\tthis.businessFault = businessFault;\r\n    \t}\r\n    \r\n    \tpublic BusinessFault getBusinessFault() {\r\n    \t\treturn businessFault;\r\n    \t}\r\n    \r\n    \tpublic void setBusinessFault(BusinessFault businessFault) {\r\n    \t\tthis.businessFault = businessFault;\r\n    \t}\r\n    }\r\n\r\nCreated a specific `UserNotFoundException` class, which extends from `BusinessException` class:\r\n\r\n**UserNotFoundException.java**\r\n\r\n    import com.rest.restwebservices.exception.fault.BusinessFault;\r\n    import com.rest.restwebservices.exception.map.ExceptionMap;\r\n    \r\n    public class UserNotFoundException extends BusinessException {\r\n    \r\n    \tpublic UserNotFoundException(BusinessFault businessFault) {\r\n    \t\tsuper(businessFault);\r\n    \t}\r\n    \r\n    \tpublic UserNotFoundException(String reason) {\r\n    \t\tsuper(ExceptionMap.USERNOTFOUND.getType(), ExceptionMap.USERNOTFOUND.getCode(), reason);\r\n    \t}\r\n    \r\n    \tpublic UserNotFoundException(String reason, String description, String instruction) {\r\n    \t\tsuper(ExceptionMap.USERNOTFOUND.getType(), ExceptionMap.USERNOTFOUND.getCode(), reason, description,\r\n    \t\t\t\tinstruction);\r\n    \t}\r\n    }\r\n\r\nCreated a `BusinessExceptionHandler`, but instead of being a subclass of `ResponseEntityExceptionHandler`, it&#39;s only has a `@ControllerAdvice` annotation and a method that handles all thrown `BusinessExceptions`:\r\n\r\n**BusinessExceptionHandler.java**\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    import com.rest.restwebservices.controller.UserController;\r\n    import com.rest.restwebservices.exception.BusinessException;\r\n    import com.rest.restwebservices.exception.fault.BusinessFault;\r\n    \r\n    @ControllerAdvice(basePackageClasses = UserController.class)\r\n    public class BusinessExceptionHandler {\r\n    \r\n    \t@ExceptionHandler(BusinessException.class)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, BusinessException ex) {\r\n    \t\treturn new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nThe service layer can throw a `UserNotFoundException`:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserRepository userRepository;\r\n    \r\n    \tpublic User findById(Long id) {\r\n    \t\tUser user = userRepository.findOne(id);\r\n    \t\tif (user == null)\r\n    \t\t\tthrow new UserNotFoundException(&quot;The ID &quot; + id + &quot; doesn&#39;t behave to any user!&quot;);\r\n    \r\n    \t\treturn user;\r\n    \t}\r\n    }\r\n\r\nIt works fine. But I was wondering if this is a bad practice on handling exceptions?","title":"Correct way to handle exceptions in Spring Boot","body":"<p>I was reading the Spring docs and found that creating a subclass from <code>ResponseEntityExceptionHandler</code> was a good way on handling exceptions. However, I tried to handle exceptions in a different way, since I need to diff <code>BusinessExceptions</code> from <code>TechnicalExceptions</code>. </p>\n\n<p>Created a bean called <code>BusinessFault</code> which encapsulates the exception details:</p>\n\n<p><strong>BusinessFault.java</strong> </p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonInclude(value = Include.NON_NULL)\npublic class BusinessFault {\n\n    @JsonProperty(value = \"category\")\n    private final String CATEGORY = \"Business Failure\";\n    protected String type;\n    protected String code;\n    protected String reason;\n    protected String description;\n    protected String instruction;\n\n    public BusinessFault(String type, String code, String reason) {\n        this.type = type;\n        this.code = code;\n        this.reason = reason;\n    }\n\n    public BusinessFault(String type, String code, String reason, String description, String instruction) {\n        this.type = type;\n        this.code = code;\n        this.reason = reason;\n        this.description = description;\n        this.instruction = instruction;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getReason() {\n        return reason;\n    }\n\n    public void setReason(String reason) {\n        this.reason = reason;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getInstruction() {\n        return instruction;\n    }\n\n    public void setInstruction(String instruction) {\n        this.instruction = instruction;\n    }\n\n    public String getCATEGORY() {\n        return CATEGORY;\n    }\n}\n</code></pre>\n\n<p>Created a <code>BusinessException</code> class, which do the job by creating a <code>BusinessFault</code> beans through the details passed by its constructor:</p>\n\n<p><strong>BusinessException.java</strong></p>\n\n<pre><code>import com.rest.restwebservices.exception.fault.BusinessFault;\n\npublic abstract class BusinessException extends RuntimeException {\n\n    private BusinessFault businessFault;\n\n    public BusinessException(String type, String code, String reason) {\n        this.businessFault = new BusinessFault(type, code, reason);\n    }\n\n    public BusinessException(String type, String code, String reason, String description, String instruction) {\n        this.businessFault = new BusinessFault(type, code, reason, description, instruction);\n    }\n\n    public BusinessException(BusinessFault businessFault) {\n        this.businessFault = businessFault;\n    }\n\n    public BusinessFault getBusinessFault() {\n        return businessFault;\n    }\n\n    public void setBusinessFault(BusinessFault businessFault) {\n        this.businessFault = businessFault;\n    }\n}\n</code></pre>\n\n<p>Created a specific <code>UserNotFoundException</code> class, which extends from <code>BusinessException</code> class:</p>\n\n<p><strong>UserNotFoundException.java</strong></p>\n\n<pre><code>import com.rest.restwebservices.exception.fault.BusinessFault;\nimport com.rest.restwebservices.exception.map.ExceptionMap;\n\npublic class UserNotFoundException extends BusinessException {\n\n    public UserNotFoundException(BusinessFault businessFault) {\n        super(businessFault);\n    }\n\n    public UserNotFoundException(String reason) {\n        super(ExceptionMap.USERNOTFOUND.getType(), ExceptionMap.USERNOTFOUND.getCode(), reason);\n    }\n\n    public UserNotFoundException(String reason, String description, String instruction) {\n        super(ExceptionMap.USERNOTFOUND.getType(), ExceptionMap.USERNOTFOUND.getCode(), reason, description,\n                instruction);\n    }\n}\n</code></pre>\n\n<p>Created a <code>BusinessExceptionHandler</code>, but instead of being a subclass of <code>ResponseEntityExceptionHandler</code>, it's only has a <code>@ControllerAdvice</code> annotation and a method that handles all thrown <code>BusinessExceptions</code>:</p>\n\n<p><strong>BusinessExceptionHandler.java</strong></p>\n\n<pre><code>import javax.servlet.http.HttpServletRequest;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.rest.restwebservices.controller.UserController;\nimport com.rest.restwebservices.exception.BusinessException;\nimport com.rest.restwebservices.exception.fault.BusinessFault;\n\n@ControllerAdvice(basePackageClasses = UserController.class)\npublic class BusinessExceptionHandler {\n\n    @ExceptionHandler(BusinessException.class)\n    @ResponseBody\n    public ResponseEntity&lt;BusinessFault&gt; genericHandler(HttpServletRequest request, BusinessException ex) {\n        return new ResponseEntity&lt;BusinessFault&gt;(ex.getBusinessFault(), HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>The service layer can throw a <code>UserNotFoundException</code>:</p>\n\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    public User findById(Long id) {\n        User user = userRepository.findOne(id);\n        if (user == null)\n            throw new UserNotFoundException(\"The ID \" + id + \" doesn't behave to any user!\");\n\n        return user;\n    }\n}\n</code></pre>\n\n<p>It works fine. But I was wondering if this is a bad practice on handling exceptions?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","apache-tomee"],"answers":[{"tags":[],"owner":{"account_id":12260786,"reputation":215,"user_id":8948544,"display_name":"Karthik Sankaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642184501,"creation_date":1642184501,"answer_id":70714985,"question_id":70713163,"body_markdown":"It turns out it wasn&#39;t working in Tomcat, It was only working in the embedded server.\r\n\r\nI was missing a configure method in the Servlet Initializer\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n      protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Application.class);\r\n      }\r\n    }","title":"Spring Boot application not running on TomEE Plus","body":"<p>It turns out it wasn't working in Tomcat, It was only working in the embedded server.</p>\n<p>I was missing a configure method in the Servlet Initializer</p>\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n  protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(Application.class);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12260786,"reputation":215,"user_id":8948544,"display_name":"Karthik Sankaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70714985,"answer_count":1,"score":0,"last_activity_date":1642184501,"creation_date":1642175276,"question_id":70713163,"body_markdown":"I have a spring boot application that I am trying to deploy onto a TomEE Plus server. The application works perfectly fine with the embedded Tomcat server and on a Tomcat 9.0.43 setup.\r\nI copy the deployment files into the TomEE webapps folder, start the server and ... nothing.\r\n\r\nI don&#39;t see the usual Spring Boot startup logo and TOMEE seems to just skip the spring boot application.\r\nInstead, I get a the following errors (shortened for clarity):\r\n\r\n    java.lang.IllegalStateException: Error starting child\r\n         at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)\r\n         at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n         at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\r\n         at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1133)\r\n    ...\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyApp]]\r\n         at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n         at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n         at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n         ... 37 more\r\n    Caused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally\r\n         at java.lang.ClassLoader.defineClass1(Native Method)\r\n         at java.lang.ClassLoader.defineClass(Unknown Source)\r\n         at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    ...\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.jsp.tagext.TryCatchFinally\r\n         at java.net.URLClassLoader.findClass(Unknown Source)\r\n         at java.lang.ClassLoader.loadClass(Unknown Source)\r\n         at java.lang.ClassLoader.loadClass(Unknown Source)\r\n         ... 73 more\r\n\r\nMy Tomcat configuration is as follows: Apache Tomcat (TomEE)/9.0.39 (8.0.5) running on Windows 10 with JVM 1.8.0_281-b09 from Oracle\r\n","title":"Spring Boot application not running on TomEE Plus","body":"<p>I have a spring boot application that I am trying to deploy onto a TomEE Plus server. The application works perfectly fine with the embedded Tomcat server and on a Tomcat 9.0.43 setup.\nI copy the deployment files into the TomEE webapps folder, start the server and ... nothing.</p>\n<p>I don't see the usual Spring Boot startup logo and TOMEE seems to just skip the spring boot application.\nInstead, I get a the following errors (shortened for clarity):</p>\n<pre><code>java.lang.IllegalStateException: Error starting child\n     at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)\n     at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n     at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:706)\n     at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1133)\n...\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyApp]]\n     at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n     at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n     ... 37 more\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally\n     at java.lang.ClassLoader.defineClass1(Native Method)\n     at java.lang.ClassLoader.defineClass(Unknown Source)\n     at java.security.SecureClassLoader.defineClass(Unknown Source)\n...\nCaused by: java.lang.ClassNotFoundException: javax.servlet.jsp.tagext.TryCatchFinally\n     at java.net.URLClassLoader.findClass(Unknown Source)\n     at java.lang.ClassLoader.loadClass(Unknown Source)\n     at java.lang.ClassLoader.loadClass(Unknown Source)\n     ... 73 more\n</code></pre>\n<p>My Tomcat configuration is as follows: Apache Tomcat (TomEE)/9.0.39 (8.0.5) running on Windows 10 with JVM 1.8.0_281-b09 from Oracle</p>\n"},{"tags":["java","spring","spring-boot","dto"],"answers":[{"tags":[],"owner":{"account_id":23930232,"reputation":118,"user_id":17924830,"display_name":"Ali Arabat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642162640,"creation_date":1642162640,"answer_id":70710452,"question_id":70710144,"body_markdown":"You may create an generic abstract class like this:\r\n\r\n    public abstract class AbstractConverter&lt;T, DTO&gt; {\r\n        public abstract T fromDto(DTO dto);\r\n    \r\n        public abstract DTO toDTO(T t);\r\n    \r\n        public List&lt;T&gt; fromDTOs(List&lt;DTO&gt; dtos) {\r\n            if (dtos == null || dtos.isEmpty()) {\r\n                return null;\r\n            } else {\r\n                return dtos.stream().map(this::fromDTO).collect(Collectors.toList());\r\n            }\r\n        }\r\n    \r\n        public List&lt;DTO&gt; toDTOs(List&lt;T&gt; ts) {\r\n            if (ts == null || ts.isEmpty()) {\r\n                return null;\r\n            } else {\r\n                return ts.stream().map(this::toDTO).collect(Collectors.toList());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThen create another class that implements the aforecreated abstract class by assigning your desired values like this:\r\n\r\n    @Component(value = &quot;coinConverter&quot;)\r\n    public class CoinConverter extends AbstractConverter&lt;Coin, CoinDTO&gt; {\r\n    \r\n        @Override\r\n        public Coin fromDTO(CoinDTO dto) {\r\n            if (dto == null) {\r\n                return null;\r\n            } else {\r\n                Coin coin = new Coin();\r\n                // Assign all values you wanted to consume\r\n                // of the following form\r\n                // coin.setYourAttribite(dto.getYourAttribute())\r\n                return coin;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public CoinDTO toDTO(Coin coin) {\r\n            if (t == null) {\r\n                return null;\r\n            } else {\r\n                CoinDTO coinDTO = new CoinDTO();\r\n                // Assign all values you wanted to expose\r\n                // of the following form\r\n                // coinDTO.setYourAttribite(coin.getYourAttribute())\r\n                return coinDTO;\r\n            }\r\n        }\r\n    }\r\n\r\nIn controller layer you may change your existing code by this one:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;coinConverter&quot;)\r\n    AbstractConverter&lt;Coin, CoinDTO&gt; abstractConverter;\r\n\r\n    @Override\r\n    public List&lt;CoinDTO&gt; getCoinList() {\r\n    \r\n        List&lt;Coin&gt; coinsList = this.coinRepository.findAll();\r\n        return abstractConverter.toDTOs(cointList);\r\n    }\r\n\r\nThis way your code is flexible to add more converters without changing the existing ones.","title":"What is the correct way to use Spring Boot ConversionService in order to convert a retrieved list of entity objects into a list of DTOs objects?","body":"<p>You may create an generic abstract class like this:</p>\n<pre><code>public abstract class AbstractConverter&lt;T, DTO&gt; {\n    public abstract T fromDto(DTO dto);\n\n    public abstract DTO toDTO(T t);\n\n    public List&lt;T&gt; fromDTOs(List&lt;DTO&gt; dtos) {\n        if (dtos == null || dtos.isEmpty()) {\n            return null;\n        } else {\n            return dtos.stream().map(this::fromDTO).collect(Collectors.toList());\n        }\n    }\n\n    public List&lt;DTO&gt; toDTOs(List&lt;T&gt; ts) {\n        if (ts == null || ts.isEmpty()) {\n            return null;\n        } else {\n            return ts.stream().map(this::toDTO).collect(Collectors.toList());\n        }\n    }\n\n}\n</code></pre>\n<p>Then create another class that implements the aforecreated abstract class by assigning your desired values like this:</p>\n<pre><code>@Component(value = &quot;coinConverter&quot;)\npublic class CoinConverter extends AbstractConverter&lt;Coin, CoinDTO&gt; {\n\n    @Override\n    public Coin fromDTO(CoinDTO dto) {\n        if (dto == null) {\n            return null;\n        } else {\n            Coin coin = new Coin();\n            // Assign all values you wanted to consume\n            // of the following form\n            // coin.setYourAttribite(dto.getYourAttribute())\n            return coin;\n        }\n    }\n\n    @Override\n    public CoinDTO toDTO(Coin coin) {\n        if (t == null) {\n            return null;\n        } else {\n            CoinDTO coinDTO = new CoinDTO();\n            // Assign all values you wanted to expose\n            // of the following form\n            // coinDTO.setYourAttribite(coin.getYourAttribute())\n            return coinDTO;\n        }\n    }\n}\n</code></pre>\n<p>In controller layer you may change your existing code by this one:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;coinConverter&quot;)\nAbstractConverter&lt;Coin, CoinDTO&gt; abstractConverter;\n\n@Override\npublic List&lt;CoinDTO&gt; getCoinList() {\n\n    List&lt;Coin&gt; coinsList = this.coinRepository.findAll();\n    return abstractConverter.toDTOs(cointList);\n}\n</code></pre>\n<p>This way your code is flexible to add more converters without changing the existing ones.</p>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642163867,"creation_date":1642163867,"answer_id":70710681,"question_id":70710144,"body_markdown":"As far as I understand, you are looking for a way that makes the conversion process shorter and more convenient. if so use ModelMapper class in this case, read this [http://modelmapper.org/][1] documentation, ModelMapper uses TypeTokens to allow mapping of generic parameterized types.\r\n\r\n\r\n  [1]: http://modelmapper.org/","title":"What is the correct way to use Spring Boot ConversionService in order to convert a retrieved list of entity objects into a list of DTOs objects?","body":"<p>As far as I understand, you are looking for a way that makes the conversion process shorter and more convenient. if so use ModelMapper class in this case, read this <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">http://modelmapper.org/</a> documentation, ModelMapper uses TypeTokens to allow mapping of generic parameterized types.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642184295,"creation_date":1642184295,"answer_id":70714948,"question_id":70710144,"body_markdown":"Not sure if I understood your question, but is the following what you are looking for:\r\n```java\r\n@Override\r\npublic List&lt;CoinDTO&gt; getCoinList() {\r\n    return this.coinRepository.findAll().stream()\r\n        .map(coin -&gt; conversionService.convert(coin, CoinDTO.class))\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"What is the correct way to use Spring Boot ConversionService in order to convert a retrieved list of entity objects into a list of DTOs objects?","body":"<p>Not sure if I understood your question, but is the following what you are looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;CoinDTO&gt; getCoinList() {\n    return this.coinRepository.findAll().stream()\n        .map(coin -&gt; conversionService.convert(coin, CoinDTO.class))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1642184295,"creation_date":1642161060,"question_id":70710144,"body_markdown":"I am working on a Spring Boot application and I have the following doubt.\r\n\r\nI have this service method (that works fine) that insert an object into the DB calling the repository:\r\n\r\n\t@Override\r\n\t@Transactional\r\n\tpublic CoinDTO createCoin(CoinDTO coin) throws DuplicateException {\r\n\t\tCoin checkCoinExists = coinRepository.findByCode(coin.getCode());\r\n\r\n\t\tif (checkCoinExists != null) {\r\n\t\t\tString MsgErr = String.format(&quot;Coin %s already registered in the system !!! &quot;\r\n\t\t\t\t\t+ &quot;Impossible to use POST&quot;, coin.getCode());\r\n\r\n\t\t\tlog.warning(MsgErr);\r\n\r\n\t\t\tthrow new DuplicateException(MsgErr);\r\n\t\t}\r\n\r\n\t\tCoin result = coinRepository.save(conversionService.convert(coin,Coin.class));\r\n\t\treturn conversionService.convert(result,CoinDTO.class);\r\n\t}\r\n\r\nAs you can see the **save()** methjod return the inserted **Coin** object (that is an Hibernate entity class mapping my table). The service method than convert this **Coin** object into the **CoinDTO** object in order to return the DTO object instead the entity instance. It works fine and it is the expected behavior.\r\n\r\nNow I created this second service method that simply retrieve the list of all the **Coin** objects and must return the list of the related **CoinDTO** objects:\r\n\r\n\t@Override\r\n\tpublic List&lt;CoinDTO&gt; getCoinList() {\r\n\t\t\r\n\t\tList&lt;Coin&gt; coinsList = this.coinRepository.findAll();\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\nand here I have the following doubt: I think that I can implement thid **ENTITY to DTO** conversion behavior iterating on the **coinsList** element, converting each element of the list one by one and then adding it to a new **List&lt;CoinDTO&gt;** list. It should work\r\n\r\nExist some more modern and smarter way to do it? Maybe using lambda function? Can you help me to implement this behavior in a modern and a smart way?\r\n","title":"What is the correct way to use Spring Boot ConversionService in order to convert a retrieved list of entity objects into a list of DTOs objects?","body":"<p>I am working on a Spring Boot application and I have the following doubt.</p>\n<p>I have this service method (that works fine) that insert an object into the DB calling the repository:</p>\n<pre><code>@Override\n@Transactional\npublic CoinDTO createCoin(CoinDTO coin) throws DuplicateException {\n    Coin checkCoinExists = coinRepository.findByCode(coin.getCode());\n\n    if (checkCoinExists != null) {\n        String MsgErr = String.format(&quot;Coin %s already registered in the system !!! &quot;\n                + &quot;Impossible to use POST&quot;, coin.getCode());\n\n        log.warning(MsgErr);\n\n        throw new DuplicateException(MsgErr);\n    }\n\n    Coin result = coinRepository.save(conversionService.convert(coin,Coin.class));\n    return conversionService.convert(result,CoinDTO.class);\n}\n</code></pre>\n<p>As you can see the <strong>save()</strong> methjod return the inserted <strong>Coin</strong> object (that is an Hibernate entity class mapping my table). The service method than convert this <strong>Coin</strong> object into the <strong>CoinDTO</strong> object in order to return the DTO object instead the entity instance. It works fine and it is the expected behavior.</p>\n<p>Now I created this second service method that simply retrieve the list of all the <strong>Coin</strong> objects and must return the list of the related <strong>CoinDTO</strong> objects:</p>\n<pre><code>@Override\npublic List&lt;CoinDTO&gt; getCoinList() {\n    \n    List&lt;Coin&gt; coinsList = this.coinRepository.findAll();\n    \n    return null;\n}\n</code></pre>\n<p>and here I have the following doubt: I think that I can implement thid <strong>ENTITY to DTO</strong> conversion behavior iterating on the <strong>coinsList</strong> element, converting each element of the list one by one and then adding it to a new <strong>List</strong> list. It should work</p>\n<p>Exist some more modern and smarter way to do it? Maybe using lambda function? Can you help me to implement this behavior in a modern and a smart way?</p>\n"},{"tags":["java","sockets","p2p","nat","stun"],"comments":[{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642216632,"post_id":70714861,"comment_id":125018921,"body_markdown":"You&#39;ll need a STUN library and a service for exchanging address candidates: https://stackoverflow.com/a/8524609/104458","body":"You&#39;ll need a STUN library and a service for exchanging address candidates: <a href=\"https://stackoverflow.com/a/8524609/104458\">stackoverflow.com/a/8524609/104458</a>"},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642222452,"post_id":70714861,"comment_id":125019420,"body_markdown":"How can I request a stun server my ip and port with sockets? I want a code implementation in Java","body":"How can I request a stun server my ip and port with sockets? I want a code implementation in Java"},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642222532,"post_id":70714861,"comment_id":125019428,"body_markdown":"How to use JSTUN library?","body":"How to use JSTUN library?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642222571,"post_id":70714861,"comment_id":125019432,"body_markdown":"JSTUN is the answer you seek.","body":"JSTUN is the answer you seek."},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642223110,"post_id":70714861,"comment_id":125019504,"body_markdown":"There is no documentation for JSTUN. I am getting exceptions. Can you give a code snippet of it?","body":"There is no documentation for JSTUN. I am getting exceptions. Can you give a code snippet of it?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642267766,"post_id":70714861,"comment_id":125027733,"body_markdown":"Start by compiling jstun library and the sample apps yourself and running it. Then step through it with a debugger - you&#39;ll quickly see the class hierarchy.","body":"Start by compiling jstun library and the sample apps yourself and running it. Then step through it with a debugger - you&#39;ll quickly see the class hierarchy."},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642569044,"post_id":70714861,"comment_id":125102577,"body_markdown":"Please give a code snippet of the function that takes socket or port number and returns external ip and port.","body":"Please give a code snippet of the function that takes socket or port number and returns external ip and port."},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642569081,"post_id":70714861,"comment_id":125102580,"body_markdown":"I want to use Google&#39;s stun server, stun.l.google.com","body":"I want to use Google&#39;s stun server, stun.l.google.com"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642573365,"post_id":70714861,"comment_id":125103392,"body_markdown":"Start with the JSTUN sample code here to run the &quot;Discovery Test&quot; or the &quot;Fast Discovery Test&quot; client code.  It&#39;s all here: https://github.com/tking/JSTUN/tree/master/src/main/java/de/javawi/jstun/test/demo","body":"Start with the JSTUN sample code here to run the &quot;Discovery Test&quot; or the &quot;Fast Discovery Test&quot; client code.  It&#39;s all here: <a href=\"https://github.com/tking/JSTUN/tree/master/src/main/java/de/javawi/jstun/test/demo\" rel=\"nofollow noreferrer\">github.com/tking/JSTUN/tree/master/src/main/java/de/javawi/&hellip;</a>"},{"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"score":0,"creation_date":1642573987,"post_id":70714861,"comment_id":125103527,"body_markdown":"How to get InetAddress for constructor?","body":"How to get InetAddress for constructor?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1642574137,"post_id":70714861,"comment_id":125103567,"body_markdown":"Sonu.  Learn how to send UDP packets first using Java&#39;s network and socket libraries.","body":"Sonu.  Learn how to send UDP packets first using Java&#39;s network and socket libraries."}],"owner":{"account_id":19698595,"reputation":3,"user_id":14421932,"display_name":"Sonu Mohammad"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642183791,"creation_date":1642183791,"question_id":70714861,"body_markdown":"How to get external ip and port from stun server? For example Google&#39;s stun server, `stun.l.google.com`\r\n\r\nSo I can use that to establish P2P connection with sockets between clients behind NAT.\r\n\r\nCurrently, I can only connect to peers in local network, but I want to connect peers outside of local network with sockets.","title":"How to get external port from stun server","body":"<p>How to get external ip and port from stun server? For example Google's stun server, <code>stun.l.google.com</code></p>\n<p>So I can use that to establish P2P connection with sockets between clients behind NAT.</p>\n<p>Currently, I can only connect to peers in local network, but I want to connect peers outside of local network with sockets.</p>\n"},{"tags":["java","option-type","java-9","flatmap"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1642182357,"post_id":70714516,"comment_id":125011372,"body_markdown":"What is `toDateOfInjury`? Please provide a complete example.","body":"What is <code>toDateOfInjury</code>? Please provide a complete example."},{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1642182593,"post_id":70714516,"comment_id":125011465,"body_markdown":"I&#39;m not really sure what you are trying to do here, but there is a probably a better more clear way to code this.","body":"I&#39;m not really sure what you are trying to do here, but there is a probably a better more clear way to code this."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1642182596,"post_id":70714516,"comment_id":125011467,"body_markdown":"Your code essentially performs `opt.flatMap(doi -&gt; Optional::empty)`, which always triggers the `or` part. What did you expect?","body":"Your code essentially performs <code>opt.flatMap(doi -&gt; Optional::empty)</code>, which always triggers the <code>or</code> part. What did you expect?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1642182813,"post_id":70714516,"comment_id":125011563,"body_markdown":"`opt.map(doi -&gt; Optional.empty()).orElseGet(() -&gt; Optional.of(&quot;...&quot;))`","body":"<code>opt.map(doi -&gt; Optional.empty()).orElseGet(() -&gt; Optional.of(&quot;...&quot;))</code>"},{"owner":{"account_id":17069592,"reputation":115,"user_id":12350751,"display_name":"FaraBara"},"score":0,"creation_date":1642184088,"post_id":70714516,"comment_id":125012040,"body_markdown":"@shmosel yes this did the trick. I will award you the answer if you post this.","body":"@shmosel yes this did the trick. I will award you the answer if you post this."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642415308,"post_id":70714516,"comment_id":125056103,"body_markdown":"or `opt.isPresent()? Optional.empty(): Optional.of(&quot;No date of injury&quot;)`","body":"or <code>opt.isPresent()? Optional.empty(): Optional.of(&quot;No date of injury&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642182728,"creation_date":1642182728,"answer_id":70714674,"question_id":70714516,"body_markdown":"This looks like you want a simple null check. What about\r\n\r\n    return dateOfInjury==null?Optional.empty():Optional.of(&quot;No date of injury&quot;);\r\n\r\n","title":"How do I avoid reaching the .or() in this code?","body":"<p>This looks like you want a simple null check. What about</p>\n<pre><code>return dateOfInjury==null?Optional.empty():Optional.of(&quot;No date of injury&quot;);\n</code></pre>\n"}],"owner":{"account_id":17069592,"reputation":115,"user_id":12350751,"display_name":"FaraBara"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642183663,"creation_date":1642181980,"question_id":70714516,"body_markdown":"```\r\nstatic final Function&lt;Bill,Optional&lt;LocalDate&gt;&gt; toDateOfInjury = b -&gt; toClaim.andThen(opt -&gt; opt.map(Claim::getDatInjuryDate)).apply(b); \r\n\r\npublic static final Supplier&lt;Optional&lt;String&gt;&gt; emptyStrOpt = Optional::empty;\r\n\r\nstatic final Function&lt;Bill,Optional&lt;String&gt;&gt; dateOfInjuryNotNull = b -&gt;\r\n            toDateOfInjury.andThen(\r\n                    opt -&gt; opt.flatMap(doi -&gt; emptyStrOpt.get())\r\n                            .or(() -&gt; Optional.of(&quot;No date of injury&quot;))).apply(b);\r\n```\r\n\r\nIn a unit test, this always returns the &quot;No date of injury&quot; optional. I assume it is because  the empty result of flatMap triggers it. This is what I want:\r\n\r\n - null dateOfInjury: Optional.of(&quot;.....&quot;)\r\n - non-null dateOfInjury: Optional.empty()","title":"How do I avoid reaching the .or() in this code?","body":"<pre><code>static final Function&lt;Bill,Optional&lt;LocalDate&gt;&gt; toDateOfInjury = b -&gt; toClaim.andThen(opt -&gt; opt.map(Claim::getDatInjuryDate)).apply(b); \n\npublic static final Supplier&lt;Optional&lt;String&gt;&gt; emptyStrOpt = Optional::empty;\n\nstatic final Function&lt;Bill,Optional&lt;String&gt;&gt; dateOfInjuryNotNull = b -&gt;\n            toDateOfInjury.andThen(\n                    opt -&gt; opt.flatMap(doi -&gt; emptyStrOpt.get())\n                            .or(() -&gt; Optional.of(&quot;No date of injury&quot;))).apply(b);\n</code></pre>\n<p>In a unit test, this always returns the &quot;No date of injury&quot; optional. I assume it is because  the empty result of flatMap triggers it. This is what I want:</p>\n<ul>\n<li>null dateOfInjury: Optional.of(&quot;.....&quot;)</li>\n<li>non-null dateOfInjury: Optional.empty()</li>\n</ul>\n"},{"tags":["java","xml","xsd","saxparser","xerces2-j"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642194638,"post_id":70713901,"comment_id":125015326,"body_markdown":"All of these are described in [the XML specification](https://www.w3.org/TR/xml/), mostly in section 4.2.2.","body":"All of these are described in <a href=\"https://www.w3.org/TR/xml/\" rel=\"nofollow noreferrer\">the XML specification</a>, mostly in section 4.2.2."}],"answers":[{"tags":[],"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642182475,"creation_date":1642182475,"answer_id":70714626,"question_id":70713901,"body_markdown":"&gt;  If the input is provided as a byte stream instead from some other source such as a database, is there any purpose to the public or system id?\r\n\r\nNo, because if the input is a byte stream there is no need to resolve the location of the entity.\r\n\r\n&gt; What do these identifiers represent?\r\n\r\nI think this thread explains it pretty well : \r\n\r\n```\r\nSYSTEM declaration can be used to specify a file on the local file\r\nsystem like:\r\n\r\n&lt;!DOCTYPE RootElement SYSTEM &quot;C:\\validate.dtd&quot;&gt;\r\n\r\nThe problem with this approach is that if the file is made public the\r\npath specified on the local file system will not have any meaning any\r\nmore. Even if the path specified in the SYSTEM declaration *is* a URL:\r\n\r\n&lt;!DOCTYPE RootElement SYSTEM &quot;http://www.mihaiu.name/validate.dtd&quot;&gt;\r\n\r\nthe parser might be unable to retrieve the DTD file if the system is\r\nnot connected to the Internet.\r\n\r\nThe PUBLIC declaration constitutes a partial solution to this problem.\r\nThe string contained in a PUBLIC declaration is not an URL but an URN\r\n(Uniform Resource Name). A URN does not pinpoint the precise location\r\nof the resource, but only clearly specify its name. The *parser* of the\r\ndocument must be smart enough to be able to generate a URL from a URN\r\nusing some internal logic.\r\n\r\nExample of a PUBLIC declaration:\r\n\r\n&lt;!DOCTYPE RootElement PUBLIC &quot;mihaiu/validate.dtd&quot;\r\nSYSTEM &quot;http://www.mihaiu.name/validate.dtd&quot;&gt;\r\n\r\nIn this case, a custom parser that already has a catalogue of DTDs\r\npublished by mihaiu can generate a URL from the PUBLIC declaration. The\r\ngenerated URL can look like\r\n\r\nc:\\DTDs\\validate.dtd\r\n\r\nThere is no standard way to convert a URN to a URL, so, if this\r\nconversion fails because the parser does not contain the internal logic\r\nto perform such a conversion (or for whatever other reason) the parser\r\nwill attempt to use the SYSTEM declaration which in this case resolves\r\nto\r\n\r\nhttp://www.mihaiu.name/validate.dtd\r\n\r\nImportant observation:\r\nSince there is no standard way to generate a URL from a URN the PUBLIC\r\ndeclarations can only be useful for customized parsers !!! (e.g. they\r\nare not useful for general purpose parsers like Xerces)\r\n","title":"What do Public Identifier, System Identifier, and Base system identifier refer to in XML?","body":"<blockquote>\n<p>If the input is provided as a byte stream instead from some other source such as a database, is there any purpose to the public or system id?</p>\n</blockquote>\n<p>No, because if the input is a byte stream there is no need to resolve the location of the entity.</p>\n<blockquote>\n<p>What do these identifiers represent?</p>\n</blockquote>\n<p>I think this thread explains it pretty well :</p>\n<pre><code>SYSTEM declaration can be used to specify a file on the local file\nsystem like:\n\n&lt;!DOCTYPE RootElement SYSTEM &quot;C:\\validate.dtd&quot;&gt;\n\nThe problem with this approach is that if the file is made public the\npath specified on the local file system will not have any meaning any\nmore. Even if the path specified in the SYSTEM declaration *is* a URL:\n\n&lt;!DOCTYPE RootElement SYSTEM &quot;http://www.mihaiu.name/validate.dtd&quot;&gt;\n\nthe parser might be unable to retrieve the DTD file if the system is\nnot connected to the Internet.\n\nThe PUBLIC declaration constitutes a partial solution to this problem.\nThe string contained in a PUBLIC declaration is not an URL but an URN\n(Uniform Resource Name). A URN does not pinpoint the precise location\nof the resource, but only clearly specify its name. The *parser* of the\ndocument must be smart enough to be able to generate a URL from a URN\nusing some internal logic.\n\nExample of a PUBLIC declaration:\n\n&lt;!DOCTYPE RootElement PUBLIC &quot;mihaiu/validate.dtd&quot;\nSYSTEM &quot;http://www.mihaiu.name/validate.dtd&quot;&gt;\n\nIn this case, a custom parser that already has a catalogue of DTDs\npublished by mihaiu can generate a URL from the PUBLIC declaration. The\ngenerated URL can look like\n\nc:\\DTDs\\validate.dtd\n\nThere is no standard way to convert a URN to a URL, so, if this\nconversion fails because the parser does not contain the internal logic\nto perform such a conversion (or for whatever other reason) the parser\nwill attempt to use the SYSTEM declaration which in this case resolves\nto\n\nhttp://www.mihaiu.name/validate.dtd\n\nImportant observation:\nSince there is no standard way to generate a URL from a URN the PUBLIC\ndeclarations can only be useful for customized parsers !!! (e.g. they\nare not useful for general purpose parsers like Xerces)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642182942,"creation_date":1642182942,"answer_id":70714717,"question_id":70713901,"body_markdown":"If you look at the XML syntax, you will see, for example that external entity references use the syntax:\r\n\r\n    ExternalID ::= &#39;SYSTEM&#39; S SystemLiteral\r\n      | &#39;PUBLIC&#39; S PubidLiteral S SystemLiteral\r\n\r\nHere&#39;s an example of this syntax in use:\r\n\r\n    &lt;!ENTITY open-hatch\r\n             PUBLIC &quot;-//Textuality//TEXT Standard open-hatch boilerplate//EN&quot;\r\n             &quot;http://www.textuality.com/boilerplate/OpenHatch.xml&quot;&gt;\r\n\r\nReferences to DTDs work in the same way (in fact, external DTDs are technically-speaking one kind of entity).\r\n\r\nThe &quot;system identifier&quot; is a URI that identifies where the text of an entity can be found. The &quot;public identifier&quot; (a hangover from SGML) is more like a name for the resource; it only helps you find the resource if you have some kind of index or catalog that tells you where to look.\r\n\r\nSystem identifiers are often given as relative URI references (for example &quot;books.dtd&quot;) which need to be resolved relative to a base URI. The base URI is generally the location where the containing resource (or entity) was found. For example, if an XML document is at `http://my.com/lib/books.xml` then its base URI is `http://my.com/lib/` and the relative URI `books.dtd` is then expanded to `http://my.com/lib/books.dtd`.\r\n\r\nIn answer to your question &quot;is there any purpose to the public or system id&quot; the answer is no if the document consists entirely of a single entity (which is often the case). But as soon as multiple entities come into play, you need identifiers to link them together. ","title":"What do Public Identifier, System Identifier, and Base system identifier refer to in XML?","body":"<p>If you look at the XML syntax, you will see, for example that external entity references use the syntax:</p>\n<pre><code>ExternalID ::= 'SYSTEM' S SystemLiteral\n  | 'PUBLIC' S PubidLiteral S SystemLiteral\n</code></pre>\n<p>Here's an example of this syntax in use:</p>\n<pre><code>&lt;!ENTITY open-hatch\n         PUBLIC &quot;-//Textuality//TEXT Standard open-hatch boilerplate//EN&quot;\n         &quot;http://www.textuality.com/boilerplate/OpenHatch.xml&quot;&gt;\n</code></pre>\n<p>References to DTDs work in the same way (in fact, external DTDs are technically-speaking one kind of entity).</p>\n<p>The &quot;system identifier&quot; is a URI that identifies where the text of an entity can be found. The &quot;public identifier&quot; (a hangover from SGML) is more like a name for the resource; it only helps you find the resource if you have some kind of index or catalog that tells you where to look.</p>\n<p>System identifiers are often given as relative URI references (for example &quot;books.dtd&quot;) which need to be resolved relative to a base URI. The base URI is generally the location where the containing resource (or entity) was found. For example, if an XML document is at <code>http://my.com/lib/books.xml</code> then its base URI is <code>http://my.com/lib/</code> and the relative URI <code>books.dtd</code> is then expanded to <code>http://my.com/lib/books.dtd</code>.</p>\n<p>In answer to your question &quot;is there any purpose to the public or system id&quot; the answer is no if the document consists entirely of a single entity (which is often the case). But as soon as multiple entities come into play, you need identifiers to link them together.</p>\n"}],"owner":{"account_id":875894,"reputation":3530,"user_id":925549,"accept_rate":73,"display_name":"yas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70714717,"answer_count":2,"score":0,"last_activity_date":1642182942,"creation_date":1642178786,"question_id":70713901,"body_markdown":"The Xerces2-j [XMLInputSource][1], and also SAX [InputSource][2], refer to public and system identifiers.  Xerces2-J `XMLInputSource` also refers to a base system identifier.\r\n\r\nWhat do these identifiers represent?  \r\n\r\nEdit: Xerces-J, when give a file location as the SystemId, will open the file as input.  If the input is provided as a byte stream instead from some other source such as a database, is there any purpose to the public or system id?\r\n\r\n  [1]: https://xerces.apache.org/xerces2-j/javadocs/xni/org/apache/xerces/xni/parser/XMLInputSource.html\r\n  [2]: http://www.saxproject.org/apidoc/org/xml/sax/InputSource.html","title":"What do Public Identifier, System Identifier, and Base system identifier refer to in XML?","body":"<p>The Xerces2-j <a href=\"https://xerces.apache.org/xerces2-j/javadocs/xni/org/apache/xerces/xni/parser/XMLInputSource.html\" rel=\"nofollow noreferrer\">XMLInputSource</a>, and also SAX <a href=\"http://www.saxproject.org/apidoc/org/xml/sax/InputSource.html\" rel=\"nofollow noreferrer\">InputSource</a>, refer to public and system identifiers.  Xerces2-J <code>XMLInputSource</code> also refers to a base system identifier.</p>\n<p>What do these identifiers represent?</p>\n<p>Edit: Xerces-J, when give a file location as the SystemId, will open the file as input.  If the input is provided as a byte stream instead from some other source such as a database, is there any purpose to the public or system id?</p>\n"},{"tags":["java","java.util.scanner","jdialog"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1642210407,"post_id":70714646,"comment_id":125018292,"body_markdown":"Don&#39;t use a Scanner. If you are building a graphical application then use a `JOptionPane` to get user input.","body":"Don&#39;t use a Scanner. If you are building a graphical application then use a <code>JOptionPane</code> to get user input."},{"owner":{"account_id":23942305,"reputation":1,"user_id":17935184,"display_name":"asrhiphop"},"score":0,"creation_date":1642329957,"post_id":70714646,"comment_id":125037571,"body_markdown":"@camickr, I&#39;m not doing a graphical application, I just use JDialog for a short amount of time, but I think I&#39;ll change everything to a graphical application and use JOptionPane as you suggested.\n\nAnyways, I kept trying to solve my problem and I came out with this solution:\n`stdin.skip(&quot;.*&quot;);`\n`stdin = new Scanner(&quot;System.in&quot;);`\n`System.out.print(&quot;Type something: &quot;);`\n\n\nIt works, but I don&#39;t know how safe it is to do this...","body":"@camickr, I&#39;m not doing a graphical application, I just use JDialog for a short amount of time, but I think I&#39;ll change everything to a graphical application and use JOptionPane as you suggested.  Anyways, I kept trying to solve my problem and I came out with this solution: <code>stdin.skip(&quot;.*&quot;);</code> <code>stdin = new Scanner(&quot;System.in&quot;);</code> <code>System.out.print(&quot;Type something: &quot;);</code>   It works, but I don&#39;t know how safe it is to do this..."}],"owner":{"account_id":23942305,"reputation":1,"user_id":17935184,"display_name":"asrhiphop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642182563,"creation_date":1642182563,"question_id":70714646,"body_markdown":"I&#39;ve a program that, when I open an image with JDialog, the consoles freezes, as expected, but if I write on the console while frozen, the scanner will catch what I typed, after I close the image, the scanner will give me what I typed earlier. I tried to reset the scanner but it didn&#39;t work.\r\n\r\nHere&#39;s an example:\r\n\r\n    import java.util.Scanner;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    \r\n    public class Program\r\n    {\r\n        public static void main(String[] args) {\r\n            Scanner stdin = new Scanner(System.in);\r\n            File file = new File(&quot;example.png&quot;);\r\n    \r\n            try{\r\n                BufferedImage img = ImageIO.read(file);\r\n                ImageIcon icon=new ImageIcon(img);\r\n                JLabel lbl=new JLabel();\r\n                lbl.setIcon(icon);\r\n                \r\n                JFrame frame=new JFrame();\r\n                JDialog jdialog = new JDialog(frame, name, true);\r\n    \r\n                jdialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n                jdialog.setSize(img.getWidth(), img.getHeight());\r\n                jdialog.setModal(true);\r\n                jdialog.add(lbl);\r\n                jdialog.setVisible(true);\r\n            }\r\n            catch (IOException e){\r\n                String workingDir = System.getProperty(&quot;user.dir&quot;);\r\n                System.out.println(&quot;Current working directory : &quot; + workingDir);\r\n                e.printStackTrace();\r\n            }\r\n            System.out.print(&quot;Type something: &quot;);\r\n            String line = stdin.nextLine();\r\n            System.out.println(&quot;You typed &quot;+line+&quot;, right?&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n**What I wanted to do:**\r\n\r\n(Show image)\r\n\r\nUser type: hello\r\n\r\n(User closes image)\r\n\r\nType something:\r\n\r\nUser type: bye\r\n\r\nYou typed bye, right?\r\n\r\n**What happens:**\r\n\r\n(Show image)\r\n\r\nUser type: hello\r\n\r\n(User closes image)\r\n\r\nType something: hello\r\n\r\nYou typed hello, right?\r\n","title":"Block input while JDialog is open","body":"<p>I've a program that, when I open an image with JDialog, the consoles freezes, as expected, but if I write on the console while frozen, the scanner will catch what I typed, after I close the image, the scanner will give me what I typed earlier. I tried to reset the scanner but it didn't work.</p>\n<p>Here's an example:</p>\n<pre><code>import java.util.Scanner;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class Program\n{\n    public static void main(String[] args) {\n        Scanner stdin = new Scanner(System.in);\n        File file = new File(&quot;example.png&quot;);\n\n        try{\n            BufferedImage img = ImageIO.read(file);\n            ImageIcon icon=new ImageIcon(img);\n            JLabel lbl=new JLabel();\n            lbl.setIcon(icon);\n            \n            JFrame frame=new JFrame();\n            JDialog jdialog = new JDialog(frame, name, true);\n\n            jdialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n            jdialog.setSize(img.getWidth(), img.getHeight());\n            jdialog.setModal(true);\n            jdialog.add(lbl);\n            jdialog.setVisible(true);\n        }\n        catch (IOException e){\n            String workingDir = System.getProperty(&quot;user.dir&quot;);\n            System.out.println(&quot;Current working directory : &quot; + workingDir);\n            e.printStackTrace();\n        }\n        System.out.print(&quot;Type something: &quot;);\n        String line = stdin.nextLine();\n        System.out.println(&quot;You typed &quot;+line+&quot;, right?&quot;);\n    }\n}\n</code></pre>\n<p><strong>What I wanted to do:</strong></p>\n<p>(Show image)</p>\n<p>User type: hello</p>\n<p>(User closes image)</p>\n<p>Type something:</p>\n<p>User type: bye</p>\n<p>You typed bye, right?</p>\n<p><strong>What happens:</strong></p>\n<p>(Show image)</p>\n<p>User type: hello</p>\n<p>(User closes image)</p>\n<p>Type something: hello</p>\n<p>You typed hello, right?</p>\n"},{"tags":["java","spring-boot","gradle","azure-pipelines"],"comments":[{"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"score":0,"creation_date":1642178915,"post_id":70713862,"comment_id":125010014,"body_markdown":"I made a copy/paste mistake, when I brought the variable to Java options I still used colon and space rather than equals, and no, the connection string has no whitespace","body":"I made a copy/paste mistake, when I brought the variable to Java options I still used colon and space rather than equals, and no, the connection string has no whitespace"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1642179604,"post_id":70713862,"comment_id":125010313,"body_markdown":"You forgot to say what problem you’re facing. Is your test skipped due to the absence of the variable?","body":"You forgot to say what problem you’re facing. Is your test skipped due to the absence of the variable?"},{"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"score":0,"creation_date":1642181398,"post_id":70713862,"comment_id":125010991,"body_markdown":"@AbhijitSarkar correct. I wrote the paragraphs in different order so I focused on the &quot;how&quot; other than the &quot;what&#39;s wrong&quot;. I amended and yes, I confirm that the tests are skipped because the variable is unset","body":"@AbhijitSarkar correct. I wrote the paragraphs in different order so I focused on the &quot;how&quot; other than the &quot;what&#39;s wrong&quot;. I amended and yes, I confirm that the tests are skipped because the variable is unset"}],"answers":[{"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642182357,"creation_date":1642182357,"answer_id":70714599,"question_id":70713862,"body_markdown":"Found the correct way in YAML\r\n\r\n              - task: Gradle@3\r\n                displayName: Build with Gradle\r\n                inputs:\r\n                  gradleWrapperFile: gradlew\r\n                  gradleOptions: |\r\n                    -Xmx10240m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n                    -DIT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING=$(IT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING)\r\n                  options: -Pci=true -PbuildId=$(Build.BuildId) -Preckon.stage=${{parameters.versionStage}} -Preckon.scope=${{parameters.versionScope}}\r\n                  jdkVersionOption: 1.11\r\n                  jdkArchitectureOption: x64\r\n                  publishJUnitResults: true\r\n                  sqAnalysisEnabled: true\r\n                  sqGradlePluginVersionChoice: specify\r\n                  sqGradlePluginVersion: 3.2.0\r\n                  testResultsFiles: &#39;$(System.DefaultWorkingDirectory)/build/test-results/**/TEST-*.xml&#39;\r\n                  tasks: clean build\r\n                env:\r\n                  IT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING: $(testStorageAccountConnectionString)\r\n\r\n\r\n## Explanation\r\n\r\nFollowing [the guide][1], it is explained that every secret variable **MUST** be mapped to an environment variable. What is not said explicitly is that Gradle doesn&#39;t get them injected directly once they are in the environment.\r\n\r\nFor that, you want to use `gradleOptions` (`javaOptions` didn&#39;t work quite well) and inject the `-D` property. The more connection strings or variables in general you need to inject from Gradle, the more code you&#39;ll have to write\r\n\r\n\r\n  [1]: https://learn.microsoft.com/azure/devops/pipelines/process/variables?view=azure-devops&amp;tabs=yaml%2Cbatch","title":"Setting Azure Pipelines -&gt; Gradle -&gt; JUnit -&gt; Spring Boot environment variables correctly","body":"<p>Found the correct way in YAML</p>\n<pre><code>          - task: Gradle@3\n            displayName: Build with Gradle\n            inputs:\n              gradleWrapperFile: gradlew\n              gradleOptions: |\n                -Xmx10240m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n                -DIT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING=$(IT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING)\n              options: -Pci=true -PbuildId=$(Build.BuildId) -Preckon.stage=${{parameters.versionStage}} -Preckon.scope=${{parameters.versionScope}}\n              jdkVersionOption: 1.11\n              jdkArchitectureOption: x64\n              publishJUnitResults: true\n              sqAnalysisEnabled: true\n              sqGradlePluginVersionChoice: specify\n              sqGradlePluginVersion: 3.2.0\n              testResultsFiles: '$(System.DefaultWorkingDirectory)/build/test-results/**/TEST-*.xml'\n              tasks: clean build\n            env:\n              IT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING: $(testStorageAccountConnectionString)\n</code></pre>\n<h2>Explanation</h2>\n<p>Following <a href=\"https://learn.microsoft.com/azure/devops/pipelines/process/variables?view=azure-devops&amp;tabs=yaml%2Cbatch\" rel=\"nofollow noreferrer\">the guide</a>, it is explained that every secret variable <strong>MUST</strong> be mapped to an environment variable. What is not said explicitly is that Gradle doesn't get them injected directly once they are in the environment.</p>\n<p>For that, you want to use <code>gradleOptions</code> (<code>javaOptions</code> didn't work quite well) and inject the <code>-D</code> property. The more connection strings or variables in general you need to inject from Gradle, the more code you'll have to write</p>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642182357,"creation_date":1642178620,"question_id":70713862,"body_markdown":"I have an Azure DevOps pipeline to run a build validation. One of my JUnit tests requires connecting to real Azure Blob Storage account, whose connection string is to be kept protected, and is already defined as a secret environment variable.\r\n\r\nTests are run via Azure Gradle task as shown later. So DevOps -&gt; Gradle -&gt; JUnit -&gt; Spring Boot is the chain.\r\n\r\n## Question\r\n\r\nHow do I pass a secret pipeline variable as an environment variable to a Spring JUnit 5 test using Azure Gradle Task?\r\n\r\nHow does IntelliJ IDEA inject environment variables, as shown below, into the Spring Boot environment of a JUnit test?\r\n\r\n## Code\r\n\r\n- OrbitProperties is a class annotated `@ConfigurationProperties(value = &quot;it.orbit&quot;, ignoreInvalidFields = true)`\r\n- `String azureConnectionString = orbitProperties.getFileRepository().getAzureStorageConnectionString();`\r\n\r\nThe `beforeEach` method has a kill-switch (a skip-switch to be precise) to skip the test if the connection string is not present\r\n\r\n        assumeTrue(() -&gt; isNotBlank(azureConnectionString));\r\n\r\n\r\n## Local setup\r\n\r\nRunning IntelliJ IDEA, I can set the environment variable according to Spring convention: `IT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING`\r\n\r\n[![IDEA setup][2]][2]\r\n\r\nTests work, as I can see and debug them writing stuff to Azure.\r\nActually, even the production app works by setting the environment variable in Web App Configuration in Azure Portal.\r\n\r\n## Pipelines setup\r\n\r\nYAML\r\n\r\n              - task: Gradle@3\r\n                displayName: Build with Gradle\r\n                inputs:\r\n                  gradleWrapperFile: gradlew\r\n                  gradleOptions: -Xmx10240m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n                  options: -Pci=true -PbuildId=$(Build.BuildId) -Preckon.stage=${{parameters.versionStage}} -Preckon.scope=${{parameters.versionScope}}\r\n                  jdkVersionOption: 1.11\r\n                  jdkArchitectureOption: x64\r\n                  publishJUnitResults: true\r\n                  sqAnalysisEnabled: true\r\n                  sqGradlePluginVersionChoice: specify\r\n                  sqGradlePluginVersion: 3.2.0\r\n                  testResultsFiles: &#39;$(System.DefaultWorkingDirectory)/build/test-results/**/TEST-*.xml&#39;\r\n                  tasks: clean build\r\n                env:\r\n                  IT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING: ${{variables.testStorageAccountConnectionString}}\r\n\r\nAs you can see, I have used the `env` key to the Gradle task to supply Gradle with custom environment. I have preferred this over `-D` Java properties because in the future I could get a lot more properties to inject into the environment.\r\n\r\nI am currently trying in different ways. But the result is that the tests are skipped (because of the skip-switch) despite the test suite being successful. That&#39;s the purpose of skipping.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc2119\r\n  [2]: https://i.stack.imgur.com/sFVde.png","title":"Setting Azure Pipelines -&gt; Gradle -&gt; JUnit -&gt; Spring Boot environment variables correctly","body":"<p>I have an Azure DevOps pipeline to run a build validation. One of my JUnit tests requires connecting to real Azure Blob Storage account, whose connection string is to be kept protected, and is already defined as a secret environment variable.</p>\n<p>Tests are run via Azure Gradle task as shown later. So DevOps -&gt; Gradle -&gt; JUnit -&gt; Spring Boot is the chain.</p>\n<h2>Question</h2>\n<p>How do I pass a secret pipeline variable as an environment variable to a Spring JUnit 5 test using Azure Gradle Task?</p>\n<p>How does IntelliJ IDEA inject environment variables, as shown below, into the Spring Boot environment of a JUnit test?</p>\n<h2>Code</h2>\n<ul>\n<li>OrbitProperties is a class annotated <code>@ConfigurationProperties(value = &quot;it.orbit&quot;, ignoreInvalidFields = true)</code></li>\n<li><code>String azureConnectionString = orbitProperties.getFileRepository().getAzureStorageConnectionString();</code></li>\n</ul>\n<p>The <code>beforeEach</code> method has a kill-switch (a skip-switch to be precise) to skip the test if the connection string is not present</p>\n<pre><code>    assumeTrue(() -&gt; isNotBlank(azureConnectionString));\n</code></pre>\n<h2>Local setup</h2>\n<p>Running IntelliJ IDEA, I can set the environment variable according to Spring convention: <code>IT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING</code></p>\n<p><a href=\"https://i.stack.imgur.com/sFVde.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFVde.png\" alt=\"IDEA setup\" /></a></p>\n<p>Tests work, as I can see and debug them writing stuff to Azure.\nActually, even the production app works by setting the environment variable in Web App Configuration in Azure Portal.</p>\n<h2>Pipelines setup</h2>\n<p>YAML</p>\n<pre><code>          - task: Gradle@3\n            displayName: Build with Gradle\n            inputs:\n              gradleWrapperFile: gradlew\n              gradleOptions: -Xmx10240m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n              options: -Pci=true -PbuildId=$(Build.BuildId) -Preckon.stage=${{parameters.versionStage}} -Preckon.scope=${{parameters.versionScope}}\n              jdkVersionOption: 1.11\n              jdkArchitectureOption: x64\n              publishJUnitResults: true\n              sqAnalysisEnabled: true\n              sqGradlePluginVersionChoice: specify\n              sqGradlePluginVersion: 3.2.0\n              testResultsFiles: '$(System.DefaultWorkingDirectory)/build/test-results/**/TEST-*.xml'\n              tasks: clean build\n            env:\n              IT_ORBIT_FILE_REPOSITORY_AZURE_STORAGE_CONNECTION_STRING: ${{variables.testStorageAccountConnectionString}}\n</code></pre>\n<p>As you can see, I have used the <code>env</code> key to the Gradle task to supply Gradle with custom environment. I have preferred this over <code>-D</code> Java properties because in the future I could get a lot more properties to inject into the environment.</p>\n<p>I am currently trying in different ways. But the result is that the tests are skipped (because of the skip-switch) despite the test suite being successful. That's the purpose of skipping.</p>\n"},{"tags":["java","session","ssh","connection","jsch"],"comments":[{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":1,"creation_date":1594242897,"post_id":62796891,"comment_id":111061975,"body_markdown":"Try https://github.com/mwiede/jsch it supports more algorithms","body":"Try <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">github.com/mwiede/jsch</a> it supports more algorithms"}],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595654867,"creation_date":1594484172,"answer_id":62851661,"question_id":62796891,"body_markdown":"&gt; INFO: kex: server: curve25519-sha256@libssh.org,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group16-sha512\r\n\r\nJSch (as of 0.1.55) does not support any of those KEX algorithms.\r\n\r\nYou will have to have the server support some of the algorithms that JSch supports or switch to another SSH client library.\r\n\r\n---\r\n\r\n*Obligatory warning: Do not use `StrictHostKeyChecking=no` to blindly accept all host keys. That is a security flaw. You lose a protection against [MITM attacks](https://en.wikipedia.org/wiki/Man-in-the-middle_attack).*\r\n\r\n*For the correct (and secure) approach, see:  \r\nhttps://stackoverflow.com/q/32852906/850848*\r\n\r\n","title":"JSch connection issue: JSchException: Algorithm negotiation fail – Even with JCE installed","body":"<blockquote>\n<p>INFO: kex: server: curve25519-sha256@libssh.org,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group16-sha512</p>\n</blockquote>\n<p>JSch (as of 0.1.55) does not support any of those KEX algorithms.</p>\n<p>You will have to have the server support some of the algorithms that JSch supports or switch to another SSH client library.</p>\n<hr />\n<p><em>Obligatory warning: Do not use <code>StrictHostKeyChecking=no</code> to blindly accept all host keys. That is a security flaw. You lose a protection against <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noreferrer\">MITM attacks</a>.</em></p>\n<p><em>For the correct (and secure) approach, see:<br />\n<a href=\"https://stackoverflow.com/q/32852906/850848\">How to resolve Java UnknownHostKey, while using JSch SFTP library?</a></em></p>\n"},{"tags":[],"owner":{"account_id":10097876,"reputation":732,"user_id":7462676,"display_name":"Simone Colnaghi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642181991,"creation_date":1642181991,"answer_id":70714519,"question_id":62796891,"body_markdown":"For those who are facing this issue, change your pom from:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.jcraft/jsch --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.1.54&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.github.mwiede/jsch --&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.1.72&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nHere is the repository: https://github.com/mwiede/jsch","title":"JSch connection issue: JSchException: Algorithm negotiation fail – Even with JCE installed","body":"<p>For those who are facing this issue, change your pom from:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.jcraft/jsch --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.1.54&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.github.mwiede/jsch --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.1.72&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the repository: <a href=\"https://github.com/mwiede/jsch\" rel=\"noreferrer\">https://github.com/mwiede/jsch</a></p>\n"}],"owner":{"account_id":5811830,"reputation":13,"user_id":4582617,"display_name":"Aakash Panchal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62851661,"answer_count":2,"score":1,"last_activity_date":1642181991,"creation_date":1594217811,"question_id":62796891,"body_markdown":"I am trying to connect to a server using JSch but it gives issues with connection. I am able to connect to the server using PuTTY but not using Java code.\r\n\r\nI am using jdk1.8.0_171\r\n\r\nHere is the code snippet\r\n\r\n```\r\nsession = jsch.getSession(username, server, SSH_PORT);\r\nsession.setPassword(password);\r\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\nsession.setTimeout(timeout);\r\nsession.connect(timeout);\r\n```\r\n\r\nI am getting the following exception:\r\n\r\n``` none\r\ncom.jcraft.jsch.JSchException: Algorithm negotiation fail\r\nat com.jcraft.jsch.Session.receive_kexinit(Session.java:590)\r\nat com.jcraft.jsch.Session.connect(Session.java:320)\r\n```\r\n\r\nBelow are the JSch logs:\r\n\r\n``` none\r\nINFO: Connecting to &lt;servername&gt; port 22\r\nINFO: Connection established\r\nINFO: Remote version string: SSH-2.0-OpenSSH_8.0\r\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\r\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: SSH_MSG_KEXINIT sent\r\nINFO: SSH_MSG_KEXINIT received\r\nINFO: kex: server: curve25519-sha256@libssh.org,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group16-sha512\r\nINFO: kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\nINFO: kex: server: chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr\r\nINFO: kex: server: chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr\r\nINFO: kex: server: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,hmac-sha1-etm@openssh.com,hmac-sha1,umac-128-etm@openssh.com,umac-64-etm@openssh.com,umac-128@openssh.com,umac-64@openssh.com\r\nINFO: kex: server: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,hmac-sha1-etm@openssh.com,hmac-sha1,umac-128-etm@openssh.com,umac-64-etm@openssh.com,umac-128@openssh.com,umac-64@openssh.com\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server: \r\nINFO: kex: server: \r\nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: none\r\nINFO: kex: client: none\r\nINFO: kex: client: \r\nINFO: kex: client: \r\nINFO: Disconnecting from &lt;servername&gt; port 22\r\ncom.jcraft.jsch.JSchException: Algorithm negotiation fail\r\n```\r\n\r\nHere is the pom file:\r\n\r\n``` xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.54&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI also tried using JSch 0.1.55, still the same issue.\r\n\r\nI have checked the https://stackoverflow.com/questions/6263630/jschexception-algorithm-negotiation-fail. But as you can see in the log, all ciphers are available.\r\n\r\nIt would be preferable if no changes are done on the server side. \r\n\r\nHow do I solve this? Thank you for your help.\r\n\r\n\r\n\r\n","title":"JSch connection issue: JSchException: Algorithm negotiation fail – Even with JCE installed","body":"<p>I am trying to connect to a server using JSch but it gives issues with connection. I am able to connect to the server using PuTTY but not using Java code.</p>\n<p>I am using jdk1.8.0_171</p>\n<p>Here is the code snippet</p>\n<pre><code>session = jsch.getSession(username, server, SSH_PORT);\nsession.setPassword(password);\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\nsession.setTimeout(timeout);\nsession.connect(timeout);\n</code></pre>\n<p>I am getting the following exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.jcraft.jsch.JSchException: Algorithm negotiation fail\nat com.jcraft.jsch.Session.receive_kexinit(Session.java:590)\nat com.jcraft.jsch.Session.connect(Session.java:320)\n</code></pre>\n<p>Below are the JSch logs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO: Connecting to &lt;servername&gt; port 22\nINFO: Connection established\nINFO: Remote version string: SSH-2.0-OpenSSH_8.0\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: kex: server: curve25519-sha256@libssh.org,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,diffie-hellman-group16-sha512\nINFO: kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa\nINFO: kex: server: chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr\nINFO: kex: server: chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr\nINFO: kex: server: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,hmac-sha1-etm@openssh.com,hmac-sha1,umac-128-etm@openssh.com,umac-64-etm@openssh.com,umac-128@openssh.com,umac-64@openssh.com\nINFO: kex: server: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256,hmac-sha1-etm@openssh.com,hmac-sha1,umac-128-etm@openssh.com,umac-64-etm@openssh.com,umac-128@openssh.com,umac-64@openssh.com\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server: \nINFO: kex: server: \nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: none\nINFO: kex: client: none\nINFO: kex: client: \nINFO: kex: client: \nINFO: Disconnecting from &lt;servername&gt; port 22\ncom.jcraft.jsch.JSchException: Algorithm negotiation fail\n</code></pre>\n<p>Here is the pom file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.1.54&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I also tried using JSch 0.1.55, still the same issue.</p>\n<p>I have checked the <a href=\"https://stackoverflow.com/questions/6263630/jschexception-algorithm-negotiation-fail\">JSchException: Algorithm negotiation fail</a>. But as you can see in the log, all ciphers are available.</p>\n<p>It would be preferable if no changes are done on the server side.</p>\n<p>How do I solve this? Thank you for your help.</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","rmq"],"answers":[{"tags":[],"owner":{"account_id":17689981,"reputation":31,"user_id":12841996,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635335610,"creation_date":1635335610,"answer_id":69738175,"question_id":69735295,"body_markdown":"Set reply timeout to some bigger number and see the effect.\r\n\r\n        rabbitTemplate.setReplyTimeout(60000);\r\n\r\nhttps://docs.spring.io/spring-amqp/reference/html/#reply-timeout","title":"Reply timeout when using AsyncRabbitTemplate::sendAndReceive - RabbitMQ","body":"<p>Set reply timeout to some bigger number and see the effect.</p>\n<pre><code>    rabbitTemplate.setReplyTimeout(60000);\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-amqp/reference/html/#reply-timeout\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/reference/html/#reply-timeout</a></p>\n"},{"tags":[],"owner":{"account_id":18495140,"reputation":23,"user_id":13473764,"display_name":"hawkeye-73"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642181788,"creation_date":1642181788,"answer_id":70714480,"question_id":69735295,"body_markdown":"`asyncRabbitTemplate.sendAndReceive(..)` will always expect a response from the consumer of the message, hence the timeout you are receiving. \r\n\r\nTo fire and forget use the standard `RabbitTemplate.send(...)` and catching any exceptions in a try/catch block:\r\n\r\n    try {\r\n            rabbitTemplate.send(&quot;1.1.1.csv-routing-key&quot;,\r\n            new Message(\r\n                &quot;a,test,csv&quot;.getBytes(StandardCharsets.UTF_8),\r\n                props.build());\r\n        } catch (AmqpException ex) {\r\n            log.error(&quot;failed to send rabbit message, routing key = {}&quot;, routingKey, ex);\r\n        }\r\n\r\n ","title":"Reply timeout when using AsyncRabbitTemplate::sendAndReceive - RabbitMQ","body":"<p><code>asyncRabbitTemplate.sendAndReceive(..)</code> will always expect a response from the consumer of the message, hence the timeout you are receiving.</p>\n<p>To fire and forget use the standard <code>RabbitTemplate.send(...)</code> and catching any exceptions in a try/catch block:</p>\n<pre><code>try {\n        rabbitTemplate.send(&quot;1.1.1.csv-routing-key&quot;,\n        new Message(\n            &quot;a,test,csv&quot;.getBytes(StandardCharsets.UTF_8),\n            props.build());\n    } catch (AmqpException ex) {\n        log.error(&quot;failed to send rabbit message, routing key = {}&quot;, routingKey, ex);\n    }\n</code></pre>\n"}],"owner":{"account_id":17891954,"reputation":138,"user_id":12998229,"display_name":"Thomas Turner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642181788,"creation_date":1635323490,"question_id":69735295,"body_markdown":"I recently changed from using a standard Rabbit Template, in my Spring Boot application, to using an Async Rabbit Template. In the process, I switched from the standard `send` method to using the `sendAndReceive` method.\r\n\\\r\n\\\r\nMaking this change does **not** seem to affect the publishing of messages to RabbitMQ, however I do now see stack traces as follows when sending messages:\r\n```\r\norg.springframework.amqp.core.AmqpReplyTimeoutException: Reply timed out\r\n\tat org.springframework.amqp.rabbit.AsyncRabbitTemplate$RabbitFuture$TimeoutTask.run(AsyncRabbitTemplate.java:762) [spring-rabbit-2.3.10.jar!/:2.3.10]\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.9.jar!/:5.3.9]\r\n```\r\nI have tried modifying various settings including the reply and receive timeouts but all that changes is the time it takes to receive the above error. I have also tried setting `useDirectReplyToContainer` to `true` as well as setting `useChannelForCorrelation` to `true`.\r\n\\\r\nI have managed to recreate the issue in a main method, included bellow, using a RabbitMQ broker running in docker.\r\n```Java\r\npublic static void main(String[] args) {\r\n        com.rabbitmq.client.ConnectionFactory cf = new com.rabbitmq.client.ConnectionFactory();\r\n        cf.setHost(&quot;localhost&quot;);\r\n        cf.setPort(5672);\r\n        cf.setUsername(&quot;&lt;my-username&gt;&quot;);\r\n        cf.setPassword(&quot;&lt;my-password&gt;&quot;);\r\n        cf.setVirtualHost(&quot;&lt;my-vhost&gt;&quot;);\r\n\r\n        ConnectionFactory connectionFactory = new CachingConnectionFactory(cf);\r\n\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setExchange(&quot;primary&quot;);\r\n        rabbitTemplate.setUseDirectReplyToContainer(true);\r\n        rabbitTemplate.setReceiveTimeout(10000);\r\n        rabbitTemplate.setReplyTimeout(10000);\r\n        rabbitTemplate.setUseChannelForCorrelation(true);\r\n\r\n        AsyncRabbitTemplate asyncRabbitTemplate = new AsyncRabbitTemplate(rabbitTemplate);\r\n        asyncRabbitTemplate.start();\r\n\r\n        System.out.printf(&quot;Async Rabbit Template Running? %b\\n&quot;, asyncRabbitTemplate.isRunning());\r\n\r\n        MessageBuilderSupport&lt;MessageProperties&gt; props = MessagePropertiesBuilder.newInstance()\r\n            .setContentType(MessageProperties.CONTENT_TYPE_TEXT_PLAIN)\r\n            .setMessageId(UUID.randomUUID().toString())\r\n            .setHeader(PUBLISH_TIME_HEADER, Instant.now(Clock.systemUTC()).toEpochMilli())\r\n            .setDeliveryMode(MessageDeliveryMode.NON_PERSISTENT);\r\n\r\n        asyncRabbitTemplate.sendAndReceive(\r\n            &quot;1.1.1.csv-routing-key&quot;,\r\n            new Message(\r\n                &quot;a,test,csv&quot;.getBytes(StandardCharsets.UTF_8),\r\n                props.build()\r\n            )\r\n        ).addCallback(new ListenableFutureCallback&lt;&gt;() {\r\n            @Override\r\n            public void onFailure(Throwable ex) {\r\n                System.out.printf(&quot;Error sending message:\\n%s\\n&quot;, ex.getLocalizedMessage());\r\n            }\r\n\r\n            @Override\r\n            public void onSuccess(Message result) {\r\n                System.out.println(&quot;Message successfully sent&quot;);\r\n            }\r\n        });\r\n    }\r\n```\r\nI am sure that I am just missing a configuration option but any help would be appricated.\r\n\\\r\n\\\r\nThanks. :) ","title":"Reply timeout when using AsyncRabbitTemplate::sendAndReceive - RabbitMQ","body":"<p>I recently changed from using a standard Rabbit Template, in my Spring Boot application, to using an Async Rabbit Template. In the process, I switched from the standard <code>send</code> method to using the <code>sendAndReceive</code> method.\n<br />\n<br />\nMaking this change does <strong>not</strong> seem to affect the publishing of messages to RabbitMQ, however I do now see stack traces as follows when sending messages:</p>\n<pre><code>org.springframework.amqp.core.AmqpReplyTimeoutException: Reply timed out\n    at org.springframework.amqp.rabbit.AsyncRabbitTemplate$RabbitFuture$TimeoutTask.run(AsyncRabbitTemplate.java:762) [spring-rabbit-2.3.10.jar!/:2.3.10]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.9.jar!/:5.3.9]\n</code></pre>\n<p>I have tried modifying various settings including the reply and receive timeouts but all that changes is the time it takes to receive the above error. I have also tried setting <code>useDirectReplyToContainer</code> to <code>true</code> as well as setting <code>useChannelForCorrelation</code> to <code>true</code>.\n<br />\nI have managed to recreate the issue in a main method, included bellow, using a RabbitMQ broker running in docker.</p>\n<pre><code>public static void main(String[] args) {\n        com.rabbitmq.client.ConnectionFactory cf = new com.rabbitmq.client.ConnectionFactory();\n        cf.setHost(&quot;localhost&quot;);\n        cf.setPort(5672);\n        cf.setUsername(&quot;&lt;my-username&gt;&quot;);\n        cf.setPassword(&quot;&lt;my-password&gt;&quot;);\n        cf.setVirtualHost(&quot;&lt;my-vhost&gt;&quot;);\n\n        ConnectionFactory connectionFactory = new CachingConnectionFactory(cf);\n\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setExchange(&quot;primary&quot;);\n        rabbitTemplate.setUseDirectReplyToContainer(true);\n        rabbitTemplate.setReceiveTimeout(10000);\n        rabbitTemplate.setReplyTimeout(10000);\n        rabbitTemplate.setUseChannelForCorrelation(true);\n\n        AsyncRabbitTemplate asyncRabbitTemplate = new AsyncRabbitTemplate(rabbitTemplate);\n        asyncRabbitTemplate.start();\n\n        System.out.printf(&quot;Async Rabbit Template Running? %b\\n&quot;, asyncRabbitTemplate.isRunning());\n\n        MessageBuilderSupport&lt;MessageProperties&gt; props = MessagePropertiesBuilder.newInstance()\n            .setContentType(MessageProperties.CONTENT_TYPE_TEXT_PLAIN)\n            .setMessageId(UUID.randomUUID().toString())\n            .setHeader(PUBLISH_TIME_HEADER, Instant.now(Clock.systemUTC()).toEpochMilli())\n            .setDeliveryMode(MessageDeliveryMode.NON_PERSISTENT);\n\n        asyncRabbitTemplate.sendAndReceive(\n            &quot;1.1.1.csv-routing-key&quot;,\n            new Message(\n                &quot;a,test,csv&quot;.getBytes(StandardCharsets.UTF_8),\n                props.build()\n            )\n        ).addCallback(new ListenableFutureCallback&lt;&gt;() {\n            @Override\n            public void onFailure(Throwable ex) {\n                System.out.printf(&quot;Error sending message:\\n%s\\n&quot;, ex.getLocalizedMessage());\n            }\n\n            @Override\n            public void onSuccess(Message result) {\n                System.out.println(&quot;Message successfully sent&quot;);\n            }\n        });\n    }\n</code></pre>\n<p>I am sure that I am just missing a configuration option but any help would be appricated.\n<br />\n<br />\nThanks. :)</p>\n"},{"tags":["java","android","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509984156,"creation_date":1509984156,"answer_id":47141025,"question_id":47137159,"body_markdown":"Check out the [Kafka REST Proxy][1] from Confluent. Whilst you&#39;re there have a look at [Kafka Streams][2], or [KSQL][3]. KSQL runs on top of Kafka Streams, and gives you a very simple way to do streams processing.\r\n\r\n\r\n\r\n  [1]: https://docs.confluent.io/current/kafka-rest/docs/intro.html\r\n\r\n\r\n\r\n  [2]: https://kafka.apache.org/documentation/streams/\r\n  [3]: https://www.confluent.io/blog/ksql-open-source-streaming-sql-for-apache-kafka/","title":"Using Kafka with Android","body":"<p>Check out the <a href=\"https://docs.confluent.io/current/kafka-rest/docs/intro.html\" rel=\"nofollow noreferrer\">Kafka REST Proxy</a> from Confluent. Whilst you're there have a look at <a href=\"https://kafka.apache.org/documentation/streams/\" rel=\"nofollow noreferrer\">Kafka Streams</a>, or <a href=\"https://www.confluent.io/blog/ksql-open-source-streaming-sql-for-apache-kafka/\" rel=\"nofollow noreferrer\">KSQL</a>. KSQL runs on top of Kafka Streams, and gives you a very simple way to do streams processing.</p>\n"}],"owner":{"account_id":7553207,"reputation":574,"user_id":5733896,"accept_rate":47,"display_name":"Adarsh Trivedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4453,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1642181654,"creation_date":1509971608,"question_id":47137159,"body_markdown":"I am trying to do a sample application with kafka to showcase it&#39;s streaming capabilities. Here is exactly what I want to do:\r\n\r\n1. Create an Android Application to Send Data to Kafka Topics through API&#39;s.\r\n\r\n2. Make API&#39;s publish it to the topic.\r\n\r\n3. Write a Streaming application to process and push it to another topic.\r\n\r\n4. Finally a bokeh application to pick data from the above topic and display the live graph.\r\n\r\nCan anyone suggest a good clean architecture for the same.\r\n\r\nHere are the thing that I have done with kafka: written a simple kafka producer,consumer and streaming application in java\r\n\r\nBut here are the things I am stuck with :\r\n\r\nIf I am using API&#39;s how do the API&#39;s communicate with the running kafka producer application, so that it can pass the data which the producers needs to publish to the topic.\r\n","title":"Using Kafka with Android","body":"<p>I am trying to do a sample application with kafka to showcase it's streaming capabilities. Here is exactly what I want to do:</p>\n\n<ol>\n<li><p>Create an Android Application to Send Data to Kafka Topics through API's.</p></li>\n<li><p>Make API's publish it to the topic.</p></li>\n<li><p>Write a Streaming application to process and push it to another topic.</p></li>\n<li><p>Finally a bokeh application to pick data from the above topic and display the live graph.</p></li>\n</ol>\n\n<p>Can anyone suggest a good clean architecture for the same.</p>\n\n<p>Here are the thing that I have done with kafka: written a simple kafka producer,consumer and streaming application in java</p>\n\n<p>But here are the things I am stuck with :</p>\n\n<p>If I am using API's how do the API's communicate with the running kafka producer application, so that it can pass the data which the producers needs to publish to the topic.</p>\n"},{"tags":["java","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":3581039,"reputation":59295,"user_id":2989261,"display_name":"Rico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642181267,"creation_date":1538586059,"answer_id":52632185,"question_id":52631163,"body_markdown":"The answer for the the specific case here is missing the `JVM_OPTS` in the startup command or startup script. However, more details on how to use these new options can be found in this [question/answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/52555036/2989261","title":"Environment variables not being resolved in Kubernetes Java deployment","body":"<p>The answer for the the specific case here is missing the <code>JVM_OPTS</code> in the startup command or startup script. However, more details on how to use these new options can be found in this <a href=\"https://stackoverflow.com/q/52555036/2989261\">question/answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":354003,"reputation":5284,"user_id":692076,"display_name":"silverfox"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1538586097,"creation_date":1538586097,"answer_id":52632194,"question_id":52631163,"body_markdown":"When running `java -XshowSettings:vm -version` in container, `JVM_OPTS` is not include in your command.\r\n\r\nTry with this one\r\n\r\n    kubectl exec test-service-deployment-79c9d4bd54-trxgj -c test-service \\\r\n              -- sh -c &#39;java $JVM_OPTS -XshowSettings:vm -version&#39;","title":"Environment variables not being resolved in Kubernetes Java deployment","body":"<p>When running <code>java -XshowSettings:vm -version</code> in container, <code>JVM_OPTS</code> is not include in your command.</p>\n\n<p>Try with this one</p>\n\n<pre><code>kubectl exec test-service-deployment-79c9d4bd54-trxgj -c test-service \\\n          -- sh -c 'java $JVM_OPTS -XshowSettings:vm -version'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14026299,"reputation":852,"user_id":10131244,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538588669,"creation_date":1538588669,"answer_id":52632860,"question_id":52631163,"body_markdown":"While building your docker image from docker file your java env variables are resolved and passed to enterypoint and then the image is built with the resolved values. Which in your dockerfile are:\n\n`JVM_OPTS=&quot;-Xmx256M&quot;`\n\n `JVM_ARGS=&quot;-Dspring.profiles.active=kubernetes&quot;`\n\nIf you want to use kubernetes env variable for java arguments, then give entrypoint as some `script.sh`, and in `script.sh` you use env variables which will be resolved while running the image in kubernetes, instead of at build time.","title":"Environment variables not being resolved in Kubernetes Java deployment","body":"<p>While building your docker image from docker file your java env variables are resolved and passed to enterypoint and then the image is built with the resolved values. Which in your dockerfile are:</p>\n\n<p><code>JVM_OPTS=\"-Xmx256M\"</code></p>\n\n<p><code>JVM_ARGS=\"-Dspring.profiles.active=kubernetes\"</code></p>\n\n<p>If you want to use kubernetes env variable for java arguments, then give entrypoint as some <code>script.sh</code>, and in <code>script.sh</code> you use env variables which will be resolved while running the image in kubernetes, instead of at build time.</p>\n"}],"owner":{"account_id":14469451,"reputation":43,"user_id":10451902,"display_name":"JJ_Mind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7028,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52632194,"answer_count":3,"score":4,"last_activity_date":1642181267,"creation_date":1538582138,"question_id":52631163,"body_markdown":"After learning about arguments that can be passed to a Java 8 Virtual Machine to make it container-aware (i.e. -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap), I am trying to add these arguments to my Kubernetes deployment for a Spring Boot service.\r\n\r\nIn containers section of my deployment YAML file, I have the following:&lt;p&gt;\r\n&lt;pre&gt;\r\n\r\n    resources:\r\n        requests:\r\n            memory: &quot;256Mi&quot;\r\n            cpu: &quot;50m&quot;\r\n        limits:&lt;br/&gt;\r\n            memory: &quot;512Mi&quot;\r\n            cpu: &quot;200m&quot;\r\n    env:\r\n    - name: JVM_OPTS\r\n      value: &quot;-Xms256M -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=1&quot;\r\n\r\n&lt;/pre&gt;\r\n\r\nIn my Dockerfile, I have:\r\n&lt;pre&gt;\r\n\r\n    ENV JVM_OPTS=&quot;-Xmx256M&quot;\r\n    ENV JVM_ARGS=&quot;-Dspring.profiles.active=kubernetes&quot;\r\n    EXPOSE 8080\r\n    ENTRYPOINT [ &quot;sh&quot;, &quot;-c&quot;, &quot;java $JVM_ARGS $JVM_OPTS -jar testservice.jar&quot; ]\r\n\r\n&lt;/pre&gt;\r\n\r\nI can&#39;t seem to figure out why the max heap sized does not get sized properly:\r\n&lt;pre&gt;\r\n$ kubectl exec test-service-deployment-79c9d4bd54-trxgj -c test-service -- java -XshowSettings:vm -version&#39;\r\nVM settings:\r\n    Max. Heap Size (Estimated): 875.00M\r\n    Ergonomics Machine Class: server\r\n    Using VM: OpenJDK 64-Bit Server VM\r\n\r\nopenjdk version &quot;1.8.0_171&quot;\r\nOpenJDK Runtime Environment (IcedTea 3.8.0) (Alpine 8.171.11-r0)\r\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\r\n&lt;/pre&gt;\r\n\r\n\r\nWhat am I doing wrong here?\r\n\r\nOn a local Docker install, I can see the JVM max heap set correctly: \r\n&lt;pre&gt;\r\n$ docker run openjdk:8-jre-alpine java -Xms256M -Xmx512M -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=1 -XshowSettings:vm -version\r\nVM settings: \r\n    Min. Heap Size: 256.00M \r\n    Max. Heap Size: 512.00M \r\n    Ergonomics Machine Class: server \r\n    Using VM: OpenJDK 64-Bit Server VM \r\n\r\nopenjdk version &quot;1.8.0_171&quot; \r\nOpenJDK Runtime Environment (IcedTea 3.8.0) (Alpine 8.171.11-r0) \r\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\r\n&lt;/pre&gt;","title":"Environment variables not being resolved in Kubernetes Java deployment","body":"<p>After learning about arguments that can be passed to a Java 8 Virtual Machine to make it container-aware (i.e. -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap), I am trying to add these arguments to my Kubernetes deployment for a Spring Boot service.</p>\n\n<p>In containers section of my deployment YAML file, I have the following:<p></p>\n\n<pre>\n\n    resources:\n        requests:\n            memory: \"256Mi\"\n            cpu: \"50m\"\n        limits:<br/>\n            memory: \"512Mi\"\n            cpu: \"200m\"\n    env:\n    - name: JVM_OPTS\n      value: \"-Xms256M -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=1\"\n\n</pre>\n\n<p>In my Dockerfile, I have:</p>\n\n<pre>\n\n    ENV JVM_OPTS=\"-Xmx256M\"\n    ENV JVM_ARGS=\"-Dspring.profiles.active=kubernetes\"\n    EXPOSE 8080\n    ENTRYPOINT [ \"sh\", \"-c\", \"java $JVM_ARGS $JVM_OPTS -jar testservice.jar\" ]\n\n</pre>\n\n<p>I can't seem to figure out why the max heap sized does not get sized properly:</p>\n\n<pre>\n$ kubectl exec test-service-deployment-79c9d4bd54-trxgj -c test-service -- java -XshowSettings:vm -version'\nVM settings:\n    Max. Heap Size (Estimated): 875.00M\n    Ergonomics Machine Class: server\n    Using VM: OpenJDK 64-Bit Server VM\n\nopenjdk version \"1.8.0_171\"\nOpenJDK Runtime Environment (IcedTea 3.8.0) (Alpine 8.171.11-r0)\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\n</pre>\n\n<p>What am I doing wrong here?</p>\n\n<p>On a local Docker install, I can see the JVM max heap set correctly: </p>\n\n<pre>\n$ docker run openjdk:8-jre-alpine java -Xms256M -Xmx512M -XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=1 -XshowSettings:vm -version\nVM settings: \n    Min. Heap Size: 256.00M \n    Max. Heap Size: 512.00M \n    Ergonomics Machine Class: server \n    Using VM: OpenJDK 64-Bit Server VM \n\nopenjdk version \"1.8.0_171\" \nOpenJDK Runtime Environment (IcedTea 3.8.0) (Alpine 8.171.11-r0) \nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\n</pre>\n"},{"tags":["java","algorithm","time-complexity","backtracking"],"comments":[{"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"score":0,"creation_date":1642178712,"post_id":70713780,"comment_id":125009937,"body_markdown":"The time complexity is `O(2^max(m, n))` in the implementation that you posted, because it isn&#39;t memoized. There are redundant calculations. But if you memoize it or solve it top down then it is of `O(n * m)` complexity. I don&#39;t quite understand what you mean with `O(2^mn)`. Is it `O(2^(m * n))` or `O(2^m * n)`...","body":"The time complexity is <code>O(2^max(m, n))</code> in the implementation that you posted, because it isn&#39;t memoized. There are redundant calculations. But if you memoize it or solve it top down then it is of <code>O(n * m)</code> complexity. I don&#39;t quite understand what you mean with <code>O(2^mn)</code>. Is it <code>O(2^(m * n))</code> or <code>O(2^m * n)</code>..."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1642178822,"post_id":70713780,"comment_id":125009983,"body_markdown":"If the robot moves down it can no longer reach any of the squares on the row above, so the number of possibilities is reduced by `m` not `1`. Similarly, if it moves right then there are `n` fewer possibilities.","body":"If the robot moves down it can no longer reach any of the squares on the row above, so the number of possibilities is reduced by <code>m</code> not <code>1</code>. Similarly, if it moves right then there are <code>n</code> fewer possibilities."},{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1642252207,"post_id":70713780,"comment_id":125024050,"body_markdown":"Thanks @JohnKugelman . It cleared the confusion that I was having.","body":"Thanks @JohnKugelman . It cleared the confusion that I was having."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642180527,"creation_date":1642178972,"answer_id":70713949,"question_id":70713780,"body_markdown":"&gt; I think there is m*n possibilities which is reduced by one in each recursive step.\r\n\r\nNo it is reduced by either *n* or *m* in each step. So:\r\n\r\n    T(mn) = T(m(n-1)) + T((m-1)n) + 1\r\n\r\nThis reflects your recursive calls: the product of the two arguments (that are passed to the recursive call) represents the size of the remaining problem space.\r\n\r\nFor calculating the time complexity it is important to add the constant term, as each call of the function represents work/time. \r\n\r\nFurthermore, with this notation the distinction is gone between products that are the same, but come from different grid sizes. You should keep the 2 dimensions separate:\r\n\r\n    T(m, n) = T(m, n-1) + T(m-1, n) + 1\r\n    T(m, 1) = 1\r\n    T(1, n) = 1\r\n\r\nThe base cases represent the case where only 1 column or 1 row is left, and then the robot can only move in one direction -- via one path. ","title":"Why this backtracking solution for Unique Path problem is O(2^max(m,n))?","body":"<blockquote>\n<p>I think there is m*n possibilities which is reduced by one in each recursive step.</p>\n</blockquote>\n<p>No it is reduced by either <em>n</em> or <em>m</em> in each step. So:</p>\n<pre><code>T(mn) = T(m(n-1)) + T((m-1)n) + 1\n</code></pre>\n<p>This reflects your recursive calls: the product of the two arguments (that are passed to the recursive call) represents the size of the remaining problem space.</p>\n<p>For calculating the time complexity it is important to add the constant term, as each call of the function represents work/time.</p>\n<p>Furthermore, with this notation the distinction is gone between products that are the same, but come from different grid sizes. You should keep the 2 dimensions separate:</p>\n<pre><code>T(m, n) = T(m, n-1) + T(m-1, n) + 1\nT(m, 1) = 1\nT(1, n) = 1\n</code></pre>\n<p>The base cases represent the case where only 1 column or 1 row is left, and then the robot can only move in one direction -- via one path.</p>\n"}],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70713949,"answer_count":1,"score":1,"last_activity_date":1642180527,"creation_date":1642178294,"question_id":70713780,"body_markdown":"This is unique path problem from LeetCode https://leetcode.com/problems/unique-paths/.\r\n\r\n&gt; There is a robot on an m x n grid. The robot is initially located at\r\n&gt; the top-left corner (i.e., grid[0][0]). The robot tries to move to the\r\n&gt; bottom-right corner (i.e., grid[m - 1][n - 1]). The robot can only\r\n&gt; move either down or right at any point in time.\r\n&gt; \r\n&gt; Given the two integers m and n, return the number of possible unique\r\n&gt; paths that the robot can take to reach the bottom-right corner.\r\n\r\nHere is the backtracking solution from tutorialcup https://www.tutorialcup.com/leetcode-solutions/unique-paths-leetcode-solution.htm\r\n ```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\nclass Solution {\r\n    public static int uniquePaths(int m, int n) {\r\n        if(m == 1 || n == 1)\r\n            return 1;\r\n        return uniquePaths(m-1, n) + uniquePaths(m, n-1);\r\n    }\r\n    \r\n    public static void main(String[] args){\r\n      System.out.print(uniquePaths(2,2));\r\n    }\r\n}\r\n ```\r\nThe worst time complexity is mentioned in the wbesite as  O(2^max(m,n)). It looks incorrect to me.\r\n\r\nI think there is m*n possibilities which is reduced by one in each recursive step.\r\n ```\r\nT(mn) = T(mn-1) + T(mn-1)\r\n      = 2 * T(mn-1)\r\n      = 2^mn\r\n ```\r\nSo worst time complexity would be O(2^mn). Let me know if my calculation is correct or if I am missing something","title":"Why this backtracking solution for Unique Path problem is O(2^max(m,n))?","body":"<p>This is unique path problem from LeetCode <a href=\"https://leetcode.com/problems/unique-paths/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/unique-paths/</a>.</p>\n<blockquote>\n<p>There is a robot on an m x n grid. The robot is initially located at\nthe top-left corner (i.e., grid[0][0]). The robot tries to move to the\nbottom-right corner (i.e., grid[m - 1][n - 1]). The robot can only\nmove either down or right at any point in time.</p>\n<p>Given the two integers m and n, return the number of possible unique\npaths that the robot can take to reach the bottom-right corner.</p>\n</blockquote>\n<p>Here is the backtracking solution from tutorialcup <a href=\"https://www.tutorialcup.com/leetcode-solutions/unique-paths-leetcode-solution.htm\" rel=\"nofollow noreferrer\">https://www.tutorialcup.com/leetcode-solutions/unique-paths-leetcode-solution.htm</a></p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\nclass Solution {\n   public static int uniquePaths(int m, int n) {\n       if(m == 1 || n == 1)\n           return 1;\n       return uniquePaths(m-1, n) + uniquePaths(m, n-1);\n   }\n   \n   public static void main(String[] args){\n     System.out.print(uniquePaths(2,2));\n   }\n}\n</code></pre>\n<p>The worst time complexity is mentioned in the wbesite as  O(2^max(m,n)). It looks incorrect to me.</p>\n<p>I think there is m*n possibilities which is reduced by one in each recursive step.</p>\n<pre><code>T(mn) = T(mn-1) + T(mn-1)\n     = 2 * T(mn-1)\n     = 2^mn\n</code></pre>\n<p>So worst time complexity would be O(2^mn). Let me know if my calculation is correct or if I am missing something</p>\n"},{"tags":["java","smali"],"answers":[{"tags":[],"owner":{"account_id":6475993,"reputation":178,"user_id":5014577,"display_name":"Leo Lamas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642180344,"creation_date":1617924169,"answer_id":67013093,"question_id":62783187,"body_markdown":"Yes. For instance (non static) methods, `p0` is like `this` and starting at `P1` you have the method parameters. So you can change the first and only parameter in this case like this:\r\n\r\n```smali\r\n.method public setPercentage(J)V\r\n\r\n.registers 3\r\n\r\n#100 in hexadecimal is 0x64\r\nconst-wide/16 p1, 0x64\r\n\r\n.line 1 iput-wide p1, p0, Lcom/battery/view/Base;-&gt;e:J\r\n\r\nreturn-void\r\n\r\n.end method\r\n```","title":"Smali Method change long parameter","body":"<p>Yes. For instance (non static) methods, <code>p0</code> is like <code>this</code> and starting at <code>P1</code> you have the method parameters. So you can change the first and only parameter in this case like this:</p>\n<pre><code>.method public setPercentage(J)V\n\n.registers 3\n\n#100 in hexadecimal is 0x64\nconst-wide/16 p1, 0x64\n\n.line 1 iput-wide p1, p0, Lcom/battery/view/Base;-&gt;e:J\n\nreturn-void\n\n.end method\n</code></pre>\n"}],"owner":{"account_id":14112171,"reputation":111,"user_id":10194701,"display_name":"TimmYCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642180344,"creation_date":1594152798,"question_id":62783187,"body_markdown":"I am starting to learn a little bit of changing java code with smali. I got an application where I want to change the percentage of a battery. \r\n\r\n&gt; .method public setPercentage(J)V   \r\n&gt; \r\n&gt; .registers 3\r\n&gt; \r\n&gt;    .line 1    iput-wide p1, p0,\r\n&gt; Lcom/battery/view/Base;-&gt;e:J\r\n&gt; \r\n&gt;    return-void .end method\r\n\r\n\r\nIs there a way to change the parameter of the long value to 100 ? I appreciate every help!","title":"Smali Method change long parameter","body":"<p>I am starting to learn a little bit of changing java code with smali. I got an application where I want to change the percentage of a battery.</p>\n<blockquote>\n<p>.method public setPercentage(J)V</p>\n<p>.registers 3</p>\n<p>.line 1    iput-wide p1, p0,\nLcom/battery/view/Base;-&gt;e:J</p>\n<p>return-void .end method</p>\n</blockquote>\n<p>Is there a way to change the parameter of the long value to 100 ? I appreciate every help!</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642174454,"creation_date":1642174454,"answer_id":70712993,"question_id":70712448,"body_markdown":"Let&#39;s refactor a little at a time.\r\n\r\nFirst, you should never build a string in a loop, as it can be very inefficient; use StringBuilder instead. However, we can instead stream and collect into a string. Also notice here that we using Map.values() instead of calling getValue() inside the loop.\r\n\r\n    public static List&lt;String&gt; groupAllTextLineByLineBasedOnY(List&lt;TextInfo&gt; allTextInfo) {\r\n        Map&lt;Object, List&lt;TextInfo&gt;&gt; groupedtextInfosPerLine = allTextInfo.stream()\r\n                        .collect(Collectors.groupingBy(x -&gt; x.getY()));\r\n        List&lt;String&gt; allLines = new ArrayList&lt;&gt;();\r\n        for (List&lt;TextInfo&gt; groupedtextInfos: groupedtextInfosPerLine.values()) {\r\n            allLines.add(groupedtextInfos.stream().map(Object::toString).collect(Collectors.joining()));\r\n        }\r\n        return allLines;\r\n    }\r\n\r\nIn the next refactoring, we can get rid of the intermediate list `allLines` and instead stream the textInfos and collect them into a List:\r\n\r\n    public static List&lt;String&gt; groupAllTextLineByLineBasedOnY(List&lt;TextInfo&gt; allTextInfo) {\r\n        Map&lt;Object, List&lt;TextInfo&gt;&gt; groupedtextInfosPerLine =  allTextInfo.stream()\r\n                .collect(Collectors.groupingBy(x -&gt; x.getY()));\r\n\r\n        return groupedtextInfosPerLine.values().stream()\r\n                .map(textInfos -&gt; textInfos.stream().map(Object::toString).collect(Collectors.joining()))\r\n                .toList();\r\n    }\r\n\r\nFinally, we can get rid of the groupedtextInfosPerLine variable:\r\n\r\n    public static List&lt;String&gt; groupAllTextLineByLineBasedOnY(List&lt;TextInfo&gt; allTextInfo) {\r\n        return allTextInfo.stream()\r\n                .collect(Collectors.groupingBy(TextInfo::getY)).values().stream()\r\n                .map(textInfos -&gt; textInfos.stream().map(Object::toString).collect(Collectors.joining()))\r\n                .toList();\r\n    }\r\n","title":"How to concatenate all lists of objects (containing some text) within one big list through the means of stream()","body":"<p>Let's refactor a little at a time.</p>\n<p>First, you should never build a string in a loop, as it can be very inefficient; use StringBuilder instead. However, we can instead stream and collect into a string. Also notice here that we using Map.values() instead of calling getValue() inside the loop.</p>\n<pre><code>public static List&lt;String&gt; groupAllTextLineByLineBasedOnY(List&lt;TextInfo&gt; allTextInfo) {\n    Map&lt;Object, List&lt;TextInfo&gt;&gt; groupedtextInfosPerLine = allTextInfo.stream()\n                    .collect(Collectors.groupingBy(x -&gt; x.getY()));\n    List&lt;String&gt; allLines = new ArrayList&lt;&gt;();\n    for (List&lt;TextInfo&gt; groupedtextInfos: groupedtextInfosPerLine.values()) {\n        allLines.add(groupedtextInfos.stream().map(Object::toString).collect(Collectors.joining()));\n    }\n    return allLines;\n}\n</code></pre>\n<p>In the next refactoring, we can get rid of the intermediate list <code>allLines</code> and instead stream the textInfos and collect them into a List:</p>\n<pre><code>public static List&lt;String&gt; groupAllTextLineByLineBasedOnY(List&lt;TextInfo&gt; allTextInfo) {\n    Map&lt;Object, List&lt;TextInfo&gt;&gt; groupedtextInfosPerLine =  allTextInfo.stream()\n            .collect(Collectors.groupingBy(x -&gt; x.getY()));\n\n    return groupedtextInfosPerLine.values().stream()\n            .map(textInfos -&gt; textInfos.stream().map(Object::toString).collect(Collectors.joining()))\n            .toList();\n}\n</code></pre>\n<p>Finally, we can get rid of the groupedtextInfosPerLine variable:</p>\n<pre><code>public static List&lt;String&gt; groupAllTextLineByLineBasedOnY(List&lt;TextInfo&gt; allTextInfo) {\n    return allTextInfo.stream()\n            .collect(Collectors.groupingBy(TextInfo::getY)).values().stream()\n            .map(textInfos -&gt; textInfos.stream().map(Object::toString).collect(Collectors.joining()))\n            .toList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642179396,"creation_date":1642179396,"answer_id":70714033,"question_id":70712448,"body_markdown":"I think your looking for a solution like this\r\n```\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.TreeMap;\r\nimport java.util.stream.Collectors;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        // Setup some example data\r\n        List&lt;TextInfo&gt; textInfos = List.of(\r\n                new TextInfo(&quot;line 3 a&quot;, 3),\r\n                new TextInfo(&quot;line 1 a&quot;, 1),\r\n                new TextInfo(&quot;line 2 a&quot;, 2),\r\n                new TextInfo(&quot;line 1 b&quot;, 1),\r\n                new TextInfo(&quot;line 3 b&quot;, 3),\r\n                new TextInfo(&quot;line 1 c&quot;, 1)\r\n        );\r\n        \r\n        // This is the actual answer\r\n        Collection&lt;String&gt; allLines = textInfos.stream()\r\n                .collect(Collectors.toMap(\r\n                        TextInfo::getY, // line number as key\r\n                        TextInfo::toString, // convert TextInfo to String\r\n                        (a, b) -&gt; a + b, // Merge TextInfo on the same line\r\n                        TreeMap::new)) // Ensure in order\r\n                .values();\r\n\r\n        // You would return allLines from the method\r\n        System.out.println(allLines);\r\n    }\r\n\r\n    static class TextInfo {\r\n        String text;\r\n        int y;\r\n\r\n        public TextInfo(String text, int y) {\r\n            this.text = text;\r\n            this.y = y;\r\n        }\r\n\r\n        public int getY() { return y; }\r\n\r\n        @Override\r\n        public String toString() { return text; }\r\n    }\r\n}\r\n```\r\nIf you run the code you print\r\n```\r\n[line 1 aline 1 bline 1 c, line 2 a, line 3 aline 3 b]\r\n```","title":"How to concatenate all lists of objects (containing some text) within one big list through the means of stream()","body":"<p>I think your looking for a solution like this</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.TreeMap;\nimport java.util.stream.Collectors;\n\nclass Scratch {\n    public static void main(String[] args) {\n        // Setup some example data\n        List&lt;TextInfo&gt; textInfos = List.of(\n                new TextInfo(&quot;line 3 a&quot;, 3),\n                new TextInfo(&quot;line 1 a&quot;, 1),\n                new TextInfo(&quot;line 2 a&quot;, 2),\n                new TextInfo(&quot;line 1 b&quot;, 1),\n                new TextInfo(&quot;line 3 b&quot;, 3),\n                new TextInfo(&quot;line 1 c&quot;, 1)\n        );\n        \n        // This is the actual answer\n        Collection&lt;String&gt; allLines = textInfos.stream()\n                .collect(Collectors.toMap(\n                        TextInfo::getY, // line number as key\n                        TextInfo::toString, // convert TextInfo to String\n                        (a, b) -&gt; a + b, // Merge TextInfo on the same line\n                        TreeMap::new)) // Ensure in order\n                .values();\n\n        // You would return allLines from the method\n        System.out.println(allLines);\n    }\n\n    static class TextInfo {\n        String text;\n        int y;\n\n        public TextInfo(String text, int y) {\n            this.text = text;\n            this.y = y;\n        }\n\n        public int getY() { return y; }\n\n        @Override\n        public String toString() { return text; }\n    }\n}\n</code></pre>\n<p>If you run the code you print</p>\n<pre><code>[line 1 aline 1 bline 1 c, line 2 a, line 3 aline 3 b]\n</code></pre>\n"}],"owner":{"account_id":389084,"reputation":111,"user_id":748348,"display_name":"Johan P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70712993,"answer_count":2,"score":0,"last_activity_date":1642179396,"creation_date":1642171989,"question_id":70712448,"body_markdown":"I got: \r\na list of lists of TextInfo objects. Each TextInfo object contains a piece of text and a toString override method to return the text. By the Y value of a TextInfo we can conclude what TextInfo&#39;s are on the same line (custom problem)\r\n\r\nI want:\r\na list of strings. Each string is the result of concatenation of all elements of one sublist. And I want to make use of streams as much as possible. \r\n\r\nSo far:\r\n```\r\nList&lt;String&gt; allLinesByYCoordinate = groupAllTextLineByLineBasedOnY(allTextInfosOnPage);\r\n\r\npublic static List&lt;String&gt; groupAllTextLineByLineBasedOnY(List&lt;TextInfo&gt; allTextInfo) {\r\n    Map&lt;Object, List&lt;TextInfo&gt;&gt; groupedtextInfosPerLine =  allTextInfo.stream().\r\n                collect(Collectors.groupingBy(x -&gt; x.getY()));\r\n    List&lt;String&gt; allLines = new ArrayList&lt;&gt;();\r\n    for (Map.Entry&lt;Object, List&lt;TextInfo&gt;&gt; groupedtextInfos: groupedtextInfosPerLine.entrySet()) {\r\n        String temp = &quot;&quot;;\r\n        for (TextInfo textInfo: groupedtextInfos.getValue()) {\r\n            temp += textInfo;\r\n        }\r\n        allLines.add(temp);\r\n    }\r\n    return allLines;\r\n}\r\n```\r\n\r\nYou might agree that the method groupAllTextLineByLineBasedOnY looks a bit too oldschool. I &#39;m trying to execute a concatenation on each of the lists of TextInfo&#39;s in the big list, resulting in a list of strings where each string used to be a list of TextInfo&#39;s\r\n\r\nI&#39;m hoping to find a concise stream() solution","title":"How to concatenate all lists of objects (containing some text) within one big list through the means of stream()","body":"<p>I got:\na list of lists of TextInfo objects. Each TextInfo object contains a piece of text and a toString override method to return the text. By the Y value of a TextInfo we can conclude what TextInfo's are on the same line (custom problem)</p>\n<p>I want:\na list of strings. Each string is the result of concatenation of all elements of one sublist. And I want to make use of streams as much as possible.</p>\n<p>So far:</p>\n<pre><code>List&lt;String&gt; allLinesByYCoordinate = groupAllTextLineByLineBasedOnY(allTextInfosOnPage);\n\npublic static List&lt;String&gt; groupAllTextLineByLineBasedOnY(List&lt;TextInfo&gt; allTextInfo) {\n    Map&lt;Object, List&lt;TextInfo&gt;&gt; groupedtextInfosPerLine =  allTextInfo.stream().\n                collect(Collectors.groupingBy(x -&gt; x.getY()));\n    List&lt;String&gt; allLines = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;Object, List&lt;TextInfo&gt;&gt; groupedtextInfos: groupedtextInfosPerLine.entrySet()) {\n        String temp = &quot;&quot;;\n        for (TextInfo textInfo: groupedtextInfos.getValue()) {\n            temp += textInfo;\n        }\n        allLines.add(temp);\n    }\n    return allLines;\n}\n</code></pre>\n<p>You might agree that the method groupAllTextLineByLineBasedOnY looks a bit too oldschool. I 'm trying to execute a concatenation on each of the lists of TextInfo's in the big list, resulting in a list of strings where each string used to be a list of TextInfo's</p>\n<p>I'm hoping to find a concise stream() solution</p>\n"},{"tags":["java","mongodb","oop","nested","social-networking"],"answers":[{"tags":[],"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642179072,"creation_date":1642173833,"answer_id":70712849,"question_id":70711560,"body_markdown":"The current (wrong) behavior is consistent with your setup of `_id`.  `_id` must be unique and besides `title` you have 4 other fields that compose this complex key including `province` so if you change any of the other 4, a new document is created.\r\n\r\nIt is always good to separate DB internal keys (like `_id`) from business/data domain keys (like title and some of the other attributes).  I recommend you let the MongoDB driver take care of constructing `_id` upon insert and moving the other fields out into the document proper, e.g.\r\n```\r\n{\r\n    _id: ObjectId(&#39;61e190fc3105a836ad0dc8b1&#39;),\r\n    title: &quot;VINO&quot;,\r\n    variety: &quot;Rosato&quot;,\r\n    country: &quot;Germania&quot;,\r\n    province: &quot;a&quot;,\r\n    price: 50,\r\n    reviews: [\r\n      \t{taster_name: &quot;Prova1&quot;,\tscore: 50 ...\r\n```\r\nYou can now update with ease:\r\n```\r\ndb.collection.update({_id:ObjectId(&#39;61e190fc3105a836ad0dc8b1&#39;)},{$set: {province:&quot;b&quot;}});\r\n```\r\n`_id` is unique so it will only update one document.  If you choose\r\nto update using other criteria it may or may not update multiple documents but you can control that.  For example, assume title+variety+country is *not* unique and you want all such wines to be in province &quot;b&quot;, then use the `multi` option as follows:\r\n```\r\ndb.collection.update({title:&#39;VINO&#39;,variety:&#39;Rosato&#39;,country:&#39;Germania&#39;)},\r\n{$set: {province:&quot;b&quot;}},\r\n{multi:true});\r\n","title":"Is there a way to insert in only one document the nested review associated even if some attributes of the main document change?","body":"<p>The current (wrong) behavior is consistent with your setup of <code>_id</code>.  <code>_id</code> must be unique and besides <code>title</code> you have 4 other fields that compose this complex key including <code>province</code> so if you change any of the other 4, a new document is created.</p>\n<p>It is always good to separate DB internal keys (like <code>_id</code>) from business/data domain keys (like title and some of the other attributes).  I recommend you let the MongoDB driver take care of constructing <code>_id</code> upon insert and moving the other fields out into the document proper, e.g.</p>\n<pre><code>{\n    _id: ObjectId('61e190fc3105a836ad0dc8b1'),\n    title: &quot;VINO&quot;,\n    variety: &quot;Rosato&quot;,\n    country: &quot;Germania&quot;,\n    province: &quot;a&quot;,\n    price: 50,\n    reviews: [\n        {taster_name: &quot;Prova1&quot;, score: 50 ...\n</code></pre>\n<p>You can now update with ease:</p>\n<pre><code>db.collection.update({_id:ObjectId('61e190fc3105a836ad0dc8b1')},{$set: {province:&quot;b&quot;}});\n</code></pre>\n<p><code>_id</code> is unique so it will only update one document.  If you choose\nto update using other criteria it may or may not update multiple documents but you can control that.  For example, assume title+variety+country is <em>not</em> unique and you want all such wines to be in province &quot;b&quot;, then use the <code>multi</code> option as follows:</p>\n<pre><code>db.collection.update({title:'VINO',variety:'Rosato',country:'Germania')},\n{$set: {province:&quot;b&quot;}},\n{multi:true});\n</code></pre>\n"}],"owner":{"display_name":"user14925982"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70712849,"answer_count":1,"score":0,"last_activity_date":1642179072,"creation_date":1642168005,"question_id":70711560,"body_markdown":"Hi everybody I&#39;m trying to build a Social Network with wines. For my application I&#39;m using MongoDB and Neo4J.\r\nOn my Document DB I&#39;m storing Wines and for each wines i&#39;m storing inside like nested document all the rewiews associated.\r\n\r\n[Wine has these attributes][1]\r\n\r\n\r\ninstead\r\n\r\n[Wine_Reviews has these attributes][2]\r\n\r\n\r\nIf I don&#39;t change Wines&#39; value MongoDB create one document and all reviews associated are inserted like nested document (RIGHT) for that wine but if I change one attribute of the wine like &quot;Province&quot;, MongoDB will create two document so two wines even if the title is the same.\r\n[Wrong situation][3]\r\n\r\nMy question is: Is it possibile to avoid this situation? Insert in one document all wines with same title even if ALL other attributes of the same wine change?\r\n(Works correctly only if attributes are the same)\r\n\r\n[Correct situation but here wine attrbiutes don&#39;t change for reviews inserted][4]\r\n\r\nThis is the code of Crud_mongo.java:\r\n\r\n\r\n       public void createWine(String title, String variety, String country, String province, int price, String taster_name, Integer points,\r\n                           String description, String taster_twitter_handle, String country_user, String e_address, Boolean admin) {\r\n        final MongoClient mongoClient = new MongoClient(new MongoClientURI(&quot;mongodb://localhost:27017&quot;));\r\n        MongoDatabase database = mongoClient.getDatabase(&quot;Wines&quot;);\r\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;wines&quot;);\r\n\r\n        Document wine = new Document(&quot;title&quot;, &quot;&quot; + title + &quot;&quot;)\r\n                .append(&quot;title&quot;, &quot;&quot; + title + &quot;&quot;)\r\n                .append(&quot;variety&quot;, &quot;&quot; + variety + &quot;&quot;)\r\n                .append(&quot;country&quot;, &quot;&quot; + country + &quot;&quot;)\r\n                .append(&quot;province&quot;, &quot;&quot; + province + &quot;&quot;)\r\n                .append(&quot;price&quot;, &quot;&quot; + price + &quot;&quot;);\r\n\r\n        Document user = new Document(&quot;taster_name&quot;, &quot;&quot; + taster_name + &quot;&quot;)\r\n                .append(&quot;score&quot;, &quot;&quot; + points + &quot;&quot;)\r\n                .append(&quot;description&quot;, &quot;&quot; + description + &quot;&quot;)\r\n                .append(&quot;taster_twitter_handle&quot;, &quot;&quot; + taster_twitter_handle + &quot;&quot;)\r\n                .append(&quot;country&quot;, &quot;&quot; + country_user + &quot;&quot;)\r\n                .append(&quot;email&quot;, &quot;&quot; + e_address + &quot;&quot;)\r\n                .append(&quot;admin&quot;, &quot;&quot; + admin + &quot;&quot;);\r\n\r\n        MongoCursor&lt;String&gt; cursormedia = collection.distinct(title, String.class).iterator();\r\n        MongoCursor&lt;String&gt; cursor = collection.distinct(&quot;_id.title&quot;, String.class).iterator();\r\n        UpdateOptions options = new UpdateOptions().upsert(true);\r\n\r\n        Bson filter = Filters.eq(wine);\r\n        Bson setUpdate = Updates.push(&quot;wine_reviews&quot;, user);\r\n        collection.updateMany(filter, setUpdate, options);\r\n        System.out.println(&quot;Successfully inserted review. \\n&quot;);\r\n\r\n        }\r\n\r\n\r\n        \r\n\r\n  [1]: https://i.stack.imgur.com/zkuRl.png\r\n  [2]: https://i.stack.imgur.com/iAvVp.png\r\n  [3]: https://i.stack.imgur.com/M7277.png\r\n  [4]: https://i.stack.imgur.com/CX6YX.png","title":"Is there a way to insert in only one document the nested review associated even if some attributes of the main document change?","body":"<p>Hi everybody I'm trying to build a Social Network with wines. For my application I'm using MongoDB and Neo4J.\nOn my Document DB I'm storing Wines and for each wines i'm storing inside like nested document all the rewiews associated.</p>\n<p><a href=\"https://i.stack.imgur.com/zkuRl.png\" rel=\"nofollow noreferrer\">Wine has these attributes</a></p>\n<p>instead</p>\n<p><a href=\"https://i.stack.imgur.com/iAvVp.png\" rel=\"nofollow noreferrer\">Wine_Reviews has these attributes</a></p>\n<p>If I don't change Wines' value MongoDB create one document and all reviews associated are inserted like nested document (RIGHT) for that wine but if I change one attribute of the wine like &quot;Province&quot;, MongoDB will create two document so two wines even if the title is the same.\n<a href=\"https://i.stack.imgur.com/M7277.png\" rel=\"nofollow noreferrer\">Wrong situation</a></p>\n<p>My question is: Is it possibile to avoid this situation? Insert in one document all wines with same title even if ALL other attributes of the same wine change?\n(Works correctly only if attributes are the same)</p>\n<p><a href=\"https://i.stack.imgur.com/CX6YX.png\" rel=\"nofollow noreferrer\">Correct situation but here wine attrbiutes don't change for reviews inserted</a></p>\n<p>This is the code of Crud_mongo.java:</p>\n<pre><code>   public void createWine(String title, String variety, String country, String province, int price, String taster_name, Integer points,\n                       String description, String taster_twitter_handle, String country_user, String e_address, Boolean admin) {\n    final MongoClient mongoClient = new MongoClient(new MongoClientURI(&quot;mongodb://localhost:27017&quot;));\n    MongoDatabase database = mongoClient.getDatabase(&quot;Wines&quot;);\n    MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;wines&quot;);\n\n    Document wine = new Document(&quot;title&quot;, &quot;&quot; + title + &quot;&quot;)\n            .append(&quot;title&quot;, &quot;&quot; + title + &quot;&quot;)\n            .append(&quot;variety&quot;, &quot;&quot; + variety + &quot;&quot;)\n            .append(&quot;country&quot;, &quot;&quot; + country + &quot;&quot;)\n            .append(&quot;province&quot;, &quot;&quot; + province + &quot;&quot;)\n            .append(&quot;price&quot;, &quot;&quot; + price + &quot;&quot;);\n\n    Document user = new Document(&quot;taster_name&quot;, &quot;&quot; + taster_name + &quot;&quot;)\n            .append(&quot;score&quot;, &quot;&quot; + points + &quot;&quot;)\n            .append(&quot;description&quot;, &quot;&quot; + description + &quot;&quot;)\n            .append(&quot;taster_twitter_handle&quot;, &quot;&quot; + taster_twitter_handle + &quot;&quot;)\n            .append(&quot;country&quot;, &quot;&quot; + country_user + &quot;&quot;)\n            .append(&quot;email&quot;, &quot;&quot; + e_address + &quot;&quot;)\n            .append(&quot;admin&quot;, &quot;&quot; + admin + &quot;&quot;);\n\n    MongoCursor&lt;String&gt; cursormedia = collection.distinct(title, String.class).iterator();\n    MongoCursor&lt;String&gt; cursor = collection.distinct(&quot;_id.title&quot;, String.class).iterator();\n    UpdateOptions options = new UpdateOptions().upsert(true);\n\n    Bson filter = Filters.eq(wine);\n    Bson setUpdate = Updates.push(&quot;wine_reviews&quot;, user);\n    collection.updateMany(filter, setUpdate, options);\n    System.out.println(&quot;Successfully inserted review. \\n&quot;);\n\n    }\n\n\n    \n</code></pre>\n"},{"tags":["java","android","api","android-studio","jitsi-meet"],"answers":[{"tags":[],"owner":{"account_id":17930556,"reputation":480,"user_id":13028084,"display_name":"SiamSaleh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641985559,"creation_date":1641859624,"answer_id":70660258,"question_id":70125349,"body_markdown":"```\r\nJitsiMeetConferenceOptions.Builder builder = new JitsiMeetConferenceOptions.Builder();\r\nbuilder.setFeatureFlag(&quot;invite.enabled&quot;, false);\r\n```","title":"How to customize the UserInterface of Jitsi Meet implemented using API in Android Studio?","body":"<pre><code>JitsiMeetConferenceOptions.Builder builder = new JitsiMeetConferenceOptions.Builder();\nbuilder.setFeatureFlag(&quot;invite.enabled&quot;, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20858217,"reputation":1,"user_id":15321025,"display_name":"Alireza Goudarzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642179066,"creation_date":1642179066,"answer_id":70713968,"question_id":70125349,"body_markdown":"```\r\nJitsiMeetConferenceOptions options = new JitsiMeetConferenceOptions.Builder()\r\n                .setServerURL(new URL(&quot;&quot;))\r\n                .setWelcomePageEnabled(false)\r\n                .setConfigOverride(&quot;requireDisplayName&quot;, true)\r\n                .setConfigOverride(&quot;reqiureInviteOthers&quot;, false)\r\n                .setFeatureFlag(&quot;invite.enabled&quot;, false)// &lt;-- add this line\r\n                .setFeatureFlag(&quot;add-people.enabled&quot;, false)// &lt;-- add this line\r\n                .build();\r\n```\r\n\r\nthis is [the list][1] of available feature flags that you can turn on or off Jitsi Features\r\n\r\n\r\n  [1]: https://jitsi.github.io/handbook/docs/dev-guide/mobile-feature-flags","title":"How to customize the UserInterface of Jitsi Meet implemented using API in Android Studio?","body":"<pre><code>JitsiMeetConferenceOptions options = new JitsiMeetConferenceOptions.Builder()\n                .setServerURL(new URL(&quot;&quot;))\n                .setWelcomePageEnabled(false)\n                .setConfigOverride(&quot;requireDisplayName&quot;, true)\n                .setConfigOverride(&quot;reqiureInviteOthers&quot;, false)\n                .setFeatureFlag(&quot;invite.enabled&quot;, false)// &lt;-- add this line\n                .setFeatureFlag(&quot;add-people.enabled&quot;, false)// &lt;-- add this line\n                .build();\n</code></pre>\n<p>this is <a href=\"https://jitsi.github.io/handbook/docs/dev-guide/mobile-feature-flags\" rel=\"nofollow noreferrer\">the list</a> of available feature flags that you can turn on or off Jitsi Features</p>\n"}],"owner":{"account_id":22806414,"reputation":3,"user_id":16958403,"display_name":"Huzaifa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70660258,"answer_count":2,"score":0,"last_activity_date":1642179066,"creation_date":1637934042,"question_id":70125349,"body_markdown":"I want to customize the user interface of Jitsi Meet. I want to remove the &quot;Invite others&quot; option located at the center bottom. How can I do that in Android Studio using java?\r\n\r\n[![enter image description here][1]][1]\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_event_details);\r\n\r\n    try {\r\n        JitsiMeetConferenceOptions options = new JitsiMeetConferenceOptions.Builder()\r\n                .setServerURL(new URL(&quot;&quot;))\r\n                .setWelcomePageEnabled(false)\r\n                .setConfigOverride(&quot;requireDisplayName&quot;, true)\r\n                .setConfigOverride(&quot;reqiureInviteOthers&quot;, false)\r\n                .build();\r\n    } catch (MalformedURLException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\npublic void onClickMeet(View v) {\r\n    EditText editText = findViewById(R.id.meetId);\r\n    String text = editText.getText().toString();\r\n\r\n    if (text.length() &gt; 0) {\r\n        JitsiMeetConferenceOptions options = new JitsiMeetConferenceOptions.Builder().setRoom(text).build();\r\n        JitsiMeetActivity.launch(this, options);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PwDGC.png","title":"How to customize the UserInterface of Jitsi Meet implemented using API in Android Studio?","body":"<p>I want to customize the user interface of Jitsi Meet. I want to remove the &quot;Invite others&quot; option located at the center bottom. How can I do that in Android Studio using java?</p>\n<p><a href=\"https://i.stack.imgur.com/PwDGC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PwDGC.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_event_details);\n\n    try {\n        JitsiMeetConferenceOptions options = new JitsiMeetConferenceOptions.Builder()\n                .setServerURL(new URL(&quot;&quot;))\n                .setWelcomePageEnabled(false)\n                .setConfigOverride(&quot;requireDisplayName&quot;, true)\n                .setConfigOverride(&quot;reqiureInviteOthers&quot;, false)\n                .build();\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n\npublic void onClickMeet(View v) {\n    EditText editText = findViewById(R.id.meetId);\n    String text = editText.getText().toString();\n\n    if (text.length() &gt; 0) {\n        JitsiMeetConferenceOptions options = new JitsiMeetConferenceOptions.Builder().setRoom(text).build();\n        JitsiMeetActivity.launch(this, options);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","solr","solrj","criteriaquery"],"owner":{"account_id":3838022,"reputation":33,"user_id":3181915,"display_name":"user3181915"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642178560,"creation_date":1642133313,"question_id":70705941,"body_markdown":"I am not well versed in java and Solr, so apologies if this is a basic question.\r\n\r\nI have a string that I need to convert to a Solr criteria.\r\n\r\n```java\r\nString rule = &quot;(index_key_parentcategory = \\&quot;Workwear\\&quot; AND index_key_category = \\&quot;Women\\&quot; AND index_key_subcategory = \\&quot;ShortSleeve\\&quot;) AND (locale IN \\&quot;en_US \\&quot;)&quot;\r\n```\r\n\r\nI want to convert the above string to Solr `Criteria` using criteria in Query: `org.springframework.data.solr.core.query.Criteria`\r\n\r\nCould you help me with that, please?\r\n","title":"Best way to convert a Java string to Solr criteria query","body":"<p>I am not well versed in java and Solr, so apologies if this is a basic question.</p>\n<p>I have a string that I need to convert to a Solr criteria.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String rule = &quot;(index_key_parentcategory = \\&quot;Workwear\\&quot; AND index_key_category = \\&quot;Women\\&quot; AND index_key_subcategory = \\&quot;ShortSleeve\\&quot;) AND (locale IN \\&quot;en_US \\&quot;)&quot;\n</code></pre>\n<p>I want to convert the above string to Solr <code>Criteria</code> using criteria in Query: <code>org.springframework.data.solr.core.query.Criteria</code></p>\n<p>Could you help me with that, please?</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin-grid"],"comments":[{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":0,"creation_date":1635104651,"post_id":69699915,"comment_id":123200491,"body_markdown":"Can you show how you have created the grid and defined the columns?","body":"Can you show how you have created the grid and defined the columns?"},{"owner":{"account_id":21583367,"reputation":161,"user_id":15914240,"display_name":"Thomas"},"score":0,"creation_date":1635140973,"post_id":69699915,"comment_id":123206198,"body_markdown":"I changed the code above, because unfortunately it as not possible for me to format the code as answer :)","body":"I changed the code above, because unfortunately it as not possible for me to format the code as answer :)"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1635234284,"post_id":69699915,"comment_id":123234861,"body_markdown":"Why would you want to put that code as answer? Has the block &quot;complete code&quot; _fixed_ your problem and is is supposed to be an answer? Or is this the actually failing code producing the described problem?","body":"Why would you want to put that code as answer? Has the block &quot;complete code&quot; <i>fixed</i> your problem and is is supposed to be an answer? Or is this the actually failing code producing the described problem?"},{"owner":{"account_id":21583367,"reputation":161,"user_id":15914240,"display_name":"Thomas"},"score":0,"creation_date":1635273917,"post_id":69699915,"comment_id":123251923,"body_markdown":"This is currently the failing code which produces the described problem.","body":"This is currently the failing code which produces the described problem."},{"owner":{"account_id":21583367,"reputation":161,"user_id":15914240,"display_name":"Thomas"},"score":0,"creation_date":1635540773,"post_id":69699915,"comment_id":123335246,"body_markdown":"I found out that the layout issue occures if data is loaded, some new data is added and the before defined columns are changed (some columns become visible and some are hidden). Does anyone also had this situation?","body":"I found out that the layout issue occures if data is loaded, some new data is added and the before defined columns are changed (some columns become visible and some are hidden). Does anyone also had this situation?"},{"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"score":1,"creation_date":1635867308,"post_id":69699915,"comment_id":123404204,"body_markdown":"Did you get this sorted out, and if not, could you create a simple test application that reproduces the issue?","body":"Did you get this sorted out, and if not, could you create a simple test application that reproduces the issue?"},{"owner":{"account_id":21583367,"reputation":161,"user_id":15914240,"display_name":"Thomas"},"score":0,"creation_date":1641854069,"post_id":69699915,"comment_id":124911691,"body_markdown":"@AnnaKoskinen I was able to reproduce it. See the following bug: https://github.com/vaadin/flow-components/issues/2489","body":"@AnnaKoskinen I was able to reproduce it. See the following bug: <a href=\"https://github.com/vaadin/flow-components/issues/2489\" rel=\"nofollow noreferrer\">github.com/vaadin/flow-components/issues/2489</a>"}],"answers":[{"tags":[],"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642178399,"creation_date":1642178399,"answer_id":70713808,"question_id":69699915,"body_markdown":"Vaadin 22.0.3 is scheduled to be released on Monday with the fix.","title":"new items destroy layout of grid","body":"<p>Vaadin 22.0.3 is scheduled to be released on Monday with the fix.</p>\n"}],"owner":{"account_id":21583367,"reputation":161,"user_id":15914240,"display_name":"Thomas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642178399,"creation_date":1635102125,"question_id":69699915,"body_markdown":"By refreshing the items within a grid sometimes it happen that the grid shows completely crazy:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WC3i3.png\r\n\r\n\r\nThat&#39;s how I update the data every time. The instance of the Grid stays the same:\r\n\r\n\t\t\r\n\r\n    dataProvider = new ListDataProvider&lt;&gt;(newItems);\r\n    grid.setItems(dataProvider);\r\n\r\nDoes someone have an idea whether I do something wrong or there is a bug within Vaadin?\r\n\r\n\r\n\r\n-----------------\r\n\r\nComplete code:\r\n\r\n\t\tif (!columnsIntialized) {\t\r\n\t\t\tfor (Method method : gridProperties) {\r\n\t\t\t\tColumn&lt;T&gt; column = grid.addColumn(data -&gt; {\r\n\t\t\t\t\tObject value = method.invoke(data);\r\n\t\t\t\t\treturn getFormattedValue(value, method.getReturnType());\r\n\t\t\t\t});\r\n\r\n\t\t\t\tString resourceKey = method.getDeclaredAnnotation(GridProperties.class).resourceKey();\r\n\t\t\t\tcolumn.setKey(resourceKey);\r\n\t\t\t\tcolumn.setHeader(AppResources.getString(resourceKey));\r\n\t\t\t\t\r\n\t\t\t\tint width = method.getDeclaredAnnotation(GridProperties.class).width();\r\n\t\t\t\tif (width == -1) {\r\n\t\t\t\t\tcolumn.setAutoWidth(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcolumn.setWidth(width + &quot;px&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcolumnsIntialized = true;\r\n\t\t}\r\n\t\t\r\n\t\tdataProvider = new ListDataProvider&lt;&gt;(items);\r\n\t\tgrid.setItems(dataProvider);\r\n\t\tgrid.recalculateColumnWidths();","title":"new items destroy layout of grid","body":"<p>By refreshing the items within a grid sometimes it happen that the grid shows completely crazy:</p>\n<p><a href=\"https://i.stack.imgur.com/WC3i3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WC3i3.png\" alt=\"enter image description here\" /></a></p>\n<p>That's how I update the data every time. The instance of the Grid stays the same:</p>\n<pre><code>dataProvider = new ListDataProvider&lt;&gt;(newItems);\ngrid.setItems(dataProvider);\n</code></pre>\n<p>Does someone have an idea whether I do something wrong or there is a bug within Vaadin?</p>\n<hr />\n<p>Complete code:</p>\n<pre><code>    if (!columnsIntialized) {   \n        for (Method method : gridProperties) {\n            Column&lt;T&gt; column = grid.addColumn(data -&gt; {\n                Object value = method.invoke(data);\n                return getFormattedValue(value, method.getReturnType());\n            });\n\n            String resourceKey = method.getDeclaredAnnotation(GridProperties.class).resourceKey();\n            column.setKey(resourceKey);\n            column.setHeader(AppResources.getString(resourceKey));\n            \n            int width = method.getDeclaredAnnotation(GridProperties.class).width();\n            if (width == -1) {\n                column.setAutoWidth(true);\n            } else {\n                column.setWidth(width + &quot;px&quot;);\n            }\n        }\n        columnsIntialized = true;\n    }\n    \n    dataProvider = new ListDataProvider&lt;&gt;(items);\n    grid.setItems(dataProvider);\n    grid.recalculateColumnWidths();\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642160806,"creation_date":1642160806,"answer_id":70710097,"question_id":70710030,"body_markdown":"Great, you are writing tests!\r\n\r\nUnfortunately, `Autowired` does not work like that, you will need the spring-context which you don&#39;t really need if you writing simple unit-tests. \r\n\r\nRegarding your unit-test, you are testing `StockServiceTest` so you should focus only on that class `StockService` and mock the behaviour of `InitializeService` and `StockRepository`. I would recommend a quick read of this [tutorial][1].\r\n\r\nFor mocking, you can use [Mockito][2]\r\n\r\nIf you want to test both classes, you can initialize them inside the `init()` method but you will have to handle the dependencies they might have.\r\n\r\n  [1]: https://www.baeldung.com/java-unit-testing-best-practices\r\n  [2]: https://www.baeldung.com/java-spring-mockito-mock-mockbean","title":"Autowired field is throwing NullPointerException on a unit-test","body":"<p>Great, you are writing tests!</p>\n<p>Unfortunately, <code>Autowired</code> does not work like that, you will need the spring-context which you don't really need if you writing simple unit-tests.</p>\n<p>Regarding your unit-test, you are testing <code>StockServiceTest</code> so you should focus only on that class <code>StockService</code> and mock the behaviour of <code>InitializeService</code> and <code>StockRepository</code>. I would recommend a quick read of this <a href=\"https://www.baeldung.com/java-unit-testing-best-practices\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n<p>For mocking, you can use <a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean\" rel=\"nofollow noreferrer\">Mockito</a></p>\n<p>If you want to test both classes, you can initialize them inside the <code>init()</code> method but you will have to handle the dependencies they might have.</p>\n"}],"owner":{"account_id":17626981,"reputation":61,"user_id":12791861,"display_name":"Lemurumschlag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2227,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1642178128,"answer_count":1,"score":2,"last_activity_date":1642178182,"creation_date":1642160367,"question_id":70710030,"body_markdown":"I am new, working with Spring Boot. I am writing a unit test and I always got the following exception: \r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;com.trivadis.stocks.service.InitializeService.createInitialStocks()&quot;\r\n&gt; because &quot;this.initializeService&quot; is null\r\n\r\nI have no idea what I can do. I think that the @AutoWired doesn&#39;t work.\r\n\r\nThe source code of my test:\r\n\r\n    import com.trivadis.stocks.entity.Stock;\r\n    import com.trivadis.stocks.repository.StockRepository;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.RepeatedTest;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    class StockServiceTest {\r\n        private Stock stock1;\r\n        private Stock stock2;\r\n        @Autowired\r\n        StockService stockService;\r\n    \r\n        @Autowired\r\n        InitializeService initializeService;\r\n        @Autowired\r\n        StockRepository stockRepository;\r\n    \r\n    \r\n    \r\n        /**\r\n         * initializes the needed stock objects and the stockService before any test will be run\r\n         */\r\n        @BeforeEach()\r\n        public void init() {\r\n            initializeService.createInitialStocks();\r\n            stock1 = stockService.getById(1L);\r\n            //stock2 = new Stock(&quot;stock1&quot;, 2999.98);\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Is a test, which will be executed 500 times\r\n         * it tests if the interval of the created random number is correct.\r\n         */\r\n        @RepeatedTest(1)\r\n        void changePrice() {\r\n            stockService.changePrice(stock1.getId(), 1, true);\r\n            System.out.println(stock1.getPrice());\r\n           // assertTrue(stock1.getPrice() &gt;= 1.025);\r\n            //System.out.println(stock1.getPrice());\r\n            //assertTrue(stock1.getPrice() &lt;= 1.15);\r\n        }}\r\n\r\n ","title":"Autowired field is throwing NullPointerException on a unit-test","body":"<p>I am new, working with Spring Boot. I am writing a unit test and I always got the following exception:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke\n&quot;com.trivadis.stocks.service.InitializeService.createInitialStocks()&quot;\nbecause &quot;this.initializeService&quot; is null</p>\n</blockquote>\n<p>I have no idea what I can do. I think that the @AutoWired doesn't work.</p>\n<p>The source code of my test:</p>\n<pre><code>import com.trivadis.stocks.entity.Stock;\nimport com.trivadis.stocks.repository.StockRepository;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.RepeatedTest;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass StockServiceTest {\n    private Stock stock1;\n    private Stock stock2;\n    @Autowired\n    StockService stockService;\n\n    @Autowired\n    InitializeService initializeService;\n    @Autowired\n    StockRepository stockRepository;\n\n\n\n    /**\n     * initializes the needed stock objects and the stockService before any test will be run\n     */\n    @BeforeEach()\n    public void init() {\n        initializeService.createInitialStocks();\n        stock1 = stockService.getById(1L);\n        //stock2 = new Stock(&quot;stock1&quot;, 2999.98);\n\n    }\n\n    /**\n     * Is a test, which will be executed 500 times\n     * it tests if the interval of the created random number is correct.\n     */\n    @RepeatedTest(1)\n    void changePrice() {\n        stockService.changePrice(stock1.getId(), 1, true);\n        System.out.println(stock1.getPrice());\n       // assertTrue(stock1.getPrice() &gt;= 1.025);\n        //System.out.println(stock1.getPrice());\n        //assertTrue(stock1.getPrice() &lt;= 1.15);\n    }}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642177939,"creation_date":1642177939,"answer_id":70713705,"question_id":70712865,"body_markdown":"The maxiumum consumer connection limit is one per partition, per topic; 40 topics * 10 partitions = 400 consumer connections at most (this is also the limit of the number of non-idle consumer apps you can run). \r\n\r\n`+` 5 connections for producers = 405 client connections. \r\n\r\nIf you are using frameworks like Spring to create topics via `@Bean NewTopic`, then there will be another 40 connections from `AdminClient` classes, but these would likely start and end before the producer/consumer threads start. \r\n\r\nThere may be more connections to the cluster Controller, ConsumerGroupCoordinator and Fetch requests to in-sync replicas, if that is enabled. \r\n\r\n","title":"How many Connections are created to Kafka brokers from a application","body":"<p>The maxiumum consumer connection limit is one per partition, per topic; 40 topics * 10 partitions = 400 consumer connections at most (this is also the limit of the number of non-idle consumer apps you can run).</p>\n<p><code>+</code> 5 connections for producers = 405 client connections.</p>\n<p>If you are using frameworks like Spring to create topics via <code>@Bean NewTopic</code>, then there will be another 40 connections from <code>AdminClient</code> classes, but these would likely start and end before the producer/consumer threads start.</p>\n<p>There may be more connections to the cluster Controller, ConsumerGroupCoordinator and Fetch requests to in-sync replicas, if that is enabled.</p>\n"}],"owner":{"account_id":1216810,"reputation":378,"user_id":1184230,"accept_rate":29,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70713705,"answer_count":1,"score":1,"last_activity_date":1642177939,"creation_date":1642173922,"question_id":70712865,"body_markdown":"In my application I am having around 40 different topics. Currently working on RabbitMQ, planning to move to Kafka. Each topic I am thinking to have 10 partitions (As having multiple instances of this application running and want to have load distributed among at least 10 nodes).\r\nAlso, based on different serializers I require, I am planning to have 5 producers.\r\nSo, on a JVM, will have 40 Consumers running(1 per topic) and 5 producers running.\r\nPlanning to have Kafka cluster of 9 brokers.\r\n\r\nI tried browsing relation, where I found some links suggesting that the connection keeps alive, but could not get concrete answer about how many connection will be created from a JVM on basis of Producer count, Topic count, partition count, consumer count and Broker count.\r\n","title":"How many Connections are created to Kafka brokers from a application","body":"<p>In my application I am having around 40 different topics. Currently working on RabbitMQ, planning to move to Kafka. Each topic I am thinking to have 10 partitions (As having multiple instances of this application running and want to have load distributed among at least 10 nodes).\nAlso, based on different serializers I require, I am planning to have 5 producers.\nSo, on a JVM, will have 40 Consumers running(1 per topic) and 5 producers running.\nPlanning to have Kafka cluster of 9 brokers.</p>\n<p>I tried browsing relation, where I found some links suggesting that the connection keeps alive, but could not get concrete answer about how many connection will be created from a JVM on basis of Producer count, Topic count, partition count, consumer count and Broker count.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1642176139,"post_id":70713309,"comment_id":125008877,"body_markdown":"I think you need a square root somewhere to calculate the standard deviation, but I don&#39;t see one in the code. Could this be a problem?","body":"I think you need a square root somewhere to calculate the standard deviation, but I don&#39;t see one in the code. Could this be a problem?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1642176313,"post_id":70713309,"comment_id":125008955,"body_markdown":"Can you explain which formula you tried to implement for computing the standard deviation?","body":"Can you explain which formula you tried to implement for computing the standard deviation?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1642176566,"post_id":70713309,"comment_id":125009070,"body_markdown":"Use the appropriate [formula](https://www.cuemath.com/data/standard-deviation/).","body":"Use the appropriate <a href=\"https://www.cuemath.com/data/standard-deviation/\" rel=\"nofollow noreferrer\">formula</a>."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1642176920,"post_id":70713309,"comment_id":125009210,"body_markdown":"Please have a look at the formula. You&#39;re missing dividing by the amount of data points and taking the square root.","body":"Please have a look at the formula. You&#39;re missing dividing by the amount of data points and taking the square root."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1642179398,"post_id":70713309,"comment_id":125010226,"body_markdown":"btw you&#39;ve declared `rand` but not used it, and used `Math.random()` instead. It&#39;s better to use `rand.nextInt`. Also, it&#39;s good practice declare your variables when you use them, not before. And use `values.length` instead of repeating `20`.","body":"btw you&#39;ve declared <code>rand</code> but not used it, and used <code>Math.random()</code> instead. It&#39;s better to use <code>rand.nextInt</code>. Also, it&#39;s good practice declare your variables when you use them, not before. And use <code>values.length</code> instead of repeating <code>20</code>."}],"answers":[{"tags":[],"owner":{"account_id":8644989,"reputation":121,"user_id":6472461,"display_name":"C&#225;ssio Morales"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642176908,"creation_date":1642176661,"answer_id":70713438,"question_id":70713309,"body_markdown":"You have to average the sum, and then square root it:\r\n\r\n    System.out.println(&quot;Std Dev:   &quot; + Math.sqrt(stand_Sum/20));","title":"Standard deviation computed incorrectly","body":"<p>You have to average the sum, and then square root it:</p>\n<pre><code>System.out.println(&quot;Std Dev:   &quot; + Math.sqrt(stand_Sum/20));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642177806,"creation_date":1642177806,"answer_id":70713685,"question_id":70713309,"body_markdown":"Source to calculate standard deviation:\r\n-----------------\r\n    import java.util.Random;\r\n    import java.io.PrintStream;\r\n    \r\n    public class SD {\r\n    \tstatic PrintStream out=System.out;\t\r\n    \r\n    \tpublic static void main(String ... $) {\r\n    \r\n    \t\tRandom rand = new Random();\r\n    \r\n    \t\tint values[] = new int[20];\r\n    \r\n    \t\tfor (int i = 0; i &lt; values.length; i++) {\r\n    \t\t\tvalues[i] = (int)(Math.random()*(100-1+1)+1);\r\n    \t\t\t//System.out.print(values[i]+&quot; &quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \r\n    \t\tint min = values[0], max = values[0];\r\n    \t\tdouble mean = 0, sum = 0, stand = 0;\r\n    \t\t//calculating sum, min and max values\r\n    \t\tfor (int i = 0; i &lt; values.length; i++) {\r\n    \t\t\tsum += values[i];\r\n    \t\t\tif (values[i]&lt;min)\r\n    \t\t\t\tmin = values[i];\r\n    \t\t\tif (values[i]&gt;max)\r\n    \t\t\t\tmax = values[i]; \r\n    \t\t}\r\n    \t\t//calculating mean\r\n    \t\tmean = sum/20;\r\n    \t\tdouble stand_Sum = 0;\r\n    \r\n    \t\tfor (int x = 0; x &lt; values.length; x++) {\r\n    \t\t\t//stand_Sum+=(values[x]-mean)*(values[x]-mean);\r\n    \t\t\tstand_Sum+=Math.pow(Math.abs(values[x]-mean),2.0);\r\n    \r\n    \t\t}\r\n    \r\n    \t\tout.println(&quot;Min:       &quot; + min);\r\n    \t\tout.println(&quot;Max:       &quot; + max);\r\n    \t\tout.println(&quot;Mean:      &quot; + mean);\r\n    \t\tout.println(&quot;Std Dev:   &quot; + Math.pow(stand_Sum/values.length,0.5));\r\n    \t}\r\n    }\r\n\r\noutput :\r\n-----\r\n\r\n    $ java SD\r\n    \r\n    Min:       6\r\n    Max:       92\r\n    Mean:      51.9\r\n    Std Dev:   23.35358644833808\r\n\r\n","title":"Standard deviation computed incorrectly","body":"<h2>Source to calculate standard deviation:</h2>\n<pre><code>import java.util.Random;\nimport java.io.PrintStream;\n\npublic class SD {\n    static PrintStream out=System.out;  \n\n    public static void main(String ... $) {\n\n        Random rand = new Random();\n\n        int values[] = new int[20];\n\n        for (int i = 0; i &lt; values.length; i++) {\n            values[i] = (int)(Math.random()*(100-1+1)+1);\n            //System.out.print(values[i]+&quot; &quot;);\n        }\n        System.out.println();\n\n        int min = values[0], max = values[0];\n        double mean = 0, sum = 0, stand = 0;\n        //calculating sum, min and max values\n        for (int i = 0; i &lt; values.length; i++) {\n            sum += values[i];\n            if (values[i]&lt;min)\n                min = values[i];\n            if (values[i]&gt;max)\n                max = values[i]; \n        }\n        //calculating mean\n        mean = sum/20;\n        double stand_Sum = 0;\n\n        for (int x = 0; x &lt; values.length; x++) {\n            //stand_Sum+=(values[x]-mean)*(values[x]-mean);\n            stand_Sum+=Math.pow(Math.abs(values[x]-mean),2.0);\n\n        }\n\n        out.println(&quot;Min:       &quot; + min);\n        out.println(&quot;Max:       &quot; + max);\n        out.println(&quot;Mean:      &quot; + mean);\n        out.println(&quot;Std Dev:   &quot; + Math.pow(stand_Sum/values.length,0.5));\n    }\n}\n</code></pre>\n<h2>output :</h2>\n<pre><code>$ java SD\n\nMin:       6\nMax:       92\nMean:      51.9\nStd Dev:   23.35358644833808\n</code></pre>\n"}],"owner":{"account_id":21990905,"reputation":17,"user_id":16264305,"display_name":"ameaturatlife"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1642177806,"creation_date":1642176023,"question_id":70713309,"body_markdown":"I have written a program that generate twenty random int values and calculates the min, max, mean, and standard deviation. However, when I tried to compute the standard deviation it does not compute properly and I cant figure out why.\r\n\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class RandomNumbers {\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tRandom rand = new Random();\r\n\t\t\r\n\t\tint values[] = new int[20];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 20; i++) {\r\n\t\t\tvalues[i] = (int)(Math.random()*(100-1+1)+1); }\r\n\r\n\t\tint min = values[0], max = values[0];\r\n\t\tdouble mean = 0, sum = values[0], stand = 0;\r\n\t\t\r\n\t\tfor (int i = 1; i &lt; 20; i++) {\r\n\t\t\tsum += values[i];\r\n\t\t\tif (values[i]&lt;min)\r\n\t\t\t\tmin = values[i];\r\n\t\t\tif (values[i]&gt;max)\r\n\t\t\t\tmax = values[i]; }\r\n\t\t\t\r\n\t\tmean = sum/20;\r\n\t\tdouble stand_Sum = 0;\r\n\t\t\t\r\n\t\tfor (int x = 0; x &lt; 20; x++) {\r\n\t\t\tstand_Sum+=(values[x]-mean)*(values[x]-mean); }\r\n\t\t\r\n\t\tSystem.out.println(&quot;Min: \t   &quot; + min);\r\n\t\tSystem.out.println(&quot;Max:  \t   &quot; + max);\r\n\t\tSystem.out.println(&quot;Mean: \t   &quot; + mean);\r\n\t\tSystem.out.println(&quot;Std Dev:   &quot; + stand_Sum);\r\n\t}\r\n}\r\n```","title":"Standard deviation computed incorrectly","body":"<p>I have written a program that generate twenty random int values and calculates the min, max, mean, and standard deviation. However, when I tried to compute the standard deviation it does not compute properly and I cant figure out why.</p>\n<pre><code>import java.util.Random;\n\npublic class RandomNumbers {\n    \n    public static void main(String args[]) {\n        \n        Random rand = new Random();\n        \n        int values[] = new int[20];\n        \n        for (int i = 0; i &lt; 20; i++) {\n            values[i] = (int)(Math.random()*(100-1+1)+1); }\n\n        int min = values[0], max = values[0];\n        double mean = 0, sum = values[0], stand = 0;\n        \n        for (int i = 1; i &lt; 20; i++) {\n            sum += values[i];\n            if (values[i]&lt;min)\n                min = values[i];\n            if (values[i]&gt;max)\n                max = values[i]; }\n            \n        mean = sum/20;\n        double stand_Sum = 0;\n            \n        for (int x = 0; x &lt; 20; x++) {\n            stand_Sum+=(values[x]-mean)*(values[x]-mean); }\n        \n        System.out.println(&quot;Min:       &quot; + min);\n        System.out.println(&quot;Max:       &quot; + max);\n        System.out.println(&quot;Mean:      &quot; + mean);\n        System.out.println(&quot;Std Dev:   &quot; + stand_Sum);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","bean-validation"],"comments":[{"owner":{"account_id":3618222,"reputation":158,"user_id":3017614,"display_name":"mEstrazulas"},"score":0,"creation_date":1642169960,"post_id":70711823,"comment_id":125006331,"body_markdown":"Hi Igor, can you put the stack trace?","body":"Hi Igor, can you put the stack trace?"},{"owner":{"display_name":"user17154913"},"score":0,"creation_date":1642171496,"post_id":70711823,"comment_id":125006956,"body_markdown":"@mEstrazulas just put it here","body":"@mEstrazulas just put it here"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1642175319,"post_id":70711823,"comment_id":125008521,"body_markdown":"I can&#39;t reproduce the problem using the program given, I can see `handleMethodArgumentNotValid`. I guess your actual method in the controller is `public ResponseEntity&lt;Categoria&gt; criar(@Valid @RequestBody Categoria categoria, BindingResult bindingResult...`","body":"I can&#39;t reproduce the problem using the program given, I can see <code>handleMethodArgumentNotValid</code>. I guess your actual method in the controller is <code>public ResponseEntity&lt;Categoria&gt; criar(@Valid @RequestBody Categoria categoria, BindingResult bindingResult...</code>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642177697,"creation_date":1642172673,"answer_id":70712604,"question_id":70711823,"body_markdown":"Well from your posted stacktrace , it is throwing `MysqlDataTruncation` exception  which is returned from MySQL, but `handleMethodArgumentNotValid()` is intended to handle `MethodArgumentNotValidException` , so it is very normal that it will not be called.\r\n\r\nAlso, if the exception is thrown because of the bean validation (i.e `@NotNull` , `@Size`) , it will throw `javax.validation.ConstraintViolationException` and will not send request to MySQL like the current situation you show . Actually , you do not enable bean validation for your controller yet which requires you to annotate `@Validated` on it : \r\n\r\n``` java\r\n@Validated\r\n@RestController\r\n@RequestMapping(&quot;/categorias&quot;)\r\npublic class CategoriaResource {\r\n\r\n\r\n}\r\n```\r\n\r\nSo either create an exception handler to handle `MysqlDataTruncation` or enable bean validation for the controller and handle `ConstraintViolationException`","title":"handleMethodArgumentNotValid is not being called","body":"<p>Well from your posted stacktrace , it is throwing <code>MysqlDataTruncation</code> exception  which is returned from MySQL, but <code>handleMethodArgumentNotValid()</code> is intended to handle <code>MethodArgumentNotValidException</code> , so it is very normal that it will not be called.</p>\n<p>Also, if the exception is thrown because of the bean validation (i.e <code>@NotNull</code> , <code>@Size</code>) , it will throw <code>javax.validation.ConstraintViolationException</code> and will not send request to MySQL like the current situation you show . Actually , you do not enable bean validation for your controller yet which requires you to annotate <code>@Validated</code> on it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Validated\n@RestController\n@RequestMapping(&quot;/categorias&quot;)\npublic class CategoriaResource {\n\n\n}\n</code></pre>\n<p>So either create an exception handler to handle <code>MysqlDataTruncation</code> or enable bean validation for the controller and handle <code>ConstraintViolationException</code></p>\n"}],"owner":{"display_name":"user17154913"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2942,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70712604,"answer_count":1,"score":1,"last_activity_date":1642177697,"creation_date":1642169182,"question_id":70711823,"body_markdown":"Im doing this project on spring boot 2.6.2. The error is that the handleMethodArgumentNotValid is not being called, because on Postman when I put the &quot;nome&quot; as null or exceding its max, instead of giving me the code 400 Bad Request, im receiving the 500 internal error\r\n\r\n**exception handler:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.algaworks.algamoneyapi.exceptionhandler;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.context.i18n.LocaleContextHolder;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.http.converter.HttpMessageNotReadableException;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.validation.FieldError;\r\n    import org.springframework.web.bind.MethodArgumentNotValidException;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.context.request.WebRequest;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n\r\n    @ControllerAdvice\r\n    public class AlgamoneyExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n        @Autowired\r\n        private MessageSource messageSource;\r\n\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex,\r\n                                                                      HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n            String mensagemUsuario = messageSource.getMessage(&quot;message.invalida&quot;, null, LocaleContextHolder.getLocale());\r\n            String mensagemDesenvolvedor = ex.getCause().toString();\r\n            return handleExceptionInternal(ex, new Erro(mensagemUsuario, mensagemDesenvolvedor), headers, HttpStatus.BAD_REQUEST, request);\r\n        }\r\n\r\n\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                                                                      HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n            List&lt;Erro&gt; erros = criarListaDeErros(ex.getBindingResult());\r\n            return handleExceptionInternal(ex, erros, headers, HttpStatus.BAD_REQUEST, request);\r\n        }\r\n\r\n        private List&lt;Erro&gt; criarListaDeErros(BindingResult bindingResult) {\r\n            List&lt;Erro&gt; erros = new ArrayList&lt;&gt;();\r\n\r\n            for (FieldError fieldError : bindingResult.getFieldErrors()) {\r\n                String mensagemUsuario = messageSource.getMessage(fieldError, LocaleContextHolder.getLocale());\r\n                String mensagemDesenvolvedor = fieldError.toString();\r\n                erros.add(new Erro(mensagemUsuario, mensagemDesenvolvedor));\r\n            }\r\n\r\n            return erros;\r\n        }\r\n\r\n        public static class Erro {\r\n\r\n            private String mensagemUsuario;\r\n            private String mensagemDesenvolvedor;\r\n\r\n            public Erro(String mensagemUsuario, String mensagemDesenvolvedor) {\r\n                this.mensagemUsuario = mensagemUsuario;\r\n                this.mensagemDesenvolvedor = mensagemDesenvolvedor;\r\n            }\r\n\r\n            public String getMensagemUsuario() {\r\n                return mensagemUsuario;\r\n            }\r\n\r\n            public String getMensagemDesenvolvedor() {\r\n                return mensagemDesenvolvedor;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Class Categoria:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.algaworks.algamoneyapi.model;\r\n\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.Objects;\r\n\r\n    @Entity\r\n    @Table(name = &quot;categoria&quot;)\r\n    public class Categoria {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long codigo;\r\n\r\n        @NotNull\r\n        @Size(min = 3, max = 50)\r\n        private String nome;\r\n\r\n        public Long getCodigo() {\r\n            return codigo;\r\n        }\r\n\r\n        public void setCodigo(Long codigo) {\r\n            this.codigo = codigo;\r\n        }\r\n\r\n        public String getNome() {\r\n            return nome;\r\n        }\r\n\r\n        public void setNome(String nome) {\r\n            this.nome = nome;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Categoria categoria = (Categoria) o;\r\n            return codigo.equals(categoria.codigo);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(codigo);\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Class CategoriaResource:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.algaworks.algamoneyapi.resources;\r\n\r\n    import com.algaworks.algamoneyapi.model.Categoria;\r\n    import com.algaworks.algamoneyapi.repository.CategoriaRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.validation.Valid;\r\n    import java.net.URI;\r\n    import java.util.List;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/categorias&quot;)\r\n    public class CategoriaResource {\r\n\r\n        @Autowired\r\n        private CategoriaRepository categoriaRepository;\r\n\r\n        @GetMapping\r\n        public List&lt;Categoria&gt; listar(){\r\n            return categoriaRepository.findAll();\r\n        }\r\n\r\n        @PostMapping\r\n        public ResponseEntity&lt;Categoria&gt; criar(@Valid @RequestBody Categoria categoria, HttpServletResponse response){\r\n            Categoria categoriaSalva = categoriaRepository.save(categoria);\r\n\r\n            URI uri = ServletUriComponentsBuilder.fromCurrentRequestUri().path(&quot;/{codigo}&quot;)\r\n                    .buildAndExpand(categoriaSalva.getCodigo()).toUri();\r\n            response.setHeader(&quot;Location&quot;, uri.toASCIIString());\r\n\r\n            return ResponseEntity.created(uri).body(categoriaSalva);\r\n        }\r\n\r\n        @GetMapping(&quot;/{codigo}&quot;)\r\n        public ResponseEntity&lt;Categoria&gt; buscarPeloCodigo(@PathVariable Long codigo){\r\n            Categoria categoria = this.categoriaRepository.findById(codigo).orElse(null);\r\n            return categoria != null ? ResponseEntity.ok(categoria) : ResponseEntity.notFound().build();\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**stack trace:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Hibernate: insert into categoria (nome) values (?)\r\n    2022-01-14 10:52:47.835  WARN 4194 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1406, SQLState: 22001\r\n    2022-01-14 10:52:47.835 ERROR 4194 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Data too long for column &#39;nome&#39; at row 1\r\n    2022-01-14 10:52:47.853 ERROR 4194 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause\r\n\r\n    com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column &#39;nome&#39; at row 1\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:760) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:746) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.14.jar:5.3.14]\r\n    \tat com.sun.proxy.$Proxy108.persist(Unknown Source) ~[na:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.14.jar:5.3.14]\r\n    \tat com.sun.proxy.$Proxy108.persist(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat com.sun.proxy.$Proxy111.save(Unknown Source) ~[na:na]\r\n    \tat com.algaworks.algamoneyapi.resources.CategoriaResource.criar(CategoriaResource.java:29) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_312]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHoping someone helps me out :)","title":"handleMethodArgumentNotValid is not being called","body":"<p>Im doing this project on spring boot 2.6.2. The error is that the handleMethodArgumentNotValid is not being called, because on Postman when I put the &quot;nome&quot; as null or exceding its max, instead of giving me the code 400 Bad Request, im receiving the 500 internal error</p>\n<p><strong>exception handler:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.algaworks.algamoneyapi.exceptionhandler;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.MessageSource;\nimport org.springframework.context.i18n.LocaleContextHolder;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.converter.HttpMessageNotReadableException;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\n@ControllerAdvice\npublic class AlgamoneyExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @Autowired\n    private MessageSource messageSource;\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex,\n                                                                  HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n        String mensagemUsuario = messageSource.getMessage(&quot;message.invalida&quot;, null, LocaleContextHolder.getLocale());\n        String mensagemDesenvolvedor = ex.getCause().toString();\n        return handleExceptionInternal(ex, new Erro(mensagemUsuario, mensagemDesenvolvedor), headers, HttpStatus.BAD_REQUEST, request);\n    }\n\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                  HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n        List&lt;Erro&gt; erros = criarListaDeErros(ex.getBindingResult());\n        return handleExceptionInternal(ex, erros, headers, HttpStatus.BAD_REQUEST, request);\n    }\n\n    private List&lt;Erro&gt; criarListaDeErros(BindingResult bindingResult) {\n        List&lt;Erro&gt; erros = new ArrayList&lt;&gt;();\n\n        for (FieldError fieldError : bindingResult.getFieldErrors()) {\n            String mensagemUsuario = messageSource.getMessage(fieldError, LocaleContextHolder.getLocale());\n            String mensagemDesenvolvedor = fieldError.toString();\n            erros.add(new Erro(mensagemUsuario, mensagemDesenvolvedor));\n        }\n\n        return erros;\n    }\n\n    public static class Erro {\n\n        private String mensagemUsuario;\n        private String mensagemDesenvolvedor;\n\n        public Erro(String mensagemUsuario, String mensagemDesenvolvedor) {\n            this.mensagemUsuario = mensagemUsuario;\n            this.mensagemDesenvolvedor = mensagemDesenvolvedor;\n        }\n\n        public String getMensagemUsuario() {\n            return mensagemUsuario;\n        }\n\n        public String getMensagemDesenvolvedor() {\n            return mensagemDesenvolvedor;\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>Class Categoria:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.algaworks.algamoneyapi.model;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;categoria&quot;)\npublic class Categoria {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long codigo;\n\n    @NotNull\n    @Size(min = 3, max = 50)\n    private String nome;\n\n    public Long getCodigo() {\n        return codigo;\n    }\n\n    public void setCodigo(Long codigo) {\n        this.codigo = codigo;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Categoria categoria = (Categoria) o;\n        return codigo.equals(categoria.codigo);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(codigo);\n    }\n}\n</code></pre>\n<p><strong>Class CategoriaResource:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.algaworks.algamoneyapi.resources;\n\nimport com.algaworks.algamoneyapi.model.Categoria;\nimport com.algaworks.algamoneyapi.repository.CategoriaRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\nimport javax.servlet.http.HttpServletResponse;\nimport javax.validation.Valid;\nimport java.net.URI;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/categorias&quot;)\npublic class CategoriaResource {\n\n    @Autowired\n    private CategoriaRepository categoriaRepository;\n\n    @GetMapping\n    public List&lt;Categoria&gt; listar(){\n        return categoriaRepository.findAll();\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Categoria&gt; criar(@Valid @RequestBody Categoria categoria, HttpServletResponse response){\n        Categoria categoriaSalva = categoriaRepository.save(categoria);\n\n        URI uri = ServletUriComponentsBuilder.fromCurrentRequestUri().path(&quot;/{codigo}&quot;)\n                .buildAndExpand(categoriaSalva.getCodigo()).toUri();\n        response.setHeader(&quot;Location&quot;, uri.toASCIIString());\n\n        return ResponseEntity.created(uri).body(categoriaSalva);\n    }\n\n    @GetMapping(&quot;/{codigo}&quot;)\n    public ResponseEntity&lt;Categoria&gt; buscarPeloCodigo(@PathVariable Long codigo){\n        Categoria categoria = this.categoriaRepository.findById(codigo).orElse(null);\n        return categoria != null ? ResponseEntity.ok(categoria) : ResponseEntity.notFound().build();\n    }\n\n}\n</code></pre>\n<p><strong>stack trace:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>Hibernate: insert into categoria (nome) values (?)\n2022-01-14 10:52:47.835  WARN 4194 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1406, SQLState: 22001\n2022-01-14 10:52:47.835 ERROR 4194 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Data too long for column 'nome' at row 1\n2022-01-14 10:52:47.853 ERROR 4194 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause\n\ncom.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'nome' at row 1\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:760) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:746) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.14.jar:5.3.14]\n    at com.sun.proxy.$Proxy108.persist(Unknown Source) ~[na:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.14.jar:5.3.14]\n    at com.sun.proxy.$Proxy108.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]\n    at com.sun.proxy.$Proxy111.save(Unknown Source) ~[na:na]\n    at com.algaworks.algamoneyapi.resources.CategoriaResource.criar(CategoriaResource.java:29) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_312]\n</code></pre>\n<p>Hoping someone helps me out :)</p>\n"},{"tags":["java","android","firebase","google-maps","huawei-mobile-services"],"comments":[{"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"score":0,"creation_date":1607415015,"post_id":65119668,"comment_id":115257912,"body_markdown":"Before you use Huawei Map Kit, did you [integrate the HMS SDK](https://developer.huawei.com/consumer/en/doc/development/HMS-Guides/hms-map-integratingthehmssdk) into your Android Studio first? By the way, Map Kit&#39;s supported devices are only Huawei devices.","body":"Before you use Huawei Map Kit, did you <a href=\"https://developer.huawei.com/consumer/en/doc/development/HMS-Guides/hms-map-integratingthehmssdk\" rel=\"nofollow noreferrer\">integrate the HMS SDK</a> into your Android Studio first? By the way, Map Kit&#39;s supported devices are only Huawei devices."},{"owner":{"account_id":11607145,"reputation":111,"user_id":8780264,"display_name":"douglas"},"score":0,"creation_date":1607505046,"post_id":65119668,"comment_id":115290587,"body_markdown":"Shirley yes,I do","body":"Shirley yes,I do"},{"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"score":0,"creation_date":1607505476,"post_id":65119668,"comment_id":115290762,"body_markdown":"You cannot get markers from google map or huawei map? If you are using huawei map kit to cluster markers, you are advised to use the tool here: https://github.com/billtom20/3rd-maps-utils","body":"You cannot get markers from google map or huawei map? If you are using huawei map kit to cluster markers, you are advised to use the tool here: <a href=\"https://github.com/billtom20/3rd-maps-utils\" rel=\"nofollow noreferrer\">github.com/billtom20/3rd-maps-utils</a>"}],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606979672,"creation_date":1606979672,"answer_id":65121391,"question_id":65119668,"body_markdown":"You are advised to use [this useful tool][1], which is based on Google&#39;s open-source tool and adapts to the Huawei Map cluster manager. You can integrate the tool to cluster markers. \r\n\r\n**Usage:**\r\n\r\n1. Open Gradle, click **library**-&gt;**Tasks**-&gt;**build**-&gt;**assemble**.\r\n2. After Run, find 3rd-maps-utils-2.1.0-yyyyMMdd.aar file in library/build/outputs/aar/ path.\r\n3. Copy 3rd-maps-utils-2.1.0-yyyyMMdd.aar file to your own app/libs/ path.\r\n4. Add codes below in project **build.gradle** file.\r\n```\r\nallprojects {\r\n      repositories {\r\n             ...\r\n             flatDir {\r\n                    dirs &#39;libs&#39;\r\n             }\r\n      }\r\n}\r\n```\r\n5. Add codes below in app build.gradle file.\r\n```\r\ndependencies {\r\n    implementation(name: &#39;3rd-maps-utils-2.1.0-yyyyMMdd&#39;, ext: &#39;aar&#39;)\r\n    ...\r\n}\r\n```\r\n\r\nYou can also see this documentation: [Clustering Markers][2]. Or refer to the sample code:\r\n```\r\n@Override\r\n   public void onMapReady(HuaweiMap map) {\r\n       hMap = map;\r\n       hMap.moveCamera(CameraUpdateFactory.newLatLngZoom(\r\n           new LatLng(48.893478, 2.334595),10));\r\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.891478, 2.334595)).title(&quot;Marker1&quot;).clusterable(true));\r\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.892478, 2.334595)).title(&quot;Marker2&quot;).clusterable(true));\r\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.893478, 2.334595)).title(&quot;Marker3&quot;).clusterable(true));\r\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.894478, 2.334595)).title(&quot;Marker4&quot;).clusterable(true));\r\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.895478, 2.334595)).title(&quot;Marker5&quot;).clusterable(true));\r\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.896478, 2.334595)).title(&quot;Marker6&quot;).clusterable(true));\r\n       hMap.setMarkersClustering(true);\r\n   }\r\n```\r\n\r\n\r\n  [1]: https://github.com/billtom20/3rd-maps-utils\r\n  [2]: https://developer.huawei.com/consumer/en/doc/development/HMS-Guides/hms-map-drawonthemap#h2-1586915875534","title":"How to get the information of a marker from firebase on Android?","body":"<p>You are advised to use <a href=\"https://github.com/billtom20/3rd-maps-utils\" rel=\"nofollow noreferrer\">this useful tool</a>, which is based on Google's open-source tool and adapts to the Huawei Map cluster manager. You can integrate the tool to cluster markers.</p>\n<p><strong>Usage:</strong></p>\n<ol>\n<li>Open Gradle, click <strong>library</strong>-&gt;<strong>Tasks</strong>-&gt;<strong>build</strong>-&gt;<strong>assemble</strong>.</li>\n<li>After Run, find 3rd-maps-utils-2.1.0-yyyyMMdd.aar file in library/build/outputs/aar/ path.</li>\n<li>Copy 3rd-maps-utils-2.1.0-yyyyMMdd.aar file to your own app/libs/ path.</li>\n<li>Add codes below in project <strong>build.gradle</strong> file.</li>\n</ol>\n<pre><code>allprojects {\n      repositories {\n             ...\n             flatDir {\n                    dirs 'libs'\n             }\n      }\n}\n</code></pre>\n<ol start=\"5\">\n<li>Add codes below in app build.gradle file.</li>\n</ol>\n<pre><code>dependencies {\n    implementation(name: '3rd-maps-utils-2.1.0-yyyyMMdd', ext: 'aar')\n    ...\n}\n</code></pre>\n<p>You can also see this documentation: <a href=\"https://developer.huawei.com/consumer/en/doc/development/HMS-Guides/hms-map-drawonthemap#h2-1586915875534\" rel=\"nofollow noreferrer\">Clustering Markers</a>. Or refer to the sample code:</p>\n<pre><code>@Override\n   public void onMapReady(HuaweiMap map) {\n       hMap = map;\n       hMap.moveCamera(CameraUpdateFactory.newLatLngZoom(\n           new LatLng(48.893478, 2.334595),10));\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.891478, 2.334595)).title(&quot;Marker1&quot;).clusterable(true));\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.892478, 2.334595)).title(&quot;Marker2&quot;).clusterable(true));\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.893478, 2.334595)).title(&quot;Marker3&quot;).clusterable(true));\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.894478, 2.334595)).title(&quot;Marker4&quot;).clusterable(true));\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.895478, 2.334595)).title(&quot;Marker5&quot;).clusterable(true));\n       hMap.addMarker(new MarkerOptions().position(new LatLng(48.896478, 2.334595)).title(&quot;Marker6&quot;).clusterable(true));\n       hMap.setMarkersClustering(true);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19615962,"reputation":1997,"user_id":14357441,"display_name":"Zinna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608053194,"creation_date":1608053194,"answer_id":65310738,"question_id":65119668,"body_markdown":"Inside of the setOnMarkerClickListener you set the objects below (I assume they&#39;re textviews) with the values you retrieved from Firebase, but they are never updated with the the LatLng object. Additionally the LatLng object is never updated after it is initially set. Please make sure that your data objects are updated appropriately, otherwise it will return the same value every time.\r\n\r\n    txtKey.setText(key);\r\n    txtNombre_puesto.setText(nombre);\r\n    txtDescripcion.setText(descripcion);\r\n\r\n","title":"How to get the information of a marker from firebase on Android?","body":"<p>Inside of the setOnMarkerClickListener you set the objects below (I assume they're textviews) with the values you retrieved from Firebase, but they are never updated with the the LatLng object. Additionally the LatLng object is never updated after it is initially set. Please make sure that your data objects are updated appropriately, otherwise it will return the same value every time.</p>\n<pre><code>txtKey.setText(key);\ntxtNombre_puesto.setText(nombre);\ntxtDescripcion.setText(descripcion);\n</code></pre>\n"}],"owner":{"account_id":11607145,"reputation":111,"user_id":8780264,"display_name":"douglas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642177217,"creation_date":1606967678,"question_id":65119668,"body_markdown":"Hello I am making an application in android with java, huawei maps and firebase but I have a problem that I cannot solve for days is that when pressing the map marker and showing the data in the TextView it only shows me the last record of my database and not of the marker which I select.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n     public void listarMarcadores(DataSnapshot dataSnapshot) {\r\n            try {\r\n                final String key = dataSnapshot.getKey();\r\n                HashMap&lt;String, Object&gt; value = (HashMap&lt;String, Object&gt;) dataSnapshot.getValue();\r\n    \r\n                double lat;\r\n                double lon;\r\n                final String nombre;\r\n                final String tipo;\r\n                final String descripcion;\r\n    \r\n                lat = Double.parseDouble(value.get(&quot;latitud&quot;).toString());\r\n                lon = Double.parseDouble(value.get(&quot;longitud&quot;).toString());\r\n                nombre = (String) value.get(&quot;nombre_puesto&quot;);\r\n                tipo = (String) value.get(&quot;tipo_ambulante&quot;);\r\n                descripcion = (String) value.get(&quot;descripcion&quot;);\r\n    \r\n                LatLng ubicacion = new LatLng(lat, lon);\r\n                Marker mimarker;\r\n    \r\n                hMap.setOnMarkerClickListener(new HuaweiMap.OnMarkerClickListener() {\r\n                    @Override\r\n                    public boolean onMarkerClick(Marker marker) {\r\n    \r\n                        txtKey.setText(key);\r\n                        txtNombre_puesto.setText(nombre);\r\n                        txtDescripcion.setText(descripcion);\r\n                        txtTipo.setText(tipo);\r\n    \r\n    \r\n                        //, txtDireccion, txtHorario\r\n    \r\n                        mBottomSheetBehavior1.setState(BottomSheetBehavior.STATE_EXPANDED);\r\n    \r\n    \r\n                        return false;\r\n                    }\r\n                });\r\n                if (!mMarkers.containsKey(key)) {\r\n                    if (tipo.equals(&quot;cevicheria&quot;)) {\r\n                        mimarker = hMap.addMarker(new MarkerOptions().title(key).position(ubicacion).icon(BitmapDescriptorFactory.fromResource(R.drawable.pescado)));\r\n    \r\n                        mMarkers.put(key, mimarker).setIcon(BitmapDescriptorFactory.fromResource(R.drawable.pescado));\r\n    \r\n    \r\n                    }\r\n                    if (tipo.equals(&quot;chicharroneria&quot;)) {\r\n                        mimarker = hMap.addMarker(new MarkerOptions().title(key).position(ubicacion).icon(BitmapDescriptorFactory.fromResource(R.drawable.cerdo)));\r\n    \r\n                        mMarkers.put(key, mimarker).setIcon(BitmapDescriptorFactory.fromResource(R.drawable.cerdo));\r\n                        ;\r\n    \r\n                    } else {\r\n                        mimarker = hMap.addMarker(new MarkerOptions().title(key).position(ubicacion));\r\n                        mMarkers.put(key, mimarker);\r\n    \r\n                    }\r\n    \r\n    \r\n    \r\n                }\r\n    \r\n    \r\n            } catch (Exception e) {\r\n                Toast.makeText(this, &quot;Error al listar marcadores&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n    \r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tTago.png\r\n  [2]: https://i.stack.imgur.com/Yrlj6.jpg","title":"How to get the information of a marker from firebase on Android?","body":"<p>Hello I am making an application in android with java, huawei maps and firebase but I have a problem that I cannot solve for days is that when pressing the map marker and showing the data in the TextView it only shows me the last record of my database and not of the marker which I select.</p>\n<p><a href=\"https://i.stack.imgur.com/tTago.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tTago.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Yrlj6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yrlj6.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code> public void listarMarcadores(DataSnapshot dataSnapshot) {\n        try {\n            final String key = dataSnapshot.getKey();\n            HashMap&lt;String, Object&gt; value = (HashMap&lt;String, Object&gt;) dataSnapshot.getValue();\n\n            double lat;\n            double lon;\n            final String nombre;\n            final String tipo;\n            final String descripcion;\n\n            lat = Double.parseDouble(value.get(&quot;latitud&quot;).toString());\n            lon = Double.parseDouble(value.get(&quot;longitud&quot;).toString());\n            nombre = (String) value.get(&quot;nombre_puesto&quot;);\n            tipo = (String) value.get(&quot;tipo_ambulante&quot;);\n            descripcion = (String) value.get(&quot;descripcion&quot;);\n\n            LatLng ubicacion = new LatLng(lat, lon);\n            Marker mimarker;\n\n            hMap.setOnMarkerClickListener(new HuaweiMap.OnMarkerClickListener() {\n                @Override\n                public boolean onMarkerClick(Marker marker) {\n\n                    txtKey.setText(key);\n                    txtNombre_puesto.setText(nombre);\n                    txtDescripcion.setText(descripcion);\n                    txtTipo.setText(tipo);\n\n\n                    //, txtDireccion, txtHorario\n\n                    mBottomSheetBehavior1.setState(BottomSheetBehavior.STATE_EXPANDED);\n\n\n                    return false;\n                }\n            });\n            if (!mMarkers.containsKey(key)) {\n                if (tipo.equals(&quot;cevicheria&quot;)) {\n                    mimarker = hMap.addMarker(new MarkerOptions().title(key).position(ubicacion).icon(BitmapDescriptorFactory.fromResource(R.drawable.pescado)));\n\n                    mMarkers.put(key, mimarker).setIcon(BitmapDescriptorFactory.fromResource(R.drawable.pescado));\n\n\n                }\n                if (tipo.equals(&quot;chicharroneria&quot;)) {\n                    mimarker = hMap.addMarker(new MarkerOptions().title(key).position(ubicacion).icon(BitmapDescriptorFactory.fromResource(R.drawable.cerdo)));\n\n                    mMarkers.put(key, mimarker).setIcon(BitmapDescriptorFactory.fromResource(R.drawable.cerdo));\n                    ;\n\n                } else {\n                    mimarker = hMap.addMarker(new MarkerOptions().title(key).position(ubicacion));\n                    mMarkers.put(key, mimarker);\n\n                }\n\n\n\n            }\n\n\n        } catch (Exception e) {\n            Toast.makeText(this, &quot;Error al listar marcadores&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","algorithm","dda"],"comments":[{"owner":{"account_id":412970,"reputation":7777,"user_id":786351,"accept_rate":67,"display_name":"ElKamina"},"score":3,"creation_date":1384323030,"post_id":19946593,"comment_id":29686106,"body_markdown":"May I suggest this awesome tool called google. Just search for it and find the wiki article.","body":"May I suggest this awesome tool called google. Just search for it and find the wiki article."},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1384336032,"post_id":19946593,"comment_id":29692115,"body_markdown":"should add a rasterize, line ,DDA tag and delete those for loops tag they are not relevant for search","body":"should add a rasterize, line ,DDA tag and delete those for loops tag they are not relevant for search"}],"answers":[{"tags":[],"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539158506,"creation_date":1384335976,"answer_id":19950408,"question_id":19946593,"body_markdown":"use **DDA** or **Bresenham**,... \r\n\r\nWhat you have looks like **DDA** but you do not handle slopes correctly. You should divide by the axis with bigger amount of pixels and use it as control axis so:\r\n\r\n&lt;br&gt;if `|dx|&gt;|dy|` then `for` goes through `x = x0 -&gt; x1` and  `y=y0+((x-x0)*dy/dx)`\r\n&lt;br&gt;if `|dx|&lt;|dy|` then `for` goes through `y = y0 -&gt; y1` and  `x=x0+((y-y0)*dx/dy)`\r\n&lt;br&gt;if they are equal then use any of above.\r\n&lt;br&gt;if `dx==0` and `dy==0` draw just dot and no `for` is present\r\n\r\nDo not forget to handle if main axis is ascending or descending (can be `x++,y++` or `x--,y--`) also can be done on integer only without division or multiplication but that is another story\r\n","title":"Draw line between two points on console","body":"<p>use <strong>DDA</strong> or <strong>Bresenham</strong>,... </p>\n\n<p>What you have looks like <strong>DDA</strong> but you do not handle slopes correctly. You should divide by the axis with bigger amount of pixels and use it as control axis so:</p>\n\n<p><br>if <code>|dx|&gt;|dy|</code> then <code>for</code> goes through <code>x = x0 -&gt; x1</code> and  <code>y=y0+((x-x0)*dy/dx)</code>\n<br>if <code>|dx|&lt;|dy|</code> then <code>for</code> goes through <code>y = y0 -&gt; y1</code> and  <code>x=x0+((y-y0)*dx/dy)</code>\n<br>if they are equal then use any of above.\n<br>if <code>dx==0</code> and <code>dy==0</code> draw just dot and no <code>for</code> is present</p>\n\n<p>Do not forget to handle if main axis is ascending or descending (can be <code>x++,y++</code> or <code>x--,y--</code>) also can be done on integer only without division or multiplication but that is another story</p>\n"}],"owner":{"display_name":"user445338"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":19950408,"answer_count":1,"score":3,"last_activity_date":1642177031,"creation_date":1384322921,"question_id":19946593,"body_markdown":"How can I draw a line on the console if I have a 2D array of chars. The function I want to write is something like:\r\n\r\nThis is my first attempt, but it looks totally wrong\r\n\r\n    public static void line(char[][] mPixels, int startRow, int startColumn, int endRow, int endColumn) \r\n    {\r\n    \tdouble dY = endRow - startRow;\r\n    \tdouble dX = endColumn - startColumn;\r\n    \tdouble slope = dX / dY;\r\n    \tslope = Math.abs(slope);\r\n    \t\r\n    \tif(slope &gt;= 1)\r\n    \t{\r\n    \t\tdouble progress = -(dY / dX);\r\n    \t\tfor(int i=startColumn; i&lt;=endColumn; i++)\r\n    \t\t{\r\n    \t\t\tdouble j = startRow - (int) ((i-startColumn) * progress);\r\n    \t\t\tint yLoc = (int) (Math.round( j * 100.0 ) / 100.0);\r\n    \t\t\t\r\n    \t\t\tmPixels[i][yLoc] = &#39;*&#39;;\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    // print array\t\r\n    }","title":"Draw line between two points on console","body":"<p>How can I draw a line on the console if I have a 2D array of chars. The function I want to write is something like:</p>\n\n<p>This is my first attempt, but it looks totally wrong</p>\n\n<pre><code>public static void line(char[][] mPixels, int startRow, int startColumn, int endRow, int endColumn) \n{\n    double dY = endRow - startRow;\n    double dX = endColumn - startColumn;\n    double slope = dX / dY;\n    slope = Math.abs(slope);\n\n    if(slope &gt;= 1)\n    {\n        double progress = -(dY / dX);\n        for(int i=startColumn; i&lt;=endColumn; i++)\n        {\n            double j = startRow - (int) ((i-startColumn) * progress);\n            int yLoc = (int) (Math.round( j * 100.0 ) / 100.0);\n\n            mPixels[i][yLoc] = '*'; \n        }\n    }\n\n// print array  \n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart"],"owner":{"account_id":10591340,"reputation":135,"user_id":7801805,"display_name":"Mohammad Zakir Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642177006,"creation_date":1642177006,"question_id":70713515,"body_markdown":"I am trying to build appbundle but got some error. i have located my upload-keystore.jks file inside android/app and key.proporties under android folder. \r\nMy key.proporties file looked like\r\n\r\n    storePassword=@@Zakir45\r\n    keyPassword=@@Zakir45\r\n    keyAlias=upload\r\n    storeFile=../app/upload-keystore.jks\r\n\r\n\r\nAn the error is \r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:signReleaseBundle&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n   &gt; Failed to read key upload from store &quot;/Users/raza/com.nepromedia.license/license_app/android/app/upload-keystore.jks&quot;: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.","title":"NoSuchAlgorithmException error occurred while build appbundle","body":"<p>I am trying to build appbundle but got some error. i have located my upload-keystore.jks file inside android/app and key.proporties under android folder.\nMy key.proporties file looked like</p>\n<pre><code>storePassword=@@Zakir45\nkeyPassword=@@Zakir45\nkeyAlias=upload\nstoreFile=../app/upload-keystore.jks\n</code></pre>\n<p>An the error is</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:signReleaseBundle'.</li>\n</ul>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nFailed to read key upload from store &quot;/Users/raza/com.nepromedia.license/license_app/android/app/upload-keystore.jks&quot;: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available</p>\n</blockquote>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</li>\n</ul>\n"},{"tags":["java","amazon-web-services","amazon-cognito"],"comments":[{"owner":{"account_id":23897984,"reputation":2653,"user_id":17896613,"display_name":"Kaustubh Khavnekar"},"score":0,"creation_date":1642180551,"post_id":70713503,"comment_id":125010666,"body_markdown":"Is `my-user` from account 111111111111 trying to assume a role from account 222222222222? Take a look at this [documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html) for context on what I am asking. Also, which version of the Java SDK are you using?","body":"Is <code>my-user</code> from account 111111111111 trying to assume a role from account 222222222222? Take a look at this <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html\" rel=\"nofollow noreferrer\">documentation</a> for context on what I am asking. Also, which version of the Java SDK are you using?"},{"owner":{"account_id":1834818,"reputation":184,"user_id":1665407,"display_name":"Kriszti&#225;n J&#243;zsa"},"score":1,"creation_date":1642199170,"post_id":70713503,"comment_id":125016467,"body_markdown":"Exactly that what I&#39;m trying to do. However, I don&#39;t have the option to set that the cognito user pool (my-user-pool-id) is in account 222222222222. The sdk automatically assumes that the pool is also in account 111111111111.\n\nI&#39;m using com.amazonaws:aws-java-sdk-cognitoidp:jar:1.11.415.","body":"Exactly that what I&#39;m trying to do. However, I don&#39;t have the option to set that the cognito user pool (my-user-pool-id) is in account 222222222222. The sdk automatically assumes that the pool is also in account 111111111111.  I&#39;m using com.amazonaws:aws-java-sdk-cognitoidp:jar:1.11.415."},{"owner":{"account_id":23897984,"reputation":2653,"user_id":17896613,"display_name":"Kaustubh Khavnekar"},"score":0,"creation_date":1642240463,"post_id":70713503,"comment_id":125021818,"body_markdown":"The error says `arn:aws:iam::111111111111:user/my-user is not authorized`. If you have correctly assumed role it should have said `arn:aws:sts::222222222222:assumed-role/Rolename is not authorized`. If you fix that, it will probably fix your main issue as well since the SDK must be assuming the user pool is in the same account as the authenticated IAM principal. If that doesn&#39;t work, you can also try specifying the full ARN (`arn:aws:cognito-idp:eu-west-1:222222222222:userpool/my-user-pool-id`) instead of just `my-user-pool-id`","body":"The error says <code>arn:aws:iam::111111111111:user&#47;my-user is not authorized</code>. If you have correctly assumed role it should have said <code>arn:aws:sts::222222222222:assumed-role&#47;Rolename is not authorized</code>. If you fix that, it will probably fix your main issue as well since the SDK must be assuming the user pool is in the same account as the authenticated IAM principal. If that doesn&#39;t work, you can also try specifying the full ARN (<code>arn:aws:cognito-idp:eu-west-1:222222222222:userpool&#47;my-user&zwnj;&#8203;-pool-id</code>) instead of just <code>my-user-pool-id</code>"},{"owner":{"account_id":1834818,"reputation":184,"user_id":1665407,"display_name":"Kriszti&#225;n J&#243;zsa"},"score":0,"creation_date":1642245774,"post_id":70713503,"comment_id":125022775,"body_markdown":"The role assuming is done by the sdk and I don&#39;t know how to tell it to use the specific role I want. \nI tried to specify the full arn instead of the pool id. However, then it tries to assume the non existing role: &quot;rn:aws:cognito-idp:eu-west-1:111111111111:userpool/arn:aws:cognito-idp:eu-west-1:222222222222:userpool/my-user-pool-id&quot;\n\nIs there any way I can do it with the sdk?","body":"The role assuming is done by the sdk and I don&#39;t know how to tell it to use the specific role I want.  I tried to specify the full arn instead of the pool id. However, then it tries to assume the non existing role: &quot;rn:aws:cognito-idp:eu-west-1:111111111111:userpool/arn:aws:&zwnj;&#8203;cognito-idp:eu-west-&zwnj;&#8203;1:222222222222:userp&zwnj;&#8203;ool/my-user-pool-id&quot;  Is there any way I can do it with the sdk?"},{"owner":{"account_id":23897984,"reputation":2653,"user_id":17896613,"display_name":"Kaustubh Khavnekar"},"score":0,"creation_date":1642246513,"post_id":70713503,"comment_id":125022904,"body_markdown":"https://docs.aws.amazon.com/AmazonS3/latest/userguide/AuthUsingTempSessionToken.html Take a look at this example. In your code you will have to create a STS client, make an assume role request, and then use the temporary credentials generated to build the AWSCognitoIdentityProvider client.","body":"<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/AuthUsingTempSessionToken.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/userguide/&hellip;</a> Take a look at this example. In your code you will have to create a STS client, make an assume role request, and then use the temporary credentials generated to build the AWSCognitoIdentityProvider client."}],"owner":{"account_id":1834818,"reputation":184,"user_id":1665407,"display_name":"Kriszti&#225;n J&#243;zsa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642176962,"creation_date":1642176962,"question_id":70713503,"body_markdown":"I need to access a cognito pool using a user which exists in another account. (I need to do it from java.)\r\nThe user has access rights to this cognito pool but the Java SDK tries to use a non existing cognito pool from the same account where the user was created. I don&#39;t see any option to modify the target account. \r\n\r\nSo to be a bit more concrete. \r\nI have account **111111111111**:\r\nwith user **arn:aws:iam::111111111111:user/my-user**\r\n\r\nAnd account **222222222222**:\r\nwith cognito pool: **arn:aws:cognito-idp:eu-west-1:222222222222:userpool/my-user-pool-id**\r\n\r\nHowever, the SDK is trying to access to a wrong(non existing) cognito pool in its own account: **arn:aws:cognito-idp:eu-west-1:111111111111:userpool/my-user-pool-id**\r\n\r\n\r\nThe exception I got:\r\n&gt;com.amazonaws.services.cognitoidp.model.AWSCognitoIdentityProviderException: User: arn:aws:iam::111111111111:user/my-user is not authorized to perform: cognito-idp:AdminGetUser on resource: arn:aws:cognito-idp:eu-west-1:111111111111:userpool/my-user-pool-id because no identity-based policy allows the cognito-idp:AdminGetUser action (Service: AWSCognitoIdentityProvider; Status Code: 400; Error Code: AccessDeniedException; Request ID: 393afe3c-e7cd-4c1c-b867-d15e3c50e38a)\r\n\r\n\r\nThe code:\r\n\r\n    AWSCognitoIdentityProvider cognitoClient = AWSCognitoIdentityProviderClientBuilder.standard().withRegion(&quot;eu-west-1&quot;).build();\r\n        \r\n    AdminGetUserRequest adminGetUserRequest = (new AdminGetUserRequest()).withUserPoolId(&quot;my-user-pool-id&quot;).withUsername(&quot;a cognito username&quot;);\r\n        \r\n    AdminGetUserResult adminGetUserResult = cognitoClient.adminGetUser(adminGetUserRequest);\r\n\r\n\r\nI checked all of the parameters of the cognito client and the request but non of them seems to be the right one. Is there anyway to configure here the target account?\r\n\r\n(I know the best/simplest solution would be to use users created in the same account&#39;s IAM where the cognito pool was created. However, it is not possible (not allowed) in our setup.) ","title":"AWS Java SDK access cognito pool from another account","body":"<p>I need to access a cognito pool using a user which exists in another account. (I need to do it from java.)\nThe user has access rights to this cognito pool but the Java SDK tries to use a non existing cognito pool from the same account where the user was created. I don't see any option to modify the target account.</p>\n<p>So to be a bit more concrete.\nI have account <strong>111111111111</strong>:\nwith user <strong>arn:aws:iam::111111111111:user/my-user</strong></p>\n<p>And account <strong>222222222222</strong>:\nwith cognito pool: <strong>arn:aws:cognito-idp:eu-west-1:222222222222:userpool/my-user-pool-id</strong></p>\n<p>However, the SDK is trying to access to a wrong(non existing) cognito pool in its own account: <strong>arn:aws:cognito-idp:eu-west-1:111111111111:userpool/my-user-pool-id</strong></p>\n<p>The exception I got:</p>\n<blockquote>\n<p>com.amazonaws.services.cognitoidp.model.AWSCognitoIdentityProviderException: User: arn:aws:iam::111111111111:user/my-user is not authorized to perform: cognito-idp:AdminGetUser on resource: arn:aws:cognito-idp:eu-west-1:111111111111:userpool/my-user-pool-id because no identity-based policy allows the cognito-idp:AdminGetUser action (Service: AWSCognitoIdentityProvider; Status Code: 400; Error Code: AccessDeniedException; Request ID: 393afe3c-e7cd-4c1c-b867-d15e3c50e38a)</p>\n</blockquote>\n<p>The code:</p>\n<pre><code>AWSCognitoIdentityProvider cognitoClient = AWSCognitoIdentityProviderClientBuilder.standard().withRegion(&quot;eu-west-1&quot;).build();\n    \nAdminGetUserRequest adminGetUserRequest = (new AdminGetUserRequest()).withUserPoolId(&quot;my-user-pool-id&quot;).withUsername(&quot;a cognito username&quot;);\n    \nAdminGetUserResult adminGetUserResult = cognitoClient.adminGetUser(adminGetUserRequest);\n</code></pre>\n<p>I checked all of the parameters of the cognito client and the request but non of them seems to be the right one. Is there anyway to configure here the target account?</p>\n<p>(I know the best/simplest solution would be to use users created in the same account's IAM where the cognito pool was created. However, it is not possible (not allowed) in our setup.)</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633787340,"post_id":69506476,"comment_id":122856094,"body_markdown":"There&#39;s a metadata timeout config. Have you tried it?","body":"There&#39;s a metadata timeout config. Have you tried it?"},{"owner":{"account_id":20892124,"reputation":73,"user_id":15347281,"display_name":"dexter32"},"score":0,"creation_date":1633796716,"post_id":69506476,"comment_id":122858471,"body_markdown":"yep,I tried with\nsession.timeout.ms and request.timeout.ms which seemed reasonable","body":"yep,I tried with session.timeout.ms and request.timeout.ms which seemed reasonable"},{"owner":{"account_id":20892124,"reputation":73,"user_id":15347281,"display_name":"dexter32"},"score":0,"creation_date":1633798309,"post_id":69506476,"comment_id":122858939,"body_markdown":"at the moment I am not able to solve this issue via configuration,  maybe it&#39;s just the way it&#39;s supposed to be, in the sense of not interfering with that behavior","body":"at the moment I am not able to solve this issue via configuration,  maybe it&#39;s just the way it&#39;s supposed to be, in the sense of not interfering with that behavior"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1633800431,"post_id":69506476,"comment_id":122859441,"body_markdown":"Maybe not via a consumer (or KafkaListener annotation), but you can use AdminClient to try and describe the cluster before setting up a consumer","body":"Maybe not via a consumer (or KafkaListener annotation), but you can use AdminClient to try and describe the cluster before setting up a consumer"},{"owner":{"account_id":20892124,"reputation":73,"user_id":15347281,"display_name":"dexter32"},"score":1,"creation_date":1633804879,"post_id":69506476,"comment_id":122860521,"body_markdown":"Good point, I should check the client admin if the cluster is ok, maybe store a flag about it somewhere, then run the consumer, I will try this solution! \n\np.s was thinking about setting a timeout for the method execution, in the sense if consumer returns nothing for 5 seconds then close it.","body":"Good point, I should check the client admin if the cluster is ok, maybe store a flag about it somewhere, then run the consumer, I will try this solution!   p.s was thinking about setting a timeout for the method execution, in the sense if consumer returns nothing for 5 seconds then close it."}],"answers":[{"tags":[],"owner":{"account_id":20763033,"reputation":51,"user_id":15247705,"display_name":"xuanzjie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634006757,"creation_date":1634006757,"answer_id":69534514,"question_id":69506476,"body_markdown":"Do you want to implement brokers and topics that detect errors in time? What are the broker parameters? If you just want to find wrong topics and brokers, you can set &quot;auto.create.topics.enable=false&quot;. When the topic does not exist, an error will be reported.","title":"How can I set timeout for KafkaConsumer if the broker&#39;s address is incorrect, there are no messages in topic, or the topic is missing?","body":"<p>Do you want to implement brokers and topics that detect errors in time? What are the broker parameters? If you just want to find wrong topics and brokers, you can set &quot;auto.create.topics.enable=false&quot;. When the topic does not exist, an error will be reported.</p>\n"}],"owner":{"account_id":20892124,"reputation":73,"user_id":15347281,"display_name":"dexter32"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642176746,"creation_date":1633780351,"question_id":69506476,"body_markdown":"I have this method working good. Through this method I am able to grab messages from certain Kafka topic.\r\n\r\n    public List&lt;MessageResponseDTO&gt; getMessagesFromTopic(String topicName, Properties properties) {\r\n        List&lt;MessageResponseDTO&gt; messages = new ArrayList&lt;&gt;();\r\n        try (KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties)) {\r\n            consumer.subscribe(Collections.singletonList(topicName));\r\n            ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofSeconds(1000));//returns immediately if there are records available. Otherwise, it will await (loop for timeous ms for polling)\r\n            for (ConsumerRecord&lt;String, String&gt; recordMessage : records) {;\r\n                String value = recordMessage.value();\r\n                String formattedDate = getFormattedDateFromTimeStamp(recordMessage);\r\n                MessageResponseDTO buildMessage = MessageResponseDTO.builder().message(value).date(formattedDate).build();\r\n                messages.add(buildMessage);\r\n            }\r\n        }\r\n        return messages;\r\n    }\r\n    \r\nThe problem occurs when I enter an incorrect broker address. \r\n\r\nlogs below\r\n\r\n    2021-10-09 13:39:55.723  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9095) could not be established. Broker may not be available.\r\n    2021-10-09 13:39:55.724  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9095 (id: -1 rack: null) disconnected\r\n    2021-10-09 13:39:57.865  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -2 (/192.168.0.74:9096) could not be established. Broker may not be available.\r\n    2021-10-09 13:39:57.866  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9096 (id: -2 rack: null) disconnected\r\n    2021-10-09 13:39:59.999  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -3 (/192.168.0.74:9097) could not be established. Broker may not be available.\r\n    2021-10-09 13:39:59.999  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9097 (id: -3 rack: null) disconnected\r\n    2021-10-09 13:40:02.133  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9095) could not be established. Broker may not be available.\r\n    2021-10-09 13:40:02.133  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9095 (id: -1 rack: null) disconnected\r\n    2021-10-09 13:40:04.282  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -2 (/192.168.0.74:9096) could not be established. Broker may not be available.\r\n    2021-10-09 13:40:04.282  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9096 (id: -2 rack: null) disconnected\r\n    2021-10-09 13:40:06.437  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -3 (/192.168.0.74:9097) could not be established. Broker may not be available.\r\n    2021-10-09 13:40:06.437  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9097 (id: -3 rack: null) disconnected\r\n    2021-10-09 13:40:08.570  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9095) could not be established. Broker may not be available.\r\n    2021-10-09 13:40:08.570  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9095 (id: -1 rack: null) disconnected\r\n    2021-10-09 13:40:10.706  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -2 (/192.168.0.74:9096) could not be established. Broker may not be available.\r\n    2021-10-09 13:40:10.706  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9096 (id: -2 rack: null) disconnected\r\n    2021-10-09 13:40:12.843  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -3 (/192.168.0.74:9097) could not be established. Broker may not be available.\r\n    2021-10-09 13:40:12.843  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9097 (id: -3 rack: null) disconnected\r\n    2021-10-09 13:40:14.991  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9095) could not be established. Broker may not be available.\r\n    2021-10-09 13:40:14.991  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9095 (id: -1 rack: null) disconnected\r\n    2021-10-09 13:40:17.161  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -2 (/192.168.0.74:9096) could not be established. Broker may not be available.\r\n    2021-10-09 13:40:17.161  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9096 (id: -2 rack: null) disconnected\r\n\r\n\r\n\r\nI have to wait each time about 80 seconds, when counsumer will be closed and method returns 0 messages. How can I set the timeout on the consumer so that it doesn&#39;t wait 80 seconds each time but, for example, reduce the time to 5 seconds?\r\n\r\nI mean something like...\r\n\r\nconsumer.setTimeoutForBroker(example)\r\n\r\nHere is also my configuration file\r\n\r\n    private Properties prepareProperties(String brokerAddressByConnectionName) {\r\n        Properties props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;, brokerAddressByConnectionName);\r\n        props.put(&quot;group.id&quot;, &quot;consumer-test-group-spring-boot&quot;);\r\n        props.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\r\n        props.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\r\n        props.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        props.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        return props;\r\n    }\r\n\r\n\r\nAnother problem is that if I enter a good brokers address but the wrong topic then consumer will create a topic and start listening and return a timeout only after 80 seconds. Is it possible to shorten this timeout using configuration?\r\n\r\nlogs below\r\n\r\n    2021-10-09 13:44:53.169  INFO 14500 --- [nio-8080-exec-4] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.7.1\r\n    2021-10-09 13:44:53.169  INFO 14500 --- [nio-8080-exec-4] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 61dbce85d0d41457\r\n    2021-10-09 13:44:53.169  INFO 14500 --- [nio-8080-exec-4] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1633779893169\r\n    2021-10-09 13:44:53.169  INFO 14500 --- [nio-8080-exec-4] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Subscribed to topic(s): TestTopic312\r\n    2021-10-09 13:44:55.200  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9091) could not be established. Broker may not be available.\r\n    2021-10-09 13:44:55.201  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9091 (id: -1 rack: null) disconnected\r\n    2021-10-09 13:44:57.342  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Connection to node -3 (/192.168.0.74:9093) could not be established. Broker may not be available.\r\n    2021-10-09 13:44:57.342  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9093 (id: -3 rack: null) disconnected\r\n    2021-10-09 13:44:57.475  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Error while fetching metadata with correlation id 2 : {TestTopic312=LEADER_NOT_AVAILABLE}\r\n    2021-10-09 13:44:57.475  INFO 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Cluster ID: pEMDApYNT9a6zyYgPfzEdQ\r\n    2021-10-09 13:44:57.484  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Discovered group coordinator 192.168.0.74:9092 (id: 2147482646 rack: null)\r\n    2021-10-09 13:44:57.485  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] (Re-)joining group\r\n    2021-10-09 13:44:57.493  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] (Re-)joining group\r\n    2021-10-09 13:44:57.500  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Successfully joined group with generation Generation{generationId=1, memberId=&#39;consumer-consumer-test-group-spring-boot-3-a40c2b95-6068-4806-8a65-370455d9001a&#39;, protocol=&#39;range&#39;}\r\n    2021-10-09 13:44:57.593  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Finished assignment for group at generation 1: {consumer-consumer-test-group-spring-boot-3-a40c2b95-6068-4806-8a65-370455d9001a=Assignment(partitions=[TestTopic312-0])}\r\n    2021-10-09 13:44:57.598  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Successfully synced group in generation Generation{generationId=1, memberId=&#39;consumer-consumer-test-group-spring-boot-3-a40c2b95-6068-4806-8a65-370455d9001a&#39;, protocol=&#39;range&#39;}\r\n    2021-10-09 13:44:57.598  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Notifying assignor about the new Assignment(partitions=[TestTopic312-0])\r\n    2021-10-09 13:44:57.598  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Adding newly assigned partitions: TestTopic312-0\r\n    2021-10-09 13:44:57.601  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Found no committed offset for partition TestTopic312-0\r\n    2021-10-09 13:44:57.604  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Resetting offset for partition TestTopic312-0 to position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[192.168.0.74:9092 (id: 1001 rack: null)], epoch=0}}.\r\n    2021-10-09 13:46:33.176  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Revoke previously assigned partitions TestTopic312-0\r\n    2021-10-09 13:46:33.176  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Member consumer-consumer-test-group-spring-boot-3-a40c2b95-6068-4806-8a65-370455d9001a sending LeaveGroup request to coordinator 192.168.0.74:9092 (id: 2147482646 rack: null) due to the consumer is being closed\r\n    2021-10-09 13:46:33.181  INFO 14500 --- [nio-8080-exec-4] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed\r\n    2021-10-09 13:46:33.181  INFO 14500 --- [nio-8080-exec-4] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter\r\n    2021-10-09 13:46:33.181  INFO 14500 --- [nio-8080-exec-4] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed\r\n    2021-10-09 13:46:33.183  INFO 14500 --- [nio-8080-exec-4] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-consumer-test-group-spring-boot-3 unregistered\r\n\r\n\r\nMy main goal which I would like to achieve is that the user should not wait more than one minute only so that I can manually set timeout in a bad broker address or no message on a topic which de facto does not exist... .\r\n","title":"How can I set timeout for KafkaConsumer if the broker&#39;s address is incorrect, there are no messages in topic, or the topic is missing?","body":"<p>I have this method working good. Through this method I am able to grab messages from certain Kafka topic.</p>\n<pre><code>public List&lt;MessageResponseDTO&gt; getMessagesFromTopic(String topicName, Properties properties) {\n    List&lt;MessageResponseDTO&gt; messages = new ArrayList&lt;&gt;();\n    try (KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties)) {\n        consumer.subscribe(Collections.singletonList(topicName));\n        ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofSeconds(1000));//returns immediately if there are records available. Otherwise, it will await (loop for timeous ms for polling)\n        for (ConsumerRecord&lt;String, String&gt; recordMessage : records) {;\n            String value = recordMessage.value();\n            String formattedDate = getFormattedDateFromTimeStamp(recordMessage);\n            MessageResponseDTO buildMessage = MessageResponseDTO.builder().message(value).date(formattedDate).build();\n            messages.add(buildMessage);\n        }\n    }\n    return messages;\n}\n</code></pre>\n<p>The problem occurs when I enter an incorrect broker address.</p>\n<p>logs below</p>\n<pre><code>2021-10-09 13:39:55.723  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9095) could not be established. Broker may not be available.\n2021-10-09 13:39:55.724  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9095 (id: -1 rack: null) disconnected\n2021-10-09 13:39:57.865  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -2 (/192.168.0.74:9096) could not be established. Broker may not be available.\n2021-10-09 13:39:57.866  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9096 (id: -2 rack: null) disconnected\n2021-10-09 13:39:59.999  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -3 (/192.168.0.74:9097) could not be established. Broker may not be available.\n2021-10-09 13:39:59.999  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9097 (id: -3 rack: null) disconnected\n2021-10-09 13:40:02.133  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9095) could not be established. Broker may not be available.\n2021-10-09 13:40:02.133  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9095 (id: -1 rack: null) disconnected\n2021-10-09 13:40:04.282  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -2 (/192.168.0.74:9096) could not be established. Broker may not be available.\n2021-10-09 13:40:04.282  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9096 (id: -2 rack: null) disconnected\n2021-10-09 13:40:06.437  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -3 (/192.168.0.74:9097) could not be established. Broker may not be available.\n2021-10-09 13:40:06.437  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9097 (id: -3 rack: null) disconnected\n2021-10-09 13:40:08.570  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9095) could not be established. Broker may not be available.\n2021-10-09 13:40:08.570  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9095 (id: -1 rack: null) disconnected\n2021-10-09 13:40:10.706  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -2 (/192.168.0.74:9096) could not be established. Broker may not be available.\n2021-10-09 13:40:10.706  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9096 (id: -2 rack: null) disconnected\n2021-10-09 13:40:12.843  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -3 (/192.168.0.74:9097) could not be established. Broker may not be available.\n2021-10-09 13:40:12.843  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9097 (id: -3 rack: null) disconnected\n2021-10-09 13:40:14.991  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9095) could not be established. Broker may not be available.\n2021-10-09 13:40:14.991  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9095 (id: -1 rack: null) disconnected\n2021-10-09 13:40:17.161  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Connection to node -2 (/192.168.0.74:9096) could not be established. Broker may not be available.\n2021-10-09 13:40:17.161  WARN 5020 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-1, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9096 (id: -2 rack: null) disconnected\n</code></pre>\n<p>I have to wait each time about 80 seconds, when counsumer will be closed and method returns 0 messages. How can I set the timeout on the consumer so that it doesn't wait 80 seconds each time but, for example, reduce the time to 5 seconds?</p>\n<p>I mean something like...</p>\n<p>consumer.setTimeoutForBroker(example)</p>\n<p>Here is also my configuration file</p>\n<pre><code>private Properties prepareProperties(String brokerAddressByConnectionName) {\n    Properties props = new Properties();\n    props.put(&quot;bootstrap.servers&quot;, brokerAddressByConnectionName);\n    props.put(&quot;group.id&quot;, &quot;consumer-test-group-spring-boot&quot;);\n    props.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\n    props.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\n    props.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n    props.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n    return props;\n}\n</code></pre>\n<p>Another problem is that if I enter a good brokers address but the wrong topic then consumer will create a topic and start listening and return a timeout only after 80 seconds. Is it possible to shorten this timeout using configuration?</p>\n<p>logs below</p>\n<pre><code>2021-10-09 13:44:53.169  INFO 14500 --- [nio-8080-exec-4] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.7.1\n2021-10-09 13:44:53.169  INFO 14500 --- [nio-8080-exec-4] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 61dbce85d0d41457\n2021-10-09 13:44:53.169  INFO 14500 --- [nio-8080-exec-4] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1633779893169\n2021-10-09 13:44:53.169  INFO 14500 --- [nio-8080-exec-4] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Subscribed to topic(s): TestTopic312\n2021-10-09 13:44:55.200  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Connection to node -1 (/192.168.0.74:9091) could not be established. Broker may not be available.\n2021-10-09 13:44:55.201  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9091 (id: -1 rack: null) disconnected\n2021-10-09 13:44:57.342  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Connection to node -3 (/192.168.0.74:9093) could not be established. Broker may not be available.\n2021-10-09 13:44:57.342  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Bootstrap broker 192.168.0.74:9093 (id: -3 rack: null) disconnected\n2021-10-09 13:44:57.475  WARN 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Error while fetching metadata with correlation id 2 : {TestTopic312=LEADER_NOT_AVAILABLE}\n2021-10-09 13:44:57.475  INFO 14500 --- [nio-8080-exec-4] org.apache.kafka.clients.Metadata        : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Cluster ID: pEMDApYNT9a6zyYgPfzEdQ\n2021-10-09 13:44:57.484  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Discovered group coordinator 192.168.0.74:9092 (id: 2147482646 rack: null)\n2021-10-09 13:44:57.485  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] (Re-)joining group\n2021-10-09 13:44:57.493  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] (Re-)joining group\n2021-10-09 13:44:57.500  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Successfully joined group with generation Generation{generationId=1, memberId='consumer-consumer-test-group-spring-boot-3-a40c2b95-6068-4806-8a65-370455d9001a', protocol='range'}\n2021-10-09 13:44:57.593  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Finished assignment for group at generation 1: {consumer-consumer-test-group-spring-boot-3-a40c2b95-6068-4806-8a65-370455d9001a=Assignment(partitions=[TestTopic312-0])}\n2021-10-09 13:44:57.598  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Successfully synced group in generation Generation{generationId=1, memberId='consumer-consumer-test-group-spring-boot-3-a40c2b95-6068-4806-8a65-370455d9001a', protocol='range'}\n2021-10-09 13:44:57.598  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Notifying assignor about the new Assignment(partitions=[TestTopic312-0])\n2021-10-09 13:44:57.598  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Adding newly assigned partitions: TestTopic312-0\n2021-10-09 13:44:57.601  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Found no committed offset for partition TestTopic312-0\n2021-10-09 13:44:57.604  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.SubscriptionState    : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Resetting offset for partition TestTopic312-0 to position FetchPosition{offset=0, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[192.168.0.74:9092 (id: 1001 rack: null)], epoch=0}}.\n2021-10-09 13:46:33.176  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Revoke previously assigned partitions TestTopic312-0\n2021-10-09 13:46:33.176  INFO 14500 --- [nio-8080-exec-4] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-consumer-test-group-spring-boot-3, groupId=consumer-test-group-spring-boot] Member consumer-consumer-test-group-spring-boot-3-a40c2b95-6068-4806-8a65-370455d9001a sending LeaveGroup request to coordinator 192.168.0.74:9092 (id: 2147482646 rack: null) due to the consumer is being closed\n2021-10-09 13:46:33.181  INFO 14500 --- [nio-8080-exec-4] org.apache.kafka.common.metrics.Metrics  : Metrics scheduler closed\n2021-10-09 13:46:33.181  INFO 14500 --- [nio-8080-exec-4] org.apache.kafka.common.metrics.Metrics  : Closing reporter org.apache.kafka.common.metrics.JmxReporter\n2021-10-09 13:46:33.181  INFO 14500 --- [nio-8080-exec-4] org.apache.kafka.common.metrics.Metrics  : Metrics reporters closed\n2021-10-09 13:46:33.183  INFO 14500 --- [nio-8080-exec-4] o.a.kafka.common.utils.AppInfoParser     : App info kafka.consumer for consumer-consumer-test-group-spring-boot-3 unregistered\n</code></pre>\n<p>My main goal which I would like to achieve is that the user should not wait more than one minute only so that I can manually set timeout in a bad broker address or no message on a topic which de facto does not exist... .</p>\n"},{"tags":["java","spring","security","web","configuration"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642080185,"creation_date":1642080185,"answer_id":70697354,"question_id":70692305,"body_markdown":"try adding this method to `WebSecurityConfig`\r\n\r\ne.g for images located in static resource directory at: `src/main/resources/static/images`\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring()\r\n          .antMatchers(&quot;/images/**&quot;);\r\n    }","title":"Spring security don&#39;t show images befor loging in. How to fix?","body":"<p>try adding this method to <code>WebSecurityConfig</code></p>\n<p>e.g for images located in static resource directory at: <code>src/main/resources/static/images</code></p>\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring()\n      .antMatchers(&quot;/images/**&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642176498,"creation_date":1642176498,"answer_id":70713404,"question_id":70692305,"body_markdown":"As i understood you have a problem to pass the static resources from spring security filter. for this problem you need to change your configuration to exclude the address of your static resources which in your case it is picture. in resources folder on your project create the new folder called image and than add your picture into it and add these lines of code in your spring security config\r\n\r\n```\r\n.antMatchers(&quot;/&quot;,&quot;/public/**&quot;, &quot;/resources/**&quot;,&quot;/resources/image/**&quot;)\r\n                .permitAll()\r\n```","title":"Spring security don&#39;t show images befor loging in. How to fix?","body":"<p>As i understood you have a problem to pass the static resources from spring security filter. for this problem you need to change your configuration to exclude the address of your static resources which in your case it is picture. in resources folder on your project create the new folder called image and than add your picture into it and add these lines of code in your spring security config</p>\n<pre><code>.antMatchers(&quot;/&quot;,&quot;/public/**&quot;, &quot;/resources/**&quot;,&quot;/resources/image/**&quot;)\n                .permitAll()\n</code></pre>\n"}],"owner":{"account_id":23744291,"reputation":1,"user_id":17761959,"display_name":"Savlavish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642176498,"creation_date":1642055429,"question_id":70692305,"body_markdown":"**I can&#39;t see the image on my site before logging in.** How can I solve this problem?\r\nBelow is the class of my spring security config. I think problem is inside this class.\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;, &quot;/home&quot; , &quot;/about&quot;, &quot;/blog/**&quot;, &quot;/blog&quot;, &quot;/blog/add&quot;, &quot;/registration&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/sign-in&quot;)\r\n                    .permitAll()\r\n                .and()\r\n                    .logout()\r\n                    .permitAll();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.jdbcAuthentication()\r\n                .dataSource(dataSource)\r\n                .passwordEncoder(NoOpPasswordEncoder.getInstance())\r\n                .usersByUsernameQuery(&quot;select username, password, active from usr where username=?&quot;)\r\n                .authoritiesByUsernameQuery(&quot;select u.username, ur.roles from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\r\n    }\r\n}\r\n```","title":"Spring security don&#39;t show images befor loging in. How to fix?","body":"<p><strong>I can't see the image on my site before logging in.</strong> How can I solve this problem?\nBelow is the class of my spring security config. I think problem is inside this class.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                    .antMatchers(&quot;/&quot;, &quot;/home&quot; , &quot;/about&quot;, &quot;/blog/**&quot;, &quot;/blog&quot;, &quot;/blog/add&quot;, &quot;/registration&quot;).permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                    .formLogin()\n                    .loginPage(&quot;/sign-in&quot;)\n                    .permitAll()\n                .and()\n                    .logout()\n                    .permitAll();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication()\n                .dataSource(dataSource)\n                .passwordEncoder(NoOpPasswordEncoder.getInstance())\n                .usersByUsernameQuery(&quot;select username, password, active from usr where username=?&quot;)\n                .authoritiesByUsernameQuery(&quot;select u.username, ur.roles from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","testing","spring-security","okta"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642176008,"creation_date":1642176008,"answer_id":70713305,"question_id":70712577,"body_markdown":"The `ROLE_USER` authority is because of `with(user(TEST_USER_ID))` .If you trace the source codes , you will find by default it will have this authority (see [this][1]). \r\n\r\nThe same is applied to `SCOPE_read` authority but it is due to `with(oidcLogin())` (see [this][2])\r\n\r\nA more easy way to configure the authorities for an user is just use `@WithMockUser` :\r\n\r\n``` java\r\n@Test\r\n@WithMockUser(authorities=&quot;app-user&quot;)\r\npublic void findAllShouldReturnAList() throws Exception {\r\n    MvcResult result = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/foos&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isOk())\r\n            .andReturn();\r\n    assertThat(result.getResponse()).isNotNull();\r\n}\r\n```\r\n\r\nFor why it is successful even the user does not have `app-user` authority , I also have no ideas. It should fail as the user you are testing does not have such authority...\r\n\r\n\r\n***Tips:**\r\nA more easy way to find out the content of the `SecurityContext` for an unit test is to add `.andDo(MockMvcResultHandlers.print())` when performing on `MockMvc` which will print out such information :*\r\n\r\n``` java\r\n@Test\r\n@WithMockUser(authorities=&quot;app-user&quot;)\r\npublic void findAllShouldReturnAList() throws Exception {\r\n    MvcResult result = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/foos&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isOk())\r\n            .andDo(MockMvcResultHandlers.print())\r\n            .andReturn();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/e20449a542bb2e2fcb354cd504d2c29f02b7eba0/test/src/main/java/org/springframework/security/test/web/servlet/request/SecurityMockMvcRequestPostProcessors.java#L904\r\n  [2]: https://github.com/spring-projects/spring-security/blob/e20449a542bb2e2fcb354cd504d2c29f02b7eba0/test/src/main/java/org/springframework/security/test/web/servlet/request/SecurityMockMvcRequestPostProcessors.java#L424","title":"Test passing without the correct otka authority","body":"<p>The <code>ROLE_USER</code> authority is because of <code>with(user(TEST_USER_ID))</code> .If you trace the source codes , you will find by default it will have this authority (see <a href=\"https://github.com/spring-projects/spring-security/blob/e20449a542bb2e2fcb354cd504d2c29f02b7eba0/test/src/main/java/org/springframework/security/test/web/servlet/request/SecurityMockMvcRequestPostProcessors.java#L904\" rel=\"nofollow noreferrer\">this</a>).</p>\n<p>The same is applied to <code>SCOPE_read</code> authority but it is due to <code>with(oidcLogin())</code> (see <a href=\"https://github.com/spring-projects/spring-security/blob/e20449a542bb2e2fcb354cd504d2c29f02b7eba0/test/src/main/java/org/springframework/security/test/web/servlet/request/SecurityMockMvcRequestPostProcessors.java#L424\" rel=\"nofollow noreferrer\">this</a>)</p>\n<p>A more easy way to configure the authorities for an user is just use <code>@WithMockUser</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@WithMockUser(authorities=&quot;app-user&quot;)\npublic void findAllShouldReturnAList() throws Exception {\n    MvcResult result = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/foos&quot;)\n                    .accept(MediaType.APPLICATION_JSON))\n            .andExpect(status().isOk())\n            .andReturn();\n    assertThat(result.getResponse()).isNotNull();\n}\n</code></pre>\n<p>For why it is successful even the user does not have <code>app-user</code> authority , I also have no ideas. It should fail as the user you are testing does not have such authority...</p>\n<p><em><strong>Tips:</strong>\nA more easy way to find out the content of the <code>SecurityContext</code> for an unit test is to add <code>.andDo(MockMvcResultHandlers.print())</code> when performing on <code>MockMvc</code> which will print out such information :</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@WithMockUser(authorities=&quot;app-user&quot;)\npublic void findAllShouldReturnAList() throws Exception {\n    MvcResult result = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/foos&quot;)\n                    .accept(MediaType.APPLICATION_JSON))\n            .andExpect(status().isOk())\n            .andDo(MockMvcResultHandlers.print())\n            .andReturn();\n}\n</code></pre>\n"}],"owner":{"account_id":8017300,"reputation":197,"user_id":6047129,"accept_rate":40,"display_name":"Felipe Hogrefe Bento"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642176250,"creation_date":1642172549,"question_id":70712577,"body_markdown":"I&#39;m trying to test a simple Spring api that uses Okta oidc auth. Here is a sample of my controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/foos&quot;)\r\n    public class FooController {\r\n        @Autowired\r\n        private FooService fooService;\r\n\r\n        @GetMapping\r\n        @PreAuthorize(&quot;hasAuthority(&#39;app-user&#39;)&quot;)\r\n        public ResponseEntity&lt;List&lt;FooDTO&gt;&gt; findAll(Principal principal){\r\n            return ResponseEntity.ok(fooService.findAll());\r\n        }\r\n    }\r\n\r\nAnd here is my test:\r\n\r\n    @AutoConfigureMockMvc\r\n    @WebMvcTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class FooIntegrationTest {\r\n        private final static String TEST_USER_ID = &quot;user-id-123&quot;;\r\n        @Test\r\n        public void findAllShouldReturnAList() throws Exception {\r\n            MvcResult result = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/foos&quot;)\r\n                            .with(user(TEST_USER_ID))\r\n                            .with(oidcLogin())\r\n                            .accept(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().isOk())\r\n                    .andReturn();\r\n            assertThat(result.getResponse()).isNotNull();\r\n    }\r\n\r\nBy accessing the Principal object I&#39;m able to check the user authorities:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see the user doesn&#39;t have the **app-user** authority, but the test is successful (returns 200). But if I change PreAuthorize to `&quot;hasAuthority(&#39;app-admin&#39;)&quot;` I get a 403 response.\r\n\r\nTesting the endpoint using Postman results in the expected responses.\r\n\r\nSo a few questions comes to my mind:\r\n1. How `ROLE_USER` and `SCOPE_read` authorities have been added?\r\n2. How can I grant a authority for the user used in the test?\r\n3. I&#39;ve checked the Bearer Token passed for the auth and didn&#39;t find anything related to roles or authorities there, so how Okta/Spring defines the user authorities?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vRcHI.png","title":"Test passing without the correct otka authority","body":"<p>I'm trying to test a simple Spring api that uses Okta oidc auth. Here is a sample of my controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/foos&quot;)\npublic class FooController {\n    @Autowired\n    private FooService fooService;\n\n    @GetMapping\n    @PreAuthorize(&quot;hasAuthority('app-user')&quot;)\n    public ResponseEntity&lt;List&lt;FooDTO&gt;&gt; findAll(Principal principal){\n        return ResponseEntity.ok(fooService.findAll());\n    }\n}\n</code></pre>\n<p>And here is my test:</p>\n<pre><code>@AutoConfigureMockMvc\n@WebMvcTest\n@ActiveProfiles(&quot;test&quot;)\npublic class FooIntegrationTest {\n    private final static String TEST_USER_ID = &quot;user-id-123&quot;;\n    @Test\n    public void findAllShouldReturnAList() throws Exception {\n        MvcResult result = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/foos&quot;)\n                        .with(user(TEST_USER_ID))\n                        .with(oidcLogin())\n                        .accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andReturn();\n        assertThat(result.getResponse()).isNotNull();\n}\n</code></pre>\n<p>By accessing the Principal object I'm able to check the user authorities:</p>\n<p><a href=\"https://i.stack.imgur.com/vRcHI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vRcHI.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the user doesn't have the <strong>app-user</strong> authority, but the test is successful (returns 200). But if I change PreAuthorize to <code>&quot;hasAuthority('app-admin')&quot;</code> I get a 403 response.</p>\n<p>Testing the endpoint using Postman results in the expected responses.</p>\n<p>So a few questions comes to my mind:</p>\n<ol>\n<li>How <code>ROLE_USER</code> and <code>SCOPE_read</code> authorities have been added?</li>\n<li>How can I grant a authority for the user used in the test?</li>\n<li>I've checked the Bearer Token passed for the auth and didn't find anything related to roles or authorities there, so how Okta/Spring defines the user authorities?</li>\n</ol>\n"},{"tags":["java","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642169098,"creation_date":1642169098,"answer_id":70711805,"question_id":70711420,"body_markdown":"This is always due to an incompatible cuda version. Make sure that the version you have installed locally is not different from the one you are using with dl4j.","title":"Deeplearning4j - 1.0.0-M1.1 with Cuda - cudaGetSymbolAddress(...) failed error","body":"<p>This is always due to an incompatible cuda version. Make sure that the version you have installed locally is not different from the one you are using with dl4j.</p>\n"}],"owner":{"account_id":12808557,"reputation":13,"user_id":9267487,"display_name":"neyanog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642176209,"creation_date":1642167440,"question_id":70711420,"body_markdown":"I am getting the error as per showed in title. I have searched in Stackoverflow and  other people have been through by the same problem in previous versions.  In an answer was said that would be solved in a next version of DL4J and  it seems that it have not occurred.\r\nBelow are pom.xml and the dependencies i am using.\r\nPlease, can anybody help me?\r\nThank you in advance.\r\n\r\npom.xml:\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;dl4j-master.version&gt;1.0.0-M1.1&lt;/dl4j-master.version&gt;\r\n\r\n\t\t&lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven-shade-plugin.version&gt;2.4.3&lt;/maven-shade-plugin.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;deeplearning4j-nlp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.datavec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datavec-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;nd4j-cuda-11.0-platform&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cuda-platform-redist&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0-8.0-1.5.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;deeplearning4j-cuda-11.0&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cuda&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.0-7.4-1.4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${logback.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nError:\r\n\r\n11:11:35.720 [main] INFO org.nd4j.linalg.factory.Nd4jBackend - Loaded [JCublasBackend] backend\r\n11:11:37.543 [main] INFO org.nd4j.nativeblas.NativeOpsHolder - Number of threads used for linear algebra: 32\r\n11:11:37.675 [main] INFO org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Backend used: [CUDA]; OS: [Windows 10]\r\n11:11:37.676 [main] INFO org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Cores: [4]; Memory: [3,5GB];\r\n11:11:37.676 [main] INFO org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Blas vendor: [CUBLAS]\r\n11:11:37.702 [main] INFO org.nd4j.linalg.jcublas.JCublasBackend - ND4J CUDA build version: 11.0.221\r\n11:11:37.705 [main] INFO org.nd4j.linalg.jcublas.JCublasBackend - CUDA device 0: [NVIDIA GeForce 930M]; cc: [5.0]; Total memory: [4294836224]\r\n11:11:37.705 [main] INFO org.nd4j.linalg.jcublas.JCublasBackend - Backend build information:\r\n MSVC: 192930038\r\nSTD version: 201703L\r\nCUDA: 11.0.221\r\nDEFAULT_ENGINE: samediff::ENGINE_CUDA\r\nHAVE_FLATBUFFERS\r\n11:11:37.782 [main] INFO org.deeplearning4j.models.sequencevectors.SequenceVectors - Starting vocabulary building...\r\n11:11:37.783 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Target vocab size before building: [0]\r\n11:11:37.814 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Trying source iterator: [0]\r\n11:11:37.814 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Target vocab size before building: [0]\r\n11:11:51.450 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Waiting till all processes stop...\r\n11:11:51.457 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Vocab size before truncation: [168165],  NumWords: [1952392], sequences parsed: [318], counter: [1952389]\r\n11:11:51.457 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Vocab size after truncation: [168165],  NumWords: [1952392], sequences parsed: [318], counter: [1952389]\r\n11:11:54.179 [main] INFO org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Sequences checked: [318], Current vocabulary size: [168165]; Sequences/sec: [19,39];\r\n11:11:54.248 [main] INFO org.deeplearning4j.models.embeddings.loader.WordVectorSerializer - Projected memory use for model: [128,30 MB]\r\nException in thread &quot;main&quot; java.lang.RuntimeException: cudaGetSymbolAddress(...) failed; Error code: [13]\r\n\tat org.nd4j.linalg.jcublas.ops.executioner.CudaExecutioner.createShapeInfo(CudaExecutioner.java:2173)\r\n\tat org.nd4j.linalg.api.shape.Shape.createShapeInformation(Shape.java:3279)\r\n\tat org.nd4j.linalg.api.ndarray.BaseShapeInfoProvider.createShapeInformation(BaseShapeInfoProvider.java:75)\r\n\tat org.nd4j.jita.constant.ProtectedCudaShapeInfoProvider.createShapeInformation(ProtectedCudaShapeInfoProvider.java:96)\r\n\tat org.nd4j.jita.constant.ProtectedCudaShapeInfoProvider.createShapeInformation(ProtectedCudaShapeInfoProvider.java:77)\r\n\tat org.nd4j.linalg.jcublas.CachedShapeInfoProvider.createShapeInformation(CachedShapeInfoProvider.java:46)\r\n\tat org.nd4j.linalg.api.ndarray.BaseNDArray.&lt;init&gt;(BaseNDArray.java:180)\r\n\tat org.nd4j.linalg.api.ndarray.BaseNDArray.&lt;init&gt;(BaseNDArray.java:174)\r\n\tat org.nd4j.linalg.api.ndarray.BaseNDArray.&lt;init&gt;(BaseNDArray.java:316)\r\n\tat org.nd4j.linalg.jcublas.JCublasNDArray.&lt;init&gt;(JCublasNDArray.java:135)\r\n\tat org.nd4j.linalg.jcublas.JCublasNDArrayFactory.createUninitialized(JCublasNDArrayFactory.java:1533)\r\n\tat org.nd4j.linalg.factory.Nd4j.createUninitialized(Nd4j.java:4379)\r\n\tat org.nd4j.linalg.factory.Nd4j.rand(Nd4j.java:2957)\r\n\tat org.nd4j.linalg.factory.Nd4j.rand(Nd4j.java:2946)\r\n\tat org.deeplearning4j.models.embeddings.inmemory.InMemoryLookupTable.resetWeights(InMemoryLookupTable.java:145)\r\n\tat org.deeplearning4j.models.sequencevectors.SequenceVectors.fit(SequenceVectors.java:278)\r\n\tat org.deeplearning4j.models.paragraphvectors.ParagraphVectors.fit(ParagraphVectors.java:667)\r\n\tat gov.rfb.cocaj.dl4jGPU.DocumentClassifier.main(DocumentClassifier.java:44)\r\n\r\n","title":"Deeplearning4j - 1.0.0-M1.1 with Cuda - cudaGetSymbolAddress(...) failed error","body":"<p>I am getting the error as per showed in title. I have searched in Stackoverflow and  other people have been through by the same problem in previous versions.  In an answer was said that would be solved in a next version of DL4J and  it seems that it have not occurred.\nBelow are pom.xml and the dependencies i am using.\nPlease, can anybody help me?\nThank you in advance.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;properties&gt;\n    &lt;dl4j-master.version&gt;1.0.0-M1.1&lt;/dl4j-master.version&gt;\n\n    &lt;logback.version&gt;1.2.3&lt;/logback.version&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven-shade-plugin.version&gt;2.4.3&lt;/maven-shade-plugin.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n        &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n        &lt;artifactId&gt;deeplearning4j-nlp&lt;/artifactId&gt;\n        &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datavec&lt;/groupId&gt;\n        &lt;artifactId&gt;datavec-api&lt;/artifactId&gt;\n        &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n        &lt;artifactId&gt;nd4j-cuda-11.0-platform&lt;/artifactId&gt;\n        &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n        &lt;artifactId&gt;cuda-platform-redist&lt;/artifactId&gt;\n        &lt;version&gt;11.0-8.0-1.5.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n        &lt;artifactId&gt;deeplearning4j-cuda-11.0&lt;/artifactId&gt;\n        &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n        &lt;artifactId&gt;cuda&lt;/artifactId&gt;\n        &lt;version&gt;10.0-7.4-1.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Error:</p>\n<p>11:11:35.720 [main] INFO org.nd4j.linalg.factory.Nd4jBackend - Loaded [JCublasBackend] backend\n11:11:37.543 [main] INFO org.nd4j.nativeblas.NativeOpsHolder - Number of threads used for linear algebra: 32\n11:11:37.675 [main] INFO org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Backend used: [CUDA]; OS: [Windows 10]\n11:11:37.676 [main] INFO org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Cores: [4]; Memory: [3,5GB];\n11:11:37.676 [main] INFO org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Blas vendor: [CUBLAS]\n11:11:37.702 [main] INFO org.nd4j.linalg.jcublas.JCublasBackend - ND4J CUDA build version: 11.0.221\n11:11:37.705 [main] INFO org.nd4j.linalg.jcublas.JCublasBackend - CUDA device 0: [NVIDIA GeForce 930M]; cc: [5.0]; Total memory: [4294836224]\n11:11:37.705 [main] INFO org.nd4j.linalg.jcublas.JCublasBackend - Backend build information:\nMSVC: 192930038\nSTD version: 201703L\nCUDA: 11.0.221\nDEFAULT_ENGINE: samediff::ENGINE_CUDA\nHAVE_FLATBUFFERS\n11:11:37.782 [main] INFO org.deeplearning4j.models.sequencevectors.SequenceVectors - Starting vocabulary building...\n11:11:37.783 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Target vocab size before building: [0]\n11:11:37.814 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Trying source iterator: [0]\n11:11:37.814 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Target vocab size before building: [0]\n11:11:51.450 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Waiting till all processes stop...\n11:11:51.457 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Vocab size before truncation: [168165],  NumWords: [1952392], sequences parsed: [318], counter: [1952389]\n11:11:51.457 [main] DEBUG org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Vocab size after truncation: [168165],  NumWords: [1952392], sequences parsed: [318], counter: [1952389]\n11:11:54.179 [main] INFO org.deeplearning4j.models.word2vec.wordstore.VocabConstructor - Sequences checked: [318], Current vocabulary size: [168165]; Sequences/sec: [19,39];\n11:11:54.248 [main] INFO org.deeplearning4j.models.embeddings.loader.WordVectorSerializer - Projected memory use for model: [128,30 MB]\nException in thread &quot;main&quot; java.lang.RuntimeException: cudaGetSymbolAddress(...) failed; Error code: [13]\nat org.nd4j.linalg.jcublas.ops.executioner.CudaExecutioner.createShapeInfo(CudaExecutioner.java:2173)\nat org.nd4j.linalg.api.shape.Shape.createShapeInformation(Shape.java:3279)\nat org.nd4j.linalg.api.ndarray.BaseShapeInfoProvider.createShapeInformation(BaseShapeInfoProvider.java:75)\nat org.nd4j.jita.constant.ProtectedCudaShapeInfoProvider.createShapeInformation(ProtectedCudaShapeInfoProvider.java:96)\nat org.nd4j.jita.constant.ProtectedCudaShapeInfoProvider.createShapeInformation(ProtectedCudaShapeInfoProvider.java:77)\nat org.nd4j.linalg.jcublas.CachedShapeInfoProvider.createShapeInformation(CachedShapeInfoProvider.java:46)\nat org.nd4j.linalg.api.ndarray.BaseNDArray.(BaseNDArray.java:180)\nat org.nd4j.linalg.api.ndarray.BaseNDArray.(BaseNDArray.java:174)\nat org.nd4j.linalg.api.ndarray.BaseNDArray.(BaseNDArray.java:316)\nat org.nd4j.linalg.jcublas.JCublasNDArray.(JCublasNDArray.java:135)\nat org.nd4j.linalg.jcublas.JCublasNDArrayFactory.createUninitialized(JCublasNDArrayFactory.java:1533)\nat org.nd4j.linalg.factory.Nd4j.createUninitialized(Nd4j.java:4379)\nat org.nd4j.linalg.factory.Nd4j.rand(Nd4j.java:2957)\nat org.nd4j.linalg.factory.Nd4j.rand(Nd4j.java:2946)\nat org.deeplearning4j.models.embeddings.inmemory.InMemoryLookupTable.resetWeights(InMemoryLookupTable.java:145)\nat org.deeplearning4j.models.sequencevectors.SequenceVectors.fit(SequenceVectors.java:278)\nat org.deeplearning4j.models.paragraphvectors.ParagraphVectors.fit(ParagraphVectors.java:667)\nat gov.rfb.cocaj.dl4jGPU.DocumentClassifier.main(DocumentClassifier.java:44)</p>\n"},{"tags":["java","jooq","jooq-codegen-maven"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1642174428,"post_id":70712727,"comment_id":125008146,"body_markdown":"Does your database user have the necessary grants to see the columns? You can check that by querying `information_schema.columns` and `pg_catalog.pg_attribute`. Also, are there any exceptions in the code generation output?","body":"Does your database user have the necessary grants to see the columns? You can check that by querying <code>information_schema.columns</code> and <code>pg_catalog.pg_attribute</code>. Also, are there any exceptions in the code generation output?"}],"answers":[{"tags":[],"owner":{"account_id":20360464,"reputation":21,"user_id":14934919,"display_name":"alf3ratz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642176108,"creation_date":1642176108,"answer_id":70713323,"question_id":70712727,"body_markdown":"I added this\r\n```\r\n&lt;database&gt;\r\n      &lt;includeTables&gt;true&lt;/includeTables&gt;\r\n&lt;/database&gt;\r\n```\r\nto configuration and it solved my problem","title":"Jooq generates classes for tables without fields responsible for columns in tables","body":"<p>I added this</p>\n<pre><code>&lt;database&gt;\n      &lt;includeTables&gt;true&lt;/includeTables&gt;\n&lt;/database&gt;\n</code></pre>\n<p>to configuration and it solved my problem</p>\n"}],"owner":{"account_id":20360464,"reputation":21,"user_id":14934919,"display_name":"alf3ratz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642176108,"creation_date":1642173326,"question_id":70712727,"body_markdown":"For example all generated classes for tables look like that:\r\n\r\n```java\r\nSuppressWarnings({&quot;all&quot;, &quot;unchecked&quot;, &quot;rawtypes&quot;})\r\npublic class TableName extends TableImpl&lt;TableNameRecord&gt; {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public static final TableName TABLE_NAME = new TableName();\r\n\r\n    @Override\r\n    public Class&lt;TableNameRecord&gt; getRecordType() {\r\n        return TableNameRecord.class;\r\n    }\r\n   ... (more contructors)  \r\n}\r\n```\r\n\r\n\r\n**Maven:**  \r\n**Code-generation:**\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;3.16.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;configuration&gt;\r\n        &lt;jdbc&gt;\r\n            &lt;driver&gt;org.postgresql.Driver&lt;/driver&gt;\r\n            &lt;url&gt;&#39;db-url&#39;&lt;/url&gt;\r\n            &lt;user&gt;&#39;user-name&#39;&lt;/user&gt;\r\n            &lt;password&gt;&#39;pswd&#39;&lt;/password&gt;\r\n        &lt;/jdbc&gt;\r\n        &lt;generator&gt;\r\n            &lt;database&gt;\r\n                &lt;name&gt;org.jooq.meta.postgres.PostgresDatabase&lt;/name&gt;\r\n                &lt;includes&gt;.*&lt;/includes&gt;\r\n                &lt;inputSchema&gt;&#39;my-schema&#39;&lt;/inputSchema&gt; \r\n                &lt;excludes/&gt;\r\n            &lt;/database&gt;\r\n            &lt;generate&gt;\r\n                &lt;records&gt;true&lt;/records&gt;\r\n            &lt;/generate&gt;\r\n            &lt;target&gt;\r\n                &lt;packageName&gt;&#39;package-name&#39;&lt;/packageName&gt;\r\n                &lt;directory&gt;target/generated-sources/jooq&lt;/directory&gt;\r\n            &lt;/target&gt;\r\n        &lt;/generator&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n**Dependencies:**\r\njooq, jooq-meta, jooq-codegen  \r\nversion: 3.16.1  \r\n\r\nWhat&#39;s wrong?\r\n","title":"Jooq generates classes for tables without fields responsible for columns in tables","body":"<p>For example all generated classes for tables look like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SuppressWarnings({&quot;all&quot;, &quot;unchecked&quot;, &quot;rawtypes&quot;})\npublic class TableName extends TableImpl&lt;TableNameRecord&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    public static final TableName TABLE_NAME = new TableName();\n\n    @Override\n    public Class&lt;TableNameRecord&gt; getRecordType() {\n        return TableNameRecord.class;\n    }\n   ... (more contructors)  \n}\n</code></pre>\n<p><strong>Maven:</strong><br />\n<strong>Code-generation:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n    &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\n    &lt;version&gt;3.16.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration&gt;\n        &lt;jdbc&gt;\n            &lt;driver&gt;org.postgresql.Driver&lt;/driver&gt;\n            &lt;url&gt;'db-url'&lt;/url&gt;\n            &lt;user&gt;'user-name'&lt;/user&gt;\n            &lt;password&gt;'pswd'&lt;/password&gt;\n        &lt;/jdbc&gt;\n        &lt;generator&gt;\n            &lt;database&gt;\n                &lt;name&gt;org.jooq.meta.postgres.PostgresDatabase&lt;/name&gt;\n                &lt;includes&gt;.*&lt;/includes&gt;\n                &lt;inputSchema&gt;'my-schema'&lt;/inputSchema&gt; \n                &lt;excludes/&gt;\n            &lt;/database&gt;\n            &lt;generate&gt;\n                &lt;records&gt;true&lt;/records&gt;\n            &lt;/generate&gt;\n            &lt;target&gt;\n                &lt;packageName&gt;'package-name'&lt;/packageName&gt;\n                &lt;directory&gt;target/generated-sources/jooq&lt;/directory&gt;\n            &lt;/target&gt;\n        &lt;/generator&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>Dependencies:</strong>\njooq, jooq-meta, jooq-codegen<br />\nversion: 3.16.1</p>\n<p>What's wrong?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":1700309,"reputation":1007,"user_id":1560584,"accept_rate":71,"display_name":"Balaji Krishnan"},"score":0,"creation_date":1482324703,"post_id":41263105,"comment_id":69726977,"body_markdown":"just use @Profie(&quot;profileName&quot;) - look at javadocs. http://docs.spring.io/autorepo/docs/spring-boot/current/reference/html/boot-features-profiles.html","body":"just use @Profie(&quot;profileName&quot;) - look at javadocs. <a href=\"http://docs.spring.io/autorepo/docs/spring-boot/current/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">docs.spring.io/autorepo/docs/spring-boot/current/reference/h&zwnj;&#8203;tml/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4126683,"reputation":2919,"user_id":3385651,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482324582,"creation_date":1482324582,"answer_id":41263207,"question_id":41263105,"body_markdown":"Take a look at [Spring Profile][1]. You will define a set of profiles configurations, like Test, Dev, Production. And then, when you launch the application, you can define wich profile it should use.\r\n\r\nHere are some [tutorials][2] of how to use.\r\n\r\nAnd this guys had the same problem as yours: https://stackoverflow.com/questions/40359838/how-to-config-componentscan-dynamic/40359948#40359948\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring-boot/current/reference/html/boot-features-profiles.html\r\n  [2]: https://www.mkyong.com/spring/spring-profiles-example/","title":"How to load property file based on spring profiles","body":"<p>Take a look at <a href=\"http://docs.spring.io/autorepo/docs/spring-boot/current/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">Spring Profile</a>. You will define a set of profiles configurations, like Test, Dev, Production. And then, when you launch the application, you can define wich profile it should use.</p>\n\n<p>Here are some <a href=\"https://www.mkyong.com/spring/spring-profiles-example/\" rel=\"nofollow noreferrer\">tutorials</a> of how to use.</p>\n\n<p>And this guys had the same problem as yours: <a href=\"https://stackoverflow.com/questions/40359838/how-to-config-componentscan-dynamic/40359948#40359948\">How to config @ComponentScan dynamic?</a></p>\n"},{"tags":[],"owner":{"account_id":3708991,"reputation":1742,"user_id":3086800,"display_name":"Chandra"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1553607186,"creation_date":1482345009,"answer_id":41269572,"question_id":41263105,"body_markdown":"Put property file in same location as `application.property` and follow\r\nthe naming convention `application-{profile}.properties` like\r\n`application-dev.properties`,`application-test.properties`,\r\n`application-prod.properties` \r\n \r\nAnd in `application.properties` set `spring.profiles.active=dev,test` etc","title":"How to load property file based on spring profiles","body":"<p>Put property file in same location as <code>application.property</code> and follow\nthe naming convention <code>application-{profile}.properties</code> like\n<code>application-dev.properties</code>,<code>application-test.properties</code>,\n<code>application-prod.properties</code> </p>\n\n<p>And in <code>application.properties</code> set <code>spring.profiles.active=dev,test</code> etc</p>\n"},{"tags":[],"owner":{"account_id":7812311,"reputation":2813,"user_id":5908154,"accept_rate":10,"display_name":"Abhishek Galoda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505148058,"creation_date":1505148058,"answer_id":46160526,"question_id":41263105,"body_markdown":"For Spring Boot applications it will work easily even by using a YAML File\r\n\r\n    spring: \r\n      profiles: dev\r\n      property: this is a dev env\r\n    ---\r\n    spring: \r\n      profiles: prod\r\n      property: this is a production env \r\n    ---\r\nHowever, for a Spring MVC application, it needs more work. Have a look at [this link][1]\r\n\r\nBasically, it involves 2 steps\r\n\r\n 1. Get the Spring Profile within servlet context\r\n\r\nIf you have set the profile on the server and want it to retrieve it within your application you can use System.getProperty or System.getenv methods.\r\nHere is the code which fetches the profile and defaults it to a local profile, if no profile has been found.\r\n\r\n\r\n\r\n    private static final String SPRING_PROFILES_ACTIVE = &quot;SPRING_PROFILES_ACTIVE&quot;;\r\n    String profile;\r\n\r\n    /**\r\n     * In local system getProperty() returns the profile correctly, however in docker getenv() return profile correctly\r\n     * */\r\n    protected void setSpringProfile(ServletContext servletContext) {\r\n    if(null!= System.getenv(SPRING_PROFILES_ACTIVE)){\r\n        profile=System.getenv(SPRING_PROFILES_ACTIVE);\r\n    }else if(null!= System.getProperty(SPRING_PROFILES_ACTIVE)){\r\n        profile=System.getProperty(SPRING_PROFILES_ACTIVE);\r\n    }else{\r\n        profile=&quot;local&quot;;\r\n    }\r\n    log.info(&quot;***** Profile configured  is  ****** &quot;+ profile);\r\n    \r\n    servletContext.setInitParameter(&quot;spring.profiles.active&quot;, profile);\r\n    }\r\n\r\n\r\n 2. To access the application-dev.properties, say now you will need to use\r\n@Profile(&quot;dev&quot;) at the class level\r\n\r\nThe following code will fetch the application-dev.properties and common.properties\r\n\r\n\r\n\r\n    @Configuration\r\n    @Profile(&quot;dev&quot;)\r\n    public class DevPropertyReader {\r\n    \r\n       \r\n        @Bean\r\n        public static PropertyPlaceholderConfigurer properties() {\r\n    \tPropertyPlaceholderConfigurer ppc = new PropertyPlaceholderConfigurer();\r\n    \tResource[] resources = new ClassPathResource[] { new ClassPathResource(&quot;properties/common.properties&quot;), new ClassPathResource(&quot;properties/application-dev.properties&quot;) };\r\n    \tppc.setLocations(resources);\r\n    \tppc.setIgnoreUnresolvablePlaceholders(true);\r\n    \treturn ppc;\r\n        }\r\n    }\r\n\r\nFor accessing say application-prod.properties you have to use `@Profile(&quot;prod&quot;)` at the class level. More details can be  [found here][1]\r\n \r\n  [1]: http://littlebigextra.com/how-to-read-different-properties-file-based-on-spring-profile-in-a-spring-mvc-project/\r\n","title":"How to load property file based on spring profiles","body":"<p>For Spring Boot applications it will work easily even by using a YAML File</p>\n\n<pre><code>spring: \n  profiles: dev\n  property: this is a dev env\n---\nspring: \n  profiles: prod\n  property: this is a production env \n---\n</code></pre>\n\n<p>However, for a Spring MVC application, it needs more work. Have a look at <a href=\"http://littlebigextra.com/how-to-read-different-properties-file-based-on-spring-profile-in-a-spring-mvc-project/\" rel=\"noreferrer\">this link</a></p>\n\n<p>Basically, it involves 2 steps</p>\n\n<ol>\n<li>Get the Spring Profile within servlet context</li>\n</ol>\n\n<p>If you have set the profile on the server and want it to retrieve it within your application you can use System.getProperty or System.getenv methods.\nHere is the code which fetches the profile and defaults it to a local profile, if no profile has been found.</p>\n\n<pre><code>private static final String SPRING_PROFILES_ACTIVE = \"SPRING_PROFILES_ACTIVE\";\nString profile;\n\n/**\n * In local system getProperty() returns the profile correctly, however in docker getenv() return profile correctly\n * */\nprotected void setSpringProfile(ServletContext servletContext) {\nif(null!= System.getenv(SPRING_PROFILES_ACTIVE)){\n    profile=System.getenv(SPRING_PROFILES_ACTIVE);\n}else if(null!= System.getProperty(SPRING_PROFILES_ACTIVE)){\n    profile=System.getProperty(SPRING_PROFILES_ACTIVE);\n}else{\n    profile=\"local\";\n}\nlog.info(\"***** Profile configured  is  ****** \"+ profile);\n\nservletContext.setInitParameter(\"spring.profiles.active\", profile);\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>To access the application-dev.properties, say now you will need to use\n@Profile(\"dev\") at the class level</li>\n</ol>\n\n<p>The following code will fetch the application-dev.properties and common.properties</p>\n\n<pre><code>@Configuration\n@Profile(\"dev\")\npublic class DevPropertyReader {\n\n\n    @Bean\n    public static PropertyPlaceholderConfigurer properties() {\n    PropertyPlaceholderConfigurer ppc = new PropertyPlaceholderConfigurer();\n    Resource[] resources = new ClassPathResource[] { new ClassPathResource(\"properties/common.properties\"), new ClassPathResource(\"properties/application-dev.properties\") };\n    ppc.setLocations(resources);\n    ppc.setIgnoreUnresolvablePlaceholders(true);\n    return ppc;\n    }\n}\n</code></pre>\n\n<p>For accessing say application-prod.properties you have to use <code>@Profile(\"prod\")</code> at the class level. More details can be  <a href=\"http://littlebigextra.com/how-to-read-different-properties-file-based-on-spring-profile-in-a-spring-mvc-project/\" rel=\"noreferrer\">found here</a></p>\n"},{"tags":[],"owner":{"account_id":2272325,"reputation":590,"user_id":9556386,"display_name":"USM"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1538721425,"creation_date":1538721425,"answer_id":52659640,"question_id":41263105,"body_markdown":"I&#39;ll give step by step procedure for Spring boot applications.\r\n\r\n 1. Inside **/src/main/resources/application.properties** mention **spring.profiles.active=dev** (or Prod)\r\n 2. Create **/src/main/resources/application-dev.properties** and give your custom dev configurations here.\r\n 3. Create **/src/main/resources/application-prod.properties** and give your custom prod configurations here.\r\n\r\nRun.","title":"How to load property file based on spring profiles","body":"<p>I'll give step by step procedure for Spring boot applications.</p>\n\n<ol>\n<li>Inside <strong>/src/main/resources/application.properties</strong> mention <strong>spring.profiles.active=dev</strong> (or Prod)</li>\n<li>Create <strong>/src/main/resources/application-dev.properties</strong> and give your custom dev configurations here.</li>\n<li>Create <strong>/src/main/resources/application-prod.properties</strong> and give your custom prod configurations here.</li>\n</ol>\n\n<p>Run.</p>\n"},{"tags":[],"owner":{"account_id":9439654,"reputation":470,"user_id":7266331,"display_name":"sarthakgupta072"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642175852,"creation_date":1642175852,"answer_id":70713277,"question_id":41263105,"body_markdown":"We wanted a way to load different properties from `application-&lt;your_env&gt;.properties` file depending on the environment (spring profile) in a Spring MVC project, so we implemented a configuration class something like this.  \r\n```\r\n@Configuration\r\n@PropertySource({ &quot;classpath:application-${envTarget:dev}.properties&quot; })\r\n@Data\r\npublic class EnvironmentConfig {\r\n\r\n    @Value(&quot;${files.s3.accessId:}&quot;)\r\n    String s3AccessId;\r\n\r\n    @Value(&quot;${files.s3.accessToken:}&quot;)\r\n    String s3AccessToken;\r\n    .\r\n    .\r\n    .\r\n}\r\n```\r\nThen we loaded the `EnvironmentConfig` in the class where we needed to use it.\r\n\r\nWhile running the application, you just need to pass the `-DenvTarget=&lt;your_env&gt;`, and it will pick up the `application-&lt;your_env&gt;.properties` file from `src/resources` folder of the project. \r\n\r\nIn the above code, it will load values from `application-dev.properties` files when no `envTarget` is specified.\r\n\r\nThanks to Karthikeyan Muthurangam for suggesting this clever solution.","title":"How to load property file based on spring profiles","body":"<p>We wanted a way to load different properties from <code>application-&lt;your_env&gt;.properties</code> file depending on the environment (spring profile) in a Spring MVC project, so we implemented a configuration class something like this.</p>\n<pre><code>@Configuration\n@PropertySource({ &quot;classpath:application-${envTarget:dev}.properties&quot; })\n@Data\npublic class EnvironmentConfig {\n\n    @Value(&quot;${files.s3.accessId:}&quot;)\n    String s3AccessId;\n\n    @Value(&quot;${files.s3.accessToken:}&quot;)\n    String s3AccessToken;\n    .\n    .\n    .\n}\n</code></pre>\n<p>Then we loaded the <code>EnvironmentConfig</code> in the class where we needed to use it.</p>\n<p>While running the application, you just need to pass the <code>-DenvTarget=&lt;your_env&gt;</code>, and it will pick up the <code>application-&lt;your_env&gt;.properties</code> file from <code>src/resources</code> folder of the project.</p>\n<p>In the above code, it will load values from <code>application-dev.properties</code> files when no <code>envTarget</code> is specified.</p>\n<p>Thanks to Karthikeyan Muthurangam for suggesting this clever solution.</p>\n"}],"owner":{"account_id":5288437,"reputation":477,"user_id":6438972,"display_name":"Santoshkumar Kalasa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48256,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":52659640,"answer_count":5,"score":21,"last_activity_date":1642175852,"creation_date":1482324177,"question_id":41263105,"body_markdown":"How to create project architecture to support multiple envionment. Each environment will have different datasource from different property file like(dev-propertfile,test-propertyFil,Production-propertyfile) with help of spring&#39;s \r\n\r\n \r\n\r\n    org.springframework.core.env.Environment;\r\n\r\n","title":"How to load property file based on spring profiles","body":"<p>How to create project architecture to support multiple envionment. Each environment will have different datasource from different property file like(dev-propertfile,test-propertyFil,Production-propertyfile) with help of spring's </p>\n\n<pre><code>org.springframework.core.env.Environment;\n</code></pre>\n"},{"tags":["java","web-services","jar","soapui","rpc"],"comments":[{"owner":{"account_id":6223812,"reputation":2460,"user_id":9512475,"display_name":"Yılmaz Durmaz"},"score":0,"creation_date":1642416758,"post_id":70713226,"comment_id":125056666,"body_markdown":"please provide `... 7 more` error stack details to help viewers","body":"please provide <code>... 7 more</code> error stack details to help viewers"},{"owner":{"account_id":9578168,"reputation":79,"user_id":7113515,"display_name":"absolute"},"score":0,"creation_date":1642430289,"post_id":70713226,"comment_id":125062177,"body_markdown":"Hi Thanks, I think I was able to fixed this. The solution that I did is, I exported my codes using Runnable jar instead export as jar only so that the the other jar dependencies are included in jar file.","body":"Hi Thanks, I think I was able to fixed this. The solution that I did is, I exported my codes using Runnable jar instead export as jar only so that the the other jar dependencies are included in jar file."},{"owner":{"account_id":6223812,"reputation":2460,"user_id":9512475,"display_name":"Yılmaz Durmaz"},"score":0,"creation_date":1642430681,"post_id":70713226,"comment_id":125062365,"body_markdown":"provide this as an answer in case someone else gets into same issue","body":"provide this as an answer in case someone else gets into same issue"}],"owner":{"account_id":9578168,"reputation":79,"user_id":7113515,"display_name":"absolute"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642175583,"creation_date":1642175583,"question_id":70713226,"body_markdown":"Im getting an error whenever I run my Java jar. Basically the business logic that I have in Jar is calling some webservice. Im not sure on what to add when exporting to jar regarding on RPC service.\r\n\r\nBy the way to generate the jar, What I did in is just export the java project as jar.\r\n\r\nHoping you could help me to resolve this error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nmqc8.png","title":"Java RPC Service in Jar file","body":"<p>Im getting an error whenever I run my Java jar. Basically the business logic that I have in Jar is calling some webservice. Im not sure on what to add when exporting to jar regarding on RPC service.</p>\n<p>By the way to generate the jar, What I did in is just export the java project as jar.</p>\n<p>Hoping you could help me to resolve this error.</p>\n<p><a href=\"https://i.stack.imgur.com/nmqc8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmqc8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"score":0,"creation_date":1642161881,"post_id":70710151,"comment_id":125003312,"body_markdown":"can you share more code please?","body":"can you share more code please?"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1642164700,"post_id":70710151,"comment_id":125004306,"body_markdown":"@vivekmodi sure. I have updated my code.","body":"@vivekmodi sure. I have updated my code."}],"answers":[{"tags":[],"owner":{"account_id":19193743,"reputation":264,"user_id":14022951,"display_name":"A Sarshar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642175533,"creation_date":1642164378,"answer_id":70710791,"question_id":70710151,"body_markdown":"You can use interface to do this.\r\nin your DialogFragment :\r\n\r\npublic class MyDialog extends DialogFragment {\r\n\r\n    public boolean dialogIsActive = false;\r\n\r\n    public interface OnButtonClick {\r\n        void onButtonClick(boolean active);\r\n    }\r\n\r\n    private OnButtonClick onButtonClick;\r\n\r\n    public MyDialog(OnButtonClick onButtonClick) {\r\n        this.onButtonClick = onButtonClick;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n        final View view = inflater.inflate(_layout, container, false);\r\n        Button cta = view.findViewById(R.id.dialogCta);\r\n        cta.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n            public void onClick(View v) {\r\n                //onButtonClick.onButtonClick(boolean)   this is where your activity trigger\r\n                if (!dialogIsActive) {\r\n                    onButtonClick.onButtonClick(true);\r\n                    dialogIsActive = true;\r\n                } else {\r\n                    onButtonClick.onButtonClick(false);\r\n                    dialogIsActive = false;\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n\r\nin your Activity \r\n\r\n    public class MyActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        MyDialog myDialog= new MyDialog(new MyDialog.OnButtonClick(){\r\n            @Override\r\n            public void onButtonClick(boolean active) {\r\n                //this is where you know that the dialog button clicked\r\n                Button activityButton = findViewById(R.id.activityButton);\r\n                int button = (active) ? R.drawable.button_red : R.drawable.button_yellow;\r\n                activityButton.setBackground(ContextCompat.getDrawable(MyActivity.this, button));\r\n\r\n            }\r\n        });\r\n        myDialog.show(getSupportFragmentManager(),&quot;tag&quot;);\r\n    }\r\n}","title":"Change the background of a button in MainActivity","body":"<p>You can use interface to do this.\nin your DialogFragment :</p>\n<p>public class MyDialog extends DialogFragment {</p>\n<pre><code>public boolean dialogIsActive = false;\n\npublic interface OnButtonClick {\n    void onButtonClick(boolean active);\n}\n\nprivate OnButtonClick onButtonClick;\n\npublic MyDialog(OnButtonClick onButtonClick) {\n    this.onButtonClick = onButtonClick;\n}\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n    final View view = inflater.inflate(_layout, container, false);\n    Button cta = view.findViewById(R.id.dialogCta);\n    cta.setOnClickListener(new View.OnClickListener() {\n       @Override\n        public void onClick(View v) {\n            //onButtonClick.onButtonClick(boolean)   this is where your activity trigger\n            if (!dialogIsActive) {\n                onButtonClick.onButtonClick(true);\n                dialogIsActive = true;\n            } else {\n                onButtonClick.onButtonClick(false);\n                dialogIsActive = false;\n            }\n        }\n    });\n\n    return view;\n}\n</code></pre>\n<p>}</p>\n<p>in your Activity</p>\n<pre><code>public class MyActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    MyDialog myDialog= new MyDialog(new MyDialog.OnButtonClick(){\n        @Override\n        public void onButtonClick(boolean active) {\n            //this is where you know that the dialog button clicked\n            Button activityButton = findViewById(R.id.activityButton);\n            int button = (active) ? R.drawable.button_red : R.drawable.button_yellow;\n            activityButton.setBackground(ContextCompat.getDrawable(MyActivity.this, button));\n\n        }\n    });\n    myDialog.show(getSupportFragmentManager(),&quot;tag&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642175533,"creation_date":1642161106,"question_id":70710151,"body_markdown":"I have created a class that extends `DialogFragment`. In that class, when I press a button, I want to change the background of a button that is placed in MainActivity.\r\n\r\nI have tried to create an inner class to gain access to MainActivity objects but what I get is this error:\r\n\r\n&gt; Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo\r\n&gt; android.content.Context.getApplicationInfo()&#39; on a null object\r\n&gt; reference\r\n\r\n```java\r\n\r\n@SuppressLint(&quot;ValidFragment&quot;)\r\npublic class Popup extends DialogFragment {\r\n    private final MediaPlayer _mediaPlayer = new MediaPlayer();\r\n    private final int _layout;\r\n    private TextInputEditText _customTextField;\r\n    private final Dialog mDialog = new Dialog();\r\n    public boolean dialogIsActive = false;\r\n\r\n    @SuppressLint(&quot;ValidFragment&quot;)\r\n    public Popup(int layout) {\r\n        _layout = layout;\r\n    }\r\n\r\n    public interface ICustomTts {\r\n        void customTts(String input, Activity activity);\r\n    }\r\n    public ICustomTts iCustomTts;\r\n\r\n    public interface  ITarget {\r\n        String getTarget(String input);\r\n    }\r\n    public ITarget iTarget;\r\n\r\n    @SuppressLint({&quot;ClickableViewAccessibility&quot;, &quot;ResourceType&quot;})\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\r\n        final View view =  inflater.inflate(_layout, container, false);\r\n\r\n        // Display fragment_dialog\r\n        if (_layout == R.layout.fragment_dialog) {\r\n            // Read and display the expressions\r\n            view.findViewById(R.id.dialogHelp).setOnClickListener(v -&gt; {\r\n                String expressions = null;\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    expressions = Helper.readFile(getContext(), &quot;expressions.yml&quot;);\r\n                }\r\n                TextView models = view.findViewById(R.id.dialogModels);\r\n                models.setText(expressions);\r\n            });\r\n            // Toggle the listener\r\n            Button cta = view.findViewById(R.id.dialogCta);\r\n\r\n            // Gain access to MainActivity\r\n            class InnerMainActivity extends my.app.MainActivity {\r\n                @RequiresApi(api = Build.VERSION_CODES.M)\r\n                public void dialog(boolean active) {\r\n                    int button = (active) ? R.drawable.button_red : R.drawable.button_yellow;\r\n                    findViewById(R.id.dialog).setBackground(ContextCompat.getDrawable(getContext(), button));\r\n                }\r\n            }\r\n            InnerMainActivity innerMainActivity = new InnerMainActivity();\r\n\r\n            cta.setOnClickListener(v -&gt; {\r\n                if (!dialogIsActive) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                        if (mDialog.hasRecordPermission(getContext())) {\r\n                            mDialog.startService(getContext());\r\n                            cta.setBackground(ContextCompat.getDrawable(getContext(), R.drawable.button_red));\r\n                            cta.setText(R.string.dialog_do_not_listen);\r\n                            cta.setTextSize(17);\r\n                            innerMainActivity.dialog(true);\r\n                            dialogIsActive = true;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                        mDialog.stopTheService(getContext());\r\n                        cta.setBackground(ContextCompat.getDrawable(getContext(), R.drawable.button_yellow));\r\n                        cta.setText(R.string.dialog_listen);\r\n                        innerMainActivity.dialog(false);\r\n                        dialogIsActive = false;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n                \r\n        return view;\r\n    }      \r\n\r\n}\r\n```","title":"Change the background of a button in MainActivity","body":"<p>I have created a class that extends <code>DialogFragment</code>. In that class, when I press a button, I want to change the background of a button that is placed in MainActivity.</p>\n<p>I have tried to create an inner class to gain access to MainActivity objects but what I get is this error:</p>\n<blockquote>\n<p>Attempt to invoke virtual method 'android.content.pm.ApplicationInfo\nandroid.content.Context.getApplicationInfo()' on a null object\nreference</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>\n@SuppressLint(&quot;ValidFragment&quot;)\npublic class Popup extends DialogFragment {\n    private final MediaPlayer _mediaPlayer = new MediaPlayer();\n    private final int _layout;\n    private TextInputEditText _customTextField;\n    private final Dialog mDialog = new Dialog();\n    public boolean dialogIsActive = false;\n\n    @SuppressLint(&quot;ValidFragment&quot;)\n    public Popup(int layout) {\n        _layout = layout;\n    }\n\n    public interface ICustomTts {\n        void customTts(String input, Activity activity);\n    }\n    public ICustomTts iCustomTts;\n\n    public interface  ITarget {\n        String getTarget(String input);\n    }\n    public ITarget iTarget;\n\n    @SuppressLint({&quot;ClickableViewAccessibility&quot;, &quot;ResourceType&quot;})\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\n        final View view =  inflater.inflate(_layout, container, false);\n\n        // Display fragment_dialog\n        if (_layout == R.layout.fragment_dialog) {\n            // Read and display the expressions\n            view.findViewById(R.id.dialogHelp).setOnClickListener(v -&gt; {\n                String expressions = null;\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    expressions = Helper.readFile(getContext(), &quot;expressions.yml&quot;);\n                }\n                TextView models = view.findViewById(R.id.dialogModels);\n                models.setText(expressions);\n            });\n            // Toggle the listener\n            Button cta = view.findViewById(R.id.dialogCta);\n\n            // Gain access to MainActivity\n            class InnerMainActivity extends my.app.MainActivity {\n                @RequiresApi(api = Build.VERSION_CODES.M)\n                public void dialog(boolean active) {\n                    int button = (active) ? R.drawable.button_red : R.drawable.button_yellow;\n                    findViewById(R.id.dialog).setBackground(ContextCompat.getDrawable(getContext(), button));\n                }\n            }\n            InnerMainActivity innerMainActivity = new InnerMainActivity();\n\n            cta.setOnClickListener(v -&gt; {\n                if (!dialogIsActive) {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                        if (mDialog.hasRecordPermission(getContext())) {\n                            mDialog.startService(getContext());\n                            cta.setBackground(ContextCompat.getDrawable(getContext(), R.drawable.button_red));\n                            cta.setText(R.string.dialog_do_not_listen);\n                            cta.setTextSize(17);\n                            innerMainActivity.dialog(true);\n                            dialogIsActive = true;\n                        }\n                    }\n                }\n                else {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                        mDialog.stopTheService(getContext());\n                        cta.setBackground(ContextCompat.getDrawable(getContext(), R.drawable.button_yellow));\n                        cta.setText(R.string.dialog_listen);\n                        innerMainActivity.dialog(false);\n                        dialogIsActive = false;\n                    }\n                }\n            });\n        }\n                \n        return view;\n    }      \n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","io"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642175522,"post_id":70712532,"comment_id":125008611,"body_markdown":"The real question should be &quot;_can I change the location of the file?_&quot; The answer to that question is **_yes_**.  Here is how: https://stackoverflow.com/questions/5797208/java-how-do-i-write-a-file-to-a-specified-directory","body":"The real question should be &quot;<i>can I change the location of the file?</i>&quot; The answer to that question is <b><i>yes</i></b>.  Here is how: <a href=\"https://stackoverflow.com/questions/5797208/java-how-do-i-write-a-file-to-a-specified-directory\" title=\"java how do i write a file to a specified directory\">stackoverflow.com/questions/5797208/&hellip;</a>"},{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1642175713,"post_id":70712532,"comment_id":125008705,"body_markdown":"If you specify a relative path, the location of the output file will depend on where you run the program from. How are you running your program? And where would you like the file to be placed, relative to where you&#39;re running the code from?","body":"If you specify a relative path, the location of the output file will depend on where you run the program from. How are you running your program? And where would you like the file to be placed, relative to where you&#39;re running the code from?"}],"owner":{"account_id":23940558,"reputation":11,"user_id":17933753,"display_name":"SweetMoeRan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642175362,"creation_date":1642172344,"question_id":70712532,"body_markdown":"I&#39;m curious that the location where `java.io.PrintWriter` creates the file is always in the root directory of my project, I want the generated file to be in my current java module, do I need to specify the absolute path to the file location? Or is it related to the settings of my IDEA?\r\nHere is the code:\r\n\r\n        package com.study.inputandoutput.textFile;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.time.LocalDate;\r\n    import java.util.Scanner;\r\n    \r\n    public class TextFileTest {\r\n        public static void main(String[] args) throws IOException {\r\n            Employee[] staff = new Employee[3];\r\n    \r\n            staff[0] = new Employee(&quot;Marry&quot;, 75000, 1993, 8, 22);\r\n            staff[1] = new Employee(&quot;Jerry&quot;, 50000, 1997, 1, 22);\r\n            staff[2] = new Employee(&quot;Harry&quot;, 40000, 1996, 7, 17);\r\n    \r\n            //save all employee records to the file employee.dat\r\n            try (PrintWriter out = new PrintWriter(&quot;employee.dat&quot;, StandardCharsets.UTF_8)){\r\n                writeData(staff, out);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Write all employees in an array to a print writer.\r\n         * @param employees an array of employees\r\n         * @param out a print writer\r\n         */\r\n        private static void writeData(Employee[] employees, PrintWriter out) {\r\n            //write number of employee\r\n            out.println(employees.length);\r\n    \r\n            //write every employee\r\n            for (Employee e : employees) {\r\n                writeEmployee(out, e);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Write employee data to a print writer\r\n         * @param out the print writer\r\n         * @param e an employee of employees arrays\r\n         */\r\n        private static void writeEmployee(PrintWriter out, Employee e) {\r\n            out.println(e.getName() + &quot;|&quot; + e.getSalary() + &quot;|&quot; + e.getHireDay());\r\n        }\r\n    }\r\n\r\n","title":"When using java.io.PrintWriter to create a file, can i change the default location of the file?","body":"<p>I'm curious that the location where <code>java.io.PrintWriter</code> creates the file is always in the root directory of my project, I want the generated file to be in my current java module, do I need to specify the absolute path to the file location? Or is it related to the settings of my IDEA?\nHere is the code:</p>\n<pre><code>    package com.study.inputandoutput.textFile;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.nio.charset.StandardCharsets;\nimport java.time.LocalDate;\nimport java.util.Scanner;\n\npublic class TextFileTest {\n    public static void main(String[] args) throws IOException {\n        Employee[] staff = new Employee[3];\n\n        staff[0] = new Employee(&quot;Marry&quot;, 75000, 1993, 8, 22);\n        staff[1] = new Employee(&quot;Jerry&quot;, 50000, 1997, 1, 22);\n        staff[2] = new Employee(&quot;Harry&quot;, 40000, 1996, 7, 17);\n\n        //save all employee records to the file employee.dat\n        try (PrintWriter out = new PrintWriter(&quot;employee.dat&quot;, StandardCharsets.UTF_8)){\n            writeData(staff, out);\n        }\n    }\n\n    /**\n     * Write all employees in an array to a print writer.\n     * @param employees an array of employees\n     * @param out a print writer\n     */\n    private static void writeData(Employee[] employees, PrintWriter out) {\n        //write number of employee\n        out.println(employees.length);\n\n        //write every employee\n        for (Employee e : employees) {\n            writeEmployee(out, e);\n        }\n    }\n\n    /**\n     * Write employee data to a print writer\n     * @param out the print writer\n     * @param e an employee of employees arrays\n     */\n    private static void writeEmployee(PrintWriter out, Employee e) {\n        out.println(e.getName() + &quot;|&quot; + e.getSalary() + &quot;|&quot; + e.getHireDay());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642172689,"creation_date":1642162286,"answer_id":70710369,"question_id":70709990,"body_markdown":"I suggest you to use [viewbinding][1] in kotlin. It will easy your id reference. If you use **viewbinding** than the code will look like this\r\n\r\n    class HomeActivity:AppCompatActivity() {\r\n    \r\n        private lateinit var binding: ActivityHomeBinding\r\n        var questions = ArrayList&lt;QuestionFB&gt;()\r\n        init {\r\n            for(i:Int in 1..10){\r\n                questions.add(QuestionFB(-1,&quot;cse $i&quot;,&quot;krishna $i&quot;,&quot;$i. multiply $i * ${i*i}&quot;,&quot;maths $i&quot;, listOf(&quot;s&quot;,&quot;Sas&quot;)))\r\n            }\r\n        } // for testing\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityHomeBinding.inflate(layoutInflater)\r\n            setContentView(binding.root)\r\n            Log.v(&quot;Question&quot;, questions[0].solution[0])\r\n            binding.mainRvRef.layoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false)\r\n    \r\n            // ABOVE LINE MAKE IT&#39;S SHOWING &quot;mainRvRef can&#39;t be null&quot;\r\n    \r\n            binding.mainRvRef.adapter = MainAdapters(questions,this)\r\n            binding.fabR.setOnClickListener{\r\n                val intent = Intent(this, AskActivity::class.java)\r\n                startActivity(intent)\r\n            }\r\n        }\r\n    }\r\n\r\nchange your id according to the id name\r\n\r\n**UPDATE**\r\n\r\nYou need to add these line in your **build.gradle**\r\n\r\n    buildFeatures {\r\n            viewBinding true\r\n        }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nafter you need to **sync** and **rebuild** your project. And this is your `mainactivity.kt` example\r\n\r\n    package com.example.loginkt\r\n    \r\n    import android.content.Intent\r\n    import android.os.Bundle\r\n    import android.widget.Button\r\n    import android.widget.TextView\r\n    import android.widget.Toast\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import com.example.loginkt.databinding.ActivityMainBinding\r\n    import com.google.firebase.auth.FirebaseAuth\r\n    \r\n    \r\n    lateinit var emailG: String\r\n    lateinit var passG: String\r\n    lateinit var auth: FirebaseAuth\r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        private lateinit var binding: ActivityMainBinding\r\n    \r\n        private fun firebaseLogin(email: String, pass: String) {\r\n            if (email != &quot;&quot; || pass != &quot;&quot;) {\r\n                auth.signInWithEmailAndPassword(email, pass).addOnCompleteListener { task -&gt;\r\n                    if (task.isSuccessful) {\r\n                        getUser()\r\n                        val intent = Intent(this, HomeActivity::class.java)\r\n                        startActivity(intent)\r\n                        finish()\r\n                    }\r\n                }.addOnFailureListener { exception -&gt;\r\n                    Toast.makeText(applicationContext, exception.localizedMessage, Toast.LENGTH_LONG)\r\n                        .show()\r\n                }\r\n            } else {\r\n                Toast.makeText(applicationContext, &quot;Enter all the fields&quot;, Toast.LENGTH_LONG).show()\r\n            }\r\n        }\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            auth = FirebaseAuth.getInstance()\r\n            title = &quot;Login&quot;\r\n            binding = ActivityMainBinding.inflate(layoutInflater)\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(binding.root)\r\n            binding.SupTB.setOnClickListener {\r\n                val intent = Intent(this, RegisterActivity::class.java)\r\n                startActivity(intent)\r\n            }\r\n            binding.loginBtn.setOnClickListener {\r\n                emailG = binding.emailTxt.text.toString()\r\n                passG = binding.passwordTxt.text.toString()\r\n                firebaseLogin(emailG, passG)\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding#setup\r\n  [2]: https://i.stack.imgur.com/vy06S.png","title":"java.lang.NullPointerException: mainRvRef must not be null ,where mainRvRef is referencing a reyclerView","body":"<p>I suggest you to use <a href=\"https://developer.android.com/topic/libraries/view-binding#setup\" rel=\"nofollow noreferrer\">viewbinding</a> in kotlin. It will easy your id reference. If you use <strong>viewbinding</strong> than the code will look like this</p>\n<pre><code>class HomeActivity:AppCompatActivity() {\n\n    private lateinit var binding: ActivityHomeBinding\n    var questions = ArrayList&lt;QuestionFB&gt;()\n    init {\n        for(i:Int in 1..10){\n            questions.add(QuestionFB(-1,&quot;cse $i&quot;,&quot;krishna $i&quot;,&quot;$i. multiply $i * ${i*i}&quot;,&quot;maths $i&quot;, listOf(&quot;s&quot;,&quot;Sas&quot;)))\n        }\n    } // for testing\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityHomeBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n        Log.v(&quot;Question&quot;, questions[0].solution[0])\n        binding.mainRvRef.layoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false)\n\n        // ABOVE LINE MAKE IT'S SHOWING &quot;mainRvRef can't be null&quot;\n\n        binding.mainRvRef.adapter = MainAdapters(questions,this)\n        binding.fabR.setOnClickListener{\n            val intent = Intent(this, AskActivity::class.java)\n            startActivity(intent)\n        }\n    }\n}\n</code></pre>\n<p>change your id according to the id name</p>\n<p><strong>UPDATE</strong></p>\n<p>You need to add these line in your <strong>build.gradle</strong></p>\n<pre><code>buildFeatures {\n        viewBinding true\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vy06S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vy06S.png\" alt=\"enter image description here\" /></a></p>\n<p>after you need to <strong>sync</strong> and <strong>rebuild</strong> your project. And this is your <code>mainactivity.kt</code> example</p>\n<pre><code>package com.example.loginkt\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.TextView\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport com.example.loginkt.databinding.ActivityMainBinding\nimport com.google.firebase.auth.FirebaseAuth\n\n\nlateinit var emailG: String\nlateinit var passG: String\nlateinit var auth: FirebaseAuth\n\nclass MainActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityMainBinding\n\n    private fun firebaseLogin(email: String, pass: String) {\n        if (email != &quot;&quot; || pass != &quot;&quot;) {\n            auth.signInWithEmailAndPassword(email, pass).addOnCompleteListener { task -&gt;\n                if (task.isSuccessful) {\n                    getUser()\n                    val intent = Intent(this, HomeActivity::class.java)\n                    startActivity(intent)\n                    finish()\n                }\n            }.addOnFailureListener { exception -&gt;\n                Toast.makeText(applicationContext, exception.localizedMessage, Toast.LENGTH_LONG)\n                    .show()\n            }\n        } else {\n            Toast.makeText(applicationContext, &quot;Enter all the fields&quot;, Toast.LENGTH_LONG).show()\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        auth = FirebaseAuth.getInstance()\n        title = &quot;Login&quot;\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        super.onCreate(savedInstanceState)\n        setContentView(binding.root)\n        binding.SupTB.setOnClickListener {\n            val intent = Intent(this, RegisterActivity::class.java)\n            startActivity(intent)\n        }\n        binding.loginBtn.setOnClickListener {\n            emailG = binding.emailTxt.text.toString()\n            passG = binding.passwordTxt.text.toString()\n            firebaseLogin(emailG, passG)\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19579451,"reputation":27,"user_id":14328834,"display_name":"krish cyber"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642175329,"creation_date":1642175329,"answer_id":70713175,"question_id":70709990,"body_markdown":"**It&#39;s actually my careless fault ,my dumb, I forget to update my activity_home.xml in v24 :|**\r\n\r\n`mainRvref` is not referencing to anything in layout_v24 xml file, so check all your layout files","title":"java.lang.NullPointerException: mainRvRef must not be null ,where mainRvRef is referencing a reyclerView","body":"<p><strong>It's actually my careless fault ,my dumb, I forget to update my activity_home.xml in v24 :|</strong></p>\n<p><code>mainRvref</code> is not referencing to anything in layout_v24 xml file, so check all your layout files</p>\n"}],"owner":{"account_id":19579451,"reputation":27,"user_id":14328834,"display_name":"krish cyber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1642175329,"creation_date":1642160161,"question_id":70709990,"body_markdown":"I referenced mainRvRef using findViewById,\r\nbut still I am getting the error as it can&#39;t bew null. I don&#39;t think it as a normal NullPointerException , please help me out !\r\n \r\nhere&#39;s my **HomeActivity** class\r\n \r\n```\r\npackage com.example.loginkt\r\n\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton\r\n\r\nclass HomeActivity:AppCompatActivity() {\r\n    var questions = ArrayList&lt;QuestionFB&gt;()\r\n    init {\r\n        for(i:Int in 1..10){\r\n            questions.add(QuestionFB(-1,&quot;cse $i&quot;,&quot;krishna $i&quot;,&quot;$i. multiply $i * ${i*i}&quot;,&quot;maths $i&quot;, listOf(&quot;s&quot;,&quot;Sas&quot;)))\r\n        }\r\n    } // for testing\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_home)\r\n        val fabR = findViewById&lt;FloatingActionButton&gt;(R.id.addQnFab)\r\n        val mainRvRef = findViewById&lt;RecyclerView&gt;(R.id.mainRv)\r\n        Log.v(&quot;Question&quot;, questions[0].solution[0])\r\n        mainRvRef.layoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false)\r\n\r\n        // ABOVE LINE MAKE IT&#39;S SHOWING &quot;mainRvRef can&#39;t be null&quot;\r\n\r\n        mainRvRef.adapter = MainAdapters(questions,this)\r\n        fabR.setOnClickListener{\r\n            val intent = Intent(this, AskActivity::class.java)\r\n            startActivity(intent)\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nand Here&#39;s my **activity_home.xml** :\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/addQnFab&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:backgroundTint=&quot;@color/pBlue_2&quot;\r\n        android:focusable=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:src=&quot;@drawable/add_icons&quot;\r\n        app:maxImageSize=&quot;50dp&quot;\r\n        android:contentDescription=&quot;@string/add_question&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/mainRv&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\nand here&#39;s my **stack trace**\r\n```\r\nV/Question: s\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.loginkt, PID: 7231\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.loginkt/com.example.loginkt.HomeActivity}: java.lang.NullPointerException: mainRvRef must not be null\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.NullPointerException: mainRvRef must not be null\r\n        at com.example.loginkt.HomeActivity.onCreate(HomeActivity.kt:25)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\nI/Process: Sending signal. PID: 7231 SIG: 9\r\n\r\n```\r\n\r\nI don&#39;t know why this error coming as I initialized `mainRvRef` as usual,\r\nand kindly ignore my bad English!","title":"java.lang.NullPointerException: mainRvRef must not be null ,where mainRvRef is referencing a reyclerView","body":"<p>I referenced mainRvRef using findViewById,\nbut still I am getting the error as it can't bew null. I don't think it as a normal NullPointerException , please help me out !</p>\n<p>here's my <strong>HomeActivity</strong> class</p>\n<pre><code>package com.example.loginkt\n\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.util.Log\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.google.android.material.floatingactionbutton.FloatingActionButton\n\nclass HomeActivity:AppCompatActivity() {\n    var questions = ArrayList&lt;QuestionFB&gt;()\n    init {\n        for(i:Int in 1..10){\n            questions.add(QuestionFB(-1,&quot;cse $i&quot;,&quot;krishna $i&quot;,&quot;$i. multiply $i * ${i*i}&quot;,&quot;maths $i&quot;, listOf(&quot;s&quot;,&quot;Sas&quot;)))\n        }\n    } // for testing\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_home)\n        val fabR = findViewById&lt;FloatingActionButton&gt;(R.id.addQnFab)\n        val mainRvRef = findViewById&lt;RecyclerView&gt;(R.id.mainRv)\n        Log.v(&quot;Question&quot;, questions[0].solution[0])\n        mainRvRef.layoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL,false)\n\n        // ABOVE LINE MAKE IT'S SHOWING &quot;mainRvRef can't be null&quot;\n\n        mainRvRef.adapter = MainAdapters(questions,this)\n        fabR.setOnClickListener{\n            val intent = Intent(this, AskActivity::class.java)\n            startActivity(intent)\n        }\n    }\n}\n\n</code></pre>\n<p>and Here's my <strong>activity_home.xml</strong> :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/addQnFab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:clickable=&quot;true&quot;\n        android:backgroundTint=&quot;@color/pBlue_2&quot;\n        android:focusable=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:src=&quot;@drawable/add_icons&quot;\n        app:maxImageSize=&quot;50dp&quot;\n        android:contentDescription=&quot;@string/add_question&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/mainRv&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>and here's my <strong>stack trace</strong></p>\n<pre><code>V/Question: s\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.loginkt, PID: 7231\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.loginkt/com.example.loginkt.HomeActivity}: java.lang.NullPointerException: mainRvRef must not be null\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.NullPointerException: mainRvRef must not be null\n        at com.example.loginkt.HomeActivity.onCreate(HomeActivity.kt:25)\n        at android.app.Activity.performCreate(Activity.java:7802)\n        at android.app.Activity.performCreate(Activity.java:7791)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \nI/Process: Sending signal. PID: 7231 SIG: 9\n\n</code></pre>\n<p>I don't know why this error coming as I initialized <code>mainRvRef</code> as usual,\nand kindly ignore my bad English!</p>\n"},{"tags":["java","eclipse","loops","if-statement","while-loop"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1642165638,"post_id":70711003,"comment_id":125004674,"body_markdown":"I think you misunderstand what `break;` does. It will just break out of the loop, and then your code will continue to run after the loop. It will not quit your program. Having a loop with an unconditional `break;` is kind of pointless and defeats the purpose of a loop, as your loop will never ever actually loop and either not run at all or just break out of the loop in the first iteration.","body":"I think you misunderstand what <code>break;</code> does. It will just break out of the loop, and then your code will continue to run after the loop. It will not quit your program. Having a loop with an unconditional <code>break;</code> is kind of pointless and defeats the purpose of a loop, as your loop will never ever actually loop and either not run at all or just break out of the loop in the first iteration."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1642165651,"post_id":70711003,"comment_id":125004680,"body_markdown":"`break` only jumps out of the loop. Do you mean `return`? Also shouldn&#39;t the `while` loop be an `if`?","body":"<code>break</code> only jumps out of the loop. Do you mean <code>return</code>? Also shouldn&#39;t the <code>while</code> loop be an <code>if</code>?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1642165701,"post_id":70711003,"comment_id":125004702,"body_markdown":"I think you misunderstand what `while` does.","body":"I think you misunderstand what <code>while</code> does."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642165983,"creation_date":1642165983,"answer_id":70711102,"question_id":70711003,"body_markdown":"You are using a loop without a need for it. Also `break` only exits the loop, but continues execution after the loop. Replace the while with an if/else:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Hi there!&quot;);\r\n        String quit = scanner.next();\r\n                \r\n        if(quit.toLowerCase().equals(&quot;quit&quot;)) {\r\n            System.out.println(&quot;You terminated the program&quot;);\r\n        } else {\r\n            System.out.println(&quot;You failed to terminate the program.\\n To quit, type (quit), (Quit), or (QUIT)&quot;);\r\n        }\r\n        scanner.close();\r\n    }\r\n\r\nThis does not prompt for input again which your second output hints at, but neither does your code.","title":"I can&#39;t loop my code whenever condition fails. It just prints both blocks of code if the user input is true","body":"<p>You are using a loop without a need for it. Also <code>break</code> only exits the loop, but continues execution after the loop. Replace the while with an if/else:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Hi there!&quot;);\n    String quit = scanner.next();\n            \n    if(quit.toLowerCase().equals(&quot;quit&quot;)) {\n        System.out.println(&quot;You terminated the program&quot;);\n    } else {\n        System.out.println(&quot;You failed to terminate the program.\\n To quit, type (quit), (Quit), or (QUIT)&quot;);\n    }\n    scanner.close();\n}\n</code></pre>\n<p>This does not prompt for input again which your second output hints at, but neither does your code.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642175306,"creation_date":1642175306,"answer_id":70713171,"question_id":70711003,"body_markdown":"The condition of the loop is to check _while_ `quit` is NOT equal to `&quot;quit&quot;` (regardless of the case), so the message `&quot;You failed to terminate the program...&quot;` should be printed in the loop body until appropriate command is entered.\r\n\r\nAlso, assignment to `quit` may be omitted, and the method `equalsIgnoreCase` is recommended to invoke on the constant/literal value because in general case it helps avoid `NullPointerException`.\r\n\r\n```java\r\nwhile (!&quot;quit&quot;.equalsIgnoreCase(scanner.next())) {\r\n    System.out.println(&quot;You failed to terminate the program.\\n To quit, type (quit), (Quit), or (QUIT)&quot;);\r\n}\r\nSystem.out.println(&quot;You terminated the program&quot;);\r\n```","title":"I can&#39;t loop my code whenever condition fails. It just prints both blocks of code if the user input is true","body":"<p>The condition of the loop is to check <em>while</em> <code>quit</code> is NOT equal to <code>&quot;quit&quot;</code> (regardless of the case), so the message <code>&quot;You failed to terminate the program...&quot;</code> should be printed in the loop body until appropriate command is entered.</p>\n<p>Also, assignment to <code>quit</code> may be omitted, and the method <code>equalsIgnoreCase</code> is recommended to invoke on the constant/literal value because in general case it helps avoid <code>NullPointerException</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!&quot;quit&quot;.equalsIgnoreCase(scanner.next())) {\n    System.out.println(&quot;You failed to terminate the program.\\n To quit, type (quit), (Quit), or (QUIT)&quot;);\n}\nSystem.out.println(&quot;You terminated the program&quot;);\n</code></pre>\n"}],"owner":{"account_id":23489657,"reputation":9,"user_id":17540844,"display_name":"Please help meeee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":70713171,"answer_count":2,"score":-2,"last_activity_date":1642175306,"creation_date":1642165453,"question_id":70711003,"body_markdown":"I am a beginner at java and I want to loop this all over again but I don&#39;t know how. I&#39;ve tried a while loop but it doesn&#39;t work really well and it prints both blocks of code. What should happen is when I type &quot;quit, Quit, or QUIT&quot;, it should terminate. What happens instead is that it also prints the message &quot;failed to terminate the program&quot;. What should I do? I&#39;ve also tried an if statement which works fine but I don&#39;t know how to loop it if the condition fails.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class fortytwo {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t\r\n\t\t    Scanner scanner = new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;Hi there!&quot;);\r\n\t        String quit = scanner.next();\r\n\t\t\t\t \t\r\n\t\t\twhile (quit.equals(&quot;quit&quot;) || quit.equals(&quot;QUIT&quot;) || quit.equals(&quot;Quit&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;You terminated the program&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t} \r\n\t\t\tSystem.out.println(&quot;You failed to terminate the program.\\n To quit, type (quit), (Quit), or (QUIT)&quot;);\r\n\t\t\t\t\r\n\t\t\tscanner.close();\r\n\t    }\r\n    }\r\n","title":"I can&#39;t loop my code whenever condition fails. It just prints both blocks of code if the user input is true","body":"<p>I am a beginner at java and I want to loop this all over again but I don't know how. I've tried a while loop but it doesn't work really well and it prints both blocks of code. What should happen is when I type &quot;quit, Quit, or QUIT&quot;, it should terminate. What happens instead is that it also prints the message &quot;failed to terminate the program&quot;. What should I do? I've also tried an if statement which works fine but I don't know how to loop it if the condition fails.</p>\n<pre><code>import java.util.Scanner;\n\npublic class fortytwo {\n\n    public static void main(String[] args) {\n    \n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Hi there!&quot;);\n        String quit = scanner.next();\n                \n        while (quit.equals(&quot;quit&quot;) || quit.equals(&quot;QUIT&quot;) || quit.equals(&quot;Quit&quot;)) {\n            System.out.println(&quot;You terminated the program&quot;);\n            break;\n        } \n        System.out.println(&quot;You failed to terminate the program.\\n To quit, type (quit), (Quit), or (QUIT)&quot;);\n            \n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","protocols","ntp"],"comments":[{"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"score":0,"creation_date":1642145681,"post_id":70705097,"comment_id":124998049,"body_markdown":"Just search for &quot;[java] ntp&quot; on SO: https://stackoverflow.com/search?q=%5Bjava%5D+ntp, eg. https://stackoverflow.com/questions/38711730/how-can-i-access-ntp-clock-in-java/39309568","body":"Just search for &quot;[java] ntp&quot; on SO: <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+ntp\">stackoverflow.com/search?q=%5Bjava%5D+ntp</a>, eg. <a href=\"https://stackoverflow.com/questions/38711730/how-can-i-access-ntp-clock-in-java/39309568\" title=\"how can i access ntp clock in java\">stackoverflow.com/questions/38711730/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642175095,"creation_date":1642145368,"answer_id":70707293,"question_id":70705097,"body_markdown":"TCP (and UDP) port 37, which you are connecting to, is used for the `TIME` protocol (RFC [868](https://datatracker.ietf.org/doc/html/rfc868)). In this protocol, times are sent as a single binary 32bit integer in network byte order.\r\n\r\nUDP port 123 is used for the `NTP` protocol (RFCs [1059](https://datatracker.ietf.org/doc/html/rfc1059), [1119](https://datatracker.ietf.org/doc/html/rfc1119), [1305](https://datatracker.ietf.org/doc/html/rfc1305), [5905](https://datatracker.ietf.org/doc/html/rfc5905)). In this protocol, times are sent as a series of binary messages.\r\n\r\nYou can&#39;t read either type of data as text with `BufferedReader.ReadLine()`.","title":"Java HTTP client getting time from NTP server","body":"<p>TCP (and UDP) port 37, which you are connecting to, is used for the <code>TIME</code> protocol (RFC <a href=\"https://datatracker.ietf.org/doc/html/rfc868\" rel=\"nofollow noreferrer\">868</a>). In this protocol, times are sent as a single binary 32bit integer in network byte order.</p>\n<p>UDP port 123 is used for the <code>NTP</code> protocol (RFCs <a href=\"https://datatracker.ietf.org/doc/html/rfc1059\" rel=\"nofollow noreferrer\">1059</a>, <a href=\"https://datatracker.ietf.org/doc/html/rfc1119\" rel=\"nofollow noreferrer\">1119</a>, <a href=\"https://datatracker.ietf.org/doc/html/rfc1305\" rel=\"nofollow noreferrer\">1305</a>, <a href=\"https://datatracker.ietf.org/doc/html/rfc5905\" rel=\"nofollow noreferrer\">5905</a>). In this protocol, times are sent as a series of binary messages.</p>\n<p>You can't read either type of data as text with <code>BufferedReader.ReadLine()</code>.</p>\n"}],"owner":{"account_id":19501884,"reputation":17,"user_id":14267749,"display_name":"Anonymous_programmer2458"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642145937,"accepted_answer_id":70707293,"answer_count":1,"score":-1,"last_activity_date":1642175095,"creation_date":1642123998,"question_id":70705097,"body_markdown":"I&#39;m trying to write an HTTP client, and I need to get the time from an NTP server I found here: https://tf.nist.gov/tf-cgi/servers.cgi\r\n\r\nThis is my Java code:\r\n\n```java\r\nString getTime(){\r\n    String time = &quot;&quot;;\r\n    try{\r\n        Socket timeSocket = new Socket(&quot;time-a-g.nist.gov&quot;,37);\r\n        BufferedReader timeIn = new BufferedReader(new InputStreamReader(timeSocket.getInputStream()));\r\n        time = timeIn.readLine();\r\n        timeSocket.close();\r\n        timeIn.close();\r\n    }\r\n    catch(IOException e){\r\n        e.printStackTrace();\r\n    }\r\n    return time;\r\n}\r\n```\r\n\nI&#39;m not getting any errors, but the string I&#39;m getting back is null, can anyone help?","title":"Java HTTP client getting time from NTP server","body":"<p>I'm trying to write an HTTP client, and I need to get the time from an NTP server I found here: <a href=\"https://tf.nist.gov/tf-cgi/servers.cgi\" rel=\"nofollow noreferrer\">https://tf.nist.gov/tf-cgi/servers.cgi</a></p>\n<p>This is my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String getTime(){\n    String time = &quot;&quot;;\n    try{\n        Socket timeSocket = new Socket(&quot;time-a-g.nist.gov&quot;,37);\n        BufferedReader timeIn = new BufferedReader(new InputStreamReader(timeSocket.getInputStream()));\n        time = timeIn.readLine();\n        timeSocket.close();\n        timeIn.close();\n    }\n    catch(IOException e){\n        e.printStackTrace();\n    }\n    return time;\n}\n</code></pre>\n<p>I'm not getting any errors, but the string I'm getting back is null, can anyone help?</p>\n"},{"tags":["java","android","notifications","icons","action"],"answers":[{"tags":[],"owner":{"account_id":5022597,"reputation":1035,"user_id":4035641,"display_name":"Ashik"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1523948112,"creation_date":1523948112,"answer_id":49871681,"question_id":49871177,"body_markdown":"Use NotificationCompat.Action instead. And set 0 as the value for icon\r\n\r\n    NotificationCompat.Action action =\r\n                new NotificationCompat.Action.Builder(\r\n                        0, &quot;action test&quot;, pi\r\n                ).build();\r\n\r\n    NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, channelId)\r\n                .setSmallIcon(R.drawable.schedule)\r\n                .addAction(action)\r\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(body))\r\n                .setContentTitle(title)\r\n                .setContentText(body);\r\n\r\nWorked all the devices as far I have tested","title":"NotificationCompat - how to add action without icon?","body":"<p>Use NotificationCompat.Action instead. And set 0 as the value for icon</p>\n\n<pre><code>NotificationCompat.Action action =\n            new NotificationCompat.Action.Builder(\n                    0, \"action test\", pi\n            ).build();\n\nNotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, channelId)\n            .setSmallIcon(R.drawable.schedule)\n            .addAction(action)\n            .setStyle(new NotificationCompat.BigTextStyle().bigText(body))\n            .setContentTitle(title)\n            .setContentText(body);\n</code></pre>\n\n<p>Worked all the devices as far I have tested</p>\n"}],"owner":{"account_id":239809,"reputation":7564,"user_id":1209216,"accept_rate":52,"display_name":"user1209216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8361,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":49871681,"answer_count":1,"score":10,"last_activity_date":1642174959,"creation_date":1523946101,"question_id":49871177,"body_markdown":"    NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, channelId)\r\n                    .setSmallIcon(R.drawable.schedule)\r\n                    .addAction(R.drawable.icon,&quot;action test&quot;,pi)\r\n                    .setStyle(new NotificationCompat.BigTextStyle().bigText(body))\r\n                    .setContentTitle(title)\r\n                    .setContentText(body);\r\n\r\nAbove code creates notification and adds one action (button) to it. I want my button to be without icon displayed, but I don&#39;t know how to do that, because `icon` in parameter `addAction`  is required and not nullable.\r\n\r\nIs it even possible to add action button to notification without any icon (btw, icons on action buttons seems to be not even shown on Nougat an Oreo).","title":"NotificationCompat - how to add action without icon?","body":"<pre><code>NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, channelId)\n                .setSmallIcon(R.drawable.schedule)\n                .addAction(R.drawable.icon,\"action test\",pi)\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(body))\n                .setContentTitle(title)\n                .setContentText(body);\n</code></pre>\n\n<p>Above code creates notification and adds one action (button) to it. I want my button to be without icon displayed, but I don't know how to do that, because <code>icon</code> in parameter <code>addAction</code>  is required and not nullable.</p>\n\n<p>Is it even possible to add action button to notification without any icon (btw, icons on action buttons seems to be not even shown on Nougat an Oreo).</p>\n"},{"tags":["netbeans","java-8","java","java-6"],"comments":[{"owner":{"account_id":3801676,"reputation":2535,"user_id":3155154,"accept_rate":88,"display_name":"Nitek"},"score":5,"creation_date":1447707430,"post_id":33744455,"comment_id":55257349,"body_markdown":"You have the JRE installed, but you (also) need the JDK","body":"You have the JRE installed, but you (also) need the JDK"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1447708765,"post_id":33744455,"comment_id":55258055,"body_markdown":"To quickly check if you have a JDK, try `javac -version` - the Java compiler is part of the JDK, not part of the JRE.","body":"To quickly check if you have a JDK, try <code>javac -version</code> - the Java compiler is part of the JDK, not part of the JRE."},{"owner":{"account_id":7161995,"reputation":489,"user_id":5472467,"display_name":"Claudio Vasconcelos"},"score":0,"creation_date":1447710635,"post_id":33744455,"comment_id":55259011,"body_markdown":"Added that command result to the question","body":"Added that command result to the question"},{"owner":{"account_id":4303461,"reputation":6948,"user_id":5171540,"display_name":"WillShackleford"},"score":3,"creation_date":1447713566,"post_id":33744455,"comment_id":55260337,"body_markdown":"check the file etc/netbeans.conf under where you installed netbeans and find the line that starts with `netbeans_jdkhome=` Is that pointing to the correct JDK directory?","body":"check the file etc/netbeans.conf under where you installed netbeans and find the line that starts with <code>netbeans_jdkhome=</code> Is that pointing to the correct JDK directory?"},{"owner":{"account_id":7161995,"reputation":489,"user_id":5472467,"display_name":"Claudio Vasconcelos"},"score":0,"creation_date":1447785229,"post_id":33744455,"comment_id":55296549,"body_markdown":"It was probably that. I uninstalled and installed the netbeans that comes with JDK and it worked... thanks anyway","body":"It was probably that. I uninstalled and installed the netbeans that comes with JDK and it worked... thanks anyway"}],"answers":[{"tags":[],"owner":{"account_id":5452650,"reputation":1006,"user_id":4337004,"display_name":"typhon"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1543573129,"creation_date":1458543663,"answer_id":36124878,"question_id":33744455,"body_markdown":"Find the file `[netbeans installation directory]/etc/netbeans.conf`\r\n\r\nLuckily, Linux has a `find` helper like\r\n`find /home/ -name &quot;netbeans.conf`,\r\nin which you can change the `/home/` to a location where you want to search.\r\n\r\nI found it at `/usr/local/netbeans-8.1/etc/netbeans.conf`\r\n\r\nOnce, you found the file, the following property needs to be set: \r\n\r\n    netbeans_jdkhome=&quot;[jdk_path]&quot;\r\n\r\nwhere you can find the **jdk_path** using:\r\n \r\n    update-alternatives --config java\r\n\r\nIn my case, I found it at `/opt/java/jdk1.8.0_191`","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>Find the file <code>[netbeans installation directory]/etc/netbeans.conf</code></p>\n\n<p>Luckily, Linux has a <code>find</code> helper like\n<code>find /home/ -name \"netbeans.conf</code>,\nin which you can change the <code>/home/</code> to a location where you want to search.</p>\n\n<p>I found it at <code>/usr/local/netbeans-8.1/etc/netbeans.conf</code></p>\n\n<p>Once, you found the file, the following property needs to be set: </p>\n\n<pre><code>netbeans_jdkhome=\"[jdk_path]\"\n</code></pre>\n\n<p>where you can find the <strong>jdk_path</strong> using:</p>\n\n<pre><code>update-alternatives --config java\n</code></pre>\n\n<p>In my case, I found it at <code>/opt/java/jdk1.8.0_191</code></p>\n"},{"tags":[],"owner":{"account_id":4770033,"reputation":1,"user_id":3855044,"display_name":"lfjaramillos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481081603,"creation_date":1481081603,"answer_id":41008955,"question_id":33744455,"body_markdown":"This worked for me \r\n \r\n    1. install full JDK\r\n    2. either edit &lt;netbeans-IDE-installation&gt;/etc/netbeans.conf\r\n        2.1 unmark netbeans_jdkhome\r\n        2.2 link to JDK location e.g. /usr/local/share/java/jdk1.6.0_07/ \r\n    3. or use --jdkhome command-line option e.g. ./bin/netbeans --jdkhome /usr/local/share/java/jdk1.6.0_07/ \r\n\r\ntake care with the &quot;/&quot; at the end\r\n\r\nMore info in http://wiki.netbeans.org/FaqRunningOnJre\r\n","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>This worked for me </p>\n\n<pre><code>1. install full JDK\n2. either edit &lt;netbeans-IDE-installation&gt;/etc/netbeans.conf\n    2.1 unmark netbeans_jdkhome\n    2.2 link to JDK location e.g. /usr/local/share/java/jdk1.6.0_07/ \n3. or use --jdkhome command-line option e.g. ./bin/netbeans --jdkhome /usr/local/share/java/jdk1.6.0_07/ \n</code></pre>\n\n<p>take care with the \"/\" at the end</p>\n\n<p>More info in <a href=\"http://wiki.netbeans.org/FaqRunningOnJre\" rel=\"nofollow noreferrer\">http://wiki.netbeans.org/FaqRunningOnJre</a></p>\n"},{"tags":[],"owner":{"account_id":268074,"reputation":429,"user_id":556619,"display_name":"rmcghee"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1486613922,"creation_date":1486613179,"answer_id":42128022,"question_id":33744455,"body_markdown":"[Solved] For Mac OSX 10.11 (El Capitan).\r\nSolution may be similar for other Unix-based systems.\r\n\r\nThe problem may have occurred because I inadvertently installed the jre\r\nprior to installing the jdk.  I uninstalled the jre, installed the jdk\r\nand reinstalled NetBeans but the problem (popup window) remained.\r\nHowever, the fix was fairly simple.\r\n\r\n&lt;pre&gt;\r\n1. Make sure NetBeans is not running.\r\n\r\n2. Make sure the jdk is installed.\r\n\r\n3. Determine the location of the jdk:\r\nThe jdk location can be determined by entering the following (in Terminal):\r\n\r\n$ /usr/libexec/java_home\r\n\r\nFor my system, the output was:\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home\r\n\r\n4. Edit the NetBeans configuration file to indicate the location of the jdk.\r\nNear the bottom of this Netbeans configuration file (or equivalent for your NetBeans version):\r\n/Applications/NetBeans/NetBeans 8.2.app/Contents/Resources/NetBeans/etc/netbeans.conf\r\nComment out the following line (insert a # before the first character):\r\n\r\n#netbeans_jdkhome=&quot;/Applications/NetBeans/NetBeans 8.2.app/Contents/Resources/NetBeans/bin/jre&quot;\r\n\r\nThen, add the following line (or equivalent for your jdk version):\r\n\r\nnetbeans_jkdhome=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home&quot;\r\n\r\nThen, save and exit the editor.\r\n\r\n5. Start NetBeans (no more popup window indicating that the jdk is missing).\r\n&lt;/pre&gt;","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>[Solved] For Mac OSX 10.11 (El Capitan).\nSolution may be similar for other Unix-based systems.</p>\n\n<p>The problem may have occurred because I inadvertently installed the jre\nprior to installing the jdk.  I uninstalled the jre, installed the jdk\nand reinstalled NetBeans but the problem (popup window) remained.\nHowever, the fix was fairly simple.</p>\n\n<pre>\n1. Make sure NetBeans is not running.\n\n2. Make sure the jdk is installed.\n\n3. Determine the location of the jdk:\nThe jdk location can be determined by entering the following (in Terminal):\n\n$ /usr/libexec/java_home\n\nFor my system, the output was:\n/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home\n\n4. Edit the NetBeans configuration file to indicate the location of the jdk.\nNear the bottom of this Netbeans configuration file (or equivalent for your NetBeans version):\n/Applications/NetBeans/NetBeans 8.2.app/Contents/Resources/NetBeans/etc/netbeans.conf\nComment out the following line (insert a # before the first character):\n\n#netbeans_jdkhome=\"/Applications/NetBeans/NetBeans 8.2.app/Contents/Resources/NetBeans/bin/jre\"\n\nThen, add the following line (or equivalent for your jdk version):\n\nnetbeans_jkdhome=\"/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home\"\n\nThen, save and exit the editor.\n\n5. Start NetBeans (no more popup window indicating that the jdk is missing).\n</pre>\n"},{"tags":[],"owner":{"account_id":6244817,"reputation":337,"user_id":4857156,"display_name":"Norman Pilusa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505096437,"creation_date":1505095058,"answer_id":46147238,"question_id":33744455,"body_markdown":"Ubuntu 16.04 LTS:\r\n\r\n1. Uninstall the netbeans you have.\r\n2. Delete `.cache/netbeans` folder\r\n3. Download http://www.oracle.com/technetwork/java/javase/downloads/jdk-netbeans-jsp-142931.html \r\n4. Install your download","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>Ubuntu 16.04 LTS:</p>\n\n<ol>\n<li>Uninstall the netbeans you have.</li>\n<li>Delete <code>.cache/netbeans</code> folder</li>\n<li>Download <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk-netbeans-jsp-142931.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk-netbeans-jsp-142931.html</a> </li>\n<li>Install your download</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5394412,"reputation":1,"user_id":4297532,"display_name":"Ramin Axundbeyli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509886942,"creation_date":1509886942,"answer_id":47121861,"question_id":33744455,"body_markdown":"I have this problem to. But now i resolove this problem with edit one line.\r\n\r\n1. Find and open this file &lt;netbeans-IDE-installation&gt;/etc/**netbeans.conf**\r\n2. If you see **netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jre1.8.0_151&quot;** replace **netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.8.0_131&quot;**\r\n3. Save as adminstrator\r\n\r\nProblem reseloved","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>I have this problem to. But now i resolove this problem with edit one line.</p>\n\n<ol>\n<li>Find and open this file /etc/<strong>netbeans.conf</strong></li>\n<li>If you see <strong>netbeans_jdkhome=\"C:\\Program Files\\Java\\jre1.8.0_151\"</strong> replace <strong>netbeans_jdkhome=\"C:\\Program Files\\Java\\jdk1.8.0_131\"</strong></li>\n<li>Save as adminstrator</li>\n</ol>\n\n<p>Problem reseloved</p>\n"},{"tags":[],"owner":{"account_id":9976918,"reputation":31,"user_id":7381187,"display_name":"smiley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510469466,"creation_date":1510469466,"answer_id":47246258,"question_id":33744455,"body_markdown":"1. Open netbeans.conf\r\n\r\n`sudo nano &quot;/usr/lib/jvm/java-8-oracle/netbeans.conf`&quot;\r\n\r\n2. Set proper sdk path:\r\n\r\n&gt; netbeans_jdkhome=&quot;/usr/lib/jvm/java-8-oracle&quot;\r\n\r\n3. Exit &lt;KBD&gt;Ctrl&lt;/KBD&gt; + &lt;KBD&gt;X&lt;/KBD&gt; and to save changes &lt;KBD&gt;Ctrl&lt;/KBD&gt; + &lt;KBD&gt;T&lt;/KBD&gt;","title":"The JDK is missing and is required to run some NetBeans modules","body":"<ol>\n<li>Open netbeans.conf</li>\n</ol>\n\n<p><code>sudo nano \"/usr/lib/jvm/java-8-oracle/netbeans.conf</code>\"</p>\n\n<ol start=\"2\">\n<li>Set proper sdk path:</li>\n</ol>\n\n<blockquote>\n  <p>netbeans_jdkhome=\"/usr/lib/jvm/java-8-oracle\"</p>\n</blockquote>\n\n<ol start=\"3\">\n<li>Exit <KBD>Ctrl</KBD> + <KBD>X</KBD> and to save changes <KBD>Ctrl</KBD> + <KBD>T</KBD></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12501516,"reputation":31,"user_id":9099849,"display_name":"Edward Bustamante"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513272857,"creation_date":1513267376,"answer_id":47817578,"question_id":33744455,"body_markdown":"When netbeans has problems trying to find the path of the jdk, it&#39;s mainly because the version of the jdk does not match.  Open the file C:\\Program Files\\NetBeans 8.2\\etc\\netbeans.conf, and verify that netbeans_jdkhome = &quot;C:\\Program Files\\Java\\jdk1.8.0_111&quot;.","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>When netbeans has problems trying to find the path of the jdk, it's mainly because the version of the jdk does not match.  Open the file C:\\Program Files\\NetBeans 8.2\\etc\\netbeans.conf, and verify that netbeans_jdkhome = \"C:\\Program Files\\Java\\jdk1.8.0_111\".</p>\n"},{"tags":[],"owner":{"account_id":1354633,"reputation":1040,"user_id":1293303,"accept_rate":100,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556791154,"creation_date":1556791154,"answer_id":55949958,"question_id":33744455,"body_markdown":"In mid April 2019, Oracle has changed the JDK&#39;s licence. However, I was still able to solve this issue with NetBeans 11 and the JDK 12&#39;s open source build on my Windows machine. Just downloaded the open source JDK from https://jdk.java.net/ and extracted it. Then, in my NetBeans config file, I typed in the path to the extracted directory (NOT the &quot;bin&quot; folder!).","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>In mid April 2019, Oracle has changed the JDK's licence. However, I was still able to solve this issue with NetBeans 11 and the JDK 12's open source build on my Windows machine. Just downloaded the open source JDK from <a href=\"https://jdk.java.net/\" rel=\"nofollow noreferrer\">https://jdk.java.net/</a> and extracted it. Then, in my NetBeans config file, I typed in the path to the extracted directory (NOT the \"bin\" folder!).</p>\n"},{"tags":[],"owner":{"account_id":18691802,"reputation":1,"user_id":13625967,"display_name":"alexandre DAOUDAABASSI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591383465,"creation_date":1591379239,"answer_id":62221340,"question_id":33744455,"body_markdown":"I resolved this problem by changing default version of JRE and JDK that I&#39;m using to 11.x.x with following commands:\r\n\r\n    sudo update-alternatives --config java\r\n    sudo update-alternatives --config javac\r\n","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>I resolved this problem by changing default version of JRE and JDK that I'm using to 11.x.x with following commands:</p>\n\n<pre><code>sudo update-alternatives --config java\nsudo update-alternatives --config javac\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233765,"reputation":203,"user_id":499481,"accept_rate":69,"display_name":"rob345"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642174780,"creation_date":1642174780,"answer_id":70713068,"question_id":33744455,"body_markdown":"This error showed up when I updated the Mac to Mojave.  To fix, I edited the netbeans.conf file with the current jdk by using Terminal to find the correct jdk. Type \r\n**/usr/libexec/java_home -V**\r\n\r\nHere was my output.\r\n\r\n    Matching Java Virtual Machines (4):\r\n        1.8.311.11 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n        1.8.0_131 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home\r\n        1.8.0_25 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home\r\n        1.7.0_79 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 7&quot; /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\nEntering the first jdk listed did not work.\r\nI edited the conf file with the second one listed:\r\n**netbeans_jdkhome=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home&quot;**\r\n\r\nRestarted Netbeans. That fixed it.\r\n\r\n","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>This error showed up when I updated the Mac to Mojave.  To fix, I edited the netbeans.conf file with the current jdk by using Terminal to find the correct jdk. Type\n<strong>/usr/libexec/java_home -V</strong></p>\n<p>Here was my output.</p>\n<pre><code>Matching Java Virtual Machines (4):\n    1.8.311.11 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_131 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home\n    1.8.0_25 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home\n    1.7.0_79 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 7&quot; /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n<p>Entering the first jdk listed did not work.\nI edited the conf file with the second one listed:\n<strong>netbeans_jdkhome=&quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home&quot;</strong></p>\n<p>Restarted Netbeans. That fixed it.</p>\n"}],"owner":{"account_id":7161995,"reputation":489,"user_id":5472467,"display_name":"Claudio Vasconcelos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95450,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":10,"score":49,"last_activity_date":1642174780,"creation_date":1447707324,"question_id":33744455,"body_markdown":"Complete error message:\r\nThe JDK is missing and is required to run some NetBeans modules \r\nPlease use the --jdkhome command line option to specify a JDK installation or see http://wiki.netbeans.org/FaqRunningOnJre for more information.\r\n\r\nSome details: I just installed Netbeans on Linux mint for the first time and when I start it when its turning on modules this error message appears. But I do have jdk installed. \r\n\r\n$ java -version   \r\n\r\n    java version &quot;1.8.0_66&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_66-b17)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.66-b17, mixed mode)\r\n\r\n$ javac -version\r\n\r\n    javac 1.8.0_66\r\n\r\n\r\n","title":"The JDK is missing and is required to run some NetBeans modules","body":"<p>Complete error message:\nThe JDK is missing and is required to run some NetBeans modules \nPlease use the --jdkhome command line option to specify a JDK installation or see <a href=\"http://wiki.netbeans.org/FaqRunningOnJre\">http://wiki.netbeans.org/FaqRunningOnJre</a> for more information.</p>\n\n<p>Some details: I just installed Netbeans on Linux mint for the first time and when I start it when its turning on modules this error message appears. But I do have jdk installed. </p>\n\n<p>$ java -version   </p>\n\n<pre><code>java version \"1.8.0_66\"\nJava(TM) SE Runtime Environment (build 1.8.0_66-b17)\nJava HotSpot(TM) 64-Bit Server VM (build 25.66-b17, mixed mode)\n</code></pre>\n\n<p>$ javac -version</p>\n\n<pre><code>javac 1.8.0_66\n</code></pre>\n"},{"tags":["java","oracle","eclipse","jdb"],"comments":[{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":2,"creation_date":1641923818,"post_id":70669936,"comment_id":124933123,"body_markdown":"Please edit your question to include the full text of the error message you&#39;re getting. Thanks.","body":"Please edit your question to include the full text of the error message you&#39;re getting. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":19445876,"reputation":15,"user_id":14223420,"display_name":"A_Name"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642174305,"creation_date":1642174305,"answer_id":70712961,"question_id":70669936,"body_markdown":"Turns out that the old ojdbc was also in referenced libraries, so I needed to remove it from there to get it to work. Just replacing it on the build path wasn&#39;t enough. ","title":"Eclipse Project ORA-28040 Exception Despite Updated OJDBC","body":"<p>Turns out that the old ojdbc was also in referenced libraries, so I needed to remove it from there to get it to work. Just replacing it on the build path wasn't enough.</p>\n"}],"owner":{"account_id":19445876,"reputation":15,"user_id":14223420,"display_name":"A_Name"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642174305,"creation_date":1641917534,"question_id":70669936,"body_markdown":"I joined a new project and I am working on it through Eclipse. For reference, the server is running on Oracle 19c, and is being managed by a different team. \r\n\r\nI tried putting the project onto my Tomcat server and connecting to it, but it gives me an ORA-28040 exception. Here&#39;s the exact exception message:\r\n\r\n```\r\n2022/1/11 11:08:45.847\t[TRACE]\tcom.nuorbit.persistence.DBConnection\tOpening DriverManager connection\r\n2022/1/11 11:08:46.402\t[TRACE]\tcom.nuorbit.persistence.DBConnection\tOpening DriverManager connection\r\n2022/1/11 11:08:46.946\t[ERROR]\tcom.nuorbit.utils.Errors\tjava.sql.SQLException: ORA-28040: No matching authentication protocol\r\n\r\njava.sql.SQLException: ORA-28040: No matching authentication protocol\r\n\r\n\tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:283)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:278)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.receiveOsesskey(T4CTTIoauthenticate.java:294)\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:357)\r\n\tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\r\n\tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n\tat com.nuorbit.persistence.DBConnection.getConnectionByDriverManager(DBConnection.java:113)\r\n\tat com.nuorbit.persistence.DBConnection.getConnection(DBConnection.java:77)\r\n\tat com.nuorbit.persistence.DBConnection.getConnection(DBConnection.java:65)\r\n\tat com.nuorbit.utils.Settings.getSetting(Settings.java:116)\r\n\tat com.nuorbit.servlet.Startup.init(Startup.java:22)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1152)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1097)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:990)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4952)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5266)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1427)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1417)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nI looked around for what might be causing that, and came across two common answers: replacing my ojdbc jar file, or changing the server&#39;s sqlnet.ora file by adding the following snipet: \r\n\r\n```\r\nSQLNET.ALLOWED_LOGON_VERSION=10\r\nSQLNET.ALLOWED_LOGON_VERSION_CLIENT=10\r\nSQLNET.ALLOWED_LOGON_VERSION_SERVER=10\r\n```\r\nSince the server is not under my control, I tried to do the former. I went into the build path, and replaced ojdbc14.jar with ojdbc8-19.3.0.0.jar. However, this still results in the same error, so I am not sure what I am doing wrong. \r\n\r\n[![ojdbc8.jar within the build path. Shouldn&#39;t this work?][1]][1]\r\n\r\nFor reference, I am able to connect to the server using SQL Developer, as well as using Database Connection in the Data Source Explorer in Eclipse, so it seems like it&#39;s something wrong with my project specifically. \r\n\r\nLet me know if there&#39;s anything I can clarify.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UmTeK.png","title":"Eclipse Project ORA-28040 Exception Despite Updated OJDBC","body":"<p>I joined a new project and I am working on it through Eclipse. For reference, the server is running on Oracle 19c, and is being managed by a different team.</p>\n<p>I tried putting the project onto my Tomcat server and connecting to it, but it gives me an ORA-28040 exception. Here's the exact exception message:</p>\n<pre><code>2022/1/11 11:08:45.847  [TRACE] com.nuorbit.persistence.DBConnection    Opening DriverManager connection\n2022/1/11 11:08:46.402  [TRACE] com.nuorbit.persistence.DBConnection    Opening DriverManager connection\n2022/1/11 11:08:46.946  [ERROR] com.nuorbit.utils.Errors    java.sql.SQLException: ORA-28040: No matching authentication protocol\n\njava.sql.SQLException: ORA-28040: No matching authentication protocol\n\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:283)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:278)\n    at oracle.jdbc.driver.T4CTTIoauthenticate.receiveOsesskey(T4CTTIoauthenticate.java:294)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:357)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n    at com.nuorbit.persistence.DBConnection.getConnectionByDriverManager(DBConnection.java:113)\n    at com.nuorbit.persistence.DBConnection.getConnection(DBConnection.java:77)\n    at com.nuorbit.persistence.DBConnection.getConnection(DBConnection.java:65)\n    at com.nuorbit.utils.Settings.getSetting(Settings.java:116)\n    at com.nuorbit.servlet.Startup.init(Startup.java:22)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1152)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1097)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:990)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4952)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5266)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1427)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1417)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>I looked around for what might be causing that, and came across two common answers: replacing my ojdbc jar file, or changing the server's sqlnet.ora file by adding the following snipet:</p>\n<pre><code>SQLNET.ALLOWED_LOGON_VERSION=10\nSQLNET.ALLOWED_LOGON_VERSION_CLIENT=10\nSQLNET.ALLOWED_LOGON_VERSION_SERVER=10\n</code></pre>\n<p>Since the server is not under my control, I tried to do the former. I went into the build path, and replaced ojdbc14.jar with ojdbc8-19.3.0.0.jar. However, this still results in the same error, so I am not sure what I am doing wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/UmTeK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UmTeK.png\" alt=\"ojdbc8.jar within the build path. Shouldn't this work?\" /></a></p>\n<p>For reference, I am able to connect to the server using SQL Developer, as well as using Database Connection in the Data Source Explorer in Eclipse, so it seems like it's something wrong with my project specifically.</p>\n<p>Let me know if there's anything I can clarify.</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":2,"creation_date":1642172969,"post_id":70712582,"comment_id":125007591,"body_markdown":"What is a &quot;common element&quot;? Is it one which appears in all three arrays? Or is it one which appears in any two of these arrays? When the latter, do you need to know in which two arrays this &quot;common element&quot; occurs or do you only need to know the duplicates?","body":"What is a &quot;common element&quot;? Is it one which appears in all three arrays? Or is it one which appears in any two of these arrays? When the latter, do you need to know in which two arrays this &quot;common element&quot; occurs or do you only need to know the duplicates?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1642173108,"post_id":70712582,"comment_id":125007648,"body_markdown":"Does this answer your question? [How do I get the intersection between two arrays as a new array?](https://stackoverflow.com/questions/13270491/how-do-i-get-the-intersection-between-two-arrays-as-a-new-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13270491/how-do-i-get-the-intersection-between-two-arrays-as-a-new-array\">How do I get the intersection between two arrays as a new array?</a>"},{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":0,"creation_date":1642173182,"post_id":70712582,"comment_id":125007684,"body_markdown":"@SharonBenAsher It likely won&#39;t, because the question here is about 3 arrays. Adapting the answers from that question to more than two arrays isn&#39;t trivial.","body":"@SharonBenAsher It likely won&#39;t, because the question here is about 3 arrays. Adapting the answers from that question to more than two arrays isn&#39;t trivial."}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642173871,"creation_date":1642172663,"answer_id":70712602,"question_id":70712582,"body_markdown":"**Assuming the arrays are having unique elements in themself (no duplicates in an array)**\r\n\r\nYou can use some data structure like **HashMap** to push all elements of the arrays as keys, and values as their count of occurrences to find common elements if the value is 3 :\r\n\r\n    private ArrayList&lt;Integer&gt; commonElements() {\r\n    \t\tint a[] = {1,3,7,6};\r\n    \t\tint b[] = {2,5,0,4};\r\n    \t\tint c[] = {11,23,71,6};\r\n    \t\t\r\n    \t\tHashMap&lt;Integer, Integer&gt; elementCunt = new HashMap&lt;&gt;();\r\n    \t\t\r\n    \t\tfor(int element: a) {\r\n    \t\t\tif(elementCunt.containsKey(element)) {\r\n    \t\t\t\telementCunt.put(element, elementCunt.get(element) + 1);\r\n    \t\t\t} else {\r\n    \t\t\t\telementCunt.put(element, 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int element: b) {\r\n    \t\t\tif(elementCunt.containsKey(element)) {\r\n    \t\t\t\telementCunt.put(element, elementCunt.get(element) + 1);\r\n    \t\t\t} else {\r\n    \t\t\t\telementCunt.put(element, 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int element: c) {\r\n    \t\t\tif(elementCunt.containsKey(element)) {\r\n    \t\t\t\telementCunt.put(element, elementCunt.get(element) + 1);\r\n    \t\t\t} else {\r\n    \t\t\t\telementCunt.put(element, 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tIterator&lt;Integer&gt; itr = elementCunt.keySet().iterator();\r\n    \t\t\r\n    \t\tArrayList&lt;Integer&gt; commonElements = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\twhile(itr.hasNext()) {\r\n    \t\t\tint key = itr.next();\r\n    \t\t\tif(elementCunt.get(key) == 3) {\r\n    \t\t\t\tcommonElements.add(key);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn commonElements;\r\n    \t}","title":"How to get common elements from three array list optimally?","body":"<p><strong>Assuming the arrays are having unique elements in themself (no duplicates in an array)</strong></p>\n<p>You can use some data structure like <strong>HashMap</strong> to push all elements of the arrays as keys, and values as their count of occurrences to find common elements if the value is 3 :</p>\n<pre><code>private ArrayList&lt;Integer&gt; commonElements() {\n        int a[] = {1,3,7,6};\n        int b[] = {2,5,0,4};\n        int c[] = {11,23,71,6};\n        \n        HashMap&lt;Integer, Integer&gt; elementCunt = new HashMap&lt;&gt;();\n        \n        for(int element: a) {\n            if(elementCunt.containsKey(element)) {\n                elementCunt.put(element, elementCunt.get(element) + 1);\n            } else {\n                elementCunt.put(element, 1);\n            }\n        }\n        \n        for(int element: b) {\n            if(elementCunt.containsKey(element)) {\n                elementCunt.put(element, elementCunt.get(element) + 1);\n            } else {\n                elementCunt.put(element, 1);\n            }\n        }\n        \n        for(int element: c) {\n            if(elementCunt.containsKey(element)) {\n                elementCunt.put(element, elementCunt.get(element) + 1);\n            } else {\n                elementCunt.put(element, 1);\n            }\n        }\n        \n        Iterator&lt;Integer&gt; itr = elementCunt.keySet().iterator();\n        \n        ArrayList&lt;Integer&gt; commonElements = new ArrayList&lt;&gt;();\n        \n        while(itr.hasNext()) {\n            int key = itr.next();\n            if(elementCunt.get(key) == 3) {\n                commonElements.add(key);\n            }\n        }\n        \n        return commonElements;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642174076,"creation_date":1642173616,"answer_id":70712799,"question_id":70712582,"body_markdown":"This is the most concise solution, though I am not sure it is the most efficiant:\r\n\r\n    List&lt;Integer&gt; commonItems = new ArrayList&lt;&gt;(Arrays.asList(a));\r\n    commonItems.retainAll(Arrays.asList(b));\r\n    commonItems.retainAll(Arrays.asList(c));\r\n\r\n[JDK doc][1] of List.retainAll: \r\n\r\n&gt; Retains only the elements in this list that are contained in the\r\n&gt; specified collection (optional operation). In other words, removes\r\n&gt; from this list all of its elements that are not contained in the\r\n&gt; specified collection.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#retainAll-java.util.Collection-","title":"How to get common elements from three array list optimally?","body":"<p>This is the most concise solution, though I am not sure it is the most efficiant:</p>\n<pre><code>List&lt;Integer&gt; commonItems = new ArrayList&lt;&gt;(Arrays.asList(a));\ncommonItems.retainAll(Arrays.asList(b));\ncommonItems.retainAll(Arrays.asList(c));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#retainAll-java.util.Collection-\" rel=\"nofollow noreferrer\">JDK doc</a> of List.retainAll:</p>\n<blockquote>\n<p>Retains only the elements in this list that are contained in the\nspecified collection (optional operation). In other words, removes\nfrom this list all of its elements that are not contained in the\nspecified collection.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7660161,"reputation":73,"user_id":5805710,"display_name":"Siddharth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642173932,"creation_date":1642173932,"answer_id":70712868,"question_id":70712582,"body_markdown":"You can use a Set for each array to store elements so that they can be accessed in O(1) time and then iterate over elements in any set and check if it&#39;s present in other two sets as well since set of common elements is guaranteed to be a subset of all the three sets.\r\n\r\n        int a[] = {1,3,7,6};\r\n        int b[] = {2,5,0,4};\r\n        int c[] = {11,23,71,6};\r\n        Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;();\r\n        Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;();\r\n        Set&lt;Integer&gt; set3 = new HashSet&lt;&gt;();\r\n        for(int x: a)\r\n            set1.add(x);\r\n        for(int x: b)\r\n            set2.add(x);\r\n        for(int x: c)\r\n            set3.add(x);\r\n        List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n        Iterator&lt;Integer&gt; itr = set1.iterator();\r\n        while(itr.hasNext()){\r\n            int ele = itr.next();\r\n            if(set2.contains(ele) &amp;&amp; set3.contains(ele)){\r\n                res.add(ele);\r\n            }\r\n        }\r\n        return res;\r\n\r\nThis approach should also work in cases where an element is repeated in an array and thus can increase frequency of count if single hashmap based approach is used.","title":"How to get common elements from three array list optimally?","body":"<p>You can use a Set for each array to store elements so that they can be accessed in O(1) time and then iterate over elements in any set and check if it's present in other two sets as well since set of common elements is guaranteed to be a subset of all the three sets.</p>\n<pre><code>    int a[] = {1,3,7,6};\n    int b[] = {2,5,0,4};\n    int c[] = {11,23,71,6};\n    Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;();\n    Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;();\n    Set&lt;Integer&gt; set3 = new HashSet&lt;&gt;();\n    for(int x: a)\n        set1.add(x);\n    for(int x: b)\n        set2.add(x);\n    for(int x: c)\n        set3.add(x);\n    List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n    Iterator&lt;Integer&gt; itr = set1.iterator();\n    while(itr.hasNext()){\n        int ele = itr.next();\n        if(set2.contains(ele) &amp;&amp; set3.contains(ele)){\n            res.add(ele);\n        }\n    }\n    return res;\n</code></pre>\n<p>This approach should also work in cases where an element is repeated in an array and thus can increase frequency of count if single hashmap based approach is used.</p>\n"}],"owner":{"account_id":23941004,"reputation":9,"user_id":17934120,"display_name":"Ashutosh Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1642174276,"creation_date":1642172570,"question_id":70712582,"body_markdown":"I have 3 arrays\r\n\r\n    int a[] = {1,3,7,6};\r\n    int b[] = {2,5,0,4};\r\n    int c[] = {11,23,71,6};\r\n\r\nI want to find common elements from these three arrays optimaly.\r\nI am thinking to use 3 for loops to find common elements but this is not optimal .So is there any optimal better way of doing it rather than using nested for loop?\r\n\t","title":"How to get common elements from three array list optimally?","body":"<p>I have 3 arrays</p>\n<pre><code>int a[] = {1,3,7,6};\nint b[] = {2,5,0,4};\nint c[] = {11,23,71,6};\n</code></pre>\n<p>I want to find common elements from these three arrays optimaly.\nI am thinking to use 3 for loops to find common elements but this is not optimal .So is there any optimal better way of doing it rather than using nested for loop?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1642155974,"post_id":70704582,"comment_id":125001272,"body_markdown":"first of all, you are have enabled basicLogin, which i dont really understand why since you are not using basic login, so that should be removed. You should be using `formLogin` instead, and set the `loginPage` to your login endpoint `/login` if you insist on writing a custom login endpoint. Otherwise you can just remove your custom endpoint, enable `formLogin` and then sen spring security will provide a default login implementation on `/login` that takes in `username` and `password`as `form parameters`","body":"first of all, you are have enabled basicLogin, which i dont really understand why since you are not using basic login, so that should be removed. You should be using <code>formLogin</code> instead, and set the <code>loginPage</code> to your login endpoint <code>&#47;login</code> if you insist on writing a custom login endpoint. Otherwise you can just remove your custom endpoint, enable <code>formLogin</code> and then sen spring security will provide a default login implementation on <code>&#47;login</code> that takes in <code>username</code> and <code>password</code>as <code>form parameters</code>"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642156166,"post_id":70704582,"comment_id":125001348,"body_markdown":"i recommend you start out by trying to get `formLogin` working without a custom login point, before trying to do custom things.","body":"i recommend you start out by trying to get <code>formLogin</code> working without a custom login point, before trying to do custom things."},{"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"score":0,"creation_date":1642169935,"post_id":70704582,"comment_id":125006318,"body_markdown":"I update an error log now start with beginning. Sorry I don&#39;t understand why should I use formlogin() ? as this is an API authentication not via HTML form. The problem is that  loaduser doesn&#39;t getting username. If you have any solution ? tks","body":"I update an error log now start with beginning. Sorry I don&#39;t understand why should I use formlogin() ? as this is an API authentication not via HTML form. The problem is that  loaduser doesn&#39;t getting username. If you have any solution ? tks"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642173405,"post_id":70704582,"comment_id":125007750,"body_markdown":"FormLogin has nothing to do with you make a login form, or that you need a login form. FormLogin means that you take in FORM parameters and not JSON parameters. Most commonly people use a form to send FORM parameters, but you can use postman, curl or whatever to send FORM parameters. I suggest you learn how to set up FORM login, before trying to write a fully customised login.","body":"FormLogin has nothing to do with you make a login form, or that you need a login form. FormLogin means that you take in FORM parameters and not JSON parameters. Most commonly people use a form to send FORM parameters, but you can use postman, curl or whatever to send FORM parameters. I suggest you learn how to set up FORM login, before trying to write a fully customised login."}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642174107,"creation_date":1642174107,"answer_id":70712908,"question_id":70704582,"body_markdown":"Your logs say this:\r\n\r\n```\r\n2022-01-14 14:49:52.305  WARN 24600 --- [nio-8088-exec-2] c.k.b.s.serviceImpl.UserSecurityService  : \r\nUsername { &quot;username&quot;: &quot;seeshee&quot;, &quot;password&quot;: &quot;12345&quot; } not found\r\n```\r\n\r\nIf we look in your code we can see the following line:\r\n\r\n```\r\nlogin(@RequestBody String username, String password )\r\n```\r\n\r\nThis is your faulty code line, as it doesn&#39;t do what you think it does. You think it will take the json and extract the two parameters `username` and `password` and set these. But what it actually does is that the `@RequestBody` will take the entire body (the json) and set it to the parameter that is defined on, which is `username`.\r\n\r\nSo what spring is doing is that it will extract the entire json body and place it into the `username` string.\r\n\r\nThen you try to use that to login, and then you get the error message posted above.\r\n\r\nWhat you need to do is to create a holder class that spring can deserialize into.\r\n\r\n```\r\npublic class RequestBody {\r\n\r\n    public RequestBody(String username, String password) {\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n\r\n    // getters, setters\r\n\r\n}\r\n\r\n@PostMapping(&quot;/login&quot;)\r\npublic ResponseEntity&lt;String&gt; login(@RequestBody RequestBody requestBody ) throws Exception {\r\n    Authentication authentication = authenticationManager.authenticate(new \r\n    UsernamePasswordAuthenticationToken(\r\n        requestBody.getUsername(), requestBody.getPassword()\r\n    ));\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    return new ResponseEntity&lt;&gt;(&quot;User signed -in succesfully&quot;, HttpStatus.OK);\r\n }\r\n```\r\n\r\nYou can read about how to use requestbody here:\r\n\r\n[Spring’s RequestBody and ResponseBody Annotation][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-request-response-body","title":"Access Denied - Unable to authenticate login - spring security","body":"<p>Your logs say this:</p>\n<pre><code>2022-01-14 14:49:52.305  WARN 24600 --- [nio-8088-exec-2] c.k.b.s.serviceImpl.UserSecurityService  : \nUsername { &quot;username&quot;: &quot;seeshee&quot;, &quot;password&quot;: &quot;12345&quot; } not found\n</code></pre>\n<p>If we look in your code we can see the following line:</p>\n<pre><code>login(@RequestBody String username, String password )\n</code></pre>\n<p>This is your faulty code line, as it doesn't do what you think it does. You think it will take the json and extract the two parameters <code>username</code> and <code>password</code> and set these. But what it actually does is that the <code>@RequestBody</code> will take the entire body (the json) and set it to the parameter that is defined on, which is <code>username</code>.</p>\n<p>So what spring is doing is that it will extract the entire json body and place it into the <code>username</code> string.</p>\n<p>Then you try to use that to login, and then you get the error message posted above.</p>\n<p>What you need to do is to create a holder class that spring can deserialize into.</p>\n<pre><code>public class RequestBody {\n\n    public RequestBody(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    // getters, setters\n\n}\n\n@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;String&gt; login(@RequestBody RequestBody requestBody ) throws Exception {\n    Authentication authentication = authenticationManager.authenticate(new \n    UsernamePasswordAuthenticationToken(\n        requestBody.getUsername(), requestBody.getPassword()\n    ));\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    return new ResponseEntity&lt;&gt;(&quot;User signed -in succesfully&quot;, HttpStatus.OK);\n }\n</code></pre>\n<p>You can read about how to use requestbody here:</p>\n<p><a href=\"https://www.baeldung.com/spring-request-response-body\" rel=\"nofollow noreferrer\">Spring’s RequestBody and ResponseBody Annotation</a></p>\n"}],"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3146,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70712908,"answer_count":1,"score":-2,"last_activity_date":1642174107,"creation_date":1642118555,"question_id":70704582,"body_markdown":"I work on simple authentication app using spring security &amp; encounter by an access denied error. I must mention that registration works perfectly &amp; I&#39;ve already created 1 record with bcrypted password but on login I&#39;m failed to understand that what did I miss. Grateful for the help\r\n\r\nUser.java\r\n\r\n    public class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String name;\r\n    private String username;\r\n    private String email;\r\n    private String password;\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JsonIgnore\r\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        Set&lt;GrantedAuthority&gt;authorities = new HashSet&lt;&gt;();\r\n        userRoles.forEach(ur -&gt; authorities.add(new \r\n       Authority(ur.getRole().getName())));\r\n        return authorities;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n    }\r\n\r\nSecurityConfig\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private UserSecurityService userSecurityService;\r\n\r\n    public SecurityConfig(UserSecurityService userSecurityService) {\r\n        this.userSecurityService = userSecurityService;\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws \r\n    Exception {\r\n    auth.userDetailsService(userSecurityService).passwordEncoder\r\n    (passwordEncoder());\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws \r\n     Exception {return super.authenticationManagerBean();\r\n    }\r\n    }\r\n\r\nUserSecurityService (loaduser)\r\n\r\n    @Service\r\n    public class UserSecurityService implements UserDetailsService {\r\n    private static final Logger LOG = \r\n    LoggerFactory.getLogger(UserSecurityService.class);\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws \r\n       UsernameNotFoundException {\r\n        User user = userRepository.findUserByUsername(username);\r\n        if (null == user) {\r\n            LOG.warn(&quot;Username {} not found&quot;, username);\r\n            throw new UsernameNotFoundException(&quot;Username &quot; + username + &quot; \r\n      not found&quot;);\r\n        }\r\n        return user;\r\n    }\r\n   }\r\n\r\nAuthController\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/auth&quot;)\r\n    public class AuthController {\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;User&gt; register(@RequestBody User user) throws Exception {\r\n        return new ResponseEntity&lt;&gt;(userService.register(user), HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; login(@RequestBody String username, String password ) throws \r\n      Exception {\r\n        Authentication authentication = authenticationManager.authenticate(new \r\n        UsernamePasswordAuthenticationToken(\r\n            username, password\r\n        ));\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        return new ResponseEntity&lt;&gt;(&quot;User signed -in succesfully&quot;, HttpStatus.OK);\r\n     }\r\n     }\r\n\r\nError\r\n\r\n    2022-01-14 14:49:13.604  INFO 24600 --- [  restartedMain] \r\n    c.kash.bankingAPI.BankingApiApplication  : Starting \r\n    BankingApiApplication using Java 11.0.12 on LAPTOP-BQ48GM36 with PID \r\n    24600 (B:\\spring\\bankingAPI\\target\\classes started by The Kash in \r\n    B:\\spring\\bankingAPI)\r\n    2022-01-14 14:49:13.605  INFO 24600 --- [  restartedMain] \r\n    c.kash.bankingAPI.BankingApiApplication  : No active profile set, \r\n    falling back to default profiles: default\r\n    2022-01-14 14:49:13.673  INFO 24600 --- [  restartedMain] \r\n    .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults \r\n     active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n     2022-01-14 14:49:13.674  INFO 24600 --- [  restartedMain] \r\n    .e.DevToolsPropertyDefaultsPostProcessor : For additional web related \r\n    logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2022-01-14 14:49:14.557  INFO 24600 --- [  restartedMain] \r\n    .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data \r\n    JPA \r\n    repositories in DEFAULT mode.\r\n    2022-01-14 14:49:14.646  INFO 24600 --- [  restartedMain] \r\n    .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data \r\n    repository scanning in 74 ms. Found 2 JPA repository interfaces.\r\n    2022-01-14 14:49:15.876  INFO 24600 --- [  restartedMain] \r\n    o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with \r\n    port(s): 8088 (http)\r\n    2022-01-14 14:49:15.890  INFO 24600 --- [  restartedMain] \r\n    o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-01-14 14:49:15.890  INFO 24600 --- [  restartedMain] \r\n    org.apache.catalina.core.StandardEngine  : Starting Servlet engine: \r\n    [Apache Tomcat/9.0.56]\r\n     2022-01-14 14:49:16.008  INFO 24600 --- [  restartedMain] o.a.c.c.C. \r\n    [Tomcat].[localhost].[/]       : Initializing Spring embedded \r\n    WebApplicationContext\r\n    2022-01-14 14:49:16.008  INFO 24600 --- [  restartedMain] \r\n    w.s.c.ServletWebServerApplicationContext : Root \r\n    WebApplicationContext: \r\n    initialization completed in 2334 ms\r\n    2022-01-14 14:49:16.264  INFO 24600 --- [  restartedMain] \r\n    o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing \r\n    PersistenceUnitInfo [name: default]\r\n    2022-01-14 14:49:16.332  INFO 24600 --- [  restartedMain] \r\n    org.hibernate.Version                    : HHH000412: Hibernate ORM \r\n     core \r\n    version 5.6.3.Final\r\n     2022-01-14 14:49:16.542  INFO 24600 --- [  restartedMain] \r\n    o.hibernate.annotations.common.Version   : HCANN000001: Hibernate \r\n    Commons Annotations {5.1.2.Final}\r\n    2022-01-14 14:49:16.661  INFO 24600 --- [  restartedMain] \r\n    com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-01-14 14:49:17.128  INFO 24600 --- [  restartedMain] \r\n    com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start \r\n    completed.\r\n    2022-01-14 14:49:17.145  INFO 24600 --- [  restartedMain] \r\n    org.hibernate.dialect.Dialect            : HHH000400: Using dialect: \r\n    org.hibernate.dialect.MySQL57Dialect\r\n    2022-01-14 14:49:18.469  INFO 24600 --- [  restartedMain] \r\n    o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using \r\n    JtaPlatform implementation: \r\n   \r\n    [org.hibernate.engine.transaction.jta.platform.internal.\r\n    NoJtaPlatform]\r\n    2022-01-14 14:49:18.478  INFO 24600 --- [  restartedMain] \r\n    j.LocalContainerEntityManagerFactoryBean : Initialized JPA \r\n    EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-01-14 14:49:19.173  WARN 24600 --- [  restartedMain] \r\n    JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is \r\n    enabled by default. Therefore, database queries may be performed \r\n    during \r\n    view rendering. Explicitly configure spring.jpa.open-in-view to \r\n    disable \r\n    this warning\r\n    2022-01-14 14:49:19.453 DEBUG 24600 --- [  restartedMain] \r\n    edFilterInvocationSecurityMetadataSource : Adding web access control \r\n    expression [permitAll] for Ant [pattern=&#39;/api/**&#39;, GET]\r\n    2022-01-14 14:49:19.455 DEBUG 24600 --- [  restartedMain] \r\n    edFilterInvocationSecurityMetadataSource : Adding web access control \r\n    expression [permitAll] for Ant [pattern=&#39;/api/auth/**&#39;]\r\n    2022-01-14 14:49:19.456 DEBUG 24600 --- [  restartedMain] \r\n    edFilterInvocationSecurityMetadataSource : Adding web access control \r\n    expression [authenticated] for any request\r\n    2022-01-14 14:49:19.468  INFO 24600 --- [  restartedMain] \r\n    o.s.s.web.DefaultSecurityFilterChain     : Will secure any request \r\n    with \r\n    [org.springframework.security.web.context.request.async.\r\n    WebAsyncManagerIntegrationFilter@4b607819, \r\n    org.springframework.security.web.context.SecurityContextPersistence\r\n    Filter@146dcdcf, \r\n    org.springframework.security.web.header.HeaderWriterFilter@74f0174b, \r\n    org.springframework.security.web.authentication.logout.\r\n    LogoutFilter@839ff7f, \r\n    org.springframework.security.web.authentication.www.\r\n    BasicAuthenticationFilter@4f78b9a2, \r\n    org.springframework.security.web.savedrequest.\r\n    RequestCacheAwareFilter@7e2b3eef, \r\n    org.springframework.security.web.servletapi.SecurityContextHolder\r\n    AwareRequestFilter@1996d59a, \r\n    org.springframework.security.web.authentication.Anonymous\r\n    AuthenticationFilter@d82cd0b, \r\n    org.springframework.security.web.session.SessionManagement\r\n    Filter@47842f0b, \r\n    org.springframework.security.web.access.ExceptionTranslation\r\n    Filter@6fdc8d32, org.springframework.security.web.access.intercept.\r\n    FilterSecurityInterceptor@3619bc38]\r\n    2022-01-14 14:49:19.922  INFO 24600 --- [  restartedMain] \r\n    o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is \r\n    running \r\n    on port 35729\r\n    2022-01-14 14:49:19.959  INFO 24600 --- [  restartedMain] \r\n    o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): \r\n    8088 (http) with context path &#39;&#39;\r\n    2022-01-14 14:49:19.970  INFO 24600 --- [  restartedMain] \r\n    c.kash.bankingAPI.BankingApiApplication  : Started \r\n    BankingApiApplication \r\n    in 6.835 seconds (JVM running for 7.645)\r\n    2022-01-14 14:49:51.914  INFO 24600 --- [nio-8088-exec-2] o.a.c.c.C. \r\n    [Tomcat].[localhost].[/]       : Initializing Spring \r\n    DispatcherServlet \r\n    &#39;dispatcherServlet&#39;\r\n    2022-01-14 14:49:51.915  INFO 24600 --- [nio-8088-exec-2] \r\n    o.s.web.servlet.DispatcherServlet        : Initializing Servlet \r\n    &#39;dispatcherServlet&#39;\r\n    2022-01-14 14:49:51.916  INFO 24600 --- [nio-8088-exec-2] \r\n     o.s.web.servlet.DispatcherServlet        : Completed initialization \r\n    in \r\n    1 ms\r\n    2022-01-14 14:49:51.931 DEBUG 24600 --- [nio-8088-exec-2] \r\n    o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login\r\n    2022-01-14 14:49:51.936 DEBUG 24600 --- [nio-8088-exec-2] \r\n    s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder \r\n    to \r\n    empty SecurityContext\r\n    2022-01-14 14:49:51.939 DEBUG 24600 --- [nio-8088-exec-2] \r\n    o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder \r\n    to \r\n    anonymous SecurityContext\r\n    2022-01-14 14:49:51.940 DEBUG 24600 --- [nio-8088-exec-2] \r\n    o.s.s.w.session.SessionManagementFilter  : Request requested invalid \r\n    session id 1E5E812360CC1B8291311CA85ACAC55A\r\n    2022-01-14 14:49:51.945 DEBUG 24600 --- [nio-8088-exec-2] \r\n    o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter \r\n    invocation \r\n    [POST /api/auth/login] with attributes [permitAll]\r\n    2022-01-14 14:49:51.946 DEBUG 24600 --- [nio-8088-exec-2] \r\n    o.s.security.web.FilterChainProxy        : Secured POST \r\n    /api/auth/login\r\n     Hibernate: select user0_.id as id1_7_, user0_.email as email2_7_, \r\n    user0_.name as name3_7_, user0_.password as password4_7_, \r\n    user0_.primary_account_id as primary_6_7_, user0_.savings_account_id \r\n    as \r\n    savings_7_7_, user0_.username as username5_7_ from users user0_ where \r\n    user0_.username=?\r\n    2022-01-14 14:49:52.305  WARN 24600 --- [nio-8088-exec-2] \r\n    c.k.b.s.serviceImpl.UserSecurityService  : Username {\r\n    &quot;username&quot;: &quot;seeshee&quot;,\r\n    &quot;password&quot;: &quot;12345&quot;\r\n    } not found\r\n    2022-01-14 14:49:52.313 DEBUG 24600 --- [nio-8088-exec-2] \r\n    o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user &#39;{\r\n    &quot;username&quot;: &quot;seeshee&quot;,\r\n    &quot;password&quot;: &quot;1234&quot;\r\n    }&#39;\r\n    2022-01-14 14:49:52.698  WARN 24600 --- [nio-8088-exec-2] \r\n    o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom \r\n    instance for session ID generation using [SHA1PRNG] took [364] \r\n    milliseconds.\r\n    2022-01-14 14:49:52.700 DEBUG 24600 --- [nio-8088-exec-2] \r\n     o.s.s.w.s.HttpSessionRequestCache        : Saved request \r\n    http://localhost:8088/api/auth/login to session\r\n    2022-01-14 14:49:52.701 DEBUG 24600 --- [nio-8088-exec-2] \r\n     s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using \r\n    Reque \r\n     tHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expec \r\n     edHeaderValue=XMLHttpRequest]\r\n    2022-1-14 14:49:52.701 DEBUG 24600 --- [nio-8088-exec-2] \r\n      s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using \r\n     default entry point \r\n     org.springframework.security.web.authentication.www.\r\n     BasicAuthenticationEntryPoint@691634d7\r\n     2022-01-14 14:49:52.702 DEBUG 24600 --- [nio-8088-exec-2] \r\n     w.c.HttpSessionSecurityContextRepository : Did not store empty \r\n    SecurityContext\r\n    2022-01-14 14:49:52.702 DEBUG 24600 --- [nio-8088-exec-2] \r\n    w.c.HttpSessionSecurityContextRepository : Did not store empty \r\n    SecurityContext\r\n    2022-01-14 14:49:52.702 DEBUG 24600 --- [nio-8088-exec-2] \r\n    s.s.w.c.SecurityContextPersistenceFilter : Cleared \r\n    SecurityContextHolder \r\n    to complete request\r\n    2022-01-14 14:49:52.705 DEBUG 24600 --- [nio-8088-exec-2] \r\n    o.s.security.web.FilterChainProxy        : Securing POST /error\r\n    2022-01-14 14:49:52.705 DEBUG 24600 --- [nio-8088-exec-2] \r\n    s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder \r\n    to \r\n     empty SecurityContext\r\n    2022-01-14 14:49:52.706 DEBUG 24600 --- [nio-8088-exec-2] \r\n    o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder \r\n    to \r\n     anonymous SecurityContext\r\n     2022-01-14 14:49:52.706 DEBUG 24600 --- [nio-8088-exec-2] \r\n     o.s.security.web.FilterChainProxy        : Secured POST /error\r\n     2022-01-14 14:49:52.721 DEBUG 24600 --- [nio-8088-exec-2] \r\n    a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] \r\n    denied for AnonymousAuthenticationToken [Principal=anonymousUser, \r\n    Credentials=[PROTECTED], Authenticated=true, \r\n    Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, \r\n    SessionId=BAFE9322A4A2705325C4B6540915129E], Granted Authorities= \r\n    [ROLE_ANONYMOUS]]\r\n    org.springframework.security.access.AccessDeniedException: Access is \r\n    denied\r\n       \tat \r\n    org.springframework.security.access.vote.AffirmativeBased. \r\n    decide(AffirmativeBased.java:73) \r\n    ~[spring-security-core-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.\r\n    DefaultWebInvocationPrivilegeEvaluator.isAllowed\r\n    (DefaultWe \r\n     bInvocationPrivilegeEvaluator.java:100) ~[spring-security-web- \r\n    5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.\r\n    DefaultWebInvocationPrivilegeEvaluator.isAllowed\r\n    (DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security- \r\n    web- \r\n    5.6.1.jar:5.6.1]\r\n\tat \r\n    org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.\r\n    isAllowed\r\n     (ErrorPageSecurityFilter.java:84) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat \r\n    org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.\r\n    doFilter\r\n    (ErrorPageSecurityFilter.java:72) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat \r\n    org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.\r\n    doFilter\r\n    (ErrorPageSecurityFilter.java:66) ~[spring-boot-2.6.2.jar:2.6.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(\r\n    ApplicationFilterChain.\r\n    java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n    (ApplicationFilterChain.java:162) ~ \r\n    [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat \r\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.\r\n    doFilter\r\n    (FilterChainProxy.jav \r\n    a:327) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n \tat org.springframework.security.web.access.intercept.\r\n    FilterSecurityInterceptor.invoke\r\n    (FilterSecurityInterceptor.java:106) ~[spring-security-web- \r\n    5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.intercept.\r\n    FilterSecurityInterceptor.doFilter\r\n    (FilterSecurityInterceptor.java:81) ~[spring-security-web- \r\n    5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$\r\n    VirtualFilterChain.doFilter\r\n    (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.\r\n     ExceptionTranslationFilter.doFilter\r\n    (ExceptionTranslationFilter.java:122) ~[spring-security-web- \r\n     5.6.1.jar:5.6.1]\r\n\tat \r\n    org.springframework.security.web.access.ExceptionTranslationFilter.\r\n    doFilter\r\n           (ExceptionTranslationFilter.java:116) ~[spring-security-web- \r\n    5.6.1.jar:5.6.1]\r\n\t at org.springframework.security.web.FilterChainProxy$ \r\n     VirtualFilterChain.doFilter\r\n      (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\t at org.springframework.security.web.session.SessionManagementFilter\r\n    .doFilter\r\n    (SessionManagementFilter.java:87) ~[spring-security-web- \r\n    5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.\r\n     doFilter\r\n    (SessionManagementFilter.java:81) ~[spring-security-web- \r\n    5.6.1.jar:5.6.1]\r\n\tat \r\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain\r\n    .doFilter\r\n    (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.\r\n    AnonymousAuthenticationFilter.doFilter\r\n    (AnonymousAuthenticationFilter.java:109) ~[spring-security-web- \r\n    5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$\r\n    VirtualFilterChain.doFilter\r\n    (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.servletapi.\r\n    SecurityContextHolderAwareRequestFilter.\r\n    doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring- \r\n    security-web- \r\n     5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$\r\n    VirtualFilterChain.doFilter\r\n    (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.savedrequest.\r\n    RequestCacheAwareFilter.doFilter\r\n    (RequestCacheAwareFilter.java:63) ~[spring-security-web- \r\n    5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$\r\n    VirtualFilterChain.doFilter\r\n     (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter\r\n     (OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterChainProxy$\r\n    VirtualFilterChain.doFilter\r\n      (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.logout.\r\n    LogoutFilter.doFilter\r\n      (LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.logout.\r\n    LogoutFilter.doFilter\r\n\r\n    (LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat \r\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.\r\n    doFilter\r\n\r\n    (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(\r\n     OncePerRequestFilter.java:102) \r\n      ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilter\r\n     Chain.doFilter\r\n     (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat \r\n    org.springframework.security.web.context.SecurityContextPersistence\r\n    Filter.doFilter\r\n      \r\n     (SecurityContextPersistenceFilter.java:110) ~[spring-security-web- \r\n     5.6.1.jar:5.6.1]\r\n\tat \r\n    org.springframework.security.web.context.SecurityContextPersistence\r\n     Filter.doFilter\r\n       (SecurityContextPersistenceFilter.java:80) ~[spring-security-web- \r\n      5.6.1.jar:5.6.1]\r\n\tat \r\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.\r\n     doFilter\r\n       (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter\r\n        (OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat \r\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.\r\n    doFilter\r\n      (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal\r\n       (FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter\r\n       (FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat \r\n     org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate\r\n      (DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter\r\n     (DelegatingFilterProxy.java:267) ~ \r\n      [spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n     (ApplicationFilterChain.java:189) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n      (ApplicationFilterChain.java:162) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat \r\n     org.springframework.web.filter.RequestContextFilter.doFilterInternal\r\n       (RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter\r\n      (OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n       (ApplicationFilterChain.java:189) ~[tomcat-embed-core- \r\n      9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n      (ApplicationFilterChain.java:162) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter\r\n        (OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n       (ApplicationFilterChain.java:189) ~[tomcat-embed-core- \r\n      9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n     (ApplicationFilterChain.java:162) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter\r\n        (OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\r\n       (ApplicationFilterChain.java:189) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\r\n       \r\n      (ApplicationFilterChain.java:162) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke \r\n       (ApplicationDispatcher.java:711) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest\r\n     (ApplicationDispatcher.java:461) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward\r\n       (ApplicationDispatcher.java:385) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward\r\n        (ApplicationDispatcher.java:313) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.custom\r\n       (StandardHostValve.java:403) ~[tomcat-embed-core- \r\n     9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.status\r\n     (StandardHostValve.java:249) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n     [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat \r\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run\r\n    (TaskThread.java:61) ~ \r\n    [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n    2022-01-14 00:49:13.289 DEBUG 21332 --- [nio-8088-exec-2] \r\n    w.c.HttpSessionSecurityContextRepository : Did not store anonymous \r\n    SecurityContext\r\n    2022-01-14 00:49:13.289 DEBUG 21332 --- [nio-8088-exec-2] \r\n    w.c.HttpSessionSecurityContextRepository : Did not store anonymous \r\n    SecurityContext\r\n    2022-01-14 00:49:13.289 DEBUG 21332 --- [nio-8088-exec-2] \r\n    s.s.w.c.SecurityContextPersistenceFilter : Cleared \r\n     SecurityContextHolder to complete request\r\n","title":"Access Denied - Unable to authenticate login - spring security","body":"<p>I work on simple authentication app using spring security &amp; encounter by an access denied error. I must mention that registration works perfectly &amp; I've already created 1 record with bcrypted password but on login I'm failed to understand that what did I miss. Grateful for the help</p>\n<p>User.java</p>\n<pre><code>public class User implements UserDetails {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\nprivate String name;\nprivate String username;\nprivate String email;\nprivate String password;\n@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JsonIgnore\nprivate Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\n\n@Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    Set&lt;GrantedAuthority&gt;authorities = new HashSet&lt;&gt;();\n    userRoles.forEach(ur -&gt; authorities.add(new \n   Authority(ur.getRole().getName())));\n    return authorities;\n}\n\n@Override\npublic boolean isAccountNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isAccountNonLocked() {\n    return true;\n}\n\n@Override\npublic boolean isCredentialsNonExpired() {\n    return true;\n}\n\n@Override\npublic boolean isEnabled() {\n    return true;\n}\n}\n</code></pre>\n<p>SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\nprivate UserSecurityService userSecurityService;\n\npublic SecurityConfig(UserSecurityService userSecurityService) {\n    this.userSecurityService = userSecurityService;\n}\n\n@Bean\nPasswordEncoder passwordEncoder(){\n    return new BCryptPasswordEncoder();\n}\n\n\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n            .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .httpBasic();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws \nException {\nauth.userDetailsService(userSecurityService).passwordEncoder\n(passwordEncoder());\n}\n\n@Override\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws \n Exception {return super.authenticationManagerBean();\n}\n}\n</code></pre>\n<p>UserSecurityService (loaduser)</p>\n<pre><code>@Service\npublic class UserSecurityService implements UserDetailsService {\nprivate static final Logger LOG = \nLoggerFactory.getLogger(UserSecurityService.class);\n\n@Autowired\nprivate UserRepository userRepository;\n\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws \n   UsernameNotFoundException {\n    User user = userRepository.findUserByUsername(username);\n    if (null == user) {\n        LOG.warn(&quot;Username {} not found&quot;, username);\n        throw new UsernameNotFoundException(&quot;Username &quot; + username + &quot; \n  not found&quot;);\n    }\n    return user;\n}\n</code></pre>\n<p>}</p>\n<p>AuthController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class AuthController {\n\n@Autowired\nprivate AuthenticationManager authenticationManager;\n\n@Autowired\nprivate UserRepository userRepository;\n\n@Autowired\nprivate RoleRepository roleRepository;\n\n@Autowired\nprivate PasswordEncoder passwordEncoder;\n\n@Autowired\nprivate UserService userService;\n\n\n@PostMapping(&quot;/register&quot;)\npublic ResponseEntity&lt;User&gt; register(@RequestBody User user) throws Exception {\n    return new ResponseEntity&lt;&gt;(userService.register(user), HttpStatus.OK);\n}\n\n@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;String&gt; login(@RequestBody String username, String password ) throws \n  Exception {\n    Authentication authentication = authenticationManager.authenticate(new \n    UsernamePasswordAuthenticationToken(\n        username, password\n    ));\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    return new ResponseEntity&lt;&gt;(&quot;User signed -in succesfully&quot;, HttpStatus.OK);\n }\n }\n</code></pre>\n<p>Error</p>\n<pre><code>2022-01-14 14:49:13.604  INFO 24600 --- [  restartedMain] \nc.kash.bankingAPI.BankingApiApplication  : Starting \nBankingApiApplication using Java 11.0.12 on LAPTOP-BQ48GM36 with PID \n24600 (B:\\spring\\bankingAPI\\target\\classes started by The Kash in \nB:\\spring\\bankingAPI)\n2022-01-14 14:49:13.605  INFO 24600 --- [  restartedMain] \nc.kash.bankingAPI.BankingApiApplication  : No active profile set, \nfalling back to default profiles: default\n2022-01-14 14:49:13.673  INFO 24600 --- [  restartedMain] \n.e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults \n active! Set 'spring.devtools.add-properties' to 'false' to disable\n 2022-01-14 14:49:13.674  INFO 24600 --- [  restartedMain] \n.e.DevToolsPropertyDefaultsPostProcessor : For additional web related \nlogging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-01-14 14:49:14.557  INFO 24600 --- [  restartedMain] \n.s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data \nJPA \nrepositories in DEFAULT mode.\n2022-01-14 14:49:14.646  INFO 24600 --- [  restartedMain] \n.s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data \nrepository scanning in 74 ms. Found 2 JPA repository interfaces.\n2022-01-14 14:49:15.876  INFO 24600 --- [  restartedMain] \no.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with \nport(s): 8088 (http)\n2022-01-14 14:49:15.890  INFO 24600 --- [  restartedMain] \no.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-01-14 14:49:15.890  INFO 24600 --- [  restartedMain] \norg.apache.catalina.core.StandardEngine  : Starting Servlet engine: \n[Apache Tomcat/9.0.56]\n 2022-01-14 14:49:16.008  INFO 24600 --- [  restartedMain] o.a.c.c.C. \n[Tomcat].[localhost].[/]       : Initializing Spring embedded \nWebApplicationContext\n2022-01-14 14:49:16.008  INFO 24600 --- [  restartedMain] \nw.s.c.ServletWebServerApplicationContext : Root \nWebApplicationContext: \ninitialization completed in 2334 ms\n2022-01-14 14:49:16.264  INFO 24600 --- [  restartedMain] \no.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing \nPersistenceUnitInfo [name: default]\n2022-01-14 14:49:16.332  INFO 24600 --- [  restartedMain] \norg.hibernate.Version                    : HHH000412: Hibernate ORM \n core \nversion 5.6.3.Final\n 2022-01-14 14:49:16.542  INFO 24600 --- [  restartedMain] \no.hibernate.annotations.common.Version   : HCANN000001: Hibernate \nCommons Annotations {5.1.2.Final}\n2022-01-14 14:49:16.661  INFO 24600 --- [  restartedMain] \ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-01-14 14:49:17.128  INFO 24600 --- [  restartedMain] \ncom.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start \ncompleted.\n2022-01-14 14:49:17.145  INFO 24600 --- [  restartedMain] \norg.hibernate.dialect.Dialect            : HHH000400: Using dialect: \norg.hibernate.dialect.MySQL57Dialect\n2022-01-14 14:49:18.469  INFO 24600 --- [  restartedMain] \no.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using \nJtaPlatform implementation: \n\n[org.hibernate.engine.transaction.jta.platform.internal.\nNoJtaPlatform]\n2022-01-14 14:49:18.478  INFO 24600 --- [  restartedMain] \nj.LocalContainerEntityManagerFactoryBean : Initialized JPA \nEntityManagerFactory for persistence unit 'default'\n2022-01-14 14:49:19.173  WARN 24600 --- [  restartedMain] \nJpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is \nenabled by default. Therefore, database queries may be performed \nduring \nview rendering. Explicitly configure spring.jpa.open-in-view to \ndisable \nthis warning\n2022-01-14 14:49:19.453 DEBUG 24600 --- [  restartedMain] \nedFilterInvocationSecurityMetadataSource : Adding web access control \nexpression [permitAll] for Ant [pattern='/api/**', GET]\n2022-01-14 14:49:19.455 DEBUG 24600 --- [  restartedMain] \nedFilterInvocationSecurityMetadataSource : Adding web access control \nexpression [permitAll] for Ant [pattern='/api/auth/**']\n2022-01-14 14:49:19.456 DEBUG 24600 --- [  restartedMain] \nedFilterInvocationSecurityMetadataSource : Adding web access control \nexpression [authenticated] for any request\n2022-01-14 14:49:19.468  INFO 24600 --- [  restartedMain] \no.s.s.web.DefaultSecurityFilterChain     : Will secure any request \nwith \n[org.springframework.security.web.context.request.async.\nWebAsyncManagerIntegrationFilter@4b607819, \norg.springframework.security.web.context.SecurityContextPersistence\nFilter@146dcdcf, \norg.springframework.security.web.header.HeaderWriterFilter@74f0174b, \norg.springframework.security.web.authentication.logout.\nLogoutFilter@839ff7f, \norg.springframework.security.web.authentication.www.\nBasicAuthenticationFilter@4f78b9a2, \norg.springframework.security.web.savedrequest.\nRequestCacheAwareFilter@7e2b3eef, \norg.springframework.security.web.servletapi.SecurityContextHolder\nAwareRequestFilter@1996d59a, \norg.springframework.security.web.authentication.Anonymous\nAuthenticationFilter@d82cd0b, \norg.springframework.security.web.session.SessionManagement\nFilter@47842f0b, \norg.springframework.security.web.access.ExceptionTranslation\nFilter@6fdc8d32, org.springframework.security.web.access.intercept.\nFilterSecurityInterceptor@3619bc38]\n2022-01-14 14:49:19.922  INFO 24600 --- [  restartedMain] \no.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is \nrunning \non port 35729\n2022-01-14 14:49:19.959  INFO 24600 --- [  restartedMain] \no.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): \n8088 (http) with context path ''\n2022-01-14 14:49:19.970  INFO 24600 --- [  restartedMain] \nc.kash.bankingAPI.BankingApiApplication  : Started \nBankingApiApplication \nin 6.835 seconds (JVM running for 7.645)\n2022-01-14 14:49:51.914  INFO 24600 --- [nio-8088-exec-2] o.a.c.c.C. \n[Tomcat].[localhost].[/]       : Initializing Spring \nDispatcherServlet \n'dispatcherServlet'\n2022-01-14 14:49:51.915  INFO 24600 --- [nio-8088-exec-2] \no.s.web.servlet.DispatcherServlet        : Initializing Servlet \n'dispatcherServlet'\n2022-01-14 14:49:51.916  INFO 24600 --- [nio-8088-exec-2] \n o.s.web.servlet.DispatcherServlet        : Completed initialization \nin \n1 ms\n2022-01-14 14:49:51.931 DEBUG 24600 --- [nio-8088-exec-2] \no.s.security.web.FilterChainProxy        : Securing POST /api/auth/login\n2022-01-14 14:49:51.936 DEBUG 24600 --- [nio-8088-exec-2] \ns.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder \nto \nempty SecurityContext\n2022-01-14 14:49:51.939 DEBUG 24600 --- [nio-8088-exec-2] \no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder \nto \nanonymous SecurityContext\n2022-01-14 14:49:51.940 DEBUG 24600 --- [nio-8088-exec-2] \no.s.s.w.session.SessionManagementFilter  : Request requested invalid \nsession id 1E5E812360CC1B8291311CA85ACAC55A\n2022-01-14 14:49:51.945 DEBUG 24600 --- [nio-8088-exec-2] \no.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter \ninvocation \n[POST /api/auth/login] with attributes [permitAll]\n2022-01-14 14:49:51.946 DEBUG 24600 --- [nio-8088-exec-2] \no.s.security.web.FilterChainProxy        : Secured POST \n/api/auth/login\n Hibernate: select user0_.id as id1_7_, user0_.email as email2_7_, \nuser0_.name as name3_7_, user0_.password as password4_7_, \nuser0_.primary_account_id as primary_6_7_, user0_.savings_account_id \nas \nsavings_7_7_, user0_.username as username5_7_ from users user0_ where \nuser0_.username=?\n2022-01-14 14:49:52.305  WARN 24600 --- [nio-8088-exec-2] \nc.k.b.s.serviceImpl.UserSecurityService  : Username {\n&quot;username&quot;: &quot;seeshee&quot;,\n&quot;password&quot;: &quot;12345&quot;\n} not found\n2022-01-14 14:49:52.313 DEBUG 24600 --- [nio-8088-exec-2] \no.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '{\n&quot;username&quot;: &quot;seeshee&quot;,\n&quot;password&quot;: &quot;1234&quot;\n}'\n2022-01-14 14:49:52.698  WARN 24600 --- [nio-8088-exec-2] \no.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom \ninstance for session ID generation using [SHA1PRNG] took [364] \nmilliseconds.\n2022-01-14 14:49:52.700 DEBUG 24600 --- [nio-8088-exec-2] \n o.s.s.w.s.HttpSessionRequestCache        : Saved request \nhttp://localhost:8088/api/auth/login to session\n2022-01-14 14:49:52.701 DEBUG 24600 --- [nio-8088-exec-2] \n s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using \nReque \n tHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expec \n edHeaderValue=XMLHttpRequest]\n2022-1-14 14:49:52.701 DEBUG 24600 --- [nio-8088-exec-2] \n  s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using \n default entry point \n org.springframework.security.web.authentication.www.\n BasicAuthenticationEntryPoint@691634d7\n 2022-01-14 14:49:52.702 DEBUG 24600 --- [nio-8088-exec-2] \n w.c.HttpSessionSecurityContextRepository : Did not store empty \nSecurityContext\n2022-01-14 14:49:52.702 DEBUG 24600 --- [nio-8088-exec-2] \nw.c.HttpSessionSecurityContextRepository : Did not store empty \nSecurityContext\n2022-01-14 14:49:52.702 DEBUG 24600 --- [nio-8088-exec-2] \ns.s.w.c.SecurityContextPersistenceFilter : Cleared \nSecurityContextHolder \nto complete request\n2022-01-14 14:49:52.705 DEBUG 24600 --- [nio-8088-exec-2] \no.s.security.web.FilterChainProxy        : Securing POST /error\n2022-01-14 14:49:52.705 DEBUG 24600 --- [nio-8088-exec-2] \ns.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder \nto \n empty SecurityContext\n2022-01-14 14:49:52.706 DEBUG 24600 --- [nio-8088-exec-2] \no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder \nto \n anonymous SecurityContext\n 2022-01-14 14:49:52.706 DEBUG 24600 --- [nio-8088-exec-2] \n o.s.security.web.FilterChainProxy        : Secured POST /error\n 2022-01-14 14:49:52.721 DEBUG 24600 --- [nio-8088-exec-2] \na.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] \ndenied for AnonymousAuthenticationToken [Principal=anonymousUser, \nCredentials=[PROTECTED], Authenticated=true, \nDetails=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, \nSessionId=BAFE9322A4A2705325C4B6540915129E], Granted Authorities= \n[ROLE_ANONYMOUS]]\norg.springframework.security.access.AccessDeniedException: Access is \ndenied\n    at \norg.springframework.security.access.vote.AffirmativeBased. \ndecide(AffirmativeBased.java:73) \n~[spring-security-core-5.6.1.jar:5.6.1]\nat org.springframework.security.web.access.\nDefaultWebInvocationPrivilegeEvaluator.isAllowed\n(DefaultWe \n bInvocationPrivilegeEvaluator.java:100) ~[spring-security-web- \n5.6.1.jar:5.6.1]\nat org.springframework.security.web.access.\nDefaultWebInvocationPrivilegeEvaluator.isAllowed\n(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security- \nweb- \n5.6.1.jar:5.6.1]\nat \norg.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.\nisAllowed\n (ErrorPageSecurityFilter.java:84) ~[spring-boot-2.6.2.jar:2.6.2]\nat \norg.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.\ndoFilter\n(ErrorPageSecurityFilter.java:72) ~[spring-boot-2.6.2.jar:2.6.2]\nat \norg.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.\ndoFilter\n(ErrorPageSecurityFilter.java:66) ~[spring-boot-2.6.2.jar:2.6.2]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(\nApplicationFilterChain.\njava:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:162) ~ \n[tomcat-embed-core-9.0.56.jar:9.0.56]\nat \norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.\ndoFilter\n(FilterChainProxy.jav \na:327) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.access.intercept.\nFilterSecurityInterceptor.invoke\n(FilterSecurityInterceptor.java:106) ~[spring-security-web- \n5.6.1.jar:5.6.1]\nat org.springframework.security.web.access.intercept.\nFilterSecurityInterceptor.doFilter\n(FilterSecurityInterceptor.java:81) ~[spring-security-web- \n5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$\nVirtualFilterChain.doFilter\n(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.access.\n ExceptionTranslationFilter.doFilter\n(ExceptionTranslationFilter.java:122) ~[spring-security-web- \n 5.6.1.jar:5.6.1]\nat \norg.springframework.security.web.access.ExceptionTranslationFilter.\ndoFilter\n       (ExceptionTranslationFilter.java:116) ~[spring-security-web- \n5.6.1.jar:5.6.1]\n at org.springframework.security.web.FilterChainProxy$ \n VirtualFilterChain.doFilter\n  (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n at org.springframework.security.web.session.SessionManagementFilter\n.doFilter\n(SessionManagementFilter.java:87) ~[spring-security-web- \n5.6.1.jar:5.6.1]\nat org.springframework.security.web.session.SessionManagementFilter.\n doFilter\n(SessionManagementFilter.java:81) ~[spring-security-web- \n5.6.1.jar:5.6.1]\nat \norg.springframework.security.web.FilterChainProxy$VirtualFilterChain\n.doFilter\n(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.authentication.\nAnonymousAuthenticationFilter.doFilter\n(AnonymousAuthenticationFilter.java:109) ~[spring-security-web- \n5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$\nVirtualFilterChain.doFilter\n(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.servletapi.\nSecurityContextHolderAwareRequestFilter.\ndoFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring- \nsecurity-web- \n 5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$\nVirtualFilterChain.doFilter\n(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.savedrequest.\nRequestCacheAwareFilter.doFilter\n(RequestCacheAwareFilter.java:63) ~[spring-security-web- \n5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$\nVirtualFilterChain.doFilter\n (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter\n (OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.security.web.FilterChainProxy$\nVirtualFilterChain.doFilter\n  (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.authentication.logout.\nLogoutFilter.doFilter\n  (LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.authentication.logout.\nLogoutFilter.doFilter\n\n(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\nat \norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.\ndoFilter\n\n(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(\n OncePerRequestFilter.java:102) \n  ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.security.web.FilterChainProxy$VirtualFilter\n Chain.doFilter\n (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat \norg.springframework.security.web.context.SecurityContextPersistence\nFilter.doFilter\n  \n (SecurityContextPersistenceFilter.java:110) ~[spring-security-web- \n 5.6.1.jar:5.6.1]\nat \norg.springframework.security.web.context.SecurityContextPersistence\n Filter.doFilter\n   (SecurityContextPersistenceFilter.java:80) ~[spring-security-web- \n  5.6.1.jar:5.6.1]\nat \norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.\n doFilter\n   (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter\n    (OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]\nat \norg.springframework.security.web.FilterChainProxy$VirtualFilterChain.\ndoFilter\n  (FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal\n   (FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy.doFilter\n   (FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\nat \n org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate\n  (DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter\n (DelegatingFilterProxy.java:267) ~ \n  [spring-web-5.3.14.jar:5.3.14]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n (ApplicationFilterChain.java:189) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter\n  (ApplicationFilterChain.java:162) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat \n org.springframework.web.filter.RequestContextFilter.doFilterInternal\n   (RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter\n  (OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n   (ApplicationFilterChain.java:189) ~[tomcat-embed-core- \n  9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter\n  (ApplicationFilterChain.java:162) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter\n    (OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n   (ApplicationFilterChain.java:189) ~[tomcat-embed-core- \n  9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter\n (ApplicationFilterChain.java:162) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter\n    (OncePerRequestFilter.java:102) ~[spring-web-5.3.14.jar:5.3.14]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n   (ApplicationFilterChain.java:189) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter\n   \n  (ApplicationFilterChain.java:162) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationDispatcher.invoke \n   (ApplicationDispatcher.java:711) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationDispatcher.processRequest\n (ApplicationDispatcher.java:461) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationDispatcher.doForward\n   (ApplicationDispatcher.java:385) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationDispatcher.forward\n    (ApplicationDispatcher.java:313) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.apache.catalina.core.StandardHostValve.custom\n   (StandardHostValve.java:403) ~[tomcat-embed-core- \n 9.0.56.jar:9.0.56]\nat org.apache.catalina.core.StandardHostValve.status\n (StandardHostValve.java:249) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n [tomcat-embed-core-9.0.56.jar:9.0.56]\nat \norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run\n(TaskThread.java:61) ~ \n[tomcat-embed-core-9.0.56.jar:9.0.56]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n2022-01-14 00:49:13.289 DEBUG 21332 --- [nio-8088-exec-2] \nw.c.HttpSessionSecurityContextRepository : Did not store anonymous \nSecurityContext\n2022-01-14 00:49:13.289 DEBUG 21332 --- [nio-8088-exec-2] \nw.c.HttpSessionSecurityContextRepository : Did not store anonymous \nSecurityContext\n2022-01-14 00:49:13.289 DEBUG 21332 --- [nio-8088-exec-2] \ns.s.w.c.SecurityContextPersistenceFilter : Cleared \n SecurityContextHolder to complete request\n</code></pre>\n"},{"tags":["java","annotations","aop","pointcut","retention"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642173712,"creation_date":1567837476,"answer_id":57831250,"question_id":57822694,"body_markdown":"**Helper classer:**\r\n\r\nThese are directly from your example, just with package names and imports.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    import static java.lang.annotation.ElementType.METHOD;\r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n    \r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Retention(RUNTIME)\r\n    @Target(METHOD)\r\n    public @interface MyAnnotation {}\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public interface MyInterface {\r\n      String generateKey();\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class ExampleClass implements MyInterface {\r\n      @Override\r\n      public String generateKey() {\r\n        return &quot;Whatever&quot;;\r\n      }\r\n    }\r\n\r\n**Class which should not compile:**\r\n\r\nThis class has some annotated and some non-annotated methods. One annotated method does **not** return `MyInterface` or any of its implementing classes. The goal is to fail compilation.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class Application {\r\n      @MyAnnotation\r\n      public MyInterface annotatedMethodReturningInterface(int number) {\r\n        return new ExampleClass();\r\n      }\r\n    \r\n      @MyAnnotation\r\n      public ExampleClass annotatedMethodReturningImplementingClass() {\r\n        return new ExampleClass();\r\n      }\r\n    \r\n      @MyAnnotation\r\n      public String annotatedMethodReturningSomethingElse() {\r\n        // This one should not compile!\r\n        return &quot;Whatever&quot;;\r\n      }\r\n    \r\n      public MyInterface nonAnnotatedMethodReturningInterface(int number) {\r\n        return new ExampleClass();\r\n      }\r\n    \r\n      public ExampleClass nonAnnotatedMethodReturningImplementingClass() {\r\n        return new ExampleClass();\r\n      }\r\n    \r\n      public String nonAnnotatedMethodReturningSomethingElse() {\r\n        return &quot;Whatever&quot;;\r\n      }\r\n    }\r\n\r\n**Convention-checking aspect (native AspectJ syntax):**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.aspect;\r\n    \r\n    import de.scrum_master.app.MyAnnotation;\r\n    import de.scrum_master.app.MyInterface;\r\n    \r\n    public aspect AnnotationCheckerAspect {\r\n      declare error :\r\n        @annotation(MyAnnotation) &amp;&amp; execution(* *(..)) &amp;&amp; !execution(MyInterface+ *(..)) :\r\n        &quot;Method annotated with @MyAnnotation must return MyInterface type&quot;;\r\n    }\r\n\r\nThis aspect checks for\r\n\r\n  * all method executions\r\n  * where the method has `@MyAnnotation`\r\n  * but where the return type is different from `MyInterface` or any subtype or implementing class.\r\n\r\nThis is what the result looks like in Eclipse:\r\n\r\n[![Eclipse: compilation error][1]][1]\r\n\r\nOf course the compilation error is just the same if you compile from command line or via AspectJ Maven plugin or similar.\r\n\r\nIf you do not like native syntax (I prefer it but for some incomprehensible reason other people seem to prefer @AspectJ style):\r\n\r\n**Convention-checking aspect (annotation-based @AspectJ syntax):**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.aspect;\r\n    \r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.DeclareError;\r\n    \r\n    @Aspect\r\n    public class AnnotationCheckerAspect {\r\n      @DeclareError(\r\n        &quot;@annotation(de.scrum_master.app.MyAnnotation) &amp;&amp; &quot; +\r\n        &quot;execution(* *(..)) &amp;&amp; &quot; +\r\n        &quot;!execution(de.scrum_master.app.MyInterface+ *(..))&quot;\r\n      )\r\n      static final String wrongSignatureError =\r\n      &quot;Method annotated with @MyAnnotation must return MyInterface type&quot;;\r\n    }\r\n\r\nSee also my related answers here:\r\n\r\n  * https://stackoverflow.com/a/27121947/1082681\r\n  * https://stackoverflow.com/a/54067850/1082681\r\n  * https://stackoverflow.com/a/41700647/1082681\r\n  * https://stackoverflow.com/a/27312472/1082681\r\n  * https://stackoverflow.com/a/50126576/1082681\r\n\r\n  [1]: https://i.stack.imgur.com/azatK.png","title":"Create custom method level annotation only available to specific return types [AOP]","body":"<p><strong>Helper classer:</strong></p>\n<p>These are directly from your example, just with package names and imports.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport static java.lang.annotation.ElementType.METHOD;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\n@Retention(RUNTIME)\n@Target(METHOD)\npublic @interface MyAnnotation {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic interface MyInterface {\n  String generateKey();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class ExampleClass implements MyInterface {\n  @Override\n  public String generateKey() {\n    return &quot;Whatever&quot;;\n  }\n}\n</code></pre>\n<p><strong>Class which should not compile:</strong></p>\n<p>This class has some annotated and some non-annotated methods. One annotated method does <strong>not</strong> return <code>MyInterface</code> or any of its implementing classes. The goal is to fail compilation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  @MyAnnotation\n  public MyInterface annotatedMethodReturningInterface(int number) {\n    return new ExampleClass();\n  }\n\n  @MyAnnotation\n  public ExampleClass annotatedMethodReturningImplementingClass() {\n    return new ExampleClass();\n  }\n\n  @MyAnnotation\n  public String annotatedMethodReturningSomethingElse() {\n    // This one should not compile!\n    return &quot;Whatever&quot;;\n  }\n\n  public MyInterface nonAnnotatedMethodReturningInterface(int number) {\n    return new ExampleClass();\n  }\n\n  public ExampleClass nonAnnotatedMethodReturningImplementingClass() {\n    return new ExampleClass();\n  }\n\n  public String nonAnnotatedMethodReturningSomethingElse() {\n    return &quot;Whatever&quot;;\n  }\n}\n</code></pre>\n<p><strong>Convention-checking aspect (native AspectJ syntax):</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport de.scrum_master.app.MyAnnotation;\nimport de.scrum_master.app.MyInterface;\n\npublic aspect AnnotationCheckerAspect {\n  declare error :\n    @annotation(MyAnnotation) &amp;&amp; execution(* *(..)) &amp;&amp; !execution(MyInterface+ *(..)) :\n    &quot;Method annotated with @MyAnnotation must return MyInterface type&quot;;\n}\n</code></pre>\n<p>This aspect checks for</p>\n<ul>\n<li>all method executions</li>\n<li>where the method has <code>@MyAnnotation</code></li>\n<li>but where the return type is different from <code>MyInterface</code> or any subtype or implementing class.</li>\n</ul>\n<p>This is what the result looks like in Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/azatK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/azatK.png\" alt=\"Eclipse: compilation error\" /></a></p>\n<p>Of course the compilation error is just the same if you compile from command line or via AspectJ Maven plugin or similar.</p>\n<p>If you do not like native syntax (I prefer it but for some incomprehensible reason other people seem to prefer @AspectJ style):</p>\n<p><strong>Convention-checking aspect (annotation-based @AspectJ syntax):</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.DeclareError;\n\n@Aspect\npublic class AnnotationCheckerAspect {\n  @DeclareError(\n    &quot;@annotation(de.scrum_master.app.MyAnnotation) &amp;&amp; &quot; +\n    &quot;execution(* *(..)) &amp;&amp; &quot; +\n    &quot;!execution(de.scrum_master.app.MyInterface+ *(..))&quot;\n  )\n  static final String wrongSignatureError =\n  &quot;Method annotated with @MyAnnotation must return MyInterface type&quot;;\n}\n</code></pre>\n<p>See also my related answers here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/27121947/1082681\">https://stackoverflow.com/a/27121947/1082681</a></li>\n<li><a href=\"https://stackoverflow.com/a/54067850/1082681\">https://stackoverflow.com/a/54067850/1082681</a></li>\n<li><a href=\"https://stackoverflow.com/a/41700647/1082681\">https://stackoverflow.com/a/41700647/1082681</a></li>\n<li><a href=\"https://stackoverflow.com/a/27312472/1082681\">https://stackoverflow.com/a/27312472/1082681</a></li>\n<li><a href=\"https://stackoverflow.com/a/50126576/1082681\">https://stackoverflow.com/a/50126576/1082681</a></li>\n</ul>\n"}],"owner":{"account_id":4234690,"reputation":459,"user_id":3466192,"accept_rate":75,"display_name":"cagdasalagoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57831250,"answer_count":1,"score":2,"last_activity_date":1642173712,"creation_date":1567775451,"question_id":57822694,"body_markdown":"I want to create an annotation which is only available to a specific type of return values.\r\n\r\nFor example this is my annotation.\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.METHOD})\r\n    public @interface MyAnnotation {\r\n\r\n    }\r\n\r\nI also have an interface:\r\n\r\n    public interface MyInterface {\r\n        String generateKey();\r\n    }\r\nAn example class that implements my interface:\r\n\r\n    public class ExampleClass implements MyInterface {\r\n\r\n    @Override\r\n    public String generateKey() {\r\n       return &quot;Whatever&quot;;\r\n        }\r\n    }\r\n\r\nSo after these, I want to configure my annotation in a way that **it won&#39;t even compile** if the return type is not implementing `MyInterface`. \r\n\r\nIn this case, I expect this to compile fine:\r\n\r\n    @MyAnnotation\r\n    public ExampleClass anExampleMethod() {\r\n        return new ExampleClass();\r\n    }\r\n\r\nAnd this to not compile:\r\n\r\n\r\n    @MyAnnotation\r\n    public String anotherMethod() {\r\n        return &quot;Whatever&quot;;\r\n    }\r\n\r\n**I wonder if this is possible in any way.** Sure I can check if the parameters implements this interface in my Aspect class but it would be better to have this kind of protection in my library in order to prevent misuse of any annotation.\r\n\r\n","title":"Create custom method level annotation only available to specific return types [AOP]","body":"<p>I want to create an annotation which is only available to a specific type of return values.</p>\n\n<p>For example this is my annotation.</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD})\npublic @interface MyAnnotation {\n\n}\n</code></pre>\n\n<p>I also have an interface:</p>\n\n<pre><code>public interface MyInterface {\n    String generateKey();\n}\n</code></pre>\n\n<p>An example class that implements my interface:</p>\n\n<pre><code>public class ExampleClass implements MyInterface {\n\n@Override\npublic String generateKey() {\n   return \"Whatever\";\n    }\n}\n</code></pre>\n\n<p>So after these, I want to configure my annotation in a way that <strong>it won't even compile</strong> if the return type is not implementing <code>MyInterface</code>. </p>\n\n<p>In this case, I expect this to compile fine:</p>\n\n<pre><code>@MyAnnotation\npublic ExampleClass anExampleMethod() {\n    return new ExampleClass();\n}\n</code></pre>\n\n<p>And this to not compile:</p>\n\n<pre><code>@MyAnnotation\npublic String anotherMethod() {\n    return \"Whatever\";\n}\n</code></pre>\n\n<p><strong>I wonder if this is possible in any way.</strong> Sure I can check if the parameters implements this interface in my Aspect class but it would be better to have this kind of protection in my library in order to prevent misuse of any annotation.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1642173168,"post_id":70709887,"comment_id":125007675,"body_markdown":"Set break points and debug...","body":"Set break points and debug..."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1642173176,"post_id":70709887,"comment_id":125007681,"body_markdown":"I assume, your code is incomplete.. e.g. do you have all the necessary classes annotated with `@Entity`?","body":"I assume, your code is incomplete.. e.g. do you have all the necessary classes annotated with <code>@Entity</code>?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1642174285,"post_id":70709887,"comment_id":125008100,"body_markdown":"Garbage in, garbage out. Entities are pojos, so if you aren&#39;t populating the values in the Entity3/Entity2 instances you are associating to the new MyEntity, you get that same MyEntity instance and its references back. You would need to refresh the instances from the database to force reloading. Try em.refresh(myEntity) and return the result instead, but you are better off reading in entity2/3 instances using a find call and using that to set the references before the saveAndFlush call.","body":"Garbage in, garbage out. Entities are pojos, so if you aren&#39;t populating the values in the Entity3/Entity2 instances you are associating to the new MyEntity, you get that same MyEntity instance and its references back. You would need to refresh the instances from the database to force reloading. Try em.refresh(myEntity) and return the result instead, but you are better off reading in entity2/3 instances using a find call and using that to set the references before the saveAndFlush call."}],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642173049,"creation_date":1642173049,"answer_id":70712677,"question_id":70709887,"body_markdown":"When you create the DTO, the (existing) entities are not attached to the persistence context, so the corresponding data has not been loaded from the DB and cannot be copied to the DTO.\r\n\r\nOne option would be to load the entities e.g. via &#39;myRepository.findById...&#39; and associate the returned (managed) entities.","title":"Nested entities contains null after save","body":"<p>When you create the DTO, the (existing) entities are not attached to the persistence context, so the corresponding data has not been loaded from the DB and cannot be copied to the DTO.</p>\n<p>One option would be to load the entities e.g. via 'myRepository.findById...' and associate the returned (managed) entities.</p>\n"},{"tags":[],"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642173366,"creation_date":1642173366,"answer_id":70712737,"question_id":70709887,"body_markdown":"you missed some part of the many-to-one relation. first in ` MyEntity` class it was better to define a fetch type. in `Entity2` and `Entity3` you need to define `@OneToMany` as the other side of the relation with declaration of fetch type and `cascade = CascadeType.ALL` which simply tells to hibernate what it can do with relative entity when you are doing save, delete ,update. I reformat your code as following\r\n```\r\npublic class Entity2/3{\r\n   @Id\r\n   private Long id;\r\n   \r\n   @Column(name = &quot;code&quot;)\r\n   private String code;\r\n   \r\n   @Column(name = &quot;desc&quot;)\r\n   private String desc;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,mappedBy =&quot;fkEntity2&quot;,fetch=FetchType.LAZY)\r\nprivate List&lt;Entity2&gt; entityTwoList;\r\n// for Entity3\r\n@OneToMany(cascade = CascadeType.ALL,mappedBy =&quot;fkEntity3&quot;,fetch=FetchType.LAZY)\r\nprivate List&lt;Entity3&gt; entityThreeList;\r\n\r\npublic class MyEntity {\r\n  @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;FK_ENTITY2&quot;)\r\n    private Entity2 fkEntity2;\r\n\r\n   @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;FK_ENTITY3&quot;)\r\n    private Entity3 fkEntity3;\r\n}\r\n}\r\n```\r\n","title":"Nested entities contains null after save","body":"<p>you missed some part of the many-to-one relation. first in <code> MyEntity</code> class it was better to define a fetch type. in <code>Entity2</code> and <code>Entity3</code> you need to define <code>@OneToMany</code> as the other side of the relation with declaration of fetch type and <code>cascade = CascadeType.ALL</code> which simply tells to hibernate what it can do with relative entity when you are doing save, delete ,update. I reformat your code as following</p>\n<pre><code>public class Entity2/3{\n   @Id\n   private Long id;\n   \n   @Column(name = &quot;code&quot;)\n   private String code;\n   \n   @Column(name = &quot;desc&quot;)\n   private String desc;\n\n    @OneToMany(cascade = CascadeType.ALL,mappedBy =&quot;fkEntity2&quot;,fetch=FetchType.LAZY)\nprivate List&lt;Entity2&gt; entityTwoList;\n// for Entity3\n@OneToMany(cascade = CascadeType.ALL,mappedBy =&quot;fkEntity3&quot;,fetch=FetchType.LAZY)\nprivate List&lt;Entity3&gt; entityThreeList;\n\npublic class MyEntity {\n  @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;FK_ENTITY2&quot;)\n    private Entity2 fkEntity2;\n\n   @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;FK_ENTITY3&quot;)\n    private Entity3 fkEntity3;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":17354864,"reputation":71,"user_id":12572521,"display_name":"Frenk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70712677,"answer_count":2,"score":0,"last_activity_date":1642173366,"creation_date":1642159630,"question_id":70709887,"body_markdown":"I have an entity with some nested entities like this \r\n\r\n``` \r\npublic class MyEntity {\r\n    @ManyToOne\r\n\t@JoinColumn(name=&quot;FK_ENTITY2&quot;)\r\n\tprivate Entity2 fkEntity2;\r\n\r\n    @ManyToOne\r\n\t@JoinColumn(name=&quot;FK_ENTITY3&quot;)\r\n\tprivate Entity3 fkEntity3;\r\n}\r\n```\r\nwith entity2 and entity3 like this:\r\n\r\n```\r\npublic class Entity2/3{\r\n   @Id\r\n   private Long id;\r\n   \r\n   @Column(name = &quot;code&quot;)\r\n   private String code;\r\n   \r\n   @Column(name = &quot;desc&quot;)\r\n   private String desc;\r\n\r\n   //getter and setter etc\r\n}\r\n```\r\n\r\nBoth ```Entity2``` and ```Entity3``` have values stored in the database so when I&#39;m doing an insert on ```MyEntity```, I&#39;m doing this:\r\n\r\n```\r\n@Transactional\r\n@Service\r\npublic MyService {\r\n  //idFromController and otherIdFromController refers to existent records in the database\r\n  public MyDto save(Long idFromController, Long otherIdFromController){\r\n    Entity2 entity2 = new Entity2();\r\n    entity2.setId(idFromController);\r\n\r\n    Entity3 entity3 = new Entity3();\r\n    entity3.setId(otherIdFromController);\r\n\r\n    MyEntity newMyEntity = new MyEntity();\r\n    newMyEntity.setEntity2(entity2);\r\n    newMyEntity.setEntity3(entity3);\r\n\r\n    MyEntity result = myEntityRepository.saveAndFlush(newMyEntity);\r\n\r\n    return getDto(result);\r\n  }\r\n\r\n}\r\n```\r\n\r\nit works fine, the data are stored correctly in the DB with the correct foreign keys BUT...\r\nAfter insert I want to build a DTO which contains id, code and desc from the nested entities so something like this:\r\n\r\n```\r\nprivate MyDto getDto(MyEntity result){\r\n  MyDto dto = new MyDto();\r\n  dto.setId2(result.getEntity2().getId()); \r\n  dto.setCode2(result.getEntity2().getCode()); \r\n  dto.setDesc2(result.getEntity2().getDesc()); \r\n\r\n  dto.setId3(result.getEntity3().getId()); \r\n  dto.setCode3(result.getEntity3().getCode()); \r\n  dto.setDesc3(result.getEntity3().getDesc()); \r\n}\r\n```\r\nHere is the problem, I only got the id fields and null on code and description. \r\n\r\nWhen I call ```getDto()``` in a search it works and every field has the correct values, so it is something related to the insert transaction? how could I solve this? ","title":"Nested entities contains null after save","body":"<p>I have an entity with some nested entities like this</p>\n<pre><code>public class MyEntity {\n    @ManyToOne\n    @JoinColumn(name=&quot;FK_ENTITY2&quot;)\n    private Entity2 fkEntity2;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;FK_ENTITY3&quot;)\n    private Entity3 fkEntity3;\n}\n</code></pre>\n<p>with entity2 and entity3 like this:</p>\n<pre><code>public class Entity2/3{\n   @Id\n   private Long id;\n   \n   @Column(name = &quot;code&quot;)\n   private String code;\n   \n   @Column(name = &quot;desc&quot;)\n   private String desc;\n\n   //getter and setter etc\n}\n</code></pre>\n<p>Both <code>Entity2</code> and <code>Entity3</code> have values stored in the database so when I'm doing an insert on <code>MyEntity</code>, I'm doing this:</p>\n<pre><code>@Transactional\n@Service\npublic MyService {\n  //idFromController and otherIdFromController refers to existent records in the database\n  public MyDto save(Long idFromController, Long otherIdFromController){\n    Entity2 entity2 = new Entity2();\n    entity2.setId(idFromController);\n\n    Entity3 entity3 = new Entity3();\n    entity3.setId(otherIdFromController);\n\n    MyEntity newMyEntity = new MyEntity();\n    newMyEntity.setEntity2(entity2);\n    newMyEntity.setEntity3(entity3);\n\n    MyEntity result = myEntityRepository.saveAndFlush(newMyEntity);\n\n    return getDto(result);\n  }\n\n}\n</code></pre>\n<p>it works fine, the data are stored correctly in the DB with the correct foreign keys BUT...\nAfter insert I want to build a DTO which contains id, code and desc from the nested entities so something like this:</p>\n<pre><code>private MyDto getDto(MyEntity result){\n  MyDto dto = new MyDto();\n  dto.setId2(result.getEntity2().getId()); \n  dto.setCode2(result.getEntity2().getCode()); \n  dto.setDesc2(result.getEntity2().getDesc()); \n\n  dto.setId3(result.getEntity3().getId()); \n  dto.setCode3(result.getEntity3().getCode()); \n  dto.setDesc3(result.getEntity3().getDesc()); \n}\n</code></pre>\n<p>Here is the problem, I only got the id fields and null on code and description.</p>\n<p>When I call <code>getDto()</code> in a search it works and every field has the correct values, so it is something related to the insert transaction? how could I solve this?</p>\n"},{"tags":["java","ms-word","ms-wopi"],"answers":[{"tags":[],"owner":{"account_id":465123,"reputation":106,"user_id":869013,"display_name":"Nick McKenna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642173086,"creation_date":1642173086,"answer_id":70712684,"question_id":68525321,"body_markdown":"You can&#39;t restrict content in this way directly in the WOPI editor, but you could use an Add-In or server-side changes to the document (before you provide the document bytes to MS for the first time) to create read-only / undeletable content controls for text.\r\n\r\nI think you would need to use an AddIn to extract data analytics.","title":"How to restrict content and extract data for data analytics","body":"<p>You can't restrict content in this way directly in the WOPI editor, but you could use an Add-In or server-side changes to the document (before you provide the document bytes to MS for the first time) to create read-only / undeletable content controls for text.</p>\n<p>I think you would need to use an AddIn to extract data analytics.</p>\n"}],"owner":{"account_id":13672655,"reputation":319,"user_id":9865005,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642173086,"creation_date":1627280501,"question_id":68525321,"body_markdown":"I have gone through the WOPI integration in java. is there any ways to restrict content(Not editable) in the paragraph or finding the placeholder to extract data for analytics.\r\n\r\nThanks","title":"How to restrict content and extract data for data analytics","body":"<p>I have gone through the WOPI integration in java. is there any ways to restrict content(Not editable) in the paragraph or finding the placeholder to extract data for analytics.</p>\n<p>Thanks</p>\n"},{"tags":["java","gradle","matrix","nd4j"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1642171417,"post_id":70712305,"comment_id":125006921,"body_markdown":"A complex number is an object type in Java.  Unless the nd4j folks created a version that accepts a complex number object you&#39;re out of luck.  You&#39;ll have to do the work to create the real and complex matricies with double entries and do the math yourself for complex FFT.","body":"A complex number is an object type in Java.  Unless the nd4j folks created a version that accepts a complex number object you&#39;re out of luck.  You&#39;ll have to do the work to create the real and complex matricies with double entries and do the math yourself for complex FFT."},{"owner":{"account_id":21237922,"reputation":21,"user_id":15621861,"display_name":"Felix"},"score":0,"creation_date":1642197854,"post_id":70712305,"comment_id":125016224,"body_markdown":"Thank you very much, this explains a lot haha.","body":"Thank you very much, this explains a lot haha."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1642977364,"post_id":70712305,"comment_id":125211298,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642172419,"creation_date":1642172103,"answer_id":70712472,"question_id":70712305,"body_markdown":"Nd4j does not support complex ndarrays anymore. We did at one point but a lot of our ops did not directly support it. If you want to use FFTs with nd4j you&#39;ll have to do some sort of an approxmation or use a different library and convert you nd4j array to a toDoubleMatrix()/toDoubleVector() and back.\r\n\r\nNote that this will of course cause some performance penalties including copying data and a bit of memory overhead if you choose to go the copy route.\r\n\r\nApologies for the confusion there but hopefully that clears up why you don&#39;t see as many docs on it.\r\n\r\n\r\nFor the in memory representation a complex ndarray is usually just the components laid out as:\r\nreal, imaginary, real, imaginary\r\n\r\nin the in memory buffer. Nothing would stop you from creating that as well.\r\n","title":"Can&#39;t create complex matrices in nd4j","body":"<p>Nd4j does not support complex ndarrays anymore. We did at one point but a lot of our ops did not directly support it. If you want to use FFTs with nd4j you'll have to do some sort of an approxmation or use a different library and convert you nd4j array to a toDoubleMatrix()/toDoubleVector() and back.</p>\n<p>Note that this will of course cause some performance penalties including copying data and a bit of memory overhead if you choose to go the copy route.</p>\n<p>Apologies for the confusion there but hopefully that clears up why you don't see as many docs on it.</p>\n<p>For the in memory representation a complex ndarray is usually just the components laid out as:\nreal, imaginary, real, imaginary</p>\n<p>in the in memory buffer. Nothing would stop you from creating that as well.</p>\n"}],"owner":{"account_id":21237922,"reputation":21,"user_id":15621861,"display_name":"Felix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642172419,"creation_date":1642171284,"question_id":70712305,"body_markdown":"&lt;br&gt;\r\nI want to create a complex matrix in nd4j with the method `Nd4j.complexOnes(new int[]{1});`. &lt;br&gt;Sadly I get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n\tat org.nd4j.linalg.api.complex.BaseComplexNDArray.&lt;init&gt;(BaseComplexNDArray.java:244)\r\n\tat org.nd4j.linalg.api.complex.BaseComplexNDArray.&lt;init&gt;(BaseComplexNDArray.java:532)\r\n\tat org.nd4j.linalg.cpu.nativecpu.complex.ComplexNDArray.&lt;init&gt;(ComplexNDArray.java:227)\r\n\tat org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.createComplex(CpuNDArrayFactory.java:257)\r\n\tat org.nd4j.linalg.factory.BaseNDArrayFactory.createComplex(BaseNDArrayFactory.java:1558)\r\n\tat org.nd4j.linalg.factory.BaseNDArrayFactory.createComplex(BaseNDArrayFactory.java:1672)\r\n\tat org.nd4j.linalg.factory.BaseNDArrayFactory.complexOnes(BaseNDArrayFactory.java:1281)\r\n\tat org.nd4j.linalg.factory.Nd4j.complexOnes(Nd4j.java:5809)\r\n\tat de.GameOfReal.Multipliers.&lt;init&gt;(Multipliers.java:34)\r\n\tat de.GameOfReal.Multipliers.&lt;init&gt;(Multipliers.java:20)\r\n\tat de.GameOfReal.GameOfReal.&lt;init&gt;(GameOfReal.java:33)\r\n\tat de.GameOfReal.Main.&lt;init&gt;(Main.java:12)\r\n\tat de.GameOfReal.Main.main(Main.java:26)\r\n```\r\n\r\nI am using the following versions:\r\n\r\n```\r\nimplementation &#39;org.nd4j:nd4j-api:0.9.1&#39;\r\nimplementation &#39;org.nd4j:nd4j-native:0.9.1&#39;\r\nimplementation &#39;org.nd4j:nd4j-native-platform:0.9.1&#39;\r\n ```\r\n\r\nTo give more context, I wanted to use Fourier Transformation on a normal NDArray, but any FFT function did not work and I found out that it was caused by not being able to create complex matrices. \r\n\r\nI hope that I could give enough details, if you have questions, I&#39;ll answer right away.\r\n\r\nwith kind regards,&lt;br&gt;\r\nFelix","title":"Can&#39;t create complex matrices in nd4j","body":"<br>\nI want to create a complex matrix in nd4j with the method `Nd4j.complexOnes(new int[]{1});`. <br>Sadly I get the following error:\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at org.nd4j.linalg.api.complex.BaseComplexNDArray.&lt;init&gt;(BaseComplexNDArray.java:244)\n    at org.nd4j.linalg.api.complex.BaseComplexNDArray.&lt;init&gt;(BaseComplexNDArray.java:532)\n    at org.nd4j.linalg.cpu.nativecpu.complex.ComplexNDArray.&lt;init&gt;(ComplexNDArray.java:227)\n    at org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.createComplex(CpuNDArrayFactory.java:257)\n    at org.nd4j.linalg.factory.BaseNDArrayFactory.createComplex(BaseNDArrayFactory.java:1558)\n    at org.nd4j.linalg.factory.BaseNDArrayFactory.createComplex(BaseNDArrayFactory.java:1672)\n    at org.nd4j.linalg.factory.BaseNDArrayFactory.complexOnes(BaseNDArrayFactory.java:1281)\n    at org.nd4j.linalg.factory.Nd4j.complexOnes(Nd4j.java:5809)\n    at de.GameOfReal.Multipliers.&lt;init&gt;(Multipliers.java:34)\n    at de.GameOfReal.Multipliers.&lt;init&gt;(Multipliers.java:20)\n    at de.GameOfReal.GameOfReal.&lt;init&gt;(GameOfReal.java:33)\n    at de.GameOfReal.Main.&lt;init&gt;(Main.java:12)\n    at de.GameOfReal.Main.main(Main.java:26)\n</code></pre>\n<p>I am using the following versions:</p>\n<pre><code>implementation 'org.nd4j:nd4j-api:0.9.1'\nimplementation 'org.nd4j:nd4j-native:0.9.1'\nimplementation 'org.nd4j:nd4j-native-platform:0.9.1'\n</code></pre>\n<p>To give more context, I wanted to use Fourier Transformation on a normal NDArray, but any FFT function did not work and I found out that it was caused by not being able to create complex matrices.</p>\n<p>I hope that I could give enough details, if you have questions, I'll answer right away.</p>\n<p>with kind regards,<br>\nFelix</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1642118740,"post_id":70704547,"comment_id":124993743,"body_markdown":"If you are on a Mac this: `C:/Users/mydirectory/.m2/repository` is simply wrong because the Mac does not have `C:` you should instead use `/Users/...` apart from that you should not add that because that is the default so don&#39;t configure it if you don&#39;t need to...","body":"If you are on a Mac this: <code>C:&#47;Users&#47;mydirectory&#47;.m2&#47;repository</code> is simply wrong because the Mac does not have <code>C:</code> you should instead use <code>&#47;Users&#47;...</code> apart from that you should not add that because that is the default so don&#39;t configure it if you don&#39;t need to..."},{"owner":{"account_id":20278484,"reputation":1,"user_id":14872900,"display_name":"Geo"},"score":1,"creation_date":1642166167,"post_id":70704547,"comment_id":125004840,"body_markdown":"My apologies on that. I&#39;m primarily a Windows user and when I wrote this, threw the C: in out of habit. I don&#39;t actually have that in my files on my Mac. Thanks for pointing that out.","body":"My apologies on that. I&#39;m primarily a Windows user and when I wrote this, threw the C: in out of habit. I don&#39;t actually have that in my files on my Mac. Thanks for pointing that out."}],"answers":[{"tags":[],"owner":{"account_id":20278484,"reputation":1,"user_id":14872900,"display_name":"Geo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642171917,"creation_date":1642171917,"answer_id":70712436,"question_id":70704547,"body_markdown":"After spending way too much time looking at this, had overlooked a typo in a path that I just noticed. Now, it&#39;s working.","title":"Getting Maven to Recognize Local Docker Containers","body":"<p>After spending way too much time looking at this, had overlooked a typo in a path that I just noticed. Now, it's working.</p>\n"}],"owner":{"account_id":20278484,"reputation":1,"user_id":14872900,"display_name":"Geo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642171917,"creation_date":1642118254,"question_id":70704547,"body_markdown":"I&#39;m downloaded my company&#39;s code repositories to create a local development environment. We&#39;re using Docker containers. I&#39;m running a Mac using the Monterey OS with zsh. Plus, we&#39;re using maven and I have 3.8.4 installed on my machine.\r\n\r\nI cannot get maven to recognize my local repository. I goes to the network repository that I downloaded from and can&#39;t find it and gives errors.\r\n\r\nAt this point, I&#39;ve done quite a few things hoping they&#39;ll fix the problem, so far no luck. I added &lt;localRepository&gt; C:/Users/mydirectory/.m2/repository&lt;/LocalRepository&gt; to my settings.xml in my maven repository directory.\r\n\r\nI can&#39;t remember some of the other things I&#39;ve checked and changed. Yet I can&#39;t get maven to use my local downloads. It seems to build the parent but nothing else, and gives messages that it can&#39;t resolve and it is definitely looking at the network when it gives me the errors.\r\n\r\nIt says the POM is missing for the network items. I do have my POM in my parent directory. As a subdirectory, I have my docker-scripts. I have been just manually running the commands, at this point, trying to figure out where my issue is at.\r\n\r\nAny suggestions? I want to just use direct path as much as possible, hoping that forces most commands to go where I want them to.","title":"Getting Maven to Recognize Local Docker Containers","body":"<p>I'm downloaded my company's code repositories to create a local development environment. We're using Docker containers. I'm running a Mac using the Monterey OS with zsh. Plus, we're using maven and I have 3.8.4 installed on my machine.</p>\n<p>I cannot get maven to recognize my local repository. I goes to the network repository that I downloaded from and can't find it and gives errors.</p>\n<p>At this point, I've done quite a few things hoping they'll fix the problem, so far no luck. I added  C:/Users/mydirectory/.m2/repository to my settings.xml in my maven repository directory.</p>\n<p>I can't remember some of the other things I've checked and changed. Yet I can't get maven to use my local downloads. It seems to build the parent but nothing else, and gives messages that it can't resolve and it is definitely looking at the network when it gives me the errors.</p>\n<p>It says the POM is missing for the network items. I do have my POM in my parent directory. As a subdirectory, I have my docker-scripts. I have been just manually running the commands, at this point, trying to figure out where my issue is at.</p>\n<p>Any suggestions? I want to just use direct path as much as possible, hoping that forces most commands to go where I want them to.</p>\n"},{"tags":["javascript","java","reactjs","spring","spring-boot"],"comments":[{"owner":{"account_id":3618222,"reputation":158,"user_id":3017614,"display_name":"mEstrazulas"},"score":0,"creation_date":1642169771,"post_id":70711815,"comment_id":125006242,"body_markdown":"Maybe you can use the customization on Pageable: https://stackoverflow.com/questions/33318257/spring-data-jpa-custom-sort-in-jparepository","body":"Maybe you can use the customization on Pageable: <a href=\"https://stackoverflow.com/questions/33318257/spring-data-jpa-custom-sort-in-jparepository\" title=\"spring data jpa custom sort in jparepository\">stackoverflow.com/questions/33318257/&hellip;</a>"},{"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"score":0,"creation_date":1642169898,"post_id":70711815,"comment_id":125006298,"body_markdown":"@mEstrazulas I might just make the victory score a property field again in UserStats, and go back to the old way.","body":"@mEstrazulas I might just make the victory score a property field again in UserStats, and go back to the old way."}],"answers":[{"tags":[],"owner":{"account_id":3618222,"reputation":158,"user_id":3017614,"display_name":"mEstrazulas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642170518,"creation_date":1642170518,"answer_id":70712129,"question_id":70711815,"body_markdown":"Try something like this:\r\n\r\n    PageRequest pageRequest = new PageRequest(pageNumber, pageSize, new Sort(new Order(Direction.DESC, &quot;ORDER BY (VICTORIES/DEFEATS)&quot;))\r\n    Page page = myRepository.findAll(specification, pageRequest);\r\n\r\nWhere on ORDER BY you can put your ratio formula. In this case, we put the calculate on you SGDB.","title":"For a JPA entity with many to 1 relation to a data entity, how to sort a list of objects by the result of a method call of the data entity?","body":"<p>Try something like this:</p>\n<pre><code>PageRequest pageRequest = new PageRequest(pageNumber, pageSize, new Sort(new Order(Direction.DESC, &quot;ORDER BY (VICTORIES/DEFEATS)&quot;))\nPage page = myRepository.findAll(specification, pageRequest);\n</code></pre>\n<p>Where on ORDER BY you can put your ratio formula. In this case, we put the calculate on you SGDB.</p>\n"},{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642171671,"creation_date":1642171256,"answer_id":70712298,"question_id":70711815,"body_markdown":"You can order on a related entity as long as you join that entity in the query. You may need to define a custom query in your repository.\r\n\r\n```\r\n@Query(&quot;SELECT u from User u JOIN u.userStats us ORDER BY us.victoryRatio&quot;)\r\nList&lt;User&gt; findAllCustomSort();\r\n```\r\n\r\nHowever, obviously the database engine does the sorting here, independently of your code. You haven&#39;t shown us the contents of your `calculateVictory` method but if you must sort based on a calculation you do in code, it won&#39;t work. I doubt this is the case since you&#39;re just talking about moving the ratio to another entity, not starting to calculate it instead. But if so, you could of course always just sort the list in memory. Considering you&#39;re not using pagination, this wouldn&#39;t be too bad either.\r\n\r\nOr if you absolutely must sort in the database, then I don&#39;t think you&#39;ll have any choice but to create a custom function for it in the database. That would go a bit beyond the scope of this question though.","title":"For a JPA entity with many to 1 relation to a data entity, how to sort a list of objects by the result of a method call of the data entity?","body":"<p>You can order on a related entity as long as you join that entity in the query. You may need to define a custom query in your repository.</p>\n<pre><code>@Query(&quot;SELECT u from User u JOIN u.userStats us ORDER BY us.victoryRatio&quot;)\nList&lt;User&gt; findAllCustomSort();\n</code></pre>\n<p>However, obviously the database engine does the sorting here, independently of your code. You haven't shown us the contents of your <code>calculateVictory</code> method but if you must sort based on a calculation you do in code, it won't work. I doubt this is the case since you're just talking about moving the ratio to another entity, not starting to calculate it instead. But if so, you could of course always just sort the list in memory. Considering you're not using pagination, this wouldn't be too bad either.</p>\n<p>Or if you absolutely must sort in the database, then I don't think you'll have any choice but to create a custom function for it in the database. That would go a bit beyond the scope of this question though.</p>\n"}],"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642171671,"creation_date":1642169133,"question_id":70711815,"body_markdown":"I have a JPA entity User, which contains a OneToMany relation to a UserStats entity. I have refactored the existing code to use this new UserStats entity and previously to manage the victory ratio dependent features I was storing the victoryRatio within the User entity as a property.\r\n\r\nHowever, I decided it would be better to simply have a method return the victoryRatio, and so calculateVictoryRatio() was implemented into the UserDetails entity.\r\n\r\nThis has caused some issues, for example, I had a repository method within the UserRepo:\r\n\r\n    List&lt;User&gt; findAllByOrderByVictoryRatioDesc();\r\n\r\nI can no longer search the repo for this directly as the victoryRatio() method is within the UserStats of the User entity, and I don&#39;t think you can call methods in a repo method anyway?\r\n\r\nSo I am now trying to do within userService, but can&#39;t figure it out:\r\n\r\n    public List&lt;User&gt; getBestVSUsers() {\r\n\r\n        List&lt;User&gt; users = userRepository.findAll();\r\n        for (User user: users\r\n             ) {\r\n            user.getUserStats().get(0).calculateVictoryRatio();\r\n        }\r\n\r\n    }\r\nBut, I need to sort the above list based on the result of calculateVictoryRatio().\r\n\r\n\r\nAlso in my React frontend I was rendering this:\r\n\r\n \r\n\r\n       const topUserList = users.map(user =&gt; {\r\n                return &lt;tr key={user.id}&gt;\r\n                    &lt;td style={{ whiteSpace: &#39;nowrap&#39; }} class=&quot;player-list-key-text&quot;&gt;{user.name}&lt;/td&gt;\r\n                    &lt;td className=&quot;player-list-key-text&quot;&gt;{user.username}&lt;/td&gt;\r\n                    &lt;td className=&quot;player-list-key-text&quot;&gt;&lt;span className=&quot;defeats&quot;&gt;{user.victories}&lt;/span&gt;&lt;/td&gt;\r\n                    &lt;td className=&quot;player-list-key-text&quot;&gt;&lt;span className=&quot;victories&quot;&gt;{user.defeats}&lt;/span&gt;&lt;/td&gt;\r\n                    &lt;td className=&quot;player-list-key-text&quot;&gt;&lt;span className=&quot;victory-score&quot;&gt;{user.victoryRatio}&lt;/span&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            });\r\n\r\nHow can I render the victoryRatio, defeats and victories as above now they are encapsulated within the UserStats entity? Do I need to do a seperate fetch and combine the 2? Or can I do something like:\r\n\r\n{user.userStats[0].victories}\r\n\r\n\r\nHow can I do this? Is there a better way to do this? Can I call methods within the userRepo?\r\n\r\nThanks for the help\r\n\r\n","title":"For a JPA entity with many to 1 relation to a data entity, how to sort a list of objects by the result of a method call of the data entity?","body":"<p>I have a JPA entity User, which contains a OneToMany relation to a UserStats entity. I have refactored the existing code to use this new UserStats entity and previously to manage the victory ratio dependent features I was storing the victoryRatio within the User entity as a property.</p>\n<p>However, I decided it would be better to simply have a method return the victoryRatio, and so calculateVictoryRatio() was implemented into the UserDetails entity.</p>\n<p>This has caused some issues, for example, I had a repository method within the UserRepo:</p>\n<pre><code>List&lt;User&gt; findAllByOrderByVictoryRatioDesc();\n</code></pre>\n<p>I can no longer search the repo for this directly as the victoryRatio() method is within the UserStats of the User entity, and I don't think you can call methods in a repo method anyway?</p>\n<p>So I am now trying to do within userService, but can't figure it out:</p>\n<pre><code>public List&lt;User&gt; getBestVSUsers() {\n\n    List&lt;User&gt; users = userRepository.findAll();\n    for (User user: users\n         ) {\n        user.getUserStats().get(0).calculateVictoryRatio();\n    }\n\n}\n</code></pre>\n<p>But, I need to sort the above list based on the result of calculateVictoryRatio().</p>\n<p>Also in my React frontend I was rendering this:</p>\n<pre><code>   const topUserList = users.map(user =&gt; {\n            return &lt;tr key={user.id}&gt;\n                &lt;td style={{ whiteSpace: 'nowrap' }} class=&quot;player-list-key-text&quot;&gt;{user.name}&lt;/td&gt;\n                &lt;td className=&quot;player-list-key-text&quot;&gt;{user.username}&lt;/td&gt;\n                &lt;td className=&quot;player-list-key-text&quot;&gt;&lt;span className=&quot;defeats&quot;&gt;{user.victories}&lt;/span&gt;&lt;/td&gt;\n                &lt;td className=&quot;player-list-key-text&quot;&gt;&lt;span className=&quot;victories&quot;&gt;{user.defeats}&lt;/span&gt;&lt;/td&gt;\n                &lt;td className=&quot;player-list-key-text&quot;&gt;&lt;span className=&quot;victory-score&quot;&gt;{user.victoryRatio}&lt;/span&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        });\n</code></pre>\n<p>How can I render the victoryRatio, defeats and victories as above now they are encapsulated within the UserStats entity? Do I need to do a seperate fetch and combine the 2? Or can I do something like:</p>\n<p>{user.userStats[0].victories}</p>\n<p>How can I do this? Is there a better way to do this? Can I call methods within the userRepo?</p>\n<p>Thanks for the help</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1642169814,"post_id":70711767,"comment_id":125006269,"body_markdown":"Looks like you&#39;ve included the library twice in your project. Have a look at `build.gradle` `dependencies` and check that you don&#39;t have it coming from two different sources (e.g. maven dependency and a plain jar file).","body":"Looks like you&#39;ve included the library twice in your project. Have a look at <code>build.gradle</code> <code>dependencies</code> and check that you don&#39;t have it coming from two different sources (e.g. maven dependency and a plain jar file)."},{"owner":{"account_id":23805948,"reputation":13,"user_id":17815481,"display_name":"Momin"},"score":0,"creation_date":1642170031,"post_id":70711767,"comment_id":125006368,"body_markdown":"dependencies {\n\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\n    implementation files(&#39;libs/sqliteassethelper-2.0.1.jar&#39;)\n\n    testImplementation &#39;junit:junit:4.+&#39;\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\n\n    implementation &#39;com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1&#39;\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])}","body":"dependencies {      implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;     implementation &#39;com.google.android.material:material:1.4.0&#39;     implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;     implementation files(&#39;libs/sqliteassethelper-2.0.1.jar&#39;)      testImplementation &#39;junit:junit:4.+&#39;     androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;     androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;      implementation &#39;com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1&#39;     implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])}"},{"owner":{"account_id":23805948,"reputation":13,"user_id":17815481,"display_name":"Momin"},"score":0,"creation_date":1642170193,"post_id":70711767,"comment_id":125006426,"body_markdown":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.assets_db/com.example.assets_db.MainActivity}: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14 SQLITE_CANTOPEN): Could not open database","body":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.assets_db/com.example.assets_db.Ma&zwnj;&#8203;inActivity}: android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14 SQLITE_CANTOPEN): Could not open database"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642171592,"creation_date":1642171592,"answer_id":70712369,"question_id":70711767,"body_markdown":"&gt; implementation files(&#39;libs/sqliteassethelper-2.0.1.jar&#39;)\r\n&gt; implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\nThis includes the jar twice from libs. It&#39;s not an error but redundant anyway.\r\n\r\n&gt; implementation &#39;com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1&#39;\r\n\r\nThis includes the library from a maven repository.\r\n\r\nEither delete the jar file in libs and its `implementation` dependency, or delete the maven `implementation` dependency.","title":"implementation &#39;com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1&#39;","body":"<blockquote>\n<p>implementation files('libs/sqliteassethelper-2.0.1.jar')\nimplementation fileTree(dir: 'libs', include: ['*.jar'])</p>\n</blockquote>\n<p>This includes the jar twice from libs. It's not an error but redundant anyway.</p>\n<blockquote>\n<p>implementation 'com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1'</p>\n</blockquote>\n<p>This includes the library from a maven repository.</p>\n<p>Either delete the jar file in libs and its <code>implementation</code> dependency, or delete the maven <code>implementation</code> dependency.</p>\n"}],"owner":{"account_id":23805948,"reputation":13,"user_id":17815481,"display_name":"Momin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70712369,"answer_count":1,"score":0,"last_activity_date":1642171592,"creation_date":1642168926,"question_id":70711767,"body_markdown":"I have occurred the above-mentioned error and I could not find any answer from the internet as well as several books. If anyone can give me a solution, it will be very helpful for me to make my SQLite database\r\n\r\nclasses.dex\r\nType com.readystatesoftware.android.sqliteassethelper.BuildConfig is defined multiple times: C:\\Users\\..\\.gradle\\caches\\transforms-3\\b2257b2869a3735d41009b6b49890d4f\\transformed\\jetified-sqliteassethelper-2.0.1\\classes.dex, C:\\Users\\..\\Desktop\\Android-App\\Assets_DB\\app\\build\\intermediates\\external_file_lib_dex_archives\\debug\\0_jetified-sqliteassethelper-2.0.1.jar:classes.dex\r\ncom.android.tools.r8.CompilationFailedException: Compilation failed to complete, origin: C:\\Users\\Hayder\\.gradle\\caches\\transforms-3\\b2257b2869a3735d41009b6b49890d4f\\transformed\\jetified-sqliteassethelper-2.0.1\\classes.dex\r\ncom.android.tools.r8.internal.b: Type com.readystatesoftware.android.sqliteassethelper.BuildConfig is defined multiple times: C:\\Users\\Hayder\\.gradle\\caches\\transforms-3\\b2257b2869a3735d41009b6b49890d4f\\transformed\\jetified-sqliteassethelper-2.0.1\\classes.dex, C:\\Users\\Hayder\\Desktop\\Android-App\\Assets_DB\\app\\build\\intermediates\\external_file_lib_dex_archives\\debug\\0_jetified-sqliteassethelper-2.0.1.jar:classes.dex\r\n\r\n\r\npublic class MyDatabase extends SQLiteAssetHelper {\r\n\r\n    private static final String DATABASE_NAME = &quot;Engin.db&quot;;\r\n    private static final int DATABASE_VERSION = 1;\r\n    String sqlTables;\r\n\r\n    public MyDatabase(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n }\r\n\r\n    public Cursor getEmployees() {\r\n\r\n        SQLiteDatabase db = getReadableDatabase();\r\n        SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\r\n\r\n        String [] sqlSelect = {&quot;REG_NUMBER&quot;};\r\n        sqlTables = &quot;EngineDetail_Table&quot;;\r\n\r\n        qb.setTables(sqlTables);\r\n        Cursor c = qb.query(db, sqlSelect, null, null,\r\n                null, null, null);\r\n\r\n        c.moveToFirst();\r\n        return c;\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nHere is MainActivity.java class\r\n\r\npublic class MainActivity extends ListActivity {\r\n\r\n    private Cursor regNumbers;\r\n    private MyDatabase db;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        db = new MyDatabase(this);\r\n        regNumbers = db.getEmployees(); // you would not typically call this on the main thread\r\n        Log.d(&quot;Reg Numbers&quot; , regNumbers.getString(Integer.parseInt(&quot;REG_NUMBER&quot;)));\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        regNumbers.close();\r\n        db.close();\r\n    }\r\n\r\n}","title":"implementation &#39;com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1&#39;","body":"<p>I have occurred the above-mentioned error and I could not find any answer from the internet as well as several books. If anyone can give me a solution, it will be very helpful for me to make my SQLite database</p>\n<p>classes.dex\nType com.readystatesoftware.android.sqliteassethelper.BuildConfig is defined multiple times: C:\\Users...gradle\\caches\\transforms-3\\b2257b2869a3735d41009b6b49890d4f\\transformed\\jetified-sqliteassethelper-2.0.1\\classes.dex, C:\\Users..\\Desktop\\Android-App\\Assets_DB\\app\\build\\intermediates\\external_file_lib_dex_archives\\debug\\0_jetified-sqliteassethelper-2.0.1.jar:classes.dex\ncom.android.tools.r8.CompilationFailedException: Compilation failed to complete, origin: C:\\Users\\Hayder.gradle\\caches\\transforms-3\\b2257b2869a3735d41009b6b49890d4f\\transformed\\jetified-sqliteassethelper-2.0.1\\classes.dex\ncom.android.tools.r8.internal.b: Type com.readystatesoftware.android.sqliteassethelper.BuildConfig is defined multiple times: C:\\Users\\Hayder.gradle\\caches\\transforms-3\\b2257b2869a3735d41009b6b49890d4f\\transformed\\jetified-sqliteassethelper-2.0.1\\classes.dex, C:\\Users\\Hayder\\Desktop\\Android-App\\Assets_DB\\app\\build\\intermediates\\external_file_lib_dex_archives\\debug\\0_jetified-sqliteassethelper-2.0.1.jar:classes.dex</p>\n<p>public class MyDatabase extends SQLiteAssetHelper {</p>\n<pre><code>private static final String DATABASE_NAME = &quot;Engin.db&quot;;\nprivate static final int DATABASE_VERSION = 1;\nString sqlTables;\n\npublic MyDatabase(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n</code></pre>\n<p>}</p>\n<pre><code>public Cursor getEmployees() {\n\n    SQLiteDatabase db = getReadableDatabase();\n    SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n\n    String [] sqlSelect = {&quot;REG_NUMBER&quot;};\n    sqlTables = &quot;EngineDetail_Table&quot;;\n\n    qb.setTables(sqlTables);\n    Cursor c = qb.query(db, sqlSelect, null, null,\n            null, null, null);\n\n    c.moveToFirst();\n    return c;\n\n}\n</code></pre>\n<p>}</p>\n<p>Here is MainActivity.java class</p>\n<p>public class MainActivity extends ListActivity {</p>\n<pre><code>private Cursor regNumbers;\nprivate MyDatabase db;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    db = new MyDatabase(this);\n    regNumbers = db.getEmployees(); // you would not typically call this on the main thread\n    Log.d(&quot;Reg Numbers&quot; , regNumbers.getString(Integer.parseInt(&quot;REG_NUMBER&quot;)));\n\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    regNumbers.close();\n    db.close();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1642171719,"post_id":70712363,"comment_id":125007047,"body_markdown":"You cannot simply use their IP to connect to a client, especially if that client is a mobile phone which a) never has an own ip but is always on some private network and b) hopefully does not have any open ports. The phone has to poll for changes to some API.","body":"You cannot simply use their IP to connect to a client, especially if that client is a mobile phone which a) never has an own ip but is always on some private network and b) hopefully does not have any open ports. The phone has to poll for changes to some API."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1642171896,"post_id":70712363,"comment_id":125007124,"body_markdown":"If you have a server running on a mobile phone with mobile connection(not wifi) then your server is nor reachable from internet as most mobile providers block incoming connections.","body":"If you have a server running on a mobile phone with mobile connection(not wifi) then your server is nor reachable from internet as most mobile providers block incoming connections."},{"owner":{"account_id":17166208,"reputation":75,"user_id":12479599,"display_name":"Bocho"},"score":0,"creation_date":1642189718,"post_id":70712363,"comment_id":125013921,"body_markdown":"thanks, @f1sh, blackapps. Then, how people do that kind of things? I suppose that one way to do that is make the client execute requests, to the server, with volley all the time.... but, it doesn&#39;t look good in terms of performance....","body":"thanks, @f1sh, blackapps. Then, how people do that kind of things? I suppose that one way to do that is make the client execute requests, to the server, with volley all the time.... but, it doesn&#39;t look good in terms of performance...."}],"owner":{"account_id":17166208,"reputation":75,"user_id":12479599,"display_name":"Bocho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642171560,"creation_date":1642171560,"question_id":70712363,"body_markdown":"I&#39;m developing an android application, and I&#39;m stuck with the notification&#39;s thing. The users can be able to like images from other users. When it happens, the user who receive the like have to get a notification. To do that, on the client application, I have a service always running on the foreground and ServerSocket listening. On the other hand, I develop an API which insert the likes on the database. In my opinion, is At that moment when my API have to use a socket to communicate with the client. The problem is that I need the IP of the client to do that. One way to do it would be when the users log in the application save on the database their IP, and when they log out deleted it. I don&#39;t know if the IP of a mobile phone is always the same..... in this case it would work, but I don&#39;t know if is a good practice...\r\nSomebody knows a better way to do that?","title":"How make my API knows the IP of the client, to make a socket communication","body":"<p>I'm developing an android application, and I'm stuck with the notification's thing. The users can be able to like images from other users. When it happens, the user who receive the like have to get a notification. To do that, on the client application, I have a service always running on the foreground and ServerSocket listening. On the other hand, I develop an API which insert the likes on the database. In my opinion, is At that moment when my API have to use a socket to communicate with the client. The problem is that I need the IP of the client to do that. One way to do it would be when the users log in the application save on the database their IP, and when they log out deleted it. I don't know if the IP of a mobile phone is always the same..... in this case it would work, but I don't know if is a good practice...\nSomebody knows a better way to do that?</p>\n"},{"tags":["java","kotlin","hashmap"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1618352154,"creation_date":1618352154,"answer_id":67083080,"question_id":67082889,"body_markdown":"The inference engine only analyses one statement at a time.\r\n\r\nThe question is about the inference of the two type arguments to [`fun &lt;K, V&gt; hashMapOf(): HashMap&lt;K, V&gt;`][1], i.e. the types of `K` and `V`.\r\n\r\nIn the first example, `val data2 = hashMapOf(&quot;key&quot; to 10000)`, there is no requirement given for the result of `hashMapOf()`, so the engine uses the parameter to determine the two types. `&quot;key&quot; to 10000` is a pair of `String` to `Int`, so the result is that `K` is `String` and `V` is `Int`.\r\n\r\nIn the second example, `val a = Record(hashMapOf(&quot;key&quot; to 10000))`, the `Record` constructor *requires* that the type of the object returned by `hashMapOf()` *must be* an object that is assignment compatible with `HashMap&lt;String, Any?&gt;`. The inference engine therefore uses `K` as `String` and `V` as `Any`, and compilation accepts that, since `&quot;key&quot;` is compatible with `String` and `10000` is compatible with `Any?`.\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/hash-map-of.html","title":"Why can&#39;t Kotlin infer the type for this HashMap with a nullable value type?","body":"<p>The inference engine only analyses one statement at a time.</p>\n<p>The question is about the inference of the two type arguments to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/hash-map-of.html\" rel=\"noreferrer\"><code>fun &lt;K, V&gt; hashMapOf(): HashMap&lt;K, V&gt;</code></a>, i.e. the types of <code>K</code> and <code>V</code>.</p>\n<p>In the first example, <code>val data2 = hashMapOf(&quot;key&quot; to 10000)</code>, there is no requirement given for the result of <code>hashMapOf()</code>, so the engine uses the parameter to determine the two types. <code>&quot;key&quot; to 10000</code> is a pair of <code>String</code> to <code>Int</code>, so the result is that <code>K</code> is <code>String</code> and <code>V</code> is <code>Int</code>.</p>\n<p>In the second example, <code>val a = Record(hashMapOf(&quot;key&quot; to 10000))</code>, the <code>Record</code> constructor <em>requires</em> that the type of the object returned by <code>hashMapOf()</code> <em>must be</em> an object that is assignment compatible with <code>HashMap&lt;String, Any?&gt;</code>. The inference engine therefore uses <code>K</code> as <code>String</code> and <code>V</code> as <code>Any</code>, and compilation accepts that, since <code>&quot;key&quot;</code> is compatible with <code>String</code> and <code>10000</code> is compatible with <code>Any?</code>.</p>\n"},{"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642171282,"creation_date":1618414971,"answer_id":67094897,"question_id":67082889,"body_markdown":"To answer the first part of your question, a `HashMap` (or Kotlin `MutableMap`) is defined with generic parameters `K` and `V`, whilst a read-only `Map` is defined with generic parameters `K` and `out V`.\r\n\r\nThe `V` for a `Map` can have the `out` modifier because a `Map` is read-only, and therefore the value is only present in the &quot;out&quot; parts of its function signatures -- in other words, values of type `V` are only returned from the `Map`, never provided to the `Map`. See [Declaration-site Variance][1].\r\n\r\nAs noted in the answer by @Andreas, the inferred type of `hashMapOf(&quot;key&quot; to 10000)` is `HashMap&lt;String, Int&gt;`.\r\n\r\nWhen you define:\r\n\r\n```kotlin\r\nvar blah: HashMap&lt;String, Any?&gt;\r\n```\r\n\r\nthe compiler says: no, I can&#39;t take a `HashMap&lt;String, Int&gt;` and assign that to a variable of type `HashMap&lt;String, Any?&gt;` because someone could validly put something other than an `Int` in here later, which would clearly be incorrect.\r\n\r\nYou can tell the compiler &quot;no, its ok if something other than an Int goes in here&quot; by changing your assignment expression to explicitly specify the type, and then all is well:\r\n\r\n```\r\nval data2 = hashMapOf&lt;String, Any?&gt;(&quot;key&quot; to 10000)\r\n```\r\n\r\nCorrespondingly, when you define `blah` as a read-only `Map` rather than a mutable `HashMap` (or Kotlin `MutableMap`):\r\n\r\n```kotlin\r\nvar blah: Map&lt;String, Any?&gt;\r\n```\r\n\r\nthe compiler is OK with assigning a `HashMap&lt;String, Int&gt;` to it, because now `Any?` has `out` variance i.e. `blah` can only return `Any?`&#39;s, not accept them.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/generics.html#declaration-site-variance","title":"Why can&#39;t Kotlin infer the type for this HashMap with a nullable value type?","body":"<p>To answer the first part of your question, a <code>HashMap</code> (or Kotlin <code>MutableMap</code>) is defined with generic parameters <code>K</code> and <code>V</code>, whilst a read-only <code>Map</code> is defined with generic parameters <code>K</code> and <code>out V</code>.</p>\n<p>The <code>V</code> for a <code>Map</code> can have the <code>out</code> modifier because a <code>Map</code> is read-only, and therefore the value is only present in the &quot;out&quot; parts of its function signatures -- in other words, values of type <code>V</code> are only returned from the <code>Map</code>, never provided to the <code>Map</code>. See <a href=\"https://kotlinlang.org/docs/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">Declaration-site Variance</a>.</p>\n<p>As noted in the answer by @Andreas, the inferred type of <code>hashMapOf(&quot;key&quot; to 10000)</code> is <code>HashMap&lt;String, Int&gt;</code>.</p>\n<p>When you define:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var blah: HashMap&lt;String, Any?&gt;\n</code></pre>\n<p>the compiler says: no, I can't take a <code>HashMap&lt;String, Int&gt;</code> and assign that to a variable of type <code>HashMap&lt;String, Any?&gt;</code> because someone could validly put something other than an <code>Int</code> in here later, which would clearly be incorrect.</p>\n<p>You can tell the compiler &quot;no, its ok if something other than an Int goes in here&quot; by changing your assignment expression to explicitly specify the type, and then all is well:</p>\n<pre><code>val data2 = hashMapOf&lt;String, Any?&gt;(&quot;key&quot; to 10000)\n</code></pre>\n<p>Correspondingly, when you define <code>blah</code> as a read-only <code>Map</code> rather than a mutable <code>HashMap</code> (or Kotlin <code>MutableMap</code>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var blah: Map&lt;String, Any?&gt;\n</code></pre>\n<p>the compiler is OK with assigning a <code>HashMap&lt;String, Int&gt;</code> to it, because now <code>Any?</code> has <code>out</code> variance i.e. <code>blah</code> can only return <code>Any?</code>'s, not accept them.</p>\n"}],"owner":{"account_id":213874,"reputation":22203,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1534,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642171282,"creation_date":1618350889,"question_id":67082889,"body_markdown":"When I run this code, I get a `Type mismatch: inferred type is kotlin.collections.HashMap&lt;String, Int&gt; /* = java.util.HashMap&lt;String, Int&gt; */ but kotlin.collections.HashMap&lt;String, Any?&gt; /* = java.util.HashMap&lt;String, Any?&gt; */ was expected` error\r\n\r\n```\r\ndata class Record(\r\n        var blah: HashMap&lt;String, Any?&gt;\r\n)\r\n    \r\nfun test2() {\r\n        val data2 = hashMapOf(&quot;key&quot; to 10000)\r\n        val a = Record(data2)\r\n        println(a.blah)\r\n}\r\n```\r\nRun the above on Kotlin Playgrounds: https://pl.kotl.in/vL2n_Qrwo\r\n\r\nI only get this error when the type in the data class is a HashMap, I don&#39;t get it when it&#39;s just a Map (https://pl.kotl.in/f1V3Eeyj-). Why is this? It&#39;s fixed by explicitly specifying Any? (Any with a question mark, to specify that it&#39;s nullable) in the hashMapOf type so `hashMapOf&lt;String, Any?&gt;(&quot;key&quot; to 10000)`\r\n\r\nThe weirdest thing is if I don&#39;t create a new variable `data2` to hold the hashmap, it doesn&#39;t return any error! \r\n```\r\ndata class Record(\r\n        var blah: HashMap&lt;String, Any?&gt;\r\n)\r\n    \r\nfun test1() {\r\n    val a = Record(hashMapOf(&quot;key&quot; to 10000))\r\n    println(a.blah)\r\n}\r\n```\r\nRun this one on Kotlin Playgrounds: https://pl.kotl.in/K12q1Bd7B\r\n\r\nAs you can see, no errors. It makes no sense to me.","title":"Why can&#39;t Kotlin infer the type for this HashMap with a nullable value type?","body":"<p>When I run this code, I get a <code>Type mismatch: inferred type is kotlin.collections.HashMap&lt;String, Int&gt; /* = java.util.HashMap&lt;String, Int&gt; */ but kotlin.collections.HashMap&lt;String, Any?&gt; /* = java.util.HashMap&lt;String, Any?&gt; */ was expected</code> error</p>\n<pre><code>data class Record(\n        var blah: HashMap&lt;String, Any?&gt;\n)\n    \nfun test2() {\n        val data2 = hashMapOf(&quot;key&quot; to 10000)\n        val a = Record(data2)\n        println(a.blah)\n}\n</code></pre>\n<p>Run the above on Kotlin Playgrounds: <a href=\"https://pl.kotl.in/vL2n_Qrwo\" rel=\"nofollow noreferrer\">https://pl.kotl.in/vL2n_Qrwo</a></p>\n<p>I only get this error when the type in the data class is a HashMap, I don't get it when it's just a Map (<a href=\"https://pl.kotl.in/f1V3Eeyj-\" rel=\"nofollow noreferrer\">https://pl.kotl.in/f1V3Eeyj-</a>). Why is this? It's fixed by explicitly specifying Any? (Any with a question mark, to specify that it's nullable) in the hashMapOf type so <code>hashMapOf&lt;String, Any?&gt;(&quot;key&quot; to 10000)</code></p>\n<p>The weirdest thing is if I don't create a new variable <code>data2</code> to hold the hashmap, it doesn't return any error!</p>\n<pre><code>data class Record(\n        var blah: HashMap&lt;String, Any?&gt;\n)\n    \nfun test1() {\n    val a = Record(hashMapOf(&quot;key&quot; to 10000))\n    println(a.blah)\n}\n</code></pre>\n<p>Run this one on Kotlin Playgrounds: <a href=\"https://pl.kotl.in/K12q1Bd7B\" rel=\"nofollow noreferrer\">https://pl.kotl.in/K12q1Bd7B</a></p>\n<p>As you can see, no errors. It makes no sense to me.</p>\n"},{"tags":["java","spring","caching","ehcache"],"answers":[{"tags":[],"owner":{"account_id":121121,"reputation":5357,"user_id":313969,"display_name":"Matt Brock"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1344266201,"creation_date":1344262202,"answer_id":11829972,"question_id":11829383,"body_markdown":"CacheManager.getCache() returns a net.sf.ehcache.Cache, which has a getKeys() method that returns a list of cache keys that you can iterate over.  To retrieve the actual object that&#39;s been stored (as opposed to the wrapped net.sf.ehcache.Element), use the Element.getObjectValue().\r\n\r\nEDIT:\r\nAccording to Spring [it doesn&#39;t look like they will ever support Cache.getKeys()][1], so you&#39;ll have to cast to the underlying provider.\r\n\r\nSomething like this:\r\n\r\n    public boolean contains(String cacheName, Object o) {\r\n      net.sf.ehcache.EhCache cache = (net.sf.ehcache.EhCache) org.springframework.cache.CacheManager.getCache(cacheName).getNativeCache();\r\n      for (Object key: cache.getKeys()) {\r\n        Element element = cache.get(key);\r\n        if (element != null &amp;&amp; element.getObjectValue().equals(o)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n\r\n  [1]: https://jira.springsource.org/browse/SPR-8878","title":"How to Iterate on a cache entries","body":"<p>CacheManager.getCache() returns a net.sf.ehcache.Cache, which has a getKeys() method that returns a list of cache keys that you can iterate over.  To retrieve the actual object that's been stored (as opposed to the wrapped net.sf.ehcache.Element), use the Element.getObjectValue().</p>\n\n<p>EDIT:\nAccording to Spring <a href=\"https://jira.springsource.org/browse/SPR-8878\" rel=\"noreferrer\">it doesn't look like they will ever support Cache.getKeys()</a>, so you'll have to cast to the underlying provider.</p>\n\n<p>Something like this:</p>\n\n<pre><code>public boolean contains(String cacheName, Object o) {\n  net.sf.ehcache.EhCache cache = (net.sf.ehcache.EhCache) org.springframework.cache.CacheManager.getCache(cacheName).getNativeCache();\n  for (Object key: cache.getKeys()) {\n    Element element = cache.get(key);\n    if (element != null &amp;&amp; element.getObjectValue().equals(o)) {\n      return true;\n    }\n  }\n  return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11008091,"reputation":37,"user_id":8086436,"display_name":"Chandhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539244752,"creation_date":1539244752,"answer_id":52755059,"question_id":11829383,"body_markdown":"The below method will give a set of keys of cached objects, But here if you add your cache with keys then it&#39;s easy to retrieve(If you add directly list of objects to cache then it&#39;ll not work out).\r\n\r\nAlso, I used GuavaCache in the cache manager like below.\r\n\r\n    @Bean\r\n\tpublic CacheManager cacheManager() {\r\n\t\tSimpleCacheManager simpleCacheManager = new SimpleCacheManager();\r\n\t\t\r\n\t\tGuavaCache userLabCache = new GuavaCache(&quot;yourCacheName&quot;,\r\n\t\t\t\tCacheBuilder.newBuilder().expireAfterAccess(5, TimeUnit.MINUTES).build());\r\n\t\tsimpleCacheManager.setCaches(Arrays.asList(userLabCache));\r\n\t\treturn simpleCacheManager;\r\n\t}\r\nThen it&#39;ll return the list of keys as objects, then you&#39;ll get the keys and you can iterate through keys and get the objects one by one from the cache.\r\n\r\nAutowire Springboot CacheManager in your class\r\n\r\n    @Autowired\r\n\tCacheManager cacheManager;\r\n\r\nbelow is the code to get all keys.\r\n\r\n    public Set&lt;Object&gt; getAllCachedUserLabKeys() {\r\n\t\tSet&lt;Object&gt; keys = null;\r\n\t\ttry {\r\n\t\t\tGuavaCache cache = (GuavaCache) cacheManager.getCache(&quot;yourCacheName&quot;);\r\n\t\t\tif (cache != null) {\r\n\t\t\t\tConcurrentMap&lt;Object, Object&gt; cachedMap = cache.getNativeCache().asMap();\r\n\t\t\t\tkeys = cachedMap.keySet();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Unknown exception occured while fetchting all cached User Labs..!&quot;, e);\r\n\t\t}\r\n\t\treturn keys;\r\n\t}","title":"How to Iterate on a cache entries","body":"<p>The below method will give a set of keys of cached objects, But here if you add your cache with keys then it's easy to retrieve(If you add directly list of objects to cache then it'll not work out).</p>\n\n<p>Also, I used GuavaCache in the cache manager like below.</p>\n\n<pre><code>@Bean\npublic CacheManager cacheManager() {\n    SimpleCacheManager simpleCacheManager = new SimpleCacheManager();\n\n    GuavaCache userLabCache = new GuavaCache(\"yourCacheName\",\n            CacheBuilder.newBuilder().expireAfterAccess(5, TimeUnit.MINUTES).build());\n    simpleCacheManager.setCaches(Arrays.asList(userLabCache));\n    return simpleCacheManager;\n}\n</code></pre>\n\n<p>Then it'll return the list of keys as objects, then you'll get the keys and you can iterate through keys and get the objects one by one from the cache.</p>\n\n<p>Autowire Springboot CacheManager in your class</p>\n\n<pre><code>@Autowired\nCacheManager cacheManager;\n</code></pre>\n\n<p>below is the code to get all keys.</p>\n\n<pre><code>public Set&lt;Object&gt; getAllCachedUserLabKeys() {\n    Set&lt;Object&gt; keys = null;\n    try {\n        GuavaCache cache = (GuavaCache) cacheManager.getCache(\"yourCacheName\");\n        if (cache != null) {\n            ConcurrentMap&lt;Object, Object&gt; cachedMap = cache.getNativeCache().asMap();\n            keys = cachedMap.keySet();\n        }\n    } catch (Exception e) {\n        LOGGER.error(\"Unknown exception occured while fetchting all cached User Labs..!\", e);\n    }\n    return keys;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2516613,"reputation":500,"user_id":2187908,"display_name":"Abdelrahman Elattar"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1642171221,"creation_date":1568125681,"answer_id":57872973,"question_id":11829383,"body_markdown":"Another solution, cast org.springframework.cache.Cache to javax.cache.Cache by using getNativeCache() method and use java iterator as javax.cache.Cache already extends Iterable&lt;Cache.Entry&lt;K, V&gt;&gt;.\r\n\r\nfor more details read [javax.cache.Cache javadoc][1]\r\n\r\n        Cache cache = (Cache) cacheManager.getCache(&quot;yourCacheName&quot;).getNativeCache();\r\n        Iterator&lt;Cache.Entry&gt; iterator = cache.iterator();\r\n\r\n        while (iterator.hasNext()) {\r\n            String key = (String) iterator.next().getKey();\r\n            System.out.println(key);\r\n        }\r\n\r\n\r\n  [1]: https://static.javadoc.io/javax.cache/cache-api/1.0.0/javax/cache/Cache.html","title":"How to Iterate on a cache entries","body":"<p>Another solution, cast org.springframework.cache.Cache to javax.cache.Cache by using getNativeCache() method and use java iterator as javax.cache.Cache already extends Iterable&lt;Cache.Entry&lt;K, V&gt;&gt;.</p>\n<p>for more details read <a href=\"https://static.javadoc.io/javax.cache/cache-api/1.0.0/javax/cache/Cache.html\" rel=\"nofollow noreferrer\">javax.cache.Cache javadoc</a></p>\n<pre><code>    Cache cache = (Cache) cacheManager.getCache(&quot;yourCacheName&quot;).getNativeCache();\n    Iterator&lt;Cache.Entry&gt; iterator = cache.iterator();\n\n    while (iterator.hasNext()) {\n        String key = (String) iterator.next().getKey();\n        System.out.println(key);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622009102,"creation_date":1621605874,"answer_id":67638437,"question_id":11829383,"body_markdown":"I use this\r\n\r\nfirst endpoint will tell you the caches you have\r\n\r\nsecond endpoint will give you all the entries for a specific cache (with safe mapping)\r\n\r\nthird endpoint will give you all the entries for all your caches (with safe mapping)\r\n\r\n    import com.fasterxml.jackson.annotation.JsonAutoDetect;\r\n    import com.fasterxml.jackson.annotation.PropertyAccessor;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import com.github.benmanes.caffeine.cache.Cache;\r\n    import org.springframework.cache.CacheManager;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.ConcurrentMap;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;cache&quot;)\r\n    public class CacheController {\r\n        private final CacheManager cacheManager;\r\n        private final ObjectMapper objectMapper;\r\n    \r\n        public CacheController(final CacheManager cacheManager) {\r\n            this.cacheManager = cacheManager;\r\n            this.objectMapper = new ObjectMapper();\r\n            this.objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            this.objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n        }\r\n    \r\n        @GetMapping(&quot;/names&quot;)\r\n        public Collection&lt;String&gt; getCacheNames() {\r\n            return cacheManager.getCacheNames();\r\n        }\r\n    \r\n        @GetMapping(&quot;{cacheName}&quot;)\r\n        public Map&lt;String, Object&gt; getEntriesForCache(@PathVariable(name = &quot;cacheName&quot;) final String cacheName) throws JsonProcessingException {\r\n            final Cache&lt;String, Object&gt; cache = (Cache&lt;String, Object&gt;) cacheManager.getCache(cacheName).getNativeCache();\r\n    \r\n            final ConcurrentMap&lt;String, Object&gt; data = cache.asMap();\r\n            final String json = objectMapper.writeValueAsString(data);\r\n    \r\n            final TypeReference&lt;HashMap&lt;String,Object&gt;&gt; typeRef = new TypeReference&lt;&gt;() {};\r\n            return objectMapper.readValue(json, typeRef);\r\n        }\r\n    \r\n        @GetMapping(&quot;entries&quot;)\r\n        public Map&lt;String, Map&lt;String, Object&gt;&gt; getAllEntries() throws JsonProcessingException {\r\n            final Map&lt;String, Map&lt;String, Object&gt;&gt; entries = new HashMap&lt;&gt;();\r\n            for(final String cacheName: getCacheNames()){\r\n                entries.put(cacheName, getEntriesForCache(cacheName));\r\n            }\r\n            return entries;\r\n        }\r\n    }\r\n\r\n","title":"How to Iterate on a cache entries","body":"<p>I use this</p>\n<p>first endpoint will tell you the caches you have</p>\n<p>second endpoint will give you all the entries for a specific cache (with safe mapping)</p>\n<p>third endpoint will give you all the entries for all your caches (with safe mapping)</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonAutoDetect;\nimport com.fasterxml.jackson.annotation.PropertyAccessor;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.github.benmanes.caffeine.cache.Cache;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentMap;\n\n@RestController\n@RequestMapping(&quot;cache&quot;)\npublic class CacheController {\n    private final CacheManager cacheManager;\n    private final ObjectMapper objectMapper;\n\n    public CacheController(final CacheManager cacheManager) {\n        this.cacheManager = cacheManager;\n        this.objectMapper = new ObjectMapper();\n        this.objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n        this.objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n    }\n\n    @GetMapping(&quot;/names&quot;)\n    public Collection&lt;String&gt; getCacheNames() {\n        return cacheManager.getCacheNames();\n    }\n\n    @GetMapping(&quot;{cacheName}&quot;)\n    public Map&lt;String, Object&gt; getEntriesForCache(@PathVariable(name = &quot;cacheName&quot;) final String cacheName) throws JsonProcessingException {\n        final Cache&lt;String, Object&gt; cache = (Cache&lt;String, Object&gt;) cacheManager.getCache(cacheName).getNativeCache();\n\n        final ConcurrentMap&lt;String, Object&gt; data = cache.asMap();\n        final String json = objectMapper.writeValueAsString(data);\n\n        final TypeReference&lt;HashMap&lt;String,Object&gt;&gt; typeRef = new TypeReference&lt;&gt;() {};\n        return objectMapper.readValue(json, typeRef);\n    }\n\n    @GetMapping(&quot;entries&quot;)\n    public Map&lt;String, Map&lt;String, Object&gt;&gt; getAllEntries() throws JsonProcessingException {\n        final Map&lt;String, Map&lt;String, Object&gt;&gt; entries = new HashMap&lt;&gt;();\n        for(final String cacheName: getCacheNames()){\n            entries.put(cacheName, getEntriesForCache(cacheName));\n        }\n        return entries;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1370782,"reputation":51,"user_id":1306043,"display_name":"beheshtraya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630520099,"creation_date":1630520099,"answer_id":69018786,"question_id":11829383,"body_markdown":"    var cache = cacheManager.getCache(&quot;CACHE_NAME&quot;);\r\n    var nativeCache = (ConcurrentHashMap&lt;?, ?&gt;) cache.getNativeCache();\r\n\r\n    for (var entry: nativeCache.entrySet()){\r\n        // Access entry key and value\r\n        entry.getKey()\r\n        entry.getValue()\r\n    }","title":"How to Iterate on a cache entries","body":"<pre><code>var cache = cacheManager.getCache(&quot;CACHE_NAME&quot;);\nvar nativeCache = (ConcurrentHashMap&lt;?, ?&gt;) cache.getNativeCache();\n\nfor (var entry: nativeCache.entrySet()){\n    // Access entry key and value\n    entry.getKey()\n    entry.getValue()\n}\n</code></pre>\n"}],"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51657,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":11829972,"answer_count":5,"score":11,"last_activity_date":1642171221,"creation_date":1344260165,"question_id":11829383,"body_markdown":"I am using Spring3.1 in standalone Env.\r\nI am caching my entry using @Cachable annotation.\r\n\r\nSometimes I need to iterate on the caching list in order to get **specific value**(not key).\r\n\r\nSo I managed to retrieve the cached list but how could I iterate on it&#39;s elements.\r\n\r\n    private ClientDTO getClientDTOByClientId(Integer clientId)\r\n    {\r\n \r\n        Cache clientCache = null;\r\n        try\r\n        {\r\n            clientCache = ehCacheCacheManager.getCache(&quot;client&quot;);\r\n\r\n              //need here to iterate on clientCache. how?\r\n          \r\n          \r\n        }\r\n        catch (Exception e)\r\n        {\r\n            log.error(&quot;Couldnt retrieve client from cache. clientId=&quot; + clientId);\r\n        }\r\n        return clientDTO;\r\n    }\r\n\r\nI using  ehcache mechanism.\r\n\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;\r\n    \t\tp:cache-manager-ref=&quot;ehcache&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;ehcache&quot;\r\n    \t\tclass=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;\r\n    \t\tp:config-location=&quot;classpath:ehcache.xml&quot; /&gt;\r\n\r\n\r\n\r\nthanks,\r\nray.\r\n\r\n","title":"How to Iterate on a cache entries","body":"<p>I am using Spring3.1 in standalone Env.\nI am caching my entry using @Cachable annotation.</p>\n\n<p>Sometimes I need to iterate on the caching list in order to get <strong>specific value</strong>(not key).</p>\n\n<p>So I managed to retrieve the cached list but how could I iterate on it's elements.</p>\n\n<pre><code>private ClientDTO getClientDTOByClientId(Integer clientId)\n{\n\n    Cache clientCache = null;\n    try\n    {\n        clientCache = ehCacheCacheManager.getCache(\"client\");\n\n          //need here to iterate on clientCache. how?\n\n\n    }\n    catch (Exception e)\n    {\n        log.error(\"Couldnt retrieve client from cache. clientId=\" + clientId);\n    }\n    return clientDTO;\n}\n</code></pre>\n\n<p>I using  ehcache mechanism.</p>\n\n<pre><code>&lt;bean id=\"cacheManager\" class=\"org.springframework.cache.ehcache.EhCacheCacheManager\"\n        p:cache-manager-ref=\"ehcache\" /&gt;\n\n    &lt;bean id=\"ehcache\"\n        class=\"org.springframework.cache.ehcache.EhCacheManagerFactoryBean\"\n        p:config-location=\"classpath:ehcache.xml\" /&gt;\n</code></pre>\n\n<p>thanks,\nray.</p>\n"},{"tags":["java","mockito","maven-3"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1627740566,"post_id":68602836,"comment_id":121239834,"body_markdown":"can you provide a _minimal, reproducible_ example?","body":"can you provide a <i>minimal, reproducible</i> example?"},{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1627740598,"post_id":68602836,"comment_id":121239839,"body_markdown":"Is there any error related to mockitomaker","body":"Is there any error related to mockitomaker"},{"owner":{"account_id":1349597,"reputation":579,"user_id":1289618,"accept_rate":69,"display_name":"gamerx"},"score":0,"creation_date":1627741393,"post_id":68602836,"comment_id":121240016,"body_markdown":"You mean Mockmaker?  That is the first line of the output from above. \n\njava.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)","body":"You mean Mockmaker?  That is the first line of the output from above.   java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)"},{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1627741609,"post_id":68602836,"comment_id":121240066,"body_markdown":"Yeah I noticed it after","body":"Yeah I noticed it after"}],"answers":[{"tags":[],"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627740821,"creation_date":1627740821,"answer_id":68602891,"question_id":68602836,"body_markdown":"* Mockito core depends on a library called byte-buddy and this problem is mostly occurred when mockito doesn’t find a matching byte buddy jar version.\r\n\r\n* Find out the mockito core version your project is using. In eclipse, you can check in project build path by navigating to\r\nRight click on project -&gt; Properties -&gt; Java build path -&gt; Libraries tab\r\n\r\n[![Core dependency][1]][1]\r\n\r\n* Search maven repository for that version of mockito core.\r\n\r\n* Look at the Compile Dependencies section. Note down the correct dependent version of byte-buddy and include in the project. If the jar is already included with some other version, override the version with this correct version.\r\n\r\n[![Jar version][2]][2]\r\n\r\nBuild the application and run the tests again. Your issue related to MockMaker must be solved by now.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oiXdP.png\r\n  [2]: https://i.stack.imgur.com/og6Lp.png","title":"Mockito on JDK16 and Mac OS - Could not initialize plugin","body":"<ul>\n<li><p>Mockito core depends on a library called byte-buddy and this problem is mostly occurred when mockito doesn’t find a matching byte buddy jar version.</p>\n</li>\n<li><p>Find out the mockito core version your project is using. In eclipse, you can check in project build path by navigating to\nRight click on project -&gt; Properties -&gt; Java build path -&gt; Libraries tab</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/oiXdP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oiXdP.png\" alt=\"Core dependency\" /></a></p>\n<ul>\n<li><p>Search maven repository for that version of mockito core.</p>\n</li>\n<li><p>Look at the Compile Dependencies section. Note down the correct dependent version of byte-buddy and include in the project. If the jar is already included with some other version, override the version with this correct version.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/og6Lp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/og6Lp.png\" alt=\"Jar version\" /></a></p>\n<p>Build the application and run the tests again. Your issue related to MockMaker must be solved by now.</p>\n"},{"tags":[],"owner":{"account_id":23940919,"reputation":1,"user_id":17934053,"display_name":"Pat Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642171161,"creation_date":1642171161,"answer_id":70712274,"question_id":68602836,"body_markdown":"In my case I was running with an old 1.8 JDK.  As of this writing with the dependencies below, it has to be Java 11.\r\n\r\n\ttestImplementation(platform(&#39;org.junit:junit-bom:5.8.2&#39;))\r\n\ttestImplementation(&#39;org.junit.jupiter:junit-jupiter&#39;)\r\n\ttestImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-junit-jupiter&#39;, version: &#39;4.2.0&#39;\r\n\ttestImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-inline&#39;, version: &#39;4.2.0&#39;\r\n    testRuntime(&#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;)\r\n","title":"Mockito on JDK16 and Mac OS - Could not initialize plugin","body":"<p>In my case I was running with an old 1.8 JDK.  As of this writing with the dependencies below, it has to be Java 11.</p>\n<pre><code>testImplementation(platform('org.junit:junit-bom:5.8.2'))\ntestImplementation('org.junit.jupiter:junit-jupiter')\ntestImplementation group: 'org.mockito', name: 'mockito-junit-jupiter', version: '4.2.0'\ntestImplementation group: 'org.mockito', name: 'mockito-inline', version: '4.2.0'\ntestRuntime('org.junit.jupiter:junit-jupiter-engine:5.8.2')\n</code></pre>\n"}],"owner":{"account_id":1349597,"reputation":579,"user_id":1289618,"accept_rate":69,"display_name":"gamerx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1160,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642171161,"creation_date":1627740414,"question_id":68602836,"body_markdown":"    java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)\r\n    Caused by: java.lang.IllegalStateException: Failed to load interface org.mockito.plugins.MockMaker implementation declared in java.lang.CompoundEnumeration@4158debd\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    Caused by: org.mockito.exceptions.base.MockitoInitializationException: \r\n    \r\n    Could not initialize inline Byte Buddy mock maker.\r\n    \r\n        \r\n    It appears as if your JDK does not supply a working agent attachment mechanism.\r\n        Java               : 16\r\n        JVM vendor name    : Oracle Corporation\r\n        JVM vendor version : 16.0.2+7-67\r\n        JVM name           : Java HotSpot(TM) 64-Bit Server VM\r\n        JVM version        : 16.0.2+7-67\r\n        JVM info           : mixed mode, sharing\r\n        OS name            : Mac OS X\r\n        OS version         : 11.5\r\n        \r\n        Caused by: java.lang.IllegalStateException: Could not self-attach to current VM using external process\r\n\r\nGetting the above error on Maven 3.8.1 and JDK16.02 with Mockito 3.7.7, on a fresh setup and cannot figure out why. I have tried every Mockito version from 3.7 all the way to 3.11 to no avail. \r\n\r\nThese configurations however works on an older setup based on JDK15 on Windows 10 Pro. ","title":"Mockito on JDK16 and Mac OS - Could not initialize plugin","body":"<pre><code>java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)\nCaused by: java.lang.IllegalStateException: Failed to load interface org.mockito.plugins.MockMaker implementation declared in java.lang.CompoundEnumeration@4158debd\nCaused by: java.lang.reflect.InvocationTargetException\nCaused by: org.mockito.exceptions.base.MockitoInitializationException: \n\nCould not initialize inline Byte Buddy mock maker.\n\n    \nIt appears as if your JDK does not supply a working agent attachment mechanism.\n    Java               : 16\n    JVM vendor name    : Oracle Corporation\n    JVM vendor version : 16.0.2+7-67\n    JVM name           : Java HotSpot(TM) 64-Bit Server VM\n    JVM version        : 16.0.2+7-67\n    JVM info           : mixed mode, sharing\n    OS name            : Mac OS X\n    OS version         : 11.5\n    \n    Caused by: java.lang.IllegalStateException: Could not self-attach to current VM using external process\n</code></pre>\n<p>Getting the above error on Maven 3.8.1 and JDK16.02 with Mockito 3.7.7, on a fresh setup and cannot figure out why. I have tried every Mockito version from 3.7 all the way to 3.11 to no avail.</p>\n<p>These configurations however works on an older setup based on JDK15 on Windows 10 Pro.</p>\n"},{"tags":["java","decode","encode"],"answers":[{"tags":[],"owner":{"account_id":7767908,"reputation":75,"user_id":5878554,"display_name":"Keks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637858669,"creation_date":1637858669,"answer_id":70114673,"question_id":70114520,"body_markdown":"The main problem is that you are overwriting your result in each iteration.\r\nInstead you want to append the character to the result string.\r\nYou can simply do that with\r\n\r\n    result = result + Character.toString(x);\r\n    result += Character.toString(x); // shorter version\r\n    result += x; // java can append characters to strings without explicit conversion\r\n\r\nAccording to the comment that is - even tho it is working - not the desired solution anyways. The task is to create a new character array and fill it.\r\n\r\nDo that by creating a new array of the same length as the original, iterating over the indexes of your arrays ( `for (int i=0; i&lt;chars.length; i++)` ) and for each index write the updated character into the new array. The string class has a constructor that accepts a char array.","title":"How to write a for loop for encoding and decoding in java? the program only encode one letter when I enter a string. College level 1 lesson","body":"<p>The main problem is that you are overwriting your result in each iteration.\nInstead you want to append the character to the result string.\nYou can simply do that with</p>\n<pre><code>result = result + Character.toString(x);\nresult += Character.toString(x); // shorter version\nresult += x; // java can append characters to strings without explicit conversion\n</code></pre>\n<p>According to the comment that is - even tho it is working - not the desired solution anyways. The task is to create a new character array and fill it.</p>\n<p>Do that by creating a new array of the same length as the original, iterating over the indexes of your arrays ( <code>for (int i=0; i&lt;chars.length; i++)</code> ) and for each index write the updated character into the new array. The string class has a constructor that accepts a char array.</p>\n"}],"owner":{"account_id":23234899,"reputation":31,"user_id":17325022,"display_name":"Kevin"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1637858870,"accepted_answer_id":70114673,"answer_count":1,"score":-3,"last_activity_date":1642171139,"creation_date":1637857914,"question_id":70114520,"body_markdown":"I should write a encoding and decoding program in a class and then use it in main. The program needs the position for each letter to increase by 2. \r\n\r\nWhen I run the program, the problem is that when I enter a string (like cookie), only the last letter is encoding. Here is a [Screenshot of program running][1].\r\n\r\nWhat is the problem for my program.\r\n\r\nThanks.\r\n\r\nThe lesson is very basic tho and the assignment are forbid students import any other java method like base64.Only use the starter code.\r\n\r\nThe code I will put here as well\r\n\r\npublic class SimpleCipher {\r\n\t\r\n    /*\r\n     * comments here to overview the method\r\n     */\r\n\tpublic String encode(String text) {\r\n\t\tString result = &quot;&quot;;\r\n\t\t\r\n\t\t\r\n\t\tchar[] chars = text.toCharArray();\r\n\t\tint length = chars.length;\r\n\t\t\t\r\n\t\t\r\n\t\t        \r\n\t\tfor (char x: chars) {\r\n\t\t\t\r\n\t\t\tx+=2;\r\n\t\t\t\r\n\t\t\tresult = Character.toString(x);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// ToDo\r\n\t\t// convert text into char array\r\n\t\t// reverse the array using provided method (see below)\r\n\t\t// loop over array adding 2 to each element\r\n\t\t// convert the char array back to a String named result\r\n\t\t// return the resulting String.\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JyKCe.png","title":"How to write a for loop for encoding and decoding in java? the program only encode one letter when I enter a string. College level 1 lesson","body":"<p>I should write a encoding and decoding program in a class and then use it in main. The program needs the position for each letter to increase by 2.</p>\n<p>When I run the program, the problem is that when I enter a string (like cookie), only the last letter is encoding. Here is a <a href=\"https://i.stack.imgur.com/JyKCe.png\" rel=\"nofollow noreferrer\">Screenshot of program running</a>.</p>\n<p>What is the problem for my program.</p>\n<p>Thanks.</p>\n<p>The lesson is very basic tho and the assignment are forbid students import any other java method like base64.Only use the starter code.</p>\n<p>The code I will put here as well</p>\n<p>public class SimpleCipher {</p>\n<pre><code>/*\n * comments here to overview the method\n */\npublic String encode(String text) {\n    String result = &quot;&quot;;\n    \n    \n    char[] chars = text.toCharArray();\n    int length = chars.length;\n        \n    \n            \n    for (char x: chars) {\n        \n        x+=2;\n        \n        result = Character.toString(x);\n        \n    }\n    \n    \n    // ToDo\n    // convert text into char array\n    // reverse the array using provided method (see below)\n    // loop over array adding 2 to each element\n    // convert the char array back to a String named result\n    // return the resulting String.\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring","soap"],"comments":[{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":0,"creation_date":1642347052,"post_id":70711916,"comment_id":125041356,"body_markdown":"You say the WSDL you use with SoapUI is working for sending requests. Did you use the same WSDL to generate you client code? Unless those imports are messing up the jaxb generation in some way, your generated classes should have the proper namespaces. I suggest you delete the generated classes and generate them again. Annotation says `.../employee` but the message is sent with `.../position`? That&#39;s really weird. Clean project and recompile. Try to also loge the SOAP message that&#39;s going out, maybe you get some clues from there also...","body":"You say the WSDL you use with SoapUI is working for sending requests. Did you use the same WSDL to generate you client code? Unless those imports are messing up the jaxb generation in some way, your generated classes should have the proper namespaces. I suggest you delete the generated classes and generate them again. Annotation says <code>...&#47;employee</code> but the message is sent with <code>...&#47;position</code>? That&#39;s really weird. Clean project and recompile. Try to also loge the SOAP message that&#39;s going out, maybe you get some clues from there also..."},{"owner":{"account_id":5448480,"reputation":761,"user_id":4334147,"accept_rate":91,"display_name":"Alex"},"score":0,"creation_date":1642409724,"post_id":70711916,"comment_id":125054043,"body_markdown":"@Bogdan I tried to delete and create classes many times without any effect. Also the wsdl service is out of my control. But maybe you are right, maybe it is worth to change the class a little bit. Actually I tried to call wsdl via simple ```HttpClient``` and it is working well.","body":"@Bogdan I tried to delete and create classes many times without any effect. Also the wsdl service is out of my control. But maybe you are right, maybe it is worth to change the class a little bit. Actually I tried to call wsdl via simple <code>HttpClient</code> and it is working well."}],"owner":{"account_id":5448480,"reputation":761,"user_id":4334147,"accept_rate":91,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642170490,"creation_date":1642169605,"question_id":70711916,"body_markdown":"\r\nEverything is working good when I use Postman or SoapUI. But when I try to perform requests programmatically I always getting the error:\r\n```org.springframework.ws.soap.client.SoapFaultClientException: Message part {http://atria.cz/employee/main/position}getEmployeesRequest was not recognized.  (Does it exist in service WSDL?)``` here is my class - it was autogenerated by maven-jaxb2-plugin according to https://spring.io/guides/gs/consuming-web-service/:\r\n\r\n```\r\n@XmlRootElement\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;getEmployeesRequest&quot;, namespace = &quot;http://atria.cz/employee/main/employee&quot;, propOrder = {\r\n    &quot;organization&quot;\r\n})\r\npublic class GetEmployeesRequest {\r\n\r\n    @XmlElement(required = true)\r\n    protected String organization;\r\n\r\n    public String getOrganization() {\r\n        return organization;\r\n    }\r\n\r\n    public void setOrganization(String value) {\r\n        this.organization = value;\r\n    }\r\n\r\n}\r\n```\r\nhere is my @Configuration:\r\n```\r\n@Configuration\r\npublic class EmployeesConfiguration {\r\n    @Bean\r\n    public Jaxb2Marshaller marshallerEmployees() {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        // this package must match the package in the &lt;generatePackage&gt; specified in\r\n        // pom.xml\r\n        marshaller.setContextPath(&quot;com.example.demoSeven.employees.wsdl&quot;);\r\n        return marshaller;\r\n    }\r\n\r\n    @Bean\r\n    public EmployeesClient getEmployeesClient(Jaxb2Marshaller marshallerEmployees) {\r\n        EmployeesClient client = new EmployeesClient();\r\n        client.setDefaultUri(&quot;https://develop.is-mis.com/employees-ws/service?wsdl&quot;);\r\n        client.setMarshaller(marshallerEmployees);\r\n        client.setUnmarshaller(marshallerEmployees);\r\n        return client;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe client code:\r\n\r\n```\r\npublic class EmployeesClient extends WebServiceGatewaySupport {\r\n\r\n    private final String url = &quot;https://develop.is-mis.com/employees-ws/service?wsdl&quot;;\r\n\r\n    public GetEmployeesResponse getEmployeeList(String orgId, String login, String password) {\r\n\r\n        String encodeBytes = Base64.getEncoder().encodeToString((login + &quot;:&quot; + password).getBytes());\r\n\r\n        WebServiceMessageCallback callback = new WebServiceMessageCallback() {\r\n            @Override\r\n            public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\r\n                TransportContext context = TransportContextHolder.getTransportContext();\r\n                HttpUrlConnection connection = (HttpUrlConnection)context.getConnection();\r\n                connection.addRequestHeader( &quot;Authorization&quot;, &quot;Basic &quot; + encodeBytes);\r\n            }\r\n        };\r\n\r\n        GetEmployeesRequest request = new GetEmployeesRequest();\r\n        request.setOrganization(orgId);\r\n\r\n        JAXBElement&lt;GetEmployeesResponse&gt; response =\r\n                (JAXBElement&lt;GetEmployeesResponse&gt;) getWebServiceTemplate()\r\n                        .marshalSendAndReceive(url, request, callback);\r\n        return response.getValue();\r\n\r\n    }\r\n}\r\n```\r\nCall code:\r\n\r\n```\r\npublic class DemoSevenApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoSevenApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tCommandLineRunner runner(RefsClient refsClient, EmployeesClient employeesClient) {\r\n\t\treturn args -&gt; {\r\n\t\t\tGetEmployeesResponse employeeResponse = employeesClient.getEmployeeList(&quot;12345&quot;, &quot;Login&quot;, &quot;Password&quot;);\r\n\t\t\temployeeResponse.getEmployee().forEach(System.out::println);\r\n\t\t};\r\n\t}\r\n\r\n\r\n}\r\n```\r\nSchema types:\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n                  xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n                  xmlns:tns=&quot;http://atria.cz/employee/main&quot;\r\n                  xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\r\n                  xmlns:pos=&quot;http://atria.cz/employee/main/position&quot;\r\n                  xmlns:emp=&quot;http://atria.cz/employee/main/employee&quot;\r\n                  xmlns:edu=&quot;http://atria.cz/employee/main/education&quot;\r\n                  xmlns:bi=&quot;http://atria.cz/common/base/info/build/&quot; name=&quot;employeeService&quot; targetNamespace=&quot;http://atria.cz/employee/main&quot;&gt;\r\n    &lt;wsdl:types&gt;\r\n        &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n                    xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n                    xmlns:tns=&quot;http://atria.cz/employee/main&quot;\r\n                    xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\r\n                    xmlns:pos=&quot;http://atria.cz/employee/main/position&quot;\r\n                    xmlns:emp=&quot;http://atria.cz/employee/main/employee&quot;\r\n                    xmlns:edu=&quot;http://atria.cz/employee/main/education&quot;\r\n                    xmlns:bi=&quot;http://atria.cz/common/base/info/build/&quot;&gt;\r\n\r\n            &lt;xsd:import namespace=&quot;http://atria.cz/employee/main/employee&quot; schemaLocation=&quot;https://develop.is-mis.com/employees-ws/service?xsd=employee.xsd&quot;/&gt;\r\n\r\n            &lt;xsd:import namespace=&quot;http://atria.cz/employee/main/position&quot; schemaLocation=&quot;https://develop.is-mis.com/employees-ws/service?xsd=position.xsd&quot;/&gt;\r\n\r\n            &lt;xsd:import namespace=&quot;http://atria.cz/employee/main/education&quot; schemaLocation=&quot;https://develop.is-mis.com/employees-ws/service?xsd=education.xsd&quot;/&gt;\r\n\r\n            &lt;xsd:import namespace=&quot;http://atria.cz/common/base/info/build/&quot; schemaLocation=&quot;https://develop.is-mis.com/employees-ws/service?xsd=http://atria.cz/common/base/buildInfo.xsd&quot;/&gt;\r\n\r\n        &lt;/xsd:schema&gt;\r\n    &lt;/wsdl:types&gt;\r\n\r\n&lt;!-- ... --&gt;\r\n\r\n    &lt;wsdl:message name=&quot;getEmployeesRequest&quot;&gt;\r\n        &lt;wsdl:part element=&quot;emp:getEmployeesRequest&quot; name=&quot;request&quot;&gt;\r\n        &lt;/wsdl:part&gt;\r\n    &lt;/wsdl:message&gt;\r\n\r\n&lt;!-- ... --&gt;\r\n```\r\nAs I understood the type is correct ```emp``` and  ```xmlns:emp=&quot;http://atria.cz/employee/main/employee&quot; ``` not ```position```. So I have no idea why i am getting the error.","title":"Spring SOAP SoapFaultClientException","body":"<p>Everything is working good when I use Postman or SoapUI. But when I try to perform requests programmatically I always getting the error:\n<code>org.springframework.ws.soap.client.SoapFaultClientException: Message part {http://atria.cz/employee/main/position}getEmployeesRequest was not recognized.  (Does it exist in service WSDL?)</code> here is my class - it was autogenerated by maven-jaxb2-plugin according to <a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/</a>:</p>\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;getEmployeesRequest&quot;, namespace = &quot;http://atria.cz/employee/main/employee&quot;, propOrder = {\n    &quot;organization&quot;\n})\npublic class GetEmployeesRequest {\n\n    @XmlElement(required = true)\n    protected String organization;\n\n    public String getOrganization() {\n        return organization;\n    }\n\n    public void setOrganization(String value) {\n        this.organization = value;\n    }\n\n}\n</code></pre>\n<p>here is my @Configuration:</p>\n<pre><code>@Configuration\npublic class EmployeesConfiguration {\n    @Bean\n    public Jaxb2Marshaller marshallerEmployees() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        // this package must match the package in the &lt;generatePackage&gt; specified in\n        // pom.xml\n        marshaller.setContextPath(&quot;com.example.demoSeven.employees.wsdl&quot;);\n        return marshaller;\n    }\n\n    @Bean\n    public EmployeesClient getEmployeesClient(Jaxb2Marshaller marshallerEmployees) {\n        EmployeesClient client = new EmployeesClient();\n        client.setDefaultUri(&quot;https://develop.is-mis.com/employees-ws/service?wsdl&quot;);\n        client.setMarshaller(marshallerEmployees);\n        client.setUnmarshaller(marshallerEmployees);\n        return client;\n    }\n}\n\n</code></pre>\n<p>The client code:</p>\n<pre><code>public class EmployeesClient extends WebServiceGatewaySupport {\n\n    private final String url = &quot;https://develop.is-mis.com/employees-ws/service?wsdl&quot;;\n\n    public GetEmployeesResponse getEmployeeList(String orgId, String login, String password) {\n\n        String encodeBytes = Base64.getEncoder().encodeToString((login + &quot;:&quot; + password).getBytes());\n\n        WebServiceMessageCallback callback = new WebServiceMessageCallback() {\n            @Override\n            public void doWithMessage(WebServiceMessage webServiceMessage) throws IOException, TransformerException {\n                TransportContext context = TransportContextHolder.getTransportContext();\n                HttpUrlConnection connection = (HttpUrlConnection)context.getConnection();\n                connection.addRequestHeader( &quot;Authorization&quot;, &quot;Basic &quot; + encodeBytes);\n            }\n        };\n\n        GetEmployeesRequest request = new GetEmployeesRequest();\n        request.setOrganization(orgId);\n\n        JAXBElement&lt;GetEmployeesResponse&gt; response =\n                (JAXBElement&lt;GetEmployeesResponse&gt;) getWebServiceTemplate()\n                        .marshalSendAndReceive(url, request, callback);\n        return response.getValue();\n\n    }\n}\n</code></pre>\n<p>Call code:</p>\n<pre><code>public class DemoSevenApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoSevenApplication.class, args);\n    }\n\n    @Bean\n    CommandLineRunner runner(RefsClient refsClient, EmployeesClient employeesClient) {\n        return args -&gt; {\n            GetEmployeesResponse employeeResponse = employeesClient.getEmployeeList(&quot;12345&quot;, &quot;Login&quot;, &quot;Password&quot;);\n            employeeResponse.getEmployee().forEach(System.out::println);\n        };\n    }\n\n\n}\n</code></pre>\n<p>Schema types:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;wsdl:definitions xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n                  xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n                  xmlns:tns=&quot;http://atria.cz/employee/main&quot;\n                  xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\n                  xmlns:pos=&quot;http://atria.cz/employee/main/position&quot;\n                  xmlns:emp=&quot;http://atria.cz/employee/main/employee&quot;\n                  xmlns:edu=&quot;http://atria.cz/employee/main/education&quot;\n                  xmlns:bi=&quot;http://atria.cz/common/base/info/build/&quot; name=&quot;employeeService&quot; targetNamespace=&quot;http://atria.cz/employee/main&quot;&gt;\n    &lt;wsdl:types&gt;\n        &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n                    xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n                    xmlns:tns=&quot;http://atria.cz/employee/main&quot;\n                    xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\n                    xmlns:pos=&quot;http://atria.cz/employee/main/position&quot;\n                    xmlns:emp=&quot;http://atria.cz/employee/main/employee&quot;\n                    xmlns:edu=&quot;http://atria.cz/employee/main/education&quot;\n                    xmlns:bi=&quot;http://atria.cz/common/base/info/build/&quot;&gt;\n\n            &lt;xsd:import namespace=&quot;http://atria.cz/employee/main/employee&quot; schemaLocation=&quot;https://develop.is-mis.com/employees-ws/service?xsd=employee.xsd&quot;/&gt;\n\n            &lt;xsd:import namespace=&quot;http://atria.cz/employee/main/position&quot; schemaLocation=&quot;https://develop.is-mis.com/employees-ws/service?xsd=position.xsd&quot;/&gt;\n\n            &lt;xsd:import namespace=&quot;http://atria.cz/employee/main/education&quot; schemaLocation=&quot;https://develop.is-mis.com/employees-ws/service?xsd=education.xsd&quot;/&gt;\n\n            &lt;xsd:import namespace=&quot;http://atria.cz/common/base/info/build/&quot; schemaLocation=&quot;https://develop.is-mis.com/employees-ws/service?xsd=http://atria.cz/common/base/buildInfo.xsd&quot;/&gt;\n\n        &lt;/xsd:schema&gt;\n    &lt;/wsdl:types&gt;\n\n&lt;!-- ... --&gt;\n\n    &lt;wsdl:message name=&quot;getEmployeesRequest&quot;&gt;\n        &lt;wsdl:part element=&quot;emp:getEmployeesRequest&quot; name=&quot;request&quot;&gt;\n        &lt;/wsdl:part&gt;\n    &lt;/wsdl:message&gt;\n\n&lt;!-- ... --&gt;\n</code></pre>\n<p>As I understood the type is correct <code>emp</code> and  <code>xmlns:emp=&quot;http://atria.cz/employee/main/employee&quot; </code> not <code>position</code>. So I have no idea why i am getting the error.</p>\n"},{"tags":["java","regex","string","uppercase","lowercase"],"comments":[{"owner":{"account_id":3607827,"reputation":1733,"user_id":3009607,"accept_rate":80,"display_name":"WVrock"},"score":2,"creation_date":1433859757,"post_id":2770967,"comment_id":49525824,"body_markdown":"I don&#39;t get this. What&#39;s wrong with `&quot;my testtext TARGETSTRING my testtext&quot;.toLowerCase();` ?","body":"I don&#39;t get this. What&#39;s wrong with <code>&quot;my testtext TARGETSTRING my testtext&quot;.toLowerCase();</code> ?"},{"owner":{"account_id":99382,"reputation":2065,"user_id":268479,"accept_rate":100,"display_name":"Andreas"},"score":0,"creation_date":1433958499,"post_id":2770967,"comment_id":49579804,"body_markdown":"Sorry, the example was bad. toLowerCase does not work for &quot;My Testtext TARGETSTRING My Testtext&quot;","body":"Sorry, the example was bad. toLowerCase does not work for &quot;My Testtext TARGETSTRING My Testtext&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1273040819,"creation_date":1273040007,"answer_id":2770975,"question_id":2770967,"body_markdown":"You could use the [regexp capturing group][1] (if you really need to use regex, that is, meaning if &quot;`TARGETSTRING`&quot; is complex enough and &quot;regular&quot; enough to justify being detected by a regex).  \r\nYou would then apply `toLowerCase()` to the group #1.\r\n\r\n    import java.util.regex.*;\r\n     \r\n    public class TargetToLowerCase {\r\n     \r\n      public static void main(String[] args) {\r\n        StringBuilder sb= new StringBuilder(\r\n    \t\t\t&quot;my testtext TARGETSTRING my testtext&quot;);\r\n        System.out.println(sb);\r\n        String regex= &quot;TARGETSTRING &quot;;\r\n        Pattern p = Pattern.compile(regex); // Create the pattern.\r\n        Matcher matcher = p.matcher(sb); // Create the matcher.\r\n        while (matcher.find()) {\r\n          String buf= sb.substring(matcher.start(), matcher.end()).toLowerCase();\r\n          sb.replace(matcher.start(), matcher.end(), buf);\r\n        }\r\n        System.out.println(sb);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/brackets.html\r\n","title":"Use Java and RegEx to convert casing in a string","body":"<p>You could use the <a href=\"http://www.regular-expressions.info/brackets.html\" rel=\"noreferrer\">regexp capturing group</a> (if you really need to use regex, that is, meaning if \"<code>TARGETSTRING</code>\" is complex enough and \"regular\" enough to justify being detected by a regex).<br>\nYou would then apply <code>toLowerCase()</code> to the group #1.</p>\n\n<pre><code>import java.util.regex.*;\n\npublic class TargetToLowerCase {\n\n  public static void main(String[] args) {\n    StringBuilder sb= new StringBuilder(\n            \"my testtext TARGETSTRING my testtext\");\n    System.out.println(sb);\n    String regex= \"TARGETSTRING \";\n    Pattern p = Pattern.compile(regex); // Create the pattern.\n    Matcher matcher = p.matcher(sb); // Create the matcher.\n    while (matcher.find()) {\n      String buf= sb.substring(matcher.start(), matcher.end()).toLowerCase();\n      sb.replace(matcher.start(), matcher.end(), buf);\n    }\n    System.out.println(sb);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1273048954,"creation_date":1273040020,"answer_id":2770977,"question_id":2770967,"body_markdown":"You can&#39;t do this in Java regex. You&#39;d have to manually post-process using [`String.toUpperCase()`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#toUpperCase%28%29) and [`toLowerCase()`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#toLowerCase()) instead.\r\n\r\nHere&#39;s an example of how you use regex to find and capitalize words of length at least 3 in a sentence \r\n\r\n\t\tString text = &quot;no way oh my god it cannot be&quot;;\r\n\t\tMatcher m = Pattern.compile(&quot;\\\\b\\\\w{3,}\\\\b&quot;).matcher(text);\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint last = 0;\r\n\t\twhile (m.find()) {\r\n\t\t\tsb.append(text.substring(last, m.start()));\r\n\t\t\tsb.append(m.group(0).toUpperCase());\r\n\t\t\tlast = m.end();\r\n\t\t}\r\n\t\tsb.append(text.substring(last));\r\n\r\n\t\tSystem.out.println(sb.toString());\r\n\t\t// prints &quot;no WAY oh my GOD it CANNOT be&quot;\r\n\r\n---\r\n\r\n### Note on `appendReplacement` and `appendTail`\r\n\r\nNote that the above solution uses `substring` and manages a `tail` index, etc. In fact, you can go without these if you use [`Matcher.appendReplacement`](http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29) and `appendTail`.\r\n\r\n\t\tStringBuffer sb = new StringBuffer();\r\n\t\twhile (m.find()) {\r\n\t\t\tm.appendReplacement(sb, m.group().toUpperCase());\r\n\t\t}\r\n\t\tm.appendTail(sb);\r\n\r\nNote how `sb` is now a [`StringBuffer`](http://java.sun.com/javase/6/docs/api/java/lang/StringBuffer.html) instead of [`StringBuilder`](http://java.sun.com/javase/6/docs/api/java/lang/StringBuilder.html). Until `Matcher` provides `StringBuilder` overloads, you&#39;re stuck with the slower `StringBuffer` if you want to use these methods.\r\n\r\nIt&#39;s up to you whether the trade-off in less efficiency for higher readability is worth it or not.\r\n\r\n### See also\r\n\r\n* [`StringBuilder` and `StringBuffer` in Java](https://stackoverflow.com/questions/355089/stringbuilder-and-stringbuffer-in-java)","title":"Use Java and RegEx to convert casing in a string","body":"<p>You can't do this in Java regex. You'd have to manually post-process using <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#toUpperCase%28%29\" rel=\"noreferrer\"><code>String.toUpperCase()</code></a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#toLowerCase()\" rel=\"noreferrer\"><code>toLowerCase()</code></a> instead.</p>\n\n<p>Here's an example of how you use regex to find and capitalize words of length at least 3 in a sentence </p>\n\n<pre><code>    String text = \"no way oh my god it cannot be\";\n    Matcher m = Pattern.compile(\"\\\\b\\\\w{3,}\\\\b\").matcher(text);\n\n    StringBuilder sb = new StringBuilder();\n    int last = 0;\n    while (m.find()) {\n        sb.append(text.substring(last, m.start()));\n        sb.append(m.group(0).toUpperCase());\n        last = m.end();\n    }\n    sb.append(text.substring(last));\n\n    System.out.println(sb.toString());\n    // prints \"no WAY oh my GOD it CANNOT be\"\n</code></pre>\n\n<hr>\n\n<h3>Note on <code>appendReplacement</code> and <code>appendTail</code></h3>\n\n<p>Note that the above solution uses <code>substring</code> and manages a <code>tail</code> index, etc. In fact, you can go without these if you use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29\" rel=\"noreferrer\"><code>Matcher.appendReplacement</code></a> and <code>appendTail</code>.</p>\n\n<pre><code>    StringBuffer sb = new StringBuffer();\n    while (m.find()) {\n        m.appendReplacement(sb, m.group().toUpperCase());\n    }\n    m.appendTail(sb);\n</code></pre>\n\n<p>Note how <code>sb</code> is now a <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\"><code>StringBuffer</code></a> instead of <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\"><code>StringBuilder</code></a>. Until <code>Matcher</code> provides <code>StringBuilder</code> overloads, you're stuck with the slower <code>StringBuffer</code> if you want to use these methods.</p>\n\n<p>It's up to you whether the trade-off in less efficiency for higher readability is worth it or not.</p>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/355089/stringbuilder-and-stringbuffer-in-java\"><code>StringBuilder</code> and <code>StringBuffer</code> in Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1486003875,"creation_date":1486003875,"answer_id":41993437,"question_id":2770967,"body_markdown":"To do this on regexp level you have to use `\\U` to switch on uppercase mode and `\\E` to switch it off. Here is an example how to use this feature in IntelliJ IDEA `find-and-replace` dialog which transforms set of class fields to JUnit assertions (at IDE tooltip is a result of `find-and-replace` transformation):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NBDHi.png","title":"Use Java and RegEx to convert casing in a string","body":"<p>To do this on regexp level you have to use <code>\\U</code> to switch on uppercase mode and <code>\\E</code> to switch it off. Here is an example how to use this feature in IntelliJ IDEA <code>find-and-replace</code> dialog which transforms set of class fields to JUnit assertions (at IDE tooltip is a result of <code>find-and-replace</code> transformation):</p>\n\n<p><a href=\"https://i.stack.imgur.com/NBDHi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NBDHi.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1642170447,"creation_date":1524750185,"answer_id":50044594,"question_id":2770967,"body_markdown":"# Java9+\r\n\r\nFrom Java 9+ you can use [**Matcher::replaceAll**][1] where you can use a `Function&lt;MatchResult, String&gt;` for example we use the example of [polygenelubricants][2] :\r\n\r\n    String text = &quot;this is just a test which upper all short words&quot;;\r\n    String regex = &quot;\\\\b\\\\w{0,3}\\\\b&quot;;\r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(text);\r\n    String result = matcher.replaceAll(matche -&gt; matche.group().toUpperCase());\r\n    \r\n    System.out.println(result);\r\n\r\nOr Just :\r\n\r\n    String result = Pattern.compile(regex)\r\n            .matcher(text)\r\n            .replaceAll(matche -&gt; matche.group().toUpperCase());\r\n\r\n**Output**\r\n\r\n    this IS just A test which upper ALL short words\r\n         ^^      ^                  ^^^\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\r\n  [2]: https://stackoverflow.com/a/2770977/5558072\r\n","title":"Use Java and RegEx to convert casing in a string","body":"<h1>Java9+</h1>\n<p>From Java 9+ you can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\" rel=\"noreferrer\"><strong>Matcher::replaceAll</strong></a> where you can use a <code>Function&lt;MatchResult, String&gt;</code> for example we use the example of <a href=\"https://stackoverflow.com/a/2770977/5558072\">polygenelubricants</a> :</p>\n<pre><code>String text = &quot;this is just a test which upper all short words&quot;;\nString regex = &quot;\\\\b\\\\w{0,3}\\\\b&quot;;\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(text);\nString result = matcher.replaceAll(matche -&gt; matche.group().toUpperCase());\n\nSystem.out.println(result);\n</code></pre>\n<p>Or Just :</p>\n<pre><code>String result = Pattern.compile(regex)\n        .matcher(text)\n        .replaceAll(matche -&gt; matche.group().toUpperCase());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>this IS just A test which upper ALL short words\n     ^^      ^                  ^^^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571149538,"creation_date":1571149538,"answer_id":58396932,"question_id":2770967,"body_markdown":"How about this transformation function in &quot;**Java 8**&quot;\r\n\r\n\t/**\r\n\t * Searches the given pattern in the given src string and applies the txr to the\r\n\t * matches\r\n\t * \r\n\t * @param src     The string to be converted\r\n\t * @param pattern the pattern for which the transformers to be applied.\r\n\t * @param txr     The transformers for the mathed patterns.\r\n\t * @return The result after applying the transformation.\r\n\t */\r\n\tprivate static String fromTo(String src, String pattern, Function&lt;String, String&gt; txr) {\r\n\t\tMatcher m = Pattern.compile(pattern).matcher(src);\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint last = 0;\r\n\r\n\t\twhile (m.find()) {\r\n\t\t\tsb.append(src.substring(last, m.start()));\r\n\t\t\tsb.append(txr.apply(m.group(0)));\r\n\t\t\tlast = m.end();\r\n\t\t}\r\n\t\tsb.append(src.substring(last));\r\n\t\treturn sb.toString();\r\n\t}","title":"Use Java and RegEx to convert casing in a string","body":"<p>How about this transformation function in \"<strong>Java 8</strong>\"</p>\n\n<pre><code>/**\n * Searches the given pattern in the given src string and applies the txr to the\n * matches\n * \n * @param src     The string to be converted\n * @param pattern the pattern for which the transformers to be applied.\n * @param txr     The transformers for the mathed patterns.\n * @return The result after applying the transformation.\n */\nprivate static String fromTo(String src, String pattern, Function&lt;String, String&gt; txr) {\n    Matcher m = Pattern.compile(pattern).matcher(src);\n\n    StringBuilder sb = new StringBuilder();\n    int last = 0;\n\n    while (m.find()) {\n        sb.append(src.substring(last, m.start()));\n        sb.append(txr.apply(m.group(0)));\n        last = m.end();\n    }\n    sb.append(src.substring(last));\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":99382,"reputation":2065,"user_id":268479,"accept_rate":100,"display_name":"Andreas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46381,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":2770977,"answer_count":5,"score":44,"last_activity_date":1642170447,"creation_date":1273039864,"question_id":2770967,"body_markdown":"Problem: Turn \r\n\r\n    &quot;My Testtext TARGETSTRING My Testtext&quot; \r\n\r\ninto \r\n\r\n    &quot;My Testtext targetstring My Testtext&quot;\r\n\r\nPerl supports the &quot;\\L&quot;-operation which can be used in the replacement-string. \r\n\r\nThe Pattern-Class does not support this operation:\r\n\r\n&gt; Perl constructs not supported by this class:\r\n&gt; [...] \r\n&gt; The preprocessing operations \\l \\u, \\L, and \\U.\r\n&gt; [https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html","title":"Use Java and RegEx to convert casing in a string","body":"<p>Problem: Turn </p>\n\n<pre><code>\"My Testtext TARGETSTRING My Testtext\" \n</code></pre>\n\n<p>into </p>\n\n<pre><code>\"My Testtext targetstring My Testtext\"\n</code></pre>\n\n<p>Perl supports the \"\\L\"-operation which can be used in the replacement-string. </p>\n\n<p>The Pattern-Class does not support this operation:</p>\n\n<blockquote>\n  <p>Perl constructs not supported by this class:\n  [...] \n  The preprocessing operations \\l \\u, \\L, and \\U.\n  <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html</a></p>\n</blockquote>\n"},{"tags":["java","hql"],"answers":[{"tags":[],"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1380118798,"creation_date":1380118798,"answer_id":19007509,"question_id":18964857,"body_markdown":"Sadly, you cannot do `:order.inProduction` (or `:foo.bar` in general).  [Reference][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10802798/spring-data-jpa-query-with-parameter-properties","title":"HQL unexpected AST node: :","body":"<p>Sadly, you cannot do <code>:order.inProduction</code> (or <code>:foo.bar</code> in general).  <a href=\"https://stackoverflow.com/questions/10802798/spring-data-jpa-query-with-parameter-properties\">Reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1380199205,"creation_date":1380199205,"answer_id":19028566,"question_id":18964857,"body_markdown":"When you use this:\r\n\r\n    :workstation.workflowProcess\r\n\r\nYou&#39;re defining a parameter, so you can&#39;t use that notation, but you must use a variable as:\r\n\r\n    :workstation\r\n    :workflowProcess\r\n\r\nand so on","title":"HQL unexpected AST node: :","body":"<p>When you use this:</p>\n\n<pre><code>:workstation.workflowProcess\n</code></pre>\n\n<p>You're defining a parameter, so you can't use that notation, but you must use a variable as:</p>\n\n<pre><code>:workstation\n:workflowProcess\n</code></pre>\n\n<p>and so on</p>\n"},{"tags":[],"owner":{"account_id":1749061,"reputation":559,"user_id":1598592,"accept_rate":60,"display_name":"Taimur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492319845,"creation_date":1442302493,"answer_id":32580269,"question_id":18964857,"body_markdown":"Actually error is in NamedQuery Syntax ,You cannot do like &lt;br&gt; workflowProcess = :workstation.workflowProcess &lt;br&gt;instead it should be like &lt;br&gt; workflowProcess = :workflowProcess","title":"HQL unexpected AST node: :","body":"<p>Actually error is in NamedQuery Syntax ,You cannot do like <br> workflowProcess = :workstation.workflowProcess <br>instead it should be like <br> workflowProcess = :workflowProcess</p>\n"},{"tags":[],"owner":{"account_id":11911643,"reputation":184,"user_id":8716705,"display_name":"Ahmad Alhaj-Karim"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1614250189,"creation_date":1614250189,"answer_id":66367059,"question_id":18964857,"body_markdown":"I would recommend you to set the property nativeQuery to **true**\r\n\r\n```\r\n@Query(value = &quot;SELECT t.id FROM team as t JOIN project AS p ON p.team_id&quot;,\r\n nativeQuery = true)\r\n\r\n```","title":"HQL unexpected AST node: :","body":"<p>I would recommend you to set the property nativeQuery to <strong>true</strong></p>\n<pre><code>@Query(value = &quot;SELECT t.id FROM team as t JOIN project AS p ON p.team_id&quot;,\n nativeQuery = true)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2969131,"reputation":340,"user_id":2521628,"display_name":"Jan Cizmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642169767,"creation_date":1642169767,"answer_id":70711954,"question_id":18964857,"body_markdown":"You can use SpEL in the query! Here is my article about that. This should work:\r\n```\r\n@Repository\r\n public interface JobSetRepository extends JpaRepository&lt;JobSetEntity, Integer&gt; {\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE JobSetEntity SET workstation = :workstation, workflowProcess = :#{#workstation.workflowProcess} WHERE id = :#{#jobSet.id}&quot;)\r\n    public Boolean updateWorkstation(@Param(&quot;jobSet&quot;) JobSetEntity jobSet, @Param(&quot;workstation&quot;) Workstation workstation);\r\n```\r\n\r\nhttps://dev.to/tolgee_i18n/using-param-object-in-spring-data-jpa-query-poe","title":"HQL unexpected AST node: :","body":"<p>You can use SpEL in the query! Here is my article about that. This should work:</p>\n<pre><code>@Repository\n public interface JobSetRepository extends JpaRepository&lt;JobSetEntity, Integer&gt; {\n    @Modifying\n    @Transactional\n    @Query(&quot;UPDATE JobSetEntity SET workstation = :workstation, workflowProcess = :#{#workstation.workflowProcess} WHERE id = :#{#jobSet.id}&quot;)\n    public Boolean updateWorkstation(@Param(&quot;jobSet&quot;) JobSetEntity jobSet, @Param(&quot;workstation&quot;) Workstation workstation);\n</code></pre>\n<p><a href=\"https://dev.to/tolgee_i18n/using-param-object-in-spring-data-jpa-query-poe\" rel=\"nofollow noreferrer\">https://dev.to/tolgee_i18n/using-param-object-in-spring-data-jpa-query-poe</a></p>\n"}],"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85593,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":19007509,"answer_count":5,"score":16,"last_activity_date":1642169767,"creation_date":1379955608,"question_id":18964857,"body_markdown":"My code is failing to inject the below repository.  Based on the stack trace, it seems my HQL syntax is invalid, but I&#39;m not sure what I&#39;ve done wrong.\r\n\r\n    @Repository\r\n     public interface JobSetRepository extends JpaRepository&lt;JobSetEntity, Integer&gt; {\r\n        @Modifying\r\n        @Transactional\r\n        @Query(&quot;UPDATE JobSetEntity SET workstation = :workstation, workflowProcess = :workstation.workflowProcess WHERE id = :jobSet.id&quot;)\r\n        public Boolean updateWorkstation(@Param(&quot;jobSet&quot;) JobSetEntity jobSet, @Param(&quot;workstation&quot;) Workstation workstation);\r\n    \r\n        @Modifying\r\n        @Transactional\r\n        @Query(&quot;UPDATE JobSetEntity SET workflowProcess = :workflowProcess, workstation = null WHERE id = :jobSet.id&quot;)\r\n        public Boolean updateWorkflowProcess(@Param(&quot;jobSet&quot;) JobSetEntity jobSet, @Param(&quot;workflowProcess&quot;) WorkflowProcess workflowProcess);\r\n    }\r\n\r\nstack trace:\r\n\r\n    12:57:58,692 ERROR main org.hibernate.hql.internal.ast.ErrorCounter:54 - &lt;AST&gt;:1:111: unexpected AST node: :\r\n    12:57:58,693 ERROR main org.hibernate.hql.internal.ast.ErrorCounter:50 - &lt;AST&gt;:1:111: unexpected AST node: :\r\n    &lt;AST&gt;:1:111: unexpected AST node: :\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.addrExpr(HqlSqlBaseWalker.java:4680)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.addrExprLhs(HqlSqlBaseWalker.java:5114)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.addrExpr(HqlSqlBaseWalker.java:4575)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1260)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.newValue(HqlSqlBaseWalker.java:1211)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.assignment(HqlSqlBaseWalker.java:1033)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.setClause(HqlSqlBaseWalker.java:747)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.updateStatement(HqlSqlBaseWalker.java:367)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:255)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:248)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:183)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:105)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80)\r\n\r\n**Update:** I&#39;m also getting this error with this query:\r\n\r\n    @Query(&quot;UPDATE OrderEntity SET inProduction = :order.inProduction WHERE OrderEntity.id = :order.id&quot;)\r\n    void updateInProduction(@Param(&quot;order&quot;) OrderEntity order);\r\n\r\nI updated my versions to the latest:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n**Update:**  I&#39;m also getting this error with:\r\n\r\n    @Query(&quot;SELECT oe FROM OrderEntity oe WHERE oe.id = :orderProductEntity.id&quot;)\r\n    OrderEntity findBy(@Param(&quot;orderProductEntity&quot;) OrderProductEntity orderProductEntity);","title":"HQL unexpected AST node: :","body":"<p>My code is failing to inject the below repository.  Based on the stack trace, it seems my HQL syntax is invalid, but I'm not sure what I've done wrong.</p>\n\n<pre><code>@Repository\n public interface JobSetRepository extends JpaRepository&lt;JobSetEntity, Integer&gt; {\n    @Modifying\n    @Transactional\n    @Query(\"UPDATE JobSetEntity SET workstation = :workstation, workflowProcess = :workstation.workflowProcess WHERE id = :jobSet.id\")\n    public Boolean updateWorkstation(@Param(\"jobSet\") JobSetEntity jobSet, @Param(\"workstation\") Workstation workstation);\n\n    @Modifying\n    @Transactional\n    @Query(\"UPDATE JobSetEntity SET workflowProcess = :workflowProcess, workstation = null WHERE id = :jobSet.id\")\n    public Boolean updateWorkflowProcess(@Param(\"jobSet\") JobSetEntity jobSet, @Param(\"workflowProcess\") WorkflowProcess workflowProcess);\n}\n</code></pre>\n\n<p>stack trace:</p>\n\n<pre><code>12:57:58,692 ERROR main org.hibernate.hql.internal.ast.ErrorCounter:54 - &lt;AST&gt;:1:111: unexpected AST node: :\n12:57:58,693 ERROR main org.hibernate.hql.internal.ast.ErrorCounter:50 - &lt;AST&gt;:1:111: unexpected AST node: :\n&lt;AST&gt;:1:111: unexpected AST node: :\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.addrExpr(HqlSqlBaseWalker.java:4680)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.addrExprLhs(HqlSqlBaseWalker.java:5114)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.addrExpr(HqlSqlBaseWalker.java:4575)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1260)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.newValue(HqlSqlBaseWalker.java:1211)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.assignment(HqlSqlBaseWalker.java:1033)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.setClause(HqlSqlBaseWalker.java:747)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.updateStatement(HqlSqlBaseWalker.java:367)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:255)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:248)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:183)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:105)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80)\n</code></pre>\n\n<p><strong>Update:</strong> I'm also getting this error with this query:</p>\n\n<pre><code>@Query(\"UPDATE OrderEntity SET inProduction = :order.inProduction WHERE OrderEntity.id = :order.id\")\nvoid updateInProduction(@Param(\"order\") OrderEntity order);\n</code></pre>\n\n<p>I updated my versions to the latest:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;4.2.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;4.2.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;1.3.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Update:</strong>  I'm also getting this error with:</p>\n\n<pre><code>@Query(\"SELECT oe FROM OrderEntity oe WHERE oe.id = :orderProductEntity.id\")\nOrderEntity findBy(@Param(\"orderProductEntity\") OrderProductEntity orderProductEntity);\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":4,"creation_date":1642165682,"post_id":70710969,"comment_id":125004693,"body_markdown":"You create your Task with `new AosTask`. Spring has no opportunity to inject beans into it. You can inject to existing object (See https://stackoverflow.com/a/3813725/1570854) but consider moving all business code to a Service, pass this service to task via constructor.","body":"You create your Task with <code>new AosTask</code>. Spring has no opportunity to inject beans into it. You can inject to existing object (See <a href=\"https://stackoverflow.com/a/3813725/1570854\">stackoverflow.com/a/3813725/1570854</a>) but consider moving all business code to a Service, pass this service to task via constructor."}],"answers":[{"tags":[],"owner":{"account_id":11766020,"reputation":121,"user_id":8610598,"display_name":"Spider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642169700,"creation_date":1642169700,"answer_id":70711936,"question_id":70710969,"body_markdown":"There are several issues with this implementation. There are three ways to inject dependencies in a spring application and you are not following any of them. \r\n\r\n 1. Field \r\n 2. Method\r\n 3. Constructor\r\n\r\nEither mark your field and the Runnable with proper annotations or do a constructor injection. Consider creating a separate service class instead of writing the entire logic inside runnable. Lastly, create a thread pool instead of spawning a new thread each time, else your application might end up unresponsive.","title":"Using JpaRepository in a class implementing Runnable","body":"<p>There are several issues with this implementation. There are three ways to inject dependencies in a spring application and you are not following any of them.</p>\n<ol>\n<li>Field</li>\n<li>Method</li>\n<li>Constructor</li>\n</ol>\n<p>Either mark your field and the Runnable with proper annotations or do a constructor injection. Consider creating a separate service class instead of writing the entire logic inside runnable. Lastly, create a thread pool instead of spawning a new thread each time, else your application might end up unresponsive.</p>\n"}],"owner":{"account_id":243182,"reputation":341,"user_id":515186,"accept_rate":64,"display_name":"Gunnlaugur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642170272,"answer_count":1,"score":0,"last_activity_date":1642169700,"creation_date":1642165272,"question_id":70710969,"body_markdown":"I&#39;m creating socket server using Spring Boot and I&#39;m having trouble initializing my JpaRepositories in a class that implements Runnable. For testing the server I use netcat and the server successfully receives the data and creates new thread to handle/parse the data. But when time comes to save the data in database via JpaRepositories I get NullPointerException since repositories have not been successfully initialized. What I&#39;m I missing in my configuration for this to work?\r\n\r\nMy SpringBootApplication\r\n```\r\npackage is.siminn.aos;\r\n\r\nimport java.net.ServerSocket;\r\n\r\nimport org.apache.logging.log4j.Level;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class AosApplication {\r\n\tpublic static final Logger log = LogManager.getLogger(AosApplication.class);\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AosApplication.class, args);\r\n\t\topenSocket();\r\n\t}\r\n\t\r\n\tprivate static void openSocket() {\r\n\t\ttry (ServerSocket server = new ServerSocket(1234)) {\r\n\t\t\tlog.log(Level.INFO, &quot;Server listening on port &quot; + 1234);\r\n\t\t\twhile (true) {\r\n\t\t\t\tThread obj = new Thread(new AosTask(server.accept()));\r\n\t\t\t\tobj.start();\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.log(Level.ERROR, e.getMessage(), e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nClass implementing Runnable\r\n```\r\npackage is.siminn.aos;\r\n\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.Socket;\r\nimport java.util.Date;\r\n\r\nimport javax.transaction.Transactional;\r\n\r\nimport org.apache.logging.log4j.Level;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\nimport is.siminn.aos.domain.Alarm;\r\nimport is.siminn.aos.domain.AlarmCategory;\r\nimport is.siminn.aos.domain.AlarmClass;\r\nimport is.siminn.aos.domain.Exchange;\r\nimport is.siminn.aos.domain.Spr;\r\nimport is.siminn.aos.repositories.AlarmCategoryRepository;\r\nimport is.siminn.aos.repositories.AlarmClassRepository;\r\nimport is.siminn.aos.repositories.AlarmRepository;\r\nimport is.siminn.aos.repositories.ExchangeRepository;\r\nimport is.siminn.aos.repositories.SprRepository;\r\nimport is.siminn.aos.repositories.SubExchangeRepository;\r\n\r\npublic class AosTask implements Runnable {\r\n\t\r\n\tpublic static final Logger log = LogManager.getLogger(AosTask.class);\r\n\t\r\n\tSocket socket;\r\n\t\r\n\tAlarmClassRepository alarmClassRepository;\r\n\r\n\tAlarmCategoryRepository alarmCategoryRepository;\r\n\r\n\tExchangeRepository exchangeRepository;\r\n\r\n\tSubExchangeRepository subExchangeRepository;\r\n\t\r\n\tSprRepository sprRepository;\r\n\t\r\n\tAlarmRepository alarmRepository;\r\n\r\n\tprotected AosTask(Socket socket) {\r\n\t\tthis.socket = socket;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;Thread &quot; + Thread.currentThread().getId() + &quot; is running&quot;);\r\n\t\tint ascii = -1;\r\n\t\t\r\n\t\ttry (InputStreamReader in = new InputStreamReader(socket.getInputStream())) {\r\n\t\t\tOutputStreamWriter out = new OutputStreamWriter(socket.getOutputStream());\r\n\t\t\tStringBuffer axeBlock = new StringBuffer();\r\n\r\n\t\t\tdo {\r\n\t\t\t\tascii = in.read();\r\n\t\t\t\taxeBlock.append((char) ascii);\r\n\t\t\t} while (ascii != 4);\r\n\t\t\tout.append(process(axeBlock));\r\n\t\t\tout.flush();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.log(Level.ERROR, e.getMessage(), e);\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tsocket.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlog.log(Level.ERROR, e.getMessage(), e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Transactional\r\n\tprivate String process(StringBuffer axeBlock) {\r\n\t\tString header1 = &quot;&quot;;\r\n\t\tString header2 = &quot;&quot;;\r\n\t\tAlarm alarm = null;\r\n\t\tboolean isAlarm = true;\r\n\t\t\r\n\t\tString[] axeBlockArray = axeBlock.toString().split(&quot;\\\\n|\\\\r|\\\\f&quot;);\r\n\t\tfor (int i = 0; i &lt; axeBlockArray.length; i++) {\r\n\t\t\tString line = axeBlockArray[i];\r\n\r\n\t\t\t\r\n\t\t\tif (line.startsWith(&quot;:type=alarm&quot;) || line.startsWith(&quot;:type=spontan&quot;)) { /* APG type */\r\n\t\t\t\tlog.log(Level.DEBUG, &quot;APG...&quot;);\r\n\t\t\t\t\r\n\t\t\t\tif (line.startsWith(&quot;:type=alarm&quot;)) {\r\n\t\t\t\t\tString nextLine = axeBlockArray[i + 2];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextLine.startsWith(&quot;*** ALARM CEASING&quot;)) {\r\n\t\t\t\t\t\tlog.log(Level.DEBUG, &quot;APG alarm ceasing&quot;);\r\n\t\t\t\t\t\tisAlarm = false;\r\n\t\t\t\t\t\tceasing(nextLine);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlog.log(Level.DEBUG, &quot;APG alarm&quot;);\r\n\t\t\t\t\t\theader1 = nextLine;\r\n\t\t\t\t\t\talarm = alarm(header1);\r\n\t\t\t\t\t\theader2 = axeBlockArray[i + 3];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (line.startsWith(&quot;type=spontan&quot;)) {\r\n\t\t\t\t\tlog.log(Level.DEBUG, &quot;APG heartbeat&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;heartbeat&quot;);\r\n\t\t\t\t\tisAlarm = false;\r\n\t\t\t\t\theartbeat(line);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t/* wtf */\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t} else if (line.startsWith(&quot;WO      &quot;)) { /* IOG type */\r\n\t\t\t\tlog.log(Level.DEBUG, &quot;IOG...&quot;);\r\n\t\t\t\t// TODO: implement\r\n\t\t\t} else {\r\n\t\t\t\t/* nothing to see here */\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (isAlarm) {\r\n\t\t\talarm.setSpr(new Spr(header1, header2, new String[] {axeBlock.toString()}));\r\n\t\t}\r\n\t\treturn axeBlock.toString();\r\n\t}\r\n\t\r\n\tprivate Alarm alarm(String header1) {\r\n\t\tAlarm alarm = new Alarm();\r\n\t\t\r\n\t\t/**\r\n\t\t * Header example\r\n\t\t * header1: *** ALARM 406 A2/APT &quot;TBREI/IS76/MPS1&quot;A 220104 1404\r\n\t\t */\r\n\t\tString[] fields = header1.split(&quot; &quot;);\r\n\r\n\t\tInteger alarmId = Integer.valueOf(fields[2]);\r\n\t\tString[] alarmClassAndCategory = fields[3].split(&quot;/&quot;);\r\n\t\tString cls = alarmClassAndCategory[0];\r\n\t\tString cat = alarmClassAndCategory[1];\r\n\t\tString exch = fields[4].substring(1, fields[4].indexOf(&quot;/&quot;));\r\n\t\tString date = fields[5];\r\n\t\tString time = fields[6];\r\n\t\tDate created = null;\r\n\t\ttry {\r\n\t\t\tcreated = Utils.createTimestamp(date, time);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n\t\t\r\n\t\tAlarmClass alarmClass = alarmClassRepository.findByCode(cls);\r\n\t\tAlarmCategory alarmCategory = alarmCategoryRepository.findByCode(cat);\r\n\t\tExchange exchange = exchangeRepository.findByCode(exch);\r\n\t\t\r\n\t\talarm.setAlarmId(alarmId);\r\n\t\talarm.setAlarmCategory(alarmCategory);\r\n\t\talarm.setAlarmClass(alarmClass);\r\n\t\talarm.setExchange(exchange);\r\n\t\talarm.setDateCreated(created);\r\n\t\t\r\n\t\treturn alarm;\r\n\t}\r\n\t\r\n\tprivate void ceasing(String line) {\r\n\t\tlog.log(Level.DEBUG, &quot;CEASING [&quot; + line + &quot;]&quot;);\r\n\t\t// TODO: implement\r\n\t}\r\n\t\r\n\tprivate void heartbeat(String line) {\r\n\t\tlog.log(Level.DEBUG, &quot;HEARTBEAT [&quot; + line + &quot;]&quot;);\r\n\t\t// TODO: implement\r\n\t}\r\n}\r\n```\r\napplication.properties\r\n```\r\n# ===============================\r\n# = DATA SOURCE\r\n# ===============================\r\n# Set here configurations for the database connection\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/aos\r\nspring.datasource.username=foo\r\nspring.datasource.password=bar\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n# Keep the connection alive if idle for a long time (needed in production)\r\nspring.datasource.tomcat.test-while-idle=true\r\nspring.datasource.tomcat.validation-query=SELECT 1\r\n\r\n\r\n# ===============================\r\n# = JPA / HIBERNATE\r\n# ===============================\r\n# Show or not log for each sql query\r\nspring.jpa.show-sql=true\r\n# Hibernate ddl auto (create, create-drop, update): with &quot;create&quot; the database\r\nspring.jpa.hibernate.ddl-auto=create\r\n#spring.jpa.hibernate.ddl-auto=update\r\n\r\n# Naming strategy\r\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyHbmImpl\r\nspring.jpa.hibernate.naming.physical-strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n\r\n# Allows Hibernate to generate SQL optimized for a particular DBMS\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.main.allow-bean-definition-overriding=true\r\n```\r\nI have a few repositories and they are implemented in the same way so I&#39;ll only post one example.\r\n```\r\npackage is.siminn.aos.repositories;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport is.siminn.aos.domain.AlarmCategory;\r\n\r\n@Repository\r\npublic interface AlarmCategoryRepository extends JpaRepository&lt;AlarmCategory, Long&gt; {\r\n\tAlarmCategory findByCode(String code);\r\n}\r\n```\r\nEntities are also all similar so I think one example is enough.\r\n```\r\npackage is.siminn.aos.domain;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;ALARM_CLASS&quot;)\r\npublic class AlarmClass implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, nullable = false)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@Column(name = &quot;CODE&quot;, nullable = false, unique = true)\r\n\tprivate String code;\r\n\r\n\tpublic AlarmClass() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic AlarmClass(String code) {\r\n\t\tsuper();\r\n\t\tthis.code = code;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getCode() {\r\n\t\treturn code;\r\n\t}\r\n\r\n\tpublic void setCode(String code) {\r\n\t\tthis.code = code;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(code, id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tAlarmClass other = (AlarmClass) obj;\r\n\t\treturn Objects.equals(code, other.code) &amp;&amp; id == other.id;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;AlarmClass [id=&quot; + id + &quot;, code=&quot; + code + &quot;]&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\nSpringApplication log\r\n```\r\n12:36:16.752 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@79f54323\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.2)\r\n\r\n2022-01-14 12:36:16.997  INFO 65870 --- [  restartedMain] is.siminn.aos.AosApplication             : Starting AosApplication using Java 15.0.1 on IS-C02F62LZMD6R with PID 65870 (/Users/gsigurdsson/Documents/workspace-spring-tool-suite-4-4.8.0.RELEASE/aos/target/classes started by gsigurdsson in /Users/gsigurdsson/Documents/workspace-spring-tool-suite-4-4.8.0.RELEASE/aos)\r\n2022-01-14 12:36:16.998  INFO 65870 --- [  restartedMain] is.siminn.aos.AosApplication             : No active profile set, falling back to default profiles: default\r\n2022-01-14 12:36:17.027  INFO 65870 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-01-14 12:36:17.337  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2022-01-14 12:36:17.338  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n2022-01-14 12:36:17.357  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.AlarmCategoryRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-01-14 12:36:17.359  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.AlarmClassRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-01-14 12:36:17.360  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.AlarmRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-01-14 12:36:17.362  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.AosUserRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-01-14 12:36:17.363  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.ExchangeRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-01-14 12:36:17.365  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.HeartbeatRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-01-14 12:36:17.366  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.SprRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-01-14 12:36:17.367  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.SubExchangeRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\r\n2022-01-14 12:36:17.368  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.\r\n2022-01-14 12:36:17.376  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2022-01-14 12:36:17.377  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-01-14 12:36:17.409  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 8 JPA repository interfaces.\r\n2022-01-14 12:36:17.667  INFO 65870 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-01-14 12:36:17.698  INFO 65870 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final\r\n2022-01-14 12:36:17.798  INFO 65870 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-01-14 12:36:17.876  INFO 65870 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-01-14 12:36:18.014  INFO 65870 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-01-14 12:36:18.027  INFO 65870 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\nHibernate: drop table if exists activity cascade\r\nHibernate: drop table if exists alarm cascade\r\nHibernate: drop table if exists alarm_category cascade\r\nHibernate: drop table if exists alarm_class cascade\r\nHibernate: drop table if exists aos_user cascade\r\nHibernate: drop table if exists exchange cascade\r\nHibernate: drop table if exists heartbeat cascade\r\nHibernate: drop table if exists preferences cascade\r\nHibernate: drop table if exists spr cascade\r\nHibernate: drop table if exists sub_exchange cascade\r\nHibernate: create table activity (id  bigserial not null, alarm_id bytea not null, aosuser_id bytea not null, created timestamp not null, message varchar(2048), updated timestamp not null, primary key (id))\r\nHibernate: create table alarm (id  bigserial not null, alarm_category bytea not null, alarm_class bytea not null, alarm_id int4 not null, ceasing_time timestamp, date_created timestamp not null, exchange_id bytea not null, spr_id bytea not null, primary key (id))\r\nHibernate: create table alarm_category (id  bigserial not null, code varchar(255) not null, primary key (id))\r\nHibernate: create table alarm_class (id  bigserial not null, code varchar(255) not null, primary key (id))\r\nHibernate: create table aos_user (id  bigserial not null, user_name varchar(255) not null, primary key (id))\r\nHibernate: create table exchange (id  bigserial not null, code varchar(255) not null, primary key (id))\r\nHibernate: create table heartbeat (id  bigserial not null, exchange_id bytea, lastcall timestamp not null, primary key (id))\r\nHibernate: create table preferences (id  bigserial not null, aosuser_id bytea not null, paging_counter int4 not null, refresh_interval int4 not null, primary key (id))\r\nHibernate: create table spr (id  bigserial not null, header1 varchar(255) not null, header2 varchar(255) not null, message bytea not null, primary key (id))\r\nHibernate: create table sub_exchange (id  bigserial not null, code varchar(255) not null, exchange_id bytea not null, primary key (id))\r\nHibernate: alter table alarm_category add constraint UK_k23l5xnesa680kk6b7sfeo2tt unique (code)\r\nHibernate: alter table alarm_class add constraint UK_he7nncsa3mlq6baqdjyg8hycy unique (code)\r\nHibernate: alter table aos_user add constraint UK_kbd1svuqgedu877c6x9n0hspd unique (user_name)\r\nHibernate: alter table exchange add constraint UK_84nwdtjn33htwaelm1fun3s7r unique (code)\r\nHibernate: alter table sub_exchange add constraint UK_s46mwccobp5ktr1yh2o491uoo unique (code)\r\n2022-01-14 12:36:18.732  INFO 65870 --- [  restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script &#39;file:/Users/gsigurdsson/Documents/workspace-spring-tool-suite-4-4.8.0.RELEASE/aos/target/classes/import.sql&#39;\r\nHibernate: INSERT INTO alarm_category (code) VALUES(&#39;APZ&#39;)\r\nHibernate: INSERT INTO alarm_category (code) VALUES(&#39;APT&#39;)\r\nHibernate: INSERT INTO alarm_category (code) VALUES(&#39;POWER&#39;)\r\nHibernate: INSERT INTO alarm_category (code) VALUES(&#39;EXT&#39;)\r\nHibernate: INSERT INTO alarm_class (code) VALUES(&#39;A1&#39;)\r\nHibernate: INSERT INTO alarm_class (code) VALUES(&#39;A2&#39;)\r\nHibernate: INSERT INTO alarm_class (code) VALUES(&#39;A3&#39;)\r\nHibernate: INSERT INTO alarm_class (code) VALUES(&#39;O1&#39;)\r\nHibernate: INSERT INTO alarm_class (code) VALUES(&#39;O2&#39;)\r\nHibernate: INSERT INTO alarm_class (code) VALUES(&#39;O3&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;SMUT&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;SBRE&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;TBREI&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;AKUR&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;BREI&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;EGIL&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;ISAF&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;KOPA&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;MIDB&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;MULI&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;SELF&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;VARM&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;TMULI&#39;)\r\nHibernate: INSERT INTO exchange (code) VALUES(&#39;PRUF&#39;)\r\n2022-01-14 12:36:18.922  INFO 65870 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-01-14 12:36:18.928  INFO 65870 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-01-14 12:36:19.368  INFO 65870 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2022-01-14 12:36:19.385  INFO 65870 --- [  restartedMain] is.siminn.aos.AosApplication             : Started AosApplication in 2.625 seconds (JVM running for 3.313)\r\n2022-01-14 12:36:19.388  INFO 65870 --- [  restartedMain] is.siminn.aos.AosApplication             : Server listening on port 1234\r\nThread 43 is running\r\n2022-01-14 12:39:02.194 ERROR 65870 --- [       Thread-7] is.siminn.aos.AosTask                    : Cannot invoke &quot;is.siminn.aos.repositories.AlarmClassRepository.findByCode(String)&quot; because &quot;this.alarmClassRepository&quot; is null\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;is.siminn.aos.repositories.AlarmClassRepository.findByCode(String)&quot; because &quot;this.alarmClassRepository&quot; is null\r\n\tat is.siminn.aos.AosTask.alarm(AosTask.java:157) ~[classes/:na]\r\n\tat is.siminn.aos.AosTask.process(AosTask.java:105) ~[classes/:na]\r\n\tat is.siminn.aos.AosTask.run(AosTask.java:65) ~[classes/:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n```","title":"Using JpaRepository in a class implementing Runnable","body":"<p>I'm creating socket server using Spring Boot and I'm having trouble initializing my JpaRepositories in a class that implements Runnable. For testing the server I use netcat and the server successfully receives the data and creates new thread to handle/parse the data. But when time comes to save the data in database via JpaRepositories I get NullPointerException since repositories have not been successfully initialized. What I'm I missing in my configuration for this to work?</p>\n<p>My SpringBootApplication</p>\n<pre><code>package is.siminn.aos;\n\nimport java.net.ServerSocket;\n\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AosApplication {\n    public static final Logger log = LogManager.getLogger(AosApplication.class);\n    \n    public static void main(String[] args) {\n        SpringApplication.run(AosApplication.class, args);\n        openSocket();\n    }\n    \n    private static void openSocket() {\n        try (ServerSocket server = new ServerSocket(1234)) {\n            log.log(Level.INFO, &quot;Server listening on port &quot; + 1234);\n            while (true) {\n                Thread obj = new Thread(new AosTask(server.accept()));\n                obj.start();\n            }\n        } catch (Exception e) {\n            log.log(Level.ERROR, e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n<p>Class implementing Runnable</p>\n<pre><code>package is.siminn.aos;\n\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\nimport java.util.Date;\n\nimport javax.transaction.Transactional;\n\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport is.siminn.aos.domain.Alarm;\nimport is.siminn.aos.domain.AlarmCategory;\nimport is.siminn.aos.domain.AlarmClass;\nimport is.siminn.aos.domain.Exchange;\nimport is.siminn.aos.domain.Spr;\nimport is.siminn.aos.repositories.AlarmCategoryRepository;\nimport is.siminn.aos.repositories.AlarmClassRepository;\nimport is.siminn.aos.repositories.AlarmRepository;\nimport is.siminn.aos.repositories.ExchangeRepository;\nimport is.siminn.aos.repositories.SprRepository;\nimport is.siminn.aos.repositories.SubExchangeRepository;\n\npublic class AosTask implements Runnable {\n    \n    public static final Logger log = LogManager.getLogger(AosTask.class);\n    \n    Socket socket;\n    \n    AlarmClassRepository alarmClassRepository;\n\n    AlarmCategoryRepository alarmCategoryRepository;\n\n    ExchangeRepository exchangeRepository;\n\n    SubExchangeRepository subExchangeRepository;\n    \n    SprRepository sprRepository;\n    \n    AlarmRepository alarmRepository;\n\n    protected AosTask(Socket socket) {\n        this.socket = socket;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Thread &quot; + Thread.currentThread().getId() + &quot; is running&quot;);\n        int ascii = -1;\n        \n        try (InputStreamReader in = new InputStreamReader(socket.getInputStream())) {\n            OutputStreamWriter out = new OutputStreamWriter(socket.getOutputStream());\n            StringBuffer axeBlock = new StringBuffer();\n\n            do {\n                ascii = in.read();\n                axeBlock.append((char) ascii);\n            } while (ascii != 4);\n            out.append(process(axeBlock));\n            out.flush();\n\n        } catch (Exception e) {\n            log.log(Level.ERROR, e.getMessage(), e);\n        } finally {\n            try {\n                socket.close();\n            } catch (Exception e) {\n                log.log(Level.ERROR, e.getMessage(), e);\n            }\n        }\n    }\n    \n    @Transactional\n    private String process(StringBuffer axeBlock) {\n        String header1 = &quot;&quot;;\n        String header2 = &quot;&quot;;\n        Alarm alarm = null;\n        boolean isAlarm = true;\n        \n        String[] axeBlockArray = axeBlock.toString().split(&quot;\\\\n|\\\\r|\\\\f&quot;);\n        for (int i = 0; i &lt; axeBlockArray.length; i++) {\n            String line = axeBlockArray[i];\n\n            \n            if (line.startsWith(&quot;:type=alarm&quot;) || line.startsWith(&quot;:type=spontan&quot;)) { /* APG type */\n                log.log(Level.DEBUG, &quot;APG...&quot;);\n                \n                if (line.startsWith(&quot;:type=alarm&quot;)) {\n                    String nextLine = axeBlockArray[i + 2];\n                    \n                    if (nextLine.startsWith(&quot;*** ALARM CEASING&quot;)) {\n                        log.log(Level.DEBUG, &quot;APG alarm ceasing&quot;);\n                        isAlarm = false;\n                        ceasing(nextLine);\n                        break;\n                    } else {\n                        log.log(Level.DEBUG, &quot;APG alarm&quot;);\n                        header1 = nextLine;\n                        alarm = alarm(header1);\n                        header2 = axeBlockArray[i + 3];\n                        break;\n                    }\n\n                } else if (line.startsWith(&quot;type=spontan&quot;)) {\n                    log.log(Level.DEBUG, &quot;APG heartbeat&quot;);\n                    System.out.println(&quot;heartbeat&quot;);\n                    isAlarm = false;\n                    heartbeat(line);\n                    break;\n                } else {\n                    /* wtf */\n                }\n                break;\n            } else if (line.startsWith(&quot;WO      &quot;)) { /* IOG type */\n                log.log(Level.DEBUG, &quot;IOG...&quot;);\n                // TODO: implement\n            } else {\n                /* nothing to see here */\n            }\n        }\n        \n        if (isAlarm) {\n            alarm.setSpr(new Spr(header1, header2, new String[] {axeBlock.toString()}));\n        }\n        return axeBlock.toString();\n    }\n    \n    private Alarm alarm(String header1) {\n        Alarm alarm = new Alarm();\n        \n        /**\n         * Header example\n         * header1: *** ALARM 406 A2/APT &quot;TBREI/IS76/MPS1&quot;A 220104 1404\n         */\n        String[] fields = header1.split(&quot; &quot;);\n\n        Integer alarmId = Integer.valueOf(fields[2]);\n        String[] alarmClassAndCategory = fields[3].split(&quot;/&quot;);\n        String cls = alarmClassAndCategory[0];\n        String cat = alarmClassAndCategory[1];\n        String exch = fields[4].substring(1, fields[4].indexOf(&quot;/&quot;));\n        String date = fields[5];\n        String time = fields[6];\n        Date created = null;\n        try {\n            created = Utils.createTimestamp(date, time);\n        } catch (Exception e) {\n            // TODO: handle exception\n        }\n        \n        AlarmClass alarmClass = alarmClassRepository.findByCode(cls);\n        AlarmCategory alarmCategory = alarmCategoryRepository.findByCode(cat);\n        Exchange exchange = exchangeRepository.findByCode(exch);\n        \n        alarm.setAlarmId(alarmId);\n        alarm.setAlarmCategory(alarmCategory);\n        alarm.setAlarmClass(alarmClass);\n        alarm.setExchange(exchange);\n        alarm.setDateCreated(created);\n        \n        return alarm;\n    }\n    \n    private void ceasing(String line) {\n        log.log(Level.DEBUG, &quot;CEASING [&quot; + line + &quot;]&quot;);\n        // TODO: implement\n    }\n    \n    private void heartbeat(String line) {\n        log.log(Level.DEBUG, &quot;HEARTBEAT [&quot; + line + &quot;]&quot;);\n        // TODO: implement\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code># ===============================\n# = DATA SOURCE\n# ===============================\n# Set here configurations for the database connection\nspring.datasource.url=jdbc:postgresql://localhost:5432/aos\nspring.datasource.username=foo\nspring.datasource.password=bar\nspring.datasource.driver-class-name=org.postgresql.Driver\n# Keep the connection alive if idle for a long time (needed in production)\nspring.datasource.tomcat.test-while-idle=true\nspring.datasource.tomcat.validation-query=SELECT 1\n\n\n# ===============================\n# = JPA / HIBERNATE\n# ===============================\n# Show or not log for each sql query\nspring.jpa.show-sql=true\n# Hibernate ddl auto (create, create-drop, update): with &quot;create&quot; the database\nspring.jpa.hibernate.ddl-auto=create\n#spring.jpa.hibernate.ddl-auto=update\n\n# Naming strategy\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyHbmImpl\nspring.jpa.hibernate.naming.physical-strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n\n# Allows Hibernate to generate SQL optimized for a particular DBMS\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>I have a few repositories and they are implemented in the same way so I'll only post one example.</p>\n<pre><code>package is.siminn.aos.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport is.siminn.aos.domain.AlarmCategory;\n\n@Repository\npublic interface AlarmCategoryRepository extends JpaRepository&lt;AlarmCategory, Long&gt; {\n    AlarmCategory findByCode(String code);\n}\n</code></pre>\n<p>Entities are also all similar so I think one example is enough.</p>\n<pre><code>package is.siminn.aos.domain;\n\nimport java.io.Serializable;\nimport java.util.Objects;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Data\n@Entity\n@Table(name = &quot;ALARM_CLASS&quot;)\npublic class AlarmClass implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @Column(name = &quot;ID&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(name = &quot;CODE&quot;, nullable = false, unique = true)\n    private String code;\n\n    public AlarmClass() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public AlarmClass(String code) {\n        super();\n        this.code = code;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(code, id);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        AlarmClass other = (AlarmClass) obj;\n        return Objects.equals(code, other.code) &amp;&amp; id == other.id;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;AlarmClass [id=&quot; + id + &quot;, code=&quot; + code + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>SpringApplication log</p>\n<pre><code>12:36:16.752 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@79f54323\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.2)\n\n2022-01-14 12:36:16.997  INFO 65870 --- [  restartedMain] is.siminn.aos.AosApplication             : Starting AosApplication using Java 15.0.1 on IS-C02F62LZMD6R with PID 65870 (/Users/gsigurdsson/Documents/workspace-spring-tool-suite-4-4.8.0.RELEASE/aos/target/classes started by gsigurdsson in /Users/gsigurdsson/Documents/workspace-spring-tool-suite-4-4.8.0.RELEASE/aos)\n2022-01-14 12:36:16.998  INFO 65870 --- [  restartedMain] is.siminn.aos.AosApplication             : No active profile set, falling back to default profiles: default\n2022-01-14 12:36:17.027  INFO 65870 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-01-14 12:36:17.337  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2022-01-14 12:36:17.338  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2022-01-14 12:36:17.357  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.AlarmCategoryRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-01-14 12:36:17.359  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.AlarmClassRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-01-14 12:36:17.360  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.AlarmRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-01-14 12:36:17.362  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.AosUserRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-01-14 12:36:17.363  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.ExchangeRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-01-14 12:36:17.365  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.HeartbeatRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-01-14 12:36:17.366  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.SprRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-01-14 12:36:17.367  INFO 65870 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface is.siminn.aos.repositories.SubExchangeRepository. If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.\n2022-01-14 12:36:17.368  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.\n2022-01-14 12:36:17.376  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2022-01-14 12:36:17.377  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-01-14 12:36:17.409  INFO 65870 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 8 JPA repository interfaces.\n2022-01-14 12:36:17.667  INFO 65870 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-01-14 12:36:17.698  INFO 65870 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.3.Final\n2022-01-14 12:36:17.798  INFO 65870 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-01-14 12:36:17.876  INFO 65870 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-01-14 12:36:18.014  INFO 65870 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-01-14 12:36:18.027  INFO 65870 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\nHibernate: drop table if exists activity cascade\nHibernate: drop table if exists alarm cascade\nHibernate: drop table if exists alarm_category cascade\nHibernate: drop table if exists alarm_class cascade\nHibernate: drop table if exists aos_user cascade\nHibernate: drop table if exists exchange cascade\nHibernate: drop table if exists heartbeat cascade\nHibernate: drop table if exists preferences cascade\nHibernate: drop table if exists spr cascade\nHibernate: drop table if exists sub_exchange cascade\nHibernate: create table activity (id  bigserial not null, alarm_id bytea not null, aosuser_id bytea not null, created timestamp not null, message varchar(2048), updated timestamp not null, primary key (id))\nHibernate: create table alarm (id  bigserial not null, alarm_category bytea not null, alarm_class bytea not null, alarm_id int4 not null, ceasing_time timestamp, date_created timestamp not null, exchange_id bytea not null, spr_id bytea not null, primary key (id))\nHibernate: create table alarm_category (id  bigserial not null, code varchar(255) not null, primary key (id))\nHibernate: create table alarm_class (id  bigserial not null, code varchar(255) not null, primary key (id))\nHibernate: create table aos_user (id  bigserial not null, user_name varchar(255) not null, primary key (id))\nHibernate: create table exchange (id  bigserial not null, code varchar(255) not null, primary key (id))\nHibernate: create table heartbeat (id  bigserial not null, exchange_id bytea, lastcall timestamp not null, primary key (id))\nHibernate: create table preferences (id  bigserial not null, aosuser_id bytea not null, paging_counter int4 not null, refresh_interval int4 not null, primary key (id))\nHibernate: create table spr (id  bigserial not null, header1 varchar(255) not null, header2 varchar(255) not null, message bytea not null, primary key (id))\nHibernate: create table sub_exchange (id  bigserial not null, code varchar(255) not null, exchange_id bytea not null, primary key (id))\nHibernate: alter table alarm_category add constraint UK_k23l5xnesa680kk6b7sfeo2tt unique (code)\nHibernate: alter table alarm_class add constraint UK_he7nncsa3mlq6baqdjyg8hycy unique (code)\nHibernate: alter table aos_user add constraint UK_kbd1svuqgedu877c6x9n0hspd unique (user_name)\nHibernate: alter table exchange add constraint UK_84nwdtjn33htwaelm1fun3s7r unique (code)\nHibernate: alter table sub_exchange add constraint UK_s46mwccobp5ktr1yh2o491uoo unique (code)\n2022-01-14 12:36:18.732  INFO 65870 --- [  restartedMain] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'file:/Users/gsigurdsson/Documents/workspace-spring-tool-suite-4-4.8.0.RELEASE/aos/target/classes/import.sql'\nHibernate: INSERT INTO alarm_category (code) VALUES('APZ')\nHibernate: INSERT INTO alarm_category (code) VALUES('APT')\nHibernate: INSERT INTO alarm_category (code) VALUES('POWER')\nHibernate: INSERT INTO alarm_category (code) VALUES('EXT')\nHibernate: INSERT INTO alarm_class (code) VALUES('A1')\nHibernate: INSERT INTO alarm_class (code) VALUES('A2')\nHibernate: INSERT INTO alarm_class (code) VALUES('A3')\nHibernate: INSERT INTO alarm_class (code) VALUES('O1')\nHibernate: INSERT INTO alarm_class (code) VALUES('O2')\nHibernate: INSERT INTO alarm_class (code) VALUES('O3')\nHibernate: INSERT INTO exchange (code) VALUES('SMUT')\nHibernate: INSERT INTO exchange (code) VALUES('SBRE')\nHibernate: INSERT INTO exchange (code) VALUES('TBREI')\nHibernate: INSERT INTO exchange (code) VALUES('AKUR')\nHibernate: INSERT INTO exchange (code) VALUES('BREI')\nHibernate: INSERT INTO exchange (code) VALUES('EGIL')\nHibernate: INSERT INTO exchange (code) VALUES('ISAF')\nHibernate: INSERT INTO exchange (code) VALUES('KOPA')\nHibernate: INSERT INTO exchange (code) VALUES('MIDB')\nHibernate: INSERT INTO exchange (code) VALUES('MULI')\nHibernate: INSERT INTO exchange (code) VALUES('SELF')\nHibernate: INSERT INTO exchange (code) VALUES('VARM')\nHibernate: INSERT INTO exchange (code) VALUES('TMULI')\nHibernate: INSERT INTO exchange (code) VALUES('PRUF')\n2022-01-14 12:36:18.922  INFO 65870 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-01-14 12:36:18.928  INFO 65870 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-01-14 12:36:19.368  INFO 65870 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-01-14 12:36:19.385  INFO 65870 --- [  restartedMain] is.siminn.aos.AosApplication             : Started AosApplication in 2.625 seconds (JVM running for 3.313)\n2022-01-14 12:36:19.388  INFO 65870 --- [  restartedMain] is.siminn.aos.AosApplication             : Server listening on port 1234\nThread 43 is running\n2022-01-14 12:39:02.194 ERROR 65870 --- [       Thread-7] is.siminn.aos.AosTask                    : Cannot invoke &quot;is.siminn.aos.repositories.AlarmClassRepository.findByCode(String)&quot; because &quot;this.alarmClassRepository&quot; is null\n\njava.lang.NullPointerException: Cannot invoke &quot;is.siminn.aos.repositories.AlarmClassRepository.findByCode(String)&quot; because &quot;this.alarmClassRepository&quot; is null\n    at is.siminn.aos.AosTask.alarm(AosTask.java:157) ~[classes/:na]\n    at is.siminn.aos.AosTask.process(AosTask.java:105) ~[classes/:na]\n    at is.siminn.aos.AosTask.run(AosTask.java:65) ~[classes/:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n</code></pre>\n"},{"tags":["java","mysql","sql","arrays"],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642168705,"creation_date":1642168705,"answer_id":70711708,"question_id":70711664,"body_markdown":"I suspect that the Exception is being thrown in the line `String value = ...` by the `getValueAt(row, 0)` expression.\r\n\r\nIf that is the case, I guess you need to switch these 2 lines:\r\n\r\n    model.removeRow(row);\r\n    String value = (table1.getModel().getValueAt(row, 0).toString());\r\n\r\nif you remove the last row, your table model is empty. That&#39;s why `getValueAt(row, 0)` will throw an `ArrayIndexOutOfBoundsException`.","title":"error: java.lang.ArrayIndexOutOfBoundsException: 0 &gt;= 0","body":"<p>I suspect that the Exception is being thrown in the line <code>String value = ...</code> by the <code>getValueAt(row, 0)</code> expression.</p>\n<p>If that is the case, I guess you need to switch these 2 lines:</p>\n<pre><code>model.removeRow(row);\nString value = (table1.getModel().getValueAt(row, 0).toString());\n</code></pre>\n<p>if you remove the last row, your table model is empty. That's why <code>getValueAt(row, 0)</code> will throw an <code>ArrayIndexOutOfBoundsException</code>.</p>\n"}],"owner":{"account_id":23927865,"reputation":11,"user_id":17922771,"display_name":"Zach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70711708,"answer_count":1,"score":-1,"last_activity_date":1642168705,"creation_date":1642168458,"question_id":70711664,"body_markdown":"Help, i can&#39;t delete the last row in my table. There&#39;s no error when i am deleting the other records but then the last 1, i cannot delete it\r\n\r\n\r\nhere&#39;s my code:\r\n\r\n    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        int row = table1.getSelectedRow();\r\n        if(row &gt;= 0){\r\n        int opt = JOptionPane.showConfirmDialog(null, &quot;Confirm to Delete?&quot;, &quot;Delete&quot;, JOptionPane.YES_NO_OPTION);\r\n        if(opt==0){\r\n        try{\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/finals?zeroDateTimeBehavior=CONVERT_TO_NULL&quot;, &quot;root&quot;, &quot;&quot;);\r\n        DefaultTableModel model = (DefaultTableModel) table1.getModel();\r\n        model.removeRow(row);\r\n        String value = (table1.getModel().getValueAt(row, 0).toString());\r\n        String query = &quot;DELETE FROM student WHERE id_num = &#39;&quot;+ value + &quot;&#39;&quot;;\r\n        PreparedStatement pst = conn.prepareStatement(query);\r\n        pst.executeUpdate(query);\r\n        JOptionPane.showMessageDialog(this, &quot;Deleted Successfully. \\nYour record has been updated.&quot;, &quot;Success&quot;, JOptionPane.INFORMATION_MESSAGE); \r\n        }\r\n        catch(Exception ex){ex.printStackTrace();}\r\n        }\r\n        }\r\n        else{JOptionPane.showMessageDialog(this, &quot;Please select a record.&quot;, &quot;Error&quot;, JOptionPane.INFORMATION_MESSAGE);}\r\n    }       ","title":"error: java.lang.ArrayIndexOutOfBoundsException: 0 &gt;= 0","body":"<p>Help, i can't delete the last row in my table. There's no error when i am deleting the other records but then the last 1, i cannot delete it</p>\n<p>here's my code:</p>\n<pre><code>private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    int row = table1.getSelectedRow();\n    if(row &gt;= 0){\n    int opt = JOptionPane.showConfirmDialog(null, &quot;Confirm to Delete?&quot;, &quot;Delete&quot;, JOptionPane.YES_NO_OPTION);\n    if(opt==0){\n    try{\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/finals?zeroDateTimeBehavior=CONVERT_TO_NULL&quot;, &quot;root&quot;, &quot;&quot;);\n    DefaultTableModel model = (DefaultTableModel) table1.getModel();\n    model.removeRow(row);\n    String value = (table1.getModel().getValueAt(row, 0).toString());\n    String query = &quot;DELETE FROM student WHERE id_num = '&quot;+ value + &quot;'&quot;;\n    PreparedStatement pst = conn.prepareStatement(query);\n    pst.executeUpdate(query);\n    JOptionPane.showMessageDialog(this, &quot;Deleted Successfully. \\nYour record has been updated.&quot;, &quot;Success&quot;, JOptionPane.INFORMATION_MESSAGE); \n    }\n    catch(Exception ex){ex.printStackTrace();}\n    }\n    }\n    else{JOptionPane.showMessageDialog(this, &quot;Please select a record.&quot;, &quot;Error&quot;, JOptionPane.INFORMATION_MESSAGE);}\n}       \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":3,"creation_date":1642168398,"post_id":70711540,"comment_id":125005636,"body_markdown":"Are you referring to [Text Blocks](https://docs.oracle.com/en/java/javase/15/text-blocks/index.html)?","body":"Are you referring to <a href=\"https://docs.oracle.com/en/java/javase/15/text-blocks/index.html\" rel=\"nofollow noreferrer\">Text Blocks</a>?"},{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":1,"creation_date":1642168428,"post_id":70711540,"comment_id":125005654,"body_markdown":"[This](https://openjdk.java.net/projects/jdk/15/) page has links to descriptions of the new features in Java 15.","body":"<a href=\"https://openjdk.java.net/projects/jdk/15/\" rel=\"nofollow noreferrer\">This</a> page has links to descriptions of the new features in Java 15."}],"owner":{"account_id":23691647,"reputation":1,"user_id":17715928,"display_name":"Sergio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642168697,"answer_count":0,"score":0,"last_activity_date":1642168529,"creation_date":1642167924,"question_id":70711540,"body_markdown":"I read somewhere that Java 15 implemented a new way to write multi line Strings. For some reason I cannot find the related documentation.\r\n\r\nWhat is the syntax for multi line strings?\r\n\r\nI remember an official page describing all the new java features for every version, including the new string format. Where can I find that page?\r\n\r\nThanks","title":"What is the syntax for HEREDOC string in Java?","body":"<p>I read somewhere that Java 15 implemented a new way to write multi line Strings. For some reason I cannot find the related documentation.</p>\n<p>What is the syntax for multi line strings?</p>\n<p>I remember an official page describing all the new java features for every version, including the new string format. Where can I find that page?</p>\n<p>Thanks</p>\n"},{"tags":["java","git","eclipse"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1642169236,"post_id":70711659,"comment_id":125006015,"body_markdown":"https://wiki.eclipse.org/EGit/User_Guide#Getting_Started","body":"<a href=\"https://wiki.eclipse.org/EGit/User_Guide#Getting_Started\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EGit/User_Guide#Getting_Started</a>"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1642172732,"post_id":70711659,"comment_id":125007502,"body_markdown":"I&#39;m surprised because I use the standard Eclipse installation without any additions and the status of all files is displayed in the package explorer. It shows the branch, if I have pushed or not and what files are changed. Not sure how you have missed it?","body":"I&#39;m surprised because I use the standard Eclipse installation without any additions and the status of all files is displayed in the package explorer. It shows the branch, if I have pushed or not and what files are changed. Not sure how you have missed it?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1642205455,"post_id":70711659,"comment_id":125017657,"body_markdown":"Make sure you have &quot;Git integration for Eclipse&quot; installed and not just &quot;Java implementation of Git&quot;.","body":"Make sure you have &quot;Git integration for Eclipse&quot; installed and not just &quot;Java implementation of Git&quot;."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642250703,"post_id":70711659,"comment_id":125023745,"body_markdown":"In Eclipse all uncommitted changes are listed in the _Git Staging_ view and when choosing in the preferences _General &gt; Editors &gt; Text Editors &gt; Quick Diff_ as reference source _A Git revision_ instead of _Version of Git_, the changed lines will also marked in the overview ruler.","body":"In Eclipse all uncommitted changes are listed in the <i>Git Staging</i> view and when choosing in the preferences <i>General &gt; Editors &gt; Text Editors &gt; Quick Diff</i> as reference source <i>A Git revision</i> instead of <i>Version of Git</i>, the changed lines will also marked in the overview ruler."}],"owner":{"account_id":20906134,"reputation":483,"user_id":15358022,"display_name":"Dawson Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642168444,"creation_date":1642168444,"question_id":70711659,"body_markdown":"When I use Intellij, I&#39;m able to use git in the local terminal. Also all the uncommited changes are visible while coding, making the whole process of working with git easy.\r\n\r\nI&#39;m currently working on a maven project in Eclipse. I right-click on the project, click on local terminal and then git bash. The process is almost the same. \r\n\r\nThe only problem I&#39;m facing here is that Eclipse doesn&#39;t show me the uncommitted changes. I have tried to use stuff like Egit but it seems too complex.\r\n\r\nWhat changes should I make to see my uncommitted changes while coding in Eclipse? Please help, really struggling with it.","title":"Unable to see Git changes like Intellij in Eclipse","body":"<p>When I use Intellij, I'm able to use git in the local terminal. Also all the uncommited changes are visible while coding, making the whole process of working with git easy.</p>\n<p>I'm currently working on a maven project in Eclipse. I right-click on the project, click on local terminal and then git bash. The process is almost the same.</p>\n<p>The only problem I'm facing here is that Eclipse doesn't show me the uncommitted changes. I have tried to use stuff like Egit but it seems too complex.</p>\n<p>What changes should I make to see my uncommitted changes while coding in Eclipse? Please help, really struggling with it.</p>\n"},{"tags":["java","eclipse-jdt","formatter"],"answers":[{"tags":[],"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642168311,"creation_date":1642168311,"answer_id":70711624,"question_id":70710434,"body_markdown":"Ok I found it is not related to DefaultCodeFormatterConstants options but to CodeFormatter &#39;kind&#39; property when calling format function. \r\nSo if you want to format class with comments as well you should use options like for example this:\r\n``` \r\nCodeFormatter.K_COMPILATION_UNIT | CodeFormatter.F_INCLUDE_COMMENTS\r\n```\r\n\r\n```\r\nfinal TextEdit edit = codeFormatter.format(\r\n                CodeFormatter.K_COMPILATION_UNIT | CodeFormatter.F_INCLUDE_COMMENTS, // format a compilation unit\r\n                contentToFormat, // source to format\r\n                0, // starting position\r\n                contentToFormat.length(), // length\r\n                0, // initial indentation\r\n                System.getProperty(&quot;line.separator&quot;) // line separator\r\n        );\r\n```","title":"jdt.core CodeFormatter - formatting blocks of comments","body":"<p>Ok I found it is not related to DefaultCodeFormatterConstants options but to CodeFormatter 'kind' property when calling format function.\nSo if you want to format class with comments as well you should use options like for example this:</p>\n<pre><code>CodeFormatter.K_COMPILATION_UNIT | CodeFormatter.F_INCLUDE_COMMENTS\n</code></pre>\n<pre><code>final TextEdit edit = codeFormatter.format(\n                CodeFormatter.K_COMPILATION_UNIT | CodeFormatter.F_INCLUDE_COMMENTS, // format a compilation unit\n                contentToFormat, // source to format\n                0, // starting position\n                contentToFormat.length(), // length\n                0, // initial indentation\n                System.getProperty(&quot;line.separator&quot;) // line separator\n        );\n</code></pre>\n"}],"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70711624,"answer_count":1,"score":0,"last_activity_date":1642168311,"creation_date":1642162582,"question_id":70710434,"body_markdown":"I am using org.eclipse.jdt.core.formatter.CodeFormatter class. I have problem with formatting properly comments.\r\nCan anyone tell what options from DefaultCodeFormatterConstants should I use to format properly comment blocks?\r\n\r\nI have such situation:\r\n\r\n```\r\n/**\r\nProject: some-project\r\n@author: author\r\n@since: 2019-01-15\r\n*/\r\n```\r\nI&#39;d like to format it to \r\n```\r\n/**\r\n * Project: some-project\r\n * @author: author\r\n * @since: 2019-01-15\r\n */\r\n```\r\nOr even how to format blocks of comments, as in my case those are not formatted at all.\r\n","title":"jdt.core CodeFormatter - formatting blocks of comments","body":"<p>I am using org.eclipse.jdt.core.formatter.CodeFormatter class. I have problem with formatting properly comments.\nCan anyone tell what options from DefaultCodeFormatterConstants should I use to format properly comment blocks?</p>\n<p>I have such situation:</p>\n<pre><code>/**\nProject: some-project\n@author: author\n@since: 2019-01-15\n*/\n</code></pre>\n<p>I'd like to format it to</p>\n<pre><code>/**\n * Project: some-project\n * @author: author\n * @since: 2019-01-15\n */\n</code></pre>\n<p>Or even how to format blocks of comments, as in my case those are not formatted at all.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8312,"page":1680,"page_size":100}
