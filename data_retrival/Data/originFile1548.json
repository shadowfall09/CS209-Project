{"items":[{"tags":["java","html","jtextpane"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646238429,"creation_date":1646238429,"answer_id":71326053,"question_id":71325646,"body_markdown":"For a reasonable display of HTML documents use [JEditorPane][1].\r\nSwitch it to `text/html` content and you should be able to get your stuff rendered.\r\n\r\nAlso check https://stackoverflow.com/questions/44939558/how-to-make-div-to-new-line how to get DIVs on one line each.\r\n\r\nWhen in doubt, simply add `&lt;br/&gt;` elements.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JEditorPane.html","title":"JTextPane is not adding a new line when reading text from HTML file","body":"<p>For a reasonable display of HTML documents use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JEditorPane.html\" rel=\"nofollow noreferrer\">JEditorPane</a>.\nSwitch it to <code>text/html</code> content and you should be able to get your stuff rendered.</p>\n<p>Also check <a href=\"https://stackoverflow.com/questions/44939558/how-to-make-div-to-new-line\">how to make div to new line</a> how to get DIVs on one line each.</p>\n<p>When in doubt, simply add <code>&lt;br/&gt;</code> elements.</p>\n"},{"tags":[],"owner":{"account_id":24430391,"reputation":3,"user_id":18355406,"display_name":"Erik Lightner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646279814,"creation_date":1646244451,"answer_id":71327271,"question_id":71325646,"body_markdown":"I figured out what to do to solve the problem. Instead of putting the text in a \\&lt;p&gt; tag, I put it in a \\&lt;div&gt; tag in the HTML document and set the display to block and it is working like I want it to. I also appended a \\&lt;br&gt; tag to the end of the text to be added to the JEditorPane.\r\n\r\nFor example I changed:\r\n\r\n    &lt;p id=&quot;look-bed&quot;&gt;\r\n        The bed looks hard and uncomfortable.\r\n    &lt;/p&gt;\r\n\r\nto:\r\n\r\n    &lt;div id=&quot;look-bed&quot;&gt;\r\n        The bed looks hard and uncomfortable.\r\n    &lt;/div&gt;\r\n\r\nI added a CSS style specific to the div tag to set the display:\r\n\r\n\r\ndiv { display: block }\r\n\r\nThe new method that adds text to the JEditorPane is:\r\n\r\n```\r\npublic static void SetGameText(String location, String text, boolean appendText) {\r\n        if(appendText) {\r\n            try {\r\n                String addedText = text + &quot;&lt;br&gt;&quot;; // added new variable to append &lt;br&gt; tag\r\n                HTMLDocument doc = (HTMLDocument) gameText.getDocument();\r\n                doc.insertAfterEnd(doc.getCharacterElement(doc.getLength()), addedText); //use new variable to add text to JEditorPane\r\n            }\r\n            catch (IOException | BadLocationException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        else {\r\n            gameText.setText(HTMLStyles);\r\n            gameText.setText(location + text);\r\n        }\r\n    }\r\n```","title":"JTextPane is not adding a new line when reading text from HTML file","body":"<p>I figured out what to do to solve the problem. Instead of putting the text in a &lt;p&gt; tag, I put it in a &lt;div&gt; tag in the HTML document and set the display to block and it is working like I want it to. I also appended a &lt;br&gt; tag to the end of the text to be added to the JEditorPane.</p>\n<p>For example I changed:</p>\n<pre><code>&lt;p id=&quot;look-bed&quot;&gt;\n    The bed looks hard and uncomfortable.\n&lt;/p&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;div id=&quot;look-bed&quot;&gt;\n    The bed looks hard and uncomfortable.\n&lt;/div&gt;\n</code></pre>\n<p>I added a CSS style specific to the div tag to set the display:</p>\n<p>div { display: block }</p>\n<p>The new method that adds text to the JEditorPane is:</p>\n<pre><code>public static void SetGameText(String location, String text, boolean appendText) {\n        if(appendText) {\n            try {\n                String addedText = text + &quot;&lt;br&gt;&quot;; // added new variable to append &lt;br&gt; tag\n                HTMLDocument doc = (HTMLDocument) gameText.getDocument();\n                doc.insertAfterEnd(doc.getCharacterElement(doc.getLength()), addedText); //use new variable to add text to JEditorPane\n            }\n            catch (IOException | BadLocationException e) {\n                e.printStackTrace();\n            }\n        }\n        else {\n            gameText.setText(HTMLStyles);\n            gameText.setText(location + text);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":24430391,"reputation":3,"user_id":18355406,"display_name":"Erik Lightner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71327271,"answer_count":2,"score":0,"last_activity_date":1646279814,"creation_date":1646236718,"question_id":71325646,"body_markdown":"I am attempting to read text from an HTML file based on the id of the element and display it in a JTextPane. However, when I read in the text and display it, it is not going to a new line.\r\nHere is an example of the HTML being read in:\r\n\r\n    &lt;!-- LOOK BED command text --&gt;\r\n    &lt;p id=&quot;look-bed&quot;&gt;\r\n        The bed looks hard and uncomfortable.&lt;br&gt;\r\n    &lt;/p&gt;\r\n\r\n\r\n    &lt;!-- LOOK FOOD command text --&gt;\r\n    &lt;p id=&quot;look-food&quot;&gt;\r\n        The food doesn&#39;t look very appetizing.&lt;br&gt;\r\n    &lt;/p&gt;\r\n\r\nThe method that I am using to read from the HTML page is:\r\n```\r\n   public static String ReadFromHTMLFile(String tagId) {\r\n        Document htmlFile;\r\n        File file = new File(&quot;GameText.html&quot;);\r\n        try {\r\n            htmlFile = Jsoup.parse(file, &quot;UTF-8&quot;);\r\n            Element element = htmlFile.getElementById(tagId);\r\n            return String.valueOf(element);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;Unable to access &quot; + tagId + &quot; element&quot;;\r\n    }\r\n```\r\n\r\nThe method that I am using to update the text in the JTextPane is:\r\n\r\n```\r\n   public static void SetGameText(String location, String text, boolean appendText) {\r\n        if(appendText) {\r\n            try {\r\n                HTMLDocument doc = (HTMLDocument) gameText.getStyledDocument();\r\n                doc.insertAfterEnd(doc.getCharacterElement(doc.getLength()), text);\r\n            }\r\n            catch (IOException | BadLocationException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        else {\r\n            gameText.setText(&quot;&quot;);\r\n            gameText.setText(location + text);\r\n        }\r\n    }\r\n```\r\n\r\nThe user is supposed to enter a command in a text box and click the submit button and get feedback based on the command that was entered. The problem is that each of the commands that are entered appear on the same line instead of a new line.\r\n\r\nThe part of the SetGameText method that runs if appendText is false functions the way it is supposed to, creating line breaks where I want them, but the part that runs if appendText is true is not creating a line break, even though I am using the \\&lt;br&gt; tag in the HTML.","title":"JTextPane is not adding a new line when reading text from HTML file","body":"<p>I am attempting to read text from an HTML file based on the id of the element and display it in a JTextPane. However, when I read in the text and display it, it is not going to a new line.\nHere is an example of the HTML being read in:</p>\n<pre><code>&lt;!-- LOOK BED command text --&gt;\n&lt;p id=&quot;look-bed&quot;&gt;\n    The bed looks hard and uncomfortable.&lt;br&gt;\n&lt;/p&gt;\n\n\n&lt;!-- LOOK FOOD command text --&gt;\n&lt;p id=&quot;look-food&quot;&gt;\n    The food doesn't look very appetizing.&lt;br&gt;\n&lt;/p&gt;\n</code></pre>\n<p>The method that I am using to read from the HTML page is:</p>\n<pre><code>   public static String ReadFromHTMLFile(String tagId) {\n        Document htmlFile;\n        File file = new File(&quot;GameText.html&quot;);\n        try {\n            htmlFile = Jsoup.parse(file, &quot;UTF-8&quot;);\n            Element element = htmlFile.getElementById(tagId);\n            return String.valueOf(element);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        return &quot;Unable to access &quot; + tagId + &quot; element&quot;;\n    }\n</code></pre>\n<p>The method that I am using to update the text in the JTextPane is:</p>\n<pre><code>   public static void SetGameText(String location, String text, boolean appendText) {\n        if(appendText) {\n            try {\n                HTMLDocument doc = (HTMLDocument) gameText.getStyledDocument();\n                doc.insertAfterEnd(doc.getCharacterElement(doc.getLength()), text);\n            }\n            catch (IOException | BadLocationException e) {\n                e.printStackTrace();\n            }\n        }\n        else {\n            gameText.setText(&quot;&quot;);\n            gameText.setText(location + text);\n        }\n    }\n</code></pre>\n<p>The user is supposed to enter a command in a text box and click the submit button and get feedback based on the command that was entered. The problem is that each of the commands that are entered appear on the same line instead of a new line.</p>\n<p>The part of the SetGameText method that runs if appendText is false functions the way it is supposed to, creating line breaks where I want them, but the part that runs if appendText is true is not creating a line break, even though I am using the &lt;br&gt; tag in the HTML.</p>\n"},{"tags":["java","spring","maven","spring-mvc","web-applications"],"answers":[{"tags":[],"owner":{"account_id":18147851,"reputation":56,"user_id":13200971,"display_name":"Babji Polisetti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646277397,"creation_date":1646277397,"answer_id":71331718,"question_id":71331672,"body_markdown":"Try to use below dependency in pom.xml because mentioned method not supported in older versions.\r\n\r\njavax.servlet.http.HttpServletResponse.getStatus() was added in Servlet 3.0\r\n\r\nAdd the following:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Why am I getting NoSuchMethodError in my Java webapp?","body":"<p>Try to use below dependency in pom.xml because mentioned method not supported in older versions.</p>\n<p>javax.servlet.http.HttpServletResponse.getStatus() was added in Servlet 3.0</p>\n<p>Add the following:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646279678,"creation_date":1646277410,"answer_id":71331719,"question_id":71331672,"body_markdown":"Jetty 6.x uses Servlet 2.5 and the `int javax.servlet.http.HttpServletResponse.getStatus()` is added in Servlet 3.x. Spring framework 5.x uses Servlet 3.x so you must use compatible jetty version. \r\n\r\nUpdate the `maven-jetty-plugin` maven plugin to at least 8.x or better 9.x if you are using Java 8 and if you are using Java 11 or later then update to 10.x. \r\n\r\nRefs:\r\n\r\n1. https://www.eclipse.org/jetty/download.php#version-table\r\n2. https://spring.io/blog/2015/06/10/feedback-welcome-spring-5-system-requirements","title":"Why am I getting NoSuchMethodError in my Java webapp?","body":"<p>Jetty 6.x uses Servlet 2.5 and the <code>int javax.servlet.http.HttpServletResponse.getStatus()</code> is added in Servlet 3.x. Spring framework 5.x uses Servlet 3.x so you must use compatible jetty version.</p>\n<p>Update the <code>maven-jetty-plugin</code> maven plugin to at least 8.x or better 9.x if you are using Java 8 and if you are using Java 11 or later then update to 10.x.</p>\n<p>Refs:</p>\n<ol>\n<li><a href=\"https://www.eclipse.org/jetty/download.php#version-table\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/download.php#version-table</a></li>\n<li><a href=\"https://spring.io/blog/2015/06/10/feedback-welcome-spring-5-system-requirements\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/06/10/feedback-welcome-spring-5-system-requirements</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3928993,"reputation":343,"user_id":3248353,"display_name":"Sathiyaraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646277843,"creation_date":1646277843,"answer_id":71331776,"question_id":71331672,"body_markdown":"@ktm5124. In normal @controller is required for response serialization in the method level so you could include the below sample.\r\n\r\n    @GetMapping(&quot;/{id}&quot;, produces = &quot;application/json&quot;)\r\n    public @ResponseBody Book getBook(@PathVariable int id) {\r\n        return findBookById(id);\r\n    }","title":"Why am I getting NoSuchMethodError in my Java webapp?","body":"<p>@ktm5124. In normal @controller is required for response serialization in the method level so you could include the below sample.</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;, produces = &quot;application/json&quot;)\npublic @ResponseBody Book getBook(@PathVariable int id) {\n    return findBookById(id);\n}\n</code></pre>\n"}],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1646277424,"answer_count":3,"score":2,"last_activity_date":1646279678,"creation_date":1646276885,"question_id":71331672,"body_markdown":"I have set up my spring-mvc webapp according to tutorials I have read.\r\n\r\nHere is my controller class:\r\n\r\n    package hellowebapp;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Controller\r\n    public class HelloController {\r\n    \r\n        @RequestMapping(&quot;/hello&quot;)\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, &quot;Hello World!&quot;);\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\n Here is my servlet.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;hellowebapp&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;jspViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        \r\n    &lt;/beans&gt;\r\n\r\nHere is my web.xml file:\r\n\r\n    &lt;web-app&gt;    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;HelloWebapp&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;HelloWebapp&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHere is my hello.jsp file:\r\n\r\n    &lt;%@ page contentType = &quot;text/html; charset = UTF-8&quot; %&gt;\r\n    &lt;html&gt;\r\n       &lt;head&gt;\r\n          &lt;title&gt;Hello World&lt;/title&gt;\r\n       &lt;/head&gt;\r\n       \r\n       &lt;body&gt;\r\n          &lt;h2&gt;${message}&lt;/h2&gt;\r\n       &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHere is my pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;hellowebapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;HelloWebapp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;name&gt;HelloWebapp&lt;/name&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;6.1.10&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\r\n                        &lt;connectors&gt;\r\n                            &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\r\n                                &lt;port&gt;8080&lt;/port&gt;\r\n                                &lt;maxIdleTime&gt;60000&lt;/maxIdleTime&gt;\r\n                            &lt;/connector&gt;\r\n                        &lt;/connectors&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe directory structure shows in a list of files and paths:\r\n\r\n 1. src/main/webapp/WEB-INF/views/hello.jsp\r\n 2. src/main/webapp/WEB-INF/HelloWebapp-servlet.xml\r\n 3. src/main/webapp/WEB-INF/web.xml\r\n 4. src/main/java/hellowebapp/HelloController.java\r\n 5. pom.xml\r\n\r\nI can package my webapp with &quot;mvn clean package&quot; and run it with &quot;mvn jetty:run&quot;. When I point my web browser to http://localhost:8080/HelloWebapp/hello, I get this error message:\r\n\r\n    HTTP ERROR: 500\r\n    \r\n    &#39;int javax.servlet.http.HttpServletResponse.getStatus()&#39;\r\n    RequestURI=/HelloWebapp/hello\r\n    \r\n    Caused by:\r\n    \r\n    java.lang.NoSuchMethodError: &#39;int javax.servlet.http.HttpServletResponse.getStatus()&#39;\r\n    \tat org.springframework.web.servlet.FrameworkServlet.publishRequestHandledEvent(FrameworkServlet.java:1146)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1023)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n    \tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\r\n    \tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n    \tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n    \tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\r\n    \tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\r\n    \tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\r\n    \tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n    \tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n    \tat org.mortbay.jetty.Server.handle(Server.java:324)\r\n    \tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\r\n    \tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)\r\n    \tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)\r\n    \tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\r\n    \tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\r\n    \tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\r\n    \tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)\r\n    Powered by Jetty://\r\n\r\nWhy am I getting this error message? How can I make the webapp work as intended?","title":"Why am I getting NoSuchMethodError in my Java webapp?","body":"<p>I have set up my spring-mvc webapp according to tutorials I have read.</p>\n<p>Here is my controller class:</p>\n<pre><code>package hellowebapp;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HelloController {\n\n    @RequestMapping(&quot;/hello&quot;)\n    public String helloWorld(Model model) {\n        model.addAttribute(&quot;message&quot;, &quot;Hello World!&quot;);\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>Here is my servlet.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;hellowebapp&quot;/&gt;\n\n    &lt;bean id=&quot;jspViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>Here is my web.xml file:</p>\n<pre><code>&lt;web-app&gt;    \n    &lt;servlet&gt;\n        &lt;servlet-name&gt;HelloWebapp&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;    \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;HelloWebapp&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Here is my hello.jsp file:</p>\n<pre><code>&lt;%@ page contentType = &quot;text/html; charset = UTF-8&quot; %&gt;\n&lt;html&gt;\n   &lt;head&gt;\n      &lt;title&gt;Hello World&lt;/title&gt;\n   &lt;/head&gt;\n   \n   &lt;body&gt;\n      &lt;h2&gt;${message}&lt;/h2&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;hellowebapp&lt;/groupId&gt;\n    &lt;artifactId&gt;HelloWebapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;name&gt;HelloWebapp&lt;/name&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\n                &lt;version&gt;6.1.10&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\n                    &lt;connectors&gt;\n                        &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\n                            &lt;port&gt;8080&lt;/port&gt;\n                            &lt;maxIdleTime&gt;60000&lt;/maxIdleTime&gt;\n                        &lt;/connector&gt;\n                    &lt;/connectors&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The directory structure shows in a list of files and paths:</p>\n<ol>\n<li>src/main/webapp/WEB-INF/views/hello.jsp</li>\n<li>src/main/webapp/WEB-INF/HelloWebapp-servlet.xml</li>\n<li>src/main/webapp/WEB-INF/web.xml</li>\n<li>src/main/java/hellowebapp/HelloController.java</li>\n<li>pom.xml</li>\n</ol>\n<p>I can package my webapp with &quot;mvn clean package&quot; and run it with &quot;mvn jetty:run&quot;. When I point my web browser to http://localhost:8080/HelloWebapp/hello, I get this error message:</p>\n<pre><code>HTTP ERROR: 500\n\n'int javax.servlet.http.HttpServletResponse.getStatus()'\nRequestURI=/HelloWebapp/hello\n\nCaused by:\n\njava.lang.NoSuchMethodError: 'int javax.servlet.http.HttpServletResponse.getStatus()'\n    at org.springframework.web.servlet.FrameworkServlet.publishRequestHandledEvent(FrameworkServlet.java:1146)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1023)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\n    at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\n    at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:324)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)\nPowered by Jetty://\n</code></pre>\n<p>Why am I getting this error message? How can I make the webapp work as intended?</p>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam","google-cloud-build"],"answers":[{"tags":[],"owner":{"account_id":2800545,"reputation":369,"user_id":2408869,"accept_rate":90,"display_name":"onji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646278603,"creation_date":1646278603,"answer_id":71331855,"question_id":71305588,"body_markdown":"Turns out `BigQueryOptions.java` already has a method `getNumStorageWriteApiStreams()` that returns an Integer. I was unknowingly trying to rewrite it with a different return, oops.\r\n\r\n\r\nhttps://github.com/apache/beam/blob/master/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryOptions.java#L95-L98","title":"Substitute ints into Dataflow via Cloudbuild yaml","body":"<p>Turns out <code>BigQueryOptions.java</code> already has a method <code>getNumStorageWriteApiStreams()</code> that returns an Integer. I was unknowingly trying to rewrite it with a different return, oops.</p>\n<p><a href=\"https://github.com/apache/beam/blob/master/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryOptions.java#L95-L98\" rel=\"nofollow noreferrer\">https://github.com/apache/beam/blob/master/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryOptions.java#L95-L98</a></p>\n"}],"owner":{"account_id":2800545,"reputation":369,"user_id":2408869,"accept_rate":90,"display_name":"onji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646278603,"creation_date":1646123092,"question_id":71305588,"body_markdown":"I&#39;ve got a streaming Dataflow pipeline, written in Java with BEAM 2.35. It commits data to BigQuery via StorageWriteApi. Initially the code looks like\r\n\r\n```\r\nBigQueryIO.writeTableRows()\r\n  .withTimePartitioning(/* some column */)\r\n  .withClustering(/* another column */)\r\n  .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\r\n  .withTriggeringFrequency(Duration.standardSeconds(30))\r\n  .withNumStorageWriteApiStreams(20) // want to make this dynamic\r\n```\r\n\r\nThis code runs in different environment eg Dev &amp; Prod. When I deploy in Dev I want 2 StorageWriteApiStreams, in Prod I want 20, and I&#39;m trying to pass/resolve these values at the moment I deploy with a Cloudbuild.\r\n\r\nThe cloudbuild-dev.yaml looks like\r\n\r\n```\r\nsteps:\r\n  - lots-of-steps\r\nargs:\r\n --numStorageWriteApiStreams=${_NUM_STORAGEWRITEAPI_STREAMS}\r\nsubstitutions:\r\n  _PROJECT: dev-project\r\n  _NUM_STORAGEWRITEAPI_STREAMS: &#39;2&#39;\r\n```\r\n\r\nI expose the substitution in the job code with an interface\r\n```\r\n  ValueProvider&lt;String&gt; getNumStorageWriteApiStreams();\r\n  void setNumStorageWriteApiStreams(ValueProvider&lt;String&gt; numStorageWriteApiStreams);\r\n```\r\n\r\nI then refactor the writeTableRows() call to invoke getNumStorageWriteApiStreams()\r\n```\r\nBigQueryIO.writeTableRows()\r\n  .withTimePartitioning(/* some column */)\r\n  .withClustering(/* another column */)\r\n  .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\r\n  .withTriggeringFrequency(Duration.standardSeconds(30))\r\n  .withNumStorageWriteApiStreams(Integer.parseInt(String.valueOf(options.getNumStorageWriteApiStreams())))\r\n```\r\n\r\nNow it&#39;s dynamic but I get a build failure on account of `java.lang.IllegalArgumentException: methods with same signature getNumStorageWriteApiStreams() but incompatible return types: [class java.lang.Integer, interface org.apache.beam.sdk.options.ValueProvider]`\r\n\r\nMy understanding was that `Integer.parseInt` returns an `int`, which I want so I can pass it to `withNumStorageWriteApiStreams()` which requires an `int`.\r\n\r\nI&#39;d appreciate any help I can get here thanks","title":"Substitute ints into Dataflow via Cloudbuild yaml","body":"<p>I've got a streaming Dataflow pipeline, written in Java with BEAM 2.35. It commits data to BigQuery via StorageWriteApi. Initially the code looks like</p>\n<pre><code>BigQueryIO.writeTableRows()\n  .withTimePartitioning(/* some column */)\n  .withClustering(/* another column */)\n  .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\n  .withTriggeringFrequency(Duration.standardSeconds(30))\n  .withNumStorageWriteApiStreams(20) // want to make this dynamic\n</code></pre>\n<p>This code runs in different environment eg Dev &amp; Prod. When I deploy in Dev I want 2 StorageWriteApiStreams, in Prod I want 20, and I'm trying to pass/resolve these values at the moment I deploy with a Cloudbuild.</p>\n<p>The cloudbuild-dev.yaml looks like</p>\n<pre><code>steps:\n  - lots-of-steps\nargs:\n --numStorageWriteApiStreams=${_NUM_STORAGEWRITEAPI_STREAMS}\nsubstitutions:\n  _PROJECT: dev-project\n  _NUM_STORAGEWRITEAPI_STREAMS: '2'\n</code></pre>\n<p>I expose the substitution in the job code with an interface</p>\n<pre><code>  ValueProvider&lt;String&gt; getNumStorageWriteApiStreams();\n  void setNumStorageWriteApiStreams(ValueProvider&lt;String&gt; numStorageWriteApiStreams);\n</code></pre>\n<p>I then refactor the writeTableRows() call to invoke getNumStorageWriteApiStreams()</p>\n<pre><code>BigQueryIO.writeTableRows()\n  .withTimePartitioning(/* some column */)\n  .withClustering(/* another column */)\n  .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\n  .withTriggeringFrequency(Duration.standardSeconds(30))\n  .withNumStorageWriteApiStreams(Integer.parseInt(String.valueOf(options.getNumStorageWriteApiStreams())))\n</code></pre>\n<p>Now it's dynamic but I get a build failure on account of <code>java.lang.IllegalArgumentException: methods with same signature getNumStorageWriteApiStreams() but incompatible return types: [class java.lang.Integer, interface org.apache.beam.sdk.options.ValueProvider]</code></p>\n<p>My understanding was that <code>Integer.parseInt</code> returns an <code>int</code>, which I want so I can pass it to <code>withNumStorageWriteApiStreams()</code> which requires an <code>int</code>.</p>\n<p>I'd appreciate any help I can get here thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5482441,"reputation":2640,"user_id":4358405,"accept_rate":62,"display_name":"TMG"},"score":0,"creation_date":1467673622,"post_id":38193194,"comment_id":63811795,"body_markdown":"Is this your jar (created by you) or some third party jar?","body":"Is this your jar (created by you) or some third party jar?"},{"owner":{"account_id":4188848,"reputation":1319,"user_id":4516837,"display_name":"Robert Navado"},"score":0,"creation_date":1467673660,"post_id":38193194,"comment_id":63811803,"body_markdown":"How do you build your jar?","body":"How do you build your jar?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":4,"creation_date":1467673669,"post_id":38193194,"comment_id":63811808,"body_markdown":"Most probably this JAR contains some dependent libraries. Besides &quot;your simple program&quot;","body":"Most probably this JAR contains some dependent libraries. Besides &quot;your simple program&quot;"},{"owner":{"display_name":"user6543998"},"score":0,"creation_date":1467673679,"post_id":38193194,"comment_id":63811809,"body_markdown":"this is my jar, it&#39;s only 70 lines","body":"this is my jar, it&#39;s only 70 lines"},{"owner":{"display_name":"user6543998"},"score":0,"creation_date":1467673709,"post_id":38193194,"comment_id":63811816,"body_markdown":"@RobertNavado I use intellij","body":"@RobertNavado I use intellij"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1467673742,"post_id":38193194,"comment_id":63811825,"body_markdown":"Can you post your 70 lines code?","body":"Can you post your 70 lines code?"},{"owner":{"account_id":3503303,"reputation":1573,"user_id":2929488,"accept_rate":88,"display_name":"Abaddon666"},"score":1,"creation_date":1467673877,"post_id":38193194,"comment_id":63811864,"body_markdown":"Selenium and PhantomJs are quite the dependencies if you package them in your jar. They easily give you your 26.9 MB","body":"Selenium and PhantomJs are quite the dependencies if you package them in your jar. They easily give you your 26.9 MB"},{"owner":{"display_name":"user6543998"},"score":0,"creation_date":1467673891,"post_id":38193194,"comment_id":63811868,"body_markdown":"Yes, I posted it. probably really ugly, but it&#39;s my first program","body":"Yes, I posted it. probably really ugly, but it&#39;s my first program"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1467673920,"post_id":38193194,"comment_id":63811875,"body_markdown":"That `org.openqa.selenium` answers everything. Selenium library has lots of dependencies. IntelliJ is just adding it automatically for you.","body":"That <code>org.openqa.selenium</code> answers everything. Selenium library has lots of dependencies. IntelliJ is just adding it automatically for you."},{"owner":{"display_name":"user6543998"},"score":0,"creation_date":1467674007,"post_id":38193194,"comment_id":63811894,"body_markdown":"Okay, so it&#39;s because of org.openqa.selenium.. is there anyway to get it down just a little bit?","body":"Okay, so it&#39;s because of org.openqa.selenium.. is there anyway to get it down just a little bit?"},{"owner":{"account_id":3503303,"reputation":1573,"user_id":2929488,"accept_rate":88,"display_name":"Abaddon666"},"score":0,"creation_date":1467674061,"post_id":38193194,"comment_id":63811903,"body_markdown":"You have only the option to provide Selenium and PhantomJs as separate libraries. But the overall size won&#39;t change much. (it may even get bigger with more jar files)","body":"You have only the option to provide Selenium and PhantomJs as separate libraries. But the overall size won&#39;t change much. (it may even get bigger with more jar files)"},{"owner":{"account_id":949203,"reputation":4454,"user_id":975741,"display_name":"trooper"},"score":0,"creation_date":1467674153,"post_id":38193194,"comment_id":63811916,"body_markdown":"you can create the jar without the dependencies, but those files are still going to be needed to run it, so its really only saving space for people who already have the libraries installed. http://stackoverflow.com/questions/2264153/create-jar-file-without-including-external-dependencies .. You could also try throwing proguard into the mix.","body":"you can create the jar without the dependencies, but those files are still going to be needed to run it, so its really only saving space for people who already have the libraries installed. <a href=\"http://stackoverflow.com/questions/2264153/create-jar-file-without-including-external-dependencies\" title=\"create jar file without including external dependencies\">stackoverflow.com/questions/2264153/&hellip;</a> .. You could also try throwing proguard into the mix."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1467674154,"post_id":38193194,"comment_id":63811917,"body_markdown":"For that you would have to analyze your code and try to find out only specifics usages of selenium in your code, then just add specific dependencies by hand. But that will be a really long and hard work. OR even worst, download the selenium code and cut out what it isn&#39;t be used.","body":"For that you would have to analyze your code and try to find out only specifics usages of selenium in your code, then just add specific dependencies by hand. But that will be a really long and hard work. OR even worst, download the selenium code and cut out what it isn&#39;t be used."},{"owner":{"account_id":80348,"reputation":63958,"user_id":227267,"accept_rate":80,"display_name":"Matti Virkkunen"},"score":0,"creation_date":1467674284,"post_id":38193194,"comment_id":63811939,"body_markdown":"If you really want to bring the size down one way would be to get rid of Selenium and use plain web requests - however give the nature of the page you&#39;re automating that might be easier said than done (I doubt they&#39;re making it very automation friendly, the opposite probably)","body":"If you really want to bring the size down one way would be to get rid of Selenium and use plain web requests - however give the nature of the page you&#39;re automating that might be easier said than done (I doubt they&#39;re making it very automation friendly, the opposite probably)"}],"answers":[{"tags":[],"owner":{"account_id":4188848,"reputation":1319,"user_id":4516837,"display_name":"Robert Navado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467675457,"creation_date":1467674248,"answer_id":38193272,"question_id":38193194,"body_markdown":"It seems that you&#39;re using a lot of external libraries (now when you provided the code seems that they pulled by Selenium)  in your code and intellij  kindly packs them together into one jar, so you can run your program without need to care about class path in runtime.\n\nTo reduce the size of your jar I can suggest the following approaches:\n\n1. Reduce amount of external libraries (imported classes). For example don&#39;t include **java.io.*** but only the class you&#39;re actually using.\n\n2. Build proper compilation script using ant or maven. Then your jar will include only your classes and will be very small relatively to what you have now. However to run your code you&#39;ll need to care about having all required libs in runtime.","title":"Java why is my jar file so big?","body":"<p>It seems that you're using a lot of external libraries (now when you provided the code seems that they pulled by Selenium)  in your code and intellij  kindly packs them together into one jar, so you can run your program without need to care about class path in runtime.</p>\n\n<p>To reduce the size of your jar I can suggest the following approaches:</p>\n\n<ol>\n<li><p>Reduce amount of external libraries (imported classes). For example don't include <strong>java.io.*</strong> but only the class you're actually using.</p></li>\n<li><p>Build proper compilation script using ant or maven. Then your jar will include only your classes and will be very small relatively to what you have now. However to run your code you'll need to care about having all required libs in runtime.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2471819,"reputation":672,"user_id":2153485,"display_name":"Gavin Harris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1467676835,"creation_date":1467676835,"answer_id":38193536,"question_id":38193194,"body_markdown":"As said above, IntelliJ will package the dependencies into the created JAR file. You can see this by extracting the JAR &lt;code&gt;jar xf file.jar&lt;/code&gt; file and taking a look in the contents.\r\n\r\nWhat you can do is (as suggested) use Maven (https://maven.apache.org/install.html) this will allow you to create Dependencies that you can then supply to your code on the classpath. \r\n\r\nWith IntelliJ click File &gt; New &gt; Project,\r\n\r\nPick Maven from the list and choose a Project SDK.\r\n\r\nNext give your project a Group ID (com.company) and Artifact ID (myproject); leave Version as is for now.\r\n\r\nNow, give you project a local name (this will be the folder that gets created on your IdeaProjects directory.\r\n\r\nIntelliJ will popup a message to you saying that &quot;Maven projects need to be imported&quot;, I always Enable Auto-Import and then just maintain the &lt;code&gt;pom.xml&lt;/code&gt; file. \r\n\r\nThis will create you a project, find you pom.xml file: it will look something like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.7&lt;/source&gt;\r\n                        &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n                &lt;version&gt;2.53.1&lt;/version&gt;&lt;!-- Pick a different version if needed --&gt;\r\n            &lt;/dependency&gt; \r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nNow you can package your project by running &lt;code&gt;mvn package&lt;/code&gt; from the terminal, and your jar file will be saved into a &lt;code&gt;target&lt;/code&gt; directory. It will be very small as it will contain only your code.\r\n\r\nTo run the program, you can then do the following:\r\n\r\n&lt;code&gt;mvn exec:java -Dexec.mainClass=&quot;com.company.Test&quot; -Dexec.args=&quot;space separated arguments&quot;&lt;/code&gt; ","title":"Java why is my jar file so big?","body":"<p>As said above, IntelliJ will package the dependencies into the created JAR file. You can see this by extracting the JAR <code>jar xf file.jar</code> file and taking a look in the contents.</p>\n\n<p>What you can do is (as suggested) use Maven (<a href=\"https://maven.apache.org/install.html\" rel=\"nofollow\">https://maven.apache.org/install.html</a>) this will allow you to create Dependencies that you can then supply to your code on the classpath. </p>\n\n<p>With IntelliJ click File > New > Project,</p>\n\n<p>Pick Maven from the list and choose a Project SDK.</p>\n\n<p>Next give your project a Group ID (com.company) and Artifact ID (myproject); leave Version as is for now.</p>\n\n<p>Now, give you project a local name (this will be the folder that gets created on your IdeaProjects directory.</p>\n\n<p>IntelliJ will popup a message to you saying that \"Maven projects need to be imported\", I always Enable Auto-Import and then just maintain the <code>pom.xml</code> file. </p>\n\n<p>This will create you a project, find you pom.xml file: it will look something like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n            &lt;version&gt;2.53.1&lt;/version&gt;&lt;!-- Pick a different version if needed --&gt;\n        &lt;/dependency&gt; \n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Now you can package your project by running <code>mvn package</code> from the terminal, and your jar file will be saved into a <code>target</code> directory. It will be very small as it will contain only your code.</p>\n\n<p>To run the program, you can then do the following:</p>\n\n<p><code>mvn exec:java -Dexec.mainClass=\"com.company.Test\" -Dexec.args=\"space separated arguments\"</code> </p>\n"}],"owner":{"display_name":"user6543998"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7684,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":38193536,"answer_count":2,"score":3,"last_activity_date":1646278083,"creation_date":1467673522,"question_id":38193194,"body_markdown":"I have a pretty simple (And short) program that when compiled is somehow 26.9 MB?\r\n\r\nI used a online java decompiler and all this came up:\r\n[![imgur link][1]][1]\r\n\r\nMy program uses one java file which is `main.java`:\r\n\r\n}\r\n    \r\nWhy is my program so large?\r\n    \r\n     \r\n[1]: http://i.stack.imgur.com/RWEtU.png","title":"Java why is my jar file so big?","body":"<p>I have a pretty simple (And short) program that when compiled is somehow 26.9 MB?</p>\n\n<p>I used a online java decompiler and all this came up:\n<a href=\"https://i.stack.imgur.com/RWEtU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RWEtU.png\" alt=\"imgur link\"></a></p>\n\n<p>My program uses one java file which is <code>main.java</code>:</p>\n\n<p>}</p>\n\n<p>Why is my program so large?</p>\n"},{"tags":["java","spring-boot","rest","resttemplate","spring-webclient"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1646080731,"post_id":71300811,"comment_id":126031940,"body_markdown":"What does the log contain on the server side?  What is the actual value of `HOSTNAME + ENDPOINT + &quot;find/lastName/&quot;`?  There&#39;s a lot of necessary information missing.  Please take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively.","body":"What does the log contain on the server side?  What is the actual value of <code>HOSTNAME + ENDPOINT + &quot;find&#47;lastName&#47;&quot;</code>?  There&#39;s a lot of necessary information missing.  Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."},{"owner":{"account_id":18539956,"reputation":35,"user_id":13508692,"display_name":"Paracetamol12"},"score":0,"creation_date":1646080978,"post_id":71300811,"comment_id":126032016,"body_markdown":"The value is: http://localhost:8080/employee/find/lastName/, it can be seen in &quot;Error&quot;. Thank you for advices :)","body":"The value is: <a href=\"http://localhost:8080/employee/find/lastName/\" rel=\"nofollow noreferrer\">localhost:8080/employee/find/lastName</a>, it can be seen in &quot;Error&quot;. Thank you for advices :)"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1646099544,"post_id":71300811,"comment_id":126035762,"body_markdown":"Since your `GET` has no body, the `Content-Type` header doesn&#39;t make much sense. Try setting the `Accept` header instead (in the test). Does it work?","body":"Since your <code>GET</code> has no body, the <code>Content-Type</code> header doesn&#39;t make much sense. Try setting the <code>Accept</code> header instead (in the test). Does it work?"},{"owner":{"account_id":18539956,"reputation":35,"user_id":13508692,"display_name":"Paracetamol12"},"score":0,"creation_date":1646119728,"post_id":71300811,"comment_id":126039027,"body_markdown":"@acdcjunior My request have a body which is a text (string) that&#39;s why I added the Content-Type header. I&#39;ve tried your solution, but the only change is that the response code changed from 400 to 406.","body":"@acdcjunior My request have a body which is a text (string) that&#39;s why I added the Content-Type header. I&#39;ve tried your solution, but the only change is that the response code changed from 400 to 406."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1646186202,"post_id":71300811,"comment_id":126059575,"body_markdown":"Ah, sorry, I was on mobile and didn&#39;t notice that. I posted an answer now. Hope it helps.","body":"Ah, sorry, I was on mobile and didn&#39;t notice that. I posted an answer now. Hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646186159,"creation_date":1646186159,"answer_id":71316607,"question_id":71300811,"body_markdown":"&gt; My request have a body which is a text (string) that&#39;s why I added the Content-Type header.\r\n\r\nThe `RestTemplate` client doesn&#39;t support entities in `GET` requests. This is lack of support for body in `GET`s pretty common in clients, given those kinds of APIs are rare.\r\n\r\n[More info on `RestTemplate` specifically][1]:\r\n\r\n&gt; I assume you are using a `RestTemplate` with a default `ClientHttpRequestFactory`. In this case, JDK&#39;s `HttpURLConnection` is the underlying HTTP client. `HttpURLConnection` does not send a request body for GET requests; I&#39;ve verified that using Wireshark.\r\n\r\nIf you really are stuck with `RestTemplate`, your alternative is to use a different `ClientHttpRequestFactory`. For instance:\r\n\r\n    import org.apache.http.client.methods.HttpEntityEnclosingRequestBase;\r\n    import org.apache.http.client.methods.HttpUriRequest;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import java.net.URI;\r\n    \r\n    class HttpComponentsClientHttpRequestFactoryForGetWithBody extends HttpComponentsClientHttpRequestFactory {\r\n        private static final class HttpGetRequestWithBody extends HttpEntityEnclosingRequestBase {\r\n            public HttpGetRequestWithBody(URI uri) { super.setURI(uri); }\r\n            @Override public String getMethod() { return HttpMethod.GET.name(); }\r\n        }\r\n        @Override\r\n        protected HttpUriRequest createHttpUriRequest(HttpMethod httpMethod, URI uri) {\r\n            if (HttpMethod.GET.equals(httpMethod)) {\r\n                return new HttpGetRequestWithBody(uri);\r\n            }\r\n            return super.createHttpUriRequest(httpMethod, uri);\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactoryForGetWithBody());   \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/20978#issuecomment-453466705","title":"Using RestTemplate GET request throws 400 Bad Request","body":"<blockquote>\n<p>My request have a body which is a text (string) that's why I added the Content-Type header.</p>\n</blockquote>\n<p>The <code>RestTemplate</code> client doesn't support entities in <code>GET</code> requests. This is lack of support for body in <code>GET</code>s pretty common in clients, given those kinds of APIs are rare.</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/20978#issuecomment-453466705\" rel=\"nofollow noreferrer\">More info on <code>RestTemplate</code> specifically</a>:</p>\n<blockquote>\n<p>I assume you are using a <code>RestTemplate</code> with a default <code>ClientHttpRequestFactory</code>. In this case, JDK's <code>HttpURLConnection</code> is the underlying HTTP client. <code>HttpURLConnection</code> does not send a request body for GET requests; I've verified that using Wireshark.</p>\n</blockquote>\n<p>If you really are stuck with <code>RestTemplate</code>, your alternative is to use a different <code>ClientHttpRequestFactory</code>. For instance:</p>\n<pre><code>import org.apache.http.client.methods.HttpEntityEnclosingRequestBase;\nimport org.apache.http.client.methods.HttpUriRequest;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.web.client.RestTemplate;\nimport java.net.URI;\n\nclass HttpComponentsClientHttpRequestFactoryForGetWithBody extends HttpComponentsClientHttpRequestFactory {\n    private static final class HttpGetRequestWithBody extends HttpEntityEnclosingRequestBase {\n        public HttpGetRequestWithBody(URI uri) { super.setURI(uri); }\n        @Override public String getMethod() { return HttpMethod.GET.name(); }\n    }\n    @Override\n    protected HttpUriRequest createHttpUriRequest(HttpMethod httpMethod, URI uri) {\n        if (HttpMethod.GET.equals(httpMethod)) {\n            return new HttpGetRequestWithBody(uri);\n        }\n        return super.createHttpUriRequest(httpMethod, uri);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactoryForGetWithBody());   \n</code></pre>\n"}],"owner":{"account_id":18539956,"reputation":35,"user_id":13508692,"display_name":"Paracetamol12"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71316607,"answer_count":1,"score":1,"last_activity_date":1646278080,"creation_date":1646080683,"question_id":71300811,"body_markdown":"I am getting 400 Bad Request when I send a GET request to Rest Service from JUnit Test case. My request body should be `text/plain` (`Content-Type: text/plain`) and the response should be a `ResponseEntity` of type `Employee`.\r\nI am not getting any error when I call request using Postman, but how I&#39;m not able to make it pass using Spring Web Client methods.\r\n\r\nI have an example for a POST REQUEST where almost similar test implementation passes, the difference is that in the request body I pass an entire object of `Employee` and in the test which fails is a `text/plain`. ( Last added)\r\n\r\nI tried to understand why it doesn&#39;t work, but I couldn&#39;t figure out.\r\nI also tried to change exchange Method with `getForObject`, `getForEntity` but it didn&#39;t work.\r\n\r\nFull URL : http://localhost:8080/employee/find/lastName/\r\n\r\nL.E.: IntelliJ hellps me by highlighting .exchange method and tells me that that method will respond with 400.\r\n\r\n\r\n### Controller ###\r\n```\r\n@RequestMapping (value = &quot;/find/lastName&quot;, headers=&quot;Content-Type=text/plain&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;Employee&gt; findEmployeeByLastName(@RequestBody String lastName) {\r\n        return EmployeeService.getEmployeeByLastName(lastName);\r\n    }\r\n```\r\n### Service ####\r\n\r\n    public static ResponseEntity&lt;Employee&gt; getEmployeeByLastName(String lastName) {\r\n        return employees\r\n                .stream()\r\n                .filter(employee -&gt; employee.getLastName().equals(lastName))\r\n                .findFirst()\r\n                .map(employee -&gt; new ResponseEntity&lt;&gt;(employee, HttpStatus.OK))\r\n                .orElseThrow(() -&gt; new ExmployeeResourceException(&quot;Not Found&quot;));\r\n    }\r\n\r\n### JUnit Test ####\r\n\r\n    @Test\r\n    public void ShouldReturnEmployeeByUsingLastName() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n        String employeeLastName = &quot;Doe&quot;;\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.TEXT_PLAIN);\r\n\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(employeeLastName, headers);\r\n        ResponseEntity&lt;Employee&gt; responseEntity =\r\n                restTemplate.exchange(\r\n                        HOSTNAME + ENDPOINT + &quot;find/lastName/&quot;,\r\n                        HttpMethod.GET,\r\n                        request,\r\n                        Employee.class\r\n                );\r\n    }\r\n\r\n### Error log ###\r\n```\r\n22:12:28.619 [main] DEBUG org.springframework.web.client.RestTemplate - Writing [Doe] as &quot;text/plain&quot; using [org.springframework.http.converter.StringHttpMessageConverter@48075da3]\r\n22:12:28.764 [main] DEBUG org.springframework.web.client.RestTemplate - GET request for &quot;http://localhost:8080/employee/find/lastName/&quot; resulted in 400 (null); invoking error handler\r\norg.springframework.web.client.HttpClientErrorException: 400 null at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)\r\n\tat com.endava.rest.EmployeeTests.ShouldReturnEmployeeByUsingLastName(EmployeeTests.java:90)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n### Example of test which passes ###\r\n```\r\n    @Test\r\n    public void ShouldBeAbleToCreateAnEmployee() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n        Integer id = 3;\r\n        String firstName = &quot;Ionut&quot;;\r\n        String lastName = &quot;Popescu&quot;;\r\n\r\n        Employee newEmployee = new Employee(id, firstName, lastName);\r\n        HttpEntity&lt;Employee&gt; httpEntity = new HttpEntity&lt;&gt;(newEmployee);\r\n        ResponseEntity&lt;Employee&gt; responseEntity =\r\n                restTemplate.exchange(\r\n                        HOSTNAME + ENDPOINT,\r\n                        HttpMethod.POST,\r\n                        httpEntity,\r\n                        Employee.class\r\n                );\r\n}\r\n```","title":"Using RestTemplate GET request throws 400 Bad Request","body":"<p>I am getting 400 Bad Request when I send a GET request to Rest Service from JUnit Test case. My request body should be <code>text/plain</code> (<code>Content-Type: text/plain</code>) and the response should be a <code>ResponseEntity</code> of type <code>Employee</code>.\nI am not getting any error when I call request using Postman, but how I'm not able to make it pass using Spring Web Client methods.</p>\n<p>I have an example for a POST REQUEST where almost similar test implementation passes, the difference is that in the request body I pass an entire object of <code>Employee</code> and in the test which fails is a <code>text/plain</code>. ( Last added)</p>\n<p>I tried to understand why it doesn't work, but I couldn't figure out.\nI also tried to change exchange Method with <code>getForObject</code>, <code>getForEntity</code> but it didn't work.</p>\n<p>Full URL : http://localhost:8080/employee/find/lastName/</p>\n<p>L.E.: IntelliJ hellps me by highlighting .exchange method and tells me that that method will respond with 400.</p>\n<h3>Controller</h3>\n<pre><code>@RequestMapping (value = &quot;/find/lastName&quot;, headers=&quot;Content-Type=text/plain&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;Employee&gt; findEmployeeByLastName(@RequestBody String lastName) {\n        return EmployeeService.getEmployeeByLastName(lastName);\n    }\n</code></pre>\n<h3>Service</h3>\n<pre><code>public static ResponseEntity&lt;Employee&gt; getEmployeeByLastName(String lastName) {\n    return employees\n            .stream()\n            .filter(employee -&gt; employee.getLastName().equals(lastName))\n            .findFirst()\n            .map(employee -&gt; new ResponseEntity&lt;&gt;(employee, HttpStatus.OK))\n            .orElseThrow(() -&gt; new ExmployeeResourceException(&quot;Not Found&quot;));\n}\n</code></pre>\n<h3>JUnit Test</h3>\n<pre><code>@Test\npublic void ShouldReturnEmployeeByUsingLastName() {\n    RestTemplate restTemplate = new RestTemplate();\n\n    String employeeLastName = &quot;Doe&quot;;\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.TEXT_PLAIN);\n\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(employeeLastName, headers);\n    ResponseEntity&lt;Employee&gt; responseEntity =\n            restTemplate.exchange(\n                    HOSTNAME + ENDPOINT + &quot;find/lastName/&quot;,\n                    HttpMethod.GET,\n                    request,\n                    Employee.class\n            );\n}\n</code></pre>\n<h3>Error log</h3>\n<pre><code>22:12:28.619 [main] DEBUG org.springframework.web.client.RestTemplate - Writing [Doe] as &quot;text/plain&quot; using [org.springframework.http.converter.StringHttpMessageConverter@48075da3]\n22:12:28.764 [main] DEBUG org.springframework.web.client.RestTemplate - GET request for &quot;http://localhost:8080/employee/find/lastName/&quot; resulted in 400 (null); invoking error handler\norg.springframework.web.client.HttpClientErrorException: 400 null at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)\n    at com.endava.rest.EmployeeTests.ShouldReturnEmployeeByUsingLastName(EmployeeTests.java:90)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<h3>Example of test which passes</h3>\n<pre><code>    @Test\n    public void ShouldBeAbleToCreateAnEmployee() {\n        RestTemplate restTemplate = new RestTemplate();\n\n        Integer id = 3;\n        String firstName = &quot;Ionut&quot;;\n        String lastName = &quot;Popescu&quot;;\n\n        Employee newEmployee = new Employee(id, firstName, lastName);\n        HttpEntity&lt;Employee&gt; httpEntity = new HttpEntity&lt;&gt;(newEmployee);\n        ResponseEntity&lt;Employee&gt; responseEntity =\n                restTemplate.exchange(\n                        HOSTNAME + ENDPOINT,\n                        HttpMethod.POST,\n                        httpEntity,\n                        Employee.class\n                );\n}\n</code></pre>\n"},{"tags":["java","http"],"answers":[{"tags":[],"owner":{"account_id":1545931,"reputation":912,"user_id":1439485,"accept_rate":88,"display_name":"prometheus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635144029,"creation_date":1635144029,"answer_id":69703782,"question_id":69703673,"body_markdown":"I suggest you use a simple web framework like javalin.\r\n\r\nhttps://github.com/tipsy/javalin\r\n\r\n\r\nExample\r\n\r\n        Javalin app = Javalin.create().start(7000);\r\n        app.get(&quot;/hello&quot;, ctx -&gt; ctx.result(&quot;I am alive&quot;));\r\n\r\n","title":"How do I set http entry point to my java application","body":"<p>I suggest you use a simple web framework like javalin.</p>\n<p><a href=\"https://github.com/tipsy/javalin\" rel=\"nofollow noreferrer\">https://github.com/tipsy/javalin</a></p>\n<p>Example</p>\n<pre><code>    Javalin app = Javalin.create().start(7000);\n    app.get(&quot;/hello&quot;, ctx -&gt; ctx.result(&quot;I am alive&quot;));\n</code></pre>\n"}],"owner":{"account_id":23130784,"reputation":1,"user_id":17235822,"display_name":"Smile88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646277846,"creation_date":1635143479,"question_id":69703673,"body_markdown":"I would like to create an entry point for my Java application where I am able to call my program with different inputs, preferrably over HTTP.\r\nI am not sure if I should use Servlet like here\r\nhttps://stackoverflow.com/questions/26806120/java-web-application-specify-entry-point\r\nor there is simplier way to do that?\r\n\r\n","title":"How do I set http entry point to my java application","body":"<p>I would like to create an entry point for my Java application where I am able to call my program with different inputs, preferrably over HTTP.\nI am not sure if I should use Servlet like here\n<a href=\"https://stackoverflow.com/questions/26806120/java-web-application-specify-entry-point\">Java Web Application specify entry point</a>\nor there is simplier way to do that?</p>\n"},{"tags":["java","eclipse","puzzle"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1646130120,"post_id":71306880,"comment_id":126042522,"body_markdown":"Step through your code with a debugger. I&#39;d guess that `isSafe` never returns true (or, it doesn&#39;t return true enough times to hit the `saveBoard` call).","body":"Step through your code with a debugger. I&#39;d guess that <code>isSafe</code> never returns true (or, it doesn&#39;t return true enough times to hit the <code>saveBoard</code> call)."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1646130363,"post_id":71306880,"comment_id":126042599,"body_markdown":"Also, possibly, the `//  grid` loops in `isSafe` should start from `sr`/`sc`, rather than 0.","body":"Also, possibly, the <code>&#47;&#47;  grid</code> loops in <code>isSafe</code> should start from <code>sr</code>/<code>sc</code>, rather than 0."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1646130546,"post_id":71306880,"comment_id":126042656,"body_markdown":"As a tip: call `saveBoard` in `main`, rather than in `helper`, so it will always print something if `helper` returns.","body":"As a tip: call <code>saveBoard</code> in <code>main</code>, rather than in <code>helper</code>, so it will always print something if <code>helper</code> returns."},{"owner":{"account_id":23623859,"reputation":11,"user_id":17656679,"display_name":"Sayan Mazumder"},"score":0,"creation_date":1646277820,"post_id":71306880,"comment_id":126085596,"body_markdown":"//grid loop fixed and calling saveBoard() from the main function worked. Thanks #Andy.","body":"//grid loop fixed and calling saveBoard() from the main function worked. Thanks #Andy."}],"owner":{"account_id":23623859,"reputation":11,"user_id":17656679,"display_name":"Sayan Mazumder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646277435,"creation_date":1646129903,"question_id":71306880,"body_markdown":"I&#39;ve written the code as per the logic, but my Eclipse console is empty when I click &#39;Run&#39;.\r\n\r\nThis is my code:\r\n\r\n```\r\npublic class test {\r\n  public static void main(String[] args) {\r\n\r\n    int[][] board = new int[9][9];\r\n    helper(board, 0, 0);\r\n  }\r\n\r\n  public static void saveBoard(int[][] board) {\r\n\r\n    for (int i = 0; i &lt; board.length; i++) {\r\n      for (int j = 0; j &lt; board.length; j++) {\r\n        System.out.print(board[i][j]);\r\n      }\r\n      System.out.println();\r\n    }\r\n  }\r\n\r\n  public static void helper(int[][] board, int row, int col) {\r\n\r\n    if (row == board.length - 1) {\r\n      saveBoard(board);\r\n      return;\r\n    }\r\n\r\n    if (col == board.length - 1) {\r\n      col = 0;\r\n      row += 1;\r\n    }\r\n\r\n    for (int i = 1; i &lt;= 9; i++) {\r\n      if (isSafe(board, row, col, i)) {\r\n        board[row][col] = i;\r\n        helper(board, row, col + 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  public static boolean isSafe(int[][] board, int row, int col, int number) {\r\n\r\n    //  row &amp; column\r\n\r\n    for (int i = 0; i &lt; board.length; i++) {\r\n      if (board[row][i] == number) return false;\r\n      if (board[i][col] == number) return false;\r\n    }\r\n    //  grid\r\n\r\n    int sc = (col / 3) * 3;\r\n    int sr = (row / 3) * 3;\r\n    for (int i = 0; i &lt; sr + 3; i++) {\r\n      for (int j = 0; j &lt; sc + 3; j++) {\r\n        if (board[i][j] == number) return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\n```\r\nor [here&#39;s a screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CPV7n.png","title":"Solve Sudoko in Java","body":"<p>I've written the code as per the logic, but my Eclipse console is empty when I click 'Run'.</p>\n<p>This is my code:</p>\n<pre><code>public class test {\n  public static void main(String[] args) {\n\n    int[][] board = new int[9][9];\n    helper(board, 0, 0);\n  }\n\n  public static void saveBoard(int[][] board) {\n\n    for (int i = 0; i &lt; board.length; i++) {\n      for (int j = 0; j &lt; board.length; j++) {\n        System.out.print(board[i][j]);\n      }\n      System.out.println();\n    }\n  }\n\n  public static void helper(int[][] board, int row, int col) {\n\n    if (row == board.length - 1) {\n      saveBoard(board);\n      return;\n    }\n\n    if (col == board.length - 1) {\n      col = 0;\n      row += 1;\n    }\n\n    for (int i = 1; i &lt;= 9; i++) {\n      if (isSafe(board, row, col, i)) {\n        board[row][col] = i;\n        helper(board, row, col + 1);\n      }\n    }\n  }\n\n  public static boolean isSafe(int[][] board, int row, int col, int number) {\n\n    //  row &amp; column\n\n    for (int i = 0; i &lt; board.length; i++) {\n      if (board[row][i] == number) return false;\n      if (board[i][col] == number) return false;\n    }\n    //  grid\n\n    int sc = (col / 3) * 3;\n    int sr = (row / 3) * 3;\n    for (int i = 0; i &lt; sr + 3; i++) {\n      for (int j = 0; j &lt; sc + 3; j++) {\n        if (board[i][j] == number) return false;\n      }\n    }\n    return true;\n  }\n}\n\n</code></pre>\n<p>or <a href=\"https://i.stack.imgur.com/CPV7n.png\" rel=\"nofollow noreferrer\">here's a screenshot</a></p>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1544990094,"post_id":53805840,"comment_id":94460396,"body_markdown":"JPanel is using a FlowLayout by default, change the layout to something else, maybe a GridBagLout, depending on your desired results","body":"JPanel is using a FlowLayout by default, change the layout to something else, maybe a GridBagLout, depending on your desired results"},{"owner":{"account_id":14957714,"reputation":13,"user_id":10798467,"display_name":"JAY"},"score":0,"creation_date":1544991884,"post_id":53805840,"comment_id":94460893,"body_markdown":"@MadProgrammer Thanks, I&#39;ll look into that.","body":"@MadProgrammer Thanks, I&#39;ll look into that."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544994616,"creation_date":1544994616,"answer_id":53806519,"question_id":53805840,"body_markdown":"There are any number of ways you &quot;might&quot; achieve this, but the basic answer is, you need to choose one or more layout managers which better meets your needs.\r\n\r\nFor example, using a `GridBagLayout`, you can do something like...\r\n\r\n[![Normal][1]][1][![Resized][2]][2]\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.border.LineBorder;\r\n    \r\n    public class JavaApplication1 {\r\n    \r\n        public static void main(String[] args) {\r\n            new JavaApplication1();\r\n        }\r\n    \r\n        public JavaApplication1() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class TestPane extends JPanel {\r\n    \r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n                \r\n                JLabel label = new JLabel(&quot;Image placeholder&quot;) {\r\n                    // This is done only for demonstration purposes\r\n                    @Override\r\n                    public Dimension getPreferredSize() {\r\n                        return new Dimension(128, 128);\r\n                    }\r\n                };\r\n                label.setBorder(new LineBorder(Color.DARK_GRAY));\r\n                \r\n                add(label, gbc);\r\n                \r\n                gbc.gridy++;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                // This will cause the text area to occupy all the avalilable free space\r\n                //gbc.weightx = 1;\r\n                //gbc.weighty = 1;\r\n                JTextArea ta = new JTextArea(10, 20);\r\n                add(new JScrollPane(ta), gbc);\r\n                \r\n                JButton btn = new JButton(&quot;Run&quot;);\r\n                gbc.gridy++;\r\n                // Reset the constraints\r\n                gbc.fill = GridBagConstraints.NONE;\r\n                gbc.weightx = 0;\r\n                gbc.weighty = 0;\r\n                add(btn, gbc);\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xTUig.png\r\n  [2]: https://i.stack.imgur.com/oOmM9.png\r\n\r\nTake a look at [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details and ideas\r\n\r\n### Recommendations...\r\n\r\nThere are a few things in your code that are, &quot;off&quot;, but this...\r\n\r\n    tf = new JTextArea();\r\n    tf.setPreferredSize(new Dimension(300, 200));\r\n\r\n    p.add(tf);\r\n\r\nis probably the most striking.\r\n\r\nGenerally speaking, `JTextArea` will benefit from been wrapped in a `JScrollPane`.  Also, due to the inconsistencies in how text is rendered across multiple platforms, you should avoid using `setPreferredSize` (in fact, you should avoid using it in general) and instead rely in the `rows, columns` constructor, which will make calculations based on the current font and graphics properties.","title":"How do I stop JFrame/JPanel from auto-formatting the distances between my components?","body":"<p>There are any number of ways you \"might\" achieve this, but the basic answer is, you need to choose one or more layout managers which better meets your needs.</p>\n\n<p>For example, using a <code>GridBagLayout</code>, you can do something like...</p>\n\n<p><a href=\"https://i.stack.imgur.com/xTUig.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xTUig.png\" alt=\"Normal\"></a><a href=\"https://i.stack.imgur.com/oOmM9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOmM9.png\" alt=\"Resized\"></a></p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.border.LineBorder;\n\npublic class JavaApplication1 {\n\n    public static void main(String[] args) {\n        new JavaApplication1();\n    }\n\n    public JavaApplication1() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            JLabel label = new JLabel(\"Image placeholder\") {\n                // This is done only for demonstration purposes\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(128, 128);\n                }\n            };\n            label.setBorder(new LineBorder(Color.DARK_GRAY));\n\n            add(label, gbc);\n\n            gbc.gridy++;\n            gbc.fill = GridBagConstraints.BOTH;\n            // This will cause the text area to occupy all the avalilable free space\n            //gbc.weightx = 1;\n            //gbc.weighty = 1;\n            JTextArea ta = new JTextArea(10, 20);\n            add(new JScrollPane(ta), gbc);\n\n            JButton btn = new JButton(\"Run\");\n            gbc.gridy++;\n            // Reset the constraints\n            gbc.fill = GridBagConstraints.NONE;\n            gbc.weightx = 0;\n            gbc.weighty = 0;\n            add(btn, gbc);\n        }\n\n    }\n}\n</code></pre>\n\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details and ideas</p>\n\n<h3>Recommendations...</h3>\n\n<p>There are a few things in your code that are, \"off\", but this...</p>\n\n<pre><code>tf = new JTextArea();\ntf.setPreferredSize(new Dimension(300, 200));\n\np.add(tf);\n</code></pre>\n\n<p>is probably the most striking.</p>\n\n<p>Generally speaking, <code>JTextArea</code> will benefit from been wrapped in a <code>JScrollPane</code>.  Also, due to the inconsistencies in how text is rendered across multiple platforms, you should avoid using <code>setPreferredSize</code> (in fact, you should avoid using it in general) and instead rely in the <code>rows, columns</code> constructor, which will make calculations based on the current font and graphics properties.</p>\n"}],"owner":{"account_id":14957714,"reputation":13,"user_id":10798467,"display_name":"JAY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53806519,"answer_count":1,"score":1,"last_activity_date":1646276924,"creation_date":1544989358,"question_id":53805840,"body_markdown":"So I&#39;m writing a program which utilizes a GUI. The GUI is built from a JFrame and a JPanel in Java. I have a JTextArea() and a JButton() that appears beside the JTextArea on the left. I also have an image which I imported locally using the method call below (&quot;f&quot; is the variable name of my JFrame):\r\n\r\n    f.setIconImage(ImageIO.read(new File(&quot;image.png&quot;)));\r\n\r\nI don&#39;t mind allowing the users to resize the JFrame but what I dislike is that JFrame automatically reformats the components on my JFrame - specifically the distance between my image and the JTextArea(). I&#39;d like, if possible, to keep the distance between my image and the JTextArea the same regardless of the size the user resizes the JFrame to. Here&#39;s the rest of my code if that helps:\r\n\r\n    public class GUI {\r\n    private JFrame f;\r\n    private JPanel p;\r\n    private JButton b1;\r\n    private JLabel lab;\r\n    private JTextArea tf;\r\n\r\n    private static final String FileName = &quot;schedule.txt&quot;;\r\n    private static final String FileName2 = &quot;schedule2.txt&quot;;\r\n\r\n    public void show()\r\n    {\r\n        f = new JFrame(&quot;Scheduler&quot;);\r\n        f.setSize(600, 400);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        p = new JPanel();\r\n        //p.setPreferredSize(new Dimension(200, 400));\r\n\r\n        b1 = new JButton(&quot;Run&quot;);\r\n\r\n        p.add(b1);\r\n\r\n        f.add(p);\r\n        f.add(p, BorderLayout.SOUTH);\r\n        f.add(new JLabel(new ImageIcon(&quot;image.png&quot;)));\r\n        try {\r\n            f.setIconImage(ImageIO.read(new File(&quot;image.png&quot;)));\r\n        } catch(Exception z){\r\n            System.out.println(&quot;Trouble reading file&quot;);\r\n        }\r\n\r\n        tf = new JTextArea();\r\n        tf.setPreferredSize(new Dimension(300, 200));\r\n\r\n        p.add(tf);\r\n\r\n        b1.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                String text = tf.getText();\r\n                try {\r\n                    FileWriter fw = new FileWriter(FileName);\r\n                    fw.write(text);\r\n                    fw.close();\r\n                    parseInfo();\r\n                }\r\n                catch(Exception ex)\r\n                {\r\n\r\n                }\r\n            }\r\n        });\r\n        f.setVisible(true);\r\n\r\n    }\r\n\r\n ","title":"How do I stop JFrame/JPanel from auto-formatting the distances between my components?","body":"<p>So I'm writing a program which utilizes a GUI. The GUI is built from a JFrame and a JPanel in Java. I have a JTextArea() and a JButton() that appears beside the JTextArea on the left. I also have an image which I imported locally using the method call below (\"f\" is the variable name of my JFrame):</p>\n\n<pre><code>f.setIconImage(ImageIO.read(new File(\"image.png\")));\n</code></pre>\n\n<p>I don't mind allowing the users to resize the JFrame but what I dislike is that JFrame automatically reformats the components on my JFrame - specifically the distance between my image and the JTextArea(). I'd like, if possible, to keep the distance between my image and the JTextArea the same regardless of the size the user resizes the JFrame to. Here's the rest of my code if that helps:</p>\n\n<pre><code>public class GUI {\nprivate JFrame f;\nprivate JPanel p;\nprivate JButton b1;\nprivate JLabel lab;\nprivate JTextArea tf;\n\nprivate static final String FileName = \"schedule.txt\";\nprivate static final String FileName2 = \"schedule2.txt\";\n\npublic void show()\n{\n    f = new JFrame(\"Scheduler\");\n    f.setSize(600, 400);\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    p = new JPanel();\n    //p.setPreferredSize(new Dimension(200, 400));\n\n    b1 = new JButton(\"Run\");\n\n    p.add(b1);\n\n    f.add(p);\n    f.add(p, BorderLayout.SOUTH);\n    f.add(new JLabel(new ImageIcon(\"image.png\")));\n    try {\n        f.setIconImage(ImageIO.read(new File(\"image.png\")));\n    } catch(Exception z){\n        System.out.println(\"Trouble reading file\");\n    }\n\n    tf = new JTextArea();\n    tf.setPreferredSize(new Dimension(300, 200));\n\n    p.add(tf);\n\n    b1.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            String text = tf.getText();\n            try {\n                FileWriter fw = new FileWriter(FileName);\n                fw.write(text);\n                fw.close();\n                parseInfo();\n            }\n            catch(Exception ex)\n            {\n\n            }\n        }\n    });\n    f.setVisible(true);\n\n}\n</code></pre>\n"},{"tags":["java","swing","printing","jframe","jbutton"],"owner":{"account_id":14995944,"reputation":13,"user_id":10825290,"display_name":"lines"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646276867,"creation_date":1545577996,"question_id":53904731,"body_markdown":"I&#39;m a newbie in coding.\r\nI want to make a shipping label program that printable using JForm Netbeans.\r\nThe printable text is in a JPanel.\r\n\r\nAlready looked for the print action code (which hard to found), finally found it, tried it but all failed.\r\nThe error warning said that the method is not applicable.\r\n\r\n        private void buttonprintActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n      \r\n            try{\r\n            panelpreview.print(); //error: no suitable method for prints (no argument)\r\n            }\r\n\r\n            catch(java.awt.print.PrinterException e){  //error: exception PrinterException is never thrown in body of corresponding try statement\r\n            System.err.format(&quot;No Printer Found&quot;, e.getMessage());\r\n            }\r\n        \r\n    }\r\n\r\nCan you help me so it can work?\r\nThank you in advance.\r\n\r\n","title":"How to Print Some Items in JForm Using JButton","body":"<p>I'm a newbie in coding.\nI want to make a shipping label program that printable using JForm Netbeans.\nThe printable text is in a JPanel.</p>\n\n<p>Already looked for the print action code (which hard to found), finally found it, tried it but all failed.\nThe error warning said that the method is not applicable.</p>\n\n<pre><code>    private void buttonprintActionPerformed(java.awt.event.ActionEvent evt) {                                            \n\n        try{\n        panelpreview.print(); //error: no suitable method for prints (no argument)\n        }\n\n        catch(java.awt.print.PrinterException e){  //error: exception PrinterException is never thrown in body of corresponding try statement\n        System.err.format(\"No Printer Found\", e.getMessage());\n        }\n\n}\n</code></pre>\n\n<p>Can you help me so it can work?\nThank you in advance.</p>\n"},{"tags":["java","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646270244,"post_id":71330960,"comment_id":126084364,"body_markdown":"`write(arraySize + &quot; &quot; + iterativeAverageCount +  &quot; &quot; + iterativeSDCount + &quot; &quot; + iterativeAverageTime + &quot; &quot; + iterativeSDTime);`: it is writing exactly what you told it to write here. If that&#39;s not what you want, fix it. Unclear what you&#39;re asking.","body":"<code>write(arraySize + &quot; &quot; + iterativeAverageCount +  &quot; &quot; + iterativeSDCount + &quot; &quot; + iterativeAverageTime + &quot; &quot; + iterativeSDTime);</code>: it is writing exactly what you told it to write here. If that&#39;s not what you want, fix it. Unclear what you&#39;re asking."},{"owner":{"account_id":58030,"reputation":2715,"user_id":173806,"display_name":"gwell"},"score":1,"creation_date":1646270518,"post_id":71330960,"comment_id":126084407,"body_markdown":"It seems wrong to close the files `iBuffer.close(); rBuffer.close();` immediately after writing the same result 10 times. It also looks like the `unsortedArray` should be cloned instead of assigned.","body":"It seems wrong to close the files <code>iBuffer.close(); rBuffer.close();</code> immediately after writing the same result 10 times. It also looks like the <code>unsortedArray</code> should be cloned instead of assigned."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646272791,"post_id":71330960,"comment_id":126084809,"body_markdown":"You are looping for your file output, but not for your sysout output - why?  Also as @gwell says *It seems wrong to close the files iBuffer.close(); rBuffer.close();* - You also should not be creating multiple instances of this class as each one will have their own variables.","body":"You are looping for your file output, but not for your sysout output - why?  Also as @gwell says <i>It seems wrong to close the files iBuffer.close(); rBuffer.close();</i> - You also should not be creating multiple instances of this class as each one will have their own variables."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1646276007,"post_id":71330960,"comment_id":126085350,"body_markdown":"Too much code. A [mcve] would be helpful.","body":"Too much code. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646275445,"creation_date":1646271311,"answer_id":71331132,"question_id":71330960,"body_markdown":"It looks generally confused.\r\n\r\n    //========================================================\r\n    //method to add random numbers to the array index size,\r\n    //then send them to be sorted iteratively and recursively\r\n    //before being displayed with the benchmark results\r\n    //========================================================\r\n    private BenchmarkSorts(int n)  \r\n  \r\nThat&#39;s a constructor, not a method, so each use of it will construct (!) a new BenchmarkSorts instance, each of which has its own set of instance variables.  And you apparently know it&#39;s a constructor, because to use it you wrote `new BenchmarkSorts(...)` - which means that creating one object using the first constructor ends up creating many of them using the second constructor, none of which instances are really used.  Probably not a good idea in retrospect to have &#39;fixed&#39; the unused-variable warning by suppressing it.\r\n\r\nAnd this is probably the source of your bug.  Each instance creates new BufferedWriters, each of which overwrites the same file.\r\n\r\nAlso,\r\n\r\n    int[] tempArray1 = unsortedArray;\r\n    int[] tempArray2 = unsortedArray;\r\n\r\nYou still have exactly one array.\r\n\r\nYour first fix should be to turn the 2nd constructor into a method. Then worry about whether you really wanted 2 copies of 1 array.\r\n","title":"BufferedWriter not writing data line by line","body":"<p>It looks generally confused.</p>\n<pre><code>//========================================================\n//method to add random numbers to the array index size,\n//then send them to be sorted iteratively and recursively\n//before being displayed with the benchmark results\n//========================================================\nprivate BenchmarkSorts(int n)  \n</code></pre>\n<p>That's a constructor, not a method, so each use of it will construct (!) a new BenchmarkSorts instance, each of which has its own set of instance variables.  And you apparently know it's a constructor, because to use it you wrote <code>new BenchmarkSorts(...)</code> - which means that creating one object using the first constructor ends up creating many of them using the second constructor, none of which instances are really used.  Probably not a good idea in retrospect to have 'fixed' the unused-variable warning by suppressing it.</p>\n<p>And this is probably the source of your bug.  Each instance creates new BufferedWriters, each of which overwrites the same file.</p>\n<p>Also,</p>\n<pre><code>int[] tempArray1 = unsortedArray;\nint[] tempArray2 = unsortedArray;\n</code></pre>\n<p>You still have exactly one array.</p>\n<p>Your first fix should be to turn the 2nd constructor into a method. Then worry about whether you really wanted 2 copies of 1 array.</p>\n"}],"owner":{"account_id":24257883,"reputation":1,"user_id":18207958,"display_name":"GhostRider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1646275445,"creation_date":1646269342,"question_id":71330960,"body_markdown":"Currently trying to edit my old code from System.out.println() statements that display the results of a benchmark test to writing the results to 2 different .txt files. I am doing this so I can create a new program that uses JFileChooser to select one of the 2 .txt files and display the data on a JTable. The problem is the BufferedWriter is only writing the last set of data values 10x over so I cant display the correct results in my JTable. \r\n\r\n**BenchmarkSorts.java:**\r\n\r\n    /**\r\n     * \r\n     * BenchmarkSorts is going to generate arrays consisting of random integers the size of which is supplied from SortMain.java.\r\n     * It will then send the randomly generated array to be sorted using the Quick Sort Algorithm both Iteratively and Recursively\r\n     * a total of 50 times each and display the benchmark results to the user.\r\n     */\r\n    \r\n    //=========\r\n    //packages\r\n    //=========\r\n    import java.io.*;\r\n    import java.util.Random;\r\n    \r\n    //==============================\r\n    //start of class BenchmarkSorts\r\n    //==============================\r\n    public class BenchmarkSorts {\r\n    \r\n    \t//==========\r\n    \t//variables\r\n    \t//==========\r\n        private int[] unsortedArray;\r\n        private int iterativeCount = 0;\r\n        private int recursiveCount = 0;\r\n        private long iterativeTime, recursiveTime;\r\n        private int[] iterativeCountLog = new int[50];\r\n        private int[] recursiveCountLog = new int[50];\r\n        private int iCounter = 0;\r\n        private int rCounter = 0;\r\n        private long[] iterativeTimeLog = new long[50];\r\n        private long[] recursiveTimeLog = new long[50];\r\n        private int arraySize;\r\n        \r\n    \tprivate FileWriter iFileWriter = new FileWriter(&quot;iterativeResults.txt&quot;);\r\n    \tprivate FileWriter rFileWriter = new FileWriter(&quot;recursiveResults.txt&quot;);\r\n    \t\r\n    \tprivate BufferedWriter iBuffer = new BufferedWriter(iFileWriter);\r\n    \tprivate BufferedWriter rBuffer = new BufferedWriter(rFileWriter);\r\n    \r\n        //=========\r\n        //invoking\r\n        //=========\r\n        private QuickSort quickSort = new QuickSort();\r\n    \r\n        //============\r\n        //constructor\r\n        //============\r\n        public BenchmarkSorts(int[] sizes) throws Exception {\r\n    \r\n            //==========================================================\r\n        \t//for loop to add the sizes of the arrays to be benchmarked\r\n        \t//==========================================================\r\n            for(int i = 0; i &lt; sizes.length; i++){\r\n            \tarraySize = sizes[i];\r\n                @SuppressWarnings(&quot;unused&quot;)\r\n    \t\t\tBenchmarkSorts bms = new BenchmarkSorts(arraySize);        \r\n            }\r\n        }\r\n    \r\n        //========================================================\r\n        //method to add random numbers to the array index size,\r\n        //then send them to be sorted iteratively and recursively\r\n        //before being displayed with the benchmark results\r\n        //========================================================\r\n        private BenchmarkSorts(int n) throws Exception {\r\n    \r\n        \t//=================================\r\n        \t//nested for loops to run 50 times\r\n        \t//creating arrays\r\n        \t//=================================\r\n            for(int i = 0; i &lt; 50; i++) {\r\n            \tunsortedArray = new int[n];\r\n    \r\n                for(int j = 0; j &lt; n; j++) {\r\n                    Random randNum = new Random();\r\n                    unsortedArray[j] = (randNum.nextInt(1000));\r\n                }\r\n                runSorts();\r\n            }\r\n            displayReport(n);\r\n        }\r\n    \r\n        //=========================================================\r\n        //method to sort unsortedArray iteratively and recursively\r\n        //while keeping track of count, time(in nano seconds)\r\n        //=========================================================\r\n        public void runSorts() throws Exception {\r\n    \r\n        \t//=========================================\r\n        \t//creating 2 temporary arrays to be sorted\r\n        \t//=========================================\r\n            int[] tempArray1 = unsortedArray;\r\n            int[] tempArray2 = unsortedArray;\r\n    \r\n            //============================\r\n            //iterative sort and trackers\r\n            //============================\r\n            quickSort.iterativeSort(tempArray1);\r\n            int returnCount = quickSort.getCount();\r\n            long returnTime = quickSort.getTime();\r\n            iterativeCount = iterativeCount + returnCount;\r\n            iterativeTime = iterativeTime + returnTime;\r\n            iterativeCountLog[iCounter] = returnCount;\r\n            iterativeTimeLog[iCounter] = returnTime;\r\n            iCounter++;\r\n    \r\n            //============================\r\n            //recursive sort and trackers\r\n            //============================\r\n            quickSort.recursiveSort(tempArray2);\r\n            returnCount = quickSort.getCount();\r\n            returnTime = quickSort.getTime();\r\n            recursiveCount = recursiveCount + returnCount;\r\n            recursiveTime = recursiveTime + returnTime;\r\n            recursiveCountLog[rCounter] = recursiveCount;\r\n            recursiveTimeLog[rCounter] = recursiveTime;\r\n            rCounter++;\r\n        }\r\n    \r\n        //===================================================\r\n        //method to display averages and standard deviations\r\n        //===================================================\r\n        public void displayReport(int arraySize) throws IOException {  \t\r\n    \r\n        \t//==========\r\n        \t//variables\r\n        \t//==========\r\n            double iterativeAverageCount = 0;\r\n            double iterativeAverageTime = 0;\r\n            double recursiveAverageCount = 0;\r\n            double recursiveAverageTime = 0;\r\n            double iterativeSDCount = 0;\r\n            double iterativeSDTime = 0;\r\n            double recursiveSDCount = 0;\r\n            double recursiveSDTime = 0;\r\n    \r\n            //========================================================\r\n            //averaging the trackers for both iterative and recursive\r\n            //========================================================\r\n            iterativeAverageCount = iterativeCount / 50;\r\n            iterativeAverageTime = iterativeTime / 50;\r\n            recursiveAverageCount = recursiveCount / 50;\r\n            recursiveAverageTime = recursiveTime / 50;\r\n    \r\n            //==========================================\r\n            //for loop to calculate standard deviations\r\n            //==========================================\r\n            for(int i = 0; i &lt; 50; i++) {\r\n                iterativeSDCount = iterativeSDCount + Math.pow((iterativeCountLog[i] - iterativeAverageCount), 2);\r\n                iterativeSDTime = iterativeSDTime + Math.pow((iterativeTimeLog[i] - iterativeAverageTime), 2);\r\n                recursiveSDCount = recursiveSDCount + Math.pow((recursiveCountLog[i] - recursiveAverageCount), 2);\r\n                recursiveSDTime = recursiveSDTime + Math.pow((recursiveTimeLog[i] - recursiveAverageTime), 2);\r\n            }\r\n    \r\n            //====================\r\n            //standard deviations\r\n            //====================\r\n            iterativeSDCount = Math.pow(iterativeSDCount, .5) / arraySize;\r\n            iterativeSDTime = Math.pow(iterativeSDTime, .5) / arraySize;\r\n            recursiveSDCount = Math.pow(recursiveSDCount, .5) / arraySize;\r\n            recursiveSDTime = Math.pow(recursiveSDTime, .5) / arraySize;\r\n    \r\n            //====================================================\r\n            //for loops to BufferedWrite data to respective files\r\n            //====================================================\r\n            for (int i = 0; i &lt; 10; i++)    {\r\n            \tiBuffer.write(arraySize + &quot; &quot; + iterativeAverageCount +  &quot; &quot; + iterativeSDCount + &quot; &quot; + iterativeAverageTime + &quot; &quot; + iterativeSDTime);\r\n            \tiBuffer.newLine();\r\n            }\r\n            for (int i = 0; i &lt; 10; i++)    {\r\n            \trBuffer.write(arraySize + &quot; &quot; + recursiveAverageCount +  &quot; &quot; + recursiveSDCount + &quot; &quot; + recursiveAverageTime + &quot; &quot; + recursiveSDTime);\r\n            \trBuffer.newLine();\r\n            }\r\n            iBuffer.close();\r\n            rBuffer.close();\r\n            \r\n            //==========================================\r\n            //old output that I want to write to a file\r\n            //==========================================\r\n            System.out.println(&quot;Iterative Quick Sort Results: &quot; + &quot;\\nData Set Size (n): &quot; + arraySize +\r\n                    &quot;, Average Critical Operation Count: &quot; + iterativeAverageCount + &quot;, Standard Deviation of Count: &quot; +\r\n                    iterativeSDCount + &quot;, Average Execution Time: &quot; + iterativeAverageTime + &quot;, Standard Deviation of Time: &quot; +\r\n                    iterativeSDTime);\r\n    \r\n            System.out.println(&quot;Recursive Quick Sort Results: &quot; + &quot;\\nData Set Size (n): &quot; + arraySize +\r\n                    &quot;, Average Critical Operation Count: &quot; + recursiveAverageCount + &quot;, Standard Deviation of Count: &quot; +\r\n                    recursiveSDCount + &quot;, Average Execution Time: &quot; + recursiveAverageTime + &quot;, Standard Deviation of Time: &quot; +\r\n                    recursiveSDTime);\r\n        }\r\n    }\r\n\r\n**This is the old output using System.out.println() statements:**\r\n\r\n    Iterative Quick Sort Results: \r\n    Data Set Size (n): 100, Average Critical Operation Count: 66.0, Standard Deviation of Count: 0.13490737563232041, Average Execution Time: 11528.0, Standard Deviation of Time: 394.80891580611495\r\n    Recursive Quick Sort Results: \r\n    Data Set Size (n): 100, Average Critical Operation Count: 99.0, Standard Deviation of Count: 199.0490957025427, Average Execution Time: 36124.0, Standard Deviation of Time: 78349.10253729777\r\n    Iterative Quick Sort Results: \r\n    Data Set Size (n): 200, Average Critical Operation Count: 133.0, Standard Deviation of Count: 0.11224972160321825, Average Execution Time: 27364.0, Standard Deviation of Time: 544.5295033329232\r\n    Recursive Quick Sort Results: \r\n    Data Set Size (n): 200, Average Critical Operation Count: 199.0, Standard Deviation of Count: 200.05439416568686, Average Execution Time: 29262.0, Standard Deviation of Time: 27784.950723818103\r\n    ...\r\n    ...\r\n    Iterative Quick Sort Results: \r\n    Data Set Size (n): 12000, Average Critical Operation Count: 11000.0, Standard Deviation of Count: 2.6352313834736497E-4, Average Execution Time: 720028.0, Standard Deviation of Time: 69.97877063001957\r\n    Recursive Quick Sort Results: \r\n    Data Set Size (n): 12000, Average Critical Operation Count: 11999.0, Standard Deviation of Count: 201.04293765444527, Average Execution Time: 6.034408E7, Standard Deviation of Time: 1011471.3254720564\r\n\r\n\r\nAs you can see it produces the correct outputs for all arraySize&#39;s from [100...12000] (I cut out the mid section to shorten the total length).\r\n\r\nThe 2 .txt files produced however only display the last arraySize [12000] 10x and I can&#39;t figure out why\r\n\r\n**iterativeResult.txt:**\r\n\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n\r\n**recursiveResult.txt:**\r\n\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n\r\n","title":"BufferedWriter not writing data line by line","body":"<p>Currently trying to edit my old code from System.out.println() statements that display the results of a benchmark test to writing the results to 2 different .txt files. I am doing this so I can create a new program that uses JFileChooser to select one of the 2 .txt files and display the data on a JTable. The problem is the BufferedWriter is only writing the last set of data values 10x over so I cant display the correct results in my JTable.</p>\n<p><strong>BenchmarkSorts.java:</strong></p>\n<pre><code>/**\n * \n * BenchmarkSorts is going to generate arrays consisting of random integers the size of which is supplied from SortMain.java.\n * It will then send the randomly generated array to be sorted using the Quick Sort Algorithm both Iteratively and Recursively\n * a total of 50 times each and display the benchmark results to the user.\n */\n\n//=========\n//packages\n//=========\nimport java.io.*;\nimport java.util.Random;\n\n//==============================\n//start of class BenchmarkSorts\n//==============================\npublic class BenchmarkSorts {\n\n    //==========\n    //variables\n    //==========\n    private int[] unsortedArray;\n    private int iterativeCount = 0;\n    private int recursiveCount = 0;\n    private long iterativeTime, recursiveTime;\n    private int[] iterativeCountLog = new int[50];\n    private int[] recursiveCountLog = new int[50];\n    private int iCounter = 0;\n    private int rCounter = 0;\n    private long[] iterativeTimeLog = new long[50];\n    private long[] recursiveTimeLog = new long[50];\n    private int arraySize;\n    \n    private FileWriter iFileWriter = new FileWriter(&quot;iterativeResults.txt&quot;);\n    private FileWriter rFileWriter = new FileWriter(&quot;recursiveResults.txt&quot;);\n    \n    private BufferedWriter iBuffer = new BufferedWriter(iFileWriter);\n    private BufferedWriter rBuffer = new BufferedWriter(rFileWriter);\n\n    //=========\n    //invoking\n    //=========\n    private QuickSort quickSort = new QuickSort();\n\n    //============\n    //constructor\n    //============\n    public BenchmarkSorts(int[] sizes) throws Exception {\n\n        //==========================================================\n        //for loop to add the sizes of the arrays to be benchmarked\n        //==========================================================\n        for(int i = 0; i &lt; sizes.length; i++){\n            arraySize = sizes[i];\n            @SuppressWarnings(&quot;unused&quot;)\n            BenchmarkSorts bms = new BenchmarkSorts(arraySize);        \n        }\n    }\n\n    //========================================================\n    //method to add random numbers to the array index size,\n    //then send them to be sorted iteratively and recursively\n    //before being displayed with the benchmark results\n    //========================================================\n    private BenchmarkSorts(int n) throws Exception {\n\n        //=================================\n        //nested for loops to run 50 times\n        //creating arrays\n        //=================================\n        for(int i = 0; i &lt; 50; i++) {\n            unsortedArray = new int[n];\n\n            for(int j = 0; j &lt; n; j++) {\n                Random randNum = new Random();\n                unsortedArray[j] = (randNum.nextInt(1000));\n            }\n            runSorts();\n        }\n        displayReport(n);\n    }\n\n    //=========================================================\n    //method to sort unsortedArray iteratively and recursively\n    //while keeping track of count, time(in nano seconds)\n    //=========================================================\n    public void runSorts() throws Exception {\n\n        //=========================================\n        //creating 2 temporary arrays to be sorted\n        //=========================================\n        int[] tempArray1 = unsortedArray;\n        int[] tempArray2 = unsortedArray;\n\n        //============================\n        //iterative sort and trackers\n        //============================\n        quickSort.iterativeSort(tempArray1);\n        int returnCount = quickSort.getCount();\n        long returnTime = quickSort.getTime();\n        iterativeCount = iterativeCount + returnCount;\n        iterativeTime = iterativeTime + returnTime;\n        iterativeCountLog[iCounter] = returnCount;\n        iterativeTimeLog[iCounter] = returnTime;\n        iCounter++;\n\n        //============================\n        //recursive sort and trackers\n        //============================\n        quickSort.recursiveSort(tempArray2);\n        returnCount = quickSort.getCount();\n        returnTime = quickSort.getTime();\n        recursiveCount = recursiveCount + returnCount;\n        recursiveTime = recursiveTime + returnTime;\n        recursiveCountLog[rCounter] = recursiveCount;\n        recursiveTimeLog[rCounter] = recursiveTime;\n        rCounter++;\n    }\n\n    //===================================================\n    //method to display averages and standard deviations\n    //===================================================\n    public void displayReport(int arraySize) throws IOException {   \n\n        //==========\n        //variables\n        //==========\n        double iterativeAverageCount = 0;\n        double iterativeAverageTime = 0;\n        double recursiveAverageCount = 0;\n        double recursiveAverageTime = 0;\n        double iterativeSDCount = 0;\n        double iterativeSDTime = 0;\n        double recursiveSDCount = 0;\n        double recursiveSDTime = 0;\n\n        //========================================================\n        //averaging the trackers for both iterative and recursive\n        //========================================================\n        iterativeAverageCount = iterativeCount / 50;\n        iterativeAverageTime = iterativeTime / 50;\n        recursiveAverageCount = recursiveCount / 50;\n        recursiveAverageTime = recursiveTime / 50;\n\n        //==========================================\n        //for loop to calculate standard deviations\n        //==========================================\n        for(int i = 0; i &lt; 50; i++) {\n            iterativeSDCount = iterativeSDCount + Math.pow((iterativeCountLog[i] - iterativeAverageCount), 2);\n            iterativeSDTime = iterativeSDTime + Math.pow((iterativeTimeLog[i] - iterativeAverageTime), 2);\n            recursiveSDCount = recursiveSDCount + Math.pow((recursiveCountLog[i] - recursiveAverageCount), 2);\n            recursiveSDTime = recursiveSDTime + Math.pow((recursiveTimeLog[i] - recursiveAverageTime), 2);\n        }\n\n        //====================\n        //standard deviations\n        //====================\n        iterativeSDCount = Math.pow(iterativeSDCount, .5) / arraySize;\n        iterativeSDTime = Math.pow(iterativeSDTime, .5) / arraySize;\n        recursiveSDCount = Math.pow(recursiveSDCount, .5) / arraySize;\n        recursiveSDTime = Math.pow(recursiveSDTime, .5) / arraySize;\n\n        //====================================================\n        //for loops to BufferedWrite data to respective files\n        //====================================================\n        for (int i = 0; i &lt; 10; i++)    {\n            iBuffer.write(arraySize + &quot; &quot; + iterativeAverageCount +  &quot; &quot; + iterativeSDCount + &quot; &quot; + iterativeAverageTime + &quot; &quot; + iterativeSDTime);\n            iBuffer.newLine();\n        }\n        for (int i = 0; i &lt; 10; i++)    {\n            rBuffer.write(arraySize + &quot; &quot; + recursiveAverageCount +  &quot; &quot; + recursiveSDCount + &quot; &quot; + recursiveAverageTime + &quot; &quot; + recursiveSDTime);\n            rBuffer.newLine();\n        }\n        iBuffer.close();\n        rBuffer.close();\n        \n        //==========================================\n        //old output that I want to write to a file\n        //==========================================\n        System.out.println(&quot;Iterative Quick Sort Results: &quot; + &quot;\\nData Set Size (n): &quot; + arraySize +\n                &quot;, Average Critical Operation Count: &quot; + iterativeAverageCount + &quot;, Standard Deviation of Count: &quot; +\n                iterativeSDCount + &quot;, Average Execution Time: &quot; + iterativeAverageTime + &quot;, Standard Deviation of Time: &quot; +\n                iterativeSDTime);\n\n        System.out.println(&quot;Recursive Quick Sort Results: &quot; + &quot;\\nData Set Size (n): &quot; + arraySize +\n                &quot;, Average Critical Operation Count: &quot; + recursiveAverageCount + &quot;, Standard Deviation of Count: &quot; +\n                recursiveSDCount + &quot;, Average Execution Time: &quot; + recursiveAverageTime + &quot;, Standard Deviation of Time: &quot; +\n                recursiveSDTime);\n    }\n}\n</code></pre>\n<p><strong>This is the old output using System.out.println() statements:</strong></p>\n<pre><code>Iterative Quick Sort Results: \nData Set Size (n): 100, Average Critical Operation Count: 66.0, Standard Deviation of Count: 0.13490737563232041, Average Execution Time: 11528.0, Standard Deviation of Time: 394.80891580611495\nRecursive Quick Sort Results: \nData Set Size (n): 100, Average Critical Operation Count: 99.0, Standard Deviation of Count: 199.0490957025427, Average Execution Time: 36124.0, Standard Deviation of Time: 78349.10253729777\nIterative Quick Sort Results: \nData Set Size (n): 200, Average Critical Operation Count: 133.0, Standard Deviation of Count: 0.11224972160321825, Average Execution Time: 27364.0, Standard Deviation of Time: 544.5295033329232\nRecursive Quick Sort Results: \nData Set Size (n): 200, Average Critical Operation Count: 199.0, Standard Deviation of Count: 200.05439416568686, Average Execution Time: 29262.0, Standard Deviation of Time: 27784.950723818103\n...\n...\nIterative Quick Sort Results: \nData Set Size (n): 12000, Average Critical Operation Count: 11000.0, Standard Deviation of Count: 2.6352313834736497E-4, Average Execution Time: 720028.0, Standard Deviation of Time: 69.97877063001957\nRecursive Quick Sort Results: \nData Set Size (n): 12000, Average Critical Operation Count: 11999.0, Standard Deviation of Count: 201.04293765444527, Average Execution Time: 6.034408E7, Standard Deviation of Time: 1011471.3254720564\n</code></pre>\n<p>As you can see it produces the correct outputs for all arraySize's from [100...12000] (I cut out the mid section to shorten the total length).</p>\n<p>The 2 .txt files produced however only display the last arraySize [12000] 10x and I can't figure out why</p>\n<p><strong>iterativeResult.txt:</strong></p>\n<pre><code>12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n</code></pre>\n<p><strong>recursiveResult.txt:</strong></p>\n<pre><code>12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1612201661,"post_id":65987425,"comment_id":116687305,"body_markdown":"You may also want to check out [jpackage](https://docs.oracle.com/en/java/javase/15/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A) (available since Java 14).","body":"You may also want to check out <a href=\"https://docs.oracle.com/en/java/javase/15/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">jpackage</a> (available since Java 14)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1646275305,"creation_date":1612157358,"answer_id":65987597,"question_id":65987425,"body_markdown":"From Java 9 onwards, Oracle no longer provides a JRE-only installation kit, either with the Oracle Java badge or the OpenJDK badge.  That&#39;s why you can&#39;t find Java 15 JRE downloads on the Oracle and OpenJDK download sites.\r\n\r\nYou / they have three options:\r\n\r\n  1.  They can download and install a JDK for Java 15.  You or he will also need to deal with the JavaFX JAR and other 3rd-party JARs that your application uses.  \r\n  2.  You can use `jlink` (or similar) to turn your JAR file into an executable with an embedded (cut down) JRE.  You then ship that executable rather than the JAR file.\r\n  3.  You can recommend that they obtain Java from a 3rd party Java vendor that provides a JRE option for Java 15.\r\n\r\n\r\n--------------------------\r\n\r\n&gt; My program contains VM options so that can I embed them within the .jar file?\r\n\r\nI don&#39;t think you can do that.  But it should be a simple matter to write a shell script or batch file which calls (for example) `java` with the required options.\r\n\r\nIf you use `jlink` you can embed JVM options in the executable; see https://stackoverflow.com/questions/54208800/how-to-set-vm-options-for-jlink-launcher-executable.\r\n\r\nThe `jpackage` tool may also be an option, though this is not a production feature until Java 16.","title":"What version of JRE should I use to run a Java 15 compiled program?","body":"<p>From Java 9 onwards, Oracle no longer provides a JRE-only installation kit, either with the Oracle Java badge or the OpenJDK badge.  That's why you can't find Java 15 JRE downloads on the Oracle and OpenJDK download sites.</p>\n<p>You / they have three options:</p>\n<ol>\n<li>They can download and install a JDK for Java 15.  You or he will also need to deal with the JavaFX JAR and other 3rd-party JARs that your application uses.</li>\n<li>You can use <code>jlink</code> (or similar) to turn your JAR file into an executable with an embedded (cut down) JRE.  You then ship that executable rather than the JAR file.</li>\n<li>You can recommend that they obtain Java from a 3rd party Java vendor that provides a JRE option for Java 15.</li>\n</ol>\n<hr />\n<blockquote>\n<p>My program contains VM options so that can I embed them within the .jar file?</p>\n</blockquote>\n<p>I don't think you can do that.  But it should be a simple matter to write a shell script or batch file which calls (for example) <code>java</code> with the required options.</p>\n<p>If you use <code>jlink</code> you can embed JVM options in the executable; see <a href=\"https://stackoverflow.com/questions/54208800/how-to-set-vm-options-for-jlink-launcher-executable\">How to set VM options for JLink launcher executable</a>.</p>\n<p>The <code>jpackage</code> tool may also be an option, though this is not a production feature until Java 16.</p>\n"}],"owner":{"account_id":20595623,"reputation":111,"user_id":15118121,"display_name":"Alpha Beta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6332,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65987597,"answer_count":1,"score":4,"last_activity_date":1646275305,"creation_date":1612155898,"question_id":65987425,"body_markdown":"I am new to Java Programming. Recently I created a JavaFX program using the latest JDK 15 (https://www.oracle.com/java/technologies/javase-downloads.html) and the latest JavaFX SDK 15 (https://openjfx.io/index.html). Suppose that I need to deploy the application (.jar) in someone else&#39;s computer.\r\n\r\n- What is the version of JRE which should be in the client&#39;s PC? Or does he need to install complete JDK?\r\n- My program contains VM options so that can I embed them within the .jar file?\r\n- Are there specific JREs for version after Java 8? Or is the JRE coupled with the JDK itself?\r\n","title":"What version of JRE should I use to run a Java 15 compiled program?","body":"<p>I am new to Java Programming. Recently I created a JavaFX program using the latest JDK 15 (<a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-downloads.html</a>) and the latest JavaFX SDK 15 (<a href=\"https://openjfx.io/index.html\" rel=\"nofollow noreferrer\">https://openjfx.io/index.html</a>). Suppose that I need to deploy the application (.jar) in someone else's computer.</p>\n<ul>\n<li>What is the version of JRE which should be in the client's PC? Or does he need to install complete JDK?</li>\n<li>My program contains VM options so that can I embed them within the .jar file?</li>\n<li>Are there specific JREs for version after Java 8? Or is the JRE coupled with the JDK itself?</li>\n</ul>\n"},{"tags":["java","spring","hibernate","spring-boot","sessionfactory"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1573941519,"post_id":58895540,"comment_id":104055865,"body_markdown":"Perhaps if you showed the full stacktrace, so we can see where the **`NullPointerException`** originates, and the source code covering that, we might better be able to help you. ---  See also [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/q/218384/5221149)","body":"Perhaps if you showed the full stacktrace, so we can see where the <b><code>NullPointerException</code></b> originates, and the source code covering that, we might better be able to help you. ---  See also <a href=\"https://stackoverflow.com/q/218384/5221149\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1573941541,"post_id":58895540,"comment_id":104055873,"body_markdown":"What happens if you completely remove your `@Bean` method? What, specifically, Hibernate and Spring dependencies are you using?","body":"What happens if you completely remove your <code>@Bean</code> method? What, specifically, Hibernate and Spring dependencies are you using?"},{"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"score":0,"creation_date":1573942570,"post_id":58895540,"comment_id":104056060,"body_markdown":"@Andreas I added full stack trace, please, take a look, thanks","body":"@Andreas I added full stack trace, please, take a look, thanks"},{"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"score":0,"creation_date":1573942666,"post_id":58895540,"comment_id":104056081,"body_markdown":"@chrylis-onstrike-   I added dependencies versions for hibernate and spring","body":"@chrylis-onstrike-   I added dependencies versions for hibernate and spring"},{"owner":{"account_id":9132794,"reputation":83,"user_id":6793708,"display_name":"VKJava"},"score":0,"creation_date":1573943104,"post_id":58895540,"comment_id":104056176,"body_markdown":"Please post your pom.xml as well.","body":"Please post your pom.xml as well."},{"owner":{"account_id":5352573,"reputation":673,"user_id":4266296,"display_name":"fap"},"score":0,"creation_date":1573943520,"post_id":58895540,"comment_id":104056265,"body_markdown":"@janlan What are you trying to achieve? Do you want a reference to the SessionFactory so you can use and call it in your code?","body":"@janlan What are you trying to achieve? Do you want a reference to the SessionFactory so you can use and call it in your code?"},{"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"score":0,"creation_date":1573943635,"post_id":58895540,"comment_id":104056297,"body_markdown":"@fap That is right. I need it to handle DAO layer for my app obviously","body":"@fap That is right. I need it to handle DAO layer for my app obviously"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1573944210,"post_id":58895540,"comment_id":104056414,"body_markdown":"@janlan Why do you need it? Do you understand the relationship between Hibernate and JPA?","body":"@janlan Why do you need it? Do you understand the relationship between Hibernate and JPA?"},{"owner":{"account_id":5352573,"reputation":673,"user_id":4266296,"display_name":"fap"},"score":0,"creation_date":1573944259,"post_id":58895540,"comment_id":104056426,"body_markdown":"The usual way to do this with Spring Boot is by including either `spring-boot-starter-data-jpa` or `spring-boot-starter-data-jdbc` as a dependency.\nSpring Boot then automatically reads your `application.properties` and creates all the necessary database / hibernate classes.\nTry to follow https://spring.io/guides/gs/accessing-data-jpa/.\n(or check out https://spring.io/blog/2018/09/17/introducing-spring-data-jdbc if you don&#39;t like JPA, although Data JPA is much more mature and you&#39;ll find more online resources / tutorials)","body":"The usual way to do this with Spring Boot is by including either <code>spring-boot-starter-data-jpa</code> or <code>spring-boot-starter-data-jdbc</code> as a dependency. Spring Boot then automatically reads your <code>application.properties</code> and creates all the necessary database / hibernate classes. Try to follow <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a>. (or check out <a href=\"https://spring.io/blog/2018/09/17/introducing-spring-data-jdbc\" rel=\"nofollow noreferrer\">spring.io/blog/2018/09/17/introducing-spring-data-jdbc</a> if you don&#39;t like JPA, although Data JPA is much more mature and you&#39;ll find more online resources / tutorials)"}],"answers":[{"tags":[],"owner":{"account_id":4289314,"reputation":178,"user_id":3506105,"display_name":"lsantamaria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1573949056,"creation_date":1573949056,"answer_id":58896371,"question_id":58895540,"body_markdown":"Remove hibernate-core dependency and add spring-data-jpa which already includes it.","title":"Cannot instantiate Session Factory in Spring Boot Application","body":"<p>Remove hibernate-core dependency and add spring-data-jpa which already includes it.</p>\n"}],"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58896371,"answer_count":1,"score":0,"last_activity_date":1646274890,"creation_date":1573941158,"question_id":58895540,"body_markdown":"Whenever I run Spring boot app, I got following errors about EntityManagerFactory and SessionFactory which results in Spring error with current stack trace below:\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appConfig&#39;: Unsatisfied dependency expressed through field &#39;entityManagerFactory&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [com/cms/qlturka/app/AppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean &#39;appConfig&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionFactory&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:397) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1429) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat com.cms.qlturka.app.QlturkaApplication.main(QlturkaApplication.java:10) [classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [com/cms/qlturka/app/AppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean &#39;appConfig&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionFactory&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:645) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:475) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:636) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean &#39;appConfig&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionFactory&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:640) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\t... 32 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n\tat com.cms.qlturka.app.AppConfig.sessionFactory(AppConfig.java:28) ~[classes/:na]\r\n\tat com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5.CGLIB$sessionFactory$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5$$FastClassBySpringCGLIB$$fab66a3e.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5.sessionFactory(&lt;generated&gt;) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\t... 33 common frames omitted\r\n```\r\nClasses:\r\n\r\nMain:\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication()\r\npublic class QlturkaApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(QlturkaApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\nConfiguration class:\r\n```\r\n@Configuration\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\n@EnableAutoConfiguration\r\npublic class AppConfig {\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Autowired\r\n    private EntityManagerFactory entityManagerFactory;\r\n\r\n    @Bean\r\n    public SessionFactory sessionFactory() {\r\n        if (entityManagerFactory.unwrap(SessionFactory.class) == null) {\r\n            throw new NullPointerException(&quot;factory is not a hibernate factory&quot;);\r\n        }\r\n        System.out.println(&quot;here&quot;);\r\n        return entityManagerFactory.unwrap(SessionFactory.class);\r\n    }\r\n}\r\n```\r\nHow can I fix that? What is the problem with creating the beans? I cannot find any information about this problem\r\n\r\nDependencies for Hibernate and Spring are below:  \r\nHibernate -&gt; 5.4.1.Final  \r\nSpring -&gt; 2.2.1 Release  \r\nMy `pom.xml` file for dependencies:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.cms&lt;/groupId&gt;\r\n    &lt;artifactId&gt;qlturka&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Qlturka&lt;/name&gt;\r\n    &lt;description&gt;test app&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.13&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Cannot instantiate Session Factory in Spring Boot Application","body":"<p>Whenever I run Spring boot app, I got following errors about EntityManagerFactory and SessionFactory which results in Spring error with current stack trace below:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appConfig': Unsatisfied dependency expressed through field 'entityManagerFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [com/cms/qlturka/app/AppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean 'appConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionFactory' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:397) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1429) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at com.cms.qlturka.app.QlturkaApplication.main(QlturkaApplication.java:10) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [com/cms/qlturka/app/AppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean 'appConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionFactory' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:645) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:475) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:636) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean 'appConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionFactory' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:640) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    ... 32 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at com.cms.qlturka.app.AppConfig.sessionFactory(AppConfig.java:28) ~[classes/:na]\n    at com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5.CGLIB$sessionFactory$0(&lt;generated&gt;) ~[classes/:na]\n    at com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5$$FastClassBySpringCGLIB$$fab66a3e.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5.sessionFactory(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    ... 33 common frames omitted\n</code></pre>\n<p>Classes:</p>\n<p>Main:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication()\npublic class QlturkaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(QlturkaApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Configuration class:</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\n@EnableAutoConfiguration\npublic class AppConfig {\n    @Autowired\n    private Environment env;\n\n    @Autowired\n    private EntityManagerFactory entityManagerFactory;\n\n    @Bean\n    public SessionFactory sessionFactory() {\n        if (entityManagerFactory.unwrap(SessionFactory.class) == null) {\n            throw new NullPointerException(&quot;factory is not a hibernate factory&quot;);\n        }\n        System.out.println(&quot;here&quot;);\n        return entityManagerFactory.unwrap(SessionFactory.class);\n    }\n}\n</code></pre>\n<p>How can I fix that? What is the problem with creating the beans? I cannot find any information about this problem</p>\n<p>Dependencies for Hibernate and Spring are below:<br />\nHibernate -&gt; 5.4.1.Final<br />\nSpring -&gt; 2.2.1 Release<br />\nMy <code>pom.xml</code> file for dependencies:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cms&lt;/groupId&gt;\n    &lt;artifactId&gt;qlturka&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Qlturka&lt;/name&gt;\n    &lt;description&gt;test app&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.13&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":9701780,"reputation":1040,"user_id":7196490,"accept_rate":25,"display_name":"Edu G"},"score":0,"creation_date":1487583463,"post_id":42340927,"comment_id":71833840,"body_markdown":"Did you check if that folder really exists and you have JDK installed ?","body":"Did you check if that folder really exists and you have JDK installed ?"},{"owner":{"account_id":10290157,"reputation":181,"user_id":7592138,"display_name":"구지훈"},"score":0,"creation_date":1487583536,"post_id":42340927,"comment_id":71833874,"body_markdown":"yes, I already installed JDK so i can compile and run my java programm by cmd. ㅠㅠ","body":"yes, I already installed JDK so i can compile and run my java programm by cmd. ㅠㅠ"}],"answers":[{"tags":[],"owner":{"account_id":10051238,"reputation":486,"user_id":7430994,"display_name":"FrederikVH"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1487583918,"creation_date":1487583918,"answer_id":42341138,"question_id":42340927,"body_markdown":"You have to restart VS Code after entering the java.home variable in the settings file.\r\n\r\nAlternatively, setting that variable isn&#39;t even required. You can remove it from your settings and VS Code will automatically check your user/system environment variables for JDK_HOME and JAVA_HOME.\r\n\r\nSee &quot;Setting the JDK&quot; at https://marketplace.visualstudio.com/items?itemName=redhat.java\r\n\r\nFor information on how to set the environment variables, see https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>You have to restart VS Code after entering the java.home variable in the settings file.</p>\n\n<p>Alternatively, setting that variable isn't even required. You can remove it from your settings and VS Code will automatically check your user/system environment variables for JDK_HOME and JAVA_HOME.</p>\n\n<p>See \"Setting the JDK\" at <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"noreferrer\">https://marketplace.visualstudio.com/items?itemName=redhat.java</a></p>\n\n<p>For information on how to set the environment variables, see <a href=\"https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation\">Environment variables for java installation</a></p>\n"},{"tags":[],"owner":{"account_id":3918586,"reputation":458,"user_id":3241790,"accept_rate":20,"display_name":"Zaher88abd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1576046997,"creation_date":1498500905,"answer_id":44766079,"question_id":42340927,"body_markdown":"you should change the path to be like this:\r\n\r\n    &quot;java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_111&quot;\r\n","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>you should change the path to be like this:</p>\n\n<pre><code>\"java.home\":\"C:\\\\Program Files\\\\Java\\\\jdk1.8.0_111\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":981631,"reputation":2772,"user_id":1001199,"accept_rate":62,"display_name":"profimedica"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522493294,"creation_date":1522491318,"answer_id":49586642,"question_id":42340927,"body_markdown":"My Visual Studio Code is set to use the 32 bit version of JDK\r\n\r\nA default java.exe is installed in your %SYSTEMROOT%\\System32\r\n\r\nCheck java version from command line:\r\n\r\n&gt; java -version\r\n\r\nYou might need to add your version to **PATH**:\r\n\r\n&gt; set PATH=%PATH%;C:\\Program Files (x86)\\Java\\jdk1.8.0_111\\bin\r\n\r\nAnd set your system **JAVA_HOME**:\r\n\r\n&gt; setx -m JAVA_HOME &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_111&quot;\r\n\r\nRestart cmd and try:\r\n\r\necho %JAVA_HOME%\r\n\r\nRestart Visual Studio Code and be happy.\r\n\r\nUse `set` instead of `setx` for local user.","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>My Visual Studio Code is set to use the 32 bit version of JDK</p>\n\n<p>A default java.exe is installed in your %SYSTEMROOT%\\System32</p>\n\n<p>Check java version from command line:</p>\n\n<blockquote>\n  <p>java -version</p>\n</blockquote>\n\n<p>You might need to add your version to <strong>PATH</strong>:</p>\n\n<blockquote>\n  <p>set PATH=%PATH%;C:\\Program Files (x86)\\Java\\jdk1.8.0_111\\bin</p>\n</blockquote>\n\n<p>And set your system <strong>JAVA_HOME</strong>:</p>\n\n<blockquote>\n  <p>setx -m JAVA_HOME \"C:\\Program Files (x86)\\Java\\jdk1.8.0_111\"</p>\n</blockquote>\n\n<p>Restart cmd and try:</p>\n\n<p>echo %JAVA_HOME%</p>\n\n<p>Restart Visual Studio Code and be happy.</p>\n\n<p>Use <code>set</code> instead of <code>setx</code> for local user.</p>\n"},{"tags":[],"owner":{"account_id":12531346,"reputation":33,"user_id":9119513,"display_name":"nevyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539695569,"creation_date":1539695569,"answer_id":52836272,"question_id":42340927,"body_markdown":"In case this question is still open.\r\n\r\nTry placing a space between the words, Program and Files, so it reads:\r\n\r\n&gt;&quot;C:/Program Files/Java/jdk1.8.0_131&quot;","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>In case this question is still open.</p>\n\n<p>Try placing a space between the words, Program and Files, so it reads:</p>\n\n<blockquote>\n  <p>\"C:/Program Files/Java/jdk1.8.0_131\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14751445,"reputation":11,"user_id":10653427,"display_name":"Uma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563950166,"creation_date":1542216769,"answer_id":53305825,"question_id":42340927,"body_markdown":"If you are using bash from VSCode, should use:\r\n\r\n`export JAVA_HOME=/c/Program\\ Files/Java/jdk1.8.0_172`\r\n\r\nYou can use this in the terminal there.","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>If you are using bash from VSCode, should use:</p>\n\n<p><code>export JAVA_HOME=/c/Program\\ Files/Java/jdk1.8.0_172</code></p>\n\n<p>You can use this in the terminal there.</p>\n"},{"tags":[],"owner":{"account_id":12623243,"reputation":13,"user_id":9177971,"display_name":"Diwakar Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544169199,"creation_date":1544169199,"answer_id":53665347,"question_id":42340927,"body_markdown":"You only need to put the space in between Program and files like: \r\n\r\n&gt; java.home :- &quot;C:/Program Files/Java/jdk1.8.0_111&quot;\r\n\r\n","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>You only need to put the space in between Program and files like: </p>\n\n<blockquote>\n  <p>java.home :- \"C:/Program Files/Java/jdk1.8.0_111\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12372875,"reputation":21,"user_id":9022379,"display_name":"Aldo Biturku"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557387033,"creation_date":1557387033,"answer_id":56054297,"question_id":42340927,"body_markdown":"try to change path as follow: \r\n\r\n    &quot;java.home&quot;:&quot;C:/Program Files/Java/jdk1.8.0_202&quot;\r\n\r\n**Make attention to the space in &quot;Program Files&quot; in the path**.","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>try to change path as follow: </p>\n\n<pre><code>\"java.home\":\"C:/Program Files/Java/jdk1.8.0_202\"\n</code></pre>\n\n<p><strong>Make attention to the space in \"Program Files\" in the path</strong>.</p>\n"}],"owner":{"account_id":10290157,"reputation":181,"user_id":7592138,"display_name":"구지훈"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57042,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":7,"score":18,"last_activity_date":1646273778,"creation_date":1487583312,"question_id":42340927,"body_markdown":"\r\nI downloaded language support for Java by Red Hat in Microsoft Visual Studio Code, \r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O3uZN.png\r\n\r\nbut I got a problem as shown in the above picture.\r\n\r\nSo I tried to set my JDK path in the `settings.json` file in VSCode:\r\n\r\n    &quot;java.home&quot;: &quot;C:/ProgramFiles/Java/jdk1.8.0_111&quot;\r\n\r\nBut the problem is still not solved.\r\n\r\nDo you know how to solve this problem?","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>I downloaded language support for Java by Red Hat in Microsoft Visual Studio Code, \n<img src=\"https://i.stack.imgur.com/O3uZN.png\" alt=\"enter image description here\"></p>\n\n<p>but I got a problem as shown in the above picture.</p>\n\n<p>So I tried to set my JDK path in the <code>settings.json</code> file in VSCode:</p>\n\n<pre><code>\"java.home\": \"C:/ProgramFiles/Java/jdk1.8.0_111\"\n</code></pre>\n\n<p>But the problem is still not solved.</p>\n\n<p>Do you know how to solve this problem?</p>\n"},{"tags":["java","android","youtube"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1646273495,"post_id":71330737,"comment_id":126084944,"body_markdown":"Did you try anything from the [how to show a youtube video in an android app](https://www.google.com/search?q=site:stackoverflow.com+how+to+show+a+youtube+video+in+android+app) results I linked from [your previous question](https://stackoverflow.com/questions/71326787/youtube-video-link-on-android-studio)?","body":"Did you try anything from the <a href=\"https://www.google.com/search?q=site:stackoverflow.com+how+to+show+a+youtube+video+in+android+app\" rel=\"nofollow noreferrer\">how to show a youtube video in an android app</a> results I linked from <a href=\"https://stackoverflow.com/questions/71326787/youtube-video-link-on-android-studio\">your previous question</a>?"},{"owner":{"account_id":24389727,"reputation":15,"user_id":18319871,"display_name":"777111222"},"score":0,"creation_date":1646276390,"post_id":71330737,"comment_id":126085424,"body_markdown":"@FrankvanPuffelen I added the dependencies, but in my onBindViewHolder, I can&#39;t figure out how to display it.  I tried holder.youTubePlayerView.loadVideo(exercise.getVideo(), 0) but the loadVideo() method is not loading.","body":"@FrankvanPuffelen I added the dependencies, but in my onBindViewHolder, I can&#39;t figure out how to display it.  I tried holder.youTubePlayerView.loadVideo(exercise.getVideo(), 0) but the loadVideo() method is not loading."}],"owner":{"account_id":24389727,"reputation":15,"user_id":18319871,"display_name":"777111222"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646273440,"creation_date":1646266915,"question_id":71330737,"body_markdown":"I want to get the video ID from my database, use the string and load the YouTube video in the cardview. But I&#39;m lost on how to load the video using the holder.\r\n\r\n[![I have the video ID stored as a string in my database][1]][1]\r\n\r\n[![CardView][2]][2]\r\n\r\n\r\nThis is my onBindViewHolder in my adapter class.\r\n\r\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n\r\n        Exercise exercise = list.get(position);\r\n        holder.exerciseName.setText(exercise.getExerciseName());\r\n        holder.muscleGroupName.setText(exercise.getMuscleGroupName());\r\n        holder.equipmentName.setText(exercise.getEquipmentName());\r\n        Glide.with(holder.imageView).load(exercise.getImage()).into(holder.imageView);\r\n\r\n    }\r\n\r\n\r\n\r\n public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        public ImageView imageView;\r\n        TextView exerciseName, muscleGroupName, equipmentName;\r\n        YouTubePlayerView youTubePlayerView;\r\n\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            exerciseName = itemView.findViewById(R.id.exerciseNameInput);\r\n            muscleGroupName = itemView.findViewById(R.id.muscleGroupNameInput);\r\n            equipmentName = itemView.findViewById(R.id.equipmentNameInput);\r\n            imageView = itemView.findViewById(R.id.imageInput);\r\n            youTubePlayerView = itemView.findViewById(R.id.video);\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rhsHu.png\r\n  [2]: https://i.stack.imgur.com/XXe7I.png","title":"How would I use YouTubePlayerView with holder to display in recyclerview?","body":"<p>I want to get the video ID from my database, use the string and load the YouTube video in the cardview. But I'm lost on how to load the video using the holder.</p>\n<p><a href=\"https://i.stack.imgur.com/rhsHu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rhsHu.png\" alt=\"I have the video ID stored as a string in my database\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XXe7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XXe7I.png\" alt=\"CardView\" /></a></p>\n<p>This is my onBindViewHolder in my adapter class.</p>\n<p>public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {</p>\n<pre><code>    Exercise exercise = list.get(position);\n    holder.exerciseName.setText(exercise.getExerciseName());\n    holder.muscleGroupName.setText(exercise.getMuscleGroupName());\n    holder.equipmentName.setText(exercise.getEquipmentName());\n    Glide.with(holder.imageView).load(exercise.getImage()).into(holder.imageView);\n\n}\n</code></pre>\n<p>public static class MyViewHolder extends RecyclerView.ViewHolder{</p>\n<pre><code>    public ImageView imageView;\n    TextView exerciseName, muscleGroupName, equipmentName;\n    YouTubePlayerView youTubePlayerView;\n\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        exerciseName = itemView.findViewById(R.id.exerciseNameInput);\n        muscleGroupName = itemView.findViewById(R.id.muscleGroupNameInput);\n        equipmentName = itemView.findViewById(R.id.equipmentNameInput);\n        imageView = itemView.findViewById(R.id.imageInput);\n        youTubePlayerView = itemView.findViewById(R.id.video);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","while-loop"],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646272990,"creation_date":1646272990,"answer_id":71331303,"question_id":71331225,"body_markdown":"Just change:\r\n\r\n    s = scan.next();\r\n\r\nTo:\r\n\r\n    i = scan.nextInt();\r\n\r\nIf you only want POSITIVE ints to be added, then also change your `if` statement to:\r\n\r\n    if (i &gt; 0)\r\n","title":"How to end while loop for integer gathering array in java?","body":"<p>Just change:</p>\n<pre><code>s = scan.next();\n</code></pre>\n<p>To:</p>\n<pre><code>i = scan.nextInt();\n</code></pre>\n<p>If you only want POSITIVE ints to be added, then also change your <code>if</code> statement to:</p>\n<pre><code>if (i &gt; 0)\n</code></pre>\n"}],"owner":{"account_id":20889260,"reputation":7,"user_id":15345065,"display_name":"Tusk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71331303,"answer_count":1,"score":-1,"last_activity_date":1646273025,"creation_date":1646272268,"question_id":71331225,"body_markdown":"I am wring a program that askes the user to give any value they want as long as it is a whole number, and that value will be placed in a array. They can do this asmany times as they would like, until they add -1 to the array. I am having a hard time figurig out how to get the loop to end. \r\nMy code: \r\n\r\n```\r\n    int i = 0;\r\n\t\t    while (i != -1) {\r\n\t\t\t    System.out.print(&quot;Enter a positive whole number, enter &#39;-1&#39; to stop:&quot;);\r\n\t\t\t    s = scan.next();\r\n\t\t\t    if (i ! = -1)\r\n\t\t\t     intElements.add(i);\r\n```\r\n\r\nI think the issue is in my if conditional. Not sure what the correct way to write out the logic would be.  ","title":"How to end while loop for integer gathering array in java?","body":"<p>I am wring a program that askes the user to give any value they want as long as it is a whole number, and that value will be placed in a array. They can do this asmany times as they would like, until they add -1 to the array. I am having a hard time figurig out how to get the loop to end.\nMy code:</p>\n<pre><code>    int i = 0;\n            while (i != -1) {\n                System.out.print(&quot;Enter a positive whole number, enter '-1' to stop:&quot;);\n                s = scan.next();\n                if (i ! = -1)\n                 intElements.add(i);\n</code></pre>\n<p>I think the issue is in my if conditional. Not sure what the correct way to write out the logic would be.</p>\n"},{"tags":["java","android"],"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646272708,"creation_date":1646272708,"question_id":71331264,"body_markdown":"Today I got this error in my app:\r\n\r\n&gt; java.lang.IllegalArgumentException: com.money.saving: Targeting S+\r\n&gt; (version 31 and above) requires that one of FLAG_IMMUTABLE or\r\n&gt; FLAG_MUTABLE be specified when creating a PendingIntent.\r\n&gt;     Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if\r\n&gt; it needs to be used with inline replies or bubbles.\r\n\r\nI don&#39;t understand when my PendingIntent is mutable.\r\n\r\nIn my application I use `PendingIntent` 2 times, the first time is to schedule an AlarmManager that repeats daily\r\n\r\n    AlarmManager alarm = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n        alarm.cancel(pendingIntent);\r\n        alarm.setRepeating(AlarmManager.RTC_WAKEUP, cHoraActivacion.getTimeInMillis(), (24 * 60 * 60 * 1000), pendingIntent);\r\n\r\nThe second to create a notification\r\n\r\n    AlarmManager am = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n        am.set(AlarmManager.RTC_WAKEUP, cFecha.getTimeInMillis(), pendingIntent);\r\n\r\nI assume that when using setRepeating I should use FLAG_MUTABLE and in the case of notification I should use FLAG_IMMUTABLE, This assumption is because setRepeating has to undergo changes to see when it is activated. Am I correct?","title":"FLAG_MUTABLE usage examples, when should I use it?","body":"<p>Today I got this error in my app:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: com.money.saving: Targeting S+\n(version 31 and above) requires that one of FLAG_IMMUTABLE or\nFLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if\nit needs to be used with inline replies or bubbles.</p>\n</blockquote>\n<p>I don't understand when my PendingIntent is mutable.</p>\n<p>In my application I use <code>PendingIntent</code> 2 times, the first time is to schedule an AlarmManager that repeats daily</p>\n<pre><code>AlarmManager alarm = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    alarm.cancel(pendingIntent);\n    alarm.setRepeating(AlarmManager.RTC_WAKEUP, cHoraActivacion.getTimeInMillis(), (24 * 60 * 60 * 1000), pendingIntent);\n</code></pre>\n<p>The second to create a notification</p>\n<pre><code>AlarmManager am = (AlarmManager) context.getSystemService(ALARM_SERVICE);\n    am.set(AlarmManager.RTC_WAKEUP, cFecha.getTimeInMillis(), pendingIntent);\n</code></pre>\n<p>I assume that when using setRepeating I should use FLAG_MUTABLE and in the case of notification I should use FLAG_IMMUTABLE, This assumption is because setRepeating has to undergo changes to see when it is activated. Am I correct?</p>\n"},{"tags":["java","stack","comparable"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646274035,"post_id":71331260,"comment_id":126085049,"body_markdown":"Try this tutorial https://www.baeldung.com/java-comparator-comparable","body":"Try this tutorial <a href=\"https://www.baeldung.com/java-comparator-comparable\" rel=\"nofollow noreferrer\">baeldung.com/java-comparator-comparable</a>"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1646275898,"post_id":71331260,"comment_id":126085333,"body_markdown":"Keeping a member variable for min and max would work for push, but not for pop as it would have nothing to compare against.  it would also not account for duplicates.  So basically, you could use a compareTo() to find the greater of the two on push, but on pops you&#39;d need to recalculate the min and max.","body":"Keeping a member variable for min and max would work for push, but not for pop as it would have nothing to compare against.  it would also not account for duplicates.  So basically, you could use a compareTo() to find the greater of the two on push, but on pops you&#39;d need to recalculate the min and max."}],"owner":{"account_id":24359465,"reputation":41,"user_id":18294046,"display_name":"XanJo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646272651,"creation_date":1646272651,"question_id":71331260,"body_markdown":"For this assignment I need to create a linked stack class that contains a `getMin()` and `getMax()`. I cannot change the class header which was provided by the instructor. Both `getMin` and `getMax` should be O(1) time. \r\n\r\nMy thought is that I need to use the `compareTo` method to compare entries as they are pushed or poped so that I can set variables `minValue` and `maxValue` equal to their respective values. However, I don&#39;t understand the section in the class header `&lt;T extends Comparable&lt;? super T&gt;&gt;` nor do I know how or where to implement Comparable. I tried having my `class Node&lt;E&gt;` implement `Comparable` but it asked me to override the `compareTo` method and I&#39;m not sure how that would work. \r\n\r\nAny help would be greatly appreciated! Below is my code for this assignment:\r\n```\r\npublic class MinMaxStack &lt;T extends Comparable&lt;? super T&gt;&gt; implements StackADT&lt;T&gt; {\t\r\n\tprivate Node&lt;T&gt; top;\r\n\tprivate int size;\r\n\t\r\n\tpublic MinMaxStack() {\r\n\t\tclear();\r\n\t}\r\n\t\r\n\tprivate class Node&lt;E&gt;{\r\n\t\tE data;\r\n\t\tNode&lt;E&gt; previous;\r\n\t}\r\n\t\r\n\tpublic T getMin() {\t\t\r\n\t\tif(isEmpty()) {\r\n\t\t\tthrow new EmptyCollectionException(&quot;The stack is empty but is trying to getMin.&quot;);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic T getMax() {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic T pop() {\r\n\t\tif(isEmpty()) {\r\n\t\t\tthrow new EmptyStackException(&quot;Stack is empty but trying to pop.&quot;);\r\n\t\t}else {\r\n\t\t\tT dataToReturn = top.data;\r\n\t\t\ttop = top.previous;\r\n\t\t\tsize -= 1;\r\n\t\t\treturn dataToReturn;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic T peek() {\r\n\t\tif(isEmpty()) {\r\n\t\t\tthrow new EmptyStackException(&quot;Stack is empty but trying to peek&quot;);\r\n\t\t}else {\r\n\t\t\treturn top.data;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void push(T newItem) {\r\n\t\tNode&lt;T&gt; newNode = new Node&lt;&gt;();\r\n\t\tnewNode.data = newItem;\r\n\t\tif(!isEmpty()) {\r\n\t\tnewNode.previous = top;\r\n\t\t}\r\n\t\ttop = newNode;\r\n\t\tsize += 1; \r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getSize() {\r\n\t\treturn size;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void clear() {\r\n\t\twhile(!isEmpty()) {\r\n\t\t\ttop = null;\r\n\t\t\tsize = 0;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEmpty() {\r\n\t\treturn size == 0;\r\n\t}\r\n\t\r\n}\r\n```","title":"How to write `getMin()` method for a linked stack class that extends Comparable? (Homework)","body":"<p>For this assignment I need to create a linked stack class that contains a <code>getMin()</code> and <code>getMax()</code>. I cannot change the class header which was provided by the instructor. Both <code>getMin</code> and <code>getMax</code> should be O(1) time.</p>\n<p>My thought is that I need to use the <code>compareTo</code> method to compare entries as they are pushed or poped so that I can set variables <code>minValue</code> and <code>maxValue</code> equal to their respective values. However, I don't understand the section in the class header <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code> nor do I know how or where to implement Comparable. I tried having my <code>class Node&lt;E&gt;</code> implement <code>Comparable</code> but it asked me to override the <code>compareTo</code> method and I'm not sure how that would work.</p>\n<p>Any help would be greatly appreciated! Below is my code for this assignment:</p>\n<pre><code>public class MinMaxStack &lt;T extends Comparable&lt;? super T&gt;&gt; implements StackADT&lt;T&gt; { \n    private Node&lt;T&gt; top;\n    private int size;\n    \n    public MinMaxStack() {\n        clear();\n    }\n    \n    private class Node&lt;E&gt;{\n        E data;\n        Node&lt;E&gt; previous;\n    }\n    \n    public T getMin() {     \n        if(isEmpty()) {\n            throw new EmptyCollectionException(&quot;The stack is empty but is trying to getMin.&quot;);\n        } else {\n            return null;\n        }\n    }\n    \n    public T getMax() {\n        return null;\n    }\n    \n    @Override\n    public T pop() {\n        if(isEmpty()) {\n            throw new EmptyStackException(&quot;Stack is empty but trying to pop.&quot;);\n        }else {\n            T dataToReturn = top.data;\n            top = top.previous;\n            size -= 1;\n            return dataToReturn;\n        }\n    }\n\n    @Override\n    public T peek() {\n        if(isEmpty()) {\n            throw new EmptyStackException(&quot;Stack is empty but trying to peek&quot;);\n        }else {\n            return top.data;\n        }\n    }\n\n    @Override\n    public void push(T newItem) {\n        Node&lt;T&gt; newNode = new Node&lt;&gt;();\n        newNode.data = newItem;\n        if(!isEmpty()) {\n        newNode.previous = top;\n        }\n        top = newNode;\n        size += 1; \n    }\n\n    @Override\n    public int getSize() {\n        return size;\n    }\n\n    @Override\n    public void clear() {\n        while(!isEmpty()) {\n            top = null;\n            size = 0;\n        }\n        \n    }\n\n    @Override\n    public boolean isEmpty() {\n        return size == 0;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","active-directory","ldap","domaincontroller"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1605268363,"post_id":64819099,"comment_id":114605154,"body_markdown":"Look into https://docs.ldap.com/ldap-sdk/docs/advantages/ease-of-use.html","body":"Look into <a href=\"https://docs.ldap.com/ldap-sdk/docs/advantages/ease-of-use.html\" rel=\"nofollow noreferrer\">docs.ldap.com/ldap-sdk/docs/advantages/ease-of-use.html</a>"},{"owner":{"account_id":19964845,"reputation":21,"user_id":14631672,"display_name":"karthik raja"},"score":0,"creation_date":1605498808,"post_id":64819099,"comment_id":114659618,"body_markdown":"Hi Susan,\nThanks for providing reference link.","body":"Hi Susan, Thanks for providing reference link."},{"owner":{"account_id":19964845,"reputation":21,"user_id":14631672,"display_name":"karthik raja"},"score":0,"creation_date":1605536271,"post_id":64819099,"comment_id":114672341,"body_markdown":"The question in we will be provided with only domain name and port details(example.com and 389).\nenv.put(Context.PROVIDER_URL, &quot;ldap://server.example.com:389/&quot;);\n\nWe have to identify the nearby server based on the domain name, so that we can pass it as ldap://server.example.com:389/ to create connection.","body":"The question in we will be provided with only domain name and port details(example.com and 389). env.put(Context.PROVIDER_URL, &quot;ldap://server.example.com:389/&quot;);  We have to identify the nearby server based on the domain name, so that we can pass it as ldap://server.example.com:389/ to create connection."}],"answers":[{"tags":[],"owner":{"account_id":19964845,"reputation":21,"user_id":14631672,"display_name":"karthik raja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642564369,"creation_date":1642564369,"answer_id":70765112,"question_id":64819099,"body_markdown":"To locate the domain controllers we can use LDAP queries(with site name) in java code.\r\n\r\nEx : srv _ldap._tcp.sitename._sites.example.net.local","title":"Locate closest domain controller using Java","body":"<p>To locate the domain controllers we can use LDAP queries(with site name) in java code.</p>\n<p>Ex : srv _ldap._tcp.sitename._sites.example.net.local</p>\n"},{"tags":[],"owner":{"account_id":35683,"reputation":7004,"user_id":101151,"accept_rate":43,"display_name":"jla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646272152,"creation_date":1646272152,"answer_id":71331215,"question_id":64819099,"body_markdown":"According to [Microsoft&#39;s How domain controllers are located in Windows][1], you can look up the LDAP SRV records of either of these forms:\r\n\r\n - _ldap._tcp.domainname\r\n - _ldap._tcp.dc._msdcs.domainname - this is karthik&#39;s sitename._sites example.\r\n\r\nE.g. nslookup -type=srv _ldap._tcp.company.int if your computer&#39;s FQDN is name.company.int.\r\n\r\nAt least where I&#39;m testing, it doesn&#39;t seem to give them with a weight or priority to indicate the closest. I found a similar question on ServerFault, [Finding closest Domain Controller through LDAP][2], that dives further into figuring out the closest.\r\n\r\nSee also [6.3.2.3 SRV Records][3]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/troubleshoot/windows-server/identity/how-domain-controllers-are-located\r\n  [2]: https://serverfault.com/questions/77947/finding-closest-domain-controller-through-ldap\r\n  [3]: https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/c1987d42-1847-4cc9-acf7-aab2136d6952","title":"Locate closest domain controller using Java","body":"<p>According to <a href=\"https://learn.microsoft.com/en-us/troubleshoot/windows-server/identity/how-domain-controllers-are-located\" rel=\"nofollow noreferrer\">Microsoft's How domain controllers are located in Windows</a>, you can look up the LDAP SRV records of either of these forms:</p>\n<ul>\n<li>_ldap._tcp.domainname</li>\n<li>_ldap._tcp.dc._msdcs.domainname - this is karthik's sitename._sites example.</li>\n</ul>\n<p>E.g. nslookup -type=srv _ldap._tcp.company.int if your computer's FQDN is name.company.int.</p>\n<p>At least where I'm testing, it doesn't seem to give them with a weight or priority to indicate the closest. I found a similar question on ServerFault, <a href=\"https://serverfault.com/questions/77947/finding-closest-domain-controller-through-ldap\">Finding closest Domain Controller through LDAP</a>, that dives further into figuring out the closest.</p>\n<p>See also <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/c1987d42-1847-4cc9-acf7-aab2136d6952\" rel=\"nofollow noreferrer\">6.3.2.3 SRV Records</a></p>\n"}],"owner":{"account_id":19964845,"reputation":21,"user_id":14631672,"display_name":"karthik raja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646272152,"creation_date":1605262445,"question_id":64819099,"body_markdown":"I have to connect Active Directory and fetch data based on the domain names. Using LDAP connection with Java.\r\nFor this I wanted to identify closest domain controller first. \r\nIs there any method or API available in Java to identify closest domain controller based on domain name?","title":"Locate closest domain controller using Java","body":"<p>I have to connect Active Directory and fetch data based on the domain names. Using LDAP connection with Java.\nFor this I wanted to identify closest domain controller first.\nIs there any method or API available in Java to identify closest domain controller based on domain name?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1646271887,"creation_date":1646271887,"answer_id":71331184,"question_id":71331091,"body_markdown":"Change:\r\n\r\n    for (int q = 1; q &lt;= PLAYERS; q++){\r\n        System.out.println(&quot;Hand &quot; + q);\r\n        for (int i = 0; i &lt; PLAYERS * CARDS_PER_PLAYER; i++) {\r\n            System.out.println(deck[i]);\r\n            if (i % CARDS_PER_PLAYER == CARDS_PER_PLAYER - 1)\r\n                System.out.println();\r\n    \r\n        }\r\n    }\r\n\r\nTo:\r\n\r\n    for (int q = 0; q &lt; PLAYERS; q++){\r\n        System.out.println(&quot;Hand &quot; + (q+1));\r\n        for (int i = 0; i &lt; CARDS_PER_PLAYER; i++) {\r\n            System.out.println(deck[(q * CARDS_PER_PLAYER) + i]);    \r\n        }\r\n        System.out.println();\r\n    }\r\n","title":"I need help adding something in a Deal Card programm","body":"<p>Change:</p>\n<pre><code>for (int q = 1; q &lt;= PLAYERS; q++){\n    System.out.println(&quot;Hand &quot; + q);\n    for (int i = 0; i &lt; PLAYERS * CARDS_PER_PLAYER; i++) {\n        System.out.println(deck[i]);\n        if (i % CARDS_PER_PLAYER == CARDS_PER_PLAYER - 1)\n            System.out.println();\n\n    }\n}\n</code></pre>\n<p>To:</p>\n<pre><code>for (int q = 0; q &lt; PLAYERS; q++){\n    System.out.println(&quot;Hand &quot; + (q+1));\n    for (int i = 0; i &lt; CARDS_PER_PLAYER; i++) {\n        System.out.println(deck[(q * CARDS_PER_PLAYER) + i]);    \n    }\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":24434976,"reputation":1,"user_id":18359365,"display_name":"DrolEvs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646307390,"accepted_answer_id":71331184,"answer_count":1,"score":-1,"last_activity_date":1646271887,"creation_date":1646270879,"question_id":71331091,"body_markdown":"I have this code which is almost done. I only need to add the hand humbers at the begininng of every deal. My problem is that they get repeated after the first one.\r\n\r\n\tpublic class Cards {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint CARDS_PER_PLAYER = 5;\r\n\t\t\t// number of players\r\n\t\t\tint PLAYERS = Integer.parseInt(args[0]);\r\n\r\n\t\t\tString[] SUITS = {\r\n\t\t\t\t&quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;\r\n\t\t\t};\r\n\r\n\t\t\tString[] RANKS = {\r\n\t\t\t\t&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;,\r\n\t\t\t\t&quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tint n = SUITS.length * RANKS.length;\r\n\r\n\t\t\tif (CARDS_PER_PLAYER * PLAYERS &gt; n)\r\n\t\t\t\tthrow new RuntimeException(&quot;Not enough cards&quot;);\r\n\r\n\r\n\t\t\t// initialize deck\r\n\t\t\tString[] deck = new String[n];\r\n\t\t\tfor (int i = 0; i &lt; RANKS.length; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; SUITS.length; j++) {\r\n\t\t\t\t\tdeck[SUITS.length*i + j] = RANKS[i] + &quot; of &quot; + SUITS[j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// shuffle\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tint r = i + (int) (Math.random() * (n-i));\r\n\t\t\t\tString temp = deck[r];\r\n\t\t\t\tdeck[r] = deck[i];\r\n\t\t\t\tdeck[i] = temp;\r\n\t\t\t}\r\n\r\n\t\t\t// print shuffled deck\r\n\t\t\t\r\n\t\t\tfor (int q = 1; q &lt;= PLAYERS; q++){\r\n\t\t\t\tSystem.out.println(&quot;Hand &quot; + q);\r\n\t\t\t\tfor (int i = 0; i &lt; PLAYERS * CARDS_PER_PLAYER; i++) {\r\n\t\t\t\t\tSystem.out.println(deck[i]);\r\n\t\t\t\t\tif (i % CARDS_PER_PLAYER == CARDS_PER_PLAYER - 1)\r\n\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"I need help adding something in a Deal Card programm","body":"<p>I have this code which is almost done. I only need to add the hand humbers at the begininng of every deal. My problem is that they get repeated after the first one.</p>\n<pre><code>public class Cards {\n\n    public static void main(String[] args) {\n        int CARDS_PER_PLAYER = 5;\n        // number of players\n        int PLAYERS = Integer.parseInt(args[0]);\n\n        String[] SUITS = {\n            &quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;\n        };\n\n        String[] RANKS = {\n            &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;,\n            &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;\n        };\n        \n        int n = SUITS.length * RANKS.length;\n\n        if (CARDS_PER_PLAYER * PLAYERS &gt; n)\n            throw new RuntimeException(&quot;Not enough cards&quot;);\n\n\n        // initialize deck\n        String[] deck = new String[n];\n        for (int i = 0; i &lt; RANKS.length; i++) {\n            for (int j = 0; j &lt; SUITS.length; j++) {\n                deck[SUITS.length*i + j] = RANKS[i] + &quot; of &quot; + SUITS[j];\n            }\n        }\n\n        // shuffle\n        for (int i = 0; i &lt; n; i++) {\n            int r = i + (int) (Math.random() * (n-i));\n            String temp = deck[r];\n            deck[r] = deck[i];\n            deck[i] = temp;\n        }\n\n        // print shuffled deck\n        \n        for (int q = 1; q &lt;= PLAYERS; q++){\n            System.out.println(&quot;Hand &quot; + q);\n            for (int i = 0; i &lt; PLAYERS * CARDS_PER_PLAYER; i++) {\n                System.out.println(deck[i]);\n                if (i % CARDS_PER_PLAYER == CARDS_PER_PLAYER - 1)\n                    System.out.println();\n        \n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1646269059,"post_id":71330935,"comment_id":126084165,"body_markdown":"&quot;Can I both have a cookie and not have a cookie&quot;? Obviously not. Either [A] add that constructor or [B] change the code in `main`.","body":"&quot;Can I both have a cookie and not have a cookie&quot;? Obviously not. Either [A] add that constructor or [B] change the code in <code>main</code>."},{"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"score":0,"creation_date":1646270274,"post_id":71330935,"comment_id":126084373,"body_markdown":"Just define `public Box(...) { }`. A constructor is not a method because it belongs to the class, not a specific instance of the class.","body":"Just define <code>public Box(...) { }</code>. A constructor is not a method because it belongs to the class, not a specific instance of the class."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646270999,"post_id":71330935,"comment_id":126084497,"body_markdown":"Define &#39;manipulate&#39;.","body":"Define &#39;manipulate&#39;."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1646271002,"post_id":71330935,"comment_id":126084498,"body_markdown":"You can&#39;t manipulate a constructor but you can have multiple constructors with a different set of arguments. Also, your class `Box` will always have atleast one default constructor, even when you don&#39;t  explicitly create one. This default constructor is defined implicitly as `public Box(){}` and has no arguments.","body":"You can&#39;t manipulate a constructor but you can have multiple constructors with a different set of arguments. Also, your class <code>Box</code> will always have atleast one default constructor, even when you don&#39;t  explicitly create one. This default constructor is defined implicitly as <code>public Box(){}</code> and has no arguments."},{"owner":{"account_id":1463408,"reputation":4327,"user_id":4660481,"accept_rate":50,"display_name":"GaspardP"},"score":0,"creation_date":1646276239,"post_id":71330935,"comment_id":126085392,"body_markdown":"The diagram you refer to for `Box` is part of the UML (Unified Modeling Language). It is not uncommon to include methods but skip constructors in Class Diagrams because they tend to be trivial. I would assume that you are allowed to implement a constructor in this exercise even though it does not appear in the diagram.","body":"The diagram you refer to for <code>Box</code> is part of the UML (Unified Modeling Language). It is not uncommon to include methods but skip constructors in Class Diagrams because they tend to be trivial. I would assume that you are allowed to implement a constructor in this exercise even though it does not appear in the diagram."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1646270554,"creation_date":1646270554,"answer_id":71331063,"question_id":71330935,"body_markdown":"The `Main` class you have been given will only work if the `Box` method has a `Box(double, double, double)` constructor.\r\n\r\nSo you **MUST** add one.\r\n\r\nThe apparent contradiction with the UML snippet is easy to explain.  UML class diagrams frequently don&#39;t show constructors.  My guess is that whoever created that diagram didn&#39;t want to clutter it with superfluous detail.\r\n\r\nBut here is the thing.  Irrespective of what the diagram says, your `Box` class **cannot** work with that `Main` class unless the `Box` class provides the constructors that the `main` method is going to use.\r\n\r\n-------------------\r\n\r\nTo answer the question in the title\r\n\r\n&gt; Is there any way to manipulate a constructor in Java?\r\n\r\nNo there isn&#39;t.  At least ... not in the sense that I think you mean.\r\n\r\n&lt;sup&gt;In theory, you could use &quot;byte code manipulation&quot; tricks to inject an extra constructor after compilation, but that would be the wrong solution in this context.&lt;/sup&gt;\r\n\r\n","title":"Is there any way to manipulate a constructor in Java?","body":"<p>The <code>Main</code> class you have been given will only work if the <code>Box</code> method has a <code>Box(double, double, double)</code> constructor.</p>\n<p>So you <strong>MUST</strong> add one.</p>\n<p>The apparent contradiction with the UML snippet is easy to explain.  UML class diagrams frequently don't show constructors.  My guess is that whoever created that diagram didn't want to clutter it with superfluous detail.</p>\n<p>But here is the thing.  Irrespective of what the diagram says, your <code>Box</code> class <strong>cannot</strong> work with that <code>Main</code> class unless the <code>Box</code> class provides the constructors that the <code>main</code> method is going to use.</p>\n<hr />\n<p>To answer the question in the title</p>\n<blockquote>\n<p>Is there any way to manipulate a constructor in Java?</p>\n</blockquote>\n<p>No there isn't.  At least ... not in the sense that I think you mean.</p>\n<p><sup>In theory, you could use &quot;byte code manipulation&quot; tricks to inject an extra constructor after compilation, but that would be the wrong solution in this context.</sup></p>\n"}],"owner":{"account_id":24434596,"reputation":3,"user_id":18359023,"display_name":"KickCrush10"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71331063,"answer_count":1,"score":-1,"last_activity_date":1646270554,"creation_date":1646269017,"question_id":71330935,"body_markdown":"I&#39;m currently working on my assignment and I&#39;m stuck rn. The task is to create a program based on this [diagram][1]. In that diagram, as you can see, there is no behavior for creating constructors, but in the given [Main Class][2] there is. Is there a way to create a program without changing the given Main Class and not creating new methods in addition to the given diagram. The program is to calculate density. Help : )\r\n\r\nThis is my Box class code:\r\n```\r\nclass Box {\r\n    private double width;\r\n    private double height;\r\n    private double depth;\r\n    private double mass;\r\n    private double density;\r\n\r\n\r\n    public void setWidth(double width){\r\n        this.width = width;\r\n    }\r\n\r\n    public void setHeight(double height){\r\n        this.height = height;\r\n    }\r\n\r\n    public void setDepth(double depth){\r\n        this.depth = depth;\r\n    }\r\n\r\n    public void setMass(double mass){\r\n        this.mass = mass;\r\n    }\r\n\r\n    public double getDensity(){\r\n        density = mass / (width * height * depth);\r\n        return density;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/9ePcJ.png\r\n  [2]: https://i.stack.imgur.com/vF2iA.png","title":"Is there any way to manipulate a constructor in Java?","body":"<p>I'm currently working on my assignment and I'm stuck rn. The task is to create a program based on this <a href=\"https://i.stack.imgur.com/9ePcJ.png\" rel=\"nofollow noreferrer\">diagram</a>. In that diagram, as you can see, there is no behavior for creating constructors, but in the given <a href=\"https://i.stack.imgur.com/vF2iA.png\" rel=\"nofollow noreferrer\">Main Class</a> there is. Is there a way to create a program without changing the given Main Class and not creating new methods in addition to the given diagram. The program is to calculate density. Help : )</p>\n<p>This is my Box class code:</p>\n<pre><code>class Box {\n    private double width;\n    private double height;\n    private double depth;\n    private double mass;\n    private double density;\n\n\n    public void setWidth(double width){\n        this.width = width;\n    }\n\n    public void setHeight(double height){\n        this.height = height;\n    }\n\n    public void setDepth(double depth){\n        this.depth = depth;\n    }\n\n    public void setMass(double mass){\n        this.mass = mass;\n    }\n\n    public double getDensity(){\n        density = mass / (width * height * depth);\n        return density;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","string","split"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1646268972,"creation_date":1646225830,"answer_id":71323098,"question_id":71323034,"body_markdown":"The argument to `split` is a __regular expression__, not a literal &#39;this is the string you should scan for&#39;. The `.` symbol in regex means &#39;anything&#39;, so it&#39;s like `&quot;   &quot;.split(&quot; &quot;)` - the string you&#39;re passing is all separators, hence, you get no output.\r\n\r\n`.split(Pattern.quote(&quot;.&quot;))` will take care of it.\r\n\r\nEDIT: To go in some detail - given that the string consists of all separators, split initially provides you with an array filled with empty strings; one for each position &#39;in between&#39; any character (as each character is a separator). However, by default `split` will strip all empty strings off of the end, hence you end up with a 0-length string array.","title":"Why this .split resulting in array out of bound error?","body":"<p>The argument to <code>split</code> is a <strong>regular expression</strong>, not a literal 'this is the string you should scan for'. The <code>.</code> symbol in regex means 'anything', so it's like <code>&quot;   &quot;.split(&quot; &quot;)</code> - the string you're passing is all separators, hence, you get no output.</p>\n<p><code>.split(Pattern.quote(&quot;.&quot;))</code> will take care of it.</p>\n<p>EDIT: To go in some detail - given that the string consists of all separators, split initially provides you with an array filled with empty strings; one for each position 'in between' any character (as each character is a separator). However, by default <code>split</code> will strip all empty strings off of the end, hence you end up with a 0-length string array.</p>\n"}],"owner":{"account_id":15027272,"reputation":79,"user_id":10846653,"display_name":"Narasima.Codes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1646226628,"accepted_answer_id":71323098,"answer_count":1,"score":3,"last_activity_date":1646268972,"creation_date":1646225588,"question_id":71323034,"body_markdown":"```\r\npublic class test {\r\n    public static void main(String[] args) {\t\t\r\n    \tString[] arr = {&quot;0 1.2.3.4&quot;,&quot;a b.c.d.e&quot;};\r\n    \tSystem.out.println(arr[0].split(&quot;.&quot;)[2]);\r\n    }\r\n}\r\n```\r\n\r\nI am using java 8.\r\n\r\nthe expected output is **3**.\r\n\r\n","title":"Why this .split resulting in array out of bound error?","body":"<pre><code>public class test {\n    public static void main(String[] args) {        \n        String[] arr = {&quot;0 1.2.3.4&quot;,&quot;a b.c.d.e&quot;};\n        System.out.println(arr[0].split(&quot;.&quot;)[2]);\n    }\n}\n</code></pre>\n<p>I am using java 8.</p>\n<p>the expected output is <strong>3</strong>.</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":2,"creation_date":1646255993,"post_id":71329228,"comment_id":126081155,"body_markdown":"Add &#39;A&#39;, intead of &#39;a&#39;. I don&#39;t really understand your question, do you want a mix of lower-upper case?","body":"Add &#39;A&#39;, intead of &#39;a&#39;. I don&#39;t really understand your question, do you want a mix of lower-upper case?"},{"owner":{"account_id":24204705,"reputation":1,"user_id":18162078,"display_name":"Leksus"},"score":0,"creation_date":1646256108,"post_id":71329228,"comment_id":126081182,"body_markdown":"yes I want to make a mix of both","body":"yes I want to make a mix of both"}],"answers":[{"tags":[],"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646262867,"creation_date":1646256218,"answer_id":71329310,"question_id":71329228,"body_markdown":"You can randomize upper and lower-cases as well. Something like this:\r\n\r\n    public static void fillSpecialMatrice(char[][] matrice) {\r\n        Random random = new Random();\r\n            for(int i = 0; i &lt; matrice.length; i++) {\r\n                for(int j = 0; j &lt; matrice.length-i; j++) {\r\n                       case_int = random.nextInt(2);\r\n                       case_char = (case_int == 0 ) ? &#39;a&#39; : &#39;A&#39;;\r\n                       matrice[i][j] = (char) (random.nextInt(26) + case_char);\r\n         }\r\n        }\r\n      }","title":"How to fill a matrix with uppercase AND lowercase characters","body":"<p>You can randomize upper and lower-cases as well. Something like this:</p>\n<pre><code>public static void fillSpecialMatrice(char[][] matrice) {\n    Random random = new Random();\n        for(int i = 0; i &lt; matrice.length; i++) {\n            for(int j = 0; j &lt; matrice.length-i; j++) {\n                   case_int = random.nextInt(2);\n                   case_char = (case_int == 0 ) ? 'a' : 'A';\n                   matrice[i][j] = (char) (random.nextInt(26) + case_char);\n     }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":24204705,"reputation":1,"user_id":18162078,"display_name":"Leksus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1646268689,"creation_date":1646255784,"question_id":71329228,"body_markdown":"Hello and thank you for reading this. I have written code that fills a 2d triangular array, but it only fills with lower case letters. How do I get it to also fill with uppercase letters? \r\n\r\nHere is a small part of the code:\r\n\r\n    public static void fillSpecialMatrice(char[][] matrice) {\r\n       Random random = new Random();\r\n       for(int i = 0; i &lt; matrice.length; i++) {\r\n          for(int j = 0; j &lt; matrice.length-i; j++) {\r\n             matrice[i][j] = (char) (random.nextInt(26) + &#39;a&#39;);\r\n          }\r\n       }\r\n    }\r\n\r\nHow the triangular matrix looks when printed:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5FqC.png","title":"How to fill a matrix with uppercase AND lowercase characters","body":"<p>Hello and thank you for reading this. I have written code that fills a 2d triangular array, but it only fills with lower case letters. How do I get it to also fill with uppercase letters?</p>\n<p>Here is a small part of the code:</p>\n<pre><code>public static void fillSpecialMatrice(char[][] matrice) {\n   Random random = new Random();\n   for(int i = 0; i &lt; matrice.length; i++) {\n      for(int j = 0; j &lt; matrice.length-i; j++) {\n         matrice[i][j] = (char) (random.nextInt(26) + 'a');\n      }\n   }\n}\n</code></pre>\n<p>How the triangular matrix looks when printed:</p>\n<p><a href=\"https://i.stack.imgur.com/B5FqC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5FqC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","excel","multidimensional-array","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":6318535,"reputation":63,"user_id":4907574,"display_name":"Damian W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646267470,"creation_date":1646267470,"answer_id":71330789,"question_id":71327097,"body_markdown":"You need to change index in the 1st loop to 0 (first field in excel file)\r\nbut in row you must provide index + 1 bc you need to read from the 2nd field.\r\nSame analogy for 2nd loop and cell field\r\n```\r\n\r\n Workbook workbook = new XSSFWorkbook(new File(&quot;d:\\\\book1.xlsx&quot;));\r\n        Sheet firstSheet = workbook.getSheetAt(1);\r\n        int numRows = 3;\r\n        int cols = 5;\r\n        double[][] excelData = new double[numRows][cols];\r\n        for (int i = 0; i &lt; numRows; i++) {\r\n            Row row = firstSheet.getRow(i + 1);\r\n            if (row != null) {\r\n                for (int j = 0; j &lt; cols; j++) {\r\n                    Cell cell = row.getCell(j + 1);\r\n                    if (cell != null) {\r\n                        try {\r\n                            if (cell.getCellType().equals(CellType.NUMERIC)) {\r\n                                excelData[i][j] = Double.valueOf(cell.getNumericCellValue());\r\n                            }\r\n                        } catch (IllegalStateException e) {\r\n                            System.out.println(&quot;Cell data is not a double&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        workbook.close();\r\n\r\n```\r\nReturned result for it:\r\n\r\n    0.041256 0.033079 -0.01138 -0.02138 -0.01138 \r\n    0.041256 0.033079 -0.01138 -0.01138 -0.01138 \r\n    0.020628 0.01654 -0.00569 -0.10569 -0.00569 ","title":"Reading 2D double array in Excel Using Apache POI","body":"<p>You need to change index in the 1st loop to 0 (first field in excel file)\nbut in row you must provide index + 1 bc you need to read from the 2nd field.\nSame analogy for 2nd loop and cell field</p>\n<pre><code>\n Workbook workbook = new XSSFWorkbook(new File(&quot;d:\\\\book1.xlsx&quot;));\n        Sheet firstSheet = workbook.getSheetAt(1);\n        int numRows = 3;\n        int cols = 5;\n        double[][] excelData = new double[numRows][cols];\n        for (int i = 0; i &lt; numRows; i++) {\n            Row row = firstSheet.getRow(i + 1);\n            if (row != null) {\n                for (int j = 0; j &lt; cols; j++) {\n                    Cell cell = row.getCell(j + 1);\n                    if (cell != null) {\n                        try {\n                            if (cell.getCellType().equals(CellType.NUMERIC)) {\n                                excelData[i][j] = Double.valueOf(cell.getNumericCellValue());\n                            }\n                        } catch (IllegalStateException e) {\n                            System.out.println(&quot;Cell data is not a double&quot;);\n                        }\n                    }\n                }\n            }\n        }\n        workbook.close();\n\n</code></pre>\n<p>Returned result for it:</p>\n<pre><code>0.041256 0.033079 -0.01138 -0.02138 -0.01138 \n0.041256 0.033079 -0.01138 -0.01138 -0.01138 \n0.020628 0.01654 -0.00569 -0.10569 -0.00569 \n</code></pre>\n"}],"owner":{"account_id":15177550,"reputation":3,"user_id":18356313,"display_name":"user637300"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71330789,"answer_count":1,"score":0,"last_activity_date":1646267470,"creation_date":1646243496,"question_id":71327097,"body_markdown":"I am trying to make use of Apache POI to read an excel file and convert it to a 2-dimensional object array. Attached is the code section.\r\n\r\n\r\n        Workbook workbook = new XSSFWorkbook(inputStream);\r\n        Sheet firstSheet = workbook.getSheetAt(1);\r\n        int numRows = 3;\r\n        int cols = 5;\r\n        double[][] excelData = new double[numRows][cols];\r\n        for (int i = 1; i &lt; numRows; i++) {\r\n            Row row = firstSheet.getRow(i);\r\n            if (row != null) {\r\n                for (int j = 1; j &lt; cols; j++) {\r\n                    Cell cell = row.getCell(j);\r\n                    if (cell != null) {\r\n                        try {\r\n                            excelData[i][j] = cell.getNumericCellValue();\r\n                        } catch (IllegalStateException e) {\r\n                            System.out.println(&quot;Cell data is not a double&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        workbook.close();\r\n        inputStream.close();\r\n        return excelData;\r\n    }\r\n\r\n[enter image description here][1] This is my excel sheet and I want to &quot;just&quot; read the blue part of it as a 2d array, but after running the code the first row and column all are zero and I don&#39;t want it, appreciate your help on how can quickly pull out all the zeros  [enter image description here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xneXu.png\r\n  [2]: https://i.stack.imgur.com/d64ZP.png","title":"Reading 2D double array in Excel Using Apache POI","body":"<p>I am trying to make use of Apache POI to read an excel file and convert it to a 2-dimensional object array. Attached is the code section.</p>\n<pre><code>    Workbook workbook = new XSSFWorkbook(inputStream);\n    Sheet firstSheet = workbook.getSheetAt(1);\n    int numRows = 3;\n    int cols = 5;\n    double[][] excelData = new double[numRows][cols];\n    for (int i = 1; i &lt; numRows; i++) {\n        Row row = firstSheet.getRow(i);\n        if (row != null) {\n            for (int j = 1; j &lt; cols; j++) {\n                Cell cell = row.getCell(j);\n                if (cell != null) {\n                    try {\n                        excelData[i][j] = cell.getNumericCellValue();\n                    } catch (IllegalStateException e) {\n                        System.out.println(&quot;Cell data is not a double&quot;);\n                    }\n                }\n            }\n        }\n    }\n    workbook.close();\n    inputStream.close();\n    return excelData;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xneXu.png\" rel=\"nofollow noreferrer\">enter image description here</a> This is my excel sheet and I want to &quot;just&quot; read the blue part of it as a 2d array, but after running the code the first row and column all are zero and I don't want it, appreciate your help on how can quickly pull out all the zeros  <a href=\"https://i.stack.imgur.com/d64ZP.png\" rel=\"nofollow noreferrer\">enter image description here</a>.</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1646108337,"post_id":71303524,"comment_id":126036936,"body_markdown":"And why is there a `,` after `&#39;1.0.11.RELEASE&#39;` ??","body":"And why is there a <code>,</code> after <code>&#39;1.0.11.RELEASE&#39;</code> ??"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1646267332,"post_id":71303524,"comment_id":126083885,"body_markdown":"Sorry. My mistake when typing the question. I don&#39;t have a comma in my code. I removed it to avoid further confusion","body":"Sorry. My mistake when typing the question. I don&#39;t have a comma in my code. I removed it to avoid further confusion"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646267411,"creation_date":1646106524,"question_id":71303524,"body_markdown":"I am using the `io.spring.dependency-management` Gradle plugin in all our work builds and never had an issue with it. It just works.\r\nHere are parts of my local setup:\r\n\r\n    build.gradle:\r\n\r\n    plugins {\r\n        ...\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        ...\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &#39;org.springframework.cloud:spring-cloud-dependencies:Hoxton.SR8&#39;\r\n        }\r\n    }\r\n\r\n    settings.gradle:\r\n    \r\n    pluginManagement {\r\n    resolutionStrategy {\r\n        eachPlugin {\r\n            switch (requested.id.id) {\r\n            ...\r\n                case &#39;io.spring.dependency-management&#39;:\r\n                    useModule(&quot;io.spring.gradle:dependency-management-plugin:${requested.version}&quot;)\r\n                    break\r\n            ...\r\n\r\nWhen I try to build I can see in the logs:\r\n\r\n    Apply plugin io.spring.dependency-management to root project &#39;my-project&#39; completed\r\n    ...\r\n    [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; A problem occurred evaluating root project &#39;my-project&#39;\r\n    [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; No signature of method: build_97hpysomemorerandomshere.dependencyManagement() is applicable for argument types: (build_97hpysomemorerandomshere$_run_closure4) values: [build_97hpysomemorerandomshere$_run_closure4@2d5aa553]\r\n\r\nTo me this is just telling me the dependency-management has not been applied and such the functions coming with that plugin are not accessible. \r\n\r\nI look at the spellings until I got tired and I am a bit out of ideas about what I am doing wrong.\r\n\r\nThank you in advance for your help.\r\n ","title":"Unable to apply io.spring.dependency-management Gradle plugin","body":"<p>I am using the <code>io.spring.dependency-management</code> Gradle plugin in all our work builds and never had an issue with it. It just works.\nHere are parts of my local setup:</p>\n<pre><code>build.gradle:\n\nplugins {\n    ...\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    ...\n}\nrepositories {\n    mavenCentral()\n}\ndependencyManagement {\n    imports {\n        mavenBom 'org.springframework.cloud:spring-cloud-dependencies:Hoxton.SR8'\n    }\n}\n\nsettings.gradle:\n\npluginManagement {\nresolutionStrategy {\n    eachPlugin {\n        switch (requested.id.id) {\n        ...\n            case 'io.spring.dependency-management':\n                useModule(&quot;io.spring.gradle:dependency-management-plugin:${requested.version}&quot;)\n                break\n        ...\n</code></pre>\n<p>When I try to build I can see in the logs:</p>\n<pre><code>Apply plugin io.spring.dependency-management to root project 'my-project' completed\n...\n[ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; A problem occurred evaluating root project 'my-project'\n[ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; No signature of method: build_97hpysomemorerandomshere.dependencyManagement() is applicable for argument types: (build_97hpysomemorerandomshere$_run_closure4) values: [build_97hpysomemorerandomshere$_run_closure4@2d5aa553]\n</code></pre>\n<p>To me this is just telling me the dependency-management has not been applied and such the functions coming with that plugin are not accessible.</p>\n<p>I look at the spellings until I got tired and I am a bit out of ideas about what I am doing wrong.</p>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","maven","cucumber","cucumber-java","cucumber-junit"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1646261238,"post_id":71328780,"comment_id":126082581,"body_markdown":"You may need to add some braces to indicate which clauses go together.","body":"You may need to add some braces to indicate which clauses go together."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1646261300,"post_id":71328780,"comment_id":126082593,"body_markdown":"So something like `@tag1 and @tag2 and not (@ignore or @issue)`","body":"So something like <code>@tag1 and @tag2 and not (@ignore or @issue)</code>"}],"answers":[{"tags":[],"owner":{"account_id":6349700,"reputation":311,"user_id":4929164,"accept_rate":82,"display_name":"Lea2501"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646266372,"creation_date":1646266372,"answer_id":71330687,"question_id":71328780,"body_markdown":"Solved! thanks to M.P.Korstanje\r\n\r\nThe correct way to use the tags for multiple exclution is this:\r\n\r\n    mvn clean test -Dcucumber.filter.tags=&quot;@tag1 and @tag2 and not (@ignore or @issue)&quot;","title":"Excluding several different scenarios in cucumber feature file with tags","body":"<p>Solved! thanks to M.P.Korstanje</p>\n<p>The correct way to use the tags for multiple exclution is this:</p>\n<pre><code>mvn clean test -Dcucumber.filter.tags=&quot;@tag1 and @tag2 and not (@ignore or @issue)&quot;\n</code></pre>\n"}],"owner":{"account_id":6349700,"reputation":311,"user_id":4929164,"accept_rate":82,"display_name":"Lea2501"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646266372,"creation_date":1646253067,"question_id":71328780,"body_markdown":"i have several cucumber scenarios with issues (tagged as @issue) on them and others that i plainly want to ignore due to several reasons (tagged as @ignore).\r\n\r\nI made a separate jenkins job, that only runs the scenarios that have the &quot;@issue&quot; tag on them, but i want to exclude those from the normal executions jobs, but i also want to exclude the scenarios marked with the &quot;@ignore&quot; tag.\r\n\r\nI tried the following with no success, given the following example:\r\n\r\n      @tag1 @tag2 @severity=critical @issue @ignore\r\n      Escenario: Scenario name\r\n        Given The user is in some place\r\n        When The user do something\r\n        Then The user successfully achieved it\r\n\r\nI run with the following command:\r\n\r\n    mvn clean test -Dcucumber.filter.tags=&quot;@tag1 and @tag2 and not @ignore or @issue&quot;\r\n\r\nbut i got all test running, even the @ignore and @issue ones","title":"Excluding several different scenarios in cucumber feature file with tags","body":"<p>i have several cucumber scenarios with issues (tagged as @issue) on them and others that i plainly want to ignore due to several reasons (tagged as @ignore).</p>\n<p>I made a separate jenkins job, that only runs the scenarios that have the &quot;@issue&quot; tag on them, but i want to exclude those from the normal executions jobs, but i also want to exclude the scenarios marked with the &quot;@ignore&quot; tag.</p>\n<p>I tried the following with no success, given the following example:</p>\n<pre><code>  @tag1 @tag2 @severity=critical @issue @ignore\n  Escenario: Scenario name\n    Given The user is in some place\n    When The user do something\n    Then The user successfully achieved it\n</code></pre>\n<p>I run with the following command:</p>\n<pre><code>mvn clean test -Dcucumber.filter.tags=&quot;@tag1 and @tag2 and not @ignore or @issue&quot;\n</code></pre>\n<p>but i got all test running, even the @ignore and @issue ones</p>\n"},{"tags":["java","javafx","netbeans","jakarta-mail"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646194054,"post_id":71313332,"comment_id":126060716,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1646269531,"post_id":71313332,"comment_id":126084249,"body_markdown":"NetBeans 12.0 does not support Java 17, so whatever other problems you may have, you must address that. The easiest resolution is to [download and install NetBeans 12.6](https://netbeans.apache.org/download/nb126/nb126.html), which does support Java 17. You can leave NetBeans 12.0 installed for now, since each version of NetBeans is completely independent of any others. If you still have problems when running on NetBeans 12.6 with JDK 17 then update your question accordingly. Otherwise, post an answer to your question, detailing the resolution.","body":"NetBeans 12.0 does not support Java 17, so whatever other problems you may have, you must address that. The easiest resolution is to <a href=\"https://netbeans.apache.org/download/nb126/nb126.html\" rel=\"nofollow noreferrer\">download and install NetBeans 12.6</a>, which does support Java 17. You can leave NetBeans 12.0 installed for now, since each version of NetBeans is completely independent of any others. If you still have problems when running on NetBeans 12.6 with JDK 17 then update your question accordingly. Otherwise, post an answer to your question, detailing the resolution."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646266055,"creation_date":1646179895,"answer_id":71316031,"question_id":71313332,"body_markdown":"*Include the Jakarta Activation library*\r\n\r\nJakarta Mail is the modern packaging for Java mail.\r\n\r\nSee the [Jakarta Mail readme](https://eclipse-ee4j.github.io/mail/docs/README.txt):\r\n\r\n&gt; Jakarta Mail requires Jakarta Activation 2.0.0 or newer.\r\n\r\n[Jakarta Activation website](https://eclipse-ee4j.github.io/jaf/#:~:text=Jakarta%20Activation%201%20Jakarta%20Activation.%20Jakarta%20Activation%20lets,...%206%20Bugs.%20...%207%20Development%20Releases.%20) and [download](https://github.com/eclipse-ee4j/jaf/releases).\r\n\r\nIf you use a build tool (highly recommended), such as Maven or Gradle, it will likely already add a transitive dependency on Jakarta activation to your build when you add the Jakarta mail dependency.  If it doesn’t, then add the dependency yourself.\r\n\r\n*If you have additional issues*\r\n\r\nUse recent versions of all software, JDK/JavaFX 17.0.2+, JakartaMail 2.0.1+. See:\r\n\r\n * [JakartaMail release downloads](https://eclipse-ee4j.github.io/mail/#Download_Jakarta_Mail_Release).\r\n\r\nAlso, see [jakarta mail compatability notes](https://eclipse-ee4j.github.io/mail/docs/COMPAT.txt)\r\n\r\n &gt; In this release the name of that module is changed to &quot;jakarta.mail&quot;.\r\n\r\nSo use `jakarta.mail` in your `module-info.Java` when requiring the module \r\n\r\nOR\r\n\r\nPlace `jakarta.mail` in your `--add-module` switch, if adding modules via command line switches instead of `module-info.java`.\r\n\r\n**Example App**\r\n\r\nThe following app compiles and runs but will fail when trying to send mail due to incorrect authentication, however, I think it demonstrates how to fix the issues with class resolution asked in the question.\r\n\r\nThings it does:\r\n\r\n 1. `requires jakarta.mail` in the module-info.\r\n\r\n 2. Adds a dependency on jakarta mail in the pom.xml.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n 3. An explicit dependency on the jakarta activation framework library is not needed as it brought it via a transitive dependency on jakarta.mail.\r\n\r\n 4. Changes the imports to use the jakarta.mail package instead of the java.mail package.\r\n\r\n 5. Makes minor changes to the example from the question to allow it to compile and run.\r\n\r\n*module-info.java*\r\n\r\n    module com.example.maildemo {\r\n        requires javafx.controls;\r\n        requires jakarta.mail;\r\n    \r\n        exports com.example.maildemo;\r\n    }\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mail-demo&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;mail-demo&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*MailDemoApp.java*\r\n\r\n    package com.example.maildemo;\r\n    \r\n    import jakarta.mail.*;\r\n    import jakarta.mail.internet.InternetAddress;\r\n    import jakarta.mail.internet.MimeMessage;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class MailDemoApp extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Button sendMailButton = new Button(&quot;Send mail&quot;);\r\n            sendMailButton.setOnAction(e -&gt; enviarMail(&quot;example1@gmail.com&quot;));\r\n            stage.setScene(new Scene(sendMailButton));\r\n            stage.show();\r\n        }\r\n    \r\n        private void enviarMail(String destinatario) {\r\n            String remitente = &quot;127.0.0.1&quot;;\r\n            String asunto = &quot;enviar correo de confirmacion&quot;;\r\n            String cuerpo = &quot;mensaje a enviar&quot;;\r\n            String clv = &quot;1234&quot;;\r\n    \r\n            Properties props = System.getProperties();\r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            props.put(&quot;mail.smtp.user&quot;, remitente);\r\n            props.put(&quot;mail.smtp.clave&quot;, clv);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n    \r\n            MyAuthenticator aut = new MyAuthenticator(remitente, clv);\r\n            Session session = Session.getInstance(props, aut);\r\n            MimeMessage mm = new MimeMessage(session);\r\n    \r\n            try {\r\n                mm.setFrom(new InternetAddress(remitente));\r\n                mm.addRecipients(Message.RecipientType.TO, destinatario);\r\n                mm.setSubject(asunto);\r\n                mm.setText(cuerpo);\r\n    \r\n                try (Transport transport = session.getTransport(&quot;smtp&quot;)) {\r\n                    transport.connect(&quot;smtp.gmail.com&quot;, remitente, clv);\r\n                    transport.sendMessage(mm, mm.getAllRecipients());\r\n                }\r\n            } catch (MessagingException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n    \r\n    class MyAuthenticator extends Authenticator {\r\n        private String smtp_usuario = &quot;&quot;;\r\n        private String smtp_pass = &quot;&quot;;\r\n    \r\n        MyAuthenticator(String user, String pass) {\r\n            this.smtp_usuario = user;\r\n            this.smtp_pass = pass;\r\n        }\r\n    \r\n        @Override\r\n        public PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication(this.smtp_usuario,\r\n                    this.smtp_pass);\r\n        }\r\n    }\r\n\r\n*Maven dependency tree*\r\n\r\n    [INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ mail-demo ---\r\n    [INFO] com.example:mail-demo:jar:1.0-SNAPSHOT\r\n    [INFO] +- org.openjfx:javafx-controls:jar:17.0.2:compile\r\n    [INFO] |  +- org.openjfx:javafx-controls:jar:win:17.0.2:compile\r\n    [INFO] |  \\- org.openjfx:javafx-graphics:jar:17.0.2:compile\r\n    [INFO] |     +- org.openjfx:javafx-graphics:jar:win:17.0.2:compile\r\n    [INFO] |     \\- org.openjfx:javafx-base:jar:17.0.2:compile\r\n    [INFO] |        \\- org.openjfx:javafx-base:jar:win:17.0.2:compile\r\n    [INFO] \\- com.sun.mail:jakarta.mail:jar:2.0.1:compile\r\n    [INFO]    \\- com.sun.activation:jakarta.activation:jar:2.0.1:compile\r\n\r\n","title":"Exception: java.lang.NoClassDefFoundError: javax/activation/DataHandler","body":"<p><em>Include the Jakarta Activation library</em></p>\n<p>Jakarta Mail is the modern packaging for Java mail.</p>\n<p>See the <a href=\"https://eclipse-ee4j.github.io/mail/docs/README.txt\" rel=\"nofollow noreferrer\">Jakarta Mail readme</a>:</p>\n<blockquote>\n<p>Jakarta Mail requires Jakarta Activation 2.0.0 or newer.</p>\n</blockquote>\n<p><a href=\"https://eclipse-ee4j.github.io/jaf/#:%7E:text=Jakarta%20Activation%201%20Jakarta%20Activation.%20Jakarta%20Activation%20lets,...%206%20Bugs.%20...%207%20Development%20Releases.%20\" rel=\"nofollow noreferrer\">Jakarta Activation website</a> and <a href=\"https://github.com/eclipse-ee4j/jaf/releases\" rel=\"nofollow noreferrer\">download</a>.</p>\n<p>If you use a build tool (highly recommended), such as Maven or Gradle, it will likely already add a transitive dependency on Jakarta activation to your build when you add the Jakarta mail dependency.  If it doesn’t, then add the dependency yourself.</p>\n<p><em>If you have additional issues</em></p>\n<p>Use recent versions of all software, JDK/JavaFX 17.0.2+, JakartaMail 2.0.1+. See:</p>\n<ul>\n<li><a href=\"https://eclipse-ee4j.github.io/mail/#Download_Jakarta_Mail_Release\" rel=\"nofollow noreferrer\">JakartaMail release downloads</a>.</li>\n</ul>\n<p>Also, see <a href=\"https://eclipse-ee4j.github.io/mail/docs/COMPAT.txt\" rel=\"nofollow noreferrer\">jakarta mail compatability notes</a></p>\n<blockquote>\n<p>In this release the name of that module is changed to &quot;jakarta.mail&quot;.</p>\n</blockquote>\n<p>So use <code>jakarta.mail</code> in your <code>module-info.Java</code> when requiring the module</p>\n<p>OR</p>\n<p>Place <code>jakarta.mail</code> in your <code>--add-module</code> switch, if adding modules via command line switches instead of <code>module-info.java</code>.</p>\n<p><strong>Example App</strong></p>\n<p>The following app compiles and runs but will fail when trying to send mail due to incorrect authentication, however, I think it demonstrates how to fix the issues with class resolution asked in the question.</p>\n<p>Things it does:</p>\n<ol>\n<li><p><code>requires jakarta.mail</code> in the module-info.</p>\n</li>\n<li><p>Adds a dependency on jakarta mail in the pom.xml.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>An explicit dependency on the jakarta activation framework library is not needed as it brought it via a transitive dependency on jakarta.mail.</p>\n</li>\n<li><p>Changes the imports to use the jakarta.mail package instead of the java.mail package.</p>\n</li>\n<li><p>Makes minor changes to the example from the question to allow it to compile and run.</p>\n</li>\n</ol>\n<p><em>module-info.java</em></p>\n<pre><code>module com.example.maildemo {\n    requires javafx.controls;\n    requires jakarta.mail;\n\n    exports com.example.maildemo;\n}\n</code></pre>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mail-demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mail-demo&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>MailDemoApp.java</em></p>\n<pre><code>package com.example.maildemo;\n\nimport jakarta.mail.*;\nimport jakarta.mail.internet.InternetAddress;\nimport jakarta.mail.internet.MimeMessage;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.stage.Stage;\n\nimport java.util.Properties;\n\npublic class MailDemoApp extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Button sendMailButton = new Button(&quot;Send mail&quot;);\n        sendMailButton.setOnAction(e -&gt; enviarMail(&quot;example1@gmail.com&quot;));\n        stage.setScene(new Scene(sendMailButton));\n        stage.show();\n    }\n\n    private void enviarMail(String destinatario) {\n        String remitente = &quot;127.0.0.1&quot;;\n        String asunto = &quot;enviar correo de confirmacion&quot;;\n        String cuerpo = &quot;mensaje a enviar&quot;;\n        String clv = &quot;1234&quot;;\n\n        Properties props = System.getProperties();\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        props.put(&quot;mail.smtp.user&quot;, remitente);\n        props.put(&quot;mail.smtp.clave&quot;, clv);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n\n        MyAuthenticator aut = new MyAuthenticator(remitente, clv);\n        Session session = Session.getInstance(props, aut);\n        MimeMessage mm = new MimeMessage(session);\n\n        try {\n            mm.setFrom(new InternetAddress(remitente));\n            mm.addRecipients(Message.RecipientType.TO, destinatario);\n            mm.setSubject(asunto);\n            mm.setText(cuerpo);\n\n            try (Transport transport = session.getTransport(&quot;smtp&quot;)) {\n                transport.connect(&quot;smtp.gmail.com&quot;, remitente, clv);\n                transport.sendMessage(mm, mm.getAllRecipients());\n            }\n        } catch (MessagingException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\nclass MyAuthenticator extends Authenticator {\n    private String smtp_usuario = &quot;&quot;;\n    private String smtp_pass = &quot;&quot;;\n\n    MyAuthenticator(String user, String pass) {\n        this.smtp_usuario = user;\n        this.smtp_pass = pass;\n    }\n\n    @Override\n    public PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(this.smtp_usuario,\n                this.smtp_pass);\n    }\n}\n</code></pre>\n<p><em>Maven dependency tree</em></p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ mail-demo ---\n[INFO] com.example:mail-demo:jar:1.0-SNAPSHOT\n[INFO] +- org.openjfx:javafx-controls:jar:17.0.2:compile\n[INFO] |  +- org.openjfx:javafx-controls:jar:win:17.0.2:compile\n[INFO] |  \\- org.openjfx:javafx-graphics:jar:17.0.2:compile\n[INFO] |     +- org.openjfx:javafx-graphics:jar:win:17.0.2:compile\n[INFO] |     \\- org.openjfx:javafx-base:jar:17.0.2:compile\n[INFO] |        \\- org.openjfx:javafx-base:jar:win:17.0.2:compile\n[INFO] \\- com.sun.mail:jakarta.mail:jar:2.0.1:compile\n[INFO]    \\- com.sun.activation:jakarta.activation:jar:2.0.1:compile\n</code></pre>\n"}],"owner":{"account_id":20212957,"reputation":31,"user_id":14831533,"display_name":"dante33"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6544,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646266055,"creation_date":1646160927,"question_id":71313332,"body_markdown":"I am creating a chat application in javafx and I am trying to use the javamail api to verify the user&#39;s email. The problem is that when I run the application it shows me the following message:\r\n  java.lang.NoClassDefFoundError: javax/activation/DataHandler\r\nI am using java 17, javafx 17, netbeans ide 12.0.\r\n \r\nThis is the code I have written:\r\n\r\n    package chat;\r\n\r\n    import java.util.Properties;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.Image;\r\n    import javafx.stage.Stage;\r\n    import javax.mail.Authenticator;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n\r\n    public class Chat extends Application{\r\n       private Parent raiz;\r\n       private Scene scene;\r\n       private Stage stg1;\r\n       private Image imagenx;\r\n    \r\n       @Override\r\n       public void start(Stage stage) throws Exception {\r\n          raiz = FXMLLoader.load(getClass().getResource(&quot;Chat.fxml&quot;));\r\n          scene = new Scene(raiz);\r\n          scene.setUserAgentStylesheet(getClass().getResource(&quot;chat.css&quot;).toExternalForm());\r\n          stg1 = stage;\r\n          stg1.setScene(scene);\r\n          imagenx = new Image(getClass().getResource(&quot;icono.jpg&quot;).toString());\r\n          stg1.getIcons().add(imagenx);\r\n          stg1.setTitle(&quot;Video chat&quot;);\r\n          stg1.setWidth(800);\r\n          stg1.setHeight(600);\r\n          stg1.show();\r\n       }\r\n\r\n       private void enviarMail(String destinatario){\r\n          String remitente = &quot;mi remitente&quot;;\r\n          String asunto = &quot;enviar correo de confirmacion&quot;;\r\n          String cuerpo = &quot;mensaje a enviar&quot;;\r\n          String clv = &quot;1234&quot;;\r\n        \r\n          Properties props = System.getProperties();\r\n          props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n          props.put(&quot;mail.smtp.user&quot;, remitente);\r\n          props.put(&quot;mail.smtp.clave&quot;, clv);\r\n          props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n          props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n          props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        \r\n          Autenticador aut = new Autenticador(remitente,clv);\r\n          sesion = Session.getInstance(props,aut);\r\n          mm = new MimeMessage(sesion);\r\n\r\n          try{\r\n            mm.setFrom(new InternetAddress(remitente));\r\n            mm.addRecipients(Message.RecipientType.TO, destinatario);\r\n            mm.setSubject(asunto);\r\n            mm.setText(cuerpo);\r\n            try(Transport transport = sesion.getTransport(&quot;smtp&quot;)) {\r\n                transport.connect(&quot;smtp.gmail.com&quot;, remitente, clv);\r\n                try{\r\n                    transport.sendMessage(mm, mm.getAllRecipients());\r\n                }\r\n                catch(MessagingException ex){\r\n                    System.out.println(ex);\r\n                }\r\n            }\r\n            catch(Exception ex){\r\n                System.out.println(ex);\r\n            }\r\n          }\r\n          catch(MessagingException ex){\r\n            System.out.println(ex);\r\n          }\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          launch(args);\r\n          enviarMail(&quot;example1@gmail.com&quot;);\r\n       }\r\n    }\r\n\r\n    class Autenticador extends Authenticator{\r\n       private String smtp_usuario = &quot;&quot;;\r\n       private String smtp_pass = &quot;&quot;;\r\n    \r\n       Autenticador() {}\r\n\r\n       Autenticador(String user , String pass) {\r\n         this.smtp_usuario = user;\r\n         this.smtp_pass = pass;\r\n       }\r\n\r\n       @Override\r\n       public PasswordAuthentication getPasswordAuthentication() {\r\n         return new PasswordAuthentication(this.smtp_usuario, \r\n         this.smtp_pass);\r\n       }\r\n    }\r\n\r\n\r\nThe error is generated in this line of code:\r\n   mm = new MimeMessage(sesion);\r\n\r\nchange the library from javax.mail to jakarta.mail, update netbeans to version 12.6, I have version java 17 installed, add the jar jakarta.activation, but when I run the project in netbeans this error is generated: java.lang.NoClassDefFoundError: jakarta/activation/DataHandler. Googling I found that I should add the following dependency: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nquery, where should I add the pom.xml file with the dependency and how to use the jakarta.activation jar? I&#39;m self-taught so maybe the question is very obvious.Apart from JavaMail is there any other library that I could use to send email?","title":"Exception: java.lang.NoClassDefFoundError: javax/activation/DataHandler","body":"<p>I am creating a chat application in javafx and I am trying to use the javamail api to verify the user's email. The problem is that when I run the application it shows me the following message:\njava.lang.NoClassDefFoundError: javax/activation/DataHandler\nI am using java 17, javafx 17, netbeans ide 12.0.</p>\n<p>This is the code I have written:</p>\n<pre><code>package chat;\n\nimport java.util.Properties;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.stage.Stage;\nimport javax.mail.Authenticator;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\npublic class Chat extends Application{\n   private Parent raiz;\n   private Scene scene;\n   private Stage stg1;\n   private Image imagenx;\n\n   @Override\n   public void start(Stage stage) throws Exception {\n      raiz = FXMLLoader.load(getClass().getResource(&quot;Chat.fxml&quot;));\n      scene = new Scene(raiz);\n      scene.setUserAgentStylesheet(getClass().getResource(&quot;chat.css&quot;).toExternalForm());\n      stg1 = stage;\n      stg1.setScene(scene);\n      imagenx = new Image(getClass().getResource(&quot;icono.jpg&quot;).toString());\n      stg1.getIcons().add(imagenx);\n      stg1.setTitle(&quot;Video chat&quot;);\n      stg1.setWidth(800);\n      stg1.setHeight(600);\n      stg1.show();\n   }\n\n   private void enviarMail(String destinatario){\n      String remitente = &quot;mi remitente&quot;;\n      String asunto = &quot;enviar correo de confirmacion&quot;;\n      String cuerpo = &quot;mensaje a enviar&quot;;\n      String clv = &quot;1234&quot;;\n    \n      Properties props = System.getProperties();\n      props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n      props.put(&quot;mail.smtp.user&quot;, remitente);\n      props.put(&quot;mail.smtp.clave&quot;, clv);\n      props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n      props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n      props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    \n      Autenticador aut = new Autenticador(remitente,clv);\n      sesion = Session.getInstance(props,aut);\n      mm = new MimeMessage(sesion);\n\n      try{\n        mm.setFrom(new InternetAddress(remitente));\n        mm.addRecipients(Message.RecipientType.TO, destinatario);\n        mm.setSubject(asunto);\n        mm.setText(cuerpo);\n        try(Transport transport = sesion.getTransport(&quot;smtp&quot;)) {\n            transport.connect(&quot;smtp.gmail.com&quot;, remitente, clv);\n            try{\n                transport.sendMessage(mm, mm.getAllRecipients());\n            }\n            catch(MessagingException ex){\n                System.out.println(ex);\n            }\n        }\n        catch(Exception ex){\n            System.out.println(ex);\n        }\n      }\n      catch(MessagingException ex){\n        System.out.println(ex);\n      }\n   }\n\n   public static void main(String[] args) {\n      launch(args);\n      enviarMail(&quot;example1@gmail.com&quot;);\n   }\n}\n\nclass Autenticador extends Authenticator{\n   private String smtp_usuario = &quot;&quot;;\n   private String smtp_pass = &quot;&quot;;\n\n   Autenticador() {}\n\n   Autenticador(String user , String pass) {\n     this.smtp_usuario = user;\n     this.smtp_pass = pass;\n   }\n\n   @Override\n   public PasswordAuthentication getPasswordAuthentication() {\n     return new PasswordAuthentication(this.smtp_usuario, \n     this.smtp_pass);\n   }\n}\n</code></pre>\n<p>The error is generated in this line of code:\nmm = new MimeMessage(sesion);</p>\n<p>change the library from javax.mail to jakarta.mail, update netbeans to version 12.6, I have version java 17 installed, add the jar jakarta.activation, but when I run the project in netbeans this error is generated: java.lang.NoClassDefFoundError: jakarta/activation/DataHandler. Googling I found that I should add the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>query, where should I add the pom.xml file with the dependency and how to use the jakarta.activation jar? I'm self-taught so maybe the question is very obvious.Apart from JavaMail is there any other library that I could use to send email?</p>\n"},{"tags":["java","spring","netflix-eureka"],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1872,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646265948,"creation_date":1646265648,"question_id":71330619,"body_markdown":"after I added Eureka to my application I get this error:\r\n\r\n    2022-03-02 23:57:13.067 ERROR 15068 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw except\r\n    ion [Request processing failed; nested exception is java.lang.IllegalArgumentException: Source must not be null] with root cause\r\n    \r\n    java.lang.IllegalArgumentException: Source must not be null\r\n            at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.16.jar:5.3.16]\r\n            at org.springframework.beans.BeanUtils.copyProperties(BeanUtils.java:757) ~[spring-beans-5.3.16.jar:5.3.16]\r\n            at org.springframework.beans.BeanUtils.copyProperties(BeanUtils.java:701) ~[spring-beans-5.3.16.jar:5.3.16]\r\n            at cdg.releve.persistence.mongodb.adapter.ReleveBancaireSpringMongodbAdapter.getReleveBancaireById(ReleveBancaireSpringMongodbAdapter.java:57) ~[classes/:na]\r\n            at cdg.releve.application.service.adapter.ReServiceAdapter.getReById(ReleveBancaireServiceAdapter.java:39) ~[classes/:na]\r\n            at cdg.releve.infrastructure.rest.controller.ReControllerImpl.getReById(ReleveBancaireControllerImpl.java:46) ~[classes/:na]\r\n\r\n\r\n\r\nHere I was sending endpoints request and I get Status: 500 internal Server error. Before adding eureka client it was working greate just after adding eureka dependency this happened.\r\n\r\n\r\nThis is my project structure\r\n\r\n    + -- MyMainProject\r\n         + -- application           &lt;- Module 1\r\n         |     ` -- pom.xml\r\n         + -- domain                &lt;- Module 2\r\n         |     ` -- pom.xml\r\n         + -- bootloader            &lt;- Module 3\r\n         |     `src/main/java/BootloaderApplicationLuncher (Java application launcher)\r\n         |     ` -- pom.xml\r\n         + -- infrastructure        &lt;- Module 4 (has 3 modules)\r\n              + -- infrastructure 1          &lt;- Module 4.1\r\n              |     `  --  pom.xml\r\n              + -- infrastructure 2          &lt;- Module 4.2\r\n              |     `  --  pom.xml\r\n              + -- infrastructure 3          &lt;- Module 4.3\r\n              |     `  --  pom.xml\r\n         | -- pom.xml","title":"java.lang.IllegalArgumentException: Source must not be null","body":"<p>after I added Eureka to my application I get this error:</p>\n<pre><code>2022-03-02 23:57:13.067 ERROR 15068 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw except\nion [Request processing failed; nested exception is java.lang.IllegalArgumentException: Source must not be null] with root cause\n\njava.lang.IllegalArgumentException: Source must not be null\n        at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.16.jar:5.3.16]\n        at org.springframework.beans.BeanUtils.copyProperties(BeanUtils.java:757) ~[spring-beans-5.3.16.jar:5.3.16]\n        at org.springframework.beans.BeanUtils.copyProperties(BeanUtils.java:701) ~[spring-beans-5.3.16.jar:5.3.16]\n        at cdg.releve.persistence.mongodb.adapter.ReleveBancaireSpringMongodbAdapter.getReleveBancaireById(ReleveBancaireSpringMongodbAdapter.java:57) ~[classes/:na]\n        at cdg.releve.application.service.adapter.ReServiceAdapter.getReById(ReleveBancaireServiceAdapter.java:39) ~[classes/:na]\n        at cdg.releve.infrastructure.rest.controller.ReControllerImpl.getReById(ReleveBancaireControllerImpl.java:46) ~[classes/:na]\n</code></pre>\n<p>Here I was sending endpoints request and I get Status: 500 internal Server error. Before adding eureka client it was working greate just after adding eureka dependency this happened.</p>\n<p>This is my project structure</p>\n<pre><code>+ -- MyMainProject\n     + -- application           &lt;- Module 1\n     |     ` -- pom.xml\n     + -- domain                &lt;- Module 2\n     |     ` -- pom.xml\n     + -- bootloader            &lt;- Module 3\n     |     `src/main/java/BootloaderApplicationLuncher (Java application launcher)\n     |     ` -- pom.xml\n     + -- infrastructure        &lt;- Module 4 (has 3 modules)\n          + -- infrastructure 1          &lt;- Module 4.1\n          |     `  --  pom.xml\n          + -- infrastructure 2          &lt;- Module 4.2\n          |     `  --  pom.xml\n          + -- infrastructure 3          &lt;- Module 4.3\n          |     `  --  pom.xml\n     | -- pom.xml\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646265309,"creation_date":1646265309,"answer_id":71330575,"question_id":71316971,"body_markdown":"You need to define `HttpComponentsClientHttpRequestFactory` as a `Bean`.\r\nIt becomes managed by the Spring bean factory, which will call the factory&#39;s `destroy` method when the application is closed, or the bean goes out of scope. The `destroy` method of the `ClientHttpRequestFactory` will close the underlying `ClientConnectionManager` connection pool.\r\n\r\n    @Bean\r\n    public ClientHttpRequestFactory createRequestFactory() {\r\n        CloseableHttpClient client = HttpClientBuilder.create().setSSLSocketFactory(csf).setDefaultRequestConfig(config).build();\r\n        return new HttpComponentsClientHttpRequestFactory(client);\r\n    }\r\n\r\n`HttpComponentsClientHttpRequestFactory` implements `DisposableBean` interface\r\n&lt;br&gt;See [documentation][1] or [Destruction Callbacks][2]:\r\n&gt; Interface to be implemented by beans that want to release resources on\r\n&gt; destruction. A BeanFactory will invoke the destroy method on\r\n&gt; individual destruction of a scoped bean. An ApplicationContext is\r\n&gt; supposed to dispose all of its singletons on shutdown, driven by the\r\n&gt; application lifecycle.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/DisposableBean.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-disposablebean","title":"When is destroy() method called in HttpComponentsClientHttpRequestFactory class?","body":"<p>You need to define <code>HttpComponentsClientHttpRequestFactory</code> as a <code>Bean</code>.\nIt becomes managed by the Spring bean factory, which will call the factory's <code>destroy</code> method when the application is closed, or the bean goes out of scope. The <code>destroy</code> method of the <code>ClientHttpRequestFactory</code> will close the underlying <code>ClientConnectionManager</code> connection pool.</p>\n<pre><code>@Bean\npublic ClientHttpRequestFactory createRequestFactory() {\n    CloseableHttpClient client = HttpClientBuilder.create().setSSLSocketFactory(csf).setDefaultRequestConfig(config).build();\n    return new HttpComponentsClientHttpRequestFactory(client);\n}\n</code></pre>\n<p><code>HttpComponentsClientHttpRequestFactory</code> implements <code>DisposableBean</code> interface\n<br>See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/DisposableBean.html\" rel=\"nofollow noreferrer\">documentation</a> or <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-disposablebean\" rel=\"nofollow noreferrer\">Destruction Callbacks</a>:</p>\n<blockquote>\n<p>Interface to be implemented by beans that want to release resources on\ndestruction. A BeanFactory will invoke the destroy method on\nindividual destruction of a scoped bean. An ApplicationContext is\nsupposed to dispose all of its singletons on shutdown, driven by the\napplication lifecycle.</p>\n</blockquote>\n"}],"owner":{"account_id":9048658,"reputation":35,"user_id":6739796,"display_name":"Ssg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646265309,"creation_date":1646190105,"question_id":71316971,"body_markdown":"I have created CloseableHttpClient object as shown below. I am trying to understand when will the destroy method in HttpComponentsClientHttpRequestFactory class be called? I tried debugging by terminating the application but the destory() method is not called when the application is terminated.\r\n\r\n```\r\nCloseableHttpClient client = HttpClientBuilder.create().setSSLSocketFactory(csf).setDefaultRequestConfig(config).build();\r\n\r\nreturn new HttpComponentsClientHttpRequestFactory(client);\r\n\r\n```","title":"When is destroy() method called in HttpComponentsClientHttpRequestFactory class?","body":"<p>I have created CloseableHttpClient object as shown below. I am trying to understand when will the destroy method in HttpComponentsClientHttpRequestFactory class be called? I tried debugging by terminating the application but the destory() method is not called when the application is terminated.</p>\n<pre><code>CloseableHttpClient client = HttpClientBuilder.create().setSSLSocketFactory(csf).setDefaultRequestConfig(config).build();\n\nreturn new HttpComponentsClientHttpRequestFactory(client);\n\n</code></pre>\n"},{"tags":["java","multithreading","process","runtime","runtime.exec"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456390979,"creation_date":1456390979,"answer_id":35622631,"question_id":35622593,"body_markdown":"Unless you call `p.waitFor();` your process will happily run concurrently alongside the process that it spawned (`p`).","title":"Process p = Runtime.getRuntime().exec() will run asynchronously?","body":"<p>Unless you call <code>p.waitFor();</code> your process will happily run concurrently alongside the process that it spawned (<code>p</code>).</p>\n"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646264176,"creation_date":1456390845,"question_id":35622593,"body_markdown":"Starting from this situation:\r\n\r\n            for (String certificateSha1:certificateSha1List){\r\n    \t\t\tProcess\tp = Runtime.getRuntime().exec(new String [] {&quot;security&quot;, &quot;delete-certificate&quot;, &quot;-Z&quot;, certificateSha1}, null , new File(this.workDir+&quot;&quot;) );\t\t\r\n    \t\t\t\r\n    \t\t\tHelpers.asynchOutputWrite(new InputStreamReader(p.getInputStream()), standardOutput);\r\n    \t\t}\r\n\r\nAnd noting that Helpers.asynchOutputWrite generates a new thread which will write the parametrized stream into that output file. Will these threads overlap themselves writing into the file? or will the next iteration of the for wait until exec() method has finalized?\r\n","title":"Process p = Runtime.getRuntime().exec() will run asynchronously?","body":"<p>Starting from this situation:</p>\n<pre><code>        for (String certificateSha1:certificateSha1List){\n            Process p = Runtime.getRuntime().exec(new String [] {&quot;security&quot;, &quot;delete-certificate&quot;, &quot;-Z&quot;, certificateSha1}, null , new File(this.workDir+&quot;&quot;) );      \n            \n            Helpers.asynchOutputWrite(new InputStreamReader(p.getInputStream()), standardOutput);\n        }\n</code></pre>\n<p>And noting that Helpers.asynchOutputWrite generates a new thread which will write the parametrized stream into that output file. Will these threads overlap themselves writing into the file? or will the next iteration of the for wait until exec() method has finalized?</p>\n"},{"tags":["java","android","android-recyclerview","android-checkbox"],"comments":[{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1542880571,"post_id":53428224,"comment_id":93730524,"body_markdown":"It&#39;s Single item choice selection. You can manage it by declaring _position = -1_ and check your adapter position while clicking on it.","body":"It&#39;s Single item choice selection. You can manage it by declaring <i>position = -1</i> and check your adapter position while clicking on it."},{"owner":{"account_id":14551906,"reputation":3794,"user_id":10510491,"display_name":"Aaron"},"score":0,"creation_date":1542880799,"post_id":53428224,"comment_id":93730657,"body_markdown":"It is very likely the problem is within the adapter, can you post the code of your adapter?","body":"It is very likely the problem is within the adapter, can you post the code of your adapter?"},{"owner":{"account_id":7119578,"reputation":3217,"user_id":5444667,"accept_rate":76,"display_name":"cole"},"score":0,"creation_date":1542881181,"post_id":53428224,"comment_id":93730902,"body_markdown":"@Piyush I am not sure how to tell which checkbox to setSelected false.","body":"@Piyush I am not sure how to tell which checkbox to setSelected false."},{"owner":{"account_id":7119578,"reputation":3217,"user_id":5444667,"accept_rate":76,"display_name":"cole"},"score":0,"creation_date":1542881202,"post_id":53428224,"comment_id":93730924,"body_markdown":"@Aaron I updated my question with adapter class added","body":"@Aaron I updated my question with adapter class added"},{"owner":{"account_id":14551906,"reputation":3794,"user_id":10510491,"display_name":"Aaron"},"score":0,"creation_date":1542881343,"post_id":53428224,"comment_id":93731023,"body_markdown":"@code Weird.. I don&#39;t see them.. and your ViewHolder is incomplete, anyway I just want to make sure that you bind the views correctly.","body":"@code Weird.. I don&#39;t see them.. and your ViewHolder is incomplete, anyway I just want to make sure that you bind the views correctly."},{"owner":{"account_id":7119578,"reputation":3217,"user_id":5444667,"accept_rate":76,"display_name":"cole"},"score":0,"creation_date":1542881938,"post_id":53428224,"comment_id":93731391,"body_markdown":"@Aaron I updated method added remaining bits on adapter as well","body":"@Aaron I updated method added remaining bits on adapter as well"}],"answers":[{"tags":[],"owner":{"account_id":14763836,"reputation":795,"user_id":10662432,"display_name":"Hossam Hassan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1542881119,"creation_date":1542881119,"answer_id":53428427,"question_id":53428224,"body_markdown":"Inside your `Adapter` \r\n\r\nuse this :   \r\n  `private int row_index;`\r\n\r\n       @Override\r\n        public void onBindViewHolder(final Main_Page_Payment_Cash_Adapter.ViewHolder holder, final int position) {\r\n    \r\n                 holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        // checkbox.setChecked(true);\r\n                        row_index = position;\r\n                        notifyDataSetChanged();\r\n                    }\r\n                });\r\n    \r\n                if (row_index == position) {\r\n                  // checkbox.setChecked(true);\r\n                } else {\r\n                   // checkbox.setChecked(false);\r\n                }\r\n        }\r\n\r\nI hope this is what you are looking for.","title":"Select one checkBox in item from recyclerView and deselect previously selected checkBox","body":"<p>Inside your <code>Adapter</code> </p>\n\n<p>use this :<br>\n  <code>private int row_index;</code></p>\n\n<pre><code>   @Override\n    public void onBindViewHolder(final Main_Page_Payment_Cash_Adapter.ViewHolder holder, final int position) {\n\n             holder.itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    // checkbox.setChecked(true);\n                    row_index = position;\n                    notifyDataSetChanged();\n                }\n            });\n\n            if (row_index == position) {\n              // checkbox.setChecked(true);\n            } else {\n               // checkbox.setChecked(false);\n            }\n    }\n</code></pre>\n\n<p>I hope this is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":8485478,"reputation":840,"user_id":6363766,"accept_rate":25,"display_name":"Farman Ali Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542882601,"creation_date":1542882601,"answer_id":53428891,"question_id":53428224,"body_markdown":"     @Override\r\n        public void onBindViewHolder(MyViewHolder holder, final int position) {\r\n    \r\n            AnimalObject animalObject = list.get(position);\r\n    \r\n            holder.title.setText(animalObject.name);\r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    AnimalObject animalObject = list.get(position);\r\n                    int currentCheckedStatus = animalObject.ischecked();\r\n                    for (int i =0;i&lt;list.size();i++)\r\n                    {\r\n    \r\n                        if (i==position)\r\n                        {\r\n                            animalObject.setIschecked(!currentCheckedStatus);\r\n                        }\r\n                        else\r\n                        {\r\n                            animalObject.setIschecked(false);\r\n                        }\r\n                    }\r\n                    notifyDataSetChanged();\r\n                }\r\n            });\r\n    \r\n                holder.checkBox.setChecked(animalObject.ischecked());\r\n        }","title":"Select one checkBox in item from recyclerView and deselect previously selected checkBox","body":"<pre><code> @Override\n    public void onBindViewHolder(MyViewHolder holder, final int position) {\n\n        AnimalObject animalObject = list.get(position);\n\n        holder.title.setText(animalObject.name);\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AnimalObject animalObject = list.get(position);\n                int currentCheckedStatus = animalObject.ischecked();\n                for (int i =0;i&lt;list.size();i++)\n                {\n\n                    if (i==position)\n                    {\n                        animalObject.setIschecked(!currentCheckedStatus);\n                    }\n                    else\n                    {\n                        animalObject.setIschecked(false);\n                    }\n                }\n                notifyDataSetChanged();\n            }\n        });\n\n            holder.checkBox.setChecked(animalObject.ischecked());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12880158,"reputation":753,"user_id":9315431,"display_name":"Mudassar Ashraf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646262934,"creation_date":1602797674,"answer_id":64379979,"question_id":53428224,"body_markdown":"**Complete example**&lt;br&gt;\r\n\r\n    public class ChildAddressAdapter extends \r\n            RecyclerView.Adapter&lt;ChildAddressAdapter.CartViewHolder&gt; {\r\n\r\n    private Activity context;\r\n\r\n    private List&lt;AddressDetail&gt; addressDetailList;\r\n\r\n    private int selectedPosition = -1;\r\n\r\n    public ChildAddressAdapter(Activity context, List&lt;AddressDetail&gt; addressDetailList) {\r\n        this.context = context;\r\n        this.addressDetailList = addressDetailList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View myView = inflater.inflate(R.layout.address_layout, parent, false);\r\n        return new CartViewHolder(myView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CartViewHolder holder, int position) {\r\n\r\n        holder.adress_checkbox.setOnClickListener(view -&gt; {\r\n            selectedPosition = holder.getAdapterPosition();\r\n            notifyDataSetChanged();\r\n        });\r\n\r\n        if (selectedPosition==position){\r\n            holder.adress_checkbox.setChecked(true);\r\n        }\r\n        else {\r\n            holder.adress_checkbox.setChecked(false);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return  addressDetailList.size();\r\n    }\r\n\r\n    class CartViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        TextView address_text,address_tag;\r\n        CheckBox adress_checkbox;\r\n\r\n        CartViewHolder(View itemView) {\r\n            super(itemView);\r\n            address_text = itemView.findViewById(R.id.address_text);\r\n            address_tag = itemView.findViewById(R.id.address_tag);\r\n            adress_checkbox = itemView.findViewById(R.id.adress_checkbox);\r\n        }\r\n    }}","title":"Select one checkBox in item from recyclerView and deselect previously selected checkBox","body":"<p><strong>Complete example</strong><br></p>\n<pre><code>public class ChildAddressAdapter extends \n        RecyclerView.Adapter&lt;ChildAddressAdapter.CartViewHolder&gt; {\n\nprivate Activity context;\n\nprivate List&lt;AddressDetail&gt; addressDetailList;\n\nprivate int selectedPosition = -1;\n\npublic ChildAddressAdapter(Activity context, List&lt;AddressDetail&gt; addressDetailList) {\n    this.context = context;\n    this.addressDetailList = addressDetailList;\n}\n\n@NonNull\n@Override\npublic CartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    LayoutInflater inflater = LayoutInflater.from(context);\n    View myView = inflater.inflate(R.layout.address_layout, parent, false);\n    return new CartViewHolder(myView);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull CartViewHolder holder, int position) {\n\n    holder.adress_checkbox.setOnClickListener(view -&gt; {\n        selectedPosition = holder.getAdapterPosition();\n        notifyDataSetChanged();\n    });\n\n    if (selectedPosition==position){\n        holder.adress_checkbox.setChecked(true);\n    }\n    else {\n        holder.adress_checkbox.setChecked(false);\n    }\n\n\n}\n\n@Override\npublic int getItemCount() {\n    return  addressDetailList.size();\n}\n\nclass CartViewHolder extends RecyclerView.ViewHolder\n{\n    TextView address_text,address_tag;\n    CheckBox adress_checkbox;\n\n    CartViewHolder(View itemView) {\n        super(itemView);\n        address_text = itemView.findViewById(R.id.address_text);\n        address_tag = itemView.findViewById(R.id.address_tag);\n        adress_checkbox = itemView.findViewById(R.id.adress_checkbox);\n    }\n}}\n</code></pre>\n"}],"owner":{"account_id":7119578,"reputation":3217,"user_id":5444667,"accept_rate":76,"display_name":"cole"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4091,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53428427,"answer_count":3,"score":2,"last_activity_date":1646262934,"creation_date":1542880489,"question_id":53428224,"body_markdown":"I have recycler-view with sections. The item include row and title. I want to select one item with checkbox and if user select next one I want to deselect the old the one(checkbox). I cannot find anywhere to achieve this functionality.\r\n\r\nHere is my code\r\n\r\n    recyclerView = (RecyclerView)findViewById(R.id.recyclerViewActivityExample);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n        list.add(new AnimalObject(&quot;Cat&quot;,&quot;Mammals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Lion&quot;,&quot;Mammals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Dog&quot;,&quot;Mammals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Monkey&quot;,&quot;Mammals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Puma&quot;,&quot;Mammals&quot;, false));\r\n\r\n        list.add(new AnimalObject(&quot;Albatross&quot;,&quot;Birds&quot;, false));\r\n        list.add(new AnimalObject(&quot;Pigeon&quot;,&quot;Birds&quot;, false));\r\n\r\n        list.add(new AnimalObject(&quot;Crabs&quot;,&quot;Aquatic Animals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Sharks&quot;,&quot;Aquatic Animals&quot;, false));\r\n\r\n        MyAdapter myAdapter = new MyAdapter();\r\n\r\n\r\n        sectionedRecyclerViewAdapter = new SectionedRecyclerViewAdapter(getApplicationContext(),\r\n                R.layout.layout_list_section, R.id.textViewItemSection, myAdapter, this);\r\n        sectionedRecyclerViewAdapter.setSections(list);\r\n\r\n        recyclerView.setAdapter(sectionedRecyclerViewAdapter);\r\n\r\n    }\r\n\r\n\r\n     \r\n\r\n\r\n     //-------------------Adapter----------------------------\r\n    public class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; implements MyViewHolder.ViewHolderClickListener {\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n            View itemView = LayoutInflater.\r\n                    from(parent.getContext()).\r\n                    inflate(R.layout.layout_list_item, parent, false);\r\n\r\n            return new MyViewHolder(itemView,this);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, final int position) {\r\n\r\n            AnimalObject animalObject = list.get(position);\r\n\r\n            holder.title.setText(animalObject.name);\r\n\r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // checkbox.setChecked(true);\r\n                    row_index = position;\r\n                    notifyDataSetChanged();\r\n                }\r\n            });\r\n\r\n            if (row_index == position) {\r\n                holder.checkBox.setChecked(true);\r\n            } else {\r\n                holder.checkBox.setChecked(false);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            Toast.makeText(getApplicationContext(), list.get(sectionedRecyclerViewAdapter.getIndexForPosition(recyclerView.getChildPosition(v))).name,Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n// Adapter\r\n\r\n     public String name;\r\n    public String type;\r\n    public boolean ischecked ;\r\n\r\n    public AnimalObject(final String name, final String type, boolean ischecked){\r\n\r\n        this.name = name ;\r\n        this.type = type ;\r\n        this.ischecked = ischecked;\r\n    }\r\n    public boolean ischecked() {\r\n        return ischecked;\r\n    }\r\n\r\n    public void setIschecked(boolean ischecked) {\r\n        this.ischecked = ischecked;\r\n    }","title":"Select one checkBox in item from recyclerView and deselect previously selected checkBox","body":"<p>I have recycler-view with sections. The item include row and title. I want to select one item with checkbox and if user select next one I want to deselect the old the one(checkbox). I cannot find anywhere to achieve this functionality.</p>\n\n<p>Here is my code</p>\n\n<pre><code>recyclerView = (RecyclerView)findViewById(R.id.recyclerViewActivityExample);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n\n    list = new ArrayList&lt;&gt;();\n    list.add(new AnimalObject(\"Cat\",\"Mammals\", false));\n    list.add(new AnimalObject(\"Lion\",\"Mammals\", false));\n    list.add(new AnimalObject(\"Dog\",\"Mammals\", false));\n    list.add(new AnimalObject(\"Monkey\",\"Mammals\", false));\n    list.add(new AnimalObject(\"Puma\",\"Mammals\", false));\n\n    list.add(new AnimalObject(\"Albatross\",\"Birds\", false));\n    list.add(new AnimalObject(\"Pigeon\",\"Birds\", false));\n\n    list.add(new AnimalObject(\"Crabs\",\"Aquatic Animals\", false));\n    list.add(new AnimalObject(\"Sharks\",\"Aquatic Animals\", false));\n\n    MyAdapter myAdapter = new MyAdapter();\n\n\n    sectionedRecyclerViewAdapter = new SectionedRecyclerViewAdapter(getApplicationContext(),\n            R.layout.layout_list_section, R.id.textViewItemSection, myAdapter, this);\n    sectionedRecyclerViewAdapter.setSections(list);\n\n    recyclerView.setAdapter(sectionedRecyclerViewAdapter);\n\n}\n\n\n\n\n\n //-------------------Adapter----------------------------\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; implements MyViewHolder.ViewHolderClickListener {\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View itemView = LayoutInflater.\n                from(parent.getContext()).\n                inflate(R.layout.layout_list_item, parent, false);\n\n        return new MyViewHolder(itemView,this);\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, final int position) {\n\n        AnimalObject animalObject = list.get(position);\n\n        holder.title.setText(animalObject.name);\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // checkbox.setChecked(true);\n                row_index = position;\n                notifyDataSetChanged();\n            }\n        });\n\n        if (row_index == position) {\n            holder.checkBox.setChecked(true);\n        } else {\n            holder.checkBox.setChecked(false);\n        }\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        Toast.makeText(getApplicationContext(), list.get(sectionedRecyclerViewAdapter.getIndexForPosition(recyclerView.getChildPosition(v))).name,Toast.LENGTH_SHORT).show();\n\n    }\n}\n</code></pre>\n\n<p>// Adapter</p>\n\n<pre><code> public String name;\npublic String type;\npublic boolean ischecked ;\n\npublic AnimalObject(final String name, final String type, boolean ischecked){\n\n    this.name = name ;\n    this.type = type ;\n    this.ischecked = ischecked;\n}\npublic boolean ischecked() {\n    return ischecked;\n}\n\npublic void setIschecked(boolean ischecked) {\n    this.ischecked = ischecked;\n}\n</code></pre>\n"},{"tags":["java","json","hashmap"],"answers":[{"tags":[],"owner":{"account_id":2855107,"reputation":1111,"user_id":2451524,"accept_rate":40,"display_name":"VikramV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646262911,"creation_date":1646262911,"answer_id":71330303,"question_id":71329716,"body_markdown":"You can try this (without any external library - using only Java 8)\r\n\r\n        Map&lt;String, Object&gt; customFields = new LinkedHashMap&lt;&gt;();\r\n\r\n        List&lt;String&gt; jsonKeyList = List.of(&quot;orderLines1&quot;, &quot;orderLines2&quot;);\r\n        jsonKeyList.forEach(listItem -&gt; orderKeys(listItem, customFields));\r\n\r\n        String result = &quot;{&quot; + customFields.entrySet().stream()\r\n                                          .map(e -&gt; &quot;\\&quot;&quot; + e.getKey() + &quot;\\&quot;:&quot; +\r\n                                                    String.valueOf(e.getValue()))\r\n                                          .collect(Collectors.joining(&quot;, &quot;)) +\r\n                        &quot;}&quot;;\r\n\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n\r\n    public static void orderKeys(final String key, final Map&lt;String, Object&gt; result)\r\n    {\r\n        JSONArray array = new JSONArray();\r\n        JSONObject item = new JSONObject();\r\n        item.put(&quot;xx&quot;, &quot;XX&quot;);\r\n        item.put(&quot;yy&quot;, &quot;YY&quot;);\r\n        array.put(item);\r\n\r\n        result.put(key, array);\r\n    }\r\n\r\n**Output:**\r\n\r\n    Result: {&quot;orderLines1&quot;:[{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}], &quot;orderLines2&quot;:[{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}]}\r\n\r\nElse you can use external libraries for your usecase (viz. [Underscore-java][1] - library to convert hash map or array list to json and vice versa).\r\n\r\n*Courtesy:*\r\n[StackOverflow][2]\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://stackoverflow.com/a/36934134/2451524","title":"Add JSONArray to map value in Hashmap","body":"<p>You can try this (without any external library - using only Java 8)</p>\n<pre><code>    Map&lt;String, Object&gt; customFields = new LinkedHashMap&lt;&gt;();\n\n    List&lt;String&gt; jsonKeyList = List.of(&quot;orderLines1&quot;, &quot;orderLines2&quot;);\n    jsonKeyList.forEach(listItem -&gt; orderKeys(listItem, customFields));\n\n    String result = &quot;{&quot; + customFields.entrySet().stream()\n                                      .map(e -&gt; &quot;\\&quot;&quot; + e.getKey() + &quot;\\&quot;:&quot; +\n                                                String.valueOf(e.getValue()))\n                                      .collect(Collectors.joining(&quot;, &quot;)) +\n                    &quot;}&quot;;\n\n    System.out.println(&quot;Result: &quot; + result);\n}\n\npublic static void orderKeys(final String key, final Map&lt;String, Object&gt; result)\n{\n    JSONArray array = new JSONArray();\n    JSONObject item = new JSONObject();\n    item.put(&quot;xx&quot;, &quot;XX&quot;);\n    item.put(&quot;yy&quot;, &quot;YY&quot;);\n    array.put(item);\n\n    result.put(key, array);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Result: {&quot;orderLines1&quot;:[{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}], &quot;orderLines2&quot;:[{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}]}\n</code></pre>\n<p>Else you can use external libraries for your usecase (viz. <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> - library to convert hash map or array list to json and vice versa).</p>\n<p><em>Courtesy:</em>\n<a href=\"https://stackoverflow.com/a/36934134/2451524\">StackOverflow</a></p>\n"}],"owner":{"account_id":9238145,"reputation":31,"user_id":6862093,"accept_rate":67,"display_name":"Dhirish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1646262911,"creation_date":1646258750,"question_id":71329716,"body_markdown":"I am having a JSON Array which I am populating using a JSON object, and the code looks like this\r\n\r\n    \t\r\n    \tMap&lt;String, String&gt; orderLines = new HashMap&lt;&gt;();\r\n    \torderLines.put(&quot;xx&quot;,XX);\r\n    \torderLines.put(&quot;yy&quot;,YY);\r\n    JSONObject obj=new JSONObject(orderLines);\r\n    JSONArray array = new JSONArray().put(obj);\r\n\r\nand I am trying to add this array into my map and add it to the  \r\n\r\n    Map&lt;String, Object&gt; customFields = new HashMap&lt;&gt;();\r\n    customFields.put(&quot;postOrderRequest.orderLines&quot;, array);\r\n\r\nbut when I am building a json out of these map values using\r\n\r\n    customFields.forEach((k, v) -&gt; json.set(k, v));\r\n\r\n, I am not able to build a json out of the map,what I am trying to achieve is something like this\r\n\r\n    {\r\n        &quot;orderLines&quot; : [{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}]\r\n     }\r\n\r\n","title":"Add JSONArray to map value in Hashmap","body":"<p>I am having a JSON Array which I am populating using a JSON object, and the code looks like this</p>\n<pre><code>    Map&lt;String, String&gt; orderLines = new HashMap&lt;&gt;();\n    orderLines.put(&quot;xx&quot;,XX);\n    orderLines.put(&quot;yy&quot;,YY);\nJSONObject obj=new JSONObject(orderLines);\nJSONArray array = new JSONArray().put(obj);\n</code></pre>\n<p>and I am trying to add this array into my map and add it to the</p>\n<pre><code>Map&lt;String, Object&gt; customFields = new HashMap&lt;&gt;();\ncustomFields.put(&quot;postOrderRequest.orderLines&quot;, array);\n</code></pre>\n<p>but when I am building a json out of these map values using</p>\n<pre><code>customFields.forEach((k, v) -&gt; json.set(k, v));\n</code></pre>\n<p>, I am not able to build a json out of the map,what I am trying to achieve is something like this</p>\n<pre><code>{\n    &quot;orderLines&quot; : [{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}]\n }\n</code></pre>\n"},{"tags":["java","android","firebase","youtube"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1646242764,"post_id":71326787,"comment_id":126076868,"body_markdown":"Are you asking [how to show a youtube video in an android app](https://www.google.com/search?q=site:stackoverflow.com+how+to+show+a+youtube+video+in+android+app)?","body":"Are you asking <a href=\"https://www.google.com/search?q=site:stackoverflow.com+how+to+show+a+youtube+video+in+android+app\" rel=\"nofollow noreferrer\">how to show a youtube video in an android app</a>?"}],"answers":[{"tags":[],"owner":{"account_id":14310867,"reputation":46,"user_id":10337197,"display_name":"Mahmood Shahsavari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646246204,"creation_date":1646246204,"answer_id":71327610,"question_id":71326787,"body_markdown":"for show youtube video in your android app please see this library : \r\n[android youtube player github][1]\r\n\r\n\r\n  [1]: https://github.com/PierfrancescoSoffritti/android-youtube-player\r\n\r\nyou can simply add video id to this view and it will show the video from youtube :\r\n   \r\n\r\n    &lt;com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\r\n            android:id=&quot;@+id/youtube_player_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            \r\n            app:videoId=&quot;S0Q4gqBUs7c&quot;\r\n            app:autoPlay=&quot;true&quot; /&gt;\r\n\r\n","title":"Youtube Video link on Android Studio","body":"<p>for show youtube video in your android app please see this library :\n<a href=\"https://github.com/PierfrancescoSoffritti/android-youtube-player\" rel=\"nofollow noreferrer\">android youtube player github</a></p>\n<p>you can simply add video id to this view and it will show the video from youtube :</p>\n<pre><code>&lt;com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\n        android:id=&quot;@+id/youtube_player_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        \n        app:videoId=&quot;S0Q4gqBUs7c&quot;\n        app:autoPlay=&quot;true&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":24389727,"reputation":15,"user_id":18319871,"display_name":"777111222"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646259267,"accepted_answer_id":71327610,"answer_count":1,"score":0,"last_activity_date":1646262634,"creation_date":1646241962,"question_id":71326787,"body_markdown":"I am displaying a database from firebase and I want to replace the image with either a YouTube link or just display the video on the app. Also, I am using a card view for the recyclerview. How would I implement that if I want to save the link as &quot;video&quot; in my exercise database?\r\n[![This is the recyclerView of the database][1]][1]\r\n\r\n\r\n[![database in firebase][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/adQ6m.png\r\n  [2]: https://i.stack.imgur.com/PvziP.png","title":"Youtube Video link on Android Studio","body":"<p>I am displaying a database from firebase and I want to replace the image with either a YouTube link or just display the video on the app. Also, I am using a card view for the recyclerview. How would I implement that if I want to save the link as &quot;video&quot; in my exercise database?\n<a href=\"https://i.stack.imgur.com/adQ6m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/adQ6m.png\" alt=\"This is the recyclerView of the database\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PvziP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PvziP.png\" alt=\"database in firebase\" /></a></p>\n"},{"tags":["java","kotlin","types","hashmap"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646263343,"post_id":71330259,"comment_id":126083077,"body_markdown":"Generally speaking, no.  You really need to convert the entire deep map to a full concrete type.","body":"Generally speaking, no.  You really need to convert the entire deep map to a full concrete type."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1646267301,"post_id":71330259,"comment_id":126083877,"body_markdown":"How big is this JSON? If it is not very big and the data structure doesn&#39;t change often, then you can just re-create the data structure and use one of serialization frameworks that provide object mapping (e.g.: kotlinx-serialization, jackson, gson). If the data structure is big and/or it changes, I believe there are some tools that generate typed data structures from JSON. Unfortunately, I can&#39;t suggest any specific one.","body":"How big is this JSON? If it is not very big and the data structure doesn&#39;t change often, then you can just re-create the data structure and use one of serialization frameworks that provide object mapping (e.g.: kotlinx-serialization, jackson, gson). If the data structure is big and/or it changes, I believe there are some tools that generate typed data structures from JSON. Unfortunately, I can&#39;t suggest any specific one."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1646267425,"post_id":71330259,"comment_id":126083898,"body_markdown":"There are some suggestions here: https://stackoverflow.com/questions/1957406/generate-java-class-from-json","body":"There are some suggestions here: <a href=\"https://stackoverflow.com/questions/1957406/generate-java-class-from-json\" title=\"generate java class from json\">stackoverflow.com/questions/1957406/&hellip;</a>"},{"owner":{"account_id":12118656,"reputation":157,"user_id":8851278,"display_name":"Filip Zedek"},"score":0,"creation_date":1646315259,"post_id":71330259,"comment_id":126096190,"body_markdown":"The JSON itself is not too big. It could have about 30 props, including nested, and it has some multi-level nested maps/lists inside. The problem is I need to process thousands of them for the request, so each millisecond in processing a single item counts. Generating a class from JSON is not what I need, since I know the type in advance and as I said, instantiating objects is slow. And when working with Map I need to cast, which is ugly and also takes some time, because it&#39;s not implicit.","body":"The JSON itself is not too big. It could have about 30 props, including nested, and it has some multi-level nested maps/lists inside. The problem is I need to process thousands of them for the request, so each millisecond in processing a single item counts. Generating a class from JSON is not what I need, since I know the type in advance and as I said, instantiating objects is slow. And when working with Map I need to cast, which is ugly and also takes some time, because it&#39;s not implicit."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1646340760,"post_id":71330259,"comment_id":126105805,"body_markdown":"So honestly, I&#39;m not sure what do you need ;-) Deserializing to classes shouldn&#39;t be slower than deserializing to map. I think it would be even faster. If for some reason you have to keep it as a map then you can create classes that wrap this map. You can make it easier by using property delegation to map: https://kotlinlang.org/docs/delegated-properties.html#storing-properties-in-a-map","body":"So honestly, I&#39;m not sure what do you need ;-) Deserializing to classes shouldn&#39;t be slower than deserializing to map. I think it would be even faster. If for some reason you have to keep it as a map then you can create classes that wrap this map. You can make it easier by using property delegation to map: <a href=\"https://kotlinlang.org/docs/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>"},{"owner":{"account_id":12118656,"reputation":157,"user_id":8851278,"display_name":"Filip Zedek"},"score":0,"creation_date":1647107833,"post_id":71330259,"comment_id":126292402,"body_markdown":"Unfortunately, it&#39;s not faster. It took 327 millis converting 5k items to objects vs 232 to map (Jackson object mapper). The closest I could get in optimization is using property delegation, but here I need to cast when working with arrays.","body":"Unfortunately, it&#39;s not faster. It took 327 millis converting 5k items to objects vs 232 to map (Jackson object mapper). The closest I could get in optimization is using property delegation, but here I need to cast when working with arrays."}],"owner":{"account_id":12118656,"reputation":157,"user_id":8851278,"display_name":"Filip Zedek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646262546,"creation_date":1646262546,"question_id":71330259,"body_markdown":"I read some items from DB as JSON and create a Map&lt;String, Any&gt; from each of them. I want to process the items as Map because instantiating objects using Jackson Object Mapper&#39;s .convertValue took a long time (decimals of milliseconds more than with Map, per item). However, the type of the map is not uniform and when I need to for example get some nested prop (e.g. `map.child.prop`), I need to go like this:\r\n\r\n    val prop = (parentMap[&quot;child&quot;] as Map&lt;String, Any&gt;)[&quot;prop&quot;]\r\n\r\nI am aware there is Apache Commons providing `PropertyUtils.getProperty(map, &quot;map.child.prop&quot;))`, but it is not exactly what I want. The object is quite complex and I need to work with the whole map as it was typed. Is there such an option? The casting goes crazy as the item is a big map, but currently the only solution I have.\r\n\r\nWhat I tried:\r\n1) Convert map to class \r\n- Too long\r\n\r\n2) Using typed map library https://github.com/broo2s/typedmap  \r\n- The map type seems to be built continuously as you add some key/value. But I am not building continuously, I am converting from JSON.\r\n\r\n3) Using Kotlin delegated properties\r\n- Works well for flat structure, but needs to casting when going deeper.\r\n\r\n","title":"Working with heterogenous map as it was typed in Kotlin/Java","body":"<p>I read some items from DB as JSON and create a Map&lt;String, Any&gt; from each of them. I want to process the items as Map because instantiating objects using Jackson Object Mapper's .convertValue took a long time (decimals of milliseconds more than with Map, per item). However, the type of the map is not uniform and when I need to for example get some nested prop (e.g. <code>map.child.prop</code>), I need to go like this:</p>\n<pre><code>val prop = (parentMap[&quot;child&quot;] as Map&lt;String, Any&gt;)[&quot;prop&quot;]\n</code></pre>\n<p>I am aware there is Apache Commons providing <code>PropertyUtils.getProperty(map, &quot;map.child.prop&quot;))</code>, but it is not exactly what I want. The object is quite complex and I need to work with the whole map as it was typed. Is there such an option? The casting goes crazy as the item is a big map, but currently the only solution I have.</p>\n<p>What I tried:</p>\n<ol>\n<li>Convert map to class</li>\n</ol>\n<ul>\n<li>Too long</li>\n</ul>\n<ol start=\"2\">\n<li>Using typed map library <a href=\"https://github.com/broo2s/typedmap\" rel=\"nofollow noreferrer\">https://github.com/broo2s/typedmap</a></li>\n</ol>\n<ul>\n<li>The map type seems to be built continuously as you add some key/value. But I am not building continuously, I am converting from JSON.</li>\n</ul>\n<ol start=\"3\">\n<li>Using Kotlin delegated properties</li>\n</ol>\n<ul>\n<li>Works well for flat structure, but needs to casting when going deeper.</li>\n</ul>\n"},{"tags":["java","android","android-activity","permissions","android-permissions"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646262427,"creation_date":1646262427,"answer_id":71330243,"question_id":71329901,"body_markdown":"Specifically, `requestPermissions()` is used for permissions with a `protectionLevel` of `dangerous`.\r\n\r\n`WRITE_EXTERNAL_STORAGE` [is `dangerous`](https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE). [`WRITE_SETTINGS` is not](https://developer.android.com/reference/android/Manifest.permission#WRITE_SETTINGS).","title":"What are acceptable permissions for ActivityCompat.requestPermissions() to request?","body":"<p>Specifically, <code>requestPermissions()</code> is used for permissions with a <code>protectionLevel</code> of <code>dangerous</code>.</p>\n<p><code>WRITE_EXTERNAL_STORAGE</code> <a href=\"https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">is <code>dangerous</code></a>. <a href=\"https://developer.android.com/reference/android/Manifest.permission#WRITE_SETTINGS\" rel=\"nofollow noreferrer\"><code>WRITE_SETTINGS</code> is not</a>.</p>\n"}],"owner":{"account_id":5949777,"reputation":1089,"user_id":4678207,"accept_rate":93,"display_name":"David Read"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71330243,"answer_count":1,"score":1,"last_activity_date":1646262427,"creation_date":1646259926,"question_id":71329901,"body_markdown":"In my Android app using Java, I define a `checkForPermission()` method to check the grant status of a single permission. If the permission has not already been granted, it requests this permission from the user using `ActivityCompat.requestPermissions()`.\r\n\r\nHere is the method:\r\n\r\n    private boolean checkForPermission(String permission, int rationaleMessageId, int requestCode) {\r\n\r\n        // Check if permission is already granted.\r\n        if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            // Permission has not been granted. Check if a rationale AlertDialog should be shown.\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, permission)) {\r\n\r\n                // Show rationale AlertDialog explaining why this permission is needed.\r\n                new AlertDialog.Builder(this)\r\n                        .setTitle(R.string.rationale_dialog_title)\r\n                        .setMessage(rationaleMessageId)\r\n                        .setPositiveButton(android.R.string.ok,\r\n                                new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                                        // Request permission again.\r\n                                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{permission}, requestCode);\r\n                                    }\r\n                                })\r\n                        .create()\r\n                        .show();\r\n            }\r\n\r\n            // Do not show rationale AlertDialog. Just request permission again.\r\n            else {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{permission}, requestCode);\r\n            }\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\nI&#39;ve noticed that the method works perfectly fine for simple permissions such as `android.permission.WRITE_EXTERNAL_STORAGE`, but does not work for more dangerous permissions such as `android.permission.WRITE_SETTINGS`.\r\n\r\nI&#39;m wondering which types of permissions `ActivityCompat.requestPermissions()` may actually request. My assumption is that dangerous permissions must be requested using other means, but I would like any feedback I can get on this. Thank you.","title":"What are acceptable permissions for ActivityCompat.requestPermissions() to request?","body":"<p>In my Android app using Java, I define a <code>checkForPermission()</code> method to check the grant status of a single permission. If the permission has not already been granted, it requests this permission from the user using <code>ActivityCompat.requestPermissions()</code>.</p>\n<p>Here is the method:</p>\n<pre><code>private boolean checkForPermission(String permission, int rationaleMessageId, int requestCode) {\n\n    // Check if permission is already granted.\n    if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n\n        // Permission has not been granted. Check if a rationale AlertDialog should be shown.\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, permission)) {\n\n            // Show rationale AlertDialog explaining why this permission is needed.\n            new AlertDialog.Builder(this)\n                    .setTitle(R.string.rationale_dialog_title)\n                    .setMessage(rationaleMessageId)\n                    .setPositiveButton(android.R.string.ok,\n                            new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialogInterface, int i) {\n                                    // Request permission again.\n                                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{permission}, requestCode);\n                                }\n                            })\n                    .create()\n                    .show();\n        }\n\n        // Do not show rationale AlertDialog. Just request permission again.\n        else {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{permission}, requestCode);\n        }\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n<p>I've noticed that the method works perfectly fine for simple permissions such as <code>android.permission.WRITE_EXTERNAL_STORAGE</code>, but does not work for more dangerous permissions such as <code>android.permission.WRITE_SETTINGS</code>.</p>\n<p>I'm wondering which types of permissions <code>ActivityCompat.requestPermissions()</code> may actually request. My assumption is that dangerous permissions must be requested using other means, but I would like any feedback I can get on this. Thank you.</p>\n"},{"tags":["java","maven","jvm","heap-memory"],"comments":[{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":1,"creation_date":1400687100,"post_id":23787943,"comment_id":36585371,"body_markdown":"Can you run java at all? Try `java -version` first. What happens?","body":"Can you run java at all? Try <code>java -version</code> first. What happens?"},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1400687365,"post_id":23787943,"comment_id":36585539,"body_markdown":"Are you sure `-Xms256m -Xmx512m` doesn&#39;t contain strange characters? Perhaps the hyphen became an n-dash or something? Might have happened if you copy/pasted the example from somewhere.","body":"Are you sure <code>-Xms256m -Xmx512m</code> doesn&#39;t contain strange characters? Perhaps the hyphen became an n-dash or something? Might have happened if you copy/pasted the example from somewhere."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1400687745,"post_id":23787943,"comment_id":36585785,"body_markdown":"@RobAu No such thing as &quot;M3_HOME&quot;, it&#39;s just M2_HOME for all versions of Maven. See http://maven.apache.org/download.cgi#Installation","body":"@RobAu No such thing as &quot;M3_HOME&quot;, it&#39;s just M2_HOME for all versions of Maven. See <a href=\"http://maven.apache.org/download.cgi#Installation\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi#Installation</a>"},{"owner":{"account_id":1799971,"reputation":767,"user_id":1638555,"display_name":"khriskooper"},"score":0,"creation_date":1400687880,"post_id":23787943,"comment_id":36585875,"body_markdown":"Really? Mine is set to &quot;MAVEN_HOME&quot;, which works fine.","body":"Really? Mine is set to &quot;MAVEN_HOME&quot;, which works fine."},{"owner":{"account_id":1799971,"reputation":767,"user_id":1638555,"display_name":"khriskooper"},"score":0,"creation_date":1400688218,"post_id":23787943,"comment_id":36586105,"body_markdown":"Since it&#39;s optional, what happens when you remove the MAVEN_OPTS altogether?","body":"Since it&#39;s optional, what happens when you remove the MAVEN_OPTS altogether?"},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1400695026,"post_id":23787943,"comment_id":36590350,"body_markdown":"Do you have to put the options in quotes, e.g. `MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;`?  There is a space between the options, perhaps Windows doesn&#39;t like that.","body":"Do you have to put the options in quotes, e.g. <code>MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;</code>?  There is a space between the options, perhaps Windows doesn&#39;t like that."},{"owner":{"account_id":1099852,"reputation":321,"user_id":1092531,"accept_rate":44,"display_name":"med_alpa"},"score":3,"creation_date":1418747308,"post_id":23787943,"comment_id":43448574,"body_markdown":"I resolved the same issue on windows executing this command on windows command line : set MAVEN_OPTS=-Xmx1024M -XX:MaxPermSize=256M","body":"I resolved the same issue on windows executing this command on windows command line : set MAVEN_OPTS=-Xmx1024M -XX:MaxPermSize=256M"},{"owner":{"account_id":1656808,"reputation":2475,"user_id":1526139,"accept_rate":25,"display_name":"Yauhen"},"score":1,"creation_date":1421928761,"post_id":23787943,"comment_id":44553678,"body_markdown":"med_alpa comment helps me, quotes are ambiguous in Windows","body":"med_alpa comment helps me, quotes are ambiguous in Windows"}],"answers":[{"tags":[],"owner":{"account_id":6826184,"reputation":1,"user_id":5251838,"display_name":"sunil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440158725,"creation_date":1440158725,"answer_id":32139893,"question_id":23787943,"body_markdown":"alter jvm.config in .mvn directory ( it is in controller directory ).\r\nstudy mvn.sh that comes with maven. you will see MAVEN_OPTS setting in the script. \r\ntry out java &lt;heap option&gt; -version before altering. \r\neg : java -Xmx512m -version\r\nnow you know how to go about and make the changes.\r\n\r\n/sunil","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>alter jvm.config in .mvn directory ( it is in controller directory ).\nstudy mvn.sh that comes with maven. you will see MAVEN_OPTS setting in the script. \ntry out java  -version before altering. \neg : java -Xmx512m -version\nnow you know how to go about and make the changes.</p>\n\n<p>/sunil</p>\n"},{"tags":[],"owner":{"account_id":11643443,"reputation":1,"user_id":8527142,"display_name":"David Hern&#225;ndez Mart&#237;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503921328,"creation_date":1503919839,"answer_id":45917953,"question_id":23787943,"body_markdown":"Try using: -Xmx1024M \r\n\r\n**Note:** &#39;M&#39; instead &#39;m&#39;","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>Try using: -Xmx1024M </p>\n\n<p><strong>Note:</strong> 'M' instead 'm'</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572264849,"creation_date":1530796801,"answer_id":51192416,"question_id":23787943,"body_markdown":"User @med_alpa had the right suggestion in my case (Windows):\r\n\r\n&gt; I resolved the same issue on windows executing this command on windows\r\n&gt; command line : set MAVEN_OPTS=-Xmx1024M -XX:MaxPermSize=256M\r\n\r\nSo make sure to not put quotes around the value you set for MAVEN_OPTS ","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>User @med_alpa had the right suggestion in my case (Windows):</p>\n\n<blockquote>\n  <p>I resolved the same issue on windows executing this command on windows\n  command line : set MAVEN_OPTS=-Xmx1024M -XX:MaxPermSize=256M</p>\n</blockquote>\n\n<p>So make sure to not put quotes around the value you set for MAVEN_OPTS </p>\n"},{"tags":[],"owner":{"account_id":1920607,"reputation":1847,"user_id":1732222,"accept_rate":64,"display_name":"Micah Stubbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646262276,"creation_date":1646262276,"answer_id":71330219,"question_id":23787943,"body_markdown":"On MacOS a version of [@adriaan-koster](https://stackoverflow.com/users/181336/adriaan-koster)&#39;s [answer](https://stackoverflow.com/a/51192416/1732222) works. \r\n\r\nIn your `~/.zshrc` (or `.bashrc` or `.bash_profile`) config file add this line:\r\n\r\n```bash\r\nexport MAVEN_OPTS=&quot;-Xmx2G&quot;\r\n```\r\n\r\nTo test, run `mvn -v` again and verify that it prints the Maven version, Maven home location, and Java version.","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>On MacOS a version of <a href=\"https://stackoverflow.com/users/181336/adriaan-koster\">@adriaan-koster</a>'s <a href=\"https://stackoverflow.com/a/51192416/1732222\">answer</a> works.</p>\n<p>In your <code>~/.zshrc</code> (or <code>.bashrc</code> or <code>.bash_profile</code>) config file add this line:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export MAVEN_OPTS=&quot;-Xmx2G&quot;\n</code></pre>\n<p>To test, run <code>mvn -v</code> again and verify that it prints the Maven version, Maven home location, and Java version.</p>\n"}],"owner":{"account_id":4503574,"reputation":91,"user_id":3661538,"display_name":"metaphizix"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14098,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1646262276,"creation_date":1400686945,"question_id":23787943,"body_markdown":"I&#39;m having problems setting up maven. I&#39;m using windows 7 64 bit with 4 GB of RAM.\r\n\r\nI get this error when trying to run mvn:\r\n\r\n&lt;!-- language-all: none --&gt;\r\n\r\n    Invalid maximum heap size: -Xmx512m.\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nHere are my user variables:\r\n\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_55\r\n    \r\n    M2=%M2_HOME%\\bin\r\n    \r\n    M2_HOME=C:\\Program Files\\Apache Software Foundation\\apache-maven-3.2.1\r\n    \r\n    MAVEN_OPTS=-Xms256m -Xmx512m\r\n    \r\n    Path=%M2%;%JAVA_HOME%\\bin","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>I'm having problems setting up maven. I'm using windows 7 64 bit with 4 GB of RAM.</p>\n\n<p>I get this error when trying to run mvn:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>Invalid maximum heap size: -Xmx512m.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>Here are my user variables:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_55\n\nM2=%M2_HOME%\\bin\n\nM2_HOME=C:\\Program Files\\Apache Software Foundation\\apache-maven-3.2.1\n\nMAVEN_OPTS=-Xms256m -Xmx512m\n\nPath=%M2%;%JAVA_HOME%\\bin\n</code></pre>\n"},{"tags":["java","android","annotations","javassist","bcel"],"comments":[{"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"score":0,"creation_date":1340063335,"post_id":11092573,"comment_id":14525450,"body_markdown":"What other classes reference them?  Why do you have those classes included in your Android app?","body":"What other classes reference them?  Why do you have those classes included in your Android app?"},{"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"score":0,"creation_date":1340064979,"post_id":11092573,"comment_id":14525764,"body_markdown":"i don&#39;t have control over the classes the reference the annotations unfortunately. they are referenced from another library.","body":"i don&#39;t have control over the classes the reference the annotations unfortunately. they are referenced from another library."},{"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"score":0,"creation_date":1340065995,"post_id":11092573,"comment_id":14525929,"body_markdown":"I am still curious, what is the library that references these classes?","body":"I am still curious, what is the library that references these classes?"},{"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"score":0,"creation_date":1340070503,"post_id":11092573,"comment_id":14526621,"body_markdown":"jackson. any class that iterates over the annotations of a class will cause the same problem.","body":"jackson. any class that iterates over the annotations of a class will cause the same problem."}],"answers":[{"tags":[],"owner":{"account_id":170362,"reputation":8745,"user_id":397016,"display_name":"John Watts"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340074962,"creation_date":1340074962,"answer_id":11093841,"question_id":11092573,"body_markdown":"I recommend BCEL 6. You can also use ASM, but I hear BCEL is easier to use. Here is a quick test method for making a field final:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(F.class.getField(&quot;a&quot;).getModifiers());\r\n        JavaClass aClass = Repository.lookupClass(F.class);\r\n        ClassGen aGen = new ClassGen(aClass);\r\n        for (Field field : aGen.getFields()) {\r\n            if (field.getName().equals(&quot;a&quot;)) {\r\n                int mods = field.getModifiers();\r\n                field.setModifiers(mods | Modifier.FINAL);\r\n            }\r\n        }\r\n        final byte[] classBytes = aGen.getJavaClass().getBytes();\r\n        ClassLoader cl = new ClassLoader(null) {\r\n            @Override\r\n            protected synchronized Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n                return defineClass(&quot;F&quot;, classBytes, 0, classBytes.length);\r\n            }\r\n        };\r\n        Class&lt;?&gt; fWithoutDeprecated = cl.loadClass(&quot;F&quot;);\r\n        System.out.println(fWithoutDeprecated.getField(&quot;a&quot;).getModifiers());\r\n    }\r\n\r\nOf course, you would actually write your classes out to disk as files and then jar them up but this is easier for trying things out. I don&#39;t have BCEL 6 handy, so I can&#39;t modify this example to remove annotations, but I imagine the code would be something like:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ...\r\n        ClassGen aGen = new ClassGen(aClass);\r\n        aGen.setAttributes(cleanupAttributes(aGen.getAttributes()));\r\n        aGen.getFields();\r\n        for (Field field : aGen.getFields()) {\r\n            field.setAttributes(cleanupAttributes(field.getAttributes()));\r\n        }\r\n        for (Method method : aGen.getMethods()) {\r\n            method.setAttributes(cleanupAttributes(method.getAttributes()));\r\n        }\r\n        ...\r\n    }\r\n    \r\n    private Attribute[] cleanupAttributes(Attribute[] attributes) {\r\n        for (Attribute attribute : attributes) {\r\n            if (attribute instanceof Annotations) {\r\n                Annotations annotations = (Annotations) attribute;\r\n                if (annotations.isRuntimeVisible()) {\r\n                    AnnotationEntry[] entries = annotations.getAnnotationEntries();\r\n                    List&lt;AnnotationEntry&gt; newEntries = new ArrayList&lt;AnnotationEntry&gt;();\r\n                    for (AnnotationEntry entry : entries) {\r\n                        if (!entry.getAnnotationType().startsWith(&quot;javax&quot;)) {\r\n                            newEntries.add(entry);\r\n                        }\r\n                    }\r\n                    annotations.setAnnotationTable(newEntries);\r\n                }\r\n            }\r\n        }\r\n        return attributes;\r\n    }","title":"Post-compilation removal of annotations from byte code","body":"<p>I recommend BCEL 6. You can also use ASM, but I hear BCEL is easier to use. Here is a quick test method for making a field final:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    System.out.println(F.class.getField(\"a\").getModifiers());\n    JavaClass aClass = Repository.lookupClass(F.class);\n    ClassGen aGen = new ClassGen(aClass);\n    for (Field field : aGen.getFields()) {\n        if (field.getName().equals(\"a\")) {\n            int mods = field.getModifiers();\n            field.setModifiers(mods | Modifier.FINAL);\n        }\n    }\n    final byte[] classBytes = aGen.getJavaClass().getBytes();\n    ClassLoader cl = new ClassLoader(null) {\n        @Override\n        protected synchronized Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n            return defineClass(\"F\", classBytes, 0, classBytes.length);\n        }\n    };\n    Class&lt;?&gt; fWithoutDeprecated = cl.loadClass(\"F\");\n    System.out.println(fWithoutDeprecated.getField(\"a\").getModifiers());\n}\n</code></pre>\n\n<p>Of course, you would actually write your classes out to disk as files and then jar them up but this is easier for trying things out. I don't have BCEL 6 handy, so I can't modify this example to remove annotations, but I imagine the code would be something like:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    ...\n    ClassGen aGen = new ClassGen(aClass);\n    aGen.setAttributes(cleanupAttributes(aGen.getAttributes()));\n    aGen.getFields();\n    for (Field field : aGen.getFields()) {\n        field.setAttributes(cleanupAttributes(field.getAttributes()));\n    }\n    for (Method method : aGen.getMethods()) {\n        method.setAttributes(cleanupAttributes(method.getAttributes()));\n    }\n    ...\n}\n\nprivate Attribute[] cleanupAttributes(Attribute[] attributes) {\n    for (Attribute attribute : attributes) {\n        if (attribute instanceof Annotations) {\n            Annotations annotations = (Annotations) attribute;\n            if (annotations.isRuntimeVisible()) {\n                AnnotationEntry[] entries = annotations.getAnnotationEntries();\n                List&lt;AnnotationEntry&gt; newEntries = new ArrayList&lt;AnnotationEntry&gt;();\n                for (AnnotationEntry entry : entries) {\n                    if (!entry.getAnnotationType().startsWith(\"javax\")) {\n                        newEntries.add(entry);\n                    }\n                }\n                annotations.setAnnotationTable(newEntries);\n            }\n        }\n    }\n    return attributes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87652,"reputation":52646,"user_id":242930,"display_name":"Nikolay Elenkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340079598,"creation_date":1340079598,"answer_id":11094299,"question_id":11092573,"body_markdown":"ProGuard will also do this, in addition to obfuscating your code. ","title":"Post-compilation removal of annotations from byte code","body":"<p>ProGuard will also do this, in addition to obfuscating your code. </p>\n"},{"tags":[],"owner":{"account_id":1762104,"reputation":11,"user_id":1608931,"display_name":"Peter Fichtner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348822237,"creation_date":1345301762,"answer_id":12019561,"question_id":11092573,"body_markdown":"There is an additional AntTask [Purge Annotation References Ant Task](http://sourceforge.net/projects/purgeannorefs/), which\r\n\r\n&gt; Purge references to annotations out of the java bytecode/classfiles\r\n&gt; (remove the @Anno tag from annotated elements). Now you can use\r\n&gt; annotations to check constellations in bytecode after compilation but\r\n&gt; remove the used annos before releasing the jars.","title":"Post-compilation removal of annotations from byte code","body":"<p>There is an additional AntTask <a href=\"http://sourceforge.net/projects/purgeannorefs/\" rel=\"nofollow\">Purge Annotation References Ant Task</a>, which</p>\n\n<blockquote>\n  <p>Purge references to annotations out of the java bytecode/classfiles\n  (remove the @Anno tag from annotated elements). Now you can use\n  annotations to check constellations in bytecode after compilation but\n  remove the used annos before releasing the jars.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":485928,"reputation":1328,"user_id":902533,"display_name":"Mikalai Parafeniuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487238794,"creation_date":1487237014,"answer_id":42269690,"question_id":11092573,"body_markdown":"I have used [ByteBuddy][1] library to remove annotations. Unfortunately I was unable to remove annotation with high level api, so I used ASM api.  Here is example, how you can remove @Deprecated annotation from field of a class:\r\n\r\n    import net.bytebuddy.ByteBuddy;\r\n    import net.bytebuddy.asm.AsmVisitorWrapper;\r\n    import net.bytebuddy.description.field.FieldDescription;\r\n    import net.bytebuddy.description.type.TypeDescription;\r\n    import net.bytebuddy.jar.asm.AnnotationVisitor;\r\n    import net.bytebuddy.jar.asm.FieldVisitor;\r\n    import net.bytebuddy.jar.asm.Opcodes;\r\n    import net.bytebuddy.jar.asm.Type;\r\n    import net.bytebuddy.matcher.ElementMatchers;\r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.util.Arrays;\r\n\r\n    public class Test {\r\n\r\n        public static class Foo {\r\n            @Deprecated\r\n            public Integer bar;\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(&quot;Annotations before processing &quot; + getAnnotationsString(Foo.class));\r\n            Class&lt;? extends Foo&gt; modifiedClass = new ByteBuddy()\r\n                    .redefine(Foo.class)\r\n                    .visit(new AsmVisitorWrapper.ForDeclaredFields()\r\n                            .field(ElementMatchers.isAnnotatedWith(Deprecated.class),\r\n                                    new AsmVisitorWrapper.ForDeclaredFields.FieldVisitorWrapper() {\r\n                                        @Override\r\n                                        public FieldVisitor wrap(TypeDescription instrumentedType,\r\n                                                                 FieldDescription.InDefinedShape fieldDescription,\r\n                                                                 FieldVisitor fieldVisitor) {\r\n                                            return new FieldVisitor(Opcodes.ASM5, fieldVisitor) {\r\n                                                @Override\r\n                                                public AnnotationVisitor visitAnnotation(String desc, boolean visible) {\r\n                                                    if (Type.getDescriptor(Deprecated.class).equals(desc)) {\r\n                                                        return null;\r\n                                                    }\r\n                                                    return super.visitAnnotation(desc, visible);\r\n                                                }\r\n                                            };\r\n                                        }\r\n                                    }))\r\n                    // can&#39;t use the same name, because Test$Foo is already loaded\r\n                    .name(&quot;Test$Foo1&quot;)\r\n                    .make()\r\n                    .load(Test.class.getClassLoader())\r\n                    .getLoaded();\r\n            System.out.println(&quot;Annotations after processing &quot; + getAnnotationsString(modifiedClass));\r\n        }\r\n\r\n        private static String getAnnotationsString(Class&lt;? extends  Foo&gt; clazz) throws NoSuchFieldException {\r\n            Annotation[] annotations = clazz.getDeclaredField(&quot;bar&quot;).getDeclaredAnnotations();\r\n            return Arrays.toString(annotations);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://bytebuddy.net/#/","title":"Post-compilation removal of annotations from byte code","body":"<p>I have used <a href=\"http://bytebuddy.net/#/\" rel=\"nofollow noreferrer\">ByteBuddy</a> library to remove annotations. Unfortunately I was unable to remove annotation with high level api, so I used ASM api.  Here is example, how you can remove @Deprecated annotation from field of a class:</p>\n\n<pre><code>import net.bytebuddy.ByteBuddy;\nimport net.bytebuddy.asm.AsmVisitorWrapper;\nimport net.bytebuddy.description.field.FieldDescription;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.jar.asm.AnnotationVisitor;\nimport net.bytebuddy.jar.asm.FieldVisitor;\nimport net.bytebuddy.jar.asm.Opcodes;\nimport net.bytebuddy.jar.asm.Type;\nimport net.bytebuddy.matcher.ElementMatchers;\n\nimport java.lang.annotation.Annotation;\nimport java.util.Arrays;\n\npublic class Test {\n\n    public static class Foo {\n        @Deprecated\n        public Integer bar;\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(\"Annotations before processing \" + getAnnotationsString(Foo.class));\n        Class&lt;? extends Foo&gt; modifiedClass = new ByteBuddy()\n                .redefine(Foo.class)\n                .visit(new AsmVisitorWrapper.ForDeclaredFields()\n                        .field(ElementMatchers.isAnnotatedWith(Deprecated.class),\n                                new AsmVisitorWrapper.ForDeclaredFields.FieldVisitorWrapper() {\n                                    @Override\n                                    public FieldVisitor wrap(TypeDescription instrumentedType,\n                                                             FieldDescription.InDefinedShape fieldDescription,\n                                                             FieldVisitor fieldVisitor) {\n                                        return new FieldVisitor(Opcodes.ASM5, fieldVisitor) {\n                                            @Override\n                                            public AnnotationVisitor visitAnnotation(String desc, boolean visible) {\n                                                if (Type.getDescriptor(Deprecated.class).equals(desc)) {\n                                                    return null;\n                                                }\n                                                return super.visitAnnotation(desc, visible);\n                                            }\n                                        };\n                                    }\n                                }))\n                // can't use the same name, because Test$Foo is already loaded\n                .name(\"Test$Foo1\")\n                .make()\n                .load(Test.class.getClassLoader())\n                .getLoaded();\n        System.out.println(\"Annotations after processing \" + getAnnotationsString(modifiedClass));\n    }\n\n    private static String getAnnotationsString(Class&lt;? extends  Foo&gt; clazz) throws NoSuchFieldException {\n        Annotation[] annotations = clazz.getDeclaredField(\"bar\").getDeclaredAnnotations();\n        return Arrays.toString(annotations);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3780,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":11093841,"answer_count":4,"score":12,"last_activity_date":1646261327,"creation_date":1340062806,"question_id":11092573,"body_markdown":"We are using a library that contains beans that are annotated with JAXB annotations. nothing in the way we use these classes depends on JAXB. in other words, we don&#39;t need JAXB and do not depend on the annotations.\r\n\r\nHowever, because the annotations exist, they end up being referenced by other classes that process annotations. This requires me to bundle JAXB in our application, which isn&#39;t allowed, because JAXB is in the `javax.*` package (Android doesn&#39;t allow &quot;core libraries&quot; to be included in your application).\r\n\r\nSo, with this in mind, I&#39;m looking for a way to remove the annotations from the compiled byte code. I know there are utilities for manipulating byte code, but this is quite new to me. How can I get started?\r\n","title":"Post-compilation removal of annotations from byte code","body":"<p>We are using a library that contains beans that are annotated with JAXB annotations. nothing in the way we use these classes depends on JAXB. in other words, we don't need JAXB and do not depend on the annotations.</p>\n<p>However, because the annotations exist, they end up being referenced by other classes that process annotations. This requires me to bundle JAXB in our application, which isn't allowed, because JAXB is in the <code>javax.*</code> package (Android doesn't allow &quot;core libraries&quot; to be included in your application).</p>\n<p>So, with this in mind, I'm looking for a way to remove the annotations from the compiled byte code. I know there are utilities for manipulating byte code, but this is quite new to me. How can I get started?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":16322449,"reputation":29,"user_id":11787904,"display_name":"greenTea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646261241,"creation_date":1646261241,"answer_id":71330072,"question_id":71329439,"body_markdown":"I solved this issue (it was silly).\r\n\r\n - I went into the Firebase database and noticed that there were some entries without a User Id.\r\n - These entries were already in there database before i started pushing user ids to the particular node.\r\n - I just deleted these bad entries and re-ran the app.","title":"How Can I Hide Button On Some Recycler View Rows For Only Some Users","body":"<p>I solved this issue (it was silly).</p>\n<ul>\n<li>I went into the Firebase database and noticed that there were some entries without a User Id.</li>\n<li>These entries were already in there database before i started pushing user ids to the particular node.</li>\n<li>I just deleted these bad entries and re-ran the app.</li>\n</ul>\n"}],"owner":{"account_id":16322449,"reputation":29,"user_id":11787904,"display_name":"greenTea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646261241,"creation_date":1646256955,"question_id":71329439,"body_markdown":"Issue:\r\n- Currently, a user can write a post and it displays in a recycler view.\r\n- There is a menu button on each recycler view row where a user can edit/delete their post.\r\n- I don&#39;t want users who are not the authors of the post to be able to access this menu button.\r\n- I want the menu button hidden for everyone who is not the author of that post.\r\n\r\n- Below is part of my adapter\r\n- I know I&#39;m probably missing something very simple, but I just can not figure out what it is. Thank you so much for your help.\r\n\r\n````public class MainPostsAdapter extends FirebaseRecyclerAdapter&lt;MainWallModel, MainPostsAdapter.myviewholder&gt;\r\n{\r\n    private ArrayList&lt;MainWallModel&gt; mainwallPosts = new ArrayList&lt;&gt;();\r\n    private MainWallInterface mainWallInterface;\r\n    FirebaseAuth mAuth;\r\n    private FirebaseUser currentuser;\r\n\r\n    private String userID, currentUserID;\r\n\r\n    public  void updateMainPosts(ArrayList list) {\r\n        //this is used to update the adapter when new data is added, so it will show fresh data in the recyclerview.//\r\n        mainwallPosts .clear();\r\n        mainwallPosts .addAll(list);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n\r\n\r\n    public MainPostsAdapter(@NonNull FirebaseRecyclerOptions&lt;MainWallModel&gt; options) {\r\n        super(options);\r\n        currentuser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull MainWallModel model)\r\n    {\r\n\r\n        //MainWallModel mainWallModel = mainwallPosts.get(position);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        String currentUserId = mAuth.getCurrentUser().getUid();\r\n\r\n        holder.full_name.setText(model.getFirst_name());\r\n        holder.post_date.setText(model.getPost_date());\r\n        holder.post_body_text.setText(model.getPost_body_text());\r\n\r\n        holder.setData(model,mainWallInterface);\r\n\r\n/////////POINT OF ISSUE - APP CRASHES //////////////\r\n\r\n        String postAuthorId = model.getUser_id();\r\n        if(postAuthorId.equals(currentUserId)){\r\n            holder.kabobMenuButton.setVisibility(VISIBLE);\r\n\r\n        } else {\r\n            holder.kabobMenuButton.setVisibility(GONE);\r\n\r\n        }\r\n/////////POINT OF ISSUE - APP CRASHES //////////////\r\n\r\n","title":"How Can I Hide Button On Some Recycler View Rows For Only Some Users","body":"<p>Issue:</p>\n<ul>\n<li><p>Currently, a user can write a post and it displays in a recycler view.</p>\n</li>\n<li><p>There is a menu button on each recycler view row where a user can edit/delete their post.</p>\n</li>\n<li><p>I don't want users who are not the authors of the post to be able to access this menu button.</p>\n</li>\n<li><p>I want the menu button hidden for everyone who is not the author of that post.</p>\n</li>\n<li><p>Below is part of my adapter</p>\n</li>\n<li><p>I know I'm probably missing something very simple, but I just can not figure out what it is. Thank you so much for your help.</p>\n</li>\n</ul>\n<pre><code>{\n    private ArrayList&lt;MainWallModel&gt; mainwallPosts = new ArrayList&lt;&gt;();\n    private MainWallInterface mainWallInterface;\n    FirebaseAuth mAuth;\n    private FirebaseUser currentuser;\n\n    private String userID, currentUserID;\n\n    public  void updateMainPosts(ArrayList list) {\n        //this is used to update the adapter when new data is added, so it will show fresh data in the recyclerview.//\n        mainwallPosts .clear();\n        mainwallPosts .addAll(list);\n        notifyDataSetChanged();\n    }\n\n\n\n    public MainPostsAdapter(@NonNull FirebaseRecyclerOptions&lt;MainWallModel&gt; options) {\n        super(options);\n        currentuser = FirebaseAuth.getInstance().getCurrentUser();\n\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull MainWallModel model)\n    {\n\n        //MainWallModel mainWallModel = mainwallPosts.get(position);\n        mAuth = FirebaseAuth.getInstance();\n        String currentUserId = mAuth.getCurrentUser().getUid();\n\n        holder.full_name.setText(model.getFirst_name());\n        holder.post_date.setText(model.getPost_date());\n        holder.post_body_text.setText(model.getPost_body_text());\n\n        holder.setData(model,mainWallInterface);\n\n/////////POINT OF ISSUE - APP CRASHES //////////////\n\n        String postAuthorId = model.getUser_id();\n        if(postAuthorId.equals(currentUserId)){\n            holder.kabobMenuButton.setVisibility(VISIBLE);\n\n        } else {\n            holder.kabobMenuButton.setVisibility(GONE);\n\n        }\n/////////POINT OF ISSUE - APP CRASHES //////////////\n\n</code></pre>\n"},{"tags":["java","arrays","list","loops","combinations"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1646259463,"post_id":71329799,"comment_id":126082149,"body_markdown":"Use 3 nested loops.","body":"Use 3 nested loops."}],"answers":[{"tags":[],"owner":{"account_id":18264024,"reputation":50,"user_id":13296195,"display_name":"Frangu Mădălin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646261038,"creation_date":1646261038,"answer_id":71330050,"question_id":71329799,"body_markdown":"Create 3 nested loops that loop trough each element in the array.\r\nThen create a new array inside the nested loops.\r\nAccess the values from your array using the variable that you named in the loop as the index.\r\nShould look something like:\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n    // 2 more nested loops\r\n    // char[] combination = new char[]{array[i], array[j], array[k]};\r\n    }\r\n\r\nI&#39;m assuming that this is some kind of university assignment.\r\nQuick tip would be to always try to find the solution in pseudocode before writing the actual code.\r\nUnderstand the problem first, find a solution on paper even, and after that you can research on how to apply the solution using specific language syntax.\r\nThis snippet should be more than enough to get you going.","title":"Char combination with repetition in Java","body":"<p>Create 3 nested loops that loop trough each element in the array.\nThen create a new array inside the nested loops.\nAccess the values from your array using the variable that you named in the loop as the index.\nShould look something like:</p>\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n// 2 more nested loops\n// char[] combination = new char[]{array[i], array[j], array[k]};\n}\n</code></pre>\n<p>I'm assuming that this is some kind of university assignment.\nQuick tip would be to always try to find the solution in pseudocode before writing the actual code.\nUnderstand the problem first, find a solution on paper even, and after that you can research on how to apply the solution using specific language syntax.\nThis snippet should be more than enough to get you going.</p>\n"}],"owner":{"account_id":15003718,"reputation":11,"user_id":10830470,"display_name":"Antonio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646320817,"answer_count":1,"score":0,"last_activity_date":1646261038,"creation_date":1646259236,"question_id":71329799,"body_markdown":"sorry for the maybe trivial question, but taken an array of chars [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] I would like to get as an output a series of char arrays (also List are fine) listing all the 27 combinations, including of course the repetitions. For instance:\r\n\r\n    [&#39;a&#39;, &#39;a&#39;, &#39;c&#39;]\r\n    [&#39;a&#39;, &#39;a&#39;, &#39;a&#39;]\r\n    [&#39;c&#39;, &#39;a&#39;, &#39;b&#39;]\r\n\r\nand so on\r\n\r\ncould you please help me in the implementation? \r\n\r\nThank you in advance","title":"Char combination with repetition in Java","body":"<p>sorry for the maybe trivial question, but taken an array of chars ['a', 'b', 'c'] I would like to get as an output a series of char arrays (also List are fine) listing all the 27 combinations, including of course the repetitions. For instance:</p>\n<pre><code>['a', 'a', 'c']\n['a', 'a', 'a']\n['c', 'a', 'b']\n</code></pre>\n<p>and so on</p>\n<p>could you please help me in the implementation?</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-mvc","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646259357,"creation_date":1645703282,"answer_id":71251483,"question_id":71250920,"body_markdown":"It works as follows, but don&#39;t know it that&#39;s the correct way:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class ReactiveWebFluxConfigurer {\r\n    \t@Value(&quot;${spring.mvc.contentnegotiation.parameter-name}&quot;)\r\n    \tprivate String formatName;\r\n    \r\n    \t@Bean\r\n\t    public WebFluxConfigurer webFluxConfigurer() {\r\n\t\t    return new WebFluxConfigurer() {\r\n\t\t\t    @Override\r\n\t\t\t    public void configureContentTypeResolver(RequestedContentTypeResolverBuilder builder) {\r\n\t\t\t\t    builder.parameterResolver().parameterName(formatName);\r\n\r\n                    //if you want, add additional fallback to Accept header if format param is missing\r\n\t\t\t\t    builder.headerResolver();\r\n\t\t\t    }\r\n\t\t    };\r\n\t    }\r\n    }\r\n\r\n","title":"How to use content negotation format parameter in Spring WebFlux?","body":"<p>It works as follows, but don't know it that's the correct way:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class ReactiveWebFluxConfigurer {\n    @Value(&quot;${spring.mvc.contentnegotiation.parameter-name}&quot;)\n    private String formatName;\n\n    @Bean\n    public WebFluxConfigurer webFluxConfigurer() {\n        return new WebFluxConfigurer() {\n            @Override\n            public void configureContentTypeResolver(RequestedContentTypeResolverBuilder builder) {\n                builder.parameterResolver().parameterName(formatName);\n\n                //if you want, add additional fallback to Accept header if format param is missing\n                builder.headerResolver();\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71251483,"answer_count":1,"score":0,"last_activity_date":1646259357,"creation_date":1645700488,"question_id":71250920,"body_markdown":"    spring.mvc.contentnegotiation.favor-parameter=true\r\n    spring.mvc.contentnegotiation.parameter-name=format\r\n\r\nHow can I use the content negotiation feature in spring `webflux`?\r\n\r\nSo that `/request?format=json` is possible beside `Accept` header.","title":"How to use content negotation format parameter in Spring WebFlux?","body":"<pre><code>spring.mvc.contentnegotiation.favor-parameter=true\nspring.mvc.contentnegotiation.parameter-name=format\n</code></pre>\n<p>How can I use the content negotiation feature in spring <code>webflux</code>?</p>\n<p>So that <code>/request?format=json</code> is possible beside <code>Accept</code> header.</p>\n"},{"tags":["java","android","assets","ondemand","app-bundle"],"comments":[{"owner":{"account_id":19638948,"reputation":592,"user_id":14375571,"display_name":"ZP007"},"score":0,"creation_date":1646023509,"post_id":65458733,"comment_id":126013922,"body_markdown":"Pretty comprehensive description here: https://medium.com/mindful-engineering/google-play-asset-delivery-in-android-dcc2059e5a63","body":"Pretty comprehensive description here: <a href=\"https://medium.com/mindful-engineering/google-play-asset-delivery-in-android-dcc2059e5a63\" rel=\"nofollow noreferrer\">medium.com/mindful-engineering/&hellip;</a>"},{"owner":{"account_id":439498,"reputation":199,"user_id":828465,"display_name":"gerardg"},"score":0,"creation_date":1646259955,"post_id":65458733,"comment_id":126082279,"body_markdown":"ZP007 provides a valid link. I did not use it because I had already implemented my solution (see below).","body":"ZP007 provides a valid link. I did not use it because I had already implemented my solution (see below)."}],"answers":[{"tags":[],"owner":{"account_id":439498,"reputation":199,"user_id":828465,"display_name":"gerardg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646259314,"creation_date":1646259314,"answer_id":71329817,"question_id":65458733,"body_markdown":"Google Play said I couldn&#39;t store assets in Internal storage &gt; Android &gt; obb anymore so I attempted to implement Asset Packs, failed, and wrote this question. I ended up simply installing each asset on Play Store as an app, and added the following to my help page. \r\n\r\nThere are NO songs in this app. ZERO. You have to load them from another app. There are currently four other apps that are associated with this app: Birding Via Mic New World, ... Old World, ... Orient Australasia, and ... North American Common.\r\n\r\nThese apps contain songs for their respective region (called YourRegion below) but no functionality other than supply this app with the songs they contain. You will need to install one (or more if desired) of these and transfer the songs to this app.\r\n\r\nIf you are running on Android Version 6.0 or greater, verify your permissions are turned on: Settings &gt; Applications &gt; Application Manager &gt; Birding Via Mic &gt; Permissions\r\n\r\nTo transfer the songs:\r\n1) Install this Birding Via Mic app.\r\n2) Install Birding Via Mic_YourRegion app.\r\n3) Open Birding Via Mic_YourRegion, tap Songs and verify a list of songs is displayed.\r\n4) In this Birding Via Mic app tap the Path button.\r\n5) On the Path screen select Birding Via Mic -- YourRegion.\r\n6) Tap the &quot;Load Now&quot; button.\r\nUninstall the Birding Via Mic_YourRegion app to recover memory.\r\n","title":"How can I load an Android asset pack on-demand using Java from the Google Play app bundle?","body":"<p>Google Play said I couldn't store assets in Internal storage &gt; Android &gt; obb anymore so I attempted to implement Asset Packs, failed, and wrote this question. I ended up simply installing each asset on Play Store as an app, and added the following to my help page.</p>\n<p>There are NO songs in this app. ZERO. You have to load them from another app. There are currently four other apps that are associated with this app: Birding Via Mic New World, ... Old World, ... Orient Australasia, and ... North American Common.</p>\n<p>These apps contain songs for their respective region (called YourRegion below) but no functionality other than supply this app with the songs they contain. You will need to install one (or more if desired) of these and transfer the songs to this app.</p>\n<p>If you are running on Android Version 6.0 or greater, verify your permissions are turned on: Settings &gt; Applications &gt; Application Manager &gt; Birding Via Mic &gt; Permissions</p>\n<p>To transfer the songs:</p>\n<ol>\n<li>Install this Birding Via Mic app.</li>\n<li>Install Birding Via Mic_YourRegion app.</li>\n<li>Open Birding Via Mic_YourRegion, tap Songs and verify a list of songs is displayed.</li>\n<li>In this Birding Via Mic app tap the Path button.</li>\n<li>On the Path screen select Birding Via Mic -- YourRegion.</li>\n<li>Tap the &quot;Load Now&quot; button.\nUninstall the Birding Via Mic_YourRegion app to recover memory.</li>\n</ol>\n"}],"owner":{"account_id":439498,"reputation":199,"user_id":828465,"display_name":"gerardg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1925,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1646259314,"creation_date":1609002362,"question_id":65458733,"body_markdown":"**How can I load an Android asset pack on-demand using Java from the Google Play app bundle?**&lt;br&gt;\r\nI have tried passing the parameter and hard coding it in AssetPackManager.\r\nI think my problem is associated with not understanding interface.\r\n\r\n**Some Links**\r\n\r\nhttps://developer.android.com/guide/playcore/asset-delivery/integrate-java&lt;br&gt;\r\nThe Play Core Java API provides the AssetPackManager class for requesting asset packs,\r\n    managing downloads, and accessing the assets.\r\nYou implement this API according to the delivery type of the asset pack you wish to access.\r\n\r\nhttps://developer.android.com/reference/com/google/android/play/core/assetpacks/AssetPackManager#getpacklocation&lt;br&gt;\r\n\r\n\r\n**My asset pack (SongsNW) structure is at the same level indent as app**\r\n\r\n        app  // my app\r\n            src\r\n               main\r\n                    java\r\n                    AndroidManifest.xml\r\n                build.gradle\r\n\r\n**My app level build.gradle (above) lists my AssetPacks**\r\n\r\n        android {\r\n            other {\r\n                ...\r\n            }\r\n            dynamicFeatures = [&#39;:....X&#39;, &#39;:SongsNW&#39;, &#39;:.....Y&#39;, &#39;:.....Z&#39;]\r\n        }\r\n        dependencies {\r\n            ....\r\n        }\r\n\t\r\n**My Asset Pack (SongsNW)**\r\n\r\n        SongsNW \r\n            src\r\n                main\r\n                    assets\r\n                        NW folder with assets\r\n                    AndroidManifest.xml\r\n                build.gradle\r\n        \r\n**My AndroidManifest.xml (under SongsNW above)**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:dist=&quot;http://schemas.android.com/apk/distribution&quot;\r\n            package=&quot;com.companyname.songsnw&quot;&gt;\r\n        \r\n            &lt;dist:module\r\n                dist:instant=&quot;false&quot;\r\n                dist:title=&quot;@string/title_songsnw&quot;&gt;\r\n                &lt;dist:delivery&gt;\r\n                    &lt;dist:on-demand/&gt;\r\n                &lt;/dist:delivery&gt;\r\n                &lt;dist:fusing dist:include=&quot;false&quot; /&gt;\r\n            &lt;/dist:module&gt;\r\n        &lt;/manifest&gt;\r\n\r\n**My build.gradle (under SongsNW above)**\r\n\r\n        apply plugin: &#39;com.android.asset-pack&#39;\r\n        \r\n        assetPack {\r\n            packName = &quot;SongsNW&quot; // Directory name for the asset pack\r\n            dynamicDelivery {\r\n                deliveryType = &quot;on-demand&quot;\r\n            }\r\n        }\r\n\r\n**LoadAssetPack.java (module)**\r\n\r\n        package com.companyname.appname;\r\n        \r\n        import android.util.Log;\r\n        import com.google.android.play.core.assetpacks.AssetPackLocation;\r\n        import com.google.android.play.core.assetpacks.AssetPackState;\r\n        import com.google.android.play.core.assetpacks.AssetPackStates;\r\n        import com.google.android.play.core.tasks.OnCompleteListener;\r\n        import com.google.android.play.core.tasks.RuntimeExecutionException;\r\n        import com.google.android.play.core.tasks.Task;\r\n        \r\n        import static android.content.ContentValues.TAG;\r\n        \r\n        \r\n        interface AssetPackManager {\r\n            // I am passing the assetPackName to here with this call:\r\n            // AssetPackLocation assetPackLocation = AssetPackManager.getPackLocation(&quot;SongsNW&quot;);\r\n            public static final String TAG = &quot;LoadAssetPack&quot;;\r\n            public static final String assetPackName = &quot;&quot;;\r\n            // public static final String assetPackName = &quot;SongsNW&quot;;\r\n            public static final AssetPackLocation assetPacklocation = null;\r\n\r\n            public static final AssetPackLocation assetPackLocation = getPackLocation(assetPackName);\r\n\r\n            public static AssetPackLocation getPackLocation(String assetPackName) {\r\n                Log.d(TAG, &quot;in AssetPackManager assetPackName:&quot; + assetPackName);\r\n                        AssetPackLocation assetPackLocation = getPackLocation(assetPackName);\r\n                Log.d(TAG, &quot;assetPackName:&quot; + assetPackName + &quot; assetPackLocation: &quot; + assetPackLocation );\r\n                return assetPackLocation;  // null if it isn&#39;t complete\r\n\r\n            }\r\n\r\n            // I need to run the following list, but first I need to understand what I am doing wrong.\r\n            AssetPackStates cancel (List&lt;String&gt; packNames)\r\n            Task&lt;AssetPackStates&gt; fetch (List&lt;String&gt; packNames)\r\n            Task&lt;AssetPackStates&gt; getPackStates (List&lt;String&gt; packNames)\r\n            void registerListener (AssetPackStateUpdateListener listener)\r\n            Task&lt;Void&gt; removePack (String packName)\r\n            Task&lt;Integer&gt; showCellularDataConfirmation (Activity activity)\r\n            void unregisterListener (AssetPackStateUpdateListener listener)\r\n        }\r\n\r\n\r\n**This is not the answer to the above question but I believe it defines the questions better.** \r\n\r\nFirst be able to see the original error message.&lt;br&gt;\r\nIncrease Android Studio Logcat buffer size to hold 16384 KB (Default 1024 KB)&lt;br&gt;\r\nFile &gt; Settings &gt; Editor &gt; General &gt; Console &gt; override console cycle buffer size.&lt;br&gt; then you can see the error at the top.&lt;br&gt;\r\n\r\n**message in Logcat:**&lt;br&gt;\r\nI/SystemServer: InitBeforeStartServices&lt;br&gt;\r\nW/YouTube: Fetching the Gservices key &#39;disable_binder_callback_flush&#39; before the end of the bulk initialization&lt;br&gt;\r\nW/Primes: Primes not initialized, returning default (no-op) Primes instance which will ignore all calls.&lt;br&gt;\r\nPlease call Primes.initialize(...) before using any Primes API.&lt;br&gt;\r\n\r\n**Google the above error provides:**&lt;br&gt;\r\nPlay Services tries to authenticate, closes the profile popup prematurely, fails #2362&lt;br&gt;\r\nhttps://github.com/playgameservices/play-games-plugin-for-unity/issues/2362\r\n\r\n**In the following comment they are discussing Google Play services.**&lt;br&gt;\r\n... The Web Client ID was the right way to go. Once I got that properly configured it did the trick. The part that wasn&#39;t intuitive was the redirect_uri. For anyone running into the same problem because the Google API Console isn&#39;t super intuitive: In the credentials section, under the Oauth consent screen tab, toward the bottom is an &quot;Authorized domains&quot; section. In order to add an Authorized domain, you need to type it into the box right below that says example.com.&lt;br&gt;\r\n\r\n**That brought up a lot of additional questions:**&lt;br&gt;\r\nWhat is the Web Client ID? Where is this credentials section? What is a redirect_uri? What is my Authorized domain? The real question is, Why am I trying to create and manage Google Cloud projects? The answer, I believe, is because that is where Google Play is storing my app bundle.\r\n\r\n**The answer to properly managing projects probably is in:**&lt;br&gt;\r\nhttps://cloud.google.com/resource-manager/docs/creating-managing-projects\r\n\r\n**I have found OAuth clients at**&lt;br&gt;\r\nGoogle Play Console &gt; Settings &gt; Developer account &gt; API access&lt;br&gt;\r\n\r\nSo, my question at this time is: &quot;What is the minimum I need to fill out in Google Play to Initialize the System Server. (Which is my first error statement).\r\n\r\n","title":"How can I load an Android asset pack on-demand using Java from the Google Play app bundle?","body":"<p><strong>How can I load an Android asset pack on-demand using Java from the Google Play app bundle?</strong><br>\nI have tried passing the parameter and hard coding it in AssetPackManager.\nI think my problem is associated with not understanding interface.</p>\n<p><strong>Some Links</strong></p>\n<p><a href=\"https://developer.android.com/guide/playcore/asset-delivery/integrate-java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/playcore/asset-delivery/integrate-java</a><br>\nThe Play Core Java API provides the AssetPackManager class for requesting asset packs,\nmanaging downloads, and accessing the assets.\nYou implement this API according to the delivery type of the asset pack you wish to access.</p>\n<p><a href=\"https://developer.android.com/reference/com/google/android/play/core/assetpacks/AssetPackManager#getpacklocation\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/com/google/android/play/core/assetpacks/AssetPackManager#getpacklocation</a><br></p>\n<p><strong>My asset pack (SongsNW) structure is at the same level indent as app</strong></p>\n<pre><code>    app  // my app\n        src\n           main\n                java\n                AndroidManifest.xml\n            build.gradle\n</code></pre>\n<p><strong>My app level build.gradle (above) lists my AssetPacks</strong></p>\n<pre><code>    android {\n        other {\n            ...\n        }\n        dynamicFeatures = [':....X', ':SongsNW', ':.....Y', ':.....Z']\n    }\n    dependencies {\n        ....\n    }\n</code></pre>\n<p><strong>My Asset Pack (SongsNW)</strong></p>\n<pre><code>    SongsNW \n        src\n            main\n                assets\n                    NW folder with assets\n                AndroidManifest.xml\n            build.gradle\n    \n</code></pre>\n<p><strong>My AndroidManifest.xml (under SongsNW above)</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:dist=&quot;http://schemas.android.com/apk/distribution&quot;\n        package=&quot;com.companyname.songsnw&quot;&gt;\n    \n        &lt;dist:module\n            dist:instant=&quot;false&quot;\n            dist:title=&quot;@string/title_songsnw&quot;&gt;\n            &lt;dist:delivery&gt;\n                &lt;dist:on-demand/&gt;\n            &lt;/dist:delivery&gt;\n            &lt;dist:fusing dist:include=&quot;false&quot; /&gt;\n        &lt;/dist:module&gt;\n    &lt;/manifest&gt;\n</code></pre>\n<p><strong>My build.gradle (under SongsNW above)</strong></p>\n<pre><code>    apply plugin: 'com.android.asset-pack'\n    \n    assetPack {\n        packName = &quot;SongsNW&quot; // Directory name for the asset pack\n        dynamicDelivery {\n            deliveryType = &quot;on-demand&quot;\n        }\n    }\n</code></pre>\n<p><strong>LoadAssetPack.java (module)</strong></p>\n<pre><code>    package com.companyname.appname;\n    \n    import android.util.Log;\n    import com.google.android.play.core.assetpacks.AssetPackLocation;\n    import com.google.android.play.core.assetpacks.AssetPackState;\n    import com.google.android.play.core.assetpacks.AssetPackStates;\n    import com.google.android.play.core.tasks.OnCompleteListener;\n    import com.google.android.play.core.tasks.RuntimeExecutionException;\n    import com.google.android.play.core.tasks.Task;\n    \n    import static android.content.ContentValues.TAG;\n    \n    \n    interface AssetPackManager {\n        // I am passing the assetPackName to here with this call:\n        // AssetPackLocation assetPackLocation = AssetPackManager.getPackLocation(&quot;SongsNW&quot;);\n        public static final String TAG = &quot;LoadAssetPack&quot;;\n        public static final String assetPackName = &quot;&quot;;\n        // public static final String assetPackName = &quot;SongsNW&quot;;\n        public static final AssetPackLocation assetPacklocation = null;\n\n        public static final AssetPackLocation assetPackLocation = getPackLocation(assetPackName);\n\n        public static AssetPackLocation getPackLocation(String assetPackName) {\n            Log.d(TAG, &quot;in AssetPackManager assetPackName:&quot; + assetPackName);\n                    AssetPackLocation assetPackLocation = getPackLocation(assetPackName);\n            Log.d(TAG, &quot;assetPackName:&quot; + assetPackName + &quot; assetPackLocation: &quot; + assetPackLocation );\n            return assetPackLocation;  // null if it isn't complete\n\n        }\n\n        // I need to run the following list, but first I need to understand what I am doing wrong.\n        AssetPackStates cancel (List&lt;String&gt; packNames)\n        Task&lt;AssetPackStates&gt; fetch (List&lt;String&gt; packNames)\n        Task&lt;AssetPackStates&gt; getPackStates (List&lt;String&gt; packNames)\n        void registerListener (AssetPackStateUpdateListener listener)\n        Task&lt;Void&gt; removePack (String packName)\n        Task&lt;Integer&gt; showCellularDataConfirmation (Activity activity)\n        void unregisterListener (AssetPackStateUpdateListener listener)\n    }\n</code></pre>\n<p><strong>This is not the answer to the above question but I believe it defines the questions better.</strong></p>\n<p>First be able to see the original error message.<br>\nIncrease Android Studio Logcat buffer size to hold 16384 KB (Default 1024 KB)<br>\nFile &gt; Settings &gt; Editor &gt; General &gt; Console &gt; override console cycle buffer size.<br> then you can see the error at the top.<br></p>\n<p><strong>message in Logcat:</strong><br>\nI/SystemServer: InitBeforeStartServices<br>\nW/YouTube: Fetching the Gservices key 'disable_binder_callback_flush' before the end of the bulk initialization<br>\nW/Primes: Primes not initialized, returning default (no-op) Primes instance which will ignore all calls.<br>\nPlease call Primes.initialize(...) before using any Primes API.<br></p>\n<p><strong>Google the above error provides:</strong><br>\nPlay Services tries to authenticate, closes the profile popup prematurely, fails #2362<br>\n<a href=\"https://github.com/playgameservices/play-games-plugin-for-unity/issues/2362\" rel=\"nofollow noreferrer\">https://github.com/playgameservices/play-games-plugin-for-unity/issues/2362</a></p>\n<p><strong>In the following comment they are discussing Google Play services.</strong><br>\n... The Web Client ID was the right way to go. Once I got that properly configured it did the trick. The part that wasn't intuitive was the redirect_uri. For anyone running into the same problem because the Google API Console isn't super intuitive: In the credentials section, under the Oauth consent screen tab, toward the bottom is an &quot;Authorized domains&quot; section. In order to add an Authorized domain, you need to type it into the box right below that says example.com.<br></p>\n<p><strong>That brought up a lot of additional questions:</strong><br>\nWhat is the Web Client ID? Where is this credentials section? What is a redirect_uri? What is my Authorized domain? The real question is, Why am I trying to create and manage Google Cloud projects? The answer, I believe, is because that is where Google Play is storing my app bundle.</p>\n<p><strong>The answer to properly managing projects probably is in:</strong><br>\n<a href=\"https://cloud.google.com/resource-manager/docs/creating-managing-projects\" rel=\"nofollow noreferrer\">https://cloud.google.com/resource-manager/docs/creating-managing-projects</a></p>\n<p><strong>I have found OAuth clients at</strong><br>\nGoogle Play Console &gt; Settings &gt; Developer account &gt; API access<br></p>\n<p>So, my question at this time is: &quot;What is the minimum I need to fill out in Google Play to Initialize the System Server. (Which is my first error statement).</p>\n"},{"tags":["java","android","android-videoview"],"comments":[{"owner":{"account_id":2009443,"reputation":3774,"user_id":1798304,"accept_rate":92,"display_name":"MalaKa"},"score":0,"creation_date":1538908514,"post_id":52687639,"comment_id":92302441,"body_markdown":"Make `paused` a member variable.","body":"Make <code>paused</code> a member variable."},{"owner":{"account_id":13391028,"reputation":349,"user_id":9663390,"display_name":"compsciman"},"score":0,"creation_date":1538908572,"post_id":52687639,"comment_id":92302452,"body_markdown":"@MalaKa wouldn&#39;t I have to make `vidRight` a member variable too then? In my case it would not be possible.","body":"@MalaKa wouldn&#39;t I have to make <code>vidRight</code> a member variable too then? In my case it would not be possible."},{"owner":{"account_id":2009443,"reputation":3774,"user_id":1798304,"accept_rate":92,"display_name":"MalaKa"},"score":0,"creation_date":1538908836,"post_id":52687639,"comment_id":92302519,"body_markdown":"No, from what you posted, I don&#39;t think so. If you don&#39;t override the `vidRight` variable, it is effectively final (which is sufficient in java 8). But you do override the value of paused. So you need to make it a member variable.","body":"No, from what you posted, I don&#39;t think so. If you don&#39;t override the <code>vidRight</code> variable, it is effectively final (which is sufficient in java 8). But you do override the value of paused. So you need to make it a member variable."}],"answers":[{"tags":[],"owner":{"account_id":9259838,"reputation":1606,"user_id":6877321,"display_name":"Gratien Asimbahwe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538909870,"creation_date":1538909453,"answer_id":52687779,"question_id":52687639,"body_markdown":"Declare the &quot;paused&quot; variable as a member variable just like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class YourClassName extends AppCompatActivity implements YourInterfaces {\r\n        private boolean paused=false;\r\n        /* your other variables */\r\n          @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n\r\n            vidRight.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n                    @Override\r\n                    public boolean onTouch(View view, MotionEvent event) {\r\n                        if (paused) {\r\n                            vidRight.start();\r\n                            paused = false;\r\n                        }\r\n                        else {\r\n                            vidRight.stopPlayback();\r\n                            paused = true;\r\n                        }\r\n\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to add tap to play/pause to a VideoView?","body":"<p>Declare the \"paused\" variable as a member variable just like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class YourClassName extends AppCompatActivity implements YourInterfaces {\n    private boolean paused=false;\n    /* your other variables */\n      @Override\n    public void onCreate(Bundle savedInstanceState) {\n\n        vidRight.setOnTouchListener(new View.OnTouchListener() {\n\n                @Override\n                public boolean onTouch(View view, MotionEvent event) {\n                    if (paused) {\n                        vidRight.start();\n                        paused = false;\n                    }\n                    else {\n                        vidRight.stopPlayback();\n                        paused = true;\n                    }\n\n                    return true;\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8930357,"reputation":150,"user_id":6663184,"display_name":"Adarsh Yashvanth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539000825,"creation_date":1539000825,"answer_id":52702043,"question_id":52687639,"body_markdown":"You don&#39;t have to maintain a custom flag `paused` for checking the state. Instead you can use `isPlaying` to check if the video is currently playing or not.\r\n\r\n    vidRight.setOnTouchListener(new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent event) {\r\n            if (vidRight.isPlaying()) {\r\n                vidRight.stopPlayback();\r\n             }\r\n             else {\r\n                vidRight.start();\r\n             }\r\n    \r\n             return true;\r\n        }\r\n    });","title":"How to add tap to play/pause to a VideoView?","body":"<p>You don't have to maintain a custom flag <code>paused</code> for checking the state. Instead you can use <code>isPlaying</code> to check if the video is currently playing or not.</p>\n\n<pre><code>vidRight.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n        if (vidRight.isPlaying()) {\n            vidRight.stopPlayback();\n         }\n         else {\n            vidRight.start();\n         }\n\n         return true;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6364280,"reputation":583,"user_id":4938712,"accept_rate":75,"display_name":"Giovanny Pi&#241;eros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646259187,"creation_date":1646259187,"answer_id":71329791,"question_id":52687639,"body_markdown":"I&#39;ve manage to handle this by implementing this code: \r\n\r\n     if (videoView.isPlaying()) {\r\n            videoView.pause();\r\n         } else {\r\n            videoView.start();         \r\n         }\r\nI hope this will be usefull for someone. ","title":"How to add tap to play/pause to a VideoView?","body":"<p>I've manage to handle this by implementing this code:</p>\n<pre><code> if (videoView.isPlaying()) {\n        videoView.pause();\n     } else {\n        videoView.start();         \n     }\n</code></pre>\n<p>I hope this will be usefull for someone.</p>\n"}],"owner":{"account_id":13391028,"reputation":349,"user_id":9663390,"display_name":"compsciman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1646259187,"creation_date":1538908388,"question_id":52687639,"body_markdown":"I&#39;m trying to add video play/pause functionality into a chat that I&#39;m making, so I have a standard:\r\n\r\n    VideoView vidRight;\r\n    vidRight = v.findViewById(R.id.videoViewRight);\r\n\r\nHowever, trying to add a tap to play/pause with a listener is not possible as I would need to declare `paused` final:\r\n\r\n    boolean paused = false;\r\n    vidRight.setOnTouchListener(new View.OnTouchListener() {\r\n    \r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent event) {\r\n            if (paused) {\r\n                vidRight.start();\r\n                paused = false;\r\n            }\r\n            else {\r\n                vidRight.stopPlayback();\r\n                paused = true;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    });\r\n\r\nIs there another way to do this?","title":"How to add tap to play/pause to a VideoView?","body":"<p>I'm trying to add video play/pause functionality into a chat that I'm making, so I have a standard:</p>\n\n<pre><code>VideoView vidRight;\nvidRight = v.findViewById(R.id.videoViewRight);\n</code></pre>\n\n<p>However, trying to add a tap to play/pause with a listener is not possible as I would need to declare <code>paused</code> final:</p>\n\n<pre><code>boolean paused = false;\nvidRight.setOnTouchListener(new View.OnTouchListener() {\n\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n        if (paused) {\n            vidRight.start();\n            paused = false;\n        }\n        else {\n            vidRight.stopPlayback();\n            paused = true;\n        }\n\n        return true;\n    }\n});\n</code></pre>\n\n<p>Is there another way to do this?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1447980356,"creation_date":1447980356,"answer_id":33817107,"question_id":33817045,"body_markdown":"The [javadoc of `JsonObject`][1] states\r\n\r\n&gt; `JsonObject` class represents an **immutable** JSON object value (an\r\n&gt; unordered collection of zero or more name/value pairs). It also\r\n&gt; provides unmodifiable map view to the JSON object name/value mappings.\r\n\r\nYou can&#39;t modify these objects. \r\n\r\nYou&#39;ll need to create a copy. There doesn&#39;t seem to be a direct way to do that. It looks like you&#39;ll need to use `Json.createObjectBuilder()` and build it yourself (see the example in the javadoc linked).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html","title":"How to Modify a javax.json.JsonObject Object?","body":"<p>The <a href=\"http://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"noreferrer\">javadoc of <code>JsonObject</code></a> states</p>\n\n<blockquote>\n  <p><code>JsonObject</code> class represents an <strong>immutable</strong> JSON object value (an\n  unordered collection of zero or more name/value pairs). It also\n  provides unmodifiable map view to the JSON object name/value mappings.</p>\n</blockquote>\n\n<p>You can't modify these objects. </p>\n\n<p>You'll need to create a copy. There doesn't seem to be a direct way to do that. It looks like you'll need to use <code>Json.createObjectBuilder()</code> and build it yourself (see the example in the javadoc linked).</p>\n"},{"tags":[],"owner":{"account_id":11500951,"reputation":101,"user_id":8428764,"display_name":"Lubos Prague"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591170816,"creation_date":1591170816,"answer_id":62167824,"question_id":33817045,"body_markdown":"As answered by Sotirios, you can use JsonObjectBuilders.\r\nTo insert value into JsonObject, you can use method:\r\n\r\n    private JsonObject insertValue(JsonObject source, String key, String value) {\r\n        JsonObjectBuilder builder = Json.createObjectBuilder();\r\n        builder.add(key, value);\r\n        source.entrySet().\r\n                forEach(e -&gt; builder.add(e.getKey(), e.getValue()));\r\n        return builder.build();\r\n    }\r\n\r\nTo insert JsonObject into JsonObject, you can use method:\r\n\r\n    private JsonObject insertObject(JsonObject parent, JsonObject child, String childName) {\r\n        JsonObjectBuilder child_builder = Json.createObjectBuilder();\r\n        JsonObjectBuilder parent_builder = Json.createObjectBuilder();\r\n        parent.entrySet().\r\n                forEach(e -&gt; parent_builder.add(e.getKey(), e.getValue()));\r\n        child.entrySet().\r\n                forEach(e -&gt; child_builder.add(e.getKey(), e.getValue()));\r\n        parent_builder.add(childName, child_builder);\r\n        return parent_builder.build();\r\n    }\r\n\r\nPlease note, if you change the child JsonObject after inserting it into another &quot;parent&quot; JsonObject, it will have no effect on the &quot;parent&quot; JsonObject.\r\n","title":"How to Modify a javax.json.JsonObject Object?","body":"<p>As answered by Sotirios, you can use JsonObjectBuilders.\nTo insert value into JsonObject, you can use method:</p>\n\n<pre><code>private JsonObject insertValue(JsonObject source, String key, String value) {\n    JsonObjectBuilder builder = Json.createObjectBuilder();\n    builder.add(key, value);\n    source.entrySet().\n            forEach(e -&gt; builder.add(e.getKey(), e.getValue()));\n    return builder.build();\n}\n</code></pre>\n\n<p>To insert JsonObject into JsonObject, you can use method:</p>\n\n<pre><code>private JsonObject insertObject(JsonObject parent, JsonObject child, String childName) {\n    JsonObjectBuilder child_builder = Json.createObjectBuilder();\n    JsonObjectBuilder parent_builder = Json.createObjectBuilder();\n    parent.entrySet().\n            forEach(e -&gt; parent_builder.add(e.getKey(), e.getValue()));\n    child.entrySet().\n            forEach(e -&gt; child_builder.add(e.getKey(), e.getValue()));\n    parent_builder.add(childName, child_builder);\n    return parent_builder.build();\n}\n</code></pre>\n\n<p>Please note, if you change the child JsonObject after inserting it into another \"parent\" JsonObject, it will have no effect on the \"parent\" JsonObject.</p>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632922718,"creation_date":1632922718,"answer_id":69377547,"question_id":33817045,"body_markdown":"**JsonObject is immutable** so you cannot modify the object , you can use this example and try to inspire from it : creation of a new JsonObject who contains the same values and add some elements to it ..\r\n\r\n**Example :**\r\n\r\n             \r\n            import java.io.ByteArrayInputStream;\r\n            import java.io.InputStream;\r\n\r\n            import javax.json.Json;\r\n            import javax.json.JsonArray;\r\n            import javax.json.JsonArrayBuilder;\r\n            import javax.json.JsonObject;\r\n            import javax.json.JsonObjectBuilder;\r\n            import javax.json.JsonReader;\r\n            import javax.json.JsonValue;\r\n \r\n\r\n            public class Jsonizer {\r\n\t        public static void main(String[] args) {\r\n\r\n \t\ttry {\r\n\t\t\tString s = &quot;{\\&quot;persons\\&quot;: [ {\\&quot;name\\&quot;:\\&quot;oussama\\&quot;,\\&quot;age\\&quot;:\\&quot;30\\&quot;}, {\\&quot;name\\&quot;:\\&quot;amine\\&quot;,\\&quot;age\\&quot;:\\&quot;25\\&quot;} ]}&quot;;\r\n\t\t\tInputStream is = new ByteArrayInputStream(s.getBytes());\r\n\t\t\tJsonReader jr = Json.createReader(is);\r\n\t\t\tJsonObject jo = jr.readObject();\r\n\t\t\tSystem.out.println(&quot;Before :&quot;);\r\n\t\t\tSystem.out.println(jo);\r\n\t\t\tJsonArray ja = jo.getJsonArray(&quot;persons&quot;);\r\n \r\n\t\t\tInputStream targetStream = new ByteArrayInputStream(&quot;{\\&quot;name\\&quot;:\\&quot;sami\\&quot;,\\&quot;age\\&quot;:\\&quot;50\\&quot;}&quot;.getBytes());\r\n\t\t\tjr = Json.createReader(targetStream);\r\n\t\t\tJsonObject newJo = jr.readObject();\r\n\t\t\tJsonArrayBuilder jsonArraybuilder = Json.createArrayBuilder();\r\n\t\t\tjsonArraybuilder.add(newJo);\r\n\t\t\t\r\n\t\t\tfor (JsonValue jValue : ja) {\r\n\t\t\t\tjsonArraybuilder.add(jValue);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tja = jsonArraybuilder.build();\r\n\t\t\tJsonObjectBuilder jsonObjectBuilder = Json.createObjectBuilder();\r\n\t\t\tjsonObjectBuilder.add(&quot;persons&quot;, ja);\r\n\t\t\tJsonObject jsonAfterAdd = jsonObjectBuilder.build();\r\n\t\t\tSystem.out.println(&quot;After&quot;);\r\n\t\t\tSystem.out.println(jsonAfterAdd.toString());\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t  }\r\n     }\r\n\r\n\r\n**Output :**\r\n\r\n           Before :\r\n           {&quot;persons&quot;:[{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\r\n           After\r\n           {&quot;persons&quot;:[{&quot;name&quot;:&quot;sami&quot;,&quot;age&quot;:&quot;50&quot;},{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\r\n\r\n","title":"How to Modify a javax.json.JsonObject Object?","body":"<p><strong>JsonObject is immutable</strong> so you cannot modify the object , you can use this example and try to inspire from it : creation of a new JsonObject who contains the same values and add some elements to it ..</p>\n<p><strong>Example :</strong></p>\n<pre><code>        import java.io.ByteArrayInputStream;\n        import java.io.InputStream;\n\n        import javax.json.Json;\n        import javax.json.JsonArray;\n        import javax.json.JsonArrayBuilder;\n        import javax.json.JsonObject;\n        import javax.json.JsonObjectBuilder;\n        import javax.json.JsonReader;\n        import javax.json.JsonValue;\n\n\n        public class Jsonizer {\n        public static void main(String[] args) {\n\n    try {\n        String s = &quot;{\\&quot;persons\\&quot;: [ {\\&quot;name\\&quot;:\\&quot;oussama\\&quot;,\\&quot;age\\&quot;:\\&quot;30\\&quot;}, {\\&quot;name\\&quot;:\\&quot;amine\\&quot;,\\&quot;age\\&quot;:\\&quot;25\\&quot;} ]}&quot;;\n        InputStream is = new ByteArrayInputStream(s.getBytes());\n        JsonReader jr = Json.createReader(is);\n        JsonObject jo = jr.readObject();\n        System.out.println(&quot;Before :&quot;);\n        System.out.println(jo);\n        JsonArray ja = jo.getJsonArray(&quot;persons&quot;);\n\n        InputStream targetStream = new ByteArrayInputStream(&quot;{\\&quot;name\\&quot;:\\&quot;sami\\&quot;,\\&quot;age\\&quot;:\\&quot;50\\&quot;}&quot;.getBytes());\n        jr = Json.createReader(targetStream);\n        JsonObject newJo = jr.readObject();\n        JsonArrayBuilder jsonArraybuilder = Json.createArrayBuilder();\n        jsonArraybuilder.add(newJo);\n        \n        for (JsonValue jValue : ja) {\n            jsonArraybuilder.add(jValue);\n        }\n        \n        ja = jsonArraybuilder.build();\n        JsonObjectBuilder jsonObjectBuilder = Json.createObjectBuilder();\n        jsonObjectBuilder.add(&quot;persons&quot;, ja);\n        JsonObject jsonAfterAdd = jsonObjectBuilder.build();\n        System.out.println(&quot;After&quot;);\n        System.out.println(jsonAfterAdd.toString());\n\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n  }\n }\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>       Before :\n       {&quot;persons&quot;:[{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\n       After\n       {&quot;persons&quot;:[{&quot;name&quot;:&quot;sami&quot;,&quot;age&quot;:&quot;50&quot;},{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646258989,"creation_date":1646258989,"answer_id":71329761,"question_id":33817045,"body_markdown":"Try using the simple JSONObject, not javax.\r\n\r\n`import org.json.JSONObject;`\r\n\r\nYou can download the jar or include it in your maven or gradle like so:\r\n\r\n    dependencies {\r\n      compile group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1.1&#39;\r\n    }\r\n\r\nalso see:\r\nhttps://stackoverflow.com/questions/11587001/creating-json-string-using-jsonobject-and-jsonarray","title":"How to Modify a javax.json.JsonObject Object?","body":"<p>Try using the simple JSONObject, not javax.</p>\n<p><code>import org.json.JSONObject;</code></p>\n<p>You can download the jar or include it in your maven or gradle like so:</p>\n<pre><code>dependencies {\n  compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'\n}\n</code></pre>\n<p>also see:\n<a href=\"https://stackoverflow.com/questions/11587001/creating-json-string-using-jsonobject-and-jsonarray\">creating json string using JSONObject and JSONArray</a></p>\n"}],"owner":{"account_id":360835,"reputation":1802,"user_id":703061,"accept_rate":79,"display_name":"wayfare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8231,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1646258989,"creation_date":1447979983,"question_id":33817045,"body_markdown":"I am coding a feature in which I read and write back json. However I can read the json elements from a file but can&#39;t edit the same loaded object. Here is my code which I am working on. \n\n``` java\nInputStream inp = new FileInputStream(jsonFilePath);\nJsonReader reader = Json.createReader(inp);\n\nJsonArray employeesArr = reader.readArray();\nfor (int i = 0; i &lt; 2; i++) {\n    JsonObject jObj = employeesArr.getJsonObject(i);\n    JsonObject teammanager = jObj.getJsonObject(&quot;manager&quot;);\n\n    Employee manager = new Employee();\n    manager.name = teammanager.getString(&quot;name&quot;);\n    manager.emailAddress = teammanager.getString(&quot;email&quot;);\n    System.out.println(&quot;uploading File &quot; + listOfFiles[i].getName());\n    File file  = insertFile(...);\n    JsonObject tmpJsonValue = Json.createObjectBuilder()\n        .add(&quot;fileId&quot;, file.getId())\n        .add(&quot;alternativeLink&quot;, file.getAlternateLink())\n        .build();\n\n    jObj.put(&quot;alternativeLink&quot;, tmpJsonValue.get(&quot;alternativeLink&quot;));  &lt;-- fails here \n}\n```\n\nI get the following exception when I run it. \n\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n&gt;\n&gt;  at java.util.AbstractMap.put(AbstractMap.java:203)\n&gt;\n&gt;  at com.mongodb.okr.DriveQuickstart.uploadAllFiles(DriveQuickstart.java:196)\n&gt;\n&gt;  at com.mongodb.okr.App.main(App.java:28)\n","title":"How to Modify a javax.json.JsonObject Object?","body":"<p>I am coding a feature in which I read and write back json. However I can read the json elements from a file but can't edit the same loaded object. Here is my code which I am working on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream inp = new FileInputStream(jsonFilePath);\nJsonReader reader = Json.createReader(inp);\n\nJsonArray employeesArr = reader.readArray();\nfor (int i = 0; i &lt; 2; i++) {\n    JsonObject jObj = employeesArr.getJsonObject(i);\n    JsonObject teammanager = jObj.getJsonObject(&quot;manager&quot;);\n\n    Employee manager = new Employee();\n    manager.name = teammanager.getString(&quot;name&quot;);\n    manager.emailAddress = teammanager.getString(&quot;email&quot;);\n    System.out.println(&quot;uploading File &quot; + listOfFiles[i].getName());\n    File file  = insertFile(...);\n    JsonObject tmpJsonValue = Json.createObjectBuilder()\n        .add(&quot;fileId&quot;, file.getId())\n        .add(&quot;alternativeLink&quot;, file.getAlternateLink())\n        .build();\n\n    jObj.put(&quot;alternativeLink&quot;, tmpJsonValue.get(&quot;alternativeLink&quot;));  &lt;-- fails here \n}\n</code></pre>\n<p>I get the following exception when I run it.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException</p>\n<p>at java.util.AbstractMap.put(AbstractMap.java:203)</p>\n<p>at com.mongodb.okr.DriveQuickstart.uploadAllFiles(DriveQuickstart.java:196)</p>\n<p>at com.mongodb.okr.App.main(App.java:28)</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1646258150,"post_id":71319520,"comment_id":126081759,"body_markdown":"You might consider starting with a simple working sample like https://github.com/spring-projects/spring-security-samples/blob/main/servlet/java-configuration/authentication/remember-me/src/main/java/example/SecurityConfiguration.java","body":"You might consider starting with a simple working sample like <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/servlet/java-configuration/authentication/remember-me/src/main/java/example/SecurityConfiguration.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security-samples/blob/main&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10362225,"reputation":11,"user_id":7642362,"display_name":"Arpan Shingala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646258517,"creation_date":1646258517,"answer_id":71329686,"question_id":71319520,"body_markdown":"To implement your own logic for authentication, you need to extend WebSecurityConfigurerAdapter and override configure method.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    private final MyUserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService)\r\n                .passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(UNPROTECTED_RESOURCES);\r\n    }\r\n\r\n    @Autowired\r\n    public WebSecurityConfiguration(BCryptPasswordEncoder bCryptPasswordEncoder, MyUserDetailsService userDetailsService) {\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n    }\r\n\r\n\r\nCustom login logic class:\r\n\r\n    @Service\r\n    public class MyUserDetailsService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Override\r\n    @Transactional\r\n    public UserDetails loadUserByUsername(String userName) {\r\n        User user = userService.findUserByUserName(userName);\r\n        List&lt;GrantedAuthority&gt; authorities = getUserAuthority(user.getRoles());\r\n        return buildUserForAuthentication(user, authorities);\r\n    }\r\n\r\n    private List&lt;GrantedAuthority&gt; getUserAuthority(Set&lt;Role&gt; userRoles) {\r\n        Set&lt;GrantedAuthority&gt; roles = new HashSet&lt;&gt;();\r\n        for (Role role : userRoles) {\r\n            roles.add(new SimpleGrantedAuthority(role.getRole()));\r\n        }\r\n        return new ArrayList&lt;&gt;(roles);\r\n    }\r\n\r\n    private UserDetails buildUserForAuthentication(User user, List&lt;GrantedAuthority&gt; authorities) {\r\n        return new org.springframework.security.core.userdetails.User(user.getUserName(), user.getPassword(),\r\n                user.getActive(), true, true, true, authorities);\r\n    }\r\n    }\r\n    \r\nHere is an existing [example][1] I could find for you.\r\n\r\n\r\n\r\n  [1]: https://hellokoding.com/spring-security-login-logout-thymeleaf/","title":"Custom login does not override default login spring boot","body":"<p>To implement your own logic for authentication, you need to extend WebSecurityConfigurerAdapter and override configure method.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\nprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\nprivate final MyUserDetailsService userDetailsService;\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService)\n            .passwordEncoder(bCryptPasswordEncoder);\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(UNPROTECTED_RESOURCES);\n}\n\n@Autowired\npublic WebSecurityConfiguration(BCryptPasswordEncoder bCryptPasswordEncoder, MyUserDetailsService userDetailsService) {\n    this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    this.userDetailsService = userDetailsService;\n}\n}\n</code></pre>\n<p>Custom login logic class:</p>\n<pre><code>@Service\npublic class MyUserDetailsService implements UserDetailsService {\n\n@Autowired\nprivate UserService userService;\n\n@Override\n@Transactional\npublic UserDetails loadUserByUsername(String userName) {\n    User user = userService.findUserByUserName(userName);\n    List&lt;GrantedAuthority&gt; authorities = getUserAuthority(user.getRoles());\n    return buildUserForAuthentication(user, authorities);\n}\n\nprivate List&lt;GrantedAuthority&gt; getUserAuthority(Set&lt;Role&gt; userRoles) {\n    Set&lt;GrantedAuthority&gt; roles = new HashSet&lt;&gt;();\n    for (Role role : userRoles) {\n        roles.add(new SimpleGrantedAuthority(role.getRole()));\n    }\n    return new ArrayList&lt;&gt;(roles);\n}\n\nprivate UserDetails buildUserForAuthentication(User user, List&lt;GrantedAuthority&gt; authorities) {\n    return new org.springframework.security.core.userdetails.User(user.getUserName(), user.getPassword(),\n            user.getActive(), true, true, true, authorities);\n}\n}\n</code></pre>\n<p>Here is an existing <a href=\"https://hellokoding.com/spring-security-login-logout-thymeleaf/\" rel=\"nofollow noreferrer\">example</a> I could find for you.</p>\n"}],"owner":{"account_id":22294782,"reputation":1051,"user_id":16520980,"display_name":"etranz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646258517,"creation_date":1646209675,"question_id":71319520,"body_markdown":"I am working on an application with spring boot and thymeleaf\r\n\r\nI want to override the default login with my custom login \r\n\r\nbut it is redirects me to default login page\r\n\r\nTemplateController\r\n\r\n    @Controller\r\n    public class TemplateController {\r\n    \r\n    \t@GetMapping(&quot;/login&quot;)\r\n    \tpublic String getLoginView() {\r\n    \t\treturn &quot;login&quot;;\r\n    \t}\r\n    }\r\n\r\nApplicationSecurityConfig\r\n\r\n     http\r\n\t\t\t.csrf().disable()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;)\r\n\t\t\t.permitAll()\r\n\t\t\t.antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n\t\t\t.antMatchers(&quot;/admin/api/**&quot;).hasRole(ADMIN.name())\r\n\t\t\t.antMatchers(&quot;/management/api/**&quot;).hasAnyRole(ADMIN.name(), ADMINTRAINEE.name())\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated()\r\n\t\t\t.and()\r\n\t\t\t.formLogin()\r\n\t\t\t.loginPage(&quot;/login&quot;).permitAll();\r\n\r\n\r\nProject structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QIgBj.png","title":"Custom login does not override default login spring boot","body":"<p>I am working on an application with spring boot and thymeleaf</p>\n<p>I want to override the default login with my custom login</p>\n<p>but it is redirects me to default login page</p>\n<p>TemplateController</p>\n<pre><code>@Controller\npublic class TemplateController {\n\n    @GetMapping(&quot;/login&quot;)\n    public String getLoginView() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>ApplicationSecurityConfig</p>\n<pre><code> http\n        .csrf().disable()\n        .authorizeRequests()\n        .antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;)\n        .permitAll()\n        .antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n        .antMatchers(&quot;/admin/api/**&quot;).hasRole(ADMIN.name())\n        .antMatchers(&quot;/management/api/**&quot;).hasAnyRole(ADMIN.name(), ADMINTRAINEE.name())\n        .anyRequest()\n        .authenticated()\n        .and()\n        .formLogin()\n        .loginPage(&quot;/login&quot;).permitAll();\n</code></pre>\n<p>Project structure</p>\n<p><a href=\"https://i.stack.imgur.com/QIgBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QIgBj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","parallel-processing"],"answers":[{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646258503,"creation_date":1646258503,"answer_id":71329684,"question_id":71329607,"body_markdown":"Use an ExecutorService and submit it tasks to run in parallel:\r\n    \r\n    ExecutorService execServ = Executors.newFixedThreadPool(numThreads);\r\n    final List&lt;BulkResponse&gt; bulkResponseList = new ArrayList&lt;&gt;();\r\n    int BULK_SUBREQUEST_SIZE = 5;\r\n\r\n    for (int i = 0; i &lt; numOfSubRequests; i += BULK_SUBREQUEST_SIZE) {\r\n        List&lt;InfoRequest&gt; infoRequestChunk;\r\n        if (i + BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\r\n            infoRequestChunk = infoRequestList.subList(i, numOfSubRequests);\r\n        } else {\r\n            infoRequestChunk = infoRequestList.subList(i, i + BULK_SUBREQUEST_SIZE);\r\n        }\r\n        BulkRequest bulkRequestChunk = new BulkRequest();\r\n        bulkRequestChunk.setRequests(infoRequestChunk);\r\n        execServ.submit(() -&gt; {\r\n            BulkResponse bulkResponseChunk = invokeService(bulkRequestChunk);\r\n            bulkResponseList.add(bulkResponseChunk);\r\n        });\r\n    }\r\n    execServ.shutdown();\r\n    try {\r\n        execServ.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\r\n    } catch (InterruptedException e) {\r\n        \r\n    }","title":"Java how to call a method in parallel passing chunked data","body":"<p>Use an ExecutorService and submit it tasks to run in parallel:</p>\n<pre><code>ExecutorService execServ = Executors.newFixedThreadPool(numThreads);\nfinal List&lt;BulkResponse&gt; bulkResponseList = new ArrayList&lt;&gt;();\nint BULK_SUBREQUEST_SIZE = 5;\n\nfor (int i = 0; i &lt; numOfSubRequests; i += BULK_SUBREQUEST_SIZE) {\n    List&lt;InfoRequest&gt; infoRequestChunk;\n    if (i + BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\n        infoRequestChunk = infoRequestList.subList(i, numOfSubRequests);\n    } else {\n        infoRequestChunk = infoRequestList.subList(i, i + BULK_SUBREQUEST_SIZE);\n    }\n    BulkRequest bulkRequestChunk = new BulkRequest();\n    bulkRequestChunk.setRequests(infoRequestChunk);\n    execServ.submit(() -&gt; {\n        BulkResponse bulkResponseChunk = invokeService(bulkRequestChunk);\n        bulkResponseList.add(bulkResponseChunk);\n    });\n}\nexecServ.shutdown();\ntry {\n    execServ.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\n} catch (InterruptedException e) {\n    \n}\n</code></pre>\n"}],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71329684,"answer_count":1,"score":0,"last_activity_date":1646258503,"creation_date":1646258049,"question_id":71329607,"body_markdown":"I have an API call that can only accept 5 subrequests at a time. So I need to chunkify if more than 10 subrequests come in and then send them in parallel as per the SLA.\r\n\r\nBelow is a nonparallel chunkified code and I am looking to parallelize this call `invokeService(bulkRequestChunk)`\r\n\r\n```\r\n int BULK_SUBREQUEST_SIZE = 5;\r\n // infoRequestList size = 7\r\n for (int i = 0; i &lt; numOfSubRequests; i += BULK_SUBREQUEST_SIZE) {\r\n                List&lt;InfoRequest&gt; infoRequestChunk;\r\n                if (i + BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\r\n                    infoRequestChunk = infoRequestList.subList(i, numOfSubRequests);\r\n                } else {\r\n                    infoRequestChunk = infoRequestList.subList(i, i + BULK_SUBREQUEST_SIZE);\r\n                }\r\n                BulkRequest bulkRequestChunk = new BulkRequest();\r\n                bulkRequestChunk.setRequests(infoRequestChunk);\r\n                BulkResponse bulkResponseChunk = invokeService(bulkRequestChunk);\r\n\r\n                // output list to capture all chunked requests\r\n                bulkResponseList.add(bulkResponseChunk); \r\n            }\r\n\r\n```","title":"Java how to call a method in parallel passing chunked data","body":"<p>I have an API call that can only accept 5 subrequests at a time. So I need to chunkify if more than 10 subrequests come in and then send them in parallel as per the SLA.</p>\n<p>Below is a nonparallel chunkified code and I am looking to parallelize this call <code>invokeService(bulkRequestChunk)</code></p>\n<pre><code> int BULK_SUBREQUEST_SIZE = 5;\n // infoRequestList size = 7\n for (int i = 0; i &lt; numOfSubRequests; i += BULK_SUBREQUEST_SIZE) {\n                List&lt;InfoRequest&gt; infoRequestChunk;\n                if (i + BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\n                    infoRequestChunk = infoRequestList.subList(i, numOfSubRequests);\n                } else {\n                    infoRequestChunk = infoRequestList.subList(i, i + BULK_SUBREQUEST_SIZE);\n                }\n                BulkRequest bulkRequestChunk = new BulkRequest();\n                bulkRequestChunk.setRequests(infoRequestChunk);\n                BulkResponse bulkResponseChunk = invokeService(bulkRequestChunk);\n\n                // output list to capture all chunked requests\n                bulkResponseList.add(bulkResponseChunk); \n            }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646254835,"creation_date":1646254835,"answer_id":71329081,"question_id":71327227,"body_markdown":"I&#39;m not certain how your project is arranged, but no, it&#39;s not intentional. You can take a look at [Spring Security&#39;s Reactive Sample][1] that demonstrates this.\r\n\r\nIt may be that your `TestClass` is not finding the `@SpringBootConfiguration` annotation attached to `MainApp`.\r\n\r\n  [1]: https://github.com/spring-projects/spring-security-samples/blob/main/reactive/webflux/java/hello-security/src/test/java/example/HelloSecurityTests.java","title":"How to load ServerHttpSecurity in @SpringBootTest?","body":"<p>I'm not certain how your project is arranged, but no, it's not intentional. You can take a look at <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/reactive/webflux/java/hello-security/src/test/java/example/HelloSecurityTests.java\" rel=\"nofollow noreferrer\">Spring Security's Reactive Sample</a> that demonstrates this.</p>\n<p>It may be that your <code>TestClass</code> is not finding the <code>@SpringBootConfiguration</code> annotation attached to <code>MainApp</code>.</p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646258453,"creation_date":1646258105,"answer_id":71329619,"question_id":71327227,"body_markdown":"I have a `spring-boot-starter-web` dependency pulled somewhere in the classpath. Removing it resolved the problem.\r\n\r\nIf both web and webflux dependency should be kept, it&#39;s still possible to run a test in reactive only, with:\r\n\r\n    @SpringBootTest(properties = &quot;spring.main.web-application-type=REACTIVE&quot;)\r\n    class MyWebFluxTests {\r\n    \r\n        // ...\r\n    \r\n    }\r\n\r\n","title":"How to load ServerHttpSecurity in @SpringBootTest?","body":"<p>I have a <code>spring-boot-starter-web</code> dependency pulled somewhere in the classpath. Removing it resolved the problem.</p>\n<p>If both web and webflux dependency should be kept, it's still possible to run a test in reactive only, with:</p>\n<pre><code>@SpringBootTest(properties = &quot;spring.main.web-application-type=REACTIVE&quot;)\nclass MyWebFluxTests {\n\n    // ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646258453,"creation_date":1646244114,"question_id":71327227,"body_markdown":"I want to create a `@SpringBootTest` that makes use of my full configuration structure.\r\n\r\nProblem: I&#39;m creating an `@Bean SecurityWebFilterChain` that requires a `ServerHttpSecurity`, which is somehow missing in a test:\r\n\r\n    @SpringBootApplication  \r\n    public class MainApp { ... }\r\n\r\n    //for simple testing I started with anonymous auth\r\n    @Configuration\r\n    public class ReactiveSecurityConfiguration {\r\n    \t@Bean\r\n    \tpublic SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n    \t\treturn http.anonymous()\r\n    \t\t\t\t.and().csrf().disable()\r\n    \t\t\t\t.build();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    @SpringBootTest\r\n    public class TestClass {\r\n        @Test\r\n        public void test() {\r\n        \r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n    Error creating bean with name &#39;securityWebFilterChain&#39; defined in class path resource [ReactiveSecurityConfiguration.class]:\r\n    Unsatisfied dependency expressed through method &#39;securityWebFilterChain&#39; parameter 0;\r\n    nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException:\r\n    No qualifying bean of type &#39;org.springframework.security.config.web.server.ServerHttpSecurity&#39; available:\r\n    expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n**Update**\r\n\r\nI discovered if I add the following annotations to my **Test** Class, the testmethod works without errors. But is that intentional?\r\n\r\n    @EnableWebFlux\r\n    @EnableWebFluxSecurity\r\n    @SpringBootTest\r\n    public class TestClass { }","title":"How to load ServerHttpSecurity in @SpringBootTest?","body":"<p>I want to create a <code>@SpringBootTest</code> that makes use of my full configuration structure.</p>\n<p>Problem: I'm creating an <code>@Bean SecurityWebFilterChain</code> that requires a <code>ServerHttpSecurity</code>, which is somehow missing in a test:</p>\n<pre><code>@SpringBootApplication  \npublic class MainApp { ... }\n\n//for simple testing I started with anonymous auth\n@Configuration\npublic class ReactiveSecurityConfiguration {\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        return http.anonymous()\n                .and().csrf().disable()\n                .build();\n    }\n}\n\n\n@SpringBootTest\npublic class TestClass {\n    @Test\n    public void test() {\n    \n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'securityWebFilterChain' defined in class path resource [ReactiveSecurityConfiguration.class]:\nUnsatisfied dependency expressed through method 'securityWebFilterChain' parameter 0;\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException:\nNo qualifying bean of type 'org.springframework.security.config.web.server.ServerHttpSecurity' available:\nexpected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p><strong>Update</strong></p>\n<p>I discovered if I add the following annotations to my <strong>Test</strong> Class, the testmethod works without errors. But is that intentional?</p>\n<pre><code>@EnableWebFlux\n@EnableWebFluxSecurity\n@SpringBootTest\npublic class TestClass { }\n</code></pre>\n"},{"tags":["java","drools","rules","decision-tree"],"answers":[{"tags":[],"owner":{"account_id":331890,"reputation":1150,"user_id":656853,"display_name":"kevinpeterson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377106972,"creation_date":1377106972,"answer_id":18364219,"question_id":18359590,"body_markdown":"Generally, I&#39;ve found it is easier to work at a more abstract level, such as a Domain Model, and have some sort of programmatic conversion from that to Drools rules, instead of dealing with Drools rules directly. That way, you can store your Domain Model however you like, and you can build UIs around it, etc, and still have the option to generate Drools rules on demand. Then challenge with this is creating a programmatic transformation from your model to Drools rules, but templating tools will help here. I&#39;ve used Groovy templating for this, and it has worked well.","title":"Data Driven Rules Engine - Drools","body":"<p>Generally, I've found it is easier to work at a more abstract level, such as a Domain Model, and have some sort of programmatic conversion from that to Drools rules, instead of dealing with Drools rules directly. That way, you can store your Domain Model however you like, and you can build UIs around it, etc, and still have the option to generate Drools rules on demand. Then challenge with this is creating a programmatic transformation from your model to Drools rules, but templating tools will help here. I've used Groovy templating for this, and it has worked well.</p>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1377274594,"creation_date":1377273321,"answer_id":18407054,"question_id":18359590,"body_markdown":"You asked me to give an answer to your question, given my answer to [Data driven business rules][1].  My answer to that question was that SQL is a bad solution to *execute* business rules stored in the database.  The person who asked that question wanted to generate SQL expressions from their stored business rules, and I cautioned against doing that, because it would lead to problems in security, testability, performance, and maintenance.\r\n\r\nI have not used Drools, but I gather from documentation that it includes Guvnor, a business rules manager that supports using an RDBMS as a **repository** for user-defined rules.  \r\n\r\n&gt; [Drools] Guvnor uses the JCR standard for storing assets such as rules. The default implementation is Apache Jackrabbit, http://jackrabbit.apache.org. This includes an out of the box storage engine/database, which you can use as is, or configure to use an existing RDBMS if needed. (http://docs.jboss.org/drools/release/5.2.0.Final/drools-guvnor-docs/html/chap-database_configuration.html)\r\n\r\nApache Jackrabbit is not an RDBMS, it is &quot;a content repository is a hierarchical content store with support for structured and unstructured content, full text search, versioning, transactions, observation, and more.&quot;  This seems like a more appropriate repository for Drools.\r\n\r\nBut Drools doesn&#39;t say it tries to use SQL to execute those business rules.  It has a separate component, **Drools Expert (Rules Engine)** to do that.\r\n\r\n&gt; Drools Expert is a declarative, rule based, coding environment. This allows you to focus on &quot;what it is you want to do&quot;, and not the &quot;how to do this&quot;.\r\n(http://www.jboss.org/drools/drools-expert.html)\r\n\r\nSQL is also a declarative programming language, but it&#39;s designed to perform relational operations on table-structured data.  A language to implement a rules engine has different goals, and can probably do things that SQL can&#39;t (and vice-versa).\r\n\r\nSo I would suggest if you use Drools, feel free to use an RDBMS as a repository as they document (use their JCR-compliant implementation of content repository, do not try to design your own).  Then use their Drools Expert as a specialized language designed for executing rules.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6879853/data-driven-business-rules/6879949?noredirect=1#comment27019167_6879949","title":"Data Driven Rules Engine - Drools","body":"<p>You asked me to give an answer to your question, given my answer to <a href=\"https://stackoverflow.com/questions/6879853/data-driven-business-rules/6879949?noredirect=1#comment27019167_6879949\">Data driven business rules</a>.  My answer to that question was that SQL is a bad solution to <em>execute</em> business rules stored in the database.  The person who asked that question wanted to generate SQL expressions from their stored business rules, and I cautioned against doing that, because it would lead to problems in security, testability, performance, and maintenance.</p>\n\n<p>I have not used Drools, but I gather from documentation that it includes Guvnor, a business rules manager that supports using an RDBMS as a <strong>repository</strong> for user-defined rules.  </p>\n\n<blockquote>\n  <p>[Drools] Guvnor uses the JCR standard for storing assets such as rules. The default implementation is Apache Jackrabbit, <a href=\"http://jackrabbit.apache.org\" rel=\"nofollow noreferrer\">http://jackrabbit.apache.org</a>. This includes an out of the box storage engine/database, which you can use as is, or configure to use an existing RDBMS if needed. (<a href=\"http://docs.jboss.org/drools/release/5.2.0.Final/drools-guvnor-docs/html/chap-database_configuration.html\" rel=\"nofollow noreferrer\">http://docs.jboss.org/drools/release/5.2.0.Final/drools-guvnor-docs/html/chap-database_configuration.html</a>)</p>\n</blockquote>\n\n<p>Apache Jackrabbit is not an RDBMS, it is \"a content repository is a hierarchical content store with support for structured and unstructured content, full text search, versioning, transactions, observation, and more.\"  This seems like a more appropriate repository for Drools.</p>\n\n<p>But Drools doesn't say it tries to use SQL to execute those business rules.  It has a separate component, <strong>Drools Expert (Rules Engine)</strong> to do that.</p>\n\n<blockquote>\n  <p>Drools Expert is a declarative, rule based, coding environment. This allows you to focus on \"what it is you want to do\", and not the \"how to do this\".\n  (<a href=\"http://www.jboss.org/drools/drools-expert.html\" rel=\"nofollow noreferrer\">http://www.jboss.org/drools/drools-expert.html</a>)</p>\n</blockquote>\n\n<p>SQL is also a declarative programming language, but it's designed to perform relational operations on table-structured data.  A language to implement a rules engine has different goals, and can probably do things that SQL can't (and vice-versa).</p>\n\n<p>So I would suggest if you use Drools, feel free to use an RDBMS as a repository as they document (use their JCR-compliant implementation of content repository, do not try to design your own).  Then use their Drools Expert as a specialized language designed for executing rules.</p>\n"},{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1377625238,"creation_date":1377625238,"answer_id":18472110,"question_id":18359590,"body_markdown":"&gt; - There is no meaningful UI that i can offer to the end users to modify the rules.\r\n\r\nOut of the box, Guvnor provides [web based decision tables][1] (and [Excel if you prefer][2]), as you say you would like to provide. It provides [guided editors][3] for more complex rules, but your rules would appear to be very simple.\r\n\r\n&gt;  - Guvnor UI or any Editor to modify drl files is just not acceptable from end user point of view \r\n\r\nAs mentioned, Guvnor supports decision tables. If you don&#39;t like the layout of the Guvnor web application, then you can just [embed the Guvnor editors][4] into your own web application.\r\n\r\n&gt; - Most of these Rules will operate on often huge data available in db \r\n\r\nThe size of your database is irrelevant to the use of Guvnor. Guvnor is for editing rules, not  runtime evaluation. Drools Expert is the runtime rules engine. It&#39;s fast. It can deal with very large volumes of data and very large volumes of rules. All you need to do is write database queries to get relevant chunks of that data into the rules engine at runtime. You need to do that, whatever solution you try to implement.\r\n\r\n\r\nOn a side-note, if what you&#39;re really after is an explanation of when rules engines are good (and bad) solutions to a problem, then I would recommend reading the [Why use a Rule engine?][5] section of the Drools Expert manual.\r\n\r\n\r\n  [1]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e1046\r\n  [2]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e1033\r\n  [3]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e599\r\n  [4]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e4506\r\n  [5]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-expert-docs/html_single/#d0e384","title":"Data Driven Rules Engine - Drools","body":"<blockquote>\n  <ul>\n  <li>There is no meaningful UI that i can offer to the end users to modify the rules.</li>\n  </ul>\n</blockquote>\n\n<p>Out of the box, Guvnor provides <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e1046\" rel=\"noreferrer\">web based decision tables</a> (and <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e1033\" rel=\"noreferrer\">Excel if you prefer</a>), as you say you would like to provide. It provides <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e599\" rel=\"noreferrer\">guided editors</a> for more complex rules, but your rules would appear to be very simple.</p>\n\n<blockquote>\n  <ul>\n  <li>Guvnor UI or any Editor to modify drl files is just not acceptable from end user point of view </li>\n  </ul>\n</blockquote>\n\n<p>As mentioned, Guvnor supports decision tables. If you don't like the layout of the Guvnor web application, then you can just <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e4506\" rel=\"noreferrer\">embed the Guvnor editors</a> into your own web application.</p>\n\n<blockquote>\n  <ul>\n  <li>Most of these Rules will operate on often huge data available in db </li>\n  </ul>\n</blockquote>\n\n<p>The size of your database is irrelevant to the use of Guvnor. Guvnor is for editing rules, not  runtime evaluation. Drools Expert is the runtime rules engine. It's fast. It can deal with very large volumes of data and very large volumes of rules. All you need to do is write database queries to get relevant chunks of that data into the rules engine at runtime. You need to do that, whatever solution you try to implement.</p>\n\n<p>On a side-note, if what you're really after is an explanation of when rules engines are good (and bad) solutions to a problem, then I would recommend reading the <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-expert-docs/html_single/#d0e384\" rel=\"noreferrer\">Why use a Rule engine?</a> section of the Drools Expert manual.</p>\n"}],"owner":{"account_id":947165,"reputation":8480,"user_id":974169,"accept_rate":57,"display_name":"Jasper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14054,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":3,"score":13,"last_activity_date":1646257764,"creation_date":1377093793,"question_id":18359590,"body_markdown":"I have been evaluating Drools as a Rules Engine for use in our Business Web Application.\r\n\r\nMy use case is a Order Management Application.&lt;br&gt;\r\n**And the rules are of following kind:**&lt;br&gt;\r\n- If User Type is &quot;SPECIAL&quot; give an extra 5% discount.&lt;br&gt;\r\n- If User has made 10+ Purchases already, give an extra 3% discount.&lt;br&gt;\r\n- If Product Category is &quot;OLD&quot;, give a Gift Hamper to the user worth $5.&lt;br&gt;\r\n- If Product Category is &quot;NEW&quot;, give a Gift Hamper to the user worth $1&lt;br&gt;\r\n- If User has made purchases of over $1000 in the past, Shipping is Free&lt;br&gt;\r\n\r\n**The immediate challenge i see is that:**&lt;br&gt;\r\n- There is no meaningful UI that i can offer to the end users to modify the rules. &lt;br&gt;\r\n- Guvnor UI or any Editor to modify drl files is just not acceptable from end user point of view\r\n- Most of these Rules will operate on often huge data available in db &lt;br&gt;\r\n\r\n**So,**&lt;br&gt;\r\n- I want a way for Admin users to specify these Rule from within my Web App UI.&lt;br&gt;\r\n- Could i store these &quot;Rules&quot; in database, and then operate on them via Drools - at least that allows me to &quot;modify&quot; these Rules via my &quot;own&quot; UI. So this is something like a Decision Table in DB.&lt;br&gt;\r\n- What is the best way to go about this? &lt;br&gt;","title":"Data Driven Rules Engine - Drools","body":"<p>I have been evaluating Drools as a Rules Engine for use in our Business Web Application.</p>\n\n<p>My use case is a Order Management Application.<br>\n<strong>And the rules are of following kind:</strong><br>\n- If User Type is \"SPECIAL\" give an extra 5% discount.<br>\n- If User has made 10+ Purchases already, give an extra 3% discount.<br>\n- If Product Category is \"OLD\", give a Gift Hamper to the user worth $5.<br>\n- If Product Category is \"NEW\", give a Gift Hamper to the user worth $1<br>\n- If User has made purchases of over $1000 in the past, Shipping is Free<br></p>\n\n<p><strong>The immediate challenge i see is that:</strong><br>\n- There is no meaningful UI that i can offer to the end users to modify the rules. <br>\n- Guvnor UI or any Editor to modify drl files is just not acceptable from end user point of view\n- Most of these Rules will operate on often huge data available in db <br></p>\n\n<p><strong>So,</strong><br>\n- I want a way for Admin users to specify these Rule from within my Web App UI.<br>\n- Could i store these \"Rules\" in database, and then operate on them via Drools - at least that allows me to \"modify\" these Rules via my \"own\" UI. So this is something like a Decision Table in DB.<br>\n- What is the best way to go about this? <br></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1646256057,"post_id":71329224,"comment_id":126081170,"body_markdown":"post a [mcve] please","body":"post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please"}],"answers":[{"tags":[],"owner":{"account_id":6529233,"reputation":3369,"user_id":5050924,"display_name":"Facundo Larrosa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646257071,"creation_date":1646257071,"answer_id":71329455,"question_id":71329224,"body_markdown":"You need to remove the braces [] when you reference the array. Instead of `itemList[]` it should be just `itemList` like this:\r\n\r\n    String [] itemList;\r\n\r\n    Magazine magazine1 = new Magazine(nMagazine, itemList, distributionPrice, pvp);","title":"How can I pass a variable of type array","body":"<p>You need to remove the braces [] when you reference the array. Instead of <code>itemList[]</code> it should be just <code>itemList</code> like this:</p>\n<pre><code>String [] itemList;\n\nMagazine magazine1 = new Magazine(nMagazine, itemList, distributionPrice, pvp);\n</code></pre>\n"}],"owner":{"account_id":24321563,"reputation":17,"user_id":18357924,"display_name":"Frank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646257368,"creation_date":1646255759,"question_id":71329224,"body_markdown":"How can I pass a variable of type array as a parameter in an instantiated object\r\n\r\nI have this on the **Main.java Class**: \r\n\r\n    String [] itemList;\r\n\r\n    Magazine magazine1 = new Magazine(nMagazine, itemList[], distributionPrice, pvp);\r\n\r\nThis the **Magazine.java Class**\r\n\r\n    public class Magazine extends Publication {\r\n\r\n     private int numberMagazine;\r\n     private String[] itemList;\r\n\r\n\r\n    public Magazine(int numberMagazine, String[] itemList, float distributionPrice, float pvp) {\r\n        super(distributionPrice, pvp);\r\n        \r\n\r\n        this.numberMagazin = numberMagazin;\r\n        this.itemList = itemList;\r\n\r\n    }\r\n\r\nIn the main class when \r\nI instantiate the magazine1 object I can&#39;t call the **itemList[]** variable and I don&#39;t understand why","title":"How can I pass a variable of type array","body":"<p>How can I pass a variable of type array as a parameter in an instantiated object</p>\n<p>I have this on the <strong>Main.java Class</strong>:</p>\n<pre><code>String [] itemList;\n\nMagazine magazine1 = new Magazine(nMagazine, itemList[], distributionPrice, pvp);\n</code></pre>\n<p>This the <strong>Magazine.java Class</strong></p>\n<pre><code>public class Magazine extends Publication {\n\n private int numberMagazine;\n private String[] itemList;\n\n\npublic Magazine(int numberMagazine, String[] itemList, float distributionPrice, float pvp) {\n    super(distributionPrice, pvp);\n    \n\n    this.numberMagazin = numberMagazin;\n    this.itemList = itemList;\n\n}\n</code></pre>\n<p>In the main class when\nI instantiate the magazine1 object I can't call the <strong>itemList[]</strong> variable and I don't understand why</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646257224,"creation_date":1646256905,"answer_id":71329428,"question_id":71329408,"body_markdown":"You need to do the other association too, but don&#39;t use `person.setPartner(this)` because it would call it then the other and you&#39;ll go deep into recursion until a `StackOverflowError`\r\n\r\n\r\n    public void setPartner(Partner person) {\r\n        if (this == person) {\r\n            throw new IllegalArgumentException(&quot;You can not marry yourself!&quot;);\r\n        } // else isn&#39;t mandatory as code execution whould stop if first branch taken\r\n        this.partner = person;\r\n        person.partner = this;\r\n    }\r\n\r\nFor the same reason, you may use `partner.name`. If you keep `partner`, it&#39; would call it&#39;s `toString` which would call it&#39;s partner `toString` , then road to `StackOverflowError`\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Partner [name=&quot; + name + &quot;, partner=&quot; + partner.name + &quot;]&quot;;\r\n    }","title":"Connect to objects using one call (Partner in Java)","body":"<p>You need to do the other association too, but don't use <code>person.setPartner(this)</code> because it would call it then the other and you'll go deep into recursion until a <code>StackOverflowError</code></p>\n<pre><code>public void setPartner(Partner person) {\n    if (this == person) {\n        throw new IllegalArgumentException(&quot;You can not marry yourself!&quot;);\n    } // else isn't mandatory as code execution whould stop if first branch taken\n    this.partner = person;\n    person.partner = this;\n}\n</code></pre>\n<p>For the same reason, you may use <code>partner.name</code>. If you keep <code>partner</code>, it' would call it's <code>toString</code> which would call it's partner <code>toString</code> , then road to <code>StackOverflowError</code></p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;Partner [name=&quot; + name + &quot;, partner=&quot; + partner.name + &quot;]&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":23041306,"reputation":15,"user_id":17159452,"display_name":"abzain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71329428,"answer_count":1,"score":0,"last_activity_date":1646257224,"creation_date":1646256782,"question_id":71329408,"body_markdown":"I&#39;m struggling with Java and need some help with 1-1 associations.\r\nSorry if I&#39;m wording something wrong, I don&#39;t know how to word it properly in English.\r\n\r\nI want to connect both partner1 and partner2 using one call. Before the call, partner1 and partner2 is not connected, but after, they are. I can&#39;t wrap my head around and have been stuck for hours. \r\n\r\nHere is what I have so far:\r\n\r\n```\r\npublic class Partner {\r\n\r\n\tprivate String name;\r\n\tprivate Partner partner;\r\n\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\tpublic Partner getPartner() {\r\n\t\treturn this.partner;\r\n\t}\r\n\r\n\tpublic Partner(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic void setPartner(Partner person) {\r\n\t\tif (this == person) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;You can not marry yourself!&quot;);\r\n\t\t} else {\r\n\t\t\tthis.partner = person;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Partner [name=&quot; + name + &quot;, partner=&quot; + partner + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tPartner p1 = new Partner(&quot;Mickey&quot;);\r\n\t\tPartner p2 = new Partner(&quot;Minnie&quot;);\r\n\t\tp1.setPartner(p2);\r\n\t\tSystem.out.println(p1.getPartner());\r\n\t}\r\n}\r\n```\r\n","title":"Connect to objects using one call (Partner in Java)","body":"<p>I'm struggling with Java and need some help with 1-1 associations.\nSorry if I'm wording something wrong, I don't know how to word it properly in English.</p>\n<p>I want to connect both partner1 and partner2 using one call. Before the call, partner1 and partner2 is not connected, but after, they are. I can't wrap my head around and have been stuck for hours.</p>\n<p>Here is what I have so far:</p>\n<pre><code>public class Partner {\n\n    private String name;\n    private Partner partner;\n\n    public String getName() {\n        return this.name;\n    }\n\n    public Partner getPartner() {\n        return this.partner;\n    }\n\n    public Partner(String name) {\n        this.name = name;\n    }\n\n    public void setPartner(Partner person) {\n        if (this == person) {\n            throw new IllegalArgumentException(&quot;You can not marry yourself!&quot;);\n        } else {\n            this.partner = person;\n        }\n\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Partner [name=&quot; + name + &quot;, partner=&quot; + partner + &quot;]&quot;;\n    }\n\n    public static void main(String[] args) {\n        Partner p1 = new Partner(&quot;Mickey&quot;);\n        Partner p2 = new Partner(&quot;Minnie&quot;);\n        p1.setPartner(p2);\n        System.out.println(p1.getPartner());\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645950124,"creation_date":1645950124,"answer_id":71283196,"question_id":71257184,"body_markdown":"I have such test for some similar page. Maybe the details will be different here, but the idea I used is:  \r\n1) Play the video  \r\n2) Get video current time  \r\n3) Set some pause  \r\n4) Get video current time again  \r\n5) Validate that the initial video current time and the second current time values are not the same.  \r\nHere is my code:   \r\n```java\r\npublic class Reusable extends BasePage {\r\n    public Reusable(WebDriver driver){\r\n        super(driver);\r\n    }\r\n\r\n    //Embedded YouTube elements\r\n    public String videoIframe = &quot;//iframe[@class=&#39;elementor-video&#39;]&quot;;\r\n    public String playVideoBtn = &quot;//button[@aria-label =&#39;Play&#39;]&quot;;\r\n    public String videoCurrentTimeIndicator = &quot;//span[@class=&#39;ytp-time-current&#39;]&quot;;\r\n    public String muteYoutubeBtn = &quot;//button[contains(@class,&#39;mute-button&#39;)]&quot;;\r\n\r\n    //Embedded YouTube methods\r\n    public void switchToVideoIframe(){\r\n        switchToIframe(videoIframe);\r\n    }\r\n\r\n    public void playVideo(){\r\n        clickVisible(playVideoBtn);\r\n    }\r\n\r\n    public String getVideoCurrentTime(){\r\n        return getVisibleElementText(videoCurrentTimeIndicator);\r\n    }\r\n\r\n    public boolean validateVideoIsPlaying(){\r\n        playVideo();\r\n        String initialVideoTime = getVideoCurrentTime();\r\n        wait(3000);\r\n        hoverOverElement(muteYoutubeBtn);\r\n        String secondVideoTime = getVideoCurrentTime();\r\n        Assert.assertFalse(initialVideoTime.contains(secondVideoTime),&quot;Failed playing the embedded YouTube video&quot;);\r\n    }\r\n}\r\n```\r\nThe methods inside the Basepage are used here are:\r\n```java\r\npublic void switchToIframe(By locator){\r\n    waitForElementPresence(locator);\r\n    wait(100);\r\n    driver.switchTo().frame(driver.findElement(locator));\r\n}\r\n\r\npublic void switchToIframe(String xpath){\r\n    switchToIframe(By.xpath(xpath));\r\n}\r\n\r\n\r\npublic void clickVisible(By element){\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(element));\r\n    driver.findElement(element).click();\r\n}\r\n\r\npublic void clickVisible(String xpath){\r\n    clickVisible(By.xpath(xpath));\r\n}\r\n\r\npublic String getVisibleElementText(By element){\r\n    waitForElementToBeVisible(element);\r\n    wait(50);\r\n    return driver.findElement(element).getText();\r\n}\r\n\r\npublic String getVisibleElementText(String xpath){\r\n    return getVisibleElementText(By.xpath(xpath));\r\n}\r\n\r\npublic void hoverOverElement(By element){\r\n    action = new Actions(driver);\r\n    webElement = driver.findElement(element);\r\n    action.moveToElement(webElement).build().perform();\r\n}\r\n\r\npublic void hoverOverElement(String xpath){\r\n    hoverOverElement(By.xpath(xpath));\r\n}\r\n\r\npublic void wait(int delay){\r\n    Uninterruptibles.sleepUninterruptibly((long) delay, TimeUnit.MILLISECONDS);\r\n}\r\n```\r\n\r\n","title":"Check if video is playing using Serenity BDD and Selenium","body":"<p>I have such test for some similar page. Maybe the details will be different here, but the idea I used is:</p>\n<ol>\n<li>Play the video</li>\n<li>Get video current time</li>\n<li>Set some pause</li>\n<li>Get video current time again</li>\n<li>Validate that the initial video current time and the second current time values are not the same.<br />\nHere is my code:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Reusable extends BasePage {\n    public Reusable(WebDriver driver){\n        super(driver);\n    }\n\n    //Embedded YouTube elements\n    public String videoIframe = &quot;//iframe[@class='elementor-video']&quot;;\n    public String playVideoBtn = &quot;//button[@aria-label ='Play']&quot;;\n    public String videoCurrentTimeIndicator = &quot;//span[@class='ytp-time-current']&quot;;\n    public String muteYoutubeBtn = &quot;//button[contains(@class,'mute-button')]&quot;;\n\n    //Embedded YouTube methods\n    public void switchToVideoIframe(){\n        switchToIframe(videoIframe);\n    }\n\n    public void playVideo(){\n        clickVisible(playVideoBtn);\n    }\n\n    public String getVideoCurrentTime(){\n        return getVisibleElementText(videoCurrentTimeIndicator);\n    }\n\n    public boolean validateVideoIsPlaying(){\n        playVideo();\n        String initialVideoTime = getVideoCurrentTime();\n        wait(3000);\n        hoverOverElement(muteYoutubeBtn);\n        String secondVideoTime = getVideoCurrentTime();\n        Assert.assertFalse(initialVideoTime.contains(secondVideoTime),&quot;Failed playing the embedded YouTube video&quot;);\n    }\n}\n</code></pre>\n<p>The methods inside the Basepage are used here are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void switchToIframe(By locator){\n    waitForElementPresence(locator);\n    wait(100);\n    driver.switchTo().frame(driver.findElement(locator));\n}\n\npublic void switchToIframe(String xpath){\n    switchToIframe(By.xpath(xpath));\n}\n\n\npublic void clickVisible(By element){\n    wait.until(ExpectedConditions.visibilityOfElementLocated(element));\n    driver.findElement(element).click();\n}\n\npublic void clickVisible(String xpath){\n    clickVisible(By.xpath(xpath));\n}\n\npublic String getVisibleElementText(By element){\n    waitForElementToBeVisible(element);\n    wait(50);\n    return driver.findElement(element).getText();\n}\n\npublic String getVisibleElementText(String xpath){\n    return getVisibleElementText(By.xpath(xpath));\n}\n\npublic void hoverOverElement(By element){\n    action = new Actions(driver);\n    webElement = driver.findElement(element);\n    action.moveToElement(webElement).build().perform();\n}\n\npublic void hoverOverElement(String xpath){\n    hoverOverElement(By.xpath(xpath));\n}\n\npublic void wait(int delay){\n    Uninterruptibles.sleepUninterruptibly((long) delay, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18348172,"reputation":302,"user_id":13362939,"display_name":"Kumar Rishabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646132533,"creation_date":1646132028,"answer_id":71307348,"question_id":71257184,"body_markdown":"If it is Chrome, there is a Promise returned. Simply get that promise may be via JS executor to get true as value. JS code :-\r\n\r\n    var playPromise = document.querySelector(&#39;video&#39;).play();\r\n\r\n\r\nSee https://developers.google.com/web/updates/2016/03/play-returns-promise\r\n\r\nsimilarly there should be something for other browsers as well(Could be the same promise working for all)\r\n\r\nAlso see:-\r\nhttps://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs","title":"Check if video is playing using Serenity BDD and Selenium","body":"<p>If it is Chrome, there is a Promise returned. Simply get that promise may be via JS executor to get true as value. JS code :-</p>\n<pre><code>var playPromise = document.querySelector('video').play();\n</code></pre>\n<p>See <a href=\"https://developers.google.com/web/updates/2016/03/play-returns-promise\" rel=\"nofollow noreferrer\">https://developers.google.com/web/updates/2016/03/play-returns-promise</a></p>\n<p>similarly there should be something for other browsers as well(Could be the same promise working for all)</p>\n<p>Also see:-\n<a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs</a></p>\n"}],"owner":{"account_id":9223316,"reputation":2501,"user_id":6851888,"accept_rate":50,"display_name":"SUPARNA SOMAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1646257108,"creation_date":1645730442,"question_id":71257184,"body_markdown":"I&#39;m trying to verify if a video is playing when the user clicks on the play button. Is there a way to find if the video is playing, like make sure the timeline is not at &quot;0&quot; etc?\r\n\r\nPlease find my code below\r\n\r\nThe Page object:\r\n\r\n    public class VideoPage {\r\n\r\n        private static final String VIDEO_ELEMENT = &quot;//*[@id=&#39;examplevideo_html5_api&#39;]&quot;;\r\n\r\n        public String findTitle() {\r\n            return getText(ABOUT_MODAL_TITLE);\r\n        }\r\n\r\n        private void videoIsPlaying() {\r\n            // ????\r\n        }\r\n    }\r\n\r\nThe Test code:\r\n\r\n    @When(&quot;user clicks on Play button on the modal&quot;)\r\n    public void userClicksOnPlayButton() {\r\n        aboutUsUser.clickPlayButtonModal();\r\n    }\r\n\r\n    @Then(&quot;the video should start playing&quot;)\r\n    public void videoShouldPlay() {\r\n        videoUser.showPauseButton();\r\n        videoUser.videoIsPlaying();\r\n        Object t = videoUser.videoElement().getAttribute(&quot;currentTime&quot;);\r\n        Assert.assertNotEquals(0, t);\r\n    }","title":"Check if video is playing using Serenity BDD and Selenium","body":"<p>I'm trying to verify if a video is playing when the user clicks on the play button. Is there a way to find if the video is playing, like make sure the timeline is not at &quot;0&quot; etc?</p>\n<p>Please find my code below</p>\n<p>The Page object:</p>\n<pre><code>public class VideoPage {\n\n    private static final String VIDEO_ELEMENT = &quot;//*[@id='examplevideo_html5_api']&quot;;\n\n    public String findTitle() {\n        return getText(ABOUT_MODAL_TITLE);\n    }\n\n    private void videoIsPlaying() {\n        // ????\n    }\n}\n</code></pre>\n<p>The Test code:</p>\n<pre><code>@When(&quot;user clicks on Play button on the modal&quot;)\npublic void userClicksOnPlayButton() {\n    aboutUsUser.clickPlayButtonModal();\n}\n\n@Then(&quot;the video should start playing&quot;)\npublic void videoShouldPlay() {\n    videoUser.showPauseButton();\n    videoUser.videoIsPlaying();\n    Object t = videoUser.videoElement().getAttribute(&quot;currentTime&quot;);\n    Assert.assertNotEquals(0, t);\n}\n</code></pre>\n"},{"tags":["java","tomcat","servlets","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646255439,"post_id":71328692,"comment_id":126081016,"body_markdown":"Did you try setting the Java system property `log4j2.enableThreadlocals=false`?","body":"Did you try setting the Java system property <code>log4j2.enableThreadlocals=false</code>?"}],"answers":[{"tags":[],"owner":{"account_id":20491251,"reputation":1305,"user_id":15037284,"display_name":"V.D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646255956,"creation_date":1646255956,"answer_id":71329262,"question_id":71328692,"body_markdown":"Fully deleting target folder and recompiling my project seems like resolved my issue.","title":"Log4j2 tomcat 10 memory leaks on shutdown","body":"<p>Fully deleting target folder and recompiling my project seems like resolved my issue.</p>\n"}],"owner":{"account_id":20491251,"reputation":1305,"user_id":15037284,"display_name":"V.D."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71329262,"answer_count":1,"score":0,"last_activity_date":1646255956,"creation_date":1646252497,"question_id":71328692,"body_markdown":"I have memory leaks at my tomcat 10.0.16 servlet application. I am using Log4j2 2.17.2 version, and after tomcat shutdown I see next logs:\r\n```\r\n02-Mar-2022 22:14:54.513 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@43f82e78]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.FixedFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$FixedFormatter@6986bbaf]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n02-Mar-2022 22:14:54.529 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@4879dfad]) and a value of type [org.apache.logging.log4j.message.ReusableSimpleMessage] (value [org.apache.logging.log4j.message.ReusableSimpleMessage@4758820d]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n02-Mar-2022 22:14:54.529 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@74eb909f]) and a value of type [org.apache.logging.log4j.core.impl.MutableLogEvent] (value [org.apache.logging.log4j.core.impl.MutableLogEvent@28ec166e]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n```\r\nMy pom.xml for Log4j2 is:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-jakarta-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nAnd also log4j2 config\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nMost common fix is to add log4j-jakarta-web, but this does not works for me","title":"Log4j2 tomcat 10 memory leaks on shutdown","body":"<p>I have memory leaks at my tomcat 10.0.16 servlet application. I am using Log4j2 2.17.2 version, and after tomcat shutdown I see next logs:</p>\n<pre><code>02-Mar-2022 22:14:54.513 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@43f82e78]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.FixedFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$FixedFormatter@6986bbaf]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n02-Mar-2022 22:14:54.529 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@4879dfad]) and a value of type [org.apache.logging.log4j.message.ReusableSimpleMessage] (value [org.apache.logging.log4j.message.ReusableSimpleMessage@4758820d]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n02-Mar-2022 22:14:54.529 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@74eb909f]) and a value of type [org.apache.logging.log4j.core.impl.MutableLogEvent] (value [org.apache.logging.log4j.core.impl.MutableLogEvent@28ec166e]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n</code></pre>\n<p>My pom.xml for Log4j2 is:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-jakarta-web&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And also log4j2 config</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Most common fix is to add log4j-jakarta-web, but this does not works for me</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1646266025,"post_id":71329233,"comment_id":126083597,"body_markdown":"It seems a little pointless to use a map to get from string to length, since the string can tell you its own length directly.  Why not just keep a Set&lt;String&gt; ?","body":"It seems a little pointless to use a map to get from string to length, since the string can tell you its own length directly.  Why not just keep a Set&lt;String&gt; ?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646255919,"creation_date":1646255919,"answer_id":71329255,"question_id":71329233,"body_markdown":"You&#39;r calling the scanner twice, so that&#39;s 2 input as you need only one per word\r\n\r\n\r\n    String word;\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        word = sc.nextLine();\r\n        linkedMap1.put(word, word.length());\r\n    }\r\n    System.out.println(linkedMap1);\r\n","title":"adding strings (key) to a Map where the value is the length of each String","body":"<p>You'r calling the scanner twice, so that's 2 input as you need only one per word</p>\n<pre><code>String word;\nfor (int i = 0; i &lt; 4; i++) {\n    word = sc.nextLine();\n    linkedMap1.put(word, word.length());\n}\nSystem.out.println(linkedMap1);\n</code></pre>\n"}],"owner":{"account_id":24414896,"reputation":3,"user_id":18341881,"display_name":"Krisu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71329255,"answer_count":1,"score":0,"last_activity_date":1646255919,"creation_date":1646255822,"question_id":71329233,"body_markdown":"Need to add 4 Strings - as a keys, using scanner, to a Map and the value has to be the lenght of each String.\r\n\r\nfor example: &quot;House&quot; - 5 etc .\r\n\r\n   \r\n\r\n  \r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    \r\n    \tMap&lt;String, Integer&gt; linkedMap1 = new LinkedHashMap&lt;&gt;();\r\n    \r\n    \tfor (int i = 0; i &lt; 4; i++) {\r\n    \t\tlinkedMap1.put(sc.next(), sc.next().length());\r\n    \t\tSystem.out.println(linkedMap1);\r\n    \t}","title":"adding strings (key) to a Map where the value is the length of each String","body":"<p>Need to add 4 Strings - as a keys, using scanner, to a Map and the value has to be the lenght of each String.</p>\n<p>for example: &quot;House&quot; - 5 etc .</p>\n<pre><code>Scanner sc = new Scanner(System.in);\n\n    Map&lt;String, Integer&gt; linkedMap1 = new LinkedHashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; 4; i++) {\n        linkedMap1.put(sc.next(), sc.next().length());\n        System.out.println(linkedMap1);\n    }\n</code></pre>\n"},{"tags":["java","maven","log4j","jetty"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1508700706,"creation_date":1508699985,"answer_id":46878196,"question_id":46878035,"body_markdown":"log4j 2.9 and later are [*multi-release jars*][1] for Java 9.\r\n\r\nYour Jetty version don&#39;t support that. Either upgrade Jetty to a Java 9 compatible version, or use log4j 2.8.x.\r\n\r\nSee Jetty issue #1797: [JEP 238 - Multi-Release JAR files break bytecode scanning][2].\r\n\r\n\r\n  [1]: https://blogs.apache.org/logging/entry/log4j-2-9-released\r\n  [2]: https://github.com/eclipse/jetty.project/issues/1797","title":"Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class with jetty and log4j 2.9.1?","body":"<p>log4j 2.9 and later are <a href=\"https://blogs.apache.org/logging/entry/log4j-2-9-released\" rel=\"noreferrer\"><em>multi-release jars</em></a> for Java 9.</p>\n\n<p>Your Jetty version don't support that. Either upgrade Jetty to a Java 9 compatible version, or use log4j 2.8.x.</p>\n\n<p>See Jetty issue #1797: <a href=\"https://github.com/eclipse/jetty.project/issues/1797\" rel=\"noreferrer\">JEP 238 - Multi-Release JAR files break bytecode scanning</a>.</p>\n"},{"tags":[],"owner":{"account_id":11432760,"reputation":61,"user_id":8381018,"display_name":"NavsTrend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563526007,"creation_date":1563526007,"answer_id":57108766,"question_id":46878035,"body_markdown":"The following error occurred:  com.ibm.ws.metadata.annotations.AnnotationException: Annotation processing failed for class:  META-INF/versions/9/module-info.class\r\n\r\nAbove error will be encountered in WAS 9, when we try deploying and undeploying multiple applications too many times. The server becomes malfunctioning. \r\n\r\nWhen I encountered this, I uninstalled all the applications in the server. And rebooted 2-3 times. Once the server is rebooted, I tried to deploy it again and the application worked as expected.","title":"Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class with jetty and log4j 2.9.1?","body":"<p>The following error occurred:  com.ibm.ws.metadata.annotations.AnnotationException: Annotation processing failed for class:  META-INF/versions/9/module-info.class</p>\n\n<p>Above error will be encountered in WAS 9, when we try deploying and undeploying multiple applications too many times. The server becomes malfunctioning. </p>\n\n<p>When I encountered this, I uninstalled all the applications in the server. And rebooted 2-3 times. Once the server is rebooted, I tried to deploy it again and the application worked as expected.</p>\n"}],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26272,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":46878196,"answer_count":2,"score":15,"last_activity_date":1646255602,"creation_date":1508698893,"question_id":46878035,"body_markdown":"This is the directory layout I have in my maven project:\r\n\r\n    .\r\n    ├── pom.xml\r\n    └── src\r\n        └── main\r\n            ├── java\r\n            │&#160;&#160; └── biz\r\n            │&#160;&#160;     └── tugay\r\n            │&#160;&#160;         └── web\r\n            │&#160;&#160;             └── servlet\r\n            │&#160;&#160;                 └── MainServlet.java\r\n            ├── resources\r\n            │&#160;&#160; └── log4j.properties\r\n            └── webapp\r\n                └── WEB-INF\r\n                    └── web.xml\r\n\r\npom.xml relavent parts as follows:\r\n\r\n    &lt;/dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;bare-webapp&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;9.2.1.v20140609&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;log4j.version&gt;2.8.2&lt;/log4j.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nAnd here is my web.xml\r\n\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n                                 http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             version=&quot;3.1&quot;&gt;\r\n    &lt;/web-app&gt;\r\n\r\nand finally this is what log4j.properties look like:\r\n\r\n    # suppress inspection &quot;UnusedProperty&quot; for whole file\r\n    \r\n    # logger level configurations\r\n    log4j.rootLogger=ALL, console\r\n    \r\n    # configuration for console outputs\r\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.console.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.console.layout.conversionPattern=[%t] %-5p %c - %m%n\r\n\r\nSo currently everything runs fine (I start jetty with: mvn jetty:start) and when I visit &quot;/&quot; I see in console:\r\n\r\n    20:38:09.433 [qtp1503674351-26] ERROR biz.tugay.web.servlet.MainServlet - Serving request!\r\n\r\nThis is all fine..\r\n    \r\n    &lt;log4j.version&gt;2.9.1&lt;/log4j.version&gt;\r\n\r\nafter **jetty:start** I get:\r\n\r\n    [WARNING] Failed startup of context o.e.j.m.p.JettyWebAppContext@fb0d6fe{/,file:/Users/koraytugay/bare-webapp/src/main/webapp/,STARTING}{file:/Users/koraytugay/bare-webapp/src/main/webapp/}\r\n    MultiException[java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/ProcessIdUtil.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar, java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar]\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration.scanForAnnotations(AnnotationConfiguration.java:530)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration.configure(AnnotationConfiguration.java:441)\r\n        at org.eclipse.jetty.webapp.WebAppContext.configure(WebAppContext.java:471)\r\n        at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1329)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:744)\r\n        at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:497)\r\n        at org.eclipse.jetty.maven.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:281)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:154)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\r\n        at org.eclipse.jetty.server.Server.start(Server.java:357)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n        at org.eclipse.jetty.server.Server.doStart(Server.java:324)\r\n        at org.eclipse.jetty.maven.plugin.JettyServer.doStart(JettyServer.java:68)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n        at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:564)\r\n        at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:360)\r\n        at org.eclipse.jetty.maven.plugin.JettyRunMojo.execute(JettyRunMojo.java:168)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n        at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\n    java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/ProcessIdUtil.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:913)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:831)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration$ParserTask.call(AnnotationConfiguration.java:159)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration$1.run(AnnotationConfiguration.java:542)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.IllegalArgumentException\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.scanClass(AnnotationParser.java:973)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJarEntry(AnnotationParser.java:956)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:909)\r\n        ... 6 more\r\n    java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:913)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:831)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration$ParserTask.call(AnnotationConfiguration.java:159)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration$1.run(AnnotationConfiguration.java:542)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.IllegalArgumentException\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.scanClass(AnnotationParser.java:973)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJarEntry(AnnotationParser.java:956)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:909)\r\n        ... 6 more\r\n    [WARNING] !RequestLog\r\n    [INFO] Started ServerConnector@42c81ca{HTTP/1.1}{0.0.0.0:8080}\r\n    [INFO] Started @2609ms\r\n    [INFO] Started Jetty Server\r\n\r\nHow can I make jetty work with log4j 2.9.1? Is there a problem in my configuration or is this a bug in jetty or log4j?\r\n","title":"Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class with jetty and log4j 2.9.1?","body":"<p>This is the directory layout I have in my maven project:</p>\n\n<pre><code>.\n├── pom.xml\n└── src\n    └── main\n        ├── java\n        │   └── biz\n        │       └── tugay\n        │           └── web\n        │               └── servlet\n        │                   └── MainServlet.java\n        ├── resources\n        │   └── log4j.properties\n        └── webapp\n            └── WEB-INF\n                └── web.xml\n</code></pre>\n\n<p>pom.xml relavent parts as follows:</p>\n\n<pre><code>&lt;/dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;bare-webapp&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;9.2.1.v20140609&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;log4j.version&gt;2.8.2&lt;/log4j.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>And here is my web.xml</p>\n\n<pre><code>&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee\n                             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n         version=\"3.1\"&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>and finally this is what log4j.properties look like:</p>\n\n<pre><code># suppress inspection \"UnusedProperty\" for whole file\n\n# logger level configurations\nlog4j.rootLogger=ALL, console\n\n# configuration for console outputs\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.conversionPattern=[%t] %-5p %c - %m%n\n</code></pre>\n\n<p>So currently everything runs fine (I start jetty with: mvn jetty:start) and when I visit \"/\" I see in console:</p>\n\n<pre><code>20:38:09.433 [qtp1503674351-26] ERROR biz.tugay.web.servlet.MainServlet - Serving request!\n</code></pre>\n\n<p>This is all fine..</p>\n\n<pre><code>&lt;log4j.version&gt;2.9.1&lt;/log4j.version&gt;\n</code></pre>\n\n<p>after <strong>jetty:start</strong> I get:</p>\n\n<pre><code>[WARNING] Failed startup of context o.e.j.m.p.JettyWebAppContext@fb0d6fe{/,file:/Users/koraytugay/bare-webapp/src/main/webapp/,STARTING}{file:/Users/koraytugay/bare-webapp/src/main/webapp/}\nMultiException[java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/ProcessIdUtil.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar, java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar]\n    at org.eclipse.jetty.annotations.AnnotationConfiguration.scanForAnnotations(AnnotationConfiguration.java:530)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration.configure(AnnotationConfiguration.java:441)\n    at org.eclipse.jetty.webapp.WebAppContext.configure(WebAppContext.java:471)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1329)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:744)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:497)\n    at org.eclipse.jetty.maven.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:281)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:154)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n    at org.eclipse.jetty.server.Server.start(Server.java:357)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:324)\n    at org.eclipse.jetty.maven.plugin.JettyServer.doStart(JettyServer.java:68)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:564)\n    at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:360)\n    at org.eclipse.jetty.maven.plugin.JettyRunMojo.execute(JettyRunMojo.java:168)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\njava.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/ProcessIdUtil.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:913)\n    at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:831)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration$ParserTask.call(AnnotationConfiguration.java:159)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration$1.run(AnnotationConfiguration.java:542)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalArgumentException\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.eclipse.jetty.annotations.AnnotationParser.scanClass(AnnotationParser.java:973)\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJarEntry(AnnotationParser.java:956)\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:909)\n    ... 6 more\njava.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:913)\n    at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:831)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration$ParserTask.call(AnnotationConfiguration.java:159)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration$1.run(AnnotationConfiguration.java:542)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalArgumentException\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.eclipse.jetty.annotations.AnnotationParser.scanClass(AnnotationParser.java:973)\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJarEntry(AnnotationParser.java:956)\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:909)\n    ... 6 more\n[WARNING] !RequestLog\n[INFO] Started ServerConnector@42c81ca{HTTP/1.1}{0.0.0.0:8080}\n[INFO] Started @2609ms\n[INFO] Started Jetty Server\n</code></pre>\n\n<p>How can I make jetty work with log4j 2.9.1? Is there a problem in my configuration or is this a bug in jetty or log4j?</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1646255693,"post_id":71329169,"comment_id":126081082,"body_markdown":"I know it&#39;s weird to hear that, but don&#39;t. they use `caliper` for perf tests and `jmh` is a lot better and more correct.","body":"I know it&#39;s weird to hear that, but don&#39;t. they use <code>caliper</code> for perf tests and <code>jmh</code> is a lot better and more correct."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646256108,"post_id":71329169,"comment_id":126081183,"body_markdown":"Generally you just run them like any other binary.  I&#39;ve never had to worry about it -- if I load them into my IDE, I can just run the class.","body":"Generally you just run them like any other binary.  I&#39;ve never had to worry about it -- if I load them into my IDE, I can just run the class."},{"owner":{"account_id":21589757,"reputation":1,"user_id":15919570,"display_name":"user15919570"},"score":0,"creation_date":1646257572,"post_id":71329169,"comment_id":126081591,"body_markdown":"Is there a way to run this benchmark suite locally via some command line?","body":"Is there a way to run this benchmark suite locally via some command line?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646263009,"post_id":71329169,"comment_id":126082993,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":21589757,"reputation":1,"user_id":15919570,"display_name":"user15919570"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646255394,"creation_date":1646255394,"question_id":71329169,"body_markdown":"Guava has `guava-tests` subdirectory that contains a `benchmark` directory -- https://github.com/google/guava/tree/master/guava-tests/benchmark/com/google/common. \r\n\r\nHow can I run this benchmark suite?\r\n","title":"How can I run benchmarks in Guava","body":"<p>Guava has <code>guava-tests</code> subdirectory that contains a <code>benchmark</code> directory -- <a href=\"https://github.com/google/guava/tree/master/guava-tests/benchmark/com/google/common\" rel=\"nofollow noreferrer\">https://github.com/google/guava/tree/master/guava-tests/benchmark/com/google/common</a>.</p>\n<p>How can I run this benchmark suite?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1646192545,"post_id":71317154,"comment_id":126060506,"body_markdown":"The constructor doesn&#39;t get called because you&#39;re not calling it.","body":"The constructor doesn&#39;t get called because you&#39;re not calling it."},{"owner":{"account_id":24290154,"reputation":41,"user_id":18235332,"display_name":"eric"},"score":0,"creation_date":1646220964,"post_id":71317154,"comment_id":126068032,"body_markdown":"Yes your are right, my mistake.","body":"Yes your are right, my mistake."}],"owner":{"account_id":24290154,"reputation":41,"user_id":18235332,"display_name":"eric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646255220,"creation_date":1646192084,"question_id":71317154,"body_markdown":"What is the difference between constructor and static code?\r\n\r\nWhy `Thread.setDefaultUncaughtExceptionHandler`  can not work in constructor?\r\n\r\nSource code 1:\r\n```\r\nclass MyUncaughtExceptionHandler implements\r\n        Thread.UncaughtExceptionHandler {\r\n    @Override\r\n    public void uncaughtException(Thread t, Throwable e) {\r\n        System.out.println(&quot;caught &quot; + e.getMessage());\r\n    }\r\n}\r\npublic class CaughtExceptionThread extends Thread{\r\n\r\n    static {\r\n        Thread.setDefaultUncaughtExceptionHandler(new MyUncaughtExceptionHandler());\r\n    }\r\n}\r\n ```\r\n\r\nSource code 2:\r\n```\r\nclass MyUncaughtExceptionHandler implements\r\n        Thread.UncaughtExceptionHandler {\r\n    @Override\r\n    public void uncaughtException(Thread t, Throwable e) {\r\n        System.out.println(&quot;caught &quot; + e.getMessage());\r\n    }\r\n}\r\npublic class CaughtExceptionThread extends Thread{\r\n\r\n    public CaughtExceptionThread() {\r\n        Thread.setDefaultUncaughtExceptionHandler(new MyUncaughtExceptionHandler());\r\n    }\r\n}\r\n ```\r\n\r\nTest Code:\r\n```\r\npublic class DefaultExceptionHandler extends CaughtExceptionThread{\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService es =\r\n                Executors.newCachedThreadPool();\r\n        es.execute(new ExceptionThread());\r\n        es.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nWhy source code 1 is working but source code 2 is not?\r\n","title":"What is the difference between constructor and static code for &quot;Thread.setDefaultUncaughtExceptionHandler&quot; function","body":"<p>What is the difference between constructor and static code?</p>\n<p>Why <code>Thread.setDefaultUncaughtExceptionHandler</code>  can not work in constructor?</p>\n<p>Source code 1:</p>\n<pre><code>class MyUncaughtExceptionHandler implements\n        Thread.UncaughtExceptionHandler {\n    @Override\n    public void uncaughtException(Thread t, Throwable e) {\n        System.out.println(&quot;caught &quot; + e.getMessage());\n    }\n}\npublic class CaughtExceptionThread extends Thread{\n\n    static {\n        Thread.setDefaultUncaughtExceptionHandler(new MyUncaughtExceptionHandler());\n    }\n}\n</code></pre>\n<p>Source code 2:</p>\n<pre><code>class MyUncaughtExceptionHandler implements\n        Thread.UncaughtExceptionHandler {\n    @Override\n    public void uncaughtException(Thread t, Throwable e) {\n        System.out.println(&quot;caught &quot; + e.getMessage());\n    }\n}\npublic class CaughtExceptionThread extends Thread{\n\n    public CaughtExceptionThread() {\n        Thread.setDefaultUncaughtExceptionHandler(new MyUncaughtExceptionHandler());\n    }\n}\n</code></pre>\n<p>Test Code:</p>\n<pre><code>public class DefaultExceptionHandler extends CaughtExceptionThread{\n\n    public static void main(String[] args) {\n        ExecutorService es =\n                Executors.newCachedThreadPool();\n        es.execute(new ExceptionThread());\n        es.shutdown();\n    }\n}\n</code></pre>\n<p>Why source code 1 is working but source code 2 is not?</p>\n"},{"tags":["java","object-class"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1646252383,"post_id":71328597,"comment_id":126080068,"body_markdown":"When you are comparing two objects for equity (no matter where) Java uses `equals()` method of their class (either overwritten or inherited).  You did not to do anything to be able to use `equals()` for `String` or `Thread` objects.","body":"When you are comparing two objects for equity (no matter where) Java uses <code>equals()</code> method of their class (either overwritten or inherited).  You did not to do anything to be able to use <code>equals()</code> for <code>String</code> or <code>Thread</code> objects."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1646252520,"post_id":71328597,"comment_id":126080140,"body_markdown":"Also whenever you investigate `String` comparison - take into consideration Java&#39;s [`string interning`](https://stackoverflow.com/questions/10578984/what-is-java-string-interning).  Your particular example is still fine.","body":"Also whenever you investigate <code>String</code> comparison - take into consideration Java&#39;s <a href=\"https://stackoverflow.com/questions/10578984/what-is-java-string-interning\"><code>string interning</code></a>.  Your particular example is still fine."},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1646253249,"post_id":71328597,"comment_id":126080384,"body_markdown":"@PM77-1 Thanks for the reply, I will definitely try to learn about String Intern.","body":"@PM77-1 Thanks for the reply, I will definitely try to learn about String Intern."}],"answers":[{"tags":[],"owner":{"account_id":12929247,"reputation":163,"user_id":9348806,"display_name":"Akash Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646252709,"creation_date":1646252362,"answer_id":71328667,"question_id":71328597,"body_markdown":"The String class overrides the equals method that is inherited from the Object class and implemented logic to compare the two String objects character by character.\r\n\r\nWhy you might ask, did the String class override the equals method inherited from the Object class?  Because the equals method inherited from Object performs reference equality!\r\n\r\nThat&#39;s why when comparing two Strings using .equals() method, their content is compared, and not their references.\r\n\r\nThe evidence is provided by your code itself.\r\n\r\nHere are two more pieces of evidence the String overrides the Object.equals(Object)\r\n\r\nThe [Javadoc][1] implies so. Notice that equality is based on the contents of the string. Indeed, even the existence of a distinct Javadoc for the String.equals(Object) method implies that the method has been overloaded ... given the way that javadocs are generated.\r\n\r\nThe [source code][2] says so. Clearly, the linked code is an overload. And clearly, it is not simply comparing object references.\r\n\r\n#### Note\r\nAs commented, not all Strings in Java are interned. Try reading something from a file or console, those Strings aren&#39;t &quot;interned&quot;, thus equals() (and also hashcode()) needs to be overridden.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java#String.equals%28java.lang.Object%29","title":"Reference Comparison and Content Comparison in Java","body":"<p>The String class overrides the equals method that is inherited from the Object class and implemented logic to compare the two String objects character by character.</p>\n<p>Why you might ask, did the String class override the equals method inherited from the Object class?  Because the equals method inherited from Object performs reference equality!</p>\n<p>That's why when comparing two Strings using .equals() method, their content is compared, and not their references.</p>\n<p>The evidence is provided by your code itself.</p>\n<p>Here are two more pieces of evidence the String overrides the Object.equals(Object)</p>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">Javadoc</a> implies so. Notice that equality is based on the contents of the string. Indeed, even the existence of a distinct Javadoc for the String.equals(Object) method implies that the method has been overloaded ... given the way that javadocs are generated.</p>\n<p>The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java#String.equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\">source code</a> says so. Clearly, the linked code is an overload. And clearly, it is not simply comparing object references.</p>\n<h4>Note</h4>\n<p>As commented, not all Strings in Java are interned. Try reading something from a file or console, those Strings aren't &quot;interned&quot;, thus equals() (and also hashcode()) needs to be overridden.</p>\n"}],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646254807,"creation_date":1646251911,"question_id":71328597,"body_markdown":"I was learning about Reference (or Address) comparison and Content comparison. The below statement makes me confused:\r\n\r\n&gt;If a class does not override the equals method, then by default, it uses the equals(Object o) method of the closest parent class that has overridden this method.\r\n\r\n**Point to note:** I haven&#39;t overridden the `.equals()` method and I&#39;m only practicing it in my main class.\r\n\r\n**Below is my code:**\r\n\r\n    package com.reference.content.comparison;\r\n    \r\n    public class ReferenceAndContentComparison {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t/* &quot;==&quot; operator is used for REFERENCE (or address) comparison. It means, it check if both objects point to same memory location or not.\r\n    \t\t * &quot;.equals()&quot; method is used for CONTENT comparison (in String class). It means, it check if both objects have same value or not.\r\n    \t\t * \r\n    \t\t * MAIN DIFFERENCES ARE:\r\n    \t\t * 1. &quot;==&quot; is an operator while &quot;.equals()&quot; is a method (of Object class).\r\n    \t\t * 2. Line 7 to 8.\r\n    \t\t * 3. &quot;.equals()&quot; method of Object class is used for REFERENCE comparison but in String class, it is used for CONTENT reference (by overriding .equals()).\r\n    \t\t * 4. If a class does not override the equals method, then by default, it uses the equals(Object o) method of the closest parent class that has overridden this method.\r\n    \t\t * 5. When comparing two Strings using .equals() method, their content is compared, and not their references.\r\n    \t\t *    Link for point 5: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\r\n    \t\t */\r\n    \t\tString s1 = &quot;HELLO&quot;;\r\n            String s2 = &quot;HELLO&quot;; // references s1\r\n            String s3 =  new String(&quot;HELLO&quot;); // new instance but same content\r\n     \r\n            System.out.println(s1 == s2); // true; Both s1 and s2 refer to same objects. Their addresses are same.\r\n            System.out.println(s1 == s3); // false; Addresses of s1 and s3 are different.\r\n            System.out.println(s1.equals(s2)); // true; Content of both s1 and s2 are same. Content Reference, because s1 and s2 are string class objects.\r\n            System.out.println(s1.equals(s3)); // true; Content of both s1 and s3 are same. Content Reference, because s1 and s3 are string class objects.\r\n    \t\t\r\n            System.out.println(&quot;-----&quot;);\r\n            \r\n    \t\tThread t1 = new Thread();\r\n            Thread t2 = new Thread();\r\n            Thread t3 = t1;\r\n            String st1 = new String(&quot;WORLD&quot;);\r\n            String st2 = new String(&quot;WORLD&quot;);\r\n     \r\n            System.out.println(t1 == t3); // true; Both t1 and t3 refer to same objects. Address of t1 is assigned to t3.\r\n            System.out.println(t1 == t2); //false; Addresses of t1 and t2 are different.\r\n            System.out.println(st1 == st2); // false; Addresses of st1 and st2 are different.\r\n            System.out.println(t1.equals(t2)); /* false; Here, t1 and t2 are both Thread class objects (not String class objects) and we haven&#39;t overridden the\r\n            \t\t\t\t\t\t\t\t\t.equals() method for Thread class anywhere so by default (as per point 4), .equals() of Object class will be\r\n            \t\t\t\t\t\t\t\t\tin effect and hence as per point 3, .equals() will be used as REFERNCE Comparison.\r\n            \t\t\t\t\t\t\t\t\tAnd since addresses are different, it&#39;s false.*/\r\n            System.out.println(st1.equals(st2)); /* true; Unlike above scenario, st1 and st2 are String class objects and hence as per point 5, content reference is\r\n             \t\t\t\t\t\t\t\t\t\thappening here and since their contents are same, it is true.*/\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nMy confusion is that this `t1.equals(t2)` gives false because of which reason? Is it because the contents are not matching or reference comparison is happening here? I&#39;m sure that the answer is Reference Comparison since I haven&#39;t overridden the `.equals()` method in my main class and by default it is using the method of the `Object` class (as stated in the statement at the very beginning). \r\n\r\nBut consider the below scenario too:\r\n\r\n`st1.equals(st2)` is giving true because of which reason? Contents are matching? Is it not like reference comparison is happening here as well? Or, since contents are matching, it is not a reference comparison but a content comparison? Or, something else?\r\nPlease explain.\r\n\r\n","title":"Reference Comparison and Content Comparison in Java","body":"<p>I was learning about Reference (or Address) comparison and Content comparison. The below statement makes me confused:</p>\n<blockquote>\n<p>If a class does not override the equals method, then by default, it uses the equals(Object o) method of the closest parent class that has overridden this method.</p>\n</blockquote>\n<p><strong>Point to note:</strong> I haven't overridden the <code>.equals()</code> method and I'm only practicing it in my main class.</p>\n<p><strong>Below is my code:</strong></p>\n<pre><code>package com.reference.content.comparison;\n\npublic class ReferenceAndContentComparison {\n\n    public static void main(String[] args) {\n\n        /* &quot;==&quot; operator is used for REFERENCE (or address) comparison. It means, it check if both objects point to same memory location or not.\n         * &quot;.equals()&quot; method is used for CONTENT comparison (in String class). It means, it check if both objects have same value or not.\n         * \n         * MAIN DIFFERENCES ARE:\n         * 1. &quot;==&quot; is an operator while &quot;.equals()&quot; is a method (of Object class).\n         * 2. Line 7 to 8.\n         * 3. &quot;.equals()&quot; method of Object class is used for REFERENCE comparison but in String class, it is used for CONTENT reference (by overriding .equals()).\n         * 4. If a class does not override the equals method, then by default, it uses the equals(Object o) method of the closest parent class that has overridden this method.\n         * 5. When comparing two Strings using .equals() method, their content is compared, and not their references.\n         *    Link for point 5: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\n         */\n        String s1 = &quot;HELLO&quot;;\n        String s2 = &quot;HELLO&quot;; // references s1\n        String s3 =  new String(&quot;HELLO&quot;); // new instance but same content\n \n        System.out.println(s1 == s2); // true; Both s1 and s2 refer to same objects. Their addresses are same.\n        System.out.println(s1 == s3); // false; Addresses of s1 and s3 are different.\n        System.out.println(s1.equals(s2)); // true; Content of both s1 and s2 are same. Content Reference, because s1 and s2 are string class objects.\n        System.out.println(s1.equals(s3)); // true; Content of both s1 and s3 are same. Content Reference, because s1 and s3 are string class objects.\n        \n        System.out.println(&quot;-----&quot;);\n        \n        Thread t1 = new Thread();\n        Thread t2 = new Thread();\n        Thread t3 = t1;\n        String st1 = new String(&quot;WORLD&quot;);\n        String st2 = new String(&quot;WORLD&quot;);\n \n        System.out.println(t1 == t3); // true; Both t1 and t3 refer to same objects. Address of t1 is assigned to t3.\n        System.out.println(t1 == t2); //false; Addresses of t1 and t2 are different.\n        System.out.println(st1 == st2); // false; Addresses of st1 and st2 are different.\n        System.out.println(t1.equals(t2)); /* false; Here, t1 and t2 are both Thread class objects (not String class objects) and we haven't overridden the\n                                            .equals() method for Thread class anywhere so by default (as per point 4), .equals() of Object class will be\n                                            in effect and hence as per point 3, .equals() will be used as REFERNCE Comparison.\n                                            And since addresses are different, it's false.*/\n        System.out.println(st1.equals(st2)); /* true; Unlike above scenario, st1 and st2 are String class objects and hence as per point 5, content reference is\n                                                happening here and since their contents are same, it is true.*/\n\n    }\n\n}\n</code></pre>\n<p>My confusion is that this <code>t1.equals(t2)</code> gives false because of which reason? Is it because the contents are not matching or reference comparison is happening here? I'm sure that the answer is Reference Comparison since I haven't overridden the <code>.equals()</code> method in my main class and by default it is using the method of the <code>Object</code> class (as stated in the statement at the very beginning).</p>\n<p>But consider the below scenario too:</p>\n<p><code>st1.equals(st2)</code> is giving true because of which reason? Contents are matching? Is it not like reference comparison is happening here as well? Or, since contents are matching, it is not a reference comparison but a content comparison? Or, something else?\nPlease explain.</p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"score":0,"creation_date":1491576725,"post_id":43279070,"comment_id":73630376,"body_markdown":"In your `persistence.xml`  there is not persistence unit called `&quot;Trainstops&quot;` which is you&#39;re trying to instantiate here: `Persistence.createEntityManagerFactory(&quot;Trainstops&quot;)`. The persistence unit is called  `SubmissionIds` and the entity this PU maps is called `OriginationSubmissions` not `Submissions`. You should check both persistence unit name and class name are the right ones.","body":"In your <code>persistence.xml</code>  there is not persistence unit called <code>&quot;Trainstops&quot;</code> which is you&#39;re trying to instantiate here: <code>Persistence.createEntityManagerFactory(&quot;Trainstops&quot;)</code>. The persistence unit is called  <code>SubmissionIds</code> and the entity this PU maps is called <code>OriginationSubmissions</code> not <code>Submissions</code>. You should check both persistence unit name and class name are the right ones."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1491586807,"post_id":43279070,"comment_id":73636444,"body_markdown":"&quot;LEVEL&quot; is a reserved word and cannot be used as a column name.  Add the column annotation to your level attribute and name it something else in the table for this to work, or just give the attribute a different name.","body":"&quot;LEVEL&quot; is a reserved word and cannot be used as a column name.  Add the column annotation to your level attribute and name it something else in the table for this to work, or just give the attribute a different name."},{"owner":{"account_id":10083601,"reputation":83,"user_id":7453015,"accept_rate":67,"display_name":"Sourajyoti Bose"},"score":0,"creation_date":1491630907,"post_id":43279070,"comment_id":73648811,"body_markdown":"@dic19 - Changed the entity name from TrainStops to SubmissionIds. Still the error persists.","body":"@dic19 - Changed the entity name from TrainStops to SubmissionIds. Still the error persists."}],"answers":[{"tags":[],"owner":{"account_id":10083601,"reputation":83,"user_id":7453015,"accept_rate":67,"display_name":"Sourajyoti Bose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491631655,"creation_date":1491631655,"answer_id":43290787,"question_id":43279070,"body_markdown":"The problem lay in the LEVEL named Field. @Chris has suggested the correct answer in the comment. **&quot;LEVEL&quot; is a reserved word and cannot be used as a column name. Add the column annotation to your level attribute and name it something else in the table for this to work, or just give the attribute a different name.** \r\n\r\nChanging the field name worked easily.","title":"JPA/EclipseLink Error in Creating Tables","body":"<p>The problem lay in the LEVEL named Field. @Chris has suggested the correct answer in the comment. <strong>\"LEVEL\" is a reserved word and cannot be used as a column name. Add the column annotation to your level attribute and name it something else in the table for this to work, or just give the attribute a different name.</strong> </p>\n\n<p>Changing the field name worked easily.</p>\n"},{"tags":[],"owner":{"account_id":8666433,"reputation":727,"user_id":6486778,"display_name":"Vivien SA&#39;A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491644749,"creation_date":1491644080,"answer_id":43292414,"question_id":43279070,"body_markdown":"Avtually Eclipse reported a bug that rises when there is a reserved word usage you can fine here :  \r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=260637.\r\n\r\nthe problem comes from using a reserved word I dont actually know your DBMS, if it is Mysql your attributs\r\n**XID** and **LEVEL**\r\n is a reserved word. you can find mysql reserved word here : \r\n https://dev.mysql.com/doc/refman/5.7/en/keywords.html.\r\n\r\nYou can also se from the sql code used to build your tables that there is a column name update of type DATE\r\n\r\n&gt; UDATE DATE NULL\r\n \r\nSo to my opinion, you also need watch your attribut name on uDate\r\n\r\n\r\n","title":"JPA/EclipseLink Error in Creating Tables","body":"<p>Avtually Eclipse reported a bug that rises when there is a reserved word usage you can fine here :<br>\n<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=260637\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=260637</a>.</p>\n\n<p>the problem comes from using a reserved word I dont actually know your DBMS, if it is Mysql your attributs\n<strong>XID</strong> and <strong>LEVEL</strong>\n is a reserved word. you can find mysql reserved word here : \n <a href=\"https://dev.mysql.com/doc/refman/5.7/en/keywords.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/5.7/en/keywords.html</a>.</p>\n\n<p>You can also se from the sql code used to build your tables that there is a column name update of type DATE</p>\n\n<blockquote>\n  <p>UDATE DATE NULL</p>\n</blockquote>\n\n<p>So to my opinion, you also need watch your attribut name on uDate</p>\n"},{"tags":[],"owner":{"account_id":15632276,"reputation":117,"user_id":11569193,"display_name":"Takouo Gnegneri Franck Kris-ke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646254730,"creation_date":1646254730,"answer_id":71329059,"question_id":43279070,"body_markdown":"This is very often due to the use of keywords as a column or table name.\r\n\r\nFor columns you can use **@Column(name = &quot;new_name_with_keywords&quot;)**","title":"JPA/EclipseLink Error in Creating Tables","body":"<p>This is very often due to the use of keywords as a column or table name.</p>\n<p>For columns you can use <strong>@Column(name = &quot;new_name_with_keywords&quot;)</strong></p>\n"}],"owner":{"account_id":10083601,"reputation":83,"user_id":7453015,"accept_rate":67,"display_name":"Sourajyoti Bose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":43292414,"answer_count":3,"score":0,"last_activity_date":1646254730,"creation_date":1491570686,"question_id":43279070,"body_markdown":"I am trying to create a table using EclipseLink. The java class being used is :-\r\n\r\n    import java.util.Date;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Temporal;\r\n    import javax.persistence.TemporalType;\r\n    import javax.persistence.Id;\r\n\r\n    @Entity\r\n    public class Submissions {\r\n\r\n\t @Id\r\n\t @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t private Long Id;\r\n\t private String XID;\r\n\t private String Y;\r\n\t @Temporal(TemporalType.DATE)\r\n\t private Date uDate;\r\n\t private String level;\r\n\t private String state;\r\n\r\n\t public Submissions() {\r\n\t }\r\n\r\n\t //All Relevant getter and setter functions\r\n    }\r\n\r\nThe relevant persistence xml in question is as follows:- \r\n    \r\n    &lt;persistence-unit name=&quot;SubmissionIds&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n\t\t&lt;class&gt;com.obp.selenium.DataObjects.OriginationSubmissions&lt;/class&gt;\r\n\t\t&lt;properties&gt;\r\n\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n\t\t\t\tvalue=&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;------&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;------&quot; /&gt;\r\n\r\n\t\t\t&lt;!-- EclipseLink should create the database schema automatically --&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-tables&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot;\r\n\t\t\t\tvalue=&quot;database&quot; /&gt;\r\n\t\t\t&lt;!-- &lt;property name=&quot;eclipselink.canonicalmodel.subpackage&quot;\r\n\t\t\t\tvalue=&quot;originationSubmissions&quot; /&gt; --&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n\r\nWe use the standard method is by implementing the EntityManagerFactory as :-\r\n\r\n    EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;SubmissionIds&quot;);\r\n\t\tEntityManager em = factory.createEntityManager();\r\n\t\tem.getTransaction().begin();\r\n\t\tem.getTransaction().commit();\r\n\t\tem.close();\r\n\r\nHowever I keep getting the following errors :- \r\n&gt;EL Warning]: 2017-04-07 14:04:53.768--ServerSession(1650327539)--Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.3.v20160428-59c81c5): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLSyntaxErrorException: ORA-00904: : invalid identifier\r\n\r\n&gt;Error Code: 904\r\nCall: CREATE TABLE SUBMISSIONS (ID NUMBER(19) NOT NULL, XID VARCHAR2(255) NULL, Y VARCHAR2(255) NULL, LEVEL VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, UDATE DATE NULL, PRIMARY KEY (ID))\r\nQuery: DataModifyQuery(sql=&quot;CREATE TABLE SUBMISSIONS (ID NUMBER(19) NOT NULL, XID VARCHAR2(255) NULL, Y VARCHAR2(255) NULL, LEVEL VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, UDATE DATE NULL, PRIMARY KEY (ID))&quot;)","title":"JPA/EclipseLink Error in Creating Tables","body":"<p>I am trying to create a table using EclipseLink. The java class being used is :-</p>\n\n<pre><code>import java.util.Date;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Submissions {\n\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long Id;\n private String XID;\n private String Y;\n @Temporal(TemporalType.DATE)\n private Date uDate;\n private String level;\n private String state;\n\n public Submissions() {\n }\n\n //All Relevant getter and setter functions\n}\n</code></pre>\n\n<p>The relevant persistence xml in question is as follows:- </p>\n\n<pre><code>&lt;persistence-unit name=\"SubmissionIds\"&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;class&gt;com.obp.selenium.DataObjects.OriginationSubmissions&lt;/class&gt;\n    &lt;properties&gt;\n\n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"oracle.jdbc.OracleDriver\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.url\"\n            value=\"jdbc:oracle:thin:@localhost:1521:orcl\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"------\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"------\" /&gt;\n\n        &lt;!-- EclipseLink should create the database schema automatically --&gt;\n        &lt;property name=\"eclipselink.ddl-generation\" value=\"create-tables\" /&gt;\n        &lt;property name=\"eclipselink.ddl-generation.output-mode\"\n            value=\"database\" /&gt;\n        &lt;!-- &lt;property name=\"eclipselink.canonicalmodel.subpackage\"\n            value=\"originationSubmissions\" /&gt; --&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p>We use the standard method is by implementing the EntityManagerFactory as :-</p>\n\n<pre><code>EntityManagerFactory factory = Persistence.createEntityManagerFactory(\"SubmissionIds\");\n    EntityManager em = factory.createEntityManager();\n    em.getTransaction().begin();\n    em.getTransaction().commit();\n    em.close();\n</code></pre>\n\n<p>However I keep getting the following errors :- </p>\n\n<blockquote>\n  <p>EL Warning]: 2017-04-07 14:04:53.768--ServerSession(1650327539)--Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.3.v20160428-59c81c5): org.eclipse.persistence.exceptions.DatabaseException\n  Internal Exception: java.sql.SQLSyntaxErrorException: ORA-00904: : invalid identifier</p>\n  \n  <p>Error Code: 904\n  Call: CREATE TABLE SUBMISSIONS (ID NUMBER(19) NOT NULL, XID VARCHAR2(255) NULL, Y VARCHAR2(255) NULL, LEVEL VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, UDATE DATE NULL, PRIMARY KEY (ID))\n  Query: DataModifyQuery(sql=\"CREATE TABLE SUBMISSIONS (ID NUMBER(19) NOT NULL, XID VARCHAR2(255) NULL, Y VARCHAR2(255) NULL, LEVEL VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, UDATE DATE NULL, PRIMARY KEY (ID))\")</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1646158054,"post_id":71312817,"comment_id":126052645,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646194770,"post_id":71312817,"comment_id":126060832,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":7010170,"reputation":1,"user_id":5618538,"display_name":"thiago"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646254635,"creation_date":1646157904,"question_id":71312817,"body_markdown":"i&#39;m developing a java desktop application to use as a tool to manipulate properties files.\r\nSo my application need to  to load a TXT file containing several keys (or properties), and be able to changes there values.\r\nI use [Apache commons configurations 2](https://commons.apache.org/proper/commons-configuration) project to do this work.\r\nEverything was going well until a face this situation..\r\nthere is a txt file contating several properties but, one properties (or key) has a # before his name (look at config.txt file below), so apache commons do not recognize this propertie.\r\nWhen i set a value to this propertie (look at last two lines on main method), apache commons configurator creates a new line on config.txt\r\n\r\nThis is not good to me, because i need to preserve the original config.txt format, so if i need to set a value to fileDb propertie, my expected behavior is to remove the # from fileDb name and do not create a new fileDb propertie on config.txt.\r\n\r\nthe program that uses this configuration file (config.txt) understands that if the property is commented (if it has &quot;#&quot; in its name), it means that it should not be used, but if it is uncommented (without &quot;#&quot; in the name) means that it should be used and that its value should be read.\r\n\r\nSo what can i do to add or remove &quot;#&quot; from the propertie name using common configuration? if is not possible to do it with commons configurator, how to do it?\r\n\r\n\r\nOn the ConfigTest class i show how the problem ocours.\r\nBefore run the code, the file config.txt has a commented propertie named fileDB\r\n```\r\n    #fileDb = C:/test/test.db\r\n```\r\nthe maind method try to change the filedb value to &quot;C://aa//bb//cc&quot;\r\nbut after the executions end wil appears a new propetie with the same name &quot;fileDb&quot; but uncomented (without &quot;#&quot;). At the end, config.txt wil have two fileDb propertie, one with &quot;#&quot; and other without &quot;#&quot;\r\n```\r\n    #fileDb = C:/test/test.db\r\n    fileDb = C://aa//bb//cc\r\n```\r\nMy expectd behavior after the code execution is to has only one fileDb propetie\r\n\r\n```\r\n    fileDb = C://aa//bb//cc\r\n```\r\nAfter be able to uncoment this propertie i expect to be able to comment again if necessery (if user wish to do it on my app).\r\n\r\n\r\n### ConfigTest class ###\r\n\r\n\r\n    import org.apache.commons.configuration2.Configuration;\r\n    import org.apache.commons.configuration2.FileBasedConfiguration;\r\n    import org.apache.commons.configuration2.PropertiesConfiguration;\r\n    import org.apache.commons.configuration2.builder.FileBasedConfigurationBuilder;\r\n    import org.apache.commons.configuration2.builder.fluent.FileBasedBuilderParameters;\r\n    import org.apache.commons.configuration2.builder.fluent.Parameters;\r\n    import org.apache.commons.configuration2.ex.ConfigurationException;\r\n\r\n    import java.io.File;\r\n    public class ConfigTest {\r\n\r\n        private Configuration localConfiguration;\r\n        private FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; fileBuilder;\r\n\r\n    private ConfigTest() throws ConfigurationException {\r\n        this.loadPropertiesFile();\r\n    }\r\n\r\n    private void loadPropertiesFile() throws ConfigurationException {\r\n        File file = new File(&quot;config.txt&quot;);\r\n        FileBasedBuilderParameters fb = new Parameters().fileBased();\r\n        fb.setFile(file);\r\n        fileBuilder = new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class);\r\n        fileBuilder.configure(fb);\r\n        localConfiguration = fileBuilder.getConfiguration();\r\n    }\r\n\r\n    public boolean saveModifications(){\r\n        try {\r\n            fileBuilder.save();\r\n            return true;\r\n        } catch (ConfigurationException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public void setProperty(String key, String value){\r\n        localConfiguration.setProperty(key,value);\r\n    }\r\n\r\n    public static void main(String[] args) throws ConfigurationException {\r\n\r\n        ConfigTest test = new ConfigTest();\r\n        //change outputOnSSD propertie value to false\r\n        test.setProperty(&quot;outputOnSSD&quot;, &quot;false&quot;);\r\n        //here when i set a new value to fileDb propertie, a new line on config.txt with a new fileDb propertie name is created\r\n        //the question is: how to remove # from fileDb propetie name on config.txt to commons config recognize it as a existent propertie?\r\n        test.setProperty(&quot;fileDb&quot;, &quot;C://aa//bb//cc&quot;);\r\n        test.saveModifications();\r\n\r\n    }\r\n\r\n    }\r\n\r\n### File &quot;config.txt&quot; used by ConfigTest class to change his value ###\r\n```\r\n########################################################################\r\n# Local environment configuration\r\n########################################################################\r\n\r\n# Defines program localization/language\r\nlocale = pt-BR\r\n\r\n# Temporary directory for processing: &quot;default&quot; uses the system temporary folder.\r\nindexTemp = /home/downloads\r\n\r\n# Enable if is on a SSD disk.\r\nindexTempOnSSD = true\r\n\r\n# Enable if output/case folder is on SSD. If enabled, index is created directly in case folder,\r\noutputOnSSD = false\r\n\r\n# Number of processing threads/workers: &quot;default&quot; uses the number of CPU logical cores.\r\nnumThreads = 14\r\n\r\n# Full path for hash index database. \r\n#fileDb = C:/test/test.db\r\n```\r\n\r\n","title":"Common configuration 2 - commented properties","body":"<p>i'm developing a java desktop application to use as a tool to manipulate properties files.\nSo my application need to  to load a TXT file containing several keys (or properties), and be able to changes there values.\nI use <a href=\"https://commons.apache.org/proper/commons-configuration\" rel=\"nofollow noreferrer\">Apache commons configurations 2</a> project to do this work.\nEverything was going well until a face this situation..\nthere is a txt file contating several properties but, one properties (or key) has a # before his name (look at config.txt file below), so apache commons do not recognize this propertie.\nWhen i set a value to this propertie (look at last two lines on main method), apache commons configurator creates a new line on config.txt</p>\n<p>This is not good to me, because i need to preserve the original config.txt format, so if i need to set a value to fileDb propertie, my expected behavior is to remove the # from fileDb name and do not create a new fileDb propertie on config.txt.</p>\n<p>the program that uses this configuration file (config.txt) understands that if the property is commented (if it has &quot;#&quot; in its name), it means that it should not be used, but if it is uncommented (without &quot;#&quot; in the name) means that it should be used and that its value should be read.</p>\n<p>So what can i do to add or remove &quot;#&quot; from the propertie name using common configuration? if is not possible to do it with commons configurator, how to do it?</p>\n<p>On the ConfigTest class i show how the problem ocours.\nBefore run the code, the file config.txt has a commented propertie named fileDB</p>\n<pre><code>    #fileDb = C:/test/test.db\n</code></pre>\n<p>the maind method try to change the filedb value to &quot;C://aa//bb//cc&quot;\nbut after the executions end wil appears a new propetie with the same name &quot;fileDb&quot; but uncomented (without &quot;#&quot;). At the end, config.txt wil have two fileDb propertie, one with &quot;#&quot; and other without &quot;#&quot;</p>\n<pre><code>    #fileDb = C:/test/test.db\n    fileDb = C://aa//bb//cc\n</code></pre>\n<p>My expectd behavior after the code execution is to has only one fileDb propetie</p>\n<pre><code>    fileDb = C://aa//bb//cc\n</code></pre>\n<p>After be able to uncoment this propertie i expect to be able to comment again if necessery (if user wish to do it on my app).</p>\n<h3>ConfigTest class</h3>\n<pre><code>import org.apache.commons.configuration2.Configuration;\nimport org.apache.commons.configuration2.FileBasedConfiguration;\nimport org.apache.commons.configuration2.PropertiesConfiguration;\nimport org.apache.commons.configuration2.builder.FileBasedConfigurationBuilder;\nimport org.apache.commons.configuration2.builder.fluent.FileBasedBuilderParameters;\nimport org.apache.commons.configuration2.builder.fluent.Parameters;\nimport org.apache.commons.configuration2.ex.ConfigurationException;\n\nimport java.io.File;\npublic class ConfigTest {\n\n    private Configuration localConfiguration;\n    private FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; fileBuilder;\n\nprivate ConfigTest() throws ConfigurationException {\n    this.loadPropertiesFile();\n}\n\nprivate void loadPropertiesFile() throws ConfigurationException {\n    File file = new File(&quot;config.txt&quot;);\n    FileBasedBuilderParameters fb = new Parameters().fileBased();\n    fb.setFile(file);\n    fileBuilder = new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class);\n    fileBuilder.configure(fb);\n    localConfiguration = fileBuilder.getConfiguration();\n}\n\npublic boolean saveModifications(){\n    try {\n        fileBuilder.save();\n        return true;\n    } catch (ConfigurationException e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n\npublic void setProperty(String key, String value){\n    localConfiguration.setProperty(key,value);\n}\n\npublic static void main(String[] args) throws ConfigurationException {\n\n    ConfigTest test = new ConfigTest();\n    //change outputOnSSD propertie value to false\n    test.setProperty(&quot;outputOnSSD&quot;, &quot;false&quot;);\n    //here when i set a new value to fileDb propertie, a new line on config.txt with a new fileDb propertie name is created\n    //the question is: how to remove # from fileDb propetie name on config.txt to commons config recognize it as a existent propertie?\n    test.setProperty(&quot;fileDb&quot;, &quot;C://aa//bb//cc&quot;);\n    test.saveModifications();\n\n}\n\n}\n</code></pre>\n<h3>File &quot;config.txt&quot; used by ConfigTest class to change his value</h3>\n<pre><code>########################################################################\n# Local environment configuration\n########################################################################\n\n# Defines program localization/language\nlocale = pt-BR\n\n# Temporary directory for processing: &quot;default&quot; uses the system temporary folder.\nindexTemp = /home/downloads\n\n# Enable if is on a SSD disk.\nindexTempOnSSD = true\n\n# Enable if output/case folder is on SSD. If enabled, index is created directly in case folder,\noutputOnSSD = false\n\n# Number of processing threads/workers: &quot;default&quot; uses the number of CPU logical cores.\nnumThreads = 14\n\n# Full path for hash index database. \n#fileDb = C:/test/test.db\n</code></pre>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":461975,"reputation":6635,"user_id":864027,"accept_rate":64,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646254620,"creation_date":1646254620,"answer_id":71329033,"question_id":71328643,"body_markdown":"Ok, I figured out this _was_ the issue. The way I got around this is by binding the Parent class with the annotation using a constructor. This avoids the circular binding dependency.\r\n\r\n    bind(Parent.class).to(Child.class);\r\n\r\n    Constructor&lt;?&gt;[] parentConstructors = Parent.class.getDeclaredConstructors();\r\n    checkArgument(parentConstructors.length == 1); // Since I only have an @Inject constructor, I can use that\r\n    Constructor&lt;Parent&gt; parentConstructor = (Constructor&lt;Parent&gt;) parentConstructors[0];\r\n    bind(Key.get(Parent.class, MyAnnotation.class)).toConstructor(parentConstructor);","title":"Guice binding a parent concrete class separately from child","body":"<p>Ok, I figured out this <em>was</em> the issue. The way I got around this is by binding the Parent class with the annotation using a constructor. This avoids the circular binding dependency.</p>\n<pre><code>bind(Parent.class).to(Child.class);\n\nConstructor&lt;?&gt;[] parentConstructors = Parent.class.getDeclaredConstructors();\ncheckArgument(parentConstructors.length == 1); // Since I only have an @Inject constructor, I can use that\nConstructor&lt;Parent&gt; parentConstructor = (Constructor&lt;Parent&gt;) parentConstructors[0];\nbind(Key.get(Parent.class, MyAnnotation.class)).toConstructor(parentConstructor);\n</code></pre>\n"}],"owner":{"account_id":461975,"reputation":6635,"user_id":864027,"accept_rate":64,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646254620,"creation_date":1646252203,"question_id":71328643,"body_markdown":"I&#39;m trying set up a Guice Module that will allow me to inject a parent class if the field has a certain annotation and a child class if the field does _not_ have that annotation. Both the parent and child are concrete classes. What I have so far is:\r\n\r\n    bind(Key.get(Parent.class, MyAnnotation.class)).to(Parent.class);\r\n    bind(Parent.class).to(Child.class);\r\n\r\nWhen I do this, I still seem to get an instance of the `Child` class even when I inject with the annotation. I believe the problem is that Guice sees from the first binding that it needs an instance of `Parent`. But then when it goes to provide the instance, it finds a binding for `Parent` (without an annotation) and uses it, resulting in a `Child` instance still being created. Is there a way to get around this problem?\r\n\r\nFWIW, I have discovered that I can get around this by switching which gets the annotation. But for simplicity&#39;s sake, I&#39;d prefer to have the Parent be the one that&#39;s provided when there&#39;s an annotation.","title":"Guice binding a parent concrete class separately from child","body":"<p>I'm trying set up a Guice Module that will allow me to inject a parent class if the field has a certain annotation and a child class if the field does <em>not</em> have that annotation. Both the parent and child are concrete classes. What I have so far is:</p>\n<pre><code>bind(Key.get(Parent.class, MyAnnotation.class)).to(Parent.class);\nbind(Parent.class).to(Child.class);\n</code></pre>\n<p>When I do this, I still seem to get an instance of the <code>Child</code> class even when I inject with the annotation. I believe the problem is that Guice sees from the first binding that it needs an instance of <code>Parent</code>. But then when it goes to provide the instance, it finds a binding for <code>Parent</code> (without an annotation) and uses it, resulting in a <code>Child</code> instance still being created. Is there a way to get around this problem?</p>\n<p>FWIW, I have discovered that I can get around this by switching which gets the annotation. But for simplicity's sake, I'd prefer to have the Parent be the one that's provided when there's an annotation.</p>\n"},{"tags":["java","maven","s3proxy"],"answers":[{"tags":[],"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646254586,"creation_date":1646254586,"answer_id":71329027,"question_id":71328842,"body_markdown":"It&#39;s not a maven problem.\r\nIt comes from error prone Plugin.\r\nSee https://github.com/google/error-prone/issues/535\r\n\r\nCan you upgrade to more recent jdk?\r\n\r\nCan you build without the error prone Plugin?","title":"&#39;mvn package&#39; build errors out with","body":"<p>It's not a maven problem.\nIt comes from error prone Plugin.\nSee <a href=\"https://github.com/google/error-prone/issues/535\" rel=\"nofollow noreferrer\">https://github.com/google/error-prone/issues/535</a></p>\n<p>Can you upgrade to more recent jdk?</p>\n<p>Can you build without the error prone Plugin?</p>\n"}],"owner":{"account_id":24431616,"reputation":1,"user_id":18356475,"display_name":"Fabiola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646254586,"creation_date":1646253384,"question_id":71328842,"body_markdown":"I&#39;m trying to run a &#39;mvn package&#39; and get the same error on multiple systems. I&#39;m not sure if this is an error from my lack of knowledge in maven, a configuration issue or an actual Java bug. Has anyone run in to something similar or know a fix? \r\n\r\n    [INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ s3proxy ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 26 source files to /tmp/s3/s3proxy-s3proxy-1.9.0/target/classes\r\n    An exception has occurred in the compiler (1.8.0_282). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.\r\n    java.lang.RuntimeException: java.lang.NoSuchMethodError: com.sun.tools.javac.util.JavacMessages.add(Lcom/sun/tools/javac/util/JavacMessages$ResourceBundleHelper;)V\r\n    \tat com.sun.tools.javac.main.Main.compile(Main.java:473)\r\n    \tat com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)\r\n    \tat com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:138)\r\n    \tat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:126)\r\n    \tat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)\r\n    \tat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1129)\r\n    \tat org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:188)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:954)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:192)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: java.lang.NoSuchMethodError: com.sun.tools.javac.util.JavacMessages.add(Lcom/sun/tools/javac/util/JavacMessages$ResourceBundleHelper;)V\r\n    \tat com.google.errorprone.BaseErrorProneJavaCompiler.setupMessageBundle(BaseErrorProneJavaCompiler.java:209)\r\n    \tat com.google.errorprone.BaseErrorProneJavaCompiler.addTaskListener(BaseErrorProneJavaCompiler.java:96)\r\n    \tat com.google.errorprone.ErrorProneJavacPlugin.init(ErrorProneJavacPlugin.java:34)\r\n    \tat com.sun.tools.javac.main.Main.compile(Main.java:470)\r\n    \t... 28 more\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] An unknown compilation problem occurred\r\n    [INFO] 1 error\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.764 s\r\n    [INFO] Finished at: 2022-03-02T12:47:20-06:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project s3proxy: Compilation failure\r\n    [ERROR] An unknown compilation problem occurred\r\n    [ERROR] \r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nI have doin a mvn clean package, I have tried resolving dependencies. ","title":"&#39;mvn package&#39; build errors out with","body":"<p>I'm trying to run a 'mvn package' and get the same error on multiple systems. I'm not sure if this is an error from my lack of knowledge in maven, a configuration issue or an actual Java bug. Has anyone run in to something similar or know a fix?</p>\n<pre><code>[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ s3proxy ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 26 source files to /tmp/s3/s3proxy-s3proxy-1.9.0/target/classes\nAn exception has occurred in the compiler (1.8.0_282). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.\njava.lang.RuntimeException: java.lang.NoSuchMethodError: com.sun.tools.javac.util.JavacMessages.add(Lcom/sun/tools/javac/util/JavacMessages$ResourceBundleHelper;)V\n    at com.sun.tools.javac.main.Main.compile(Main.java:473)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)\n    at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:138)\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:126)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1129)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:188)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:954)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: java.lang.NoSuchMethodError: com.sun.tools.javac.util.JavacMessages.add(Lcom/sun/tools/javac/util/JavacMessages$ResourceBundleHelper;)V\n    at com.google.errorprone.BaseErrorProneJavaCompiler.setupMessageBundle(BaseErrorProneJavaCompiler.java:209)\n    at com.google.errorprone.BaseErrorProneJavaCompiler.addTaskListener(BaseErrorProneJavaCompiler.java:96)\n    at com.google.errorprone.ErrorProneJavacPlugin.init(ErrorProneJavacPlugin.java:34)\n    at com.sun.tools.javac.main.Main.compile(Main.java:470)\n    ... 28 more\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] An unknown compilation problem occurred\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.764 s\n[INFO] Finished at: 2022-03-02T12:47:20-06:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project s3proxy: Compilation failure\n[ERROR] An unknown compilation problem occurred\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>I have doin a mvn clean package, I have tried resolving dependencies.</p>\n"},{"tags":["java","grpc"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646254083,"creation_date":1646254083,"answer_id":71328948,"question_id":71328565,"body_markdown":"[`NettyChannelBuilder.forAddress(SocketAddress)`](https://grpc.github.io/grpc-java/javadoc/io/grpc/netty/NettyChannelBuilder.html#forAddress-java.net.SocketAddress-) is the API that can only access a single IP, due to InetSocketAddress&#39;s eager resolution.\r\n\r\n`forAddress(String, int)` was retrofit to use `forTarget(String)` internally. So it is a convenience and converts to something similar to `forTarget(host + &quot;:&quot; + port)`, but with some extra logic to handle IPv6 literals. The &quot;dns:///&quot; prefix is added to target strings when they fail to parse. See [the `forTarget()` docs](https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#forTarget-java.lang.String-) for both details. So it is essentially equivalent to using `forTarget(&quot;dns:///mybackend:6565&quot;)`.\r\n\r\ngRPC, by default, doesn&#39;t round-robin over multiple addresses. By default it does &quot;pick-first&quot; which stops on the first working address (potentially choosing a different address when reconnecting). You can change that via a service config or [`defaultLoadBalancingPolicy(&quot;round_robin&quot;)`](https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#defaultLoadBalancingPolicy-java.lang.String-).","title":"Does GRPC ManagedChannel use DNS-RR for load balancing?","body":"<p><a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/netty/NettyChannelBuilder.html#forAddress-java.net.SocketAddress-\" rel=\"nofollow noreferrer\"><code>NettyChannelBuilder.forAddress(SocketAddress)</code></a> is the API that can only access a single IP, due to InetSocketAddress's eager resolution.</p>\n<p><code>forAddress(String, int)</code> was retrofit to use <code>forTarget(String)</code> internally. So it is a convenience and converts to something similar to <code>forTarget(host + &quot;:&quot; + port)</code>, but with some extra logic to handle IPv6 literals. The &quot;dns:///&quot; prefix is added to target strings when they fail to parse. See <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#forTarget-java.lang.String-\" rel=\"nofollow noreferrer\">the <code>forTarget()</code> docs</a> for both details. So it is essentially equivalent to using <code>forTarget(&quot;dns:///mybackend:6565&quot;)</code>.</p>\n<p>gRPC, by default, doesn't round-robin over multiple addresses. By default it does &quot;pick-first&quot; which stops on the first working address (potentially choosing a different address when reconnecting). You can change that via a service config or <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#defaultLoadBalancingPolicy-java.lang.String-\" rel=\"nofollow noreferrer\"><code>defaultLoadBalancingPolicy(&quot;round_robin&quot;)</code></a>.</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646254083,"creation_date":1646251689,"question_id":71328565,"body_markdown":"When creating a channel like this\r\n\r\n```\r\nManagedChannelBuilder.forAddress(&quot;mybackend&quot;, 6565)\r\n```\r\n\r\nAnd `mybackend` is a DNS A record with multiple IP addresses.\r\n\r\nDoes GRPC round-robin between the records or does it just stick to one for the lifetime of the channel?\r\n\r\nIf not, would it work if I do?\r\n\r\n```\r\nManagedChannelBuilder.forTarget(&quot;dns:///mybackend:6565&quot;)\r\n```\r\n\r\nOr is this capability just not available?","title":"Does GRPC ManagedChannel use DNS-RR for load balancing?","body":"<p>When creating a channel like this</p>\n<pre><code>ManagedChannelBuilder.forAddress(&quot;mybackend&quot;, 6565)\n</code></pre>\n<p>And <code>mybackend</code> is a DNS A record with multiple IP addresses.</p>\n<p>Does GRPC round-robin between the records or does it just stick to one for the lifetime of the channel?</p>\n<p>If not, would it work if I do?</p>\n<pre><code>ManagedChannelBuilder.forTarget(&quot;dns:///mybackend:6565&quot;)\n</code></pre>\n<p>Or is this capability just not available?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646253403,"post_id":71328758,"comment_id":126080433,"body_markdown":"welcome to SO , i added an answer if it satisfy your requirement please accept it as answer to improve the community .","body":"welcome to SO , i added an answer if it satisfy your requirement please accept it as answer to improve the community ."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646253768,"creation_date":1646253320,"answer_id":71328829,"question_id":71328758,"body_markdown":"Consider to use absolute pathname to where the file exists.\r\n\r\n\r\n\r\n    PDFMergerUtility result = new PDFMergerUtility();\r\n    result.addSource(&quot;C:\\\\...\\\\FileRead\\\\first.txt&quot;);\r\n    result.addSource(&quot;C:\\\\...\\\\FileRead\\\\second.txt&quot;);\r\n    result.setDestinationFileName(&quot;the destination path&quot;);\r\n    result.mergeDocuments();\r\n\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/docs/2.0.0/javadocs/org/apache/pdfbox/multipdf/PDFMergerUtility.html","title":"How can I merge two pdf using pdfBox","body":"<p>Consider to use absolute pathname to where the file exists.</p>\n<pre><code>PDFMergerUtility result = new PDFMergerUtility();\nresult.addSource(&quot;C:\\\\...\\\\FileRead\\\\first.txt&quot;);\nresult.addSource(&quot;C:\\\\...\\\\FileRead\\\\second.txt&quot;);\nresult.setDestinationFileName(&quot;the destination path&quot;);\nresult.mergeDocuments();\n</code></pre>\n"}],"owner":{"account_id":24432972,"reputation":13,"user_id":18357642,"display_name":"hafoxi2844"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71328829,"answer_count":1,"score":1,"last_activity_date":1646253768,"creation_date":1646252942,"question_id":71328758,"body_markdown":"Hi there I am trying to generate pdf by combining two one from my local machine and another one from s3 I am not sure how to do this \r\nhere is what I tried doing - \r\n\r\n    S3Object object = amazonS3.getObject(new GetObjectRequest(bucket, &quot;name.pdf&quot;));\r\n    InputStream ins = object.getObjectContent();\r\n    try {\r\n        PDDocument doc = PDDocument.load(ins);\r\n\r\n        File file1 = new File(\r\n                &quot;C:\\\\Users\\\\admin\\\\example.pdf&quot;);\r\n        PDFMergerUtility obj = new PDFMergerUtility();\r\n\r\n        obj.setDestinationFileName(\r\n                &quot;C:\\\\Users\\\\admin\\\\newMerged.pdf&quot;);\r\n\r\n        obj.addSource(file1);\r\n        obj.addSource(String.valueOf(doc));\r\n        obj.mergeDocuments();\r\n        System.out.println(&quot;PDF Documents merged to a single file&quot;);\r\n    }\r\n    catch (Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nError -  `org.apache.pdfbox.pdmodel.PDDocument@4d33940d (The system cannot find the file specified)`\r\n\r\nI know this could not be the way, I wanna know how to do this thing. ","title":"How can I merge two pdf using pdfBox","body":"<p>Hi there I am trying to generate pdf by combining two one from my local machine and another one from s3 I am not sure how to do this\nhere is what I tried doing -</p>\n<pre><code>S3Object object = amazonS3.getObject(new GetObjectRequest(bucket, &quot;name.pdf&quot;));\nInputStream ins = object.getObjectContent();\ntry {\n    PDDocument doc = PDDocument.load(ins);\n\n    File file1 = new File(\n            &quot;C:\\\\Users\\\\admin\\\\example.pdf&quot;);\n    PDFMergerUtility obj = new PDFMergerUtility();\n\n    obj.setDestinationFileName(\n            &quot;C:\\\\Users\\\\admin\\\\newMerged.pdf&quot;);\n\n    obj.addSource(file1);\n    obj.addSource(String.valueOf(doc));\n    obj.mergeDocuments();\n    System.out.println(&quot;PDF Documents merged to a single file&quot;);\n}\ncatch (Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n<p>Error -  <code>org.apache.pdfbox.pdmodel.PDDocument@4d33940d (The system cannot find the file specified)</code></p>\n<p>I know this could not be the way, I wanna know how to do this thing.</p>\n"},{"tags":["java","spring","soap","saml","spring-ws"],"comments":[{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1646253680,"post_id":71297255,"comment_id":126080522,"body_markdown":"I ended up doing it according to the answer here.","body":"I ended up doing it according to the answer here."}],"answers":[{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646253744,"creation_date":1646253744,"answer_id":71328895,"question_id":71297255,"body_markdown":"I ended up fixing it via this answer, which worked perfectly:\r\n\r\nhttps://stackoverflow.com/a/59666667/3094805","title":"How to add a SAML assertion to a SOAP security header in Spring using Wss4jSecurityInterceptor","body":"<p>I ended up fixing it via this answer, which worked perfectly:</p>\n<p><a href=\"https://stackoverflow.com/a/59666667/3094805\">https://stackoverflow.com/a/59666667/3094805</a></p>\n"}],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328895,"answer_count":1,"score":0,"last_activity_date":1646253744,"creation_date":1646061915,"question_id":71297255,"body_markdown":"I have a requirement to pass a SAML assertion as a token inside a SOAP security header. I am using Spring-WS as the framework.\r\n\r\nThe XML that I want to create looks like this:\r\n\r\nI have a requirement to pass a SAML assertion as a token inside a SOAP security header.\r\n\r\nThe XML that I want to create looks as below. As can be seen, the XML contains the assertion with the ```wsse:Security``` block.\r\n\r\nIs there a way to do this with the ```Wss4jSecurityInterceptor``` class ?\r\n\r\n\r\n```\r\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;SOAP-ENV:Header&gt;\r\n        &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n\r\n            &lt;Assertion MinorVersion=&quot;1&quot; MajorVersion=&quot;1&quot; Issuer=&quot;http://www.bea.com/saml&quot;\r\n                       IssueInstant=&quot;2005-11-10T11:27:36.233Z&quot; AssertionID=&quot;HRMC-SM172.26.5.143.1106860829320&quot;\r\n                       xmlns=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;&gt;\r\n                &lt;Conditions NotOnOrAfter=&quot;2005-11-10T15:27:36.233Z&quot; NotBefore=&quot;2005-11-10T11:22:36.233Z&quot;/&gt;\r\n                &lt;AuthenticationStatement AuthenticationMethod=&quot;urn:oasis:names:tc:SAML:1.0:am:unspecified&quot;\r\n                                         AuthenticationInstant=&quot;2005-11-10T11:27:36.233Z&quot;&gt;\r\n                    &lt;Subject&gt;\r\n                        &lt;NameIdentifier Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;&gt;ANYAGENT\r\n                        &lt;/NameIdentifier&gt;\r\n                        &lt;SubjectConfirmation&gt;\r\n                            &lt;ConfirmationMethod&gt;urn:oasis:names:tc:SAML:1.0:cm:sender-vouches&lt;/ConfirmationMethod&gt;\r\n                        &lt;/SubjectConfirmation&gt;\r\n                    &lt;/Subject&gt;\r\n                &lt;/AuthenticationStatement&gt;\r\n            &lt;/Assertion&gt;\r\n\r\n        &lt;/wsse:Security&gt;\r\n    &lt;/SOAP-ENV:Header&gt;\r\n    &lt;SOAP-ENV:Body&gt;\r\n        &lt;m:DPSretrieve xmlns:m=&quot;https://tpvs.hmrc.gov.uk/dps&quot;&gt;\r\n            &lt;m:version&gt;1&lt;/m:version&gt;\r\n            &lt;m:vendorID&gt;your 4 digit vendorID&lt;/m:vendorID&gt;\r\n            &lt;m:service&gt;PAYE&lt;/m:service&gt;\r\n            &lt;m:entityType&gt;EmpRef&lt;/m:entityType&gt;\r\n            &lt;m:entity&gt;as advised by SDS Team&lt;/m:entity&gt;\r\n            &lt;m:dataType&gt;P6&lt;/m:dataType&gt;\r\n            &lt;m:got&gt;0&lt;/m:got&gt;\r\n            &lt;m:nItems&gt;0&lt;/m:nItems&gt;\r\n        &lt;/m:DPSretrieve&gt;\r\n    &lt;/SOAP-ENV:Body&gt;\r\n&lt;/SOAP-ENV:Envelope&gt;\r\n```","title":"How to add a SAML assertion to a SOAP security header in Spring using Wss4jSecurityInterceptor","body":"<p>I have a requirement to pass a SAML assertion as a token inside a SOAP security header. I am using Spring-WS as the framework.</p>\n<p>The XML that I want to create looks like this:</p>\n<p>I have a requirement to pass a SAML assertion as a token inside a SOAP security header.</p>\n<p>The XML that I want to create looks as below. As can be seen, the XML contains the assertion with the <code>wsse:Security</code> block.</p>\n<p>Is there a way to do this with the <code>Wss4jSecurityInterceptor</code> class ?</p>\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;SOAP-ENV:Header&gt;\n        &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\n\n            &lt;Assertion MinorVersion=&quot;1&quot; MajorVersion=&quot;1&quot; Issuer=&quot;http://www.bea.com/saml&quot;\n                       IssueInstant=&quot;2005-11-10T11:27:36.233Z&quot; AssertionID=&quot;HRMC-SM172.26.5.143.1106860829320&quot;\n                       xmlns=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;&gt;\n                &lt;Conditions NotOnOrAfter=&quot;2005-11-10T15:27:36.233Z&quot; NotBefore=&quot;2005-11-10T11:22:36.233Z&quot;/&gt;\n                &lt;AuthenticationStatement AuthenticationMethod=&quot;urn:oasis:names:tc:SAML:1.0:am:unspecified&quot;\n                                         AuthenticationInstant=&quot;2005-11-10T11:27:36.233Z&quot;&gt;\n                    &lt;Subject&gt;\n                        &lt;NameIdentifier Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;&gt;ANYAGENT\n                        &lt;/NameIdentifier&gt;\n                        &lt;SubjectConfirmation&gt;\n                            &lt;ConfirmationMethod&gt;urn:oasis:names:tc:SAML:1.0:cm:sender-vouches&lt;/ConfirmationMethod&gt;\n                        &lt;/SubjectConfirmation&gt;\n                    &lt;/Subject&gt;\n                &lt;/AuthenticationStatement&gt;\n            &lt;/Assertion&gt;\n\n        &lt;/wsse:Security&gt;\n    &lt;/SOAP-ENV:Header&gt;\n    &lt;SOAP-ENV:Body&gt;\n        &lt;m:DPSretrieve xmlns:m=&quot;https://tpvs.hmrc.gov.uk/dps&quot;&gt;\n            &lt;m:version&gt;1&lt;/m:version&gt;\n            &lt;m:vendorID&gt;your 4 digit vendorID&lt;/m:vendorID&gt;\n            &lt;m:service&gt;PAYE&lt;/m:service&gt;\n            &lt;m:entityType&gt;EmpRef&lt;/m:entityType&gt;\n            &lt;m:entity&gt;as advised by SDS Team&lt;/m:entity&gt;\n            &lt;m:dataType&gt;P6&lt;/m:dataType&gt;\n            &lt;m:got&gt;0&lt;/m:got&gt;\n            &lt;m:nItems&gt;0&lt;/m:nItems&gt;\n        &lt;/m:DPSretrieve&gt;\n    &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":3,"creation_date":1530472594,"post_id":51126188,"comment_id":89237481,"body_markdown":"Debugging is an integral part of programming. In this case you can easily find &quot;corner cases&quot; by writing a &quot;naive&quot; implementation and running it against your implementation of all pairs of `L` and `R` from 0 to 100.","body":"Debugging is an integral part of programming. In this case you can easily find &quot;corner cases&quot; by writing a &quot;naive&quot; implementation and running it against your implementation of all pairs of <code>L</code> and <code>R</code> from 0 to 100."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1530472671,"post_id":51126188,"comment_id":89237498,"body_markdown":"What does your program output for the range `[4, 14]`?","body":"What does your program output for the range <code>[4, 14]</code>?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1530473494,"post_id":51126188,"comment_id":89237686,"body_markdown":"Hint: such stuff is *perfect* for TDD. Meaning: instead of first writing all the code, to hope it works, you start by writing a simple test. Then you write code to solve the test. And so on ...","body":"Hint: such stuff is <i>perfect</i> for TDD. Meaning: instead of first writing all the code, to hope it works, you start by writing a simple test. Then you write code to solve the test. And so on ..."},{"owner":{"account_id":4015930,"reputation":15925,"user_id":3308055,"display_name":"juvian"},"score":0,"creation_date":1530483712,"post_id":51126188,"comment_id":89239782,"body_markdown":"R = L = 3, your program gives wrong output","body":"R = L = 3, your program gives wrong output"}],"answers":[{"tags":[],"owner":{"account_id":23752080,"reputation":1,"user_id":17768702,"display_name":"Aniket Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253681,"creation_date":1646231600,"answer_id":71324431,"question_id":51126188,"body_markdown":"    class Codechef {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint t = sc.nextInt();\r\n    \t\tfor (int i =0;i&lt;t ;i++ ){\r\n    \t\t    int l = sc.nextInt();\r\n    \t\t    int r = sc.nextInt();\r\n    \t\t    int count = 0;\r\n    \t\t    for(int j=l;j&lt;=r;j++){\r\n    \t\t         if(j%10==2){\r\n    \t\t        count++;`\r\n    \t\t    }\r\n    \t\t    else if (j%10==3) {\r\n    \t\t        count++;\r\n    \t\t    }\r\n    \t\t    else if(j%10==9){\r\n    \t\t        count++;\r\n    \t\t    }\r\n    \t\t    \r\n    \t\t}\r\n    \t\tSystem.out.println(count);\r\n    \t}\r\n    }\r\n\r\ninput is :\r\n\r\n    2\r\n    1 10\r\n    11 33\r\n\r\noutput is :\r\n\r\n    3\r\n    8\r\n\r\n","title":"Code Chef Counting Pretty Numbers","body":"<pre><code>class Codechef {\n    public static void main (String[] args) throws java.lang.Exception {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        for (int i =0;i&lt;t ;i++ ){\n            int l = sc.nextInt();\n            int r = sc.nextInt();\n            int count = 0;\n            for(int j=l;j&lt;=r;j++){\n                 if(j%10==2){\n                count++;`\n            }\n            else if (j%10==3) {\n                count++;\n            }\n            else if(j%10==9){\n                count++;\n            }\n            \n        }\n        System.out.println(count);\n    }\n}\n</code></pre>\n<p>input is :</p>\n<pre><code>2\n1 10\n11 33\n</code></pre>\n<p>output is :</p>\n<pre><code>3\n8\n</code></pre>\n"}],"owner":{"account_id":8620507,"reputation":1,"user_id":8886108,"display_name":"Muhammad Saboor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646253681,"creation_date":1530471889,"question_id":51126188,"body_markdown":"I am doing code chef problems. I am stuck on this one. The problem is simple one.\r\nhttps://www.codechef.com/LTIME61B/problems/NUM239\r\n\r\nVasya likes the number 239. Therefore, he considers a number pretty if its last digit is 2, 3 or 9.\r\nVasya wants to watch the numbers between L\r\nand R (both inclusive), so he asked you to determine how many pretty numbers are in this range. Can you help him?\r\n\r\nI wrote a solution in O(T) which is giving correct answers for my inputs. But shows wrong answer on codechef.\r\nIs there any corner case I am missing?\r\nMy code is:\r\n\r\n        public class Solution {\r\n            public static void main( String[] args ) {\r\n            Scanner scanner = new Scanner( System.in );\r\n            int T = scanner.nextInt();\r\n            for( int i = 0; i &lt; T; i++ ) {\r\n                int prettyNumbers;\r\n                int L = scanner.nextInt();\r\n                int R = scanner.nextInt();\r\n\r\n                prettyNumbers = ( (R/10) - (L/10) ) * 3;\r\n\r\n                if( R%10 &gt; 1 ) {\r\n                    prettyNumbers++;\r\n                    if( R%10 &gt;= 3 ) {\r\n                        prettyNumbers++;\r\n                    }\r\n                    if( R%10 == 9 ) {\r\n                        prettyNumbers++;\r\n                    }\r\n                }\r\n\r\n                System.out.println( prettyNumbers );\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n","title":"Code Chef Counting Pretty Numbers","body":"<p>I am doing code chef problems. I am stuck on this one. The problem is simple one.\n<a href=\"https://www.codechef.com/LTIME61B/problems/NUM239\" rel=\"nofollow noreferrer\">https://www.codechef.com/LTIME61B/problems/NUM239</a></p>\n\n<p>Vasya likes the number 239. Therefore, he considers a number pretty if its last digit is 2, 3 or 9.\nVasya wants to watch the numbers between L\nand R (both inclusive), so he asked you to determine how many pretty numbers are in this range. Can you help him?</p>\n\n<p>I wrote a solution in O(T) which is giving correct answers for my inputs. But shows wrong answer on codechef.\nIs there any corner case I am missing?\nMy code is:</p>\n\n<pre><code>    public class Solution {\n        public static void main( String[] args ) {\n        Scanner scanner = new Scanner( System.in );\n        int T = scanner.nextInt();\n        for( int i = 0; i &lt; T; i++ ) {\n            int prettyNumbers;\n            int L = scanner.nextInt();\n            int R = scanner.nextInt();\n\n            prettyNumbers = ( (R/10) - (L/10) ) * 3;\n\n            if( R%10 &gt; 1 ) {\n                prettyNumbers++;\n                if( R%10 &gt;= 3 ) {\n                    prettyNumbers++;\n                }\n                if( R%10 == 9 ) {\n                    prettyNumbers++;\n                }\n            }\n\n            System.out.println( prettyNumbers );\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","angular","typescript","spring-boot"],"comments":[{"owner":{"account_id":10144463,"reputation":545,"user_id":7493043,"display_name":"Ezani"},"score":0,"creation_date":1627529068,"post_id":68568709,"comment_id":121181936,"body_markdown":"Why are you showing that you are logged in before you even get to the Login Form to keyin your username and password? Also your logout function should clear your credential variables otherwise they remain and you will still be logged in.","body":"Why are you showing that you are logged in before you even get to the Login Form to keyin your username and password? Also your logout function should clear your credential variables otherwise they remain and you will still be logged in."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1627540999,"creation_date":1627540999,"answer_id":68571263,"question_id":68568709,"body_markdown":"Try clearing out your `localStorage` when logging out:\r\n\r\n```js\r\nlocalStorage.clear();\r\n```\r\n\r\nBasically, this removes any trace that the app left when logging in.","title":"logout function refreshes the page but it&#39;s still logged in","body":"<p>Try clearing out your <code>localStorage</code> when logging out:</p>\n<pre class=\"lang-js prettyprint-override\"><code>localStorage.clear();\n</code></pre>\n<p>Basically, this removes any trace that the app left when logging in.</p>\n"},{"tags":[],"owner":{"account_id":24432261,"reputation":1,"user_id":18357041,"display_name":"Anurag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253602,"creation_date":1646250834,"answer_id":71328428,"question_id":68568709,"body_markdown":"**Try This Approach **\r\n\r\n  \r\n\r\n    logout() {\r\n       this.loginService.logOut().subscribe(\r\n        res =&gt; {\r\n    \r\n          if(res) {\r\n            // clear localStorage\r\n            localStorage.clear();\r\n            //navigate to login component\r\n            this.router.navigate([&#39;loginPagePathName&#39;]);\r\n            console.log(&quot;Logged out&quot;)\r\n          }\t\t\r\n        },\r\n        error =&gt; console.log(error));\r\n    }\r\n\r\n\r\nWe don&#39;t need to refresh the page\r\nNote :- You can also clear the local storage whenever login component load into the browser simply put localStorage.clear() inside ngOnInit method of loginComponent ","title":"logout function refreshes the page but it&#39;s still logged in","body":"<p>**Try This Approach **</p>\n<pre><code>logout() {\n   this.loginService.logOut().subscribe(\n    res =&gt; {\n\n      if(res) {\n        // clear localStorage\n        localStorage.clear();\n        //navigate to login component\n        this.router.navigate(['loginPagePathName']);\n        console.log(&quot;Logged out&quot;)\n      }     \n    },\n    error =&gt; console.log(error));\n}\n</code></pre>\n<p>We don't need to refresh the page\nNote :- You can also clear the local storage whenever login component load into the browser simply put localStorage.clear() inside ngOnInit method of loginComponent</p>\n"}],"owner":{"account_id":4528612,"reputation":47,"user_id":3679756,"display_name":"WannaBeDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2074,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68571263,"answer_count":2,"score":0,"last_activity_date":1646253602,"creation_date":1627518111,"question_id":68568709,"body_markdown":"I am following a course on Udemy, the instructor&#39;s side is using Angular 2 and I am trying to build the app using the latest version. The main problem I have, is that the logout function is accessed but because I have to refresh the page to display the login form again, for some reason, after the refresh, I see the login form but then it goes back to the part where I&#39;m logged in.\r\n\r\nLogout method on the back-end side:\r\n\r\n    @RequestMapping(value=&quot;/loggedOut&quot;, method=RequestMethod.POST)\r\n\tpublic ResponseEntity logout(){\r\n\t\tSecurityContextHolder.clearContext();\r\n\t\treturn new ResponseEntity(&quot;Logout Successfully!&quot;, HttpStatus.OK);\r\n\t}\r\n\r\nLogout function from my login service:\r\n\r\n    logOut() {\r\n    const url = &#39;http://localhost:8181/loggedOut&#39;;\r\n    const basicHeader = &#39;Basic &#39; + localStorage.getItem(&#39;credentials&#39;);\r\n    const headers = new HttpHeaders({\r\n      &#39;x-auth-token&#39; : JSON.stringify(localStorage.getItem(&#39;xAuthToken&#39;)),\r\n      &#39;Authorization&#39; : basicHeader\r\n    });\r\n    return this.http.post(url, &#39;&#39;, { headers, responseType: &#39;text&#39;});\r\n\r\nThe button responsible for logging out:\r\n\r\n    logout() {\r\n      this.loginService.logOut().subscribe(\r\n        res =&gt; {\r\n          location.reload();\r\n          console.log(&quot;Logged out&quot;)\r\n        },\r\n        error =&gt; {\r\n          console.log(error)\r\n        }\r\n      );\r\n\r\nTechnically, it goes as follow: Logged in -&gt; Login form -&gt; Logged in\r\n\r\nLogged in:\r\n[![Logged in picture][1]][1]\r\n\r\nLog in form:\r\n[![Logged out][2]][2]\r\n\r\n\r\nIf I remove the reload method, I can see that the logout method is accessed and I get a 200 from the back-end.\r\n\r\n[![Logged Out][3]][3]\r\n\r\nNetwork tab before refreshing: \r\n\r\n[![Network tab response][4]][4]\r\n\r\nThe server response before refreshing:\r\n\r\n[![Server Response][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AO8Jj.png\r\n  [2]: https://i.stack.imgur.com/rHL4O.png\r\n  [3]: https://i.stack.imgur.com/J6krZ.png\r\n  [4]: https://i.stack.imgur.com/LghYO.png\r\n  [5]: https://i.stack.imgur.com/0cVU1.png","title":"logout function refreshes the page but it&#39;s still logged in","body":"<p>I am following a course on Udemy, the instructor's side is using Angular 2 and I am trying to build the app using the latest version. The main problem I have, is that the logout function is accessed but because I have to refresh the page to display the login form again, for some reason, after the refresh, I see the login form but then it goes back to the part where I'm logged in.</p>\n<p>Logout method on the back-end side:</p>\n<pre><code>@RequestMapping(value=&quot;/loggedOut&quot;, method=RequestMethod.POST)\npublic ResponseEntity logout(){\n    SecurityContextHolder.clearContext();\n    return new ResponseEntity(&quot;Logout Successfully!&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>Logout function from my login service:</p>\n<pre><code>logOut() {\nconst url = 'http://localhost:8181/loggedOut';\nconst basicHeader = 'Basic ' + localStorage.getItem('credentials');\nconst headers = new HttpHeaders({\n  'x-auth-token' : JSON.stringify(localStorage.getItem('xAuthToken')),\n  'Authorization' : basicHeader\n});\nreturn this.http.post(url, '', { headers, responseType: 'text'});\n</code></pre>\n<p>The button responsible for logging out:</p>\n<pre><code>logout() {\n  this.loginService.logOut().subscribe(\n    res =&gt; {\n      location.reload();\n      console.log(&quot;Logged out&quot;)\n    },\n    error =&gt; {\n      console.log(error)\n    }\n  );\n</code></pre>\n<p>Technically, it goes as follow: Logged in -&gt; Login form -&gt; Logged in</p>\n<p>Logged in:\n<a href=\"https://i.stack.imgur.com/AO8Jj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AO8Jj.png\" alt=\"Logged in picture\" /></a></p>\n<p>Log in form:\n<a href=\"https://i.stack.imgur.com/rHL4O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHL4O.png\" alt=\"Logged out\" /></a></p>\n<p>If I remove the reload method, I can see that the logout method is accessed and I get a 200 from the back-end.</p>\n<p><a href=\"https://i.stack.imgur.com/J6krZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J6krZ.png\" alt=\"Logged Out\" /></a></p>\n<p>Network tab before refreshing:</p>\n<p><a href=\"https://i.stack.imgur.com/LghYO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LghYO.png\" alt=\"Network tab response\" /></a></p>\n<p>The server response before refreshing:</p>\n<p><a href=\"https://i.stack.imgur.com/0cVU1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cVU1.png\" alt=\"Server Response\" /></a></p>\n"},{"tags":["java","proxy","httpclient","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":1227667,"reputation":116,"user_id":1192929,"display_name":"quotidian-ennui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646252166,"creation_date":1646252166,"answer_id":71328636,"question_id":71327914,"body_markdown":"Set the proxy when you create the client, or set the proxy on the Request.\r\n\r\nSince you already refer to a createHttpClient() method :\r\n\r\n\r\n```java\r\nprivate ClosableHttpClient createHttpClient() {\r\n  HttpClientBuilder builder = HttpClients.custom();\r\n  builder.setProxy(HttpHost.create(&quot;http://my.proxy&quot;));\r\n  return builder.build();\r\n}\r\n```\r\n\r\nor setting it when you create the request : \r\n\r\n```java\r\n            RequestConfig requestConfig = RequestConfig.custom()\r\n                    .setConnectionRequestTimeout(1000 * 60 * 5)\r\n                    .setSocketTimeout(1000 * 60 * 5)\r\n                    .setProxy(&quot;http://my.proxy&quot;)\r\n                    .build();\r\n```\r\n\r\nSince you&#39;re implying that it&#39;s an authenticated proxy then I guess some credentials are in order.\r\n\r\n```java\r\nprivate ClosableHttpClient createHttpClient() {\r\n  CredentialsProvider creds = new BasicCredentialsProvider();\r\n  creds.setCredentials(new AuthScope(&quot;my.proxy&quot;, 80), \r\n     new UsernamePasswordCredentials(&quot;myuser&quot;, &quot;mypassword&quot;)));\r\n  HttpClientBuilder builder = HttpClients.custom()\r\n     .setDefaultCredentialsProvider(creds)\r\n     .setProxyAuthenticationStrategy(ProxyAuthenticationStrategy.INSTANCE)\r\n     .setProxy(HttpHost.create(&quot;http://my.proxy&quot;));\r\n  return builder.build();\r\n}\r\n```\r\n","title":"How to set Proxy in HttpPost in java","body":"<p>Set the proxy when you create the client, or set the proxy on the Request.</p>\n<p>Since you already refer to a createHttpClient() method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ClosableHttpClient createHttpClient() {\n  HttpClientBuilder builder = HttpClients.custom();\n  builder.setProxy(HttpHost.create(&quot;http://my.proxy&quot;));\n  return builder.build();\n}\n</code></pre>\n<p>or setting it when you create the request :</p>\n<pre class=\"lang-java prettyprint-override\"><code>            RequestConfig requestConfig = RequestConfig.custom()\n                    .setConnectionRequestTimeout(1000 * 60 * 5)\n                    .setSocketTimeout(1000 * 60 * 5)\n                    .setProxy(&quot;http://my.proxy&quot;)\n                    .build();\n</code></pre>\n<p>Since you're implying that it's an authenticated proxy then I guess some credentials are in order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ClosableHttpClient createHttpClient() {\n  CredentialsProvider creds = new BasicCredentialsProvider();\n  creds.setCredentials(new AuthScope(&quot;my.proxy&quot;, 80), \n     new UsernamePasswordCredentials(&quot;myuser&quot;, &quot;mypassword&quot;)));\n  HttpClientBuilder builder = HttpClients.custom()\n     .setDefaultCredentialsProvider(creds)\n     .setProxyAuthenticationStrategy(ProxyAuthenticationStrategy.INSTANCE)\n     .setProxy(HttpHost.create(&quot;http://my.proxy&quot;));\n  return builder.build();\n}\n</code></pre>\n"}],"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328636,"answer_count":1,"score":0,"last_activity_date":1646253503,"creation_date":1646247830,"question_id":71327914,"body_markdown":"Please consider that I have a Custom Proxy Class with fields,\r\n\r\n    private final String serverName;\r\n\tprivate final int port;\r\n\tprivate final String username;\r\n\tprivate final String password;\r\n\r\nI want to use this Proxy in the below existing code, but I am not sure how to add that. The below code does not support proxy.\r\n\r\n    public CustomClassForResponse createRequest(CreateCustomRequest request) {\r\n    \t\tHttpPost httpRequest = new HttpPost();\r\n    \t\ttry {\r\n    \t\t\tURIBuilder uriBuilder = new URIBuilder();\r\n    \t\t\turiBuilder.setScheme(URL_SCHEME).setHost(HOST_URL).setPath(&quot;/api&quot;);\r\n    \t\t\thttpRequest.setURI(uriBuilder.build());\r\n    \t\t\thttpRequest.setHeader(&quot;Authorization&quot;, accessToken());\r\n    \t\t\thttpRequest.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\thttpRequest.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \r\n    \t\t\tRequestConfig requestConfig = RequestConfig.custom()\r\n    \t\t\t\t\t.setConnectionRequestTimeout(1000 * 60 * 5)\r\n    \t\t\t\t\t.setSocketTimeout(1000 * 60 * 5)\r\n    \t\t\t\t\t.build();\r\n    \t\t\thttpRequest.setConfig(requestConfig);\r\n    \r\n    \t\t\thttpRequest = (HttpPost) addJsonBody(request, httpRequest);\r\n    \r\n    \t\t\treturn sendRequest(httpRequest, CustomClassForResponse.class);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new CustomException(e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate HttpEntityEnclosingRequest addJsonBody(JsonRequest request, HttpEntityEnclosingRequest httpRequest) throws JsonProcessingException {\r\n    \t\tEntityBuilder builder = EntityBuilder.create();\r\n    \t\tbuilder.setContentType(ContentType.APPLICATION_JSON);\r\n    \t\tbuilder.setText(ObjectMapperProvider.getInstance().writeValueAsString(request));\r\n    \t\tHttpEntity httpEntity = builder.build();\r\n    \t\thttpRequest.setEntity(httpEntity);\r\n    \t\treturn httpRequest;\r\n    \t}\r\n    \t\r\n    \tprivate &lt;T extends JsonResponse&gt; T sendRequest(HttpRequestBase httpRequest, Class&lt;T&gt; responseClass) throws IOException {\r\n    \t\tCloseableHttpResponse response = createHttpClient().execute(httpRequest, createHttpClientContext());\r\n    \t\tHttpEntity entity = response.getEntity();\r\n    \t\tif (isResponseSuccess(response)) {\r\n    \t\t\tT jsonResponse = ObjectMapperProvider.getInstance().readValue(entity.getContent(), responseClass);\r\n    \t\t\treturn jsonResponse;\r\n    \t\t} else {\r\n    \t\t\tthrow new CustomException();\r\n    \t\t}\r\n    \t}\r\n\r\nso the `createRequest` method is called and then it calls the `addJsonBody` and then the `sendRequest` method.\r\n\r\nHere are the version details:\r\n\r\n    (&quot;org.apache.httpcomponents:httpcore:4.4.6&quot;)\r\n    (&quot;org.apache.httpcomponents:httpclient:4.5.13&quot;)\r\n    (&quot;org.apache.httpcomponents:httpmime:4.5.3&quot;)\r\n    (&quot;commons-logging:commons-logging:1.2&quot;)","title":"How to set Proxy in HttpPost in java","body":"<p>Please consider that I have a Custom Proxy Class with fields,</p>\n<pre><code>private final String serverName;\nprivate final int port;\nprivate final String username;\nprivate final String password;\n</code></pre>\n<p>I want to use this Proxy in the below existing code, but I am not sure how to add that. The below code does not support proxy.</p>\n<pre><code>public CustomClassForResponse createRequest(CreateCustomRequest request) {\n        HttpPost httpRequest = new HttpPost();\n        try {\n            URIBuilder uriBuilder = new URIBuilder();\n            uriBuilder.setScheme(URL_SCHEME).setHost(HOST_URL).setPath(&quot;/api&quot;);\n            httpRequest.setURI(uriBuilder.build());\n            httpRequest.setHeader(&quot;Authorization&quot;, accessToken());\n            httpRequest.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            httpRequest.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n\n            RequestConfig requestConfig = RequestConfig.custom()\n                    .setConnectionRequestTimeout(1000 * 60 * 5)\n                    .setSocketTimeout(1000 * 60 * 5)\n                    .build();\n            httpRequest.setConfig(requestConfig);\n\n            httpRequest = (HttpPost) addJsonBody(request, httpRequest);\n\n            return sendRequest(httpRequest, CustomClassForResponse.class);\n        } catch (Exception e) {\n            throw new CustomException(e);\n        }\n    }\n    \n    private HttpEntityEnclosingRequest addJsonBody(JsonRequest request, HttpEntityEnclosingRequest httpRequest) throws JsonProcessingException {\n        EntityBuilder builder = EntityBuilder.create();\n        builder.setContentType(ContentType.APPLICATION_JSON);\n        builder.setText(ObjectMapperProvider.getInstance().writeValueAsString(request));\n        HttpEntity httpEntity = builder.build();\n        httpRequest.setEntity(httpEntity);\n        return httpRequest;\n    }\n    \n    private &lt;T extends JsonResponse&gt; T sendRequest(HttpRequestBase httpRequest, Class&lt;T&gt; responseClass) throws IOException {\n        CloseableHttpResponse response = createHttpClient().execute(httpRequest, createHttpClientContext());\n        HttpEntity entity = response.getEntity();\n        if (isResponseSuccess(response)) {\n            T jsonResponse = ObjectMapperProvider.getInstance().readValue(entity.getContent(), responseClass);\n            return jsonResponse;\n        } else {\n            throw new CustomException();\n        }\n    }\n</code></pre>\n<p>so the <code>createRequest</code> method is called and then it calls the <code>addJsonBody</code> and then the <code>sendRequest</code> method.</p>\n<p>Here are the version details:</p>\n<pre><code>(&quot;org.apache.httpcomponents:httpcore:4.4.6&quot;)\n(&quot;org.apache.httpcomponents:httpclient:4.5.13&quot;)\n(&quot;org.apache.httpcomponents:httpmime:4.5.3&quot;)\n(&quot;commons-logging:commons-logging:1.2&quot;)\n</code></pre>\n"},{"tags":["java","plugins","minecraft","bukkit","spigot"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646253446,"creation_date":1646253446,"answer_id":71328852,"question_id":71328664,"body_markdown":"I just checked your repository.\r\n\r\nThe main issue is that everything is in the `denoriabot` and not in main folder. So, instead of beeing `src/main` it&#39;s `denoriabot/src/main`. To fix it, you can change it in your `pom.xml`, or change the folder itself.\r\n\r\nAlso, you used github workflows. I suggest you to make auto-run with 2 things:\r\n1. Run maven:\r\n```yml\r\n- name: Build with Maven\r\n  run: mvn install\r\n```\r\n2. Upload artifact to github:\r\n```yml\r\n- uses: actions/upload-artifact@v2\r\n  name: Upload Artifact\r\n  with:\r\n    name: FileName.jar\r\n    path: target/FileName*.jar\r\n```","title":"Jar does not contain plugin.yml","body":"<p>I just checked your repository.</p>\n<p>The main issue is that everything is in the <code>denoriabot</code> and not in main folder. So, instead of beeing <code>src/main</code> it's <code>denoriabot/src/main</code>. To fix it, you can change it in your <code>pom.xml</code>, or change the folder itself.</p>\n<p>Also, you used github workflows. I suggest you to make auto-run with 2 things:</p>\n<ol>\n<li>Run maven:</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>- name: Build with Maven\n  run: mvn install\n</code></pre>\n<ol start=\"2\">\n<li>Upload artifact to github:</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>- uses: actions/upload-artifact@v2\n  name: Upload Artifact\n  with:\n    name: FileName.jar\n    path: target/FileName*.jar\n</code></pre>\n"}],"owner":{"account_id":24144809,"reputation":3,"user_id":18110585,"display_name":"Norbiros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328852,"answer_count":1,"score":0,"last_activity_date":1646253446,"creation_date":1646252354,"question_id":71328664,"body_markdown":"*I know this is another question like, this but really - I tested all things that are on internet, and I can&#39;t make it work!*\r\n\r\nHi!\r\nI created GitHub repo: https://github.com/Norbiros/DenoriaBot.\r\nWhen I export this file - everything works fine, but when I add this plugin to server and reload it I have this error:\r\n```\r\nCould not load &#39;plugins/DenoriaBot.jar&#39; in folder &#39;plugins&#39;\r\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\r\nat org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:178) ~[paper-api-1.18.1-R0.1-SNAPSHOT.jar:?]\r\nat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:159) ~[paper-api-1.18.1-R0.1-SNAPSHOT.jar:?]\r\nat org.bukkit.craftbukkit.v1_18_R1.CraftServer.loadPlugins(CraftServer.java:419) ~[paper-1.18.1.jar:git-Paper-197]\r\nat net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:285) ~[paper-1.18.1.jar:git-Paper-197]\r\nat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1202) ~[paper-1.18.1.jar:git-Paper-197]\r\nat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:317) ~[paper-1.18.1.jar:git-Paper-197]\r\nat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nCaused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\r\n```\r\nI looked in every file, but I can&#39;t see what I did wrong. Maybe someone will help me...\r\n\r\nI&#39;m exporting plugin with command:\r\n`mvn clean install`\r\nWhen I&#39;m running this command I have warning (I think it is not important, but IDK):\r\n```\r\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n[WARNING] DenoriaBot.jar, JDA-5.0.0-alpha.9.jar, annotations-16.0.1.jar, commons-collections4-4.1.jar, jackson-annotations-2.10.1.jar, jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar, jna-4.4.0.jar, jsr305-3.0.2.jar, nv-websocket-client-2.14.jar, okhttp-3.13.0.jar, okio-1.17.2.jar, opus-java-1.1.1.jar, opus-java-api-1.1.1.jar, opus-java-natives-1.1.1.jar, slf4j-api-1.7.25.jar, trove4j-3.0.3.jar define 1 overlapping resources: \r\n[WARNING]   - META-INF/MANIFEST.MF\r\n[WARNING] jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar define 1 overlapping resources: \r\n[WARNING]   - META-INF/NOTICE\r\n[WARNING] jackson-annotations-2.10.1.jar, jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar define 1 overlapping resources: \r\n[WARNING]   - META-INF/LICENSE\r\n[WARNING] maven-shade-plugin has detected that some class files are\r\n[WARNING] present in two or more JARs. When this happens, only one\r\n[WARNING] single version of the class is copied to the uber jar.\r\n[WARNING] Usually this is not harmful and you can skip these warnings,\r\n[WARNING] otherwise try to manually exclude artifacts based on\r\n[WARNING] mvn dependency:tree -Ddetail=true and the above output.\r\n[WARNING] See http://maven.apache.org/plugins/maven-shade-plugin/\r\n```","title":"Jar does not contain plugin.yml","body":"<p><em>I know this is another question like, this but really - I tested all things that are on internet, and I can't make it work!</em></p>\n<p>Hi!\nI created GitHub repo: <a href=\"https://github.com/Norbiros/DenoriaBot\" rel=\"nofollow noreferrer\">https://github.com/Norbiros/DenoriaBot</a>.\nWhen I export this file - everything works fine, but when I add this plugin to server and reload it I have this error:</p>\n<pre><code>Could not load 'plugins/DenoriaBot.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\nat org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:178) ~[paper-api-1.18.1-R0.1-SNAPSHOT.jar:?]\nat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:159) ~[paper-api-1.18.1-R0.1-SNAPSHOT.jar:?]\nat org.bukkit.craftbukkit.v1_18_R1.CraftServer.loadPlugins(CraftServer.java:419) ~[paper-1.18.1.jar:git-Paper-197]\nat net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:285) ~[paper-1.18.1.jar:git-Paper-197]\nat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1202) ~[paper-1.18.1.jar:git-Paper-197]\nat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:317) ~[paper-1.18.1.jar:git-Paper-197]\nat java.lang.Thread.run(Thread.java:833) ~[?:?]\nCaused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\n</code></pre>\n<p>I looked in every file, but I can't see what I did wrong. Maybe someone will help me...</p>\n<p>I'm exporting plugin with command:\n<code>mvn clean install</code>\nWhen I'm running this command I have warning (I think it is not important, but IDK):</p>\n<pre><code>[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n[WARNING] DenoriaBot.jar, JDA-5.0.0-alpha.9.jar, annotations-16.0.1.jar, commons-collections4-4.1.jar, jackson-annotations-2.10.1.jar, jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar, jna-4.4.0.jar, jsr305-3.0.2.jar, nv-websocket-client-2.14.jar, okhttp-3.13.0.jar, okio-1.17.2.jar, opus-java-1.1.1.jar, opus-java-api-1.1.1.jar, opus-java-natives-1.1.1.jar, slf4j-api-1.7.25.jar, trove4j-3.0.3.jar define 1 overlapping resources: \n[WARNING]   - META-INF/MANIFEST.MF\n[WARNING] jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar define 1 overlapping resources: \n[WARNING]   - META-INF/NOTICE\n[WARNING] jackson-annotations-2.10.1.jar, jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar define 1 overlapping resources: \n[WARNING]   - META-INF/LICENSE\n[WARNING] maven-shade-plugin has detected that some class files are\n[WARNING] present in two or more JARs. When this happens, only one\n[WARNING] single version of the class is copied to the uber jar.\n[WARNING] Usually this is not harmful and you can skip these warnings,\n[WARNING] otherwise try to manually exclude artifacts based on\n[WARNING] mvn dependency:tree -Ddetail=true and the above output.\n[WARNING] See http://maven.apache.org/plugins/maven-shade-plugin/\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver","webautomation","selenium-edgedriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1646266416,"post_id":71328844,"comment_id":126083688,"body_markdown":"The code will work just fine as is.  (as long as the driver is in the path you set in setProperty)  Are you asking how to package the driver with your JAR?","body":"The code will work just fine as is.  (as long as the driver is in the path you set in setProperty)  Are you asking how to package the driver with your JAR?"},{"owner":{"account_id":23371121,"reputation":1,"user_id":17441953,"display_name":"Prit Patel"},"score":0,"creation_date":1646275454,"post_id":71328844,"comment_id":126085268,"body_markdown":"Yes, thats what I mean like how to package the driver with JAR.","body":"Yes, thats what I mean like how to package the driver with JAR."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1646330802,"post_id":71328844,"comment_id":126102544,"body_markdown":"You can add it as a resource and then extract it at run-time.  (You would then know the path because you put it there...)  I just put it in a folder called &quot;Resources&quot; (in src/.../).  Check &quot;getResourceAsStream&quot;: https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResourceAsStream-java.lang.String-","body":"You can add it as a resource and then extract it at run-time.  (You would then know the path because you put it there...)  I just put it in a folder called &quot;Resources&quot; (in src/.../).  Check &quot;getResourceAsStream&quot;: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResourceAsStream-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1646330973,"post_id":71328844,"comment_id":126102601,"body_markdown":"if you don&#39;t want to bloat your JAR file, there&#39;s always webdrivermanager which will download it at run-time if needed.  (It&#39;ll also manage your updates...)","body":"if you don&#39;t want to bloat your JAR file, there&#39;s always webdrivermanager which will download it at run-time if needed.  (It&#39;ll also manage your updates...)"}],"owner":{"account_id":23371121,"reputation":1,"user_id":17441953,"display_name":"Prit Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646253404,"creation_date":1646253404,"question_id":71328844,"body_markdown":"I have written a Java selenium web automation code and I want to create a JAR for the same java code. Initially, I have hardcoded web-driver dependency like this:\r\n\r\n            System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;EdgeDriver/msedgedriver.exe&quot;);\r\n\r\nNow, If I create a JAR it will not work because we cannot run exe from JAR. I will really appreciate if someone can help me out.\r\n\r\nThank You\r\n\r\n ","title":"How to create Jar File dependent on exe? Selenium Web Driver","body":"<p>I have written a Java selenium web automation code and I want to create a JAR for the same java code. Initially, I have hardcoded web-driver dependency like this:</p>\n<pre><code>        System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;EdgeDriver/msedgedriver.exe&quot;);\n</code></pre>\n<p>Now, If I create a JAR it will not work because we cannot run exe from JAR. I will really appreciate if someone can help me out.</p>\n<p>Thank You</p>\n"},{"tags":["java","spring","rabbitmq","spring-rabbit","messagebroker"],"comments":[{"owner":{"account_id":4487313,"reputation":806,"user_id":3649484,"display_name":"Risul Islam"},"score":0,"creation_date":1569480293,"post_id":58110868,"comment_id":102611846,"body_markdown":"https://stackoverflow.com/help/how-to-ask","body":"<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1569481051,"post_id":58110868,"comment_id":102612197,"body_markdown":"I suggest you store those events in a database, and then publish them to rabbtmq when it is back up.","body":"I suggest you store those events in a database, and then publish them to rabbtmq when it is back up."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1569485407,"post_id":58110868,"comment_id":102614408,"body_markdown":"@Kayaman why the heck a database? A marshalled array would do the same trick, just a *lot* more lightweight...","body":"@Kayaman why the heck a database? A marshalled array would do the same trick, just a <i>lot</i> more lightweight..."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1569487467,"post_id":58110868,"comment_id":102615407,"body_markdown":"@MarkusWMahlberg because that&#39;s what he said he was planning to do, I just suggested he do as planned. As for your idea, sure, let&#39;s fill up the memory when there are problems. In the best case scenario we&#39;ll run out of memory, and your lightweight solution turns into a data loss disaster. Don&#39;t be afraid of RDBMSs, even if you&#39;re used to the NoSQL hype.","body":"@MarkusWMahlberg because that&#39;s what he said he was planning to do, I just suggested he do as planned. As for your idea, sure, let&#39;s fill up the memory when there are problems. In the best case scenario we&#39;ll run out of memory, and your lightweight solution turns into a data loss disaster. Don&#39;t be afraid of RDBMSs, even if you&#39;re used to the NoSQL hype."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1569530329,"post_id":58110868,"comment_id":102637348,"body_markdown":"@Kayaman `Marshalled` aka coverted into a persistable format, aka `new ObjecOutputStream(new FileOutputStream(filepath))`. Don&#39;t be afraid of POJOs, even if you are used to the RDBMS hype.","body":"@Kayaman <code>Marshalled</code> aka coverted into a persistable format, aka <code>new ObjecOutputStream(new FileOutputStream(filepath))</code>. Don&#39;t be afraid of POJOs, even if you are used to the RDBMS hype."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1569551943,"post_id":58110868,"comment_id":102641776,"body_markdown":"@Kayaman Please see my answer for a bit more detailed explanation.","body":"@Kayaman Please see my answer for a bit more detailed explanation."},{"owner":{"account_id":25336,"reputation":4953,"user_id":65087,"accept_rate":87,"display_name":"Bertvan"},"score":0,"creation_date":1636715744,"post_id":58110868,"comment_id":123636291,"body_markdown":"@MarkusWMahlberg I&#39;d still consider the database because then the whole operation can be transactional.","body":"@MarkusWMahlberg I&#39;d still consider the database because then the whole operation can be transactional."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1636980537,"post_id":58110868,"comment_id":123694527,"body_markdown":"@Bertvan Uhm... So can file system operations...","body":"@Bertvan Uhm... So can file system operations..."},{"owner":{"account_id":25336,"reputation":4953,"user_id":65087,"accept_rate":87,"display_name":"Bertvan"},"score":0,"creation_date":1637083260,"post_id":58110868,"comment_id":123729103,"body_markdown":"Sure, but can you distribute a transaction over both database and disk? I&#39;m assuming the ts wants to store other data as well. If not, then less relevant indeed.","body":"Sure, but can you distribute a transaction over both database and disk? I&#39;m assuming the ts wants to store other data as well. If not, then less relevant indeed."},{"owner":{"account_id":25336,"reputation":4953,"user_id":65087,"accept_rate":87,"display_name":"Bertvan"},"score":0,"creation_date":1637233524,"post_id":58110868,"comment_id":123773824,"body_markdown":"BTW, a nice article on the subject: https://jimmybogard.com/refactoring-towards-resilience-a-primer/","body":"BTW, a nice article on the subject: <a href=\"https://jimmybogard.com/refactoring-towards-resilience-a-primer/\" rel=\"nofollow noreferrer\">jimmybogard.com/refactoring-towards-resilience-a-primer</a>"}],"answers":[{"tags":[],"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1569552670,"creation_date":1569551918,"answer_id":58127042,"question_id":58110868,"body_markdown":"To expand a bit on my comment: There is really no need to use a database for persistent buffering.\r\n\r\n**EDIT**: Also, the very reason for not being able to send messages to RabbitMQ might well be a lost network connection. Most DBMSes would be of little use in this case. *End of edit.*\r\n\r\n```java\r\npackage io.mahlberg.stackoverflow.questions.objpersistencedemo;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Date;\r\n\r\npublic class PersistenceDemo {\r\n\r\n  /*\r\n   * A decent default number of objects to be buffered.\r\n   */\r\n  private static long COUNT = 10000L;\r\n\r\n  /*\r\n   * Default filename\r\n   */\r\n  private static final String OBJ_DAT = &quot;./obj.dat&quot;;\r\n\r\n  private static FileOutputStream   fos;\r\n  private static ObjectOutputStream oos;\r\n\r\n  private static FileInputStream   fis;\r\n  private static ObjectInputStream ois;\r\n\r\n  private static File dat;\r\n\r\n  private static Object lock;\r\n\r\n  public static void main(String[] args) throws InterruptedException, IOException {\r\n\r\n    // Get the actual number of counts\r\n    if (args[0] != null) {\r\n      COUNT = Long.parseLong(args[0]);\r\n    }\r\n\r\n    // Initialize out lock\r\n    lock = new Object();\r\n\r\n    // Ensure the datafile exists.\r\n    dat = new File(OBJ_DAT);\r\n    dat.createNewFile();\r\n\r\n    // Initialize our streams.\r\n    try {\r\n      fos = new FileOutputStream(dat);\r\n    } catch (Exception e1) {\r\n      e1.printStackTrace();\r\n      System.exit(1);\r\n    }\r\n\r\n    oos = new ObjectOutputStream(fos);\r\n\r\n    // Define the writer thread.\r\n    Thread writer = new Thread(new Runnable() {\r\n\r\n      public void run() {\r\n        Data obj;\r\n\r\n        // Make sure we have the behaviour of the queue.\r\n        synchronized (lock) {\r\n\r\n          for (int i = 0; i &lt; COUNT; i++) {\r\n            obj = new Data(String.format(&quot;Obj-%d&quot;, i), new Date());\r\n            try {\r\n              oos.writeObject(obj);\r\n              oos.flush();\r\n              fos.flush();\r\n\r\n              // Notify the reader...\r\n              lock.notify();\r\n            } catch (IOException e1) {\r\n              // TODO Auto-generated catch block\r\n              e1.printStackTrace();\r\n            }\r\n            try {\r\n              // ... and wait until the reader is finished.\r\n              lock.wait();\r\n            } catch (InterruptedException e) {\r\n              e.printStackTrace();\r\n              break;\r\n            }\r\n          }\r\n          // We need to notify the reader one last time for the last\r\n          // Object we put into the stream.\r\n          lock.notify();\r\n        }\r\n\r\n      }\r\n    });\r\n\r\n    // Initialize the streams used by reader.\r\n    fis = new FileInputStream(dat);\r\n    ois = new ObjectInputStream(fis);\r\n\r\n    Thread reader = new Thread(new Runnable() {\r\n\r\n      public void run() {\r\n        Data obj;\r\n        while (true) {\r\n          synchronized (lock) {\r\n\r\n            try {\r\n              obj = (Data) ois.readObject();\r\n\r\n              // Notify writer we are finished with reading the latest entry...\r\n              lock.notify();\r\n            } catch (ClassNotFoundException e1) {\r\n              e1.printStackTrace();\r\n            } catch (IOException e1) {\r\n              break;\r\n            }\r\n\r\n            try {\r\n              // ...and wait till writer is done writing.\r\n              lock.wait();\r\n            } catch (InterruptedException e) {\r\n              e.printStackTrace();\r\n              break;\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // For doing a rough performance measurement.\r\n    Instant start = Instant.now();\r\n    writer.start();\r\n    reader.start();\r\n\r\n    // Wait till both threads are done.\r\n    writer.join();\r\n    reader.join();\r\n\r\n    Instant end = Instant.now();\r\n    Duration timeElapsed = Duration.between(start, end);\r\n    System.out.format(&quot;Took %sms for %d objects\\n&quot;, timeElapsed.toMillis(), COUNT);\r\n    System.out.format(&quot;Avg: %.3fms/object\\n&quot;, ((double) timeElapsed.toMillis() / COUNT));\r\n\r\n    // Cleanup\r\n    oos.close();\r\n    fos.close();\r\n    ois.close();\r\n    fis.close();\r\n  }\r\n\r\n}\r\n```\r\n\r\nBasically, we use `synchronize`, `notify` and `wait` to emulate a FIFO buffer with a file.\r\n\r\nPlease note that I took some shortcuts for the sake of brevity and readability, but I guess you get the picture. The reader should check for the file size every once in a while (how often depends on the size of your data) and truncate the file, and the error handling is practically non-existant. I created a jar from that class and a data class, and here are some sample results:\r\n\r\n```bash\r\n$ for i in {1..10}; do java -jar target/objpersistencedemo-0.0.1-SNAPSHOT.jar 20000; done\r\n20000\r\nTook 1470ms for 20000 objects\r\nAvg: 0,074ms/object\r\n20000\r\nTook 1510ms for 20000 objects\r\nAvg: 0,076ms/object\r\n20000\r\nTook 1614ms for 20000 objects\r\nAvg: 0,081ms/object\r\n20000\r\nTook 1600ms for 20000 objects\r\nAvg: 0,080ms/object\r\n20000\r\nTook 1626ms for 20000 objects\r\nAvg: 0,081ms/object\r\n20000\r\nTook 1620ms for 20000 objects\r\nAvg: 0,081ms/object\r\n20000\r\nTook 1489ms for 20000 objects\r\nAvg: 0,074ms/object\r\n20000\r\nTook 1604ms for 20000 objects\r\nAvg: 0,080ms/object\r\n20000\r\nTook 1632ms for 20000 objects\r\nAvg: 0,082ms/object\r\n20000\r\nTook 1564ms for 20000 objects\r\nAvg: 0,078ms/object\r\n```\r\n\r\nPlease note that these values are for writing *and* reading. I guess that less than 0.1ms/object is quite a bit faster than a write and subsequent read from an RDBMS.\r\n\r\nIf you let your reader do the sending of the messages to the RabbitMQ instance and add a little truncation and backoff logic, you can basically ensure that all the events you have are either in the buffer file or written to RabbitMQ.","title":"Fallback mechanism when Rabbitmq goes down","body":"<p>To expand a bit on my comment: There is really no need to use a database for persistent buffering.</p>\n\n<p><strong>EDIT</strong>: Also, the very reason for not being able to send messages to RabbitMQ might well be a lost network connection. Most DBMSes would be of little use in this case. <em>End of edit.</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.mahlberg.stackoverflow.questions.objpersistencedemo;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Date;\n\npublic class PersistenceDemo {\n\n  /*\n   * A decent default number of objects to be buffered.\n   */\n  private static long COUNT = 10000L;\n\n  /*\n   * Default filename\n   */\n  private static final String OBJ_DAT = \"./obj.dat\";\n\n  private static FileOutputStream   fos;\n  private static ObjectOutputStream oos;\n\n  private static FileInputStream   fis;\n  private static ObjectInputStream ois;\n\n  private static File dat;\n\n  private static Object lock;\n\n  public static void main(String[] args) throws InterruptedException, IOException {\n\n    // Get the actual number of counts\n    if (args[0] != null) {\n      COUNT = Long.parseLong(args[0]);\n    }\n\n    // Initialize out lock\n    lock = new Object();\n\n    // Ensure the datafile exists.\n    dat = new File(OBJ_DAT);\n    dat.createNewFile();\n\n    // Initialize our streams.\n    try {\n      fos = new FileOutputStream(dat);\n    } catch (Exception e1) {\n      e1.printStackTrace();\n      System.exit(1);\n    }\n\n    oos = new ObjectOutputStream(fos);\n\n    // Define the writer thread.\n    Thread writer = new Thread(new Runnable() {\n\n      public void run() {\n        Data obj;\n\n        // Make sure we have the behaviour of the queue.\n        synchronized (lock) {\n\n          for (int i = 0; i &lt; COUNT; i++) {\n            obj = new Data(String.format(\"Obj-%d\", i), new Date());\n            try {\n              oos.writeObject(obj);\n              oos.flush();\n              fos.flush();\n\n              // Notify the reader...\n              lock.notify();\n            } catch (IOException e1) {\n              // TODO Auto-generated catch block\n              e1.printStackTrace();\n            }\n            try {\n              // ... and wait until the reader is finished.\n              lock.wait();\n            } catch (InterruptedException e) {\n              e.printStackTrace();\n              break;\n            }\n          }\n          // We need to notify the reader one last time for the last\n          // Object we put into the stream.\n          lock.notify();\n        }\n\n      }\n    });\n\n    // Initialize the streams used by reader.\n    fis = new FileInputStream(dat);\n    ois = new ObjectInputStream(fis);\n\n    Thread reader = new Thread(new Runnable() {\n\n      public void run() {\n        Data obj;\n        while (true) {\n          synchronized (lock) {\n\n            try {\n              obj = (Data) ois.readObject();\n\n              // Notify writer we are finished with reading the latest entry...\n              lock.notify();\n            } catch (ClassNotFoundException e1) {\n              e1.printStackTrace();\n            } catch (IOException e1) {\n              break;\n            }\n\n            try {\n              // ...and wait till writer is done writing.\n              lock.wait();\n            } catch (InterruptedException e) {\n              e.printStackTrace();\n              break;\n            }\n\n          }\n        }\n      }\n    });\n\n    // For doing a rough performance measurement.\n    Instant start = Instant.now();\n    writer.start();\n    reader.start();\n\n    // Wait till both threads are done.\n    writer.join();\n    reader.join();\n\n    Instant end = Instant.now();\n    Duration timeElapsed = Duration.between(start, end);\n    System.out.format(\"Took %sms for %d objects\\n\", timeElapsed.toMillis(), COUNT);\n    System.out.format(\"Avg: %.3fms/object\\n\", ((double) timeElapsed.toMillis() / COUNT));\n\n    // Cleanup\n    oos.close();\n    fos.close();\n    ois.close();\n    fis.close();\n  }\n\n}\n</code></pre>\n\n<p>Basically, we use <code>synchronize</code>, <code>notify</code> and <code>wait</code> to emulate a FIFO buffer with a file.</p>\n\n<p>Please note that I took some shortcuts for the sake of brevity and readability, but I guess you get the picture. The reader should check for the file size every once in a while (how often depends on the size of your data) and truncate the file, and the error handling is practically non-existant. I created a jar from that class and a data class, and here are some sample results:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ for i in {1..10}; do java -jar target/objpersistencedemo-0.0.1-SNAPSHOT.jar 20000; done\n20000\nTook 1470ms for 20000 objects\nAvg: 0,074ms/object\n20000\nTook 1510ms for 20000 objects\nAvg: 0,076ms/object\n20000\nTook 1614ms for 20000 objects\nAvg: 0,081ms/object\n20000\nTook 1600ms for 20000 objects\nAvg: 0,080ms/object\n20000\nTook 1626ms for 20000 objects\nAvg: 0,081ms/object\n20000\nTook 1620ms for 20000 objects\nAvg: 0,081ms/object\n20000\nTook 1489ms for 20000 objects\nAvg: 0,074ms/object\n20000\nTook 1604ms for 20000 objects\nAvg: 0,080ms/object\n20000\nTook 1632ms for 20000 objects\nAvg: 0,082ms/object\n20000\nTook 1564ms for 20000 objects\nAvg: 0,078ms/object\n</code></pre>\n\n<p>Please note that these values are for writing <em>and</em> reading. I guess that less than 0.1ms/object is quite a bit faster than a write and subsequent read from an RDBMS.</p>\n\n<p>If you let your reader do the sending of the messages to the RabbitMQ instance and add a little truncation and backoff logic, you can basically ensure that all the events you have are either in the buffer file or written to RabbitMQ.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572720450,"creation_date":1572720046,"answer_id":58674166,"question_id":58110868,"body_markdown":"# Resilient, concurrent, efficient, portable, and local\r\n\r\nAs [Kayaman](https://stackoverflow.com/questions/58110868/fallback-mechanism-when-rabbitmq-goes-down#comment102612197_58110868) suggested, if preserving your messages is critical, you should be using a database system that resilient, concurrent, efficient, and preferably local (on the same machine). \r\n\r\n - If RabbitMQ is not available, the cause is likely to be related to a network outage. So your fallback mechanism should be local on the same machine, if possible.\r\n - We don&#39;t want to overburden your local server. So a database used as the fallback should ideally be efficient with its use of RAM, CPU, and storage. \r\n - If access to RabbitMQ fails repeatedly in rapid succession, we may be adding messages to our fallback database while overlapping in time with moving recorded messages out of the database going back to RabbitMQ. So the fallback mechanism should be able to handle concurrent access. \r\n - If preserving these messages is critical, then our fallback database should be resilient, able to tolerate crashes/power-outages. \r\n - If the server gets redeployed, it would be nice if the fallback mechanism was portable, not dependent on any particular OS or CPU instruction set. So Java-based would address that issue.\r\n\r\n# *H2 Database Engine*\r\n\r\nMy first thought to meet those needs is to use the [*H2 Database Engine*][1]. H2 is a relational database, built in pure Java, actively developed, and proven to be production-worthy. \r\n\r\nA similar product to consider is [*Apache Derby*][2]. But I have heard of various issues that may mean it is not production-worthy, though you should research its current condition. \r\n\r\nThe relational part of H2 may not be relevant, as you may need only a single table to track your stream of messages to be resent later to RabbitMQ. As for the other requirements of being local, efficient, resilient, portable, and concurrent, H2 fits the bill. And if you ever need to add additional tables, H2 is ready as a fully relational database system.\r\n\r\nH2 can be started in either of two modes:\r\n\r\n - [Database server][3], able to take connections from various processes &amp; computers.\r\n - [Embedded database][4], allowing only connections from within the same Java app.\r\n\r\nWhich mode is appropriate to your needs is hard to say without more information. If you want external monitoring tools to attach, then you may want server mode. If you want simple &amp; lean, then embedded mode.\r\n\r\nYour Java app connects to H2 via the included [JDBC driver][5].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Derby\r\n  [3]: https://en.wikipedia.org/wiki/Database_server\r\n  [4]: https://en.wikipedia.org/wiki/Embedded_database\r\n  [5]: https://en.wikipedia.org/wiki/JDBC_driver","title":"Fallback mechanism when Rabbitmq goes down","body":"<h1>Resilient, concurrent, efficient, portable, and local</h1>\n\n<p>As <a href=\"https://stackoverflow.com/questions/58110868/fallback-mechanism-when-rabbitmq-goes-down#comment102612197_58110868\">Kayaman</a> suggested, if preserving your messages is critical, you should be using a database system that resilient, concurrent, efficient, and preferably local (on the same machine). </p>\n\n<ul>\n<li>If RabbitMQ is not available, the cause is likely to be related to a network outage. So your fallback mechanism should be local on the same machine, if possible.</li>\n<li>We don't want to overburden your local server. So a database used as the fallback should ideally be efficient with its use of RAM, CPU, and storage. </li>\n<li>If access to RabbitMQ fails repeatedly in rapid succession, we may be adding messages to our fallback database while overlapping in time with moving recorded messages out of the database going back to RabbitMQ. So the fallback mechanism should be able to handle concurrent access. </li>\n<li>If preserving these messages is critical, then our fallback database should be resilient, able to tolerate crashes/power-outages. </li>\n<li>If the server gets redeployed, it would be nice if the fallback mechanism was portable, not dependent on any particular OS or CPU instruction set. So Java-based would address that issue.</li>\n</ul>\n\n<h1><em>H2 Database Engine</em></h1>\n\n<p>My first thought to meet those needs is to use the <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\"><em>H2 Database Engine</em></a>. H2 is a relational database, built in pure Java, actively developed, and proven to be production-worthy. </p>\n\n<p>A similar product to consider is <a href=\"https://en.wikipedia.org/wiki/Apache_Derby\" rel=\"nofollow noreferrer\"><em>Apache Derby</em></a>. But I have heard of various issues that may mean it is not production-worthy, though you should research its current condition. </p>\n\n<p>The relational part of H2 may not be relevant, as you may need only a single table to track your stream of messages to be resent later to RabbitMQ. As for the other requirements of being local, efficient, resilient, portable, and concurrent, H2 fits the bill. And if you ever need to add additional tables, H2 is ready as a fully relational database system.</p>\n\n<p>H2 can be started in either of two modes:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Database_server\" rel=\"nofollow noreferrer\">Database server</a>, able to take connections from various processes &amp; computers.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Embedded_database\" rel=\"nofollow noreferrer\">Embedded database</a>, allowing only connections from within the same Java app.</li>\n</ul>\n\n<p>Which mode is appropriate to your needs is hard to say without more information. If you want external monitoring tools to attach, then you may want server mode. If you want simple &amp; lean, then embedded mode.</p>\n\n<p>Your Java app connects to H2 via the included <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a>.</p>\n"},{"tags":[],"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253205,"creation_date":1646253205,"answer_id":71328802,"question_id":58110868,"body_markdown":"Rabbit has its own persistence, you can configure your queues so that they persist through a shutdown and come right back up with the same messages they had before the failure.","title":"Fallback mechanism when Rabbitmq goes down","body":"<p>Rabbit has its own persistence, you can configure your queues so that they persist through a shutdown and come right back up with the same messages they had before the failure.</p>\n"}],"owner":{"account_id":16770639,"reputation":41,"user_id":12123135,"display_name":"Vin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5105,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1646253205,"creation_date":1569479856,"question_id":58110868,"body_markdown":"My Spring Boot application sends events to Timescale through RabbitMQ.\r\nI need to know how to save my events if RabbitMQ goes down.\r\n\r\nIn detail:\r\n\r\nThe messages that RabbitMQ publish are persistent. When the message broker goes down, the events are not published and I am planning to store these events in a database and publish them again to RabbitMQ when it is up.\r\nAny solution and suggestion is welcome.","title":"Fallback mechanism when Rabbitmq goes down","body":"<p>My Spring Boot application sends events to Timescale through RabbitMQ.\nI need to know how to save my events if RabbitMQ goes down.</p>\n\n<p>In detail:</p>\n\n<p>The messages that RabbitMQ publish are persistent. When the message broker goes down, the events are not published and I am planning to store these events in a database and publish them again to RabbitMQ when it is up.\nAny solution and suggestion is welcome.</p>\n"},{"tags":["java","unit-testing","junit","assertj"],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646253149,"creation_date":1646253149,"answer_id":71328792,"question_id":71323008,"body_markdown":"`extracting(singleParam or lambda)` can&#39;t return assertions specific to the extracted value type due to java generics limitations, in this case one can inform AssertJ of the type by using [asInstanceOf][1] which would look like:\r\n\r\n```java\r\nstatic import org.assertj.core.api.InstanceOfAssertFactories.LIST;\r\n\r\nassertThat(result)\r\n                .returns(&quot;PASSED&quot;, Result::getValue)\r\n                .extracting(Result::getResponses).asInstanceOf(LIST) // static import for readability\r\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\r\n                .contains(\r\n                        Tuple.tuple(resStatus, tc1, r1),\r\n                        Tuple.tuple(resStatus, tc1, r2));\r\n```\r\n[InstanceOfAssertFactories][2] provides types AssertJ supports assertions for. \r\n\r\nAnother option would be to pass a lambda that extracts the responses and their fields directly (but that&#39;s probably of bit too much work).\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractAssert.html#asInstanceOf(org.assertj.core.api.InstanceOfAssertFactory)\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/InstanceOfAssertFactories.html","title":"AsserJ - chaing together returns and extracting","body":"<p><code>extracting(singleParam or lambda)</code> can't return assertions specific to the extracted value type due to java generics limitations, in this case one can inform AssertJ of the type by using <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractAssert.html#asInstanceOf(org.assertj.core.api.InstanceOfAssertFactory)\" rel=\"nofollow noreferrer\">asInstanceOf</a> which would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static import org.assertj.core.api.InstanceOfAssertFactories.LIST;\n\nassertThat(result)\n                .returns(&quot;PASSED&quot;, Result::getValue)\n                .extracting(Result::getResponses).asInstanceOf(LIST) // static import for readability\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\n                .contains(\n                        Tuple.tuple(resStatus, tc1, r1),\n                        Tuple.tuple(resStatus, tc1, r2));\n</code></pre>\n<p><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/InstanceOfAssertFactories.html\" rel=\"nofollow noreferrer\">InstanceOfAssertFactories</a> provides types AssertJ supports assertions for.</p>\n<p>Another option would be to pass a lambda that extracts the responses and their fields directly (but that's probably of bit too much work).</p>\n"}],"owner":{"account_id":8986741,"reputation":65,"user_id":6700097,"display_name":"siwonpawel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328792,"answer_count":1,"score":0,"last_activity_date":1646253149,"creation_date":1646225463,"question_id":71323008,"body_markdown":"Sometimes sonar cloud is complaining about number of assertions in tests. I wanted and found out how I can chain assertions one to another, but theres a case where I cannot figure out how I can chain assertions.\r\n\r\n```java\r\nimport java.util.List;\r\n\r\nimport org.assertj.core.groups.Tuple;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nclass FakeTest\r\n{\r\n    @Test\r\n    void fakeTest()\r\n    {\r\n        // given\r\n        var resStatus = &quot;FINISHED&quot;;\r\n\r\n        var tc1 = &quot;Test case 1&quot;;\r\n        var r1 = &quot;GOOD&quot;;\r\n\r\n        var tc2 = &quot;Test case 2&quot;;\r\n        var r2 = &quot;ALARMING&quot;;\r\n\r\n        var res1 = Response.builder()\r\n                .status(resStatus)\r\n                .testCaseName(tc1)\r\n                .result(r1)\r\n                .build();\r\n        var res2 = Response.builder()\r\n                .status(resStatus)\r\n                .testCaseName(tc2)\r\n                .result(r2)\r\n                .build();\r\n\r\n        var result = Result.builder()\r\n                .responses(List.of(res1, res2))\r\n                .value(&quot;PASSED&quot;)\r\n                .build();\r\n\r\n        // then\r\n        assertThat(result)\r\n                .returns(&quot;PASSED&quot;, Result::getValue);\r\n\r\n        assertThat(result.getResponses())\r\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\r\n                .contains(\r\n                        Tuple.tuple(resStatus, tc1, r1),\r\n                        Tuple.tuple(resStatus, tc1, r2));\r\n    }\r\n}\r\n\r\n@Data\r\n@Builder\r\nclass Result\r\n{\r\n    private String value;\r\n    private List&lt;Response&gt; responses;\r\n}\r\n\r\n@Data\r\n@Builder\r\nclass Response\r\n{\r\n    private String status;\r\n    private String testCaseName;\r\n    private String result;\r\n    private String error;\r\n}\r\n```\r\n\r\nHow can I do assertions in FakeTest#fakeTest with chaining them instead of splitting to two assertions (one for assertThat(result).returns(...) and then assertThat(result.getResponses()).extracting(...)...)\r\n\r\nWhat I want to achive is:\r\n\r\n```java\r\nassertThat(result)\r\n                .returns(&quot;PASSED&quot;, Result::getValue)\r\n                .extracting(Result::getResponses) // connection between two assertThat(...)\r\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\r\n                .contains(\r\n                        Tuple.tuple(resStatus, tc1, r1),\r\n                        Tuple.tuple(resStatus, tc1, r2));\r\n```\r\n\r\nI&#39;ve found out that returning Assertion object are different:\r\n*  ListAssert\\&lt;Response&gt; when doing the chain of second assertion \r\n*  AbstractObjectAssert&lt;capture of ?, List\\&lt;Response&gt;&gt; when doing **merged** assertion","title":"AsserJ - chaing together returns and extracting","body":"<p>Sometimes sonar cloud is complaining about number of assertions in tests. I wanted and found out how I can chain assertions one to another, but theres a case where I cannot figure out how I can chain assertions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport org.assertj.core.groups.Tuple;\nimport org.junit.jupiter.api.Test;\n\nimport lombok.Builder;\nimport lombok.Data;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nclass FakeTest\n{\n    @Test\n    void fakeTest()\n    {\n        // given\n        var resStatus = &quot;FINISHED&quot;;\n\n        var tc1 = &quot;Test case 1&quot;;\n        var r1 = &quot;GOOD&quot;;\n\n        var tc2 = &quot;Test case 2&quot;;\n        var r2 = &quot;ALARMING&quot;;\n\n        var res1 = Response.builder()\n                .status(resStatus)\n                .testCaseName(tc1)\n                .result(r1)\n                .build();\n        var res2 = Response.builder()\n                .status(resStatus)\n                .testCaseName(tc2)\n                .result(r2)\n                .build();\n\n        var result = Result.builder()\n                .responses(List.of(res1, res2))\n                .value(&quot;PASSED&quot;)\n                .build();\n\n        // then\n        assertThat(result)\n                .returns(&quot;PASSED&quot;, Result::getValue);\n\n        assertThat(result.getResponses())\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\n                .contains(\n                        Tuple.tuple(resStatus, tc1, r1),\n                        Tuple.tuple(resStatus, tc1, r2));\n    }\n}\n\n@Data\n@Builder\nclass Result\n{\n    private String value;\n    private List&lt;Response&gt; responses;\n}\n\n@Data\n@Builder\nclass Response\n{\n    private String status;\n    private String testCaseName;\n    private String result;\n    private String error;\n}\n</code></pre>\n<p>How can I do assertions in FakeTest#fakeTest with chaining them instead of splitting to two assertions (one for assertThat(result).returns(...) and then assertThat(result.getResponses()).extracting(...)...)</p>\n<p>What I want to achive is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(result)\n                .returns(&quot;PASSED&quot;, Result::getValue)\n                .extracting(Result::getResponses) // connection between two assertThat(...)\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\n                .contains(\n                        Tuple.tuple(resStatus, tc1, r1),\n                        Tuple.tuple(resStatus, tc1, r2));\n</code></pre>\n<p>I've found out that returning Assertion object are different:</p>\n<ul>\n<li>ListAssert&lt;Response&gt; when doing the chain of second assertion</li>\n<li>AbstractObjectAssert&lt;capture of ?, List&lt;Response&gt;&gt; when doing <strong>merged</strong> assertion</li>\n</ul>\n"},{"tags":["java","objectdb"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1646247863,"post_id":71327788,"comment_id":126078579,"body_markdown":"try in inicializaFactory to use `em.getMetamodel().entity(Jugador.class);`","body":"try in inicializaFactory to use <code>em.getMetamodel().entity(Jugador.class);</code>"},{"owner":{"account_id":23511472,"reputation":11,"user_id":17560088,"display_name":"jrro0"},"score":0,"creation_date":1646250948,"post_id":71327788,"comment_id":126079612,"body_markdown":"em.getMetamodel().entity(Jugador.class); not working.","body":"em.getMetamodel().entity(Jugador.class); not working."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646288342,"post_id":71327788,"comment_id":126087297,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":1054347,"reputation":1308,"user_id":1057389,"display_name":"ObjectDB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253049,"creation_date":1646253049,"answer_id":71328775,"question_id":71327788,"body_markdown":"JPA requires listing all the entity classes in a [persistence.xml file][1], so this is the standard solution to make all the entity classes known in queries even before persisting their first instances.\r\n\r\nHowever, the solution suggested by Panagiotis Bougioukos in a comment should also work (and is simpler), i.e. calling `em.getMetamodel().entity(Jugador.class);` **before** executing the query, on the same database, and then the class becomes also known in queries and the exception should not be thrown.\r\n\r\n\r\n  [1]: https://m.objectdb.com/java/jpa/entity/persistence-unit","title":"Error &quot;javax.persistence.PersistenceException Type xxx is not found (error 301)&quot; while using ObjectDB (Java)","body":"<p>JPA requires listing all the entity classes in a <a href=\"https://m.objectdb.com/java/jpa/entity/persistence-unit\" rel=\"nofollow noreferrer\">persistence.xml file</a>, so this is the standard solution to make all the entity classes known in queries even before persisting their first instances.</p>\n<p>However, the solution suggested by Panagiotis Bougioukos in a comment should also work (and is simpler), i.e. calling <code>em.getMetamodel().entity(Jugador.class);</code> <strong>before</strong> executing the query, on the same database, and then the class becomes also known in queries and the exception should not be thrown.</p>\n"}],"owner":{"account_id":23511472,"reputation":11,"user_id":17560088,"display_name":"jrro0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646253049,"creation_date":1646247078,"question_id":71327788,"body_markdown":"I&#39;m working with ObjectDB at school, and, while doing homework I had a problem.\r\n\r\nThere is the problem: \r\n\r\n    Exception in thread &quot;main&quot; [ObjectDB 2.8.7] DELETE FROM  ==&gt; Jugador &lt;== \r\n    javax.persistence.PersistenceException\r\n    Type Jugador is not found (error 301)\r\n     (position 12)\tat com.objectdb.jpa.JpaQuery.executeUpdate(JpaQuery.java:805)\r\n    \tat com.mycompany.objectdb.NewMain.eliminarDatos(NewMain.java:89)\r\n    \tat com.mycompany.objectdb.NewMain.main(NewMain.java:38)\r\n    Caused by: com.objectdb.o.TEX: Type Jugador is not found\r\n    \tat com.objectdb.o.MSG.b(MSG.java:110)\r\n    \tat com.objectdb.o.TRS.b(TRS.java:214)\r\n    \tat com.objectdb.o.SYR.g(SYR.java:261)\r\n    \tat com.objectdb.o.SYR.f(SYR.java:190)\r\n    \tat com.objectdb.o.QRC.&lt;init&gt;(QRC.java:158)\r\n    \tat com.objectdb.o.QRM.Z1(QRM.java:272)\r\n    \tat com.objectdb.o.MST.Z1(MST.java:1026)\r\n    \tat com.objectdb.o.WRA.Z1(WRA.java:313)\r\n    \tat com.objectdb.o.WSM.Z1(WSM.java:117)\r\n    \tat com.objectdb.o.QRR.k(QRR.java:260)\r\n    \tat com.objectdb.o.QRR.i(QRR.java:154)\r\n    \tat com.objectdb.jpa.JpaQuery.executeUpdate(JpaQuery.java:791)\r\n    \t... 2 more\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:764)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:711)\r\n        at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:289)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:78)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:567)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n\r\nThere is my Main and my class &quot;Jugador&quot;, which is reference that is doesn&#39;t exist.\r\n\r\n&gt; package com.mycompany.objectdb;\r\n&gt; \r\n&gt; import javax.persistence.*; import java.util.*; import\r\n&gt; java.text.ParseException; import java.text.SimpleDateFormat; import\r\n&gt; java.util.logging.Level; import java.util.logging.Logger;\r\n&gt; \r\n&gt; public class NewMain {\r\n&gt; \r\n&gt;     public static EntityManagerFactory emf;\r\n&gt;     public static EntityManager em;\r\n&gt;     public static void main(String[] args) {\r\n&gt;         Scanner in = new Scanner(System.in);\r\n&gt;         int opcion = -1;\r\n&gt;         int opcion3 = -1;\r\n&gt;         \r\n&gt;         while (opcion != 0) {\r\n&gt;             System.out.println(&quot;0. Cerrar aplicaci&#243;n&quot;);\r\n&gt;             System.out.println(&quot;1. Conexi&#243;n a BBDD&quot;);\r\n&gt;             System.out.println(&quot;2. Reiniciar datos&quot;);\r\n&gt;             System.out.println(&quot;3. Aplicacion&quot;);\r\n&gt;             System.out.println(&quot;&quot;);\r\n&gt;             try {\r\n&gt;                 System.out.println(&quot;&#191;Qu&#233; desea hacer?&quot;);\r\n&gt;                 opcion = in.nextInt();\r\n&gt;                 System.out.println(&quot;&quot;);\r\n&gt;                 \r\n&gt;                 switch (opcion) {\r\n&gt;                     case 0:\r\n&gt;                         break;\r\n&gt;                     case 1:\r\n&gt;                         inicializaFactory();\r\n&gt;                         break;\r\n&gt;                     case 2:\r\n&gt;                         inicializaFactory();\r\n&gt;                         eliminarDatos(em);\r\n&gt;                         reiniciarDatos(em);\r\n&gt;                     case 3:\r\n&gt;                         System.out.println(&quot;Has elegido aplicaci&#243;n&quot;);\r\n&gt;                         System.out.println(&quot;Selecciona lo que desea hacer&quot;);\r\n&gt;                         System.out.println(&quot;1. Insertar objeto&quot;);\r\n&gt;                         System.out.println(&quot;2. Modificar objeto&quot;);\r\n&gt;                         System.out.println(&quot;3. Borrar objeto&quot;);\r\n&gt;                         System.out.println(&quot;4. Realizar consulta&quot;);\r\n&gt;                         opcion3 = in.nextInt();\r\n&gt;                             if (opcion3== 1) {\r\n&gt;                                 inicializaFactory();\r\n&gt;                                 Expulsion2OP2.insJPQLT2(em);\r\n&gt;                             } else if (opcion3 == 2) {\r\n&gt;                                 inicializaFactory();\r\n&gt;                                 Expulsion2OP2.modifJPQLT2(em);\r\n&gt;                             } else if (opcion3 == 3) {\r\n&gt;                                 inicializaFactory();\r\n&gt;                                 Expulsion2OP2.borradoJPTLT2(em);\r\n&gt;                             } else if (opcion3 == 4) {\r\n&gt;                                 inicializaFactory();\r\n&gt;                                 Expulsion2OP2.consultaJPTLT2(em);\r\n&gt;                             } else {\r\n&gt;                                 System.out.println(&quot;No existe ning&#250;n m&#233;todo asignado a ese n&#250;mero&quot;);\r\n&gt;                                 opcion3 = in.nextInt();\r\n&gt;                             }\r\n&gt;                         \r\n&gt;                     break;\r\n&gt;                     \r\n&gt;                     default:\r\n&gt;                     System.out.println(&quot;Escribe un n&#250;mero entre el 0 y el 3&quot;);\r\n&gt;                 }\r\n&gt;             } catch (InputMismatchException e) {\r\n&gt;                 System.out.println(&quot;Inserta un valor v&#225;lido&quot;);\r\n&gt;                 in.next();\r\n&gt;             }\r\n&gt;       }\r\n&gt;         if (em != null){\r\n&gt;             em.close();\r\n&gt;             emf.close();\r\n&gt;         }\r\n&gt;     }\r\n&gt;     public static void inicializaFactory(){\r\n&gt;         emf=Persistence.createEntityManagerFactory(&quot;./db/proyecto.odb&quot;);\r\n&gt;         em=emf.createEntityManager();\r\n&gt;         System.out.println(&quot;Conexi&#243;n exitosa&quot;);\r\n&gt;         System.out.println(&quot;&quot;);\r\n&gt;     }\r\n&gt;     public static void eliminarDatos(EntityManager em){\r\n&gt;         // Eliminar\r\n&gt;         em.getTransaction().begin();\r\n&gt;         em.createQuery(&quot;DELETE FROM Jugador&quot;).executeUpdate();\r\n&gt;         em.createQuery(&quot;DELETE FROM Partido&quot;).executeUpdate();\r\n&gt;         em.createQuery(&quot;DELETE FROM Expulsion&quot;).executeUpdate();\r\n&gt;         em.getTransaction().commit();\r\n&gt;         System.out.println(&quot;&quot;);\r\n&gt;         System.out.println(&quot;Datos eliminados con &#233;xito&quot;);\r\n&gt;     }\r\n&gt;     public static void reiniciarDatos(EntityManager em){\r\n&gt;         //Crear\r\n&gt;         em.getTransaction().begin();\r\n&gt;         Jugador j1 = new Jugador(&quot;8&quot;,&quot;Griezmann&quot;,&quot;Atl&#233;tico de Madrid&quot;,&quot;8&quot;,&quot;Delantero&quot;);\r\n&gt;                 em.persist(j1);\r\n&gt;         Jugador j2 = new Jugador(&quot;23&quot;,&quot;Pedri&quot;,&quot;F.C Barcelona&quot;,&quot;16&quot;,&quot;Delantero&quot;);\r\n&gt;                 em.persist(j2);\r\n&gt;         Jugador j3 = new Jugador(&quot;55&quot;,&quot;Pau Torres&quot;,&quot;Villarreal&quot;,&quot;4&quot;,&quot;Defensa&quot;);  \r\n&gt;                 em.persist(j3);\r\n&gt;         Partido p1 = new Partido(&quot;442&quot;,&quot;Atl&#233;tico de Madrid&quot;,&quot;Osasuna&quot;,&quot;Semifinal Copa del Rey&quot;,&quot;Wanda Metropolitano&quot;);\r\n&gt;                 em.persist(p1);\r\n&gt;         Partido p2 = new Partido(&quot;452&quot;,&quot;F.C Barcelona&quot;,&quot;Betis&quot;,&quot;Jornada 8 Liga&quot;,&quot;Camp Nou&quot;);\r\n&gt;                 em.persist(p2);\r\n&gt;         Partido p3 = new Partido(&quot;447&quot;,&quot;Sevilla&quot;,&quot;Villarreal&quot;,&quot;Jornada 11 Liga&quot;,&quot;Sanchez Pizjuan&quot;);\r\n&gt;                 em.persist(p3);\r\n&gt;         Expulsion e1 = new Expulsion(&quot;120&quot;,&quot;28&quot;,&quot;Patada en el tobillo&quot;,j1,p1);\r\n&gt;                 em.persist(e1);\r\n&gt;         Expulsion e2 = new Expulsion(&quot;124&quot;,&quot;88&quot;,&quot;Falta por detr&#225;s&quot;,j2,p2);\r\n&gt;                 em.persist(e2);\r\n&gt;         Expulsion e3 = new Expulsion(&quot;126&quot;,&quot;41&quot;,&quot;Cabezazo en el pecho&quot;,j3,p3);\r\n&gt;                 em.persist(e3);\r\n&gt;         em.getTransaction().commit();\r\n&gt;         System.out.println(&quot;Los datos han sido reiniciados con &#233;xito&quot;);\r\n&gt;     }\r\n&gt;     \r\n&gt;      }\r\n\r\n\r\nJugador\r\n\r\n\r\n&gt; package com.mycompany.objectdb;\r\n&gt; \r\n&gt; import java.io.Serializable; import javax.persistence.Basic; import\r\n&gt; javax.persistence.Column; import javax.persistence.Entity; import\r\n&gt; javax.persistence.Id;\r\n&gt; \r\n&gt; @Entity\r\n&gt; \r\n&gt; public class Jugador implements Serializable {\r\n&gt; \r\n&gt;     private static final long serialVersionUID = 1L;\r\n&gt;     @Id\r\n&gt;     @Basic(optional = false)\r\n&gt;     @Column(name = &quot;IDJUGADOR&quot;)\r\n&gt;     private String idjugador;\r\n&gt;     @Column(name = &quot;NOMBRE&quot;)\r\n&gt;     private String nombre;\r\n&gt;     @Column(name = &quot;EQUIPO&quot;)\r\n&gt;     private String equipo;\r\n&gt;     @Column(name = &quot;DORSAL&quot;)\r\n&gt;     private String dorsal;\r\n&gt;     @Column(name = &quot;POSICION&quot;)\r\n&gt;     private String posicion;\r\n&gt; \r\n&gt;     public Jugador() {\r\n&gt;         \r\n&gt;     }\r\n&gt;     \r\n&gt;     public Jugador(String idjugador){\r\n&gt;         this.idjugador = idjugador;\r\n&gt;     }\r\n&gt; \r\n&gt;     public Jugador(String idjugador, String nombre, String equipo, String dorsal, String posicion) {\r\n&gt;         this.idjugador = idjugador;\r\n&gt;         this.nombre = nombre;\r\n&gt;         this.equipo = equipo;\r\n&gt;         this.dorsal = dorsal;\r\n&gt;         this.posicion = posicion;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getIdjugador() {\r\n&gt;         return idjugador;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setIdjugador(String idjugador) {\r\n&gt;         this.idjugador = idjugador;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getNombre() {\r\n&gt;         return nombre;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setNombre(String nombre) {\r\n&gt;         this.nombre = nombre;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getEquipo() {\r\n&gt;         return equipo;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setEquipo(String equipo) {\r\n&gt;         this.equipo = equipo;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getDorsal() {\r\n&gt;         return dorsal;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setDorsal(String dorsal) {\r\n&gt;         this.dorsal = dorsal;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getPosicion() {\r\n&gt;         return posicion;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setPosicion(String posicion) {\r\n&gt;         this.posicion = posicion;\r\n&gt;     }\r\n&gt;     \r\n&gt;     @Override\r\n&gt;     public String toString() {\r\n&gt;         return &quot;Jugador{&quot; + &quot;idjugador=&quot; + idjugador +&quot;, nombre=&quot; + nombre + &quot;, equipo=&quot; + equipo + &quot;, dorsal=&quot; + dorsal + &quot;, posicion=&quot; +\r\n&gt; posicion + &#39;}&#39;;\r\n&gt;     }\r\n&gt; \r\n&gt; }\r\n\r\n\r\nThank you!","title":"Error &quot;javax.persistence.PersistenceException Type xxx is not found (error 301)&quot; while using ObjectDB (Java)","body":"<p>I'm working with ObjectDB at school, and, while doing homework I had a problem.</p>\n<p>There is the problem:</p>\n<pre><code>Exception in thread &quot;main&quot; [ObjectDB 2.8.7] DELETE FROM  ==&gt; Jugador &lt;== \njavax.persistence.PersistenceException\nType Jugador is not found (error 301)\n (position 12)  at com.objectdb.jpa.JpaQuery.executeUpdate(JpaQuery.java:805)\n    at com.mycompany.objectdb.NewMain.eliminarDatos(NewMain.java:89)\n    at com.mycompany.objectdb.NewMain.main(NewMain.java:38)\nCaused by: com.objectdb.o.TEX: Type Jugador is not found\n    at com.objectdb.o.MSG.b(MSG.java:110)\n    at com.objectdb.o.TRS.b(TRS.java:214)\n    at com.objectdb.o.SYR.g(SYR.java:261)\n    at com.objectdb.o.SYR.f(SYR.java:190)\n    at com.objectdb.o.QRC.&lt;init&gt;(QRC.java:158)\n    at com.objectdb.o.QRM.Z1(QRM.java:272)\n    at com.objectdb.o.MST.Z1(MST.java:1026)\n    at com.objectdb.o.WRA.Z1(WRA.java:313)\n    at com.objectdb.o.WSM.Z1(WSM.java:117)\n    at com.objectdb.o.QRR.k(QRR.java:260)\n    at com.objectdb.o.QRR.i(QRR.java:154)\n    at com.objectdb.jpa.JpaQuery.executeUpdate(JpaQuery.java:791)\n    ... 2 more\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:764)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:711)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:289)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:78)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:567)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\n</code></pre>\n<p>There is my Main and my class &quot;Jugador&quot;, which is reference that is doesn't exist.</p>\n<blockquote>\n<p>package com.mycompany.objectdb;</p>\n<p>import javax.persistence.<em>; import java.util.</em>; import\njava.text.ParseException; import java.text.SimpleDateFormat; import\njava.util.logging.Level; import java.util.logging.Logger;</p>\n<p>public class NewMain {</p>\n<pre><code>public static EntityManagerFactory emf;\npublic static EntityManager em;\npublic static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int opcion = -1;\n    int opcion3 = -1;\n    \n    while (opcion != 0) {\n        System.out.println(&quot;0. Cerrar aplicación&quot;);\n        System.out.println(&quot;1. Conexión a BBDD&quot;);\n        System.out.println(&quot;2. Reiniciar datos&quot;);\n        System.out.println(&quot;3. Aplicacion&quot;);\n        System.out.println(&quot;&quot;);\n        try {\n            System.out.println(&quot;¿Qué desea hacer?&quot;);\n            opcion = in.nextInt();\n            System.out.println(&quot;&quot;);\n            \n            switch (opcion) {\n                case 0:\n                    break;\n                case 1:\n                    inicializaFactory();\n                    break;\n                case 2:\n                    inicializaFactory();\n                    eliminarDatos(em);\n                    reiniciarDatos(em);\n                case 3:\n                    System.out.println(&quot;Has elegido aplicación&quot;);\n                    System.out.println(&quot;Selecciona lo que desea hacer&quot;);\n                    System.out.println(&quot;1. Insertar objeto&quot;);\n                    System.out.println(&quot;2. Modificar objeto&quot;);\n                    System.out.println(&quot;3. Borrar objeto&quot;);\n                    System.out.println(&quot;4. Realizar consulta&quot;);\n                    opcion3 = in.nextInt();\n                        if (opcion3== 1) {\n                            inicializaFactory();\n                            Expulsion2OP2.insJPQLT2(em);\n                        } else if (opcion3 == 2) {\n                            inicializaFactory();\n                            Expulsion2OP2.modifJPQLT2(em);\n                        } else if (opcion3 == 3) {\n                            inicializaFactory();\n                            Expulsion2OP2.borradoJPTLT2(em);\n                        } else if (opcion3 == 4) {\n                            inicializaFactory();\n                            Expulsion2OP2.consultaJPTLT2(em);\n                        } else {\n                            System.out.println(&quot;No existe ningún método asignado a ese número&quot;);\n                            opcion3 = in.nextInt();\n                        }\n                    \n                break;\n                \n                default:\n                System.out.println(&quot;Escribe un número entre el 0 y el 3&quot;);\n            }\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Inserta un valor válido&quot;);\n            in.next();\n        }\n  }\n    if (em != null){\n        em.close();\n        emf.close();\n    }\n}\npublic static void inicializaFactory(){\n    emf=Persistence.createEntityManagerFactory(&quot;./db/proyecto.odb&quot;);\n    em=emf.createEntityManager();\n    System.out.println(&quot;Conexión exitosa&quot;);\n    System.out.println(&quot;&quot;);\n}\npublic static void eliminarDatos(EntityManager em){\n    // Eliminar\n    em.getTransaction().begin();\n    em.createQuery(&quot;DELETE FROM Jugador&quot;).executeUpdate();\n    em.createQuery(&quot;DELETE FROM Partido&quot;).executeUpdate();\n    em.createQuery(&quot;DELETE FROM Expulsion&quot;).executeUpdate();\n    em.getTransaction().commit();\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;Datos eliminados con éxito&quot;);\n}\npublic static void reiniciarDatos(EntityManager em){\n    //Crear\n    em.getTransaction().begin();\n    Jugador j1 = new Jugador(&quot;8&quot;,&quot;Griezmann&quot;,&quot;Atlético de Madrid&quot;,&quot;8&quot;,&quot;Delantero&quot;);\n            em.persist(j1);\n    Jugador j2 = new Jugador(&quot;23&quot;,&quot;Pedri&quot;,&quot;F.C Barcelona&quot;,&quot;16&quot;,&quot;Delantero&quot;);\n            em.persist(j2);\n    Jugador j3 = new Jugador(&quot;55&quot;,&quot;Pau Torres&quot;,&quot;Villarreal&quot;,&quot;4&quot;,&quot;Defensa&quot;);  \n            em.persist(j3);\n    Partido p1 = new Partido(&quot;442&quot;,&quot;Atlético de Madrid&quot;,&quot;Osasuna&quot;,&quot;Semifinal Copa del Rey&quot;,&quot;Wanda Metropolitano&quot;);\n            em.persist(p1);\n    Partido p2 = new Partido(&quot;452&quot;,&quot;F.C Barcelona&quot;,&quot;Betis&quot;,&quot;Jornada 8 Liga&quot;,&quot;Camp Nou&quot;);\n            em.persist(p2);\n    Partido p3 = new Partido(&quot;447&quot;,&quot;Sevilla&quot;,&quot;Villarreal&quot;,&quot;Jornada 11 Liga&quot;,&quot;Sanchez Pizjuan&quot;);\n            em.persist(p3);\n    Expulsion e1 = new Expulsion(&quot;120&quot;,&quot;28&quot;,&quot;Patada en el tobillo&quot;,j1,p1);\n            em.persist(e1);\n    Expulsion e2 = new Expulsion(&quot;124&quot;,&quot;88&quot;,&quot;Falta por detrás&quot;,j2,p2);\n            em.persist(e2);\n    Expulsion e3 = new Expulsion(&quot;126&quot;,&quot;41&quot;,&quot;Cabezazo en el pecho&quot;,j3,p3);\n            em.persist(e3);\n    em.getTransaction().commit();\n    System.out.println(&quot;Los datos han sido reiniciados con éxito&quot;);\n}\n\n }\n</code></pre>\n</blockquote>\n<p>Jugador</p>\n<blockquote>\n<p>package com.mycompany.objectdb;</p>\n<p>import java.io.Serializable; import javax.persistence.Basic; import\njavax.persistence.Column; import javax.persistence.Entity; import\njavax.persistence.Id;</p>\n<p>@Entity</p>\n<p>public class Jugador implements Serializable {</p>\n<pre><code>private static final long serialVersionUID = 1L;\n@Id\n@Basic(optional = false)\n@Column(name = &quot;IDJUGADOR&quot;)\nprivate String idjugador;\n@Column(name = &quot;NOMBRE&quot;)\nprivate String nombre;\n@Column(name = &quot;EQUIPO&quot;)\nprivate String equipo;\n@Column(name = &quot;DORSAL&quot;)\nprivate String dorsal;\n@Column(name = &quot;POSICION&quot;)\nprivate String posicion;\n\npublic Jugador() {\n    \n}\n\npublic Jugador(String idjugador){\n    this.idjugador = idjugador;\n}\n\npublic Jugador(String idjugador, String nombre, String equipo, String dorsal, String posicion) {\n    this.idjugador = idjugador;\n    this.nombre = nombre;\n    this.equipo = equipo;\n    this.dorsal = dorsal;\n    this.posicion = posicion;\n}\n\npublic String getIdjugador() {\n    return idjugador;\n}\n\npublic void setIdjugador(String idjugador) {\n    this.idjugador = idjugador;\n}\n\npublic String getNombre() {\n    return nombre;\n}\n\npublic void setNombre(String nombre) {\n    this.nombre = nombre;\n}\n\npublic String getEquipo() {\n    return equipo;\n}\n\npublic void setEquipo(String equipo) {\n    this.equipo = equipo;\n}\n\npublic String getDorsal() {\n    return dorsal;\n}\n\npublic void setDorsal(String dorsal) {\n    this.dorsal = dorsal;\n}\n\npublic String getPosicion() {\n    return posicion;\n}\n\npublic void setPosicion(String posicion) {\n    this.posicion = posicion;\n}\n\n@Override\npublic String toString() {\n    return &quot;Jugador{&quot; + &quot;idjugador=&quot; + idjugador +&quot;, nombre=&quot; + nombre + &quot;, equipo=&quot; + equipo + &quot;, dorsal=&quot; + dorsal + &quot;, posicion=&quot; +\n</code></pre>\n<p>posicion + '}';\n}</p>\n<p>}</p>\n</blockquote>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":11335070,"reputation":887,"user_id":8311212,"display_name":"Sounak Saha"},"score":0,"creation_date":1646144801,"post_id":71309053,"comment_id":126047437,"body_markdown":"Any other mapping mentioned in your controller class?","body":"Any other mapping mentioned in your controller class?"},{"owner":{"account_id":20460593,"reputation":11,"user_id":15013316,"display_name":"frsv9"},"score":0,"creation_date":1646151263,"post_id":71309053,"comment_id":126050120,"body_markdown":"@SounakSaha in my RestController there are some GetMapping and DeleteMapping methods. I&#39;ve tried to change my PutMapping on a PostMapping method but i receive the same error type.","body":"@SounakSaha in my RestController there are some GetMapping and DeleteMapping methods. I&#39;ve tried to change my PutMapping on a PostMapping method but i receive the same error type."}],"owner":{"account_id":20460593,"reputation":11,"user_id":15013316,"display_name":"frsv9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646252488,"creation_date":1646140551,"question_id":71309053,"body_markdown":"I&#39;ve made a simple SpringBoot project with 3 microservices, built by docker-compose.yml.\r\n\r\nWhen I try to communicate between microservices with a Spring WebClient call, I received\r\n\r\n&gt; 405 Request method &#39;PUT&#39; not supported  http://transactions-ms:8080/sendAccountTransaction\r\n\r\nbut if I made a Postman call the transactions microservice is reachable and other webclient calls (with another WebClient contained in other microservices) work fine.\r\n\r\n**WebClient (URI: http://transactions-ms:8080/sendAccountTransaction)**\r\n```\r\npublic ResponseEntity&lt;SavedTransactionRTO&gt; sendAccountTransaction(SendTransactionRequest request) {\r\n\t\tSavedTransactionRTO response = webClient.put()\r\n\t\t\t\t.uri(ClientUrl.TRANSACTIONS_URL+ClientEndp.SEND_ACC_TRANSACTION)\r\n\t\t\t\t.bodyValue(request)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(SavedTransactionRTO.class)\r\n\t\t\t\t.block();\r\n\t\treturn new  ResponseEntity&lt;SavedTransactionRTO&gt;(response, HttpStatus.OK);\r\n\t}\r\n```\r\n**Controller method:**\r\n```\r\n@PutMapping(value = &quot;/sendAccountTransaction&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic ResponseEntity&lt;SavedTransactionRTO&gt; sendAccountTransaction(@RequestBody SendTransactionRequest request){\t\r\n\t\tSavedTransactionRTO response = transactionService.sendAccountTransaction(request);\t\t\r\n\t\treturn new ResponseEntity&lt;SavedTransactionRTO&gt;(response, HttpStatus.OK);\r\n\t}\r\n```\r\n**Docker-compose.yml**\r\n```\r\nversion: &quot;3&quot;\r\nservices:\r\n   transactions-ms:\r\n      image: transactions-ms\r\n      hostname: transactions-ms\r\n      container_name: transactions-ms\r\n      build:\r\n         context: ./transactions-ms\r\n         dockerfile: Dockerfile\r\n      ports:\r\n         - &quot;8080:8080&quot;\r\n              \r\n   accounts-ms:\r\n      image: accounts-ms\r\n      hostname: accounts-ms\r\n      container_name: accounts-ms\r\n      depends_on:\r\n         transactions-ms:\r\n            condition: service_started\r\n      build:\r\n         context: ./accounts-ms\r\n         dockerfile: Dockerfile\r\n      ports:\r\n         - &quot;8081:8081&quot;\r\n      \r\n   customers-ms:\r\n      image: customers-ms\r\n      hostname: customers-ms  \r\n      container_name : customers-ms\r\n      depends_on:\r\n          accounts-ms:\r\n            condition: service_started\r\n      build:\r\n         context: ./customers-ms\r\n         dockerfile: Dockerfile   \r\n      ports:\r\n         - &quot;8082:8082&quot;\r\n```\r\n**DockerFile**\r\n```\r\nFROM openjdk:8\r\nEXPOSE 8080 \r\nADD target/transactions-ms.jar transactions-ms.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/transactions-ms.jar&quot;]\r\n```\r\n\r\n\r\nI have made all possible attempts, anyone has a solution?\r\n","title":"Request method PUT not supported with Spring webClient call on dockerized app","body":"<p>I've made a simple SpringBoot project with 3 microservices, built by docker-compose.yml.</p>\n<p>When I try to communicate between microservices with a Spring WebClient call, I received</p>\n<blockquote>\n<p>405 Request method 'PUT' not supported  http://transactions-ms:8080/sendAccountTransaction</p>\n</blockquote>\n<p>but if I made a Postman call the transactions microservice is reachable and other webclient calls (with another WebClient contained in other microservices) work fine.</p>\n<p><strong>WebClient (URI: http://transactions-ms:8080/sendAccountTransaction)</strong></p>\n<pre><code>public ResponseEntity&lt;SavedTransactionRTO&gt; sendAccountTransaction(SendTransactionRequest request) {\n        SavedTransactionRTO response = webClient.put()\n                .uri(ClientUrl.TRANSACTIONS_URL+ClientEndp.SEND_ACC_TRANSACTION)\n                .bodyValue(request)\n                .retrieve()\n                .bodyToMono(SavedTransactionRTO.class)\n                .block();\n        return new  ResponseEntity&lt;SavedTransactionRTO&gt;(response, HttpStatus.OK);\n    }\n</code></pre>\n<p><strong>Controller method:</strong></p>\n<pre><code>@PutMapping(value = &quot;/sendAccountTransaction&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;SavedTransactionRTO&gt; sendAccountTransaction(@RequestBody SendTransactionRequest request){ \n        SavedTransactionRTO response = transactionService.sendAccountTransaction(request);      \n        return new ResponseEntity&lt;SavedTransactionRTO&gt;(response, HttpStatus.OK);\n    }\n</code></pre>\n<p><strong>Docker-compose.yml</strong></p>\n<pre><code>version: &quot;3&quot;\nservices:\n   transactions-ms:\n      image: transactions-ms\n      hostname: transactions-ms\n      container_name: transactions-ms\n      build:\n         context: ./transactions-ms\n         dockerfile: Dockerfile\n      ports:\n         - &quot;8080:8080&quot;\n              \n   accounts-ms:\n      image: accounts-ms\n      hostname: accounts-ms\n      container_name: accounts-ms\n      depends_on:\n         transactions-ms:\n            condition: service_started\n      build:\n         context: ./accounts-ms\n         dockerfile: Dockerfile\n      ports:\n         - &quot;8081:8081&quot;\n      \n   customers-ms:\n      image: customers-ms\n      hostname: customers-ms  \n      container_name : customers-ms\n      depends_on:\n          accounts-ms:\n            condition: service_started\n      build:\n         context: ./customers-ms\n         dockerfile: Dockerfile   \n      ports:\n         - &quot;8082:8082&quot;\n</code></pre>\n<p><strong>DockerFile</strong></p>\n<pre><code>FROM openjdk:8\nEXPOSE 8080 \nADD target/transactions-ms.jar transactions-ms.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/transactions-ms.jar&quot;]\n</code></pre>\n<p>I have made all possible attempts, anyone has a solution?</p>\n"},{"tags":["java","javafx","leaflet","javafx-webengine","javafx-17"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1636293273,"post_id":69872483,"comment_id":123512559,"body_markdown":"Stick with JavaFX 16 for your app as that works.  File a JavaFX bug (search for instructions for that).","body":"Stick with JavaFX 16 for your app as that works.  File a JavaFX bug (search for instructions for that)."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1636301683,"post_id":69872483,"comment_id":123514748,"body_markdown":"You can report this issue here: https://bugs.java.com/bugdatabase/","body":"You can report this issue here: <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase</a>"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1636303033,"post_id":69872483,"comment_id":123515121,"body_markdown":"I can also confirm the issue on my Mac with Catalina 10.15.7.","body":"I can also confirm the issue on my Mac with Catalina 10.15.7."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1636306488,"post_id":69872483,"comment_id":123516014,"body_markdown":"Same as @mipa with Java 1.8; JavaFX 16 OK.","body":"Same as @mipa with Java 1.8; JavaFX 16 OK."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636466884,"creation_date":1636466884,"answer_id":69899621,"question_id":69872483,"body_markdown":"I have entered this into the JDK bug database because there seems to be a more general issue here. See: https://bugs.openjdk.java.net/browse/JDK-8276859  This is also not the only report about such an issue. See also: https://stackoverflow.com/questions/69895487/after-java-update-to-the-version-1-8-0-301-javafx-webview-with-leaflet-draw-circ","title":"Leaflet does not work in WebEngine after JavaFX 17","body":"<p>I have entered this into the JDK bug database because there seems to be a more general issue here. See: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8276859\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8276859</a>  This is also not the only report about such an issue. See also: <a href=\"https://stackoverflow.com/questions/69895487/after-java-update-to-the-version-1-8-0-301-javafx-webview-with-leaflet-draw-circ\">After Java update to the version 1.8.0_301 JavaFX WebView with Leaflet.Draw.Circle, Leaflet.Edit.Circle does not work as well as OSM is not draggable</a></p>\n"},{"tags":[],"owner":{"account_id":306956,"reputation":13878,"user_id":617996,"accept_rate":93,"display_name":"PrimosK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646251707,"creation_date":1639118556,"answer_id":70300669,"question_id":69872483,"body_markdown":"It&#39;s nice to see that there are more of us looking into this.  \r\n\r\nI did some deeper investigation and was able to pinpoint the problem which consequently lead me to a workaround/hack which makes dragging of Leaflet map to work fine in WebKit (Java FX 17).\r\n\r\n**Findings:**\r\n\r\n1. This is definitely regression as dragging of Leaflet map works fine with JavaFX releases prior to 17. So as @Jos&#233; pointed out it&#39;s most probably related to WebKit 610.2 upgrade ([JDK-8259635][1]).\r\n\r\n2. It seems to be related to [PointerEvent][2] which seems to not be properly generated in the case of Java FX 17. Following example outputs 1 when dragging with the mouse button down. But it **outputs 0** in the case of WebView/WebKit inside Java FX 17. Note that `e.buttons` value is properly set to 1 in JavaFX WebView/WebKit versions prior to Java FX 17.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!doctype html&gt;\r\n    &lt;body style=&quot;height: 200px&quot;&gt;\r\n      &lt;p&gt;Click and drag &amp; observe the console output&lt;/p&gt;  \r\n\r\n      &lt;script&gt;\r\n        var onMove = function (e) {      \r\n          console.log(&quot;e.buttons: &quot; + e.buttons);\r\n        }\r\n        \r\n        var body = document.getElementsByTagName(&#39;body&#39;)[0];\r\n        document.addEventListener(&quot;pointermove&quot;, onMove, false);\r\n      &lt;/script&gt;\r\n    &lt;/body&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n3. Based on the finding no. 2 I was able to identify the JS code which prevent the Leaflet map from moving (while being dragged). In Leaflet 1.7.1. it&#39;s actually this `if` expression which consequently causes map to **not** be moved (because `PointerEvent.buttons` is wrongfully set to 0 by Java FX 17):\r\nhttps://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104\r\n\r\n4. I&#39;ve already reported this through the Oracle bug report system ([JDK-8278150][3]). The issue was &quot;mistakenly&quot; closed - I&#39;ve already provided them with the info explained in this answer so they will hopefully re-open it or tackle it under [JDK-8276859][4].\r\n\r\n**Workaround (Leaflet 1.7.1):**\r\n\r\nWorkaround/hack to make Leaflet map work again:\r\n\r\nComment out the `if` expressions at:\r\nhttps://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104\r\n\r\nThis makes the Leaftlet map to move properly while being dragged in the Java FX 17 WebView - but please consider this more like a hack to make it work again as this was not tested out thoroughly...\r\n\r\n**Update 1**\r\n\r\nThis issue seems to be gone with the latest [master branch][5] of Leaflet despite regression in JavaFX WebView/WebKit remains (can anyone please confirm this?).\r\n\r\n**Update 2**\r\n\r\nAs stated by @mipa, the underlying issue was fixed in 8u291 and openjfx17. More info available at:\r\nhttp://bugs.openjdk.java.net/browse/JDK-8278759 \r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8259635\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/pointermove_event\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8278150?jql=project%20%3D%20JDK\r\n  [4]: https://bugs.openjdk.java.net/browse/JDK-8276859\r\n  [5]: https://leafletjs-cdn.s3.amazonaws.com/content/leaflet/master/leaflet-src.js","title":"Leaflet does not work in WebEngine after JavaFX 17","body":"<p>It's nice to see that there are more of us looking into this.</p>\n<p>I did some deeper investigation and was able to pinpoint the problem which consequently lead me to a workaround/hack which makes dragging of Leaflet map to work fine in WebKit (Java FX 17).</p>\n<p><strong>Findings:</strong></p>\n<ol>\n<li><p>This is definitely regression as dragging of Leaflet map works fine with JavaFX releases prior to 17. So as @José pointed out it's most probably related to WebKit 610.2 upgrade (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8259635\" rel=\"nofollow noreferrer\">JDK-8259635</a>).</p>\n</li>\n<li><p>It seems to be related to <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/pointermove_event\" rel=\"nofollow noreferrer\">PointerEvent</a> which seems to not be properly generated in the case of Java FX 17. Following example outputs 1 when dragging with the mouse button down. But it <strong>outputs 0</strong> in the case of WebView/WebKit inside Java FX 17. Note that <code>e.buttons</code> value is properly set to 1 in JavaFX WebView/WebKit versions prior to Java FX 17.</p>\n</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;body style=\"height: 200px\"&gt;\n  &lt;p&gt;Click and drag &amp; observe the console output&lt;/p&gt;  \n\n  &lt;script&gt;\n    var onMove = function (e) {      \n      console.log(\"e.buttons: \" + e.buttons);\n    }\n    \n    var body = document.getElementsByTagName('body')[0];\n    document.addEventListener(\"pointermove\", onMove, false);\n  &lt;/script&gt;\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"3\">\n<li><p>Based on the finding no. 2 I was able to identify the JS code which prevent the Leaflet map from moving (while being dragged). In Leaflet 1.7.1. it's actually this <code>if</code> expression which consequently causes map to <strong>not</strong> be moved (because <code>PointerEvent.buttons</code> is wrongfully set to 0 by Java FX 17):\n<a href=\"https://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104\" rel=\"nofollow noreferrer\">https://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104</a></p>\n</li>\n<li><p>I've already reported this through the Oracle bug report system (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8278150?jql=project%20%3D%20JDK\" rel=\"nofollow noreferrer\">JDK-8278150</a>). The issue was &quot;mistakenly&quot; closed - I've already provided them with the info explained in this answer so they will hopefully re-open it or tackle it under <a href=\"https://bugs.openjdk.java.net/browse/JDK-8276859\" rel=\"nofollow noreferrer\">JDK-8276859</a>.</p>\n</li>\n</ol>\n<p><strong>Workaround (Leaflet 1.7.1):</strong></p>\n<p>Workaround/hack to make Leaflet map work again:</p>\n<p>Comment out the <code>if</code> expressions at:\n<a href=\"https://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104\" rel=\"nofollow noreferrer\">https://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104</a></p>\n<p>This makes the Leaftlet map to move properly while being dragged in the Java FX 17 WebView - but please consider this more like a hack to make it work again as this was not tested out thoroughly...</p>\n<p><strong>Update 1</strong></p>\n<p>This issue seems to be gone with the latest <a href=\"https://leafletjs-cdn.s3.amazonaws.com/content/leaflet/master/leaflet-src.js\" rel=\"nofollow noreferrer\">master branch</a> of Leaflet despite regression in JavaFX WebView/WebKit remains (can anyone please confirm this?).</p>\n<p><strong>Update 2</strong></p>\n<p>As stated by @mipa, the underlying issue was fixed in 8u291 and openjfx17. More info available at:\n<a href=\"http://bugs.openjdk.java.net/browse/JDK-8278759\" rel=\"nofollow noreferrer\">http://bugs.openjdk.java.net/browse/JDK-8278759</a></p>\n"}],"owner":{"account_id":18528480,"reputation":71,"user_id":13499844,"display_name":"ChaseTheBurrow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1646251707,"creation_date":1636288619,"question_id":69872483,"body_markdown":"I have an application made with JavaFX 16 which contains a WebView used to show an interactive map using the Leaflet JS library.\r\n\r\nI have a problem when I try to transition to JavaFX 17, the interactive map does not work anymore (it cannot be moved nor clicked, but it can be scrolled). I reproduced the bug on a minimal example with the OpenStreetMap website that uses Leaflet :\r\n```\r\npackage test;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.web.WebView;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        WebView webView = new WebView();\r\n        webView.getEngine().load(&quot;https://www.openstreetmap.org/&quot;);\r\n        Scene scene = new Scene(new StackPane(webView), 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\nThe interactive map on the OpenStreetMap website is rendered correctly and can be zoomed in but it cannot be moved.\r\n\r\nI am using Gradle to download JavaFX, this is my build.gradle :\r\n```\r\nplugins {\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njavafx {\r\n    version = &quot;17&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.web&#39;]\r\n}\r\n\r\napplication {\r\n    mainClass = &#39;test.App&#39;\r\n}\r\n```\r\nI reproduced the bug with versions :\r\n-  18-ea+5\r\n-  17.0.1\r\n-  17\r\n-  17-ea+2\r\n\r\nbut the map worked with versions :\r\n-  16\r\n-  15 \r\n\r\nSo it seems that version 17 brings the issue.\r\n\r\nAlso I reproduced the bug on macOS 12 (M1 using x86 JavaFX with Rosetta) and on Ubuntu 20. So it does not seem to be an issue with JavaFX on macOS.\r\n\r\nOther interactive maps such as Google map, Apple map and Bing map, worked with the same code as above, and MapBoxGL does not work because WebGL is not supported. So it seems that the issue is related to Leaflet.\r\n\r\nSo I wonder if it is a known issue, if anyone else has the same issue, or if it is an issue on my side ?","title":"Leaflet does not work in WebEngine after JavaFX 17","body":"<p>I have an application made with JavaFX 16 which contains a WebView used to show an interactive map using the Leaflet JS library.</p>\n<p>I have a problem when I try to transition to JavaFX 17, the interactive map does not work anymore (it cannot be moved nor clicked, but it can be scrolled). I reproduced the bug on a minimal example with the OpenStreetMap website that uses Leaflet :</p>\n<pre><code>package test;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        WebView webView = new WebView();\n        webView.getEngine().load(&quot;https://www.openstreetmap.org/&quot;);\n        Scene scene = new Scene(new StackPane(webView), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>The interactive map on the OpenStreetMap website is rendered correctly and can be zoomed in but it cannot be moved.</p>\n<p>I am using Gradle to download JavaFX, this is my build.gradle :</p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n}\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;17&quot;\n    modules = [ 'javafx.controls', 'javafx.web']\n}\n\napplication {\n    mainClass = 'test.App'\n}\n</code></pre>\n<p>I reproduced the bug with versions :</p>\n<ul>\n<li>18-ea+5</li>\n<li>17.0.1</li>\n<li>17</li>\n<li>17-ea+2</li>\n</ul>\n<p>but the map worked with versions :</p>\n<ul>\n<li>16</li>\n<li>15</li>\n</ul>\n<p>So it seems that version 17 brings the issue.</p>\n<p>Also I reproduced the bug on macOS 12 (M1 using x86 JavaFX with Rosetta) and on Ubuntu 20. So it does not seem to be an issue with JavaFX on macOS.</p>\n<p>Other interactive maps such as Google map, Apple map and Bing map, worked with the same code as above, and MapBoxGL does not work because WebGL is not supported. So it seems that the issue is related to Leaflet.</p>\n<p>So I wonder if it is a known issue, if anyone else has the same issue, or if it is an issue on my side ?</p>\n"},{"tags":["java","selenium","web-testing"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1646248276,"post_id":71327821,"comment_id":126078722,"body_markdown":"What line gives you that exception?","body":"What line gives you that exception?"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":1,"creation_date":1646248359,"post_id":71327821,"comment_id":126078754,"body_markdown":"Where I click the a tag -&gt; a.click()","body":"Where I click the a tag -&gt; a.click()"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":1,"creation_date":1646248477,"post_id":71327821,"comment_id":126078785,"body_markdown":"But it actually comes from this line -&gt; if(a.getText().equals(&quot;Java&quot;)). I have just uploaded a screenshot of the failure trace","body":"But it actually comes from this line -&gt; if(a.getText().equals(&quot;Java&quot;)). I have just uploaded a screenshot of the failure trace"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1646248946,"post_id":71327821,"comment_id":126078935,"body_markdown":"Does this occur after the clicking on `Java` link and the page `https://www.geeksforgeeks.org/java/?ref=ghm` is presented or this page never opened?","body":"Does this occur after the clicking on <code>Java</code> link and the page <code>https:&#47;&#47;www.geeksforgeeks.org&#47;java&#47;?ref=ghm</code> is presented or this page never opened?"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":0,"creation_date":1646249311,"post_id":71327821,"comment_id":126079069,"body_markdown":"Yes, this occurs after clicking on Java and the page https://www.geeksforgeeks.org/java/?ref=ghm is presented.","body":"Yes, this occurs after clicking on Java and the page <a href=\"https://www.geeksforgeeks.org/java/?ref=ghm\" rel=\"nofollow noreferrer\">geeksforgeeks.org/java/?ref=ghm</a> is presented."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1646249565,"post_id":71327821,"comment_id":126079155,"body_markdown":"OK, now it&#39;s clear without need to make actual debug :) I&#39;ll give an answer shortly","body":"OK, now it&#39;s clear without need to make actual debug :) I&#39;ll give an answer shortly"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1646250479,"creation_date":1646250479,"answer_id":71328361,"question_id":71327821,"body_markdown":"After clicking on the `a` element with `Java` text the [`Java Programming Language`](https://www.geeksforgeeks.org/java/?ref=ghm) page is opened.   \r\nAt this point all the element references collected on the previous page are becoming `Stale`.  \r\nGenerally, each Selenium `WebElement` object is actually a reference (pointer) to physical web element object.  \r\nSo, when you are opening another web page or refreshing the existing page (reloading the web elements there) all the references to the web elements on the previous web page are no more valid.  \r\nIn the Selenium terminology this situation is called [Stale Element](https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference).  \r\nGetting back to your specific code flow.  \r\nLooks like your target here is to open the [`Java Programming Language`](https://www.geeksforgeeks.org/java/?ref=ghm) page. If so, all what you are missing here is to exit your loop once that page is opened and finish the test.  \r\nIn case you wish to continue opening another tutorials from the menu on the main page you will have to go back from the internal page you opened and then get all the elements you wish to use there again.","title":"org.openqa.selenium.StaleElementReferenceException: element is not attached to the page document","body":"<p>After clicking on the <code>a</code> element with <code>Java</code> text the <a href=\"https://www.geeksforgeeks.org/java/?ref=ghm\" rel=\"nofollow noreferrer\"><code>Java Programming Language</code></a> page is opened.<br />\nAt this point all the element references collected on the previous page are becoming <code>Stale</code>.<br />\nGenerally, each Selenium <code>WebElement</code> object is actually a reference (pointer) to physical web element object.<br />\nSo, when you are opening another web page or refreshing the existing page (reloading the web elements there) all the references to the web elements on the previous web page are no more valid.<br />\nIn the Selenium terminology this situation is called <a href=\"https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference\" rel=\"nofollow noreferrer\">Stale Element</a>.<br />\nGetting back to your specific code flow.<br />\nLooks like your target here is to open the <a href=\"https://www.geeksforgeeks.org/java/?ref=ghm\" rel=\"nofollow noreferrer\"><code>Java Programming Language</code></a> page. If so, all what you are missing here is to exit your loop once that page is opened and finish the test.<br />\nIn case you wish to continue opening another tutorials from the menu on the main page you will have to go back from the internal page you opened and then get all the elements you wish to use there again.</p>\n"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71328361,"answer_count":1,"score":1,"last_activity_date":1646251475,"creation_date":1646247297,"question_id":71327821,"body_markdown":"I am trying to test the GeeksForGeeks UI. When I click the tutorials dropdown, then select languages and select Java, it links to a new page and the following error occurs org.openqa.selenium.StaleElementReferenceException. How can I solve this issue? I have tried all the possible solutions from stackoverflow.\r\n\r\n    public class SeleniumTest {\r\n    \r\n    \tpublic static WebDriver driver;\r\n    \r\n    \t@BeforeClass\r\n    \tpublic static void setupClass() {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;driver/chromedriver.exe&quot;);\r\n    \t}\r\n    \r\n    \t@Before\r\n    \tpublic void setup() {\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n    \t}\r\n    \r\n    \t@After\r\n    \tpublic void after() {\r\n    \t\tdriver.close();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testGeeksForGeeksR() throws InterruptedException {\r\n    \t\tdriver.get(&quot;https://www.geeksforgeeks.org/&quot;);\r\n    \t\tWebElement tutorialsMenu = driver.findElement(By.className(&quot;header-main__list-item&quot;));\r\n    \t\ttutorialsMenu.click();\r\n    \t\tList&lt;WebElement&gt; tutorialsList = tutorialsMenu.findElements(By.tagName(&quot;li&quot;));\r\n    \t\tfor (WebElement li : tutorialsList) {\r\n    \t\t\tif (li.getText().equals(&quot;Languages&quot;)) {\r\n    \t\t\t\tli.click();\r\n    \t\t\t\tList&lt;WebElement&gt; languages = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \t\t\t\tfor (WebElement a : languages) {\r\n    \t\t\t\t\tif (a.getText().equals(&quot;Java&quot;)) {\r\n    \t\t\t\t\t\tWebDriverWait wait = new WebDriverWait(driver, 20);\r\n    \t\t\t\t\t\twait.until(ExpectedConditions.elementToBeClickable(a));\r\n    \t\t\t\t\t\ta.click();\r\n    \t\t\t\t\t\tWebElement title = driver.findElement(By.className(&quot;entry-title&quot;));\r\n    \t\t\t\t\t\tassertEquals(&quot;Java Programming Language&quot;, title.getText());\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tThread.sleep(6000);\r\n    \t}\r\n    \r\n    }\r\n\r\nSolution:\r\n\r\n    @Test\r\n    \tpublic void testGeeksForGeeksR() throws InterruptedException {\r\n    \t\tdriver.get(&quot;https://www.geeksforgeeks.org/&quot;);\r\n    \t\tWebElement tutorialsMenu = driver.findElement(By.className(&quot;header-main__list-item&quot;));\r\n    \t\ttutorialsMenu.click();\r\n    \t\tList&lt;WebElement&gt; tutorialsList = tutorialsMenu.findElements(By.tagName(&quot;li&quot;));\r\n    \t\tWebElement javaLanguage = null;\r\n    \t\tfor (WebElement li : tutorialsList) {\r\n    \t\t\tif (li.getText().equals(&quot;Languages&quot;)) {\r\n    \t\t\t\tli.click();\r\n    \t\t\t\tList&lt;WebElement&gt; languages = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \t\t\t\tfor (WebElement a : languages) {\r\n    \t\t\t\t\tif (a.getText().equals(&quot;Java&quot;)) {\r\n    \t\t\t\t\t\tjavaLanguage = a;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tjavaLanguage.click();\r\n    \t\tdriver.switchTo().activeElement();\r\n    \t\tWebElement title = driver.findElement(By.className(&quot;entry-title&quot;));\r\n    \t\tassertEquals(&quot;Java Programming Language&quot;, title.getText());\r\n    \t\tThread.sleep(3000);\r\n    \t}","title":"org.openqa.selenium.StaleElementReferenceException: element is not attached to the page document","body":"<p>I am trying to test the GeeksForGeeks UI. When I click the tutorials dropdown, then select languages and select Java, it links to a new page and the following error occurs org.openqa.selenium.StaleElementReferenceException. How can I solve this issue? I have tried all the possible solutions from stackoverflow.</p>\n<pre><code>public class SeleniumTest {\n\n    public static WebDriver driver;\n\n    @BeforeClass\n    public static void setupClass() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;driver/chromedriver.exe&quot;);\n    }\n\n    @Before\n    public void setup() {\n        driver = new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n    }\n\n    @After\n    public void after() {\n        driver.close();\n    }\n\n    @Test\n    public void testGeeksForGeeksR() throws InterruptedException {\n        driver.get(&quot;https://www.geeksforgeeks.org/&quot;);\n        WebElement tutorialsMenu = driver.findElement(By.className(&quot;header-main__list-item&quot;));\n        tutorialsMenu.click();\n        List&lt;WebElement&gt; tutorialsList = tutorialsMenu.findElements(By.tagName(&quot;li&quot;));\n        for (WebElement li : tutorialsList) {\n            if (li.getText().equals(&quot;Languages&quot;)) {\n                li.click();\n                List&lt;WebElement&gt; languages = driver.findElements(By.tagName(&quot;a&quot;));\n                for (WebElement a : languages) {\n                    if (a.getText().equals(&quot;Java&quot;)) {\n                        WebDriverWait wait = new WebDriverWait(driver, 20);\n                        wait.until(ExpectedConditions.elementToBeClickable(a));\n                        a.click();\n                        WebElement title = driver.findElement(By.className(&quot;entry-title&quot;));\n                        assertEquals(&quot;Java Programming Language&quot;, title.getText());\n\n                    }\n                }\n            }\n        }\n        Thread.sleep(6000);\n    }\n\n}\n</code></pre>\n<p>Solution:</p>\n<pre><code>@Test\n    public void testGeeksForGeeksR() throws InterruptedException {\n        driver.get(&quot;https://www.geeksforgeeks.org/&quot;);\n        WebElement tutorialsMenu = driver.findElement(By.className(&quot;header-main__list-item&quot;));\n        tutorialsMenu.click();\n        List&lt;WebElement&gt; tutorialsList = tutorialsMenu.findElements(By.tagName(&quot;li&quot;));\n        WebElement javaLanguage = null;\n        for (WebElement li : tutorialsList) {\n            if (li.getText().equals(&quot;Languages&quot;)) {\n                li.click();\n                List&lt;WebElement&gt; languages = driver.findElements(By.tagName(&quot;a&quot;));\n                for (WebElement a : languages) {\n                    if (a.getText().equals(&quot;Java&quot;)) {\n                        javaLanguage = a;\n                        break;\n                    }\n                }\n            }\n        }\n        javaLanguage.click();\n        driver.switchTo().activeElement();\n        WebElement title = driver.findElement(By.className(&quot;entry-title&quot;));\n        assertEquals(&quot;Java Programming Language&quot;, title.getText());\n        Thread.sleep(3000);\n    }\n</code></pre>\n"},{"tags":["java","class","vector"],"answers":[{"tags":[],"owner":{"account_id":12929247,"reputation":163,"user_id":9348806,"display_name":"Akash Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646251185,"creation_date":1646251185,"answer_id":71328476,"question_id":71328403,"body_markdown":"You need an instance of the outer class in order to create an object of the inner class as follows:\r\n\r\n    // Class 1\r\n    // Helper classes\r\n    class ShoppingCart {\r\n     \r\n        // Class 2\r\n        // Simple nested inner class\r\n        class RunningCart{\r\n\r\n            int variable;\r\n\r\n            // getter\r\n            public int getVariable()\r\n            {\r\n                return this.variable;\r\n            }\r\n        }\r\n    }\r\n     \r\n    // Class 2\r\n    // Main class\r\n    class Main {\r\n     \r\n        // Main driver method\r\n        public static void main(String[] args)\r\n        {\r\n     \r\n            // Note how inner class object is created inside main()\r\n            ShoppingCart.RunningCart in = new ShoppingCart().new RunningCart();\r\n     \r\n            // Calling getter method above object created\r\n            int x = in.getVariable();\r\n        }\r\n    }\r\n\r\nYou can then use the object as usual.","title":"How can I access variables that exist within a class that is encapsulated within another class in Java?","body":"<p>You need an instance of the outer class in order to create an object of the inner class as follows:</p>\n<pre><code>// Class 1\n// Helper classes\nclass ShoppingCart {\n \n    // Class 2\n    // Simple nested inner class\n    class RunningCart{\n\n        int variable;\n\n        // getter\n        public int getVariable()\n        {\n            return this.variable;\n        }\n    }\n}\n \n// Class 2\n// Main class\nclass Main {\n \n    // Main driver method\n    public static void main(String[] args)\n    {\n \n        // Note how inner class object is created inside main()\n        ShoppingCart.RunningCart in = new ShoppingCart().new RunningCart();\n \n        // Calling getter method above object created\n        int x = in.getVariable();\n    }\n}\n</code></pre>\n<p>You can then use the object as usual.</p>\n"}],"owner":{"account_id":19008197,"reputation":11,"user_id":13874507,"display_name":"vagflame360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646251185,"creation_date":1646250692,"question_id":71328403,"body_markdown":"I am currently working on a project which keeps track of items added into a shopping cart. My background is in C++ and I am currently learning Java. How would I access the variables which exist within a class that is encapsulated in another class? I am attempting to make a vector of RunningCart objects when a new item is added. \r\n\r\nFor example: \r\n\r\n&#39;&#39;&#39;\r\n\r\n    public class ShoppingCart{\r\n         public class RunningCart{\r\n              int variable;\r\n         }\r\n    }\r\n\r\n&#39;&#39;&#39;\r\n\r\nHow would I access the int variable in RunningCart? \r\n","title":"How can I access variables that exist within a class that is encapsulated within another class in Java?","body":"<p>I am currently working on a project which keeps track of items added into a shopping cart. My background is in C++ and I am currently learning Java. How would I access the variables which exist within a class that is encapsulated in another class? I am attempting to make a vector of RunningCart objects when a new item is added.</p>\n<p>For example:</p>\n<p>'''</p>\n<pre><code>public class ShoppingCart{\n     public class RunningCart{\n          int variable;\n     }\n}\n</code></pre>\n<p>'''</p>\n<p>How would I access the int variable in RunningCart?</p>\n"},{"tags":["java","serialization","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646250922,"creation_date":1646250922,"answer_id":71328443,"question_id":71320612,"body_markdown":"The problem lies in the Avro conversion. Avro JSON encoding states the type to be used for nullable/union fields. \r\n\r\nhttps://avro.apache.org/docs/current/spec.html#json_encoding\r\n\r\nOtherwise, your JSON libraries should at least be able to tell differences between Objects (Maps), Arrays, Ints, Strings, Boolean, and nulls. ","title":"Kafka serialization with attribute types","body":"<p>The problem lies in the Avro conversion. Avro JSON encoding states the type to be used for nullable/union fields.</p>\n<p><a href=\"https://avro.apache.org/docs/current/spec.html#json_encoding\" rel=\"nofollow noreferrer\">https://avro.apache.org/docs/current/spec.html#json_encoding</a></p>\n<p>Otherwise, your JSON libraries should at least be able to tell differences between Objects (Maps), Arrays, Ints, Strings, Boolean, and nulls.</p>\n"}],"owner":{"account_id":24426961,"reputation":1,"user_id":18352420,"display_name":"Aku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646250948,"creation_date":1646214676,"question_id":71320612,"body_markdown":"We are starting a new project based on Quarkus to write records on Kafka. \r\n\r\nActually, there is an old app writing some records and it works fine. \r\n\r\nOur new app has a problem writing the same records on a test topic. We can not see the types of attributes in the JSON.\r\n\r\nLet me give an example:\r\n\r\nThe old app writes the attributes as follows:\r\n\r\n```\r\n{\r\n ...\r\n &quot;businesscode&quot;:\r\n {\r\n  &quot;string&quot;: &quot;I2022416535&quot;\r\n },\r\n ...\r\n}\r\n```\r\n\r\nThe new app writes the attributes as follows:\r\n\r\n```\r\n{\r\n ...\r\n &quot;businesscode&quot;: &quot;I2022416535&quot;\r\n ...\r\n}\r\n```\r\n\r\nThis is an example for a `string` attribute but we have the same problem with `int`, `map`, `array`, etc. attribute types.\r\n\r\nThe used topic for tests has the same characteristics as the old app topic, and we use the same Avro file and same the generated objects.\r\n\r\nWhat should I do to fix the problem?","title":"Kafka serialization with attribute types","body":"<p>We are starting a new project based on Quarkus to write records on Kafka.</p>\n<p>Actually, there is an old app writing some records and it works fine.</p>\n<p>Our new app has a problem writing the same records on a test topic. We can not see the types of attributes in the JSON.</p>\n<p>Let me give an example:</p>\n<p>The old app writes the attributes as follows:</p>\n<pre><code>{\n ...\n &quot;businesscode&quot;:\n {\n  &quot;string&quot;: &quot;I2022416535&quot;\n },\n ...\n}\n</code></pre>\n<p>The new app writes the attributes as follows:</p>\n<pre><code>{\n ...\n &quot;businesscode&quot;: &quot;I2022416535&quot;\n ...\n}\n</code></pre>\n<p>This is an example for a <code>string</code> attribute but we have the same problem with <code>int</code>, <code>map</code>, <code>array</code>, etc. attribute types.</p>\n<p>The used topic for tests has the same characteristics as the old app topic, and we use the same Avro file and same the generated objects.</p>\n<p>What should I do to fix the problem?</p>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1642104197,"post_id":70692566,"comment_id":124989927,"body_markdown":"Alternatively, look at `MeterPlot`, seen [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20MeterPlot), or`DialPlot`  seen [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20DialPlot), or the [gallery](https://stackoverflow.com/tags/jfreechart/info).","body":"Alternatively, look at <code>MeterPlot</code>, seen <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20MeterPlot\">here</a>, or<code>DialPlot</code>  seen <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20DialPlot\">here</a>, or the <a href=\"https://stackoverflow.com/tags/jfreechart/info\">gallery</a>."},{"owner":{"account_id":17396735,"reputation":129,"user_id":12606340,"display_name":"chinnu Nish"},"score":0,"creation_date":1642163012,"post_id":70692566,"comment_id":125003683,"body_markdown":"@trashgod thanks for the refrences. Was finally able to achieve using MeterPlot.","body":"@trashgod thanks for the refrences. Was finally able to achieve using MeterPlot."}],"answers":[{"tags":[],"owner":{"account_id":17396735,"reputation":129,"user_id":12606340,"display_name":"chinnu Nish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642164578,"creation_date":1642163244,"answer_id":70710564,"question_id":70692566,"body_markdown":"Sharing the sample code with which I was finally able to achieve the desired chart. But the shape is somewhat distorted. Can someone help me figure out the error in this?\r\n\r\n```\r\npublic class TradeMeterChart {\r\n\r\n\tpublic void displayMeterChart() {\r\n\t\t\r\n\t\tRectangleInsets insets = new RectangleInsets(50.0, 5.0, 1.0, 50.0);\r\n\r\n\t\tDefaultValueDataset data = new DefaultValueDataset(40);\r\n\t\tMeterPlot plot = new MeterPlot(data);\r\n\t\t//plot.setBackgroundAlpha(0.0f);\r\n\t\tplot.setTickSize(5);\r\n\t\tplot.setOutlineStroke(new BasicStroke(30));\r\n\r\n\t\tplot.setMeterAngle(180);\r\n\t\tplot.setDialShape(DialShape.CHORD);\r\n\r\n\t\tplot.setDialBackgroundPaint(new GradientPaint(0, 0, Color.white, 0, 1000, Color.white));\r\n\t\tplot.setTickLabelsVisible(true);\r\n\t\t//plot.setOutlineVisible(true);\r\n\t\tplot.setOutlineStroke(new BasicStroke(30));\r\n\t\t\r\n\t\tplot.setNeedlePaint(Color.black);\r\n\t\tplot.setDrawBorder(false);\r\n\t\tplot.setInsets(insets);\r\n\t\t\r\n\r\n\t\tfinal Stroke outlineStroke = plot.getOutlineStroke();\r\n\t\t\r\n\t\tplot.addInterval(new MeterInterval(&quot;Normal&quot;, new Range(0, 40), Color.red, outlineStroke, null));\r\n\t\tplot.addInterval(new MeterInterval(&quot;Warning&quot;, new Range(40, 60), Color.yellow, outlineStroke, null));\r\n\t\tplot.addInterval(new MeterInterval(&quot;Critical&quot;, new Range(60, 100), Color.green, outlineStroke, null));\r\n\r\n\t\tplot.setValuePaint(Color.black);\r\n\t\tplot.setUnits(&quot;&quot;);\r\n\t\tJFreeChart chart = new JFreeChart(&quot;Overall Performance&quot;, plot);\r\n\t\tchart.setBackgroundPaint(Color.white);\r\n\t\tchart.setBorderPaint(Color.white);\r\n\t\tchart.removeLegend();\r\n\t\tString filename1 = &quot;C://Users//136965//Desktop//gauge_nut.jpg&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tChartUtils.saveChartAsJPEG(new File(filename1), chart, 300, 200);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tTradeMeterChart h = new TradeMeterChart();\r\n\t\th.displayMeterChart();\r\n\t}\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ucfkF.png","title":"How to create a gauge chart using JFreeChart","body":"<p>Sharing the sample code with which I was finally able to achieve the desired chart. But the shape is somewhat distorted. Can someone help me figure out the error in this?</p>\n<pre><code>public class TradeMeterChart {\n\n    public void displayMeterChart() {\n        \n        RectangleInsets insets = new RectangleInsets(50.0, 5.0, 1.0, 50.0);\n\n        DefaultValueDataset data = new DefaultValueDataset(40);\n        MeterPlot plot = new MeterPlot(data);\n        //plot.setBackgroundAlpha(0.0f);\n        plot.setTickSize(5);\n        plot.setOutlineStroke(new BasicStroke(30));\n\n        plot.setMeterAngle(180);\n        plot.setDialShape(DialShape.CHORD);\n\n        plot.setDialBackgroundPaint(new GradientPaint(0, 0, Color.white, 0, 1000, Color.white));\n        plot.setTickLabelsVisible(true);\n        //plot.setOutlineVisible(true);\n        plot.setOutlineStroke(new BasicStroke(30));\n        \n        plot.setNeedlePaint(Color.black);\n        plot.setDrawBorder(false);\n        plot.setInsets(insets);\n        \n\n        final Stroke outlineStroke = plot.getOutlineStroke();\n        \n        plot.addInterval(new MeterInterval(&quot;Normal&quot;, new Range(0, 40), Color.red, outlineStroke, null));\n        plot.addInterval(new MeterInterval(&quot;Warning&quot;, new Range(40, 60), Color.yellow, outlineStroke, null));\n        plot.addInterval(new MeterInterval(&quot;Critical&quot;, new Range(60, 100), Color.green, outlineStroke, null));\n\n        plot.setValuePaint(Color.black);\n        plot.setUnits(&quot;&quot;);\n        JFreeChart chart = new JFreeChart(&quot;Overall Performance&quot;, plot);\n        chart.setBackgroundPaint(Color.white);\n        chart.setBorderPaint(Color.white);\n        chart.removeLegend();\n        String filename1 = &quot;C://Users//136965//Desktop//gauge_nut.jpg&quot;;\n\n        try {\n            ChartUtils.saveChartAsJPEG(new File(filename1), chart, 300, 200);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    }\n\n    public static void main(String[] args) {\n        TradeMeterChart h = new TradeMeterChart();\n        h.displayMeterChart();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ucfkF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucfkF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642683863,"creation_date":1642683863,"answer_id":70786782,"question_id":70692566,"body_markdown":"Also consider using [`org.jfree.chart.plot.dial`][1]. The example below use a `DialPlot` having an `ArcDialFrame` and a `StandardDialScale`. Three instances of `StandardDialRange` provide the colors.\r\n\r\n[![image][2]][2]\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.plot.dial.ArcDialFrame;\r\nimport org.jfree.chart.plot.dial.DialPlot;\r\nimport org.jfree.chart.plot.dial.DialPointer;\r\nimport org.jfree.chart.plot.dial.StandardDialRange;\r\nimport org.jfree.chart.plot.dial.StandardDialScale;\r\nimport org.jfree.data.general.DefaultValueDataset;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/70648615/230513\r\n * @see https://stackoverflow.com/a/10353270/230513\r\n */\r\npublic class DialTest {\r\n\r\n    private static final Color LT_GRAY = new Color(0xe0e0e0);\r\n\r\n    private void display() {\r\n        DefaultValueDataset data = new DefaultValueDataset(70);\r\n        DialPlot plot = new DialPlot(data);\r\n        plot.setView(0, -0.25, 1, 1);\r\n        ArcDialFrame arcDialFrame = new ArcDialFrame();\r\n        arcDialFrame.setInnerRadius(0.42);\r\n        arcDialFrame.setOuterRadius(0.95);\r\n        arcDialFrame.setForegroundPaint(Color.darkGray);\r\n        plot.setDialFrame(arcDialFrame);\r\n        StandardDialScale scale = new StandardDialScale(0, 100, 180, -180, 10, 0);\r\n        scale.setTickRadius(0.95);\r\n        scale.setTickLabelOffset(0.15);\r\n        scale.setMajorTickIncrement(10);\r\n        plot.addScale(0, scale);\r\n        DialPointer.Pin pin = new DialPointer.Pin();\r\n        pin.setPaint(Color.black);\r\n        pin.setRadius(0.8);\r\n        plot.addLayer(pin);\r\n        plot.addLayer(new StandardDialRange(0, 40, Color.red));\r\n        plot.addLayer(new StandardDialRange(40, 60, Color.yellow));\r\n        plot.addLayer(new StandardDialRange(60, 100, Color.green));\r\n\r\n        JFreeChart chart = new JFreeChart(&quot;Overall Performance&quot;, plot);\r\n        chart.setBackgroundPaint(LT_GRAY);\r\n\r\n        JFrame f = new JFrame(&quot;Meter Test&quot;);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.add(new ChartPanel(chart) {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(300, 300);\r\n            }\r\n        });\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new DialTest()::display);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/plot/dial/package-summary.html\r\n  [2]: https://i.stack.imgur.com/l7xuU.png","title":"How to create a gauge chart using JFreeChart","body":"<p>Also consider using <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/plot/dial/package-summary.html\" rel=\"nofollow noreferrer\"><code>org.jfree.chart.plot.dial</code></a>. The example below use a <code>DialPlot</code> having an <code>ArcDialFrame</code> and a <code>StandardDialScale</code>. Three instances of <code>StandardDialRange</code> provide the colors.</p>\n<p><a href=\"https://i.stack.imgur.com/l7xuU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l7xuU.png\" alt=\"image\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.dial.ArcDialFrame;\nimport org.jfree.chart.plot.dial.DialPlot;\nimport org.jfree.chart.plot.dial.DialPointer;\nimport org.jfree.chart.plot.dial.StandardDialRange;\nimport org.jfree.chart.plot.dial.StandardDialScale;\nimport org.jfree.data.general.DefaultValueDataset;\n\n/**\n * @see https://stackoverflow.com/a/70648615/230513\n * @see https://stackoverflow.com/a/10353270/230513\n */\npublic class DialTest {\n\n    private static final Color LT_GRAY = new Color(0xe0e0e0);\n\n    private void display() {\n        DefaultValueDataset data = new DefaultValueDataset(70);\n        DialPlot plot = new DialPlot(data);\n        plot.setView(0, -0.25, 1, 1);\n        ArcDialFrame arcDialFrame = new ArcDialFrame();\n        arcDialFrame.setInnerRadius(0.42);\n        arcDialFrame.setOuterRadius(0.95);\n        arcDialFrame.setForegroundPaint(Color.darkGray);\n        plot.setDialFrame(arcDialFrame);\n        StandardDialScale scale = new StandardDialScale(0, 100, 180, -180, 10, 0);\n        scale.setTickRadius(0.95);\n        scale.setTickLabelOffset(0.15);\n        scale.setMajorTickIncrement(10);\n        plot.addScale(0, scale);\n        DialPointer.Pin pin = new DialPointer.Pin();\n        pin.setPaint(Color.black);\n        pin.setRadius(0.8);\n        plot.addLayer(pin);\n        plot.addLayer(new StandardDialRange(0, 40, Color.red));\n        plot.addLayer(new StandardDialRange(40, 60, Color.yellow));\n        plot.addLayer(new StandardDialRange(60, 100, Color.green));\n\n        JFreeChart chart = new JFreeChart(&quot;Overall Performance&quot;, plot);\n        chart.setBackgroundPaint(LT_GRAY);\n\n        JFrame f = new JFrame(&quot;Meter Test&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(new ChartPanel(chart) {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(300, 300);\n            }\n        });\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new DialTest()::display);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17396735,"reputation":129,"user_id":12606340,"display_name":"chinnu Nish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70786782,"answer_count":2,"score":0,"last_activity_date":1646250701,"creation_date":1642057152,"question_id":70692566,"body_markdown":"I want to create a gauge chart using a combination of pie chart and half donut chart. The expected image is attached.\r\nCan someone please help me to modify the attached code to get the expected result? Attaching the sample code, adapted from [here][1]:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.OverlayLayout;\r\n    \r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.ChartUtils;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.plot.RingPlot;\r\n    import org.jfree.chart.plot.dial.DialPlot;\r\n    import org.jfree.data.general.DefaultPieDataset;\r\n    import org.jfree.data.general.PieDataset;\r\n    \r\n    public class RingChartTest {\r\n    \r\n    \tprivate static final String INVISIBLE = &quot;have_a_look_on_me_if_you_can_xD&quot;;\r\n    \tprivate static java.awt.Color whiteColorAlphaChannel = new java.awt.Color(255, 255, 255, 0);\r\n    \t\r\n    \tprivate static PieDataset createDataset() {\r\n    \t\tDefaultPieDataset dataset = new DefaultPieDataset();\r\n    \t\tdataset.setValue(&quot;Safari&quot;, 40);\r\n    \t\tdataset.setValue(&quot;Safari1&quot;, 50);\r\n    \t\tdataset.setValue(&quot;Safari2&quot;, 90);\r\n    \t\tdataset.setValue(INVISIBLE, 180);\r\n    \t\treturn dataset;\r\n    \t}\r\n    \r\n    \tprivate static JFreeChart createChart(PieDataset dataset) {\r\n    \t\tJFreeChart chart = ChartFactory.createRingChart(&quot;Overall Performance&quot;, dataset, false, false, false);\r\n    \t\t\r\n    \t\tRingPlot plot = (RingPlot) chart.getPlot();\r\n    \t\t\r\n    \t\tplot.setStartAngle(180);\r\n    \t\tplot.setCircular(true);\r\n    \t\tplot.setSimpleLabels(true);\r\n    \t\tplot.setSectionDepth(0.2);\r\n    \t\tplot.setBackgroundPaint(Color.WHITE);\r\n    \t\tplot.setSeparatorsVisible(false);\r\n    \t\tColor invisible = new Color(0xffffff, true);\r\n    \t\tplot.setSectionPaint(INVISIBLE, whiteColorAlphaChannel); // 180&#176; alpha invisible\r\n            plot.setSectionOutlinePaint(INVISIBLE, whiteColorAlphaChannel); // 180&#176; alpha invisible\r\n    \t\tplot.setShadowPaint(null);\r\n    \t\tplot.setLabelGenerator(null);\r\n    \t\t plot.setSectionOutlinesVisible(false);\r\n    \t\treturn chart;\r\n    \t}\r\n    \r\n    \tpublic JPanel createDemoPanel() {\r\n    \t\tJFreeChart jfreechart = createChart(createDataset());\r\n    \t\tChartPanel chartPanel = new ChartPanel(jfreechart) {\r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getPreferredSize() {\r\n    \t\t\t\treturn new Dimension(500, 400);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tchartPanel.setLayout(new OverlayLayout(chartPanel));\r\n    \t\tJLabel label = new JLabel(&quot;BrowserShare&quot;);\r\n    \t\tlabel.setFont(label.getFont().deriveFont(48.0f));\r\n    \t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\tlabel.setVerticalAlignment(JLabel.CENTER);\r\n    \t\tlabel.setAlignmentX(0.5f);\r\n            label.setAlignmentY(0.75f);\r\n    \t\tlabel.setOpaque(false);\r\n    \t\tlabel.setBackground(Color.LIGHT_GRAY);\r\n    \t\tchartPanel.add(label);\r\n    \t\treturn chartPanel;\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tPieDataset pieDataSet = createDataset();\r\n    \t\tJFreeChart jFreeChart = createChart(pieDataSet);\r\n    \t\tString filename1 = &quot;C://Users//136965//Desktop//gauge_nut.jpg&quot;;\r\n    \r\n    \t\ttry {\r\n    \t\t\tChartUtils.saveChartAsJPEG(new File(filename1), jFreeChart, 500, 400);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\nThe graph created by the above code is\r\n[![enter image description here][2]][2]\r\n\r\nThe graph that I am trying to create using JFreeChart library is as follows:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://stackoverflow.com/a/69473975/230513\r\n  [2]: https://i.stack.imgur.com/98yEo.png\r\n  [3]: https://i.stack.imgur.com/jytKp.png","title":"How to create a gauge chart using JFreeChart","body":"<p>I want to create a gauge chart using a combination of pie chart and half donut chart. The expected image is attached.\nCan someone please help me to modify the attached code to get the expected result? Attaching the sample code, adapted from <a href=\"https://stackoverflow.com/a/69473975/230513\">here</a>:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.OverlayLayout;\n\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.ChartUtils;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.RingPlot;\nimport org.jfree.chart.plot.dial.DialPlot;\nimport org.jfree.data.general.DefaultPieDataset;\nimport org.jfree.data.general.PieDataset;\n\npublic class RingChartTest {\n\n    private static final String INVISIBLE = &quot;have_a_look_on_me_if_you_can_xD&quot;;\n    private static java.awt.Color whiteColorAlphaChannel = new java.awt.Color(255, 255, 255, 0);\n    \n    private static PieDataset createDataset() {\n        DefaultPieDataset dataset = new DefaultPieDataset();\n        dataset.setValue(&quot;Safari&quot;, 40);\n        dataset.setValue(&quot;Safari1&quot;, 50);\n        dataset.setValue(&quot;Safari2&quot;, 90);\n        dataset.setValue(INVISIBLE, 180);\n        return dataset;\n    }\n\n    private static JFreeChart createChart(PieDataset dataset) {\n        JFreeChart chart = ChartFactory.createRingChart(&quot;Overall Performance&quot;, dataset, false, false, false);\n        \n        RingPlot plot = (RingPlot) chart.getPlot();\n        \n        plot.setStartAngle(180);\n        plot.setCircular(true);\n        plot.setSimpleLabels(true);\n        plot.setSectionDepth(0.2);\n        plot.setBackgroundPaint(Color.WHITE);\n        plot.setSeparatorsVisible(false);\n        Color invisible = new Color(0xffffff, true);\n        plot.setSectionPaint(INVISIBLE, whiteColorAlphaChannel); // 180° alpha invisible\n        plot.setSectionOutlinePaint(INVISIBLE, whiteColorAlphaChannel); // 180° alpha invisible\n        plot.setShadowPaint(null);\n        plot.setLabelGenerator(null);\n         plot.setSectionOutlinesVisible(false);\n        return chart;\n    }\n\n    public JPanel createDemoPanel() {\n        JFreeChart jfreechart = createChart(createDataset());\n        ChartPanel chartPanel = new ChartPanel(jfreechart) {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(500, 400);\n            }\n        };\n        chartPanel.setLayout(new OverlayLayout(chartPanel));\n        JLabel label = new JLabel(&quot;BrowserShare&quot;);\n        label.setFont(label.getFont().deriveFont(48.0f));\n        label.setHorizontalAlignment(JLabel.CENTER);\n        label.setVerticalAlignment(JLabel.CENTER);\n        label.setAlignmentX(0.5f);\n        label.setAlignmentY(0.75f);\n        label.setOpaque(false);\n        label.setBackground(Color.LIGHT_GRAY);\n        chartPanel.add(label);\n        return chartPanel;\n    }\n\n    public static void main(String args[]) {\n        PieDataset pieDataSet = createDataset();\n        JFreeChart jFreeChart = createChart(pieDataSet);\n        String filename1 = &quot;C://Users//136965//Desktop//gauge_nut.jpg&quot;;\n\n        try {\n            ChartUtils.saveChartAsJPEG(new File(filename1), jFreeChart, 500, 400);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The graph created by the above code is\n<a href=\"https://i.stack.imgur.com/98yEo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/98yEo.png\" alt=\"enter image description here\" /></a></p>\n<p>The graph that I am trying to create using JFreeChart library is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/jytKp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jytKp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","firebase","spring-boot","push-notification","expo"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646249721,"creation_date":1646249721,"answer_id":71328237,"question_id":71327186,"body_markdown":"&gt; my client is an expo react native app\r\n\r\nSince FCM registration token is specific to each device/app combination, you&#39;ll need to get it inside your React Native app.\r\n\r\nIf you&#39;re using the regular JavaScript SDK for Firebase, follow the documentation on [accessing the registration token in the JavaScript SDK](https://firebase.google.com/docs/cloud-messaging/js/client#access_the_registration_token).\r\n\r\nIf you&#39;re using the [React Native Firebase library](https://rnfirebase.io/), follow the instructions [here](https://rnfirebase.io/reference/messaging#getToken) and here: https://stackoverflow.com/questions/57140028/get-fcm-token-in-react-native\r\n\r\nOnce you have the token, you can send it to your server, where you can then use it to send messages to that specific device/app combination.","title":"Get firebase registration token in SpringBoot java project","body":"<blockquote>\n<p>my client is an expo react native app</p>\n</blockquote>\n<p>Since FCM registration token is specific to each device/app combination, you'll need to get it inside your React Native app.</p>\n<p>If you're using the regular JavaScript SDK for Firebase, follow the documentation on <a href=\"https://firebase.google.com/docs/cloud-messaging/js/client#access_the_registration_token\" rel=\"nofollow noreferrer\">accessing the registration token in the JavaScript SDK</a>.</p>\n<p>If you're using the <a href=\"https://rnfirebase.io/\" rel=\"nofollow noreferrer\">React Native Firebase library</a>, follow the instructions <a href=\"https://rnfirebase.io/reference/messaging#getToken\" rel=\"nofollow noreferrer\">here</a> and here: <a href=\"https://stackoverflow.com/questions/57140028/get-fcm-token-in-react-native\">Get FCM token in React-Native</a></p>\n<p>Once you have the token, you can send it to your server, where you can then use it to send messages to that specific device/app combination.</p>\n"}],"owner":{"account_id":24407910,"reputation":13,"user_id":18335822,"display_name":"Anamaria Dragomir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646249721,"creation_date":1646243935,"question_id":71327186,"body_markdown":"My serser uses Java with SpringBoot and my client is an expo react native app which uses typescript. I am really blocked by this feature: I want to sens push notifications. I tried a lot of methods, but I didn&#39;t succeed.\r\n\r\nI tried to use Google FCM API to send the push notifications, but I noticed that I need the REGISTRATION TOKENS and I can&#39;t get them on the BE side.\r\n\r\nIn the official documentation is described the method, but using Android: https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId.\r\n\r\nI have something like: \r\n\r\n**The service**\r\n\r\n    @Service\r\n    public class FirebaseMessagingService {\r\n    \r\n        private static final String FIREBASE_SERVER_KEY = server key from firebase project from cloud messaging section;\r\n        private static final String FIREBASE_API_URL = &quot;https://fcm.googleapis.com/fcm/send&quot;;\r\n    \r\n        @Async\r\n        public CompletableFuture&lt;String&gt; send(HttpEntity&lt;String&gt; entity) {\r\n    \r\n            RestTemplate restTemplate = new RestTemplate();\r\n    \r\n            ArrayList&lt;ClientHttpRequestInterceptor&gt; interceptors = new ArrayList&lt;&gt;();\r\n            interceptors.add(new HeaderRequestInterceptor(&quot;Authorization&quot;, &quot;key=&quot; + FIREBASE_SERVER_KEY));\r\n            interceptors.add(new HeaderRequestInterceptor(&quot;Content-Type&quot;, &quot;application/json&quot;));\r\n            restTemplate.setInterceptors(interceptors);\r\n    \r\n            String firebaseResponse = restTemplate.postForObject(FIREBASE_API_URL, entity, String.class);\r\n    \r\n            return CompletableFuture.completedFuture(firebaseResponse);\r\n        }\r\n    }\r\nAnd \r\n\r\n**The Controller**\r\n\r\n    @Autowired\r\n        FirebaseMessagingService firebaseMessagingService;\r\n    \r\n        @RequestMapping(value = &quot;/send&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\r\n        public ResponseEntity&lt;String&gt; send(){\r\n    \r\n            JSONObject body = new JSONObject();\r\n            body.put(&quot;to&quot;, &quot;GM4nGHeift2zv4IDm9O75&quot;);\r\n            body.put(&quot;priority&quot;, &quot;high&quot;);\r\n    \r\n            JSONObject notification = new JSONObject();\r\n            notification.put(&quot;title&quot;, &quot;JSA Notification&quot;);\r\n            notification.put(&quot;body&quot;, &quot;Happy Message!&quot;);\r\n    \r\n            JSONObject data = new JSONObject();\r\n            data.put(&quot;Key-1&quot;, &quot;JSA Data 1&quot;);\r\n            data.put(&quot;Key-2&quot;, &quot;JSA Data 2&quot;);\r\n    \r\n            body.put(&quot;notification&quot;, notification);\r\n            body.put(&quot;data&quot;, data);\r\n    \r\n            HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(body.toString());\r\n    \r\n            CompletableFuture&lt;String&gt; pushNotification = firebaseMessagingService.send(request);\r\n            CompletableFuture.allOf(pushNotification).join();\r\n    \r\n            try {\r\n                String firebaseResponse = pushNotification.get();\r\n    \r\n                return new ResponseEntity&lt;&gt;(firebaseResponse, HttpStatus.OK);\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return new ResponseEntity&lt;&gt;(&quot;Push Notification ERROR!&quot;, HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\nWhen I try to send a notification, I receive the following error:\r\n\r\n    {\r\n      &quot;multicast_id&quot;: 385944902818046340,\r\n      &quot;success&quot;: 0,\r\n      &quot;failure&quot;: 1,\r\n      &quot;canonical_ids&quot;: 0,\r\n      &quot;results&quot;: [\r\n        {\r\n          &quot;error&quot;: &quot;InvalidRegistration&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nDo you have any idea about how should I proceed to get the registration tokens on a Java project and send push notifications to my Expo client?\r\n\r\nThanks\r\n\r\n","title":"Get firebase registration token in SpringBoot java project","body":"<p>My serser uses Java with SpringBoot and my client is an expo react native app which uses typescript. I am really blocked by this feature: I want to sens push notifications. I tried a lot of methods, but I didn't succeed.</p>\n<p>I tried to use Google FCM API to send the push notifications, but I noticed that I need the REGISTRATION TOKENS and I can't get them on the BE side.</p>\n<p>In the official documentation is described the method, but using Android: <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId</a>.</p>\n<p>I have something like:</p>\n<p><strong>The service</strong></p>\n<pre><code>@Service\npublic class FirebaseMessagingService {\n\n    private static final String FIREBASE_SERVER_KEY = server key from firebase project from cloud messaging section;\n    private static final String FIREBASE_API_URL = &quot;https://fcm.googleapis.com/fcm/send&quot;;\n\n    @Async\n    public CompletableFuture&lt;String&gt; send(HttpEntity&lt;String&gt; entity) {\n\n        RestTemplate restTemplate = new RestTemplate();\n\n        ArrayList&lt;ClientHttpRequestInterceptor&gt; interceptors = new ArrayList&lt;&gt;();\n        interceptors.add(new HeaderRequestInterceptor(&quot;Authorization&quot;, &quot;key=&quot; + FIREBASE_SERVER_KEY));\n        interceptors.add(new HeaderRequestInterceptor(&quot;Content-Type&quot;, &quot;application/json&quot;));\n        restTemplate.setInterceptors(interceptors);\n\n        String firebaseResponse = restTemplate.postForObject(FIREBASE_API_URL, entity, String.class);\n\n        return CompletableFuture.completedFuture(firebaseResponse);\n    }\n}\n</code></pre>\n<p>And</p>\n<p><strong>The Controller</strong></p>\n<pre><code>@Autowired\n    FirebaseMessagingService firebaseMessagingService;\n\n    @RequestMapping(value = &quot;/send&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;String&gt; send(){\n\n        JSONObject body = new JSONObject();\n        body.put(&quot;to&quot;, &quot;GM4nGHeift2zv4IDm9O75&quot;);\n        body.put(&quot;priority&quot;, &quot;high&quot;);\n\n        JSONObject notification = new JSONObject();\n        notification.put(&quot;title&quot;, &quot;JSA Notification&quot;);\n        notification.put(&quot;body&quot;, &quot;Happy Message!&quot;);\n\n        JSONObject data = new JSONObject();\n        data.put(&quot;Key-1&quot;, &quot;JSA Data 1&quot;);\n        data.put(&quot;Key-2&quot;, &quot;JSA Data 2&quot;);\n\n        body.put(&quot;notification&quot;, notification);\n        body.put(&quot;data&quot;, data);\n\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(body.toString());\n\n        CompletableFuture&lt;String&gt; pushNotification = firebaseMessagingService.send(request);\n        CompletableFuture.allOf(pushNotification).join();\n\n        try {\n            String firebaseResponse = pushNotification.get();\n\n            return new ResponseEntity&lt;&gt;(firebaseResponse, HttpStatus.OK);\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n\n        return new ResponseEntity&lt;&gt;(&quot;Push Notification ERROR!&quot;, HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<p>When I try to send a notification, I receive the following error:</p>\n<pre><code>{\n  &quot;multicast_id&quot;: 385944902818046340,\n  &quot;success&quot;: 0,\n  &quot;failure&quot;: 1,\n  &quot;canonical_ids&quot;: 0,\n  &quot;results&quot;: [\n    {\n      &quot;error&quot;: &quot;InvalidRegistration&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Do you have any idea about how should I proceed to get the registration tokens on a Java project and send push notifications to my Expo client?</p>\n<p>Thanks</p>\n"},{"tags":["java","modelmapper"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1646249026,"post_id":71327950,"comment_id":126078957,"body_markdown":"Please provide a [mcve] so we can help you.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can help you."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646248784,"creation_date":1646248784,"answer_id":71328092,"question_id":71327950,"body_markdown":"Types do not match the as compiler error suggests, the returned type is void and will not be collected . I guess the map method on modelMapper is overloaded and you can pass the class type on second argument as well to resolve the issue.\r\nsome thing like \r\n\r\n\r\n\r\n    Foo foo = modelMapper.map(map, Foo.class);\r\n\r\n\r\n","title":"Why I get error &#39;no instance of type&#39; on map method?","body":"<p>Types do not match the as compiler error suggests, the returned type is void and will not be collected . I guess the map method on modelMapper is overloaded and you can pass the class type on second argument as well to resolve the issue.\nsome thing like</p>\n<pre><code>Foo foo = modelMapper.map(map, Foo.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646249301,"creation_date":1646249301,"answer_id":71328181,"question_id":71327950,"body_markdown":"`map` method on `Stream` class return a `Stream`.\r\n\r\n    &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper);\r\n\r\n`ModelMapper` `map` method returns `void`.\r\n\r\n \r\n\r\n    public void map(Object source, Object destination) {\r\n\r\nTherefore the error. &quot;void&quot; cannot be streamed.","title":"Why I get error &#39;no instance of type&#39; on map method?","body":"<p><code>map</code> method on <code>Stream</code> class return a <code>Stream</code>.</p>\n<pre><code>&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper);\n</code></pre>\n<p><code>ModelMapper</code> <code>map</code> method returns <code>void</code>.</p>\n<pre><code>public void map(Object source, Object destination) {\n</code></pre>\n<p>Therefore the error. &quot;void&quot; cannot be streamed.</p>\n"}],"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1646258299,"accepted_answer_id":71328181,"answer_count":2,"score":1,"last_activity_date":1646249301,"creation_date":1646248051,"question_id":71327950,"body_markdown":"I have this function:\r\n\r\n    public &lt;D&gt; List&lt;D&gt; mapList(Object source, List&lt;D&gt; targetClass) {\r\n        return targetClass\r\n                .stream()\r\n                .map(element -&gt; modelMapper.map(source, element))\r\n                .collect(Collectors.toList());\r\n    }\r\n\t\r\nOn this row:\r\n\t\t\r\n\t\tmap(element -&gt; modelMapper.map(source, element))\r\n\t\t\r\nI have this error:\r\n\r\n\tno instance of type variable r exists so that void conforms to r\r\n\r\nAny idea why I get the error above and how to fix it?\t","title":"Why I get error &#39;no instance of type&#39; on map method?","body":"<p>I have this function:</p>\n<pre><code>public &lt;D&gt; List&lt;D&gt; mapList(Object source, List&lt;D&gt; targetClass) {\n    return targetClass\n            .stream()\n            .map(element -&gt; modelMapper.map(source, element))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>On this row:</p>\n<pre><code>    map(element -&gt; modelMapper.map(source, element))\n    \n</code></pre>\n<p>I have this error:</p>\n<pre><code>no instance of type variable r exists so that void conforms to r\n</code></pre>\n<p>Any idea why I get the error above and how to fix it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7527751,"reputation":325,"user_id":5717248,"display_name":"Carlo Prato"},"score":0,"creation_date":1631631451,"post_id":69180074,"comment_id":122271926,"body_markdown":"hi shaine please read [this](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions)  on how to ask questions correctly","body":"hi shaine please read <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">this</a>  on how to ask questions correctly"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1631631820,"post_id":69180074,"comment_id":122272117,"body_markdown":"Can you tell us **what exactly** you are trying to do and the **exact** command that you are execute to do it? It seems like you are passing a directory name to `javac` which is not one of the valid parameters to pass.","body":"Can you tell us <b>what exactly</b> you are trying to do and the <b>exact</b> command that you are execute to do it? It seems like you are passing a directory name to <code>javac</code> which is not one of the valid parameters to pass."},{"owner":{"account_id":22749655,"reputation":1,"user_id":16909995,"display_name":"Shaine Marie"},"score":0,"creation_date":1631631947,"post_id":69180074,"comment_id":122272180,"body_markdown":"Hello, I just edited my question. sorry about that.","body":"Hello, I just edited my question. sorry about that."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1631925173,"post_id":69180074,"comment_id":122363067,"body_markdown":"You need to edit your question add the *exact* command that you execute to run your program, as @JoachimSauer requested.","body":"You need to edit your question add the <i>exact</i> command that you execute to run your program, as @JoachimSauer requested."},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1646251059,"post_id":69180074,"comment_id":126079648,"body_markdown":"Check out the accepted answer in this post. Maybe you will find a solution there. \nhttps://stackoverflow.com/questions/34014902/how-can-i-run-a-java-program-in-atom-editor","body":"Check out the accepted answer in this post. Maybe you will find a solution there.  <a href=\"https://stackoverflow.com/questions/34014902/how-can-i-run-a-java-program-in-atom-editor\" title=\"how can i run a java program in atom editor\">stackoverflow.com/questions/34014902/&hellip;</a>"}],"owner":{"account_id":22749655,"reputation":1,"user_id":16909995,"display_name":"Shaine Marie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646248957,"creation_date":1631631228,"question_id":69180074,"body_markdown":"Im using the package in atom called script. and I&#39;m having trouble running my test code.\r\n\r\n```\r\nclass MyClass {\r\n    public static void main(String[ ]args) {\r\n        System.out.println(&quot;Hello World&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nerror: invalid flag: G:\\atom.projects\\test\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\n\r\n```\r\n\r\nits keep saying this. what should I do? ","title":"Frustrated with Atom.io invalid flag","body":"<p>Im using the package in atom called script. and I'm having trouble running my test code.</p>\n<pre><code>class MyClass {\n    public static void main(String[ ]args) {\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>error: invalid flag: G:\\atom.projects\\test\nUsage: javac &lt;options&gt; &lt;source files&gt;\n\n</code></pre>\n<p>its keep saying this. what should I do?</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":4280686,"reputation":636,"user_id":3500157,"accept_rate":75,"display_name":"Alexander B."},"score":0,"creation_date":1646246318,"post_id":71327560,"comment_id":126078054,"body_markdown":"Do you mind posting complete working example?","body":"Do you mind posting complete working example?"},{"owner":{"account_id":363391,"reputation":219556,"user_id":707111,"accept_rate":100,"display_name":"Ry-"},"score":0,"creation_date":1646246931,"post_id":71327560,"comment_id":126078270,"body_markdown":"In your `if (comparator.compare(x, n.element) == 0)`, you log “is null” and return null, but “do nothing” means “return an unchanged tree”, not “return an *empty* tree”.","body":"In your <code>if (comparator.compare(x, n.element) == 0)</code>, you log “is null” and return null, but “do nothing” means “return an unchanged tree”, not “return an <i>empty</i> tree”."},{"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"score":0,"creation_date":1646247571,"post_id":71327560,"comment_id":126078481,"body_markdown":"@Ry- Recommend a way to change it so it &quot;does nothing&quot; instead, and don&#39;t increase size.","body":"@Ry- Recommend a way to change it so it &quot;does nothing&quot; instead, and don&#39;t increase size."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1646298725,"post_id":71327560,"comment_id":126090182,"body_markdown":"It seems your question includes the solution? What do you expect as an answer?","body":"It seems your question includes the solution? What do you expect as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646247060,"creation_date":1646247060,"answer_id":71327781,"question_id":71327560,"body_markdown":"The code `n.left = searchAdd(n.left, x);` (and the same for `right`) will change the value in `n.left` even if it is already pointing to an existing valid sub tree. That way you will replace any sub tree you previously have saved there with a new created leaf. That&#39;s why entire child trees &quot;disappear&quot;.","title":"If duplicate in BinarySearchTree is found entire child tree disappears?","body":"<p>The code <code>n.left = searchAdd(n.left, x);</code> (and the same for <code>right</code>) will change the value in <code>n.left</code> even if it is already pointing to an existing valid sub tree. That way you will replace any sub tree you previously have saved there with a new created leaf. That's why entire child trees &quot;disappear&quot;.</p>\n"}],"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1646377194,"answer_count":1,"score":-4,"last_activity_date":1646248654,"creation_date":1646245923,"question_id":71327560,"body_markdown":"[This question does NOT answer my question so don&#39;t mark it duplicate][1]\r\n\r\n\r\nWhen adding in this order:\r\n\r\n```\r\n  \t\to.add(10);\r\n  \t\to.add(5);\r\n  \t\to.add(6);\r\n  \t\to.add(15);\r\n  \t\to.add(13);\r\n  \t\to.add(30);\r\n  \t\to.add(50);\r\n  \t\t\r\n  \t\to.add(15);\r\n```\r\n\r\nI get this output:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd in console:\r\n```\r\nis null 15\r\nnot null 15\r\n```\r\nThe size of the tree will still be 8. If they call add but a duplicate exist do nothing. There&#39;s obviously something in my searchAdd or add where I don&#39;t achieve this. Anyone can see where?\r\nI don&#39;t understand how the return can be null and not null at the same time...\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\n\r\npublic class BinarySearchTree&lt;E&gt; implements Comparable&lt;E&gt; {\r\n\tBinaryNode&lt;E&gt; root; \r\n\tint size;\r\n\tprivate Comparator&lt;E&gt; comparator;\r\n\tprivate ArrayList&lt;E&gt; sorted;\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tBinarySearchTree&lt;Integer&gt; o = new BinarySearchTree&lt;Integer&gt;();\r\n\r\n\t\to.add(10);\r\n\t\to.add(5);\r\n\t\to.add(6);\r\n\t\to.add(15);\r\n\t\to.add(13);\r\n\t\to.add(30);\r\n\t\to.add(50);\r\n\r\n\t\to.add(15);\r\n\r\n\t\to.printTree();\r\n\t\t//BSTVisualizer t = new BSTVisualizer(&quot;Viz&quot;, 300, 300);\r\n\t\t//t.drawTree(o);\r\n\t\tSystem.out.println(o.size);\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Constructs an empty binary search tree.\r\n\t */\r\n\tpublic BinarySearchTree() {\r\n\t\troot = null;\r\n\t\tsize = 0;\r\n\t\tcomparator = (e1, e2) -&gt; ((Comparable&lt;E&gt;) e1).compareTo(e2);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int compareTo(Object o) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Inserts the specified element in the tree if no duplicate exists.\r\n\t * \r\n\t * @param x element to be inserted\r\n\t * @return true if the the element was inserted\r\n\t */\r\n\tpublic boolean add(E x) {\r\n\t\tif (root == null) {\r\n\t\t\troot = new BinaryNode&lt;E&gt;(x);\r\n\t\t\tsize++;\r\n\t\t\treturn true;\r\n\t\t} else if (searchAdd(root, x) != null) {\r\n\t\t\tSystem.out.println(&quot;not null &quot; + x);\r\n\t\t\tsize++;\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate BinaryNode&lt;E&gt; searchAdd(BinaryNode&lt;E&gt; n, E x) {\r\n\t\tif (n == null) {\r\n\t\t\treturn new BinaryNode&lt;E&gt;(x);\r\n\t\t} else {\r\n\t\t\tif (comparator.compare(x, n.element) == 0) {\r\n\t\t\t\tSystem.out.println(&quot;is null &quot; + x);\r\n\t\t\t\treturn null;\r\n\t\t\t}else if (comparator.compare(x, n.element) &lt; 0) {\r\n\t\t\t\tn.left = searchAdd(n.left, x);\r\n\t\t\t\treturn n;\r\n\t\t\t} else {\r\n\t\t\t\tn.right = searchAdd(n.right, x);\r\n\t\t\t\treturn n;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic int size() {\r\n\t\treturn size;\r\n\t}\r\n\r\n\t/**\r\n\t * Print tree contents in inorder.\r\n\t */\r\n\tpublic void printTree() {\r\n\t\tprintTree(root);\r\n\t}\r\n\r\n\tprivate void printTree(BinaryNode&lt;E&gt; n) {\r\n\t\tif (n != null) {\r\n\t\t\tprintTree(n.left);\r\n\t\t\tSystem.out.println(n.element);\r\n\t\t\tprintTree(n.right);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class BinaryNode&lt;E&gt; {\r\n\t\tE element;\r\n\t\tBinaryNode&lt;E&gt; left;\r\n\t\tBinaryNode&lt;E&gt; right;\r\n\r\n\t\tprivate BinaryNode(E element) {\r\n\t\t\tthis.element = element;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nBad solution but solves it nonetheless.\r\nIf size has increased then add returns true.\r\n\r\n```\r\n\tpublic boolean add(E x) {\r\n\t\tint temp = size;\r\n\t\tif (root == null) {\r\n\t\t\troot = new BinaryNode&lt;E&gt;(x);\r\n\t\t\tsize++;\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tsearchAdd(root, x);\r\n\t\t\tif(temp &lt; size) {\r\n\t\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate BinaryNode&lt;E&gt; searchAdd(BinaryNode&lt;E&gt; n, E x) {\r\n\t\tif (n == null) {\r\n\t\t\tsize++;\r\n\t\t\treturn new BinaryNode&lt;E&gt;(x);\r\n\t\t} else {\r\n\t\t\tif (comparator.compare(x, n.element) == 0) {\r\n\t\t\t\treturn n;\r\n\t\t\t}else if (comparator.compare(x, n.element) &lt; 0) {\r\n\t\t\t\tn.left = searchAdd(n.left, x);\r\n\t\t\t\treturn n;\r\n\t\t\t} else {\r\n\t\t\t\tn.right = searchAdd(n.right, x);\r\n\t\t\t\treturn n;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/34258971/checking-for-duplicate-values-in-binarysearchtree\r\n  [2]: https://i.stack.imgur.com/KBAVA.png","title":"If duplicate in BinarySearchTree is found entire child tree disappears?","body":"<p><a href=\"https://stackoverflow.com/questions/34258971/checking-for-duplicate-values-in-binarysearchtree\">This question does NOT answer my question so don't mark it duplicate</a></p>\n<p>When adding in this order:</p>\n<pre><code>        o.add(10);\n        o.add(5);\n        o.add(6);\n        o.add(15);\n        o.add(13);\n        o.add(30);\n        o.add(50);\n        \n        o.add(15);\n</code></pre>\n<p>I get this output:</p>\n<p><a href=\"https://i.stack.imgur.com/KBAVA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KBAVA.png\" alt=\"enter image description here\" /></a></p>\n<p>And in console:</p>\n<pre><code>is null 15\nnot null 15\n</code></pre>\n<p>The size of the tree will still be 8. If they call add but a duplicate exist do nothing. There's obviously something in my searchAdd or add where I don't achieve this. Anyone can see where?\nI don't understand how the return can be null and not null at the same time...</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\n\npublic class BinarySearchTree&lt;E&gt; implements Comparable&lt;E&gt; {\n    BinaryNode&lt;E&gt; root; \n    int size;\n    private Comparator&lt;E&gt; comparator;\n    private ArrayList&lt;E&gt; sorted;\n\n    public static void main(String args[]) {\n        BinarySearchTree&lt;Integer&gt; o = new BinarySearchTree&lt;Integer&gt;();\n\n        o.add(10);\n        o.add(5);\n        o.add(6);\n        o.add(15);\n        o.add(13);\n        o.add(30);\n        o.add(50);\n\n        o.add(15);\n\n        o.printTree();\n        //BSTVisualizer t = new BSTVisualizer(&quot;Viz&quot;, 300, 300);\n        //t.drawTree(o);\n        System.out.println(o.size);\n\n    }\n\n    /**\n     * Constructs an empty binary search tree.\n     */\n    public BinarySearchTree() {\n        root = null;\n        size = 0;\n        comparator = (e1, e2) -&gt; ((Comparable&lt;E&gt;) e1).compareTo(e2);\n    }\n\n    @Override\n    public int compareTo(Object o) {\n        return 0;\n    }\n\n    /**\n     * Inserts the specified element in the tree if no duplicate exists.\n     * \n     * @param x element to be inserted\n     * @return true if the the element was inserted\n     */\n    public boolean add(E x) {\n        if (root == null) {\n            root = new BinaryNode&lt;E&gt;(x);\n            size++;\n            return true;\n        } else if (searchAdd(root, x) != null) {\n            System.out.println(&quot;not null &quot; + x);\n            size++;\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    private BinaryNode&lt;E&gt; searchAdd(BinaryNode&lt;E&gt; n, E x) {\n        if (n == null) {\n            return new BinaryNode&lt;E&gt;(x);\n        } else {\n            if (comparator.compare(x, n.element) == 0) {\n                System.out.println(&quot;is null &quot; + x);\n                return null;\n            }else if (comparator.compare(x, n.element) &lt; 0) {\n                n.left = searchAdd(n.left, x);\n                return n;\n            } else {\n                n.right = searchAdd(n.right, x);\n                return n;\n            }\n        }\n    }\n\n    public int size() {\n        return size;\n    }\n\n    /**\n     * Print tree contents in inorder.\n     */\n    public void printTree() {\n        printTree(root);\n    }\n\n    private void printTree(BinaryNode&lt;E&gt; n) {\n        if (n != null) {\n            printTree(n.left);\n            System.out.println(n.element);\n            printTree(n.right);\n        }\n    }\n\n    static class BinaryNode&lt;E&gt; {\n        E element;\n        BinaryNode&lt;E&gt; left;\n        BinaryNode&lt;E&gt; right;\n\n        private BinaryNode(E element) {\n            this.element = element;\n        }\n    }\n\n}\n\n</code></pre>\n<p>Bad solution but solves it nonetheless.\nIf size has increased then add returns true.</p>\n<pre><code>    public boolean add(E x) {\n        int temp = size;\n        if (root == null) {\n            root = new BinaryNode&lt;E&gt;(x);\n            size++;\n            return true;\n        } else {\n            searchAdd(root, x);\n            if(temp &lt; size) {\n                return true;\n            }else {\n                return false;\n            }\n        }\n    }\n\n    private BinaryNode&lt;E&gt; searchAdd(BinaryNode&lt;E&gt; n, E x) {\n        if (n == null) {\n            size++;\n            return new BinaryNode&lt;E&gt;(x);\n        } else {\n            if (comparator.compare(x, n.element) == 0) {\n                return n;\n            }else if (comparator.compare(x, n.element) &lt; 0) {\n                n.left = searchAdd(n.left, x);\n                return n;\n            } else {\n                n.right = searchAdd(n.right, x);\n                return n;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","junit","mocking","spy"],"comments":[{"owner":{"account_id":450459,"reputation":817,"user_id":845785,"accept_rate":42,"display_name":"Luciano Borges"},"score":0,"creation_date":1646247597,"post_id":71327855,"comment_id":126078494,"body_markdown":"I already tried doReturn(x).when(agetB()).getC() without success.","body":"I already tried doReturn(x).when(agetB()).getC() without success."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646248626,"creation_date":1646248626,"answer_id":71328066,"question_id":71327855,"body_markdown":"`a` may be a spy, but the result of its `getB()` method isn&#39;t. You&#39;ll need to set that up.\r\n\r\nSomething like this should work to get `getB()` to return a spy:\r\n\r\n    doAnswer(i -&gt; spy(i.callRealMethod())).when(a).getB();\r\n\r\nThat returns a different spy each time `getB()` is called, so if that method always returns the same instance, you can cache it:\r\n\r\n    B b = spy(a.getB());\r\n    doReturn(b).when(a).getB();\r\n\r\nYou can put all of this in an `@BeforeEach` method so that you don&#39;t have to repeat this for every test.","title":"How to spy chained functions?","body":"<p><code>a</code> may be a spy, but the result of its <code>getB()</code> method isn't. You'll need to set that up.</p>\n<p>Something like this should work to get <code>getB()</code> to return a spy:</p>\n<pre><code>doAnswer(i -&gt; spy(i.callRealMethod())).when(a).getB();\n</code></pre>\n<p>That returns a different spy each time <code>getB()</code> is called, so if that method always returns the same instance, you can cache it:</p>\n<pre><code>B b = spy(a.getB());\ndoReturn(b).when(a).getB();\n</code></pre>\n<p>You can put all of this in an <code>@BeforeEach</code> method so that you don't have to repeat this for every test.</p>\n"}],"owner":{"account_id":450459,"reputation":817,"user_id":845785,"accept_rate":42,"display_name":"Luciano Borges"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646248626,"creation_date":1646247483,"question_id":71327855,"body_markdown":"I have a structure like the code below:\r\n\r\n    public class MyClass {\r\n       private A myA;\r\n\r\n       public callSomeMethod() {}\r\n    }\r\n\r\n    public class A {\r\n       private B myB;\r\n       // getter and setter\r\n    }\r\n    \r\n    public class B {\r\n      private BigDecimal C;\r\n      // getter and setter\r\n    }\r\n\r\nAnd in my tests I have something like that:\r\n\r\n    public class MyClassTest {\r\n    \r\n    @InjectMocks\r\n    private MyClass underTest = new MyClass ();\r\n    \r\n    @Spy\r\n    private A a;\r\n    \r\n    @Test\r\n    public void shouldPass() {\r\n    \r\n    X x = new X();\r\n    x.setSomething(10);\r\n    \r\n    // given\r\n    stubData();\r\n    doReturn(x).when(a).getB().getC(); // &lt;-- Here I got the error\r\n    \r\n    // when\r\n    MyClass myc = underTest.callSomeMethod();\r\n    \r\n    // then\r\n    assertEquals(myc.getC, 10);\r\n    }\r\n    \r\n    }\r\n\r\nHow to use doReturn to &quot;mock&quot; the value when I a chained methods (in the example: getC) is called?","title":"How to spy chained functions?","body":"<p>I have a structure like the code below:</p>\n<pre><code>public class MyClass {\n   private A myA;\n\n   public callSomeMethod() {}\n}\n\npublic class A {\n   private B myB;\n   // getter and setter\n}\n\npublic class B {\n  private BigDecimal C;\n  // getter and setter\n}\n</code></pre>\n<p>And in my tests I have something like that:</p>\n<pre><code>public class MyClassTest {\n\n@InjectMocks\nprivate MyClass underTest = new MyClass ();\n\n@Spy\nprivate A a;\n\n@Test\npublic void shouldPass() {\n\nX x = new X();\nx.setSomething(10);\n\n// given\nstubData();\ndoReturn(x).when(a).getB().getC(); // &lt;-- Here I got the error\n\n// when\nMyClass myc = underTest.callSomeMethod();\n\n// then\nassertEquals(myc.getC, 10);\n}\n\n}\n</code></pre>\n<p>How to use doReturn to &quot;mock&quot; the value when I a chained methods (in the example: getC) is called?</p>\n"},{"tags":["java","point","angle"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":0,"creation_date":1646248264,"post_id":71327954,"comment_id":126078717,"body_markdown":"[`atan2`](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#atan2-double-double-) is better for this calculation because it handles the quadrant normalization for you.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#atan2-double-double-\" rel=\"nofollow noreferrer\"><code>atan2</code></a> is better for this calculation because it handles the quadrant normalization for you."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1646250041,"post_id":71327954,"comment_id":126079322,"body_markdown":"_&quot;Angle between two points&quot;_ - that&#39;s technically impossible.  What you actually want is &quot;the slope (relative to the axes) of a line defined by two points&quot;.","body":"<i>&quot;Angle between two points&quot;</i> - that&#39;s technically impossible.  What you actually want is &quot;the slope (relative to the axes) of a line defined by two points&quot;."}],"owner":{"account_id":22808567,"reputation":1,"user_id":16960270,"display_name":"Dillian Botello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646249038,"answer_count":0,"score":0,"last_activity_date":1646248084,"creation_date":1646248084,"question_id":71327954,"body_markdown":"I have a method and am attempting to find the angle between two points in radians.\r\n\r\n\tpublic double angleTo(Body other)\r\n\t{\r\n\t\tdouble angle = Math.atan(Math.abs(this.y - other.y) / Math.abs(this.x - other.x));\r\n\t\twhile (angle &lt; 0) {angle += Math.PI;}\r\n\t\twhile (angle &gt; Math.PI) {angle -= Math.PI;}\r\n\t\treturn angle;\r\n\t}\r\n\r\nHowever when I call this method for points (0, 0) and (10, 10) I get 20.7758096196980899, which shouldn&#39;t be possible.","title":"How to Find Angle Between Two Points","body":"<p>I have a method and am attempting to find the angle between two points in radians.</p>\n<pre><code>public double angleTo(Body other)\n{\n    double angle = Math.atan(Math.abs(this.y - other.y) / Math.abs(this.x - other.x));\n    while (angle &lt; 0) {angle += Math.PI;}\n    while (angle &gt; Math.PI) {angle -= Math.PI;}\n    return angle;\n}\n</code></pre>\n<p>However when I call this method for points (0, 0) and (10, 10) I get 20.7758096196980899, which shouldn't be possible.</p>\n"},{"tags":["java","swing","layout","alignment","jsplitpane"],"answers":[{"tags":[],"owner":{"account_id":7730201,"reputation":2017,"user_id":5853611,"display_name":"DobromirM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555001497,"creation_date":1555001497,"answer_id":55637594,"question_id":55635801,"body_markdown":"You need to align all of your other elements to the left as well.\r\n\r\n    bgSwitches.setAlignmentX(Component.LEFT_ALIGNMENT);\r\n    topLevel.setAlignmentX(Component.LEFT_ALIGNMENT);\r\n    buttonPanel.setAlignmentX(Component.LEFT_ALIGNMENT);\r\n\r\nYou can also add `posPanel.setResizeWeight(VALUE BETWEEN 0 AND 1);` to specify what percent of the space the `JSplitPane` should occupy and it will resize with your window.","title":"JSplitPane ignoring alignment","body":"<p>You need to align all of your other elements to the left as well.</p>\n\n<pre><code>bgSwitches.setAlignmentX(Component.LEFT_ALIGNMENT);\ntopLevel.setAlignmentX(Component.LEFT_ALIGNMENT);\nbuttonPanel.setAlignmentX(Component.LEFT_ALIGNMENT);\n</code></pre>\n\n<p>You can also add <code>posPanel.setResizeWeight(VALUE BETWEEN 0 AND 1);</code> to specify what percent of the space the <code>JSplitPane</code> should occupy and it will resize with your window.</p>\n"}],"owner":{"account_id":10404757,"reputation":482,"user_id":7672005,"accept_rate":85,"display_name":"Zyzyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55637594,"answer_count":1,"score":0,"last_activity_date":1646247928,"creation_date":1554995361,"question_id":55635801,"body_markdown":"Hello StackExchange community,\r\n\r\nI&#39;m at my wits end about this JSplitPane I&#39;m trying to put into my frame, it is sitting on the right side of my frame instead of filling it up or atleast sitting on the left.\r\nIf anyone could help me with this issue I&#39;d be very thankful.\r\n\r\n**See below an image of my problem and the code**\r\n\r\nThe problem area is the pane with &quot;tab1&quot; and &quot;tab2&quot;, the divider and the pane on the right side of that divider:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve tried setting `setAlignmentX(Component.LEFT_ALIGNMENT)` on all the individual parts of the JSplitPane. I&#39;ve also tried making a JPanel to hold it and aligning that. All to no avail.\r\n\r\nFurthermore, existing information I&#39;ve been able to find hasn&#39;t been relevant, mostly people discussing how to align the contents of the JSplitPane.\r\n\r\nThe code below is all that is needed to make this frame, if any of you need it to help me out feel free.\r\n\r\n\r\n    package test;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JSplitPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.ListSelectionModel;\r\n\r\n    public class FrameMaker {\r\n    \r\n        public int x = 0;\r\n        private ArrayList&lt;String&gt; mpLabels;\r\n        private JFrame theFrame;\r\n\r\n        public void MakeFrame() {\r\n    \ttheFrame = new JFrame(&quot;title&quot;);\r\n    \ttheFrame.getContentPane().setLayout(new BoxLayout(theFrame.getContentPane(), BoxLayout.Y_AXIS));\r\n    \r\n    \tmpLabels = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\r\n    \t//label1\r\n    \tJPanel bgSwitches = new JPanel();\r\n    \tJLabel calcsLabel = new JLabel(&quot;top label, broadened with lines to exaggerate problem-------------------------------------------&quot;);\t\r\n    \tbgSwitches.add(calcsLabel);\r\n    \r\n    \t\r\n    \t//label2\r\n    \tJPanel topLevel = new JPanel();\r\n    \tJLabel textinfo = new JLabel(&quot;label below that&quot;);\r\n    \ttopLevel.add(textinfo);\r\n    \r\n    \t\r\n    \t//splitpane tabs\r\n    \tmpLabels.add(&quot;tab1&quot;);\r\n    \tmpLabels.add(&quot;tab2&quot;);\t\t\t\r\n    \r\n    \tString[] mpLabelsAr = new String[mpLabels.size()];\r\n    \tJList&lt;String&gt; posL = new JList&lt;String&gt;(mpLabels.toArray(mpLabels.toArray(mpLabelsAr)));\r\n        posL.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n        \r\n        //panel inside the right splitpane pane, this is needed for something later.\r\n    \tJPanel RPanel = new JPanel();\r\n    \tRPanel.setLayout(new BoxLayout(RPanel, BoxLayout.Y_AXIS));\r\n    \t\r\n    \tJScrollPane scrollPos = new JScrollPane(posL);\r\n    \tJScrollPane scrollROI = new JScrollPane(RPanel);\r\n    \t\t\r\n    \tJSplitPane posPanel = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,scrollPos,scrollROI);\r\n    \tposPanel.setOneTouchExpandable(false);\r\n    \tposPanel.setDividerLocation(75);\r\n    \r\n    \t\r\n    \t//label and textfield\r\n    \tJLabel msLabel = new JLabel(&quot;another label&quot;);\r\n    \tJTextField msField = new JTextField(&quot;textfield&quot;);\r\n    \tJPanel buttonPanel = new JPanel();\r\n    \tbuttonPanel.add(msLabel);\r\n    \tbuttonPanel.add(msField);\r\n    \t\r\n    \tbgSwitches.setBackground(new Color(0,0,255));\r\n    \ttheFrame.add(bgSwitches);\r\n    \t\r\n    \ttopLevel.setBackground(new Color(0,255,0));\r\n    \ttheFrame.add(topLevel);\r\n    \t\r\n    \tposPanel.setAlignmentX(Component.LEFT_ALIGNMENT);\r\n    \tposPanel.setBackground(new Color(0,255,255));\r\n    \ttheFrame.add(posPanel);\r\n    \t\r\n    \tbuttonPanel.setBackground(new Color(255,0,0));\r\n    \ttheFrame.add(buttonPanel);\r\n    \r\n    \ttheFrame.pack();\r\n    \ttheFrame.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oq8sS.png","title":"JSplitPane ignoring alignment","body":"<p>Hello StackExchange community,</p>\n\n<p>I'm at my wits end about this JSplitPane I'm trying to put into my frame, it is sitting on the right side of my frame instead of filling it up or atleast sitting on the left.\nIf anyone could help me with this issue I'd be very thankful.</p>\n\n<p><strong>See below an image of my problem and the code</strong></p>\n\n<p>The problem area is the pane with \"tab1\" and \"tab2\", the divider and the pane on the right side of that divider:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Oq8sS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oq8sS.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've tried setting <code>setAlignmentX(Component.LEFT_ALIGNMENT)</code> on all the individual parts of the JSplitPane. I've also tried making a JPanel to hold it and aligning that. All to no avail.</p>\n\n<p>Furthermore, existing information I've been able to find hasn't been relevant, mostly people discussing how to align the contents of the JSplitPane.</p>\n\n<p>The code below is all that is needed to make this frame, if any of you need it to help me out feel free.</p>\n\n<pre><code>package test;\n\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.util.ArrayList;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JSplitPane;\nimport javax.swing.JTextField;\nimport javax.swing.ListSelectionModel;\n\npublic class FrameMaker {\n\n    public int x = 0;\n    private ArrayList&lt;String&gt; mpLabels;\n    private JFrame theFrame;\n\n    public void MakeFrame() {\n    theFrame = new JFrame(\"title\");\n    theFrame.getContentPane().setLayout(new BoxLayout(theFrame.getContentPane(), BoxLayout.Y_AXIS));\n\n    mpLabels = new ArrayList&lt;String&gt;();\n\n\n    //label1\n    JPanel bgSwitches = new JPanel();\n    JLabel calcsLabel = new JLabel(\"top label, broadened with lines to exaggerate problem-------------------------------------------\"); \n    bgSwitches.add(calcsLabel);\n\n\n    //label2\n    JPanel topLevel = new JPanel();\n    JLabel textinfo = new JLabel(\"label below that\");\n    topLevel.add(textinfo);\n\n\n    //splitpane tabs\n    mpLabels.add(\"tab1\");\n    mpLabels.add(\"tab2\");           \n\n    String[] mpLabelsAr = new String[mpLabels.size()];\n    JList&lt;String&gt; posL = new JList&lt;String&gt;(mpLabels.toArray(mpLabels.toArray(mpLabelsAr)));\n    posL.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n\n    //panel inside the right splitpane pane, this is needed for something later.\n    JPanel RPanel = new JPanel();\n    RPanel.setLayout(new BoxLayout(RPanel, BoxLayout.Y_AXIS));\n\n    JScrollPane scrollPos = new JScrollPane(posL);\n    JScrollPane scrollROI = new JScrollPane(RPanel);\n\n    JSplitPane posPanel = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,scrollPos,scrollROI);\n    posPanel.setOneTouchExpandable(false);\n    posPanel.setDividerLocation(75);\n\n\n    //label and textfield\n    JLabel msLabel = new JLabel(\"another label\");\n    JTextField msField = new JTextField(\"textfield\");\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.add(msLabel);\n    buttonPanel.add(msField);\n\n    bgSwitches.setBackground(new Color(0,0,255));\n    theFrame.add(bgSwitches);\n\n    topLevel.setBackground(new Color(0,255,0));\n    theFrame.add(topLevel);\n\n    posPanel.setAlignmentX(Component.LEFT_ALIGNMENT);\n    posPanel.setBackground(new Color(0,255,255));\n    theFrame.add(posPanel);\n\n    buttonPanel.setBackground(new Color(255,0,0));\n    theFrame.add(buttonPanel);\n\n    theFrame.pack();\n    theFrame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","awt","jeditorpane","jsplitpane"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1646245698,"post_id":71327219,"comment_id":126077849,"body_markdown":"maybe setting/changing the minimum size (width) of the `JEditorPane` (but will disable its calculation by the components UI) - This behavior is documented in the `JSplitPane` class: &quot;*When the user is resizing the Components the minimum size of the Components is used to determine the maximum/minimum position the Components can be set to. ... To alter the minimum size of a JComponent, see JComponent.setMinimumSize(java.awt.Dimension).*&quot;","body":"maybe setting/changing the minimum size (width) of the <code>JEditorPane</code> (but will disable its calculation by the components UI) - This behavior is documented in the <code>JSplitPane</code> class: &quot;<i>When the user is resizing the Components the minimum size of the Components is used to determine the maximum/minimum position the Components can be set to. ... To alter the minimum size of a JComponent, see JComponent.setMinimumSize(java.awt.Dimension).</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1646246281,"post_id":71327219,"comment_id":126078041,"body_markdown":"on the other side, if no minimum size is set, the available size from the split pane is used - consequently the divider will never be allowed to *shrink* the editor pane if no minimum size is set","body":"on the other side, if no minimum size is set, the available size from the split pane is used - consequently the divider will never be allowed to <i>shrink</i> the editor pane if no minimum size is set"},{"owner":{"account_id":17573681,"reputation":91,"user_id":12748921,"display_name":"Jonas"},"score":0,"creation_date":1646246302,"post_id":71327219,"comment_id":126078051,"body_markdown":"thanks, I missed that. You can post this comment as an answer, then I can accept it","body":"thanks, I missed that. You can post this comment as an answer, then I can accept it"}],"owner":{"account_id":17573681,"reputation":91,"user_id":12748921,"display_name":"Jonas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646247848,"creation_date":1646244081,"question_id":71327219,"body_markdown":"In my application I&#39;m using a JSplitPane to devide the GUI into two sides. Every side will contain some components, one of them being a JEditorPane. The components are placed horizontally next to each other. All components should have a fixed size exept for the JEditorPanel. This should take all the available horizontal space. So, if the divider of the splitPane is moved the JEditorPane should change its width. My current implementation works fine if the divider is moved in a direction where the with of the JSplitPane increases. However, it is not possible to move the divider in the other direction. Below is a minimalistic example of my problem. In the example I&#39;m using a GridbagLayout. However, this problem remains also for other layout manager. Also interesting is that this problem seems to be unique for the JEditorPane. The implementation works fine when the JEditorPane is replaced, for example by a JButton.\r\nHere is my code:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            JFrame f = new JFrame();\r\n            f.setSize(500, 500);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JPanel panelRight = new JPanel();\r\n            JPanel panelLeft = new JPanel();\r\n    \r\n            panelRight.setLayout(new GridBagLayout());\r\n            GridBagConstraints c = new GridBagConstraints();\r\n    \r\n            JButton b = new JButton(&quot;button&quot;);\r\n            c.gridx = 1;\r\n            c.gridy = 0;\r\n            panelRight.add(b, c);\r\n    \r\n            JEditorPane ep = new JEditorPane();\r\n            c.fill = GridBagConstraints.HORIZONTAL;\r\n            c.gridx = 0;\r\n            c.gridy = 0;\r\n            c.weightx = 1;\r\n            panelRight.add(ep, c);\r\n    \r\n            JSplitPane sp = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, panelLeft, panelRight);\r\n            sp.setResizeWeight(0.5);\r\n    \r\n            f.add(sp);\r\n            f.setVisible(true);\r\n        }\r\n    }\r\n\r\nDoes anyone have an idea why this is happending and/or how to fix it?","title":"JEditorPane is blocking the divider of a JSplitPane","body":"<p>In my application I'm using a JSplitPane to devide the GUI into two sides. Every side will contain some components, one of them being a JEditorPane. The components are placed horizontally next to each other. All components should have a fixed size exept for the JEditorPanel. This should take all the available horizontal space. So, if the divider of the splitPane is moved the JEditorPane should change its width. My current implementation works fine if the divider is moved in a direction where the with of the JSplitPane increases. However, it is not possible to move the divider in the other direction. Below is a minimalistic example of my problem. In the example I'm using a GridbagLayout. However, this problem remains also for other layout manager. Also interesting is that this problem seems to be unique for the JEditorPane. The implementation works fine when the JEditorPane is replaced, for example by a JButton.\nHere is my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\n\npublic class Test {\n    public static void main(String[] args) {\n        JFrame f = new JFrame();\n        f.setSize(500, 500);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel panelRight = new JPanel();\n        JPanel panelLeft = new JPanel();\n\n        panelRight.setLayout(new GridBagLayout());\n        GridBagConstraints c = new GridBagConstraints();\n\n        JButton b = new JButton(&quot;button&quot;);\n        c.gridx = 1;\n        c.gridy = 0;\n        panelRight.add(b, c);\n\n        JEditorPane ep = new JEditorPane();\n        c.fill = GridBagConstraints.HORIZONTAL;\n        c.gridx = 0;\n        c.gridy = 0;\n        c.weightx = 1;\n        panelRight.add(ep, c);\n\n        JSplitPane sp = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, panelLeft, panelRight);\n        sp.setResizeWeight(0.5);\n\n        f.add(sp);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n<p>Does anyone have an idea why this is happending and/or how to fix it?</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"score":0,"creation_date":1634024290,"post_id":69536693,"comment_id":122908552,"body_markdown":"try using @MockBean on User reference","body":"try using @MockBean on User reference"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634043266,"post_id":69536693,"comment_id":122915804,"body_markdown":"Can you please add the complete test code? Thanks!","body":"Can you please add the complete test code? Thanks!"},{"owner":{"display_name":"user16894459"},"score":0,"creation_date":1634044635,"post_id":69536693,"comment_id":122916450,"body_markdown":"@Jo&#227;oDias added code of &#39;SomeService&#39;, patly updated code","body":"@Jo&#227;oDias added code of &#39;SomeService&#39;, patly updated code"},{"owner":{"account_id":246495,"reputation":10418,"user_id":520684,"accept_rate":73,"display_name":"Daniel Figueroa"},"score":0,"creation_date":1634045126,"post_id":69536693,"comment_id":122916700,"body_markdown":"Please post the stacktrace as well so we can se what is happening.","body":"Please post the stacktrace as well so we can se what is happening."},{"owner":{"account_id":4413602,"reputation":23,"user_id":3595831,"display_name":"user3595831"},"score":0,"creation_date":1646247775,"post_id":69536693,"comment_id":126184674,"body_markdown":"I had a similar problem, when one of my Mocks I was injecting was an implementation in the constructor of InjectMocks. If other people have similar problem try to change implementations to interfaces in the constructor.","body":"I had a similar problem, when one of my Mocks I was injecting was an implementation in the constructor of InjectMocks. If other people have similar problem try to change implementations to interfaces in the constructor."}],"answers":[{"tags":[],"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634024501,"creation_date":1634024501,"answer_id":69536766,"question_id":69536693,"body_markdown":"Use `@MockBean` to create mock objects\r\n\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    \r\n    @MockBean\r\n    private User user;","title":"Can&#39;t pass mock to the inject mock service","body":"<p>Use <code>@MockBean</code> to create mock objects</p>\n<pre><code>import org.springframework.boot.test.mock.mockito.MockBean;\n\n@MockBean\nprivate User user;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634049309,"creation_date":1634045282,"answer_id":69541449,"question_id":69536693,"body_markdown":"Try the following in your test class (you don&#39;t need to initialize `UserService` with a new instance via the constructor, `@InjectMocks` will do that for you):\r\n```java\r\n@Mock\r\nprivate SomeService someService;\r\n\r\n@InjectMocks\r\nprivate UserService userService;\r\n\r\n@BeforeEach\r\nvoid setUp() {\r\n   MockitoAnnotations.openMocks(this);\r\n}\r\n\r\n@Test\r\npublic void testBrokenJunit() {\r\n  userService.logicExecution();\r\n}\r\n```\r\n\r\nIf this does not work because you have a `List` and not a simple `SomeService` you can do the following:\r\n```java\r\n@Mock\r\nprivate SomeService someService;\r\n\r\nprivate UserService userService;\r\n\r\n@BeforeEach\r\nvoid setUp() {\r\n   MockitoAnnotations.openMocks(this);\r\n   userService = new UserService(Collection.singletonList(someService));\r\n}\r\n\r\n@Test\r\npublic void testBrokenJunit() {\r\n  userService.logicExecution();\r\n}\r\n```","title":"Can&#39;t pass mock to the inject mock service","body":"<p>Try the following in your test class (you don't need to initialize <code>UserService</code> with a new instance via the constructor, <code>@InjectMocks</code> will do that for you):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nprivate SomeService someService;\n\n@InjectMocks\nprivate UserService userService;\n\n@BeforeEach\nvoid setUp() {\n   MockitoAnnotations.openMocks(this);\n}\n\n@Test\npublic void testBrokenJunit() {\n  userService.logicExecution();\n}\n</code></pre>\n<p>If this does not work because you have a <code>List</code> and not a simple <code>SomeService</code> you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nprivate SomeService someService;\n\nprivate UserService userService;\n\n@BeforeEach\nvoid setUp() {\n   MockitoAnnotations.openMocks(this);\n   userService = new UserService(Collection.singletonList(someService));\n}\n\n@Test\npublic void testBrokenJunit() {\n  userService.logicExecution();\n}\n</code></pre>\n"}],"owner":{"display_name":"user16894459"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69541449,"answer_count":2,"score":0,"last_activity_date":1646247775,"creation_date":1634024107,"question_id":69536693,"body_markdown":"I have service:\r\n```\r\n@Service\r\nclass UserService {\r\n\r\n   private final Map&lt;AbstractSomeService, CustomEnum&gt; someMap;\r\n\r\n   public UserService(List&lt;AbstractSomeService&gt; someService) {\r\n     someService.forEach(service -&gt; someMap.put(service.getCustomEnum(), service));\r\n\t}\r\n\r\n  public void logicExecution() {\r\n     //code\r\n  }\r\n}\r\n```\r\nWhen i am mocking as below: i am getting NullPointer:\r\n```\r\n@Mock\r\nprivate SomeService someService;  // Service which is extended of AbstractSomeService\r\n\r\n@InjectMocks\r\nprivate UserService userService = new UserService(Collection.singletonList(someService))\r\n\r\n@BeforeEach\r\nvoid setUp() {\r\n   MockitoAnnotations.openMocks(this);\r\n}\r\n\r\n@Test\r\npublic void testBrokenJunit() {\r\n  userService.logicExecution(); // NULL POINTER HERE (\r\n}\r\n```\r\nSomeService:\r\n```\r\n@Service\r\npublic class SomeService extends AbstactSomeService() {\r\n  \r\n  public CustomEnum getCustomEnum() {\r\n      return CustomEnum.BROKEN_JUNIT_TEST;\r\n  }\r\n  //logic here\r\n}\r\n```\r\nStack trace is quite simple:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;getCustomEnum()&quot; because &quot;service&quot; is null\r\n\r\n```\r\nStackTrace without constructor initialization:\r\n```\r\norg.mockito.exceptions.misusing.InjectMocksException: \r\nCannot instantiate @InjectMocks field named &#39;UserService&#39; of type &#39;...&#39;.\r\nYou haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\nHowever the constructor or the initialization block threw an exception : Cannot invoke &quot;java.util.List.forEach(java.util.function.Consumer)&quot; because &quot;someService&quot; is null\r\n\r\nat \r\n\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.List.forEach(java.util.function.Consumer)&quot; because &quot;someService&quot; is null\r\n\tat UserService.&lt;init&gt;\r\n```\r\n\r\nP.S. \r\n\r\nWhen i am using real object of UserService, not a mock everything is ok.\r\n\r\nBut it doesn&#39;t work with @InjectMocks","title":"Can&#39;t pass mock to the inject mock service","body":"<p>I have service:</p>\n<pre><code>@Service\nclass UserService {\n\n   private final Map&lt;AbstractSomeService, CustomEnum&gt; someMap;\n\n   public UserService(List&lt;AbstractSomeService&gt; someService) {\n     someService.forEach(service -&gt; someMap.put(service.getCustomEnum(), service));\n    }\n\n  public void logicExecution() {\n     //code\n  }\n}\n</code></pre>\n<p>When i am mocking as below: i am getting NullPointer:</p>\n<pre><code>@Mock\nprivate SomeService someService;  // Service which is extended of AbstractSomeService\n\n@InjectMocks\nprivate UserService userService = new UserService(Collection.singletonList(someService))\n\n@BeforeEach\nvoid setUp() {\n   MockitoAnnotations.openMocks(this);\n}\n\n@Test\npublic void testBrokenJunit() {\n  userService.logicExecution(); // NULL POINTER HERE (\n}\n</code></pre>\n<p>SomeService:</p>\n<pre><code>@Service\npublic class SomeService extends AbstactSomeService() {\n  \n  public CustomEnum getCustomEnum() {\n      return CustomEnum.BROKEN_JUNIT_TEST;\n  }\n  //logic here\n}\n</code></pre>\n<p>Stack trace is quite simple:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;getCustomEnum()&quot; because &quot;service&quot; is null\n\n</code></pre>\n<p>StackTrace without constructor initialization:</p>\n<pre><code>org.mockito.exceptions.misusing.InjectMocksException: \nCannot instantiate @InjectMocks field named 'UserService' of type '...'.\nYou haven't provided the instance at field declaration so I tried to construct the instance.\nHowever the constructor or the initialization block threw an exception : Cannot invoke &quot;java.util.List.forEach(java.util.function.Consumer)&quot; because &quot;someService&quot; is null\n\nat \n\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.List.forEach(java.util.function.Consumer)&quot; because &quot;someService&quot; is null\n    at UserService.&lt;init&gt;\n</code></pre>\n<p>P.S.</p>\n<p>When i am using real object of UserService, not a mock everything is ok.</p>\n<p>But it doesn't work with @InjectMocks</p>\n"},{"tags":["java","jakarta-ee","jboss","ejb"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1646232051,"post_id":71324450,"comment_id":126072292,"body_markdown":"Whatever you decide to do, it&#39;s going to be difficult and a lot of work... you&#39;re probably using a really old version of Java too.","body":"Whatever you decide to do, it&#39;s going to be difficult and a lot of work... you&#39;re probably using a really old version of Java too."},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":2,"creation_date":1646239673,"post_id":71324450,"comment_id":126075677,"body_markdown":"Recently we moved from JBoss 4.2.3 to Open Liberty. It was the easiest application server to migrate, because it was very flexible. Probably you will need some changes in the descriptors, but overall it should be easy","body":"Recently we moved from JBoss 4.2.3 to Open Liberty. It was the easiest application server to migrate, because it was very flexible. Probably you will need some changes in the descriptors, but overall it should be easy"},{"owner":{"account_id":12380937,"reputation":15,"user_id":9026594,"display_name":"Padem"},"score":0,"creation_date":1646246191,"post_id":71324450,"comment_id":126078001,"body_markdown":"@Jesper It is what I imagine too! And yes, we are stuck with JDK8 yes. Fun times ahead!","body":"@Jesper It is what I imagine too! And yes, we are stuck with JDK8 yes. Fun times ahead!"},{"owner":{"account_id":12380937,"reputation":15,"user_id":9026594,"display_name":"Padem"},"score":0,"creation_date":1646246263,"post_id":71324450,"comment_id":126078027,"body_markdown":"@ThiagoHenriqueHupner Did not have a chance to look into this one yet. I will look it up. Thanks for the suggestion!","body":"@ThiagoHenriqueHupner Did not have a chance to look into this one yet. I will look it up. Thanks for the suggestion!"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1646750334,"post_id":71324450,"comment_id":126197620,"body_markdown":"There are free migration tools that will speed up the migration to Liberty (Transformation Advisor, Migration toolkit for Eclipse, Migration toolkit for binaries that works on ears/wars/jars). Tools scan your apps and tell what you need to change to move.","body":"There are free migration tools that will speed up the migration to Liberty (Transformation Advisor, Migration toolkit for Eclipse, Migration toolkit for binaries that works on ears/wars/jars). Tools scan your apps and tell what you need to change to move."}],"owner":{"account_id":12380937,"reputation":15,"user_id":9026594,"display_name":"Padem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646247730,"creation_date":1646231660,"question_id":71324450,"body_markdown":"The company where I work has its main application deployed and running in JBoss 4.2.3 (ejb2.1 spec). It also uses JBPM 3.x extensively. Each customer has its own server, and the application is accessed through HTTP (front end in Struts2).\r\n\r\nI was tasked to look at what we could do to set foot in the 2020 decade...\r\n\r\nAt first glance, the migration from 4.2.x to JBoss EAP7 seems like it would involve a lot of work (and trial and error from what I gather...). I don&#39;t really see a clear path for the migration, except a few posts mentioning that it may be easier to move from JBoss 4.x to 5, and then move to 7.x from there. \r\n\r\nEven so, I am not 100% we would benefit that much from staying in that ecosystem (most of our knowledge will be obsolete, since configurations, folder structure, annotations, etc. most probably have changed a lot since then), and I am afraid that we may end up wasting a lot of time trying to make it work and end up rewriting most of what we have. I was wondering how you would tackle this in 2022?\r\n\r\nWould you suggest staying with JBoss? Move to another (better?) server technology (where JBPM could also be deployed)? Use this opportunity to rethink the architecture completely (ex.: go from a monolithic app to something a bit more fractured into micro-services, etc.)? \r\n\r\nNote: We will also need to continue supporting currently existing data (customers&#39; JBPM processes will be rolled out to the latest version gradually). For this, I was thinking we could add a REST layer to the 4.x server, that would be used by the new server when appropriate. We could also probably do something like this for most operations (not just JBPM related) I guess, as we gradually integrate/add them to the new tech.? Would that make sense?\r\n\r\nI know it&#39;s hard to give a complete answer without knowing all the details, but I am asking anyway to get a pulse or to have people share their experiences if they had to go through a similar thing. As of now, anything is open. We are trying to see what kind of options we have and how much investment each would require.","title":"Moving from JBoss 4.2.x to ....?","body":"<p>The company where I work has its main application deployed and running in JBoss 4.2.3 (ejb2.1 spec). It also uses JBPM 3.x extensively. Each customer has its own server, and the application is accessed through HTTP (front end in Struts2).</p>\n<p>I was tasked to look at what we could do to set foot in the 2020 decade...</p>\n<p>At first glance, the migration from 4.2.x to JBoss EAP7 seems like it would involve a lot of work (and trial and error from what I gather...). I don't really see a clear path for the migration, except a few posts mentioning that it may be easier to move from JBoss 4.x to 5, and then move to 7.x from there.</p>\n<p>Even so, I am not 100% we would benefit that much from staying in that ecosystem (most of our knowledge will be obsolete, since configurations, folder structure, annotations, etc. most probably have changed a lot since then), and I am afraid that we may end up wasting a lot of time trying to make it work and end up rewriting most of what we have. I was wondering how you would tackle this in 2022?</p>\n<p>Would you suggest staying with JBoss? Move to another (better?) server technology (where JBPM could also be deployed)? Use this opportunity to rethink the architecture completely (ex.: go from a monolithic app to something a bit more fractured into micro-services, etc.)?</p>\n<p>Note: We will also need to continue supporting currently existing data (customers' JBPM processes will be rolled out to the latest version gradually). For this, I was thinking we could add a REST layer to the 4.x server, that would be used by the new server when appropriate. We could also probably do something like this for most operations (not just JBPM related) I guess, as we gradually integrate/add them to the new tech.? Would that make sense?</p>\n<p>I know it's hard to give a complete answer without knowing all the details, but I am asking anyway to get a pulse or to have people share their experiences if they had to go through a similar thing. As of now, anything is open. We are trying to see what kind of options we have and how much investment each would require.</p>\n"},{"tags":["java","spring","spring-boot","drools","rule-engine"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1646248217,"post_id":71327841,"comment_id":126078699,"body_markdown":"Your &quot;loadDroolFile&quot; rpc endpoint doesn&#39;t seem to do any reloading of anything. How do you know your are &quot;able to get refreshed data&quot;? Note that your `droolConfig.getKieFileSystem()` returns the new filesystem, but you simply ignore the returned result -- you never actually apply it to your container.","body":"Your &quot;loadDroolFile&quot; rpc endpoint doesn&#39;t seem to do any reloading of anything. How do you know your are &quot;able to get refreshed data&quot;? Note that your <code>droolConfig.getKieFileSystem()</code> returns the new filesystem, but you simply ignore the returned result -- you never actually apply it to your container."},{"owner":{"account_id":23990872,"reputation":51,"user_id":17977063,"display_name":"Siddhant Bhatia"},"score":0,"creation_date":1646316513,"post_id":71327841,"comment_id":126096726,"body_markdown":"Can you please elaborate how can I apply to my container I am struggling with this part","body":"Can you please elaborate how can I apply to my container I am struggling with this part"}],"owner":{"account_id":23990872,"reputation":51,"user_id":17977063,"display_name":"Siddhant Bhatia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1646247389,"creation_date":1646247389,"question_id":71327841,"body_markdown":"I am trying to read my excel file using drool I am able to successfully read the file from s3 but the problem comes when I make changes to that file and replace the existing file with new file my rule engine still reads old file values can anyone tell what can be done to resolve this issue\r\n\r\nDto\r\n\r\n    package com.example.demo;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    import org.springframework.cloud.context.config.annotation.RefreshScope;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Component\r\n    @RefreshScope\r\n    public class DataDTO {\r\n        String firstName;\r\n        String lastName;\r\n    }\r\n\r\n\r\nDrool Config\r\n\r\n \r\n\r\n       package com.example.demo.Config;\r\n     import lombok.extern.slf4j.Slf4j;\r\n     import org.drools.decisiontable.DecisionTableProviderImpl;\r\n     import org.kie.api.KieServices;\r\n     import org.kie.api.builder.*;\r\n     import org.kie.api.io.Resource;\r\n     import org.kie.api.runtime.KieContainer;\r\n     import org.kie.api.runtime.KieSession;\r\n     import org.kie.internal.io.ResourceFactory;\r\n     import org.springframework.cloud.context.config.annotation.RefreshScope;\r\n     import org.springframework.context.annotation.Bean;\r\n     import org.springframework.context.annotation.Configuration;\r\n    \r\n     import java.io.IOException;\r\n    \r\n     @Configuration\r\n     @Slf4j\r\n     @RefreshScope\r\n     public class DroolConfig {\r\n    \r\n         private KieServices kieServices = KieServices.Factory.get();\r\n    \r\n         public KieFileSystem getKieFileSystem() throws IOException {\r\n             KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\r\n             Resource resource;\r\n             log.info(&quot;File read form local resource folder&quot;);\r\n             resource = ResourceFactory\r\n                 .newUrlResource(&quot;awsurl/123.xlsx&quot;);\r\n             kieFileSystem.write(resource);\r\n             DecisionTableProviderImpl decisionTableProvider\r\n                 = new DecisionTableProviderImpl();\r\n             String leadBox = decisionTableProvider.loadFromResource(resource, null);\r\n             log.info(&quot;Rules Loaded from LeadBoxFile:{}&quot;, leadBox);\r\n             return kieFileSystem;\r\n         }\r\n    \r\n         @Bean\r\n         @RefreshScope\r\n         public KieContainer getKieContainer() throws IOException {\r\n             getKieRepository();\r\n             KieBuilder abc = kieServices.newKieBuilder(getKieFileSystem());\r\n             abc.buildAll();\r\n             KieModule kieModule = abc.getKieModule();\r\n             KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\r\n             return kContainer;\r\n         }\r\n    \r\n         private void getKieRepository() {\r\n             final KieRepository kieRepository = kieServices.getRepository();\r\n             kieRepository.addKieModule(new KieModule() {\r\n                 public ReleaseId getReleaseId() {\r\n                     return kieRepository.getDefaultReleaseId();\r\n                 }\r\n             });\r\n         }\r\n    \r\n         @Bean\r\n         public KieSession getKieSession() throws IOException {\r\n             return getKieContainer().newKieSession();\r\n         }\r\n     }\r\n\r\n\r\nController\r\n\r\n    package com.example.demo;\r\n    \r\n    import com.example.demo.Config.DroolConfig;\r\n    import org.kie.api.runtime.KieContainer;\r\n    import org.kie.api.runtime.KieSession;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/v2&quot;)\r\n    public class LoadData {\r\n        @Autowired\r\n        private KieSession kieSession;\r\n    \r\n        @Autowired\r\n        private final KieContainer kieContainer;\r\n    \r\n        @Autowired\r\n        DroolConfig droolConfig;\r\n    \r\n        public LoadData(KieSession kieSession, KieContainer kieContainer) {\r\n            this.kieSession = kieSession;\r\n            this.kieContainer = kieContainer;\r\n        }\r\n    \r\n        @PostMapping(&quot;/printData&quot;)\r\n        public String printData(@RequestBody DataDTO dataDTO) throws IOException {\r\n            KieSession kieSession = kieContainer.newKieSession();\r\n            kieSession.insert(dataDTO);\r\n            kieSession.fireAllRules();\r\n            kieSession.dispose();\r\n            return dataDTO.getLastName();\r\n        }\r\n    \r\n        @GetMapping(&quot;/loadDroolFile&quot;)\r\n        public String getDroolData() throws IOException {\r\n            droolConfig.getKieFileSystem();\r\n            kieContainer.getKieSessionConfiguration();\r\n            return &quot;Done&quot;;\r\n        }\r\n    }\r\n\r\nWhenever I try to hit loadDroolFile I am able to get refreshed data but the data does not get injected I still get the result from drool engine using old values\r\n","title":"Read .xlsx File from Drool Engine Dynamically without restarting spring project","body":"<p>I am trying to read my excel file using drool I am able to successfully read the file from s3 but the problem comes when I make changes to that file and replace the existing file with new file my rule engine still reads old file values can anyone tell what can be done to resolve this issue</p>\n<p>Dto</p>\n<pre><code>package com.example.demo;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.stereotype.Component;\n\n@Getter\n@Setter\n@ToString\n@Component\n@RefreshScope\npublic class DataDTO {\n    String firstName;\n    String lastName;\n}\n</code></pre>\n<p>Drool Config</p>\n<pre><code>   package com.example.demo.Config;\n import lombok.extern.slf4j.Slf4j;\n import org.drools.decisiontable.DecisionTableProviderImpl;\n import org.kie.api.KieServices;\n import org.kie.api.builder.*;\n import org.kie.api.io.Resource;\n import org.kie.api.runtime.KieContainer;\n import org.kie.api.runtime.KieSession;\n import org.kie.internal.io.ResourceFactory;\n import org.springframework.cloud.context.config.annotation.RefreshScope;\n import org.springframework.context.annotation.Bean;\n import org.springframework.context.annotation.Configuration;\n\n import java.io.IOException;\n\n @Configuration\n @Slf4j\n @RefreshScope\n public class DroolConfig {\n\n     private KieServices kieServices = KieServices.Factory.get();\n\n     public KieFileSystem getKieFileSystem() throws IOException {\n         KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\n         Resource resource;\n         log.info(&quot;File read form local resource folder&quot;);\n         resource = ResourceFactory\n             .newUrlResource(&quot;awsurl/123.xlsx&quot;);\n         kieFileSystem.write(resource);\n         DecisionTableProviderImpl decisionTableProvider\n             = new DecisionTableProviderImpl();\n         String leadBox = decisionTableProvider.loadFromResource(resource, null);\n         log.info(&quot;Rules Loaded from LeadBoxFile:{}&quot;, leadBox);\n         return kieFileSystem;\n     }\n\n     @Bean\n     @RefreshScope\n     public KieContainer getKieContainer() throws IOException {\n         getKieRepository();\n         KieBuilder abc = kieServices.newKieBuilder(getKieFileSystem());\n         abc.buildAll();\n         KieModule kieModule = abc.getKieModule();\n         KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\n         return kContainer;\n     }\n\n     private void getKieRepository() {\n         final KieRepository kieRepository = kieServices.getRepository();\n         kieRepository.addKieModule(new KieModule() {\n             public ReleaseId getReleaseId() {\n                 return kieRepository.getDefaultReleaseId();\n             }\n         });\n     }\n\n     @Bean\n     public KieSession getKieSession() throws IOException {\n         return getKieContainer().newKieSession();\n     }\n }\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.example.demo;\n\nimport com.example.demo.Config.DroolConfig;\nimport org.kie.api.runtime.KieContainer;\nimport org.kie.api.runtime.KieSession;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.io.IOException;\n\n@RestController\n@RequestMapping(&quot;/v2&quot;)\npublic class LoadData {\n    @Autowired\n    private KieSession kieSession;\n\n    @Autowired\n    private final KieContainer kieContainer;\n\n    @Autowired\n    DroolConfig droolConfig;\n\n    public LoadData(KieSession kieSession, KieContainer kieContainer) {\n        this.kieSession = kieSession;\n        this.kieContainer = kieContainer;\n    }\n\n    @PostMapping(&quot;/printData&quot;)\n    public String printData(@RequestBody DataDTO dataDTO) throws IOException {\n        KieSession kieSession = kieContainer.newKieSession();\n        kieSession.insert(dataDTO);\n        kieSession.fireAllRules();\n        kieSession.dispose();\n        return dataDTO.getLastName();\n    }\n\n    @GetMapping(&quot;/loadDroolFile&quot;)\n    public String getDroolData() throws IOException {\n        droolConfig.getKieFileSystem();\n        kieContainer.getKieSessionConfiguration();\n        return &quot;Done&quot;;\n    }\n}\n</code></pre>\n<p>Whenever I try to hit loadDroolFile I am able to get refreshed data but the data does not get injected I still get the result from drool engine using old values</p>\n"},{"tags":["java","jdialog"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1646225077,"post_id":71322761,"comment_id":126069452,"body_markdown":"The call site is important too. Whether called as `SwingUtilities.invokeLater(() -&gt; showDialog());` or immediately.","body":"The call site is important too. Whether called as <code>SwingUtilities.invokeLater(() -&gt; showDialog());</code> or immediately."},{"owner":{"account_id":17541405,"reputation":5,"user_id":12723510,"display_name":"Quamatoc"},"score":0,"creation_date":1646233425,"post_id":71322761,"comment_id":126072912,"body_markdown":"I mean, it is called from within an ActionListener. Otherwise I don&#39;t know what you mean. @JoopEggen","body":"I mean, it is called from within an ActionListener. Otherwise I don&#39;t know what you mean. @JoopEggen"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1646235675,"post_id":71322761,"comment_id":126073957,"body_markdown":"You could try to move the code of the ActionListenerer&#39;s actionPerformed to a new method `void showEntfernenFenster()` and do `SwingUtilities.invokeLater(() -&gt; showEntfernenFenster());`.","body":"You could try to move the code of the ActionListenerer&#39;s actionPerformed to a new method <code>void showEntfernenFenster()</code> and do <code>SwingUtilities.invokeLater(() -&gt; showEntfernenFenster());</code>."},{"owner":{"account_id":17541405,"reputation":5,"user_id":12723510,"display_name":"Quamatoc"},"score":0,"creation_date":1646245782,"post_id":71322761,"comment_id":126077875,"body_markdown":"that actually did the trick thank you! why did this work?","body":"that actually did the trick thank you! why did this work?"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646246925,"creation_date":1646246925,"answer_id":71327750,"question_id":71322761,"body_markdown":"You could try to move the code of the ActionListenerer&#39;s actionPerformed to a new method `void showEntfernenFenster()` and do\r\n\r\n    SwingUtilities.invokeLater(() -&gt; showEntfernenFenster());\r\n\r\nFor instance in:\r\n\r\n    JMenuItem menuItem = ...\r\n    menuItem.addActionListener(evt -&gt;\r\n        SwingUtilities.invokeLater(() -&gt; showEntfernenFenster()));\r\n\r\n`actionPerformed` happens on the single thread handling GUI events in the AWT queue. Then little else for the GUI can be done. `AWTEventQueue.invokeLater` or `SwingUtilities.invokeLater` (identical) will indeed call the passed &quot;Runnable&quot; after the `actionPerformed` is processed. And then again the GUI is responsive, redrawing etcetera, In general do not do long things in actionPerformed.\r\n\r\n#### The why:\r\n\r\nIn order to redraw, invalidate multiple screen regions, and all in a non-parallel manner - sequentially -, many libraries across programming languages and even on operating system level use this simplifying technique: a queue of events and one thread handling them. \r\n\r\n","title":"Jdialog disappears before usable","body":"<p>You could try to move the code of the ActionListenerer's actionPerformed to a new method <code>void showEntfernenFenster()</code> and do</p>\n<pre><code>SwingUtilities.invokeLater(() -&gt; showEntfernenFenster());\n</code></pre>\n<p>For instance in:</p>\n<pre><code>JMenuItem menuItem = ...\nmenuItem.addActionListener(evt -&gt;\n    SwingUtilities.invokeLater(() -&gt; showEntfernenFenster()));\n</code></pre>\n<p><code>actionPerformed</code> happens on the single thread handling GUI events in the AWT queue. Then little else for the GUI can be done. <code>AWTEventQueue.invokeLater</code> or <code>SwingUtilities.invokeLater</code> (identical) will indeed call the passed &quot;Runnable&quot; after the <code>actionPerformed</code> is processed. And then again the GUI is responsive, redrawing etcetera, In general do not do long things in actionPerformed.</p>\n<h4>The why:</h4>\n<p>In order to redraw, invalidate multiple screen regions, and all in a non-parallel manner - sequentially -, many libraries across programming languages and even on operating system level use this simplifying technique: a queue of events and one thread handling them.</p>\n"}],"owner":{"account_id":17541405,"reputation":5,"user_id":12723510,"display_name":"Quamatoc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646246925,"creation_date":1646224351,"question_id":71322761,"body_markdown":"I have a strange problem: From a MenuBar I (or the user) can call two actions. One does importing some data, the other deletes some data. Both are presented through a JDialog. Now the weird thing is that both share effectively the same layout and yet while the import dialogue works perfectly, the delete dialogue vanished before any interaction can happen. I do call them seperately.\r\n\r\nFor comparison consider these parts:\r\n- the Import dialogue\r\n```\r\n JDialog ImportFenster= new JDialog(Fenster,\r\n                    &quot;Import von Nutzern&quot;);\r\n\r\n            JTextField Name= new JTextField(&quot;Vorname [Leer] Name&quot;,30);\r\n            JFormattedTextField ID =new JFormattedTextField(\r\n                    NumberFormat.getIntegerInstance());\r\n            ID.setColumns(8);\r\n\r\n            JButton Enter = new JButton(&quot;OK&quot;);\r\n            JButton Abort =new JButton(&quot;Abbruch&quot;);\r\n            JLabel InfoID= new JLabel(&quot;Wird keine ID angegeben, wird eine automatisch erzeugt&quot;);\r\n\r\n            GridBagLayout ImportLayout= new GridBagLayout();\r\n            GridBagConstraints LayoutConstraints=new GridBagConstraints();\r\n\r\n            ImportFenster.setLayout(ImportLayout);\r\n\r\n            LayoutConstraints.fill=GridBagConstraints.VERTICAL;\r\n            LayoutConstraints.gridwidth=3;\r\n            LayoutConstraints.gridx=0;\r\n            LayoutConstraints.gridy=0;\r\n            LayoutConstraints.ipadx=5;\r\n            LayoutConstraints.ipady=5;\r\n            ImportFenster.add(InfoID,LayoutConstraints);\r\n            LayoutConstraints.gridwidth=1;\r\n            LayoutConstraints.ipadx=10;\r\n            LayoutConstraints.ipady=25;\r\n            LayoutConstraints.gridx=1;\r\n            LayoutConstraints.gridy=1;\r\n            ImportFenster.add(ID,LayoutConstraints);\r\n            LayoutConstraints.ipadx=10;\r\n            LayoutConstraints.ipady=25;\r\n            LayoutConstraints.gridx=1;\r\n            LayoutConstraints.gridy=2;\r\n            ImportFenster.add(Name,LayoutConstraints);\r\n            LayoutConstraints.ipadx=10;\r\n            LayoutConstraints.ipady=25;\r\n            LayoutConstraints.gridx=3;\r\n            LayoutConstraints.gridy=3;\r\n            ImportFenster.add(Enter,LayoutConstraints);\r\n            LayoutConstraints.ipadx=10;\r\n            LayoutConstraints.ipady=25;\r\n            LayoutConstraints.gridx=0;\r\n            LayoutConstraints.gridy=3;\r\n            ImportFenster.add(Abort,LayoutConstraints);\r\n            LayoutConstraints.gridx=0;\r\n            LayoutConstraints.gridy=1;\r\n            ImportFenster.add(new JLabel(&quot;Nutzer-ID:&quot;),LayoutConstraints);\r\n            LayoutConstraints.gridx=0;\r\n            LayoutConstraints.gridy=2;\r\n            ImportFenster.add(new JLabel(&quot;Nutzer-Name:&quot;),LayoutConstraints);\r\n\r\n\r\n            ImportFenster.setSize(750,350);\r\n            ImportFenster.setVisible(true);\r\n```\r\n- the delete dialogue\r\n```\r\nJDialog EntfernenFenster= new JDialog(Fenster,\r\n                        &quot;L&#246;schen von Nutzern&quot;);\r\n                JFormattedTextField ID =new JFormattedTextField(\r\n                        NumberFormat.getIntegerInstance());\r\n                ID.setColumns(8);\r\n                System.out.println(&quot;Dialog:&quot;+EntfernenFenster.isShowing());\r\n                JButton Enter = new JButton(&quot;OK&quot;);\r\n                JButton Abort =new JButton(&quot;Abbruch&quot;);\r\n                System.out.println(&quot;Kn&#246;ppe sind da:&quot;+Enter.isShowing()+&quot;\\t&quot;+Abort.isShowing());\r\n                GridBagLayout EntfernenLayout= new GridBagLayout();\r\n                EntfernenFenster.setLayout(EntfernenLayout);\r\n                GridBagConstraints LayoutConstraints=new GridBagConstraints();\r\n                LayoutConstraints.fill=GridBagConstraints.VERTICAL;\r\n                LayoutConstraints.gridwidth=1;\r\n                LayoutConstraints.ipadx=10;\r\n                LayoutConstraints.ipady=25;\r\n                LayoutConstraints.gridx=1;\r\n                LayoutConstraints.gridy=1;\r\n                EntfernenFenster.add(ID,LayoutConstraints);\r\n                LayoutConstraints.ipadx=10;\r\n                LayoutConstraints.ipady=25;\r\n                LayoutConstraints.gridx=0;\r\n                LayoutConstraints.gridy=1;\r\n                EntfernenFenster.add(new JLabel(&quot;Nutzer-ID:&quot;));\r\n                LayoutConstraints.ipadx=10;\r\n                LayoutConstraints.ipady=25;\r\n                LayoutConstraints.gridx=2;\r\n                LayoutConstraints.gridy=2;\r\n                EntfernenFenster.add(Enter,LayoutConstraints);\r\n                LayoutConstraints.ipadx=10;\r\n                LayoutConstraints.ipady=25;\r\n                LayoutConstraints.gridx=0;\r\n                LayoutConstraints.gridy=2;\r\n                EntfernenFenster.add(Abort,LayoutConstraints);\r\n\r\n                EntfernenFenster.setSize(500, 200);\r\n                EntfernenFenster.setVisible(true);\r\n```\r\nI would like to know where my mistake is. And of course how to fix this.","title":"Jdialog disappears before usable","body":"<p>I have a strange problem: From a MenuBar I (or the user) can call two actions. One does importing some data, the other deletes some data. Both are presented through a JDialog. Now the weird thing is that both share effectively the same layout and yet while the import dialogue works perfectly, the delete dialogue vanished before any interaction can happen. I do call them seperately.</p>\n<p>For comparison consider these parts:</p>\n<ul>\n<li>the Import dialogue</li>\n</ul>\n<pre><code> JDialog ImportFenster= new JDialog(Fenster,\n                    &quot;Import von Nutzern&quot;);\n\n            JTextField Name= new JTextField(&quot;Vorname [Leer] Name&quot;,30);\n            JFormattedTextField ID =new JFormattedTextField(\n                    NumberFormat.getIntegerInstance());\n            ID.setColumns(8);\n\n            JButton Enter = new JButton(&quot;OK&quot;);\n            JButton Abort =new JButton(&quot;Abbruch&quot;);\n            JLabel InfoID= new JLabel(&quot;Wird keine ID angegeben, wird eine automatisch erzeugt&quot;);\n\n            GridBagLayout ImportLayout= new GridBagLayout();\n            GridBagConstraints LayoutConstraints=new GridBagConstraints();\n\n            ImportFenster.setLayout(ImportLayout);\n\n            LayoutConstraints.fill=GridBagConstraints.VERTICAL;\n            LayoutConstraints.gridwidth=3;\n            LayoutConstraints.gridx=0;\n            LayoutConstraints.gridy=0;\n            LayoutConstraints.ipadx=5;\n            LayoutConstraints.ipady=5;\n            ImportFenster.add(InfoID,LayoutConstraints);\n            LayoutConstraints.gridwidth=1;\n            LayoutConstraints.ipadx=10;\n            LayoutConstraints.ipady=25;\n            LayoutConstraints.gridx=1;\n            LayoutConstraints.gridy=1;\n            ImportFenster.add(ID,LayoutConstraints);\n            LayoutConstraints.ipadx=10;\n            LayoutConstraints.ipady=25;\n            LayoutConstraints.gridx=1;\n            LayoutConstraints.gridy=2;\n            ImportFenster.add(Name,LayoutConstraints);\n            LayoutConstraints.ipadx=10;\n            LayoutConstraints.ipady=25;\n            LayoutConstraints.gridx=3;\n            LayoutConstraints.gridy=3;\n            ImportFenster.add(Enter,LayoutConstraints);\n            LayoutConstraints.ipadx=10;\n            LayoutConstraints.ipady=25;\n            LayoutConstraints.gridx=0;\n            LayoutConstraints.gridy=3;\n            ImportFenster.add(Abort,LayoutConstraints);\n            LayoutConstraints.gridx=0;\n            LayoutConstraints.gridy=1;\n            ImportFenster.add(new JLabel(&quot;Nutzer-ID:&quot;),LayoutConstraints);\n            LayoutConstraints.gridx=0;\n            LayoutConstraints.gridy=2;\n            ImportFenster.add(new JLabel(&quot;Nutzer-Name:&quot;),LayoutConstraints);\n\n\n            ImportFenster.setSize(750,350);\n            ImportFenster.setVisible(true);\n</code></pre>\n<ul>\n<li>the delete dialogue</li>\n</ul>\n<pre><code>JDialog EntfernenFenster= new JDialog(Fenster,\n                        &quot;Löschen von Nutzern&quot;);\n                JFormattedTextField ID =new JFormattedTextField(\n                        NumberFormat.getIntegerInstance());\n                ID.setColumns(8);\n                System.out.println(&quot;Dialog:&quot;+EntfernenFenster.isShowing());\n                JButton Enter = new JButton(&quot;OK&quot;);\n                JButton Abort =new JButton(&quot;Abbruch&quot;);\n                System.out.println(&quot;Knöppe sind da:&quot;+Enter.isShowing()+&quot;\\t&quot;+Abort.isShowing());\n                GridBagLayout EntfernenLayout= new GridBagLayout();\n                EntfernenFenster.setLayout(EntfernenLayout);\n                GridBagConstraints LayoutConstraints=new GridBagConstraints();\n                LayoutConstraints.fill=GridBagConstraints.VERTICAL;\n                LayoutConstraints.gridwidth=1;\n                LayoutConstraints.ipadx=10;\n                LayoutConstraints.ipady=25;\n                LayoutConstraints.gridx=1;\n                LayoutConstraints.gridy=1;\n                EntfernenFenster.add(ID,LayoutConstraints);\n                LayoutConstraints.ipadx=10;\n                LayoutConstraints.ipady=25;\n                LayoutConstraints.gridx=0;\n                LayoutConstraints.gridy=1;\n                EntfernenFenster.add(new JLabel(&quot;Nutzer-ID:&quot;));\n                LayoutConstraints.ipadx=10;\n                LayoutConstraints.ipady=25;\n                LayoutConstraints.gridx=2;\n                LayoutConstraints.gridy=2;\n                EntfernenFenster.add(Enter,LayoutConstraints);\n                LayoutConstraints.ipadx=10;\n                LayoutConstraints.ipady=25;\n                LayoutConstraints.gridx=0;\n                LayoutConstraints.gridy=2;\n                EntfernenFenster.add(Abort,LayoutConstraints);\n\n                EntfernenFenster.setSize(500, 200);\n                EntfernenFenster.setVisible(true);\n</code></pre>\n<p>I would like to know where my mistake is. And of course how to fix this.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":5203808,"reputation":632,"user_id":4179032,"display_name":"Leponzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646246905,"creation_date":1646246905,"answer_id":71327744,"question_id":43773746,"body_markdown":"Add this to your `JWTLoginFilter` constructor:\r\n```\r\nsetAuthenticationSuccessHandler(new SimpleUrlAuthenticationSuccessHandler(&quot;/home&quot;));\r\n```","title":"Redirect in result of AbstractAuthenticationProcessingFilter","body":"<p>Add this to your <code>JWTLoginFilter</code> constructor:</p>\n<pre><code>setAuthenticationSuccessHandler(new SimpleUrlAuthenticationSuccessHandler(&quot;/home&quot;));\n</code></pre>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646246905,"creation_date":1493871050,"question_id":43773746,"body_markdown":"I created a login filter for my spring boot app:\r\n\r\n    public class JWTLoginFilter extends AbstractAuthenticationProcessingFilter {\r\n    \r\n    \r\n    \tpublic JWTLoginFilter(String url, AuthenticationManager authManager) {\r\n    \t\tsuper(new AntPathRequestMatcher(url, &quot;POST&quot;));\r\n    \t\tsetAuthenticationManager(authManager);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Authentication attemptAuthentication(HttpServletRequest req,\r\n    \t\t\tHttpServletResponse res) throws AuthenticationException,\r\n    \t\t\tIOException, ServletException {\r\n    \r\n    \t\tCustomUserDetails creds = new ObjectMapper().readValue(\r\n    \t\t\t\treq.getInputStream(), CustomUserDetails.class);\r\n    \r\n    \t\treturn getAuthenticationManager().authenticate(\r\n    \t\t\t\tnew UsernamePasswordAuthenticationToken(creds.getUsername(),\r\n    \t\t\t\t\t\tcreds.getPassword()));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void successfulAuthentication(HttpServletRequest req,\r\n    \t\t\tHttpServletResponse res, FilterChain chain, Authentication auth) {\r\n    \t\tTokenAuthenticationService.addAuthentication(res, auth.getName());\r\n    \t}\r\n    }\r\n\r\nThe `WebSecurityConfiguration` :\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \thttp\r\n    \t\t.csrf().disable()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/login&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/signup&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t.authorizeRequests()\r\n    \t\t\t.anyRequest().authenticated()\r\n    \t\t.and()\r\n    \t\t\t.logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/login&quot;).deleteCookies(&quot;auth_code&quot;).invalidateHttpSession(true)\r\n    \t\t.and()\r\n    \t\t// We filter the api/signup requests\r\n    \t\t.addFilterBefore(\r\n    \t\t\tnew JWTSignupFilter(&quot;/signup&quot;, authenticationManager(),\r\n    \t\t\t\t\taccountRepository, passwordEncoder),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class)\r\n    \t\t// We filter the api/login requests\r\n    \t\t.addFilterBefore(\r\n    \t\t\tnew JWTLoginFilter(&quot;/login&quot;, authenticationManager()),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class)\r\n    \t\t// And filter other requests to check the presence of JWT in\r\n    \t\t// header\r\n    \t\t.addFilterBefore(new JWTAuthenticationFilter(userDetailsServiceBean()),\r\n    \t\t\tUsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\nI want to redirect to `/home` if the login was successful. How should I do it ? ","title":"Redirect in result of AbstractAuthenticationProcessingFilter","body":"<p>I created a login filter for my spring boot app:</p>\n\n<pre><code>public class JWTLoginFilter extends AbstractAuthenticationProcessingFilter {\n\n\n    public JWTLoginFilter(String url, AuthenticationManager authManager) {\n        super(new AntPathRequestMatcher(url, \"POST\"));\n        setAuthenticationManager(authManager);\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest req,\n            HttpServletResponse res) throws AuthenticationException,\n            IOException, ServletException {\n\n        CustomUserDetails creds = new ObjectMapper().readValue(\n                req.getInputStream(), CustomUserDetails.class);\n\n        return getAuthenticationManager().authenticate(\n                new UsernamePasswordAuthenticationToken(creds.getUsername(),\n                        creds.getPassword()));\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest req,\n            HttpServletResponse res, FilterChain chain, Authentication auth) {\n        TokenAuthenticationService.addAuthentication(res, auth.getName());\n    }\n}\n</code></pre>\n\n<p>The <code>WebSecurityConfiguration</code> :</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .authorizeRequests()\n            .antMatchers(\"/login\").permitAll()\n        .and()\n        .authorizeRequests()\n            .antMatchers(\"/signup\").permitAll()\n        .and()\n        .authorizeRequests()\n            .anyRequest().authenticated()\n        .and()\n            .logout().logoutUrl(\"/logout\").logoutSuccessUrl(\"/login\").deleteCookies(\"auth_code\").invalidateHttpSession(true)\n        .and()\n        // We filter the api/signup requests\n        .addFilterBefore(\n            new JWTSignupFilter(\"/signup\", authenticationManager(),\n                    accountRepository, passwordEncoder),\n            UsernamePasswordAuthenticationFilter.class)\n        // We filter the api/login requests\n        .addFilterBefore(\n            new JWTLoginFilter(\"/login\", authenticationManager()),\n            UsernamePasswordAuthenticationFilter.class)\n        // And filter other requests to check the presence of JWT in\n        // header\n        .addFilterBefore(new JWTAuthenticationFilter(userDetailsServiceBean()),\n            UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n\n<p>I want to redirect to <code>/home</code> if the login was successful. How should I do it ? </p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1646237720,"post_id":71325767,"comment_id":126074883,"body_markdown":"Rather than use a hash map, I&#39;d suggest building an object model for the data you wish to represent. Parse the JSON to that model, and write code in that model to format it as you wish.","body":"Rather than use a hash map, I&#39;d suggest building an object model for the data you wish to represent. Parse the JSON to that model, and write code in that model to format it as you wish."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646246716,"creation_date":1646246716,"answer_id":71327711,"question_id":71325767,"body_markdown":"Don’t use a HashMap.  Create real data classes:\r\n\r\n    public class Library {\r\n        private Book[] book = { };\r\n\r\n        public Book[] getBook() {\r\n            return book;\r\n        }\r\n\r\n        public void setBook(Book[] books) {\r\n            this.book = books;\r\n        }\r\n    }\r\n\r\n    public class Book {\r\n        private String id;\r\n        private String language;\r\n        private String edition;\r\n        private String author;\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getLanguage() {\r\n            return language;\r\n        }\r\n\r\n        public void setLanguage(String language) {\r\n            this.language = language;\r\n        }\r\n\r\n        public String getEdition() {\r\n            return edition;\r\n        }\r\n\r\n        public void setEdition(String edition) {\r\n            this.edition = edition;\r\n        }\r\n\r\n        public String getAuthor() {\r\n            return author;\r\n        }\r\n\r\n        public void setAuthor(String author) {\r\n            this.author = author;\r\n        }\r\n    }\r\n\r\nNow you can pass `Library.class` instead of HashMap.class.\r\n","title":"JAVA how to convert JSONObject into a custom format?","body":"<p>Don’t use a HashMap.  Create real data classes:</p>\n<pre><code>public class Library {\n    private Book[] book = { };\n\n    public Book[] getBook() {\n        return book;\n    }\n\n    public void setBook(Book[] books) {\n        this.book = books;\n    }\n}\n\npublic class Book {\n    private String id;\n    private String language;\n    private String edition;\n    private String author;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getLanguage() {\n        return language;\n    }\n\n    public void setLanguage(String language) {\n        this.language = language;\n    }\n\n    public String getEdition() {\n        return edition;\n    }\n\n    public void setEdition(String edition) {\n        this.edition = edition;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n}\n</code></pre>\n<p>Now you can pass <code>Library.class</code> instead of HashMap.class.</p>\n"}],"owner":{"account_id":24430665,"reputation":13,"user_id":18355638,"display_name":"승기유"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71327711,"answer_count":1,"score":-1,"last_activity_date":1646246716,"creation_date":1646237219,"question_id":71325767,"body_markdown":"What I am trying to do is to change a certain JSON file into a custom format, and I have been searching for the information for two days but I haven&#39;t figured it out and I have no one to ask about this....\r\n\r\n**Before Formatting**\r\n\r\n    {\r\n       &quot;book&quot;: [\r\n    \r\n          {\r\n             &quot;id&quot;: &quot;01&quot;,\r\n             &quot;language&quot;: &quot;Java&quot;,\r\n             &quot;edition&quot;: &quot;third&quot;,\r\n             &quot;author&quot;: &quot;Herbert Schildt&quot;\r\n          },\r\n    \r\n          {\r\n             &quot;id&quot;: &quot;07&quot;,\r\n             &quot;language&quot;: &quot;C++&quot;,\r\n             &quot;edition&quot;: &quot;second&quot;,\r\n             &quot;author&quot;: &quot;E.Balagurusamy&quot;\r\n          }\r\n    \r\n       ]\r\n    }\r\n\r\n**Trying to format it into:**\r\n\r\n    Book\r\n          Id : 01\r\n          Language : Java\r\n          ...\r\n    \r\n          Id : 07\r\n          Language : C++\r\n\r\n\r\n**The actual JSON data is like this:**\r\n\r\n    [\r\n        {\r\n            &quot;symbol&quot;: &quot;BTC&quot;,\r\n            &quot;circulating_supply&quot;: 18729837,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:02.000Z&quot;,\r\n            &quot;total_supply&quot;: 18729837,\r\n            &quot;cmc_rank&quot;: 1,\r\n            &quot;platform&quot;: null,\r\n            &quot;tags&quot;: [\r\n                &quot;mineable&quot;,\r\n                &quot;pow&quot;,\r\n                &quot;sha-256&quot;,\r\n                &quot;store-of-value&quot;,\r\n                &quot;state-channels&quot;,\r\n                &quot;coinbase-ventures-portfolio&quot;,\r\n                &quot;three-arrows-capital-portfolio&quot;,\r\n                &quot;polychain-capital-portfolio&quot;,\r\n                &quot;binance-labs-portfolio&quot;,\r\n                &quot;arrington-xrp-capital&quot;,\r\n                &quot;blockchain-capital-portfolio&quot;,\r\n                &quot;boostvc-portfolio&quot;,\r\n                &quot;cms-holdings-portfolio&quot;,\r\n                &quot;dcg-portfolio&quot;,\r\n                &quot;dragonfly-capital-portfolio&quot;,\r\n                &quot;electric-capital-portfolio&quot;,\r\n                &quot;fabric-ventures-portfolio&quot;,\r\n                &quot;framework-ventures&quot;,\r\n                &quot;galaxy-digital-portfolio&quot;,\r\n                &quot;huobi-capital&quot;,\r\n                &quot;alameda-research-portfolio&quot;,\r\n                &quot;a16z-portfolio&quot;,\r\n                &quot;1confirmation-portfolio&quot;,\r\n                &quot;winklevoss-capital&quot;,\r\n                &quot;usv-portfolio&quot;,\r\n                &quot;placeholder-ventures-portfolio&quot;,\r\n                &quot;pantera-capital-portfolio&quot;,\r\n                &quot;multicoin-capital-portfolio&quot;,\r\n                &quot;paradigm-xzy-screener&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2013-04-28T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: -42.63012856,\r\n                &quot;percent_change_1h&quot;: 0.38317977,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:17:02.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -9.36685756,\r\n                &quot;market_cap&quot;: 619325019564.578,\r\n                &quot;price&quot;: 33066.22580669431,\r\n                &quot;percent_change_60d&quot;: -43.54639481,\r\n                &quot;volume_24h&quot;: 43132365330.36409,\r\n                &quot;percent_change_90d&quot;: -39.86303315,\r\n                &quot;percent_change_7d&quot;: -9.21607228\r\n            }},\r\n            &quot;num_market_pairs&quot;: 9722,\r\n            &quot;name&quot;: &quot;Bitcoin&quot;,\r\n            &quot;max_supply&quot;: 21000000,\r\n            &quot;id&quot;: 1,\r\n            &quot;slug&quot;: &quot;bitcoin&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;ETH&quot;,\r\n            &quot;circulating_supply&quot;: 116205430.624,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:02.000Z&quot;,\r\n            &quot;total_supply&quot;: 116205430.624,\r\n            &quot;cmc_rank&quot;: 2,\r\n            &quot;platform&quot;: null,\r\n            &quot;tags&quot;: [\r\n                &quot;mineable&quot;,\r\n                &quot;pow&quot;,\r\n                &quot;smart-contracts&quot;,\r\n                &quot;ethereum&quot;,\r\n                &quot;coinbase-ventures-portfolio&quot;,\r\n                &quot;three-arrows-capital-portfolio&quot;,\r\n                &quot;polychain-capital-portfolio&quot;,\r\n                &quot;binance-labs-portfolio&quot;,\r\n                &quot;arrington-xrp-capital&quot;,\r\n                &quot;blockchain-capital-portfolio&quot;,\r\n                &quot;boostvc-portfolio&quot;,\r\n                &quot;cms-holdings-portfolio&quot;,\r\n                &quot;dcg-portfolio&quot;,\r\n                &quot;dragonfly-capital-portfolio&quot;,\r\n                &quot;electric-capital-portfolio&quot;,\r\n                &quot;fabric-ventures-portfolio&quot;,\r\n                &quot;framework-ventures&quot;,\r\n                &quot;hashkey-capital-portfolio&quot;,\r\n                &quot;kinetic-capital&quot;,\r\n                &quot;huobi-capital&quot;,\r\n                &quot;alameda-research-portfolio&quot;,\r\n                &quot;a16z-portfolio&quot;,\r\n                &quot;1confirmation-portfolio&quot;,\r\n                &quot;winklevoss-capital&quot;,\r\n                &quot;usv-portfolio&quot;,\r\n                &quot;placeholder-ventures-portfolio&quot;,\r\n                &quot;pantera-capital-portfolio&quot;,\r\n                &quot;multicoin-capital-portfolio&quot;,\r\n                &quot;paradigm-xzy-screener&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2015-08-07T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: -34.93326351,\r\n                &quot;percent_change_1h&quot;: 0.0977492,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:17:02.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -10.67415695,\r\n                &quot;market_cap&quot;: 292465567141.6079,\r\n                &quot;price&quot;: 2516.797756964766,\r\n                &quot;percent_change_60d&quot;: 20.00514111,\r\n                &quot;volume_24h&quot;: 38463882117.94565,\r\n                &quot;percent_change_90d&quot;: 37.73403958,\r\n                &quot;percent_change_7d&quot;: -3.05561192\r\n            }},\r\n            &quot;num_market_pairs&quot;: 6053,\r\n            &quot;name&quot;: &quot;Ethereum&quot;,\r\n            &quot;max_supply&quot;: null,\r\n            &quot;id&quot;: 1027,\r\n            &quot;slug&quot;: &quot;ethereum&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;USDT&quot;,\r\n            &quot;circulating_supply&quot;: 62280355385.45168,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:16:08.000Z&quot;,\r\n            &quot;total_supply&quot;: 64471767616.826355,\r\n            &quot;cmc_rank&quot;: 3,\r\n            &quot;platform&quot;: {\r\n                &quot;symbol&quot;: &quot;ETH&quot;,\r\n                &quot;name&quot;: &quot;Ethereum&quot;,\r\n                &quot;token_address&quot;: &quot;0xdac17f958d2ee523a2206206994597c13d831ec7&quot;,\r\n                &quot;id&quot;: 1027,\r\n                &quot;slug&quot;: &quot;ethereum&quot;\r\n            },\r\n            &quot;tags&quot;: [\r\n                &quot;store-of-value&quot;,\r\n                &quot;payments&quot;,\r\n                &quot;stablecoin&quot;,\r\n                &quot;stablecoin-asset-backed&quot;,\r\n                &quot;solana-ecosystem&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2015-02-25T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: 0.08689942,\r\n                &quot;percent_change_1h&quot;: -0.01514305,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:16:08.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: 0.00252658,\r\n                &quot;market_cap&quot;: 62333503909.90704,\r\n                &quot;price&quot;: 1.00085337542033,\r\n                &quot;percent_change_60d&quot;: 0.00890571,\r\n                &quot;volume_24h&quot;: 88090197454.22122,\r\n                &quot;percent_change_90d&quot;: 0.02421796,\r\n                &quot;percent_change_7d&quot;: 0.03190558\r\n            }},\r\n            &quot;num_market_pairs&quot;: 13483,\r\n            &quot;name&quot;: &quot;Tether&quot;,\r\n            &quot;max_supply&quot;: null,\r\n            &quot;id&quot;: 825,\r\n            &quot;slug&quot;: &quot;tether&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;BNB&quot;,\r\n            &quot;circulating_supply&quot;: 153432897,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:08.000Z&quot;,\r\n            &quot;total_supply&quot;: 169432897,\r\n            &quot;cmc_rank&quot;: 4,\r\n            &quot;platform&quot;: null,\r\n            &quot;tags&quot;: [\r\n                &quot;marketplace&quot;,\r\n                &quot;centralized-exchange&quot;,\r\n                &quot;payments&quot;,\r\n                &quot;binance-smart-chain&quot;,\r\n                &quot;alameda-research-portfolio&quot;,\r\n                &quot;multicoin-capital-portfolio&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2017-07-25T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: -46.98637267,\r\n                &quot;percent_change_1h&quot;: -0.06201527,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:17:08.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -12.9766759,\r\n                &quot;market_cap&quot;: 54032968135.19999,\r\n                &quot;price&quot;: 352.1602550149333,\r\n                &quot;percent_change_60d&quot;: -18.72766515,\r\n                &quot;volume_24h&quot;: 3975040241.706507,\r\n                &quot;percent_change_90d&quot;: 24.3131346,\r\n                &quot;percent_change_7d&quot;: 0.46465171\r\n            }},\r\n            &quot;num_market_pairs&quot;: 619,\r\n            &quot;name&quot;: &quot;Binance Coin&quot;,\r\n            &quot;max_supply&quot;: 170532785,\r\n            &quot;id&quot;: 1839,\r\n            &quot;slug&quot;: &quot;binance-coin&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;ADA&quot;,\r\n            &quot;circulating_supply&quot;: 31930548128.29,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:16:09.000Z&quot;,\r\n            &quot;total_supply&quot;: 32681678108.601,\r\n            &quot;cmc_rank&quot;: 5,\r\n            &quot;platform&quot;: null,\r\n            &quot;tags&quot;: [\r\n                &quot;mineable&quot;,\r\n                &quot;dpos&quot;,\r\n                &quot;pos&quot;,\r\n                &quot;platform&quot;,\r\n                &quot;research&quot;,\r\n                &quot;smart-contracts&quot;,\r\n                &quot;staking&quot;,\r\n                &quot;binance-chain&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2017-10-01T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: -9.47981292,\r\n                &quot;percent_change_1h&quot;: -1.0109768,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:16:09.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -10.68780802,\r\n                &quot;market_cap&quot;: 49082262157.72255,\r\n                &quot;price&quot;: 1.53715689315826,\r\n                &quot;percent_change_60d&quot;: 26.8779134,\r\n                &quot;volume_24h&quot;: 3602351530.9447293,\r\n                &quot;percent_change_90d&quot;: 31.00161031,\r\n                &quot;percent_change_7d&quot;: -9.66192067\r\n            }},\r\n            &quot;num_market_pairs&quot;: 276,\r\n            &quot;name&quot;: &quot;Cardano&quot;,\r\n            &quot;max_supply&quot;: 45000000000,\r\n            &quot;id&quot;: 2010,\r\n            &quot;slug&quot;: &quot;cardano&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;DOGE&quot;,\r\n            &quot;circulating_supply&quot;: 129939361256.40326,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:03.000Z&quot;,\r\n            &quot;total_supply&quot;: 129939361256.40326,\r\n            &quot;cmc_rank&quot;: 6,\r\n            &quot;platform&quot;: null,\r\n            &quot;tags&quot;: [\r\n                &quot;mineable&quot;,\r\n                &quot;pow&quot;,\r\n                &quot;scrypt&quot;,\r\n                &quot;medium-of-exchange&quot;,\r\n                &quot;memes&quot;,\r\n                &quot;payments&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2013-12-15T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: -27.85005369,\r\n                &quot;percent_change_1h&quot;: -0.39664229,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:17:03.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -12.06689716,\r\n                &quot;market_cap&quot;: 42746878864.849754,\r\n                &quot;price&quot;: 0.32897559639761,\r\n                &quot;percent_change_60d&quot;: 425.01053128,\r\n                &quot;volume_24h&quot;: 4256466078.3377676,\r\n                &quot;percent_change_90d&quot;: 479.75690549,\r\n                &quot;percent_change_7d&quot;: 1.48509162\r\n            }},\r\n            &quot;num_market_pairs&quot;: 376,\r\n            &quot;name&quot;: &quot;Dogecoin&quot;,\r\n            &quot;max_supply&quot;: null,\r\n            &quot;id&quot;: 74,\r\n            &quot;slug&quot;: &quot;dogecoin&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;XRP&quot;,\r\n            &quot;circulating_supply&quot;: 46151013329,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:03.000Z&quot;,\r\n            &quot;total_supply&quot;: 99990399027,\r\n            &quot;cmc_rank&quot;: 7,\r\n            &quot;platform&quot;: null,\r\n            &quot;tags&quot;: [\r\n                &quot;medium-of-exchange&quot;,\r\n                &quot;enterprise-solutions&quot;,\r\n                &quot;binance-chain&quot;,\r\n                &quot;arrington-xrp-capital&quot;,\r\n                &quot;galaxy-digital-portfolio&quot;,\r\n                &quot;a16z-portfolio&quot;,\r\n                &quot;pantera-capital-portfolio&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2013-08-04T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: -42.92640139,\r\n                &quot;percent_change_1h&quot;: -0.60106842,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:17:03.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -10.12249253,\r\n                &quot;market_cap&quot;: 39897934998.12378,\r\n                &quot;price&quot;: 0.8645083199734,\r\n                &quot;percent_change_60d&quot;: -15.63161843,\r\n                &quot;volume_24h&quot;: 4179902561.947919,\r\n                &quot;percent_change_90d&quot;: 84.29141004,\r\n                &quot;percent_change_7d&quot;: -14.85218801\r\n            }},\r\n            &quot;num_market_pairs&quot;: 682,\r\n            &quot;name&quot;: &quot;XRP&quot;,\r\n            &quot;max_supply&quot;: 100000000000,\r\n            &quot;id&quot;: 52,\r\n            &quot;slug&quot;: &quot;xrp&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;USDC&quot;,\r\n            &quot;circulating_supply&quot;: 23075185630.71199,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:04.000Z&quot;,\r\n            &quot;total_supply&quot;: 23075185630.71199,\r\n            &quot;cmc_rank&quot;: 8,\r\n            &quot;platform&quot;: {\r\n                &quot;symbol&quot;: &quot;ETH&quot;,\r\n                &quot;name&quot;: &quot;Ethereum&quot;,\r\n                &quot;token_address&quot;: &quot;0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&quot;,\r\n                &quot;id&quot;: 1027,\r\n                &quot;slug&quot;: &quot;ethereum&quot;\r\n            },\r\n            &quot;tags&quot;: [\r\n                &quot;medium-of-exchange&quot;,\r\n                &quot;stablecoin&quot;,\r\n                &quot;stablecoin-asset-backed&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2018-10-08T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: 0.05408204,\r\n                &quot;percent_change_1h&quot;: -0.00816775,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:17:04.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: 0.00649147,\r\n                &quot;market_cap&quot;: 23084217521.810787,\r\n                &quot;price&quot;: 1.00039141141672,\r\n                &quot;percent_change_60d&quot;: -0.05832072,\r\n                &quot;volume_24h&quot;: 2455031484.812885,\r\n                &quot;percent_change_90d&quot;: 0.02446002,\r\n                &quot;percent_change_7d&quot;: -0.0056865\r\n            }},\r\n            &quot;num_market_pairs&quot;: 1068,\r\n            &quot;name&quot;: &quot;USD Coin&quot;,\r\n            &quot;max_supply&quot;: null,\r\n            &quot;id&quot;: 3408,\r\n            &quot;slug&quot;: &quot;usd-coin&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;DOT&quot;,\r\n            &quot;circulating_supply&quot;: 945735752.6497443,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:05.000Z&quot;,\r\n            &quot;total_supply&quot;: 1081259867.5039322,\r\n            &quot;cmc_rank&quot;: 9,\r\n            &quot;platform&quot;: null,\r\n            &quot;tags&quot;: [\r\n                &quot;substrate&quot;,\r\n                &quot;polkadot&quot;,\r\n                &quot;binance-chain&quot;,\r\n                &quot;polkadot-ecosystem&quot;,\r\n                &quot;three-arrows-capital-portfolio&quot;,\r\n                &quot;polychain-capital-portfolio&quot;,\r\n                &quot;blockchain-capital-portfolio&quot;,\r\n                &quot;boostvc-portfolio&quot;,\r\n                &quot;cms-holdings-portfolio&quot;,\r\n                &quot;coinfund-portfolio&quot;,\r\n                &quot;fabric-ventures-portfolio&quot;,\r\n                &quot;fenbushi-capital-portfolio&quot;,\r\n                &quot;hashkey-capital-portfolio&quot;,\r\n                &quot;kinetic-capital&quot;,\r\n                &quot;1confirmation-portfolio&quot;,\r\n                &quot;placeholder-ventures-portfolio&quot;,\r\n                &quot;pantera-capital-portfolio&quot;,\r\n                &quot;exnetwork-capital-portfolio&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2020-08-19T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: -45.72649058,\r\n                &quot;percent_change_1h&quot;: -0.3486271,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:17:05.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -15.05195784,\r\n                &quot;market_cap&quot;: 20076748179.497543,\r\n                &quot;price&quot;: 21.22870804370766,\r\n                &quot;percent_change_60d&quot;: -48.77804479,\r\n                &quot;volume_24h&quot;: 2421158822.0532265,\r\n                &quot;percent_change_90d&quot;: -44.73258504,\r\n                &quot;percent_change_7d&quot;: -5.5027651\r\n            }},\r\n            &quot;num_market_pairs&quot;: 202,\r\n            &quot;name&quot;: &quot;Polkadot&quot;,\r\n            &quot;max_supply&quot;: null,\r\n            &quot;id&quot;: 6636,\r\n            &quot;slug&quot;: &quot;polkadot-new&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;UNI&quot;,\r\n            &quot;circulating_supply&quot;: 575107764.052485,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:16:11.000Z&quot;,\r\n            &quot;total_supply&quot;: 1000000000,\r\n            &quot;cmc_rank&quot;: 10,\r\n            &quot;platform&quot;: {\r\n                &quot;symbol&quot;: &quot;ETH&quot;,\r\n                &quot;name&quot;: &quot;Ethereum&quot;,\r\n                &quot;token_address&quot;: &quot;0x1f9840a85d5af5bf1d1762f925bdaddc4201f984&quot;,\r\n                &quot;id&quot;: 1027,\r\n                &quot;slug&quot;: &quot;ethereum&quot;\r\n            },\r\n            &quot;tags&quot;: [\r\n                &quot;decentralized-exchange&quot;,\r\n                &quot;defi&quot;,\r\n                &quot;dao&quot;,\r\n                &quot;yield-farming&quot;,\r\n                &quot;amm&quot;,\r\n                &quot;coinbase-ventures-portfolio&quot;,\r\n                &quot;three-arrows-capital-portfolio&quot;,\r\n                &quot;governance&quot;,\r\n                &quot;blockchain-capital-portfolio&quot;,\r\n                &quot;defiance-capital&quot;,\r\n                &quot;alameda-research-portfolio&quot;,\r\n                &quot;a16z-portfolio&quot;,\r\n                &quot;pantera-capital-portfolio&quot;,\r\n                &quot;parafi-capital&quot;,\r\n                &quot;paradigm-xzy-screener&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2020-09-17T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: -40.90238231,\r\n                &quot;percent_change_1h&quot;: -0.57439386,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:16:11.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -11.84522167,\r\n                &quot;market_cap&quot;: 13448377375.304375,\r\n                &quot;price&quot;: 23.38409984337659,\r\n                &quot;percent_change_60d&quot;: -23.21587997,\r\n                &quot;volume_24h&quot;: 569769688.2472888,\r\n                &quot;percent_change_90d&quot;: -26.98611642,\r\n                &quot;percent_change_7d&quot;: -13.63660968\r\n            }},\r\n            &quot;num_market_pairs&quot;: 270,\r\n            &quot;name&quot;: &quot;Uniswap&quot;,\r\n            &quot;max_supply&quot;: 1000000000,\r\n            &quot;id&quot;: 7083,\r\n            &quot;slug&quot;: &quot;uniswap&quot;\r\n        },\r\n        {\r\n            &quot;symbol&quot;: &quot;ICP&quot;,\r\n            &quot;circulating_supply&quot;: 124103517.19,\r\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:07.000Z&quot;,\r\n            &quot;total_supply&quot;: 469293126.8967923,\r\n            &quot;cmc_rank&quot;: 11,\r\n            &quot;platform&quot;: null,\r\n            &quot;tags&quot;: [\r\n                &quot;platform&quot;,\r\n                &quot;distributed-computing&quot;,\r\n                &quot;polychain-capital-portfolio&quot;,\r\n                &quot;exnetwork-capital-portfolio&quot;\r\n            ],\r\n            &quot;date_added&quot;: &quot;2021-03-23T00:00:00.000Z&quot;,\r\n            &quot;quote&quot;: {&quot;USD&quot;: {\r\n                &quot;percent_change_30d&quot;: 0,\r\n                &quot;percent_change_1h&quot;: -0.08952838,\r\n                &quot;last_updated&quot;: &quot;2021-06-08T10:17:07.000Z&quot;,\r\n                &quot;percent_change_24h&quot;: -15.3124386,\r\n                &quot;market_cap&quot;: 10992912823.823347,\r\n                &quot;price&quot;: 88.57857595601757,\r\n                &quot;percent_change_60d&quot;: 0,\r\n                &quot;volume_24h&quot;: 260287850.43941185,\r\n                &quot;percent_change_90d&quot;: 0,\r\n                &quot;percent_change_7d&quot;: -20.06340267\r\n            }},\r\n            &quot;num_market_pairs&quot;: 33,\r\n            &quot;name&quot;: &quot;Internet Computer&quot;,\r\n            &quot;max_supply&quot;: null,\r\n            &quot;id&quot;: 8916,\r\n            &quot;slug&quot;: &quot;internet-computer&quot;\r\n        },\r\n    ... and so on\r\n    ]\r\n\r\nWhat I have been trying so far is to convert the JSONObject into a HashMap:\r\n\r\n    HashMap&lt;String, Object&gt; rs = new ObjectMapper().readValue(json.toString(), HashMap.class);\r\n\r\nBut I do not really know what to do now...\r\n\r\nSomeone told me to use Jackson or GSon or nested HashMap, but I don&#39;t know how it would solve the problem...\r\n\r\nCan anyone please help me? Thanks in advance..!","title":"JAVA how to convert JSONObject into a custom format?","body":"<p>What I am trying to do is to change a certain JSON file into a custom format, and I have been searching for the information for two days but I haven't figured it out and I have no one to ask about this....</p>\n<p><strong>Before Formatting</strong></p>\n<pre><code>{\n   &quot;book&quot;: [\n\n      {\n         &quot;id&quot;: &quot;01&quot;,\n         &quot;language&quot;: &quot;Java&quot;,\n         &quot;edition&quot;: &quot;third&quot;,\n         &quot;author&quot;: &quot;Herbert Schildt&quot;\n      },\n\n      {\n         &quot;id&quot;: &quot;07&quot;,\n         &quot;language&quot;: &quot;C++&quot;,\n         &quot;edition&quot;: &quot;second&quot;,\n         &quot;author&quot;: &quot;E.Balagurusamy&quot;\n      }\n\n   ]\n}\n</code></pre>\n<p><strong>Trying to format it into:</strong></p>\n<pre><code>Book\n      Id : 01\n      Language : Java\n      ...\n\n      Id : 07\n      Language : C++\n</code></pre>\n<p><strong>The actual JSON data is like this:</strong></p>\n<pre><code>[\n    {\n        &quot;symbol&quot;: &quot;BTC&quot;,\n        &quot;circulating_supply&quot;: 18729837,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:17:02.000Z&quot;,\n        &quot;total_supply&quot;: 18729837,\n        &quot;cmc_rank&quot;: 1,\n        &quot;platform&quot;: null,\n        &quot;tags&quot;: [\n            &quot;mineable&quot;,\n            &quot;pow&quot;,\n            &quot;sha-256&quot;,\n            &quot;store-of-value&quot;,\n            &quot;state-channels&quot;,\n            &quot;coinbase-ventures-portfolio&quot;,\n            &quot;three-arrows-capital-portfolio&quot;,\n            &quot;polychain-capital-portfolio&quot;,\n            &quot;binance-labs-portfolio&quot;,\n            &quot;arrington-xrp-capital&quot;,\n            &quot;blockchain-capital-portfolio&quot;,\n            &quot;boostvc-portfolio&quot;,\n            &quot;cms-holdings-portfolio&quot;,\n            &quot;dcg-portfolio&quot;,\n            &quot;dragonfly-capital-portfolio&quot;,\n            &quot;electric-capital-portfolio&quot;,\n            &quot;fabric-ventures-portfolio&quot;,\n            &quot;framework-ventures&quot;,\n            &quot;galaxy-digital-portfolio&quot;,\n            &quot;huobi-capital&quot;,\n            &quot;alameda-research-portfolio&quot;,\n            &quot;a16z-portfolio&quot;,\n            &quot;1confirmation-portfolio&quot;,\n            &quot;winklevoss-capital&quot;,\n            &quot;usv-portfolio&quot;,\n            &quot;placeholder-ventures-portfolio&quot;,\n            &quot;pantera-capital-portfolio&quot;,\n            &quot;multicoin-capital-portfolio&quot;,\n            &quot;paradigm-xzy-screener&quot;\n        ],\n        &quot;date_added&quot;: &quot;2013-04-28T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: -42.63012856,\n            &quot;percent_change_1h&quot;: 0.38317977,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:02.000Z&quot;,\n            &quot;percent_change_24h&quot;: -9.36685756,\n            &quot;market_cap&quot;: 619325019564.578,\n            &quot;price&quot;: 33066.22580669431,\n            &quot;percent_change_60d&quot;: -43.54639481,\n            &quot;volume_24h&quot;: 43132365330.36409,\n            &quot;percent_change_90d&quot;: -39.86303315,\n            &quot;percent_change_7d&quot;: -9.21607228\n        }},\n        &quot;num_market_pairs&quot;: 9722,\n        &quot;name&quot;: &quot;Bitcoin&quot;,\n        &quot;max_supply&quot;: 21000000,\n        &quot;id&quot;: 1,\n        &quot;slug&quot;: &quot;bitcoin&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;ETH&quot;,\n        &quot;circulating_supply&quot;: 116205430.624,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:17:02.000Z&quot;,\n        &quot;total_supply&quot;: 116205430.624,\n        &quot;cmc_rank&quot;: 2,\n        &quot;platform&quot;: null,\n        &quot;tags&quot;: [\n            &quot;mineable&quot;,\n            &quot;pow&quot;,\n            &quot;smart-contracts&quot;,\n            &quot;ethereum&quot;,\n            &quot;coinbase-ventures-portfolio&quot;,\n            &quot;three-arrows-capital-portfolio&quot;,\n            &quot;polychain-capital-portfolio&quot;,\n            &quot;binance-labs-portfolio&quot;,\n            &quot;arrington-xrp-capital&quot;,\n            &quot;blockchain-capital-portfolio&quot;,\n            &quot;boostvc-portfolio&quot;,\n            &quot;cms-holdings-portfolio&quot;,\n            &quot;dcg-portfolio&quot;,\n            &quot;dragonfly-capital-portfolio&quot;,\n            &quot;electric-capital-portfolio&quot;,\n            &quot;fabric-ventures-portfolio&quot;,\n            &quot;framework-ventures&quot;,\n            &quot;hashkey-capital-portfolio&quot;,\n            &quot;kinetic-capital&quot;,\n            &quot;huobi-capital&quot;,\n            &quot;alameda-research-portfolio&quot;,\n            &quot;a16z-portfolio&quot;,\n            &quot;1confirmation-portfolio&quot;,\n            &quot;winklevoss-capital&quot;,\n            &quot;usv-portfolio&quot;,\n            &quot;placeholder-ventures-portfolio&quot;,\n            &quot;pantera-capital-portfolio&quot;,\n            &quot;multicoin-capital-portfolio&quot;,\n            &quot;paradigm-xzy-screener&quot;\n        ],\n        &quot;date_added&quot;: &quot;2015-08-07T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: -34.93326351,\n            &quot;percent_change_1h&quot;: 0.0977492,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:02.000Z&quot;,\n            &quot;percent_change_24h&quot;: -10.67415695,\n            &quot;market_cap&quot;: 292465567141.6079,\n            &quot;price&quot;: 2516.797756964766,\n            &quot;percent_change_60d&quot;: 20.00514111,\n            &quot;volume_24h&quot;: 38463882117.94565,\n            &quot;percent_change_90d&quot;: 37.73403958,\n            &quot;percent_change_7d&quot;: -3.05561192\n        }},\n        &quot;num_market_pairs&quot;: 6053,\n        &quot;name&quot;: &quot;Ethereum&quot;,\n        &quot;max_supply&quot;: null,\n        &quot;id&quot;: 1027,\n        &quot;slug&quot;: &quot;ethereum&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;USDT&quot;,\n        &quot;circulating_supply&quot;: 62280355385.45168,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:16:08.000Z&quot;,\n        &quot;total_supply&quot;: 64471767616.826355,\n        &quot;cmc_rank&quot;: 3,\n        &quot;platform&quot;: {\n            &quot;symbol&quot;: &quot;ETH&quot;,\n            &quot;name&quot;: &quot;Ethereum&quot;,\n            &quot;token_address&quot;: &quot;0xdac17f958d2ee523a2206206994597c13d831ec7&quot;,\n            &quot;id&quot;: 1027,\n            &quot;slug&quot;: &quot;ethereum&quot;\n        },\n        &quot;tags&quot;: [\n            &quot;store-of-value&quot;,\n            &quot;payments&quot;,\n            &quot;stablecoin&quot;,\n            &quot;stablecoin-asset-backed&quot;,\n            &quot;solana-ecosystem&quot;\n        ],\n        &quot;date_added&quot;: &quot;2015-02-25T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: 0.08689942,\n            &quot;percent_change_1h&quot;: -0.01514305,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:16:08.000Z&quot;,\n            &quot;percent_change_24h&quot;: 0.00252658,\n            &quot;market_cap&quot;: 62333503909.90704,\n            &quot;price&quot;: 1.00085337542033,\n            &quot;percent_change_60d&quot;: 0.00890571,\n            &quot;volume_24h&quot;: 88090197454.22122,\n            &quot;percent_change_90d&quot;: 0.02421796,\n            &quot;percent_change_7d&quot;: 0.03190558\n        }},\n        &quot;num_market_pairs&quot;: 13483,\n        &quot;name&quot;: &quot;Tether&quot;,\n        &quot;max_supply&quot;: null,\n        &quot;id&quot;: 825,\n        &quot;slug&quot;: &quot;tether&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;BNB&quot;,\n        &quot;circulating_supply&quot;: 153432897,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:17:08.000Z&quot;,\n        &quot;total_supply&quot;: 169432897,\n        &quot;cmc_rank&quot;: 4,\n        &quot;platform&quot;: null,\n        &quot;tags&quot;: [\n            &quot;marketplace&quot;,\n            &quot;centralized-exchange&quot;,\n            &quot;payments&quot;,\n            &quot;binance-smart-chain&quot;,\n            &quot;alameda-research-portfolio&quot;,\n            &quot;multicoin-capital-portfolio&quot;\n        ],\n        &quot;date_added&quot;: &quot;2017-07-25T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: -46.98637267,\n            &quot;percent_change_1h&quot;: -0.06201527,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:08.000Z&quot;,\n            &quot;percent_change_24h&quot;: -12.9766759,\n            &quot;market_cap&quot;: 54032968135.19999,\n            &quot;price&quot;: 352.1602550149333,\n            &quot;percent_change_60d&quot;: -18.72766515,\n            &quot;volume_24h&quot;: 3975040241.706507,\n            &quot;percent_change_90d&quot;: 24.3131346,\n            &quot;percent_change_7d&quot;: 0.46465171\n        }},\n        &quot;num_market_pairs&quot;: 619,\n        &quot;name&quot;: &quot;Binance Coin&quot;,\n        &quot;max_supply&quot;: 170532785,\n        &quot;id&quot;: 1839,\n        &quot;slug&quot;: &quot;binance-coin&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;ADA&quot;,\n        &quot;circulating_supply&quot;: 31930548128.29,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:16:09.000Z&quot;,\n        &quot;total_supply&quot;: 32681678108.601,\n        &quot;cmc_rank&quot;: 5,\n        &quot;platform&quot;: null,\n        &quot;tags&quot;: [\n            &quot;mineable&quot;,\n            &quot;dpos&quot;,\n            &quot;pos&quot;,\n            &quot;platform&quot;,\n            &quot;research&quot;,\n            &quot;smart-contracts&quot;,\n            &quot;staking&quot;,\n            &quot;binance-chain&quot;\n        ],\n        &quot;date_added&quot;: &quot;2017-10-01T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: -9.47981292,\n            &quot;percent_change_1h&quot;: -1.0109768,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:16:09.000Z&quot;,\n            &quot;percent_change_24h&quot;: -10.68780802,\n            &quot;market_cap&quot;: 49082262157.72255,\n            &quot;price&quot;: 1.53715689315826,\n            &quot;percent_change_60d&quot;: 26.8779134,\n            &quot;volume_24h&quot;: 3602351530.9447293,\n            &quot;percent_change_90d&quot;: 31.00161031,\n            &quot;percent_change_7d&quot;: -9.66192067\n        }},\n        &quot;num_market_pairs&quot;: 276,\n        &quot;name&quot;: &quot;Cardano&quot;,\n        &quot;max_supply&quot;: 45000000000,\n        &quot;id&quot;: 2010,\n        &quot;slug&quot;: &quot;cardano&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;DOGE&quot;,\n        &quot;circulating_supply&quot;: 129939361256.40326,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:17:03.000Z&quot;,\n        &quot;total_supply&quot;: 129939361256.40326,\n        &quot;cmc_rank&quot;: 6,\n        &quot;platform&quot;: null,\n        &quot;tags&quot;: [\n            &quot;mineable&quot;,\n            &quot;pow&quot;,\n            &quot;scrypt&quot;,\n            &quot;medium-of-exchange&quot;,\n            &quot;memes&quot;,\n            &quot;payments&quot;\n        ],\n        &quot;date_added&quot;: &quot;2013-12-15T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: -27.85005369,\n            &quot;percent_change_1h&quot;: -0.39664229,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:03.000Z&quot;,\n            &quot;percent_change_24h&quot;: -12.06689716,\n            &quot;market_cap&quot;: 42746878864.849754,\n            &quot;price&quot;: 0.32897559639761,\n            &quot;percent_change_60d&quot;: 425.01053128,\n            &quot;volume_24h&quot;: 4256466078.3377676,\n            &quot;percent_change_90d&quot;: 479.75690549,\n            &quot;percent_change_7d&quot;: 1.48509162\n        }},\n        &quot;num_market_pairs&quot;: 376,\n        &quot;name&quot;: &quot;Dogecoin&quot;,\n        &quot;max_supply&quot;: null,\n        &quot;id&quot;: 74,\n        &quot;slug&quot;: &quot;dogecoin&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;XRP&quot;,\n        &quot;circulating_supply&quot;: 46151013329,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:17:03.000Z&quot;,\n        &quot;total_supply&quot;: 99990399027,\n        &quot;cmc_rank&quot;: 7,\n        &quot;platform&quot;: null,\n        &quot;tags&quot;: [\n            &quot;medium-of-exchange&quot;,\n            &quot;enterprise-solutions&quot;,\n            &quot;binance-chain&quot;,\n            &quot;arrington-xrp-capital&quot;,\n            &quot;galaxy-digital-portfolio&quot;,\n            &quot;a16z-portfolio&quot;,\n            &quot;pantera-capital-portfolio&quot;\n        ],\n        &quot;date_added&quot;: &quot;2013-08-04T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: -42.92640139,\n            &quot;percent_change_1h&quot;: -0.60106842,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:03.000Z&quot;,\n            &quot;percent_change_24h&quot;: -10.12249253,\n            &quot;market_cap&quot;: 39897934998.12378,\n            &quot;price&quot;: 0.8645083199734,\n            &quot;percent_change_60d&quot;: -15.63161843,\n            &quot;volume_24h&quot;: 4179902561.947919,\n            &quot;percent_change_90d&quot;: 84.29141004,\n            &quot;percent_change_7d&quot;: -14.85218801\n        }},\n        &quot;num_market_pairs&quot;: 682,\n        &quot;name&quot;: &quot;XRP&quot;,\n        &quot;max_supply&quot;: 100000000000,\n        &quot;id&quot;: 52,\n        &quot;slug&quot;: &quot;xrp&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;USDC&quot;,\n        &quot;circulating_supply&quot;: 23075185630.71199,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:17:04.000Z&quot;,\n        &quot;total_supply&quot;: 23075185630.71199,\n        &quot;cmc_rank&quot;: 8,\n        &quot;platform&quot;: {\n            &quot;symbol&quot;: &quot;ETH&quot;,\n            &quot;name&quot;: &quot;Ethereum&quot;,\n            &quot;token_address&quot;: &quot;0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48&quot;,\n            &quot;id&quot;: 1027,\n            &quot;slug&quot;: &quot;ethereum&quot;\n        },\n        &quot;tags&quot;: [\n            &quot;medium-of-exchange&quot;,\n            &quot;stablecoin&quot;,\n            &quot;stablecoin-asset-backed&quot;\n        ],\n        &quot;date_added&quot;: &quot;2018-10-08T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: 0.05408204,\n            &quot;percent_change_1h&quot;: -0.00816775,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:04.000Z&quot;,\n            &quot;percent_change_24h&quot;: 0.00649147,\n            &quot;market_cap&quot;: 23084217521.810787,\n            &quot;price&quot;: 1.00039141141672,\n            &quot;percent_change_60d&quot;: -0.05832072,\n            &quot;volume_24h&quot;: 2455031484.812885,\n            &quot;percent_change_90d&quot;: 0.02446002,\n            &quot;percent_change_7d&quot;: -0.0056865\n        }},\n        &quot;num_market_pairs&quot;: 1068,\n        &quot;name&quot;: &quot;USD Coin&quot;,\n        &quot;max_supply&quot;: null,\n        &quot;id&quot;: 3408,\n        &quot;slug&quot;: &quot;usd-coin&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;DOT&quot;,\n        &quot;circulating_supply&quot;: 945735752.6497443,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:17:05.000Z&quot;,\n        &quot;total_supply&quot;: 1081259867.5039322,\n        &quot;cmc_rank&quot;: 9,\n        &quot;platform&quot;: null,\n        &quot;tags&quot;: [\n            &quot;substrate&quot;,\n            &quot;polkadot&quot;,\n            &quot;binance-chain&quot;,\n            &quot;polkadot-ecosystem&quot;,\n            &quot;three-arrows-capital-portfolio&quot;,\n            &quot;polychain-capital-portfolio&quot;,\n            &quot;blockchain-capital-portfolio&quot;,\n            &quot;boostvc-portfolio&quot;,\n            &quot;cms-holdings-portfolio&quot;,\n            &quot;coinfund-portfolio&quot;,\n            &quot;fabric-ventures-portfolio&quot;,\n            &quot;fenbushi-capital-portfolio&quot;,\n            &quot;hashkey-capital-portfolio&quot;,\n            &quot;kinetic-capital&quot;,\n            &quot;1confirmation-portfolio&quot;,\n            &quot;placeholder-ventures-portfolio&quot;,\n            &quot;pantera-capital-portfolio&quot;,\n            &quot;exnetwork-capital-portfolio&quot;\n        ],\n        &quot;date_added&quot;: &quot;2020-08-19T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: -45.72649058,\n            &quot;percent_change_1h&quot;: -0.3486271,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:05.000Z&quot;,\n            &quot;percent_change_24h&quot;: -15.05195784,\n            &quot;market_cap&quot;: 20076748179.497543,\n            &quot;price&quot;: 21.22870804370766,\n            &quot;percent_change_60d&quot;: -48.77804479,\n            &quot;volume_24h&quot;: 2421158822.0532265,\n            &quot;percent_change_90d&quot;: -44.73258504,\n            &quot;percent_change_7d&quot;: -5.5027651\n        }},\n        &quot;num_market_pairs&quot;: 202,\n        &quot;name&quot;: &quot;Polkadot&quot;,\n        &quot;max_supply&quot;: null,\n        &quot;id&quot;: 6636,\n        &quot;slug&quot;: &quot;polkadot-new&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;UNI&quot;,\n        &quot;circulating_supply&quot;: 575107764.052485,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:16:11.000Z&quot;,\n        &quot;total_supply&quot;: 1000000000,\n        &quot;cmc_rank&quot;: 10,\n        &quot;platform&quot;: {\n            &quot;symbol&quot;: &quot;ETH&quot;,\n            &quot;name&quot;: &quot;Ethereum&quot;,\n            &quot;token_address&quot;: &quot;0x1f9840a85d5af5bf1d1762f925bdaddc4201f984&quot;,\n            &quot;id&quot;: 1027,\n            &quot;slug&quot;: &quot;ethereum&quot;\n        },\n        &quot;tags&quot;: [\n            &quot;decentralized-exchange&quot;,\n            &quot;defi&quot;,\n            &quot;dao&quot;,\n            &quot;yield-farming&quot;,\n            &quot;amm&quot;,\n            &quot;coinbase-ventures-portfolio&quot;,\n            &quot;three-arrows-capital-portfolio&quot;,\n            &quot;governance&quot;,\n            &quot;blockchain-capital-portfolio&quot;,\n            &quot;defiance-capital&quot;,\n            &quot;alameda-research-portfolio&quot;,\n            &quot;a16z-portfolio&quot;,\n            &quot;pantera-capital-portfolio&quot;,\n            &quot;parafi-capital&quot;,\n            &quot;paradigm-xzy-screener&quot;\n        ],\n        &quot;date_added&quot;: &quot;2020-09-17T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: -40.90238231,\n            &quot;percent_change_1h&quot;: -0.57439386,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:16:11.000Z&quot;,\n            &quot;percent_change_24h&quot;: -11.84522167,\n            &quot;market_cap&quot;: 13448377375.304375,\n            &quot;price&quot;: 23.38409984337659,\n            &quot;percent_change_60d&quot;: -23.21587997,\n            &quot;volume_24h&quot;: 569769688.2472888,\n            &quot;percent_change_90d&quot;: -26.98611642,\n            &quot;percent_change_7d&quot;: -13.63660968\n        }},\n        &quot;num_market_pairs&quot;: 270,\n        &quot;name&quot;: &quot;Uniswap&quot;,\n        &quot;max_supply&quot;: 1000000000,\n        &quot;id&quot;: 7083,\n        &quot;slug&quot;: &quot;uniswap&quot;\n    },\n    {\n        &quot;symbol&quot;: &quot;ICP&quot;,\n        &quot;circulating_supply&quot;: 124103517.19,\n        &quot;last_updated&quot;: &quot;2021-06-08T10:17:07.000Z&quot;,\n        &quot;total_supply&quot;: 469293126.8967923,\n        &quot;cmc_rank&quot;: 11,\n        &quot;platform&quot;: null,\n        &quot;tags&quot;: [\n            &quot;platform&quot;,\n            &quot;distributed-computing&quot;,\n            &quot;polychain-capital-portfolio&quot;,\n            &quot;exnetwork-capital-portfolio&quot;\n        ],\n        &quot;date_added&quot;: &quot;2021-03-23T00:00:00.000Z&quot;,\n        &quot;quote&quot;: {&quot;USD&quot;: {\n            &quot;percent_change_30d&quot;: 0,\n            &quot;percent_change_1h&quot;: -0.08952838,\n            &quot;last_updated&quot;: &quot;2021-06-08T10:17:07.000Z&quot;,\n            &quot;percent_change_24h&quot;: -15.3124386,\n            &quot;market_cap&quot;: 10992912823.823347,\n            &quot;price&quot;: 88.57857595601757,\n            &quot;percent_change_60d&quot;: 0,\n            &quot;volume_24h&quot;: 260287850.43941185,\n            &quot;percent_change_90d&quot;: 0,\n            &quot;percent_change_7d&quot;: -20.06340267\n        }},\n        &quot;num_market_pairs&quot;: 33,\n        &quot;name&quot;: &quot;Internet Computer&quot;,\n        &quot;max_supply&quot;: null,\n        &quot;id&quot;: 8916,\n        &quot;slug&quot;: &quot;internet-computer&quot;\n    },\n... and so on\n]\n</code></pre>\n<p>What I have been trying so far is to convert the JSONObject into a HashMap:</p>\n<pre><code>HashMap&lt;String, Object&gt; rs = new ObjectMapper().readValue(json.toString(), HashMap.class);\n</code></pre>\n<p>But I do not really know what to do now...</p>\n<p>Someone told me to use Jackson or GSon or nested HashMap, but I don't know how it would solve the problem...</p>\n<p>Can anyone please help me? Thanks in advance..!</p>\n"},{"tags":["java","multithreading","spring-boot","kafka-consumer-api","httpsession"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1646165231,"post_id":71311675,"comment_id":126054861,"body_markdown":"Can you provide a small code snippet?","body":"Can you provide a small code snippet?"},{"owner":{"account_id":11951921,"reputation":67,"user_id":8745360,"display_name":"Deepika Swarup"},"score":0,"creation_date":1646201081,"post_id":71311675,"comment_id":126061907,"body_markdown":"Hi Gray... I have updated above problem with code snippet.","body":"Hi Gray... I have updated above problem with code snippet."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646246685,"creation_date":1646246685,"answer_id":71327704,"question_id":71311675,"body_markdown":"&gt; java.lang.IllegalStateException: No thread-bound request found: \r\n\r\nThis exception is trying to tell you that there is no current request being processed by the `HttpServletRequest` that has been auto-wired into your class.\r\n\r\nSomething is calling the `putData()` method but not as through a call to the HTTP controller.  You mention that you are using the &quot;Kafka Consumer&quot; so maybe it is the consumer code which is calling `putData()`?  You can&#39;t call it because the method needs to have a web request context to work since it needs the request headers and cookie information.\r\n\r\nYou should probably separate out the data persistence code so that both the controller `putData()` method and the kafka consumer can both call it. \r\n","title":"Getting java.lang.IllegalStateException: No thread-bound request found when using Kafka Consumer to hit API","body":"<blockquote>\n<p>java.lang.IllegalStateException: No thread-bound request found:</p>\n</blockquote>\n<p>This exception is trying to tell you that there is no current request being processed by the <code>HttpServletRequest</code> that has been auto-wired into your class.</p>\n<p>Something is calling the <code>putData()</code> method but not as through a call to the HTTP controller.  You mention that you are using the &quot;Kafka Consumer&quot; so maybe it is the consumer code which is calling <code>putData()</code>?  You can't call it because the method needs to have a web request context to work since it needs the request headers and cookie information.</p>\n<p>You should probably separate out the data persistence code so that both the controller <code>putData()</code> method and the kafka consumer can both call it.</p>\n"}],"owner":{"account_id":11951921,"reputation":67,"user_id":8745360,"display_name":"Deepika Swarup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3073,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71327704,"answer_count":1,"score":1,"last_activity_date":1646246685,"creation_date":1646152151,"question_id":71311675,"body_markdown":"My requirement is to fetch cookie from the API requests and then pass on the same cookie to subsequent requests in order to maintain session using the same JsessionID.\r\n\r\nFor that I am trying to fetch cookie using HttpHeaders by Autowiring HttpServletRequests.\r\nIf I hit an API using Controller I don&#39;t get any exception and I am able to fetch all the request attributes but if I run Kafka and API runs through Kafka Consumer, I am getting below exception:\r\n\r\n*java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.*\r\n\r\n      \r\n \r\n\r\n      @Autowired\r\n      HttpServletRequest req;\r\n      \r\n      @Autowired\r\n      HttpServletResponse res;\r\n     \r\n     public ResponseBean putData() {\r\n\r\n        String jsessionId = null;\r\n        String id = null;\r\n\r\n        // Creating Headers for request\r\n        String authValue = req.getHeader(&quot;authorization&quot;);\r\n        String headerCookie = req.getHeader(&quot;Cookie&quot;);\r\n\r\n\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.set(&quot;authorization&quot;, authValue);\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n        httpHeaders.set(HttpHeaders.COOKIE, headerCookie);\r\n\r\n\r\n        HttpEntity httpEntity = new HttpEntity(httpHeaders);\r\n\r\n        ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange\r\n                (&quot;https://url&quot;, HttpMethod.POST, httpEntity, String.class);\r\n        jsessionId = responseEntity.getHeaders().getFirst(&quot;Set-Cookie&quot;);\r\n\r\n\r\n        if (jsessionId !=null &amp;&amp; jsessionId.contains(&quot;JSESSION&quot;)) {\r\n            logger.info(&quot;New login session created&quot;);\r\n            id = jsessionId.substring(jsessionId.indexOf(&#39;=&#39;) + 1, jsessionId.indexOf(&#39;;&#39;));\r\n           \r\n            Cookie cookie = new Cookie(&quot;JSESSIONID&quot;, id);\r\n            res.addCookie(cookie);\r\n        }\r\n}\r\n\r\nPS- I am not using SpringSecurity.\r\n\r\nCan anyone please help me in fixing the above issue.\r\n","title":"Getting java.lang.IllegalStateException: No thread-bound request found when using Kafka Consumer to hit API","body":"<p>My requirement is to fetch cookie from the API requests and then pass on the same cookie to subsequent requests in order to maintain session using the same JsessionID.</p>\n<p>For that I am trying to fetch cookie using HttpHeaders by Autowiring HttpServletRequests.\nIf I hit an API using Controller I don't get any exception and I am able to fetch all the request attributes but if I run Kafka and API runs through Kafka Consumer, I am getting below exception:</p>\n<p><em>java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</em></p>\n<pre><code>  @Autowired\n  HttpServletRequest req;\n  \n  @Autowired\n  HttpServletResponse res;\n \n public ResponseBean putData() {\n\n    String jsessionId = null;\n    String id = null;\n\n    // Creating Headers for request\n    String authValue = req.getHeader(&quot;authorization&quot;);\n    String headerCookie = req.getHeader(&quot;Cookie&quot;);\n\n\n    HttpHeaders httpHeaders = new HttpHeaders();\n    httpHeaders.set(&quot;authorization&quot;, authValue);\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    httpHeaders.set(HttpHeaders.COOKIE, headerCookie);\n\n\n    HttpEntity httpEntity = new HttpEntity(httpHeaders);\n\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange\n            (&quot;https://url&quot;, HttpMethod.POST, httpEntity, String.class);\n    jsessionId = responseEntity.getHeaders().getFirst(&quot;Set-Cookie&quot;);\n\n\n    if (jsessionId !=null &amp;&amp; jsessionId.contains(&quot;JSESSION&quot;)) {\n        logger.info(&quot;New login session created&quot;);\n        id = jsessionId.substring(jsessionId.indexOf('=') + 1, jsessionId.indexOf(';'));\n       \n        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;, id);\n        res.addCookie(cookie);\n    }\n</code></pre>\n<p>}</p>\n<p>PS- I am not using SpringSecurity.</p>\n<p>Can anyone please help me in fixing the above issue.</p>\n"},{"tags":["java","android","json","kotlin","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1646241100,"post_id":71324920,"comment_id":126076231,"body_markdown":"It is nothing strange, it is **very** common. 1) Make your `SimpleModel` class and its data field generic (with `var data: T? = null` in Kotlin if I&#39;m not mistaken). 2) Once the model class becomes generic, `SimpleModel::class.java` won&#39;t work anymore because it does not retain the generic type parameterization info, therefore you will need something like https://stackoverflow.com/questions/33381384/how-to-use-typetoken-generics-with-gson-in-kotlin in order to let Gson know what the actual type parameter of the `SimpleModel` is.","body":"It is nothing strange, it is <b>very</b> common. 1) Make your <code>SimpleModel</code> class and its data field generic (with <code>var data: T? = null</code> in Kotlin if I&#39;m not mistaken). 2) Once the model class becomes generic, <code>SimpleModel::class.java</code> won&#39;t work anymore because it does not retain the generic type parameterization info, therefore you will need something like <a href=\"https://stackoverflow.com/questions/33381384/how-to-use-typetoken-generics-with-gson-in-kotlin\" title=\"how to use typetoken generics with gson in kotlin\">stackoverflow.com/questions/33381384/&hellip;</a> in order to let Gson know what the actual type parameter of the <code>SimpleModel</code> is."},{"owner":{"account_id":16341962,"reputation":863,"user_id":11802671,"display_name":"Hhry"},"score":1,"creation_date":1646241678,"post_id":71324920,"comment_id":126076438,"body_markdown":"Thank you so much, I will have a try for that.","body":"Thank you so much, I will have a try for that."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1646242343,"post_id":71324920,"comment_id":126076705,"body_markdown":"Okay, I got a few more remarks to your specific problems. If the `data` field, when it&#39;s a string, always means an error (yeah, it is strange, I missed that in my previous comment), and a success is always an object, then you need to create a `JsonDeserializer` or `TypeAdapterFactory` implementation to detect the type of the object type during deserialization and deserialize that in either a success or an error object, depending. It&#39;s more complex than what I suggested above, and probably I&#39;ll suggested you a solution in Java later.","body":"Okay, I got a few more remarks to your specific problems. If the <code>data</code> field, when it&#39;s a string, always means an error (yeah, it is strange, I missed that in my previous comment), and a success is always an object, then you need to create a <code>JsonDeserializer</code> or <code>TypeAdapterFactory</code> implementation to detect the type of the object type during deserialization and deserialize that in either a success or an error object, depending. It&#39;s more complex than what I suggested above, and probably I&#39;ll suggested you a solution in Java later."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646243319,"creation_date":1646243319,"answer_id":71327060,"question_id":71324920,"body_markdown":"You would need to write a custom deserializer, which decides what type to deserialize `data` into, depending on the runtime type of the node, and register that deserializer with your `Gson` instance. Unfortunately i am not familiar with kotlin syntax, so i can only give you pseudo code.\r\n\r\n 1. Field `data` in `SimpleModel` should be either `Object`, or make the class generic - `SimpleModel&lt;T&gt;`, and the field should be of type `T` as well.\r\n 2. Parse the input to gson&#39;s node type - `JsonElement`.\r\n 3. Get data field\r\n```\r\nJsonElement root = parseResponse();\r\nroot.getAsJsonObject().get(&quot;data&quot;).getAsString();\r\n```\r\n 4. Use `getAs...()` methods to check type. \r\n 5. Get as string. If success, it&#39;s a string and set the string value in `SimpleModel`.\r\n 6. If you get exception getting as string, get it as object - `getAsJsonObject()`, parse the object to `SimpleData` and set this new object in `SimpleModel`.\r\n\r\nYou could use my [my answer here][1] as inspiration. Although it&#39;s about object mapper, it does the same thing - decides object type depending on the node type, and follows roughly the same algorithm i described above.\r\n\r\nAlso [this guide][2] has info about how to write yor own deserialzer and registering it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71224888/deserialize-to-generic-member-based-on-value/71225573#71225573\r\n  [2]: https://www.baeldung.com/gson-deserialization-guide","title":"Gson: Derserialize a dynamic field","body":"<p>You would need to write a custom deserializer, which decides what type to deserialize <code>data</code> into, depending on the runtime type of the node, and register that deserializer with your <code>Gson</code> instance. Unfortunately i am not familiar with kotlin syntax, so i can only give you pseudo code.</p>\n<ol>\n<li>Field <code>data</code> in <code>SimpleModel</code> should be either <code>Object</code>, or make the class generic - <code>SimpleModel&lt;T&gt;</code>, and the field should be of type <code>T</code> as well.</li>\n<li>Parse the input to gson's node type - <code>JsonElement</code>.</li>\n<li>Get data field</li>\n</ol>\n<pre><code>JsonElement root = parseResponse();\nroot.getAsJsonObject().get(&quot;data&quot;).getAsString();\n</code></pre>\n<ol start=\"4\">\n<li>Use <code>getAs...()</code> methods to check type.</li>\n<li>Get as string. If success, it's a string and set the string value in <code>SimpleModel</code>.</li>\n<li>If you get exception getting as string, get it as object - <code>getAsJsonObject()</code>, parse the object to <code>SimpleData</code> and set this new object in <code>SimpleModel</code>.</li>\n</ol>\n<p>You could use my <a href=\"https://stackoverflow.com/questions/71224888/deserialize-to-generic-member-based-on-value/71225573#71225573\">my answer here</a> as inspiration. Although it's about object mapper, it does the same thing - decides object type depending on the node type, and follows roughly the same algorithm i described above.</p>\n<p>Also <a href=\"https://www.baeldung.com/gson-deserialization-guide\" rel=\"nofollow noreferrer\">this guide</a> has info about how to write yor own deserialzer and registering it.</p>\n"},{"tags":[],"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646246255,"creation_date":1646246255,"answer_id":71327622,"question_id":71324920,"body_markdown":"Like the previous answer, I am not familiarized with Kotlin, and the following solution is in Java, but as I know it is easy to convert Java to Kotlin using IntelliJ built-in tools.\r\n\r\nThe success/error objects pair is a classic problem, and you can create your own way to solve it, but let&#39;s consider the following classes represent the success and error objects respectively (Java 17, pattern matching on switch enabled then):\r\n\r\n```java\r\nabstract sealed class SimpleModel&lt;T&gt;\r\n\t\tpermits SimpleModelSuccess, SimpleModelError {\r\n\r\n\t@SerializedName(&quot;code&quot;)\r\n\tfinal int code;\r\n\r\n\tSimpleModel(final int code) {\r\n\t\tthis.code = code;\r\n\t}\r\n\r\n}\r\n\r\nfinal class SimpleModelSuccess&lt;T&gt;\r\n\t\textends SimpleModel&lt;T&gt; {\r\n\r\n\t@SerializedName(&quot;data&quot;)\r\n\tfinal T data;\r\n\r\n\tprivate SimpleModelSuccess(final int code, final T data) {\r\n\t\tsuper(code);\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n}\r\n\r\nfinal class SimpleModelError&lt;T&gt;\r\n\t\textends SimpleModel&lt;T&gt; {\r\n\r\n\t@SerializedName(&quot;data&quot;) // the annotation is helping here!\r\n\tfinal String message;\r\n\r\n\tprivate SimpleModelError(final int code, final String message) {\r\n\t\tsuper(code);\r\n\t\tthis.message = message;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe code above can explain itself. Now the core part that required more work than I thought before by providing you my first comment that appeared incomplete.\r\n\r\n```java\r\n@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\r\nfinal class SimpleModelTypeAdapterFactory\r\n\t\timplements TypeAdapterFactory {\r\n\r\n\t@Getter\r\n\tprivate static final TypeAdapterFactory instance = new SimpleModelTypeAdapterFactory();\r\n\r\n\t@Override\r\n\t@Nullable\r\n\tpublic &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n\t\tif ( !SimpleModel.class.isAssignableFrom(typeToken.getRawType()) ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t// let&#39;s figure out what the model is parameterized with\r\n\t\tfinal Type type = typeToken.getType();\r\n\t\tfinal Type typeParameter;\r\n\t\tif ( type instanceof ParameterizedType parameterizedType ) {\r\n\t\t\ttypeParameter = parameterizedType.getActualTypeArguments()[0];\r\n\t\t} else {\r\n\t\t\tthrow new UnsupportedOperationException(&quot;Cannot infer type parameter from &quot; + type);\r\n\t\t}\r\n\t\t// then borrow their respective type adapters for both success and error cases\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tfinal TypeAdapter&lt;T&gt; successDelegate = (TypeAdapter&lt;T&gt;) gson.getDelegateAdapter(this, TypeToken.getParameterized(SimpleModelSuccess.class, typeParameter));\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tfinal TypeAdapter&lt;T&gt; errorDelegate = (TypeAdapter&lt;T&gt;) gson.getDelegateAdapter(this, TypeToken.getParameterized(SimpleModelError.class, typeParameter));\r\n\t\treturn new TypeAdapter&lt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void write(final JsonWriter out, final T value) {\r\n\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic T read(final JsonReader in) {\r\n\t\t\t\t// buffer the JSON tree first\r\n\t\t\t\t// note that this solution may be very inefficient under some circumstances\r\n\t\t\t\tfinal JsonObject buffer = Streams.parse(in).getAsJsonObject();\r\n\t\t\t\tfinal JsonElement dataElement = buffer.get(&quot;data&quot;);\r\n\t\t\t\t// is it&#39;s data is {...}, the consider it is success (by the way, what is code about?)\r\n\t\t\t\tif ( dataElement.isJsonObject() ) {\r\n\t\t\t\t\treturn successDelegate.fromJsonTree(buffer);\r\n\t\t\t\t}\r\n\t\t\t\t// if it&#39;s a primitive, consider it&#39;s an error\r\n\t\t\t\tif ( dataElement.isJsonPrimitive() ) {\r\n\t\t\t\t\treturn errorDelegate.fromJsonTree(buffer);\r\n\t\t\t\t}\r\n\t\t\t\t// well we&#39;ve done our best...\r\n\t\t\t\tthrow new JsonParseException(String.format(&quot;Cannot deduce the model for %s&quot;, buffer.getClass()));\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic final class SimpleModelTypeAdapterFactoryTest {\r\n\r\n\tprivate static final class SomeJsonProvider\r\n\t\t\timplements ArgumentsProvider {\r\n\r\n\t\t@Override\r\n\t\tpublic Stream&lt;? extends Arguments&gt; provideArguments(final ExtensionContext context) {\r\n\t\t\treturn Stream.of(\r\n\t\t\t\t\tArguments.of(\r\n\t\t\t\t\t\t\t&quot;&quot;&quot;\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t&quot;code&quot;: 2000,\r\n\t\t\t\t\t\t\t\t&quot;data&quot;: {\r\n\t\t\t\t\t\t\t\t\t&quot;id&quot;: 1,\r\n\t\t\t\t\t\t\t\t\t&quot;name&quot;: &quot;example&quot;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t&quot;&quot;&quot;\r\n\t\t\t\t\t),\r\n\t\t\t\t\tArguments.of(\r\n\t\t\t\t\t\t\t&quot;&quot;&quot;\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t&quot;code&quot;: 2001,\r\n\t\t\t\t\t\t\t\t&quot;data&quot;: &quot;Error!&quot;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t&quot;&quot;&quot;\r\n\t\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n\t@ToString\r\n\tprivate static final class SimpleData {\r\n\r\n\t\tprivate final String id;\r\n\t\tprivate final String name;\r\n\r\n\t}\r\n\r\n\tprivate static final Type simpleModelOfSimpleDataType = TypeToken.getParameterized(SimpleModel.class, SimpleData.class)\r\n\t\t\t.getType();\r\n\r\n\t@ParameterizedTest\r\n\t@ArgumentsSource(SomeJsonProvider.class)\r\n\tpublic void test(final String json) {\r\n\t\tfinal Gson gson = new GsonBuilder()\r\n\t\t\t\t.disableHtmlEscaping()\r\n\t\t\t\t.disableInnerClassSerialization()\r\n\t\t\t\t.registerTypeAdapterFactory(SimpleModelTypeAdapterFactory.getInstance())\r\n\t\t\t\t.create();\r\n\t\tfinal SimpleModel&lt;SimpleData&gt; model = gson.fromJson(json, simpleModelOfSimpleDataType);\r\n\t\tswitch ( model ) {\r\n\t\tcase SimpleModelSuccess&lt;SimpleData&gt; success -&gt; System.out.println(success.data);\r\n\t\tcase SimpleModelError&lt;SimpleData&gt; error -&gt; System.out.println(error.message);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is what it prints to stdout:\r\n\r\n&gt; SimpleModelTypeAdapterFactoryTest.SimpleData(id=1, name=example)  \r\n&gt; Error!  \r\n\r\nWell, yeah, this is a &quot;bit&quot; more tricky than it was suggested by my first comment.","title":"Gson: Derserialize a dynamic field","body":"<p>Like the previous answer, I am not familiarized with Kotlin, and the following solution is in Java, but as I know it is easy to convert Java to Kotlin using IntelliJ built-in tools.</p>\n<p>The success/error objects pair is a classic problem, and you can create your own way to solve it, but let's consider the following classes represent the success and error objects respectively (Java 17, pattern matching on switch enabled then):</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract sealed class SimpleModel&lt;T&gt;\n        permits SimpleModelSuccess, SimpleModelError {\n\n    @SerializedName(&quot;code&quot;)\n    final int code;\n\n    SimpleModel(final int code) {\n        this.code = code;\n    }\n\n}\n\nfinal class SimpleModelSuccess&lt;T&gt;\n        extends SimpleModel&lt;T&gt; {\n\n    @SerializedName(&quot;data&quot;)\n    final T data;\n\n    private SimpleModelSuccess(final int code, final T data) {\n        super(code);\n        this.data = data;\n    }\n\n}\n\nfinal class SimpleModelError&lt;T&gt;\n        extends SimpleModel&lt;T&gt; {\n\n    @SerializedName(&quot;data&quot;) // the annotation is helping here!\n    final String message;\n\n    private SimpleModelError(final int code, final String message) {\n        super(code);\n        this.message = message;\n    }\n\n}\n</code></pre>\n<p>The code above can explain itself. Now the core part that required more work than I thought before by providing you my first comment that appeared incomplete.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\nfinal class SimpleModelTypeAdapterFactory\n        implements TypeAdapterFactory {\n\n    @Getter\n    private static final TypeAdapterFactory instance = new SimpleModelTypeAdapterFactory();\n\n    @Override\n    @Nullable\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n        if ( !SimpleModel.class.isAssignableFrom(typeToken.getRawType()) ) {\n            return null;\n        }\n        // let's figure out what the model is parameterized with\n        final Type type = typeToken.getType();\n        final Type typeParameter;\n        if ( type instanceof ParameterizedType parameterizedType ) {\n            typeParameter = parameterizedType.getActualTypeArguments()[0];\n        } else {\n            throw new UnsupportedOperationException(&quot;Cannot infer type parameter from &quot; + type);\n        }\n        // then borrow their respective type adapters for both success and error cases\n        @SuppressWarnings(&quot;unchecked&quot;)\n        final TypeAdapter&lt;T&gt; successDelegate = (TypeAdapter&lt;T&gt;) gson.getDelegateAdapter(this, TypeToken.getParameterized(SimpleModelSuccess.class, typeParameter));\n        @SuppressWarnings(&quot;unchecked&quot;)\n        final TypeAdapter&lt;T&gt; errorDelegate = (TypeAdapter&lt;T&gt;) gson.getDelegateAdapter(this, TypeToken.getParameterized(SimpleModelError.class, typeParameter));\n        return new TypeAdapter&lt;&gt;() {\n            @Override\n            public void write(final JsonWriter out, final T value) {\n                throw new UnsupportedOperationException();\n            }\n\n            @Override\n            public T read(final JsonReader in) {\n                // buffer the JSON tree first\n                // note that this solution may be very inefficient under some circumstances\n                final JsonObject buffer = Streams.parse(in).getAsJsonObject();\n                final JsonElement dataElement = buffer.get(&quot;data&quot;);\n                // is it's data is {...}, the consider it is success (by the way, what is code about?)\n                if ( dataElement.isJsonObject() ) {\n                    return successDelegate.fromJsonTree(buffer);\n                }\n                // if it's a primitive, consider it's an error\n                if ( dataElement.isJsonPrimitive() ) {\n                    return errorDelegate.fromJsonTree(buffer);\n                }\n                // well we've done our best...\n                throw new JsonParseException(String.format(&quot;Cannot deduce the model for %s&quot;, buffer.getClass()));\n            }\n        };\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public final class SimpleModelTypeAdapterFactoryTest {\n\n    private static final class SomeJsonProvider\n            implements ArgumentsProvider {\n\n        @Override\n        public Stream&lt;? extends Arguments&gt; provideArguments(final ExtensionContext context) {\n            return Stream.of(\n                    Arguments.of(\n                            &quot;&quot;&quot;\n                            {\n                                &quot;code&quot;: 2000,\n                                &quot;data&quot;: {\n                                    &quot;id&quot;: 1,\n                                    &quot;name&quot;: &quot;example&quot;\n                                }\n                            }\n                            &quot;&quot;&quot;\n                    ),\n                    Arguments.of(\n                            &quot;&quot;&quot;\n                            {\n                                &quot;code&quot;: 2001,\n                                &quot;data&quot;: &quot;Error!&quot;\n                            }\n                            &quot;&quot;&quot;\n                    )\n            );\n        }\n\n    }\n\n    @AllArgsConstructor(access = AccessLevel.PRIVATE)\n    @ToString\n    private static final class SimpleData {\n\n        private final String id;\n        private final String name;\n\n    }\n\n    private static final Type simpleModelOfSimpleDataType = TypeToken.getParameterized(SimpleModel.class, SimpleData.class)\n            .getType();\n\n    @ParameterizedTest\n    @ArgumentsSource(SomeJsonProvider.class)\n    public void test(final String json) {\n        final Gson gson = new GsonBuilder()\n                .disableHtmlEscaping()\n                .disableInnerClassSerialization()\n                .registerTypeAdapterFactory(SimpleModelTypeAdapterFactory.getInstance())\n                .create();\n        final SimpleModel&lt;SimpleData&gt; model = gson.fromJson(json, simpleModelOfSimpleDataType);\n        switch ( model ) {\n        case SimpleModelSuccess&lt;SimpleData&gt; success -&gt; System.out.println(success.data);\n        case SimpleModelError&lt;SimpleData&gt; error -&gt; System.out.println(error.message);\n        }\n    }\n\n}\n</code></pre>\n<p>Here is what it prints to stdout:</p>\n<blockquote>\n<p>SimpleModelTypeAdapterFactoryTest.SimpleData(id=1, name=example)<br />\nError!</p>\n</blockquote>\n<p>Well, yeah, this is a &quot;bit&quot; more tricky than it was suggested by my first comment.</p>\n"}],"owner":{"account_id":16341962,"reputation":863,"user_id":11802671,"display_name":"Hhry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646246255,"creation_date":1646233553,"question_id":71324920,"body_markdown":"I&#39;m using a very strange api, it&#39;s data field type is dynamic.  \r\nIf error occured, the data field will be a string like this:\r\n```json\r\n{\r\n  &quot;code&quot;: 2001,\r\n  &quot;data&quot;: &quot;Error!&quot;\r\n}\r\n```\r\nAnd if success, the data field will be a object:\r\n```json\r\n{\r\n  &quot;code&quot;: 2000,\r\n  &quot;data&quot;: {\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;example&quot;\r\n  }\r\n}\r\n```\r\nI&#39;m using the following Kotlin code to de-serialize it:\r\n```kotlin\r\nreturn Gson().fromJson(data, SimpleModel::class.java)\r\n```\r\nThe model definition is down below:\r\n```kotlin\r\nimport com.google.gson.annotations.SerializedName\r\n\r\nclass SimpleModel {\r\n    @SerializedName(&quot;code&quot;)\r\n    val code = 0\r\n\r\n    @SerializedName(&quot;data&quot;)\r\n    val data: SimpleData = SimpleData()\r\n}\r\n\r\nclass SimpleData {\r\n    @SerializedName(&quot;id&quot;)\r\n    val id = &quot;&quot;\r\n\r\n    @SerializedName(&quot;name&quot;)\r\n    val name = &quot;&quot;\r\n}\r\n```\r\nWhen no error occred, the code above works just fine. However when error occured, exception was thrown:\r\n```\r\njava.lang.IllegalStateException: Excepted BEGIN_OBJECT but was STRING at line 1 column x $path.data\r\n```\r\nIs there a way to de-serialize ``data`` field to an object or just anything and determine it&#39;s type by code manually?","title":"Gson: Derserialize a dynamic field","body":"<p>I'm using a very strange api, it's data field type is dynamic.<br />\nIf error occured, the data field will be a string like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;code&quot;: 2001,\n  &quot;data&quot;: &quot;Error!&quot;\n}\n</code></pre>\n<p>And if success, the data field will be a object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;code&quot;: 2000,\n  &quot;data&quot;: {\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;example&quot;\n  }\n}\n</code></pre>\n<p>I'm using the following Kotlin code to de-serialize it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>return Gson().fromJson(data, SimpleModel::class.java)\n</code></pre>\n<p>The model definition is down below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.google.gson.annotations.SerializedName\n\nclass SimpleModel {\n    @SerializedName(&quot;code&quot;)\n    val code = 0\n\n    @SerializedName(&quot;data&quot;)\n    val data: SimpleData = SimpleData()\n}\n\nclass SimpleData {\n    @SerializedName(&quot;id&quot;)\n    val id = &quot;&quot;\n\n    @SerializedName(&quot;name&quot;)\n    val name = &quot;&quot;\n}\n</code></pre>\n<p>When no error occred, the code above works just fine. However when error occured, exception was thrown:</p>\n<pre><code>java.lang.IllegalStateException: Excepted BEGIN_OBJECT but was STRING at line 1 column x $path.data\n</code></pre>\n<p>Is there a way to de-serialize <code>data</code> field to an object or just anything and determine it's type by code manually?</p>\n"},{"tags":["java","sql","spring","postgresql","spring-data"],"comments":[{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1646290489,"post_id":71327557,"comment_id":126087769,"body_markdown":"What is the actual SQL statement that is sent to the server?","body":"What is the actual SQL statement that is sent to the server?"}],"owner":{"account_id":5716007,"reputation":128,"user_id":4522389,"display_name":"David S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646245920,"creation_date":1646245920,"question_id":71327557,"body_markdown":"I&#39;m seeing the below error whenever I try and execute a nativeQuery with params.\r\n\r\n```\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\r\n```\r\n\r\nThe query being used and repo function is below\r\n```\r\nprivate String queryStr = &quot;SELECT * FROM schema1.txn &quot; +\r\n        &quot;WHERE stat = &#39;Shipped&#39; &quot; +\r\n        &quot;AND id IN :idList\\\\:\\\\:text[] &quot; +\r\n        &quot;AND issue_dt &lt; NOW() - :ageToExpire\\\\:\\\\:interval&quot;;\r\n\r\n@Query(value = queryStr, nativeQuery = true)\r\nList&lt;txn&gt; findTxns(\r\n        @Param(&quot;idList&quot;) String idList,\r\n        @Param(&quot;ageToExpire&quot;) String ageToExpire\r\n);\r\n```\r\n\r\nAnd the ```findTxns``` call looks like so\r\n```\r\n.findTxns(&quot;(&#39;ID1&#39;,&#39;ID2&#39;,&#39;ID3&#39;)&quot;, &quot;&#39;10 days&#39;&quot;)\r\n```\r\n\r\nI&#39;m unsure as to why I&#39;m still seeing the above error. I&#39;m casting the string params to their respective text list and interval types but Postgres doesn&#39;t seem to agree with that. I&#39;ve seen similar issues but I can&#39;t seem to get any of the marked resolutions working in my case; I&#39;ve tried isolating the query to just use one param but that isn&#39;t resolving anything.","title":"PostgreSQL NativeQuery with Param - org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;","body":"<p>I'm seeing the below error whenever I try and execute a nativeQuery with params.</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\n</code></pre>\n<p>The query being used and repo function is below</p>\n<pre><code>private String queryStr = &quot;SELECT * FROM schema1.txn &quot; +\n        &quot;WHERE stat = 'Shipped' &quot; +\n        &quot;AND id IN :idList\\\\:\\\\:text[] &quot; +\n        &quot;AND issue_dt &lt; NOW() - :ageToExpire\\\\:\\\\:interval&quot;;\n\n@Query(value = queryStr, nativeQuery = true)\nList&lt;txn&gt; findTxns(\n        @Param(&quot;idList&quot;) String idList,\n        @Param(&quot;ageToExpire&quot;) String ageToExpire\n);\n</code></pre>\n<p>And the <code>findTxns</code> call looks like so</p>\n<pre><code>.findTxns(&quot;('ID1','ID2','ID3')&quot;, &quot;'10 days'&quot;)\n</code></pre>\n<p>I'm unsure as to why I'm still seeing the above error. I'm casting the string params to their respective text list and interval types but Postgres doesn't seem to agree with that. I've seen similar issues but I can't seem to get any of the marked resolutions working in my case; I've tried isolating the query to just use one param but that isn't resolving anything.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1645997352,"post_id":71288505,"comment_id":126010053,"body_markdown":"Callback using context. But would be useful to know what you&#39;re trying to do and see if there&#39;s a better solution","body":"Callback using context. But would be useful to know what you&#39;re trying to do and see if there&#39;s a better solution"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1645998370,"post_id":71288505,"comment_id":126010234,"body_markdown":"You should have a reference to the fragment in that container activity; because it did the transaction in it; using it, you can setup a custom listener between the activity &amp; fragment","body":"You should have a reference to the fragment in that container activity; because it did the transaction in it; using it, you can setup a custom listener between the activity &amp; fragment"},{"owner":{"account_id":22356258,"reputation":53,"user_id":16573502,"display_name":"AK105"},"score":0,"creation_date":1645998682,"post_id":71288505,"comment_id":126010292,"body_markdown":"I&#39;m sorry I don&#39;t understand. Are you trying to say that I should create a listener and override it in the main activity?","body":"I&#39;m sorry I don&#39;t understand. Are you trying to say that I should create a listener and override it in the main activity?"}],"answers":[{"tags":[],"owner":{"account_id":23870445,"reputation":35,"user_id":17872214,"display_name":"Stud 20178034"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645999639,"creation_date":1645999639,"answer_id":71288827,"question_id":71288505,"body_markdown":"You can use custom broadcast receiver\r\nYou will register a receiver on button click in fragment\r\nThen in activity apply action if this broadcast action equal to this custom action","title":"Set an on click listener on button in a fragment in the main activity file","body":"<p>You can use custom broadcast receiver\nYou will register a receiver on button click in fragment\nThen in activity apply action if this broadcast action equal to this custom action</p>\n"},{"tags":[],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646245629,"creation_date":1646245629,"answer_id":71327515,"question_id":71288505,"body_markdown":"you can use interface for this problem","title":"Set an on click listener on button in a fragment in the main activity file","body":"<p>you can use interface for this problem</p>\n"}],"owner":{"account_id":22356258,"reputation":53,"user_id":16573502,"display_name":"AK105"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646245629,"creation_date":1645996403,"question_id":71288505,"body_markdown":"I have tried to do some research on the topic and I am attempting to add an on-click listener for a button in a fragment in the main activity. So when I click a button in a fragment the click can get registered in the main activity file.","title":"Set an on click listener on button in a fragment in the main activity file","body":"<p>I have tried to do some research on the topic and I am attempting to add an on-click listener for a button in a fragment in the main activity. So when I click a button in a fragment the click can get registered in the main activity file.</p>\n"},{"tags":["java","android","button"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646246158,"post_id":71327475,"comment_id":126077992,"body_markdown":"Try using [LocalTime](https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html) with `getHour()` and `getMinutes()` to get the times you want.","body":"Try using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\">LocalTime</a> with <code>getHour()</code> and <code>getMinutes()</code> to get the times you want."},{"owner":{"account_id":24113832,"reputation":9,"user_id":18084042,"display_name":"Abhi Deshmukh"},"score":0,"creation_date":1646246324,"post_id":71327475,"comment_id":126078060,"body_markdown":"@OrestesK disable .i am able to disable button with mentioned code but it works only hourly. Meaning button will be disabled on 23pm and i want to disable button from 23:30pm onwards","body":"@OrestesK disable .i am able to disable button with mentioned code but it works only hourly. Meaning button will be disabled on 23pm and i want to disable button from 23:30pm onwards"},{"owner":{"account_id":24113832,"reputation":9,"user_id":18084042,"display_name":"Abhi Deshmukh"},"score":0,"creation_date":1646246385,"post_id":71327475,"comment_id":126078080,"body_markdown":"@AliasCartellano thank you for suggesting but i am from non coding background and I don&#39;t know how to do it","body":"@AliasCartellano thank you for suggesting but i am from non coding background and I don&#39;t know how to do it"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1646246536,"post_id":71327475,"comment_id":126078142,"body_markdown":"import java.time.LocalTime, create a `LocalTime` object using `LocalTime.now()` and then use `getHours()` and `getMinute()` to get the times you want.","body":"import java.time.LocalTime, create a <code>LocalTime</code> object using <code>LocalTime.now()</code> and then use <code>getHours()</code> and <code>getMinute()</code> to get the times you want."}],"owner":{"account_id":24113832,"reputation":9,"user_id":18084042,"display_name":"Abhi Deshmukh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646245462,"creation_date":1646245462,"question_id":71327475,"body_markdown":"I am trying to disable a button from 23:30 to 1:30 but i don&#39;t know how to do it.\r\n\r\nWith this below code i am able to disable button from 23 to 1 meaning button will be disabled from 23pm to 1 am but i want to disable button from 23:30 pm to 1:30 am.\r\n\r\n\r\n\r\n\r\n```btncount10.setOnClickListener ( new View.OnClickListener ( ) {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int hours = new Time(System.currentTimeMillis()).getHours();\r\n                if(hours == 23 || hours == 24||hours == 01){\r\n                    //Disable\r\n\r\n\r\n                }else{\r\n                    //Enable\r\n\r\n                    count10counter++;\r\n\r\n\r\n\r\n                }   ```","title":"Button disable for specific time period in android studio","body":"<p>I am trying to disable a button from 23:30 to 1:30 but i don't know how to do it.</p>\n<p>With this below code i am able to disable button from 23 to 1 meaning button will be disabled from 23pm to 1 am but i want to disable button from 23:30 pm to 1:30 am.</p>\n<pre><code>            @Override\n            public void onClick(View v) {\n                int hours = new Time(System.currentTimeMillis()).getHours();\n                if(hours == 23 || hours == 24||hours == 01){\n                    //Disable\n\n\n                }else{\n                    //Enable\n\n                    count10counter++;\n\n\n\n                }   ```\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1646245531,"post_id":71327419,"comment_id":126077780,"body_markdown":"What you&#39;re looking for is annotation processing. See https://hannesdorfmann.com/annotation-processing/annotationprocessing101/ and https://www.baeldung.com/java-annotation-processing-builder.","body":"What you&#39;re looking for is annotation processing. See <a href=\"https://hannesdorfmann.com/annotation-processing/annotationprocessing101/\" rel=\"nofollow noreferrer\">hannesdorfmann.com/annotation-processing/&hellip;</a> and <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">baeldung.com/java-annotation-processing-builder</a>."}],"owner":{"account_id":18247098,"reputation":601,"user_id":13282963,"display_name":"Ciro Garc&#237;a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646245161,"creation_date":1646245161,"question_id":71327419,"body_markdown":"I am trying to create an Experimental annotation. My goal is to be able to use it in any method, variable or class declaration, and when the program is run, for every time an Element with the Experimental annotation, a warning should be sent to the console, reminding the user that they are working with experimental stuff. Something like this:\r\n\r\n```java\r\n\r\n@Experimental // Maybe this should go above the constructor? I&#39;m not sure, the class itself is experimental, not just the specific constructor\r\npublic class MyClass {\r\n\r\n    public MyClass() {\r\n        // Constructor stuff\r\n    }\r\n\r\n    @Experimental\r\n    public void myExperimentalMethod(){\r\n        // Just a method that is still in its experimental state\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n\r\npublic class Program {\r\n    public static void main(String[] args) {\r\n        MyClass myClass = new MyClass(); // When this line is run, a warning should be sent to the console\r\n\r\n        myClass.myExperimentalMethod(); // This line should also send a warning to the console\r\n    }\r\n}\r\n```\r\n\r\nSo far, I have my own annotation interface, like so: \r\n```java\r\nimport java.lang.annotation.*;\r\n\r\n/**\r\n *\r\n * This element has experimental maturity.  Use with caution.\r\n *\r\n *\r\n * NOTE: The developers of this element is not responsible for the issues created,\r\n * using it is not suggested for production environment.\r\n */\r\n\r\n\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.TYPE, ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER,\r\n        ElementType.CONSTRUCTOR, ElementType.LOCAL_VARIABLE, ElementType.PACKAGE,\r\n        ElementType.ANNOTATION_TYPE, ElementType.TYPE_USE, ElementType.TYPE_PARAMETER\r\n})\r\npublic @interface Experimental {\r\n\r\n}\r\n```\r\n\r\nBut it does nothing, it just sits on top of an Element and acts like a regular comment, so as of right now it is just an eye-catching comment. I&#39;ve read about Annotation Processors, but everything I&#39;ve found is for processing the source file, and they don&#39;t work on runtime. As you can imagine, I&#39;m not really familiar with annotations, but they seem like the right way to implement this feature.\r\n\r\nNow, straight to the point:\r\n**How can I execute code (wether it is using a callback, or a method, or whatever) every time an Element with a specific Annotation is used in runtime?**","title":"Callback using annotations","body":"<p>I am trying to create an Experimental annotation. My goal is to be able to use it in any method, variable or class declaration, and when the program is run, for every time an Element with the Experimental annotation, a warning should be sent to the console, reminding the user that they are working with experimental stuff. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Experimental // Maybe this should go above the constructor? I'm not sure, the class itself is experimental, not just the specific constructor\npublic class MyClass {\n\n    public MyClass() {\n        // Constructor stuff\n    }\n\n    @Experimental\n    public void myExperimentalMethod(){\n        // Just a method that is still in its experimental state\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Program {\n    public static void main(String[] args) {\n        MyClass myClass = new MyClass(); // When this line is run, a warning should be sent to the console\n\n        myClass.myExperimentalMethod(); // This line should also send a warning to the console\n    }\n}\n</code></pre>\n<p>So far, I have my own annotation interface, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.*;\n\n/**\n *\n * This element has experimental maturity.  Use with caution.\n *\n *\n * NOTE: The developers of this element is not responsible for the issues created,\n * using it is not suggested for production environment.\n */\n\n\n@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER,\n        ElementType.CONSTRUCTOR, ElementType.LOCAL_VARIABLE, ElementType.PACKAGE,\n        ElementType.ANNOTATION_TYPE, ElementType.TYPE_USE, ElementType.TYPE_PARAMETER\n})\npublic @interface Experimental {\n\n}\n</code></pre>\n<p>But it does nothing, it just sits on top of an Element and acts like a regular comment, so as of right now it is just an eye-catching comment. I've read about Annotation Processors, but everything I've found is for processing the source file, and they don't work on runtime. As you can imagine, I'm not really familiar with annotations, but they seem like the right way to implement this feature.</p>\n<p>Now, straight to the point:\n<strong>How can I execute code (wether it is using a callback, or a method, or whatever) every time an Element with a specific Annotation is used in runtime?</strong></p>\n"},{"tags":["java","image","android-studio","video","compression"],"comments":[{"owner":{"account_id":9827167,"reputation":889,"user_id":7280036,"display_name":"Suraj Gupta"},"score":0,"creation_date":1594265783,"post_id":62519900,"comment_id":111067327,"body_markdown":"Here you can find the proper documentation to implement https://github.com/Tourenathan-G5organisation/SiliCompressor","body":"Here you can find the proper documentation to implement <a href=\"https://github.com/Tourenathan-G5organisation/SiliCompressor\" rel=\"nofollow noreferrer\">github.com/Tourenathan-G5organisation/SiliCompressor</a>"}],"answers":[{"tags":[],"owner":{"account_id":18365379,"reputation":117,"user_id":13376540,"display_name":"OneKe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646244785,"creation_date":1646244785,"answer_id":71327341,"question_id":62519900,"body_markdown":"    private class CompressVideo extends AsyncTask&lt;String,String,String&gt; {\r\n        Dialog dialog;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n\r\n            dialog = ProgressDialog.show(AddPostActivity.this, &quot;&quot;, &quot;Compressing...&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n            String videoPath = null;\r\n            try {\r\n             Uri uri = Uri.parse(strings[1]);\r\n\r\n             videoPath = SiliCompressor.with(AddPostActivity.this)\r\n                     .compressVideo(uri,strings[2]);\r\n            } catch (URISyntaxException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n            return videoPath;\r\n        }","title":"How to use SiliCompressor to compress videos and image?","body":"<pre><code>private class CompressVideo extends AsyncTask&lt;String,String,String&gt; {\n    Dialog dialog;\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n\n        dialog = ProgressDialog.show(AddPostActivity.this, &quot;&quot;, &quot;Compressing...&quot;);\n    }\n\n    @Override\n    protected String doInBackground(String... strings) {\n        String videoPath = null;\n        try {\n         Uri uri = Uri.parse(strings[1]);\n\n         videoPath = SiliCompressor.with(AddPostActivity.this)\n                 .compressVideo(uri,strings[2]);\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        }\n\n\n        return videoPath;\n    }\n</code></pre>\n"}],"owner":{"account_id":16643092,"reputation":31,"user_id":12028065,"display_name":"Jecel Ilustrisimo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1438,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1646244785,"creation_date":1592846057,"question_id":62519900,"body_markdown":"Hi I am a new android developer working on a project that involves uploading images and videos. I need to compress files and I&#39;ve seen the library SiliCompressor but the documentation and other explanations is too vague for me. Can you tell me how to use it? But in an easy to understand way. Thanks!","title":"How to use SiliCompressor to compress videos and image?","body":"<p>Hi I am a new android developer working on a project that involves uploading images and videos. I need to compress files and I've seen the library SiliCompressor but the documentation and other explanations is too vague for me. Can you tell me how to use it? But in an easy to understand way. Thanks!</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","staledataexception"],"comments":[{"owner":{"account_id":90708,"reputation":21648,"user_id":249571,"accept_rate":74,"display_name":"DD."},"score":0,"creation_date":1411478411,"post_id":25935978,"comment_id":40710374,"body_markdown":"I&#39;ve checked the cache and it is using @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)","body":"I&#39;ve checked the cache and it is using @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)"}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515180712,"creation_date":1411589978,"answer_id":26025757,"question_id":25935978,"body_markdown":"Hibernate uses the PreparedStatement#executeUpdate result to check the number of updated rows. If no row was matched, it then throws a [StaleObjectStateException][1] (when using Hibernate API) or an [OptimisticLockException][2] (when using JPA).\r\n\r\n[Optimistic locking][3] is a generic-purpose concurrency control technique, and it works for both physical and [application-level transactions][4].\r\n\r\nSo the stale exceptions prevent the &quot;lost update&quot; phenomena when multiple concurrent requests modify the same shared persistent data.\r\n\r\nIn an application-level transaction, once you load an entity you will get a logical repeatable read due to 1st level cache (Persistence Context), but other users can still modify the aforementioned entity. \r\n\r\nSo you can indeed run into stale entities, but the optimistic locking mechanism prevents loosing updates without taking any additional database locks, and it even works for long conversations.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/4.3/javadocs/org/hibernate/StaleObjectStateException.html\r\n  [2]: http://docs.oracle.com/javaee/7/api/javax/persistence/OptimisticLockException.html\r\n  [3]: http://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/\r\n  [4]: http://vladmihalcea.com/preventing-lost-updates-in-long-conversations/","title":"Hibernate returns stale Objects when calling findOne","body":"<p>Hibernate uses the PreparedStatement#executeUpdate result to check the number of updated rows. If no row was matched, it then throws a <a href=\"http://docs.jboss.org/hibernate/core/4.3/javadocs/org/hibernate/StaleObjectStateException.html\" rel=\"nofollow noreferrer\">StaleObjectStateException</a> (when using Hibernate API) or an <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/OptimisticLockException.html\" rel=\"nofollow noreferrer\">OptimisticLockException</a> (when using JPA).</p>\n\n<p><a href=\"http://vladmihalcea.com/a-beginners-guide-to-database-locking-and-the-lost-update-phenomena/\" rel=\"nofollow noreferrer\">Optimistic locking</a> is a generic-purpose concurrency control technique, and it works for both physical and <a href=\"http://vladmihalcea.com/preventing-lost-updates-in-long-conversations/\" rel=\"nofollow noreferrer\">application-level transactions</a>.</p>\n\n<p>So the stale exceptions prevent the \"lost update\" phenomena when multiple concurrent requests modify the same shared persistent data.</p>\n\n<p>In an application-level transaction, once you load an entity you will get a logical repeatable read due to 1st level cache (Persistence Context), but other users can still modify the aforementioned entity. </p>\n\n<p>So you can indeed run into stale entities, but the optimistic locking mechanism prevents loosing updates without taking any additional database locks, and it even works for long conversations.</p>\n"}],"owner":{"account_id":90708,"reputation":21648,"user_id":249571,"accept_rate":74,"display_name":"DD."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4779,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646244673,"creation_date":1411135894,"question_id":25935978,"body_markdown":"I am saving objects using Spring Data JPA [save(Object entity) method][1] from a multi-threaded web application.\r\n\r\nOccasionally I find that when I load an object from the session using:\r\n\r\n[`findOne(long id)`][2]\r\n\r\nThe object returned from the session is stale and doesn&#39;t reflect the latest version from the database. I am ONLY saving data from this application and ONLY using one instance of Spring Data JPA \r\ninterface.\r\n\r\nWhat could be causing it and how should I fix this?\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#save-S-\r\n  [2]: http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findOne-ID-","title":"Hibernate returns stale Objects when calling findOne","body":"<p>I am saving objects using Spring Data JPA <a href=\"http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#save-S-\" rel=\"nofollow noreferrer\">save(Object entity) method</a> from a multi-threaded web application.</p>\n<p>Occasionally I find that when I load an object from the session using:</p>\n<p><a href=\"http://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findOne-ID-\" rel=\"nofollow noreferrer\"><code>findOne(long id)</code></a></p>\n<p>The object returned from the session is stale and doesn't reflect the latest version from the database. I am ONLY saving data from this application and ONLY using one instance of Spring Data JPA\ninterface.</p>\n<p>What could be causing it and how should I fix this?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":3218357,"reputation":2453,"user_id":2716383,"accept_rate":57,"display_name":"pedromss"},"score":0,"creation_date":1392541154,"post_id":21809134,"comment_id":33003349,"body_markdown":"&quot;When I add the first value at index 0, I have this value there and M zero values, resulting in an array of size M + 1&quot; - wrong, you have an arrayList of size 1. Capacity and size are not the same thing in array List.","body":"&quot;When I add the first value at index 0, I have this value there and M zero values, resulting in an array of size M + 1&quot; - wrong, you have an arrayList of size 1. Capacity and size are not the same thing in array List."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1392541165,"post_id":21809134,"comment_id":33003353,"body_markdown":"You&#39;re again confused between Capacity and Size. `M` is capacity, and not size. Please don&#39;t consider an `ArrayList` the same way you consider an array. They are 2 different things.","body":"You&#39;re again confused between Capacity and Size. <code>M</code> is capacity, and not size. Please don&#39;t consider an <code>ArrayList</code> the same way you consider an array. They are 2 different things."},{"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"score":0,"creation_date":1392541597,"post_id":21809134,"comment_id":33003465,"body_markdown":"@RohitJain     Maybe you are right, but actually at the beginning of my code I fill in my arraylist with M zero values (using a for loop) and when I print the arraylist in order to test what happens in my code I indeed get an arraylist with M zeroes. That is, if e.g. M = 5 I get [0, 0, 0, 0, 0]. Therefore, the current array size is equal to the capacity M. Isn&#39;t that right?","body":"@RohitJain     Maybe you are right, but actually at the beginning of my code I fill in my arraylist with M zero values (using a for loop) and when I print the arraylist in order to test what happens in my code I indeed get an arraylist with M zeroes. That is, if e.g. M = 5 I get [0, 0, 0, 0, 0]. Therefore, the current array size is equal to the capacity M. Isn&#39;t that right?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1392541687,"post_id":21809134,"comment_id":33003487,"body_markdown":"@Kotsos But why are you inserting `M` zeroes, when ultimately you&#39;re replacing them? It would be even better to explain what are you trying to do, for which you&#39;re doing this?","body":"@Kotsos But why are you inserting <code>M</code> zeroes, when ultimately you&#39;re replacing them? It would be even better to explain what are you trying to do, for which you&#39;re doing this?"},{"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"score":0,"creation_date":1392542212,"post_id":21809134,"comment_id":33003647,"body_markdown":"@RohitJain     That&#39;s a perfectly valid and right to the point question! I had a reason to do that though. I want to simulate a cache replacement algorithm. I have a cache (arraylist) of size M and N &gt; M items available for caching. I have two ArrayList&lt;Integer&gt;, both of size N: one for keeping the score of the items and another where I put the ID of the items according to their position: if the item is in the cache, its ID will be placed at this positions arraylist at the same index as in the cache (which will be 0 &lt; index &lt; M-1). Otherwise, I will put positions.add(M, ID). (to be continued)","body":"@RohitJain     That&#39;s a perfectly valid and right to the point question! I had a reason to do that though. I want to simulate a cache replacement algorithm. I have a cache (arraylist) of size M and N &gt; M items available for caching. I have two ArrayList&lt;Integer&gt;, both of size N: one for keeping the score of the items and another where I put the ID of the items according to their position: if the item is in the cache, its ID will be placed at this positions arraylist at the same index as in the cache (which will be 0 &lt; index &lt; M-1). Otherwise, I will put positions.add(M, ID). (to be continued)"},{"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"score":0,"creation_date":1392542434,"post_id":21809134,"comment_id":33003723,"body_markdown":"@RohitJain When I have a request for an item, its score is increased by 1 as follows: I have a local integer variable score inside my incScore method and I do: int score = scorelist.get(positions.indedOf(ID)); Then I do score += 1; and finally I place the updated score again in my list: scorelist.add(positions.indexOf(ID), score); That is why I wanted to have an initial zero value.","body":"@RohitJain When I have a request for an item, its score is increased by 1 as follows: I have a local integer variable score inside my incScore method and I do: int score = scorelist.get(positions.indedOf(ID)); Then I do score += 1; and finally I place the updated score again in my list: scorelist.add(positions.indexOf(ID), score); That is why I wanted to have an initial zero value."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1392542491,"post_id":21809134,"comment_id":33003733,"body_markdown":"@Kotsos Why are you not using an array then?","body":"@Kotsos Why are you not using an array then?"},{"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"score":0,"creation_date":1392542729,"post_id":21809134,"comment_id":33003798,"body_markdown":"@RohitJain     I wasn&#39;t sure what to do to be honest. I created a plan (like pseudocode) of what I have to do and I thought due to the complexity of the code (many methods - insertion, lookup, replacement, update of scores, printing, reordering of the cache list due to a cache hit etc.) it would be beneficial to take advantage of a data structure such as ArrayList and its build-in methods such as add, remove etc.","body":"@RohitJain     I wasn&#39;t sure what to do to be honest. I created a plan (like pseudocode) of what I have to do and I thought due to the complexity of the code (many methods - insertion, lookup, replacement, update of scores, printing, reordering of the cache list due to a cache hit etc.) it would be beneficial to take advantage of a data structure such as ArrayList and its build-in methods such as add, remove etc."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1392542851,"post_id":21809134,"comment_id":33003835,"body_markdown":"For whatever purpose you&#39;ve shown in comments, an array and `ArrayList` give same performance. The only usage of `ArrayList` comes when you don&#39;t know a fixed size for your array, and that is supposed to grow. If the size is fixed, go for an array. Or may be you can describe your real problem, so that we can suggest some better data structure.","body":"For whatever purpose you&#39;ve shown in comments, an array and <code>ArrayList</code> give same performance. The only usage of <code>ArrayList</code> comes when you don&#39;t know a fixed size for your array, and that is supposed to grow. If the size is fixed, go for an array. Or may be you can describe your real problem, so that we can suggest some better data structure."},{"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"score":0,"creation_date":1392543346,"post_id":21809134,"comment_id":33003964,"body_markdown":"@RohitJain     Well, pretty much that is the concept. I want to simulate a web caching algorithm that will perform better than LRU but will be at least as fast as LRU. Therefore, I have a cache of size M and a window of last K requests. Every time a web object is requested, its score (request count) increases by 1. When a request for an object is dropped of the window, the score of that object is decreased by 1. When the cache is full and there is a cache miss for  an object, that object will replace the &quot;least-valuable&quot; cached object if its score is at least equal with that object. (cont&#39;ed)","body":"@RohitJain     Well, pretty much that is the concept. I want to simulate a web caching algorithm that will perform better than LRU but will be at least as fast as LRU. Therefore, I have a cache of size M and a window of last K requests. Every time a web object is requested, its score (request count) increases by 1. When a request for an object is dropped of the window, the score of that object is decreased by 1. When the cache is full and there is a cache miss for  an object, that object will replace the &quot;least-valuable&quot; cached object if its score is at least equal with that object. (cont&#39;ed)"},{"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"score":0,"creation_date":1392543534,"post_id":21809134,"comment_id":33004020,"body_markdown":"@RohitJain     The important thing is that I maintain the cache partially sorted according to the score of the objects and the time-of-access (which is implicitly given by the window, no need for timestamps). Therefore, there is no need for &quot;for loops&quot; to find the item to be evicted from the cache in order to be replaced by a new item: it will always be the right-most item in the cache list. Now, I have an arraylist of max size N (equal to the number of all items) to keep the score and another one where I put the numeric ID of that items (an integer from 1 to N) according to their (continued)","body":"@RohitJain     The important thing is that I maintain the cache partially sorted according to the score of the objects and the time-of-access (which is implicitly given by the window, no need for timestamps). Therefore, there is no need for &quot;for loops&quot; to find the item to be evicted from the cache in order to be replaced by a new item: it will always be the right-most item in the cache list. Now, I have an arraylist of max size N (equal to the number of all items) to keep the score and another one where I put the numeric ID of that items (an integer from 1 to N) according to their (continued)"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1392543667,"post_id":21809134,"comment_id":33004060,"body_markdown":"@Kotsos You should post this as a different question. That would be better.","body":"@Kotsos You should post this as a different question. That would be better."},{"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"score":0,"creation_date":1392543679,"post_id":21809134,"comment_id":33004065,"body_markdown":"@RohitJain     in the cache (i.e. 0 &lt; index &lt; M-1) or at positions.add(M, ID) if the item is not in the cache. My university prof. suggested the use of arrays since then he assumes that the simulation time will be as low as the one when simulating LRU. Thus, we will have much better hit rate than LRU and processing time similar to LRU at the same time! That&#39;s the whole concept.","body":"@RohitJain     in the cache (i.e. 0 &lt; index &lt; M-1) or at positions.add(M, ID) if the item is not in the cache. My university prof. suggested the use of arrays since then he assumes that the simulation time will be as low as the one when simulating LRU. Thus, we will have much better hit rate than LRU and processing time similar to LRU at the same time! That&#39;s the whole concept."},{"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"score":0,"creation_date":1392543773,"post_id":21809134,"comment_id":33004100,"body_markdown":"@RohitJain Ok, I will. I didn&#39;t so far because I try to keep my questions small and specific to help others to help me, and something like that might be very general.","body":"@RohitJain Ok, I will. I didn&#39;t so far because I try to keep my questions small and specific to help others to help me, and something like that might be very general."}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392541082,"creation_date":1392541082,"answer_id":21809183,"question_id":21809134,"body_markdown":"You can remove the last element of the list and then insert. This will keep size unchanged","title":"Inserting Object at Specific Index of ArrayList Without Growing the Capacity of that ArrayList - Java","body":"<p>You can remove the last element of the list and then insert. This will keep size unchanged</p>\n"},{"tags":[],"owner":{"account_id":21250512,"reputation":11,"user_id":15632784,"display_name":"Supriya Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618389117,"creation_date":1618389117,"answer_id":67088174,"question_id":21809134,"body_markdown":"When you want to add values at a specific index in arraylist without increasing its length , it is better to use set method from arraylist.\r\nUse \r\nArrayList.set(int index, E element) \r\n","title":"Inserting Object at Specific Index of ArrayList Without Growing the Capacity of that ArrayList - Java","body":"<p>When you want to add values at a specific index in arraylist without increasing its length , it is better to use set method from arraylist.\nUse\nArrayList.set(int index, E element)</p>\n"},{"tags":[],"owner":{"account_id":2881337,"reputation":21,"user_id":2472168,"display_name":"jGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646244172,"creation_date":1646239989,"answer_id":71326370,"question_id":21809134,"body_markdown":"You must use set method instead of add methods i.e. `array.set(index, value);`.","title":"Inserting Object at Specific Index of ArrayList Without Growing the Capacity of that ArrayList - Java","body":"<p>You must use set method instead of add methods i.e. <code>array.set(index, value);</code>.</p>\n"}],"owner":{"account_id":2229644,"reputation":229,"user_id":1967587,"accept_rate":54,"display_name":"Kotsos"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1646244172,"creation_date":1392540774,"question_id":21809134,"body_markdown":"I have an ArrayList:\r\n\r\n    List&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;(M);\r\n\r\nAt some point in my code I add a new integer value at this array list at a specific index:\r\n\r\n    array.add(index, value);\r\n\r\nThe documentation says for that method:\r\n\r\n&gt; Inserts the specified element at the specified position in this list (optional operation). Shifts the element currently at that position (if any) and any subsequent elements to the right (adds one to their indices).\r\n\r\nand that&#39;s fine because that is what I actually want to do. The problem is that any time I do this, the size of my array grows by 1. That is, initially I had an array with size M filled in with zeroes. When I add the first value at index 0, I have this value there and M zero values, resulting in an array of size M + 1. When I add the second value at index 0, I have this value at index 0, the previous value shifted to the right at index 1, and M zero values, resulting in an array of size M + 2 etc.\r\n\r\nMy question is, how to add an element at a specific index of my arraylist (in my case, at index 0) shifting the previous elements by 1 index without exceeding the predefined capacity of the arraylist?\r\n\r\n(I have to say, ArrayList is one of the most common structures in Java and yet one of the most confusing for me ...)\r\n\r\nEDIT: I have to note that initially I fill in my arraylist with M zero values using a for loop, therefore I have e.g. for M = 5 an arraylist like this. [0, 0, 0, 0, 0]","title":"Inserting Object at Specific Index of ArrayList Without Growing the Capacity of that ArrayList - Java","body":"<p>I have an ArrayList:</p>\n\n<pre><code>List&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;(M);\n</code></pre>\n\n<p>At some point in my code I add a new integer value at this array list at a specific index:</p>\n\n<pre><code>array.add(index, value);\n</code></pre>\n\n<p>The documentation says for that method:</p>\n\n<blockquote>\n  <p>Inserts the specified element at the specified position in this list (optional operation). Shifts the element currently at that position (if any) and any subsequent elements to the right (adds one to their indices).</p>\n</blockquote>\n\n<p>and that's fine because that is what I actually want to do. The problem is that any time I do this, the size of my array grows by 1. That is, initially I had an array with size M filled in with zeroes. When I add the first value at index 0, I have this value there and M zero values, resulting in an array of size M + 1. When I add the second value at index 0, I have this value at index 0, the previous value shifted to the right at index 1, and M zero values, resulting in an array of size M + 2 etc.</p>\n\n<p>My question is, how to add an element at a specific index of my arraylist (in my case, at index 0) shifting the previous elements by 1 index without exceeding the predefined capacity of the arraylist?</p>\n\n<p>(I have to say, ArrayList is one of the most common structures in Java and yet one of the most confusing for me ...)</p>\n\n<p>EDIT: I have to note that initially I fill in my arraylist with M zero values using a for loop, therefore I have e.g. for M = 5 an arraylist like this. [0, 0, 0, 0, 0]</p>\n"},{"tags":["java","android","database-migration","static-data"],"owner":{"account_id":2671309,"reputation":21,"user_id":2308669,"accept_rate":50,"display_name":"Daniel Ortiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646244100,"creation_date":1646094597,"question_id":71302522,"body_markdown":"I am making an Android app that has a database. I am able to create all the tables I need but need to populate some tables with static data. I tried doing this with a migration but cannot get the code to run as I expect. This data is needed for that app to run and will not change. Is a migration that runs immediately after the database is created the correct way to do this? I want to be sure that the rows only get created once and the app will never need to check for their existence after the database is created.\r\n\r\nAll the relevant classes are below. Let me know if any more details are needed. TIA!\r\n\r\n## Status ##\r\n```lang-java\r\nimport androidx.annotation.NonNull;\r\nimport androidx.room.Entity;\r\nimport androidx.room.Index;\r\nimport androidx.room.PrimaryKey;\r\n\r\n@Entity(tableName = &quot;Status&quot;, indices = { @Index(value = {&quot;Name&quot;}, unique = true) })\r\n\r\npublic class Status\r\n{\r\n    @PrimaryKey(autoGenerate = true)\r\n    public int Id;\r\n\r\n    @NonNull\r\n    public String Name;\r\n}\r\n```\r\n\r\n## StatusEnum ##\r\n```lang-java\r\npublic enum StatusEnum\r\n{\r\n    New(1, &quot;New&quot;),\r\n    InProgress(2, &quot;In Progress&quot;),\r\n    Closed(3, &quot;Closed&quot;);\r\n\r\n    public final int    Id;\r\n    public final String Name;\r\n\r\n    StatusEnum(int id, String name)\r\n    {\r\n        Id   = id;\r\n        Name = name;\r\n    }\r\n}\r\n```\r\n\r\n## StaticDataMigration ##\r\n```lang-java\r\nimport static androidx.test.core.app.ApplicationProvider.getApplicationContext;\r\n\r\nimport android.os.Build;\r\n\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.room.Database;\r\nimport androidx.room.Room;\r\nimport androidx.room.RoomDatabase;\r\nimport androidx.room.migration.Migration;\r\nimport androidx.sqlite.db.SupportSQLiteDatabase;\r\n\r\n@RequiresApi(api = Build.VERSION_CODES.O)\r\n@Database(entities = { Status.class }, version = 2, exportSchema = false)\r\n\r\npublic abstract class StaticDataMigration extends RoomDatabase\r\n{\r\n    public static final Migration MIGRATION_1_2 = new Migration(1, 2)\r\n    {\r\n        @Override\r\n        public void migrate(SupportSQLiteDatabase database)\r\n        {\r\n            sql = &quot;INSERT INTO Status VALUES &quot;;\r\n\r\n            for (StatusEnum enumType : StatusEnum.values())\r\n            {\r\n                sql = sql + String.format(&quot;(%d, %s),&quot;, enumType.Id, enumType.Name);\r\n            }\r\n\r\n            sql = removeLastChar(SQL);\r\n\r\n            database.beginTransaction();\r\n            database.execSQL(sql);\r\n            database.endTransaction();\r\n\r\n            Room.databaseBuilder(getApplicationContext(), MyDatabase.class, &quot;MyDatabase&quot;).addMigrations(MIGRATION_1_2).build();\r\n        }\r\n\r\n        //Room.databaseBuilder(Context, MyDatabase.class, &quot;MyDatabase&quot;).addMigrations(MIGRATION_1_2).build();\r\n        //Database.mig(Context, MyDatabase., &quot;MyDatabase&quot;).addMigrations(MIGRATION_1_2).build();\r\n    };\r\n\r\n    private static String removeLastChar(String s)\r\n    {\r\n        return (s == null || s.length() == 0) ? null : (s.substring(0, s.length() - 1));\r\n    }\r\n}\r\n```","title":"Create a Table with Rows in Android Room","body":"<p>I am making an Android app that has a database. I am able to create all the tables I need but need to populate some tables with static data. I tried doing this with a migration but cannot get the code to run as I expect. This data is needed for that app to run and will not change. Is a migration that runs immediately after the database is created the correct way to do this? I want to be sure that the rows only get created once and the app will never need to check for their existence after the database is created.</p>\n<p>All the relevant classes are below. Let me know if any more details are needed. TIA!</p>\n<h2>Status</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.annotation.NonNull;\nimport androidx.room.Entity;\nimport androidx.room.Index;\nimport androidx.room.PrimaryKey;\n\n@Entity(tableName = &quot;Status&quot;, indices = { @Index(value = {&quot;Name&quot;}, unique = true) })\n\npublic class Status\n{\n    @PrimaryKey(autoGenerate = true)\n    public int Id;\n\n    @NonNull\n    public String Name;\n}\n</code></pre>\n<h2>StatusEnum</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public enum StatusEnum\n{\n    New(1, &quot;New&quot;),\n    InProgress(2, &quot;In Progress&quot;),\n    Closed(3, &quot;Closed&quot;);\n\n    public final int    Id;\n    public final String Name;\n\n    StatusEnum(int id, String name)\n    {\n        Id   = id;\n        Name = name;\n    }\n}\n</code></pre>\n<h2>StaticDataMigration</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import static androidx.test.core.app.ApplicationProvider.getApplicationContext;\n\nimport android.os.Build;\n\nimport androidx.annotation.RequiresApi;\nimport androidx.room.Database;\nimport androidx.room.Room;\nimport androidx.room.RoomDatabase;\nimport androidx.room.migration.Migration;\nimport androidx.sqlite.db.SupportSQLiteDatabase;\n\n@RequiresApi(api = Build.VERSION_CODES.O)\n@Database(entities = { Status.class }, version = 2, exportSchema = false)\n\npublic abstract class StaticDataMigration extends RoomDatabase\n{\n    public static final Migration MIGRATION_1_2 = new Migration(1, 2)\n    {\n        @Override\n        public void migrate(SupportSQLiteDatabase database)\n        {\n            sql = &quot;INSERT INTO Status VALUES &quot;;\n\n            for (StatusEnum enumType : StatusEnum.values())\n            {\n                sql = sql + String.format(&quot;(%d, %s),&quot;, enumType.Id, enumType.Name);\n            }\n\n            sql = removeLastChar(SQL);\n\n            database.beginTransaction();\n            database.execSQL(sql);\n            database.endTransaction();\n\n            Room.databaseBuilder(getApplicationContext(), MyDatabase.class, &quot;MyDatabase&quot;).addMigrations(MIGRATION_1_2).build();\n        }\n\n        //Room.databaseBuilder(Context, MyDatabase.class, &quot;MyDatabase&quot;).addMigrations(MIGRATION_1_2).build();\n        //Database.mig(Context, MyDatabase., &quot;MyDatabase&quot;).addMigrations(MIGRATION_1_2).build();\n    };\n\n    private static String removeLastChar(String s)\n    {\n        return (s == null || s.length() == 0) ? null : (s.substring(0, s.length() - 1));\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8444,"page":1548,"page_size":100}
