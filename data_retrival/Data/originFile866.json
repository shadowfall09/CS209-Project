{"items":[{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"score":4,"creation_date":1361322097,"post_id":14970516,"comment_id":21019767,"body_markdown":"Why would you want to do that? You should either be testing the class (in which case, there should not be mocking at all) or you should mock it while testing a different class (in which case, no functionality). Why would you do a partial mock?","body":"Why would you want to do that? You should either be testing the class (in which case, there should not be mocking at all) or you should mock it while testing a different class (in which case, no functionality). Why would you do a partial mock?"},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":4,"creation_date":1361322725,"post_id":14970516,"comment_id":21019933,"body_markdown":"Ok, this is a small example of the real thing. In reality, I am trying to avoid a call to the database, by passing in contrived values, but I want to verify that the other methods work correctly with those contrived values. Is there a better way to do this?","body":"Ok, this is a small example of the real thing. In reality, I am trying to avoid a call to the database, by passing in contrived values, but I want to verify that the other methods work correctly with those contrived values. Is there a better way to do this?"},{"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"score":6,"creation_date":1361322928,"post_id":14970516,"comment_id":21019982,"body_markdown":"Certainly: Move your database calls to a separate class (domain logic and database access should not be in the same class; they are two different concerns), extract its interface, use that interface to connect from the domain logic class, and mock only the interface during testing.","body":"Certainly: Move your database calls to a separate class (domain logic and database access should not be in the same class; they are two different concerns), extract its interface, use that interface to connect from the domain logic class, and mock only the interface during testing."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":1,"creation_date":1361325640,"post_id":14970516,"comment_id":21020636,"body_markdown":"I completely agree, it&#39;s hard to explain the whole picture without uploading gobs of code here, including third party libraries.","body":"I completely agree, it&#39;s hard to explain the whole picture without uploading gobs of code here, including third party libraries."},{"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1470328599,"post_id":14970516,"comment_id":64917344,"body_markdown":"@weltraumpirat why the need for an interface? Couldn&#39;t you just create a StockDatabaseCommunicator class and define business logic there without the need to create an interface?","body":"@weltraumpirat why the need for an interface? Couldn&#39;t you just create a StockDatabaseCommunicator class and define business logic there without the need to create an interface?"},{"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"score":1,"creation_date":1471346260,"post_id":14970516,"comment_id":65300176,"body_markdown":"You probably could. But then, that wouldn&#39;t be &quot;a better way to do it&quot;: Your database code is an implementation detail that you want to hide from the rest of your application, probably even move to a different package. You wouldn&#39;t want to have to recompile your domain logic every time you change a sequel statement, would you?","body":"You probably could. But then, that wouldn&#39;t be &quot;a better way to do it&quot;: Your database code is an implementation detail that you want to hide from the rest of your application, probably even move to a different package. You wouldn&#39;t want to have to recompile your domain logic every time you change a sequel statement, would you?"},{"owner":{"account_id":4933635,"reputation":499,"user_id":3972555,"display_name":"Nikhil Vandanapu"},"score":1,"creation_date":1579737831,"post_id":14970516,"comment_id":105870820,"body_markdown":"@weltraumpirat Why shouldn&#39;t we mock some methods of the very class under test? It certainly is possible that I&#39;m testing one method of the my class and that method calls a different method of the same class. What about this causes a useless unit test?","body":"@weltraumpirat Why shouldn&#39;t we mock some methods of the very class under test? It certainly is possible that I&#39;m testing one method of the my class and that method calls a different method of the same class. What about this causes a useless unit test?"},{"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"score":0,"creation_date":1580689963,"post_id":14970516,"comment_id":106168569,"body_markdown":"As a rule of thumb, mocks should be used at system boundaries. If you&#39;re mocking functionality within your class under test, chances are, your test is tightly coupled to the implementation and will break more easily. And it&#39;s not going to help keeping your setup code readable. Is the test useless? Maybe not entirely. But I would still assume there&#39;s something not quite right with the design.","body":"As a rule of thumb, mocks should be used at system boundaries. If you&#39;re mocking functionality within your class under test, chances are, your test is tightly coupled to the implementation and will break more easily. And it&#39;s not going to help keeping your setup code readable. Is the test useless? Maybe not entirely. But I would still assume there&#39;s something not quite right with the design."},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":1,"creation_date":1586343288,"post_id":14970516,"comment_id":108091891,"body_markdown":"&#39;Why would you want to do that?&#39;  Don&#39;t forget that you may have to work with a class that hasn&#39;t been well designed to be decomposable for mocking etc. Quite often I&#39;m faced with classes that require me to jump through such hoops to permit testing. Only then can I refactor with some confidence","body":"&#39;Why would you want to do that?&#39;  Don&#39;t forget that you may have to work with a class that hasn&#39;t been well designed to be decomposable for mocking etc. Quite often I&#39;m faced with classes that require me to jump through such hoops to permit testing. Only then can I refactor with some confidence"}],"answers":[{"tags":[],"owner":{"account_id":373237,"reputation":25892,"user_id":722760,"display_name":"Jon Newmuis"},"down_vote_count":4,"up_vote_count":971,"is_accepted":true,"score":967,"last_activity_date":1565200797,"creation_date":1361322157,"answer_id":14970545,"question_id":14970516,"body_markdown":"To directly answer your question, yes, you can mock some methods without mocking others. This is called a **partial mock**. See [the Mockito documentation on partial mocks][1] for more information.\r\n\r\nFor your example, you can do something like the following, in your test:\r\n\r\n    Stock stock = mock(Stock.class);\r\n    when(stock.getPrice()).thenReturn(100.00);    // Mock implementation\r\n    when(stock.getQuantity()).thenReturn(200);    // Mock implementation\r\n    when(stock.getValue()).thenCallRealMethod();  // Real implementation\r\n\r\nIn that case, each method implementation is mocked, unless specify `thenCallRealMethod()` in the `when(..)` clause.\r\n\r\nThere is also a possibility the other way around with **spy** instead of **mock**:\r\n\r\n    Stock stock = spy(Stock.class);\r\n    when(stock.getPrice()).thenReturn(100.00);    // Mock implementation\r\n    when(stock.getQuantity()).thenReturn(200);    // Mock implementation\r\n    // All other method call will use the real implementations\r\n\r\nIn that case, all method implementation are the real one, except if you have defined a mocked behaviour with `when(..)`.\r\n\r\nThere is one important pitfall when you use `when(Object)` with spy like in the previous example. The real method will be called (because `stock.getPrice()` is evaluated before `when(..)` at runtime). This can be a problem if your method contains logic that should not be called. You can write the previous example like this:\r\n\r\n    Stock stock = spy(Stock.class);\r\n    doReturn(100.00).when(stock).getPrice();    // Mock implementation\r\n    doReturn(200).when(stock).getQuantity();    // Mock implementation\r\n    // All other method call will use the real implementations\r\n\r\n---\r\n\r\nAnother possibility may be to use `org.mockito.Mockito.CALLS_REAL_METHODS`, such as:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Stock MOCK_STOCK = Mockito.mock( Stock.class, CALLS_REAL_METHODS );\r\n\r\nThis delegates unstubbed calls to real implementations.\r\n\r\n---\r\n\r\nHowever, with your example, I believe it will still fail, since the implementation of `getValue()` relies on `quantity` and `price`, rather than `getQuantity()` and `getPrice()`, which is what you&#39;ve mocked.\r\n\r\nAnother possibility is to avoid mocks altogether:\r\n\r\n    @Test\r\n    public void getValueTest() {\r\n        Stock stock = new Stock(100.00, 200);\r\n        double value = stock.getValue();\r\n        assertEquals(&quot;Stock value not correct&quot;, 100.00*200, value, .00001);\r\n    }\r\n\r\n  [1]: http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#16\r\n\r\n","title":"Use Mockito to mock some methods but not others","body":"<p>To directly answer your question, yes, you can mock some methods without mocking others. This is called a <strong>partial mock</strong>. See <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#16\" rel=\"noreferrer\">the Mockito documentation on partial mocks</a> for more information.</p>\n\n<p>For your example, you can do something like the following, in your test:</p>\n\n<pre><code>Stock stock = mock(Stock.class);\nwhen(stock.getPrice()).thenReturn(100.00);    // Mock implementation\nwhen(stock.getQuantity()).thenReturn(200);    // Mock implementation\nwhen(stock.getValue()).thenCallRealMethod();  // Real implementation\n</code></pre>\n\n<p>In that case, each method implementation is mocked, unless specify <code>thenCallRealMethod()</code> in the <code>when(..)</code> clause.</p>\n\n<p>There is also a possibility the other way around with <strong>spy</strong> instead of <strong>mock</strong>:</p>\n\n<pre><code>Stock stock = spy(Stock.class);\nwhen(stock.getPrice()).thenReturn(100.00);    // Mock implementation\nwhen(stock.getQuantity()).thenReturn(200);    // Mock implementation\n// All other method call will use the real implementations\n</code></pre>\n\n<p>In that case, all method implementation are the real one, except if you have defined a mocked behaviour with <code>when(..)</code>.</p>\n\n<p>There is one important pitfall when you use <code>when(Object)</code> with spy like in the previous example. The real method will be called (because <code>stock.getPrice()</code> is evaluated before <code>when(..)</code> at runtime). This can be a problem if your method contains logic that should not be called. You can write the previous example like this:</p>\n\n<pre><code>Stock stock = spy(Stock.class);\ndoReturn(100.00).when(stock).getPrice();    // Mock implementation\ndoReturn(200).when(stock).getQuantity();    // Mock implementation\n// All other method call will use the real implementations\n</code></pre>\n\n<hr>\n\n<p>Another possibility may be to use <code>org.mockito.Mockito.CALLS_REAL_METHODS</code>, such as:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Stock MOCK_STOCK = Mockito.mock( Stock.class, CALLS_REAL_METHODS );\n</code></pre>\n\n<p>This delegates unstubbed calls to real implementations.</p>\n\n<hr>\n\n<p>However, with your example, I believe it will still fail, since the implementation of <code>getValue()</code> relies on <code>quantity</code> and <code>price</code>, rather than <code>getQuantity()</code> and <code>getPrice()</code>, which is what you've mocked.</p>\n\n<p>Another possibility is to avoid mocks altogether:</p>\n\n<pre><code>@Test\npublic void getValueTest() {\n    Stock stock = new Stock(100.00, 200);\n    double value = stock.getValue();\n    assertEquals(\"Stock value not correct\", 100.00*200, value, .00001);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332434,"reputation":8584,"user_id":657745,"accept_rate":68,"display_name":"Sudarshan"},"down_vote_count":0,"up_vote_count":175,"is_accepted":false,"score":175,"last_activity_date":1493827549,"creation_date":1369378366,"answer_id":16729205,"question_id":14970516,"body_markdown":"Partial mocking of a class is also supported via **Spy** in mockito\r\n\r\n    List list = new LinkedList();\r\n    List spy = spy(list);\r\n\r\n    //optionally, you can stub out some methods:\r\n    when(spy.size()).thenReturn(100);\r\n\r\n    //using the spy calls real methods\r\n    spy.add(&quot;one&quot;);\r\n    spy.add(&quot;two&quot;);\r\n\r\n    //size() method was stubbed - 100 is printed\r\n    System.out.println(spy.size());\r\n\r\n\r\nCheck the [`1.10.19`](http://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Mockito.html#16) and [`2.7.22`](http://static.javadoc.io/org.mockito/mockito-core/2.7.22/org/mockito/Mockito.html#16) docs for detailed explanation.","title":"Use Mockito to mock some methods but not others","body":"<p>Partial mocking of a class is also supported via <strong>Spy</strong> in mockito</p>\n\n<pre><code>List list = new LinkedList();\nList spy = spy(list);\n\n//optionally, you can stub out some methods:\nwhen(spy.size()).thenReturn(100);\n\n//using the spy calls real methods\nspy.add(\"one\");\nspy.add(\"two\");\n\n//size() method was stubbed - 100 is printed\nSystem.out.println(spy.size());\n</code></pre>\n\n<p>Check the <a href=\"http://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Mockito.html#16\" rel=\"noreferrer\"><code>1.10.19</code></a> and <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.7.22/org/mockito/Mockito.html#16\" rel=\"noreferrer\"><code>2.7.22</code></a> docs for detailed explanation.</p>\n"},{"tags":[],"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1441114248,"creation_date":1441114248,"answer_id":32332987,"question_id":14970516,"body_markdown":"According to [docs][1] :\r\n\r\n    Foo mock = mock(Foo.class, CALLS_REAL_METHODS);\r\n    \r\n    // this calls the real implementation of Foo.getSomething()\r\n    value = mock.getSomething();\r\n    \r\n    when(mock.getSomething()).thenReturn(fakeValue);\r\n    \r\n    // now fakeValue is returned\r\n    value = mock.getSomething();\r\n\r\n\r\n  [1]: http://docs.mockito.googlecode.com/hg/latest/org/mockito/Mockito.html#16\r\n","title":"Use Mockito to mock some methods but not others","body":"<p>According to <a href=\"http://docs.mockito.googlecode.com/hg/latest/org/mockito/Mockito.html#16\">docs</a> :</p>\n\n<pre><code>Foo mock = mock(Foo.class, CALLS_REAL_METHODS);\n\n// this calls the real implementation of Foo.getSomething()\nvalue = mock.getSomething();\n\nwhen(mock.getSomething()).thenReturn(fakeValue);\n\n// now fakeValue is returned\nvalue = mock.getSomething();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1195500,"reputation":809,"user_id":1167336,"accept_rate":100,"display_name":"the dude"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1565200510,"creation_date":1455882436,"answer_id":35504565,"question_id":14970516,"body_markdown":"What you want is `org.mockito.Mockito.CALLS_REAL_METHODS` according to the docs:\r\n\r\n    /**\r\n     * Optional &lt;code&gt;Answer&lt;/code&gt; to be used with {@link Mockito#mock(Class, Answer)}\r\n     * &lt;p&gt;\r\n     * {@link Answer} can be used to define the return values of unstubbed invocations.\r\n     * &lt;p&gt;\r\n     * This implementation can be helpful when working with legacy code.\r\n     * When this implementation is used, unstubbed methods will delegate to the real implementation.\r\n     * This is a way to create a partial mock object that calls real methods by default.\r\n     * &lt;p&gt;\r\n     * As usual you are going to read &lt;b&gt;the partial mock warning&lt;/b&gt;:\r\n     * Object oriented programming is more less tackling complexity by dividing the complexity into separate, specific, SRPy objects.\r\n     * How does partial mock fit into this paradigm? Well, it just doesn&#39;t... \r\n     * Partial mock usually means that the complexity has been moved to a different method on the same object.\r\n     * In most cases, this is not the way you want to design your application.\r\n     * &lt;p&gt;\r\n     * However, there are rare cases when partial mocks come handy: \r\n     * dealing with code you cannot change easily (3rd party interfaces, interim refactoring of legacy code etc.)\r\n     * However, I wouldn&#39;t use partial mocks for new, test-driven &amp; well-designed code.\r\n     * &lt;p&gt;\r\n     * Example:\r\n     * &lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;java&quot;&gt;\r\n     * Foo mock = mock(Foo.class, CALLS_REAL_METHODS);\r\n     *\r\n     * // this calls the real implementation of Foo.getSomething()\r\n     * value = mock.getSomething();\r\n     *\r\n     * when(mock.getSomething()).thenReturn(fakeValue);\r\n     *\r\n     * // now fakeValue is returned\r\n     * value = mock.getSomething();\r\n     * &lt;/code&gt;&lt;/pre&gt;\r\n     */\r\n\r\nThus your code should look like:\r\n\r\n\timport org.junit.Test;\r\n\timport static org.mockito.Mockito.*;\r\n\timport static org.junit.Assert.*;\r\n\r\n\tpublic class StockTest {\r\n\r\n\t\tpublic class Stock {\r\n\t\t\tprivate final double price;\r\n\t\t\tprivate final int quantity;\r\n\r\n\t\t\tStock(double price, int quantity) {\r\n\t\t\t\tthis.price = price;\r\n\t\t\t\tthis.quantity = quantity;\r\n\t\t\t}\r\n\r\n\t\t\tpublic double getPrice() {\r\n\t\t\t\treturn price;\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getQuantity() {\r\n\t\t\t\treturn quantity;\r\n\t\t\t}\r\n\r\n\t\t\tpublic double getValue() {\r\n\t\t\t\treturn getPrice() * getQuantity();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void getValueTest() {\r\n\t\t\tStock stock = mock(Stock.class, withSettings().defaultAnswer(CALLS_REAL_METHODS));\r\n\t\t\twhen(stock.getPrice()).thenReturn(100.00);\r\n\t\t\twhen(stock.getQuantity()).thenReturn(200);\r\n\t\t\tdouble value = stock.getValue();\r\n\r\n\t\t\tassertEquals(&quot;Stock value not correct&quot;, 100.00 * 200, value, .00001);\r\n\t\t}\r\n\t}\r\n\r\n---\r\n\r\nThe call to `Stock stock = mock(Stock.class);` calls `org.mockito.Mockito.mock(Class&lt;T&gt;)` which looks like this:\r\n\r\n     public static &lt;T&gt; T mock(Class&lt;T&gt; classToMock) {\r\n        return mock(classToMock, withSettings().defaultAnswer(RETURNS_DEFAULTS));\r\n    }\r\n\r\nThe docs of the value `RETURNS_DEFAULTS` tell:\r\n\r\n    /**\r\n     * The default &lt;code&gt;Answer&lt;/code&gt; of every mock &lt;b&gt;if&lt;/b&gt; the mock was not stubbed.\r\n     * Typically it just returns some empty value. \r\n     * &lt;p&gt;\r\n     * {@link Answer} can be used to define the return values of unstubbed invocations. \r\n     * &lt;p&gt;\r\n     * This implementation first tries the global configuration. \r\n     * If there is no global configuration then it uses {@link ReturnsEmptyValues} (returns zeros, empty collections, nulls, etc.)\r\n     */\r\n\r\n","title":"Use Mockito to mock some methods but not others","body":"<p>What you want is <code>org.mockito.Mockito.CALLS_REAL_METHODS</code> according to the docs:</p>\n\n<pre><code>/**\n * Optional &lt;code&gt;Answer&lt;/code&gt; to be used with {@link Mockito#mock(Class, Answer)}\n * &lt;p&gt;\n * {@link Answer} can be used to define the return values of unstubbed invocations.\n * &lt;p&gt;\n * This implementation can be helpful when working with legacy code.\n * When this implementation is used, unstubbed methods will delegate to the real implementation.\n * This is a way to create a partial mock object that calls real methods by default.\n * &lt;p&gt;\n * As usual you are going to read &lt;b&gt;the partial mock warning&lt;/b&gt;:\n * Object oriented programming is more less tackling complexity by dividing the complexity into separate, specific, SRPy objects.\n * How does partial mock fit into this paradigm? Well, it just doesn't... \n * Partial mock usually means that the complexity has been moved to a different method on the same object.\n * In most cases, this is not the way you want to design your application.\n * &lt;p&gt;\n * However, there are rare cases when partial mocks come handy: \n * dealing with code you cannot change easily (3rd party interfaces, interim refactoring of legacy code etc.)\n * However, I wouldn't use partial mocks for new, test-driven &amp; well-designed code.\n * &lt;p&gt;\n * Example:\n * &lt;pre class=\"code\"&gt;&lt;code class=\"java\"&gt;\n * Foo mock = mock(Foo.class, CALLS_REAL_METHODS);\n *\n * // this calls the real implementation of Foo.getSomething()\n * value = mock.getSomething();\n *\n * when(mock.getSomething()).thenReturn(fakeValue);\n *\n * // now fakeValue is returned\n * value = mock.getSomething();\n * &lt;/code&gt;&lt;/pre&gt;\n */\n</code></pre>\n\n<p>Thus your code should look like:</p>\n\n<pre><code>import org.junit.Test;\nimport static org.mockito.Mockito.*;\nimport static org.junit.Assert.*;\n\npublic class StockTest {\n\n    public class Stock {\n        private final double price;\n        private final int quantity;\n\n        Stock(double price, int quantity) {\n            this.price = price;\n            this.quantity = quantity;\n        }\n\n        public double getPrice() {\n            return price;\n        }\n\n        public int getQuantity() {\n            return quantity;\n        }\n\n        public double getValue() {\n            return getPrice() * getQuantity();\n        }\n    }\n\n    @Test\n    public void getValueTest() {\n        Stock stock = mock(Stock.class, withSettings().defaultAnswer(CALLS_REAL_METHODS));\n        when(stock.getPrice()).thenReturn(100.00);\n        when(stock.getQuantity()).thenReturn(200);\n        double value = stock.getValue();\n\n        assertEquals(\"Stock value not correct\", 100.00 * 200, value, .00001);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The call to <code>Stock stock = mock(Stock.class);</code> calls <code>org.mockito.Mockito.mock(Class&lt;T&gt;)</code> which looks like this:</p>\n\n<pre><code> public static &lt;T&gt; T mock(Class&lt;T&gt; classToMock) {\n    return mock(classToMock, withSettings().defaultAnswer(RETURNS_DEFAULTS));\n}\n</code></pre>\n\n<p>The docs of the value <code>RETURNS_DEFAULTS</code> tell:</p>\n\n<pre><code>/**\n * The default &lt;code&gt;Answer&lt;/code&gt; of every mock &lt;b&gt;if&lt;/b&gt; the mock was not stubbed.\n * Typically it just returns some empty value. \n * &lt;p&gt;\n * {@link Answer} can be used to define the return values of unstubbed invocations. \n * &lt;p&gt;\n * This implementation first tries the global configuration. \n * If there is no global configuration then it uses {@link ReturnsEmptyValues} (returns zeros, empty collections, nulls, etc.)\n */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10101988,"reputation":59,"user_id":7465827,"display_name":"kflGalore"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1485290983,"creation_date":1485290983,"answer_id":41838740,"question_id":14970516,"body_markdown":"Partial mocking using Mockito&#39;s spy method could be the solution to your problem, as already stated in the answers above. To some degree I agree that, for your concrete use case, it may be more appropriate to mock the DB lookup. From my experience this is not always possible - at least not without other workarounds - that I would consider as being very cumbersome or at least fragile. Note, that partial mocking does not work with ally versions of Mockito. You have use at least 1.8.0.\r\n\r\nI would have just written a simple comment for the original question instead of posting this answer, but StackOverflow does not allow this.\r\n\r\nJust one more thing: I really cannot understand that many times a question is being asked here gets comment with &quot;Why you want to do this&quot; without at least trying to understand the problem. Escpecially when it comes to then need for partial mocking there are really a lot of use cases that I could imagine where it would be useful. That&#39;s why the guys from Mockito provided that functionality. This feature should of course not be overused. But when we talk about test case setups that otherwise could not be established in a very complicated way, spying should be used. ","title":"Use Mockito to mock some methods but not others","body":"<p>Partial mocking using Mockito's spy method could be the solution to your problem, as already stated in the answers above. To some degree I agree that, for your concrete use case, it may be more appropriate to mock the DB lookup. From my experience this is not always possible - at least not without other workarounds - that I would consider as being very cumbersome or at least fragile. Note, that partial mocking does not work with ally versions of Mockito. You have use at least 1.8.0.</p>\n\n<p>I would have just written a simple comment for the original question instead of posting this answer, but StackOverflow does not allow this.</p>\n\n<p>Just one more thing: I really cannot understand that many times a question is being asked here gets comment with \"Why you want to do this\" without at least trying to understand the problem. Escpecially when it comes to then need for partial mocking there are really a lot of use cases that I could imagine where it would be useful. That's why the guys from Mockito provided that functionality. This feature should of course not be overused. But when we talk about test case setups that otherwise could not be established in a very complicated way, spying should be used. </p>\n"}],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675817,"favorite_count":0,"down_vote_count":1,"up_vote_count":611,"accepted_answer_id":14970545,"answer_count":5,"score":610,"last_activity_date":1669067970,"creation_date":1361321948,"question_id":14970516,"body_markdown":"Is there any way, using Mockito, to mock some methods in a class, but not others?\r\n\r\nFor example, in this (admittedly contrived) `Stock` class I want to mock the `getPrice()` and `getQuantity()` return values (as shown in the test snippet below) but I want the `getValue()` to perform the multiplication as coded in the `Stock` class\r\n\r\n    public class Stock {\r\n      private final double price;\r\n      private final int quantity;\r\n\r\n      Stock(double price, int quantity) {\r\n        this.price = price;\r\n        this.quantity = quantity;\r\n      }\r\n\r\n      public double getPrice() {\r\n        return price;\r\n      }\r\n\r\n      public int getQuantity() {\r\n        return quantity;\r\n      }\r\n      public double getValue() {\r\n        return getPrice() * getQuantity();\r\n      }\r\n\r\n      @Test\r\n      public void getValueTest() {\r\n        Stock stock = mock(Stock.class);\r\n        when(stock.getPrice()).thenReturn(100.00);\r\n        when(stock.getQuantity()).thenReturn(200);\r\n        double value = stock.getValue();\r\n        // Unfortunately the following assert fails, because the mock Stock getValue() method does not perform the Stock.getValue() calculation code.\r\n        assertEquals(&quot;Stock value not correct&quot;, 100.00*200, value, .00001);\r\n    }","title":"Use Mockito to mock some methods but not others","body":"<p>Is there any way, using Mockito, to mock some methods in a class, but not others?</p>\n\n<p>For example, in this (admittedly contrived) <code>Stock</code> class I want to mock the <code>getPrice()</code> and <code>getQuantity()</code> return values (as shown in the test snippet below) but I want the <code>getValue()</code> to perform the multiplication as coded in the <code>Stock</code> class</p>\n\n<pre><code>public class Stock {\n  private final double price;\n  private final int quantity;\n\n  Stock(double price, int quantity) {\n    this.price = price;\n    this.quantity = quantity;\n  }\n\n  public double getPrice() {\n    return price;\n  }\n\n  public int getQuantity() {\n    return quantity;\n  }\n  public double getValue() {\n    return getPrice() * getQuantity();\n  }\n\n  @Test\n  public void getValueTest() {\n    Stock stock = mock(Stock.class);\n    when(stock.getPrice()).thenReturn(100.00);\n    when(stock.getQuantity()).thenReturn(200);\n    double value = stock.getValue();\n    // Unfortunately the following assert fails, because the mock Stock getValue() method does not perform the Stock.getValue() calculation code.\n    assertEquals(\"Stock value not correct\", 100.00*200, value, .00001);\n}\n</code></pre>\n"},{"tags":["java","ms-word","docx","docx4j","legacy-code"],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669067915,"creation_date":1669067915,"answer_id":74525332,"question_id":74478113,"body_markdown":"You can&#39;t add the namespace definitions to the WordprocessingMLPackage object.\r\n\r\nYou&#39;ll need to get the source code for 3.3.3 from https://github.com/plutext/docx4j/tree/docx4j-3.3.3 then copy the new NamespacePrefixMappings content into it, then build it. You can then deploy this new jar file.\r\n\r\nIf you wanted to try to avoid compiling the source code, you&#39;d have 2 alternatives to try (since docx4j doesn&#39;t implement the stategy pattern there).  **I don&#39;t expect these to work!**\r\n\r\nOne is to replace the relevant classes at runtime.  For this, see https://stackoverflow.com/questions/14316996/how-to-replace-classes-in-a-running-application-in-java\r\n\r\nThe other is to replace the relevant classes in your jar file, which is just a zip file.\r\n\r\nYou&#39;d need to get the new class from docx4j 8.2.9.  \r\n\r\nPlease note that sometimes, there are also changes to ContentTypeManager and ContentTypes; see for example https://github.com/plutext/docx4j/commit/d4d02d3fa6e7bf98f35d1f0520e62eb8aef06cba  \r\n\r\nThat commit introduces new parts, and you&#39;ll run into problems if you update ContentTypeManager without those.\r\n\r\nSo you might be tempted to try to replace NamespacePrefixMappings in your existing jar.\r\n\r\nBut the interfaces it implements changed at https://github.com/plutext/docx4j/commit/65fb843a26b5893200a1824c04c826db2db7940c#diff-70242e2f5ec56be77fe15322526f4530b02e8eafdcb9ae16b60b2220f62e0632\r\n\r\nSee further https://github.com/plutext/docx4j/commits/VERSION_8_3_8/docx4j-core/src/main/java/org/docx4j/jaxb/NamespacePrefixMappings.java so that is going to cause you problems.\r\n\r\nThe upshot is you&#39;ll need to get the source code for 3.3.3 from https://github.com/plutext/docx4j/tree/docx4j-3.3.3 then copy the new NamespacePrefixMappings content into it (ie except the interface changes), then build it.  If you do this, you may as well just deploy your new jar file.\r\n \r\n\r\n\r\n\r\n","title":"Resolve unreadable content message in Word with Docx4J v. 3.3.3","body":"<p>You can't add the namespace definitions to the WordprocessingMLPackage object.</p>\n<p>You'll need to get the source code for 3.3.3 from <a href=\"https://github.com/plutext/docx4j/tree/docx4j-3.3.3\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/tree/docx4j-3.3.3</a> then copy the new NamespacePrefixMappings content into it, then build it. You can then deploy this new jar file.</p>\n<p>If you wanted to try to avoid compiling the source code, you'd have 2 alternatives to try (since docx4j doesn't implement the stategy pattern there).  <strong>I don't expect these to work!</strong></p>\n<p>One is to replace the relevant classes at runtime.  For this, see <a href=\"https://stackoverflow.com/questions/14316996/how-to-replace-classes-in-a-running-application-in-java\">How to replace classes in a running application in java ?</a></p>\n<p>The other is to replace the relevant classes in your jar file, which is just a zip file.</p>\n<p>You'd need to get the new class from docx4j 8.2.9.</p>\n<p>Please note that sometimes, there are also changes to ContentTypeManager and ContentTypes; see for example <a href=\"https://github.com/plutext/docx4j/commit/d4d02d3fa6e7bf98f35d1f0520e62eb8aef06cba\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/commit/d4d02d3fa6e7bf98f35d1f0520e62eb8aef06cba</a></p>\n<p>That commit introduces new parts, and you'll run into problems if you update ContentTypeManager without those.</p>\n<p>So you might be tempted to try to replace NamespacePrefixMappings in your existing jar.</p>\n<p>But the interfaces it implements changed at <a href=\"https://github.com/plutext/docx4j/commit/65fb843a26b5893200a1824c04c826db2db7940c#diff-70242e2f5ec56be77fe15322526f4530b02e8eafdcb9ae16b60b2220f62e0632\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/commit/65fb843a26b5893200a1824c04c826db2db7940c#diff-70242e2f5ec56be77fe15322526f4530b02e8eafdcb9ae16b60b2220f62e0632</a></p>\n<p>See further <a href=\"https://github.com/plutext/docx4j/commits/VERSION_8_3_8/docx4j-core/src/main/java/org/docx4j/jaxb/NamespacePrefixMappings.java\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/commits/VERSION_8_3_8/docx4j-core/src/main/java/org/docx4j/jaxb/NamespacePrefixMappings.java</a> so that is going to cause you problems.</p>\n<p>The upshot is you'll need to get the source code for 3.3.3 from <a href=\"https://github.com/plutext/docx4j/tree/docx4j-3.3.3\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/tree/docx4j-3.3.3</a> then copy the new NamespacePrefixMappings content into it (ie except the interface changes), then build it.  If you do this, you may as well just deploy your new jar file.</p>\n"}],"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74525332,"answer_count":1,"score":0,"last_activity_date":1669067915,"creation_date":1668699139,"question_id":74478113,"body_markdown":"We are processing a Word template that was created with Word 365 (*Version 2202 Build 16.0.14931.20648*) in Docx4J. Once the file was modified by our Java application, Word will show an error message when we open the document. The message will state that **the file contains unreadable content** and that Word needs to repair it. This works fine and the document will eventually open, however, the message is annoying.\r\n\r\nI assume that the error message is **related to a namespace issue** ([see this question][1]). That issue was resolved with [docx4j v. 8.2.9][2], which defines the missing namespaces properly.\r\n\r\n**However, I&#39;m stuck with docx4j 3.3.3 and cannot update.** The fix seems rather simple in the [GitHub commit][3], so I wonder, if there is any way to resolve the issue myself. All I have in my code, is a `WordprocessingMLPackage` object. Can I add or append namespace definitions to that object or it&#39;s sub-properties somehow?\r\n\r\n  [1]: https://stackoverflow.com/questions/67374883/unreadable-content-error-after-generating-word-document-from-template-with-docx4\r\n  [2]: https://www.docx4java.org/forums/announces/docx4j-8-2-9-released-following-word-updates-t2979.html\r\n  [3]: https://github.com/plutext/docx4j/pull/442/commits/b614193104dfa60d6959c16eb96ea299f6d15591","title":"Resolve unreadable content message in Word with Docx4J v. 3.3.3","body":"<p>We are processing a Word template that was created with Word 365 (<em>Version 2202 Build 16.0.14931.20648</em>) in Docx4J. Once the file was modified by our Java application, Word will show an error message when we open the document. The message will state that <strong>the file contains unreadable content</strong> and that Word needs to repair it. This works fine and the document will eventually open, however, the message is annoying.</p>\n<p>I assume that the error message is <strong>related to a namespace issue</strong> (<a href=\"https://stackoverflow.com/questions/67374883/unreadable-content-error-after-generating-word-document-from-template-with-docx4\">see this question</a>). That issue was resolved with <a href=\"https://www.docx4java.org/forums/announces/docx4j-8-2-9-released-following-word-updates-t2979.html\" rel=\"nofollow noreferrer\">docx4j v. 8.2.9</a>, which defines the missing namespaces properly.</p>\n<p><strong>However, I'm stuck with docx4j 3.3.3 and cannot update.</strong> The fix seems rather simple in the <a href=\"https://github.com/plutext/docx4j/pull/442/commits/b614193104dfa60d6959c16eb96ea299f6d15591\" rel=\"nofollow noreferrer\">GitHub commit</a>, so I wonder, if there is any way to resolve the issue myself. All I have in my code, is a <code>WordprocessingMLPackage</code> object. Can I add or append namespace definitions to that object or it's sub-properties somehow?</p>\n"},{"tags":["java","minecraft","mixins","minecraft-fabric"],"owner":{"account_id":17534758,"reputation":98,"user_id":12718101,"display_name":"Leo Minton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669067405,"creation_date":1669067405,"question_id":74525273,"body_markdown":"I am creating a Fabric mod for Minecraft and was trying to change a variable in the declaration of a class. I am new at modding with Fabric and I am not sure how to do this.\r\n\r\nIn the class `net.minecraft.network.packet.c2s.play.PlayerMoveC2SPacket` I wanted to change how the x, y, and z locations were declared.\r\n\r\n```\r\nprotected final double x;\r\nprotected final double y;\r\nprotected final double z;\r\nprotected final float yaw;\r\nprotected final float pitch;\r\nprotected final boolean onGround;\r\nprotected final boolean changePosition;\r\nprotected final boolean changeLook;\r\n\r\nprotected PlayerMoveC2SPacket(double x, double y, double z, float yaw, float pitch, boolean onGround, boolean changePosition, boolean changeLook) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.yaw = yaw;\r\n        this.pitch = pitch;\r\n        this.onGround = onGround;\r\n        this.changePosition = changePosition;\r\n        this.changeLook = changeLook;\r\n```\r\n\r\nI want to change it to this:\r\n\r\n```\r\nthis.x = (double) Math.round(x);\r\nthis.y = (double) Math.round(x);\r\nthis.z = (double) Math.round(x);\r\nthis.yaw = yaw;\r\nthis.pitch = pitch;\r\nthis.onGround = onGround;\r\nthis.changePosition = changePosition;\r\nthis.changeLook = changeLook;\r\n```\r\n\r\nI tried to use an `@Overwrite` but that gave an error. Is there any way to do this, or is it impossible?","title":"Minecraft Fabric modding change class declaration in mixin","body":"<p>I am creating a Fabric mod for Minecraft and was trying to change a variable in the declaration of a class. I am new at modding with Fabric and I am not sure how to do this.</p>\n<p>In the class <code>net.minecraft.network.packet.c2s.play.PlayerMoveC2SPacket</code> I wanted to change how the x, y, and z locations were declared.</p>\n<pre><code>protected final double x;\nprotected final double y;\nprotected final double z;\nprotected final float yaw;\nprotected final float pitch;\nprotected final boolean onGround;\nprotected final boolean changePosition;\nprotected final boolean changeLook;\n\nprotected PlayerMoveC2SPacket(double x, double y, double z, float yaw, float pitch, boolean onGround, boolean changePosition, boolean changeLook) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.yaw = yaw;\n        this.pitch = pitch;\n        this.onGround = onGround;\n        this.changePosition = changePosition;\n        this.changeLook = changeLook;\n</code></pre>\n<p>I want to change it to this:</p>\n<pre><code>this.x = (double) Math.round(x);\nthis.y = (double) Math.round(x);\nthis.z = (double) Math.round(x);\nthis.yaw = yaw;\nthis.pitch = pitch;\nthis.onGround = onGround;\nthis.changePosition = changePosition;\nthis.changeLook = changeLook;\n</code></pre>\n<p>I tried to use an <code>@Overwrite</code> but that gave an error. Is there any way to do this, or is it impossible?</p>\n"},{"tags":["java","tomcat","ssl","https","keystore"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1263373441,"post_id":2055314,"comment_id":1983042,"body_markdown":"give the ssl connector configuration (from server.xml)","body":"give the ssl connector configuration (from server.xml)"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263374506,"creation_date":1263374506,"answer_id":2055560,"question_id":2055314,"body_markdown":"Your configuration should work correctly. \r\n\r\n&lt;a href=&quot;http://tomcat.apache.org/tomcat-5.5-doc/ssl-howto.html&quot;&gt;Tomcat&#39;s how-to&lt;/a&gt; explains the steps to take in order to have a proper JKS. \r\n\r\nMake sure you have imported the Certificate to the jks, with the appropriate alias (testKey)","title":"Tomcat HTTPS keystore certificate","body":"<p>Your configuration should work correctly. </p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-5.5-doc/ssl-howto.html\" rel=\"nofollow noreferrer\">Tomcat's how-to</a> explains the steps to take in order to have a proper JKS. </p>\n\n<p>Make sure you have imported the Certificate to the jks, with the appropriate alias (testKey)</p>\n"},{"tags":[],"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1263401555,"creation_date":1263401555,"answer_id":2058547,"question_id":2055314,"body_markdown":"The problem is (apparently - I can not really confirm this) that it&#39;s impossible to properly import a previously generated certificate (and matching key) into a JKS keystore and have it presented properly by Tomcat.\r\n\r\nThe situation in which my problem occurred is as follows:\r\n\r\n1. I have a certificate file, which I generated myself using OpenSSL from scratch (key + CSR -&gt; certificate), signed by my own CA.\r\n2. I wish to configure Tomcat so that it presents **this particular certificate** to the users connecting to my site.\r\n\r\nThe solution I found to work is:\r\n\r\n1. Convert the existing certificate **and** its private key to the DER format. For example (using OpenSSL):\r\n   \r\n   For the *private key*;\r\n\r\n   `openssl pkcs8 -topk8 -nocrypt -in my_private_key.key -inform PEM -out my_private_key.der -outform DER`\r\n\r\n   For the actual *signed certificate*;\r\n\r\n   `openssl x509 -in my_certificate.crt -inform PEM -out my_certificate.der -outform DER`\r\n\r\n2. Import both DER files into a keystore (JKS file) using a custom Java class.\r\n\r\n   `java ImportKey my_private_key.der my_certificate.der`\r\n  \r\n   I did not figure this out myself (all credit goes to the original inventor(s)).The source for this Java class, and some more details can be found [here][1] and [here][2]. I modified this class slightly so that there is a 3rd (or 4th) parameter that specifies the output location of the resulting JKS file.\r\n\r\nThe end result is a JKS keystore which can then be used in the Tomcat Connector configuration as the keystore. The above tool will generate the JKS file with default passwords for the key and JKS file itself, these can be changed later using `keytool -storepasswd` and `keytool -keypasswd`. Hope this helps for people facing the same issue.\r\n\r\n[1]: http://www.comu.de/docs/tomcat_ssl.htm\r\n[2]: http://www.agentbob.info/agentbob/79-AB.html","title":"Tomcat HTTPS keystore certificate","body":"<p>The problem is (apparently - I can not really confirm this) that it's impossible to properly import a previously generated certificate (and matching key) into a JKS keystore and have it presented properly by Tomcat.</p>\n\n<p>The situation in which my problem occurred is as follows:</p>\n\n<ol>\n<li>I have a certificate file, which I generated myself using OpenSSL from scratch (key + CSR -> certificate), signed by my own CA.</li>\n<li>I wish to configure Tomcat so that it presents <strong>this particular certificate</strong> to the users connecting to my site.</li>\n</ol>\n\n<p>The solution I found to work is:</p>\n\n<ol>\n<li><p>Convert the existing certificate <strong>and</strong> its private key to the DER format. For example (using OpenSSL):</p>\n\n<p>For the <em>private key</em>;</p>\n\n<p><code>openssl pkcs8 -topk8 -nocrypt -in my_private_key.key -inform PEM -out my_private_key.der -outform DER</code></p>\n\n<p>For the actual <em>signed certificate</em>;</p>\n\n<p><code>openssl x509 -in my_certificate.crt -inform PEM -out my_certificate.der -outform DER</code></p></li>\n<li><p>Import both DER files into a keystore (JKS file) using a custom Java class.</p>\n\n<p><code>java ImportKey my_private_key.der my_certificate.der</code></p>\n\n<p>I did not figure this out myself (all credit goes to the original inventor(s)).The source for this Java class, and some more details can be found <a href=\"http://www.comu.de/docs/tomcat_ssl.htm\" rel=\"noreferrer\">here</a> and <a href=\"http://www.agentbob.info/agentbob/79-AB.html\" rel=\"noreferrer\">here</a>. I modified this class slightly so that there is a 3rd (or 4th) parameter that specifies the output location of the resulting JKS file.</p></li>\n</ol>\n\n<p>The end result is a JKS keystore which can then be used in the Tomcat Connector configuration as the keystore. The above tool will generate the JKS file with default passwords for the key and JKS file itself, these can be changed later using <code>keytool -storepasswd</code> and <code>keytool -keypasswd</code>. Hope this helps for people facing the same issue.</p>\n"},{"tags":[],"owner":{"account_id":168230,"reputation":1694,"user_id":2227101,"accept_rate":70,"display_name":"SayeedHussain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401559590,"creation_date":1401559590,"answer_id":23973460,"question_id":2055314,"body_markdown":"Expanding on @Bozho comment,\r\n\r\nThis was really critical. **&quot;The key and the purchased certificate are to be under the same alias&quot;**. \r\n\r\nThe SSL certificate bought from the CA (Verisign, Digicert etc.) should be imported with the same alias as the private key generated before creating the csr. After importing the purchased certificate into the keystore using java keytool, you will see **&quot;Certificate reply added to keystore&quot;.** \r\n\r\nTo check the trust chain, use the terminal command **openssl s_client -connect yourdomain.com:443 -showcerts.** It starts at your cert and leads to up to a trusted root CA.","title":"Tomcat HTTPS keystore certificate","body":"<p>Expanding on @Bozho comment,</p>\n\n<p>This was really critical. <strong>\"The key and the purchased certificate are to be under the same alias\"</strong>. </p>\n\n<p>The SSL certificate bought from the CA (Verisign, Digicert etc.) should be imported with the same alias as the private key generated before creating the csr. After importing the purchased certificate into the keystore using java keytool, you will see <strong>\"Certificate reply added to keystore\".</strong> </p>\n\n<p>To check the trust chain, use the terminal command <strong>openssl s_client -connect yourdomain.com:443 -showcerts.</strong> It starts at your cert and leads to up to a trusted root CA.</p>\n"},{"tags":[],"owner":{"account_id":17934575,"reputation":1,"user_id":15147960,"display_name":"pancake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669067226,"creation_date":1669067035,"answer_id":74525223,"question_id":2055314,"body_markdown":"Here are the commands to generate a proper certificate entry for a keystore. Background knowledge: since Tomcat version 7, Tomcat supports PKCS12 as a keystore format, and java keystores can readily import such files. More background knowledge: key entries in keystores require the entire certificate chain to be present, or else SSL errors will happen.\r\n\r\nSo here&#39;s what to do:\r\n\r\n1. concatenate your intermediate (signing root) cert and your root CA cert together:\r\n\r\n    cat intermediate.pem root.pem &gt; chain.pem\r\n\r\n2. concatenate your signed certificate with the chain:\r\n\r\n    cat cert.pem chain.pem &gt; fullchain.pem\r\n\r\n3. Now, create a pkcs12 file with the full chain, and the roots clearly identified. Make sure to copy the private key you generated with your CSR (named privkey.pem in my example) is in the same dir as the other files you generated when you execute this command::\r\n\r\n    openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out keystore.p12 -name server -CAfile chain.pem -caname root\r\n\r\n4. Okay, cool; this file should work fine. You could just copy this to conf/ssl and modify your server.xml to use keystore.p12 instead of keystore.jks. Or, you could import it into your keystore file by cding to conf/ssl and running this command (maybe make a backup first):\r\n\r\n    keytool -importkeystore -destkeystore keystore.jks -deststoretype JKS -srckeystore keystore.p12 -srcstoretype PKCS12 -alias server","title":"Tomcat HTTPS keystore certificate","body":"<p>Here are the commands to generate a proper certificate entry for a keystore. Background knowledge: since Tomcat version 7, Tomcat supports PKCS12 as a keystore format, and java keystores can readily import such files. More background knowledge: key entries in keystores require the entire certificate chain to be present, or else SSL errors will happen.</p>\n<p>So here's what to do:</p>\n<ol>\n<li><p>concatenate your intermediate (signing root) cert and your root CA cert together:</p>\n<p>cat intermediate.pem root.pem &gt; chain.pem</p>\n</li>\n<li><p>concatenate your signed certificate with the chain:</p>\n<p>cat cert.pem chain.pem &gt; fullchain.pem</p>\n</li>\n<li><p>Now, create a pkcs12 file with the full chain, and the roots clearly identified. Make sure to copy the private key you generated with your CSR (named privkey.pem in my example) is in the same dir as the other files you generated when you execute this command::</p>\n<p>openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out keystore.p12 -name server -CAfile chain.pem -caname root</p>\n</li>\n<li><p>Okay, cool; this file should work fine. You could just copy this to conf/ssl and modify your server.xml to use keystore.p12 instead of keystore.jks. Or, you could import it into your keystore file by cding to conf/ssl and running this command (maybe make a backup first):</p>\n<p>keytool -importkeystore -destkeystore keystore.jks -deststoretype JKS -srckeystore keystore.p12 -srcstoretype PKCS12 -alias server</p>\n</li>\n</ol>\n"}],"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38769,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":2058547,"answer_count":4,"score":18,"last_activity_date":1669067226,"creation_date":1263370864,"question_id":2055314,"body_markdown":"Ran into another problem using SSL and Tomcat: I&#39;ve configured a keystore which contains a key and a certificate (the server certificate I wish to present to the clients connecting to the site). I&#39;ve done the same for the truststore (I&#39;m going to need client authentication).\r\n\r\nThe problem I have now is that when I connect to my Tomcat instance via HTTPS, the certificate presented to me (the server certificate) is not my actual server certificate, but rather the **key** in the JKS keystore. Using -Djavax.net.debug=ssl reveals that it&#39;s presenting the correct CA for client authentication, but not the correct server certificate.\r\n\r\n&lt;pre&gt;adding as trusted cert:\r\n  Subject: CN=A\r\n  Issuer:  CN=A\r\n  Algorithm: RSA; Serial number: -\r\n  Valid from Tue Nov 10 14:48:31 CET 2009 until Mon Feb 08 14:48:31 CET 2010\r\n\r\nadding as trusted cert:\r\n  Subject: X\r\n  Issuer:  X\r\n  Algorithm: RSA; Serial number: -\r\n  Valid from Wed Jan 19 01:00:00 CET 2005 until Mon Jan 19 00:59:59 CET 2015&lt;/pre&gt;\r\n\r\nI&#39;ve replaced the real values with place holders. A = the domain name of the server (but in this case, for some reason this is the key and not the certificate). X = a VeriSign CA (this should be correct). I have an existing certificate I would like to use to present to the clients, which I imported into a JKS keystore using keytool.\r\n\r\nThe Tomcat connector configuration:\r\n\r\n    &lt;Connector port=&quot;444&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\r\n      maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n      clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; \t   \r\n      keystoreFile=&quot;conf/ssl/keystore.jks&quot;\r\n      keystorePass=&quot;xx&quot;\r\n      keyAlias=&quot;testkey&quot;\r\n      truststoreFile=&quot;conf/ssl/truststore.jks&quot;\r\n      truststorePass=&quot;xx&quot; /&gt;\r\n\r\nAny idea why my Tomcat instance is not presenting the correct certificate?","title":"Tomcat HTTPS keystore certificate","body":"<p>Ran into another problem using SSL and Tomcat: I've configured a keystore which contains a key and a certificate (the server certificate I wish to present to the clients connecting to the site). I've done the same for the truststore (I'm going to need client authentication).</p>\n\n<p>The problem I have now is that when I connect to my Tomcat instance via HTTPS, the certificate presented to me (the server certificate) is not my actual server certificate, but rather the <strong>key</strong> in the JKS keystore. Using -Djavax.net.debug=ssl reveals that it's presenting the correct CA for client authentication, but not the correct server certificate.</p>\n\n<pre>adding as trusted cert:\n  Subject: CN=A\n  Issuer:  CN=A\n  Algorithm: RSA; Serial number: -\n  Valid from Tue Nov 10 14:48:31 CET 2009 until Mon Feb 08 14:48:31 CET 2010\n\nadding as trusted cert:\n  Subject: X\n  Issuer:  X\n  Algorithm: RSA; Serial number: -\n  Valid from Wed Jan 19 01:00:00 CET 2005 until Mon Jan 19 00:59:59 CET 2015</pre>\n\n<p>I've replaced the real values with place holders. A = the domain name of the server (but in this case, for some reason this is the key and not the certificate). X = a VeriSign CA (this should be correct). I have an existing certificate I would like to use to present to the clients, which I imported into a JKS keystore using keytool.</p>\n\n<p>The Tomcat connector configuration:</p>\n\n<pre><code>&lt;Connector port=\"444\" protocol=\"HTTP/1.1\" SSLEnabled=\"true\"\n  maxThreads=\"150\" scheme=\"https\" secure=\"true\"\n  clientAuth=\"false\" sslProtocol=\"TLS\"     \n  keystoreFile=\"conf/ssl/keystore.jks\"\n  keystorePass=\"xx\"\n  keyAlias=\"testkey\"\n  truststoreFile=\"conf/ssl/truststore.jks\"\n  truststorePass=\"xx\" /&gt;\n</code></pre>\n\n<p>Any idea why my Tomcat instance is not presenting the correct certificate?</p>\n"},{"tags":["java","replace","tostring"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669066883,"creation_date":1669066883,"answer_id":74525195,"question_id":74524607,"body_markdown":"Yes, it would. `replace` has no idea that `[` and `]` are only found at the start and end. In fact, it&#39;s worse - you get another loop for copying the string over (the string has an underlying array and that needs to be cloned in its entirety to lop a character out of it).\r\n\r\nIf your intent is to replace every `[` in the string, then, no, there is no faster way. However, if your actual intent is to simply not have the opening brace and closing brace, then either write your own loop to toString the contents. Something like:\r\n\r\n```\r\nLinkedList&lt;Foo&gt; foos = ...;\r\n\r\nStringBuilder out = new StringBuilder();\r\nfor (Foo f : foos) out.append(out.length() == 0 ? &quot;&quot; : &quot;, &quot;).append(f);\r\nreturn out.toString();\r\n```\r\n\r\nOr even:\r\n\r\n```\r\nString.join(&quot;, &quot;, foos);\r\n```\r\n\r\nOr even:\r\n\r\n```\r\nfoos.stream().collect(Collectors.joining(&quot;, &quot;));\r\n```\r\n\r\nNone of this is the same thing as `.replace(&quot;[&quot;, &quot;&quot;)` - after all, if a `[` symbol is part of the toString() of any `Foo` object, it would be stripped out as well with `.replace(&quot;[&quot;, &quot;&quot;)` - though you probably didn&#39;t want that to happen.\r\n\r\nNote that the way modern CPUs work, unless that list has over a few thousand elements in it, looping it 4 times is essentially free and takes no measurable time. The concept of `O(n)` &#39;kicks in&#39; after a certain number of loops. On modern hardware, it tends to be _a lot_ of loops before it matters. Often other concerns are much more important. As a simple example, linked list, in general? Horrible performance relative to something like ArrayList. Even in cases where O(k) wise it should be faster. It&#39;s due to the way linkedlists create extra objects and how these tend to be non-contiguous (not near each other in memory). Modern CPUs can&#39;t read memory at all. They can ask the memory controller to take one of the on-die cache pages and replace it with the contents of another memory page, which takes 500 to a 1000 cycles. The CPU will ask the memory controller to do that and then go to sleep for 1000 cycles. You can see how reducing the number of times it does this can have a rather marked effect on performance, and yet the `O(k)` business doesn&#39;t and cannot take it into account.\r\n\r\nDo not worry about performance unless you have a real life scenario where the program appears to run slower than you think it should. Then, use a profiler to figure out which 1% of the code is eating 99% of the resources (because it&#39;s virtually always a 1% &#39;hot path&#39; that is responsible) and then optimize just that 1%. It&#39;s pretty much impossible to predict what the 1% is going to be. So, don&#39;t bother trying to do so while writing code, it just leads you to writing harder to maintain, less flexible code - which ironically enough tends to lead to situations where adjusting the hot path is _harder_. Worrying about performance, in essence, _slows down the code_. Hence why it&#39;s very very important not to worry about that, and worry instead about code that is easy to read and easy to modify.\r\n","title":"Is LinkedList.toString().replace() O(2*k)?","body":"<p>Yes, it would. <code>replace</code> has no idea that <code>[</code> and <code>]</code> are only found at the start and end. In fact, it's worse - you get another loop for copying the string over (the string has an underlying array and that needs to be cloned in its entirety to lop a character out of it).</p>\n<p>If your intent is to replace every <code>[</code> in the string, then, no, there is no faster way. However, if your actual intent is to simply not have the opening brace and closing brace, then either write your own loop to toString the contents. Something like:</p>\n<pre><code>LinkedList&lt;Foo&gt; foos = ...;\n\nStringBuilder out = new StringBuilder();\nfor (Foo f : foos) out.append(out.length() == 0 ? &quot;&quot; : &quot;, &quot;).append(f);\nreturn out.toString();\n</code></pre>\n<p>Or even:</p>\n<pre><code>String.join(&quot;, &quot;, foos);\n</code></pre>\n<p>Or even:</p>\n<pre><code>foos.stream().collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<p>None of this is the same thing as <code>.replace(&quot;[&quot;, &quot;&quot;)</code> - after all, if a <code>[</code> symbol is part of the toString() of any <code>Foo</code> object, it would be stripped out as well with <code>.replace(&quot;[&quot;, &quot;&quot;)</code> - though you probably didn't want that to happen.</p>\n<p>Note that the way modern CPUs work, unless that list has over a few thousand elements in it, looping it 4 times is essentially free and takes no measurable time. The concept of <code>O(n)</code> 'kicks in' after a certain number of loops. On modern hardware, it tends to be <em>a lot</em> of loops before it matters. Often other concerns are much more important. As a simple example, linked list, in general? Horrible performance relative to something like ArrayList. Even in cases where O(k) wise it should be faster. It's due to the way linkedlists create extra objects and how these tend to be non-contiguous (not near each other in memory). Modern CPUs can't read memory at all. They can ask the memory controller to take one of the on-die cache pages and replace it with the contents of another memory page, which takes 500 to a 1000 cycles. The CPU will ask the memory controller to do that and then go to sleep for 1000 cycles. You can see how reducing the number of times it does this can have a rather marked effect on performance, and yet the <code>O(k)</code> business doesn't and cannot take it into account.</p>\n<p>Do not worry about performance unless you have a real life scenario where the program appears to run slower than you think it should. Then, use a profiler to figure out which 1% of the code is eating 99% of the resources (because it's virtually always a 1% 'hot path' that is responsible) and then optimize just that 1%. It's pretty much impossible to predict what the 1% is going to be. So, don't bother trying to do so while writing code, it just leads you to writing harder to maintain, less flexible code - which ironically enough tends to lead to situations where adjusting the hot path is <em>harder</em>. Worrying about performance, in essence, <em>slows down the code</em>. Hence why it's very very important not to worry about that, and worry instead about code that is easy to read and easy to modify.</p>\n"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74525195,"answer_count":1,"score":2,"last_activity_date":1669066883,"creation_date":1669062915,"question_id":74524607,"body_markdown":"I know that converting a suitable object (e.g., a linked list) to a string using the toString() method is an O(n) operation, where &#39;n&#39; is the length of the linked list. However, if you wanted to then replace something in that that string using the replace(), method, is that also an o(k) method, where &#39;k&#39; is the length of the string?\r\n\r\nFor example, for the line `String str = path.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;&quot;);`, does this run through the length of the linked list 1 time, and then the length of the string an additional 3 times? If so, is there a more efficient way to do what that line of code does? ","title":"Is LinkedList.toString().replace() O(2*k)?","body":"<p>I know that converting a suitable object (e.g., a linked list) to a string using the toString() method is an O(n) operation, where 'n' is the length of the linked list. However, if you wanted to then replace something in that that string using the replace(), method, is that also an o(k) method, where 'k' is the length of the string?</p>\n<p>For example, for the line <code>String str = path.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;&quot;);</code>, does this run through the length of the linked list 1 time, and then the length of the string an additional 3 times? If so, is there a more efficient way to do what that line of code does?</p>\n"},{"tags":["java","spring","jpa","many-to-many"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1668959924,"post_id":74509445,"comment_id":131527553,"body_markdown":"The answer is probably in the manual.","body":"The answer is probably in the manual."},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1668962270,"post_id":74509445,"comment_id":131528081,"body_markdown":"__List&lt;TrailCount&gt;__ versus __new com.de.dao.MenuCount__","body":"<b>List&lt;TrailCount&gt;</b> versus <b>new com.de.dao.MenuCount</b>"},{"owner":{"account_id":15762242,"reputation":523,"user_id":11373639,"display_name":"tharindu"},"score":0,"creation_date":1668972199,"post_id":74509445,"comment_id":131530346,"body_markdown":"@DirkDeyne sorry it was a typing mistake. I updated my question","body":"@DirkDeyne sorry it was a typing mistake. I updated my question"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669048148,"post_id":74509445,"comment_id":131549061,"body_markdown":"Is there more to the exception that shows Springs objection to the query? JPA queries (non-native) use the entity and property names: entity name for Customer is &quot;Customer&quot; - you&#39;ve got it lower case in the query.","body":"Is there more to the exception that shows Springs objection to the query? JPA queries (non-native) use the entity and property names: entity name for Customer is &quot;Customer&quot; - you&#39;ve got it lower case in the query."},{"owner":{"account_id":15762242,"reputation":523,"user_id":11373639,"display_name":"tharindu"},"score":0,"creation_date":1669066708,"post_id":74509445,"comment_id":131554653,"body_markdown":"@Chris query is not shown even though show sql is enabled in the property file. Also I updated the proper entity names and still showing the same error","body":"@Chris query is not shown even though show sql is enabled in the property file. Also I updated the proper entity names and still showing the same error"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669067727,"post_id":74509445,"comment_id":131554913,"body_markdown":"Show SQL options only come into play when there is SQL to execute - validation is occurring well before that. The error itself should give a reason for the validation failure. If entity names are now correct (Update your question to show what you now have, as what was there was/is wrong), show the full error stack as well - and check the log for the statements before the validation as well. The issue might not just be with your query, but your model itself is wrong. What are you trying to get with JoinColumn annotations on UUID columns? They are for reference mappings to define FKs, not basics","body":"Show SQL options only come into play when there is SQL to execute - validation is occurring well before that. The error itself should give a reason for the validation failure. If entity names are now correct (Update your question to show what you now have, as what was there was/is wrong), show the full error stack as well - and check the log for the statements before the validation as well. The issue might not just be with your query, but your model itself is wrong. What are you trying to get with JoinColumn annotations on UUID columns? They are for reference mappings to define FKs, not basics"}],"owner":{"account_id":15762242,"reputation":523,"user_id":11373639,"display_name":"tharindu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669066642,"creation_date":1668958169,"question_id":74509445,"body_markdown":"\r\n\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;, schema = &quot;customer&quot;)\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(columnDefinition = &quot;uuid&quot;, updatable = false, name = &quot;customer_id&quot;)\r\n        private UUID customerId;\r\n        private String name;\r\n        @ManyToMany(mappedBy = &quot;bookMembers&quot;)\r\n        Set&lt;Reservation&gt; reservations\r\n      \r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;reservation&quot;, schema = &quot;reservation&quot;)\r\n    @NoArgsConstructor\r\n    public class Reservation {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(columnDefinition = &quot;uuid&quot;, updatable = false, name = &quot;reservation_id&quot;)\r\n        private UUID reservationId;\r\n    \r\n        @JoinColumn(name = &quot;reservation_id&quot;)\r\n        @Column(name = &quot;reserved_by_customer_id&quot;)\r\n        private UUID reservedByCustomerId;\r\n    \r\n        @JoinColumn(name = &quot;menu_id&quot;)\r\n        private UUID menuId;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;reservation_customer&quot;,\r\n                schema = &quot;customer&quot;,\r\n                joinColumns = {@JoinColumn(name = &quot;reservation_id&quot;)},\r\n                inverseJoinColumns = {@JoinColumn(name = &quot;customer_id&quot;)}\r\n        )\r\n        private Set&lt;Customer&gt; reservationMembers = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n    \r\n    Dao Entity\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    public class MenuCount {\r\n    \r\n        private UUID menuId;\r\n        private Long count;\r\n    }\r\n    \r\n    Repository\r\n    \r\n    public interface ReservationRepository extends JpaRepository&lt;Reservation, UUID&gt; {\r\n    @Query(&quot;select new com.de.dao.MenuCount(r.menuId, count(c.customerId)) from customer c join c.reservations r  group by r.menuId&quot;)\r\n        List&lt;MenuCount&gt; getCustomerCountGroupByMenuId();\r\n    }\r\n\r\nI am trying to get the total number of customers for each menu Id. But when running the code getting the below error\r\n\r\n&gt;  org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;Repository&#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.de.repository.Repository.getCustomerCountGroupByMenuId()!\r\n\r\nNative - \r\n\r\nselect r.menuId, count(c.customerId) from Customer c join reservation_customer cr on c.customerId = cr.customerId join Reservation r on r.reservationId = cr.reservationId groupBy r.menuId;\r\n\r\n\r\nCan I acheive the native query functionality using @Query() in JPA without creating an additional entity module","title":"Many to Many JPA join query","body":"<pre><code>@Entity\n@Table(name = &quot;customer&quot;, schema = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue\n    @Column(columnDefinition = &quot;uuid&quot;, updatable = false, name = &quot;customer_id&quot;)\n    private UUID customerId;\n    private String name;\n    @ManyToMany(mappedBy = &quot;bookMembers&quot;)\n    Set&lt;Reservation&gt; reservations\n  \n\n}\n\n@Entity\n@Table(name = &quot;reservation&quot;, schema = &quot;reservation&quot;)\n@NoArgsConstructor\npublic class Reservation {\n\n    @Id\n    @GeneratedValue\n    @Column(columnDefinition = &quot;uuid&quot;, updatable = false, name = &quot;reservation_id&quot;)\n    private UUID reservationId;\n\n    @JoinColumn(name = &quot;reservation_id&quot;)\n    @Column(name = &quot;reserved_by_customer_id&quot;)\n    private UUID reservedByCustomerId;\n\n    @JoinColumn(name = &quot;menu_id&quot;)\n    private UUID menuId;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;reservation_customer&quot;,\n            schema = &quot;customer&quot;,\n            joinColumns = {@JoinColumn(name = &quot;reservation_id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;customer_id&quot;)}\n    )\n    private Set&lt;Customer&gt; reservationMembers = new HashSet&lt;&gt;();\n\n}\n\nDao Entity\n\n@Data\n@AllArgsConstructor\npublic class MenuCount {\n\n    private UUID menuId;\n    private Long count;\n}\n\nRepository\n\npublic interface ReservationRepository extends JpaRepository&lt;Reservation, UUID&gt; {\n@Query(&quot;select new com.de.dao.MenuCount(r.menuId, count(c.customerId)) from customer c join c.reservations r  group by r.menuId&quot;)\n    List&lt;MenuCount&gt; getCustomerCountGroupByMenuId();\n}\n</code></pre>\n<p>I am trying to get the total number of customers for each menu Id. But when running the code getting the below error</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'Repository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.de.repository.Repository.getCustomerCountGroupByMenuId()!</p>\n</blockquote>\n<p>Native -</p>\n<p>select r.menuId, count(c.customerId) from Customer c join reservation_customer cr on c.customerId = cr.customerId join Reservation r on r.reservationId = cr.reservationId groupBy r.menuId;</p>\n<p>Can I acheive the native query functionality using @Query() in JPA without creating an additional entity module</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1669064065,"post_id":74524729,"comment_id":131553950,"body_markdown":"Will your word file remain small enough to be read into memory?  The way your code is arranged now, you&#39;ll read the file for each word you want to add to the `List`.  To answer your question, count the lines as you&#39;re reading them.  When the counted line number matches the input line number. get the `wordIndex` word and add it to the `List`.","body":"Will your word file remain small enough to be read into memory?  The way your code is arranged now, you&#39;ll read the file for each word you want to add to the <code>List</code>.  To answer your question, count the lines as you&#39;re reading them.  When the counted line number matches the input line number. get the <code>wordIndex</code> word and add it to the <code>List</code>."}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669066624,"creation_date":1669066624,"answer_id":74525150,"question_id":74524729,"body_markdown":"You are not checking for any conditions in the code and that is why it is adding all the words to the list.\r\n\r\n    public static void addWordsToArray(ArrayList&lt;String&gt; fileWords, String filePath,int lineIndex, int wordIndex) {\r\n    \r\n        Scanner tmp1 = null;\r\n        try {\r\n            tmp1 = new Scanner(new File(filePath));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        int currentLineIndex = 0;\r\n        int currentWordIndex = 0;\r\n\r\n        while (tmp1.hasNextLine()) {\r\n            Scanner tmp2 = new Scanner(tmp1.nextLine());\r\n            if(currentLineIndex == lineIndex) {\r\n                while (tmp2.hasNext()) {\r\n                    String s = tmp2.next();\r\n                    if(currentWordIndex == wordIndex){\r\n                        fileWords.add(s);\r\n                    }\r\n                    currentWordIndex++;\r\n                }\r\n            }\r\n            currentLineIndex++;\r\n        }\r\n    }\r\n\r\nYou can do something like the given code to achieve what you want. \r\n\r\n**NOTE**: Logic assumes that the indexes are zero based, i.e. `lineIndex = 0` means the first line and `wordIndex = 0` means the first word.\r\n ","title":"How do I read a specific line and specific word in a text file based on 2 indexes?","body":"<p>You are not checking for any conditions in the code and that is why it is adding all the words to the list.</p>\n<pre><code>public static void addWordsToArray(ArrayList&lt;String&gt; fileWords, String filePath,int lineIndex, int wordIndex) {\n\n    Scanner tmp1 = null;\n    try {\n        tmp1 = new Scanner(new File(filePath));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    int currentLineIndex = 0;\n    int currentWordIndex = 0;\n\n    while (tmp1.hasNextLine()) {\n        Scanner tmp2 = new Scanner(tmp1.nextLine());\n        if(currentLineIndex == lineIndex) {\n            while (tmp2.hasNext()) {\n                String s = tmp2.next();\n                if(currentWordIndex == wordIndex){\n                    fileWords.add(s);\n                }\n                currentWordIndex++;\n            }\n        }\n        currentLineIndex++;\n    }\n}\n</code></pre>\n<p>You can do something like the given code to achieve what you want.</p>\n<p><strong>NOTE</strong>: Logic assumes that the indexes are zero based, i.e. <code>lineIndex = 0</code> means the first line and <code>wordIndex = 0</code> means the first word.</p>\n"}],"owner":{"account_id":25285048,"reputation":5,"user_id":19112213,"display_name":"Hope Less"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74525150,"answer_count":1,"score":0,"last_activity_date":1669066624,"creation_date":1669063672,"question_id":74524729,"body_markdown":"Basically I have this Java program and I want to enter 2 specific values for lineIndex and wordIndex and add the word that matches these coordinates to the ArrayList fileWords.\r\n\r\nSample file content:\r\n\r\nworda wordb wordc wordd\r\n\r\nworde wordf wordg wordh\r\n\r\nwordi wordj wordk wordl\r\n\r\nwordm wordn wordo wordp\r\n\r\n\r\nThis code simply adds all the words in the List. How should it look if I want it to match my needs?\r\n```\r\npublic static void main(String[] args)  {\r\n    Scanner scan = new Scanner(System.in);\r\n    ArrayList&lt;String&gt; fileWords = new ArrayList&lt;&gt;();\r\n    String filePath = &quot;x file path&quot;;\r\n   \r\n    int lineIndex = 0;\r\n    int wordIndex =0;\r\n    \r\n    addWordsToArray(fileWords,filePath,lineIndex,wordIndex);\r\n}\r\npublic static void addWordsToArray(ArrayList&lt;String&gt; fileWords, String filePath,int lineIndex, int wordIndex) {\r\n\r\n    Scanner tmp1 = null;\r\n    try {\r\n        tmp1 = new Scanner(new File(filePath));\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n    while (tmp1.hasNextLine()) {\r\n        Scanner tmp2 = new Scanner(tmp1.nextLine());\r\n        while (tmp2.hasNext()) {\r\n            String s = tmp2.next();\r\n            fileWords.add(s);\r\n        }\r\n    }\r\n}\r\n```","title":"How do I read a specific line and specific word in a text file based on 2 indexes?","body":"<p>Basically I have this Java program and I want to enter 2 specific values for lineIndex and wordIndex and add the word that matches these coordinates to the ArrayList fileWords.</p>\n<p>Sample file content:</p>\n<p>worda wordb wordc wordd</p>\n<p>worde wordf wordg wordh</p>\n<p>wordi wordj wordk wordl</p>\n<p>wordm wordn wordo wordp</p>\n<p>This code simply adds all the words in the List. How should it look if I want it to match my needs?</p>\n<pre><code>public static void main(String[] args)  {\n    Scanner scan = new Scanner(System.in);\n    ArrayList&lt;String&gt; fileWords = new ArrayList&lt;&gt;();\n    String filePath = &quot;x file path&quot;;\n   \n    int lineIndex = 0;\n    int wordIndex =0;\n    \n    addWordsToArray(fileWords,filePath,lineIndex,wordIndex);\n}\npublic static void addWordsToArray(ArrayList&lt;String&gt; fileWords, String filePath,int lineIndex, int wordIndex) {\n\n    Scanner tmp1 = null;\n    try {\n        tmp1 = new Scanner(new File(filePath));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    while (tmp1.hasNextLine()) {\n        Scanner tmp2 = new Scanner(tmp1.nextLine());\n        while (tmp2.hasNext()) {\n            String s = tmp2.next();\n            fileWords.add(s);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","api","kubernetes"],"comments":[{"owner":{"account_id":3344464,"reputation":17681,"user_id":6309601,"accept_rate":100,"display_name":"P...."},"score":0,"creation_date":1669067338,"post_id":74525103,"comment_id":131554807,"body_markdown":"wow `v1.18.5`, Are you using a readiness probe?","body":"wow <code>v1.18.5</code>, Are you using a readiness probe?"},{"owner":{"account_id":18388317,"reputation":1,"user_id":13394758,"display_name":"Ali Berk Yıldız"},"score":0,"creation_date":1669157884,"post_id":74525103,"comment_id":131579981,"body_markdown":"Yes I&#39;m using readiness probe but This files not creating when pod is starting. You should request to the api and when get this request it is dublicated after a while it creates same request again.","body":"Yes I&#39;m using readiness probe but This files not creating when pod is starting. You should request to the api and when get this request it is dublicated after a while it creates same request again."}],"owner":{"account_id":18388317,"reputation":1,"user_id":13394758,"display_name":"Ali Berk Yıldız"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669066304,"creation_date":1669066304,"question_id":74525103,"body_markdown":"I&#39;ve kubernetes cluster and My application is working on one pod. My application create some files and it sometimes took over than 5 min. and  when it took so long pod create same request. I checked everywhere but actually I don&#39;t know how to search this problem it might releated with timeout or some thing like this but I&#39;am sure it is releated with kubernetes. I&#39;ve tried same application on docker container and I didn&#39;t see same problem in there. I&#39;ll be greatfull if you anyone help me. (kubernetes version is v1.18.5) \r\n\r\nMy expectation is get request only one time. ","title":"Kubernetes getting same request multiple time","body":"<p>I've kubernetes cluster and My application is working on one pod. My application create some files and it sometimes took over than 5 min. and  when it took so long pod create same request. I checked everywhere but actually I don't know how to search this problem it might releated with timeout or some thing like this but I'am sure it is releated with kubernetes. I've tried same application on docker container and I didn't see same problem in there. I'll be greatfull if you anyone help me. (kubernetes version is v1.18.5)</p>\n<p>My expectation is get request only one time.</p>\n"},{"tags":["java","jar","apk"],"comments":[{"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"score":0,"creation_date":1669063704,"post_id":74524497,"comment_id":131553850,"body_markdown":"Thank you, I edited in order to have only one question","body":"Thank you, I edited in order to have only one question"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1669075241,"post_id":74524497,"comment_id":131556461,"body_markdown":"No, Java Swing, while officially still supported, is basically dead.  Android uses a very different UI framework and will not run Swing directly.","body":"No, Java Swing, while officially still supported, is basically dead.  Android uses a very different UI framework and will not run Swing directly."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1669105509,"post_id":74524497,"comment_id":131561976,"body_markdown":"The simple answer is no. You may be able to reuse some of the application logic but you will have to re-implemented the UI using Androids UI framework. As long as your application is only supposed to do something when it is in foreground and you only use app-private storage the application logic should work an Android.","body":"The simple answer is no. You may be able to reuse some of the application logic but you will have to re-implemented the UI using Androids UI framework. As long as your application is only supposed to do something when it is in foreground and you only use app-private storage the application logic should work an Android."},{"owner":{"account_id":14414124,"reputation":758,"user_id":10412027,"display_name":"Gabriel Rogath"},"score":0,"creation_date":1675939678,"post_id":74524497,"comment_id":133037338,"body_markdown":"[JavaFX](https://openjfx.io/) is a new way for Swing.  But for your question No, The UI with Android is completely different as other have elaborate you can apply the logic of your application with some logic","body":"<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">JavaFX</a> is a new way for Swing.  But for your question No, The UI with Android is completely different as other have elaborate you can apply the logic of your application with some logic"}],"answers":[{"tags":[],"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669065638,"creation_date":1669063327,"answer_id":74524680,"question_id":74524497,"body_markdown":"You can&#39;t simply take a JAR file and convert it as such into an APK file, as e.g. you have to provide an UI tieing. Take a look at the [structure of APKs][1] to get a first impression. The `classes.jar` file in an APK is only a part needed for an APK to work.\r\n\r\n\r\n  [1]: https://timeout.userpage.fu-berlin.de/apkbuilder/#apk","title":"Java to Android","body":"<p>You can't simply take a JAR file and convert it as such into an APK file, as e.g. you have to provide an UI tieing. Take a look at the <a href=\"https://timeout.userpage.fu-berlin.de/apkbuilder/#apk\" rel=\"nofollow noreferrer\">structure of APKs</a> to get a first impression. The <code>classes.jar</code> file in an APK is only a part needed for an APK to work.</p>\n"}],"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669065638,"creation_date":1669062251,"question_id":74524497,"body_markdown":"I have developed an application (jar) based in Java Swing (JFrame) in Netbeans.\r\n\r\nIs there an easy way to convert this application to an Android application (apk) in orden to publish it?","title":"Java to Android","body":"<p>I have developed an application (jar) based in Java Swing (JFrame) in Netbeans.</p>\n<p>Is there an easy way to convert this application to an Android application (apk) in orden to publish it?</p>\n"},{"tags":["java","string","escaping"],"answers":[{"tags":[],"owner":{"account_id":58302,"reputation":17662,"user_id":174574,"accept_rate":95,"display_name":"Lasse Espeholt"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1406642388,"creation_date":1282395582,"answer_id":3537718,"question_id":3537706,"body_markdown":"See this from http://commons.apache.org/lang/:\r\n\r\n[StringEscapeUtils][1]\r\n\r\n`StringEscapeUtils.unescapeJava(String str)`\r\n\r\n[1]:http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html","title":"How to unescape a Java string literal in Java?","body":"<p>See this from <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">http://commons.apache.org/lang/</a>:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"noreferrer\">StringEscapeUtils</a></p>\n\n<p><code>StringEscapeUtils.unescapeJava(String str)</code></p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1406598918,"creation_date":1282395960,"answer_id":3537745,"question_id":3537706,"body_markdown":"You can use [`String unescapeJava(String)`](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava(java.lang.String)) method of [`StringEscapeUtils`](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html) from [Apache Commons Lang](http://commons.apache.org/lang/).\n\nHere&#39;s an example snippet:\n\n        String in = &quot;a\\\\tb\\\\n\\\\\\&quot;c\\\\\\&quot;&quot;;\n\n        System.out.println(in);\n        // a\\tb\\n\\&quot;c\\&quot;\n\n        String out = StringEscapeUtils.unescapeJava(in);\n\n        System.out.println(out);\n        // a    b\n        // &quot;c&quot;\n\nThe utility class has methods to escapes and unescape strings for Java, Java Script, HTML, XML, and SQL. It also has overloads that writes directly to a [`java.io.Writer`](http://java.sun.com/javase/6/docs/api/java/io/Writer.html).\n\n---\n\n### Caveats\n\nIt looks like `StringEscapeUtils` handles Unicode escapes with one `u`, but not octal escapes, or Unicode escapes with extraneous `u`s.\n\n        /* Unicode escape test #1: PASS */\n        \n        System.out.println(\n            &quot;\\u0030&quot;\n        ); // 0\n        System.out.println(\n            StringEscapeUtils.unescapeJava(&quot;\\\\u0030&quot;)\n        ); // 0\n        System.out.println(\n            &quot;\\u0030&quot;.equals(StringEscapeUtils.unescapeJava(&quot;\\\\u0030&quot;))\n        ); // true\n        \n        /* Octal escape test: FAIL */\n        \n        System.out.println(\n            &quot;\\45&quot;\n        ); // %\n        System.out.println(\n            StringEscapeUtils.unescapeJava(&quot;\\\\45&quot;)\n        ); // 45\n        System.out.println(\n            &quot;\\45&quot;.equals(StringEscapeUtils.unescapeJava(&quot;\\\\45&quot;))\n        ); // false\n    \n        /* Unicode escape test #2: FAIL */\n        \n        System.out.println(\n            &quot;\\uu0030&quot;\n        ); // 0\n        System.out.println(\n            StringEscapeUtils.unescapeJava(&quot;\\\\uu0030&quot;)\n        ); // throws NestableRuntimeException:\n           //   Unable to parse unicode value: u003\n\nA quote from the JLS:\n\n&gt; Octal escapes are provided for compatibility with C, but can express only Unicode values `\\u0000` through `\\u00FF`, so Unicode escapes are usually preferred.\n\nIf your string can contain octal escapes, you may want to convert them to Unicode escapes first, or use another approach.\n\nThe extraneous `u` is also documented as follows:\n\n&gt; The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. The transformation involves converting any Unicode escapes in the source text of the program to ASCII by adding an extra `u`-for example, `\\uxxxx` becomes `\\uuxxxx`-while simultaneously converting non-ASCII characters in the source text to Unicode escapes containing a single u each.\n&gt;\n&gt; This transformed version is equally acceptable to a compiler for the Java programming language and represents the exact same program. The exact Unicode source can later be restored from this ASCII form by converting each escape sequence where multiple `u`&#39;s are present to a sequence of Unicode characters with one fewer `u`, while simultaneously converting each escape sequence with a single `u` to the corresponding single Unicode character.\n\nIf your string can contain Unicode escapes with extraneous `u`, then you may also need to preprocess this before using `StringEscapeUtils`.\n\nAlternatively you can try to write your own Java string literal unescaper from scratch, making sure to follow the exact JLS specifications.\n\n### References\n\n* [JLS 3.3 Unicode Escapes](http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.3)\n* [JLS 3.10.6 Escape Sequences for Character and String Literals](http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.10.6)\n","title":"How to unescape a Java string literal in Java?","body":"<p>You can use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava(java.lang.String)\" rel=\"noreferrer\"><code>String unescapeJava(String)</code></a> method of <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"noreferrer\"><code>StringEscapeUtils</code></a> from <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons Lang</a>.</p>\n<p>Here's an example snippet:</p>\n<pre><code>    String in = &quot;a\\\\tb\\\\n\\\\\\&quot;c\\\\\\&quot;&quot;;\n\n    System.out.println(in);\n    // a\\tb\\n\\&quot;c\\&quot;\n\n    String out = StringEscapeUtils.unescapeJava(in);\n\n    System.out.println(out);\n    // a    b\n    // &quot;c&quot;\n</code></pre>\n<p>The utility class has methods to escapes and unescape strings for Java, Java Script, HTML, XML, and SQL. It also has overloads that writes directly to a <a href=\"http://java.sun.com/javase/6/docs/api/java/io/Writer.html\" rel=\"noreferrer\"><code>java.io.Writer</code></a>.</p>\n<hr />\n<h3>Caveats</h3>\n<p>It looks like <code>StringEscapeUtils</code> handles Unicode escapes with one <code>u</code>, but not octal escapes, or Unicode escapes with extraneous <code>u</code>s.</p>\n<pre><code>    /* Unicode escape test #1: PASS */\n    \n    System.out.println(\n        &quot;\\u0030&quot;\n    ); // 0\n    System.out.println(\n        StringEscapeUtils.unescapeJava(&quot;\\\\u0030&quot;)\n    ); // 0\n    System.out.println(\n        &quot;\\u0030&quot;.equals(StringEscapeUtils.unescapeJava(&quot;\\\\u0030&quot;))\n    ); // true\n    \n    /* Octal escape test: FAIL */\n    \n    System.out.println(\n        &quot;\\45&quot;\n    ); // %\n    System.out.println(\n        StringEscapeUtils.unescapeJava(&quot;\\\\45&quot;)\n    ); // 45\n    System.out.println(\n        &quot;\\45&quot;.equals(StringEscapeUtils.unescapeJava(&quot;\\\\45&quot;))\n    ); // false\n\n    /* Unicode escape test #2: FAIL */\n    \n    System.out.println(\n        &quot;\\uu0030&quot;\n    ); // 0\n    System.out.println(\n        StringEscapeUtils.unescapeJava(&quot;\\\\uu0030&quot;)\n    ); // throws NestableRuntimeException:\n       //   Unable to parse unicode value: u003\n</code></pre>\n<p>A quote from the JLS:</p>\n<blockquote>\n<p>Octal escapes are provided for compatibility with C, but can express only Unicode values <code>\\u0000</code> through <code>\\u00FF</code>, so Unicode escapes are usually preferred.</p>\n</blockquote>\n<p>If your string can contain octal escapes, you may want to convert them to Unicode escapes first, or use another approach.</p>\n<p>The extraneous <code>u</code> is also documented as follows:</p>\n<blockquote>\n<p>The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. The transformation involves converting any Unicode escapes in the source text of the program to ASCII by adding an extra <code>u</code>-for example, <code>\\uxxxx</code> becomes <code>\\uuxxxx</code>-while simultaneously converting non-ASCII characters in the source text to Unicode escapes containing a single u each.</p>\n<p>This transformed version is equally acceptable to a compiler for the Java programming language and represents the exact same program. The exact Unicode source can later be restored from this ASCII form by converting each escape sequence where multiple <code>u</code>'s are present to a sequence of Unicode characters with one fewer <code>u</code>, while simultaneously converting each escape sequence with a single <code>u</code> to the corresponding single Unicode character.</p>\n</blockquote>\n<p>If your string can contain Unicode escapes with extraneous <code>u</code>, then you may also need to preprocess this before using <code>StringEscapeUtils</code>.</p>\n<p>Alternatively you can try to write your own Java string literal unescaper from scratch, making sure to follow the exact JLS specifications.</p>\n<h3>References</h3>\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.3\" rel=\"noreferrer\">JLS 3.3 Unicode Escapes</a></li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.10.6\" rel=\"noreferrer\">JLS 3.10.6 Escape Sequences for Character and String Literals</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":216196,"reputation":79143,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"down_vote_count":8,"up_vote_count":120,"is_accepted":false,"score":112,"last_activity_date":1549968082,"creation_date":1290975483,"answer_id":4298836,"question_id":3537706,"body_markdown":"The Problem\r\n----\r\nThe `org.apache.commons.lang.StringEscapeUtils.unescapeJava()` given here as another answer is really very little help at all.\r\n\r\n - It forgets about `\\0` for null.\r\n - It doesn’t handle octal **at all**. \r\n - It can’t handle the sorts of escapes admitted by the `java.util.regex.Pattern.compile()` and everything that uses it, including `\\a`, `\\e`, and especially `\\cX`. \r\n - It has no support for logical Unicode code points by number, only for UTF-16.\r\n - This looks like UCS-2 code, not UTF-16 code: they use the depreciated `charAt` interface instead of the `codePoint` interface, thus promulgating the delusion that a Java `char` is guaranteed to hold a Unicode character. It’s not. They only get away with this because no UTF-16 surrogate will wind up looking for anything they’re looking for. \r\n\r\nThe Solution\r\n----\r\n\r\nI wrote a string unescaper which solves the OP’s question without all the irritations of the Apache code.\r\n\r\n    /*\r\n     *\r\n     * unescape_perl_string()\r\n     *\r\n     *      Tom Christiansen &lt;tchrist@perl.com&gt;\r\n     *      Sun Nov 28 12:55:24 MST 2010\r\n     *\r\n     * It&#39;s completely ridiculous that there&#39;s no standard\r\n     * unescape_java_string function.  Since I have to do the\r\n     * damn thing myself, I might as well make it halfway useful\r\n     * by supporting things Java was too stupid to consider in\r\n     * strings:\r\n     * \r\n     *   =&gt; &quot;?&quot; items  are additions to Java string escapes\r\n     *                 but normal in Java regexes\r\n     *\r\n     *   =&gt; &quot;!&quot; items  are also additions to Java regex escapes\r\n     *   \r\n     * Standard singletons: ?\\a ?\\e \\f \\n \\r \\t\r\n     * \r\n     *      NB: \\b is unsupported as backspace so it can pass-through\r\n     *          to the regex translator untouched; I refuse to make anyone\r\n     *          doublebackslash it as doublebackslashing is a Java idiocy\r\n     *          I desperately wish would die out.  There are plenty of\r\n     *          other ways to write it:\r\n     *\r\n     *              \\cH, \\12, \\012, \\x08 \\x{8}, \\u0008, \\U00000008\r\n     *\r\n     * Octal escapes: \\0 \\0N \\0NN \\N \\NN \\NNN\r\n     *    Can range up to !\\777 not \\377\r\n     *    \r\n     *      TODO: add !\\o{NNNNN}\r\n     *          last Unicode is 4177777\r\n     *          maxint is 37777777777\r\n     *\r\n     * Control chars: ?\\cX\r\n     *      Means: ord(X) ^ ord(&#39;@&#39;)\r\n     *\r\n     * Old hex escapes: \\xXX\r\n     *      unbraced must be 2 xdigits\r\n     *\r\n     * Perl hex escapes: !\\x{XXX} braced may be 1-8 xdigits\r\n     *       NB: proper Unicode never needs more than 6, as highest\r\n     *           valid codepoint is 0x10FFFF, not maxint 0xFFFFFFFF\r\n     *\r\n     * Lame Java escape: \\[IDIOT JAVA PREPROCESSOR]uXXXX must be\r\n     *                   exactly 4 xdigits;\r\n     *\r\n     *       I can&#39;t write XXXX in this comment where it belongs\r\n     *       because the damned Java Preprocessor can&#39;t mind its\r\n     *       own business.  Idiots!\r\n     *\r\n     * Lame Python escape: !\\UXXXXXXXX must be exactly 8 xdigits\r\n     * \r\n     * TODO: Perl translation escapes: \\Q \\U \\L \\E \\[IDIOT JAVA PREPROCESSOR]u \\l\r\n     *       These are not so important to cover if you&#39;re passing the\r\n     *       result to Pattern.compile(), since it handles them for you\r\n     *       further downstream.  Hm, what about \\[IDIOT JAVA PREPROCESSOR]u?\r\n     *\r\n     */\r\n\r\n    public final static\r\n    String unescape_perl_string(String oldstr) {\r\n\r\n        /*\r\n         * In contrast to fixing Java&#39;s broken regex charclasses,\r\n         * this one need be no bigger, as unescaping shrinks the string\r\n         * here, where in the other one, it grows it.\r\n         */\r\n\r\n        StringBuffer newstr = new StringBuffer(oldstr.length());\r\n\r\n        boolean saw_backslash = false;\r\n\r\n        for (int i = 0; i &lt; oldstr.length(); i++) {\r\n            int cp = oldstr.codePointAt(i);\r\n            if (oldstr.codePointAt(i) &gt; Character.MAX_VALUE) {\r\n                i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/\r\n            }\r\n\r\n            if (!saw_backslash) {\r\n                if (cp == &#39;\\\\&#39;) {\r\n                    saw_backslash = true;\r\n                } else {\r\n                    newstr.append(Character.toChars(cp));\r\n                }\r\n                continue; /* switch */\r\n            }\r\n\r\n            if (cp == &#39;\\\\&#39;) {\r\n                saw_backslash = false;\r\n                newstr.append(&#39;\\\\&#39;);\r\n                newstr.append(&#39;\\\\&#39;);\r\n                continue; /* switch */\r\n            }\r\n\r\n            switch (cp) {\r\n\r\n                case &#39;r&#39;:  newstr.append(&#39;\\r&#39;);\r\n                           break; /* switch */\r\n\r\n                case &#39;n&#39;:  newstr.append(&#39;\\n&#39;);\r\n                           break; /* switch */\r\n\r\n                case &#39;f&#39;:  newstr.append(&#39;\\f&#39;);\r\n                           break; /* switch */\r\n\r\n                /* PASS a \\b THROUGH!! */\r\n                case &#39;b&#39;:  newstr.append(&quot;\\\\b&quot;);\r\n                           break; /* switch */\r\n\r\n                case &#39;t&#39;:  newstr.append(&#39;\\t&#39;);\r\n                           break; /* switch */\r\n\r\n                case &#39;a&#39;:  newstr.append(&#39;\\007&#39;);\r\n                           break; /* switch */\r\n\r\n                case &#39;e&#39;:  newstr.append(&#39;\\033&#39;);\r\n                           break; /* switch */\r\n\r\n                /*\r\n                 * A &quot;control&quot; character is what you get when you xor its\r\n                 * codepoint with &#39;@&#39;==64.  This only makes sense for ASCII,\r\n                 * and may not yield a &quot;control&quot; character after all.\r\n                 *\r\n                 * Strange but true: &quot;\\c{&quot; is &quot;;&quot;, &quot;\\c}&quot; is &quot;=&quot;, etc.\r\n                 */\r\n                case &#39;c&#39;:   {\r\n                    if (++i == oldstr.length()) { die(&quot;trailing \\\\c&quot;); }\r\n                    cp = oldstr.codePointAt(i);\r\n                    /*\r\n                     * don&#39;t need to grok surrogates, as next line blows them up\r\n                     */\r\n                    if (cp &gt; 0x7f) { die(&quot;expected ASCII after \\\\c&quot;); }\r\n                    newstr.append(Character.toChars(cp ^ 64));\r\n                    break; /* switch */\r\n                }\r\n\r\n                case &#39;8&#39;:\r\n                case &#39;9&#39;: die(&quot;illegal octal digit&quot;);\r\n                          /* NOTREACHED */\r\n\r\n        /*\r\n         * may be 0 to 2 octal digits following this one\r\n         * so back up one for fallthrough to next case;\r\n         * unread this digit and fall through to next case.\r\n         */\r\n                case &#39;1&#39;:\r\n                case &#39;2&#39;:\r\n                case &#39;3&#39;:\r\n                case &#39;4&#39;:\r\n                case &#39;5&#39;:\r\n                case &#39;6&#39;:\r\n                case &#39;7&#39;: --i;\r\n                          /* FALLTHROUGH */\r\n\r\n                /*\r\n                 * Can have 0, 1, or 2 octal digits following a 0\r\n                 * this permits larger values than octal 377, up to\r\n                 * octal 777.\r\n                 */\r\n                case &#39;0&#39;: {\r\n                    if (i+1 == oldstr.length()) {\r\n                        /* found \\0 at end of string */\r\n                        newstr.append(Character.toChars(0));\r\n                        break; /* switch */\r\n                    }\r\n                    i++;\r\n                    int digits = 0;\r\n                    int j;\r\n                    for (j = 0; j &lt;= 2; j++) {\r\n                        if (i+j == oldstr.length()) {\r\n                            break; /* for */\r\n                        }\r\n                        /* safe because will unread surrogate */\r\n                        int ch = oldstr.charAt(i+j);\r\n                        if (ch &lt; &#39;0&#39; || ch &gt; &#39;7&#39;) {\r\n                            break; /* for */\r\n                        }\r\n                        digits++;\r\n                    }\r\n                    if (digits == 0) {\r\n                        --i;\r\n                        newstr.append(&#39;\\0&#39;);\r\n                        break; /* switch */\r\n                    }\r\n                    int value = 0;\r\n                    try {\r\n                        value = Integer.parseInt(\r\n                                    oldstr.substring(i, i+digits), 8);\r\n                    } catch (NumberFormatException nfe) {\r\n                        die(&quot;invalid octal value for \\\\0 escape&quot;);\r\n                    }\r\n                    newstr.append(Character.toChars(value));\r\n                    i += digits-1;\r\n                    break; /* switch */\r\n                } /* end case &#39;0&#39; */\r\n\r\n                case &#39;x&#39;:  {\r\n                    if (i+2 &gt; oldstr.length()) {\r\n                        die(&quot;string too short for \\\\x escape&quot;);\r\n                    }\r\n                    i++;\r\n                    boolean saw_brace = false;\r\n                    if (oldstr.charAt(i) == &#39;{&#39;) {\r\n                            /* ^^^^^^ ok to ignore surrogates here */\r\n                        i++;\r\n                        saw_brace = true;\r\n                    }\r\n                    int j;\r\n                    for (j = 0; j &lt; 8; j++) {\r\n\r\n                        if (!saw_brace &amp;&amp; j == 2) {\r\n                            break;  /* for */\r\n                        }\r\n\r\n                        /*\r\n                         * ASCII test also catches surrogates\r\n                         */\r\n                        int ch = oldstr.charAt(i+j);\r\n                        if (ch &gt; 127) {\r\n                            die(&quot;illegal non-ASCII hex digit in \\\\x escape&quot;);\r\n                        }\r\n\r\n                        if (saw_brace &amp;&amp; ch == &#39;}&#39;) { break; /* for */ }\r\n\r\n                        if (! ( (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;)\r\n                                    ||\r\n                                (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;f&#39;)\r\n                                    ||\r\n                                (ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;F&#39;)\r\n                              )\r\n                           )\r\n                        {\r\n                            die(String.format(\r\n                                &quot;illegal hex digit #%d &#39;%c&#39; in \\\\x&quot;, ch, ch));\r\n                        }\r\n\r\n                    }\r\n                    if (j == 0) { die(&quot;empty braces in \\\\x{} escape&quot;); }\r\n                    int value = 0;\r\n                    try {\r\n                        value = Integer.parseInt(oldstr.substring(i, i+j), 16);\r\n                    } catch (NumberFormatException nfe) {\r\n                        die(&quot;invalid hex value for \\\\x escape&quot;);\r\n                    }\r\n                    newstr.append(Character.toChars(value));\r\n                    if (saw_brace) { j++; }\r\n                    i += j-1;\r\n                    break; /* switch */\r\n                }\r\n\r\n                case &#39;u&#39;: {\r\n                    if (i+4 &gt; oldstr.length()) {\r\n                        die(&quot;string too short for \\\\u escape&quot;);\r\n                    }\r\n                    i++;\r\n                    int j;\r\n                    for (j = 0; j &lt; 4; j++) {\r\n                        /* this also handles the surrogate issue */\r\n                        if (oldstr.charAt(i+j) &gt; 127) {\r\n                            die(&quot;illegal non-ASCII hex digit in \\\\u escape&quot;);\r\n                        }\r\n                    }\r\n                    int value = 0;\r\n                    try {\r\n                        value = Integer.parseInt( oldstr.substring(i, i+j), 16);\r\n                    } catch (NumberFormatException nfe) {\r\n                        die(&quot;invalid hex value for \\\\u escape&quot;);\r\n                    }\r\n                    newstr.append(Character.toChars(value));\r\n                    i += j-1;\r\n                    break; /* switch */\r\n                }\r\n\r\n                case &#39;U&#39;: {\r\n                    if (i+8 &gt; oldstr.length()) {\r\n                        die(&quot;string too short for \\\\U escape&quot;);\r\n                    }\r\n                    i++;\r\n                    int j;\r\n                    for (j = 0; j &lt; 8; j++) {\r\n                        /* this also handles the surrogate issue */\r\n                        if (oldstr.charAt(i+j) &gt; 127) {\r\n                            die(&quot;illegal non-ASCII hex digit in \\\\U escape&quot;);\r\n                        }\r\n                    }\r\n                    int value = 0;\r\n                    try {\r\n                        value = Integer.parseInt(oldstr.substring(i, i+j), 16);\r\n                    } catch (NumberFormatException nfe) {\r\n                        die(&quot;invalid hex value for \\\\U escape&quot;);\r\n                    }\r\n                    newstr.append(Character.toChars(value));\r\n                    i += j-1;\r\n                    break; /* switch */\r\n                }\r\n\r\n                default:   newstr.append(&#39;\\\\&#39;);\r\n                           newstr.append(Character.toChars(cp));\r\n               /*\r\n                * say(String.format(\r\n                *       &quot;DEFAULT unrecognized escape %c passed through&quot;,\r\n                *       cp));\r\n                */\r\n                           break; /* switch */\r\n\r\n            }\r\n            saw_backslash = false;\r\n        }\r\n\r\n        /* weird to leave one at the end */\r\n        if (saw_backslash) {\r\n            newstr.append(&#39;\\\\&#39;);\r\n        }\r\n\r\n        return newstr.toString();\r\n    }\r\n\r\n    /*\r\n     * Return a string &quot;U+XX.XXX.XXXX&quot; etc, where each XX set is the\r\n     * xdigits of the logical Unicode code point. No bloody brain-damaged\r\n     * UTF-16 surrogate crap, just true logical characters.\r\n     */\r\n     public final static\r\n     String uniplus(String s) {\r\n         if (s.length() == 0) {\r\n             return &quot;&quot;;\r\n         }\r\n         /* This is just the minimum; sb will grow as needed. */\r\n         StringBuffer sb = new StringBuffer(2 + 3 * s.length());\r\n         sb.append(&quot;U+&quot;);\r\n         for (int i = 0; i &lt; s.length(); i++) {\r\n             sb.append(String.format(&quot;%X&quot;, s.codePointAt(i)));\r\n             if (s.codePointAt(i) &gt; Character.MAX_VALUE) {\r\n                 i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/\r\n             }\r\n             if (i+1 &lt; s.length()) {\r\n                 sb.append(&quot;.&quot;);\r\n             }\r\n         }\r\n         return sb.toString();\r\n     }\r\n\r\n    private static final\r\n    void die(String foa) {\r\n        throw new IllegalArgumentException(foa);\r\n    }\r\n\r\n    private static final\r\n    void say(String what) {\r\n        System.out.println(what);\r\n    }\r\n\r\nIf it helps others, you’re welcome to it — no strings attached. If you improve it, I’d love for you to mail me your enhancements, but you certainly don’t have to.","title":"How to unescape a Java string literal in Java?","body":"<h2>The Problem</h2>\n\n<p>The <code>org.apache.commons.lang.StringEscapeUtils.unescapeJava()</code> given here as another answer is really very little help at all.</p>\n\n<ul>\n<li>It forgets about <code>\\0</code> for null.</li>\n<li>It doesn’t handle octal <strong>at all</strong>. </li>\n<li>It can’t handle the sorts of escapes admitted by the <code>java.util.regex.Pattern.compile()</code> and everything that uses it, including <code>\\a</code>, <code>\\e</code>, and especially <code>\\cX</code>. </li>\n<li>It has no support for logical Unicode code points by number, only for UTF-16.</li>\n<li>This looks like UCS-2 code, not UTF-16 code: they use the depreciated <code>charAt</code> interface instead of the <code>codePoint</code> interface, thus promulgating the delusion that a Java <code>char</code> is guaranteed to hold a Unicode character. It’s not. They only get away with this because no UTF-16 surrogate will wind up looking for anything they’re looking for. </li>\n</ul>\n\n<h2>The Solution</h2>\n\n<p>I wrote a string unescaper which solves the OP’s question without all the irritations of the Apache code.</p>\n\n<pre><code>/*\n *\n * unescape_perl_string()\n *\n *      Tom Christiansen &lt;tchrist@perl.com&gt;\n *      Sun Nov 28 12:55:24 MST 2010\n *\n * It's completely ridiculous that there's no standard\n * unescape_java_string function.  Since I have to do the\n * damn thing myself, I might as well make it halfway useful\n * by supporting things Java was too stupid to consider in\n * strings:\n * \n *   =&gt; \"?\" items  are additions to Java string escapes\n *                 but normal in Java regexes\n *\n *   =&gt; \"!\" items  are also additions to Java regex escapes\n *   \n * Standard singletons: ?\\a ?\\e \\f \\n \\r \\t\n * \n *      NB: \\b is unsupported as backspace so it can pass-through\n *          to the regex translator untouched; I refuse to make anyone\n *          doublebackslash it as doublebackslashing is a Java idiocy\n *          I desperately wish would die out.  There are plenty of\n *          other ways to write it:\n *\n *              \\cH, \\12, \\012, \\x08 \\x{8}, \\u0008, \\U00000008\n *\n * Octal escapes: \\0 \\0N \\0NN \\N \\NN \\NNN\n *    Can range up to !\\777 not \\377\n *    \n *      TODO: add !\\o{NNNNN}\n *          last Unicode is 4177777\n *          maxint is 37777777777\n *\n * Control chars: ?\\cX\n *      Means: ord(X) ^ ord('@')\n *\n * Old hex escapes: \\xXX\n *      unbraced must be 2 xdigits\n *\n * Perl hex escapes: !\\x{XXX} braced may be 1-8 xdigits\n *       NB: proper Unicode never needs more than 6, as highest\n *           valid codepoint is 0x10FFFF, not maxint 0xFFFFFFFF\n *\n * Lame Java escape: \\[IDIOT JAVA PREPROCESSOR]uXXXX must be\n *                   exactly 4 xdigits;\n *\n *       I can't write XXXX in this comment where it belongs\n *       because the damned Java Preprocessor can't mind its\n *       own business.  Idiots!\n *\n * Lame Python escape: !\\UXXXXXXXX must be exactly 8 xdigits\n * \n * TODO: Perl translation escapes: \\Q \\U \\L \\E \\[IDIOT JAVA PREPROCESSOR]u \\l\n *       These are not so important to cover if you're passing the\n *       result to Pattern.compile(), since it handles them for you\n *       further downstream.  Hm, what about \\[IDIOT JAVA PREPROCESSOR]u?\n *\n */\n\npublic final static\nString unescape_perl_string(String oldstr) {\n\n    /*\n     * In contrast to fixing Java's broken regex charclasses,\n     * this one need be no bigger, as unescaping shrinks the string\n     * here, where in the other one, it grows it.\n     */\n\n    StringBuffer newstr = new StringBuffer(oldstr.length());\n\n    boolean saw_backslash = false;\n\n    for (int i = 0; i &lt; oldstr.length(); i++) {\n        int cp = oldstr.codePointAt(i);\n        if (oldstr.codePointAt(i) &gt; Character.MAX_VALUE) {\n            i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/\n        }\n\n        if (!saw_backslash) {\n            if (cp == '\\\\') {\n                saw_backslash = true;\n            } else {\n                newstr.append(Character.toChars(cp));\n            }\n            continue; /* switch */\n        }\n\n        if (cp == '\\\\') {\n            saw_backslash = false;\n            newstr.append('\\\\');\n            newstr.append('\\\\');\n            continue; /* switch */\n        }\n\n        switch (cp) {\n\n            case 'r':  newstr.append('\\r');\n                       break; /* switch */\n\n            case 'n':  newstr.append('\\n');\n                       break; /* switch */\n\n            case 'f':  newstr.append('\\f');\n                       break; /* switch */\n\n            /* PASS a \\b THROUGH!! */\n            case 'b':  newstr.append(\"\\\\b\");\n                       break; /* switch */\n\n            case 't':  newstr.append('\\t');\n                       break; /* switch */\n\n            case 'a':  newstr.append('\\007');\n                       break; /* switch */\n\n            case 'e':  newstr.append('\\033');\n                       break; /* switch */\n\n            /*\n             * A \"control\" character is what you get when you xor its\n             * codepoint with '@'==64.  This only makes sense for ASCII,\n             * and may not yield a \"control\" character after all.\n             *\n             * Strange but true: \"\\c{\" is \";\", \"\\c}\" is \"=\", etc.\n             */\n            case 'c':   {\n                if (++i == oldstr.length()) { die(\"trailing \\\\c\"); }\n                cp = oldstr.codePointAt(i);\n                /*\n                 * don't need to grok surrogates, as next line blows them up\n                 */\n                if (cp &gt; 0x7f) { die(\"expected ASCII after \\\\c\"); }\n                newstr.append(Character.toChars(cp ^ 64));\n                break; /* switch */\n            }\n\n            case '8':\n            case '9': die(\"illegal octal digit\");\n                      /* NOTREACHED */\n\n    /*\n     * may be 0 to 2 octal digits following this one\n     * so back up one for fallthrough to next case;\n     * unread this digit and fall through to next case.\n     */\n            case '1':\n            case '2':\n            case '3':\n            case '4':\n            case '5':\n            case '6':\n            case '7': --i;\n                      /* FALLTHROUGH */\n\n            /*\n             * Can have 0, 1, or 2 octal digits following a 0\n             * this permits larger values than octal 377, up to\n             * octal 777.\n             */\n            case '0': {\n                if (i+1 == oldstr.length()) {\n                    /* found \\0 at end of string */\n                    newstr.append(Character.toChars(0));\n                    break; /* switch */\n                }\n                i++;\n                int digits = 0;\n                int j;\n                for (j = 0; j &lt;= 2; j++) {\n                    if (i+j == oldstr.length()) {\n                        break; /* for */\n                    }\n                    /* safe because will unread surrogate */\n                    int ch = oldstr.charAt(i+j);\n                    if (ch &lt; '0' || ch &gt; '7') {\n                        break; /* for */\n                    }\n                    digits++;\n                }\n                if (digits == 0) {\n                    --i;\n                    newstr.append('\\0');\n                    break; /* switch */\n                }\n                int value = 0;\n                try {\n                    value = Integer.parseInt(\n                                oldstr.substring(i, i+digits), 8);\n                } catch (NumberFormatException nfe) {\n                    die(\"invalid octal value for \\\\0 escape\");\n                }\n                newstr.append(Character.toChars(value));\n                i += digits-1;\n                break; /* switch */\n            } /* end case '0' */\n\n            case 'x':  {\n                if (i+2 &gt; oldstr.length()) {\n                    die(\"string too short for \\\\x escape\");\n                }\n                i++;\n                boolean saw_brace = false;\n                if (oldstr.charAt(i) == '{') {\n                        /* ^^^^^^ ok to ignore surrogates here */\n                    i++;\n                    saw_brace = true;\n                }\n                int j;\n                for (j = 0; j &lt; 8; j++) {\n\n                    if (!saw_brace &amp;&amp; j == 2) {\n                        break;  /* for */\n                    }\n\n                    /*\n                     * ASCII test also catches surrogates\n                     */\n                    int ch = oldstr.charAt(i+j);\n                    if (ch &gt; 127) {\n                        die(\"illegal non-ASCII hex digit in \\\\x escape\");\n                    }\n\n                    if (saw_brace &amp;&amp; ch == '}') { break; /* for */ }\n\n                    if (! ( (ch &gt;= '0' &amp;&amp; ch &lt;= '9')\n                                ||\n                            (ch &gt;= 'a' &amp;&amp; ch &lt;= 'f')\n                                ||\n                            (ch &gt;= 'A' &amp;&amp; ch &lt;= 'F')\n                          )\n                       )\n                    {\n                        die(String.format(\n                            \"illegal hex digit #%d '%c' in \\\\x\", ch, ch));\n                    }\n\n                }\n                if (j == 0) { die(\"empty braces in \\\\x{} escape\"); }\n                int value = 0;\n                try {\n                    value = Integer.parseInt(oldstr.substring(i, i+j), 16);\n                } catch (NumberFormatException nfe) {\n                    die(\"invalid hex value for \\\\x escape\");\n                }\n                newstr.append(Character.toChars(value));\n                if (saw_brace) { j++; }\n                i += j-1;\n                break; /* switch */\n            }\n\n            case 'u': {\n                if (i+4 &gt; oldstr.length()) {\n                    die(\"string too short for \\\\u escape\");\n                }\n                i++;\n                int j;\n                for (j = 0; j &lt; 4; j++) {\n                    /* this also handles the surrogate issue */\n                    if (oldstr.charAt(i+j) &gt; 127) {\n                        die(\"illegal non-ASCII hex digit in \\\\u escape\");\n                    }\n                }\n                int value = 0;\n                try {\n                    value = Integer.parseInt( oldstr.substring(i, i+j), 16);\n                } catch (NumberFormatException nfe) {\n                    die(\"invalid hex value for \\\\u escape\");\n                }\n                newstr.append(Character.toChars(value));\n                i += j-1;\n                break; /* switch */\n            }\n\n            case 'U': {\n                if (i+8 &gt; oldstr.length()) {\n                    die(\"string too short for \\\\U escape\");\n                }\n                i++;\n                int j;\n                for (j = 0; j &lt; 8; j++) {\n                    /* this also handles the surrogate issue */\n                    if (oldstr.charAt(i+j) &gt; 127) {\n                        die(\"illegal non-ASCII hex digit in \\\\U escape\");\n                    }\n                }\n                int value = 0;\n                try {\n                    value = Integer.parseInt(oldstr.substring(i, i+j), 16);\n                } catch (NumberFormatException nfe) {\n                    die(\"invalid hex value for \\\\U escape\");\n                }\n                newstr.append(Character.toChars(value));\n                i += j-1;\n                break; /* switch */\n            }\n\n            default:   newstr.append('\\\\');\n                       newstr.append(Character.toChars(cp));\n           /*\n            * say(String.format(\n            *       \"DEFAULT unrecognized escape %c passed through\",\n            *       cp));\n            */\n                       break; /* switch */\n\n        }\n        saw_backslash = false;\n    }\n\n    /* weird to leave one at the end */\n    if (saw_backslash) {\n        newstr.append('\\\\');\n    }\n\n    return newstr.toString();\n}\n\n/*\n * Return a string \"U+XX.XXX.XXXX\" etc, where each XX set is the\n * xdigits of the logical Unicode code point. No bloody brain-damaged\n * UTF-16 surrogate crap, just true logical characters.\n */\n public final static\n String uniplus(String s) {\n     if (s.length() == 0) {\n         return \"\";\n     }\n     /* This is just the minimum; sb will grow as needed. */\n     StringBuffer sb = new StringBuffer(2 + 3 * s.length());\n     sb.append(\"U+\");\n     for (int i = 0; i &lt; s.length(); i++) {\n         sb.append(String.format(\"%X\", s.codePointAt(i)));\n         if (s.codePointAt(i) &gt; Character.MAX_VALUE) {\n             i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/\n         }\n         if (i+1 &lt; s.length()) {\n             sb.append(\".\");\n         }\n     }\n     return sb.toString();\n }\n\nprivate static final\nvoid die(String foa) {\n    throw new IllegalArgumentException(foa);\n}\n\nprivate static final\nvoid say(String what) {\n    System.out.println(what);\n}\n</code></pre>\n\n<p>If it helps others, you’re welcome to it — no strings attached. If you improve it, I’d love for you to mail me your enhancements, but you certainly don’t have to.</p>\n"},{"tags":[],"owner":{"account_id":94109,"reputation":2168,"user_id":257122,"accept_rate":60,"display_name":"Ashwin Jayaprakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305827765,"creation_date":1305827765,"answer_id":6062826,"question_id":3537706,"body_markdown":"If you are reading unicode escaped chars from a file, then you will have a tough time doing that because the string will be read literally along with an escape for the back slash:\r\n\r\nmy_file.txt\r\n\r\n    Blah blah...\r\n    Column delimiter=;\r\n    Word delimiter=\\u0020 #This is just unicode for whitespace\r\n    \r\n    .. more stuff\r\n\r\nHere, when you read line 3 from the file the string/line will have:\r\n\r\n    &quot;Word delimiter=\\u0020 #This is just unicode for whitespace&quot;\r\nand the char[] in the string will show:\r\n\r\n    {...., &#39;=&#39;, &#39;\\\\&#39;, &#39;u&#39;, &#39;0&#39;, &#39;0&#39;, &#39;2&#39;, &#39;0&#39;, &#39; &#39;, &#39;#&#39;, &#39;t&#39;, &#39;h&#39;, ...}\r\n\r\n\r\nCommons StringUnescape will not unescape this for you (I tried unescapeXml()). You&#39;ll have to do it manually as [described here][1].\r\n\r\nSo, the sub-string &quot;\\u0020&quot; should become 1 single char &#39;\\u0020&#39;\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t367758-unescaping-unicode-code-points-in-a-java-string.html\r\n\r\nBut if you are using this &quot;\\u0020&quot; to do `String.split(&quot;... ..... ..&quot;, columnDelimiterReadFromFile)` which is really using regex internally, it will work directly because the string read from file was escaped and is perfect to use in the regex pattern!! (Confused?)","title":"How to unescape a Java string literal in Java?","body":"<p>If you are reading unicode escaped chars from a file, then you will have a tough time doing that because the string will be read literally along with an escape for the back slash:</p>\n\n<p>my_file.txt</p>\n\n<pre><code>Blah blah...\nColumn delimiter=;\nWord delimiter=\\u0020 #This is just unicode for whitespace\n\n.. more stuff\n</code></pre>\n\n<p>Here, when you read line 3 from the file the string/line will have:</p>\n\n<pre><code>\"Word delimiter=\\u0020 #This is just unicode for whitespace\"\n</code></pre>\n\n<p>and the char[] in the string will show:</p>\n\n<pre><code>{...., '=', '\\\\', 'u', '0', '0', '2', '0', ' ', '#', 't', 'h', ...}\n</code></pre>\n\n<p>Commons StringUnescape will not unescape this for you (I tried unescapeXml()). You'll have to do it manually as <a href=\"http://www.velocityreviews.com/forums/t367758-unescaping-unicode-code-points-in-a-java-string.html\" rel=\"nofollow\">described here</a>.</p>\n\n<p>So, the sub-string \"\\u0020\" should become 1 single char '\\u0020'</p>\n\n<p>But if you are using this \"\\u0020\" to do <code>String.split(\"... ..... ..\", columnDelimiterReadFromFile)</code> which is really using regex internally, it will work directly because the string read from file was escaped and is perfect to use in the regex pattern!! (Confused?)</p>\n"},{"tags":[],"owner":{"account_id":262581,"reputation":1241,"user_id":547546,"accept_rate":75,"display_name":"Chad Retz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1311793190,"creation_date":1311793190,"answer_id":6849740,"question_id":3537706,"body_markdown":"I&#39;m a little late on this, but I thought I&#39;d provide my solution since I needed the same functionality. I decided to use the Java Compiler API which makes it slower, but makes the results accurate. Basically I live create a class then return the results. Here is the method:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static String[] unescapeJavaStrings(String... escaped) {\r\n        //class name\r\n        final String className = &quot;Temp&quot; + System.currentTimeMillis();\r\n        //build the source\r\n        final StringBuilder source = new StringBuilder(100 + escaped.length * 20).\r\n                append(&quot;public class &quot;).append(className).append(&quot;{\\n&quot;).\r\n                append(&quot;\\tpublic static String[] getStrings() {\\n&quot;).\r\n                append(&quot;\\t\\treturn new String[] {\\n&quot;);\r\n        for (String string : escaped) {\r\n            source.append(&quot;\\t\\t\\t\\&quot;&quot;);\r\n            //we escape non-escaped quotes here to be safe \r\n            //  (but something like \\\\&quot; will fail, oh well for now)\r\n            for (int i = 0; i &lt; string.length(); i++) {\r\n                char chr = string.charAt(i);\r\n                if (chr == &#39;&quot;&#39; &amp;&amp; i &gt; 0 &amp;&amp; string.charAt(i - 1) != &#39;\\\\&#39;) {\r\n                    source.append(&#39;\\\\&#39;);\r\n                }\r\n                source.append(chr);\r\n            }\r\n            source.append(&quot;\\&quot;,\\n&quot;);\r\n        }\r\n        source.append(&quot;\\t\\t};\\n\\t}\\n}\\n&quot;);\r\n        //obtain compiler\r\n        final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n        //local stream for output\r\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        //local stream for error\r\n        ByteArrayOutputStream err = new ByteArrayOutputStream();\r\n        //source file\r\n        JavaFileObject sourceFile = new SimpleJavaFileObject(\r\n                URI.create(&quot;string:///&quot; + className + Kind.SOURCE.extension), Kind.SOURCE) {\r\n            @Override\r\n            public CharSequence getCharContent(boolean ignoreEncodingErrors) throws IOException {\r\n                return source;\r\n            }\r\n        };\r\n        //target file\r\n        final JavaFileObject targetFile = new SimpleJavaFileObject(\r\n                URI.create(&quot;string:///&quot; + className + Kind.CLASS.extension), Kind.CLASS) {\r\n            @Override\r\n            public OutputStream openOutputStream() throws IOException {\r\n                return out;\r\n            }\r\n        };\r\n        //file manager proxy, with most parts delegated to the standard one \r\n        JavaFileManager fileManagerProxy = (JavaFileManager) Proxy.newProxyInstance(\r\n                StringUtils.class.getClassLoader(), new Class[] { JavaFileManager.class },\r\n                new InvocationHandler() {\r\n                    //standard file manager to delegate to\r\n                    private final JavaFileManager standard = \r\n                        compiler.getStandardFileManager(null, null, null); \r\n                    @Override\r\n                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                        if (&quot;getJavaFileForOutput&quot;.equals(method.getName())) {\r\n                            //return the target file when it&#39;s asking for output\r\n                            return targetFile;\r\n                        } else {\r\n                            return method.invoke(standard, args);\r\n                        }\r\n                    }\r\n                });\r\n        //create the task\r\n        CompilationTask task = compiler.getTask(new OutputStreamWriter(err), \r\n                fileManagerProxy, null, null, null, Collections.singleton(sourceFile));\r\n        //call it\r\n        if (!task.call()) {\r\n            throw new RuntimeException(&quot;Compilation failed, output:\\n&quot; + \r\n                    new String(err.toByteArray()));\r\n        }\r\n        //get the result\r\n        final byte[] bytes = out.toByteArray();\r\n        //load class\r\n        Class&lt;?&gt; clazz;\r\n        try {\r\n            //custom class loader for garbage collection\r\n            clazz = new ClassLoader() { \r\n                protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n                    if (name.equals(className)) {\r\n                        return defineClass(className, bytes, 0, bytes.length);\r\n                    } else {\r\n                        return super.findClass(name);\r\n                    }\r\n                }\r\n            }.loadClass(className);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        //reflectively call method\r\n        try {\r\n            return (String[]) clazz.getDeclaredMethod(&quot;getStrings&quot;).invoke(null);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nIt takes an array so you can unescape in batches. So the following simple test succeeds:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] meh) {\r\n        if (&quot;1\\02\\03\\n&quot;.equals(unescapeJavaStrings(&quot;1\\\\02\\\\03\\\\n&quot;)[0])) {\r\n            System.out.println(&quot;Success&quot;);\r\n        } else {\r\n            System.out.println(&quot;Failure&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to unescape a Java string literal in Java?","body":"<p>I'm a little late on this, but I thought I'd provide my solution since I needed the same functionality. I decided to use the Java Compiler API which makes it slower, but makes the results accurate. Basically I live create a class then return the results. Here is the method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] unescapeJavaStrings(String... escaped) {\n    //class name\n    final String className = \"Temp\" + System.currentTimeMillis();\n    //build the source\n    final StringBuilder source = new StringBuilder(100 + escaped.length * 20).\n            append(\"public class \").append(className).append(\"{\\n\").\n            append(\"\\tpublic static String[] getStrings() {\\n\").\n            append(\"\\t\\treturn new String[] {\\n\");\n    for (String string : escaped) {\n        source.append(\"\\t\\t\\t\\\"\");\n        //we escape non-escaped quotes here to be safe \n        //  (but something like \\\\\" will fail, oh well for now)\n        for (int i = 0; i &lt; string.length(); i++) {\n            char chr = string.charAt(i);\n            if (chr == '\"' &amp;&amp; i &gt; 0 &amp;&amp; string.charAt(i - 1) != '\\\\') {\n                source.append('\\\\');\n            }\n            source.append(chr);\n        }\n        source.append(\"\\\",\\n\");\n    }\n    source.append(\"\\t\\t};\\n\\t}\\n}\\n\");\n    //obtain compiler\n    final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n    //local stream for output\n    final ByteArrayOutputStream out = new ByteArrayOutputStream();\n    //local stream for error\n    ByteArrayOutputStream err = new ByteArrayOutputStream();\n    //source file\n    JavaFileObject sourceFile = new SimpleJavaFileObject(\n            URI.create(\"string:///\" + className + Kind.SOURCE.extension), Kind.SOURCE) {\n        @Override\n        public CharSequence getCharContent(boolean ignoreEncodingErrors) throws IOException {\n            return source;\n        }\n    };\n    //target file\n    final JavaFileObject targetFile = new SimpleJavaFileObject(\n            URI.create(\"string:///\" + className + Kind.CLASS.extension), Kind.CLASS) {\n        @Override\n        public OutputStream openOutputStream() throws IOException {\n            return out;\n        }\n    };\n    //file manager proxy, with most parts delegated to the standard one \n    JavaFileManager fileManagerProxy = (JavaFileManager) Proxy.newProxyInstance(\n            StringUtils.class.getClassLoader(), new Class[] { JavaFileManager.class },\n            new InvocationHandler() {\n                //standard file manager to delegate to\n                private final JavaFileManager standard = \n                    compiler.getStandardFileManager(null, null, null); \n                @Override\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                    if (\"getJavaFileForOutput\".equals(method.getName())) {\n                        //return the target file when it's asking for output\n                        return targetFile;\n                    } else {\n                        return method.invoke(standard, args);\n                    }\n                }\n            });\n    //create the task\n    CompilationTask task = compiler.getTask(new OutputStreamWriter(err), \n            fileManagerProxy, null, null, null, Collections.singleton(sourceFile));\n    //call it\n    if (!task.call()) {\n        throw new RuntimeException(\"Compilation failed, output:\\n\" + \n                new String(err.toByteArray()));\n    }\n    //get the result\n    final byte[] bytes = out.toByteArray();\n    //load class\n    Class&lt;?&gt; clazz;\n    try {\n        //custom class loader for garbage collection\n        clazz = new ClassLoader() { \n            protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n                if (name.equals(className)) {\n                    return defineClass(className, bytes, 0, bytes.length);\n                } else {\n                    return super.findClass(name);\n                }\n            }\n        }.loadClass(className);\n    } catch (ClassNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n    //reflectively call method\n    try {\n        return (String[]) clazz.getDeclaredMethod(\"getStrings\").invoke(null);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>It takes an array so you can unescape in batches. So the following simple test succeeds:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] meh) {\n    if (\"1\\02\\03\\n\".equals(unescapeJavaStrings(\"1\\\\02\\\\03\\\\n\")[0])) {\n        System.out.println(\"Success\");\n    } else {\n        System.out.println(\"Failure\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328530,"reputation":12953,"user_id":651536,"accept_rate":90,"display_name":"Nathan Ryan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352322335,"creation_date":1352322335,"answer_id":13278219,"question_id":3537706,"body_markdown":"I came across the same problem, but I wasn&#39;t enamoured by any of the solutions I found here. So, I wrote one that iterates over the characters of the string using a matcher to find and replace the escape sequences. This solution assumes properly formatted input. That is, it happily skips over nonsensical escapes, and it decodes Unicode escapes for line feed and carriage return (which otherwise cannot appear in a character literal or a string literal, due to the definition of such literals and the order of translation phases for Java source). Apologies, the code is a bit packed for brevity.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Decoder {\r\n\r\n        // The encoded character of each character escape.\r\n        // This array functions as the keys of a sorted map, from encoded characters to decoded characters.\r\n        static final char[] ENCODED_ESCAPES = { &#39;\\&quot;&#39;, &#39;\\&#39;&#39;, &#39;\\\\&#39;,  &#39;b&#39;,  &#39;f&#39;,  &#39;n&#39;,  &#39;r&#39;,  &#39;t&#39; };\r\n\r\n        // The decoded character of each character escape.\r\n        // This array functions as the values of a sorted map, from encoded characters to decoded characters.\r\n        static final char[] DECODED_ESCAPES = { &#39;\\&quot;&#39;, &#39;\\&#39;&#39;, &#39;\\\\&#39;, &#39;\\b&#39;, &#39;\\f&#39;, &#39;\\n&#39;, &#39;\\r&#39;, &#39;\\t&#39; };\r\n\r\n        // A pattern that matches an escape.\r\n        // What follows the escape indicator is captured by group 1=character 2=octal 3=Unicode.\r\n        static final Pattern PATTERN = Pattern.compile(&quot;\\\\\\\\(?:(b|t|n|f|r|\\\\\\&quot;|\\\\\\&#39;|\\\\\\\\)|((?:[0-3]?[0-7])?[0-7])|u+(\\\\p{XDigit}{4}))&quot;);\r\n\r\n        public static CharSequence decodeString(CharSequence encodedString) {\r\n            Matcher matcher = PATTERN.matcher(encodedString);\r\n            StringBuffer decodedString = new StringBuffer();\r\n            // Find each escape of the encoded string in succession.\r\n            while (matcher.find()) {\r\n                char ch;\r\n                if (matcher.start(1) &gt;= 0) {\r\n                    // Decode a character escape.\r\n                    ch = DECODED_ESCAPES[Arrays.binarySearch(ENCODED_ESCAPES, matcher.group(1).charAt(0))];\r\n                } else if (matcher.start(2) &gt;= 0) {\r\n                    // Decode an octal escape.\r\n                    ch = (char)(Integer.parseInt(matcher.group(2), 8));\r\n                } else /* if (matcher.start(3) &gt;= 0) */ {\r\n                    // Decode a Unicode escape.\r\n                    ch = (char)(Integer.parseInt(matcher.group(3), 16));\r\n                }\r\n                // Replace the escape with the decoded character.\r\n                matcher.appendReplacement(decodedString, Matcher.quoteReplacement(String.valueOf(ch)));\r\n            }\r\n            // Append the remainder of the encoded string to the decoded string.\r\n            // The remainder is the longest suffix of the encoded string such that the suffix contains no escapes.\r\n            matcher.appendTail(decodedString);\r\n            return decodedString;\r\n        }\r\n\r\n        public static void main(String... args) {\r\n            System.out.println(decodeString(args[0]));\r\n        }\r\n    }\r\n\r\nI should note that Apache Commons Lang3 doesn&#39;t seem to suffer the weaknesses indicated in the accepted solution. That is, `StringEscapeUtils` seems to handle octal escapes and multiple `u` characters of Unicode escapes. That means unless you have some burning reason to avoid Apache Commons, you should probably use it rather than my solution (or any other solution here).","title":"How to unescape a Java string literal in Java?","body":"<p>I came across the same problem, but I wasn't enamoured by any of the solutions I found here. So, I wrote one that iterates over the characters of the string using a matcher to find and replace the escape sequences. This solution assumes properly formatted input. That is, it happily skips over nonsensical escapes, and it decodes Unicode escapes for line feed and carriage return (which otherwise cannot appear in a character literal or a string literal, due to the definition of such literals and the order of translation phases for Java source). Apologies, the code is a bit packed for brevity.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Decoder {\n\n    // The encoded character of each character escape.\n    // This array functions as the keys of a sorted map, from encoded characters to decoded characters.\n    static final char[] ENCODED_ESCAPES = { '\\\"', '\\'', '\\\\',  'b',  'f',  'n',  'r',  't' };\n\n    // The decoded character of each character escape.\n    // This array functions as the values of a sorted map, from encoded characters to decoded characters.\n    static final char[] DECODED_ESCAPES = { '\\\"', '\\'', '\\\\', '\\b', '\\f', '\\n', '\\r', '\\t' };\n\n    // A pattern that matches an escape.\n    // What follows the escape indicator is captured by group 1=character 2=octal 3=Unicode.\n    static final Pattern PATTERN = Pattern.compile(\"\\\\\\\\(?:(b|t|n|f|r|\\\\\\\"|\\\\\\'|\\\\\\\\)|((?:[0-3]?[0-7])?[0-7])|u+(\\\\p{XDigit}{4}))\");\n\n    public static CharSequence decodeString(CharSequence encodedString) {\n        Matcher matcher = PATTERN.matcher(encodedString);\n        StringBuffer decodedString = new StringBuffer();\n        // Find each escape of the encoded string in succession.\n        while (matcher.find()) {\n            char ch;\n            if (matcher.start(1) &gt;= 0) {\n                // Decode a character escape.\n                ch = DECODED_ESCAPES[Arrays.binarySearch(ENCODED_ESCAPES, matcher.group(1).charAt(0))];\n            } else if (matcher.start(2) &gt;= 0) {\n                // Decode an octal escape.\n                ch = (char)(Integer.parseInt(matcher.group(2), 8));\n            } else /* if (matcher.start(3) &gt;= 0) */ {\n                // Decode a Unicode escape.\n                ch = (char)(Integer.parseInt(matcher.group(3), 16));\n            }\n            // Replace the escape with the decoded character.\n            matcher.appendReplacement(decodedString, Matcher.quoteReplacement(String.valueOf(ch)));\n        }\n        // Append the remainder of the encoded string to the decoded string.\n        // The remainder is the longest suffix of the encoded string such that the suffix contains no escapes.\n        matcher.appendTail(decodedString);\n        return decodedString;\n    }\n\n    public static void main(String... args) {\n        System.out.println(decodeString(args[0]));\n    }\n}\n</code></pre>\n\n<p>I should note that Apache Commons Lang3 doesn't seem to suffer the weaknesses indicated in the accepted solution. That is, <code>StringEscapeUtils</code> seems to handle octal escapes and multiple <code>u</code> characters of Unicode escapes. That means unless you have some burning reason to avoid Apache Commons, you should probably use it rather than my solution (or any other solution here).</p>\n"},{"tags":[],"owner":{"account_id":1529569,"reputation":32709,"user_id":1427124,"accept_rate":91,"display_name":"DaoWen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1359232691,"creation_date":1359232691,"answer_id":14541345,"question_id":3537706,"body_markdown":"I know this question was old, but I wanted a solution that doesn&#39;t involve libraries outside those included JRE6 (i.e. Apache Commons is not acceptable), and I came up with a simple solution using the built-in [`java.io.StreamTokenizer`][1]:\r\n\r\n    import java.io.*;\r\n\r\n    // ...\r\n\r\n    String literal = &quot;\\&quot;Has \\\\\\&quot;\\\\\\\\\\\\\\t\\\\\\&quot; &amp; isn\\\\\\&#39;t \\\\\\r\\\\\\n on 1 line.\\&quot;&quot;;\r\n    StreamTokenizer parser = new StreamTokenizer(new StringReader(literal));\r\n    String result;\r\n    try {\r\n      parser.nextToken();\r\n      if (parser.ttype == &#39;&quot;&#39;) {\r\n        result = parser.sval;\r\n      }\r\n      else {\r\n        result = &quot;ERROR!&quot;;\r\n      }\r\n    }\r\n    catch (IOException e) {\r\n      result = e.toString();\r\n    }\r\n    System.out.println(result);\r\n\r\nOutput:\r\n\r\n    Has &quot;\\\t&quot; &amp; isn&#39;t\r\n     on 1 line.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/StreamTokenizer.html","title":"How to unescape a Java string literal in Java?","body":"<p>I know this question was old, but I wanted a solution that doesn't involve libraries outside those included JRE6 (i.e. Apache Commons is not acceptable), and I came up with a simple solution using the built-in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/StreamTokenizer.html\"><code>java.io.StreamTokenizer</code></a>:</p>\n\n<pre><code>import java.io.*;\n\n// ...\n\nString literal = \"\\\"Has \\\\\\\"\\\\\\\\\\\\\\t\\\\\\\" &amp; isn\\\\\\'t \\\\\\r\\\\\\n on 1 line.\\\"\";\nStreamTokenizer parser = new StreamTokenizer(new StringReader(literal));\nString result;\ntry {\n  parser.nextToken();\n  if (parser.ttype == '\"') {\n    result = parser.sval;\n  }\n  else {\n    result = \"ERROR!\";\n  }\n}\ncatch (IOException e) {\n  result = e.toString();\n}\nSystem.out.println(result);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Has \"\\  \" &amp; isn't\n on 1 line.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1931201,"reputation":5150,"user_id":1740554,"display_name":"Udo Klimaschewski"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1380373280,"creation_date":1380373280,"answer_id":19067245,"question_id":3537706,"body_markdown":"Came across a similar problem, wasn&#39;t also satisfied with the presented solutions and implemented this one myself.\r\n\r\nAlso available as a Gist on [Github](https://gist.github.com/uklimaschewski/6741769):\r\n\r\n    /**\r\n     * Unescapes a string that contains standard Java escape sequences.\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;&lt;strong&gt;&amp;#92;b &amp;#92;f &amp;#92;n &amp;#92;r &amp;#92;t &amp;#92;&quot; &amp;#92;&#39;&lt;/strong&gt; :\r\n     * BS, FF, NL, CR, TAB, double and single quote.&lt;/li&gt;\r\n     * &lt;li&gt;&lt;strong&gt;&amp;#92;X &amp;#92;XX &amp;#92;XXX&lt;/strong&gt; : Octal character\r\n     * specification (0 - 377, 0x00 - 0xFF).&lt;/li&gt;\r\n     * &lt;li&gt;&lt;strong&gt;&amp;#92;uXXXX&lt;/strong&gt; : Hexadecimal based Unicode character.&lt;/li&gt;\r\n     * &lt;/ul&gt;\r\n     * \r\n     * @param st\r\n     *            A string optionally containing standard java escape sequences.\r\n     * @return The translated string.\r\n     */\r\n    public String unescapeJavaString(String st) {\r\n\r\n        StringBuilder sb = new StringBuilder(st.length());\r\n\r\n        for (int i = 0; i &lt; st.length(); i++) {\r\n            char ch = st.charAt(i);\r\n            if (ch == &#39;\\\\&#39;) {\r\n                char nextChar = (i == st.length() - 1) ? &#39;\\\\&#39; : st\r\n                        .charAt(i + 1);\r\n                // Octal escape?\r\n                if (nextChar &gt;= &#39;0&#39; &amp;&amp; nextChar &lt;= &#39;7&#39;) {\r\n                    String code = &quot;&quot; + nextChar;\r\n                    i++;\r\n                    if ((i &lt; st.length() - 1) &amp;&amp; st.charAt(i + 1) &gt;= &#39;0&#39;\r\n                            &amp;&amp; st.charAt(i + 1) &lt;= &#39;7&#39;) {\r\n                        code += st.charAt(i + 1);\r\n                        i++;\r\n                        if ((i &lt; st.length() - 1) &amp;&amp; st.charAt(i + 1) &gt;= &#39;0&#39;\r\n                                &amp;&amp; st.charAt(i + 1) &lt;= &#39;7&#39;) {\r\n                            code += st.charAt(i + 1);\r\n                            i++;\r\n                        }\r\n                    }\r\n                    sb.append((char) Integer.parseInt(code, 8));\r\n                    continue;\r\n                }\r\n                switch (nextChar) {\r\n                case &#39;\\\\&#39;:\r\n                    ch = &#39;\\\\&#39;;\r\n                    break;\r\n                case &#39;b&#39;:\r\n                    ch = &#39;\\b&#39;;\r\n                    break;\r\n                case &#39;f&#39;:\r\n                    ch = &#39;\\f&#39;;\r\n                    break;\r\n                case &#39;n&#39;:\r\n                    ch = &#39;\\n&#39;;\r\n                    break;\r\n                case &#39;r&#39;:\r\n                    ch = &#39;\\r&#39;;\r\n                    break;\r\n                case &#39;t&#39;:\r\n                    ch = &#39;\\t&#39;;\r\n                    break;\r\n                case &#39;\\&quot;&#39;:\r\n                    ch = &#39;\\&quot;&#39;;\r\n                    break;\r\n                case &#39;\\&#39;&#39;:\r\n                    ch = &#39;\\&#39;&#39;;\r\n                    break;\r\n                // Hex Unicode: u????\r\n                case &#39;u&#39;:\r\n                    if (i &gt;= st.length() - 5) {\r\n                        ch = &#39;u&#39;;\r\n                        break;\r\n                    }\r\n                    int code = Integer.parseInt(\r\n                            &quot;&quot; + st.charAt(i + 2) + st.charAt(i + 3)\r\n                                    + st.charAt(i + 4) + st.charAt(i + 5), 16);\r\n                    sb.append(Character.toChars(code));\r\n                    i += 5;\r\n                    continue;\r\n                }\r\n                i++;\r\n            }\r\n            sb.append(ch);\r\n        }\r\n        return sb.toString();\r\n    }\r\n","title":"How to unescape a Java string literal in Java?","body":"<p>Came across a similar problem, wasn't also satisfied with the presented solutions and implemented this one myself.</p>\n\n<p>Also available as a Gist on <a href=\"https://gist.github.com/uklimaschewski/6741769\">Github</a>:</p>\n\n<pre><code>/**\n * Unescapes a string that contains standard Java escape sequences.\n * &lt;ul&gt;\n * &lt;li&gt;&lt;strong&gt;&amp;#92;b &amp;#92;f &amp;#92;n &amp;#92;r &amp;#92;t &amp;#92;\" &amp;#92;'&lt;/strong&gt; :\n * BS, FF, NL, CR, TAB, double and single quote.&lt;/li&gt;\n * &lt;li&gt;&lt;strong&gt;&amp;#92;X &amp;#92;XX &amp;#92;XXX&lt;/strong&gt; : Octal character\n * specification (0 - 377, 0x00 - 0xFF).&lt;/li&gt;\n * &lt;li&gt;&lt;strong&gt;&amp;#92;uXXXX&lt;/strong&gt; : Hexadecimal based Unicode character.&lt;/li&gt;\n * &lt;/ul&gt;\n * \n * @param st\n *            A string optionally containing standard java escape sequences.\n * @return The translated string.\n */\npublic String unescapeJavaString(String st) {\n\n    StringBuilder sb = new StringBuilder(st.length());\n\n    for (int i = 0; i &lt; st.length(); i++) {\n        char ch = st.charAt(i);\n        if (ch == '\\\\') {\n            char nextChar = (i == st.length() - 1) ? '\\\\' : st\n                    .charAt(i + 1);\n            // Octal escape?\n            if (nextChar &gt;= '0' &amp;&amp; nextChar &lt;= '7') {\n                String code = \"\" + nextChar;\n                i++;\n                if ((i &lt; st.length() - 1) &amp;&amp; st.charAt(i + 1) &gt;= '0'\n                        &amp;&amp; st.charAt(i + 1) &lt;= '7') {\n                    code += st.charAt(i + 1);\n                    i++;\n                    if ((i &lt; st.length() - 1) &amp;&amp; st.charAt(i + 1) &gt;= '0'\n                            &amp;&amp; st.charAt(i + 1) &lt;= '7') {\n                        code += st.charAt(i + 1);\n                        i++;\n                    }\n                }\n                sb.append((char) Integer.parseInt(code, 8));\n                continue;\n            }\n            switch (nextChar) {\n            case '\\\\':\n                ch = '\\\\';\n                break;\n            case 'b':\n                ch = '\\b';\n                break;\n            case 'f':\n                ch = '\\f';\n                break;\n            case 'n':\n                ch = '\\n';\n                break;\n            case 'r':\n                ch = '\\r';\n                break;\n            case 't':\n                ch = '\\t';\n                break;\n            case '\\\"':\n                ch = '\\\"';\n                break;\n            case '\\'':\n                ch = '\\'';\n                break;\n            // Hex Unicode: u????\n            case 'u':\n                if (i &gt;= st.length() - 5) {\n                    ch = 'u';\n                    break;\n                }\n                int code = Integer.parseInt(\n                        \"\" + st.charAt(i + 2) + st.charAt(i + 3)\n                                + st.charAt(i + 4) + st.charAt(i + 5), 16);\n                sb.append(Character.toChars(code));\n                i += 5;\n                continue;\n            }\n            i++;\n        }\n        sb.append(ch);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120330,"reputation":6673,"user_id":312708,"accept_rate":74,"display_name":"Tvaroh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516951351,"creation_date":1516951351,"answer_id":48457166,"question_id":3537706,"body_markdown":"For the record, if you use Scala, you can do:\r\n\r\n    StringContext.treatEscapes(escaped)","title":"How to unescape a Java string literal in Java?","body":"<p>For the record, if you use Scala, you can do:</p>\n\n<pre><code>StringContext.treatEscapes(escaped)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1529049379,"creation_date":1529049379,"answer_id":50871341,"question_id":3537706,"body_markdown":"`org.apache.commons.lang3.StringEscapeUtils` from commons-lang3 is marked deprecated now. You can use [`org.apache.commons.text.StringEscapeUtils#unescapeJava(String)`](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html#unescapeJava-java.lang.String-) instead. It requires an additional [Maven dependency](https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.commons%22%20AND%20a%3A%22commons-text%22):\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\nand seems to handle some more special cases, it e.g. unescapes:\r\n\r\n* escaped backslashes, single and double quotes\r\n* escaped octal and unicode values\r\n* `\\\\b`, `\\\\n`, `\\\\t`, `\\\\f`, `\\\\r`\r\n","title":"How to unescape a Java string literal in Java?","body":"<p><code>org.apache.commons.lang3.StringEscapeUtils</code> from commons-lang3 is marked deprecated now. You can use <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html#unescapeJava-java.lang.String-\" rel=\"noreferrer\"><code>org.apache.commons.text.StringEscapeUtils#unescapeJava(String)</code></a> instead. It requires an additional <a href=\"https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.commons%22%20AND%20a%3A%22commons-text%22\" rel=\"noreferrer\">Maven dependency</a>:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>and seems to handle some more special cases, it e.g. unescapes:</p>\n\n<ul>\n<li>escaped backslashes, single and double quotes</li>\n<li>escaped octal and unicode values</li>\n<li><code>\\\\b</code>, <code>\\\\n</code>, <code>\\\\t</code>, <code>\\\\f</code>, <code>\\\\r</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1669065542,"creation_date":1590114872,"answer_id":61946924,"question_id":3537706,"body_markdown":"# `String#translateEscapes`\r\n\r\nModern Java offers the method [`String#translateEscapes`][1].\r\n\r\nThis feature arrived in [Java 15][2], after a preview in Java 13 and 14.\r\n\r\nThis feature un-escapes:\r\n\r\n - Single-letter combinations, such as `\\t` for Tab and `\\r` for Carriage Return.\r\n - Octal numbers `\\0` through `\\377` as a [code point][3] equivalent \r\n\r\nThis method does *not* translate Unicode escapes such as &quot;\\u2022&quot; for the [BULLET][4] character (`•`).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#translateEscapes()\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_15\r\n  [3]: https://en.wikipedia.org/wiki/Code_point\r\n  [4]: https://www.fileformat.info/info/unicode/char/2022/index.htm","title":"How to unescape a Java string literal in Java?","body":"<h1><code>String#translateEscapes</code></h1>\n<p>Modern Java offers the method <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#translateEscapes()\" rel=\"nofollow noreferrer\"><code>String#translateEscapes</code></a>.</p>\n<p>This feature arrived in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_15\" rel=\"nofollow noreferrer\">Java 15</a>, after a preview in Java 13 and 14.</p>\n<p>This feature un-escapes:</p>\n<ul>\n<li>Single-letter combinations, such as <code>\\t</code> for Tab and <code>\\r</code> for Carriage Return.</li>\n<li>Octal numbers <code>\\0</code> through <code>\\377</code> as a <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> equivalent</li>\n</ul>\n<p>This method does <em>not</em> translate Unicode escapes such as &quot;\\u2022&quot; for the <a href=\"https://www.fileformat.info/info/unicode/char/2022/index.htm\" rel=\"nofollow noreferrer\">BULLET</a> character (<code>•</code>).</p>\n"}],"owner":{"account_id":38019,"reputation":28480,"user_id":108915,"accept_rate":73,"display_name":"ziggystar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194648,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":61946924,"answer_count":11,"score":89,"last_activity_date":1669065542,"creation_date":1282395392,"question_id":3537706,"body_markdown":"I&#39;m processing some Java source code using Java. I&#39;m extracting the string literals and feeding them to a function taking a String. The problem is that I need to pass the unescaped version of the String to the function (i.e. this means converting `\\n` to a newline, and `\\\\` to a single `\\`, etc).\r\n\r\nIs there a function inside the Java API that does this? If not, can I obtain such functionality from some library? Obviously the Java compiler has to do this conversion.","title":"How to unescape a Java string literal in Java?","body":"<p>I'm processing some Java source code using Java. I'm extracting the string literals and feeding them to a function taking a String. The problem is that I need to pass the unescaped version of the String to the function (i.e. this means converting <code>\\n</code> to a newline, and <code>\\\\</code> to a single <code>\\</code>, etc).</p>\n<p>Is there a function inside the Java API that does this? If not, can I obtain such functionality from some library? Obviously the Java compiler has to do this conversion.</p>\n"},{"tags":["java","oracle","spring-boot","docker","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669064175,"creation_date":1669064175,"answer_id":74524796,"question_id":74524576,"body_markdown":"If you already have docker image then consider using [TestContainers][1] project\r\n\r\nIt offers exactly what you need: provides Java API for interacting with docker server.\r\n\r\nYou can integrate it into various testing frameworks (TestNG, JUnit and what not) as a Rule. See [Here][2] and example for JUnit 5. \r\n\r\nIf you use Spring Boot for integration testing it might make sense to provide additional integration so that the DataSource loaded by spring or say, JPA tests) will use the connection to this database. \r\n\r\nThis mechanism is great for tests of various database not necessarily Relation DB, stuff like mongo, redis, etc. will also work great with this project as long as you have a docker image to run with.\r\n\r\n\r\n  [1]: https://www.testcontainers.org/\r\n  [2]: https://www.testcontainers.org/test_framework_integration/junit_5/","title":"Integration tests by running the docker database image","body":"<p>If you already have docker image then consider using <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">TestContainers</a> project</p>\n<p>It offers exactly what you need: provides Java API for interacting with docker server.</p>\n<p>You can integrate it into various testing frameworks (TestNG, JUnit and what not) as a Rule. See <a href=\"https://www.testcontainers.org/test_framework_integration/junit_5/\" rel=\"nofollow noreferrer\">Here</a> and example for JUnit 5.</p>\n<p>If you use Spring Boot for integration testing it might make sense to provide additional integration so that the DataSource loaded by spring or say, JPA tests) will use the connection to this database.</p>\n<p>This mechanism is great for tests of various database not necessarily Relation DB, stuff like mongo, redis, etc. will also work great with this project as long as you have a docker image to run with.</p>\n"}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669065411,"creation_date":1669062752,"question_id":74524576,"body_markdown":"I have a test database offered as a Docker image and I would like to write integration tests that hit only that test database. I don&#39;t know how to setup this, I would like for this to run on the Jenkins machine as well (the docker image should start automatically). \r\nI have tried with TestContainers, fabric.io but I am unable to get a successfull connection to the container. \r\nCan somebody help me?\r\n\r\n````\r\n\r\npublic class MyContainer extends OracleContainer {\r\n\r\n    private static       MyContainer container;\r\n\r\n\r\n    public MyContainer (DockerImageName myImage) {\r\n        super(myImage);\r\n    }\r\n\r\n    public static MyContainer getInstance() {\r\n        if (container == null) {\r\n            DockerImageName myImage = DockerImageName.parse(&quot;docker-image-name&quot;)\r\n                .asCompatibleSubstituteFor(&quot;gvenzl/oracle-xe&quot;);\r\n            container = new MyContainer (myImage);\r\n        }\r\n        return container;\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        super.start();\r\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\r\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\r\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        //do nothing, JVM handles shut down\r\n    }\r\n\r\n}\r\n````\r\n\r\napplication.properties\r\n````\r\nspring.datasource.url=${DB_URL}\r\nspring.datasource.username=${DB_USERNAME}\r\nspring.datasource.password=${DB_PASSWORD}\r\n````\r\n\r\n\r\nTest\r\n````\r\n@SpringBootTest\r\npublic class DockerConnectionIT {\r\n\r\n    @ClassRule\r\n    public static OracleContainer oracleContainer = BaeldungPostgresqlContainer.getInstance();\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    void doSomething() {\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n}\r\n\r\n````\r\n\r\nUnfortunately test does not start I get exception: \r\n\r\n````\r\nError creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\tat\r\n\r\n````","title":"Integration tests by running the docker database image","body":"<p>I have a test database offered as a Docker image and I would like to write integration tests that hit only that test database. I don't know how to setup this, I would like for this to run on the Jenkins machine as well (the docker image should start automatically).\nI have tried with TestContainers, fabric.io but I am unable to get a successfull connection to the container.\nCan somebody help me?</p>\n<pre><code>\npublic class MyContainer extends OracleContainer {\n\n    private static       MyContainer container;\n\n\n    public MyContainer (DockerImageName myImage) {\n        super(myImage);\n    }\n\n    public static MyContainer getInstance() {\n        if (container == null) {\n            DockerImageName myImage = DockerImageName.parse(&quot;docker-image-name&quot;)\n                .asCompatibleSubstituteFor(&quot;gvenzl/oracle-xe&quot;);\n            container = new MyContainer (myImage);\n        }\n        return container;\n    }\n\n    @Override\n    public void start() {\n        super.start();\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\n    }\n\n    @Override\n    public void stop() {\n        //do nothing, JVM handles shut down\n    }\n\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=${DB_URL}\nspring.datasource.username=${DB_USERNAME}\nspring.datasource.password=${DB_PASSWORD}\n</code></pre>\n<p>Test</p>\n<pre><code>@SpringBootTest\npublic class DockerConnectionIT {\n\n    @ClassRule\n    public static OracleContainer oracleContainer = BaeldungPostgresqlContainer.getInstance();\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    void doSomething() {\n        System.out.println(&quot;&quot;);\n    }\n\n}\n\n</code></pre>\n<p>Unfortunately test does not start I get exception:</p>\n<pre><code>Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with 'jdbc'\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at\n\n</code></pre>\n"},{"tags":["java","list","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669025795,"creation_date":1668990700,"answer_id":74513102,"question_id":74512927,"body_markdown":"Create a statistics class that models your results. I&#39;m going to use [Java records introduced in JDK 14][1] to make the examples concise.\r\n\r\nFirst we introduce your model class for Person and your enum. Note that I&#39;ve changed the `value` to an int type to make the example simpler.\r\n\r\n```java\r\nenum Statement {\r\n    STATUS1, STATUS2, STATUS3\r\n}\r\nrecord Person(String id,\r\n              Statement event,\r\n              LocalDate eventDate,\r\n              int value) {}\r\n```\r\n\r\nWe will now create a `PersonGroupMetric` that you will use to capture the metrics that you require, it will take a Person as a constructor to allow for easy mapping and has an `add` method that we will use as a combiner later when we provide the implementation for collecting your stream.\r\n\r\n```java\r\nrecord PersonGroupMetric(int count, int sum) {\r\n\r\n    public static final PersonGroupMetric EMPTY = new PersonGroupMetric(0, 0);\r\n\r\n    public PersonGroupMetric(Person p) {\r\n        this(1, p.value());\r\n    }\r\n\r\n    public PersonGroupMetric add(PersonGroupMetric other) {\r\n        return new PersonGroupMetric(\r\n            this.count + other.count,\r\n            this.sum + other.sum\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nGiven your initial dataset:\r\n\r\n```java\r\nvar src = List.of(\r\n    new Person(&quot;per1&quot;, Statement.STATUS1, LocalDate.of(2022, 01, 10), 1),\r\n    new Person(&quot;per2&quot;, Statement.STATUS2, LocalDate.of(2022, 01, 10), 2),\r\n    new Person(&quot;per3&quot;, Statement.STATUS3, LocalDate.of(2022, 01, 10), 3),\r\n    new Person(&quot;per1&quot;, Statement.STATUS1, LocalDate.of(2022, 02, 10), 1),\r\n    new Person(&quot;per2&quot;, Statement.STATUS1, LocalDate.of(2022, 03, 10), 1),\r\n    new Person(&quot;per3&quot;, Statement.STATUS2, LocalDate.of(2022, 03, 10), 2)\r\n);\r\n```\r\n\r\nWe can now use a [groupingBy][2] collector that uses a reducer built from your metric model class:\r\n\r\n```java\r\nMap&lt;Integer, PersonGroupMetric&gt; res = src.stream()\r\n    .collect(groupingBy(\r\n        p -&gt; p.eventDate().getMonthValue(),\r\n        reducing(\r\n            PersonGroupMetric.EMPTY,\r\n            PersonGroupMetric::new,\r\n            PersonGroupMetric::add\r\n        )\r\n    ));\r\n```\r\n\r\nThis now contains a map that groups by the month with the value containing your metric class.\r\n\r\nYou can now map this to your domain object `DTO` from the maps `entrySet()`:\r\n\r\n```java\r\nvar fin = res.entrySet().stream()\r\n    .map(n -&gt; new DTO(\r\n        n.getKey(),\r\n        n.getValue().sum(),\r\n        n.getValue().count()\r\n    ))\r\n    .collect(toList());\r\n```\r\n\r\nImports required:\r\n\r\n```java\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport static java.util.stream.Collectors.groupingBy;\r\nimport static java.util.stream.Collectors.reducing;\r\nimport static java.util.stream.Collectors.toList;\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/language/records.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)","title":"Java Stream Issue of calculating count, sum of one value and multiple group by conditions","body":"<p>Create a statistics class that models your results. I'm going to use <a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\">Java records introduced in JDK 14</a> to make the examples concise.</p>\n<p>First we introduce your model class for Person and your enum. Note that I've changed the <code>value</code> to an int type to make the example simpler.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Statement {\n    STATUS1, STATUS2, STATUS3\n}\nrecord Person(String id,\n              Statement event,\n              LocalDate eventDate,\n              int value) {}\n</code></pre>\n<p>We will now create a <code>PersonGroupMetric</code> that you will use to capture the metrics that you require, it will take a Person as a constructor to allow for easy mapping and has an <code>add</code> method that we will use as a combiner later when we provide the implementation for collecting your stream.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record PersonGroupMetric(int count, int sum) {\n\n    public static final PersonGroupMetric EMPTY = new PersonGroupMetric(0, 0);\n\n    public PersonGroupMetric(Person p) {\n        this(1, p.value());\n    }\n\n    public PersonGroupMetric add(PersonGroupMetric other) {\n        return new PersonGroupMetric(\n            this.count + other.count,\n            this.sum + other.sum\n        );\n    }\n}\n</code></pre>\n<p>Given your initial dataset:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var src = List.of(\n    new Person(&quot;per1&quot;, Statement.STATUS1, LocalDate.of(2022, 01, 10), 1),\n    new Person(&quot;per2&quot;, Statement.STATUS2, LocalDate.of(2022, 01, 10), 2),\n    new Person(&quot;per3&quot;, Statement.STATUS3, LocalDate.of(2022, 01, 10), 3),\n    new Person(&quot;per1&quot;, Statement.STATUS1, LocalDate.of(2022, 02, 10), 1),\n    new Person(&quot;per2&quot;, Statement.STATUS1, LocalDate.of(2022, 03, 10), 1),\n    new Person(&quot;per3&quot;, Statement.STATUS2, LocalDate.of(2022, 03, 10), 2)\n);\n</code></pre>\n<p>We can now use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)\" rel=\"nofollow noreferrer\">groupingBy</a> collector that uses a reducer built from your metric model class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, PersonGroupMetric&gt; res = src.stream()\n    .collect(groupingBy(\n        p -&gt; p.eventDate().getMonthValue(),\n        reducing(\n            PersonGroupMetric.EMPTY,\n            PersonGroupMetric::new,\n            PersonGroupMetric::add\n        )\n    ));\n</code></pre>\n<p>This now contains a map that groups by the month with the value containing your metric class.</p>\n<p>You can now map this to your domain object <code>DTO</code> from the maps <code>entrySet()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var fin = res.entrySet().stream()\n    .map(n -&gt; new DTO(\n        n.getKey(),\n        n.getValue().sum(),\n        n.getValue().count()\n    ))\n    .collect(toList());\n</code></pre>\n<p>Imports required:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\nimport java.util.List;\nimport java.util.Map;\n\nimport static java.util.stream.Collectors.groupingBy;\nimport static java.util.stream.Collectors.reducing;\nimport static java.util.stream.Collectors.toList;\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669065097,"creation_date":1668988171,"question_id":74512927,"body_markdown":"I have a problem about writing a java stream by filtering multiple conditions , groupby multiple condition (if possible) and calculating the sum value\r\n\r\nI store the values as `Map&lt;String(pId),List&lt;Person&gt;&gt;`\r\n\r\n\r\nHere is my Person class shown below\r\n\r\n    public class Person{\r\n    \r\n        private String id;\r\n        private Statement event; // STATUS1,STATUS2\r\n        private LocalDate eventDate;\r\n        private Object value;\r\n    }\r\n\r\nHere is the list \r\n\r\n    ID,Info,Date,Value (All values are stored in Person object defined in the List)\r\n    \r\n    per1, STATUS1,  10-01-2022, 1\r\n    per2, STATUS2, 10-01-2022, 2\r\n    per3, STATUS3, 10-01-2022, 3\r\n    per1, STATUS4, 10-01-2022, 1  \r\n    per1 STATUS1, 10-02-2022, 1\r\n    per2, STATUS1, 10-03-2022, 1\r\n    per3, STATUS2, 10-03-2022, 2\r\n    ...\r\n    ...\r\n\r\nWhat I want to do is to get this result.\r\n\r\n    Month |  Total Sum | Person Count\r\n    1        7          3\r\n    2        1          1\r\n    3        3          2\r\n\r\nHere is group dto shown below \r\n\r\n    public class GroupDto {\r\n            private int month;\r\n            private String id;\r\n    }\r\n\r\nHere is my dto shown below.\r\n\r\n\r\n    public class DTO {\r\n        private int month;\r\n        private BigDecimal totalSum; \r\n        private int totalPersons;  \r\n    }\r\n\r\nHere is the code snippet but I cannot handle with it.\r\n\r\n    List&lt;Dto&gt; group = employees.values().stream()\r\n                    .flatMap(List::stream)\r\n                    .filter(emp -&gt; emp.getEvent() == Value.STATUS1 || emp.getEvent() == Value.STATUS2 \r\n                            || emp.getEvent() == Value.STATUS3 || emp.getEvent() == Value.STATUS4)\r\n                    .map(emp -&gt; new Dto(emp.getEventDate().getMonthValue(), new BigDecimal(emp.getValue().toString()), 1))\r\n                    .collect(Collectors.toList());\r\n    \r\n            List&lt;Dto&gt; result = new ArrayList&lt;&gt;(group.stream()\r\n                    .collect(Collectors.toMap(\r\n                            dto -&gt; Arrays.asList(dto.getMonth()), Function.identity(), Dto::aggregate))\r\n                    .values()).stream().sorted(Comparator.comparing(Dto::getMonth))\r\n                    .collect(Collectors.toList());\r\n    \r\n    public static Dto aggregate(Dto initial, Dto next) {\r\n            initial.setTotalSalary(initial.getTotalSalary().add(next.getTotalSalary()));\r\n            initial.setTotalEmployees(initial.getTotalEmployees() + next.getTotalEmployees());\r\n            return initial;\r\n        }\r\n\r\n    result.forEach(System.out::println);\r\n\r\nHere is the same result\r\n\r\n    Dto{month=1, totalSalary=7, totalPersons=4}\r\n    Dto{month=2, totalSalary=1, totalPersons=1}\r\n    Dto{month=3, totalSalary=3, totalPersons=2}\r\n\r\nNormally, total persons in month 1 is 3 but it counts 4 with respect to status.\r\n\r\nMy Issue : I cannot count the person, It counts by status. How can I do that?\r\n","title":"Java Stream Issue of calculating count, sum of one value and multiple group by conditions","body":"<p>I have a problem about writing a java stream by filtering multiple conditions , groupby multiple condition (if possible) and calculating the sum value</p>\n<p>I store the values as <code>Map&lt;String(pId),List&lt;Person&gt;&gt;</code></p>\n<p>Here is my Person class shown below</p>\n<pre><code>public class Person{\n\n    private String id;\n    private Statement event; // STATUS1,STATUS2\n    private LocalDate eventDate;\n    private Object value;\n}\n</code></pre>\n<p>Here is the list</p>\n<pre><code>ID,Info,Date,Value (All values are stored in Person object defined in the List)\n\nper1, STATUS1,  10-01-2022, 1\nper2, STATUS2, 10-01-2022, 2\nper3, STATUS3, 10-01-2022, 3\nper1, STATUS4, 10-01-2022, 1  \nper1 STATUS1, 10-02-2022, 1\nper2, STATUS1, 10-03-2022, 1\nper3, STATUS2, 10-03-2022, 2\n...\n...\n</code></pre>\n<p>What I want to do is to get this result.</p>\n<pre><code>Month |  Total Sum | Person Count\n1        7          3\n2        1          1\n3        3          2\n</code></pre>\n<p>Here is group dto shown below</p>\n<pre><code>public class GroupDto {\n        private int month;\n        private String id;\n}\n</code></pre>\n<p>Here is my dto shown below.</p>\n<pre><code>public class DTO {\n    private int month;\n    private BigDecimal totalSum; \n    private int totalPersons;  \n}\n</code></pre>\n<p>Here is the code snippet but I cannot handle with it.</p>\n<pre><code>List&lt;Dto&gt; group = employees.values().stream()\n                .flatMap(List::stream)\n                .filter(emp -&gt; emp.getEvent() == Value.STATUS1 || emp.getEvent() == Value.STATUS2 \n                        || emp.getEvent() == Value.STATUS3 || emp.getEvent() == Value.STATUS4)\n                .map(emp -&gt; new Dto(emp.getEventDate().getMonthValue(), new BigDecimal(emp.getValue().toString()), 1))\n                .collect(Collectors.toList());\n\n        List&lt;Dto&gt; result = new ArrayList&lt;&gt;(group.stream()\n                .collect(Collectors.toMap(\n                        dto -&gt; Arrays.asList(dto.getMonth()), Function.identity(), Dto::aggregate))\n                .values()).stream().sorted(Comparator.comparing(Dto::getMonth))\n                .collect(Collectors.toList());\n\npublic static Dto aggregate(Dto initial, Dto next) {\n        initial.setTotalSalary(initial.getTotalSalary().add(next.getTotalSalary()));\n        initial.setTotalEmployees(initial.getTotalEmployees() + next.getTotalEmployees());\n        return initial;\n    }\n\nresult.forEach(System.out::println);\n</code></pre>\n<p>Here is the same result</p>\n<pre><code>Dto{month=1, totalSalary=7, totalPersons=4}\nDto{month=2, totalSalary=1, totalPersons=1}\nDto{month=3, totalSalary=3, totalPersons=2}\n</code></pre>\n<p>Normally, total persons in month 1 is 3 but it counts 4 with respect to status.</p>\n<p>My Issue : I cannot count the person, It counts by status. How can I do that?</p>\n"},{"tags":["java","android","facebook"],"answers":[{"tags":[],"owner":{"account_id":6788404,"reputation":284,"user_id":5226298,"accept_rate":93,"display_name":"Jen Sze"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1669065096,"creation_date":1556000149,"answer_id":55805330,"question_id":54881205,"body_markdown":"We have encountered this same issue before. In our case, it turned out that the Facebook restricted our app due to violating their platform policies. We appealed to Facebook by telling them we are working on making our app to be compliant with their policies. Then they responded to us and removed the restriction temporarily to give us the time to do our testing. After they removed the restriction, we no longer encounter this error message. ","title":"Login Failed you cant use facebook to log into this app","body":"<p>We have encountered this same issue before. In our case, it turned out that the Facebook restricted our app due to violating their platform policies. We appealed to Facebook by telling them we are working on making our app to be compliant with their policies. Then they responded to us and removed the restriction temporarily to give us the time to do our testing. After they removed the restriction, we no longer encounter this error message.</p>\n"}],"owner":{"account_id":15411461,"reputation":197,"user_id":11118069,"display_name":"hd92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27769,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"answer_count":1,"score":18,"last_activity_date":1669065096,"creation_date":1551169685,"question_id":54881205,"body_markdown":"I get &quot;Login Failed Error&quot; with the Facebook Android SDK while running on the device. I have done everything what they specified, like creating a hash and all.\r\n\r\nThe error is:\r\n\r\n&gt; Login Failed you cant use facebook to log into this app or website\r\n&gt; because there&#39;s an issue with its implementation of facebook login\r\n\r\n","title":"Login Failed you cant use facebook to log into this app","body":"<p>I get \"Login Failed Error\" with the Facebook Android SDK while running on the device. I have done everything what they specified, like creating a hash and all.</p>\n\n<p>The error is:</p>\n\n<blockquote>\n  <p>Login Failed you cant use facebook to log into this app or website\n  because there's an issue with its implementation of facebook login</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26338332,"reputation":1,"user_id":19997850,"display_name":"Viral Korat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669063794,"creation_date":1669063794,"answer_id":74524751,"question_id":57381769,"body_markdown":" Try to add the below line after first for the loop\r\n\r\n `if (i=0){\r\n    continue;\r\n    }`","title":"dataprovider excel file reading how skip first row","body":"<p>Try to add the below line after first for the loop</p>\n<p><code>if (i=0){ continue; }</code></p>\n"}],"owner":{"account_id":16076133,"reputation":11,"user_id":11603311,"display_name":"pritesh Muli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669063794,"creation_date":1565114951,"question_id":57381769,"body_markdown":"## Heading \r\n\r\n    how to skip first row , if i make i=1 in for loop giving null null for \r\n     first row values\r\n   how to skip first row , if i make i=1 in for loop giving null null for \r\n     first row values\r\n----------\r\n      how to skip first row , if i make i=1 in for loop giving null null for \r\n     first row values\r\n       package excel2;\r\n\r\n      import java.io.FileInputStream;\r\n      import java.io.FileNotFoundException;\r\n      import java.io.IOException;\r\n\r\n                   import org.apache.poi.xssf.usermodel.XSSFRow;\r\n                   import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n                    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n                   import org.testng.annotations.DataProvider;\r\n                   import org.testng.annotations.Test;\r\n\r\n              public class DataProvider2 {\r\n\t                       XSSFSheet sheet;\r\n\t                     int row ;\r\n\t                        int col;\r\n\t\r\n\t        @Test(dataProvider = &quot;excel&quot;)\r\n         public void tc_01(String Srno, String name,String add) {\r\n         System.out.println(&quot;name :&quot; + Srno + &quot;\\t palce :&quot; + name + &quot;  add : \r\n               &quot;+add);\r\n                   }\r\n                 /**\r\n                   * @author pritesh\r\n      * @return\r\n      * @throws IOException\r\n      */\r\n\t  @DataProvider(name = &quot;excel&quot;)\r\n        public Object[][] abc() throws IOException {\r\n\t\tFileInputStream fl = new \r\n       FileInputStream(&quot;C:\\\\Users\\\\pritesh\\\\Desktop\\\\x22.xlsx&quot;);\r\n\t\t\r\n\t\tXSSFWorkbook book = new XSSFWorkbook(fl);\r\n\t\tsheet = book.getSheetAt(0);\r\n\t\trow = sheet.getLastRowNum()+1;\r\n\t    col = sheet.getRow(0).getLastCellNum();\r\n\t\tObject[][] obj = new Object[row][col];\r\n\t\tfor (int i = 1; i &lt;row; i++) {\r\n\t\t\tXSSFRow rw = sheet.getRow(i);\r\n\t\t\tfor (int j = 0; j &lt;col; j++) {\r\n\t\t\t\tobj[i][j] = rw.getCell(j).getStringCellValue();\r\n\t\t\t   }\r\n\t\t   }\r\n\t\t   return obj;\r\n\t       }\r\n\r\n             }\r\n\r\n\r\n\r\nall the row except first row of excel sheet should be read and show in \r\nconsole\r\nall the row except first row of excel sheet should be read and show in \r\nconsole\r\nall the row except first row of excel sheet should be read and show in \r\nconsole\r\n-------\r\nall the row except first row of excel sheet should be read and show in \r\nconsole","title":"dataprovider excel file reading how skip first row","body":"<h2>Heading</h2>\n\n<pre><code>how to skip first row , if i make i=1 in for loop giving null null for \n first row values\n</code></pre>\n\n<p>how to skip first row , if i make i=1 in for loop giving null null for </p>\n\n<h2>     first row values</h2>\n\n<pre><code>  how to skip first row , if i make i=1 in for loop giving null null for \n first row values\n   package excel2;\n\n  import java.io.FileInputStream;\n  import java.io.FileNotFoundException;\n  import java.io.IOException;\n\n               import org.apache.poi.xssf.usermodel.XSSFRow;\n               import org.apache.poi.xssf.usermodel.XSSFSheet;\n                import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n               import org.testng.annotations.DataProvider;\n               import org.testng.annotations.Test;\n\n          public class DataProvider2 {\n                       XSSFSheet sheet;\n                     int row ;\n                        int col;\n\n        @Test(dataProvider = \"excel\")\n     public void tc_01(String Srno, String name,String add) {\n     System.out.println(\"name :\" + Srno + \"\\t palce :\" + name + \"  add : \n           \"+add);\n               }\n             /**\n               * @author pritesh\n  * @return\n  * @throws IOException\n  */\n  @DataProvider(name = \"excel\")\n    public Object[][] abc() throws IOException {\n    FileInputStream fl = new \n   FileInputStream(\"C:\\\\Users\\\\pritesh\\\\Desktop\\\\x22.xlsx\");\n\n    XSSFWorkbook book = new XSSFWorkbook(fl);\n    sheet = book.getSheetAt(0);\n    row = sheet.getLastRowNum()+1;\n    col = sheet.getRow(0).getLastCellNum();\n    Object[][] obj = new Object[row][col];\n    for (int i = 1; i &lt;row; i++) {\n        XSSFRow rw = sheet.getRow(i);\n        for (int j = 0; j &lt;col; j++) {\n            obj[i][j] = rw.getCell(j).getStringCellValue();\n           }\n       }\n       return obj;\n       }\n\n         }\n</code></pre>\n\n<p>all the row except first row of excel sheet should be read and show in \nconsole\nall the row except first row of excel sheet should be read and show in \nconsole\nall the row except first row of excel sheet should be read and show in </p>\n\n<h2>console</h2>\n\n<p>all the row except first row of excel sheet should be read and show in \nconsole</p>\n"},{"tags":["java","eclipse","pom.xml","build.xml"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1669063376,"post_id":74524645,"comment_id":131553769,"body_markdown":"No it looks like an ant file.","body":"No it looks like an ant file."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1669063514,"post_id":74524645,"comment_id":131553796,"body_markdown":"No, Ant and Maven are not interchangeable.  Looks like you could create a pom.xml from that build.xml by adding each JAR as a dependency.  I&#39;d be worried about currency.  I&#39;m betting that Ant build.xml is bringing in a lot of JARs that are old and not supported anymore.  Be sure you try this on JDK 11 at a minimum and check each dependency.","body":"No, Ant and Maven are not interchangeable.  Looks like you could create a pom.xml from that build.xml by adding each JAR as a dependency.  I&#39;d be worried about currency.  I&#39;m betting that Ant build.xml is bringing in a lot of JARs that are old and not supported anymore.  Be sure you try this on JDK 11 at a minimum and check each dependency."},{"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"score":0,"creation_date":1669064481,"post_id":74524645,"comment_id":131554051,"body_markdown":"@duffymo What&#39;s the best way to check each dependency in your opinion?","body":"@duffymo What&#39;s the best way to check each dependency in your opinion?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1669076560,"post_id":74524645,"comment_id":131556644,"body_markdown":"Check the version available in Maven Central.  If it is not under active development, and hasn&#39;t been updated within the last year, you would be well advised to see if you can eliminate that dependency.  Unfortunately it&#39;s a manual, subjective process.   For example, I see iText dependencies.  You might have license issues.  Some of the libraries, like activation.jar, have known vulnerabilities.  You should correct those.","body":"Check the version available in Maven Central.  If it is not under active development, and hasn&#39;t been updated within the last year, you would be well advised to see if you can eliminate that dependency.  Unfortunately it&#39;s a manual, subjective process.   For example, I see iText dependencies.  You might have license issues.  Some of the libraries, like activation.jar, have known vulnerabilities.  You should correct those."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669063743,"creation_date":1669063743,"answer_id":74524741,"question_id":74524645,"body_markdown":"Basically `build.xml` is a script for another building system called [Apache Ant][1]. It was really popular before maven and later gradle were released. \r\n\r\nAt that time dependency management as it appears in maven / gradle didn&#39;t exist, so Ant didn&#39;t offer anything like that.\r\n\r\nHowever there exists another project called [Apache Ivy][2] that adds dependency management for Ant scripts, so I believe this is your best bet if you don&#39;t want to start using (and migrate to pom.xml) and keep using Ant.\r\n\r\nBoth Ant and Ivy are still active projects, however maven and gradle over the years have become more popular in the industry.\r\n\r\n\r\n  [1]: https://ant.apache.org/\r\n  [2]: https://ant.apache.org/ivy/","title":"I have a build.xml file but not a pom file for a pre-existing project, are they interchangeable?","body":"<p>Basically <code>build.xml</code> is a script for another building system called <a href=\"https://ant.apache.org/\" rel=\"nofollow noreferrer\">Apache Ant</a>. It was really popular before maven and later gradle were released.</p>\n<p>At that time dependency management as it appears in maven / gradle didn't exist, so Ant didn't offer anything like that.</p>\n<p>However there exists another project called <a href=\"https://ant.apache.org/ivy/\" rel=\"nofollow noreferrer\">Apache Ivy</a> that adds dependency management for Ant scripts, so I believe this is your best bet if you don't want to start using (and migrate to pom.xml) and keep using Ant.</p>\n<p>Both Ant and Ivy are still active projects, however maven and gradle over the years have become more popular in the industry.</p>\n"}],"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669063743,"creation_date":1669063164,"question_id":74524645,"body_markdown":"I&#39;m having an issue where i&#39;ve seen other people deal with it by adding a dependency to their pom file. I do not have such a file but I do have a file called build.xml that looks like this...\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project default=&quot;create_run_jar&quot; name=&quot;Create Runnable Jar for Project PM_DEV with libraries in sub-folder&quot;&gt;\r\n    &lt;!--this file was created by Eclipse Runnable JAR Export Wizard--&gt;\r\n    &lt;!--ANT 1.7 is required                                        --&gt;\r\n    &lt;!--define folder properties--&gt;\r\n    &lt;property name=&quot;dir.buildfile&quot; value=&quot;.&quot;/&gt;\r\n    &lt;property name=&quot;dir.workspace&quot; value=&quot;C:/Users/SENIOR/eclipse-workspace&quot;/&gt;\r\n    &lt;property name=&quot;dir.jarfile&quot; value=&quot;C:/Users/SENIOR/Desktop/9.9&quot;/&gt;\r\n    &lt;target name=&quot;create_run_jar&quot;&gt;\r\n        &lt;jar destfile=&quot;${dir.jarfile}/9.9.jar&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;ui.MainMenuFrame&quot;/&gt;\r\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;. 9.9_lib/activation.jar 9.9_lib/apache-mime4j-core-0.8.5.jar 9.9_lib/arial.jar 9.9_lib/commons-beanutils-1.8.2.jar 9.9_lib/commons-digester-2.1.jar 9.9_lib/commons-logging-1.2.jar 9.9_lib/dom4j-1.6.1.jar 9.9_lib/GoodDatePicker-10.3.1.jar 9.9_lib/hamcrest-core-1.3.jar 9.9_lib/itextpdf-5.3.4.jar 9.9_lib/javax.mail-1.6.2.jar 9.9_lib/jcalendar-1.3.3.jar 9.9_lib/jcommon-1.0.23.jar 9.9_lib/jfreechart-1.0.19-experimental.jar 9.9_lib/jfreechart-1.0.19-swt.jar _9.9_lib/jfreechart-1.0.19.jar 9.9_lib/jfreesvg-2.0.jar 9.9_lib/joda-time-2.4-javadoc.jar 9.9_lib/joda-time-2.4-sources.jar 9.9_lib/joda-time-2.4.jar 9.9_lib/junit-4.11.jar 9.9_lib/orsoncharts-1.4-eval-nofx.jar 9.9_lib/orsoncharts-1.5.jar 9.9_lib/orsonpdf-1.6-eval.jar 9.9_lib/orsonpdf-1.7.jar 9.9_lib/poi-3.14.jar 9.9_lib/poi-ooxml-3.14.jar 9.9_lib/poi-ooxml-schemas-3.14.jar 9.9_lib/rs2xml.jar 9.9_lib/servlet.jar 9.9_lib/sqljdbc4.jar 9.9_lib/swingx-1.6.1.jar 9.9_lib/swtgraphics2d.jar 9.9_lib/xmlbeans-2.6.0.jar 9.9_lib/mssql-jdbc-10.2.1.jre8.jar 9.9_lib/sqljdbc42.jar 9.9_lib/AbsoluteLayout.jar 9.9_lib/eclipselink.jar 9.9_lib/javax.persistence_2.1.0.v201304241213.jar 9.9_lib/org.eclipse.persistence.jpa.jpql_2.5.2.v20140319-9ad6abd.jar 9.9_lib/swing-layout-1.0.4.jar 9.9_lib/commons-collections4-4.4.jar 9.9_lib/itext-2.1.7.js8.jar 9.9_lib/jasperreports-6.20.0.jar&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;fileset dir=&quot;${dir.buildfile}/build/classes&quot;/&gt;\r\n        &lt;/jar&gt;\r\n        &lt;delete dir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;mkdir dir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/activation.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/apache-mime4j-core-0.8.5.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/arial.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-beanutils-1.8.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-digester-2.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-logging-1.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/dom4j-1.6.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/GoodDatePicker-10.3.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/hamcrest-core-1.3.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/itextpdf-5.3.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/javax.mail-1.6.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jcalendar-1.3.3.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jcommon-1.0.23.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19-experimental.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19-swt.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreesvg-2.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4-javadoc.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4-sources.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/junit-4.11.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsoncharts-1.4-eval-nofx.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsoncharts-1.5.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsonpdf-1.6-eval.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsonpdf-1.7.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-ooxml-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-ooxml-schemas-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/rs2xml.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/servlet.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/sqljdbc4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/swingx-1.6.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/swtgraphics2d.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/xmlbeans-2.6.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/mssql-jdbc-10.2.1.jre8.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/sqljdbc42.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/AbsoluteLayout.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/eclipselink.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/javax.persistence_2.1.0.v201304241213.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/org.eclipse.persistence.jpa.jpql_2.5.2.v20140319-9ad6abd.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/swing-layout-1.0.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-collections4-4.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/itext-2.1.7.js8.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jasperreports-6.20.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\nCan I use this file the same way pom files are used and add dependencies here? Or is this something completely different and I can&#39;t add my dependencies here.","title":"I have a build.xml file but not a pom file for a pre-existing project, are they interchangeable?","body":"<p>I'm having an issue where i've seen other people deal with it by adding a dependency to their pom file. I do not have such a file but I do have a file called build.xml that looks like this...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project default=&quot;create_run_jar&quot; name=&quot;Create Runnable Jar for Project PM_DEV with libraries in sub-folder&quot;&gt;\n    &lt;!--this file was created by Eclipse Runnable JAR Export Wizard--&gt;\n    &lt;!--ANT 1.7 is required                                        --&gt;\n    &lt;!--define folder properties--&gt;\n    &lt;property name=&quot;dir.buildfile&quot; value=&quot;.&quot;/&gt;\n    &lt;property name=&quot;dir.workspace&quot; value=&quot;C:/Users/SENIOR/eclipse-workspace&quot;/&gt;\n    &lt;property name=&quot;dir.jarfile&quot; value=&quot;C:/Users/SENIOR/Desktop/9.9&quot;/&gt;\n    &lt;target name=&quot;create_run_jar&quot;&gt;\n        &lt;jar destfile=&quot;${dir.jarfile}/9.9.jar&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;ui.MainMenuFrame&quot;/&gt;\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;. 9.9_lib/activation.jar 9.9_lib/apache-mime4j-core-0.8.5.jar 9.9_lib/arial.jar 9.9_lib/commons-beanutils-1.8.2.jar 9.9_lib/commons-digester-2.1.jar 9.9_lib/commons-logging-1.2.jar 9.9_lib/dom4j-1.6.1.jar 9.9_lib/GoodDatePicker-10.3.1.jar 9.9_lib/hamcrest-core-1.3.jar 9.9_lib/itextpdf-5.3.4.jar 9.9_lib/javax.mail-1.6.2.jar 9.9_lib/jcalendar-1.3.3.jar 9.9_lib/jcommon-1.0.23.jar 9.9_lib/jfreechart-1.0.19-experimental.jar 9.9_lib/jfreechart-1.0.19-swt.jar _9.9_lib/jfreechart-1.0.19.jar 9.9_lib/jfreesvg-2.0.jar 9.9_lib/joda-time-2.4-javadoc.jar 9.9_lib/joda-time-2.4-sources.jar 9.9_lib/joda-time-2.4.jar 9.9_lib/junit-4.11.jar 9.9_lib/orsoncharts-1.4-eval-nofx.jar 9.9_lib/orsoncharts-1.5.jar 9.9_lib/orsonpdf-1.6-eval.jar 9.9_lib/orsonpdf-1.7.jar 9.9_lib/poi-3.14.jar 9.9_lib/poi-ooxml-3.14.jar 9.9_lib/poi-ooxml-schemas-3.14.jar 9.9_lib/rs2xml.jar 9.9_lib/servlet.jar 9.9_lib/sqljdbc4.jar 9.9_lib/swingx-1.6.1.jar 9.9_lib/swtgraphics2d.jar 9.9_lib/xmlbeans-2.6.0.jar 9.9_lib/mssql-jdbc-10.2.1.jre8.jar 9.9_lib/sqljdbc42.jar 9.9_lib/AbsoluteLayout.jar 9.9_lib/eclipselink.jar 9.9_lib/javax.persistence_2.1.0.v201304241213.jar 9.9_lib/org.eclipse.persistence.jpa.jpql_2.5.2.v20140319-9ad6abd.jar 9.9_lib/swing-layout-1.0.4.jar 9.9_lib/commons-collections4-4.4.jar 9.9_lib/itext-2.1.7.js8.jar 9.9_lib/jasperreports-6.20.0.jar&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;fileset dir=&quot;${dir.buildfile}/build/classes&quot;/&gt;\n        &lt;/jar&gt;\n        &lt;delete dir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;mkdir dir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/activation.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/apache-mime4j-core-0.8.5.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/arial.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-beanutils-1.8.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-digester-2.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-logging-1.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/dom4j-1.6.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/GoodDatePicker-10.3.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/hamcrest-core-1.3.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/itextpdf-5.3.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/javax.mail-1.6.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jcalendar-1.3.3.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jcommon-1.0.23.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19-experimental.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19-swt.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreesvg-2.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4-javadoc.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4-sources.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/junit-4.11.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsoncharts-1.4-eval-nofx.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsoncharts-1.5.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsonpdf-1.6-eval.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsonpdf-1.7.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-ooxml-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-ooxml-schemas-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/rs2xml.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/servlet.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/sqljdbc4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/swingx-1.6.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/swtgraphics2d.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/xmlbeans-2.6.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/mssql-jdbc-10.2.1.jre8.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/sqljdbc42.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/AbsoluteLayout.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/eclipselink.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/javax.persistence_2.1.0.v201304241213.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/org.eclipse.persistence.jpa.jpql_2.5.2.v20140319-9ad6abd.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/swing-layout-1.0.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-collections4-4.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/itext-2.1.7.js8.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jasperreports-6.20.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n\n\n</code></pre>\n<p>Can I use this file the same way pom files are used and add dependencies here? Or is this something completely different and I can't add my dependencies here.</p>\n"},{"tags":["java","math","integer"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":9,"creation_date":1669062073,"post_id":74524450,"comment_id":131553453,"body_markdown":"Why not get a random number between 1 and 20 and multiply the result by 100.","body":"Why not get a random number between 1 and 20 and multiply the result by 100."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1669062090,"post_id":74524450,"comment_id":131553459,"body_markdown":"or do you need them in increasing order","body":"or do you need them in increasing order"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1669062092,"post_id":74524450,"comment_id":131553460,"body_markdown":"Define what that means. Show a few examples of possible output from your algorithm.","body":"Define what that means. Show a few examples of possible output from your algorithm."},{"owner":{"account_id":26249807,"reputation":19,"user_id":19922759,"display_name":"HatGuy"},"score":0,"creation_date":1669062759,"post_id":74524450,"comment_id":131553627,"body_markdown":"Possible outputs from my algorithm: `1139 121 432 923 254 862 1385` and I want those random numbers to be like this for example: `1100  100 400 900 200 800 1300`. They dont need to be increased. just random numbers.","body":"Possible outputs from my algorithm: <code>1139 121 432 923 254 862 1385</code> and I want those random numbers to be like this for example: <code>1100  100 400 900 200 800 1300</code>. They dont need to be increased. just random numbers."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669063149,"post_id":74524450,"comment_id":131553716,"body_markdown":"`int result = ((random.nextInt(end - start) + start) / 100) * 100;`","body":"<code>int result = ((random.nextInt(end - start) + start) &#47; 100) * 100;</code>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669063248,"creation_date":1669062892,"answer_id":74524600,"question_id":74524450,"body_markdown":"The problem is whether you want 2000 included or not. And whether the step size reaches 2000 exactly. The calculation just needs to include the step size:\r\n\r\n    Random random = new Random();\r\n    final int start = 100;\r\n    final int end = 2000;\r\n    final int step = 100;\r\n    int result = start + step * random.nextInt((end - start)/step); // end excl.\r\n    int result = start + step * random.nextInt((end - start)/step + 1); // end incl.\r\n\r\n[As already commented][1], it is probably more clear to base all on a random number between 1 and 20, and scale that up.\r\n\r\n    int result = (1 + random.nextInt(20)) * 100; // 100 upto 2000 by 100.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74524450/generate-random-integer-between-100-and-2000-in-steps-of-100-java#comment131553453_74524450","title":"Generate random integer between 100 and 2000 in steps of 100 Java","body":"<p>The problem is whether you want 2000 included or not. And whether the step size reaches 2000 exactly. The calculation just needs to include the step size:</p>\n<pre><code>Random random = new Random();\nfinal int start = 100;\nfinal int end = 2000;\nfinal int step = 100;\nint result = start + step * random.nextInt((end - start)/step); // end excl.\nint result = start + step * random.nextInt((end - start)/step + 1); // end incl.\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/74524450/generate-random-integer-between-100-and-2000-in-steps-of-100-java#comment131553453_74524450\">As already commented</a>, it is probably more clear to base all on a random number between 1 and 20, and scale that up.</p>\n<pre><code>int result = (1 + random.nextInt(20)) * 100; // 100 upto 2000 by 100.\n</code></pre>\n"}],"owner":{"account_id":26249807,"reputation":19,"user_id":19922759,"display_name":"HatGuy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74524600,"answer_count":1,"score":0,"last_activity_date":1669063248,"creation_date":1669061913,"question_id":74524450,"body_markdown":"Im currently trying to get a random integer between 100 and 2000 in steps of 100 like 300, 800, 1400 etc. \r\n\r\nThats what I found to get a random number between a range, but how do I manage to get a random number in steps of 100?\r\n\r\n    Random random = new Random();\r\n    int start = 100;\r\n    int end = 2000;\r\n    int result = random.nextInt(start - end) + start;","title":"Generate random integer between 100 and 2000 in steps of 100 Java","body":"<p>Im currently trying to get a random integer between 100 and 2000 in steps of 100 like 300, 800, 1400 etc.</p>\n<p>Thats what I found to get a random number between a range, but how do I manage to get a random number in steps of 100?</p>\n<pre><code>Random random = new Random();\nint start = 100;\nint end = 2000;\nint result = random.nextInt(start - end) + start;\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":1,"creation_date":1669052202,"post_id":74522752,"comment_id":131550462,"body_markdown":"From a brief read: It _should_ be sufficient to call `quit` only. Also, are you sure that you haven&#39;t scoped another driver there? You refer to `this.driver` the one time, but to `driver` the other. If that&#39;s also not fixing your problem, you should be able to to `taskkill /IM chromedriver.exe /F` (assuming you have proper permissions to do so) - the thing I would do is to use the [AutoCloseable](https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html) interface and use my class using the driver with try-with-resources.","body":"From a brief read: It <i>should</i> be sufficient to call <code>quit</code> only. Also, are you sure that you haven&#39;t scoped another driver there? You refer to <code>this.driver</code> the one time, but to <code>driver</code> the other. If that&#39;s also not fixing your problem, you should be able to to <code>taskkill &#47;IM chromedriver.exe &#47;F</code> (assuming you have proper permissions to do so) - the thing I would do is to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">AutoCloseable</a> interface and use my class using the driver with try-with-resources."},{"owner":{"account_id":14039345,"reputation":1,"user_id":11118928,"display_name":"Pedro Baraldini"},"score":0,"creation_date":1669063877,"post_id":74522752,"comment_id":131553895,"body_markdown":"Thanks for the awnser, it&#39;s help a lot!","body":"Thanks for the awnser, it&#39;s help a lot!"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1669065466,"post_id":74522752,"comment_id":131554350,"body_markdown":"Does this answer your question? [Selenium opens multiple chromedrivers and wont close them](https://stackoverflow.com/questions/74516128/selenium-opens-multiple-chromedrivers-and-wont-close-them)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74516128/selenium-opens-multiple-chromedrivers-and-wont-close-them\">Selenium opens multiple chromedrivers and wont close them</a>"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669062989,"creation_date":1669062989,"answer_id":74524612,"question_id":74522752,"body_markdown":"Normally if you want to close the driver session it should be done with `driver.quit();`  \r\nNo need to perform `driver.close();` on the same `driver` instance before applying `driver.quit();`. This will have no added value.  \r\nSo your code can be shortened to be\r\n```java\r\npublic void tearDown(){\r\n    if(this.driver != null){\r\n        driver.quit();\r\n    }\r\n}\r\n```","title":"Selenium - Method quit() and close() doesn&#39;t work properly","body":"<p>Normally if you want to close the driver session it should be done with <code>driver.quit();</code><br />\nNo need to perform <code>driver.close();</code> on the same <code>driver</code> instance before applying <code>driver.quit();</code>. This will have no added value.<br />\nSo your code can be shortened to be</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void tearDown(){\n    if(this.driver != null){\n        driver.quit();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14039345,"reputation":1,"user_id":11118928,"display_name":"Pedro Baraldini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669062989,"creation_date":1669051738,"question_id":74522752,"body_markdown":"I work on a crawler project where there are 3 machines executing 10 instances each. Exists a method tearDown to close the instances when entire crawler process is finished.\r\n\r\n```\r\n    public void tearDown(){\r\n        if(this.driver != null){\r\n            driver.close();\r\n            driver.quit();\r\n        }\r\n    }\r\n```\r\n\r\n\t\r\nThe problem i&#39;m fencing is that in some cases when the process is finished there are some instances from chromedriver.exe stuck in the task manager. What can I do to ensure the finalization of these instances? \r\n\r\nI&#39;ve tried close instances using taskkill, but in some cases doesn&#39;t work.\r\n\r\nSorry for my bad english.\r\n\r\n\r\n","title":"Selenium - Method quit() and close() doesn&#39;t work properly","body":"<p>I work on a crawler project where there are 3 machines executing 10 instances each. Exists a method tearDown to close the instances when entire crawler process is finished.</p>\n<pre><code>    public void tearDown(){\n        if(this.driver != null){\n            driver.close();\n            driver.quit();\n        }\n    }\n</code></pre>\n<p>The problem i'm fencing is that in some cases when the process is finished there are some instances from chromedriver.exe stuck in the task manager. What can I do to ensure the finalization of these instances?</p>\n<p>I've tried close instances using taskkill, but in some cases doesn't work.</p>\n<p>Sorry for my bad english.</p>\n"},{"tags":["java","spring","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669062330,"creation_date":1669062330,"answer_id":74524512,"question_id":74493064,"body_markdown":"I just had the wrong Main. There is one in camel-main, and another in camel-spring-main. I just needed to use the camel-spring-main, and it started running and staying alive.  \r\n  \r\nExcept for a transaction problem I am creating another question for...\r\n  \r\nBut the main program is running","title":"how to run Camel Main so it will keep running, and also use Spring Context XML DSL?","body":"<p>I just had the wrong Main. There is one in camel-main, and another in camel-spring-main. I just needed to use the camel-spring-main, and it started running and staying alive.</p>\n<p>Except for a transaction problem I am creating another question for...</p>\n<p>But the main program is running</p>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669062330,"creation_date":1668790927,"question_id":74493064,"body_markdown":"I&#39;m upgrading an old system that was a batch job that used Camel Main to continue running, so that it can basically loop and query a database every few seconds. It also uses Spring for configuration, but doesn&#39;t use Spring Boot. It was on Camel 2.x and I&#39;m having to upgrade it to Camel 3.14. The Main class has changed in that time. In addition to being moved to a different package, it has lost the method it was using to add the Spring context, which was `setApplicationContextUri(&quot;app-context&quot;)`. There is a `configure()` method on Main now, but I still don&#39;t see a way of adding a Spring context to Main.  \r\n\r\nLooking at javadocs for the new Main, I see there are methods in MainSupport that reference CamelContext, but they seem to be about creating a blank CamelContext. There is also an `autoconfigure(CamelContext)` which takes in CamelContext, but it&#39;s protected, so I don&#39;t see how to call it. I guess without extending Main, which I don&#39;t see any use cases or examples for.\r\n\r\nAlternatively, if there&#39;s a way to do this without using Main, I&#39;m open to that as well.  \r\n\r\nThe Spring and CamelContext are mainly used to set up beans like dataSources and Properties. The Route is defined in the same class that contains the java main() method that is called from the script used to start the whole process (this is the old version):\r\n\r\n    package com.foo.email.ffdb.listener;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.annotation.Resource;\r\n    \r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.spring.Main;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import com.foo.email.ffdb.util.FireFrgtConstants;\r\n     \r\n    public class EmailDBListener extends RouteBuilder {\r\n\tprivate static Logger log = LogManager.getLogger(EmailDBListener.class.getName());\r\n\tprivate static String routeId = FireFrgtConstants.EMAIL_ROUTE_ID;\r\n\t\r\n\t@Autowired\r\n\tprivate EmailDBProcessor emaiDBProcessor;\r\n\t\r\n\t@Resource\r\n\tprivate Properties emailProperties;\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSystem.out.println(&quot;STARTING EMAILDBLISTENER&quot;);\r\n\t\tlog.debug(&quot;Starting Email Batch &quot;);\r\n\t\tMain main = new Main();\r\n\t\tmain.setApplicationContextUri(&quot;app-context.xml&quot;);\r\n\t\tmain.run();\r\n\t\tlog.info(&quot;Email Batch Started:&quot;);\r\n\t}\r\n  \r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\tlog.debug(&quot;configure() &quot;);\r\n\t\tfrom(configureSqlTimer())\r\n\t\t.routeId(routeId)\r\n\t\t.to(&quot;sqlComponent:{{SQL.READ_EMAIL_REQUESTS}}&quot;)\r\n\t    .bean(&quot;fireForgetServiceMapper&quot;, &quot;readEmailRequests&quot;)\r\n\t    .process(emaiDBProcessor);\r\n\t}\r\n  \r\n\tprivate String configureSqlTimer() {\r\n\t\tlog.debug(&quot;configureSqlTimer() &quot;);\r\n\t\tString pollingTime = emailProperties.getProperty(FireFrgtConstants.POLLING_TIME);\r\n\t\tString sqlTimer = &quot;timer://pollFireFrgtTable?period=&quot; + pollingTime + &quot;s&quot;;\r\n\t\treturn sqlTimer;\r\n\t}\r\n}","title":"how to run Camel Main so it will keep running, and also use Spring Context XML DSL?","body":"<p>I'm upgrading an old system that was a batch job that used Camel Main to continue running, so that it can basically loop and query a database every few seconds. It also uses Spring for configuration, but doesn't use Spring Boot. It was on Camel 2.x and I'm having to upgrade it to Camel 3.14. The Main class has changed in that time. In addition to being moved to a different package, it has lost the method it was using to add the Spring context, which was <code>setApplicationContextUri(&quot;app-context&quot;)</code>. There is a <code>configure()</code> method on Main now, but I still don't see a way of adding a Spring context to Main.</p>\n<p>Looking at javadocs for the new Main, I see there are methods in MainSupport that reference CamelContext, but they seem to be about creating a blank CamelContext. There is also an <code>autoconfigure(CamelContext)</code> which takes in CamelContext, but it's protected, so I don't see how to call it. I guess without extending Main, which I don't see any use cases or examples for.</p>\n<p>Alternatively, if there's a way to do this without using Main, I'm open to that as well.</p>\n<p>The Spring and CamelContext are mainly used to set up beans like dataSources and Properties. The Route is defined in the same class that contains the java main() method that is called from the script used to start the whole process (this is the old version):</p>\n<pre><code>package com.foo.email.ffdb.listener;\n\nimport java.util.Properties;\n\nimport javax.annotation.Resource;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.spring.Main;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.foo.email.ffdb.util.FireFrgtConstants;\n \npublic class EmailDBListener extends RouteBuilder {\nprivate static Logger log = LogManager.getLogger(EmailDBListener.class.getName());\nprivate static String routeId = FireFrgtConstants.EMAIL_ROUTE_ID;\n\n@Autowired\nprivate EmailDBProcessor emaiDBProcessor;\n\n@Resource\nprivate Properties emailProperties;\n\n\npublic static void main(String[] args) throws Exception {\n    System.out.println(&quot;STARTING EMAILDBLISTENER&quot;);\n    log.debug(&quot;Starting Email Batch &quot;);\n    Main main = new Main();\n    main.setApplicationContextUri(&quot;app-context.xml&quot;);\n    main.run();\n    log.info(&quot;Email Batch Started:&quot;);\n}\n\n@Override\npublic void configure() throws Exception {\n    log.debug(&quot;configure() &quot;);\n    from(configureSqlTimer())\n    .routeId(routeId)\n    .to(&quot;sqlComponent:{{SQL.READ_EMAIL_REQUESTS}}&quot;)\n    .bean(&quot;fireForgetServiceMapper&quot;, &quot;readEmailRequests&quot;)\n    .process(emaiDBProcessor);\n}\n\nprivate String configureSqlTimer() {\n    log.debug(&quot;configureSqlTimer() &quot;);\n    String pollingTime = emailProperties.getProperty(FireFrgtConstants.POLLING_TIME);\n    String sqlTimer = &quot;timer://pollFireFrgtTable?period=&quot; + pollingTime + &quot;s&quot;;\n    return sqlTimer;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string","while-loop","do-while","isnumeric"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669052045,"post_id":74522697,"comment_id":131550417,"body_markdown":"&quot;*...when its meant to loop once*&quot; what makes you think so? The `key.next();` consumes *single* token, so when you write `my first mistake` the first `next()` will consume only `my`.","body":"&quot;<i>...when its meant to loop once</i>&quot; what makes you think so? The <code>key.next();</code> consumes <i>single</i> token, so when you write <code>my first mistake</code> the first <code>next()</code> will consume only <code>my</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1669052059,"post_id":74522697,"comment_id":131550427,"body_markdown":"Maybe you meant to use `nextLine()`?","body":"Maybe you meant to use <code>nextLine()</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669052097,"post_id":74522697,"comment_id":131550437,"body_markdown":"BTW you never update `isNumeric` inside loop, so it wont end since condition of `while ((!isNumeric))` is based on `isNumeric`.","body":"BTW you never update <code>isNumeric</code> inside loop, so it wont end since condition of <code>while ((!isNumeric))</code> is based on <code>isNumeric</code>."}],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669051759,"creation_date":1669051759,"answer_id":74522758,"question_id":74522697,"body_markdown":"Check the while loop below. You forgot to update isNumeric value within loop.\r\n\r\n    public static void main (String[] args) {\r\n        Scanner key = new Scanner(System.in);\r\n    \r\n        System.out.print(&quot;Enter a number: &quot;);\r\n        String num = key.next();\r\n        boolean isNumeric = true;\r\n         isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n    \r\n        while ((!isNumeric)) {\r\n            System.out.println(&quot;You must enter an integer&quot;);\r\n            num = key.next();\r\n            isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n        }\r\n        System.out.print(&quot;Valid&quot;);\r\n    }","title":"While loop input int validation","body":"<p>Check the while loop below. You forgot to update isNumeric value within loop.</p>\n<pre><code>public static void main (String[] args) {\n    Scanner key = new Scanner(System.in);\n\n    System.out.print(&quot;Enter a number: &quot;);\n    String num = key.next();\n    boolean isNumeric = true;\n     isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n\n    while ((!isNumeric)) {\n        System.out.println(&quot;You must enter an integer&quot;);\n        num = key.next();\n        isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n    }\n    System.out.print(&quot;Valid&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27002657,"reputation":46,"user_id":20563704,"display_name":"ElishevaMiler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669052659,"creation_date":1669052659,"answer_id":74522925,"question_id":74522697,"body_markdown":"public class Eli {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner key = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter a number: &quot;);\r\n        String num = key.nextLine();\r\n        boolean isNumeric = true;\r\n        isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n\r\n        while ((!isNumeric)) {\r\n            System.out.println(&quot;You must enter an integer&quot;);\r\n            num = key.nextLine();\r\n            isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n        }\r\n        System.out.print(&quot;Valid&quot;);\r\n\r\n    }\r\n}\r\n\r\nnote: You have 2 mistakes\r\n*You wrote  key.next() instead of  key.nextLine()\r\n*You forgot to check inside the loop whether isNumeric and it didn&#39;t check correctness from the second input onwards","title":"While loop input int validation","body":"<p>public class Eli {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner key = new Scanner(System.in);\n\n    System.out.print(&quot;Enter a number: &quot;);\n    String num = key.nextLine();\n    boolean isNumeric = true;\n    isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n\n    while ((!isNumeric)) {\n        System.out.println(&quot;You must enter an integer&quot;);\n        num = key.nextLine();\n        isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n    }\n    System.out.print(&quot;Valid&quot;);\n\n}\n</code></pre>\n<p>}</p>\n<p>note: You have 2 mistakes\n*You wrote  key.next() instead of  key.nextLine()\n*You forgot to check inside the loop whether isNumeric and it didn't check correctness from the second input onwards</p>\n"}],"owner":{"account_id":27004320,"reputation":25,"user_id":20565073,"display_name":"ennie Ayeni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74522758,"answer_count":2,"score":1,"last_activity_date":1669060692,"creation_date":1669051444,"question_id":74522697,"body_markdown":"I’m having a problem with my code. my while loop 3 times when its meant to loop once i&#39;ve tried everything i know and it&#39;s not working\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class validInput {\r\n    public static void main (String[] args) {\r\n        Scanner key = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter a number: &quot;);\r\n        String num = key.next();\r\n        boolean isNumeric = true;\r\n         isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n\r\n        while ((!isNumeric)) {\r\n            System.out.println(&quot;You must enter an integer&quot;);\r\n            num = key.next();\r\n        }\r\n        System.out.print(&quot;Valid&quot;);\r\n    }\r\n}\r\n```\r\n```\r\n# outputs Enter a number: my first mistake\r\n# You must enter an integer\r\n# You must enter an integer\r\n# You must enter an integer\r\n# my first mistake\r\n```","title":"While loop input int validation","body":"<p>I’m having a problem with my code. my while loop 3 times when its meant to loop once i've tried everything i know and it's not working</p>\n<pre><code>import java.util.Scanner;\n\npublic class validInput {\n    public static void main (String[] args) {\n        Scanner key = new Scanner(System.in);\n\n        System.out.print(&quot;Enter a number: &quot;);\n        String num = key.next();\n        boolean isNumeric = true;\n         isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n\n        while ((!isNumeric)) {\n            System.out.println(&quot;You must enter an integer&quot;);\n            num = key.next();\n        }\n        System.out.print(&quot;Valid&quot;);\n    }\n}\n</code></pre>\n<pre><code># outputs Enter a number: my first mistake\n# You must enter an integer\n# You must enter an integer\n# You must enter an integer\n# my first mistake\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1296640855,"post_id":4868124,"comment_id":5417616,"body_markdown":"If these classes are mapped to the same table without discriminator column, how would Hibernate distinguish which is which?","body":"If these classes are mapped to the same table without discriminator column, how would Hibernate distinguish which is which?"},{"owner":{"account_id":73135,"reputation":9955,"user_id":210780,"accept_rate":82,"display_name":"ashes999"},"score":0,"creation_date":1308748020,"post_id":4868124,"comment_id":7559685,"body_markdown":"@axtavt that&#39;s the point; every instance of B is also an A.","body":"@axtavt that&#39;s the point; every instance of B is also an A."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1659356808,"post_id":4868124,"comment_id":129268112,"body_markdown":"Did you ever find a working solution to this?","body":"Did you ever find a working solution to this?"}],"answers":[{"tags":[],"owner":{"account_id":73135,"reputation":9955,"user_id":210780,"accept_rate":82,"display_name":"ashes999"},"down_vote_count":2,"up_vote_count":12,"is_accepted":true,"score":10,"last_activity_date":1308747983,"creation_date":1296598726,"answer_id":4868621,"question_id":4868124,"body_markdown":"This is possible by mapping the `@DiscriminatorColumn` and `@DiscriminatorValue` to the same values for both classes; this can be from any column you use that has the same data regardless of which type (not sure if it works with null values).\r\n\r\nThe classes should look like so:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Book&quot;)\r\n    @Inheritance(strategy=InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name=&quot;published&quot;)\r\n    @DiscriminatorValue(value=&quot;true&quot;)\r\n    public class A {\r\n        private String ID;\r\n        private String Name;\r\n        // ...\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name=&quot;Book&quot;)\r\n    @DiscriminatorValue(value=&quot;true&quot;)\r\n    public class B extends A {\r\n        public String node_ID;\r\n        // ...\r\n    }","title":"Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column","body":"<p>This is possible by mapping the <code>@DiscriminatorColumn</code> and <code>@DiscriminatorValue</code> to the same values for both classes; this can be from any column you use that has the same data regardless of which type (not sure if it works with null values).</p>\n\n<p>The classes should look like so:</p>\n\n<pre><code>@Entity\n@Table(name=\"Book\")\n@Inheritance(strategy=InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=\"published\")\n@DiscriminatorValue(value=\"true\")\npublic class A {\n    private String ID;\n    private String Name;\n    // ...\n}\n\n@Entity\n@Table(name=\"Book\")\n@DiscriminatorValue(value=\"true\")\npublic class B extends A {\n    public String node_ID;\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2412715,"reputation":1,"user_id":2107462,"display_name":"Chisha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669060377,"creation_date":1669060346,"answer_id":74524223,"question_id":4868124,"body_markdown":"For anyone who got here like me and does not want to have the dtype column but instead want to use the same table for more than one entity as is I would recommend using [this][1]\r\n\r\n  [1]: https://vladmihalcea.com/map-multiple-jpa-entities-one-table-hibernate/\r\n\r\nBasically you can create a Base like this\r\n\r\n```\r\n@MappedSuperclass\r\npublic abstract class BaseBook&lt;T extends BaseBook&gt; {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    ... any other variables, getters + setters\r\n}\r\n\r\n@Entity\r\n@Table(name= &quot;book&quot;)\r\npublic class BookA extends BaseBook&lt;BookA&gt;{ \r\n  //Default class no need to specify any variables or getters/setters\r\n}\r\n\r\n@Entity\r\n@Table(name= &quot;book&quot;)\r\npublic class BookB extends BaseBook&lt;BookB&gt;{ \r\n  @Column(name = &quot;other_field&quot;)\r\n  private String otherFieldInTableButNotMapedInBase\r\n\r\n  ... Any other fields, getter/setter\r\n}\r\n\r\n```\r\n\r\nFrom the above we have created base super class which does not have any entity or table mapping. We then create BookA to be default with the Entity + Table mapping. From there we can create other Entities all extending from BaseBook but pointing to one table \r\n","title":"Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column","body":"<p>For anyone who got here like me and does not want to have the dtype column but instead want to use the same table for more than one entity as is I would recommend using <a href=\"https://vladmihalcea.com/map-multiple-jpa-entities-one-table-hibernate/\" rel=\"nofollow noreferrer\">this</a></p>\n<p>Basically you can create a Base like this</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseBook&lt;T extends BaseBook&gt; {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    ... any other variables, getters + setters\n}\n\n@Entity\n@Table(name= &quot;book&quot;)\npublic class BookA extends BaseBook&lt;BookA&gt;{ \n  //Default class no need to specify any variables or getters/setters\n}\n\n@Entity\n@Table(name= &quot;book&quot;)\npublic class BookB extends BaseBook&lt;BookB&gt;{ \n  @Column(name = &quot;other_field&quot;)\n  private String otherFieldInTableButNotMapedInBase\n\n  ... Any other fields, getter/setter\n}\n\n</code></pre>\n<p>From the above we have created base super class which does not have any entity or table mapping. We then create BookA to be default with the Entity + Table mapping. From there we can create other Entities all extending from BaseBook but pointing to one table</p>\n"}],"owner":{"account_id":73135,"reputation":9955,"user_id":210780,"accept_rate":82,"display_name":"ashes999"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25374,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4868621,"answer_count":2,"score":17,"last_activity_date":1669060377,"creation_date":1296595566,"question_id":4868124,"body_markdown":"I have two hibernate classes: a base class, and an extended class that has additional fields. (These fields are mapped by other tables.)\r\n\r\nFor example, I have:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Book&quot;)\r\n    public class A {\r\n    \tprivate String ID;\r\n    \tprivate String Name;\r\n    \t// ...\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name=&quot;Book&quot;)\r\n    public class B extends A {\r\n    \tpublic String node_ID;\r\n    \t// ...\r\n    }\r\n    \r\n    public class Node {\r\n    \tpublic String ID; // maps to B.node_ID\r\n    \t// ...\r\n    }\r\n\r\n\r\nHow do I map this in Hibernate? [The hibernate documentation][1] states three types of inheritence configurations: one table per class, one table with a type column, and a join table -- none of which apply here.\r\n\r\nThe reason I need to do this is because class A is from generic framework that&#39;s reused over multiple projects, and class B (and Node) are extensions specific to one project -- they won&#39;t be used again. In the future, I may have perhaps a class C with a house_ID or some other field.\r\n\r\n**Edit:** If I try the above pseudo-code configuration (two entities mapped to the same table) I get an error that the DTYPE column doesn&#39;t exist. The HQL has a &quot;where DTYPE=&quot;A&quot; appended.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#d0e1168","title":"Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column","body":"<p>I have two hibernate classes: a base class, and an extended class that has additional fields. (These fields are mapped by other tables.)</p>\n\n<p>For example, I have:</p>\n\n<pre><code>@Entity\n@Table(name=\"Book\")\npublic class A {\n    private String ID;\n    private String Name;\n    // ...\n}\n\n@Entity\n@Table(name=\"Book\")\npublic class B extends A {\n    public String node_ID;\n    // ...\n}\n\npublic class Node {\n    public String ID; // maps to B.node_ID\n    // ...\n}\n</code></pre>\n\n<p>How do I map this in Hibernate? <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#d0e1168\" rel=\"noreferrer\">The hibernate documentation</a> states three types of inheritence configurations: one table per class, one table with a type column, and a join table -- none of which apply here.</p>\n\n<p>The reason I need to do this is because class A is from generic framework that's reused over multiple projects, and class B (and Node) are extensions specific to one project -- they won't be used again. In the future, I may have perhaps a class C with a house_ID or some other field.</p>\n\n<p><strong>Edit:</strong> If I try the above pseudo-code configuration (two entities mapped to the same table) I get an error that the DTYPE column doesn't exist. The HQL has a \"where DTYPE=\"A\" appended.</p>\n"},{"tags":["java","arraylist","parameters","equals"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1636304682,"post_id":69874638,"comment_id":123515556,"body_markdown":"Where did `filename` come from? You may want to share your `Painting` class.","body":"Where did <code>filename</code> come from? You may want to share your <code>Painting</code> class."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1636321957,"post_id":69874638,"comment_id":123519391,"body_markdown":"Your `Museum` should have a `List&lt;Painting&gt;`, not an `ArrayList`. Always code to the interface, not the implementation.","body":"Your <code>Museum</code> should have a <code>List&lt;Painting&gt;</code>, not an <code>ArrayList</code>. Always code to the interface, not the implementation."}],"answers":[{"tags":[],"owner":{"account_id":19989152,"reputation":11,"user_id":14650609,"display_name":"skellig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636305997,"creation_date":1636305487,"answer_id":69874803,"question_id":69874638,"body_markdown":"Okay I&#39;m assuming here in your Painting class, you have an attribute which is Author and a getter for it.\r\n\r\nI&#39;ve changed the listMatches method to have a for-each loop. This loop will go through every element in your Paintings arraylist, and saving in a local variable the name of its author. If the current painting&#39;s author matches the one you are looking for, it will print the title. \r\n\r\nI changed the return type of listMatches from String to void, because you are not returning anything, just printing.\r\n\r\nInstead of just printing the names you could save the paintings somewhere (another ArrayList for example) if you want to use them. Remember to change the return type, because in that case you will be returning something.\r\n\r\nRemember to write the name of the author exactly as you have it in the paintings or else it might not find it.\r\n\r\nI havent had a chance to try it, but it should work.\r\n\r\n------\r\n\r\n    public class Museum  {\r\n    //creating the fields\r\n    private ArrayList&lt;Painting&gt; paintings;\r\n    private String name;\r\n    \r\n    /**\r\n     * Create a Museum Class \r\n     */\r\n    public Museum(String aMuseum) {\r\n        paintings = new ArrayList&lt;&gt;();\r\n        name = aMuseum;\r\n    }\r\n    \r\n    public void listMatches(String searchString)\r\n    {\r\n      String this_painting_author = new String();\r\n      for (Painting painting : paintings){\r\n        this_painting_author = painting.getAuthor();\r\n        if(this_painting_author.equals(searchString)) {\r\n          System.out.println(painting.getTitle());\r\n        }\r\n      }\r\n    }\r\n    }","title":"Searching an ArrayList for a matching parameter","body":"<p>Okay I'm assuming here in your Painting class, you have an attribute which is Author and a getter for it.</p>\n<p>I've changed the listMatches method to have a for-each loop. This loop will go through every element in your Paintings arraylist, and saving in a local variable the name of its author. If the current painting's author matches the one you are looking for, it will print the title.</p>\n<p>I changed the return type of listMatches from String to void, because you are not returning anything, just printing.</p>\n<p>Instead of just printing the names you could save the paintings somewhere (another ArrayList for example) if you want to use them. Remember to change the return type, because in that case you will be returning something.</p>\n<p>Remember to write the name of the author exactly as you have it in the paintings or else it might not find it.</p>\n<p>I havent had a chance to try it, but it should work.</p>\n<hr />\n<pre><code>public class Museum  {\n//creating the fields\nprivate ArrayList&lt;Painting&gt; paintings;\nprivate String name;\n\n/**\n * Create a Museum Class \n */\npublic Museum(String aMuseum) {\n    paintings = new ArrayList&lt;&gt;();\n    name = aMuseum;\n}\n\npublic void listMatches(String searchString)\n{\n  String this_painting_author = new String();\n  for (Painting painting : paintings){\n    this_painting_author = painting.getAuthor();\n    if(this_painting_author.equals(searchString)) {\n      System.out.println(painting.getTitle());\n    }\n  }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636307376,"creation_date":1636307376,"answer_id":69875076,"question_id":69874638,"body_markdown":"Searching paintings by artist should return a sublist of paintings (it may be empty if no painting is found):\r\n```java\r\npublic List&lt;Painting&gt; listMatches(String artist) {\r\n    List&lt;Painting&gt; matches = new ArrayList&lt;&gt;();\r\n    for (Painting painting : paintings) {\r\n        if (artist.equals(painting.getArtist())) {\r\n            matches.add(painting);\r\n        }\r\n    }\r\n\r\n    return matches;\r\n}\r\n```\r\n----\r\nStream API may be used for this (more concise and functional style):\r\n```java\r\npublic List&lt;Painting&gt; listMatches(String artist) {\r\n    return paintings.stream()\r\n        .filter(p -&gt; artist.equals(p.getArtist()))\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"Searching an ArrayList for a matching parameter","body":"<p>Searching paintings by artist should return a sublist of paintings (it may be empty if no painting is found):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Painting&gt; listMatches(String artist) {\n    List&lt;Painting&gt; matches = new ArrayList&lt;&gt;();\n    for (Painting painting : paintings) {\n        if (artist.equals(painting.getArtist())) {\n            matches.add(painting);\n        }\n    }\n\n    return matches;\n}\n</code></pre>\n<hr />\n<p>Stream API may be used for this (more concise and functional style):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Painting&gt; listMatches(String artist) {\n    return paintings.stream()\n        .filter(p -&gt; artist.equals(p.getArtist()))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":23069985,"reputation":35,"user_id":17349337,"display_name":"user17349337"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69875076,"answer_count":2,"score":0,"last_activity_date":1669059805,"creation_date":1636304287,"question_id":69874638,"body_markdown":"I have two classes `Museum` and `Painting`. `Painting` class is working as expected, but I am having issues with the `Museum` class. The purpose of the method is to return an ArrayList of paintings the museum has, which matches the parameter string. \r\n\r\nWhen I try to compile the code, I am getting lots of error messages and clearly I am not compiling the code correctly.\r\n\r\nFor example, if there is a Painting by Picasso - it should just return all those paintings and nothing else. \r\n\r\nI think I may have missed a step - potentially by creating a local variable to store it in first, but I&#39;m at a bit of a brick wall. I also wonder if String is correct when the ArrayList uses the Painting object.\r\n\r\nDoes anyone know what I&#39;m missing here?\r\n```java\r\npublic class Museum  {\r\n    //creating the fields\r\n    private ArrayList&lt;Painting&gt; paintings;\r\n    private String name;\r\n\r\n    /**\r\n     * Create a Museum Class \r\n     */\r\n    public Museum(String aMuseum) {\r\n        paintings = new ArrayList&lt;&gt;();\r\n        name = aMuseum;\r\n    }\r\n\r\n    public String listMatches(String searchString)\r\n    {\r\n        if(filename.equals(searchString)) {\r\n            return filename;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Searching an ArrayList for a matching parameter","body":"<p>I have two classes <code>Museum</code> and <code>Painting</code>. <code>Painting</code> class is working as expected, but I am having issues with the <code>Museum</code> class. The purpose of the method is to return an ArrayList of paintings the museum has, which matches the parameter string.</p>\n<p>When I try to compile the code, I am getting lots of error messages and clearly I am not compiling the code correctly.</p>\n<p>For example, if there is a Painting by Picasso - it should just return all those paintings and nothing else.</p>\n<p>I think I may have missed a step - potentially by creating a local variable to store it in first, but I'm at a bit of a brick wall. I also wonder if String is correct when the ArrayList uses the Painting object.</p>\n<p>Does anyone know what I'm missing here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Museum  {\n    //creating the fields\n    private ArrayList&lt;Painting&gt; paintings;\n    private String name;\n\n    /**\n     * Create a Museum Class \n     */\n    public Museum(String aMuseum) {\n        paintings = new ArrayList&lt;&gt;();\n        name = aMuseum;\n    }\n\n    public String listMatches(String searchString)\n    {\n        if(filename.equals(searchString)) {\n            return filename;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1410409,"reputation":3690,"user_id":1337135,"accept_rate":80,"display_name":"maszter"},"score":1,"creation_date":1493149260,"post_id":43619503,"comment_id":74288083,"body_markdown":"Possible duplicate of [Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column](http://stackoverflow.com/questions/4868124/mapping-multiple-classes-to-a-table-in-hibernate-without-a-dtype-column)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4868124/mapping-multiple-classes-to-a-table-in-hibernate-without-a-dtype-column\">Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column</a>"},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":1,"creation_date":1493149309,"post_id":43619503,"comment_id":74288117,"body_markdown":"Possible duplicate of [JPA Mapping with basic class inheritance](http://stackoverflow.com/questions/26655846/jpa-mapping-with-basic-class-inheritance)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/26655846/jpa-mapping-with-basic-class-inheritance\">JPA Mapping with basic class inheritance</a>"},{"owner":{"account_id":7175557,"reputation":1811,"user_id":5481621,"accept_rate":3,"display_name":"Cork Kochi"},"score":0,"creation_date":1493149715,"post_id":43619503,"comment_id":74288377,"body_markdown":"Employee class only has a transient object, So  not sue about @DiscriminatorColumn and DiscriminaorValue","body":"Employee class only has a transient object, So  not sue about @DiscriminatorColumn and DiscriminaorValue"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1642671632,"post_id":43619503,"comment_id":125134890,"body_markdown":"You forgot to add this column into the database schema.","body":"You forgot to add this column into the database schema."}],"answers":[{"tags":[],"owner":{"account_id":8497760,"reputation":342,"user_id":6371836,"display_name":"Daniel Andres Pelaez Lopez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493157002,"creation_date":1493157002,"answer_id":43621571,"question_id":43619503,"body_markdown":"You should use @DiscriminatorColumn and @DiscriminatorValue. You can find a good example [here][1].\r\n\r\n\r\n  [1]: http://viralpatel.net/blogs/hibernate-inheritence-table-per-hierarchy-mapping/","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<p>You should use @DiscriminatorColumn and @DiscriminatorValue. You can find a good example <a href=\"http://viralpatel.net/blogs/hibernate-inheritence-table-per-hierarchy-mapping/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":915477,"reputation":3493,"user_id":948359,"accept_rate":0,"display_name":"schlebe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520002608,"creation_date":1520002608,"answer_id":49071663,"question_id":43619503,"body_markdown":"I have encountered the same issue using EclipseLink and I have tried to use @discriminator annotation ... without success\r\nbecause in this solution, a specific column must be added in 2 tables.\r\n\r\nI don&#39;t have the possibility to add columns in tables, so I have found following solution :\r\n\r\n    @Entity\r\n    @Table(name = &quot;PERSON&quot;)\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) \r\n    public class Person {    \r\n\r\nI have just changed inheritance type from SINGLE_TABLE to TABLE_PER_CLASS\r\n\r\nI have found useful explanation on [Thoughts on Java][1]\r\n\r\nJust for information, my 2 tables are in reality 1 table and a view on same table with 2 or 3 joins.\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/complete-guide-inheritance-strategies-jpa-hibernate/\r\n","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<p>I have encountered the same issue using EclipseLink and I have tried to use @discriminator annotation ... without success\nbecause in this solution, a specific column must be added in 2 tables.</p>\n\n<p>I don't have the possibility to add columns in tables, so I have found following solution :</p>\n\n<pre><code>@Entity\n@Table(name = \"PERSON\")\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) \npublic class Person {    \n</code></pre>\n\n<p>I have just changed inheritance type from SINGLE_TABLE to TABLE_PER_CLASS</p>\n\n<p>I have found useful explanation on <a href=\"https://www.thoughts-on-java.org/complete-guide-inheritance-strategies-jpa-hibernate/\" rel=\"noreferrer\">Thoughts on Java</a></p>\n\n<p>Just for information, my 2 tables are in reality 1 table and a view on same table with 2 or 3 joins.</p>\n"},{"tags":[],"owner":{"account_id":7421871,"reputation":991,"user_id":5645869,"display_name":"Rohit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627121592,"creation_date":1588729069,"answer_id":61625888,"question_id":43619503,"body_markdown":"`D_TYPE` is basically name of your child class.\r\n\r\nLet&#39;s suppose you have:\r\n\r\n* Abstract Employee(id, name);\r\n* class FullTimeEmployee extends Employee(Double salary)\r\n* with Inheritence.SINGLE_TABLE strategy.\r\n\r\nA table employee will be created with these columns\r\n\r\n    Employee (D_TYPE, id, name, salary)\r\n\r\nwhere `D_TYPE` will be name of your child classes.\r\n\r\n    employeeRepository.insert(Employee emp);\r\n\r\nwhere you can pass emp as `new FullTimeEmployee(id, name, salary);`\r\n\r\nAfter insert it will automatically populate `d_type` as Full_Time_Employee\r\n\r\nIf you want to change the name of `D_TYPE` column use \r\n`@DiscriminatorColumn(name=&quot;customizedNameofD_TYPE&quot;)`\r\n\r\nJust FYI: mostly used strategy is `InheritanceType.JOINED`\r\n","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<p><code>D_TYPE</code> is basically name of your child class.</p>\n<p>Let's suppose you have:</p>\n<ul>\n<li>Abstract Employee(id, name);</li>\n<li>class FullTimeEmployee extends Employee(Double salary)</li>\n<li>with Inheritence.SINGLE_TABLE strategy.</li>\n</ul>\n<p>A table employee will be created with these columns</p>\n<pre><code>Employee (D_TYPE, id, name, salary)\n</code></pre>\n<p>where <code>D_TYPE</code> will be name of your child classes.</p>\n<pre><code>employeeRepository.insert(Employee emp);\n</code></pre>\n<p>where you can pass emp as <code>new FullTimeEmployee(id, name, salary);</code></p>\n<p>After insert it will automatically populate <code>d_type</code> as Full_Time_Employee</p>\n<p>If you want to change the name of <code>D_TYPE</code> column use\n<code>@DiscriminatorColumn(name=&quot;customizedNameofD_TYPE&quot;)</code></p>\n<p>Just FYI: mostly used strategy is <code>InheritanceType.JOINED</code></p>\n"},{"tags":[],"owner":{"account_id":4177315,"reputation":23,"user_id":3423446,"accept_rate":60,"display_name":"Gaurav Saraf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604660606,"creation_date":1604660606,"answer_id":64713393,"question_id":43619503,"body_markdown":"Persist child entity rather than persisting parent entity. \r\n\r\n    @MappedSuperclass\r\n    public class Person { \r\n\r\nAnd\r\n\r\n    @Entity\r\n    @Table(name = &quot;PERSON&quot;)\r\n    public class Employee extends Person {\r\n\r\nThis should resolve your issue.\r\n\r\n   ","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<p>Persist child entity rather than persisting parent entity.</p>\n<pre><code>@MappedSuperclass\npublic class Person { \n</code></pre>\n<p>And</p>\n<pre><code>@Entity\n@Table(name = &quot;PERSON&quot;)\npublic class Employee extends Person {\n</code></pre>\n<p>This should resolve your issue.</p>\n"}],"owner":{"account_id":7175557,"reputation":1811,"user_id":5481621,"accept_rate":3,"display_name":"Cork Kochi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15183,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1669059682,"creation_date":1493149009,"question_id":43619503,"body_markdown":"  \r\n\r\n    @Entity\r\n    @Table(name = &quot;PERSON&quot;)\r\n    @Inheritance(strategy=InheritanceType.SINGLE_TABLE)  \r\n    public class Person {    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \t@Column(name = &quot;PERSON_ID&quot;)\r\n    \tprivate Long personId;\r\n    \t\r\n    \t@Column(name = &quot;FIRSTNAME&quot;)\r\n    \tprivate String firstname;\r\n    \t\r\n    \t@Column(name = &quot;LASTNAME&quot;)\r\n    \tprivate String lastname;\r\n    \t\r\n    \t// Constructors and Getter/Setter methods, \r\n    }\r\n\r\nEmployee class extends Person\r\n\r\n    @Entity    \r\n    public class Employee extends Person {\r\n    \r\n    \t@Transient\r\n    \tprivate Date joiningDate;  \t\r\n    \t\r\n    \r\n    \t// Copy Constructors and Getter/Setter methods, \r\n    }\r\n\r\nThe Employee class has only a transient object So I am not sure about using of @DiscriminatorColumn and @DiscriminatorValue, When i tried without using Discriminator that throws error\r\n\r\n    session.save(employee);\r\n\r\nI am trying to save Employee object that throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<pre><code>@Entity\n@Table(name = \"PERSON\")\n@Inheritance(strategy=InheritanceType.SINGLE_TABLE)  \npublic class Person {    \n    @Id\n    @GeneratedValue\n    @Column(name = \"PERSON_ID\")\n    private Long personId;\n\n    @Column(name = \"FIRSTNAME\")\n    private String firstname;\n\n    @Column(name = \"LASTNAME\")\n    private String lastname;\n\n    // Constructors and Getter/Setter methods, \n}\n</code></pre>\n\n<p>Employee class extends Person</p>\n\n<pre><code>@Entity    \npublic class Employee extends Person {\n\n    @Transient\n    private Date joiningDate;   \n\n\n    // Copy Constructors and Getter/Setter methods, \n}\n</code></pre>\n\n<p>The Employee class has only a transient object So I am not sure about using of @DiscriminatorColumn and @DiscriminatorValue, When i tried without using Discriminator that throws error</p>\n\n<pre><code>session.save(employee);\n</code></pre>\n\n<p>I am trying to save Employee object that throws Unknown column 'DTYPE' in 'field list' error</p>\n"},{"tags":["java","algorithm","big-o"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":3,"creation_date":1669049428,"post_id":74522221,"comment_id":131549533,"body_markdown":"The most inner loop is executed in quadratic time (not constant), hence it should be `O(n) * O(n^2) * O(n^2)` = `O(n^5)`","body":"The most inner loop is executed in quadratic time (not constant), hence it should be <code>O(n) * O(n^2) * O(n^2)</code> = <code>O(n^5)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669049425,"creation_date":1669049425,"answer_id":74522291,"question_id":74522221,"body_markdown":"The second loop isn&#39;t `O(n)`, it&#39;s `O(n^2)` by itself.","title":"What is the Time Complexity for the 3 nested loops below?","body":"<p>The second loop isn't <code>O(n)</code>, it's <code>O(n^2)</code> by itself.</p>\n"},{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669049473,"creation_date":1669049473,"answer_id":74522308,"question_id":74522221,"body_markdown":"    for (int i = 0; i &lt; n; i++) -&gt; runs n times.\r\n     for (int j = 0; j &lt; n * n; j++) -&gt; runs n&#178; times.\r\n      for (int k = 0; k &lt; j; k++) -&gt; runs n&#178; times (k == j == n&#178;)\r\n\r\n    n * n&#178; * n&#178; = n^5.\r\n\r\nsum+++ is an operation of constant runtime (1) and can therefore be ignored.\r\n\r\n\r\n","title":"What is the Time Complexity for the 3 nested loops below?","body":"<pre><code>for (int i = 0; i &lt; n; i++) -&gt; runs n times.\n for (int j = 0; j &lt; n * n; j++) -&gt; runs n² times.\n  for (int k = 0; k &lt; j; k++) -&gt; runs n² times (k == j == n²)\n\nn * n² * n² = n^5.\n</code></pre>\n<p>sum+++ is an operation of constant runtime (1) and can therefore be ignored.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669049596,"creation_date":1669049596,"answer_id":74522335,"question_id":74522221,"body_markdown":"The most inner loop is executed in quadratic time (not constant), hence it should be `O(n) * O(n^2) * O(n^2) = O(n^5)`.\r\n\r\nHere are all the costs:\r\n\r\n* Most outer loop - `O(n)`\r\n\r\n* The second loop - `O(n^2)` for each element for the outer loop\r\n\r\n* The most inner loop - `O(n^2)` for each element for the second loop\r\n","title":"What is the Time Complexity for the 3 nested loops below?","body":"<p>The most inner loop is executed in quadratic time (not constant), hence it should be <code>O(n) * O(n^2) * O(n^2) = O(n^5)</code>.</p>\n<p>Here are all the costs:</p>\n<ul>\n<li><p>Most outer loop - <code>O(n)</code></p>\n</li>\n<li><p>The second loop - <code>O(n^2)</code> for each element for the outer loop</p>\n</li>\n<li><p>The most inner loop - <code>O(n^2)</code> for each element for the second loop</p>\n</li>\n</ul>\n"}],"owner":{"account_id":27004171,"reputation":23,"user_id":20564942,"display_name":"Aldrin Lizardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74522335,"answer_count":3,"score":1,"last_activity_date":1669059671,"creation_date":1669049170,"question_id":74522221,"body_markdown":"Here&#39;s the code:\r\n\r\n```\r\nfor (int i = 0; i &lt; n; i++) {\r\n    for (int j = 0; j &lt; n * n; j++) {\r\n        for (int k = 0; k &lt; j; k++) {\r\n            sum++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI need to evaluate the Time complexity in Big-O notation of the nested loops above.\r\n\r\nIs it just `O(n) * O(n) * O(n) + O(1)` to make `O(n^3)`? Or is there more to it?","title":"What is the Time Complexity for the 3 nested loops below?","body":"<p>Here's the code:</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\n    for (int j = 0; j &lt; n * n; j++) {\n        for (int k = 0; k &lt; j; k++) {\n            sum++;\n        }\n    }\n}\n</code></pre>\n<p>I need to evaluate the Time complexity in Big-O notation of the nested loops above.</p>\n<p>Is it just <code>O(n) * O(n) * O(n) + O(1)</code> to make <code>O(n^3)</code>? Or is there more to it?</p>\n"},{"tags":["java","filesystems"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1609969083,"creation_date":1609969083,"answer_id":65603712,"question_id":65600876,"body_markdown":"You don&#39;t need to fix this.\r\n\r\n* `sun.awt.resources.spi.awtProvider` is a class name that is automatically generated as a possible resource bundle provider. If the class is not found it will be ignored.\r\n\r\nSee the source at https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L1416:\r\n\r\n                try {\r\n                    resources = ResourceBundle.getBundle(&quot;sun.awt.resources.awt&quot;);\r\n                } catch (MissingResourceException e) {\r\n                    // No resource file; defaults will be used.\r\n                }\r\n\r\n* `accessibility.properties` is an optional file that can be used to configure assistive technologies. If this file is not found nothing changes.\r\n\r\nAccording to the sources at https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L423:\r\n\r\n                    try {\r\n                        File propsFile = new File(\r\n                            System.getProperty(&quot;java.home&quot;) + sep + &quot;conf&quot; +\r\n                            sep + &quot;accessibility.properties&quot;);\r\n                        FileInputStream in =\r\n                            new FileInputStream(propsFile);\r\n\r\n                        // Inputstream has been buffered in Properties class\r\n                        properties.load(in);\r\n                        in.close();\r\n                    } catch (Exception e) {\r\n                        // System-wide accessibility properties file does\r\n                        // not exist;\r\n                    }\r\n","title":"My java program is throwing java.lang.ClassNotFoundException for some AWT classes what do I do?","body":"<p>You don't need to fix this.</p>\n<ul>\n<li><code>sun.awt.resources.spi.awtProvider</code> is a class name that is automatically generated as a possible resource bundle provider. If the class is not found it will be ignored.</li>\n</ul>\n<p>See the source at <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L1416\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L1416</a>:</p>\n<pre><code>            try {\n                resources = ResourceBundle.getBundle(&quot;sun.awt.resources.awt&quot;);\n            } catch (MissingResourceException e) {\n                // No resource file; defaults will be used.\n            }\n</code></pre>\n<ul>\n<li><code>accessibility.properties</code> is an optional file that can be used to configure assistive technologies. If this file is not found nothing changes.</li>\n</ul>\n<p>According to the sources at <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L423\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L423</a>:</p>\n<pre><code>                try {\n                    File propsFile = new File(\n                        System.getProperty(&quot;java.home&quot;) + sep + &quot;conf&quot; +\n                        sep + &quot;accessibility.properties&quot;);\n                    FileInputStream in =\n                        new FileInputStream(propsFile);\n\n                    // Inputstream has been buffered in Properties class\n                    properties.load(in);\n                    in.close();\n                } catch (Exception e) {\n                    // System-wide accessibility properties file does\n                    // not exist;\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19129548,"reputation":1,"user_id":13971784,"display_name":"John D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669059626,"creation_date":1669059626,"answer_id":74524113,"question_id":65600876,"body_markdown":"There are many such exceptions during normal startup of a Java program.  To avoid stopping at each, turn off the generic &quot;Caught Exceptions&quot; breakpoint in your debugger until execution reaches your own code.\r\n","title":"My java program is throwing java.lang.ClassNotFoundException for some AWT classes what do I do?","body":"<p>There are many such exceptions during normal startup of a Java program.  To avoid stopping at each, turn off the generic &quot;Caught Exceptions&quot; breakpoint in your debugger until execution reaches your own code.</p>\n"}],"owner":{"account_id":20381882,"reputation":3,"user_id":14951820,"display_name":"byteAtDawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65603712,"answer_count":2,"score":-1,"last_activity_date":1669059626,"creation_date":1609955489,"question_id":65600876,"body_markdown":"when I ran the Java debugger, I found this &quot;java.lang.ClassNotFoundException: sun/awt/resources/spi/awtProvider&quot; and &quot;java.io.FileNotFoundException: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.6.10-hotspot\\conf\\accessibility.properties (The system cannot find the file specified)&quot; I think I know why, my data storage was running low so I moved my programs to a different drive, is that why it can&#39;t find java API classes? how do I fix this?","title":"My java program is throwing java.lang.ClassNotFoundException for some AWT classes what do I do?","body":"<p>when I ran the Java debugger, I found this &quot;java.lang.ClassNotFoundException: sun/awt/resources/spi/awtProvider&quot; and &quot;java.io.FileNotFoundException: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.6.10-hotspot\\conf\\accessibility.properties (The system cannot find the file specified)&quot; I think I know why, my data storage was running low so I moved my programs to a different drive, is that why it can't find java API classes? how do I fix this?</p>\n"},{"tags":["java","equals","hashcode"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":5,"creation_date":1312560734,"post_id":6959307,"comment_id":8297957,"body_markdown":"No library can take care of `equals` for you - only you know what makes two objects equal.  What IDE are you using that doesn&#39;t generate `hashCode` for you?  And why are you having to do so much maintenance on `equals` and `hashCode`?","body":"No library can take care of <code>equals</code> for you - only you know what makes two objects equal.  What IDE are you using that doesn&#39;t generate <code>hashCode</code> for you?  And why are you having to do so much maintenance on <code>equals</code> and <code>hashCode</code>?"},{"owner":{"account_id":36964,"reputation":126505,"user_id":105570,"accept_rate":67,"display_name":"Dan Tao"},"score":1,"creation_date":1312561602,"post_id":6959307,"comment_id":8298182,"body_markdown":"I understand that in the Java community it&#39;s common to implement these methods for basically every POJO, but I have to ask: are you actually using all of your POJO types as keys in hash tables? Are you comparing them for equality? If not, then why even bother?","body":"I understand that in the Java community it&#39;s common to implement these methods for basically every POJO, but I have to ask: are you actually using all of your POJO types as keys in hash tables? Are you comparing them for equality? If not, then why even bother?"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1312563264,"post_id":6959307,"comment_id":8298637,"body_markdown":"@Paul - NetBeans, and it generates; only, I have to re-generate every time, and also it makes 10&#39;s of lines of code. Also, the lib could use reflection when generating, so why couldn&#39;t it handle equals?","body":"@Paul - NetBeans, and it generates; only, I have to re-generate every time, and also it makes 10&#39;s of lines of code. Also, the lib could use reflection when generating, so why couldn&#39;t it handle equals?"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1312563401,"post_id":6959307,"comment_id":8298672,"body_markdown":"@Dan - well, I don&#39;t, but various frameworks do - e.g. web frameworks. Keeping track of what instance gets where and when may be difficult in an app with many paradigms used - with all that caching, injection, serialization in components between requests...","body":"@Dan - well, I don&#39;t, but various frameworks do - e.g. web frameworks. Keeping track of what instance gets where and when may be difficult in an app with many paradigms used - with all that caching, injection, serialization in components between requests..."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1386352080,"post_id":6959307,"comment_id":30517050,"body_markdown":"@OndraŽižka: Java&#39;s expressiveness is limited by the lack of any declarative distinction between a reference which encapsulates the *state* of an unshared mutable or sharable  immutable object, and one which encapsulates the *identity* of a shared object.  References which are used to encapsulate state should match if the *states* of the identified objects match.  By contrast, those which encapsulate identity should only match if they identify the *same* object.  To define an equivalence relation, one must know the purpose of the things being compared.","body":"@OndraŽižka: Java&#39;s expressiveness is limited by the lack of any declarative distinction between a reference which encapsulates the <i>state</i> of an unshared mutable or sharable  immutable object, and one which encapsulates the <i>identity</i> of a shared object.  References which are used to encapsulate state should match if the <i>states</i> of the identified objects match.  By contrast, those which encapsulate identity should only match if they identify the <i>same</i> object.  To define an equivalence relation, one must know the purpose of the things being compared."},{"owner":{"account_id":1291135,"reputation":2869,"user_id":2587343,"display_name":"Vlastimil Ovč&#225;č&#237;k"},"score":0,"creation_date":1455215259,"post_id":6959307,"comment_id":58401477,"body_markdown":"How can you *&quot;prefer bytecode instrumentation over AOP approach&quot;* when AOP is based on bytecode instrumentation? Did you mean compile-time vs load-time instrumentation?","body":"How can you <i>&quot;prefer bytecode instrumentation over AOP approach&quot;</i> when AOP is based on bytecode instrumentation? Did you mean compile-time vs load-time instrumentation?"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":1,"creation_date":1519833252,"post_id":6959307,"comment_id":85071831,"body_markdown":"@VlastimilOvč&#225;č&#237;k Yes, I think it&#39;s clear from the context: I prefer Lombok way rather than AOP way.","body":"@VlastimilOvč&#225;č&#237;k Yes, I think it&#39;s clear from the context: I prefer Lombok way rather than AOP way."}],"answers":[{"tags":[],"owner":{"account_id":77528,"reputation":30998,"user_id":221213,"accept_rate":93,"display_name":"KARASZI Istv&#225;n"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467103348,"creation_date":1312560813,"answer_id":6959336,"question_id":6959307,"body_markdown":"What about [Guava][1]&#39;s [`Objects.hashCode`][2] and [`Objects.equal`][3]?\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Objects.html#hashCode(java.lang.Object...)\r\n  [3]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Objects.html#equal(java.lang.Object,%20java.lang.Object)","title":"Java: Automatic equals() and hashCode()","body":"<p>What about <a href=\"https://github.com/google/guava\" rel=\"nofollow\">Guava</a>'s <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Objects.html#hashCode(java.lang.Object...)\" rel=\"nofollow\"><code>Objects.hashCode</code></a> and <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Objects.html#equal(java.lang.Object,%20java.lang.Object)\" rel=\"nofollow\"><code>Objects.equal</code></a>?</p>\n"},{"tags":[],"owner":{"account_id":20634,"reputation":12774,"user_id":49505,"display_name":"joschi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1312560891,"creation_date":1312560891,"answer_id":6959347,"question_id":6959307,"body_markdown":"[Project Lombok][1] provides the annotation [@EqualsAndHashCode][2] which will generate `equals()` and `hashCode()` for your Java classes. Of course there are some drawbacks in comparison to manually implementing these methods, so make sure you read the &quot;small print&quot; on the linked page.\r\n\r\n\r\n  [1]: http://projectlombok.org/\r\n  [2]: http://projectlombok.org/features/EqualsAndHashCode.html","title":"Java: Automatic equals() and hashCode()","body":"<p><a href=\"http://projectlombok.org/\" rel=\"noreferrer\">Project Lombok</a> provides the annotation <a href=\"http://projectlombok.org/features/EqualsAndHashCode.html\" rel=\"noreferrer\">@EqualsAndHashCode</a> which will generate <code>equals()</code> and <code>hashCode()</code> for your Java classes. Of course there are some drawbacks in comparison to manually implementing these methods, so make sure you read the \"small print\" on the linked page.</p>\n"},{"tags":[],"owner":{"account_id":268636,"reputation":8124,"user_id":557500,"display_name":"rfeak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312561447,"creation_date":1312561447,"answer_id":6959467,"question_id":6959307,"body_markdown":"The Apache commons-lang library has a HashCodeBuilder and EqualsBuilder that will do some of the work for you and shorten those methods. There are even reflection versions that will do it all for you based on the fields in the POJOs. However, I wouldn&#39;t recommend that. Reflection can be slow (though not as bad as many think), and you should implement them to be sure that only the correct fields are considered for equality.\r\n\r\nMy question is, do you really need to do this? Often hashcode and equals on POJOs only need to be implemented for use with Maps or Sets. In the case of Maps, usually you would use an ID for a key, which isn&#39;t the Pojo itself. So, .... are you making work for yourself?","title":"Java: Automatic equals() and hashCode()","body":"<p>The Apache commons-lang library has a HashCodeBuilder and EqualsBuilder that will do some of the work for you and shorten those methods. There are even reflection versions that will do it all for you based on the fields in the POJOs. However, I wouldn't recommend that. Reflection can be slow (though not as bad as many think), and you should implement them to be sure that only the correct fields are considered for equality.</p>\n\n<p>My question is, do you really need to do this? Often hashcode and equals on POJOs only need to be implemented for use with Maps or Sets. In the case of Maps, usually you would use an ID for a key, which isn't the Pojo itself. So, .... are you making work for yourself?</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411723362,"creation_date":1411723362,"answer_id":26056196,"question_id":6959307,"body_markdown":"You can use Google&#39;s **[AutoValue][1]** library to automatically generate immutable value classes with `equals` and `hashCode`. These value classes are somewhat similar to Scala&#39;s case classes or those generated by Lombok. \r\n\r\nThere&#39;s also a [post][2] on how to use it in an IDE.\r\n\r\n  [1]: https://github.com/google/auto/tree/master/value\r\n  [2]: http://www.codeaffine.com/2014/03/04/using-the-autovalue-code-generator-in-eclipse/","title":"Java: Automatic equals() and hashCode()","body":"<p>You can use Google's <strong><a href=\"https://github.com/google/auto/tree/master/value\" rel=\"nofollow\">AutoValue</a></strong> library to automatically generate immutable value classes with <code>equals</code> and <code>hashCode</code>. These value classes are somewhat similar to Scala's case classes or those generated by Lombok. </p>\n\n<p>There's also a <a href=\"http://www.codeaffine.com/2014/03/04/using-the-autovalue-code-generator-in-eclipse/\" rel=\"nofollow\">post</a> on how to use it in an IDE.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1669058938,"creation_date":1538684436,"answer_id":52654575,"question_id":6959307,"body_markdown":"# `Objects.hashCode` &amp; `Objects.hash` \r\n\r\nWhile not the panacea you requested, writing the `hashCode` override is a bit easier now as of Java 7 and later.\r\n\r\nAs of [Java 7][1], the [`Objects`][2] class offers a couple of utility methods for generating hash code values.\r\n\r\nSee [my Answer][3] on a related Question for more discussion.\r\n\r\n - If your `hashCode` (and `equals`) override is based on a single member of your class, use [`Objects.hashCode( member )`][4]. \r\n - If your `hashCode` (and `equals`) override is based on multiple attribute of your class, use [`Objects.hash( memberA , memberB , memberC )`][5]. \r\n\r\n### Single member, not tolerating a NULL\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return this.member.hashCode() ;  // Throws NullPointerException if member variable is null.\r\n    }\r\n\r\n### Single member, tolerating a NULL\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hashCode( this.member ) ;  // Returns zero (0) if `this.member` is NULL, rather than throwing exception.\r\n    }\r\n\r\n### Multi-member\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash( this.memberA , this.memberB , this.memberC  ) ;  // Hashes the result of all the passed objects’ individual hash codes.  \r\n    }\r\n\r\n\r\n----------\r\n\r\nFor an automatically generated `hashCode` &amp; `equals` use a record, as discussed in [my other Answer][6].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_7\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html\r\n  [3]: https://stackoverflow.com/a/52654058/642706\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hashCode(java.lang.Object)\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hash(java.lang.Object...)\r\n  [6]: https://stackoverflow.com/a/72142785/642706","title":"Java: Automatic equals() and hashCode()","body":"<h1><code>Objects.hashCode</code> &amp; <code>Objects.hash</code></h1>\n<p>While not the panacea you requested, writing the <code>hashCode</code> override is a bit easier now as of Java 7 and later.</p>\n<p>As of <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_7\" rel=\"nofollow noreferrer\">Java 7</a>, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html\" rel=\"nofollow noreferrer\"><code>Objects</code></a> class offers a couple of utility methods for generating hash code values.</p>\n<p>See <a href=\"https://stackoverflow.com/a/52654058/642706\">my Answer</a> on a related Question for more discussion.</p>\n<ul>\n<li>If your <code>hashCode</code> (and <code>equals</code>) override is based on a single member of your class, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Objects.hashCode( member )</code></a>.</li>\n<li>If your <code>hashCode</code> (and <code>equals</code>) override is based on multiple attribute of your class, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hash(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>Objects.hash( memberA , memberB , memberC )</code></a>.</li>\n</ul>\n<h3>Single member, not tolerating a NULL</h3>\n<pre><code>@Override\npublic int hashCode() {\n    return this.member.hashCode() ;  // Throws NullPointerException if member variable is null.\n}\n</code></pre>\n<h3>Single member, tolerating a NULL</h3>\n<pre><code>@Override\npublic int hashCode() {\n    return Objects.hashCode( this.member ) ;  // Returns zero (0) if `this.member` is NULL, rather than throwing exception.\n}\n</code></pre>\n<h3>Multi-member</h3>\n<pre><code>@Override\npublic int hashCode() {\n    return Objects.hash( this.memberA , this.memberB , this.memberC  ) ;  // Hashes the result of all the passed objects’ individual hash codes.  \n}\n</code></pre>\n<hr />\n<p>For an automatically generated <code>hashCode</code> &amp; <code>equals</code> use a record, as discussed in <a href=\"https://stackoverflow.com/a/72142785/642706\">my other Answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669059029,"creation_date":1651845844,"answer_id":72142785,"question_id":6959307,"body_markdown":"# Records\r\n\r\n[Java 16][1] gained a new feature, [records][2]. \r\n\r\nIf the main purpose of your class is to *communicate data transparently and immutably*, write the class as a record. \r\n\r\nBy default, you need do nothing more than declare the member fields. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\n\r\n    record Person ( String givenName , String surname ) {}\r\n\r\n    record Point ( int x , int y ) {}\r\n\r\n    record User ( UUID id, String name ) {}\r\n\r\nThe default behavior of a record’s `equals` &amp; `hashCode` is to consider each and every member field. You can override to provide your own logic. \r\n\r\nI highly recommend reading the Java JEP linked above. You’ll learn that the purpose of the *record* feature is *not* a reduction in boilerplate. Less code is a nice extra benefit. But if you choose `record` only for  less typing, you’ll likely be abusing the feature. Such abuse may confuse people reading your code, and may lead to other problems. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_16\r\n  [2]: https://openjdk.java.net/jeps/395","title":"Java: Automatic equals() and hashCode()","body":"<h1>Records</h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_16\" rel=\"nofollow noreferrer\">Java 16</a> gained a new feature, <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a>.</p>\n<p>If the main purpose of your class is to <em>communicate data transparently and immutably</em>, write the class as a record.</p>\n<p>By default, you need do nothing more than declare the member fields. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre><code>record Person ( String givenName , String surname ) {}\n\nrecord Point ( int x , int y ) {}\n\nrecord User ( UUID id, String name ) {}\n</code></pre>\n<p>The default behavior of a record’s <code>equals</code> &amp; <code>hashCode</code> is to consider each and every member field. You can override to provide your own logic.</p>\n<p>I highly recommend reading the Java JEP linked above. You’ll learn that the purpose of the <em>record</em> feature is <em>not</em> a reduction in boilerplate. Less code is a nice extra benefit. But if you choose <code>record</code> only for  less typing, you’ll likely be abusing the feature. Such abuse may confuse people reading your code, and may lead to other problems.</p>\n"}],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14524,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":6959347,"answer_count":6,"score":23,"last_activity_date":1669059029,"creation_date":1312560629,"question_id":6959307,"body_markdown":"Implementing `equals()` and `hashCode()` for simple data POJOs is cluttering my code and maintaining is tedious.\r\n\r\nWhat are the libraries handling this automatically?  \r\nI prefer bytecode instrumentation over AOP approach due to performance reasons.\r\n\r\n**Update:** The topic of the necessity of implementing equals() and hashCode() has been discussed, here&#39;s my point:\r\n\r\nIsn&#39;t it better to have it done right upfront with minimal effort rather than digging in the code, adding hC/eq when it comes to it?\r\n\r\n**Edit 2022:** I have switched to Kotlin. Kotlin takes care of most of Java&#39;s boilerplate, see this page for the case of `equals()`: https://tedblob.com/kotlin-data-class/","title":"Java: Automatic equals() and hashCode()","body":"<p>Implementing <code>equals()</code> and <code>hashCode()</code> for simple data POJOs is cluttering my code and maintaining is tedious.</p>\n<p>What are the libraries handling this automatically?<br />\nI prefer bytecode instrumentation over AOP approach due to performance reasons.</p>\n<p><strong>Update:</strong> The topic of the necessity of implementing equals() and hashCode() has been discussed, here's my point:</p>\n<p>Isn't it better to have it done right upfront with minimal effort rather than digging in the code, adding hC/eq when it comes to it?</p>\n<p><strong>Edit 2022:</strong> I have switched to Kotlin. Kotlin takes care of most of Java's boilerplate, see this page for the case of <code>equals()</code>: <a href=\"https://tedblob.com/kotlin-data-class/\" rel=\"nofollow noreferrer\">https://tedblob.com/kotlin-data-class/</a></p>\n"},{"tags":["java","spring-boot","cassandra","spring-data","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":26956983,"reputation":11,"user_id":20525175,"display_name":"Andrew Orlowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669058126,"creation_date":1669058108,"answer_id":74523863,"question_id":74468974,"body_markdown":"I guess CassandraRepository does not have an @EntityManager. Instead, I found it was possible to autowire a CassandraOperations:\r\n\r\n```\r\n@Autowired\r\nprivate CassandraOperations cassandraTemplate;\r\n```","title":"Bean of type EntityManagerFactory could not be found","body":"<p>I guess CassandraRepository does not have an @EntityManager. Instead, I found it was possible to autowire a CassandraOperations:</p>\n<pre><code>@Autowired\nprivate CassandraOperations cassandraTemplate;\n</code></pre>\n"}],"owner":{"account_id":26956983,"reputation":11,"user_id":20525175,"display_name":"Andrew Orlowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669058126,"creation_date":1668646833,"question_id":74468974,"body_markdown":"I have the following Repositories:\r\n\r\n\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends CassandraRepository&lt;User, String&gt;, UserFilteringRepository {\r\n\r\n}\r\n```\r\n```\r\npublic interface UserFilteringRepository {\r\n    List&lt;User&gt; findWithFilters(String userId);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npublic class UserFilteringRepositoryImpl implements UserFilteringRepository {\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public List&lt;User&gt; findWithFilters(String userId) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nBefore I attempted to gain access to the EntityManager, the application was working fine. The Repository was able to create, delete, get, etc for Entities.\r\n\r\nHowever, adding the UserFilteringRepository and UserFilteringRepositoryImpl causes the following Exception on bootstrap:\r\n\r\n```\r\nField userRepository in serverUserService required a bean of type &#39;javax.persistence.EntityManagerFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;javax.persistence.EntityManagerFactory&#39; in your configuration.\r\n```\r\n\r\nI am using the spring-boot-starter maven dependencies &amp; do not have an explicit hibernate dependency anywhere.\r\n\r\nMy understanding is that the Repository uses the EntityManager underneath, so I&#39;m not sure why the bean isn&#39;t there given that the Repository on its own is working fine.\r\n\r\nI have tried:\r\n\r\n1. Specifying a different Hibernate version in Maven\r\n2. Using @PersistenceUnit instead of @PersistenceContext to try to get direct access to the EMF\r\n\r\n","title":"Bean of type EntityManagerFactory could not be found","body":"<p>I have the following Repositories:</p>\n<pre><code>@Repository\npublic interface UserRepository extends CassandraRepository&lt;User, String&gt;, UserFilteringRepository {\n\n}\n</code></pre>\n<pre><code>public interface UserFilteringRepository {\n    List&lt;User&gt; findWithFilters(String userId);\n}\n\n</code></pre>\n<pre><code>public class UserFilteringRepositoryImpl implements UserFilteringRepository {\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    public List&lt;User&gt; findWithFilters(String userId) {\n        return null;\n    }\n}\n</code></pre>\n<p>Before I attempted to gain access to the EntityManager, the application was working fine. The Repository was able to create, delete, get, etc for Entities.</p>\n<p>However, adding the UserFilteringRepository and UserFilteringRepositoryImpl causes the following Exception on bootstrap:</p>\n<pre><code>Field userRepository in serverUserService required a bean of type 'javax.persistence.EntityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'javax.persistence.EntityManagerFactory' in your configuration.\n</code></pre>\n<p>I am using the spring-boot-starter maven dependencies &amp; do not have an explicit hibernate dependency anywhere.</p>\n<p>My understanding is that the Repository uses the EntityManager underneath, so I'm not sure why the bean isn't there given that the Repository on its own is working fine.</p>\n<p>I have tried:</p>\n<ol>\n<li>Specifying a different Hibernate version in Maven</li>\n<li>Using @PersistenceUnit instead of @PersistenceContext to try to get direct access to the EMF</li>\n</ol>\n"},{"tags":["java","math.round"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1669054283,"post_id":74523170,"comment_id":131551133,"body_markdown":"There’s no sense in rounding an integer to an integer. An integer is already an integer. Consequently, there is no `round(int)` method. You are calling `round(float)`, implicitly converting the value to `float` and back to `int`. Not different to, e.g. `System.out.println(&quot;roundOff1: &quot;+(int)(float)1669053278);`","body":"There’s no sense in rounding an integer to an integer. An integer is already an integer. Consequently, there is no <code>round(int)</code> method. You are calling <code>round(float)</code>, implicitly converting the value to <code>float</code> and back to <code>int</code>. Not different to, e.g. <code>System.out.println(&quot;roundOff1: &quot;+(int)(float)1669053278);</code>"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1669054565,"post_id":74523170,"comment_id":131551220,"body_markdown":"Missing? Yes, implicit type conversion from int to float. Converting that integer to float causes loss of precision. Assign the integer to a float and then print it using %f. Then you&#39;ll get it.","body":"Missing? Yes, implicit type conversion from int to float. Converting that integer to float causes loss of precision. Assign the integer to a float and then print it using %f. Then you&#39;ll get it."}],"answers":[{"tags":[],"owner":{"display_name":"user20331188"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669054797,"creation_date":1669054797,"answer_id":74523289,"question_id":74523170,"body_markdown":"int values dont have decimal places so they cant be rounded  so u need to add an extra parametre to round method \r\neg to round to nearest 10 you can use \r\n\r\n     Math. round(num/10.0) * 10;","title":"Java: Math.round function not working with integer","body":"<p>int values dont have decimal places so they cant be rounded  so u need to add an extra parametre to round method\neg to round to nearest 10 you can use</p>\n<pre><code> Math. round(num/10.0) * 10;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669055068,"creation_date":1669055068,"answer_id":74523344,"question_id":74523170,"body_markdown":"    public static void main(String[] args) {\r\n    \r\n        System.out.println(&quot;roundOff1: &quot; + Math.round(1669053278d));\r\n        System.out.println(&quot;roundOff2: &quot; + Math.round(1669053304d));\r\n        System.out.println(&quot;roundOff3: &quot; + Math.round(1669053314d));\r\n        System.out.println(&quot;roundOff4: &quot; + Math.round(1669053339d));\r\n    }\r\n\r\nYou need to use double value as shown above. Math.round(double) return long. But Math.round(float) returns int. By default, your code was using Math.round(float) &amp; the result value was out of int range. That was the issue\r\n\r\n","title":"Java: Math.round function not working with integer","body":"<pre><code>public static void main(String[] args) {\n\n    System.out.println(&quot;roundOff1: &quot; + Math.round(1669053278d));\n    System.out.println(&quot;roundOff2: &quot; + Math.round(1669053304d));\n    System.out.println(&quot;roundOff3: &quot; + Math.round(1669053314d));\n    System.out.println(&quot;roundOff4: &quot; + Math.round(1669053339d));\n}\n</code></pre>\n<p>You need to use double value as shown above. Math.round(double) return long. But Math.round(float) returns int. By default, your code was using Math.round(float) &amp; the result value was out of int range. That was the issue</p>\n"},{"tags":[],"owner":{"account_id":27004989,"reputation":1,"user_id":20565623,"display_name":"RadAstronomer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669055693,"creation_date":1669055693,"answer_id":74523449,"question_id":74523170,"body_markdown":"The reason why it does not work in your case is because the rounding function can only optimally work **if your data is a decimal!**\r\n**Your numerical data are whole numbers** (numbers without a decimal). **As a result, the Math.round function will not work!**\r\nSo, to use the Math.round function correctly, you have to have decimal numericals as your data.\r\n\r\nTo illustrate this, I have written your code and added decimals to showcase you the optimal output of the Math.round() on Java:\r\n\r\n    import java.lang.Math; \r\n    class RoundingNumbers{\r\n    public static void main(String[] args){\r\n    double first_parameter = 1669053278.3;\r\n    System.out.println(&quot;roundOff1: &quot; + Math.round(first_parameter));\r\n    double second_parameter = 1669053304.8;\r\n    System.out.println(&quot;roundOff2: &quot; + Math.round(second_parameter));\r\n    double third_parameter = 1669053314.8;\r\n    System.out.println(&quot;roundOff3: &quot; + Math.round(third_parameter));\r\n    double fourth_parameter = 1669053339.5;\r\n    System.out.println(&quot;roundOff4: &quot; + Math.round(fourth_parameter));\r\n    }\r\n\r\n","title":"Java: Math.round function not working with integer","body":"<p>The reason why it does not work in your case is because the rounding function can only optimally work <strong>if your data is a decimal!</strong>\n<strong>Your numerical data are whole numbers</strong> (numbers without a decimal). <strong>As a result, the Math.round function will not work!</strong>\nSo, to use the Math.round function correctly, you have to have decimal numericals as your data.</p>\n<p>To illustrate this, I have written your code and added decimals to showcase you the optimal output of the Math.round() on Java:</p>\n<pre><code>import java.lang.Math; \nclass RoundingNumbers{\npublic static void main(String[] args){\ndouble first_parameter = 1669053278.3;\nSystem.out.println(&quot;roundOff1: &quot; + Math.round(first_parameter));\ndouble second_parameter = 1669053304.8;\nSystem.out.println(&quot;roundOff2: &quot; + Math.round(second_parameter));\ndouble third_parameter = 1669053314.8;\nSystem.out.println(&quot;roundOff3: &quot; + Math.round(third_parameter));\ndouble fourth_parameter = 1669053339.5;\nSystem.out.println(&quot;roundOff4: &quot; + Math.round(fourth_parameter));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669058111,"creation_date":1669057087,"answer_id":74523694,"question_id":74523170,"body_markdown":"Try using `java.time.Instant` to accomplish your rounding of system time as in:\r\n\r\n    // the getEpochSecond() truncates - so add 500 millis first\r\n    long roundedSecs = Instant.now().plusMillis(500).getEpochSecond();\r\n\r\nAnd a demo program:\r\n\r\n    // use a loop iterating every 250millis to demonstrate rounding\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Instant nowTime = Instant.now();\r\n            long b4 = nowTime.getEpochSecond();\r\n            \r\n            nowTime = nowTime.plusMillis(500);\r\n\r\n           long result = nowTime.getEpochSecond();\r\n           System.out.println(&quot;b4: &quot;+b4+&quot; after:&quot;+result);\r\n           Thread.sleep(250);\r\n        }\r\n        } catch (Exception e) {}\r\n    }\r\n\r\nPrints:\r\n\r\n    b4: 1669056744 after:1669056744\r\n    b4: 1669056744 after:1669056745\r\n    b4: 1669056745 after:1669056745\r\n    b4: 1669056745 after:1669056746\r\n    b4: 1669056745 after:1669056746\r\n    b4: 1669056746 after:1669056746\r\n    b4: 1669056746 after:1669056746\r\n    b4: 1669056746 after:1669056747\r\n    b4: 1669056746 after:1669056747\r\n    b4: 1669056747 after:1669056747\r\n\r\n","title":"Java: Math.round function not working with integer","body":"<p>Try using <code>java.time.Instant</code> to accomplish your rounding of system time as in:</p>\n<pre><code>// the getEpochSecond() truncates - so add 500 millis first\nlong roundedSecs = Instant.now().plusMillis(500).getEpochSecond();\n</code></pre>\n<p>And a demo program:</p>\n<pre><code>// use a loop iterating every 250millis to demonstrate rounding\n\npublic static void main(String[] args) {\n    try {\n    for (int i = 0; i &lt; 10; i++) {\n        Instant nowTime = Instant.now();\n        long b4 = nowTime.getEpochSecond();\n        \n        nowTime = nowTime.plusMillis(500);\n\n       long result = nowTime.getEpochSecond();\n       System.out.println(&quot;b4: &quot;+b4+&quot; after:&quot;+result);\n       Thread.sleep(250);\n    }\n    } catch (Exception e) {}\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>b4: 1669056744 after:1669056744\nb4: 1669056744 after:1669056745\nb4: 1669056745 after:1669056745\nb4: 1669056745 after:1669056746\nb4: 1669056745 after:1669056746\nb4: 1669056746 after:1669056746\nb4: 1669056746 after:1669056746\nb4: 1669056746 after:1669056747\nb4: 1669056746 after:1669056747\nb4: 1669056747 after:1669056747\n</code></pre>\n"}],"owner":{"account_id":10784581,"reputation":193,"user_id":7934026,"display_name":"Aayush Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1669058111,"creation_date":1669054059,"question_id":74523170,"body_markdown":"Looks like there is issue with java&#39;s `Math.round` function, when passing integer value to it.\r\nI ran it for couple of inputs but giving suprisingly wrong results.\r\n\r\nSample Code: \r\n\r\n```\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;roundOff1: &quot; + Math.round(1669053278));\r\n        System.out.println(&quot;roundOff2: &quot; + Math.round(1669053304));\r\n        System.out.println(&quot;roundOff3: &quot; + Math.round(1669053314));\r\n        System.out.println(&quot;roundOff4: &quot; + Math.round(1669053339));\r\n    }\r\n\r\n```\r\n\r\nStdout: \r\n```\r\nroundOff1: 1669053312\r\nroundOff2: 1669053312\r\nroundOff3: 1669053312\r\nroundOff4: 1669053312\r\n\r\n```\r\n\r\nMy use case was to round of the `System.currentTimeMillis()/1000` but end in getting wrong result. \r\nDid I really found a bug in Java or missing something here?","title":"Java: Math.round function not working with integer","body":"<p>Looks like there is issue with java's <code>Math.round</code> function, when passing integer value to it.\nI ran it for couple of inputs but giving suprisingly wrong results.</p>\n<p>Sample Code:</p>\n<pre><code>    public static void main(String[] args) {\n        System.out.println(&quot;roundOff1: &quot; + Math.round(1669053278));\n        System.out.println(&quot;roundOff2: &quot; + Math.round(1669053304));\n        System.out.println(&quot;roundOff3: &quot; + Math.round(1669053314));\n        System.out.println(&quot;roundOff4: &quot; + Math.round(1669053339));\n    }\n\n</code></pre>\n<p>Stdout:</p>\n<pre><code>roundOff1: 1669053312\nroundOff2: 1669053312\nroundOff3: 1669053312\nroundOff4: 1669053312\n\n</code></pre>\n<p>My use case was to round of the <code>System.currentTimeMillis()/1000</code> but end in getting wrong result.\nDid I really found a bug in Java or missing something here?</p>\n"},{"tags":["java","css","image","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668831614,"post_id":74497415,"comment_id":131507473,"body_markdown":"An image is a resource, not source, so put it in the resources folder.  If you put it in the same folder as the css, you should be able to reference it by name without  folders the path.","body":"An image is a resource, not source, so put it in the resources folder.  If you put it in the same folder as the css, you should be able to reference it by name without  folders the path."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668831678,"post_id":74497415,"comment_id":131507478,"body_markdown":"See the [eden resource guide](https://edencoding.com/where-to-put-resource-files-in-javafx/).","body":"See the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">eden resource guide</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668831910,"post_id":74497415,"comment_id":131507489,"body_markdown":"You should never have `src/main/java` in a resource lookup string, that is a path in your project source, not your runtime execution resource path.","body":"You should never have <code>src&#47;main&#47;java</code> in a resource lookup string, that is a path in your project source, not your runtime execution resource path."}],"answers":[{"tags":[],"owner":{"account_id":26541748,"reputation":11,"user_id":20172384,"display_name":"Alex Javier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668844926,"creation_date":1668834510,"answer_id":74497698,"question_id":74497415,"body_markdown":"Moving the image to the resources folder and replacing the path string with just the name of the file seems to have fixed the issue. Thanks @jewelsea!\r\n\r\nHere are the modifications for reference. \r\n\r\n    .root{\r\n        -fx-font-family: &#39;JetBrains Mono&#39;;\r\n        -fx-font-size: 10px;\r\n        -fx-background-image: url(&quot;16copia.jpg&quot;);\r\n        -fx-background-size: stretch;    \r\n    }\r\n\r\nMoved `16copia.jpg` to resources folder:\r\n\r\n[![tree][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gpgG7.png\r\n","title":"JavaFX + CSS Style Sheet Background Image Won&#39;t Load (No FXML or SceneBuilder)","body":"<p>Moving the image to the resources folder and replacing the path string with just the name of the file seems to have fixed the issue. Thanks @jewelsea!</p>\n<p>Here are the modifications for reference.</p>\n<pre><code>.root{\n    -fx-font-family: 'JetBrains Mono';\n    -fx-font-size: 10px;\n    -fx-background-image: url(&quot;16copia.jpg&quot;);\n    -fx-background-size: stretch;    \n}\n</code></pre>\n<p>Moved <code>16copia.jpg</code> to resources folder:</p>\n<p><a href=\"https://i.stack.imgur.com/gpgG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpgG7.png\" alt=\"tree\" /></a></p>\n"}],"owner":{"account_id":26541748,"reputation":11,"user_id":20172384,"display_name":"Alex Javier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668845039,"answer_count":1,"score":0,"last_activity_date":1669058055,"creation_date":1668829910,"question_id":74497415,"body_markdown":"I&#39;m still pretty new to JavaFX, but I discovered style sheets recently and found that you can use it to set the design of your application. I wanted to see if I could change the background of my app to an image. This is my current project setup:\r\n\r\n`16copia.jpg` is what I want to set the background to.\r\n\r\n[![tree][1]][1]\r\n\r\nAnd this is my style.css setup. \r\n\r\n    .root{\r\n        -fx-font-family: &#39;JetBrains Mono&#39;;\r\n        -fx-font-size: 10px;\r\n        -fx-background-image: url(&quot;16copia.jpg&quot;);\r\n        -fx-background-repeat: no-repeat;\r\n        -fx-background-size: stretch;\r\n    \r\n    }\r\n    .button{\r\n        -fx-base:lightblue;\r\n    }\r\n    .label {\r\n        -fx-text-fill: lightblue;\r\n    }\r\n\r\nIn my main class, I added the style sheet to my main scene. Also tried using root.setStyle, but to no avail.\r\n\r\n    public void start(Stage stage){\r\n        stage.setTitle(&quot;Calculator App&quot;);\r\n        genMenuBar();\r\n        setFunctionality();\r\n\r\n        Scene mainScene = new Scene(root, 300, 500);\r\n        root.setBottom(calcView);\r\n        root.setCenter(displayView);\r\n        mainScene.getStylesheets().add(&quot;style.css&quot;);\r\n        stage.setScene(mainScene);\r\n        stage.show();\r\n        //root.setStyle(&quot;-fx-background-image: url(&#39;src/main/java/calculator/app/16copia.jpg&#39;);&quot;);\r\n    }\r\n\r\n\r\n\r\nWhen I run the program, all of the CSS styling except for the image is applied. \r\n\r\nNot meant to be the final look, mostly just experimenting with style sheets:\r\n\r\n[![screen][2]][2]\r\n\r\nThe program runs with no errors, but the bug persists. I&#39;d prefer to stick to CSS styling if possible. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wSZP0.png\r\n  [2]: https://i.stack.imgur.com/yj7A6.png\r\n","title":"JavaFX + CSS Style Sheet Background Image Won&#39;t Load (No FXML or SceneBuilder)","body":"<p>I'm still pretty new to JavaFX, but I discovered style sheets recently and found that you can use it to set the design of your application. I wanted to see if I could change the background of my app to an image. This is my current project setup:</p>\n<p><code>16copia.jpg</code> is what I want to set the background to.</p>\n<p><a href=\"https://i.stack.imgur.com/wSZP0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wSZP0.png\" alt=\"tree\" /></a></p>\n<p>And this is my style.css setup.</p>\n<pre><code>.root{\n    -fx-font-family: 'JetBrains Mono';\n    -fx-font-size: 10px;\n    -fx-background-image: url(&quot;16copia.jpg&quot;);\n    -fx-background-repeat: no-repeat;\n    -fx-background-size: stretch;\n\n}\n.button{\n    -fx-base:lightblue;\n}\n.label {\n    -fx-text-fill: lightblue;\n}\n</code></pre>\n<p>In my main class, I added the style sheet to my main scene. Also tried using root.setStyle, but to no avail.</p>\n<pre><code>public void start(Stage stage){\n    stage.setTitle(&quot;Calculator App&quot;);\n    genMenuBar();\n    setFunctionality();\n\n    Scene mainScene = new Scene(root, 300, 500);\n    root.setBottom(calcView);\n    root.setCenter(displayView);\n    mainScene.getStylesheets().add(&quot;style.css&quot;);\n    stage.setScene(mainScene);\n    stage.show();\n    //root.setStyle(&quot;-fx-background-image: url('src/main/java/calculator/app/16copia.jpg');&quot;);\n}\n</code></pre>\n<p>When I run the program, all of the CSS styling except for the image is applied.</p>\n<p>Not meant to be the final look, mostly just experimenting with style sheets:</p>\n<p><a href=\"https://i.stack.imgur.com/yj7A6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yj7A6.png\" alt=\"screen\" /></a></p>\n<p>The program runs with no errors, but the bug persists. I'd prefer to stick to CSS styling if possible.</p>\n"},{"tags":["java","swing","awt","jbutton"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669055709,"post_id":74522988,"comment_id":131551539,"body_markdown":"You could explain what you mean with “fails”, i.e. what did you expect, what did you get instead. Then, you don’t need a filler sentence.","body":"You could explain what you mean with “fails”, i.e. what did you expect, what did you get instead. Then, you don’t need a filler sentence."}],"answers":[{"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669057946,"creation_date":1669057946,"answer_id":74523832,"question_id":74522988,"body_markdown":"Colors of type `ColorUIResource` have a special meaning: they are default colors, installed by LookAndFeel. And they may be interpret by a non-standard way. \r\n\r\nPainting of button performes the current `LookAndFeel`. In your case: `MetalLookAndFeel`, or, more precise `MetalButtonUI`. Painting of button is defined in method `update` as following:\r\n\r\n    public void update(Graphics g, JComponent c) {\r\n        AbstractButton button = (AbstractButton)c;\r\n        if ((c.getBackground() instanceof UIResource) &amp;&amp;\r\n                  button.isContentAreaFilled() &amp;&amp; c.isEnabled()) {\r\n            ButtonModel model = button.getModel();\r\n            if (!MetalUtils.isToolBarButton(c)) {\r\n                if (!model.isArmed() &amp;&amp; !model.isPressed() &amp;&amp;\r\n                        MetalUtils.drawGradient(\r\n                        c, g, &quot;Button.gradient&quot;, 0, 0, c.getWidth(),\r\n                        c.getHeight(), true)) {\r\n                    paint(g, c);\r\n                    return;\r\n                }\r\n            }\r\n            else if (model.isRollover() &amp;&amp; MetalUtils.drawGradient(\r\n                        c, g, &quot;Button.gradient&quot;, 0, 0, c.getWidth(),\r\n                        c.getHeight(), true)) {\r\n                paint(g, c);\r\n                return;\r\n            }\r\n        }\r\n        super.update(g, c);\r\n    }\r\n\r\nAs you can see, if button has background of class ColorUIResource, this method provides painting of foreground only (probably due to performance reasons) by calling of method `paint`. And if you set a normal color as background, you avoid this behavior and call the line `super.update(g, c);` And here is the implementation of this method (defined in class `ComponentUI`):\r\n\r\n    public void update(Graphics g, JComponent c) {\r\n        if (c.isOpaque()) {\r\n            g.setColor(c.getBackground());\r\n            g.fillRect(0, 0, c.getWidth(),c.getHeight());\r\n        }\r\n        paint(g, c);\r\n    }\r\n\r\nConclusion: do not use the class `ColorUIResource`, except you write your own LookAndFeel","title":"Setting button background with UIManager / ColorUIResource","body":"<p>Colors of type <code>ColorUIResource</code> have a special meaning: they are default colors, installed by LookAndFeel. And they may be interpret by a non-standard way.</p>\n<p>Painting of button performes the current <code>LookAndFeel</code>. In your case: <code>MetalLookAndFeel</code>, or, more precise <code>MetalButtonUI</code>. Painting of button is defined in method <code>update</code> as following:</p>\n<pre><code>public void update(Graphics g, JComponent c) {\n    AbstractButton button = (AbstractButton)c;\n    if ((c.getBackground() instanceof UIResource) &amp;&amp;\n              button.isContentAreaFilled() &amp;&amp; c.isEnabled()) {\n        ButtonModel model = button.getModel();\n        if (!MetalUtils.isToolBarButton(c)) {\n            if (!model.isArmed() &amp;&amp; !model.isPressed() &amp;&amp;\n                    MetalUtils.drawGradient(\n                    c, g, &quot;Button.gradient&quot;, 0, 0, c.getWidth(),\n                    c.getHeight(), true)) {\n                paint(g, c);\n                return;\n            }\n        }\n        else if (model.isRollover() &amp;&amp; MetalUtils.drawGradient(\n                    c, g, &quot;Button.gradient&quot;, 0, 0, c.getWidth(),\n                    c.getHeight(), true)) {\n            paint(g, c);\n            return;\n        }\n    }\n    super.update(g, c);\n}\n</code></pre>\n<p>As you can see, if button has background of class ColorUIResource, this method provides painting of foreground only (probably due to performance reasons) by calling of method <code>paint</code>. And if you set a normal color as background, you avoid this behavior and call the line <code>super.update(g, c);</code> And here is the implementation of this method (defined in class <code>ComponentUI</code>):</p>\n<pre><code>public void update(Graphics g, JComponent c) {\n    if (c.isOpaque()) {\n        g.setColor(c.getBackground());\n        g.fillRect(0, 0, c.getWidth(),c.getHeight());\n    }\n    paint(g, c);\n}\n</code></pre>\n<p>Conclusion: do not use the class <code>ColorUIResource</code>, except you write your own LookAndFeel</p>\n"}],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74523832,"answer_count":1,"score":2,"last_activity_date":1669057946,"creation_date":1669053056,"question_id":74522988,"body_markdown":"Can anybody tell me, why in the following code setting a button&#39;s background fails when using a color retrieved from UIManager?&lt;br&gt;\r\n[This question is obviously too short to be accepted by Stackoverflow, but I have no more details to present.]\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport javax.swing.plaf.*;\r\n\r\npublic class BackgroundColor extends JFrame {\r\n  public BackgroundColor() {\r\n    setSize(400,300);\r\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    setLayout(new GridLayout(0, 1, 0, 5));\r\n    setLocationRelativeTo(null);\r\n\r\n    JButton b= new JButton(&quot;Default&quot;);\r\n    add(b);\r\n    b= new JButton(&quot;&quot;+Color.RED);\r\n    b.setBackground(Color.RED);\r\n    add(b);\r\n    b= new JButton(&quot;Failed: &quot;+new ColorUIResource(255, 0, 0)); // RED\r\n    b.setBackground(new ColorUIResource(255, 0, 0));\r\n    add(b);\r\n    b= new JButton(&quot;Failed: &quot;+UIManager.getColor(&quot;MenuItem.background&quot;));\r\n    b.setBackground(UIManager.getColor(&quot;MenuItem.background&quot;));\r\n    add(b);\r\n    b= new JButton(&quot;Failed: &quot;+UIManager.getColor(&quot;menu&quot;));\r\n    b.setBackground(UIManager.getColor(&quot;menu&quot;));\r\n    add(b);\r\n    b= new JButton(&quot;&quot;+new Color(238, 238, 238));\r\n    b.setBackground(new Color(238, 238, 238));\r\n    add(b);\r\n    setVisible(true);\r\n  }\r\n \r\n \r\n  public static void main(String arg[]) {\r\n    EventQueue.invokeLater(BackgroundColor::new);\r\n  }\r\n}\r\n```\r\n","title":"Setting button background with UIManager / ColorUIResource","body":"<p>Can anybody tell me, why in the following code setting a button's background fails when using a color retrieved from UIManager?<br>\n[This question is obviously too short to be accepted by Stackoverflow, but I have no more details to present.]</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.plaf.*;\n\npublic class BackgroundColor extends JFrame {\n  public BackgroundColor() {\n    setSize(400,300);\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    setLayout(new GridLayout(0, 1, 0, 5));\n    setLocationRelativeTo(null);\n\n    JButton b= new JButton(&quot;Default&quot;);\n    add(b);\n    b= new JButton(&quot;&quot;+Color.RED);\n    b.setBackground(Color.RED);\n    add(b);\n    b= new JButton(&quot;Failed: &quot;+new ColorUIResource(255, 0, 0)); // RED\n    b.setBackground(new ColorUIResource(255, 0, 0));\n    add(b);\n    b= new JButton(&quot;Failed: &quot;+UIManager.getColor(&quot;MenuItem.background&quot;));\n    b.setBackground(UIManager.getColor(&quot;MenuItem.background&quot;));\n    add(b);\n    b= new JButton(&quot;Failed: &quot;+UIManager.getColor(&quot;menu&quot;));\n    b.setBackground(UIManager.getColor(&quot;menu&quot;));\n    add(b);\n    b= new JButton(&quot;&quot;+new Color(238, 238, 238));\n    b.setBackground(new Color(238, 238, 238));\n    add(b);\n    setVisible(true);\n  }\n \n \n  public static void main(String arg[]) {\n    EventQueue.invokeLater(BackgroundColor::new);\n  }\n}\n</code></pre>\n"},{"tags":["java","datetime","date","epoch"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":141,"is_accepted":true,"score":141,"last_activity_date":1523386497,"creation_date":1310606715,"answer_id":6687502,"question_id":6687433,"body_markdown":"This code shows how to use a [java.text.SimpleDateFormat][1] to parse a [java.util.Date][2] from a String:\r\n\r\n\r\n    String str = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\r\n    Date date = df.parse(str);\r\n    long epoch = date.getTime();\r\n    System.out.println(epoch); // 1055545912454\r\n\r\n`Date.getTime()` returns the epoch time in milliseconds.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\r\n","title":"Convert a date format in epoch","body":"<p>This code shows how to use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">java.text.SimpleDateFormat</a> to parse a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"noreferrer\">java.util.Date</a> from a String:</p>\n\n<pre><code>String str = \"Jun 13 2003 23:11:52.454 UTC\";\nSimpleDateFormat df = new SimpleDateFormat(\"MMM dd yyyy HH:mm:ss.SSS zzz\");\nDate date = df.parse(str);\nlong epoch = date.getTime();\nSystem.out.println(epoch); // 1055545912454\n</code></pre>\n\n<p><code>Date.getTime()</code> returns the epoch time in milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1633700761,"creation_date":1434289392,"answer_id":30830088,"question_id":6687433,"body_markdown":"You can also use the Java 8 API\r\n    \r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n\r\n    public class StackoverflowTest{\r\n        public static void main(String args[]){\r\n            String strDate = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\r\n            DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(&quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\r\n            ZonedDateTime     zdt  = ZonedDateTime.parse(strDate,dtf);        \r\n            System.out.println(zdt.toInstant().toEpochMilli());  // 1055545912454  \r\n        }\r\n    }\r\n\r\nThe [`DateTimeFormatter`](http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) class replaces the old [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html). You can then create a [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) from which you can extract the desired epoch time.\r\n\r\nThe main advantage is that you are now thread safe.\r\n\r\nThanks to Basil Bourque for his remarks and suggestions. Read his answer for full details.\r\n\r\n","title":"Convert a date format in epoch","body":"<p>You can also use the Java 8 API</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class StackoverflowTest{\n    public static void main(String args[]){\n        String strDate = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\n        DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(&quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\n        ZonedDateTime     zdt  = ZonedDateTime.parse(strDate,dtf);        \n        System.out.println(zdt.toInstant().toEpochMilli());  // 1055545912454  \n    }\n}\n</code></pre>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> class replaces the old <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>. You can then create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> from which you can extract the desired epoch time.</p>\n<p>The main advantage is that you are now thread safe.</p>\n<p>Thanks to Basil Bourque for his remarks and suggestions. Read his answer for full details.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1619426607,"creation_date":1475785273,"answer_id":39904997,"question_id":6687433,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime.parse( \r\n                            &quot;Jun 13 2003 23:11:52.454 UTC&quot; , \r\n                            DateTimeFormatter.ofPattern ( &quot;MMM d uuuu HH:mm:ss.SSS z&quot; ) \r\n                        )\r\n                  .toInstant()\r\n                  .toEpochMilli()\r\n\r\n&gt;1055545912454\r\n\r\n# java.time\r\n\r\nThis Answer expands on the [Answer by Lockni][1].\r\n\r\n## `DateTimeFormatter`\r\n\r\nFirst define a formatting pattern to match your input string by creating a [`DateTimeFormatter`][2] object.\r\n\r\n    String input = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;MMM d uuuu HH:mm:ss.SSS z&quot; );\r\n\r\n## `ZonedDateTime`\r\n\r\nParse the string as a [`ZonedDateTime`][3]. You can think of that class as: ( `Instant` + `ZoneId` ).\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.parse ( &quot;Jun 13 2003 23:11:52.454 UTC&quot; , f );\r\n\r\n&gt;zdt.toString(): 2003-06-13T23:11:52.454Z[UTC]\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/MZe55.png&quot; alt=&quot;Table of types of date-time classes in modern java.time versus legacy.&quot; /&gt;\r\n\r\n## Count-from-epoch\r\n\r\nI do not recommend tracking date-time values as a count-from-[epoch][4]. Doing so makes debugging tricky as humans cannot discern a meaningful date-time from a number so invalid/unexpected values may slip by. Also such counts are ambiguous, in granularity (whole seconds, milli, micro, nano, etc.) and in epoch (at least two dozen in by various computer systems). \r\n\r\nBut if you insist you can get a count of milliseconds from the epoch of first moment of 1970 in UTC (`1970-01-01T00:00:00`) through the [`Instant`][5] class. Be aware this means data-loss as you are truncating any nanoseconds to milliseconds.\r\n\r\n    Instant instant = zdt.toInstant ();\r\n\r\n&gt;instant.toString(): 2003-06-13T23:11:52.454Z\r\n\r\n    long millisSinceEpoch = instant.toEpochMilli() ; \r\n\r\n&gt;1055545912454\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30830088/642706\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [4]: https://en.wikipedia.org/wiki/Epoch_(reference_date)\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html","title":"Convert a date format in epoch","body":"<h1>tl;dr</h1>\n<pre><code>ZonedDateTime.parse( \n                        &quot;Jun 13 2003 23:11:52.454 UTC&quot; , \n                        DateTimeFormatter.ofPattern ( &quot;MMM d uuuu HH:mm:ss.SSS z&quot; ) \n                    )\n              .toInstant()\n              .toEpochMilli()\n</code></pre>\n<blockquote>\n<p>1055545912454</p>\n</blockquote>\n<h1>java.time</h1>\n<p>This Answer expands on the <a href=\"https://stackoverflow.com/a/30830088/642706\">Answer by Lockni</a>.</p>\n<h2><code>DateTimeFormatter</code></h2>\n<p>First define a formatting pattern to match your input string by creating a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> object.</p>\n<pre><code>String input = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;MMM d uuuu HH:mm:ss.SSS z&quot; );\n</code></pre>\n<h2><code>ZonedDateTime</code></h2>\n<p>Parse the string as a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>. You can think of that class as: ( <code>Instant</code> + <code>ZoneId</code> ).</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.parse ( &quot;Jun 13 2003 23:11:52.454 UTC&quot; , f );\n</code></pre>\n<blockquote>\n<p>zdt.toString(): 2003-06-13T23:11:52.454Z[UTC]</p>\n</blockquote>\n<img src=\"https://i.stack.imgur.com/MZe55.png\" alt=\"Table of types of date-time classes in modern java.time versus legacy.\" />\n<h2>Count-from-epoch</h2>\n<p>I do not recommend tracking date-time values as a count-from-<a href=\"https://en.wikipedia.org/wiki/Epoch_(reference_date)\" rel=\"nofollow noreferrer\">epoch</a>. Doing so makes debugging tricky as humans cannot discern a meaningful date-time from a number so invalid/unexpected values may slip by. Also such counts are ambiguous, in granularity (whole seconds, milli, micro, nano, etc.) and in epoch (at least two dozen in by various computer systems).</p>\n<p>But if you insist you can get a count of milliseconds from the epoch of first moment of 1970 in UTC (<code>1970-01-01T00:00:00</code>) through the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class. Be aware this means data-loss as you are truncating any nanoseconds to milliseconds.</p>\n<pre><code>Instant instant = zdt.toInstant ();\n</code></pre>\n<blockquote>\n<p>instant.toString(): 2003-06-13T23:11:52.454Z</p>\n</blockquote>\n<pre><code>long millisSinceEpoch = instant.toEpochMilli() ; \n</code></pre>\n<blockquote>\n<p>1055545912454</p>\n</blockquote>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2221546,"reputation":112,"user_id":1960808,"display_name":"user1960808"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540218399,"creation_date":1496818520,"answer_id":44405581,"question_id":6687433,"body_markdown":"**Create Common Method to Convert String to Date format**\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        long test = ConvertStringToDate(&quot;May 26 10:41:23&quot;, &quot;MMM dd hh:mm:ss&quot;);\r\n        long test2 = ConvertStringToDate(&quot;Tue, Jun 06 2017, 12:30 AM&quot;, &quot;EEE, MMM dd yyyy, hh:mm a&quot;);\r\n        long test3 = ConvertStringToDate(&quot;Jun 13 2003 23:11:52.454 UTC&quot;, &quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\r\n    }\r\n    \r\n    private static long ConvertStringToDate(String dateString, String format) {\r\n        try {\r\n            return new SimpleDateFormat(format).parse(dateString).getTime();\r\n        } catch (ParseException e) {}\r\n        return 0;\r\n    }","title":"Convert a date format in epoch","body":"<p><strong>Create Common Method to Convert String to Date format</strong></p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    long test = ConvertStringToDate(\"May 26 10:41:23\", \"MMM dd hh:mm:ss\");\n    long test2 = ConvertStringToDate(\"Tue, Jun 06 2017, 12:30 AM\", \"EEE, MMM dd yyyy, hh:mm a\");\n    long test3 = ConvertStringToDate(\"Jun 13 2003 23:11:52.454 UTC\", \"MMM dd yyyy HH:mm:ss.SSS zzz\");\n}\n\nprivate static long ConvertStringToDate(String dateString, String format) {\n    try {\n        return new SimpleDateFormat(format).parse(dateString).getTime();\n    } catch (ParseException e) {}\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15088168,"reputation":49,"user_id":10888780,"display_name":"Flash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553241737,"creation_date":1553241737,"answer_id":55295226,"question_id":6687433,"body_markdown":"      String dateTime=&quot;15-3-2019 09:50 AM&quot; //time should be two digit like 08,09,10 \r\n       DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy hh:mm a&quot;);\r\n            LocalDateTime zdt  = LocalDateTime.parse(dateTime,dtf);\r\n            LocalDateTime now = LocalDateTime.now();\r\n            ZoneId zone = ZoneId.of(&quot;Asia/Kolkata&quot;);\r\n            ZoneOffset zoneOffSet = zone.getRules().getOffset(now);\r\n            long a= zdt.toInstant(zoneOffSet).toEpochMilli();\r\n            Log.d(&quot;time&quot;,&quot;---&quot;+a);\r\n   \r\n   you can get zone id form this  [a link](https://garygregory.wordpress.com/2013/06/18/what-are-the-java-timezone-ids/)! \r\n","title":"Convert a date format in epoch","body":"<pre><code>  String dateTime=\"15-3-2019 09:50 AM\" //time should be two digit like 08,09,10 \n   DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(\"dd-MM-yyyy hh:mm a\");\n        LocalDateTime zdt  = LocalDateTime.parse(dateTime,dtf);\n        LocalDateTime now = LocalDateTime.now();\n        ZoneId zone = ZoneId.of(\"Asia/Kolkata\");\n        ZoneOffset zoneOffSet = zone.getRules().getOffset(now);\n        long a= zdt.toInstant(zoneOffSet).toEpochMilli();\n        Log.d(\"time\",\"---\"+a);\n</code></pre>\n\n<p>you can get zone id form this  <a href=\"https://garygregory.wordpress.com/2013/06/18/what-are-the-java-timezone-ids/\" rel=\"nofollow noreferrer\">a link</a>! </p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669057771,"creation_date":1669057771,"answer_id":74523801,"question_id":6687433,"body_markdown":"Unfortunately,\r\n--\r\nthe solution provided in all existing answers will fail if you run them on a system with Non-English `Locale` because the given date-time string is in an English. [Never use `SimpleDateFormat` or `DateTimeFormatter` without a `Locale`](https://stackoverflow.com/a/65544056/10819573) as they are `Locale`-sensitive.\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/6687502/10819573) uses legacy date-time API which was the correct thing to do using the standard library in 2011 when the question was asked. In March 2014, `java.time` API supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it has been strongly recommended to use this modern date-time API. \r\n\r\n**Demo using java.time API**:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlong epochMillis = ZonedDateTime.parse(\r\n    \t\t\t\t\t&quot;Jun 13 2003 23:11:52.454 UTC&quot;,\r\n    \t\t\t\t\tDateTimeFormatter.ofPattern(\r\n    \t\t\t\t\t\t&quot;MMM d uuuu HH:mm:ss.SSS z&quot;,\r\n    \t\t\t\t\t\tLocale.ENGLISH\r\n    \t\t\t\t\t)\r\n    \t\t\t\t)\r\n    \t\t\t\t.toInstant()\r\n    \t\t\t\t.toEpochMilli();\r\n    \t\tSystem.out.println(epochMillis);\r\n    \t}\r\n    }\r\n\r\n**Output**:\r\n\r\n    1055545912454\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Convert a date format in epoch","body":"<h2>Unfortunately,</h2>\n<p>the solution provided in all existing answers will fail if you run them on a system with Non-English <code>Locale</code> because the given date-time string is in an English. <a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use <code>SimpleDateFormat</code> or <code>DateTimeFormatter</code> without a <code>Locale</code></a> as they are <code>Locale</code>-sensitive.</p>\n<p>The <a href=\"https://stackoverflow.com/a/6687502/10819573\">accepted answer</a> uses legacy date-time API which was the correct thing to do using the standard library in 2011 when the question was asked. In March 2014, <code>java.time</code> API supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it has been strongly recommended to use this modern date-time API.</p>\n<p><strong>Demo using java.time API</strong>:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        long epochMillis = ZonedDateTime.parse(\n                    &quot;Jun 13 2003 23:11:52.454 UTC&quot;,\n                    DateTimeFormatter.ofPattern(\n                        &quot;MMM d uuuu HH:mm:ss.SSS z&quot;,\n                        Locale.ENGLISH\n                    )\n                )\n                .toInstant()\n                .toEpochMilli();\n        System.out.println(epochMillis);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>1055545912454\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":424782,"reputation":913,"user_id":804979,"accept_rate":29,"display_name":"user804979"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196773,"favorite_count":0,"down_vote_count":1,"up_vote_count":83,"accepted_answer_id":6687502,"answer_count":6,"score":82,"last_activity_date":1669057771,"creation_date":1310606000,"question_id":6687433,"body_markdown":"I have a string with a date format such as \r\n\r\n    Jun 13 2003 23:11:52.454 UTC\r\n\r\ncontaining millisec... which I want to convert in epoch. \r\nIs there an utility in Java I can use to do this conversion?\r\n\r\n","title":"Convert a date format in epoch","body":"<p>I have a string with a date format such as </p>\n\n<pre><code>Jun 13 2003 23:11:52.454 UTC\n</code></pre>\n\n<p>containing millisec... which I want to convert in epoch. \nIs there an utility in Java I can use to do this conversion?</p>\n"},{"tags":["java","rest","wildfly"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1669047268,"post_id":74521577,"comment_id":131548767,"body_markdown":"Is it not just `http://localhost:8080/rest/hello/text` ?","body":"Is it not just <code>http:&#47;&#47;localhost:8080&#47;rest&#47;hello&#47;text</code> ?"},{"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"score":0,"creation_date":1669052606,"post_id":74521577,"comment_id":131550590,"body_markdown":"@QBrute 404 - Not Found for that one","body":"@QBrute 404 - Not Found for that one"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1669132191,"post_id":74521577,"comment_id":131571970,"body_markdown":"If your POM looks exactly like the example, it should be http://localhost:8080/helloworld/rest/hello/text","body":"If your POM looks exactly like the example, it should be <a href=\"http://localhost:8080/helloworld/rest/hello/text\" rel=\"nofollow noreferrer\">localhost:8080/helloworld/rest/hello/text</a>"},{"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"score":0,"creation_date":1669133457,"post_id":74521577,"comment_id":131572508,"body_markdown":"@JamesR.Perkins the only difference is the project name, so instead of the /helloworld i have something else. I also notice something...when I navigate in the wildfly admin console, at the JAX-RS page, there are no entries. So it looks like widlfly doesn&#39;t even see my paths","body":"@JamesR.Perkins the only difference is the project name, so instead of the /helloworld i have something else. I also notice something...when I navigate in the wildfly admin console, at the JAX-RS page, there are no entries. So it looks like widlfly doesn&#39;t even see my paths"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1669140787,"post_id":74521577,"comment_id":131575221,"body_markdown":"Without seeing the full POM it&#39;s hard to tell what the issue could be.","body":"Without seeing the full POM it&#39;s hard to tell what the issue could be."}],"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669056904,"creation_date":1669046010,"question_id":74521577,"body_markdown":"I am following this tutorial http://www.mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-world/\r\n\r\n    @Path(&quot;/hello&quot;)\r\n    public class HelloService {\r\n        @GET\r\n        @Path(&quot;/text&quot;)\r\n        public String getHello () \r\n        {\r\n            return &quot;hello world!&quot;;\r\n        } \r\n\r\n\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class JaxRsActivator extends Application {\r\n       \r\n    }\r\n\r\nI managed to deploy my app, i see it in the wildfly admin console.\r\nFrom there, i can see the context root, and when i try to access it, I get the &quot;Forbidden&quot; message. That is ok I think.\r\n\r\nProblem is that I expect to get the &quot;hello world!&quot; when I access something like `http://localhost:8080/contextRootLocationThatIsForbidden/rest/hello/text`    ..instead I get &quot;Not Found&quot;\r\n\r\n\r\n        &lt;dependencies&gt;\r\n\r\n        &lt;!-- Import the CDI API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Bean Validation Implementation \r\n           Provides portable constraints such as @Email \r\n           Hibernate Validator is shipped in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Import the JPA API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Import the JSF API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-jsf-api_2.3_spec&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Import the JAX-RS API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-jaxrs-api_2.1_spec&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Servlet API --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-servlet-api_4.0_spec&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Import the EJB API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- NEEDED because of XmlRootElement--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nWhat could be the issue?","title":"What could the link to the endpoint be?","body":"<p>I am following this tutorial <a href=\"http://www.mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-world/\" rel=\"nofollow noreferrer\">http://www.mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-world/</a></p>\n<pre><code>@Path(&quot;/hello&quot;)\npublic class HelloService {\n    @GET\n    @Path(&quot;/text&quot;)\n    public String getHello () \n    {\n        return &quot;hello world!&quot;;\n    } \n\n\n@ApplicationPath(&quot;/rest&quot;)\npublic class JaxRsActivator extends Application {\n   \n}\n</code></pre>\n<p>I managed to deploy my app, i see it in the wildfly admin console.\nFrom there, i can see the context root, and when i try to access it, I get the &quot;Forbidden&quot; message. That is ok I think.</p>\n<p>Problem is that I expect to get the &quot;hello world!&quot; when I access something like <code>http://localhost:8080/contextRootLocationThatIsForbidden/rest/hello/text</code>    ..instead I get &quot;Not Found&quot;</p>\n<pre><code>    &lt;dependencies&gt;\n\n    &lt;!-- Import the CDI API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Bean Validation Implementation \n       Provides portable constraints such as @Email \n       Hibernate Validator is shipped in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Import the JPA API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Import the JSF API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-jsf-api_2.3_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Import the JAX-RS API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-jaxrs-api_2.1_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Servlet API --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-servlet-api_4.0_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Import the EJB API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- NEEDED because of XmlRootElement--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n        &lt;version&gt;8.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>What could be the issue?</p>\n"},{"tags":["java","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669056313,"creation_date":1669056313,"answer_id":74523541,"question_id":74494894,"body_markdown":"You should define those URLs somewhere that you can use as a reference in both places. It could be in your `application.yml` file:\r\n\r\n```yml\r\nsecurity:\r\n  form:\r\n    login-url: &quot;/login&quot;\r\n    login-success-url: &quot;/success&quot;\r\n    other-property: 123\r\n```\r\n\r\nAnd in your code you inject them (note that the class has to be a bean):\r\n\r\n```java\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n  @Value(&quot;security.form.login-url&quot;)\r\n  private String loginUrl;\r\n\r\n  @Value(&quot;security.form.login-success-url&quot;)\r\n  private String loginSuccessUrl;\r\n  // ...\r\n\r\n}\r\n```\r\n\r\nYou can also create a `ConfigurationProperties` to improve the code https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties","title":"How to extract URLs from FormLoginConfigurer?","body":"<p>You should define those URLs somewhere that you can use as a reference in both places. It could be in your <code>application.yml</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>security:\n  form:\n    login-url: &quot;/login&quot;\n    login-success-url: &quot;/success&quot;\n    other-property: 123\n</code></pre>\n<p>And in your code you inject them (note that the class has to be a bean):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebSecurityConfig {\n\n  @Value(&quot;security.form.login-url&quot;)\n  private String loginUrl;\n\n  @Value(&quot;security.form.login-success-url&quot;)\n  private String loginSuccessUrl;\n  // ...\n\n}\n</code></pre>\n<p>You can also create a <code>ConfigurationProperties</code> to improve the code <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties</a></p>\n"}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74523541,"answer_count":1,"score":0,"last_activity_date":1669056313,"creation_date":1668802503,"question_id":74494894,"body_markdown":"I want to gain access to the URLs set by the FormLoginConfigurer, in particular I want to extraxt the URL Strings for loginPage, loginProcessingUrl and failureUrl. These values are configured as follows:\r\n```Java\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain defaultFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .authorizeRequests(auth -&gt; auth\r\n                        .mvcMatchers(&quot;/&quot;).permitAll()\r\n                        .mvcMatchers(&quot;/**&quot;).authenticated())\r\n\r\n                .formLogin(login -&gt; login\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .loginProcessingUrl(&quot;/authenticate&quot;)\r\n                        .failureUrl(&quot;/login?error&quot;)\r\n                        .successHandler(new CustomAuthenticationSuccessHandler())\r\n                        .permitAll())\r\n\r\n                .build();\r\n    }\r\n}\r\n```\r\nWithin a CustomAuthenticationSuccessHandler, concrete inside the determineTargetUrl method, I now want to make some decisions based on these URLs. The SuccessHandler looks like this:\r\n```Java\r\npublic class CustomAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\r\n\r\n    private final RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Authentication authentication) throws IOException {\r\n\r\n        handleRedirect(request, response, authentication);\r\n        clearAuthenticationAttributes(request);\r\n    }\r\n\r\n    private void handleRedirect(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Authentication authentication) throws IOException {\r\n\r\n        String targetUrl = determineTargetUrl(request, authentication);\r\n        if (response.isCommitted()) return;\r\n        redirectStrategy.sendRedirect(request, response, targetUrl);\r\n    }\r\n\r\n    private String determineTargetUrl(HttpServletRequest request, Authentication authentication) {\r\n        Set&lt;String&gt; authorities = authentication.getAuthorities().stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.toSet());\r\n        \r\n        SavedRequest savedRequest = (SavedRequest) request.getSession()\r\n                .getAttribute(&quot;SPRING_SECURITY_SAVED_REQUEST&quot;);\r\n\r\n        if (authorities.contains(&quot;ROLE_ADMIN&quot;)) return &quot;/admin&quot;;\r\n        if (authorities.contains(&quot;ROLE_USER&quot;)) return savedRequest.getRedirectUrl();\r\n\r\n        throw new IllegalStateException();\r\n    }\r\n\r\n    private void clearAuthenticationAttributes(HttpServletRequest request) {\r\n        HttpSession session = request.getSession(false);\r\n        if (session == null) return;\r\n        session.removeAttribute(WebAttributes.AUTHENTICATION_EXCEPTION);\r\n    }\r\n}\r\n```\r\nHow can I extract the values for loginPage, loginProcessingUrl and failureUrl?","title":"How to extract URLs from FormLoginConfigurer?","body":"<p>I want to gain access to the URLs set by the FormLoginConfigurer, in particular I want to extraxt the URL Strings for loginPage, loginProcessingUrl and failureUrl. These values are configured as follows:</p>\n<pre><code>public class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain defaultFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .authorizeRequests(auth -&gt; auth\n                        .mvcMatchers(&quot;/&quot;).permitAll()\n                        .mvcMatchers(&quot;/**&quot;).authenticated())\n\n                .formLogin(login -&gt; login\n                        .loginPage(&quot;/login&quot;)\n                        .loginProcessingUrl(&quot;/authenticate&quot;)\n                        .failureUrl(&quot;/login?error&quot;)\n                        .successHandler(new CustomAuthenticationSuccessHandler())\n                        .permitAll())\n\n                .build();\n    }\n}\n</code></pre>\n<p>Within a CustomAuthenticationSuccessHandler, concrete inside the determineTargetUrl method, I now want to make some decisions based on these URLs. The SuccessHandler looks like this:</p>\n<pre><code>public class CustomAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\n\n    private final RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationSuccess(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Authentication authentication) throws IOException {\n\n        handleRedirect(request, response, authentication);\n        clearAuthenticationAttributes(request);\n    }\n\n    private void handleRedirect(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Authentication authentication) throws IOException {\n\n        String targetUrl = determineTargetUrl(request, authentication);\n        if (response.isCommitted()) return;\n        redirectStrategy.sendRedirect(request, response, targetUrl);\n    }\n\n    private String determineTargetUrl(HttpServletRequest request, Authentication authentication) {\n        Set&lt;String&gt; authorities = authentication.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.toSet());\n        \n        SavedRequest savedRequest = (SavedRequest) request.getSession()\n                .getAttribute(&quot;SPRING_SECURITY_SAVED_REQUEST&quot;);\n\n        if (authorities.contains(&quot;ROLE_ADMIN&quot;)) return &quot;/admin&quot;;\n        if (authorities.contains(&quot;ROLE_USER&quot;)) return savedRequest.getRedirectUrl();\n\n        throw new IllegalStateException();\n    }\n\n    private void clearAuthenticationAttributes(HttpServletRequest request) {\n        HttpSession session = request.getSession(false);\n        if (session == null) return;\n        session.removeAttribute(WebAttributes.AUTHENTICATION_EXCEPTION);\n    }\n}\n</code></pre>\n<p>How can I extract the values for loginPage, loginProcessingUrl and failureUrl?</p>\n"},{"tags":["java","sorting","java-stream","filtering"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1619960242,"post_id":67356653,"comment_id":119055520,"body_markdown":"Please post your code and explain your issues with it","body":"Please post your code and explain your issues with it"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1619960580,"post_id":67356653,"comment_id":119055618,"body_markdown":"*m trying to use JavaStream ...* - It&#39;s a very basic problem. Post your code so that we can understand where exactly you are stuck.","body":"<i>m trying to use JavaStream ...</i> - It&#39;s a very basic problem. Post your code so that we can understand where exactly you are stuck."},{"owner":{"account_id":10702603,"reputation":173,"user_id":7877409,"accept_rate":60,"display_name":"Joe "},"score":0,"creation_date":1619960922,"post_id":67356653,"comment_id":119055726,"body_markdown":"I&#39;ve added my one line solution from Swift but can&#39;t understand Java Stream syntax for the same.","body":"I&#39;ve added my one line solution from Swift but can&#39;t understand Java Stream syntax for the same."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1669056989,"post_id":67356653,"comment_id":131551907,"body_markdown":"List B should be a `Set`.","body":"List B should be a <code>Set</code>."}],"answers":[{"tags":[],"owner":{"account_id":8308103,"reputation":410,"user_id":6597960,"accept_rate":78,"display_name":"yevhensh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1619961219,"creation_date":1619961100,"answer_id":67356791,"question_id":67356653,"body_markdown":"you should use filter on main collection and !contains on List collection\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    class Scratch {\r\n        static class Element {\r\n            int id;\r\n            String name;\r\n            String description;\r\n    \r\n            public Element(int id, String name, String description) {\r\n                this.id = id;\r\n                this.name = name;\r\n                this.description = description;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Element{&quot; +\r\n                        &quot;id=&quot; + id +\r\n                        &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                        &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Element&gt; elements = new ArrayList&lt;&gt;(Arrays.asList(\r\n               new Element(12345, &quot;nameofitem&quot;, &quot;asdfafd&quot;),\r\n               new Element(34567, &quot;nameofitem&quot;, &quot;asdfafd&quot;),\r\n               new Element(56789, &quot;nameofitem&quot;, &quot;asdfafd&quot;)\r\n            ));\r\n            List&lt;Integer&gt; filterNot = new ArrayList&lt;&gt;(Arrays.asList(12345, 56789));\r\n            List&lt;Element&gt; result = elements.stream().filter(item -&gt; !filterNot.contains(item.id)).collect(Collectors.toList());\r\n    \r\n            result.forEach(System.out::println);\r\n        }\r\n    \r\n    \r\n    }","title":"Use Java Stream to filter list based on values from second list","body":"<p>you should use filter on main collection and !contains on List collection</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nclass Scratch {\n    static class Element {\n        int id;\n        String name;\n        String description;\n\n        public Element(int id, String name, String description) {\n            this.id = id;\n            this.name = name;\n            this.description = description;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Element{&quot; +\n                    &quot;id=&quot; + id +\n                    &quot;, name='&quot; + name + '\\'' +\n                    &quot;, description='&quot; + description + '\\'' +\n                    '}';\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Element&gt; elements = new ArrayList&lt;&gt;(Arrays.asList(\n           new Element(12345, &quot;nameofitem&quot;, &quot;asdfafd&quot;),\n           new Element(34567, &quot;nameofitem&quot;, &quot;asdfafd&quot;),\n           new Element(56789, &quot;nameofitem&quot;, &quot;asdfafd&quot;)\n        ));\n        List&lt;Integer&gt; filterNot = new ArrayList&lt;&gt;(Arrays.asList(12345, 56789));\n        List&lt;Element&gt; result = elements.stream().filter(item -&gt; !filterNot.contains(item.id)).collect(Collectors.toList());\n\n        result.forEach(System.out::println);\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2807354,"reputation":138,"user_id":2414323,"display_name":"Leon the Logician"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669056202,"creation_date":1619963209,"answer_id":67357100,"question_id":67356653,"body_markdown":"* If I understand correctly, you are given the following information:\r\n  * a class with 3 fields: `id`, `name`, `description`. Lets call this class `Item`.\r\n  * a list of ids of `Item`s which should be removed from `List A`. Lets call this list, `idsOfItemsToRemove`.\r\n  * a list of all `Item`s to evaluate\r\n  * an expected list; a list of `Item`s which do not contain any value present in `idsOfItemsToRemove`.\r\n* If the above assumptions are true, then the code snippet below should be indicative of what you are seeking to do.\r\n\r\n```\r\n@Test\r\npublic void test() {\r\n    // given\r\n    Integer idOfItemToBeRemoved1 = 12345;\r\n    Integer idOfItemToBeRemoved2 = 56789;\r\n    Item itemExpectedToBeDeleted1 = new Item(idOfItemToBeRemoved1, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\r\n    Item itemExpectedToBeDeleted2 = new Item(idOfItemToBeRemoved2, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\r\n    Item itemExpectedToBeRetained1 = new Item(34567, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\r\n    Item itemExpectedToBeRetained2 = new Item(98756, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\r\n\r\n\r\n    List&lt;Integer&gt; idsOfItemsToRemove = Arrays.asList(\r\n            idOfItemToBeRemoved1,\r\n            idOfItemToBeRemoved2);\r\n\r\n    List&lt;Item&gt; listOfItems = Arrays.asList(\r\n            itemExpectedToBeDeleted1,\r\n            itemExpectedToBeDeleted2,\r\n            itemExpectedToBeRetained1,\r\n            itemExpectedToBeRetained2);\r\n\r\n    List&lt;Item&gt; expectedList = Arrays.asList(\r\n            itemExpectedToBeRetained1,\r\n            itemExpectedToBeRetained2);\r\n\r\n    // when\r\n    List&lt;Item&gt; actualList = listOfItems\r\n            .stream()\r\n            .filter(item -&gt; !idsOfItemsToRemove.contains(item.getId()))\r\n            .collect(Collectors.toList());\r\n\r\n    // then\r\n    Assert.assertEquals(expectedList, actualList);\r\n}\r\n```\r\n\r\nThis code has also been `push`ed to Github.\r\n&gt; `https://raw.githubusercontent.com/Git-Leon/stackoverflow-answers/master/javastreamfilter/`","title":"Use Java Stream to filter list based on values from second list","body":"<ul>\n<li>If I understand correctly, you are given the following information:\n<ul>\n<li>a class with 3 fields: <code>id</code>, <code>name</code>, <code>description</code>. Lets call this class <code>Item</code>.</li>\n<li>a list of ids of <code>Item</code>s which should be removed from <code>List A</code>. Lets call this list, <code>idsOfItemsToRemove</code>.</li>\n<li>a list of all <code>Item</code>s to evaluate</li>\n<li>an expected list; a list of <code>Item</code>s which do not contain any value present in <code>idsOfItemsToRemove</code>.</li>\n</ul>\n</li>\n<li>If the above assumptions are true, then the code snippet below should be indicative of what you are seeking to do.</li>\n</ul>\n<pre><code>@Test\npublic void test() {\n    // given\n    Integer idOfItemToBeRemoved1 = 12345;\n    Integer idOfItemToBeRemoved2 = 56789;\n    Item itemExpectedToBeDeleted1 = new Item(idOfItemToBeRemoved1, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\n    Item itemExpectedToBeDeleted2 = new Item(idOfItemToBeRemoved2, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\n    Item itemExpectedToBeRetained1 = new Item(34567, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\n    Item itemExpectedToBeRetained2 = new Item(98756, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\n\n\n    List&lt;Integer&gt; idsOfItemsToRemove = Arrays.asList(\n            idOfItemToBeRemoved1,\n            idOfItemToBeRemoved2);\n\n    List&lt;Item&gt; listOfItems = Arrays.asList(\n            itemExpectedToBeDeleted1,\n            itemExpectedToBeDeleted2,\n            itemExpectedToBeRetained1,\n            itemExpectedToBeRetained2);\n\n    List&lt;Item&gt; expectedList = Arrays.asList(\n            itemExpectedToBeRetained1,\n            itemExpectedToBeRetained2);\n\n    // when\n    List&lt;Item&gt; actualList = listOfItems\n            .stream()\n            .filter(item -&gt; !idsOfItemsToRemove.contains(item.getId()))\n            .collect(Collectors.toList());\n\n    // then\n    Assert.assertEquals(expectedList, actualList);\n}\n</code></pre>\n<p>This code has also been <code>push</code>ed to Github.</p>\n<blockquote>\n<p><code>https://raw.githubusercontent.com/Git-Leon/stackoverflow-answers/master/javastreamfilter/</code></p>\n</blockquote>\n"}],"owner":{"account_id":10702603,"reputation":173,"user_id":7877409,"accept_rate":60,"display_name":"Joe "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5805,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67356791,"answer_count":2,"score":0,"last_activity_date":1669056202,"creation_date":1619960170,"question_id":67356653,"body_markdown":"I&#39;m trying to Filter a list of objects based on values from second list.\r\n\r\nList A: \r\n===\r\n\r\n    [\r\n       {\r\n          &quot;id&quot;:&quot;12345&quot;,\r\n          &quot;name&quot;:&quot;nameOfItem&quot;,\r\n          &quot;description&quot;:&quot;descriptionOfItem&quot;\r\n       },\r\n       {\r\n          &quot;id&quot;:&quot;34567&quot;,\r\n          &quot;name&quot;:&quot;nameOfItem&quot;,\r\n          &quot;description&quot;:&quot;descriptionOfItem&quot;\r\n       },\r\n       {\r\n          &quot;id&quot;:&quot;56789&quot;,\r\n          &quot;name&quot;:&quot;nameOfItem&quot;,\r\n          &quot;description&quot;:&quot;descriptionOfItem&quot;\r\n       }\r\n    ]\r\n\r\nList B:\r\n===\r\n\r\n    [&quot;12345&quot;, &quot;56789&quot;]\r\n\r\nNow i want to remove the item of List A with IDs available in List B.\r\n\r\nIm trying to use JavaStream but can&#39;t understand the syntax and i&#39;m trying ForEach loop but its not working properly. \r\n\r\nI&#39;ve done something similar in Swift as following.\r\n\r\n                if let allModOptions = allModifersList?.first?.options {\r\n                    let excludedIDs = pObj?.excluded_ids\r\n                    if excludedIDs!.count &gt; 0 {\r\n                       let allowedOptions = allModOptions\r\n                       -&gt;&gt;&gt;&gt;    **.filter{ !excludedIDs!.contains($0.id!)}** &lt;&lt;&lt;&lt;-\r\n                            .filter{c in c.deleted_at == nil}.sorted {\r\n                            $0.index ?? 0 &lt; $1.index ?? 0\r\n                           }\r\n                    \r\n                        allModsList?.first?.options = allowedOptions\r\n                    \r\n                    }\r\n                   modisList.append(contentsOf: allModsList!)\r\n                }\r\n\r\n\r\nAny help is appreciated\r\n","title":"Use Java Stream to filter list based on values from second list","body":"<p>I'm trying to Filter a list of objects based on values from second list.</p>\n<h1>List A:</h1>\n<pre><code>[\n   {\n      &quot;id&quot;:&quot;12345&quot;,\n      &quot;name&quot;:&quot;nameOfItem&quot;,\n      &quot;description&quot;:&quot;descriptionOfItem&quot;\n   },\n   {\n      &quot;id&quot;:&quot;34567&quot;,\n      &quot;name&quot;:&quot;nameOfItem&quot;,\n      &quot;description&quot;:&quot;descriptionOfItem&quot;\n   },\n   {\n      &quot;id&quot;:&quot;56789&quot;,\n      &quot;name&quot;:&quot;nameOfItem&quot;,\n      &quot;description&quot;:&quot;descriptionOfItem&quot;\n   }\n]\n</code></pre>\n<h1>List B:</h1>\n<pre><code>[&quot;12345&quot;, &quot;56789&quot;]\n</code></pre>\n<p>Now i want to remove the item of List A with IDs available in List B.</p>\n<p>Im trying to use JavaStream but can't understand the syntax and i'm trying ForEach loop but its not working properly.</p>\n<p>I've done something similar in Swift as following.</p>\n<pre><code>            if let allModOptions = allModifersList?.first?.options {\n                let excludedIDs = pObj?.excluded_ids\n                if excludedIDs!.count &gt; 0 {\n                   let allowedOptions = allModOptions\n                   -&gt;&gt;&gt;&gt;    **.filter{ !excludedIDs!.contains($0.id!)}** &lt;&lt;&lt;&lt;-\n                        .filter{c in c.deleted_at == nil}.sorted {\n                        $0.index ?? 0 &lt; $1.index ?? 0\n                       }\n                \n                    allModsList?.first?.options = allowedOptions\n                \n                }\n               modisList.append(contentsOf: allModsList!)\n            }\n</code></pre>\n<p>Any help is appreciated</p>\n"},{"tags":["java","math","double","decimal","nth-root"],"comments":[{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1442169204,"post_id":32553108,"comment_id":52962044,"body_markdown":"Use BigDecimal class, which is decimal representation of real numbers with arbitrary precision.","body":"Use BigDecimal class, which is decimal representation of real numbers with arbitrary precision."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1442170172,"post_id":32553108,"comment_id":52962342,"body_markdown":"Of course there&#39;s no method to calculate nth roots in the BigDecimal class. So you&#39;d need to implement it yourself. I&#39;d give the newton raphson method a chance. See [here](https://en.wikipedia.org/wiki/Nth_root_algorithm).","body":"Of course there&#39;s no method to calculate nth roots in the BigDecimal class. So you&#39;d need to implement it yourself. I&#39;d give the newton raphson method a chance. See <a href=\"https://en.wikipedia.org/wiki/Nth_root_algorithm\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1442170434,"creation_date":1442169198,"answer_id":32553151,"question_id":32553108,"body_markdown":"The *Math.round* function will round to the nearest long value that can be stored to a double. You could compare the 2 results to see if the number has an integer cubic root.\r\n\r\n    double dres = Math.pow(125, 1.0 / 3.0);\r\n    double ires = Math.round(dres);\r\n    double diff = Math.abs(dres - ires);\r\n    if (diff &lt; Math.ulp(10.0)) {\r\n        // has cubic root\r\n    }\r\n\r\nIf that&#39;s inadequate you can try implementing [this](https://en.wikipedia.org/wiki/Shifting_nth_root_algorithm) algorithm and stop early if the result doesn&#39;t seem to be an integer.\r\n","title":"Calculating nth root in Java using power method","body":"<p>The <em>Math.round</em> function will round to the nearest long value that can be stored to a double. You could compare the 2 results to see if the number has an integer cubic root.</p>\n\n<pre><code>double dres = Math.pow(125, 1.0 / 3.0);\ndouble ires = Math.round(dres);\ndouble diff = Math.abs(dres - ires);\nif (diff &lt; Math.ulp(10.0)) {\n    // has cubic root\n}\n</code></pre>\n\n<p>If that's inadequate you can try implementing <a href=\"https://en.wikipedia.org/wiki/Shifting_nth_root_algorithm\" rel=\"nofollow\">this</a> algorithm and stop early if the result doesn't seem to be an integer.</p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1442171260,"creation_date":1442170663,"answer_id":32553395,"question_id":32553108,"body_markdown":"Since it is not possible to have arbitrary-precision calculus with `double`, you have three choices:\r\n\r\n 1.  Define a precision for which you decide whether a `double` value is an integer or not.\r\n 2.  Test whether the rounded value of the `double` you have is a correct result.\r\n 3. Do calculus on a [`BigDecimal`](http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html) object, which supports arbitrary-precision double values.\r\n\r\nOption 1\r\n----\r\n\r\n    private static boolean isNthRoot(int value, int n, double precision) {\r\n    \tdouble a = Math.pow(value, 1.0 / n);\r\n    \treturn Math.abs(a - Math.round(a)) &lt; precision; // if a and round(a) are &quot;close enough&quot; then we&#39;re good\r\n    }\r\n\r\nThe problem with this approach is how to define &quot;close enough&quot;. This is a subjective question and it depends on your requirements.\r\n\r\nOption 2\r\n--\r\n    private static boolean isNthRoot(int value, int n) {\r\n    \tdouble a = Math.pow(value, 1.0 / n);\r\n    \treturn Math.pow(Math.round(a), n) == value;\r\n    }\r\n\r\nThe advantage of this method is that there is no need to define a precision. However, we need to perform another `pow` operation so this will affect performance.\r\n\r\nOption 3\r\n--\r\nThere is no built-in method to calculate a double power of a BigDecimal. [This question](https://stackoverflow.com/q/3579779/1743880) will give you insight on how to do it.","title":"Calculating nth root in Java using power method","body":"<p>Since it is not possible to have arbitrary-precision calculus with <code>double</code>, you have three choices:</p>\n\n<ol>\n<li>Define a precision for which you decide whether a <code>double</code> value is an integer or not.</li>\n<li>Test whether the rounded value of the <code>double</code> you have is a correct result.</li>\n<li>Do calculus on a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> object, which supports arbitrary-precision double values.</li>\n</ol>\n\n<h2>Option 1</h2>\n\n<pre><code>private static boolean isNthRoot(int value, int n, double precision) {\n    double a = Math.pow(value, 1.0 / n);\n    return Math.abs(a - Math.round(a)) &lt; precision; // if a and round(a) are \"close enough\" then we're good\n}\n</code></pre>\n\n<p>The problem with this approach is how to define \"close enough\". This is a subjective question and it depends on your requirements.</p>\n\n<h2>Option 2</h2>\n\n<pre><code>private static boolean isNthRoot(int value, int n) {\n    double a = Math.pow(value, 1.0 / n);\n    return Math.pow(Math.round(a), n) == value;\n}\n</code></pre>\n\n<p>The advantage of this method is that there is no need to define a precision. However, we need to perform another <code>pow</code> operation so this will affect performance.</p>\n\n<h2>Option 3</h2>\n\n<p>There is no built-in method to calculate a double power of a BigDecimal. <a href=\"https://stackoverflow.com/q/3579779/1743880\">This question</a> will give you insight on how to do it.</p>\n"},{"tags":[],"owner":{"account_id":6851131,"reputation":494,"user_id":5268273,"display_name":"dimplex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669055827,"creation_date":1442170670,"answer_id":32553398,"question_id":32553108,"body_markdown":"I&#39;d go for implementing my own function to do this, possibly based on [this][1] method.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20171228225803/http://mathforum.org/library/drmath/view/52605.html","title":"Calculating nth root in Java using power method","body":"<p>I'd go for implementing my own function to do this, possibly based on <a href=\"https://web.archive.org/web/20171228225803/http://mathforum.org/library/drmath/view/52605.html\" rel=\"nofollow noreferrer\">this</a> method.</p>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442174278,"creation_date":1442172901,"answer_id":32553759,"question_id":32553108,"body_markdown":"I wrote this method to compute `floor(x^(1/n))` where `x` is a non-negative `BigInteger` and `n` is a positive integer. It was a while ago now so I can&#39;t explain why it works, but I&#39;m reasonably confident that when I wrote it I was happy that it&#39;s guaranteed to give the correct answer reasonably quickly.\r\n\r\nTo see if `x` is an exact `n-th` power you can check if the result raised to the power `n` gives you exactly `x` back again.\r\n\r\n    public static BigInteger floorOfNthRoot(BigInteger x, int n) {\r\n        int sign = x.signum();\r\n        if (n &lt;= 0 || (sign &lt; 0))\r\n            throw new IllegalArgumentException();\r\n        if (sign == 0)\r\n            return BigInteger.ZERO;\r\n        if (n == 1)\r\n            return x;\r\n        BigInteger a;\r\n        BigInteger bigN = BigInteger.valueOf(n);\r\n        BigInteger bigNMinusOne = BigInteger.valueOf(n - 1);\r\n        BigInteger b = BigInteger.ZERO.setBit(1 + x.bitLength() / n);\r\n        do {\r\n            a = b;\r\n            b = a.multiply(bigNMinusOne).add(x.divide(a.pow(n - 1))).divide(bigN);\r\n        } while (b.compareTo(a) == -1);\r\n        return a;\r\n    }\r\n \r\nTo use it:\r\n\r\n    System.out.println(floorOfNthRoot(new BigInteger(&quot;125&quot;), 3));\r\n\r\n**Edit** \r\nHaving read the comments above I now remember that this is the Newton-Raphson method for n-th roots. The Newton-Raphson method has quadratic convergence (which in everyday language means it&#39;s fast). You can try it on numbers which have dozens of digits and you should get the answer in a fraction of a second. \r\n\r\nYou can adapt the method to work with other number types, but `double` and `BigDecimal` are in my view not suited for this kind of thing.","title":"Calculating nth root in Java using power method","body":"<p>I wrote this method to compute <code>floor(x^(1/n))</code> where <code>x</code> is a non-negative <code>BigInteger</code> and <code>n</code> is a positive integer. It was a while ago now so I can't explain why it works, but I'm reasonably confident that when I wrote it I was happy that it's guaranteed to give the correct answer reasonably quickly.</p>\n\n<p>To see if <code>x</code> is an exact <code>n-th</code> power you can check if the result raised to the power <code>n</code> gives you exactly <code>x</code> back again.</p>\n\n<pre><code>public static BigInteger floorOfNthRoot(BigInteger x, int n) {\n    int sign = x.signum();\n    if (n &lt;= 0 || (sign &lt; 0))\n        throw new IllegalArgumentException();\n    if (sign == 0)\n        return BigInteger.ZERO;\n    if (n == 1)\n        return x;\n    BigInteger a;\n    BigInteger bigN = BigInteger.valueOf(n);\n    BigInteger bigNMinusOne = BigInteger.valueOf(n - 1);\n    BigInteger b = BigInteger.ZERO.setBit(1 + x.bitLength() / n);\n    do {\n        a = b;\n        b = a.multiply(bigNMinusOne).add(x.divide(a.pow(n - 1))).divide(bigN);\n    } while (b.compareTo(a) == -1);\n    return a;\n}\n</code></pre>\n\n<p>To use it:</p>\n\n<pre><code>System.out.println(floorOfNthRoot(new BigInteger(\"125\"), 3));\n</code></pre>\n\n<p><strong>Edit</strong> \nHaving read the comments above I now remember that this is the Newton-Raphson method for n-th roots. The Newton-Raphson method has quadratic convergence (which in everyday language means it's fast). You can try it on numbers which have dozens of digits and you should get the answer in a fraction of a second. </p>\n\n<p>You can adapt the method to work with other number types, but <code>double</code> and <code>BigDecimal</code> are in my view not suited for this kind of thing.</p>\n"},{"tags":[],"owner":{"account_id":8130581,"reputation":1,"user_id":6124001,"display_name":"Avneesh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459166905,"creation_date":1459164153,"answer_id":36261339,"question_id":32553108,"body_markdown":"Well this is a good option to choose in this situation.\r\nYou can rely on this-\r\n\r\n       System.out.println(&quot;     &quot;);\r\n       System.out.println(&quot;     Enter a base and then nth root&quot;);\r\n       while(true)\r\n       {\r\n           a=Double.parseDouble(br.readLine());\r\n           b=Double.parseDouble(br.readLine());\r\n           double negodd=-(Math.pow((Math.abs(a)),(1.0/b)));\r\n           double poseve=Math.pow(a,(1.0/b));\r\n           double posodd=Math.pow(a,(1.0/b));\r\n           if(a&lt;0 &amp;&amp; b%2==0)\r\n           {\r\n               String io=&quot;\\u03AF&quot;;\r\n               double negeve=Math.pow((Math.abs(a)),(1.0/b));\r\n               System.out.println(&quot;     Root is imaginary and value= &quot;+negeve+&quot; &quot;+io);\r\n           }\r\n           else if(a&lt;0 &amp;&amp; b%2==1)\r\n           System.out.println(&quot;     Value= &quot;+negodd);\r\n           else if(a&gt;0 &amp;&amp; b%2==0)\r\n           System.out.println(&quot;     Value= &quot;+poseve);\r\n           else if(a&gt;0 &amp;&amp; b%2==1)\r\n           System.out.println(&quot;     Value= &quot;+posodd);\r\n           System.out.println(&quot;     &quot;);\r\n           System.out.print(&quot;     Enter &#39;0&#39; to come back or press any number to continue- &quot;);\r\n           con=Integer.parseInt(br.readLine());\r\n           if(con==0)\r\n           break;\r\n           else\r\n           {\r\n               System.out.println(&quot;     Enter a base and then nth root&quot;);\r\n               continue;\r\n           }\r\n        }","title":"Calculating nth root in Java using power method","body":"<p>Well this is a good option to choose in this situation.\nYou can rely on this-</p>\n\n<pre><code>   System.out.println(\"     \");\n   System.out.println(\"     Enter a base and then nth root\");\n   while(true)\n   {\n       a=Double.parseDouble(br.readLine());\n       b=Double.parseDouble(br.readLine());\n       double negodd=-(Math.pow((Math.abs(a)),(1.0/b)));\n       double poseve=Math.pow(a,(1.0/b));\n       double posodd=Math.pow(a,(1.0/b));\n       if(a&lt;0 &amp;&amp; b%2==0)\n       {\n           String io=\"\\u03AF\";\n           double negeve=Math.pow((Math.abs(a)),(1.0/b));\n           System.out.println(\"     Root is imaginary and value= \"+negeve+\" \"+io);\n       }\n       else if(a&lt;0 &amp;&amp; b%2==1)\n       System.out.println(\"     Value= \"+negodd);\n       else if(a&gt;0 &amp;&amp; b%2==0)\n       System.out.println(\"     Value= \"+poseve);\n       else if(a&gt;0 &amp;&amp; b%2==1)\n       System.out.println(\"     Value= \"+posodd);\n       System.out.println(\"     \");\n       System.out.print(\"     Enter '0' to come back or press any number to continue- \");\n       con=Integer.parseInt(br.readLine());\n       if(con==0)\n       break;\n       else\n       {\n           System.out.println(\"     Enter a base and then nth root\");\n           continue;\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3088035"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512418937,"creation_date":1512418937,"answer_id":47641360,"question_id":32553108,"body_markdown":"It&#39;s a pretty ugly hack, but you could reach a few of them through indenting.\r\n\r\n    System.out.println(Math.sqrt(Math.sqrt(256)));\r\n        System.out.println(Math.pow(4, 4));\r\n        System.out.println(Math.pow(4, 9));\r\n        System.out.println(Math.cbrt(Math.cbrt(262144)));\r\n    Result:\r\n    4.0\r\n    256.0\r\n    262144.0 \r\n    4.0\r\n\r\nWhich will give you every n^3th cube and every n^2th root.\r\n","title":"Calculating nth root in Java using power method","body":"<p>It's a pretty ugly hack, but you could reach a few of them through indenting.</p>\n\n<pre><code>System.out.println(Math.sqrt(Math.sqrt(256)));\n    System.out.println(Math.pow(4, 4));\n    System.out.println(Math.pow(4, 9));\n    System.out.println(Math.cbrt(Math.cbrt(262144)));\nResult:\n4.0\n256.0\n262144.0 \n4.0\n</code></pre>\n\n<p>Which will give you every n^3th cube and every n^2th root.</p>\n"},{"tags":[],"owner":{"account_id":7481922,"reputation":124,"user_id":5686426,"display_name":"Grigoris Dimopoulos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538825957,"creation_date":1538825957,"answer_id":52678657,"question_id":32553108,"body_markdown":"You can use some tricks come from mathematics field, to havemore accuracy.\nLike this one x^(1/n) = e^(lnx/n).\n\nCheck the implementation here:\nhttps://www.baeldung.com/java-nth-root","title":"Calculating nth root in Java using power method","body":"<p>You can use some tricks come from mathematics field, to havemore accuracy.\nLike this one x^(1/n) = e^(lnx/n).</p>\n\n<p>Check the implementation here:\n<a href=\"https://www.baeldung.com/java-nth-root\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-nth-root</a></p>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546508572,"creation_date":1546508572,"answer_id":54019689,"question_id":32553108,"body_markdown":"Here is the solution without using Java&#39;s Math.pow function.\r\nIt will give you nearly nth root\r\n\r\n    public class NthRoot {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry (Scanner scanner = new Scanner(System.in)) {\r\n\t\t\tint testcases = scanner.nextInt();\r\n\t\t\twhile (testcases-- &gt; 0) {\r\n\t\t\t\tint root = scanner.nextInt();\r\n\t\t\t\tint number = scanner.nextInt();\r\n\t\t\t\tdouble rootValue = compute(number, root) * 1000.0 / 1000.0;\r\n\t\t\t\tSystem.out.println((int) rootValue);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static double compute(int number, int root) {\r\n\t\tdouble xPre = Math.random() % 10;\r\n\t\tdouble error = 0.0000001;\r\n\t\tdouble delX = 2147483647;\r\n\t\tdouble current = 0.0;\r\n\r\n\t\twhile (delX &gt; error) {\r\n\t\t\tcurrent = ((root - 1.0) * xPre + (double) number / Math.pow(xPre, root - 1)) / (double) root;\r\n\t\t\tdelX = Math.abs(current - xPre);\r\n\t\t\txPre = current;\r\n\t\t}\r\n\t\treturn current;\r\n\t}","title":"Calculating nth root in Java using power method","body":"<p>Here is the solution without using Java's Math.pow function.\nIt will give you nearly nth root</p>\n\n<pre><code>public class NthRoot {\n\npublic static void main(String[] args) {\n    try (Scanner scanner = new Scanner(System.in)) {\n        int testcases = scanner.nextInt();\n        while (testcases-- &gt; 0) {\n            int root = scanner.nextInt();\n            int number = scanner.nextInt();\n            double rootValue = compute(number, root) * 1000.0 / 1000.0;\n            System.out.println((int) rootValue);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static double compute(int number, int root) {\n    double xPre = Math.random() % 10;\n    double error = 0.0000001;\n    double delX = 2147483647;\n    double current = 0.0;\n\n    while (delX &gt; error) {\n        current = ((root - 1.0) * xPre + (double) number / Math.pow(xPre, root - 1)) / (double) root;\n        delX = Math.abs(current - xPre);\n        xPre = current;\n    }\n    return current;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587924431,"creation_date":1587924431,"answer_id":61445623,"question_id":32553108,"body_markdown":"***Find nth root Using binary search method.***\r\nHere is the way to find nth root with any precision according to your requirements.\r\n\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class FindRoot {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry (Scanner scanner = new Scanner(System.in)) {\r\n    \t\t\tint testCase = scanner.nextInt();\r\n    \t\t\twhile (testCase-- &gt; 0) {\r\n    \t\t\t\tdouble number = scanner.nextDouble();\r\n    \t\t\t\tint root = scanner.nextInt();\r\n    \t\t\t\tdouble precision = scanner.nextDouble();\r\n    \t\t\t\tdouble result = findRoot(number, root, precision);\r\n    \t\t\t\tSystem.out.println(result);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static double findRoot(double number, int root, double precision) {\r\n    \t\tdouble start = 0;\r\n    \t\tdouble end = number / 2;\r\n    \t\tdouble mid = end;\r\n    \t\twhile (true) {\r\n    \t\t\tif (precision &gt;= diff(number, mid, root)) {\r\n    \t\t\t\treturn mid;\r\n    \t\t\t}\r\n    \t\t\tif (pow(mid, root) &gt; number) {\r\n    \t\t\t\tend = mid;\r\n    \t\t\t} else {\r\n    \t\t\t\tstart = mid;\r\n    \t\t\t}\r\n    \t\t\tmid = (start + end) / 2;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static double diff(double number, double mid, int n) {\r\n    \t\tdouble power = pow(mid, n);\r\n    \t\treturn number &gt; power ? number - power : power - number;\r\n    \t}\r\n    \r\n    \tprivate static double pow(double number, int pow) {\r\n    \t\tdouble result = number;\r\n    \t\twhile (pow-- &gt; 1) {\r\n    \t\t\tresult *= number;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n","title":"Calculating nth root in Java using power method","body":"<p><strong><em>Find nth root Using binary search method.</em></strong>\nHere is the way to find nth root with any precision according to your requirements.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class FindRoot {\n\n    public static void main(String[] args) {\n        try (Scanner scanner = new Scanner(System.in)) {\n            int testCase = scanner.nextInt();\n            while (testCase-- &gt; 0) {\n                double number = scanner.nextDouble();\n                int root = scanner.nextInt();\n                double precision = scanner.nextDouble();\n                double result = findRoot(number, root, precision);\n                System.out.println(result);\n            }\n        }\n    }\n\n    private static double findRoot(double number, int root, double precision) {\n        double start = 0;\n        double end = number / 2;\n        double mid = end;\n        while (true) {\n            if (precision &gt;= diff(number, mid, root)) {\n                return mid;\n            }\n            if (pow(mid, root) &gt; number) {\n                end = mid;\n            } else {\n                start = mid;\n            }\n            mid = (start + end) / 2;\n        }\n    }\n\n    private static double diff(double number, double mid, int n) {\n        double power = pow(mid, n);\n        return number &gt; power ? number - power : power - number;\n    }\n\n    private static double pow(double number, int pow) {\n        double result = number;\n        while (pow-- &gt; 1) {\n            result *= number;\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18352446,"reputation":269,"user_id":18765627,"display_name":"Michel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655142608,"creation_date":1655142608,"answer_id":72607102,"question_id":32553108,"body_markdown":"I&#39;m using this nth_root algorithm, which also provide the remainder :\r\n```java\r\n   public static BigInteger[] sqrt(final BigInteger n) {\r\n        final BigInteger[] res = {ZERO, n,};\r\n        BigInteger a, b;\r\n        assert (n.signum() &gt; 0);\r\n        a = ONE.shiftLeft(n.bitLength() &amp; ~1);\r\n        while (!a.equals(ZERO)) {\r\n            b = res[0].add(a);\r\n            res[0] = res[0].shiftRight(1);\r\n            if (res[1].compareTo(b) &gt;= 0) {\r\n                res[1] = res[1].subtract(b);\r\n                res[0] = res[0].add(a);\r\n            }\r\n            a = a.shiftRight(2);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    public static BigInteger[] nth_root(BigInteger n, final int nth) {\r\n        final BigInteger[] res;\r\n        switch(nth){\r\n                case 0 : res = new BigInteger[]{n.equals(ONE) ? ONE : ZERO, ZERO} ; break;\r\n                case 1 : res = new BigInteger[]{n, ZERO}; break;\r\n                case 2 : res = sqrt(n); break;\r\n                default:\r\n                    int sign = n.signum() ;\r\n                    n = n.abs();\r\n                        res = new BigInteger[]{n.shiftLeft((n.bitLength() + nth - 1) / nth), n};\r\n                        while(res[1].compareTo(res[0])&lt;0) {\r\n                            res[0] = res[1];\r\n                            res[1] = BigInteger.valueOf(nth-1).multiply(res[1]).add(n.divide(res[1].pow(nth - 1))).divide(BigInteger.valueOf(nth));\r\n                        }\r\n                        res[1] = res[0].pow(nth);\r\n                        res[1] = n.subtract(res[1]);\r\n                        if (sign &lt; 0 &amp;&amp; (nth &amp; 1) == 1) {\r\n                            res[0] = res[0].negate();\r\n                            res[1] = res[1].negate();\r\n                        } else assert (sign &gt; 0);\r\n            }\r\n            return res ;\r\n        }\r\n    }\r\n```","title":"Calculating nth root in Java using power method","body":"<p>I'm using this nth_root algorithm, which also provide the remainder :</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static BigInteger[] sqrt(final BigInteger n) {\n        final BigInteger[] res = {ZERO, n,};\n        BigInteger a, b;\n        assert (n.signum() &gt; 0);\n        a = ONE.shiftLeft(n.bitLength() &amp; ~1);\n        while (!a.equals(ZERO)) {\n            b = res[0].add(a);\n            res[0] = res[0].shiftRight(1);\n            if (res[1].compareTo(b) &gt;= 0) {\n                res[1] = res[1].subtract(b);\n                res[0] = res[0].add(a);\n            }\n            a = a.shiftRight(2);\n        }\n        return res;\n    }\n\n    public static BigInteger[] nth_root(BigInteger n, final int nth) {\n        final BigInteger[] res;\n        switch(nth){\n                case 0 : res = new BigInteger[]{n.equals(ONE) ? ONE : ZERO, ZERO} ; break;\n                case 1 : res = new BigInteger[]{n, ZERO}; break;\n                case 2 : res = sqrt(n); break;\n                default:\n                    int sign = n.signum() ;\n                    n = n.abs();\n                        res = new BigInteger[]{n.shiftLeft((n.bitLength() + nth - 1) / nth), n};\n                        while(res[1].compareTo(res[0])&lt;0) {\n                            res[0] = res[1];\n                            res[1] = BigInteger.valueOf(nth-1).multiply(res[1]).add(n.divide(res[1].pow(nth - 1))).divide(BigInteger.valueOf(nth));\n                        }\n                        res[1] = res[0].pow(nth);\n                        res[1] = n.subtract(res[1]);\n                        if (sign &lt; 0 &amp;&amp; (nth &amp; 1) == 1) {\n                            res[0] = res[0].negate();\n                            res[1] = res[1].negate();\n                        } else assert (sign &gt; 0);\n            }\n            return res ;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1934613,"reputation":369,"user_id":1743189,"accept_rate":60,"display_name":"Sara Alaa Khodeir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34924,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":10,"score":25,"last_activity_date":1669055827,"creation_date":1442168988,"question_id":32553108,"body_markdown":"I was trying to get a cubic root in java using `Math.pow(n, 1.0/3)` but because it divides doubles, it doesn&#39;t return the exact answer. For example, with 125, this gives 4.9999999999. Is there a work-around for this? I know there is a cubic root function but I&#39;d like to fix this so I can calculate higher roots.\r\n\r\nI would not like to round because I want to know whether a number has an integer root by doing something like this: `Math.pow(n, 1.0 / 3) % ((int) Math.pow(n, 1.0 / 3))`.","title":"Calculating nth root in Java using power method","body":"<p>I was trying to get a cubic root in java using <code>Math.pow(n, 1.0/3)</code> but because it divides doubles, it doesn't return the exact answer. For example, with 125, this gives 4.9999999999. Is there a work-around for this? I know there is a cubic root function but I'd like to fix this so I can calculate higher roots.</p>\n\n<p>I would not like to round because I want to know whether a number has an integer root by doing something like this: <code>Math.pow(n, 1.0 / 3) % ((int) Math.pow(n, 1.0 / 3))</code>.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666289992,"creation_date":1666289335,"answer_id":74144466,"question_id":74144398,"body_markdown":"I would assume your &#39;Item&#39; class is custom since you haven&#39;t added any imports. The solution with that in mind is to add a method that takes in one parameter (data) and traverses all the items in the &quot;q&quot; list. If an item matches the data, return true. If not, return false. Also, remember to implement the &#39;equals()&#39; method appropriately in the &#39;Item&#39; class.\r\n\r\nThe implementation of the search method should be pretty much this:\r\n\r\n \r\n\r\n    public boolean search(T value) {\r\n        if (value == null) {\r\n            return false;\r\n        }\r\n        Item&lt;T&gt; item = q;\r\n        while (q != null) {\r\n            if (q.equals(value))\r\n                return true;\r\n        }\r\n        return false;\r\n    }","title":"How i can do search() with stack","body":"<p>I would assume your 'Item' class is custom since you haven't added any imports. The solution with that in mind is to add a method that takes in one parameter (data) and traverses all the items in the &quot;q&quot; list. If an item matches the data, return true. If not, return false. Also, remember to implement the 'equals()' method appropriately in the 'Item' class.</p>\n<p>The implementation of the search method should be pretty much this:</p>\n<pre><code>public boolean search(T value) {\n    if (value == null) {\n        return false;\n    }\n    Item&lt;T&gt; item = q;\n    while (q != null) {\n        if (q.equals(value))\n            return true;\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":26684993,"reputation":33,"user_id":20294445,"display_name":"V0lino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74144466,"answer_count":1,"score":2,"last_activity_date":1669055319,"creation_date":1666289005,"question_id":74144398,"body_markdown":"I&#39;m trying to figure out how i can show all numbers in the stack i have, to do search method without using library. For example \r\n```\r\nif(value = allNumbers){\r\nreturn true;\r\n}\r\nelse{\r\nreturn false;\r\n}\r\n```\r\nThe problem is I can&#39;t find the correct method how to display ```allNumbers``` in the stack\r\nMy code:\r\n```\r\npublic class Stack &lt;T&gt;{\r\n    private Item&lt;T&gt; q=null;\r\n\r\n    public boolean isEmpty() {\r\n        return q==null;\r\n    }\r\n\r\n    public void push(T d) {\r\n        Item&lt;T&gt; tmp=new Item&lt;T&gt;(d);\r\n        tmp.next=q;\r\n        q=tmp;\r\n    }\r\n\r\n    public T pop() {\r\n        if (isEmpty())\r\n            return null;\r\n        T tmp=q.data;\r\n        q=q.next;\r\n        return tmp;\r\n    }\r\n    public T peek(){\r\n        if (isEmpty())\r\n            return null;\r\n        T tmp = q.data;\r\n        return tmp;\r\n    }\r\n//    public boolean search (T value) {\r\n//        if(value == null ) {\r\n//            return false;\r\n//        }\r\n//        else{\r\n//            value = allNumbers ;\r\n//            return true;\r\n//        }\r\n//\r\n//    }\r\n}\r\n```\r\nDriver code:\r\n```\r\npublic class Driver {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Stack&lt;Integer&gt; s=new Stack&lt;Integer&gt;();\r\n        int value = 2;\r\n        s.push(1);\r\n        s.push(2);\r\n        s.push(3);\r\n        s.push(4);\r\n        s.push(5);\r\n        s.push(6);\r\n        s.push(7);\r\n        s.push(8);\r\n        s.push(9);\r\n        System.out.println(&quot;Popped: &quot; + s.pop());\r\n        System.out.println(&quot;Last number put in is: &quot; + s.peek());\r\n//        System.out.println(&quot;Searching for: &quot; );\r\n//        System.out.println(&quot;Is found: &quot; + s.search(9));\r\n        while (!s.isEmpty()) {\r\n            System.out.println(s.pop());\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How i can do search() with stack","body":"<p>I'm trying to figure out how i can show all numbers in the stack i have, to do search method without using library. For example</p>\n<pre><code>if(value = allNumbers){\nreturn true;\n}\nelse{\nreturn false;\n}\n</code></pre>\n<p>The problem is I can't find the correct method how to display <code>allNumbers</code> in the stack\nMy code:</p>\n<pre><code>public class Stack &lt;T&gt;{\n    private Item&lt;T&gt; q=null;\n\n    public boolean isEmpty() {\n        return q==null;\n    }\n\n    public void push(T d) {\n        Item&lt;T&gt; tmp=new Item&lt;T&gt;(d);\n        tmp.next=q;\n        q=tmp;\n    }\n\n    public T pop() {\n        if (isEmpty())\n            return null;\n        T tmp=q.data;\n        q=q.next;\n        return tmp;\n    }\n    public T peek(){\n        if (isEmpty())\n            return null;\n        T tmp = q.data;\n        return tmp;\n    }\n//    public boolean search (T value) {\n//        if(value == null ) {\n//            return false;\n//        }\n//        else{\n//            value = allNumbers ;\n//            return true;\n//        }\n//\n//    }\n}\n</code></pre>\n<p>Driver code:</p>\n<pre><code>public class Driver {\n\n    public static void main(String[] args) {\n\n        Stack&lt;Integer&gt; s=new Stack&lt;Integer&gt;();\n        int value = 2;\n        s.push(1);\n        s.push(2);\n        s.push(3);\n        s.push(4);\n        s.push(5);\n        s.push(6);\n        s.push(7);\n        s.push(8);\n        s.push(9);\n        System.out.println(&quot;Popped: &quot; + s.pop());\n        System.out.println(&quot;Last number put in is: &quot; + s.peek());\n//        System.out.println(&quot;Searching for: &quot; );\n//        System.out.println(&quot;Is found: &quot; + s.search(9));\n        while (!s.isEmpty()) {\n            System.out.println(s.pop());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668518172,"post_id":74446231,"comment_id":131420272,"body_markdown":"@HovercraftFullOfEels I&#39;d say the best approach is don&#39;t write classes like that in the first place. A and B both depending on each other is highly indicative of the wrong design. They are tightly coupled.","body":"@HovercraftFullOfEels I&#39;d say the best approach is don&#39;t write classes like that in the first place. A and B both depending on each other is highly indicative of the wrong design. They are tightly coupled."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1668518453,"post_id":74446231,"comment_id":131420378,"body_markdown":"@Michael: I agree that one should always strive for a high level of cohesion and low level of coupling, but sometimes the design is not your choice, and you have to make do with what is given to you.","body":"@Michael: I agree that one should always strive for a high level of cohesion and low level of coupling, but sometimes the design is not your choice, and you have to make do with what is given to you."},{"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"score":0,"creation_date":1668519317,"post_id":74446231,"comment_id":131420749,"body_markdown":"@Michael While I do want to achieve what you have stated, my current system relies heavily on the holder class A, and I don&#39;t think it is sensible to individually pass in the B object into other methods&#39; parameters (There are many more objects like this, and the B object is just an example). \n\nFurthermore, the B object is a direct component of A, you can think of it as attaching a part to a bigger one (Somewhat similar to public inner class ? ). I don&#39;t know how to make the said classes loosely coupled, sadly.","body":"@Michael While I do want to achieve what you have stated, my current system relies heavily on the holder class A, and I don&#39;t think it is sensible to individually pass in the B object into other methods&#39; parameters (There are many more objects like this, and the B object is just an example).   Furthermore, the B object is a direct component of A, you can think of it as attaching a part to a bigger one (Somewhat similar to public inner class ? ). I don&#39;t know how to make the said classes loosely coupled, sadly."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1668519378,"post_id":74446231,"comment_id":131420772,"body_markdown":"Shadow, pertinent to @Michael&#39;s comment, please see [this answer](https://stackoverflow.com/a/36909439/).","body":"Shadow, pertinent to @Michael&#39;s comment, please see <a href=\"https://stackoverflow.com/a/36909439/\">this answer</a>."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668519723,"post_id":74446231,"comment_id":131420926,"body_markdown":"@Shadow504 &quot;B object is a direct component of A&quot;. That&#39;s fine. That&#39;s just composition. A car has an engine. An engine doesn&#39;t also have a car.","body":"@Shadow504 &quot;B object is a direct component of A&quot;. That&#39;s fine. That&#39;s just composition. A car has an engine. An engine doesn&#39;t also have a car."},{"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"score":0,"creation_date":1668522093,"post_id":74446231,"comment_id":131422010,"body_markdown":"Currently having a hard time as I see no way to handle this issue. To give a more in-depth context, the actual classes&#39;s are: Client (A), AccountController (B), so basically each clients should have multiple accounts, and the AccountController is there to handle those accounts. Now, other classes access the AccountController formally by a setter in the Client class, the AccountController is in a separate package (People said that this is a bad design). Merging is a huge no-no, inner classes may affect readability, and interfaces don&#39;t work as these classes have little to no relation","body":"Currently having a hard time as I see no way to handle this issue. To give a more in-depth context, the actual classes&#39;s are: Client (A), AccountController (B), so basically each clients should have multiple accounts, and the AccountController is there to handle those accounts. Now, other classes access the AccountController formally by a setter in the Client class, the AccountController is in a separate package (People said that this is a bad design). Merging is a huge no-no, inner classes may affect readability, and interfaces don&#39;t work as these classes have little to no relation"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668522268,"post_id":74446231,"comment_id":131422084,"body_markdown":"@Shadow504 What is an &quot;AccountController&quot;, and why does a Client have one (or more)? Shouldn&#39;t a `Client` (A) have multiple `Account`s (C)?","body":"@Shadow504 What is an &quot;AccountController&quot;, and why does a Client have one (or more)? Shouldn&#39;t a <code>Client</code> (A) have multiple <code>Account</code>s (C)?"},{"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"score":0,"creation_date":1668522404,"post_id":74446231,"comment_id":131422145,"body_markdown":"@Michael It is there to handle all of the accounts (Creation, Deletion, etc... ). Now that I think of it, it should probably be grouped into the same package as the client, as the AccountController is simply there to neatly control the accounts. But the issue still persists","body":"@Michael It is there to handle all of the accounts (Creation, Deletion, etc... ). Now that I think of it, it should probably be grouped into the same package as the client, as the AccountController is simply there to neatly control the accounts. But the issue still persists"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668522537,"post_id":74446231,"comment_id":131422208,"body_markdown":"I still don&#39;t really understand the problem, but even if a client has multiple accounts, it obvious does not need ALL accounts, which AccountController is providing. AccountController (B) should have all Accounts (C). Client (A) should have N Accounts (C). Client should not have AccountController.","body":"I still don&#39;t really understand the problem, but even if a client has multiple accounts, it obvious does not need ALL accounts, which AccountController is providing. AccountController (B) should have all Accounts (C). Client (A) should have N Accounts (C). Client should not have AccountController."}],"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669054800,"creation_date":1668517918,"question_id":74446231,"body_markdown":"So I don&#39;t know if this is a good  approach or not:\r\n``` java\r\n\r\nclass A {\r\n\r\n    B b;\r\n\r\n    A() {\r\n        this.b = new B(this);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nclass B {\r\n    A a;\r\n\r\n    //* Requires the A object as a parameter */\r\n    B(A a) {\r\n        this.a = a;\r\n    }\r\n}\r\n```\r\n\r\nThe reason I did this is that the class B must hold the A object in order to operate (Think of the class A as a  &quot;holder&quot; for class B)\r\n\r\nHowever, this leads to many issue, I am not sure if this is an anti-pattern or not, but when I&#39;m doing Unit Testing class A, it would be hard for me to mock or omit object B as there&#39;s no dependency injection. \r\n\r\nI don&#39;t think I can implement the dependency injection pattern here as the B object NEEDS object A to operate, so passing it in as a parameters to the constructor would not work.\r\n\r\nThe only solution I have thought of is to make a ```setUp``` method, like so:\r\n\r\n```\r\n// In the A class\r\npublic void setUp(B b) {\r\n    this.b = b;\r\n}\r\n```\r\n\r\nThis would successfully separate the testing and the actual application from themselves, while adhering to the dependency injection pattern. Though, I am not 100% sure with this approach.\r\n\r\n\r\nI am just not sure if this approach is ideal or not.\r\n\r\nEdit: The post that was linked to this &quot;duplicate&quot; one does not directly pertain to my problem. The one that was referenced got a ```StackOverflowError```, while mine does not, furthermore, that post&#39;s constructor does not include any parameters. \r\n\r\nTo further clarify my existing issue: my ```A``` class is the ```ClientClass```, and the ```B``` is the ```AccountController``` class. The ```AccountController``` handles all of the accounts of the CLIENT, and each client has one ```AccountController```, it handles things such as logging in and out, account creation and deletion, and track the current account. Other classes reference the ```ClientClass``` object to also get the ```AccountController```, I did this mainly for readability. ","title":"Is it a good idea to instantiate a class A in constructor B (While the constructor A requires a B object)","body":"<p>So I don't know if this is a good  approach or not:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass A {\n\n    B b;\n\n    A() {\n        this.b = new B(this);\n    }\n}\n\n</code></pre>\n<pre><code>class B {\n    A a;\n\n    //* Requires the A object as a parameter */\n    B(A a) {\n        this.a = a;\n    }\n}\n</code></pre>\n<p>The reason I did this is that the class B must hold the A object in order to operate (Think of the class A as a  &quot;holder&quot; for class B)</p>\n<p>However, this leads to many issue, I am not sure if this is an anti-pattern or not, but when I'm doing Unit Testing class A, it would be hard for me to mock or omit object B as there's no dependency injection.</p>\n<p>I don't think I can implement the dependency injection pattern here as the B object NEEDS object A to operate, so passing it in as a parameters to the constructor would not work.</p>\n<p>The only solution I have thought of is to make a <code>setUp</code> method, like so:</p>\n<pre><code>// In the A class\npublic void setUp(B b) {\n    this.b = b;\n}\n</code></pre>\n<p>This would successfully separate the testing and the actual application from themselves, while adhering to the dependency injection pattern. Though, I am not 100% sure with this approach.</p>\n<p>I am just not sure if this approach is ideal or not.</p>\n<p>Edit: The post that was linked to this &quot;duplicate&quot; one does not directly pertain to my problem. The one that was referenced got a <code>StackOverflowError</code>, while mine does not, furthermore, that post's constructor does not include any parameters.</p>\n<p>To further clarify my existing issue: my <code>A</code> class is the <code>ClientClass</code>, and the <code>B</code> is the <code>AccountController</code> class. The <code>AccountController</code> handles all of the accounts of the CLIENT, and each client has one <code>AccountController</code>, it handles things such as logging in and out, account creation and deletion, and track the current account. Other classes reference the <code>ClientClass</code> object to also get the <code>AccountController</code>, I did this mainly for readability.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669037418,"post_id":74519469,"comment_id":131544917,"body_markdown":"What specific problem are you facing? Just to note: `jsonObject.get(&quot;things&quot;)` - where is `&quot;things&quot;` in your JSON? Did you mean `jsonObject.get(&quot;names&quot;)`?","body":"What specific problem are you facing? Just to note: <code>jsonObject.get(&quot;things&quot;)</code> - where is <code>&quot;things&quot;</code> in your JSON? Did you mean <code>jsonObject.get(&quot;names&quot;)</code>?"},{"owner":{"account_id":27001998,"reputation":7,"user_id":20563143,"display_name":"Prasad"},"score":0,"creation_date":1669037584,"post_id":74519469,"comment_id":131544974,"body_markdown":"Yes thats correct it is names","body":"Yes thats correct it is names"}],"answers":[{"tags":[],"owner":{"account_id":27001998,"reputation":7,"user_id":20563143,"display_name":"Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669054150,"creation_date":1669054150,"answer_id":74523183,"question_id":74519469,"body_markdown":"```\r\nJSONParser jsonParser = new JSONParser();\r\n        Object object;\r\n\r\n        try {\r\n\r\n            object = jsonParser.parse(new FileReader(&quot;src/main/resources/thing.json&quot;));\r\n            JSONObject jsonObject = (JSONObject) object;\r\n\r\n\r\n            JSONArray things = (JSONArray) jsonObject.get(&quot;things&quot;);\r\n\r\n\r\n\r\n            Iterator itr = things.iterator();\r\n\r\n            System.out.println(&quot;Thing_name&quot;+&quot;^&quot;+&quot;Mac_Address&quot;+&quot;^&quot;+&quot;Active&quot;+&quot;^&quot;+&quot;Unique_Device_Identifier&quot;);\r\n\r\n            JSONArray jsonArray = (JSONArray) jsonObject.get(&quot;things&quot;);\r\n\r\n            while (itr.hasNext()) {\r\n\r\n//                JSONArray attributes1 = (JSONArray) jsonObject.get(&quot;thingName&quot;);\r\n\r\n                for (int i = 0; i &lt;jsonArray.size(); i++) {\r\n                Object slide = itr.next();\r\n                JSONObject jsonObject2 = (JSONObject) slide;\r\n                JSONObject attributes = (JSONObject) jsonObject2.get(&quot;attributes&quot;);\r\n\r\n                String macAddress = (String) attributes.get(&quot;MACAddress&quot;);\r\n                String active = (String) attributes.get(&quot;activationCode&quot;);\r\n                String uniqueDeviceIdentifier = (String) attributes.get(&quot;uniqueDeviceIdentifier&quot;);\r\n\r\n                System.out.println(((JSONObject) jsonArray.get(i)).get(&quot;thingName&quot;) + &quot;^&quot; + macAddress + &quot;^&quot; + active + &quot;^&quot; + uniqueDeviceIdentifier);\r\n               \r\n```","title":"Fetch attributes values from a json file","body":"<pre><code>JSONParser jsonParser = new JSONParser();\n        Object object;\n\n        try {\n\n            object = jsonParser.parse(new FileReader(&quot;src/main/resources/thing.json&quot;));\n            JSONObject jsonObject = (JSONObject) object;\n\n\n            JSONArray things = (JSONArray) jsonObject.get(&quot;things&quot;);\n\n\n\n            Iterator itr = things.iterator();\n\n            System.out.println(&quot;Thing_name&quot;+&quot;^&quot;+&quot;Mac_Address&quot;+&quot;^&quot;+&quot;Active&quot;+&quot;^&quot;+&quot;Unique_Device_Identifier&quot;);\n\n            JSONArray jsonArray = (JSONArray) jsonObject.get(&quot;things&quot;);\n\n            while (itr.hasNext()) {\n\n//                JSONArray attributes1 = (JSONArray) jsonObject.get(&quot;thingName&quot;);\n\n                for (int i = 0; i &lt;jsonArray.size(); i++) {\n                Object slide = itr.next();\n                JSONObject jsonObject2 = (JSONObject) slide;\n                JSONObject attributes = (JSONObject) jsonObject2.get(&quot;attributes&quot;);\n\n                String macAddress = (String) attributes.get(&quot;MACAddress&quot;);\n                String active = (String) attributes.get(&quot;activationCode&quot;);\n                String uniqueDeviceIdentifier = (String) attributes.get(&quot;uniqueDeviceIdentifier&quot;);\n\n                System.out.println(((JSONObject) jsonArray.get(i)).get(&quot;thingName&quot;) + &quot;^&quot; + macAddress + &quot;^&quot; + active + &quot;^&quot; + uniqueDeviceIdentifier);\n               \n</code></pre>\n"}],"owner":{"account_id":27001998,"reputation":7,"user_id":20563143,"display_name":"Prasad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1669054150,"creation_date":1669036169,"question_id":74519469,"body_markdown":"i am using java language.\r\ni want to print name,MACAddress,active,uniqueDeviceIdentifier values on the same line as per name.\r\nI have tried below code but i am not able to fetch name , i was able to fetch rest of the attributes , i am struggling with name attribute \r\n\r\nfor below test.json\r\n\r\n```json\r\n{\r\n  &quot;names&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;ABC&quot;,\r\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;MACAddress&quot;: &quot;02:00:00:44:11:30&quot;,\r\n        &quot;active&quot;: &quot;true&quot;\r\n      },\r\n      &quot;version&quot;: 1\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;XYZ&quot;,\r\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;active&quot;: &quot;true&quot;,\r\n        &quot;uniqueDeviceIdentifier&quot;: &quot;2EAFCEE9-6379-4010-B6B1-8F335D83316F&quot;\r\n      },\r\n      &quot;version&quot;: 38\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;YYZ&quot;,\r\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;active&quot;: &quot;true&quot;,\r\n        &quot;uniqueDeviceIdentifier&quot;: &quot;2EAFCEE9-6379-4010-B6B1-8F335D833161&quot;\r\n      },\r\n      &quot;version&quot;: 39\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;AAA&quot;,\r\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;MACAddress&quot;: &quot;02:00:00:44:55:32&quot;\r\n      },\r\n      &quot;version&quot;: 1\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n```\r\nJSONParser jsonParser = new JSONParser();\r\n        Object object;\r\n        try {\r\n            object = jsonParser.parse(new FileReader(&quot;src/main/resources/Test.json&quot;));\r\n            JSONObject jsonObject = (JSONObject) object;\r\n            JSONArray things = (JSONArray) jsonObject.get(&quot;things&quot;);\r\n            Iterator itr = things.iterator();\r\n            System.out.println(&quot;thing name&quot;+&quot;^&quot;+&quot;mac Address&quot;+&quot;^&quot;+&quot;activation Code&quot;+&quot;^&quot;+&quot;unique Device Identifier&quot;);\r\n            while (itr.hasNext()) {\r\n                Object slide = itr.next();\r\n                JSONObject jsonObject2 = (JSONObject) slide;\r\n                JSONObject attributes = (JSONObject) jsonObject2.get(&quot;attributes&quot;);\r\n\r\n                String macAddress = (String) attributes.get(&quot;MACAddress&quot;);\r\n                String activationCode = (String) attributes.get(&quot;activationCode&quot;);\r\n                String uniqueDeviceIdentifier = (String) attributes.get(&quot;uniqueDeviceIdentifier&quot;);       System.out.println(macAddress+&quot;^&quot;+activationCode+&quot;^&quot;+uniqueDeviceIdentifier);\r\n```\r\n\r\n**required output**\r\n```\r\nname^MACAddress^active^uniqueDeviceIdentifier\r\n\r\nABC^02:00:00:44:11:30^true^null\r\n\r\nXYZ^null^true^2EAFCEE9-6379-4010-B6B1-8F335D83316F\r\n\r\nYYZ^null^true^2EAFCEE9-6379-4010-B6B1-8F335D833161\r\n\r\nXYZ^02:00:00:44:55:32^null^null\r\n```\r\n\r\n","title":"Fetch attributes values from a json file","body":"<p>i am using java language.\ni want to print name,MACAddress,active,uniqueDeviceIdentifier values on the same line as per name.\nI have tried below code but i am not able to fetch name , i was able to fetch rest of the attributes , i am struggling with name attribute</p>\n<p>for below test.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;names&quot;: [\n    {\n      &quot;name&quot;: &quot;ABC&quot;,\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\n      &quot;attributes&quot;: {\n        &quot;MACAddress&quot;: &quot;02:00:00:44:11:30&quot;,\n        &quot;active&quot;: &quot;true&quot;\n      },\n      &quot;version&quot;: 1\n    },\n    {\n      &quot;name&quot;: &quot;XYZ&quot;,\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\n      &quot;attributes&quot;: {\n        &quot;active&quot;: &quot;true&quot;,\n        &quot;uniqueDeviceIdentifier&quot;: &quot;2EAFCEE9-6379-4010-B6B1-8F335D83316F&quot;\n      },\n      &quot;version&quot;: 38\n    },\n    {\n      &quot;name&quot;: &quot;YYZ&quot;,\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\n      &quot;attributes&quot;: {\n        &quot;active&quot;: &quot;true&quot;,\n        &quot;uniqueDeviceIdentifier&quot;: &quot;2EAFCEE9-6379-4010-B6B1-8F335D833161&quot;\n      },\n      &quot;version&quot;: 39\n    },\n    {\n      &quot;name&quot;: &quot;AAA&quot;,\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\n      &quot;attributes&quot;: {\n        &quot;MACAddress&quot;: &quot;02:00:00:44:55:32&quot;\n      },\n      &quot;version&quot;: 1\n    }\n  ]\n}\n</code></pre>\n<pre><code>JSONParser jsonParser = new JSONParser();\n        Object object;\n        try {\n            object = jsonParser.parse(new FileReader(&quot;src/main/resources/Test.json&quot;));\n            JSONObject jsonObject = (JSONObject) object;\n            JSONArray things = (JSONArray) jsonObject.get(&quot;things&quot;);\n            Iterator itr = things.iterator();\n            System.out.println(&quot;thing name&quot;+&quot;^&quot;+&quot;mac Address&quot;+&quot;^&quot;+&quot;activation Code&quot;+&quot;^&quot;+&quot;unique Device Identifier&quot;);\n            while (itr.hasNext()) {\n                Object slide = itr.next();\n                JSONObject jsonObject2 = (JSONObject) slide;\n                JSONObject attributes = (JSONObject) jsonObject2.get(&quot;attributes&quot;);\n\n                String macAddress = (String) attributes.get(&quot;MACAddress&quot;);\n                String activationCode = (String) attributes.get(&quot;activationCode&quot;);\n                String uniqueDeviceIdentifier = (String) attributes.get(&quot;uniqueDeviceIdentifier&quot;);       System.out.println(macAddress+&quot;^&quot;+activationCode+&quot;^&quot;+uniqueDeviceIdentifier);\n</code></pre>\n<p><strong>required output</strong></p>\n<pre><code>name^MACAddress^active^uniqueDeviceIdentifier\n\nABC^02:00:00:44:11:30^true^null\n\nXYZ^null^true^2EAFCEE9-6379-4010-B6B1-8F335D83316F\n\nYYZ^null^true^2EAFCEE9-6379-4010-B6B1-8F335D833161\n\nXYZ^02:00:00:44:55:32^null^null\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1668956471,"post_id":74490450,"comment_id":131526844,"body_markdown":"how MyEntity and MyOM is related?","body":"how MyEntity and MyOM is related?"},{"owner":{"account_id":3381085,"reputation":35,"user_id":2838113,"display_name":"jeangr"},"score":0,"creation_date":1669047134,"post_id":74490450,"comment_id":131548709,"body_markdown":"they are two independent classes","body":"they are two independent classes"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":1,"creation_date":1669052434,"post_id":74490450,"comment_id":131550543,"body_markdown":"Can you share the MapStruct interface/class on which you are working? I want to see what you have tried, so I can be sure to share with you the best solution.","body":"Can you share the MapStruct interface/class on which you are working? I want to see what you have tried, so I can be sure to share with you the best solution."}],"owner":{"account_id":3381085,"reputation":35,"user_id":2838113,"display_name":"jeangr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669053738,"creation_date":1668778314,"question_id":74490450,"body_markdown":"I need to map a List&lt;MyOM&gt; into List&lt;MyEntity&gt; in this following way (and viceversa)\r\n\r\nOne MyOM (the parent) can have a list of MyOM inside (the children). A child can&#39;t have children. A parent can have no children.\r\n\r\nMyEntity has a field &quot;parent&quot; of type MyEntity.\r\n\r\nHow can I use Mapstruct in order to build these list of objects correctly?\r\n\r\nthanks a lot\r\n\r\n\r\n\r\nmy classes\r\n```\r\nclass MyOM {\r\n    private String label;\r\n    private Set&lt;MyOM&gt; children;\r\n}\r\n\r\n\r\nclass MyEntity {\r\n    private String label;\r\n    private MyEntity parent;\r\n}\r\n```\r\n\r\njson example of list of OM\r\n```\r\n[\r\n    {\r\n        &quot;label&quot;: &quot;parent&quot;,\r\n        &quot;children&quot;: [\r\n\t\t    {\r\n\t\t\t&quot;label&quot;: &quot;child_1&quot;,\r\n\t\t\t&quot;children&quot;: []\r\n\t\t    },\r\n\t\t    {\r\n\t\t\t&quot;label&quot;: &quot;child_2&quot;,\r\n\t\t\t&quot;children&quot;: []\r\n\t\t    }\r\n        ]\r\n    },\r\n    {\r\n        &quot;label&quot;: &quot;noParent_1&quot;,\r\n        &quot;children&quot;: []\r\n    },\r\n    {\r\n        &quot;label&quot;: &quot;noParent_2&quot;,\r\n        &quot;children&quot;: []\r\n    }\r\n]\r\n```\r\n\r\nThe interface is:\r\n\r\n```\r\n@Mapper(config = ServiceMapperConfig.class)\r\npublic interface IMyObjectMapper {\r\n\r\n    MyOM map(MyEntity entity);\r\n\r\n    List&lt;MyOM&gt; mapEntities(List&lt;MyEntity&gt; entities);\r\n\r\n    MyEntity map(MyOM om);\r\n\r\n    List&lt;MyEntity&gt; mapOMs(List&lt;MyOM&gt; dtos);\r\n\r\n}\r\n```\r\n","title":"Mapstruct: from a list of OM to list of entity (parent/child relationship) and viceversa","body":"<p>I need to map a List into List in this following way (and viceversa)</p>\n<p>One MyOM (the parent) can have a list of MyOM inside (the children). A child can't have children. A parent can have no children.</p>\n<p>MyEntity has a field &quot;parent&quot; of type MyEntity.</p>\n<p>How can I use Mapstruct in order to build these list of objects correctly?</p>\n<p>thanks a lot</p>\n<p>my classes</p>\n<pre><code>class MyOM {\n    private String label;\n    private Set&lt;MyOM&gt; children;\n}\n\n\nclass MyEntity {\n    private String label;\n    private MyEntity parent;\n}\n</code></pre>\n<p>json example of list of OM</p>\n<pre><code>[\n    {\n        &quot;label&quot;: &quot;parent&quot;,\n        &quot;children&quot;: [\n            {\n            &quot;label&quot;: &quot;child_1&quot;,\n            &quot;children&quot;: []\n            },\n            {\n            &quot;label&quot;: &quot;child_2&quot;,\n            &quot;children&quot;: []\n            }\n        ]\n    },\n    {\n        &quot;label&quot;: &quot;noParent_1&quot;,\n        &quot;children&quot;: []\n    },\n    {\n        &quot;label&quot;: &quot;noParent_2&quot;,\n        &quot;children&quot;: []\n    }\n]\n</code></pre>\n<p>The interface is:</p>\n<pre><code>@Mapper(config = ServiceMapperConfig.class)\npublic interface IMyObjectMapper {\n\n    MyOM map(MyEntity entity);\n\n    List&lt;MyOM&gt; mapEntities(List&lt;MyEntity&gt; entities);\n\n    MyEntity map(MyOM om);\n\n    List&lt;MyEntity&gt; mapOMs(List&lt;MyOM&gt; dtos);\n\n}\n</code></pre>\n"},{"tags":["java","loops","stack"],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669053718,"creation_date":1669053718,"answer_id":74523106,"question_id":74523039,"body_markdown":"Stack is not good fit here.\r\nYou can use a double ended queue or Deque.\r\n\r\n    top = deque.removeFromLast();\r\n    \r\n    while(deque.peek() != top) {\r\n     type userMove = deque.removeFromLast();\r\n     assign userMove back onto the board. \r\n     deque.addToFront(userMove);\r\n    }","title":"How do i push an item back into a stack that i just popped without creating an infinite loop?","body":"<p>Stack is not good fit here.\nYou can use a double ended queue or Deque.</p>\n<pre><code>top = deque.removeFromLast();\n\nwhile(deque.peek() != top) {\n type userMove = deque.removeFromLast();\n assign userMove back onto the board. \n deque.addToFront(userMove);\n}\n</code></pre>\n"}],"owner":{"account_id":25333830,"reputation":11,"user_id":19153266,"display_name":"V172456443"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669053718,"creation_date":1669053378,"question_id":74523039,"body_markdown":"I&#39;m trying to create a loop for a game in Java with the following logic:\r\n\r\n\r\n```\r\nif (the stack is not empty) {\r\n pop top move from stack.\r\n reset the board.\r\n}\r\n\r\n// then i create a while loop to pop the moves back onto the board.\r\n\r\nwhile(stack is not empty) {\r\n   type userMove = history.pop();\r\n   assign userMove back onto the board.\r\n}\r\n\r\n```\r\nThe last bit I&#39;m stuck on is also pushing the user moves that i&#39;m assigning back into the stack.\r\n\r\n\r\n\r\nif i do this:\r\n\r\n```\r\nwhile(stack is not empty) {\r\n type userMove = history.pop();\r\n assign userMove back onto the board. \r\n history.push(userMove);\r\n}\r\n```\r\nthen i&#39;ll create an infinite loop. So i&#39;m not sure how to do that final step to push those moves back into the stack.","title":"How do i push an item back into a stack that i just popped without creating an infinite loop?","body":"<p>I'm trying to create a loop for a game in Java with the following logic:</p>\n<pre><code>if (the stack is not empty) {\n pop top move from stack.\n reset the board.\n}\n\n// then i create a while loop to pop the moves back onto the board.\n\nwhile(stack is not empty) {\n   type userMove = history.pop();\n   assign userMove back onto the board.\n}\n\n</code></pre>\n<p>The last bit I'm stuck on is also pushing the user moves that i'm assigning back into the stack.</p>\n<p>if i do this:</p>\n<pre><code>while(stack is not empty) {\n type userMove = history.pop();\n assign userMove back onto the board. \n history.push(userMove);\n}\n</code></pre>\n<p>then i'll create an infinite loop. So i'm not sure how to do that final step to push those moves back into the stack.</p>\n"},{"tags":["java","spring","backend"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1669051387,"post_id":74522013,"comment_id":131550182,"body_markdown":"https://github.com/bramp/ffmpeg-cli-wrapper might be an option.","body":"<a href=\"https://github.com/bramp/ffmpeg-cli-wrapper\" rel=\"nofollow noreferrer\">github.com/bramp/ffmpeg-cli-wrapper</a> might be an option."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669064913,"post_id":74522013,"comment_id":131554183,"body_markdown":"This has nothing to do with MP4 or any other video format.  You would do the same thing for an image, or a PDF document.","body":"This has nothing to do with MP4 or any other video format.  You would do the same thing for an image, or a PDF document."}],"answers":[{"tags":[],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669053690,"creation_date":1669053690,"answer_id":74523099,"question_id":74522013,"body_markdown":"Found out how to record video to a file\r\n\r\n    MultipartFile.transferTo(new File(pathToVideo))","title":"MultipartFile(MP4) writing to a folder","body":"<p>Found out how to record video to a file</p>\n<pre><code>MultipartFile.transferTo(new File(pathToVideo))\n</code></pre>\n"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669053690,"creation_date":1669048170,"question_id":74522013,"body_markdown":"What class is there in Java or libraries for video processing (getting video size/length/quality and other stuff), also I wanted to know how to record video(mp4) in a folder?\r\n\r\n`@RequestMapping(&quot;/uploadVideo&quot;)\r\npublic String handleFileUpload(@ModelAttribute VideoRequestDto videoRequestDto) {\r\n}\r\n`\r\n\r\n    private MultipartFile video;\r\n    private MultipartFile avatarForVideo;","title":"MultipartFile(MP4) writing to a folder","body":"<p>What class is there in Java or libraries for video processing (getting video size/length/quality and other stuff), also I wanted to know how to record video(mp4) in a folder?</p>\n<p><code>@RequestMapping(&quot;/uploadVideo&quot;) public String handleFileUpload(@ModelAttribute VideoRequestDto videoRequestDto) { } </code></p>\n<pre><code>private MultipartFile video;\nprivate MultipartFile avatarForVideo;\n</code></pre>\n"},{"tags":["java","android","build","android-source","android-embedded-api"],"comments":[{"owner":{"account_id":5052293,"reputation":96,"user_id":4056482,"display_name":"BonBon"},"score":1,"creation_date":1621974176,"post_id":65765977,"comment_id":119655349,"body_markdown":"Ever get an update on this one?","body":"Ever get an update on this one?"}],"answers":[{"tags":[],"owner":{"account_id":6129218,"reputation":105,"user_id":4780052,"display_name":"jkhsjdhjs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669053081,"creation_date":1669053081,"answer_id":74522996,"question_id":65765977,"body_markdown":"I had the same issue with Android x86, for some reason the source `.dex` files in `out/target/common/obj/JAVA_LIBRARIES/ims-common_intermediates/dex` were not created for me (maybe due to previous errors in the compilation process).\r\n\r\nI solved it by removing the entire `JAVA_LIBRARIES` directory, which caused - among others - the dex files to be rebuilt in the next compilation attempt:\r\n```\r\nrm -r out/target/common/obj/JAVA_LIBRARIES\r\n```\r\n\r\nMaybe removing a subdirectory like `ims-common_intermediates` or `ims-common_intermediates/dex` suffices, but I didn&#39;t test that.","title":"AOSP building : hiddenapi: No DEX files specified","body":"<p>I had the same issue with Android x86, for some reason the source <code>.dex</code> files in <code>out/target/common/obj/JAVA_LIBRARIES/ims-common_intermediates/dex</code> were not created for me (maybe due to previous errors in the compilation process).</p>\n<p>I solved it by removing the entire <code>JAVA_LIBRARIES</code> directory, which caused - among others - the dex files to be rebuilt in the next compilation attempt:</p>\n<pre><code>rm -r out/target/common/obj/JAVA_LIBRARIES\n</code></pre>\n<p>Maybe removing a subdirectory like <code>ims-common_intermediates</code> or <code>ims-common_intermediates/dex</code> suffices, but I didn't test that.</p>\n"}],"owner":{"account_id":20477060,"reputation":21,"user_id":15026135,"display_name":"Ahmed Abidi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669053081,"creation_date":1610917791,"question_id":65765977,"body_markdown":"I am building android repo to flash it to a rpi, and arround 80% of the process it failed.\r\nthis is the log \r\n\r\n[  0% 3/6424] build out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex\r\nFAILED: out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex \r\n/bin/bash -c &quot;(rm -rf out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (mkdir -p out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex/ -maxdepth 1 -name \\&quot;classes*.dex\\&quot; | sort | xargs -I{} cp -f {} out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ -name \\&quot;classes*.dex\\&quot; | sort | sed &#39;s/^/--dex=/&#39; | xargs out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt )&quot;\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] No DEX files specified\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] Command: out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] Usage: hiddenapi [options]...\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] \r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --dex=&lt;filename&gt;: specify dex file whose members&#39; access flags are to be set.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       At least one --dex parameter must be specified.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] \r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --light-greylist=&lt;filename&gt;:\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --dark-greylist=&lt;filename&gt;:\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --blacklist=&lt;filename&gt;: text files with signatures of methods/fields to be marked\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       greylisted/blacklisted respectively. At least one list must be provided.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] \r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --print-hidden-api: dump a list of marked methods/fields to the standard output.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       There is no indication which API category they belong to.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] \r\n[  0% 8/6424] //prebuilts/sdk/current/extras/material-design:android-support-design-bottomappbar javac\r\nninja: build stopped: subcommand failed.\r\n22:47:55 ninja failed with: exit status 1\r\n\r\n#### failed to build some targets (02:36 (mm:ss)) ####\r\n\r\n\r\nCan anyone help and explain to me the source of this problem and thank you in advance.","title":"AOSP building : hiddenapi: No DEX files specified","body":"<p>I am building android repo to flash it to a rpi, and arround 80% of the process it failed.\nthis is the log</p>\n<p>[  0% 3/6424] build out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex\nFAILED: out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex\n/bin/bash -c &quot;(rm -rf out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (mkdir -p out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex/ -maxdepth 1 -name &quot;classes*.dex&quot; | sort | xargs -I{} cp -f {} out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ -name &quot;classes*.dex&quot; | sort | sed 's/^/--dex=/' | xargs out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt )&quot;\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] No DEX files specified\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] Command: out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] Usage: hiddenapi [options]...\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --dex=: specify dex file whose members' access flags are to be set.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       At least one --dex parameter must be specified.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --light-greylist=:\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --dark-greylist=:\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --blacklist=: text files with signatures of methods/fields to be marked\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       greylisted/blacklisted respectively. At least one list must be provided.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --print-hidden-api: dump a list of marked methods/fields to the standard output.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       There is no indication which API category they belong to.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]\n[  0% 8/6424] //prebuilts/sdk/current/extras/material-design:android-support-design-bottomappbar javac\nninja: build stopped: subcommand failed.\n22:47:55 ninja failed with: exit status 1</p>\nfailed to build some targets (02:36 (mm:ss))\n<p>Can anyone help and explain to me the source of this problem and thank you in advance.</p>\n"},{"tags":["java","kotlin","date"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1669050585,"post_id":74522382,"comment_id":131549917,"body_markdown":"Your pattern is wrong: `yyyy-MM-dd&#39;T&#39;HH:mm:ss.sss&#39;Z&#39;` should be `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;`. If you had used the (new) `java.time` API you&#39;d have got an appropriate exception: `java.lang.IllegalArgumentException: Too many pattern letters: s`","body":"Your pattern is wrong: <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.sss&#39;Z&#39;</code> should be <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;</code>. If you had used the (new) <code>java.time</code> API you&#39;d have got an appropriate exception: <code>java.lang.IllegalArgumentException: Too many pattern letters: s</code>"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1669050762,"post_id":74522382,"comment_id":131549976,"body_markdown":"Also the additional 5 minutes is just a coincidence. If you use a different input string, you&#39;d get completely different results.","body":"Also the additional 5 minutes is just a coincidence. If you use a different input string, you&#39;d get completely different results."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669052332,"post_id":74522382,"comment_id":131550507,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `Instant`, `OffsetDateTime` and `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>Instant</code>, <code>OffsetDateTime</code> and <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669054039,"post_id":74522382,"comment_id":131551051,"body_markdown":"`Instant.parse(&quot;2022-11-21T16:29:28.325Z&quot;).atZone(ZoneId.of(&quot;America/Halifax&quot;)).format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm&quot;))` yields `2022-11-21 12:29`.","body":"<code>Instant.parse(&quot;2022-11-21T16:29:28.325Z&quot;).atZone(ZoneId.of(&quot;&zwnj;&#8203;America&#47;Halifax&quot;)).f&zwnj;&#8203;ormat(DateTimeFormat&zwnj;&#8203;ter.ofPattern(&quot;uuuu-&zwnj;&#8203;MM-dd HH:mm&quot;))</code> yields <code>2022-11-21 12:29</code>."},{"owner":{"account_id":4252436,"reputation":135,"user_id":3479061,"display_name":"owenlejeune"},"score":0,"creation_date":1669058833,"post_id":74522382,"comment_id":131552478,"body_markdown":"@ole-v-v unfortunately I&#39;m working on an Android project with a min API of 23 but Instant requires at least API 26. @lino changing `sss` to `SSS` solves the issue, thanks!","body":"@ole-v-v unfortunately I&#39;m working on an Android project with a min API of 23 but Instant requires at least API 26. @lino changing <code>sss</code> to <code>SSS</code> solves the issue, thanks!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669058945,"post_id":74522382,"comment_id":131552507,"body_markdown":"I see. I still recommend that you consider using [desugaring](https://developer.android.com/studio/write/java8-support-table) in order to use java.time for you min API of 23.","body":"I see. I still recommend that you consider using <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> in order to use java.time for you min API of 23."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669059687,"post_id":74522382,"comment_id":131552739,"body_markdown":"@Lino No, ***never* put quote marks around the `Z`**. That letter means an offset from UTC of zero hours-minutes-seconds. Pronounced “Zulu”. Your quote marks mean &quot;expect, but ignore, this text&quot;, a string literal. So you are discarding valuable information. For the correct solution, see the [Comment by Ole V.V.](https://stackoverflow.com/questions/74522382/kotlin-parsing-zulu-date-string-to-utc-date-adds-5-minutes-to-the-time#comment131551051_74522382).","body":"@Lino No, <b><i>never</i> put quote marks around the <code>Z</code></b>. That letter means an offset from UTC of zero hours-minutes-seconds. Pronounced “Zulu”. Your quote marks mean &quot;expect, but ignore, this text&quot;, a string literal. So you are discarding valuable information. For the correct solution, see the <a href=\"https://stackoverflow.com/questions/74522382/kotlin-parsing-zulu-date-string-to-utc-date-adds-5-minutes-to-the-time#comment131551051_74522382\">Comment by Ole V.V.</a>."}],"owner":{"account_id":4252436,"reputation":135,"user_id":3479061,"display_name":"owenlejeune"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669052394,"answer_count":0,"score":0,"last_activity_date":1669053079,"creation_date":1669049808,"question_id":74522382,"body_markdown":"I have a time string formatted in Zulu time of &quot;2022-11-21T16:29:28.325Z&quot; and then parsing it for a formatted string in a destination timezone.\r\n\r\n```kotlin\r\ntry {\r\n    val readLocalDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.sss&#39;Z&#39;&quot;)\r\n    readLocalDateFormat.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\r\n\r\n    val writeLocalDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;)\r\n    writeLocalDateFormat.timeZone = TimeZone.getTimeZone(timeZone)\r\n\r\n    return writeLocalDateFormat.format(readLocalDateFormat.parse(dateStr))\r\n} catch (e: Exception) {\r\n    Log.e(TAG, &quot;Failed to parse date: &quot; + dateStr)\r\n    return dateStr\r\n}\r\n```\r\n\r\nIn the case, the destination timezone is &quot;America/Halifax&quot; so I would expect the output string to be &quot;2022-11-21 12:29&quot; since Halifax is 4 hours behind UTC time but instead the output is &quot;2022-11-21 12:34&quot; with an additional 5 minutes added to the time. I can&#39;t figure out why this 5 minutes is being added. Any ideas?","title":"Kotlin Parsing Zulu Date String to UTC Date Adds 5 Minutes to the Time","body":"<p>I have a time string formatted in Zulu time of &quot;2022-11-21T16:29:28.325Z&quot; and then parsing it for a formatted string in a destination timezone.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>try {\n    val readLocalDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.sss'Z'&quot;)\n    readLocalDateFormat.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\n\n    val writeLocalDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;)\n    writeLocalDateFormat.timeZone = TimeZone.getTimeZone(timeZone)\n\n    return writeLocalDateFormat.format(readLocalDateFormat.parse(dateStr))\n} catch (e: Exception) {\n    Log.e(TAG, &quot;Failed to parse date: &quot; + dateStr)\n    return dateStr\n}\n</code></pre>\n<p>In the case, the destination timezone is &quot;America/Halifax&quot; so I would expect the output string to be &quot;2022-11-21 12:29&quot; since Halifax is 4 hours behind UTC time but instead the output is &quot;2022-11-21 12:34&quot; with an additional 5 minutes added to the time. I can't figure out why this 5 minutes is being added. Any ideas?</p>\n"},{"tags":["java","email","proxy","tomcat6"],"comments":[{"owner":{"account_id":1796373,"reputation":1127,"user_id":1635700,"display_name":"Tejas Tank"},"score":1,"creation_date":1566402192,"post_id":20406845,"comment_id":101647638,"body_markdown":"odoo: The proxy server received an invalid response from an upstream server\n\nSame issue we face, but with proxy timeout fixed issue","body":"odoo: The proxy server received an invalid response from an upstream server  Same issue we face, but with proxy timeout fixed issue"}],"answers":[{"tags":[],"owner":{"account_id":558342,"reputation":1319,"user_id":920851,"display_name":"rmeakins"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1390961936,"creation_date":1390961936,"answer_id":21420841,"question_id":20406845,"body_markdown":"The HTTP 502 &quot;Bad Gateway&quot; response is generated when Apache web server does not receive a valid HTTP response from the upstream server, which in this case is your Tomcat web application.\r\n\r\nSome reasons why this might happen:\r\n\r\n - Tomcat may have crashed\r\n - The web application did not respond in time and the request from Apache timed out\r\n - The Tomcat threads are timing out\r\n - A network device is blocking the request, perhaps as some sort of connection timeout or DoS attack prevention system\r\n\r\nIf the problem is related to timeout settings, you may be able to resolve it by investigating the following:\r\n\r\n - [ProxyTimeout][1] directive of Apache&#39;s mod_proxy\r\n - [Connector][2] config of Apache Tomcat\r\n - Your network device&#39;s manual\r\n\r\n\r\n  [1]: http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#proxytimeout\r\n  [2]: http://tomcat.apache.org/tomcat-6.0-doc/config/http.html#Standard_Implementation","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>The HTTP 502 \"Bad Gateway\" response is generated when Apache web server does not receive a valid HTTP response from the upstream server, which in this case is your Tomcat web application.</p>\n\n<p>Some reasons why this might happen:</p>\n\n<ul>\n<li>Tomcat may have crashed</li>\n<li>The web application did not respond in time and the request from Apache timed out</li>\n<li>The Tomcat threads are timing out</li>\n<li>A network device is blocking the request, perhaps as some sort of connection timeout or DoS attack prevention system</li>\n</ul>\n\n<p>If the problem is related to timeout settings, you may be able to resolve it by investigating the following:</p>\n\n<ul>\n<li><a href=\"http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#proxytimeout\" rel=\"noreferrer\">ProxyTimeout</a> directive of Apache's mod_proxy</li>\n<li><a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/http.html#Standard_Implementation\" rel=\"noreferrer\">Connector</a> config of Apache Tomcat</li>\n<li>Your network device's manual</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4039364,"reputation":517,"user_id":3322670,"display_name":"Albert Maclang"},"down_vote_count":2,"up_vote_count":52,"is_accepted":false,"score":50,"last_activity_date":1473180754,"creation_date":1392715382,"answer_id":21849150,"question_id":20406845,"body_markdown":"Add this into your httpd.conf file\r\n\r\n    Timeout 2400\r\n    ProxyTimeout 2400\r\n    ProxyBadHeader Ignore \r\n\r\n","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>Add this into your httpd.conf file</p>\n\n<pre><code>Timeout 2400\nProxyTimeout 2400\nProxyBadHeader Ignore \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4678706,"reputation":1500,"user_id":4063955,"accept_rate":57,"display_name":"Anthony Hunt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1411869395,"creation_date":1411869395,"answer_id":26080917,"question_id":20406845,"body_markdown":"The java application takes too long to respond(maybe due start-up/jvm being cold) thus you get the proxy error. \r\n\r\n    Proxy Error\r\n    \r\n    The proxy server received an invalid response from an upstream server.\r\n     The proxy server could not handle the request GET /lin/Campaignn.jsp.\r\n\r\nAs Albert Maclang said amending the http timeout configuration may fix the issue. \r\n I suspect the java application throws a 500+ error thus the apache gateway error too. You should look in the logs.","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>The java application takes too long to respond(maybe due start-up/jvm being cold) thus you get the proxy error. </p>\n\n<pre><code>Proxy Error\n\nThe proxy server received an invalid response from an upstream server.\n The proxy server could not handle the request GET /lin/Campaignn.jsp.\n</code></pre>\n\n<p>As Albert Maclang said amending the http timeout configuration may fix the issue. \n I suspect the java application throws a 500+ error thus the apache gateway error too. You should look in the logs.</p>\n"},{"tags":[],"owner":{"account_id":2628798,"reputation":119,"user_id":2275261,"display_name":"CincyBella"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1477554510,"creation_date":1477510186,"answer_id":40270687,"question_id":20406845,"body_markdown":"I had this issue once. It turned out to be database query issue. After re-create tables and index it has been fixed.\r\n\r\nAlthough it says proxy error, when you look at server log, it shows execute query timeout. This is what I had before and how I solved it.","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>I had this issue once. It turned out to be database query issue. After re-create tables and index it has been fixed.</p>\n\n<p>Although it says proxy error, when you look at server log, it shows execute query timeout. This is what I had before and how I solved it.</p>\n"},{"tags":[],"owner":{"account_id":6679910,"reputation":11,"user_id":13765104,"display_name":"Kalebe Calixto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669052581,"creation_date":1669052581,"answer_id":74522913,"question_id":20406845,"body_markdown":"I had this problem too.\r\nI was using apache as a reverse proxy for tomcat, my problem was associated with the return time of the response for &quot;apache&quot; proxy\r\n\r\nI solved it like this:\r\nopen the **&quot;etc/apache/apache2.conf&quot;** and the ssl mod conf file **&quot;etc/apache/sites-available/000-default-le-ssl.conf&quot;** and add the following lines:\r\n\r\n    Timeout 28800\r\n    KeepAlive On\r\n\r\nmaybe this will help you","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>I had this problem too.\nI was using apache as a reverse proxy for tomcat, my problem was associated with the return time of the response for &quot;apache&quot; proxy</p>\n<p>I solved it like this:\nopen the <strong>&quot;etc/apache/apache2.conf&quot;</strong> and the ssl mod conf file <strong>&quot;etc/apache/sites-available/000-default-le-ssl.conf&quot;</strong> and add the following lines:</p>\n<pre><code>Timeout 28800\nKeepAlive On\n</code></pre>\n<p>maybe this will help you</p>\n"}],"owner":{"account_id":1538593,"reputation":930,"user_id":1433865,"accept_rate":0,"display_name":"Ranjeet Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443384,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":5,"score":66,"last_activity_date":1669052581,"creation_date":1386264968,"question_id":20406845,"body_markdown":"We are building a mass mailing sending application in Java. Mail is being send by third party SMTP. After sending 400-500 mails tomcat6 service get stopped. Below is the error.\r\n\r\n&gt; Proxy Error\r\n&gt;      The proxy server received an invalid response from an upstream server. The proxy server could not handle the request GET\r\n&gt; /lin/Campaignn.jsp.\r\n&gt;       Reason: Error reading from remote server\r\n\r\nAdditionally, a 502 Bad Gateway error was encountered while trying to use an ErrorDocument to handle the request.\r\n\r\nApache Server at msizzler.com Port 80\r\n\r\nBut when we are sending from localhost I did not received any error. It send all the mails.\r\nPlease help me to sort it out this problem.","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>We are building a mass mailing sending application in Java. Mail is being send by third party SMTP. After sending 400-500 mails tomcat6 service get stopped. Below is the error.</p>\n\n<blockquote>\n  <p>Proxy Error\n       The proxy server received an invalid response from an upstream server. The proxy server could not handle the request GET\n  /lin/Campaignn.jsp.\n        Reason: Error reading from remote server</p>\n</blockquote>\n\n<p>Additionally, a 502 Bad Gateway error was encountered while trying to use an ErrorDocument to handle the request.</p>\n\n<p>Apache Server at msizzler.com Port 80</p>\n\n<p>But when we are sending from localhost I did not received any error. It send all the mails.\nPlease help me to sort it out this problem.</p>\n"},{"tags":["java","path","bufferedreader"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1669049169,"post_id":74522186,"comment_id":131549436,"body_markdown":"You would need to open each file that matches your pattern in a loop.","body":"You would need to open each file that matches your pattern in a loop."}],"answers":[{"tags":[],"owner":{"account_id":7628485,"reputation":373,"user_id":5784265,"accept_rate":100,"display_name":"Lahzey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669052312,"creation_date":1669050558,"answer_id":74522528,"question_id":74522186,"body_markdown":"FileReader also has a constructor that takes a file. You can create a file object using a URI or a string for the path. You could use a FileFilter or just check if each file matches the name you provide, which is how i would do it:\r\n\r\nTo get all files in a folder you can use `folder.listFiles()`.&lt;br/&gt;\r\nYou can then use `file.getName().contains(&quot;audit&quot;)` to check if the filename contains &quot;audit&quot;.\r\n\r\nNote that this is case sensitive, to ignore case you would just use `file.getName().toLowerCase().contains(&quot;audit&quot;)` (make sure the string you check here, in this case &quot;audit&quot;, is always lower case).\r\n\r\nAs pointed out by g00se, you will also have to check if file is actually a file and not a directory using `file.isFile()`\r\n\r\nThen in a loop you just read out to content of each file that matches the above condition seperately.\r\n\r\nIf you need the files in all the subfolders aswell, see [this post][1].\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tFile folder = new File(&quot;C:\\\\MyFolder&quot;); // the folder containing all the files you are looking for\r\n\t\tfor (File file : folder.listFiles()) { // loop through each file in that folder\r\n\t\t\tif (file.getName().contains(&quot;audit&quot;) &amp;&amp; file.isFile()) { // check if it contains audit in its name\r\n\t\t\t\t// your previous code for reading out the file content\r\n\t\t\t    BufferedReader bfredr = new BufferedReader(new FileReader(file));\r\n\t\t\t    List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\r\n\t\t\t    String text = bfredr.readLine();\r\n\t\t\t    while (text != null) {\r\n\t\t\t        stngFile.add(text);\r\n\t\t\t        text = bfredr.readLine();\r\n\t\t\t    }\r\n\t\t\t    bfredr.close();\r\n\t\t\t    String[] array = stngFile.toArray(new String[0]);\r\n\t\t\t    \r\n\t\t\t    Arrays.toString(array);\r\n\t\t\t    for (String eachstring : array) {\r\n\t\t\t         System.out.println(eachstring);\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2534632/list-all-files-from-a-directory-recursively-with-java","title":"is there a way to use the file path instead of file name in BufferedReader?","body":"<p>FileReader also has a constructor that takes a file. You can create a file object using a URI or a string for the path. You could use a FileFilter or just check if each file matches the name you provide, which is how i would do it:</p>\n<p>To get all files in a folder you can use <code>folder.listFiles()</code>.<br/>\nYou can then use <code>file.getName().contains(&quot;audit&quot;)</code> to check if the filename contains &quot;audit&quot;.</p>\n<p>Note that this is case sensitive, to ignore case you would just use <code>file.getName().toLowerCase().contains(&quot;audit&quot;)</code> (make sure the string you check here, in this case &quot;audit&quot;, is always lower case).</p>\n<p>As pointed out by g00se, you will also have to check if file is actually a file and not a directory using <code>file.isFile()</code></p>\n<p>Then in a loop you just read out to content of each file that matches the above condition seperately.</p>\n<p>If you need the files in all the subfolders aswell, see <a href=\"https://stackoverflow.com/questions/2534632/list-all-files-from-a-directory-recursively-with-java\">this post</a>.</p>\n<p>Example:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File folder = new File(&quot;C:\\\\MyFolder&quot;); // the folder containing all the files you are looking for\n    for (File file : folder.listFiles()) { // loop through each file in that folder\n        if (file.getName().contains(&quot;audit&quot;) &amp;&amp; file.isFile()) { // check if it contains audit in its name\n            // your previous code for reading out the file content\n            BufferedReader bfredr = new BufferedReader(new FileReader(file));\n            List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\n            String text = bfredr.readLine();\n            while (text != null) {\n                stngFile.add(text);\n                text = bfredr.readLine();\n            }\n            bfredr.close();\n            String[] array = stngFile.toArray(new String[0]);\n            \n            Arrays.toString(array);\n            for (String eachstring : array) {\n                 System.out.println(eachstring);\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26865114,"reputation":1,"user_id":20447997,"display_name":"Zee-bot404"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669052312,"creation_date":1669049039,"question_id":74522186,"body_markdown":"I would like to add the path instead of the file name in BufferedReader? \r\nI want to use the path because I want the code to pickup any file that has the name &quot;audit&quot; in that specific folder. \r\n\r\n\r\n\r\nSo I am currently using this method below, but it only works when I add the absolute path.\r\n\r\n`\r\n```\r\npublic static void main(String[] args)\r\n        throws IOException {\r\n    List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\r\n    BufferedReader bfredr = new BufferedReader(new FileReader\r\n            (&quot;file path&quot;));\r\n\r\n\r\n\r\n    String text = bfredr.readLine();\r\n    while (text != null) {\r\n        stngFile.add(text);\r\n        text = bfredr.readLine();\r\n    }\r\n    bfredr.close();\r\n    String[] array = stngFile.toArray(new String[0]);\r\n\r\n    Arrays.toString(array);\r\n    for (String eachstring : array) {\r\n         System.out.println(eachstring);\r\n    }\r\n\r\n}\r\n```\r\n`\r\n\r\nI am new to programming any help is much appreciated. Thanks in advance.","title":"is there a way to use the file path instead of file name in BufferedReader?","body":"<p>I would like to add the path instead of the file name in BufferedReader?\nI want to use the path because I want the code to pickup any file that has the name &quot;audit&quot; in that specific folder.</p>\n<p>So I am currently using this method below, but it only works when I add the absolute path.</p>\n<p>`</p>\n<pre><code>public static void main(String[] args)\n        throws IOException {\n    List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\n    BufferedReader bfredr = new BufferedReader(new FileReader\n            (&quot;file path&quot;));\n\n\n\n    String text = bfredr.readLine();\n    while (text != null) {\n        stngFile.add(text);\n        text = bfredr.readLine();\n    }\n    bfredr.close();\n    String[] array = stngFile.toArray(new String[0]);\n\n    Arrays.toString(array);\n    for (String eachstring : array) {\n         System.out.println(eachstring);\n    }\n\n}\n</code></pre>\n<p>`</p>\n<p>I am new to programming any help is much appreciated. Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"score":4,"creation_date":1316462038,"post_id":7476435,"comment_id":9047873,"body_markdown":"Lol for the rep junkies - I&#39;m surprised that this isn&#39;t a duplicate question, further, the first Google result for &#39;java min max&#39; is the Math javadoc","body":"Lol for the rep junkies - I&#39;m surprised that this isn&#39;t a duplicate question, further, the first Google result for &#39;java min max&#39; is the Math javadoc"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1316462139,"post_id":7476435,"comment_id":9047902,"body_markdown":"I love how fast people throw up answers to easy questions.  Note that there IS a type issue with Math.min() but they solve it by overriding it for each different type.  Also note that for objects including the big-letters (Double, BigDecimal, ...) there is a comparable interface that defines a .compareTo() method that you could use to create a &quot;Comparable = min(Comparable, Comparable)&quot; function.","body":"I love how fast people throw up answers to easy questions.  Note that there IS a type issue with Math.min() but they solve it by overriding it for each different type.  Also note that for objects including the big-letters (Double, BigDecimal, ...) there is a comparable interface that defines a .compareTo() method that you could use to create a &quot;Comparable = min(Comparable, Comparable)&quot; function."},{"owner":{"display_name":"user890904"},"score":0,"creation_date":1316462343,"post_id":7476435,"comment_id":9047968,"body_markdown":"even if java didn&#39;t have a min function, just put the code above in a function and call it min() and it will become self documenting :)","body":"even if java didn&#39;t have a min function, just put the code above in a function and call it min() and it will become self documenting :)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1316462352,"post_id":7476435,"comment_id":9047973,"body_markdown":"Hasn&#39;t anybody heard of the &quot;Delete&quot; link? There is no need for 8 duplicate answers.","body":"Hasn&#39;t anybody heard of the &quot;Delete&quot; link? There is no need for 8 duplicate answers."},{"owner":{"account_id":463005,"reputation":14646,"user_id":865643,"accept_rate":75,"display_name":"noelicus"},"score":0,"creation_date":1321524964,"post_id":7476435,"comment_id":10025752,"body_markdown":"@BillK you sound cynical? Our hallowed rep-system motivates quick responses to easy questions!","body":"@BillK you sound cynical? Our hallowed rep-system motivates quick responses to easy questions!"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1321633855,"post_id":7476435,"comment_id":10056101,"body_markdown":"@noelicus Not cynical at all--I love how anxious people are to help each other.  I really like the system here except for the occasional vote to close without a comment.","body":"@noelicus Not cynical at all--I love how anxious people are to help each other.  I really like the system here except for the occasional vote to close without a comment."},{"owner":{"account_id":988285,"reputation":870,"user_id":1006264,"display_name":"Fernando Pelliccioni"},"score":0,"creation_date":1412621391,"post_id":7476435,"comment_id":41126979,"body_markdown":"@uTubeFan With what kind of types do you want to use the min function? \n1. with built-in types, like int?\n2. with user-defined-types, like an Employee class?\nIf you are in the second case, I think Java has abandoned you, so you&#39;ll have to create your own min function","body":"@uTubeFan With what kind of types do you want to use the min function?  1. with built-in types, like int? 2. with user-defined-types, like an Employee class? If you are in the second case, I think Java has abandoned you, so you&#39;ll have to create your own min function"}],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1316461695,"creation_date":1316461695,"answer_id":7476447,"question_id":7476435,"body_markdown":"[`Math.min()`](http://download.oracle.com/javase/6/docs/api/java/lang/Math.html)?  (Comes in several overloads for different types.)","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"noreferrer\"><code>Math.min()</code></a>?  (Comes in several overloads for different types.)</p>\n"},{"tags":[],"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1316461707,"creation_date":1316461707,"answer_id":7476450,"question_id":7476435,"body_markdown":"have a look at the javadoc of [Math][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Math.html#min%28int,%20int%29\r\n\r\nyou can use it like :\r\n\r\n    import static java.lang.Math.*;\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(min(1, 0));\r\n    }\r\n","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>have a look at the javadoc of <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html#min%28int,%20int%29\">Math</a></p>\n\n<p>you can use it like :</p>\n\n<pre><code>import static java.lang.Math.*;\n\npublic static void main(String[] args) {\n    System.out.println(min(1, 0));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88922,"reputation":28816,"user_id":245679,"accept_rate":99,"display_name":"MD Sayem Ahmed"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1316461709,"creation_date":1316461709,"answer_id":7476451,"question_id":7476435,"body_markdown":"Yes, the `Math` class contains two static methods called `max` and `min` which behaves according to their names. Take a look at this &lt;a href=&quot;http://www.cafeaulait.org/course/week4/40.html&quot;&gt;link&lt;/a&gt;. Here you will find some useful examples.","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>Yes, the <code>Math</code> class contains two static methods called <code>max</code> and <code>min</code> which behaves according to their names. Take a look at this <a href=\"http://www.cafeaulait.org/course/week4/40.html\" rel=\"nofollow\">link</a>. Here you will find some useful examples.</p>\n"},{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1316461718,"creation_date":1316461718,"answer_id":7476453,"question_id":7476435,"body_markdown":"Use the [`Math`][1] class. It has both `min()` and `max()` methods.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Math.html","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>Use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow\"><code>Math</code></a> class. It has both <code>min()</code> and <code>max()</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":8393,"reputation":13361,"user_id":15099,"display_name":"jasonbar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1316461725,"creation_date":1316461725,"answer_id":7476457,"question_id":7476435,"body_markdown":"[Math.min()][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Math.html#min%28double,%20double%29","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Math.html#min%28double,%20double%29\" rel=\"nofollow\">Math.min()</a></p>\n"},{"tags":[],"owner":{"account_id":389530,"reputation":3131,"user_id":749041,"accept_rate":65,"display_name":"LordDoskias"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1389709810,"creation_date":1316461731,"answer_id":7476460,"question_id":7476435,"body_markdown":"How about [this][1] There is a minx/max method\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>How about <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow\">this</a> There is a minx/max method</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1316461743,"creation_date":1316461743,"answer_id":7476461,"question_id":7476435,"body_markdown":"See the class [`java.lang.Math` functions](http://download.oracle.com/javase/6/docs/api/java/lang/Math.html) of `min` and `max` for various types.","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>See the class <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow\"><code>java.lang.Math</code> functions</a> of <code>min</code> and <code>max</code> for various types.</p>\n"},{"tags":[],"owner":{"account_id":451260,"reputation":31009,"user_id":847064,"accept_rate":84,"display_name":"Thomas Uhrig"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1316461748,"creation_date":1316461748,"answer_id":7476463,"question_id":7476435,"body_markdown":"do you mean Math.min(a, b) or Math.max(a,b)?","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>do you mean Math.min(a, b) or Math.max(a,b)?</p>\n"},{"tags":[],"owner":{"account_id":86049,"reputation":7044,"user_id":239558,"accept_rate":72,"display_name":"user239558"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549568573,"creation_date":1549568573,"answer_id":54581099,"question_id":7476435,"body_markdown":"All of the `Math.max` and `Math.min` answers are wrong.  In fact there is no generic min nor max function in Java that uses the native `Comparable` interface.","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>All of the <code>Math.max</code> and <code>Math.min</code> answers are wrong.  In fact there is no generic min nor max function in Java that uses the native <code>Comparable</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":17107134,"reputation":73,"user_id":12378913,"display_name":"Timofey X"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669052266,"creation_date":1669052266,"answer_id":74522850,"question_id":7476435,"body_markdown":"In 2022 (actually, from Java 8) we can use methods such as `Integer.min(a, b)` or `Double.max(a, b)`","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>In 2022 (actually, from Java 8) we can use methods such as <code>Integer.min(a, b)</code> or <code>Double.max(a, b)</code></p>\n"}],"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66351,"favorite_count":0,"down_vote_count":1,"up_vote_count":45,"accepted_answer_id":7476447,"answer_count":10,"score":44,"last_activity_date":1669052266,"creation_date":1316461611,"question_id":7476435,"body_markdown":"In `C`, there is a `min()` convenience macro that helps make the code more readable. \r\n\r\nIn java, the shortest equivalent I know of is:\r\n\r\n    (a &gt; b ? b : a)\r\n\r\nBut it&#39;s not as self-documenting as `min()` in my view.\r\n\r\nIs there a built-in min() method in Java (and I just couldn&#39;t find it)? or my only recourse is to define a method like this myself? ","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>In <code>C</code>, there is a <code>min()</code> convenience macro that helps make the code more readable. </p>\n\n<p>In java, the shortest equivalent I know of is:</p>\n\n<pre><code>(a &gt; b ? b : a)\n</code></pre>\n\n<p>But it's not as self-documenting as <code>min()</code> in my view.</p>\n\n<p>Is there a built-in min() method in Java (and I just couldn't find it)? or my only recourse is to define a method like this myself? </p>\n"},{"tags":["java","kotlin","methods","functional-programming"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1669051741,"post_id":74522622,"comment_id":131550309,"body_markdown":"Well you don&#39;t have to evaluate it a second time, since you know the result will be `true` (otherwise `find` wouldn&#39;t find it). Your comment is probably wrong if you&#39;re saying both functions returns `T`, unless `T` is always `Boolean`. Or maybe the lambda inside `find` doesn&#39;t compile","body":"Well you don&#39;t have to evaluate it a second time, since you know the result will be <code>true</code> (otherwise <code>find</code> wouldn&#39;t find it). Your comment is probably wrong if you&#39;re saying both functions returns <code>T</code>, unless <code>T</code> is always <code>Boolean</code>. Or maybe the lambda inside <code>find</code> doesn&#39;t compile"},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1669052752,"post_id":74522622,"comment_id":131550630,"body_markdown":"Also, what exactly do you want to return? The name `electStrategy` suggests that a strategy will be returned (so one of the functions), but the implementation suggests that you want to return the result of the invocation of the matching strategy","body":"Also, what exactly do you want to return? The name <code>electStrategy</code> suggests that a strategy will be returned (so one of the functions), but the implementation suggests that you want to return the result of the invocation of the matching strategy"}],"answers":[{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669052123,"creation_date":1669052123,"answer_id":74522820,"question_id":74522622,"body_markdown":"I think your example has a problem with its predicate. But assuming `predicate()` is a function that returns true or false on a result of a strategy invocation, you could write it this way:\r\n\r\n```kotlin\r\nfun electStrategy() = sequenceOf({ attemptStrategyA(x) }, { attemptStrategyB(x) })\r\n    .map { it.invoke() }\r\n    .firstOrNull { predicate(it) }\r\n```\r\n\r\nUsing `sequenceOf` instead of `listOf` makes the `.map` operation lazy, which means the predicate will be evaluated on the result of a strategy before the next strategy is attempted.","title":"How to evaluate and take function value lazy in kotlin","body":"<p>I think your example has a problem with its predicate. But assuming <code>predicate()</code> is a function that returns true or false on a result of a strategy invocation, you could write it this way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun electStrategy() = sequenceOf({ attemptStrategyA(x) }, { attemptStrategyB(x) })\n    .map { it.invoke() }\n    .firstOrNull { predicate(it) }\n</code></pre>\n<p>Using <code>sequenceOf</code> instead of <code>listOf</code> makes the <code>.map</code> operation lazy, which means the predicate will be evaluated on the result of a strategy before the next strategy is attempted.</p>\n"}],"owner":{"account_id":1472084,"reputation":595,"user_id":1383378,"accept_rate":100,"display_name":"LoreV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74522820,"answer_count":1,"score":1,"last_activity_date":1669052123,"creation_date":1669051069,"question_id":74522622,"body_markdown":"What I&#39;m trying to achieve in my personal project is an &#39;evaluator function&#39;, that should elect a valid strategy, without invoking that twice.\r\nCurrently, my code is:\r\n\r\n```\r\nfun electStrategy() = listOf({ attemptStrategyA(x) }, { attemptStrategyB(x) })\r\n                      .find{ it.invoke() == true } ?.invoke()\r\n\r\n// where `attemptStrategyA(x)` and `attemptStrategyB(x)` return `T`\r\n\r\n```\r\nAs you can see from the above, I need to first evaluate the strategies in a lazy fashion and then, when the predicate condition is met, I would like to get elected strategy value.\r\n\r\nHow can I do the above without having to evaluate such strategy twice and more elegantly? ","title":"How to evaluate and take function value lazy in kotlin","body":"<p>What I'm trying to achieve in my personal project is an 'evaluator function', that should elect a valid strategy, without invoking that twice.\nCurrently, my code is:</p>\n<pre><code>fun electStrategy() = listOf({ attemptStrategyA(x) }, { attemptStrategyB(x) })\n                      .find{ it.invoke() == true } ?.invoke()\n\n// where `attemptStrategyA(x)` and `attemptStrategyB(x)` return `T`\n\n</code></pre>\n<p>As you can see from the above, I need to first evaluate the strategies in a lazy fashion and then, when the predicate condition is met, I would like to get elected strategy value.</p>\n<p>How can I do the above without having to evaluate such strategy twice and more elegantly?</p>\n"},{"tags":["java","xml","xslt"],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669046580,"creation_date":1669046580,"answer_id":74521681,"question_id":74521022,"body_markdown":"I would start with e.g.\r\n\r\n    &lt;xsl:template match=&quot;bold&quot;&gt;**&lt;xsl:apply-templates/&gt;**&lt;/xsl:template&gt;\r\n\r\nand write templates matching and transforming other elements as needed.\r\n    \r\n","title":"xml-formatted text to e.g. markdown-text","body":"<p>I would start with e.g.</p>\n<pre><code>&lt;xsl:template match=&quot;bold&quot;&gt;**&lt;xsl:apply-templates/&gt;**&lt;/xsl:template&gt;\n</code></pre>\n<p>and write templates matching and transforming other elements as needed.</p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669051535,"creation_date":1669051535,"answer_id":74522717,"question_id":74521022,"body_markdown":"Use template rules.\r\n\r\nSomething like\r\n\r\n    &lt;xsl:template match=&quot;para&quot;&gt;\r\n      &lt;xsl:apply-templates/&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;text()&quot;&gt;\r\n      &lt;xsl:value-of select=&quot;.&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;bold&quot;&gt;\r\n      &lt;xsl:text&gt;**&lt;/xsl:text&gt;\r\n      &lt;xsl:apply-templates/&gt;\r\n      &lt;xsl:text&gt;**&lt;/xsl:text&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\nThe idea is to perform a recursive descent of the tree, processing each node that you reach using the best-fit template rule for that node. This is the classic XSLT processing model for mixed content.","title":"xml-formatted text to e.g. markdown-text","body":"<p>Use template rules.</p>\n<p>Something like</p>\n<pre><code>&lt;xsl:template match=&quot;para&quot;&gt;\n  &lt;xsl:apply-templates/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=&quot;text()&quot;&gt;\n  &lt;xsl:value-of select=&quot;.&quot;/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=&quot;bold&quot;&gt;\n  &lt;xsl:text&gt;**&lt;/xsl:text&gt;\n  &lt;xsl:apply-templates/&gt;\n  &lt;xsl:text&gt;**&lt;/xsl:text&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>The idea is to perform a recursive descent of the tree, processing each node that you reach using the best-fit template rule for that node. This is the classic XSLT processing model for mixed content.</p>\n"}],"owner":{"account_id":5758519,"reputation":64,"user_id":4545629,"display_name":"Marco S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74522717,"answer_count":2,"score":0,"last_activity_date":1669051535,"creation_date":1669043479,"question_id":74521022,"body_markdown":"I&#39;m quite new with xslt and I have a xml-formatted text to transform to a different text format e.g. markdown. xml-formatting nodes can occur several times inside a text content as in the following simplified  example:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;content&gt;\r\n        &lt;para&gt;\r\n            This is a sample\r\n          &lt;bold&gt;text&lt;/bold&gt;\r\n            for testing and\r\n            &lt;bold&gt;improvement&lt;/bold&gt;\r\n            of current software version\r\n        &lt;/para&gt;\r\n    &lt;/content&gt;\r\n\r\nMy xslt transformation (from JDK 1.8.0) is:\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n        &lt;xsl:output method=&quot;text&quot; indent=&quot;no&quot; omit-xml-declaration=&quot;yes&quot; xml:space=&quot;default&quot; /&gt;\r\n    \r\n        &lt;xsl:template match=&quot;/&quot;&gt;\r\n            &lt;xsl:apply-templates/&gt;\r\n        &lt;/xsl:template&gt;\r\n    \r\n        &lt;xsl:template match=&quot;para&quot;&gt;\r\n            &lt;xsl:for-each select=&quot;./*&quot;&gt;\r\n                &lt;xsl:choose&gt;\r\n                    &lt;xsl:when test=&quot;bold&quot;&gt;\r\n                        &lt;xsl:value-of select=&quot;normalize-space(bold/preceding-sibling::text())&quot;/&gt;\r\n                        &lt;xsl:text&gt; **&lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;normalize-space(bold)&quot;/&gt;&lt;xsl:text&gt;** &lt;/xsl:text&gt;\r\n                        &lt;xsl:value-of select=&quot;normalize-space(bold/following-sibling::text())&quot;/&gt;\r\n                    &lt;/xsl:when&gt;\r\n                    &lt;xsl:otherwise&gt;\r\n                        &lt;xsl:value-of select=&quot;normalize-space(.)&quot;/&gt;\r\n                    &lt;/xsl:otherwise&gt;\r\n                &lt;/xsl:choose&gt;\r\n            &lt;/xsl:for-each&gt;\r\n        &lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nwhich outputs just the string: `textimprovement`.\r\n\r\nHow can i get a better transformation ?\r\n\r\nThanks for helping.","title":"xml-formatted text to e.g. markdown-text","body":"<p>I'm quite new with xslt and I have a xml-formatted text to transform to a different text format e.g. markdown. xml-formatting nodes can occur several times inside a text content as in the following simplified  example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;content&gt;\n    &lt;para&gt;\n        This is a sample\n      &lt;bold&gt;text&lt;/bold&gt;\n        for testing and\n        &lt;bold&gt;improvement&lt;/bold&gt;\n        of current software version\n    &lt;/para&gt;\n&lt;/content&gt;\n</code></pre>\n<p>My xslt transformation (from JDK 1.8.0) is:</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:output method=&quot;text&quot; indent=&quot;no&quot; omit-xml-declaration=&quot;yes&quot; xml:space=&quot;default&quot; /&gt;\n\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;xsl:apply-templates/&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;para&quot;&gt;\n        &lt;xsl:for-each select=&quot;./*&quot;&gt;\n            &lt;xsl:choose&gt;\n                &lt;xsl:when test=&quot;bold&quot;&gt;\n                    &lt;xsl:value-of select=&quot;normalize-space(bold/preceding-sibling::text())&quot;/&gt;\n                    &lt;xsl:text&gt; **&lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;normalize-space(bold)&quot;/&gt;&lt;xsl:text&gt;** &lt;/xsl:text&gt;\n                    &lt;xsl:value-of select=&quot;normalize-space(bold/following-sibling::text())&quot;/&gt;\n                &lt;/xsl:when&gt;\n                &lt;xsl:otherwise&gt;\n                    &lt;xsl:value-of select=&quot;normalize-space(.)&quot;/&gt;\n                &lt;/xsl:otherwise&gt;\n            &lt;/xsl:choose&gt;\n        &lt;/xsl:for-each&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>which outputs just the string: <code>textimprovement</code>.</p>\n<p>How can i get a better transformation ?</p>\n<p>Thanks for helping.</p>\n"},{"tags":["java","macos","macos-sierra","apt"],"comments":[{"owner":{"account_id":5013935,"reputation":23,"user_id":4029277,"display_name":"apalu"},"score":0,"creation_date":1566868019,"post_id":51943064,"comment_id":101781580,"body_markdown":"https://stackoverflow.com/questions/10873437/unable-to-locate-an-executable-at-usr-bin-java-bin-java-1?rq=1","body":"<a href=\"https://stackoverflow.com/questions/10873437/unable-to-locate-an-executable-at-usr-bin-java-bin-java-1?rq=1\" title=\"unable to locate an executable at usr bin java bin java 1\">stackoverflow.com/questions/10873437/&hellip;</a>"},{"owner":{"account_id":412243,"reputation":1862,"user_id":785213,"display_name":"TheDudeAbides"},"score":0,"creation_date":1669051835,"post_id":51943064,"comment_id":131550338,"body_markdown":"The whole Java thing is a [red herring](https://en.wikipedia.org/wiki/Red_herring). You have found instructions for installing Apache that are intended for use with a Debian- or Ubuntu-derived Linux distribution, which use `apt` for package management, and `/usr/bin/apt` on a Mac is something else. MacPorts, Homebrew, or Fink are three projects which provide analogous functionality for macOS. See [this question](https://unix.stackexchange.com/questions/359219/error-when-using-apt-on-macos-sierra) (and [the accepted answer](https://unix.stackexchange.com/a/359221/278323)) for more context.","body":"The whole Java thing is a <a href=\"https://en.wikipedia.org/wiki/Red_herring\" rel=\"nofollow noreferrer\">red herring</a>. You have found instructions for installing Apache that are intended for use with a Debian- or Ubuntu-derived Linux distribution, which use <code>apt</code> for package management, and <code>&#47;usr&#47;bin&#47;apt</code> on a Mac is something else. MacPorts, Homebrew, or Fink are three projects which provide analogous functionality for macOS. See <a href=\"https://unix.stackexchange.com/questions/359219/error-when-using-apt-on-macos-sierra\">this question</a> (and <a href=\"https://unix.stackexchange.com/a/359221/278323\">the accepted answer</a>) for more context."}],"answers":[{"tags":[],"owner":{"account_id":14193681,"reputation":1,"user_id":10253560,"display_name":"Hubert Spiess"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538338574,"creation_date":1535057968,"answer_id":51994183,"question_id":51943064,"body_markdown":"You are not querying for the file they are asking home/bin/apt \r\n\r\nIf you look in your folder you will not find this file most likely. \r\n\r\nTry installing an older version of the sdk.","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt&quot; (-1)","body":"<p>You are not querying for the file they are asking home/bin/apt </p>\n\n<p>If you look in your folder you will not find this file most likely. </p>\n\n<p>Try installing an older version of the sdk.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669051081,"creation_date":1604016628,"answer_id":64600971,"question_id":51943064,"body_markdown":"&gt; I have installed JDK in Mac OS.\r\n\r\nWell, `apt` is not an MacOS command for package installation. Wherever you copied those instructions from was for Debian/Ubuntu, not Mac\r\n\r\nIf you want to install Apache HTTPd on Mac, I&#39;d recommend using Homebrew or Docker. And if using Docker, you don&#39;t need Java installed on your Mac ","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt&quot; (-1)","body":"<blockquote>\n<p>I have installed JDK in Mac OS.</p>\n</blockquote>\n<p>Well, <code>apt</code> is not an MacOS command for package installation. Wherever you copied those instructions from was for Debian/Ubuntu, not Mac</p>\n<p>If you want to install Apache HTTPd on Mac, I'd recommend using Homebrew or Docker. And if using Docker, you don't need Java installed on your Mac</p>\n"}],"owner":{"account_id":12200708,"reputation":237,"user_id":8905028,"accept_rate":55,"display_name":"codeclue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9413,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1669051081,"creation_date":1534834023,"question_id":51943064,"body_markdown":"I have installed JDK in Mac OS.\r\n\r\nI am trying to install Apache2,\r\n\r\n    sudo apt install apache2\r\n\r\nOutput :-\r\n\r\n    Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt&quot; (-1)\r\n\r\nBut, executable file is present in `/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/`\r\n\r\n    $find /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home -name java*\r\n    \r\n    /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/java\r\n    /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/javac","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt&quot; (-1)","body":"<p>I have installed JDK in Mac OS.</p>\n\n<p>I am trying to install Apache2,</p>\n\n<pre><code>sudo apt install apache2\n</code></pre>\n\n<p>Output :-</p>\n\n<pre><code>Unable to locate an executable at \"/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt\" (-1)\n</code></pre>\n\n<p>But, executable file is present in <code>/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/</code></p>\n\n<pre><code>$find /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home -name java*\n\n/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/java\n/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/javac\n</code></pre>\n"},{"tags":["java","file","jar","executable-jar"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1669050789,"post_id":74522446,"comment_id":131549985,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1669050906,"post_id":74522446,"comment_id":131550027,"body_markdown":"Does this answer your question? [What is a fat JAR?](https://stackoverflow.com/questions/19150811/what-is-a-fat-jar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19150811/what-is-a-fat-jar\">What is a fat JAR?</a>"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1669050959,"post_id":74522446,"comment_id":131550044,"body_markdown":"It depends of the jar structure, You may add the tool used to generate the jar (maven-jar plugin, spring boot, other...) and also what you tried, what is the error message, anything you think may be relevant for us to help you","body":"It depends of the jar structure, You may add the tool used to generate the jar (maven-jar plugin, spring boot, other...) and also what you tried, what is the error message, anything you think may be relevant for us to help you"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669056970,"post_id":74522446,"comment_id":131551900,"body_markdown":"How are you attempting to run the .jar file?  Where, exactly, are you seeing the “unable to access jar file” message?","body":"How are you attempting to run the .jar file?  Where, exactly, are you seeing the “unable to access jar file” message?"}],"owner":{"account_id":25525864,"reputation":11,"user_id":19314951,"display_name":"Minh_Peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669050794,"creation_date":1669050101,"question_id":74522446,"body_markdown":"\r\nI have created a JAR file, it is in &quot;out&quot; folder of my project, at this time the format of this file is Executable Jar File, but when I copy this file to another folder it cannot run and it says error unable to access jar file, now the format of the file is JAR file but it isn&#39;t executable jar file.\r\n\r\n\r\n\r\n\r\nI hope to be able to keep the format of the file as executable jar file so that it can be executed on another machine at any time.\r\n\r\n\r\n I hope someone can help me with this error and explain why it is giving me this error. \r\n","title":"Why I can&#39;t run JAR File in another position in my computer?","body":"<p>I have created a JAR file, it is in &quot;out&quot; folder of my project, at this time the format of this file is Executable Jar File, but when I copy this file to another folder it cannot run and it says error unable to access jar file, now the format of the file is JAR file but it isn't executable jar file.</p>\n<p>I hope to be able to keep the format of the file as executable jar file so that it can be executed on another machine at any time.</p>\n<p>I hope someone can help me with this error and explain why it is giving me this error.</p>\n"},{"tags":["java","flutter","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669025143,"post_id":74517109,"comment_id":131540650,"body_markdown":"Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get.","body":"Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get."},{"owner":{"account_id":20970047,"reputation":1,"user_id":15407423,"display_name":"Vichu"},"score":0,"creation_date":1669030335,"post_id":74517109,"comment_id":131542365,"body_markdown":"@AlexMamo https://freeimage.host/i/HJ0rs7n  link for firebase structure image. The chat collection contains the documents of the users that chatting with and inside that the subcollection of messages from the user.I need the documents of the chat collection to display it as list of users that the person chatting.","body":"@AlexMamo <a href=\"https://freeimage.host/i/HJ0rs7n\" rel=\"nofollow noreferrer\">freeimage.host/i/HJ0rs7n</a>  link for firebase structure image. The chat collection contains the documents of the users that chatting with and inside that the subcollection of messages from the user.I need the documents of the chat collection to display it as list of users that the person chatting."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669036059,"post_id":74517109,"comment_id":131544440,"body_markdown":"Are you sure you&#39;re using the right document IDs in your reference?","body":"Are you sure you&#39;re using the right document IDs in your reference?"},{"owner":{"account_id":20970047,"reputation":1,"user_id":15407423,"display_name":"Vichu"},"score":0,"creation_date":1669092094,"post_id":74517109,"comment_id":131558887,"body_markdown":"@AlexMamo yes ...but in the case iam calling chat collection.snapshots to get document ids the chat collection contains sub collection called messages where all messages with that particular person exist. cant we get snapshot of a collection that having only a sub collection?","body":"@AlexMamo yes ...but in the case iam calling chat collection.snapshots to get document ids the chat collection contains sub collection called messages where all messages with that particular person exist. cant we get snapshot of a collection that having only a sub collection?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669100543,"post_id":74517109,"comment_id":131560516,"body_markdown":"To understand better, do you want to read the content of a document together with all documents from the sub-collection in one go?","body":"To understand better, do you want to read the content of a document together with all documents from the sub-collection in one go?"},{"owner":{"account_id":20970047,"reputation":1,"user_id":15407423,"display_name":"Vichu"},"score":0,"creation_date":1669201173,"post_id":74517109,"comment_id":131589214,"body_markdown":"@AlexMamo yes. but I did it using another way. thankyou..@alexmamo","body":"@AlexMamo yes. but I did it using another way. thankyou..@alexmamo"}],"owner":{"account_id":20970047,"reputation":1,"user_id":15407423,"display_name":"Vichu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669050225,"creation_date":1669024685,"question_id":74517109,"body_markdown":"[image of database][1]I have a firebase collection starting from User collection , sub collection chats, then messages.\r\n\r\n```\r\n_firestore\r\n        .collection(&#39;users&#39;)\r\n        .doc(_auth.currentUser!.uid)\r\n        .collection(&#39;chats&#39;)\r\n        .doc(widget.user[&#39;id&#39;])\r\n        .collection(&#39;messages&#39;)\r\n        .add({\r\n      &#39;text&#39;: _messageController.text,\r\n      &#39;sender&#39;: _auth.currentUser!.email,\r\n      &#39;Date&#39;: DateTime.now(),\r\n    });\r\n```\r\n\r\nbut when i try to list the chatlist for the user snapshot is empty list\r\n\r\n```\r\n \r\n```\r\nStreamBuilder(\r\n          stream: _firestore\r\n              .collection(&#39;users&#39;)\r\n              .doc(_auth.currentUser!.uid)\r\n              .collection(&#39;chats&#39;)\r\n              .doc(widget.user[&#39;id&#39;])\r\n              .collection(&#39;messages&#39;)\r\n              .orderBy(&#39;Date&#39;)\r\n              .snapshots(),\r\n          builder: (context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\r\n            if (snapshot.hasData) {\r\n```\r\n[enter image description here](https://i.stack.imgur.com/0z1OT.png)\r\n\r\n\r\n\r\n\r\nbuilding a chat application and i need to list all chat that the user chats with.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrA3T.png","title":"How to fetch upto documents that having a subcollection in it","body":"<p>[image of database][1]I have a firebase collection starting from User collection , sub collection chats, then messages.</p>\n<pre><code>_firestore\n        .collection('users')\n        .doc(_auth.currentUser!.uid)\n        .collection('chats')\n        .doc(widget.user['id'])\n        .collection('messages')\n        .add({\n      'text': _messageController.text,\n      'sender': _auth.currentUser!.email,\n      'Date': DateTime.now(),\n    });\n</code></pre>\n<p>but when i try to list the chatlist for the user snapshot is empty list</p>\n<pre><code> \n</code></pre>\n<p>StreamBuilder(\nstream: _firestore\n.collection('users')\n.doc(_auth.currentUser!.uid)\n.collection('chats')\n.doc(widget.user['id'])\n.collection('messages')\n.orderBy('Date')\n.snapshots(),\nbuilder: (context, AsyncSnapshot snapshot) {\nif (snapshot.hasData) {</p>\n<pre><code>[enter image description here](https://i.stack.imgur.com/0z1OT.png)\n\n\n\n\nbuilding a chat application and i need to list all chat that the user chats with.\n\n\n  [1]: https://i.stack.imgur.com/hrA3T.png\n</code></pre>\n"},{"tags":["java","ajax","spring","jasper-reports"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":1,"creation_date":1542998370,"post_id":53450233,"comment_id":93775651,"body_markdown":"Did you try to write small simple console Java application (or test) to check the report? Is generated pdf ok?","body":"Did you try to write small simple console Java application (or test) to check the report? Is generated pdf ok?"},{"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"score":0,"creation_date":1543006219,"post_id":53450233,"comment_id":93778107,"body_markdown":"@AlexK the generated pdf is well formed and well filled","body":"@AlexK the generated pdf is well formed and well filled"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1543006823,"post_id":53450233,"comment_id":93778274,"body_markdown":"In this case your question is unclear. Pdf is fine. How to download file at spring application?","body":"In this case your question is unclear. Pdf is fine. How to download file at spring application?"},{"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"score":0,"creation_date":1543007297,"post_id":53450233,"comment_id":93778415,"body_markdown":"I will update the question","body":"I will update the question"}],"answers":[{"tags":[],"owner":{"account_id":7774424,"reputation":2461,"user_id":5882963,"display_name":"Narcis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543241396,"creation_date":1543241396,"answer_id":53482911,"question_id":53450233,"body_markdown":"I have tried your javascript code and there&#39;s an issue indeed.\r\n\r\nBut the issue comes from within jQuery&#39;s ajax implementation. It does not properly handle the response data type.\r\n\r\nThis post [here](https://stackoverflow.com/questions/34586671/download-pdf-file-using-jquery-ajax) presents two alternatives: either use the [XMLHttpRequest](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest) object directly or use a custom [jQuery plugin](https://github.com/acigna/jquery-ajax-native) designed specifically for this issue.\r\n\r\nAnother option could be to split your controller logic in two parts:\r\n\r\n - on the first request you would fill in the report parameters\r\n - on the second one you would produce the PDF output; you could even have this opened in a new tab and skip the whole AJAX part.\r\n","title":"Report is fine in backend but it is received empty when downloaded using ajax from spring boot","body":"<p>I have tried your javascript code and there's an issue indeed.</p>\n\n<p>But the issue comes from within jQuery's ajax implementation. It does not properly handle the response data type.</p>\n\n<p>This post <a href=\"https://stackoverflow.com/questions/34586671/download-pdf-file-using-jquery-ajax\">here</a> presents two alternatives: either use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\" rel=\"nofollow noreferrer\">XMLHttpRequest</a> object directly or use a custom <a href=\"https://github.com/acigna/jquery-ajax-native\" rel=\"nofollow noreferrer\">jQuery plugin</a> designed specifically for this issue.</p>\n\n<p>Another option could be to split your controller logic in two parts:</p>\n\n<ul>\n<li>on the first request you would fill in the report parameters</li>\n<li>on the second one you would produce the PDF output; you could even have this opened in a new tab and skip the whole AJAX part.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543326221,"creation_date":1543241889,"answer_id":53483069,"question_id":53450233,"body_markdown":"You can&#39;t download file by AJAX calls\r\nWhat I suggest to you is:\r\n\r\n - to use [JQuery file download plugin][1] in order to handle successfully/unsuccessfully downloads \r\n - to use a GET method by passing params on query string\r\n\r\nAngelo\r\n\r\n\r\n  [1]: https://github.com/johnculviner/jquery.fileDownload","title":"Report is fine in backend but it is received empty when downloaded using ajax from spring boot","body":"<p>You can't download file by AJAX calls\nWhat I suggest to you is:</p>\n\n<ul>\n<li>to use <a href=\"https://github.com/johnculviner/jquery.fileDownload\" rel=\"nofollow noreferrer\">JQuery file download plugin</a> in order to handle successfully/unsuccessfully downloads </li>\n<li>to use a GET method by passing params on query string</li>\n</ul>\n\n<p>Angelo</p>\n"}],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53482911,"answer_count":2,"score":1,"last_activity_date":1669050016,"creation_date":1542990937,"question_id":53450233,"body_markdown":"**My stack**\r\n\r\nSpring boot 1.5.6  \r\nJasperReport  \r\nAjax JQuery 3.1.1\r\n\r\n**My goal**\r\n\r\nI&#39;m trying to print for first time a report using jasper report, I have a printing service where I have my reports stored, my idea was to send http request via ajax containing data and get a pdf report \r\n\r\n**What I tried**\r\n\r\nI have a rest controller in my spring-boot backend which is implemented like this\r\n\r\n    @RestController\r\n    @RequestMapping(PrintController.API)\r\n    public class PrintController {\r\n        public static final String API=&quot;print&quot;;\r\n    \r\n        @PostMapping(&quot;client&quot;)\r\n        public void export(@RequestBody List&lt;ClientJsonDto&gt; datas,HttpServletResponse response){\r\n    \r\n        \tSystem.out.println(datas);\r\n        \t JRBeanCollectionDataSource itemsJRBean = new JRBeanCollectionDataSource(datas);\r\n\r\n        /* Map to hold Jasper report Parameters */\r\n        Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\r\n        parameters.put(&quot;ItemDataSource&quot;, itemsJRBean);\r\n\r\n        byte[] bytes = generatePDFReport(&quot;refclient&quot;, parameters);\r\n        return ResponseEntity\r\n\t\t\t      .ok()\r\n\t\t\t      // Specify content type as PDF\r\n\t\t\t      .header(&quot;Content-Type&quot;, &quot;application/pdf; charset=UTF-8&quot;)\r\n\t\t\t      // Tell browser to display PDF if it can\r\n\t\t\t      .header(&quot;Content-Disposition&quot;, &quot;attachment;inline; filename=\\&quot;client.pdf\\&quot;&quot;)\r\n\t\t\t      .body(bytes);\r\n           \r\n        }\r\n\r\n\r\n    public byte[] generatePDFReport(String inputFileName, Map&lt;String, Object&gt; params) {\r\n\t\treturn generatePDFReport(inputFileName, params, new JREmptyDataSource());\r\n\t}\r\n    \r\n        \r\n\tpublic File loadJasperFile(String file) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\treturn ResourceUtils.getFile(&quot;classpath:static/reports/&quot;+file+&quot;.jasper&quot;);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t};\r\n\t\treturn null;\r\n\t}\r\n    \r\n    public byte[] generatePDFReport(String inputFileName, Map&lt;String, Object&gt; params,\r\n    \t    JRDataSource dataSource) {\r\n    \t    byte[] bytes = null;\r\n    \t    JasperReport jasperReport = null;\r\n    \t    try (ByteArrayOutputStream byteArray = new ByteArrayOutputStream()) {\r\n    \t      // Check if a compiled report exists\r\n\r\n\r\n    \t    \tjasperReport = (JasperReport) JRLoader.loadObject(loadJasperFile(inputFileName));\r\n    \t      \r\n    \t      // Compile report from source and save\r\n    \t   \r\n    \t      JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);\r\n    \t      // return the PDF in bytes\r\n    \t      bytes = JasperExportManager.exportReportToPdf(jasperPrint);\r\n    \t    }\r\n    \t    catch (JRException | IOException e) {\r\n    \t      e.printStackTrace();\r\n    \t    }\r\n    \t    return bytes;\r\n    \t  }\r\n\r\n    }\r\n\r\nmy report is as below\r\n\r\n\t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\t&lt;!-- Created with Jaspersoft Studio version 7.2.0.final using JasperReports Library version 6.6.0  --&gt;\r\n\t\t&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;refClient&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; isIgnorePagination=&quot;true&quot; uuid=&quot;576dcd38-2982-412b-93d5-2a078da1b183&quot;&gt;\r\n\t\t\t&lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\r\n\t\t\t&lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table 1_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table 1_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table 1_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;subDataset name=&quot;ItemDataset&quot; uuid=&quot;2914f7c6-c2d7-448b-b0c1-090970e18ed6&quot;&gt;\r\n\t\t\t\t&lt;queryString&gt;\r\n\t\t\t\t\t&lt;![CDATA[]]&gt;\r\n\t\t\t\t&lt;/queryString&gt;\r\n\t\t\t\t&lt;field name=&quot;clientName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t\t\t&lt;field name=&quot;identifiant&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t\t\t&lt;field name=&quot;codeExterne&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t\t&lt;/subDataset&gt;\r\n\t\t\t&lt;parameter name=&quot;ItemDataSource&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\r\n\t\t\t&lt;queryString&gt;\r\n\t\t\t\t&lt;![CDATA[select 1 from dual]]&gt;\r\n\t\t\t&lt;/queryString&gt;\r\n\t\t\t&lt;background&gt;\r\n\t\t\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t\t\t&lt;/background&gt;\r\n\t\t\t&lt;title&gt;\r\n\t\t\t\t&lt;band height=&quot;50&quot;&gt;\r\n\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t&lt;reportElement x=&quot;11&quot; y=&quot;11&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;9d66bc1e-2b6d-49b7-8a64-74fbd2e5d5eb&quot;/&gt;\r\n\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Liste des clients]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t&lt;/band&gt;\r\n\t\t\t&lt;/title&gt;\r\n\t\t\t&lt;detail&gt;\r\n\t\t\t\t&lt;band height=&quot;256&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t\t\t&lt;componentElement&gt;\r\n\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;555&quot; height=&quot;200&quot; uuid=&quot;7786bb05-503a-4b6a-991a-a7bcf3abad07&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table 1_TH&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table 1_CH&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table 1_TD&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/reportElement&gt;\r\n\t\t\t\t\t\t&lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;datasetRun subDataset=&quot;ItemDataset&quot; uuid=&quot;d3e1e03a-2c83-4436-9e50-79518bc3d337&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[$P{ItemDataSource}]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/datasetRun&gt;\r\n\t\t\t\t\t\t\t&lt;jr:column width=&quot;130&quot; uuid=&quot;dca8961f-ce2d-47ac-879c-b15847d170a9&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne1&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;f60d1675-6fb6-4569-93ca-de32b3a8e861&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Nom]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;f1de366a-b36f-4200-9b1e-7a0009be5373&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{clientName}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t\t&lt;jr:column width=&quot;140&quot; uuid=&quot;980fffb5-1088-47a6-b00f-b5d08b7093c9&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne2&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;140&quot; height=&quot;30&quot; uuid=&quot;16679b95-2e6e-4ca1-b8b6-dd7b74267c56&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Identifiant]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;140&quot; height=&quot;30&quot; uuid=&quot;341e7faf-9680-4941-a9a4-ac78b8f4aae0&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{identifiant}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t\t&lt;jr:column width=&quot;100&quot; uuid=&quot;761d1134-6b53-4b5d-9355-b44586d8d8aa&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne3&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;b07f5db5-1df8-48e9-a612-27ad6110fdcd&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Code]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;1e0438b1-82e5-429a-b63a-5349014cf84a&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{codeExterne}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;/jr:table&gt;\r\n\t\t\t\t\t&lt;/componentElement&gt;\r\n\t\t\t\t&lt;/band&gt;\r\n\t\t\t&lt;/detail&gt;\r\n\t\t&lt;/jasperReport&gt;\r\n\r\nas you see I&#39;m using a parameters where I send a jrcollection, this is used in a tutorial that I found on YouTube.\r\n\r\nfor the response handling I have this js ajax call\r\n\r\n    $(document).on(&#39;click&#39;, &#39;#menu0-func1-menu0-func1&#39;, function(){\r\n    \t\tconsole.log(printData);\r\n    \t\tvar jsonData =JSON.parse(JSON.stringify(printData));\r\n    \t\t    var settings = {\r\n    \t\t        &quot;async&quot; : true,\r\n    \t\t        &quot;crossDomain&quot; : true,\r\n    \t\t        &quot;url&quot; : &quot;http://&quot;+document.location.host+&quot;/facturation/print/client&quot;,\r\n    \t\t        &quot;method&quot; : &quot;POST&quot;,\r\n    \t\t        &quot;headers&quot; : {\r\n    \t\t            &quot;cache-control&quot; : &quot;no-cache&quot;,\r\n    \t\t            &#39;X-CSRF-TOKEN&#39;: $(&#39;meta[name=&quot;csrf-token&quot;]&#39;).attr(&#39;content&#39;)\r\n    \t\t        },\r\n    \t\t        &quot;processData&quot; : false,\r\n    \t\t        &quot;contentType&quot; : &quot;application/json&quot;,\r\n    \t\t        &quot;dataType&quot; : &quot;text&quot;,\r\n    \t\t        &quot;data&quot; : JSON.stringify(printData)\r\n    \t\t    }\r\n    \r\n    \t\t    $.ajax(settings).done(function(response, status, xhr) {\r\n    \t\t        console.log(response);\r\n    \t\t          \r\n    \t\t        // check for a filename\r\n    \t\t        var filename = &quot;&quot;;\r\n    \t\t        var disposition = xhr.getResponseHeader(&#39;Content-Disposition&#39;);\r\n    \t\t        if (disposition &amp;&amp; disposition.indexOf(&#39;attachment&#39;) !== -1) {\r\n    \t\t            var filenameRegex = /filename[^;=\\n]*=(([&#39;&quot;]).*?\\2|[^;\\n]*)/;\r\n    \t\t            var matches = filenameRegex.exec(disposition);\r\n    \t\t            if (matches != null &amp;&amp; matches[1]) filename = matches[1].replace(/[&#39;&quot;]/g, &#39;&#39;);\r\n    \t\t        }\r\n    \r\n    \t\t        var type = xhr.getResponseHeader(&#39;Content-Type&#39;);\r\n    \t\t        var blob = new Blob([response], { type: type });\r\n    \r\n    \t\t        if (typeof window.navigator.msSaveBlob !== &#39;undefined&#39;) {\r\n    \t\t            // IE workaround for &quot;HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.&quot;\r\n    \t\t            window.navigator.msSaveBlob(blob, filename);\r\n    \t\t        } else {\r\n    \t\t            var URL = window.URL || window.webkitURL;\r\n    \t\t            var downloadUrl = URL.createObjectURL(blob);\r\n    \r\n    \t\t            if (filename) {\r\n    \t\t                // use HTML5 a[download] attribute to specify filename\r\n    \t\t                var a = document.createElement(&quot;a&quot;);\r\n    \t\t                // safari doesn&#39;t support this yet\r\n    \t\t                if (typeof a.download === &#39;undefined&#39;) {\r\n    \t\t                    window.location = downloadUrl;\r\n    \t\t                } else {\r\n    \t\t                    a.href = downloadUrl;\r\n    \t\t                    a.download = filename;\r\n    \t\t                    document.body.appendChild(a);\r\n    \t\t                    a.click();\r\n    \t\t                }\r\n    \t\t            } else {\r\n    \t\t                window.location = downloadUrl;\r\n    \t\t            }\r\n    \r\n    \t\t            setTimeout(function () { URL.revokeObjectURL(downloadUrl); }, 100); // cleanup\r\n    \t\t        }\r\n    \t\t    \r\n    \t\t    });\r\n    \t});\r\n\r\nthere is no exception, Normally I should at least get the title of the report but I m getting an empty pdf page\r\n\r\nhere is my console log in Chrome\r\n\r\n\t\t%PDF-1.5\r\n\t\t%����\r\n\t\t3 0 obj\r\n\t\t&lt;&lt;/Filter/FlateDecode/Length 882&gt;&gt;stream\r\n\t\tx���[O1���W��&gt;�z|�M^i�J�B�T��e�Q��`����zJc�����}|2_���hU�R,d)Vuq�*�J�u!�W�{a�X�w&#39; @�US�Y�t��D��ޤ�)�e��Ӧ8��m�ע^���n��n�#���9��O�\\�ג�K��Rֺw�����\r\n\t\t�r��59��&gt;/�\t0^���r�`ޙ�ֈ�h�!�`�/���5�KƆ��Yb�\\\r\n\t\t#��1hP�\r\n\t\t�ďK.fYyk?���%�6T�!�}�˾(j�on7����M���?F6���V��F�M^&amp;�IjywI�h��������WV1d���L2N�w��̦%�E�c�B��I��єB�R��b!�2�f���d=*�I�����&quot;�KB�&quot;\r\n\t\t��᳍&amp;�������ֲX�df2��C&quot;�zf�#)Ό�wLJ��F����аH��E#\r\n\t\t��%/!b=��,�&quot;y�XKyA˿��e\r\n\t\tendstream\r\n\t\tendobj\r\n\t\t1 0 obj\r\n\t\t&lt;&lt;/Tabs/S/Group&lt;&lt;/S/Transparency/Type/Group/CS/DeviceRGB&gt;&gt;/Contents 3 0 R/Type/Page/Resources&lt;&lt;/ColorSpace&lt;&lt;/CS/DeviceRGB&gt;&gt;/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]/Font&lt;&lt;/F1 2 0 R&gt;&gt;&gt;&gt;/Parent 4 0 R/MediaBox[0 0 595 842]&gt;&gt;\r\n\t\tendobj\r\n\t\t5 0 obj\r\n\t\t[1 0 R/XYZ 0 852 0]\r\n\t\tendobj\r\n\t\t2 0 obj\r\n\t\t&lt;&lt;/Subtype/Type1/Type/Font/BaseFont/Helvetica/Encoding/WinAnsiEncoding&gt;&gt;\r\n\t\tendobj\r\n\t\t4 0 obj\r\n\t\t&lt;&lt;/Kids[1 0 R]/Type/Pages/Count 1/ITXT(2.1.7)&gt;&gt;\r\n\t\tendobj\r\n\t\t6 0 obj\r\n\t\t&lt;&lt;/Names[(JR_PAGE_ANCHOR_0_1) 5 0 R]&gt;&gt;\r\n\t\tendobj\r\n\t\t7 0 obj\r\n\t\t&lt;&lt;/Dests 6 0 R&gt;&gt;\r\n\t\tendobj\r\n\t\t8 0 obj\r\n\t\t&lt;&lt;/Names 7 0 R/Type/Catalog/Pages 4 0 R/ViewerPreferences&lt;&lt;/PrintScaling/AppDefault&gt;&gt;&gt;&gt;\r\n\t\tendobj\r\n\t\t9 0 obj\r\n\t\t&lt;&lt;/ModDate(D:20181123161409Z)/Creator(JasperReports Library version 6.4.0)/CreationDate(D:20181123161409Z)/Producer(iText 2.1.7 by 1T3XT)&gt;&gt;\r\n\t\tendobj\r\n\t\txref\r\n\t\t0 10\r\n\t\t0000000000 65535 f \r\n\t\t0000000964 00000 n \r\n\t\t0000001240 00000 n \r\n\t\t0000000015 00000 n \r\n\t\t0000001328 00000 n \r\n\t\t0000001205 00000 n \r\n\t\t0000001391 00000 n \r\n\t\t0000001445 00000 n \r\n\t\t0000001477 00000 n \r\n\t\t0000001580 00000 n \r\n\t\ttrailer\r\n\t\t&lt;&lt;/Info 9 0 R/ID [&lt;b7d27a6f96e6278f5c1d222f79d7c999&gt;&lt;b97ae89e1e568703aeb75af2080d04d8&gt;]/Root 8 0 R/Size 10&gt;&gt;\r\n\t\tstartxref\r\n\t\t1735\r\n\t\t%%EOF\r\n\r\nWhat to do, I tried lot of tutorials this 3 last days but no success\r\n\r\n**edit**\r\n\r\nI generated the pdf using `JasperExportManager.exportReportToPdfFile(jasperPrint, &quot;rapport.pdf&quot;);` and the pdf file is well formed that is there, I compared the txt representation of this well pdf with the received log, they are the same, my empty pdf is 3kb and the well formed is also 3kb.","title":"Report is fine in backend but it is received empty when downloaded using ajax from spring boot","body":"<p><strong>My stack</strong></p>\n<p>Spring boot 1.5.6<br />\nJasperReport<br />\nAjax JQuery 3.1.1</p>\n<p><strong>My goal</strong></p>\n<p>I'm trying to print for first time a report using jasper report, I have a printing service where I have my reports stored, my idea was to send http request via ajax containing data and get a pdf report</p>\n<p><strong>What I tried</strong></p>\n<p>I have a rest controller in my spring-boot backend which is implemented like this</p>\n<pre><code>@RestController\n@RequestMapping(PrintController.API)\npublic class PrintController {\n    public static final String API=&quot;print&quot;;\n\n    @PostMapping(&quot;client&quot;)\n    public void export(@RequestBody List&lt;ClientJsonDto&gt; datas,HttpServletResponse response){\n\n        System.out.println(datas);\n         JRBeanCollectionDataSource itemsJRBean = new JRBeanCollectionDataSource(datas);\n\n    /* Map to hold Jasper report Parameters */\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\n    parameters.put(&quot;ItemDataSource&quot;, itemsJRBean);\n\n    byte[] bytes = generatePDFReport(&quot;refclient&quot;, parameters);\n    return ResponseEntity\n              .ok()\n              // Specify content type as PDF\n              .header(&quot;Content-Type&quot;, &quot;application/pdf; charset=UTF-8&quot;)\n              // Tell browser to display PDF if it can\n              .header(&quot;Content-Disposition&quot;, &quot;attachment;inline; filename=\\&quot;client.pdf\\&quot;&quot;)\n              .body(bytes);\n       \n    }\n\n\npublic byte[] generatePDFReport(String inputFileName, Map&lt;String, Object&gt; params) {\n    return generatePDFReport(inputFileName, params, new JREmptyDataSource());\n}\n\n    \npublic File loadJasperFile(String file) {\n    \n    try {\n        return ResourceUtils.getFile(&quot;classpath:static/reports/&quot;+file+&quot;.jasper&quot;);\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    };\n    return null;\n}\n\npublic byte[] generatePDFReport(String inputFileName, Map&lt;String, Object&gt; params,\n        JRDataSource dataSource) {\n        byte[] bytes = null;\n        JasperReport jasperReport = null;\n        try (ByteArrayOutputStream byteArray = new ByteArrayOutputStream()) {\n          // Check if a compiled report exists\n\n\n            jasperReport = (JasperReport) JRLoader.loadObject(loadJasperFile(inputFileName));\n          \n          // Compile report from source and save\n       \n          JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);\n          // return the PDF in bytes\n          bytes = JasperExportManager.exportReportToPdf(jasperPrint);\n        }\n        catch (JRException | IOException e) {\n          e.printStackTrace();\n        }\n        return bytes;\n      }\n\n}\n</code></pre>\n<p>my report is as below</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!-- Created with Jaspersoft Studio version 7.2.0.final using JasperReports Library version 6.6.0  --&gt;\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;refClient&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; isIgnorePagination=&quot;true&quot; uuid=&quot;576dcd38-2982-412b-93d5-2a078da1b183&quot;&gt;\n        &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\n        &lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table 1_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table 1_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table 1_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;subDataset name=&quot;ItemDataset&quot; uuid=&quot;2914f7c6-c2d7-448b-b0c1-090970e18ed6&quot;&gt;\n            &lt;queryString&gt;\n                &lt;![CDATA[]]&gt;\n            &lt;/queryString&gt;\n            &lt;field name=&quot;clientName&quot; class=&quot;java.lang.String&quot;/&gt;\n            &lt;field name=&quot;identifiant&quot; class=&quot;java.lang.String&quot;/&gt;\n            &lt;field name=&quot;codeExterne&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;/subDataset&gt;\n        &lt;parameter name=&quot;ItemDataSource&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\n        &lt;queryString&gt;\n            &lt;![CDATA[select 1 from dual]]&gt;\n        &lt;/queryString&gt;\n        &lt;background&gt;\n            &lt;band splitType=&quot;Stretch&quot;/&gt;\n        &lt;/background&gt;\n        &lt;title&gt;\n            &lt;band height=&quot;50&quot;&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement x=&quot;11&quot; y=&quot;11&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;9d66bc1e-2b6d-49b7-8a64-74fbd2e5d5eb&quot;/&gt;\n                    &lt;text&gt;&lt;![CDATA[Liste des clients]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n            &lt;/band&gt;\n        &lt;/title&gt;\n        &lt;detail&gt;\n            &lt;band height=&quot;256&quot; splitType=&quot;Stretch&quot;&gt;\n                &lt;componentElement&gt;\n                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;555&quot; height=&quot;200&quot; uuid=&quot;7786bb05-503a-4b6a-991a-a7bcf3abad07&quot;&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table 1_TH&quot;/&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table 1_CH&quot;/&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table 1_TD&quot;/&gt;\n                    &lt;/reportElement&gt;\n                    &lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\n                        &lt;datasetRun subDataset=&quot;ItemDataset&quot; uuid=&quot;d3e1e03a-2c83-4436-9e50-79518bc3d337&quot;&gt;\n                            &lt;dataSourceExpression&gt;&lt;![CDATA[$P{ItemDataSource}]]&gt;&lt;/dataSourceExpression&gt;\n                        &lt;/datasetRun&gt;\n                        &lt;jr:column width=&quot;130&quot; uuid=&quot;dca8961f-ce2d-47ac-879c-b15847d170a9&quot;&gt;\n                            &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne1&quot;/&gt;\n                            &lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                                &lt;staticText&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;f60d1675-6fb6-4569-93ca-de32b3a8e861&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;text&gt;&lt;![CDATA[Nom]]&gt;&lt;/text&gt;\n                                &lt;/staticText&gt;\n                            &lt;/jr:tableHeader&gt;\n                            &lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\n                                &lt;textField&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;f1de366a-b36f-4200-9b1e-7a0009be5373&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{clientName}]]&gt;&lt;/textFieldExpression&gt;\n                                &lt;/textField&gt;\n                            &lt;/jr:detailCell&gt;\n                        &lt;/jr:column&gt;\n                        &lt;jr:column width=&quot;140&quot; uuid=&quot;980fffb5-1088-47a6-b00f-b5d08b7093c9&quot;&gt;\n                            &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne2&quot;/&gt;\n                            &lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                                &lt;staticText&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;140&quot; height=&quot;30&quot; uuid=&quot;16679b95-2e6e-4ca1-b8b6-dd7b74267c56&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;text&gt;&lt;![CDATA[Identifiant]]&gt;&lt;/text&gt;\n                                &lt;/staticText&gt;\n                            &lt;/jr:tableHeader&gt;\n                            &lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\n                                &lt;textField&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;140&quot; height=&quot;30&quot; uuid=&quot;341e7faf-9680-4941-a9a4-ac78b8f4aae0&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{identifiant}]]&gt;&lt;/textFieldExpression&gt;\n                                &lt;/textField&gt;\n                            &lt;/jr:detailCell&gt;\n                        &lt;/jr:column&gt;\n                        &lt;jr:column width=&quot;100&quot; uuid=&quot;761d1134-6b53-4b5d-9355-b44586d8d8aa&quot;&gt;\n                            &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne3&quot;/&gt;\n                            &lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                                &lt;staticText&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;b07f5db5-1df8-48e9-a612-27ad6110fdcd&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;text&gt;&lt;![CDATA[Code]]&gt;&lt;/text&gt;\n                                &lt;/staticText&gt;\n                            &lt;/jr:tableHeader&gt;\n                            &lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\n                                &lt;textField&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;1e0438b1-82e5-429a-b63a-5349014cf84a&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{codeExterne}]]&gt;&lt;/textFieldExpression&gt;\n                                &lt;/textField&gt;\n                            &lt;/jr:detailCell&gt;\n                        &lt;/jr:column&gt;\n                    &lt;/jr:table&gt;\n                &lt;/componentElement&gt;\n            &lt;/band&gt;\n        &lt;/detail&gt;\n    &lt;/jasperReport&gt;\n</code></pre>\n<p>as you see I'm using a parameters where I send a jrcollection, this is used in a tutorial that I found on YouTube.</p>\n<p>for the response handling I have this js ajax call</p>\n<pre><code>$(document).on('click', '#menu0-func1-menu0-func1', function(){\n        console.log(printData);\n        var jsonData =JSON.parse(JSON.stringify(printData));\n            var settings = {\n                &quot;async&quot; : true,\n                &quot;crossDomain&quot; : true,\n                &quot;url&quot; : &quot;http://&quot;+document.location.host+&quot;/facturation/print/client&quot;,\n                &quot;method&quot; : &quot;POST&quot;,\n                &quot;headers&quot; : {\n                    &quot;cache-control&quot; : &quot;no-cache&quot;,\n                    'X-CSRF-TOKEN': $('meta[name=&quot;csrf-token&quot;]').attr('content')\n                },\n                &quot;processData&quot; : false,\n                &quot;contentType&quot; : &quot;application/json&quot;,\n                &quot;dataType&quot; : &quot;text&quot;,\n                &quot;data&quot; : JSON.stringify(printData)\n            }\n\n            $.ajax(settings).done(function(response, status, xhr) {\n                console.log(response);\n                  \n                // check for a filename\n                var filename = &quot;&quot;;\n                var disposition = xhr.getResponseHeader('Content-Disposition');\n                if (disposition &amp;&amp; disposition.indexOf('attachment') !== -1) {\n                    var filenameRegex = /filename[^;=\\n]*=((['&quot;]).*?\\2|[^;\\n]*)/;\n                    var matches = filenameRegex.exec(disposition);\n                    if (matches != null &amp;&amp; matches[1]) filename = matches[1].replace(/['&quot;]/g, '');\n                }\n\n                var type = xhr.getResponseHeader('Content-Type');\n                var blob = new Blob([response], { type: type });\n\n                if (typeof window.navigator.msSaveBlob !== 'undefined') {\n                    // IE workaround for &quot;HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.&quot;\n                    window.navigator.msSaveBlob(blob, filename);\n                } else {\n                    var URL = window.URL || window.webkitURL;\n                    var downloadUrl = URL.createObjectURL(blob);\n\n                    if (filename) {\n                        // use HTML5 a[download] attribute to specify filename\n                        var a = document.createElement(&quot;a&quot;);\n                        // safari doesn't support this yet\n                        if (typeof a.download === 'undefined') {\n                            window.location = downloadUrl;\n                        } else {\n                            a.href = downloadUrl;\n                            a.download = filename;\n                            document.body.appendChild(a);\n                            a.click();\n                        }\n                    } else {\n                        window.location = downloadUrl;\n                    }\n\n                    setTimeout(function () { URL.revokeObjectURL(downloadUrl); }, 100); // cleanup\n                }\n            \n            });\n    });\n</code></pre>\n<p>there is no exception, Normally I should at least get the title of the report but I m getting an empty pdf page</p>\n<p>here is my console log in Chrome</p>\n<pre><code>    %PDF-1.5\n    %����\n    3 0 obj\n    &lt;&lt;/Filter/FlateDecode/Length 882&gt;&gt;stream\n    x���[O1���W��&gt;�z|�M^i�J�B�T��e�Q��`����zJc�����}|2_���hU�R,d)Vuq�*�J�u!�W�{a�X�w' @�US�Y�t��D��ޤ�)�e��Ӧ8��m�ע^���n��n�#���9��O�\\�ג�K��Rֺw�����\n    �r��59��&gt;/� 0^���r�`ޙ�ֈ�h�!�`�/���5�KƆ��Yb�\\\n    #��1hP�\n    �ďK.fYyk?���%�6T�!�}�˾(j�on7����M���?F6���V��F�M^&amp;�IjywI�h��������WV1d���L2N�w��̦%�E�c�B��I��єB�R��b!�2�f���d=*�I�����&quot;�KB�&quot;\n    ��᳍&amp;�������ֲX�df2��C&quot;�zf�#)Ό�wLJ��F����аH��E#\n    ��%/!b=��,�&quot;y�XKyA˿��e\n    endstream\n    endobj\n    1 0 obj\n    &lt;&lt;/Tabs/S/Group&lt;&lt;/S/Transparency/Type/Group/CS/DeviceRGB&gt;&gt;/Contents 3 0 R/Type/Page/Resources&lt;&lt;/ColorSpace&lt;&lt;/CS/DeviceRGB&gt;&gt;/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]/Font&lt;&lt;/F1 2 0 R&gt;&gt;&gt;&gt;/Parent 4 0 R/MediaBox[0 0 595 842]&gt;&gt;\n    endobj\n    5 0 obj\n    [1 0 R/XYZ 0 852 0]\n    endobj\n    2 0 obj\n    &lt;&lt;/Subtype/Type1/Type/Font/BaseFont/Helvetica/Encoding/WinAnsiEncoding&gt;&gt;\n    endobj\n    4 0 obj\n    &lt;&lt;/Kids[1 0 R]/Type/Pages/Count 1/ITXT(2.1.7)&gt;&gt;\n    endobj\n    6 0 obj\n    &lt;&lt;/Names[(JR_PAGE_ANCHOR_0_1) 5 0 R]&gt;&gt;\n    endobj\n    7 0 obj\n    &lt;&lt;/Dests 6 0 R&gt;&gt;\n    endobj\n    8 0 obj\n    &lt;&lt;/Names 7 0 R/Type/Catalog/Pages 4 0 R/ViewerPreferences&lt;&lt;/PrintScaling/AppDefault&gt;&gt;&gt;&gt;\n    endobj\n    9 0 obj\n    &lt;&lt;/ModDate(D:20181123161409Z)/Creator(JasperReports Library version 6.4.0)/CreationDate(D:20181123161409Z)/Producer(iText 2.1.7 by 1T3XT)&gt;&gt;\n    endobj\n    xref\n    0 10\n    0000000000 65535 f \n    0000000964 00000 n \n    0000001240 00000 n \n    0000000015 00000 n \n    0000001328 00000 n \n    0000001205 00000 n \n    0000001391 00000 n \n    0000001445 00000 n \n    0000001477 00000 n \n    0000001580 00000 n \n    trailer\n    &lt;&lt;/Info 9 0 R/ID [&lt;b7d27a6f96e6278f5c1d222f79d7c999&gt;&lt;b97ae89e1e568703aeb75af2080d04d8&gt;]/Root 8 0 R/Size 10&gt;&gt;\n    startxref\n    1735\n    %%EOF\n</code></pre>\n<p>What to do, I tried lot of tutorials this 3 last days but no success</p>\n<p><strong>edit</strong></p>\n<p>I generated the pdf using <code>JasperExportManager.exportReportToPdfFile(jasperPrint, &quot;rapport.pdf&quot;);</code> and the pdf file is well formed that is there, I compared the txt representation of this well pdf with the received log, they are the same, my empty pdf is 3kb and the well formed is also 3kb.</p>\n"},{"tags":["c#","java",".net","string"],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1285009625,"creation_date":1285009625,"answer_id":3754629,"question_id":3754597,"body_markdown":"There is a [`String.format`][1] in Java, although the syntax is a little different from in .NET.\r\n\r\n[1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.util.Locale,%20java.lang.String,%20java.lang.Object...%29","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>There is a <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.util.Locale,%20java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>String.format</code></a> in Java, although the syntax is a little different from in .NET.</p>\n"},{"tags":[],"owner":{"account_id":28507,"reputation":214235,"user_id":76217,"accept_rate":96,"display_name":"dtb"},"down_vote_count":3,"up_vote_count":34,"is_accepted":true,"score":31,"last_activity_date":1285009945,"creation_date":1285009945,"answer_id":3754684,"question_id":3754597,"body_markdown":"Have a look at the [String.format][1] and [PrintStream.format][2] methods.\r\n\r\nBoth are based on the [java.util.Formatter class][3].\r\n\r\n**String.format example:**\r\n\r\n    Calendar c = new GregorianCalendar(1995, MAY, 23);\r\n    String s = String.format(&quot;Duke&#39;s Birthday: %1$tm %1$te,%1$tY&quot;, c);\r\n    // -&gt; s == &quot;Duke&#39;s Birthday: May 23, 1995&quot;\r\n\r\n**System.out.format example:**\r\n\r\n    // Writes a formatted string to System.out.\r\n    System.out.format(&quot;Local time: %tT&quot;, Calendar.getInstance());\r\n    // -&gt; &quot;Local time: 13:34:18&quot;\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/io/PrintStream.html\r\n  [3]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>Have a look at the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\" rel=\"noreferrer\">String.format</a> and <a href=\"http://download.oracle.com/javase/7/docs/api/java/io/PrintStream.html\" rel=\"noreferrer\">PrintStream.format</a> methods.</p>\n\n<p>Both are based on the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">java.util.Formatter class</a>.</p>\n\n<p><strong>String.format example:</strong></p>\n\n<pre><code>Calendar c = new GregorianCalendar(1995, MAY, 23);\nString s = String.format(\"Duke's Birthday: %1$tm %1$te,%1$tY\", c);\n// -&gt; s == \"Duke's Birthday: May 23, 1995\"\n</code></pre>\n\n<p><strong>System.out.format example:</strong></p>\n\n<pre><code>// Writes a formatted string to System.out.\nSystem.out.format(\"Local time: %tT\", Calendar.getInstance());\n// -&gt; \"Local time: 13:34:18\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97574,"reputation":1974,"user_id":264609,"display_name":"Oscar Boykin"},"down_vote_count":1,"up_vote_count":126,"is_accepted":false,"score":125,"last_activity_date":1301085170,"creation_date":1301085170,"answer_id":5437830,"question_id":3754597,"body_markdown":"The 10 cent answer to this is:\r\n\r\nC#&#39;s\r\n&lt;pre&gt;&lt;code&gt;\r\nString.Format(&quot;{0} -- {1} -- {2}&quot;, ob1, ob2, ob3)\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nis equivalent to Java&#39;s\r\n&lt;pre&gt;&lt;code&gt;\r\nString.format(&quot;%1$s -- %2$s -- %3$s&quot;, ob1, ob2, ob3)\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nNote the 1-based index, and the &quot;s&quot; means to convert to string using .toString().  There are many other conversions available and formatting options:\r\n\r\nhttp://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\r\n","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>The 10 cent answer to this is:</p>\n\n<p>C#'s</p>\n\n<pre><code>\nString.Format(\"{0} -- {1} -- {2}\", ob1, ob2, ob3)\n</code></pre>\n\n<p>is equivalent to Java's</p>\n\n<pre><code>\nString.format(\"%1$s -- %2$s -- %3$s\", ob1, ob2, ob3)\n</code></pre>\n\n<p>Note the 1-based index, and the \"s\" means to convert to string using .toString().  There are many other conversions available and formatting options:</p>\n\n<p><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\">http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax</a></p>\n"},{"tags":[],"owner":{"account_id":41407,"reputation":4734,"user_id":120309,"accept_rate":100,"display_name":"MrSnowflake"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1339408644,"creation_date":1339408644,"answer_id":10977910,"question_id":3754597,"body_markdown":"There is `MessageFormat.format()` which uses the .net notation.","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>There is <code>MessageFormat.format()</code> which uses the .net notation.</p>\n"},{"tags":[],"owner":{"account_id":70909,"reputation":8240,"user_id":205210,"accept_rate":96,"display_name":"Nicolas Guillaume"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1669049969,"creation_date":1358878389,"answer_id":14465278,"question_id":3754597,"body_markdown":"You can also simply use `%s` for string, since the index is an optional argument.\r\n\r\n    String name = &quot;Jon&quot;;\r\n    int age = 26;\r\n    String.format(&quot;%s is %s years old.&quot;, name, age);\r\n\r\nThe above example looks cleaner in my opinion.\r\n\r\nA note about `%s` from the java documentation:\r\n\r\n&gt; If the argument arg is null, then the result is &quot;null&quot;. If arg\r\n&gt; implements Formattable, then arg.formatTo is invoked. Otherwise, the\r\n&gt; result is obtained by invoking arg.toString().","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>You can also simply use <code>%s</code> for string, since the index is an optional argument.</p>\n<pre><code>String name = &quot;Jon&quot;;\nint age = 26;\nString.format(&quot;%s is %s years old.&quot;, name, age);\n</code></pre>\n<p>The above example looks cleaner in my opinion.</p>\n<p>A note about <code>%s</code> from the java documentation:</p>\n<blockquote>\n<p>If the argument arg is null, then the result is &quot;null&quot;. If arg\nimplements Formattable, then arg.formatTo is invoked. Otherwise, the\nresult is obtained by invoking arg.toString().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":92694,"reputation":11510,"user_id":253938,"accept_rate":81,"display_name":"RenniePet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444657068,"creation_date":1444657068,"answer_id":33082614,"question_id":3754597,"body_markdown":"This isn&#39;t really an answer to the OP&#39;s question, but may be helpful to others who are looking for a simple way of performing substitution of strings into a string containing C#-style &quot;format items&quot;.\r\n\r\n       /**\r\n        * Method to &quot;format&quot; an array of objects as a single string, performing two possible kinds of\r\n        * formatting:\r\n        *\r\n        * 1. If the first object in the array is a String, and depending on the number of objects in the\r\n        *    array, then a very simplified and simple-minded C#-style formatting is done. Format items\r\n        *    &quot;{0}&quot;, &quot;{1}&quot;, etc., are replaced by the corresponding following object, converted to string\r\n        *    (of course). These format items must be as shown, with no fancy formatting tags, and only\r\n        *    simple string substitution is done.\r\n        *\r\n        * 2. For the objects in the array that do not get processed by point 1 (perhaps all of them,\r\n        *    perhaps none) they are converted to String and concatenated together with &quot; - &quot; in between.\r\n        *\r\n        * @param objectsToFormat  Number of objects in the array to process/format.\r\n        * @param arrayOfObjects  Objects to be formatted, or at least the first objectsToFormat of them.\r\n        * @return  Formatted string, as described above.\r\n        */\r\n       public static String formatArrayOfObjects(int objectsToFormat, Object... arrayOfObjects) {\r\n    \r\n          // Make a preliminary pass to avoid problems with nulls\r\n          for (int i = 0; i &lt; objectsToFormat; i++) {\r\n             if (arrayOfObjects[i] == null) {\r\n                arrayOfObjects[i] = &quot;null&quot;;\r\n             }\r\n          }\r\n    \r\n          // If only one object, just return it as a string\r\n          if (objectsToFormat == 1) {\r\n             return arrayOfObjects[0].toString();\r\n          }\r\n    \r\n          int nextObject = 0;\r\n          StringBuilder stringBuilder = new StringBuilder();\r\n    \r\n          // If first object is a string it is necessary to (maybe) perform C#-style formatting\r\n          if (arrayOfObjects[0] instanceof String) {\r\n             String s = (String) arrayOfObjects[0];\r\n    \r\n             while (nextObject &lt; objectsToFormat) {\r\n    \r\n                String formatItem = &quot;{&quot; + nextObject + &quot;}&quot;;\r\n                nextObject++;\r\n                if (!s.contains(formatItem)) {\r\n                   break;\r\n                }\r\n    \r\n                s = s.replace(formatItem, arrayOfObjects[nextObject].toString());\r\n             }\r\n    \r\n             stringBuilder.append(s);\r\n          }\r\n    \r\n          // Remaining objects (maybe all of them, maybe none) are concatenated together with &quot; - &quot;\r\n          for (; nextObject &lt; objectsToFormat; nextObject++) {\r\n             if (nextObject &gt; 0) {\r\n                stringBuilder.append(&quot; - &quot;);\r\n             }\r\n             stringBuilder.append(arrayOfObjects[nextObject].toString());\r\n          }\r\n    \r\n          return stringBuilder.toString();\r\n       }\r\n\r\n(And in case you&#39;re curious, I&#39;m using this code as part of a simple wrapper for the Android Log methods, to make it easier to log multiple things in a single log message.)\r\n\r\n","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>This isn't really an answer to the OP's question, but may be helpful to others who are looking for a simple way of performing substitution of strings into a string containing C#-style \"format items\".</p>\n\n<pre><code>   /**\n    * Method to \"format\" an array of objects as a single string, performing two possible kinds of\n    * formatting:\n    *\n    * 1. If the first object in the array is a String, and depending on the number of objects in the\n    *    array, then a very simplified and simple-minded C#-style formatting is done. Format items\n    *    \"{0}\", \"{1}\", etc., are replaced by the corresponding following object, converted to string\n    *    (of course). These format items must be as shown, with no fancy formatting tags, and only\n    *    simple string substitution is done.\n    *\n    * 2. For the objects in the array that do not get processed by point 1 (perhaps all of them,\n    *    perhaps none) they are converted to String and concatenated together with \" - \" in between.\n    *\n    * @param objectsToFormat  Number of objects in the array to process/format.\n    * @param arrayOfObjects  Objects to be formatted, or at least the first objectsToFormat of them.\n    * @return  Formatted string, as described above.\n    */\n   public static String formatArrayOfObjects(int objectsToFormat, Object... arrayOfObjects) {\n\n      // Make a preliminary pass to avoid problems with nulls\n      for (int i = 0; i &lt; objectsToFormat; i++) {\n         if (arrayOfObjects[i] == null) {\n            arrayOfObjects[i] = \"null\";\n         }\n      }\n\n      // If only one object, just return it as a string\n      if (objectsToFormat == 1) {\n         return arrayOfObjects[0].toString();\n      }\n\n      int nextObject = 0;\n      StringBuilder stringBuilder = new StringBuilder();\n\n      // If first object is a string it is necessary to (maybe) perform C#-style formatting\n      if (arrayOfObjects[0] instanceof String) {\n         String s = (String) arrayOfObjects[0];\n\n         while (nextObject &lt; objectsToFormat) {\n\n            String formatItem = \"{\" + nextObject + \"}\";\n            nextObject++;\n            if (!s.contains(formatItem)) {\n               break;\n            }\n\n            s = s.replace(formatItem, arrayOfObjects[nextObject].toString());\n         }\n\n         stringBuilder.append(s);\n      }\n\n      // Remaining objects (maybe all of them, maybe none) are concatenated together with \" - \"\n      for (; nextObject &lt; objectsToFormat; nextObject++) {\n         if (nextObject &gt; 0) {\n            stringBuilder.append(\" - \");\n         }\n         stringBuilder.append(arrayOfObjects[nextObject].toString());\n      }\n\n      return stringBuilder.toString();\n   }\n</code></pre>\n\n<p>(And in case you're curious, I'm using this code as part of a simple wrapper for the Android Log methods, to make it easier to log multiple things in a single log message.)</p>\n"}],"owner":{"account_id":16675,"reputation":70063,"user_id":36590,"accept_rate":71,"display_name":"BuddyJoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31936,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":3754684,"answer_count":6,"score":63,"last_activity_date":1669049969,"creation_date":1285009426,"question_id":3754597,"body_markdown":"Is there an equivalent to .NET&#39;s `String.Format` in Java?","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>Is there an equivalent to .NET's <code>String.Format</code> in Java?</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1389323593,"post_id":21035536,"comment_id":31623625,"body_markdown":"What you&#39;re looking for is interface default implementations, which will be available in Java 8.","body":"What you&#39;re looking for is interface default implementations, which will be available in Java 8."},{"owner":{"account_id":3536284,"reputation":662,"user_id":2954509,"accept_rate":25,"display_name":"johnsoe"},"score":0,"creation_date":1389372729,"post_id":21035536,"comment_id":31648987,"body_markdown":"Yup that should do it. Thanks!","body":"Yup that should do it. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669049723,"creation_date":1389325524,"answer_id":21035870,"question_id":21035536,"body_markdown":"Shared behavior can be moved to a superclass. If you can&#39;t modify Card for some reason, you can introduce another level of inheritance -- in my environment we&#39;d typically call it something like BaseCard -- which either implements all the methods of Card (you can override them again in the specific card classes) or which is an `abstract class` so it can just implement the shared behaviors and leaves the others to be implemented by classes derived from it. Then your actual CardA, CardB, etcetera would extended BaseCard, which would also make them Cards.\r\n\r\n(Note that you almost answered this yourself when you used the word &quot;abstract&quot;. When there&#39;s shared behavior you want to factor out, another layer of inheritance is one way to do it, and abstract classes are a good way to keep that relatively easy and make it clear that you don&#39;t intend them to be used directly.)\r\n\r\nThe other solution would be delegation -- change the is-a relationship to has-a, have each card own an instance of a utility class which provides the shared functionality, and have the card&#39;s methods call methods on that utility class to do the job. Again, that lets you factor out a set of logic, but this operates entirely independently of inheritance. It&#39;s a bit less efficient, but it&#39;s a perfectly reasonable solution. And if you need to pick up behavior from several different classes it&#39;s the only solution, since Java only allows multiple inheritance for interfaces, not for classes (even if they&#39;re abstract) -- one superclass (with whatever inheritance it has), plus as many interfaces as make sense.\r\n\r\n(If you want to know why Java had that restriction, look up &quot;diamond inheritance&quot;. The simple answer is that it can get very messy very quickly, and even in languages which support it people often wind up using something more like Java&#39;s single-inheritance-plus-interfaces-plus-delegation model.)","title":"Remove redundant implementations of an interface without using inheritance","body":"<p>Shared behavior can be moved to a superclass. If you can't modify Card for some reason, you can introduce another level of inheritance -- in my environment we'd typically call it something like BaseCard -- which either implements all the methods of Card (you can override them again in the specific card classes) or which is an <code>abstract class</code> so it can just implement the shared behaviors and leaves the others to be implemented by classes derived from it. Then your actual CardA, CardB, etcetera would extended BaseCard, which would also make them Cards.</p>\n<p>(Note that you almost answered this yourself when you used the word &quot;abstract&quot;. When there's shared behavior you want to factor out, another layer of inheritance is one way to do it, and abstract classes are a good way to keep that relatively easy and make it clear that you don't intend them to be used directly.)</p>\n<p>The other solution would be delegation -- change the is-a relationship to has-a, have each card own an instance of a utility class which provides the shared functionality, and have the card's methods call methods on that utility class to do the job. Again, that lets you factor out a set of logic, but this operates entirely independently of inheritance. It's a bit less efficient, but it's a perfectly reasonable solution. And if you need to pick up behavior from several different classes it's the only solution, since Java only allows multiple inheritance for interfaces, not for classes (even if they're abstract) -- one superclass (with whatever inheritance it has), plus as many interfaces as make sense.</p>\n<p>(If you want to know why Java had that restriction, look up &quot;diamond inheritance&quot;. The simple answer is that it can get very messy very quickly, and even in languages which support it people often wind up using something more like Java's single-inheritance-plus-interfaces-plus-delegation model.)</p>\n"}],"owner":{"account_id":3536284,"reputation":662,"user_id":2954509,"accept_rate":25,"display_name":"johnsoe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669049723,"creation_date":1389323375,"question_id":21035536,"body_markdown":"I have a design problem that I can&#39;t seem to figure out. I am implementing a card game and I am struggling with how to organize the structure of the cards. Every card in the game has some shared behavior which means Card should be the base class. \r\n\r\nHowever, each card can be either a Coin, Mana, or Health card. On top of that any Card could be a combination of these three types. My original thought was to make Coin, Mana, and Health each an interface and then I would be able to implement any Card with the relevent interfaces like so:\r\n\r\n\tpublic class SomeCard extends Card implements Coin, Mana {\r\n\r\n\t}\r\n\r\nThrough this way all inherited classes would have the base Card behavior and implement the necessary behavior. The problem arises from the fact that there is some shared behavior within each of the three interfaces. For example with Coin there is a getWorth() function that is essentially the same for all Coin Cards. If I have the same exact function &amp; implementation then there should be a way to abstract out the redundancy. This is just one example of the redundancy.\r\n\r\n\tpublic class CardA extends Card implements Coin {\r\n\t\tpublic int getWorth(){\r\n\t\t\treturn worth;\r\n\t\t}\r\n\r\n\t\t//Other inherited or implemented methods\r\n\t}\r\n\r\n\tpublic class CardB extends Card implements Coin, Health {\r\n\r\n\t\tpublic int getWorth(){\r\n\t\t\treturn worth;\r\n\t\t}\r\n\r\n\t\t//Other inherited or implemented methods\r\n\t}\r\n\r\nUnfortunately since Coin is an interface there is no way to reduce this redundancy across all the cards. Is there a way to remove that redundant code while also applying a Coin, Mana, Health type or some combination of those? \r\n\r\nI want to avoid something like this:\r\n\r\n\tpublic class SomeCard extends CoinManaCard {\r\n\r\n\t}\r\n\r\nI think the above would be a really poor implementation because whenever a new type is added there would be many more combinations of types and the maintenance would be significant. \r\n\r\nThanks for the help in advance!","title":"Remove redundant implementations of an interface without using inheritance","body":"<p>I have a design problem that I can't seem to figure out. I am implementing a card game and I am struggling with how to organize the structure of the cards. Every card in the game has some shared behavior which means Card should be the base class. </p>\n\n<p>However, each card can be either a Coin, Mana, or Health card. On top of that any Card could be a combination of these three types. My original thought was to make Coin, Mana, and Health each an interface and then I would be able to implement any Card with the relevent interfaces like so:</p>\n\n<pre><code>public class SomeCard extends Card implements Coin, Mana {\n\n}\n</code></pre>\n\n<p>Through this way all inherited classes would have the base Card behavior and implement the necessary behavior. The problem arises from the fact that there is some shared behavior within each of the three interfaces. For example with Coin there is a getWorth() function that is essentially the same for all Coin Cards. If I have the same exact function &amp; implementation then there should be a way to abstract out the redundancy. This is just one example of the redundancy.</p>\n\n<pre><code>public class CardA extends Card implements Coin {\n    public int getWorth(){\n        return worth;\n    }\n\n    //Other inherited or implemented methods\n}\n\npublic class CardB extends Card implements Coin, Health {\n\n    public int getWorth(){\n        return worth;\n    }\n\n    //Other inherited or implemented methods\n}\n</code></pre>\n\n<p>Unfortunately since Coin is an interface there is no way to reduce this redundancy across all the cards. Is there a way to remove that redundant code while also applying a Coin, Mana, Health type or some combination of those? </p>\n\n<p>I want to avoid something like this:</p>\n\n<pre><code>public class SomeCard extends CoinManaCard {\n\n}\n</code></pre>\n\n<p>I think the above would be a really poor implementation because whenever a new type is added there would be many more combinations of types and the maintenance would be significant. </p>\n\n<p>Thanks for the help in advance!</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669045290,"post_id":74521382,"comment_id":131547988,"body_markdown":"I think you almost have it, but you&#39;re trying to put the entire old map into each key of the new map - instead you should only add what you get by looking up that particular key.","body":"I think you almost have it, but you&#39;re trying to put the entire old map into each key of the new map - instead you should only add what you get by looking up that particular key."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1669045306,"post_id":74521382,"comment_id":131547997,"body_markdown":"Since a HashMap has no defined order asking if you can add anything to it &quot;in the same order&quot; doesn&#39;t make much sense.","body":"Since a HashMap has no defined order asking if you can add anything to it &quot;in the same order&quot; doesn&#39;t make much sense."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669045358,"post_id":74521382,"comment_id":131548017,"body_markdown":"Also it would be cleaner to iterate over the keys and values instead of using a for loop. In general for looping over indices like that is a discouraged practice in modern programming.","body":"Also it would be cleaner to iterate over the keys and values instead of using a for loop. In general for looping over indices like that is a discouraged practice in modern programming."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1669045522,"post_id":74521382,"comment_id":131548097,"body_markdown":"@EdwardPeters so I could just say l.put(BinaryTreeNode, map.keyset())?","body":"@EdwardPeters so I could just say l.put(BinaryTreeNode, map.keyset())?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1669045580,"post_id":74521382,"comment_id":131548117,"body_markdown":"@OHGODSPIDERS what I meant was like add the values for every key correctly despite the change in data type. I&#39;m not sure if changing the data type would change the value or not","body":"@OHGODSPIDERS what I meant was like add the values for every key correctly despite the change in data type. I&#39;m not sure if changing the data type would change the value or not"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669045703,"post_id":74521382,"comment_id":131548161,"body_markdown":"` l.put(BinaryTreeNode, map.keyset())` doesn&#39;t make any sense - give me a sec, I&#39;ll write up a more thorough answer.","body":"` l.put(BinaryTreeNode, map.keyset())` doesn&#39;t make any sense - give me a sec, I&#39;ll write up a more thorough answer."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1669046030,"post_id":74521382,"comment_id":131548292,"body_markdown":"@Droid Then why not just Iterate over the entrySet? A simple `for(Entry&lt;Integer, Integer&gt; entry : map.entrySet())` loop and then you can get the key and value via `entry.getKey();` and `entry.getValue();` (And do something like `l.put(new BinaryTreeNode(entry.getKey()), entry.getValue());` to fill your new map)","body":"@Droid Then why not just Iterate over the entrySet? A simple <code>for(Entry&lt;Integer, Integer&gt; entry : map.entrySet())</code> loop and then you can get the key and value via <code>entry.getKey();</code> and <code>entry.getValue();</code> (And do something like <code>l.put(new BinaryTreeNode(entry.getKey()), entry.getValue());</code> to fill your new map)"}],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669045585,"creation_date":1669045585,"answer_id":74521489,"question_id":74521382,"body_markdown":"If you need to maintain insertion order, you would need to create LinkedHashMap. HashMap doesn&#39;t gaurantee order.\r\n\r\n      LinkedHashMap&lt;BinaryTreeNode, Integer&gt; l = new LinkedHashMap&lt;&gt;();\r\nIt works like a HashMap but preserves order.","title":"Is it possible to add just the values of a HashMap into another HashMap?","body":"<p>If you need to maintain insertion order, you would need to create LinkedHashMap. HashMap doesn't gaurantee order.</p>\n<pre><code>  LinkedHashMap&lt;BinaryTreeNode, Integer&gt; l = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p>It works like a HashMap but preserves order.</p>\n"},{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669049591,"creation_date":1669046314,"answer_id":74521634,"question_id":74521382,"body_markdown":"First, some notes on what you have:\r\n\r\n```\r\npublic static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; map.keySet().size(); i++){\r\n      BinaryTreeNode node = new BinaryTreeNode(i);\r\n      l.put(node, map.values());\r\n    }\r\n```\r\n\r\n`BinaryTreeNode node = new BinaryTreeNode(i);`\r\nIs probably wrong - `i` is just the index, which doesn&#39;t really mean anything as HashMaps aren&#39;t ordered in any defined way.\r\n\r\n`l.put(node, map.values());` Is also wrong - here the value you&#39;re inserting is the entire original map.\r\n\r\nYou could save your current code by converting the keyset to an indexible structure (like a list - it&#39;s currently a set), and then grabbing the key at that index, converting it to a `BinaryTreeNode`, looking up the value associated with they key in the old map, and then adding both. \r\n\r\nI probably have some syntax errors (I&#39;m not in front of a compiler), but that would look something like:\r\n\r\n```\r\npublic static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n    List keyList = ArrayList(map.keySet());\r\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; keyList().size(); i++){\r\n      Integer key = keyList.get(i);\r\n      BinaryTreeNode node = new BinaryTreeNode(key);\r\n      l.put(node, map.get(key));\r\n    }\r\n```\r\n\r\nBut personally I think that&#39;s a really bad way to go about it.\r\n\r\nWhat you probably want to do is instead iterate over the entry set:\r\n```\r\npublic static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n    for(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\r\n      BinaryTreeNode node = new BinaryTreeNode(entry.getKey());\r\n      l.put(node, entry.getValue());\r\n    }\r\n```\r\nThis latter method is cleaner because it isn&#39;t manually mucking about with indices, which is generally a poor practice. Simpler still is to use a higher-order function, as in:\r\n\r\n```\r\npublic static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n    map.forEach((key,value) -&gt; l.put(new BinaryTreeNode(key), value));\r\n    }\r\n```\r\n\r\nThat last one is skipping manual iteration altogether, and just passing the structure a function to run on each of its entries.\r\n\r\nYou can actually do one better, and skip initializing the new hashmap at all by using a `map` function (distinct from a HashMap data structure - totally different meaning.) See https://stackoverflow.com/questions/25903137/java8-hashmapx-y-to-hashmapx-z-using-stream-map-reduce-collector for more on that.","title":"Is it possible to add just the values of a HashMap into another HashMap?","body":"<p>First, some notes on what you have:</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; map.keySet().size(); i++){\n      BinaryTreeNode node = new BinaryTreeNode(i);\n      l.put(node, map.values());\n    }\n</code></pre>\n<p><code>BinaryTreeNode node = new BinaryTreeNode(i);</code>\nIs probably wrong - <code>i</code> is just the index, which doesn't really mean anything as HashMaps aren't ordered in any defined way.</p>\n<p><code>l.put(node, map.values());</code> Is also wrong - here the value you're inserting is the entire original map.</p>\n<p>You could save your current code by converting the keyset to an indexible structure (like a list - it's currently a set), and then grabbing the key at that index, converting it to a <code>BinaryTreeNode</code>, looking up the value associated with they key in the old map, and then adding both.</p>\n<p>I probably have some syntax errors (I'm not in front of a compiler), but that would look something like:</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    List keyList = ArrayList(map.keySet());\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; keyList().size(); i++){\n      Integer key = keyList.get(i);\n      BinaryTreeNode node = new BinaryTreeNode(key);\n      l.put(node, map.get(key));\n    }\n</code></pre>\n<p>But personally I think that's a really bad way to go about it.</p>\n<p>What you probably want to do is instead iterate over the entry set:</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    for(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\n      BinaryTreeNode node = new BinaryTreeNode(entry.getKey());\n      l.put(node, entry.getValue());\n    }\n</code></pre>\n<p>This latter method is cleaner because it isn't manually mucking about with indices, which is generally a poor practice. Simpler still is to use a higher-order function, as in:</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    map.forEach((key,value) -&gt; l.put(new BinaryTreeNode(key), value));\n    }\n</code></pre>\n<p>That last one is skipping manual iteration altogether, and just passing the structure a function to run on each of its entries.</p>\n<p>You can actually do one better, and skip initializing the new hashmap at all by using a <code>map</code> function (distinct from a HashMap data structure - totally different meaning.) See <a href=\"https://stackoverflow.com/questions/25903137/java8-hashmapx-y-to-hashmapx-z-using-stream-map-reduce-collector\">Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector</a> for more on that.</p>\n"}],"owner":{"display_name":"user18984687"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1669049591,"creation_date":1669045136,"question_id":74521382,"body_markdown":"I have a Hashmap `HashMap &lt;Integer, Integer&gt; map` and I want to change the `keyset()` type to a BinaryTreeNode, which was declared beforehand already, instead of an int, which I am able to do. However, I was wondering how could I add the appropriate `map.values()` in the same order as it was in my original HashMap `map` \r\n\r\nHere is my code\r\n\r\n    public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n        HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; map.keySet().size(); i++){\r\n          BinaryTreeNode node = new BinaryTreeNode(i);\r\n          l.put(node, map.values());\r\n        }\r\n\r\nWhat changes to my code should I make to ensure that this would compile and do as I want it o?\r\n","title":"Is it possible to add just the values of a HashMap into another HashMap?","body":"<p>I have a Hashmap <code>HashMap &lt;Integer, Integer&gt; map</code> and I want to change the <code>keyset()</code> type to a BinaryTreeNode, which was declared beforehand already, instead of an int, which I am able to do. However, I was wondering how could I add the appropriate <code>map.values()</code> in the same order as it was in my original HashMap <code>map</code></p>\n<p>Here is my code</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; map.keySet().size(); i++){\n      BinaryTreeNode node = new BinaryTreeNode(i);\n      l.put(node, map.values());\n    }\n</code></pre>\n<p>What changes to my code should I make to ensure that this would compile and do as I want it o?</p>\n"},{"tags":["java","scheduler","project-reactor","metrics","micrometer"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669049089,"creation_date":1668735308,"answer_id":74484036,"question_id":74430632,"body_markdown":"Reactor provides multiple metrics that allow to monitor schedulers:\r\n\r\n - `executor_active_threads`, gauge, The approximate number of threads that are actively executing tasks\r\n - `executor_pool_core_threads`, gauge,  The core number of threads for the pool\r\n - `executor_pool_max_threads`, gauge,  The maximum allowed number of threads in the pool\r\n - `executor_pool_size_threads`,  gauge, The current number of threads in the pool\r\n\r\n - `executor_completed_tasks_total`,  counter, The approximate total number of tasks that have completed execution\r\n\r\n - `executor_completed_tasks_total`, counter, The approximate total number of tasks that have completed execution\r\n\r\n - `executor_queued_tasks`,  gauge,  The approximate number of tasks that are queued for execution\r\n\r\n - `executor_queue_remaining_tasks`, gauge, The number of additional elements that this queue can ideally accept without blocking\r\n\r\n - `executor_scheduled_once_total`, counter\r\n\r\n - `executor_scheduled_repetitively_total`,  counter\r\n\r\n - `executor`, timer\r\n\r\n    - `executor_seconds_sum`, counter\r\n\r\n    - `executor_seconds_count`, counter\r\n\r\n    - `executor_seconds_max`, gauge\r\n    \r\n- `executor.idle`, timer\r\n\r\n    - `executor_idle_seconds_sum`, counter\r\n\r\n    - `executor_idle_seconds_count`, counter\r\n\r\n    - `executor_idle_seconds_max `, gauge\r\n\r\n\r\n\r\nInternally reactor uses [ExecutorServiceMetrics](https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/jvm/ExecutorServiceMetrics.java) to instrument Schedulers and add additional tags like `reactor_scheduler_id`.\r\n\r\nTo monitor number of threads in the reactor schedulers \r\n```\r\nsum(executor_pool_size_threads) by (reactor_scheduler_id)\r\n```\r\nor to monitor max number of threads\r\n```\r\nsum(executor_pool_max_threads) by (reactor_scheduler_id)\r\n```\r\n\r\n\r\nThere is a demo project that could be used to play with reactor metrics and has Grafana dashboards: https://github.com/reactor/reactor-monitoring-demo\r\n","title":"Monitor usage of threadpool from a reactor scheduler with micrometer","body":"<p>Reactor provides multiple metrics that allow to monitor schedulers:</p>\n<ul>\n<li><p><code>executor_active_threads</code>, gauge, The approximate number of threads that are actively executing tasks</p>\n</li>\n<li><p><code>executor_pool_core_threads</code>, gauge,  The core number of threads for the pool</p>\n</li>\n<li><p><code>executor_pool_max_threads</code>, gauge,  The maximum allowed number of threads in the pool</p>\n</li>\n<li><p><code>executor_pool_size_threads</code>,  gauge, The current number of threads in the pool</p>\n</li>\n<li><p><code>executor_completed_tasks_total</code>,  counter, The approximate total number of tasks that have completed execution</p>\n</li>\n<li><p><code>executor_completed_tasks_total</code>, counter, The approximate total number of tasks that have completed execution</p>\n</li>\n<li><p><code>executor_queued_tasks</code>,  gauge,  The approximate number of tasks that are queued for execution</p>\n</li>\n<li><p><code>executor_queue_remaining_tasks</code>, gauge, The number of additional elements that this queue can ideally accept without blocking</p>\n</li>\n<li><p><code>executor_scheduled_once_total</code>, counter</p>\n</li>\n<li><p><code>executor_scheduled_repetitively_total</code>,  counter</p>\n</li>\n<li><p><code>executor</code>, timer</p>\n<ul>\n<li><p><code>executor_seconds_sum</code>, counter</p>\n</li>\n<li><p><code>executor_seconds_count</code>, counter</p>\n</li>\n<li><p><code>executor_seconds_max</code>, gauge</p>\n</li>\n</ul>\n</li>\n<li><p><code>executor.idle</code>, timer</p>\n<ul>\n<li><p><code>executor_idle_seconds_sum</code>, counter</p>\n</li>\n<li><p><code>executor_idle_seconds_count</code>, counter</p>\n</li>\n<li><p><code>executor_idle_seconds_max </code>, gauge</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>Internally reactor uses <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/jvm/ExecutorServiceMetrics.java\" rel=\"nofollow noreferrer\">ExecutorServiceMetrics</a> to instrument Schedulers and add additional tags like <code>reactor_scheduler_id</code>.</p>\n<p>To monitor number of threads in the reactor schedulers</p>\n<pre><code>sum(executor_pool_size_threads) by (reactor_scheduler_id)\n</code></pre>\n<p>or to monitor max number of threads</p>\n<pre><code>sum(executor_pool_max_threads) by (reactor_scheduler_id)\n</code></pre>\n<p>There is a demo project that could be used to play with reactor metrics and has Grafana dashboards: <a href=\"https://github.com/reactor/reactor-monitoring-demo\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-monitoring-demo</a></p>\n"}],"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2272,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1669049089,"creation_date":1668423817,"question_id":74430632,"body_markdown":"Problem\r\n-------\r\n\r\nI want to monitor the usage of a thread pool from a specific Scheduler (`BoundedElasticScheduler`). I want to see if the thread pool capacity fits or if it gets to its limit quite often and if there are a lot of waiting tasks.\r\n\r\nQuestion\r\n--------\r\n\r\nI think the **MAX** usage of a threadpool is one of the most important metrics. Is there a metric that I haven&#39;t found yet that could be used for it? Or does someone have a hint for me how to observe thread usage in the pool and implement the metric myself?\r\n\r\nTried so far\r\n---------------------------------------------\r\n\r\n1. Using reactors build-in metrics\r\n\r\nIn `reactor` 3.4.x I found the metric `executor.active`, but it is a gauge and in monitoring tools, this is polled in an interval (e.g. every minute), this is too inaccurate for short tasks that only last some milliseconds in the pool. In `reactor` 3.5 I found a max execution time, but not a max for the active threads amount. The documentations are heavily updated currently because of the 3.5 release, so maybe I miss a metric that could be used for what I need.\r\n\r\n2. Using a custom implementation to track usage\r\n\r\nI&#39;ve also tried to implement a `DistributedSummary` around the scheduler, so I&#39;m able to track the **MAX** scheduled tasks per time interval (since `DistributedSummary` uses a `TimeWindowMax` which will show the **MAX** per monitoring interval). But it will only track the scheduling itself, not the real thread usage, for example if you have a Mono which evaluates some `Mono`s and `Flux` inside, which will also use threads from the pool. So it doesn&#39;t show me the workload of the pool.\r\n\r\n\r\n\r\n\r\n","title":"Monitor usage of threadpool from a reactor scheduler with micrometer","body":"<h2>Problem</h2>\n<p>I want to monitor the usage of a thread pool from a specific Scheduler (<code>BoundedElasticScheduler</code>). I want to see if the thread pool capacity fits or if it gets to its limit quite often and if there are a lot of waiting tasks.</p>\n<h2>Question</h2>\n<p>I think the <strong>MAX</strong> usage of a threadpool is one of the most important metrics. Is there a metric that I haven't found yet that could be used for it? Or does someone have a hint for me how to observe thread usage in the pool and implement the metric myself?</p>\n<h2>Tried so far</h2>\n<ol>\n<li>Using reactors build-in metrics</li>\n</ol>\n<p>In <code>reactor</code> 3.4.x I found the metric <code>executor.active</code>, but it is a gauge and in monitoring tools, this is polled in an interval (e.g. every minute), this is too inaccurate for short tasks that only last some milliseconds in the pool. In <code>reactor</code> 3.5 I found a max execution time, but not a max for the active threads amount. The documentations are heavily updated currently because of the 3.5 release, so maybe I miss a metric that could be used for what I need.</p>\n<ol start=\"2\">\n<li>Using a custom implementation to track usage</li>\n</ol>\n<p>I've also tried to implement a <code>DistributedSummary</code> around the scheduler, so I'm able to track the <strong>MAX</strong> scheduled tasks per time interval (since <code>DistributedSummary</code> uses a <code>TimeWindowMax</code> which will show the <strong>MAX</strong> per monitoring interval). But it will only track the scheduling itself, not the real thread usage, for example if you have a Mono which evaluates some <code>Mono</code>s and <code>Flux</code> inside, which will also use threads from the pool. So it doesn't show me the workload of the pool.</p>\n"},{"tags":["java","hashmap","comparator","comparable","red-black-tree"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1669048496,"post_id":74522059,"comment_id":131549196,"body_markdown":"So what is the question?","body":"So what is the question?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669061045,"post_id":74522059,"comment_id":131553130,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22473999,"reputation":21,"user_id":16674027,"display_name":"zahaand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669048390,"creation_date":1669048390,"question_id":74522059,"body_markdown":"How is the optimization and construction of a red-black tree inside the HashMap Bucket if the comparator of the key is not overridden?\r\n\r\nHere is what I found on the subject:\r\n\r\nHashMap can contain keys of different classes.\r\nAnd some of them may be comparable and some of them not.\r\n\r\nThis means that key mix is pretty straightforward: first, all keys from first class goes, and then all from the second.\r\n\r\n        /**\r\n         * Tie-breaking utility for ordering insertions when equal\r\n         * hashCodes and non-comparable. We don&#39;t require a total\r\n         * order, just a consistent insertion rule to maintain\r\n         * equivalence across rebalancings. Tie-breaking further than\r\n         * necessary simplifies testing a bit.\r\n         */\r\n        static int tieBreakOrder(Object a, Object b) {\r\n            int d;\r\n            if (a == null || b == null ||\r\n                (d = a.getClass().getName().\r\n                 compareTo(b.getClass().getName())) == 0)\r\n                d = (System.identityHashCode(a) &lt;= System.identityHashCode(b) ?\r\n                     -1 : 1);\r\n            return d;\r\n        }","title":"Optimization and construction of a red-black tree if the comparator of the key is not overridden","body":"<p>How is the optimization and construction of a red-black tree inside the HashMap Bucket if the comparator of the key is not overridden?</p>\n<p>Here is what I found on the subject:</p>\n<p>HashMap can contain keys of different classes.\nAnd some of them may be comparable and some of them not.</p>\n<p>This means that key mix is pretty straightforward: first, all keys from first class goes, and then all from the second.</p>\n<pre><code>    /**\n     * Tie-breaking utility for ordering insertions when equal\n     * hashCodes and non-comparable. We don't require a total\n     * order, just a consistent insertion rule to maintain\n     * equivalence across rebalancings. Tie-breaking further than\n     * necessary simplifies testing a bit.\n     */\n    static int tieBreakOrder(Object a, Object b) {\n        int d;\n        if (a == null || b == null ||\n            (d = a.getClass().getName().\n             compareTo(b.getClass().getName())) == 0)\n            d = (System.identityHashCode(a) &lt;= System.identityHashCode(b) ?\n                 -1 : 1);\n        return d;\n    }\n</code></pre>\n"},{"tags":["java","maven","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669048365,"creation_date":1669048365,"answer_id":74522051,"question_id":74516950,"body_markdown":"&gt; Does Gradle has some similar solution?\r\n\r\nGradle does not provide a similar solution.  ","title":"Is there a way to generate build.gradle file from Java programmatically","body":"<blockquote>\n<p>Does Gradle has some similar solution?</p>\n</blockquote>\n<p>Gradle does not provide a similar solution.</p>\n"}],"owner":{"account_id":16617516,"reputation":200,"user_id":12008736,"display_name":"polosoft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669048365,"creation_date":1669023954,"question_id":74516950,"body_markdown":"I would like to know, how can I create gradle files from my Java project using some libraries as I could do it with maven (https://stackoverflow.com/questions/2131365/is-there-a-java-class-that-generates-a-pom-xml-file)\r\n\r\nDoes Gradle has some similar solution? Can somebody provide a solution how can I create my entire .gradle files from Java code?","title":"Is there a way to generate build.gradle file from Java programmatically","body":"<p>I would like to know, how can I create gradle files from my Java project using some libraries as I could do it with maven (<a href=\"https://stackoverflow.com/questions/2131365/is-there-a-java-class-that-generates-a-pom-xml-file\">Is there a Java Class that generates a POM.xml file?</a>)</p>\n<p>Does Gradle has some similar solution? Can somebody provide a solution how can I create my entire .gradle files from Java code?</p>\n"},{"tags":["java","maven","build-helper-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1669048394,"post_id":74522002,"comment_id":131549159,"body_markdown":"It sounds like you should learn to use a version control system like Git or alike (and really use branches)...but not try to do things manually which makes no sense...And profiles is the wrong way....","body":"It sounds like you should learn to use a version control system like Git or alike (and really use branches)...but not try to do things manually which makes no sense...And profiles is the wrong way...."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1669048518,"post_id":74522002,"comment_id":131549209,"body_markdown":"Sounds like an XY problem.  Consider extracting an interface, and use an app setting to determine which implementation to use.","body":"Sounds like an XY problem.  Consider extracting an interface, and use an app setting to determine which implementation to use."},{"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"score":0,"creation_date":1669048899,"post_id":74522002,"comment_id":131549346,"body_markdown":"@khmarbaise You are absolutely right. However there are severe constraints in the company envirnoment I am facing.","body":"@khmarbaise You are absolutely right. However there are severe constraints in the company envirnoment I am facing."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1669054307,"post_id":74522002,"comment_id":131551144,"body_markdown":"You are not allowed to use a version control tool?","body":"You are not allowed to use a version control tool?"},{"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"score":0,"creation_date":1669103092,"post_id":74522002,"comment_id":131561239,"body_markdown":"@khmarbaise Yes exactly","body":"@khmarbaise Yes exactly"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669113098,"post_id":74522002,"comment_id":131564672,"body_markdown":"That does simply make no sense and prevents usual working etc.","body":"That does simply make no sense and prevents usual working etc."}],"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669048122,"creation_date":1669048122,"question_id":74522002,"body_markdown":"I have the following situation. I have two different source folders, say `src/main/java` and `src/main/java2`. The two folders are something like two &quot;branches&quot; of the same project. First folder contains all Java files. Second folder contains only a small subset of the same files, in a different version.\r\n\r\nI want to create two profiles: first is &quot;normal&quot; profile, where I only build `src/main/java` files; second is the &quot;second branch&quot; profile, where I build all files from both folders, with precedence to second folder: if a file is contained in both folders, the  `src/main/java2` one must be used.\r\n\r\nFirst profile is simple to implement. I cannot create second profile.\r\n\r\nI have seen lots of answers using `build-helper-maven-plugin`. However in this case the compile phase gives an error:\r\n\r\n    error: duplicate class\r\n\r\nAny idea? Thank you.\r\n\r\n","title":"Maven - two sources folders with precedence","body":"<p>I have the following situation. I have two different source folders, say <code>src/main/java</code> and <code>src/main/java2</code>. The two folders are something like two &quot;branches&quot; of the same project. First folder contains all Java files. Second folder contains only a small subset of the same files, in a different version.</p>\n<p>I want to create two profiles: first is &quot;normal&quot; profile, where I only build <code>src/main/java</code> files; second is the &quot;second branch&quot; profile, where I build all files from both folders, with precedence to second folder: if a file is contained in both folders, the  <code>src/main/java2</code> one must be used.</p>\n<p>First profile is simple to implement. I cannot create second profile.</p>\n<p>I have seen lots of answers using <code>build-helper-maven-plugin</code>. However in this case the compile phase gives an error:</p>\n<pre><code>error: duplicate class\n</code></pre>\n<p>Any idea? Thank you.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-pendingintent"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1669041408,"post_id":74520198,"comment_id":131546441,"body_markdown":"Are you somehow providing that `PendingIntent` to OneSignal? This crash is coming from OneSignal and its receipt of a FCM message, based on the stack trace. My guess is that you need to update your OneSignal SDK or otherwise talk to them about this crash.","body":"Are you somehow providing that <code>PendingIntent</code> to OneSignal? This crash is coming from OneSignal and its receipt of a FCM message, based on the stack trace. My guess is that you need to update your OneSignal SDK or otherwise talk to them about this crash."}],"answers":[{"tags":[],"owner":{"account_id":12144261,"reputation":491,"user_id":8867099,"display_name":"Rishabh Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669040177,"creation_date":1669040177,"answer_id":74520305,"question_id":74520198,"body_markdown":"Use this\r\n\r\n    val updatedPendingIntent = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            PendingIntent.getActivity(this, requestCode, intent, PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE)\r\n        } else {\r\n            PendingIntent.getActivity(this, requestCode, intent, PendingIntent.FLAG_UPDATE_CURRENT)\r\n        }\r\n","title":"(KOTLIN) Requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>Use this</p>\n<pre><code>val updatedPendingIntent = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        PendingIntent.getActivity(this, requestCode, intent, PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE)\n    } else {\n        PendingIntent.getActivity(this, requestCode, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669041767,"creation_date":1669041230,"answer_id":74520541,"question_id":74520198,"body_markdown":"In your log showing error,\r\n *\r\n\r\n    Caused by: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n        Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\nAndroid application targets to 31 which has reported more crashes (only Android OS 12 users) in Firebase Messaging (PendingIntent) or in **Notification function**. When Application is in Pause/Background state on Notification Receive its crashing. \r\n   \r\n\r\n In addition , you may need to increase the version of implementation `&quot;androidx.work:work-runtime-ktx:2.5.0&quot;` to the latest update\r\n  \r\n[Reference link][1]\r\n\r\n     val updatedPendingIntent = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            PendingIntent.getActivity(\r\n                applicationContext, NOTIFICATION_REQUEST_CODE, updatedIntent, PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n        } else {\r\n            PendingIntent.getActivity(\r\n                applicationContext, NOTIFICATION_REQUEST_CODE, updatedIntent, PendingIntent.FLAG_ONE_SHOT\r\n            )\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/PendingIntent#FLAG_MUTABLE","title":"(KOTLIN) Requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>In your log showing error,\n*</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n</code></pre>\n<p>Android application targets to 31 which has reported more crashes (only Android OS 12 users) in Firebase Messaging (PendingIntent) or in <strong>Notification function</strong>. When Application is in Pause/Background state on Notification Receive its crashing.</p>\n<p>In addition , you may need to increase the version of implementation <code>&quot;androidx.work:work-runtime-ktx:2.5.0&quot;</code> to the latest update</p>\n<p><a href=\"https://developer.android.com/reference/android/app/PendingIntent#FLAG_MUTABLE\" rel=\"nofollow noreferrer\">Reference link</a></p>\n<pre><code> val updatedPendingIntent = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        PendingIntent.getActivity(\n            applicationContext, NOTIFICATION_REQUEST_CODE, updatedIntent, PendingIntent.FLAG_IMMUTABLE\n        )\n    } else {\n        PendingIntent.getActivity(\n            applicationContext, NOTIFICATION_REQUEST_CODE, updatedIntent, PendingIntent.FLAG_ONE_SHOT\n        )\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15304634,"reputation":627,"user_id":11041834,"display_name":"krupa parekh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669047673,"creation_date":1669047673,"answer_id":74521885,"question_id":74520198,"body_markdown":"If your app targets Android 12, you must specify the mutability of each PendingIntent object that your app creates. This additional requirement improves your app&#39;s security.\r\n\r\n \r\n\r\n\r\n`PendingIntent contentIntent = PendingIntent.getActivity(context,NOTIFICATION_REQUEST_CODE, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);`\r\n\r\n \r\nwe’re constructing a standard type of Intent that will open our app, and then simply wrapping that in a PendingIntent before adding it to our notification.In this case, since we have an exact action we know we want to perform, we construct a PendingIntent that cannot be modified by the app we pass it to by utilizing a flag called FLAG_IMMUTABLE.\r\n \r\nThis change is must required if you are targeting Android S+ and you have integrate FCM in you app.\r\n\r\n\r\nYou can check [this blog][1] if you plan to migrate your app compatible with Android 12.\r\n\r\n\r\n  [1]: https://medium.com/walmartglobaltech/migrating-a-1m-users-app-to-android-12-challenges-solutions-cfc00b0e36b3","title":"(KOTLIN) Requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>If your app targets Android 12, you must specify the mutability of each PendingIntent object that your app creates. This additional requirement improves your app's security.</p>\n<p><code>PendingIntent contentIntent = PendingIntent.getActivity(context,NOTIFICATION_REQUEST_CODE, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);</code></p>\n<p>we’re constructing a standard type of Intent that will open our app, and then simply wrapping that in a PendingIntent before adding it to our notification.In this case, since we have an exact action we know we want to perform, we construct a PendingIntent that cannot be modified by the app we pass it to by utilizing a flag called FLAG_IMMUTABLE.</p>\n<p>This change is must required if you are targeting Android S+ and you have integrate FCM in you app.</p>\n<p>You can check <a href=\"https://medium.com/walmartglobaltech/migrating-a-1m-users-app-to-android-12-challenges-solutions-cfc00b0e36b3\" rel=\"nofollow noreferrer\">this blog</a> if you plan to migrate your app compatible with Android 12.</p>\n"}],"owner":{"account_id":26630482,"reputation":60,"user_id":20247755,"display_name":"Sadece Ata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521885,"answer_count":3,"score":0,"last_activity_date":1669047673,"creation_date":1669039733,"question_id":74520198,"body_markdown":"In every new message that comes to my account, the application restarts itself. Then it gives this error.I tried to find the solution but failed.I write the error code on the bottom line.\r\n\r\n\r\n\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.edusoft.teacher.myeducare, PID: 7367\r\n    java.lang.RuntimeException: Unable to start receiver com.onesignal.GcmBroadcastReceiver: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4438)\r\n        at android.app.ActivityThread.access$1700(ActivityThread.java:265)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2114)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8168)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1037)\r\n     Caused by: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:378)\r\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:648)\r\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:635)\r\n        at com.onesignal.GenerateNotification.getNewActionPendingIntent(GenerateNotification.java:195)\r\n        at com.onesignal.GenerateNotification.createGenericPendingIntentsForNotif(GenerateNotification.java:404)\r\n        at com.onesignal.GenerateNotification.showNotification(GenerateNotification.java:388)\r\n        at com.onesignal.GenerateNotification.fromJsonPayload(GenerateNotification.java:116)\r\n        at com.onesignal.NotificationBundleProcessor.ProcessJobForDisplay(NotificationBundleProcessor.java:115)\r\n        at com.onesignal.NotificationBundleProcessor.ProcessFromGCMIntentService(NotificationBundleProcessor.java:98)\r\n        at com.onesignal.GcmBroadcastReceiver.startGCMService(GcmBroadcastReceiver.java:138)\r\n        at com.onesignal.GcmBroadcastReceiver.processOrderBroadcast(GcmBroadcastReceiver.java:129)\r\n        at com.onesignal.GcmBroadcastReceiver.onReceive(GcmBroadcastReceiver.java:70)\r\n        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4425)\r\n        \t... 9 more\r\n```\r\n\r\n\r\ni found this code but either i did not use it correctly or it does not work properly\r\n\r\n```\r\nval updatedPendingIntent = PendingIntent.getActivity(\r\n   applicationContext,\r\n   NOTIFICATION_REQUEST_CODE,\r\n   updatedIntent,\r\n   PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT // setting the mutability flag \r\n)\r\n```\r\n","title":"(KOTLIN) Requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>In every new message that comes to my account, the application restarts itself. Then it gives this error.I tried to find the solution but failed.I write the error code on the bottom line.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.edusoft.teacher.myeducare, PID: 7367\n    java.lang.RuntimeException: Unable to start receiver com.onesignal.GcmBroadcastReceiver: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4438)\n        at android.app.ActivityThread.access$1700(ActivityThread.java:265)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2114)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:210)\n        at android.os.Looper.loop(Looper.java:299)\n        at android.app.ActivityThread.main(ActivityThread.java:8168)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1037)\n     Caused by: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:378)\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:648)\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:635)\n        at com.onesignal.GenerateNotification.getNewActionPendingIntent(GenerateNotification.java:195)\n        at com.onesignal.GenerateNotification.createGenericPendingIntentsForNotif(GenerateNotification.java:404)\n        at com.onesignal.GenerateNotification.showNotification(GenerateNotification.java:388)\n        at com.onesignal.GenerateNotification.fromJsonPayload(GenerateNotification.java:116)\n        at com.onesignal.NotificationBundleProcessor.ProcessJobForDisplay(NotificationBundleProcessor.java:115)\n        at com.onesignal.NotificationBundleProcessor.ProcessFromGCMIntentService(NotificationBundleProcessor.java:98)\n        at com.onesignal.GcmBroadcastReceiver.startGCMService(GcmBroadcastReceiver.java:138)\n        at com.onesignal.GcmBroadcastReceiver.processOrderBroadcast(GcmBroadcastReceiver.java:129)\n        at com.onesignal.GcmBroadcastReceiver.onReceive(GcmBroadcastReceiver.java:70)\n        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4425)\n            ... 9 more\n</code></pre>\n<p>i found this code but either i did not use it correctly or it does not work properly</p>\n<pre><code>val updatedPendingIntent = PendingIntent.getActivity(\n   applicationContext,\n   NOTIFICATION_REQUEST_CODE,\n   updatedIntent,\n   PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT // setting the mutability flag \n)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","solr","solrj"],"comments":[{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669103806,"post_id":74521803,"comment_id":131561469,"body_markdown":"you have hardcoded the url in code with localhost and hence its the error... does you java application and solr server on the same machine in production...Ideally should not be...Extract the server details to properties file and use it java code","body":"you have hardcoded the url in code with localhost and hence its the error... does you java application and solr server on the same machine in production...Ideally should not be...Extract the server details to properties file and use it java code"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669103845,"post_id":74521803,"comment_id":131561488,"body_markdown":"and if you are using springboot for your application then it should be very easy to read the properties for your application","body":"and if you are using springboot for your application then it should be very easy to read the properties for your application"},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1669105828,"post_id":74521803,"comment_id":131562087,"body_markdown":"My java app and Solr Server are not on the same machine. How could I estabilish a connection between them if not hardcoding the endopoint of Solr Server in HTTPSolrClient? Is there another way?","body":"My java app and Solr Server are not on the same machine. How could I estabilish a connection between them if not hardcoding the endopoint of Solr Server in HTTPSolrClient? Is there another way?"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669106011,"post_id":74521803,"comment_id":131562157,"body_markdown":"if you are using springboot then please refer this https://www.baeldung.com/properties-with-spring","body":"if you are using springboot then please refer this <a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/properties-with-spring</a>"},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1669106296,"post_id":74521803,"comment_id":131562240,"body_markdown":"So, according to you, only removing the string from the class and setting it in the properties file would resolve the problem?","body":"So, according to you, only removing the string from the class and setting it in the properties file would resolve the problem?"}],"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669047190,"creation_date":1669047190,"question_id":74521803,"body_markdown":"I need to connect to Solr with SolrJ. I imported the library in POM in this way:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nWhen I try to connect in localhost, I&#39;ve no problem.\r\n\r\n\r\n\r\n    \r\n    public class SolrJSearcher {\r\n    \r\n        public String solrSearch() throws SolrServerException, IOException {\r\n            String collection = &quot;Users&quot;;\r\n            SolrClient client = new HttpSolrClient.Builder(&quot;http://localhost:8983/solr/&quot; + collection).build();\r\n            SolrQuery query = new SolrQuery();\r\n            query.setQuery(&quot;*:*&quot;);\r\n            query.setRows(1);\r\n            QueryResponse response = client.query(query);\r\n            SolrDocumentList results = response.getResults();\r\n            String returnValue = JSONUtil.toJSON(results);\r\n            return returnValue;\r\n        }\r\n    }\r\n\r\nWhen I change the hostname from &quot;localhost&quot; to prod environment, I can&#39;t connect. The strangest thing is that, during deployment, I get the following error even if I remove the above method altogether and leave only the dependency in the pom.\r\nWhat can this be due to? Do I need to enter some configuration to make it not automatically connect to localhost?\r\n\r\n        2022-11-21 17:09:31.013+0100 WARN [org.springframework.boot.actuate.solr.SolrHealthIndicator] (http-nio-8080-exec-1) [anonymousUser/NONE/d145ccb7-4dfe-4acd-8b6a-b924900d621d] Solr health check failed\r\n    org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://127.0.0.1:8983/solr \r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:672)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:265)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\r\n    \tat org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:211)\r\n    \tat org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:228)\r\n    \tat org.springframework.boot.actuate.solr.SolrHealthIndicator$RootStatusCheck.getStatus(SolrHealthIndicator.java:115)\r\n    \tat org.springframework.boot.actuate.solr.SolrHealthIndicator.initializeStatusCheck(SolrHealthIndicator.java:78)\r\n    \tat org.springframework.boot.actuate.solr.SolrHealthIndicator.initializeStatusCheck(SolrHealthIndicator.java:66)\r\n    \tat org.springframework.boot.actuate.solr.SolrHealthIndicator.doHealthCheck(SolrHealthIndicator.java:53)\r\n    \tat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\r\n    \tat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n    \tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\r\n    \tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\r\n    \tat\r\n\r\n ","title":"Solr - Error while inserting solrj as dependency in POM","body":"<p>I need to connect to Solr with SolrJ. I imported the library in POM in this way:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n        &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I try to connect in localhost, I've no problem.</p>\n<pre><code>public class SolrJSearcher {\n\n    public String solrSearch() throws SolrServerException, IOException {\n        String collection = &quot;Users&quot;;\n        SolrClient client = new HttpSolrClient.Builder(&quot;http://localhost:8983/solr/&quot; + collection).build();\n        SolrQuery query = new SolrQuery();\n        query.setQuery(&quot;*:*&quot;);\n        query.setRows(1);\n        QueryResponse response = client.query(query);\n        SolrDocumentList results = response.getResults();\n        String returnValue = JSONUtil.toJSON(results);\n        return returnValue;\n    }\n}\n</code></pre>\n<p>When I change the hostname from &quot;localhost&quot; to prod environment, I can't connect. The strangest thing is that, during deployment, I get the following error even if I remove the above method altogether and leave only the dependency in the pom.\nWhat can this be due to? Do I need to enter some configuration to make it not automatically connect to localhost?</p>\n<pre><code>    2022-11-21 17:09:31.013+0100 WARN [org.springframework.boot.actuate.solr.SolrHealthIndicator] (http-nio-8080-exec-1) [anonymousUser/NONE/d145ccb7-4dfe-4acd-8b6a-b924900d621d] Solr health check failed\norg.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://127.0.0.1:8983/solr \n    at org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:672)\n    at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:265)\n    at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\n    at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:211)\n    at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:228)\n    at org.springframework.boot.actuate.solr.SolrHealthIndicator$RootStatusCheck.getStatus(SolrHealthIndicator.java:115)\n    at org.springframework.boot.actuate.solr.SolrHealthIndicator.initializeStatusCheck(SolrHealthIndicator.java:78)\n    at org.springframework.boot.actuate.solr.SolrHealthIndicator.initializeStatusCheck(SolrHealthIndicator.java:66)\n    at org.springframework.boot.actuate.solr.SolrHealthIndicator.doHealthCheck(SolrHealthIndicator.java:53)\n    at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\n    at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\n    at\n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1669191046,"post_id":74521699,"comment_id":131585754,"body_markdown":"Maybe this can help you: https://stackoverflow.com/a/73110842/13115701","body":"Maybe this can help you: <a href=\"https://stackoverflow.com/a/73110842/13115701\">stackoverflow.com/a/73110842/13115701</a>"},{"owner":{"account_id":7092885,"reputation":69,"user_id":5427538,"display_name":"Dalendrion"},"score":0,"creation_date":1669277974,"post_id":74521699,"comment_id":131609439,"body_markdown":"Thanks Paul. But it&#39;s a different question. In my case it&#39;s about YAML being unable to deal with subclasses of `Expression`. I was wondering if it&#39;s possible at all or if I should abandon this idea and go for a different approach.","body":"Thanks Paul. But it&#39;s a different question. In my case it&#39;s about YAML being unable to deal with subclasses of <code>Expression</code>. I was wondering if it&#39;s possible at all or if I should abandon this idea and go for a different approach."}],"owner":{"account_id":7092885,"reputation":69,"user_id":5427538,"display_name":"Dalendrion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669046683,"creation_date":1669046683,"question_id":74521699,"body_markdown":"I would like to read a yaml file and parse it.\r\nIs it possible to use subclasses for this?\r\n\r\nI have a yaml file:\r\n```yml\r\nexpressions:\r\n  - expression:\r\n      literal: hello\r\n  - expression:\r\n      function:\r\n        name: add\r\n        params:\r\n          - expression:\r\n              literal: 1\r\n          - expression:\r\n              literal: 2\r\n```\r\nThen I have some classes to represent this structure.\r\nMost notably:\r\n```java\r\npublic interface Expression {\r\n  String evaluate();\r\n}\r\n```\r\n```java\r\npublic class LiteralExpression {\r\n  private final String literal;\r\n\r\n  public LiteralExpression(String literal) {\r\n    this.value = literal;\r\n  }\r\n\r\n  public String evaluate() {\r\n    return literal;\r\n  }\r\n}\r\n```\r\n```java\r\npublic class FunctionExpression {\r\n  private final String name;\r\n  private final Expression[] params;\r\n\r\n  public LiteralExpression(String name, Expression... params) {\r\n    this.value = name;\r\n    this.params = params;\r\n  }\r\n\r\n  public String evaluate() {\r\n    return Functions.getFunction(name).apply(Stream.of(params)\r\n        .map(Expression::evaluate)\r\n        .toArray(String[]::new));\r\n  }\r\n}\r\n```\r\n\r\nTo read out the yaml file, I have a config glass with a `@PropertySource` annotation.\r\n```java\r\n@Component\r\n@ConfigurationProperties\r\n@PropertySource(value = &quot;classpath:expressions.yaml&quot;, factory = YamlPropertySourceFactory.class)\r\n@NoArgsConstructor\r\n@Data\r\npublic class ProfielConfig {\r\n  private List&lt;Expression&gt; expressions;\r\n}\r\n```\r\n```java\r\npublic class YamlPropertySourceFactory implements PropertySourceFactory {\r\n  @Override\r\n  public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) {\r\n    YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n    factory.setResources(resource.getResource());\r\n    Properties properties = factory.getObject();\r\n\r\n    return new PropertiesPropertySource(\r\n      Objects.requireNonNull(resource.getResource().getFilename()),\r\n      Objects.requireNonNull(properties)\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nWhen I use this setup, the expression properties stay `null`. What am I missing?","title":"Spring boot read properties from yml file into subclasses","body":"<p>I would like to read a yaml file and parse it.\nIs it possible to use subclasses for this?</p>\n<p>I have a yaml file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>expressions:\n  - expression:\n      literal: hello\n  - expression:\n      function:\n        name: add\n        params:\n          - expression:\n              literal: 1\n          - expression:\n              literal: 2\n</code></pre>\n<p>Then I have some classes to represent this structure.\nMost notably:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Expression {\n  String evaluate();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class LiteralExpression {\n  private final String literal;\n\n  public LiteralExpression(String literal) {\n    this.value = literal;\n  }\n\n  public String evaluate() {\n    return literal;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FunctionExpression {\n  private final String name;\n  private final Expression[] params;\n\n  public LiteralExpression(String name, Expression... params) {\n    this.value = name;\n    this.params = params;\n  }\n\n  public String evaluate() {\n    return Functions.getFunction(name).apply(Stream.of(params)\n        .map(Expression::evaluate)\n        .toArray(String[]::new));\n  }\n}\n</code></pre>\n<p>To read out the yaml file, I have a config glass with a <code>@PropertySource</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties\n@PropertySource(value = &quot;classpath:expressions.yaml&quot;, factory = YamlPropertySourceFactory.class)\n@NoArgsConstructor\n@Data\npublic class ProfielConfig {\n  private List&lt;Expression&gt; expressions;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n  @Override\n  public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) {\n    YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n    factory.setResources(resource.getResource());\n    Properties properties = factory.getObject();\n\n    return new PropertiesPropertySource(\n      Objects.requireNonNull(resource.getResource().getFilename()),\n      Objects.requireNonNull(properties)\n    );\n  }\n}\n</code></pre>\n<p>When I use this setup, the expression properties stay <code>null</code>. What am I missing?</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669046638,"post_id":74521511,"comment_id":131548547,"body_markdown":"You aren&#39;t mocking anything. Also as the `HttpClient` is configured inside the method you cannot mock it. Instead you should inject it that way you can mock it. Or use the spring `RestTemplate` or `WebClient` and configure that with Apache HTTP Client and use the testing/mocking support for that.","body":"You aren&#39;t mocking anything. Also as the <code>HttpClient</code> is configured inside the method you cannot mock it. Instead you should inject it that way you can mock it. Or use the spring <code>RestTemplate</code> or <code>WebClient</code> and configure that with Apache HTTP Client and use the testing/mocking support for that."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1669543345,"post_id":74521511,"comment_id":131660939,"body_markdown":"[Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/q/74027324/112968) shares some useful insights (and a solution to your problem too). If you move the creation of your `HttpClient` to a different class an and instance of this class is injected into your class, testing becomes straightforward.","body":"<a href=\"https://stackoverflow.com/q/74027324/112968\">Why is my class not calling my mocked methods in unit test?</a> shares some useful insights (and a solution to your problem too). If you move the creation of your <code>HttpClient</code> to a different class an and instance of this class is injected into your class, testing becomes straightforward."}],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669046632,"creation_date":1669046632,"answer_id":74521691,"question_id":74521511,"body_markdown":"You can&#39;t do it using the current code structure. httpclient object is getting created within the method under test. So it can&#39;t be mocked.\r\n\r\nYou need to delegate httpclient object creation to another method with belongs to a different class (something similar to HttpClientFactory class). That HttpClientFactory class should only be responsible for creating httpClient instances. If you need you can write separate unit test case for the class.\r\n\r\n\r\n     @Inject\r\n     private HttpClientFactory httpClientFactory;\r\n    \r\n          public String doRequest(ClassicHttpRequest request) {\r\n            String result = null;\r\n        \r\n                try (CloseableHttpClient httpclient = httpClientFactory.getInstance()) {\r\n        \r\n                    final HttpClientContext clientContext = HttpClientContext.create();\r\n        \r\n                    try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\r\n        \r\n                        result = EntityUtils.toString(response.getEntity());\r\n                    \r\n                    }\r\n                } catch (URISyntaxException e) {\r\n                    log.error(&quot;Invalid URI {}&quot;, e);\r\n                } catch (IOException e) {\r\n                    log.error(&quot;Failed to make HTTP Request {}&quot;, e);\r\n                } catch (ParseException e) {\r\n                    log.error(&quot;Failed parsing response body {}&quot;, e);\r\n                }\r\n        \r\n                return result;\r\n            }\r\n\r\nNow you can mock response like below:\r\n\r\n     @Mock\r\n     private HttpClientFactory httpClientFactory;\r\n    \r\n    public String testDoRequest(ClassicHttpRequest request) {\r\n    ....\r\n        CloseableHttpClient mockedClient = mock(CloseableHttpClient.class);\r\n        CloseableHttpResponse mockedResponse = mock(CloseableHttpResponse.class);\r\n        when(httpClientFactory.getInstance()).thenReturn(mockedClient);\r\n        when(mockedClient.execute(eq(request), any(clientContext))).thenReturn(mockedResponse);\r\n    ....}\r\n\r\n","title":"Mocking a Nested Object in Junit","body":"<p>You can't do it using the current code structure. httpclient object is getting created within the method under test. So it can't be mocked.</p>\n<p>You need to delegate httpclient object creation to another method with belongs to a different class (something similar to HttpClientFactory class). That HttpClientFactory class should only be responsible for creating httpClient instances. If you need you can write separate unit test case for the class.</p>\n<pre><code> @Inject\n private HttpClientFactory httpClientFactory;\n\n      public String doRequest(ClassicHttpRequest request) {\n        String result = null;\n    \n            try (CloseableHttpClient httpclient = httpClientFactory.getInstance()) {\n    \n                final HttpClientContext clientContext = HttpClientContext.create();\n    \n                try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\n    \n                    result = EntityUtils.toString(response.getEntity());\n                \n                }\n            } catch (URISyntaxException e) {\n                log.error(&quot;Invalid URI {}&quot;, e);\n            } catch (IOException e) {\n                log.error(&quot;Failed to make HTTP Request {}&quot;, e);\n            } catch (ParseException e) {\n                log.error(&quot;Failed parsing response body {}&quot;, e);\n            }\n    \n            return result;\n        }\n</code></pre>\n<p>Now you can mock response like below:</p>\n<pre><code> @Mock\n private HttpClientFactory httpClientFactory;\n\npublic String testDoRequest(ClassicHttpRequest request) {\n....\n    CloseableHttpClient mockedClient = mock(CloseableHttpClient.class);\n    CloseableHttpResponse mockedResponse = mock(CloseableHttpResponse.class);\n    when(httpClientFactory.getInstance()).thenReturn(mockedClient);\n    when(mockedClient.execute(eq(request), any(clientContext))).thenReturn(mockedResponse);\n....}\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521691,"answer_count":1,"score":0,"last_activity_date":1669046632,"creation_date":1669045679,"question_id":74521511,"body_markdown":"I have a service I am mocking like this:\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTest {\r\n    \r\n    @InjectMocks\r\n    MyService myService;\r\n\r\n   \r\n\r\n        @Test\r\n        void testSendRec() {\r\n           myService.sendDocRec(.. pass params..);\r\n        }\r\n}\r\n\r\n\r\nthe service:\r\n\r\n    @Service\r\n    public class MyService {\r\n\r\n        String sendDocRec( params ) {\r\n\r\n           // builds request\r\n           HttpUriRequestBase request = getRequest(  params );\r\n\r\n            String response = doRequest(request);\r\n        }\r\n\r\n        public String doRequest(ClassicHttpRequest request) {\r\n        String result = null;\r\n\r\n            try (CloseableHttpClient httpclient = HttpClients.custom()\r\n                    .setConnectionManager(this.connectionManager)\r\n                    .setConnectionManagerShared(true) \r\n                    .setDefaultRequestConfig(this.requestConfig)\r\n                    .build()) {\r\n\r\n                final HttpClientContext clientContext = HttpClientContext.create();\r\n\r\n                try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\r\n\r\n                    result = EntityUtils.toString(response.getEntity());\r\n                \r\n                }\r\n            } catch (URISyntaxException e) {\r\n                log.error(&quot;Invalid URI {}&quot;, e);\r\n            } catch (IOException e) {\r\n                log.error(&quot;Failed to make HTTP Request {}&quot;, e);\r\n            } catch (ParseException e) {\r\n                log.error(&quot;Failed parsing response body {}&quot;, e);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n    }\r\n\r\nI need to be able to mock the &quot;CloseableHttpResponse response = httpclient.execute(request, clientContext)&quot;, such that the &quot;response&quot; object is something I create ahead of time. I am hoping some mocking when/then constructs would work for this? I would grateful for ideas on how to do this. Thanks!","title":"Mocking a Nested Object in Junit","body":"<p>I have a service I am mocking like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTest {\n\n@InjectMocks\nMyService myService;\n\n\n\n    @Test\n    void testSendRec() {\n       myService.sendDocRec(.. pass params..);\n    }\n</code></pre>\n<p>}</p>\n<p>the service:</p>\n<pre><code>@Service\npublic class MyService {\n\n    String sendDocRec( params ) {\n\n       // builds request\n       HttpUriRequestBase request = getRequest(  params );\n\n        String response = doRequest(request);\n    }\n\n    public String doRequest(ClassicHttpRequest request) {\n    String result = null;\n\n        try (CloseableHttpClient httpclient = HttpClients.custom()\n                .setConnectionManager(this.connectionManager)\n                .setConnectionManagerShared(true) \n                .setDefaultRequestConfig(this.requestConfig)\n                .build()) {\n\n            final HttpClientContext clientContext = HttpClientContext.create();\n\n            try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\n\n                result = EntityUtils.toString(response.getEntity());\n            \n            }\n        } catch (URISyntaxException e) {\n            log.error(&quot;Invalid URI {}&quot;, e);\n        } catch (IOException e) {\n            log.error(&quot;Failed to make HTTP Request {}&quot;, e);\n        } catch (ParseException e) {\n            log.error(&quot;Failed parsing response body {}&quot;, e);\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n<p>I need to be able to mock the &quot;CloseableHttpResponse response = httpclient.execute(request, clientContext)&quot;, such that the &quot;response&quot; object is something I create ahead of time. I am hoping some mocking when/then constructs would work for this? I would grateful for ideas on how to do this. Thanks!</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1669042751,"post_id":74520799,"comment_id":131546975,"body_markdown":"Does this answer your question? [How to get hyperlink address from a cell in excel by using java?](https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\">How to get hyperlink address from a cell in excel by using java?</a>"},{"owner":{"account_id":14166407,"reputation":658,"user_id":10234240,"display_name":"tupac shakur"},"score":0,"creation_date":1669043129,"post_id":74520799,"comment_id":131547115,"body_markdown":"Thank you @XtremeBaumer , I saw this solution and tried it and it did not give me any value.","body":"Thank you @XtremeBaumer , I saw this solution and tried it and it did not give me any value."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669043724,"post_id":74520799,"comment_id":131547346,"body_markdown":"`getHypertextLink` is not a valid method for [`Cell`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html)","body":"<code>getHypertextLink</code> is not a valid method for <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\"><code>Cell</code></a>"},{"owner":{"account_id":8920168,"reputation":137,"user_id":6657073,"display_name":"Umang Soni"},"score":0,"creation_date":1670088113,"post_id":74520799,"comment_id":131793739,"body_markdown":"Cell cell = sheet.getRow(i).getCell(j); sysOut(cell.toString()); Can you please try this one ?","body":"Cell cell = sheet.getRow(i).getCell(j); sysOut(cell.toString()); Can you please try this one ?"}],"owner":{"account_id":14166407,"reputation":658,"user_id":10234240,"display_name":"tupac shakur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669046545,"creation_date":1669042468,"question_id":74520799,"body_markdown":"This is the code which iterate through the excel file and extract the value from the cells:\r\n\r\n    public static &lt;R&gt; List&lt;R&gt; readAdvancedStudentSearchFromCSV(String fileName, CSVParser&lt;R&gt; parser) throws IOException {\r\n            List&lt;R&gt; rowsList = new ArrayList&lt;&gt;();\r\n            FileInputStream fis = new FileInputStream(fileName);\r\n            //Create Workbook instance for xlsx/xls file input stream\r\n            XSSFWorkbook workbook = null;\r\n            if(fileName.toLowerCase().endsWith(&quot;xlsx&quot;)){\r\n                workbook = new XSSFWorkbook(fis);\r\n            }\r\n   \r\n            int numberOfSheets = workbook.getNumberOfSheets();\r\n            XSSFSheet sheet = workbook.getSheet(&quot;data&quot;);\r\n    \r\n            int rowCount = sheet.getPhysicalNumberOfRows();\r\n            StringBuilder line = new StringBuilder();\r\n            for(int i=2; i&lt;rowCount; i++){\r\n                String cellValue = &quot;&quot;;\r\n                for(int j=0; j&lt;10; j++){\r\n                    try {\r\n                        cellValue = sheet.getRow(i).getCell(j).getStringCellValue();\r\n                        System.out.println(cellValue);\r\n                    }catch(NullPointerException e){\r\n                        cellValue = &quot;&quot;;\r\n                    }\r\n                    if(cellValue.equals(&quot;&quot;)){\r\n                        line.append(&quot; &quot;).append(&quot; &quot;).append(&quot;,&quot;);\r\n                    }else {\r\n                        line.append(&quot; &quot;).append(cellValue).append(&quot;,&quot;);\r\n                    }\r\n                }\r\n                String[] attributes = line.toString().split(&quot;,&quot;);\r\n                R row = parser.toRow(attributes);\r\n                rowsList.add(row);\r\n            }\r\n    \r\n            //close file input stream\r\n            fis.close();\r\n            return rowsList;\r\n        }\r\nAnd this is how the excel file look like:\r\n[![enter image description here][1]][1]\r\n\r\nProblem:\r\n\r\nWhen I reach cell No.7 (trying to get column named &quot;Resume&quot;) with the value but I am getting empty string instead of getting the actual hypertextlink  (as string or as link it is not important).\r\nI have tried to use *getHypertextLink* method from *Cell* class but this did not help as well.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aUoh3.png\r\n\r\nI have looked at: https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\r\nwhich did not solve my issue. ","title":"Converting excel (.xslx) file to java with cell that has hyperlink text won&#39;t be recognized and result is cell with empty value","body":"<p>This is the code which iterate through the excel file and extract the value from the cells:</p>\n<pre><code>public static &lt;R&gt; List&lt;R&gt; readAdvancedStudentSearchFromCSV(String fileName, CSVParser&lt;R&gt; parser) throws IOException {\n        List&lt;R&gt; rowsList = new ArrayList&lt;&gt;();\n        FileInputStream fis = new FileInputStream(fileName);\n        //Create Workbook instance for xlsx/xls file input stream\n        XSSFWorkbook workbook = null;\n        if(fileName.toLowerCase().endsWith(&quot;xlsx&quot;)){\n            workbook = new XSSFWorkbook(fis);\n        }\n\n        int numberOfSheets = workbook.getNumberOfSheets();\n        XSSFSheet sheet = workbook.getSheet(&quot;data&quot;);\n\n        int rowCount = sheet.getPhysicalNumberOfRows();\n        StringBuilder line = new StringBuilder();\n        for(int i=2; i&lt;rowCount; i++){\n            String cellValue = &quot;&quot;;\n            for(int j=0; j&lt;10; j++){\n                try {\n                    cellValue = sheet.getRow(i).getCell(j).getStringCellValue();\n                    System.out.println(cellValue);\n                }catch(NullPointerException e){\n                    cellValue = &quot;&quot;;\n                }\n                if(cellValue.equals(&quot;&quot;)){\n                    line.append(&quot; &quot;).append(&quot; &quot;).append(&quot;,&quot;);\n                }else {\n                    line.append(&quot; &quot;).append(cellValue).append(&quot;,&quot;);\n                }\n            }\n            String[] attributes = line.toString().split(&quot;,&quot;);\n            R row = parser.toRow(attributes);\n            rowsList.add(row);\n        }\n\n        //close file input stream\n        fis.close();\n        return rowsList;\n    }\n</code></pre>\n<p>And this is how the excel file look like:\n<a href=\"https://i.stack.imgur.com/aUoh3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aUoh3.png\" alt=\"enter image description here\" /></a></p>\n<p>Problem:</p>\n<p>When I reach cell No.7 (trying to get column named &quot;Resume&quot;) with the value but I am getting empty string instead of getting the actual hypertextlink  (as string or as link it is not important).\nI have tried to use <em>getHypertextLink</em> method from <em>Cell</em> class but this did not help as well.</p>\n<p>I have looked at: <a href=\"https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\">How to get hyperlink address from a cell in excel by using java?</a>\nwhich did not solve my issue.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669046288,"creation_date":1669046288,"answer_id":74521626,"question_id":74493804,"body_markdown":"The [documentation][1] calls out specifically the need to have lots of pull requests outstanding simultaneously to achieve high throughput and low latency:\r\n\r\n&quot;To achieve low message delivery latency with synchronous pull, it is important to have many simultaneously outstanding pull requests. As the throughput of the topic increases, more pull requests are necessary. In general, asynchronous pull is preferable for latency-sensitive applications.&quot;\r\n\r\nMaking a single, synchronous pull request at a time is not going to be an efficient way to pull messages. The Pub/Sub service tries to trade off full pull responses with latency, preferring to send some messages back quickly rather than a full pull response, which is why you see fewer than 100 messages returned. If you make a lot more pull requests simultaneously, you are more likely to get full responses as the service will recognize that the subscriber can handle more load and fetch more messages to fulfill the pull requests.\r\n\r\nIf you want to maximize throughput and minimize latency, you should instead use [asynchronous streaming pull][2].\r\n\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pull#synchronous_pull\r\n  [2]: https://cloud.google.com/pubsub/docs/pull#asynchronous-pull","title":"High latency in fetching the messages from google pubsub pull model through java client","body":"<p>The <a href=\"https://cloud.google.com/pubsub/docs/pull#synchronous_pull\" rel=\"nofollow noreferrer\">documentation</a> calls out specifically the need to have lots of pull requests outstanding simultaneously to achieve high throughput and low latency:</p>\n<p>&quot;To achieve low message delivery latency with synchronous pull, it is important to have many simultaneously outstanding pull requests. As the throughput of the topic increases, more pull requests are necessary. In general, asynchronous pull is preferable for latency-sensitive applications.&quot;</p>\n<p>Making a single, synchronous pull request at a time is not going to be an efficient way to pull messages. The Pub/Sub service tries to trade off full pull responses with latency, preferring to send some messages back quickly rather than a full pull response, which is why you see fewer than 100 messages returned. If you make a lot more pull requests simultaneously, you are more likely to get full responses as the service will recognize that the subscriber can handle more load and fetch more messages to fulfill the pull requests.</p>\n<p>If you want to maximize throughput and minimize latency, you should instead use <a href=\"https://cloud.google.com/pubsub/docs/pull#asynchronous-pull\" rel=\"nofollow noreferrer\">asynchronous streaming pull</a>.</p>\n"}],"owner":{"account_id":10017789,"reputation":171,"user_id":7408451,"display_name":"saivasanth528"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669046288,"creation_date":1668795168,"question_id":74493804,"body_markdown":"We have one application which navigates the bigquery logs to pubsub topic, and we have one pull subscription on that topic. I have implemented [synchronous pull with lease management][1], in that I set the maxMessages to 100, which indicates pulling 100 messages at max from the topic in one request. \r\n\r\nI had ran a terraform script which will run hundreds of jobs concurrently and that will generate hundreds of logs within in few seconds, My pull mechanism will fetch the messages every 30 seconds. Since there are a lot of logs, I expected 100 messages in one request, but that was not happening, in every request, I am getting arbitrary no of messages like 14, 7, 10, and 3. It takes a lot of time to fetch all the messages about my jobs. I don&#39;t know what exactly the issue.\r\n\r\nPlease help me in identifying how to get the desired messages and decrease my latency when there are a lot of messages on the topic. Is PubSub service throttling the response or any configuration I have to do on my end? \r\n\r\n\r\n    public List&lt;ReceivedMessage&gt; getMessagesFromSubscription(String projectId, String subscriptionId, int numOfMessages,\r\n                                                             CredentialsProvider credentialsProvider) {\r\n     \r\n        List&lt;ReceivedMessage&gt; receivedMessages = new ArrayList&lt;&gt;();\r\n        try {\r\n            SubscriberStubSettings subscriberStubSettings = getSubscriberStubSettings(credentialsProvider);\r\n            try (SubscriberStub subscriber = GrpcSubscriberStub.create(subscriberStubSettings)) {\r\n                String subscriptionName = ProjectSubscriptionName.format(projectId, subscriptionId);\r\n                PullRequest pullRequest = PullRequest.newBuilder()\r\n                        .setMaxMessages(100)\r\n                        .setSubscription(mypubsub)\r\n                        .build();\r\n                PullResponse pullResponse = subscriber.pullCallable().call(pullRequest);\r\n                List&lt;String&gt; ackIds = new ArrayList&lt;&gt;();\r\n                for (ReceivedMessage message : pullResponse.getReceivedMessagesList()) {\r\n                    ackIds.add(message.getAckId());\r\n                    ModifyAckDeadlineRequest modifyAckDeadlineRequest = ModifyAckDeadlineRequest.newBuilder()\r\n                            .setSubscription(subscriptionName)\r\n                            .addAckIds(message.getAckId())\r\n                            .setAckDeadlineSeconds(30)\r\n                            .build();\r\n                    subscriber.modifyAckDeadlineCallable().call(modifyAckDeadlineRequest);\r\n                }\r\n                if (ackIds.isEmpty()) {\r\n                 // my logic\r\n                } else {\r\n                    AcknowledgeRequest acknowledgeRequest = AcknowledgeRequest.newBuilder()\r\n                            .setSubscription(subscriptionName)\r\n                            .addAllAckIds(ackIds)\r\n                            .build();\r\n                    subscriber.acknowledgeCallable().call(acknowledgeRequest);\r\n                    receivedMessages = new ArrayList&lt;&gt;(pullResponse.getReceivedMessagesList());\r\n                }\r\n            }\r\n            LOG.info(&quot;getMessagesFromSubscription: Received {} Messages for Project Id: {} and&quot; +\r\n                    &quot; Subscription Id: {}.&quot;, receivedMessages.size(), projectId, subscriptionId);\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;getMessagesFromSubscription: Error while pulling message from Pub/Sub &quot; +\r\n                    &quot;from Project ID: {} and Subscription ID: {}&quot;, projectId, subscriptionId, e);\r\n        }\r\n        return receivedMessages;\r\n    }\r\n\r\n    private SubscriberStubSettings getSubscriberStubSettings(CredentialsProvider credentialsProvider) throws IOException {\r\n        SubscriberStubSettings.Builder subscriberStubSettingsBuilder = SubscriberStubSettings\r\n                .newBuilder()\r\n                .setTransportChannelProvider(SubscriberStubSettings\r\n                        .defaultGrpcTransportProviderBuilder()\r\n                        .setMaxInboundMessageSize(20 &lt;&lt; 20)\r\n                        .build());\r\n        if (credentialsProvider != null) {\r\n            subscriberStubSettingsBuilder = subscriberStubSettingsBuilder.setCredentialsProvider(credentialsProvider);\r\n        }\r\n        return subscriberStubSettingsBuilder.build();\r\n    }\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pull#synchronous_pull_with_lease_management","title":"High latency in fetching the messages from google pubsub pull model through java client","body":"<p>We have one application which navigates the bigquery logs to pubsub topic, and we have one pull subscription on that topic. I have implemented <a href=\"https://cloud.google.com/pubsub/docs/pull#synchronous_pull_with_lease_management\" rel=\"nofollow noreferrer\">synchronous pull with lease management</a>, in that I set the maxMessages to 100, which indicates pulling 100 messages at max from the topic in one request.</p>\n<p>I had ran a terraform script which will run hundreds of jobs concurrently and that will generate hundreds of logs within in few seconds, My pull mechanism will fetch the messages every 30 seconds. Since there are a lot of logs, I expected 100 messages in one request, but that was not happening, in every request, I am getting arbitrary no of messages like 14, 7, 10, and 3. It takes a lot of time to fetch all the messages about my jobs. I don't know what exactly the issue.</p>\n<p>Please help me in identifying how to get the desired messages and decrease my latency when there are a lot of messages on the topic. Is PubSub service throttling the response or any configuration I have to do on my end?</p>\n<pre><code>public List&lt;ReceivedMessage&gt; getMessagesFromSubscription(String projectId, String subscriptionId, int numOfMessages,\n                                                         CredentialsProvider credentialsProvider) {\n \n    List&lt;ReceivedMessage&gt; receivedMessages = new ArrayList&lt;&gt;();\n    try {\n        SubscriberStubSettings subscriberStubSettings = getSubscriberStubSettings(credentialsProvider);\n        try (SubscriberStub subscriber = GrpcSubscriberStub.create(subscriberStubSettings)) {\n            String subscriptionName = ProjectSubscriptionName.format(projectId, subscriptionId);\n            PullRequest pullRequest = PullRequest.newBuilder()\n                    .setMaxMessages(100)\n                    .setSubscription(mypubsub)\n                    .build();\n            PullResponse pullResponse = subscriber.pullCallable().call(pullRequest);\n            List&lt;String&gt; ackIds = new ArrayList&lt;&gt;();\n            for (ReceivedMessage message : pullResponse.getReceivedMessagesList()) {\n                ackIds.add(message.getAckId());\n                ModifyAckDeadlineRequest modifyAckDeadlineRequest = ModifyAckDeadlineRequest.newBuilder()\n                        .setSubscription(subscriptionName)\n                        .addAckIds(message.getAckId())\n                        .setAckDeadlineSeconds(30)\n                        .build();\n                subscriber.modifyAckDeadlineCallable().call(modifyAckDeadlineRequest);\n            }\n            if (ackIds.isEmpty()) {\n             // my logic\n            } else {\n                AcknowledgeRequest acknowledgeRequest = AcknowledgeRequest.newBuilder()\n                        .setSubscription(subscriptionName)\n                        .addAllAckIds(ackIds)\n                        .build();\n                subscriber.acknowledgeCallable().call(acknowledgeRequest);\n                receivedMessages = new ArrayList&lt;&gt;(pullResponse.getReceivedMessagesList());\n            }\n        }\n        LOG.info(&quot;getMessagesFromSubscription: Received {} Messages for Project Id: {} and&quot; +\n                &quot; Subscription Id: {}.&quot;, receivedMessages.size(), projectId, subscriptionId);\n    } catch (Exception e) {\n        LOG.error(&quot;getMessagesFromSubscription: Error while pulling message from Pub/Sub &quot; +\n                &quot;from Project ID: {} and Subscription ID: {}&quot;, projectId, subscriptionId, e);\n    }\n    return receivedMessages;\n}\n\nprivate SubscriberStubSettings getSubscriberStubSettings(CredentialsProvider credentialsProvider) throws IOException {\n    SubscriberStubSettings.Builder subscriberStubSettingsBuilder = SubscriberStubSettings\n            .newBuilder()\n            .setTransportChannelProvider(SubscriberStubSettings\n                    .defaultGrpcTransportProviderBuilder()\n                    .setMaxInboundMessageSize(20 &lt;&lt; 20)\n                    .build());\n    if (credentialsProvider != null) {\n        subscriberStubSettingsBuilder = subscriberStubSettingsBuilder.setCredentialsProvider(credentialsProvider);\n    }\n    return subscriberStubSettingsBuilder.build();\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1669036711,"post_id":74519437,"comment_id":131544655,"body_markdown":"I would suggest to not use `BeanUtils`, as the documentation states it is mainly for internal framework usage and links to other suggestions. To add to that I suggest to use something like MapStruct for this to generate dedicated mappers for code instead of relying on reflection.","body":"I would suggest to not use <code>BeanUtils</code>, as the documentation states it is mainly for internal framework usage and links to other suggestions. To add to that I suggest to use something like MapStruct for this to generate dedicated mappers for code instead of relying on reflection."},{"owner":{"account_id":18201618,"reputation":204,"user_id":13245658,"display_name":"Limon"},"score":0,"creation_date":1669041628,"post_id":74519437,"comment_id":131546515,"body_markdown":"Can you maybe provide the Throwable causing the FatalBeanException?","body":"Can you maybe provide the Throwable causing the FatalBeanException?"}],"answers":[{"tags":[],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669046126,"creation_date":1669046126,"answer_id":74521594,"question_id":74519437,"body_markdown":"Thanks for all the answers so far. It turned out that a missing null check in the setter of the collection caused the error. BeanUtils.copyProperties() worked just like it was supposed to do. ","title":"BeanUtils.copyProperties() throws org.springframework.beans.FatalBeanException: Could not copy property &#39;xyz&#39; from source to target;","body":"<p>Thanks for all the answers so far. It turned out that a missing null check in the setter of the collection caused the error. BeanUtils.copyProperties() worked just like it was supposed to do.</p>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669046126,"creation_date":1669035974,"question_id":74519437,"body_markdown":"Just upgraded from Spring 4.x to 5.3 and Hibernate 3.x to 5.6. I have one instance of my code where I get unexpected errors. More specifically, it is Spring&#39;s BeanUtils.CopyProperties() method that causes the error. \r\n\r\nIt wants to invoke a setter for a `PersistentSet` (I think that&#39;s a Hibernate datatype) with the value `null` and throws a FatalBeanException. \r\n\r\nAny idea how to solve that kind of errors?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mzIYc.png","title":"BeanUtils.copyProperties() throws org.springframework.beans.FatalBeanException: Could not copy property &#39;xyz&#39; from source to target;","body":"<p>Just upgraded from Spring 4.x to 5.3 and Hibernate 3.x to 5.6. I have one instance of my code where I get unexpected errors. More specifically, it is Spring's BeanUtils.CopyProperties() method that causes the error.</p>\n<p>It wants to invoke a setter for a <code>PersistentSet</code> (I think that's a Hibernate datatype) with the value <code>null</code> and throws a FatalBeanException.</p>\n<p>Any idea how to solve that kind of errors?</p>\n<p><a href=\"https://i.stack.imgur.com/mzIYc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzIYc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","kotlinx.serialization"],"answers":[{"tags":[],"owner":{"account_id":3934490,"reputation":805,"user_id":3251429,"display_name":"undermark5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669045898,"creation_date":1669045898,"answer_id":74521549,"question_id":74512090,"body_markdown":"You should not add `@Serializable` to the interface, see the [documentation][1] regarding polymorphic seriliazation. Instead you must annotate the implementations and possibly register the corresponding serializers.\r\n\r\n  [1]: https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/polymorphism.md#serializing-interfaces","title":"Error: Class is not registered for polymorphic serialization in the scope of its interface","body":"<p>You should not add <code>@Serializable</code> to the interface, see the <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/polymorphism.md#serializing-interfaces\" rel=\"nofollow noreferrer\">documentation</a> regarding polymorphic seriliazation. Instead you must annotate the implementations and possibly register the corresponding serializers.</p>\n"}],"owner":{"account_id":25075804,"reputation":23,"user_id":18929240,"display_name":"rjunovskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521549,"answer_count":1,"score":0,"last_activity_date":1669045898,"creation_date":1668979149,"question_id":74512090,"body_markdown":"I need set serializable interface for using any data class in methods, example data:\r\n\r\n    @Serializable\r\n    interface Todo{}\r\n\r\n    @Serializable\r\n    data class userDataForRegistration(val name: String, val number: String, val password: String): Todo\r\n\r\n    @Serializable\r\n    data class userDataForLogin(val number: String, val password: String): Todo\r\n\r\n    @Serializable\r\n    data class contactForRemove(val id: String, val number: String): Todo\r\n\r\n    @Serializable\r\n    data class userData(val number: String)\r\n\r\n    @Serializable\r\n    data class message(val message: String)\r\n\r\nexample method, where body - some of the above data classes :\r\n\r\n    class Connection {\r\n       val client = OkHttpClient()\r\n       // params: login, registration, contact\r\n       fun sendData(url: String, param: String, body: Todo){\r\n           var json = Json.encodeToString(body)\r\n           var reqBody = RequestBody.create(&quot;application/json; charset=utf-8&quot;.toMediaTypeOrNull(), json)\r\n\r\n           val request = Request.Builder()\r\n               .url(url)\r\n               .post(reqBody)\r\n               .build()\r\n\r\n           client.newCall(request).enqueue(object : Callback {\r\n               override fun onFailure(call: Call, e: IOException) {\r\n                   println(&quot;error&quot; + e)\r\n               }\r\n               override fun onResponse(call: Call, response: Response){\r\n                   var res = response.body?.string()\r\n                   when(param){\r\n                       &quot;login&quot;, &quot;registration&quot; -&gt; {\r\n                           try{\r\n                               val objUser = Json.decodeFromString&lt;User&gt;(res.toString())\r\n                               returnUser(objUser)\r\n                        }\r\n                           catch(e: Exception){\r\n                               val mes = Json.decodeFromString&lt;message&gt;(res.toString())\r\n                               returnMessage(mes)\r\n                           }\r\n                       }   \r\n                       &quot;contact&quot; -&gt;{\r\n                           val mes = Json.decodeFromString&lt;message&gt;(res.toString())\r\n                           returnMessage(mes)\r\n                       }\r\n                   }\r\n               }\r\n           })\r\n       }\r\nbut if i calling method:\r\n\r\n    val userDataForLogin = userDataForLogin(etv_name.text.toString(), etv_pass.text.toString())\r\n    val response = connection.sendData(&quot;${ip_static.ip}/user/login&quot;, &quot;login&quot;, userDataForLogin)\r\ni get error:\r\n\r\n    @Serializable annotation is ignored because it is impossible to serialize automatically interfaces or enums. Provide serializer manually via e.g. companion object\r\n\r\nI need use only TODO interface to use any data class in methods, object and abstract class will doesnt working, because it use data class\r\n\r\nAlso my plugins in build.gradle:\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.10&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.plugin.serialization&#39; version &#39;1.6.21&#39;\r\n}\r\n\r\nI read, that kotlin.plugin.serialization 1.6.2+ working with serialization interface, but idk whats wrong with me...\r\nThank you in advance!)\r\n\r\n","title":"Error: Class is not registered for polymorphic serialization in the scope of its interface","body":"<p>I need set serializable interface for using any data class in methods, example data:</p>\n<pre><code>@Serializable\ninterface Todo{}\n\n@Serializable\ndata class userDataForRegistration(val name: String, val number: String, val password: String): Todo\n\n@Serializable\ndata class userDataForLogin(val number: String, val password: String): Todo\n\n@Serializable\ndata class contactForRemove(val id: String, val number: String): Todo\n\n@Serializable\ndata class userData(val number: String)\n\n@Serializable\ndata class message(val message: String)\n</code></pre>\n<p>example method, where body - some of the above data classes :</p>\n<pre><code>class Connection {\n   val client = OkHttpClient()\n   // params: login, registration, contact\n   fun sendData(url: String, param: String, body: Todo){\n       var json = Json.encodeToString(body)\n       var reqBody = RequestBody.create(&quot;application/json; charset=utf-8&quot;.toMediaTypeOrNull(), json)\n\n       val request = Request.Builder()\n           .url(url)\n           .post(reqBody)\n           .build()\n\n       client.newCall(request).enqueue(object : Callback {\n           override fun onFailure(call: Call, e: IOException) {\n               println(&quot;error&quot; + e)\n           }\n           override fun onResponse(call: Call, response: Response){\n               var res = response.body?.string()\n               when(param){\n                   &quot;login&quot;, &quot;registration&quot; -&gt; {\n                       try{\n                           val objUser = Json.decodeFromString&lt;User&gt;(res.toString())\n                           returnUser(objUser)\n                    }\n                       catch(e: Exception){\n                           val mes = Json.decodeFromString&lt;message&gt;(res.toString())\n                           returnMessage(mes)\n                       }\n                   }   \n                   &quot;contact&quot; -&gt;{\n                       val mes = Json.decodeFromString&lt;message&gt;(res.toString())\n                       returnMessage(mes)\n                   }\n               }\n           }\n       })\n   }\n</code></pre>\n<p>but if i calling method:</p>\n<pre><code>val userDataForLogin = userDataForLogin(etv_name.text.toString(), etv_pass.text.toString())\nval response = connection.sendData(&quot;${ip_static.ip}/user/login&quot;, &quot;login&quot;, userDataForLogin)\n</code></pre>\n<p>i get error:</p>\n<pre><code>@Serializable annotation is ignored because it is impossible to serialize automatically interfaces or enums. Provide serializer manually via e.g. companion object\n</code></pre>\n<p>I need use only TODO interface to use any data class in methods, object and abstract class will doesnt working, because it use data class</p>\n<p>Also my plugins in build.gradle:</p>\n<pre><code>plugins {\nid 'com.android.application' version '7.2.2' apply false\nid 'com.android.library' version '7.2.2' apply false\nid 'org.jetbrains.kotlin.android' version '1.6.10' apply false\nid 'org.jetbrains.kotlin.plugin.serialization' version '1.6.21'\n</code></pre>\n<p>}</p>\n<p>I read, that kotlin.plugin.serialization 1.6.2+ working with serialization interface, but idk whats wrong with me...\nThank you in advance!)</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669043061,"post_id":74497722,"comment_id":131547086,"body_markdown":"If you are “looking for a specific entry in the map”, you should just use `get` instead of a linear search through the entire map, e.g. `String[] result = map.get(&quot;colors&quot;).split(&quot;, &quot;);` If inconsistent use of uppercase and lowercase really is a requirement for your software, you can simply use a `TreeMap` instead of a `HashMap`. Then, `get(&quot;Colors&quot;)` will also work.","body":"If you are “looking for a specific entry in the map”, you should just use <code>get</code> instead of a linear search through the entire map, e.g. <code>String[] result = map.get(&quot;colors&quot;).split(&quot;, &quot;);</code> If inconsistent use of uppercase and lowercase really is a requirement for your software, you can simply use a <code>TreeMap</code> instead of a <code>HashMap</code>. Then, <code>get(&quot;Colors&quot;)</code> will also work."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668836517,"creation_date":1668835454,"answer_id":74497755,"question_id":74497722,"body_markdown":"Try this.\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\r\n    map.put(&quot;numbers&quot;, &quot;One, Two, Three&quot;);\r\n    map.put(&quot;COLORS&quot;, &quot;Yellow, Magenta, Cyan&quot;);\r\n\r\n    String[] result = map.entrySet().stream()\r\n        .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n        .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\r\n        .flatMap(Stream::of)\r\n        .toArray(String[]::new);\r\n\r\n    System.out.println(Arrays.toString(result));\r\n\r\noutput:\r\n\r\n    [Yellow, Magenta, Cyan, Red, Green, Blue, Purple]\r\n\r\nif you only want the first match\r\n\r\n    String[] result = map.entrySet().stream()\r\n        .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n        .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\r\n        .findFirst().orElse(new String[0]);\r\n\r\n    System.out.println(Arrays.toString(result));\r\n\r\noutput:\r\n\r\n    [Yellow, Magenta, Cyan]\r\n","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<p>Try this.</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\nmap.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\nmap.put(&quot;numbers&quot;, &quot;One, Two, Three&quot;);\nmap.put(&quot;COLORS&quot;, &quot;Yellow, Magenta, Cyan&quot;);\n\nString[] result = map.entrySet().stream()\n    .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n    .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\n    .flatMap(Stream::of)\n    .toArray(String[]::new);\n\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>output:</p>\n<pre><code>[Yellow, Magenta, Cyan, Red, Green, Blue, Purple]\n</code></pre>\n<p>if you only want the first match</p>\n<pre><code>String[] result = map.entrySet().stream()\n    .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n    .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\n    .findFirst().orElse(new String[0]);\n\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>output:</p>\n<pre><code>[Yellow, Magenta, Cyan]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669045892,"creation_date":1668860944,"answer_id":74499988,"question_id":74497722,"body_markdown":"# Java 8 - [`Pattern.splitAsStream()`][splitAsStream]\r\n\r\nYou can split a `String` on *non-alphabetic* characters by using regular expression `&quot;^\\\\p{Alpha}+&quot;` (*captures one or more non-alphabetic character*) and Java 8 method `Pattern.splitAsStream()`. Which generates a Stream of elements identical to the ones produced by `String.split()`. The difference is that `Pattern.splitAsStream()` creates a stream directly from the regex engine **without** allocating an intermediate array in memory (which is an advantage).\r\n\r\n*There&#39;s one **edge-case**:* the very first element would be an empty string. It could happen, for instance, when there&#39;s a leading white space at the beginning of the string. Since we don&#39;t need it appear in the result, we can discard it using [`dropWhile()`][dropWhile].\r\n\r\n***Note** that the same issue would arise with* `String.split()` *used in another answer, where it&#39;s not handled.*\r\n\r\nThen to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use to discard such string.\r\n\r\nTo avoid recompiling the regex pattern multiple times, it makes sense to store in the static final variable.\r\n\r\n    public static final Pattern NON_ALPHA = Pattern.compile(&quot;[^\\\\p{Alpha}]+&quot;);\r\n\r\n```\r\nMap&lt;String, String&gt; colorsByKey = // initializing the map\r\n    \r\nString[] result = colorsByKey.entrySet().stream()\r\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\r\n    .flatMap(e -&gt; NON_ALPHA.splitAsStream(e.getValue()).dropWhile(String::isEmpty))\r\n    .toArray(String[]::new);\r\n```\r\n\r\n&lt;h3&gt;Note:&lt;/h3&gt;\r\n\r\nIn case if colors can contain white-spaces somewhere in the middle, i.e. there could be strings like `&quot;Red, Dark Blue&quot;`, which should result in colors `&quot;Red` and `&quot;DarkBlue&quot;`, you can change the pattern to `&quot;\\\\s*,\\\\s*&quot;` (*coma surrounded by optional white spaces*). And `map()` operation should be added to the pipeline to remove the white spaces from the middle of each string before collecting into the array:\r\n\r\n```\r\n.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\r\n``` \r\n\r\n# Java 9 - [`Matcher.results()`][results]\r\n\r\nAnother option is to capture sequences of *alphabetic characters* with a regular expression `&quot;\\\\p{Alpha}+&quot;` and using Java 9 method `Matcher.results()` generate a `Stream` of `MatchResult`s, which is an object containing information about the matching group of characters.\r\n\r\nTo extract the matching substring from a `MatchResult` we can use method [`MatchResult.group()`][group].\r\n\r\n    public static final Pattern ALPHA = Pattern.compile(&quot;\\\\p{Alpha}+&quot;);\r\n\r\n```\r\nMap&lt;String, String&gt; colorsByKey = // initializing the map\r\n    \r\nString[] result = colorsByKey.entrySet().stream()\r\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\r\n    .flatMap(e -&gt; ALPHA.matcher(e.getValue()).results())\r\n    .map(MatchResult::group)\r\n    .toArray(String[]::new);\r\n```\r\n\r\n&lt;h3&gt;Note:&lt;/h3&gt;\r\n\r\nAs it has been said in the note to previous solution, in case if strings like `&quot;Red, Dark Blue&quot;` are valid, the pattern needs to be changed, a possible option would be `&quot;[\\\\p{Alpha}\\\\p{Space}]+&quot;` (*white spaces and alphabetic character*). And similarly, `map()` operation should be added to the pipeline:\r\n\r\n```\r\n.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\r\n``` \r\n\r\n\r\n\r\n   [results]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\r\n\r\n   [splitAsStream]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\r\n\r\n   [dropWhile]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\r\n\r\n   [group]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#group()","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<h1>Java 8 - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Pattern.splitAsStream()</code></a></h1>\n<p>You can split a <code>String</code> on <em>non-alphabetic</em> characters by using regular expression <code>&quot;^\\\\p{Alpha}+&quot;</code> (<em>captures one or more non-alphabetic character</em>) and Java 8 method <code>Pattern.splitAsStream()</code>. Which generates a Stream of elements identical to the ones produced by <code>String.split()</code>. The difference is that <code>Pattern.splitAsStream()</code> creates a stream directly from the regex engine <strong>without</strong> allocating an intermediate array in memory (which is an advantage).</p>\n<p><em>There's one <strong>edge-case</strong>:</em> the very first element would be an empty string. It could happen, for instance, when there's a leading white space at the beginning of the string. Since we don't need it appear in the result, we can discard it using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>dropWhile()</code></a>.</p>\n<p><em><strong>Note</strong> that the same issue would arise with</em> <code>String.split()</code> <em>used in another answer, where it's not handled.</em></p>\n<p>Then to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use to discard such string.</p>\n<p>To avoid recompiling the regex pattern multiple times, it makes sense to store in the static final variable.</p>\n<pre><code>public static final Pattern NON_ALPHA = Pattern.compile(&quot;[^\\\\p{Alpha}]+&quot;);\n</code></pre>\n<pre><code>Map&lt;String, String&gt; colorsByKey = // initializing the map\n    \nString[] result = colorsByKey.entrySet().stream()\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\n    .flatMap(e -&gt; NON_ALPHA.splitAsStream(e.getValue()).dropWhile(String::isEmpty))\n    .toArray(String[]::new);\n</code></pre>\n<h3>Note:</h3>\n<p>In case if colors can contain white-spaces somewhere in the middle, i.e. there could be strings like <code>&quot;Red, Dark Blue&quot;</code>, which should result in colors <code>&quot;Red</code> and <code>&quot;DarkBlue&quot;</code>, you can change the pattern to <code>&quot;\\\\s*,\\\\s*&quot;</code> (<em>coma surrounded by optional white spaces</em>). And <code>map()</code> operation should be added to the pipeline to remove the white spaces from the middle of each string before collecting into the array:</p>\n<pre><code>.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\n</code></pre>\n<h1>Java 9 - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a></h1>\n<p>Another option is to capture sequences of <em>alphabetic characters</em> with a regular expression <code>&quot;\\\\p{Alpha}+&quot;</code> and using Java 9 method <code>Matcher.results()</code> generate a <code>Stream</code> of <code>MatchResult</code>s, which is an object containing information about the matching group of characters.</p>\n<p>To extract the matching substring from a <code>MatchResult</code> we can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#group()\" rel=\"nofollow noreferrer\"><code>MatchResult.group()</code></a>.</p>\n<pre><code>public static final Pattern ALPHA = Pattern.compile(&quot;\\\\p{Alpha}+&quot;);\n</code></pre>\n<pre><code>Map&lt;String, String&gt; colorsByKey = // initializing the map\n    \nString[] result = colorsByKey.entrySet().stream()\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\n    .flatMap(e -&gt; ALPHA.matcher(e.getValue()).results())\n    .map(MatchResult::group)\n    .toArray(String[]::new);\n</code></pre>\n<h3>Note:</h3>\n<p>As it has been said in the note to previous solution, in case if strings like <code>&quot;Red, Dark Blue&quot;</code> are valid, the pattern needs to be changed, a possible option would be <code>&quot;[\\\\p{Alpha}\\\\p{Space}]+&quot;</code> (<em>white spaces and alphabetic character</em>). And similarly, <code>map()</code> operation should be added to the pipeline:</p>\n<pre><code>.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\n</code></pre>\n"}],"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669045892,"creation_date":1668834888,"question_id":74497722,"body_markdown":"I have this below code:\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Demo {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String,  String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\r\n\r\n        map.entrySet()\r\n           .stream()\r\n           .filter(entrySet -&gt; entrySet.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n           .map(entrySet -&gt; entrySet.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;));\r\n    }\r\n}\r\n```\r\nAs you can see I am looking for a specific entry in the map and then extracting the value associated with that entry. The value is a String (i.e. `Red, Green, Blue, Purple`) and I require these comma-delimited colors as a String array. Also, I am removing any white space before splitting this String. Using Streams I was able to get this `Stream&lt;String[]&gt;` from the above code.\r\n\r\nBut ultimately I need a String array that contains these colors so can anyone tell me how I can collect a String array from this `Stream&lt;String[]&gt;`?\r\n\r\nAnd I want to use just streams, no `for` loop or enhanced `for` loop.","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<p>I have this below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        Map&lt;String,  String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\n\n        map.entrySet()\n           .stream()\n           .filter(entrySet -&gt; entrySet.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n           .map(entrySet -&gt; entrySet.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;));\n    }\n}\n</code></pre>\n<p>As you can see I am looking for a specific entry in the map and then extracting the value associated with that entry. The value is a String (i.e. <code>Red, Green, Blue, Purple</code>) and I require these comma-delimited colors as a String array. Also, I am removing any white space before splitting this String. Using Streams I was able to get this <code>Stream&lt;String[]&gt;</code> from the above code.</p>\n<p>But ultimately I need a String array that contains these colors so can anyone tell me how I can collect a String array from this <code>Stream&lt;String[]&gt;</code>?</p>\n<p>And I want to use just streams, no <code>for</code> loop or enhanced <code>for</code> loop.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1439765887,"post_id":32040720,"comment_id":51982035,"body_markdown":"Possible duplicate: [What does “Could not find or load main class” mean?](http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean).","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\">What does “Could not find or load main class” mean?</a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1439765890,"post_id":32040720,"comment_id":51982038,"body_markdown":"Anyway lets start from beginning. Did you check MANIFEST in the JAR file? Which class does it point as main-class? Based on error message it may look like it is `pl.baczkowicz.mqttspy.Main`. Does your Jar contain `pl/baczkowicz/mqttspy/Main.class` structure?","body":"Anyway lets start from beginning. Did you check MANIFEST in the JAR file? Which class does it point as main-class? Based on error message it may look like it is <code>pl.baczkowicz.mqttspy.Main</code>. Does your Jar contain <code>pl&#47;baczkowicz&#47;mqttspy&#47;Main.class</code> structure?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1439766058,"post_id":32040720,"comment_id":51982067,"body_markdown":"I&#39;ve downloaded the latest version (0.2.0) and works with no problems in my machine. Using HotSpot 1.8.0_45.","body":"I&#39;ve downloaded the latest version (0.2.0) and works with no problems in my machine. Using HotSpot 1.8.0_45."},{"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"score":0,"creation_date":1439766361,"post_id":32040720,"comment_id":51982126,"body_markdown":"Luiggi - thanks! At least that gives me some hope :)\nPshemo - In manifest: Main-Class: pl.baczkowicz.mqttspy.Main, after unpacking the jar i get to see the class file is there:\n`nathan@nthlx:~/mqtt-spy$ ls pl/baczkowicz/mqttspy/\n\napplication.css  connectivity  logger      scripts  tasks      utils\ncommon           events        Main.class  stats    testcases  versions\nconfiguration    exceptions    messages    storage  ui         xml`","body":"Luiggi - thanks! At least that gives me some hope :) Pshemo - In manifest: Main-Class: pl.baczkowicz.mqttspy.Main, after unpacking the jar i get to see the class file is there: <code>nathan@nthlx:~&#47;mqtt-spy$ ls pl&#47;baczkowicz&#47;mqttspy&#47;  application.css  connectivity  logger      scripts  tasks      utils common           events        Main.class  stats    testcases  versions configuration    exceptions    messages    storage  ui         xml</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1439766787,"post_id":32040720,"comment_id":51982211,"body_markdown":"After Luiggi&#39;s comment if you wouldn&#39;t have this structure and manifest it would simply mean you didn&#39;t download same file. Actually maybe it is worth checking if your file is not corrupted, so that Main.class couldn&#39;t be loaded properly. Did you try redownloading this jar, or downloading it from different location?","body":"After Luiggi&#39;s comment if you wouldn&#39;t have this structure and manifest it would simply mean you didn&#39;t download same file. Actually maybe it is worth checking if your file is not corrupted, so that Main.class couldn&#39;t be loaded properly. Did you try redownloading this jar, or downloading it from different location?"},{"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"score":0,"creation_date":1439766935,"post_id":32040720,"comment_id":51982239,"body_markdown":"Thanks for the advice. I downloaded the file using another link (there are 2 distinct on the page) and I get the same result. Also, if my download would be corrupted, I would probably get an error while extracting the contents of JAR file.","body":"Thanks for the advice. I downloaded the file using another link (there are 2 distinct on the page) and I get the same result. Also, if my download would be corrupted, I would probably get an error while extracting the contents of JAR file."},{"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"score":0,"creation_date":1439767045,"post_id":32040720,"comment_id":51982257,"body_markdown":"For all the friendly people out there - Yes, I have also tried re-booting my computer ;)","body":"For all the friendly people out there - Yes, I have also tried re-booting my computer ;)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1439767134,"post_id":32040720,"comment_id":51982271,"body_markdown":"Damn it. That was my next question https://www.youtube.com/watch?v=p85xwZ_OLX0. Anyway since I am not working on Ubuntu and don&#39;t have it installed I can&#39;t help you more with testing what went wrong. Sorry. For now try using `java -cp yourJar pl.baczkowicz.mqttspy.Main` and see if it helps.","body":"Damn it. That was my next question <a href=\"https://www.youtube.com/watch?v=p85xwZ_OLX0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=p85xwZ_OLX0</a>. Anyway since I am not working on Ubuntu and don&#39;t have it installed I can&#39;t help you more with testing what went wrong. Sorry. For now try using <code>java -cp yourJar pl.baczkowicz.mqttspy.Main</code> and see if it helps."},{"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"score":0,"creation_date":1439767463,"post_id":32040720,"comment_id":51982356,"body_markdown":"I have tried this option already. Thanks","body":"I have tried this option already. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439774064,"creation_date":1439774064,"answer_id":32041511,"question_id":32040720,"body_markdown":"The solution that worked in my case was to use HotSpot Java 8, from Oracle.","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>The solution that worked in my case was to use HotSpot Java 8, from Oracle.</p>\n"},{"tags":[],"owner":{"account_id":8648321,"reputation":36,"user_id":6474870,"display_name":"Ines"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1466084850,"creation_date":1466082951,"answer_id":37860415,"question_id":32040720,"body_markdown":"Thank you it was very helpful for me. I had exactly the same problem, and looking [the solution here as well](https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04)\r\n\r\nMy fix was:\r\n\r\n    sudo add-apt-repository ppa:webupd8team/java\r\n    \r\n    sudo apt-get update\r\n\r\nthen, install the JDK Oracle 8\r\n\r\n    sudo apt-get install oracle-java8-installer\r\n\r\nand then, checking java:\r\n\r\n\r\n    sudo update-alternatives --config java\r\n\r\nIt is displayed between other choices:\r\n\r\n\r\n     0            /usr/lib/jvm/java-8-oracle/jre/bin/java          1082 \r\n         auto mode\r\n    ......\r\n\r\nPress &lt;enter&gt; to keep the current choice`[*]`, or type selection number:  \r\n\r\nI keep the 0 current choice `[*]`\r\n\r\nthen, running mqttspy worked just fine :-)\r\n\r\n    java -jar mqtt-spy-0.5.1-jar-with-dependencies.jar\r\n\r\n","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>Thank you it was very helpful for me. I had exactly the same problem, and looking <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04\" rel=\"nofollow\">the solution here as well</a></p>\n\n<p>My fix was:</p>\n\n<pre><code>sudo add-apt-repository ppa:webupd8team/java\n\nsudo apt-get update\n</code></pre>\n\n<p>then, install the JDK Oracle 8</p>\n\n<pre><code>sudo apt-get install oracle-java8-installer\n</code></pre>\n\n<p>and then, checking java:</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>It is displayed between other choices:</p>\n\n<pre><code> 0            /usr/lib/jvm/java-8-oracle/jre/bin/java          1082 \n     auto mode\n......\n</code></pre>\n\n<p>Press  to keep the current choice<code>[*]</code>, or type selection number:  </p>\n\n<p>I keep the 0 current choice <code>[*]</code></p>\n\n<p>then, running mqttspy worked just fine :-)</p>\n\n<pre><code>java -jar mqtt-spy-0.5.1-jar-with-dependencies.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648244,"reputation":83,"user_id":1519329,"display_name":"MoreIT"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538564008,"creation_date":1485858673,"answer_id":41955262,"question_id":32040720,"body_markdown":"Additionally install Java FX, since this is required and worked for me (Ubuntu 16: package openfx):\r\n\r\n    apt install openjfx\r\n\r\nSee also this issue:\r\nhttps://github.com/kamilfb/mqtt-spy/issues/88\r\n\r\nI currently successfully run it on openjdk version &quot;1.8.0_121&quot; here.","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>Additionally install Java FX, since this is required and worked for me (Ubuntu 16: package openfx):</p>\n\n<pre><code>apt install openjfx\n</code></pre>\n\n<p>See also this issue:\n<a href=\"https://github.com/kamilfb/mqtt-spy/issues/88\" rel=\"nofollow noreferrer\">https://github.com/kamilfb/mqtt-spy/issues/88</a></p>\n\n<p>I currently successfully run it on openjdk version \"1.8.0_121\" here.</p>\n"},{"tags":[],"owner":{"account_id":12576631,"reputation":11,"user_id":9148833,"display_name":"Chandan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669045596,"creation_date":1669045596,"answer_id":74521490,"question_id":32040720,"body_markdown":"Just in case you have multiple java versions, you can run the jar file by giving the java file path as well.\r\n\r\n    brew install --cask liberica-jdk@17-full\r\n    brew install --cask liberica-jdk17-full\r\n    /Library/Java/JavaVirtualMachines/liberica-jdk-17-full.jdk/Contents/Home/bin/java -jar mqtt-spy-1.0.1-beta-b18-jar-with-dependencies.jar\r\n\r\n","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>Just in case you have multiple java versions, you can run the jar file by giving the java file path as well.</p>\n<pre><code>brew install --cask liberica-jdk@17-full\nbrew install --cask liberica-jdk17-full\n/Library/Java/JavaVirtualMachines/liberica-jdk-17-full.jdk/Contents/Home/bin/java -jar mqtt-spy-1.0.1-beta-b18-jar-with-dependencies.jar\n</code></pre>\n"}],"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3967,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37860415,"answer_count":4,"score":2,"last_activity_date":1669045596,"creation_date":1439765635,"question_id":32040720,"body_markdown":"I have seen this question asked so many times, but there was no precise answer to my problem. My story is simple - I downloaded a legitimate JAR file, for a functioning and advertised application, from here: https://github.com/kamilfb/mqtt-spy/wiki/Downloads.\r\n\r\nThe application brings the obvious instruction to start it as &lt;code&gt;java -jar mqtt-spy-0.2.0-jar-with-dependencies.jar&lt;/code&gt; but that results in the well known error, being in my case &lt;code&gt;Error: Could not find or load main class pl.baczkowicz.mqttspy.Main&lt;/code&gt;\r\n\r\nMy system is Ubuntu 15.04, Java version is\r\n&lt;code&gt;openjdk version &quot;1.8.0_45-internal&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_45-internal-b14)\r\nOpenJDK 64-Bit Server VM (build 25.45-b02, mixed mode)&lt;/code&gt;\r\n\r\nI don&#39;t have another computer to test it elsewhere. I did some checks and the JAR file looks pretty much normal. I even tried de-compressing it and running the class directly, it won&#39;t budge, same error message. I tried some online .class analysis tools, nothing caught my attention. Also I reviewed about a dozen of pages referring to &quot;Could not find or load&quot; problem. No luck so far.\r\n\r\nNot sure if anyone bothers, but I did my Java Programmers certification with Sun yet in 2005... and I feel frustrated now. While I hope there is an easy solution for my problem, e.g. some nice Ubuntu issue ;-), I am ready to dig deeper, and looking for any hints that would guide me to finding the root cause of  this issue.\r\n","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>I have seen this question asked so many times, but there was no precise answer to my problem. My story is simple - I downloaded a legitimate JAR file, for a functioning and advertised application, from here: <a href=\"https://github.com/kamilfb/mqtt-spy/wiki/Downloads\" rel=\"nofollow\">https://github.com/kamilfb/mqtt-spy/wiki/Downloads</a>.</p>\n\n<p>The application brings the obvious instruction to start it as <code>java -jar mqtt-spy-0.2.0-jar-with-dependencies.jar</code> but that results in the well known error, being in my case <code>Error: Could not find or load main class pl.baczkowicz.mqttspy.Main</code></p>\n\n<p>My system is Ubuntu 15.04, Java version is\n<code>openjdk version \"1.8.0_45-internal\"\nOpenJDK Runtime Environment (build 1.8.0_45-internal-b14)\nOpenJDK 64-Bit Server VM (build 25.45-b02, mixed mode)</code></p>\n\n<p>I don't have another computer to test it elsewhere. I did some checks and the JAR file looks pretty much normal. I even tried de-compressing it and running the class directly, it won't budge, same error message. I tried some online .class analysis tools, nothing caught my attention. Also I reviewed about a dozen of pages referring to \"Could not find or load\" problem. No luck so far.</p>\n\n<p>Not sure if anyone bothers, but I did my Java Programmers certification with Sun yet in 2005... and I feel frustrated now. While I hope there is an easy solution for my problem, e.g. some nice Ubuntu issue ;-), I am ready to dig deeper, and looking for any hints that would guide me to finding the root cause of  this issue.</p>\n"},{"tags":["java","unit-testing","groovy","enums","spock"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1669041563,"post_id":74518038,"comment_id":131546487,"body_markdown":"&quot; want to assert each employeeType name() and employeeTypeId here&quot; - What assertion would you like to make about each of them?","body":"&quot; want to assert each employeeType name() and employeeTypeId here&quot; - What assertion would you like to make about each of them?"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1669042802,"post_id":74518038,"comment_id":131546989,"body_markdown":"employeeType.name() == &#39;PERMANENT&#39; employeeType.employeeTypeId == &#39;10&#39; like this I want to assert the every employeeType","body":"employeeType.name() == &#39;PERMANENT&#39; employeeType.employeeTypeId == &#39;10&#39; like this I want to assert the every employeeType"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1669042921,"post_id":74518038,"comment_id":131547034,"body_markdown":"Why is it that you want to test `name()`?","body":"Why is it that you want to test <code>name()</code>?"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1669043051,"post_id":74518038,"comment_id":131547081,"body_markdown":"not specifically name(). want to assert every property of the each enum","body":"not specifically name(). want to assert every property of the each enum"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1669043150,"post_id":74518038,"comment_id":131547125,"body_markdown":"I wouldn&#39;t use `.value()` in the `where` block to test the sort of thing you are talking about testing.  I would probably write the test like `EmployeeType.PERMANENT. employeeTypeId == &#39;10&#39;` etc.","body":"I wouldn&#39;t use <code>.value()</code> in the <code>where</code> block to test the sort of thing you are talking about testing.  I would probably write the test like <code>EmployeeType.PERMANENT. employeeTypeId == &#39;10&#39;</code> etc."},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1669043467,"post_id":74518038,"comment_id":131547243,"body_markdown":"got your point. instead of doing this EmployeeType.PERMANENT. employeeTypeId == &#39;10&#39;, I am trying to find the solution with where block to test the each enum values","body":"got your point. instead of doing this EmployeeType.PERMANENT. employeeTypeId == &#39;10&#39;, I am trying to find the solution with where block to test the each enum values"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1669043784,"post_id":74518038,"comment_id":131547370,"body_markdown":"&quot;I am trying to find the solution with where block to test the each enum values&quot; - I understand.  The reason I didn&#39;t post my comment as an answer is it doesn&#39;t tell you how to do that.  I am saying that doing that probably isn&#39;t a good idea.","body":"&quot;I am trying to find the solution with where block to test the each enum values&quot; - I understand.  The reason I didn&#39;t post my comment as an answer is it doesn&#39;t tell you how to do that.  I am saying that doing that probably isn&#39;t a good idea."}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669045427,"creation_date":1669045427,"answer_id":74521450,"question_id":74518038,"body_markdown":"Something like this will probably end up making more sense than `employeeType &lt;&lt; EmployeeType.values()`:\r\n\r\n\r\n    def &quot;Test enum values&quot;() {\r\n        expect:\r\n        value.employeeTypeId == typeId\r\n\r\n        where:\r\n        // could have more columns here if the enum\r\n        // had more properties...\r\n        value                  | typeId\r\n        EmployeeType.PERMANENT | &#39;10&#39;\r\n        EmployeeType.TEMPORARY | &#39;20&#39;\r\n        EmployeeType.PART_TIME | &#39;30&#39;\r\n    }","title":"How to add unit test for enum in spock?","body":"<p>Something like this will probably end up making more sense than <code>employeeType &lt;&lt; EmployeeType.values()</code>:</p>\n<pre><code>def &quot;Test enum values&quot;() {\n    expect:\n    value.employeeTypeId == typeId\n\n    where:\n    // could have more columns here if the enum\n    // had more properties...\n    value                  | typeId\n    EmployeeType.PERMANENT | '10'\n    EmployeeType.TEMPORARY | '20'\n    EmployeeType.PART_TIME | '30'\n}\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521450,"answer_count":1,"score":0,"last_activity_date":1669045427,"creation_date":1669029234,"question_id":74518038,"body_markdown":"I am having below enum class\r\n\r\n```\r\npublic enum EmployeeType {\r\n\r\n    PERMANENT(&quot;10&quot;),\r\n    TEMPORARY(&quot;20&quot;),\r\n    PART_TIME(&quot;30&quot;);\r\n\r\n    private final String employeeTypeId;\r\n\r\n    EmployeeType(final String employeeTypeId) {\r\n        this.employeeTypeId = employeeTypeId;\r\n    }\r\n\r\n    public String getEmployeeTypeId() {\r\n        return employeeTypeId;\r\n    }\r\n}\r\n```\r\n\r\nTrying with below spec \r\n\r\n```\r\nclass EmployeeTypeSpec extends Specification {\r\n    \r\n    @Unroll\r\n    def &quot;validate emp type&quot;(EmployeeType employeeType) {\r\n        expect:\r\n        // want to assert each employeeType name() and employeeTypeId here\r\n        employeeType.name()\r\n        employeeType.employeeTypeId\r\n\r\n        where:\r\n        employeeType &lt;&lt; EmployeeType.values()\r\n    }\r\n}\r\n```\r\n\r\nHere, I am passing each enum values using values() method. but not sure how to assert the name and employeeTypeId for each enums?","title":"How to add unit test for enum in spock?","body":"<p>I am having below enum class</p>\n<pre><code>public enum EmployeeType {\n\n    PERMANENT(&quot;10&quot;),\n    TEMPORARY(&quot;20&quot;),\n    PART_TIME(&quot;30&quot;);\n\n    private final String employeeTypeId;\n\n    EmployeeType(final String employeeTypeId) {\n        this.employeeTypeId = employeeTypeId;\n    }\n\n    public String getEmployeeTypeId() {\n        return employeeTypeId;\n    }\n}\n</code></pre>\n<p>Trying with below spec</p>\n<pre><code>class EmployeeTypeSpec extends Specification {\n    \n    @Unroll\n    def &quot;validate emp type&quot;(EmployeeType employeeType) {\n        expect:\n        // want to assert each employeeType name() and employeeTypeId here\n        employeeType.name()\n        employeeType.employeeTypeId\n\n        where:\n        employeeType &lt;&lt; EmployeeType.values()\n    }\n}\n</code></pre>\n<p>Here, I am passing each enum values using values() method. but not sure how to assert the name and employeeTypeId for each enums?</p>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668886734,"creation_date":1668886734,"answer_id":74503091,"question_id":74501655,"body_markdown":"You may have to continue the same way.  This means, you would have to\r\nswitch to the `dark` variant too in your theme.\r\n\r\nE.g. add `@Theme(value = &#39;app-theme&#39;, variant = &quot;dark&quot;)` and then add in\r\nyour `frontend/themes/app-theme/styles.css` something like:\r\n\r\n```css\r\n[theme~=&quot;dark&quot;] {\r\n    --lumo-base-color: hsl(0, 0%, 0%);\r\n    --lumo-primary-color: hsl(122, 96%, 47%);\r\n    --lumo-primary-color-50pct: hsl(122, 96%, 47%, 0.5);\r\n    --lumo-primary-color-10pct: hsl(122, 96%, 47%, 0.1);\r\n}\r\n```\r\n\r\nThen continue to do so for the components (add `[theme~=&quot;dark&quot;]`); you\r\nmight want to have a peek at the browser dev-console to make sure, you\r\nare getting the overrides right.\r\n\r\nYou could start from the dark theme `--lumo...` vars in your own theme\r\nand hope, that the calculations work down all the way; but there are\r\noptimizations for `dark` all over the place, and IMHO you are better off\r\ndoing it this way.\r\n","title":"How to set lumo dark theme as base theme and then override using custom theme","body":"<p>You may have to continue the same way.  This means, you would have to\nswitch to the <code>dark</code> variant too in your theme.</p>\n<p>E.g. add <code>@Theme(value = 'app-theme', variant = &quot;dark&quot;)</code> and then add in\nyour <code>frontend/themes/app-theme/styles.css</code> something like:</p>\n<pre class=\"lang-css prettyprint-override\"><code>[theme~=&quot;dark&quot;] {\n    --lumo-base-color: hsl(0, 0%, 0%);\n    --lumo-primary-color: hsl(122, 96%, 47%);\n    --lumo-primary-color-50pct: hsl(122, 96%, 47%, 0.5);\n    --lumo-primary-color-10pct: hsl(122, 96%, 47%, 0.1);\n}\n</code></pre>\n<p>Then continue to do so for the components (add <code>[theme~=&quot;dark&quot;]</code>); you\nmight want to have a peek at the browser dev-console to make sure, you\nare getting the overrides right.</p>\n<p>You could start from the dark theme <code>--lumo...</code> vars in your own theme\nand hope, that the calculations work down all the way; but there are\noptimizations for <code>dark</code> all over the place, and IMHO you are better off\ndoing it this way.</p>\n"}],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74503091,"answer_count":1,"score":0,"last_activity_date":1669045383,"creation_date":1668874691,"question_id":74501655,"body_markdown":"I want to have lumo dark theme as default theme and then in some aspect modify components using my custom theme. I have the theme set using `@Theme(&quot;myTheme&quot;)` and I think it should be possible to set parent theme using `theme.json` and setting the parent parameter but I cannot find out if this is correct or how to do this properly.\r\n\r\nEDIT: I followed the advice from the accepted answer and here is the resulting &quot;dark&quot; theme containing the exact same values for lumo-dark:\r\n\r\n    html {\r\n        /* Base (background) */\r\n        --lumo-base-color: hsl(214, 35%, 21%);\r\n    \r\n        /* Tint */\r\n        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\r\n        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\r\n        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\r\n        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\r\n        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\r\n        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\r\n        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.58);\r\n        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.69);\r\n        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\r\n        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\r\n        --lumo-tint: hsl(214, 100%, 98%);\r\n    \r\n        /* Shade */\r\n        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\r\n        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\r\n        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\r\n        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\r\n        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\r\n        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\r\n        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\r\n        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\r\n        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\r\n        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\r\n        --lumo-shade: hsl(214, 33%, 13%);\r\n    \r\n        /* Contrast */\r\n        --lumo-contrast-5pct: var(--lumo-tint-5pct);\r\n        --lumo-contrast-10pct: var(--lumo-tint-10pct);\r\n        --lumo-contrast-20pct: var(--lumo-tint-20pct);\r\n        --lumo-contrast-30pct: var(--lumo-tint-30pct);\r\n        --lumo-contrast-40pct: var(--lumo-tint-40pct);\r\n        --lumo-contrast-50pct: var(--lumo-tint-50pct);\r\n        --lumo-contrast-60pct: var(--lumo-tint-60pct);\r\n        --lumo-contrast-70pct: var(--lumo-tint-70pct);\r\n        --lumo-contrast-80pct: var(--lumo-tint-80pct);\r\n        --lumo-contrast-90pct: var(--lumo-tint-90pct);\r\n        --lumo-contrast: var(--lumo-tint);\r\n    \r\n        /* Text */\r\n        --lumo-header-text-color: var(--lumo-contrast);\r\n        --lumo-body-text-color: var(--lumo-contrast-90pct);\r\n        --lumo-secondary-text-color: var(--lumo-contrast-70pct);\r\n        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\r\n        --lumo-disabled-text-color: var(--lumo-contrast-30pct);\r\n    \r\n        /* Primary */\r\n        --lumo-primary-color: hsl(214, 90%, 48%);\r\n        --lumo-primary-color-50pct: hsla(214, 90%, 70%, 0.69);\r\n        --lumo-primary-color-10pct: hsla(214, 90%, 55%, 0.13);\r\n        --lumo-primary-text-color: hsl(214, 90%, 77%);\r\n        --lumo-primary-contrast-color: #fff;\r\n    \r\n        /* Error */\r\n        --lumo-error-color: hsl(3, 79%, 49%);\r\n        --lumo-error-color-50pct: hsla(3, 75%, 62%, 0.5);\r\n        --lumo-error-color-10pct: hsla(3, 75%, 62%, 0.14);\r\n        --lumo-error-text-color: hsl(3, 100%, 80%);\r\n    \r\n        /* Success */\r\n        --lumo-success-color: hsl(145, 72%, 30%);\r\n        --lumo-success-color-50pct: hsla(145, 92%, 51%, 0.5);\r\n        --lumo-success-color-10pct: hsla(145, 92%, 51%, 0.1);\r\n        --lumo-success-text-color: hsl(145, 85%, 46%);\r\n    }","title":"How to set lumo dark theme as base theme and then override using custom theme","body":"<p>I want to have lumo dark theme as default theme and then in some aspect modify components using my custom theme. I have the theme set using <code>@Theme(&quot;myTheme&quot;)</code> and I think it should be possible to set parent theme using <code>theme.json</code> and setting the parent parameter but I cannot find out if this is correct or how to do this properly.</p>\n<p>EDIT: I followed the advice from the accepted answer and here is the resulting &quot;dark&quot; theme containing the exact same values for lumo-dark:</p>\n<pre><code>html {\n    /* Base (background) */\n    --lumo-base-color: hsl(214, 35%, 21%);\n\n    /* Tint */\n    --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n    --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n    --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n    --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n    --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n    --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n    --lumo-tint-60pct: hsla(214, 82%, 90%, 0.58);\n    --lumo-tint-70pct: hsla(214, 87%, 92%, 0.69);\n    --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n    --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n    --lumo-tint: hsl(214, 100%, 98%);\n\n    /* Shade */\n    --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n    --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n    --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n    --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n    --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n    --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n    --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n    --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n    --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n    --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n    --lumo-shade: hsl(214, 33%, 13%);\n\n    /* Contrast */\n    --lumo-contrast-5pct: var(--lumo-tint-5pct);\n    --lumo-contrast-10pct: var(--lumo-tint-10pct);\n    --lumo-contrast-20pct: var(--lumo-tint-20pct);\n    --lumo-contrast-30pct: var(--lumo-tint-30pct);\n    --lumo-contrast-40pct: var(--lumo-tint-40pct);\n    --lumo-contrast-50pct: var(--lumo-tint-50pct);\n    --lumo-contrast-60pct: var(--lumo-tint-60pct);\n    --lumo-contrast-70pct: var(--lumo-tint-70pct);\n    --lumo-contrast-80pct: var(--lumo-tint-80pct);\n    --lumo-contrast-90pct: var(--lumo-tint-90pct);\n    --lumo-contrast: var(--lumo-tint);\n\n    /* Text */\n    --lumo-header-text-color: var(--lumo-contrast);\n    --lumo-body-text-color: var(--lumo-contrast-90pct);\n    --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n    --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n    /* Primary */\n    --lumo-primary-color: hsl(214, 90%, 48%);\n    --lumo-primary-color-50pct: hsla(214, 90%, 70%, 0.69);\n    --lumo-primary-color-10pct: hsla(214, 90%, 55%, 0.13);\n    --lumo-primary-text-color: hsl(214, 90%, 77%);\n    --lumo-primary-contrast-color: #fff;\n\n    /* Error */\n    --lumo-error-color: hsl(3, 79%, 49%);\n    --lumo-error-color-50pct: hsla(3, 75%, 62%, 0.5);\n    --lumo-error-color-10pct: hsla(3, 75%, 62%, 0.14);\n    --lumo-error-text-color: hsl(3, 100%, 80%);\n\n    /* Success */\n    --lumo-success-color: hsl(145, 72%, 30%);\n    --lumo-success-color-50pct: hsla(145, 92%, 51%, 0.5);\n    --lumo-success-color-10pct: hsla(145, 92%, 51%, 0.1);\n    --lumo-success-text-color: hsl(145, 85%, 46%);\n}\n</code></pre>\n"},{"tags":["java","c","random"],"comments":[{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":0,"creation_date":1669027307,"post_id":74517483,"comment_id":131541371,"body_markdown":"You should [edit] your question and explain your algorithm. Tell us the purpose of the code, not what it does. I think it is way too complicated, and `(x + y ) % 0x100000000` should be sufficient. For the modulo operation you need 1 more than the maximum value of a `uint32_t`: `0x100000000` or `4294967296`. The same for the multiplication: `(x * y) % 0x100000000`, or combined `(next * 1103515245 + 12345) % 0x100000000`.","body":"You should <a href=\"https://stackoverflow.com/posts/74517483/edit\">edit</a> your question and explain your algorithm. Tell us the purpose of the code, not what it does. I think it is way too complicated, and <code>(x + y ) % 0x100000000</code> should be sufficient. For the modulo operation you need 1 more than the maximum value of a <code>uint32_t</code>: <code>0x100000000</code> or <code>4294967296</code>. The same for the multiplication: <code>(x * y) % 0x100000000</code>, or combined <code>(next * 1103515245 + 12345) % 0x100000000</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669029205,"post_id":74517483,"comment_id":131541996,"body_markdown":"Or use bitwise and","body":"Or use bitwise and"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669045689,"post_id":74517483,"comment_id":131548156,"body_markdown":"Java can simulate an unsigned int by basically covering your eyes and ears and pretending the sign bit is just a normal bit. The mathematics will work out the same and can be displayed using `Integer#toUnsignedString`. Alternatively, you can just use a `long` if you&#39;re okay with a little extra memory cost.","body":"Java can simulate an unsigned int by basically covering your eyes and ears and pretending the sign bit is just a normal bit. The mathematics will work out the same and can be displayed using <code>Integer#toUnsignedString</code>. Alternatively, you can just use a <code>long</code> if you&#39;re okay with a little extra memory cost."}],"answers":[{"tags":[],"owner":{"account_id":1437198,"reputation":15509,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669045372,"creation_date":1669045372,"answer_id":74521437,"question_id":74517483,"body_markdown":"You don&#39;t actually need to do much.  The way Java represents integers means that those operations will overflow to the same value as in C.  It&#39;s just that the return value would need to be converted to `long` in order not to get negative values out (i.e. due to its use of [two&#39;s complement](https://en.wikipedia.org/wiki/Two%27s_complement) integers).\r\n\r\n```\r\nclass RandC {\r\n    private static int state = 1;\r\n\r\n    public static long next() {\r\n        state = state * 1103515245 + 12345;\r\n        return state &amp; 0xffffffffl;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        System.out.println(next());\r\n        System.out.println(next());\r\n        System.out.println(next());\r\n    }\r\n}\r\n```\r\ngives me:\r\n```none\r\n1103527590\r\n2524885223\r\n662824084\r\n```\r\nwhich are the values I&#39;d expect.\r\n","title":"How to port this C &quot;Random generator&quot; code to Java?","body":"<p>You don't actually need to do much.  The way Java represents integers means that those operations will overflow to the same value as in C.  It's just that the return value would need to be converted to <code>long</code> in order not to get negative values out (i.e. due to its use of <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's complement</a> integers).</p>\n<pre><code>class RandC {\n    private static int state = 1;\n\n    public static long next() {\n        state = state * 1103515245 + 12345;\n        return state &amp; 0xffffffffl;\n    }\n\n    public static void main(String args[]) {\n        System.out.println(next());\n        System.out.println(next());\n        System.out.println(next());\n    }\n}\n</code></pre>\n<p>gives me:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1103527590\n2524885223\n662824084\n</code></pre>\n<p>which are the values I'd expect.</p>\n"}],"owner":{"account_id":21688526,"reputation":53,"user_id":16075374,"display_name":"Heil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669045372,"creation_date":1669026619,"question_id":74517483,"body_markdown":"It&#39;s a pretty simple code, but I do not know what to do about the unsigned int, since java does not have unsigned int.  Is there a way to &quot;simulate&quot; an unsigned int in Java?\r\n\r\n```\r\n\tuint32_t myrand() {\r\n\t\tstatic uint32_t next = 1;\r\n\t\tnext = next * 1103515245 + 12345;\r\n\t\treturn next;\r\n\t}\r\n```\r\n\r\nHow can I create a method in java that will return the same values? What to do about the unsigned int?\r\n\r\nI coded a form to handle the summation problem, but the did not come up with a solution to the multiplication part.\r\n\r\nThe limit is the limit of the unsigned int (4294967295).\r\n\r\nMy algorithm basically whenever the summation is equal to 4294967296 it turns into 0 e starts all over again.\r\n\r\n```\r\n\r\n\tpublic long add(long x, long y) {\r\n\r\n\t\tlong result = 0L;\r\n\r\n\t\tif (x + y &lt; this.limit) {\r\n\r\n\t\t\tif ((x + y) % this.limit == 0) {\r\n\t\t\t\tresult = (x + y) / 2;\r\n\t\t\t} else {\r\n\t\t\t\tresult = (x + y) % this.limit;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ((x + y) % this.limit == 0) {\r\n\t\t\t\tresult = (x + y) / (Math.max(x, y) / Math.min(x, y)) - 1;\r\n\t\t\t} else {\r\n\t\t\t\tresult = (x + y) % this.limit - 1;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n```","title":"How to port this C &quot;Random generator&quot; code to Java?","body":"<p>It's a pretty simple code, but I do not know what to do about the unsigned int, since java does not have unsigned int.  Is there a way to &quot;simulate&quot; an unsigned int in Java?</p>\n<pre><code>    uint32_t myrand() {\n        static uint32_t next = 1;\n        next = next * 1103515245 + 12345;\n        return next;\n    }\n</code></pre>\n<p>How can I create a method in java that will return the same values? What to do about the unsigned int?</p>\n<p>I coded a form to handle the summation problem, but the did not come up with a solution to the multiplication part.</p>\n<p>The limit is the limit of the unsigned int (4294967295).</p>\n<p>My algorithm basically whenever the summation is equal to 4294967296 it turns into 0 e starts all over again.</p>\n<pre><code>\n    public long add(long x, long y) {\n\n        long result = 0L;\n\n        if (x + y &lt; this.limit) {\n\n            if ((x + y) % this.limit == 0) {\n                result = (x + y) / 2;\n            } else {\n                result = (x + y) % this.limit;\n            }\n\n        } else {\n\n            if ((x + y) % this.limit == 0) {\n                result = (x + y) / (Math.max(x, y) / Math.min(x, y)) - 1;\n            } else {\n                result = (x + y) % this.limit - 1;\n            }\n\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","null","annotations"],"comments":[{"owner":{"account_id":25113175,"reputation":321,"user_id":18962551,"display_name":"Eskapone"},"score":0,"creation_date":1669042182,"post_id":74520668,"comment_id":131546740,"body_markdown":"Marking a parameter with as not nullable isn&#39;t done for no reason. Another dev deciding to misuse your code should be out of discussion. But someone maybe overlooking it will find a precise error message very helpful.\nIn the end it&#39;s a preference, but I&#39;d go with checking it and throwing an exception with a fitting message so it&#39;s transparent and clear.","body":"Marking a parameter with as not nullable isn&#39;t done for no reason. Another dev deciding to misuse your code should be out of discussion. But someone maybe overlooking it will find a precise error message very helpful. In the end it&#39;s a preference, but I&#39;d go with checking it and throwing an exception with a fitting message so it&#39;s transparent and clear."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1669042695,"post_id":74520668,"comment_id":131546953,"body_markdown":"You always only want to handle `null` where it *makes sense*. That is mostly on application boundaries. I.e. when providing or consuming an API. There you want to validate and check for `null` (and possibly other stuff). But internally you can probably drop all the `null` checks. As you&#39;re the one that&#39;s developing the code base and you know best whether null can happen or not. So using an annotation is fine. Just the enforcement is not necessary everywhere","body":"You always only want to handle <code>null</code> where it <i>makes sense</i>. That is mostly on application boundaries. I.e. when providing or consuming an API. There you want to validate and check for <code>null</code> (and possibly other stuff). But internally you can probably drop all the <code>null</code> checks. As you&#39;re the one that&#39;s developing the code base and you know best whether null can happen or not. So using an annotation is fine. Just the enforcement is not necessary everywhere"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1669042725,"post_id":74520668,"comment_id":131546964,"body_markdown":"Also you may want to have a look at `java.util.Objects.requireNonNull(Object)` which is a *handy* one liner for explicit null checks","body":"Also you may want to have a look at <code>java.util.Objects.requireNonNull(Object)</code> which is a <i>handy</i> one liner for explicit null checks"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669044987,"creation_date":1669044987,"answer_id":74521341,"question_id":74520668,"body_markdown":"This is an unsolved problem in the nullity annotation space. There are 2 viewpoints that sound identical but result, in fact, in the exact opposite. Given a parameter `void foo(@NonNull String param)`, what does that imply?\r\n\r\n* It&#39;s compiler-checkable documentation that indicates you _should not_ pass `null` as `param` here. It does not mean that it is impossible to do this, or that one ought to consider it impossible. Simply that one should not - it&#39;s compiler-checkable documentation that the method has no defined useful behaviour if you pass `null` here.\r\n* The compiler is extended to support these annotations to treat it as a single type - the type of `param` is `@NonNull String` - and the compiler knows what that means and will in fact ensure this. The type of the parameter is `@NonNull String` and therefore __cannot__ be `null`, just like it can&#39;t be, say, an InputStream instance either.\r\n\r\nCrucially, then, the latter means __a `null` check is flagged as silly code__, whereas the former means ___lack_ of a `null` check is marked as bad__. Hence, opposites. The former considered a nullcheck a warnable offense (with something along the lines of _`param` can never be `null` here_), for the same reason this is silly code:\r\n\r\n```\r\nvoid foo(String arg) {\r\n  if (!(arg instanceof String)) throw new IllegalArgumentException(&quot;arg&quot;);\r\n}\r\n```\r\n\r\nThat if clause cannot possibly fire. The mindset of various nullchecker frameworks is identical here, and therefore flags it as silly code:\r\n\r\n```\r\nvoid foo(@NonNull String arg) {\r\n  if (arg == null) throw new NullPointerException(&quot;arg&quot;);\r\n}\r\n```\r\n\r\nThe simple fact is, plenty of java devs do not enable annotation-based nullity checking, and even if they did, there are at least 10 competing annotations and many of them mean completely different things, and work completely differently. The vast majority will not be using a checking framework that works as you think it should, therefore, _the advice to remove the nullcheck because it is silly is actively __a bad thing___ - you _should_ add that nullcheck. The linting tools that flag this down are misguided; they want to pretend to live in a world where every java programmer on the planet uses their tool. This isn&#39;t try and is unlikely to ever become true, hence, wrong.\r\n\r\nA few null checking frameworks are sort of living both lives and will allow you to test if an argument marked as `@NonNull` is `null`, but only if the `if` body starts with `throw`, otherwise it&#39;s flagged.\r\n\r\nTo answer your questions:\r\n\r\n* You _should_ nullcheck. After all, other developers that use your code may not get the nullity warnings from the nullcheck tool (either other team members working on the same code base but using slightly different tools and/or configurations of those tools, _or_, your code is a library and another project uses it, a more obvious route to a situation with different tools/configs). The best way to handle a null failure is a compile time error. A close second is an exception that is clear about the problem and whose stack trace can be used to very quickly solve the bug. A distant third is random bizarreness that takes a whole to debug - and that explicit nullcheck means you get nice fallback: If for whatever reason the write-time tooling doesn&#39;t catch the problem, the check will then simply turn it into the second, still quite acceptable case of an exception at the point of failure that is clear about what happened and where to fix it.\r\n\r\n* Lombok&#39;s [`@NonNull`](https://projectlombok.org/features/NonNull) annotation can generate it for you, if you want. Now you have the best of both worlds: Just a `@NonNull` annotation (no clutter) and yet a runtime exception if someone does pass null anyway (DISCLAIMER: I&#39;m one of the core contributors to Lombok).\r\n\r\n* If your linting tool complains about &#39;pointless null check&#39; on the line `if (param == null) throw new NullPointerException(&quot;param&quot;);`, find the option in the linting tool to exclude if-checks that result in `throw` statements. If the linting tool cannot be configured to ignore this case, __do not use the linting tool__, find a better one.\r\n\r\n* Note that modern JVMs will throw a NullPointerException _with_ the name of the expression as message if you dereference a null pointer, which may obviate the need to write an explicit check. However, now you&#39;re dependent on that method always dereferencing that variable forever more; if ever someone changes it and e.g. assigns it to a field and returns, now you have a problem: It should have thrown the exception, in order to ensure the bug is found quickly and with an exception that explains what happened and where to go and fix the problem. Hence I wouldn&#39;t rely on the JVM feature for your NPEs.\r\n\r\n* Error messages should be as short as they can be whilst not skimping on detail. They should also not end in punctuation; especially exclamation marks. Every exception tends to be noteworthy enough to warrant an exclamation mark - but it gets tedious to read them, so __do not__ add them. In fact, the proper thing to throw, is this: `throw new NullPointerException(&quot;o&quot;)`. - and you might want to rename that parameter to something more readable if you find `o` ugly. Parameters are mostly public API info (JVM-technically they are not, but javadoc does include them, which is the basis of API docs, so you should consider them public, and therefore, they should have clear names. Which you can then reuse). That exception conveys all relevant information to a programmer: The nature of the problem (`null` was sent to code that does not know how to handle this), and where (the stack trace does that automatically), and the specifics (which thing was `null`). Your message is much longer and doesn&#39;t add anything more. At best you can say your message might be understood by a non-coder, except this is both not true (as if a stack trace is something random joe computeruser is going to understand), and irrelevant (it&#39;s not like they can fix the problem even if they do know what it means). Using exception messages as UI output just doesn&#39;t work, so don&#39;t try.\r\n\r\n* You may want to adjust your style guides and allow braceless `if` statements provided that the `if` expression is simple (no `&amp;&amp;` or `||`). Possibly add an additional rule that the single statement is a control statement - `break;`, `continue;`, `return (something);`, or `throw something;`. This will significantly improve readability for multiparams. The point of a style guide is to create legible code. Surely this:\r\n\r\n```\r\nif (param1 == null) throw new NullPointerException(&quot;param1&quot;);\r\nif (param2 == null) throw new NullPointerException(&quot;param2&quot;);\r\n```\r\n\r\nis far more legible, especially considering this method has more lines than just those two, than this:\r\n\r\n```\r\nif (param1 == null) {\r\n  throw new NullPointerException(&quot;param1&quot;);\r\n}\r\n\r\nif (param2 == null) {\r\n  throw new NullPointerException(&quot;param2&quot;);\r\n}\r\n```\r\n\r\nStyleguides are just a tool. If your styleguide is leading to less productivity and harder to read code, the answer should be obvious. Fix or replace the tool.","title":"Handling null, even if annotations are used","body":"<p>This is an unsolved problem in the nullity annotation space. There are 2 viewpoints that sound identical but result, in fact, in the exact opposite. Given a parameter <code>void foo(@NonNull String param)</code>, what does that imply?</p>\n<ul>\n<li>It's compiler-checkable documentation that indicates you <em>should not</em> pass <code>null</code> as <code>param</code> here. It does not mean that it is impossible to do this, or that one ought to consider it impossible. Simply that one should not - it's compiler-checkable documentation that the method has no defined useful behaviour if you pass <code>null</code> here.</li>\n<li>The compiler is extended to support these annotations to treat it as a single type - the type of <code>param</code> is <code>@NonNull String</code> - and the compiler knows what that means and will in fact ensure this. The type of the parameter is <code>@NonNull String</code> and therefore <strong>cannot</strong> be <code>null</code>, just like it can't be, say, an InputStream instance either.</li>\n</ul>\n<p>Crucially, then, the latter means <strong>a <code>null</code> check is flagged as silly code</strong>, whereas the former means <strong><em>lack</em> of a <code>null</code> check is marked as bad</strong>. Hence, opposites. The former considered a nullcheck a warnable offense (with something along the lines of <em><code>param</code> can never be <code>null</code> here</em>), for the same reason this is silly code:</p>\n<pre><code>void foo(String arg) {\n  if (!(arg instanceof String)) throw new IllegalArgumentException(&quot;arg&quot;);\n}\n</code></pre>\n<p>That if clause cannot possibly fire. The mindset of various nullchecker frameworks is identical here, and therefore flags it as silly code:</p>\n<pre><code>void foo(@NonNull String arg) {\n  if (arg == null) throw new NullPointerException(&quot;arg&quot;);\n}\n</code></pre>\n<p>The simple fact is, plenty of java devs do not enable annotation-based nullity checking, and even if they did, there are at least 10 competing annotations and many of them mean completely different things, and work completely differently. The vast majority will not be using a checking framework that works as you think it should, therefore, <em>the advice to remove the nullcheck because it is silly is actively <strong>a bad thing</strong></em> - you <em>should</em> add that nullcheck. The linting tools that flag this down are misguided; they want to pretend to live in a world where every java programmer on the planet uses their tool. This isn't try and is unlikely to ever become true, hence, wrong.</p>\n<p>A few null checking frameworks are sort of living both lives and will allow you to test if an argument marked as <code>@NonNull</code> is <code>null</code>, but only if the <code>if</code> body starts with <code>throw</code>, otherwise it's flagged.</p>\n<p>To answer your questions:</p>\n<ul>\n<li><p>You <em>should</em> nullcheck. After all, other developers that use your code may not get the nullity warnings from the nullcheck tool (either other team members working on the same code base but using slightly different tools and/or configurations of those tools, <em>or</em>, your code is a library and another project uses it, a more obvious route to a situation with different tools/configs). The best way to handle a null failure is a compile time error. A close second is an exception that is clear about the problem and whose stack trace can be used to very quickly solve the bug. A distant third is random bizarreness that takes a whole to debug - and that explicit nullcheck means you get nice fallback: If for whatever reason the write-time tooling doesn't catch the problem, the check will then simply turn it into the second, still quite acceptable case of an exception at the point of failure that is clear about what happened and where to fix it.</p>\n</li>\n<li><p>Lombok's <a href=\"https://projectlombok.org/features/NonNull\" rel=\"nofollow noreferrer\"><code>@NonNull</code></a> annotation can generate it for you, if you want. Now you have the best of both worlds: Just a <code>@NonNull</code> annotation (no clutter) and yet a runtime exception if someone does pass null anyway (DISCLAIMER: I'm one of the core contributors to Lombok).</p>\n</li>\n<li><p>If your linting tool complains about 'pointless null check' on the line <code>if (param == null) throw new NullPointerException(&quot;param&quot;);</code>, find the option in the linting tool to exclude if-checks that result in <code>throw</code> statements. If the linting tool cannot be configured to ignore this case, <strong>do not use the linting tool</strong>, find a better one.</p>\n</li>\n<li><p>Note that modern JVMs will throw a NullPointerException <em>with</em> the name of the expression as message if you dereference a null pointer, which may obviate the need to write an explicit check. However, now you're dependent on that method always dereferencing that variable forever more; if ever someone changes it and e.g. assigns it to a field and returns, now you have a problem: It should have thrown the exception, in order to ensure the bug is found quickly and with an exception that explains what happened and where to go and fix the problem. Hence I wouldn't rely on the JVM feature for your NPEs.</p>\n</li>\n<li><p>Error messages should be as short as they can be whilst not skimping on detail. They should also not end in punctuation; especially exclamation marks. Every exception tends to be noteworthy enough to warrant an exclamation mark - but it gets tedious to read them, so <strong>do not</strong> add them. In fact, the proper thing to throw, is this: <code>throw new NullPointerException(&quot;o&quot;)</code>. - and you might want to rename that parameter to something more readable if you find <code>o</code> ugly. Parameters are mostly public API info (JVM-technically they are not, but javadoc does include them, which is the basis of API docs, so you should consider them public, and therefore, they should have clear names. Which you can then reuse). That exception conveys all relevant information to a programmer: The nature of the problem (<code>null</code> was sent to code that does not know how to handle this), and where (the stack trace does that automatically), and the specifics (which thing was <code>null</code>). Your message is much longer and doesn't add anything more. At best you can say your message might be understood by a non-coder, except this is both not true (as if a stack trace is something random joe computeruser is going to understand), and irrelevant (it's not like they can fix the problem even if they do know what it means). Using exception messages as UI output just doesn't work, so don't try.</p>\n</li>\n<li><p>You may want to adjust your style guides and allow braceless <code>if</code> statements provided that the <code>if</code> expression is simple (no <code>&amp;&amp;</code> or <code>||</code>). Possibly add an additional rule that the single statement is a control statement - <code>break;</code>, <code>continue;</code>, <code>return (something);</code>, or <code>throw something;</code>. This will significantly improve readability for multiparams. The point of a style guide is to create legible code. Surely this:</p>\n</li>\n</ul>\n<pre><code>if (param1 == null) throw new NullPointerException(&quot;param1&quot;);\nif (param2 == null) throw new NullPointerException(&quot;param2&quot;);\n</code></pre>\n<p>is far more legible, especially considering this method has more lines than just those two, than this:</p>\n<pre><code>if (param1 == null) {\n  throw new NullPointerException(&quot;param1&quot;);\n}\n\nif (param2 == null) {\n  throw new NullPointerException(&quot;param2&quot;);\n}\n</code></pre>\n<p>Styleguides are just a tool. If your styleguide is leading to less productivity and harder to read code, the answer should be obvious. Fix or replace the tool.</p>\n"}],"owner":{"account_id":24179619,"reputation":25,"user_id":18140495,"display_name":"BlackMonkee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74521341,"answer_count":1,"score":1,"last_activity_date":1669044987,"creation_date":1669041809,"question_id":74520668,"body_markdown":"I started using javax.annotation especially to warn the next developer who maybe will be working with my code in the future.\r\n\r\nBut while I was using the javax.annotation @Nonnull annotation, a question came into my mind: \r\n\r\nIf you mark f.e. a parameter of a method thorugh the @Nonnull annotation that it haves to have a value, \\\r\ndo you still need to handle the case, that the next developer who is using your code could be parsing null to your function?\r\n\r\nIf found one con argument and one pro argument to still handle the special cases.\r\n\r\ncon: The code is cleaner, especially if you have multiple parameters that you mark with @Nonnull\r\n\r\n```\r\nprivate void foo(@Nonnull Object o)\r\n{\r\n    /*do something*/\r\n}\r\n```\r\nvs\r\n\r\n```\r\npublic void foo(Object o)\r\n    throws NullPointerException\r\n{\r\n    if (o == null)\r\n    {\r\n        throw new NullPointerException(&quot;Given Object must have a value!&quot;);\r\n    }\r\n    /*do something*/\r\n}\r\n```\r\n\r\npro: It could cause unhandled errors if the next developer ignore the annotations.","title":"Handling null, even if annotations are used","body":"<p>I started using javax.annotation especially to warn the next developer who maybe will be working with my code in the future.</p>\n<p>But while I was using the javax.annotation @Nonnull annotation, a question came into my mind:</p>\n<p>If you mark f.e. a parameter of a method thorugh the @Nonnull annotation that it haves to have a value, <br />\ndo you still need to handle the case, that the next developer who is using your code could be parsing null to your function?</p>\n<p>If found one con argument and one pro argument to still handle the special cases.</p>\n<p>con: The code is cleaner, especially if you have multiple parameters that you mark with @Nonnull</p>\n<pre><code>private void foo(@Nonnull Object o)\n{\n    /*do something*/\n}\n</code></pre>\n<p>vs</p>\n<pre><code>public void foo(Object o)\n    throws NullPointerException\n{\n    if (o == null)\n    {\n        throw new NullPointerException(&quot;Given Object must have a value!&quot;);\n    }\n    /*do something*/\n}\n</code></pre>\n<p>pro: It could cause unhandled errors if the next developer ignore the annotations.</p>\n"},{"tags":["java","aop","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669018752,"post_id":74514234,"comment_id":131538522,"body_markdown":"Native AspectJ or Spring AOP? The answers would be different. If AspectJ, native or annotation-based syntax?","body":"Native AspectJ or Spring AOP? The answers would be different. If AspectJ, native or annotation-based syntax?"},{"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"score":0,"creation_date":1669020225,"post_id":74514234,"comment_id":131539024,"body_markdown":"@kriegaex native AspectJ with annotation-based syntax","body":"@kriegaex native AspectJ with annotation-based syntax"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669022885,"post_id":74514234,"comment_id":131539893,"body_markdown":"Oh, too bad. Native syntax is much more elegant and concise. But OK, I can create an answer for @AspectJ syntax, too. But please also put your question into context, explaining what exactly you want to achieve, not just focusing on how (suppress aspect execution) you want to achieve it. That way, you are limiting the space of possible solutions. This is called the [XY problem](https://meta.stackexchange.com/a/66378/309898). Otherwise, my answer will be correct, but maybe will does not help you much.","body":"Oh, too bad. Native syntax is much more elegant and concise. But OK, I can create an answer for @AspectJ syntax, too. But please also put your question into context, explaining what exactly you want to achieve, not just focusing on how (suppress aspect execution) you want to achieve it. That way, you are limiting the space of possible solutions. This is called the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>. Otherwise, my answer will be correct, but maybe will does not help you much."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669026747,"post_id":74514234,"comment_id":131541195,"body_markdown":"Thanks, I can answer later after work. But one remark first: _&quot;AuditAspect logic should only be executed if access is allowed.&quot;_ That sounds illogical. The audit aspect probably is meant to determine whether access is allowed or not, is it not? Therefore, it always has to be executed. I rather guess that the audit aspect should prevent the **target method** from being executed. Correct?","body":"Thanks, I can answer later after work. But one remark first: <i>&quot;AuditAspect logic should only be executed if access is allowed.&quot;</i> That sounds illogical. The audit aspect probably is meant to determine whether access is allowed or not, is it not? Therefore, it always has to be executed. I rather guess that the audit aspect should prevent the <b>target method</b> from being executed. Correct?"},{"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"score":0,"creation_date":1669027563,"post_id":74514234,"comment_id":131541442,"body_markdown":"&quot;Secured&quot; aspect is meant to determine whether access is allowed or not. If access is not allowed, neither the target method nor the audit logic should be executed. Thanks!","body":"&quot;Secured&quot; aspect is meant to determine whether access is allowed or not. If access is not allowed, neither the target method nor the audit logic should be executed. Thanks!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669028543,"post_id":74514234,"comment_id":131541766,"body_markdown":"Oh OK. You did not explicitly mention the secured aspect in your enumeration, only implicitly. So actually, you have 3 aspects, not just 2. See, this is the problem about questions without [MCVE](https://stackoverflow.com/help/mcve). The annotations as such do not do anything, nor are they necessary for aspects to kick in, because aspects can also determine joinpoints in other ways than filtering for annotations. Using marker annotations is completely optional. I really don&#39;t know why so many developers think they need annotations for each and every aspect. I hardly use them at all.","body":"Oh OK. You did not explicitly mention the secured aspect in your enumeration, only implicitly. So actually, you have 3 aspects, not just 2. See, this is the problem about questions without <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. The annotations as such do not do anything, nor are they necessary for aspects to kick in, because aspects can also determine joinpoints in other ways than filtering for annotations. Using marker annotations is completely optional. I really don&#39;t know why so many developers think they need annotations for each and every aspect. I hardly use them at all."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669044880,"creation_date":1669044880,"answer_id":74521322,"question_id":74514234,"body_markdown":"You want to use a combination of\r\n  * `@Around` advice in your aspects and\r\n  * [`@DeclarePrecedence`](https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-declare.html) for declaring aspect precedence.\r\n\r\nThis way, you can chain advice execution exactly the way you want to and dynamically decide whether each advice should\r\n  * proceed to the next advice in the chain depending on its precedence (or to the target method, if there is no more advice in the chain), or\r\n  * not to proceed but return a result calculated by the advice itself, or\r\n  * to throw an exception instead of returning something.\r\n\r\nOf course, you can combine these things, e.g. proceed but discard or modify the result or proceed, but depending on the result still throw an exception.\r\n\r\nIf you just want to decide to either throw an exception or just pass through the call and its result unchanged, depending on authorisation status, of course a simple `@Before` advice will also do and `@Around` is unnecessary.\r\n\r\nHere is a simple example with 2 aspects, which you can easily adapt to your situation. Feel free to ask directly related follow-up questions in comments, if anything is unclear about the sample code.\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      System.out.println(&quot;  &quot; + doSomething());\r\n    }\r\n  }\r\n\r\n  public static String doSomething() {\r\n    return &quot;doing something&quot;;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.Random;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class FirstAspect {\r\n  private static final Random RANDOM = new Random();\r\n\r\n  @Around(&quot;execution(String doSomething())&quot;)\r\n  public Object myAdvice(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;FirstAspect&quot;);\r\n    switch (RANDOM.nextInt(3)) {\r\n      // Do not proceed to 2nd aspect, create own return value\r\n      case 0: return &quot;1st aspect&quot;;\r\n      // Proceed to 2nd aspect, modify response\r\n      case 1: return joinPoint.proceed() + &quot; - 1st aspect&quot;;\r\n      // Proceed to 2nd aspect, return response unchanged\r\n      default: return joinPoint.proceed();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport java.util.Random;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.DeclarePrecedence;\r\n\r\n@Aspect\r\n@DeclarePrecedence(&quot;FirstAspect, SecondAspect&quot;)\r\npublic class SecondAspect {\r\n  private static final Random RANDOM = new Random();\r\n\r\n  @Around(&quot;execution(String doSomething())&quot;)\r\n  public Object myAdvice(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;SecondAspect&quot;);\r\n    switch (RANDOM.nextInt(3)) {\r\n      // Do not proceed to target method, create own return value\r\n      case 0: return &quot;2nd aspect&quot;;\r\n      // Proceed to target method, but modify return value\r\n      case 1: return joinPoint.proceed() + &quot; - 2nd aspect&quot;;\r\n      // Proceed to target method, return response unchanged\r\n      default: return joinPoint.proceed();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe console log might look like this:\r\n\r\n```none\r\nFirstAspect\r\nSecondAspect\r\n  doing something - 2nd aspect - 1st aspect\r\nFirstAspect\r\n  1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  2nd aspect - 1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  doing something - 1st aspect\r\nFirstAspect\r\n  1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  doing something\r\nFirstAspect\r\n  1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  doing something - 1st aspect\r\nFirstAspect\r\n  1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  doing something - 2nd aspect\r\n```\r\n\r\nYou can see how sometimes the result is passed through unchanged by both aspects, sometimes only one of the aspect or both aspects modify the result or how sometimes the second aspect is not even called, because the first one does not proceed. Instead of not proceeding, throwing an exception would also be possible.","title":"Is it possible with AspectJ to prevent the next aspect from executing in order?","body":"<p>You want to use a combination of</p>\n<ul>\n<li><code>@Around</code> advice in your aspects and</li>\n<li><a href=\"https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-declare.html\" rel=\"nofollow noreferrer\"><code>@DeclarePrecedence</code></a> for declaring aspect precedence.</li>\n</ul>\n<p>This way, you can chain advice execution exactly the way you want to and dynamically decide whether each advice should</p>\n<ul>\n<li>proceed to the next advice in the chain depending on its precedence (or to the target method, if there is no more advice in the chain), or</li>\n<li>not to proceed but return a result calculated by the advice itself, or</li>\n<li>to throw an exception instead of returning something.</li>\n</ul>\n<p>Of course, you can combine these things, e.g. proceed but discard or modify the result or proceed, but depending on the result still throw an exception.</p>\n<p>If you just want to decide to either throw an exception or just pass through the call and its result unchanged, depending on authorisation status, of course a simple <code>@Before</code> advice will also do and <code>@Around</code> is unnecessary.</p>\n<p>Here is a simple example with 2 aspects, which you can easily adapt to your situation. Feel free to ask directly related follow-up questions in comments, if anything is unclear about the sample code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public static void main(String[] args) {\n    for (int i = 0; i &lt; 10; i++) {\n      System.out.println(&quot;  &quot; + doSomething());\n    }\n  }\n\n  public static String doSomething() {\n    return &quot;doing something&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class FirstAspect {\n  private static final Random RANDOM = new Random();\n\n  @Around(&quot;execution(String doSomething())&quot;)\n  public Object myAdvice(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;FirstAspect&quot;);\n    switch (RANDOM.nextInt(3)) {\n      // Do not proceed to 2nd aspect, create own return value\n      case 0: return &quot;1st aspect&quot;;\n      // Proceed to 2nd aspect, modify response\n      case 1: return joinPoint.proceed() + &quot; - 1st aspect&quot;;\n      // Proceed to 2nd aspect, return response unchanged\n      default: return joinPoint.proceed();\n    }\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport java.util.Random;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.DeclarePrecedence;\n\n@Aspect\n@DeclarePrecedence(&quot;FirstAspect, SecondAspect&quot;)\npublic class SecondAspect {\n  private static final Random RANDOM = new Random();\n\n  @Around(&quot;execution(String doSomething())&quot;)\n  public Object myAdvice(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;SecondAspect&quot;);\n    switch (RANDOM.nextInt(3)) {\n      // Do not proceed to target method, create own return value\n      case 0: return &quot;2nd aspect&quot;;\n      // Proceed to target method, but modify return value\n      case 1: return joinPoint.proceed() + &quot; - 2nd aspect&quot;;\n      // Proceed to target method, return response unchanged\n      default: return joinPoint.proceed();\n    }\n  }\n}\n</code></pre>\n<p>The console log might look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FirstAspect\nSecondAspect\n  doing something - 2nd aspect - 1st aspect\nFirstAspect\n  1st aspect\nFirstAspect\nSecondAspect\n  2nd aspect - 1st aspect\nFirstAspect\nSecondAspect\n  doing something - 1st aspect\nFirstAspect\n  1st aspect\nFirstAspect\nSecondAspect\n  doing something\nFirstAspect\n  1st aspect\nFirstAspect\nSecondAspect\n  doing something - 1st aspect\nFirstAspect\n  1st aspect\nFirstAspect\nSecondAspect\n  doing something - 2nd aspect\n</code></pre>\n<p>You can see how sometimes the result is passed through unchanged by both aspects, sometimes only one of the aspect or both aspects modify the result or how sometimes the second aspect is not even called, because the first one does not proceed. Instead of not proceeding, throwing an exception would also be possible.</p>\n"}],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521322,"answer_count":1,"score":0,"last_activity_date":1669044880,"creation_date":1669004737,"question_id":74514234,"body_markdown":"**ORIGINAL QUESTION:**\r\n\r\nI have a method annotated with two aspects:\r\n\r\n    @Aspect1Annotation\r\n    @Aspect2Annotation\r\n    public SomeResult handle() {\r\n        // some code\r\n        return null;\r\n    }\r\n\r\nI would like the first annotaion to execute and based on its results prevent execution of the second aspects logic.\r\n\r\nHow to do it with AspectJ? Please help.\r\n\r\n**EDIT:**\r\n\r\nI am developing an application which has multiple methods with these annotations:\r\n\r\n \r\n\r\n    @Monitored\r\n    @Secured(Permission.SOME_PERMISSION)\r\n    @Audited\r\n    public SomeResult handle() {\r\n        // some code\r\n        return null;\r\n    }\r\n\r\n1) The MonitoringAspect logic must always run despite security permissions.\r\n2) The permission check should be done after the MonitoringAspect and if access is denied, a runtime exception should be thrown.\r\n3) AuditAspect logic should only be executed if access is allowed. \r\n","title":"Is it possible with AspectJ to prevent the next aspect from executing in order?","body":"<p><strong>ORIGINAL QUESTION:</strong></p>\n<p>I have a method annotated with two aspects:</p>\n<pre><code>@Aspect1Annotation\n@Aspect2Annotation\npublic SomeResult handle() {\n    // some code\n    return null;\n}\n</code></pre>\n<p>I would like the first annotaion to execute and based on its results prevent execution of the second aspects logic.</p>\n<p>How to do it with AspectJ? Please help.</p>\n<p><strong>EDIT:</strong></p>\n<p>I am developing an application which has multiple methods with these annotations:</p>\n<pre><code>@Monitored\n@Secured(Permission.SOME_PERMISSION)\n@Audited\npublic SomeResult handle() {\n    // some code\n    return null;\n}\n</code></pre>\n<ol>\n<li>The MonitoringAspect logic must always run despite security permissions.</li>\n<li>The permission check should be done after the MonitoringAspect and if access is denied, a runtime exception should be thrown.</li>\n<li>AuditAspect logic should only be executed if access is allowed.</li>\n</ol>\n"},{"tags":["java","intellij-idea","comments","automated-refactoring"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1669044630,"post_id":74521215,"comment_id":131547738,"body_markdown":"Replace the string &quot;//       &quot; with &quot;// &quot; maybe?","body":"Replace the string &quot;//       &quot; with &quot;// &quot; maybe?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669044664,"creation_date":1669044664,"answer_id":74521266,"question_id":74521215,"body_markdown":"There may be a way to do this via editor settings.  But you could remedy this using a regex replace all:\r\n\r\n    Find:    //\\s{2,}(.*)$\r\n    Replace: // $1\r\n\r\nThis would be under the assumption that once a `//` style comment has been declared, the remainder of that line belongs to the comment.\r\n\r\nNote that you could even apply the above replacement to all files in the project, or all Java source files in the project, module, etc.","title":"How do i reformat java comments, to remove whitespaces in intellij?","body":"<p>There may be a way to do this via editor settings.  But you could remedy this using a regex replace all:</p>\n<pre><code>Find:    //\\s{2,}(.*)$\nReplace: // $1\n</code></pre>\n<p>This would be under the assumption that once a <code>//</code> style comment has been declared, the remainder of that line belongs to the comment.</p>\n<p>Note that you could even apply the above replacement to all files in the project, or all Java source files in the project, module, etc.</p>\n"}],"owner":{"account_id":24923694,"reputation":21,"user_id":18791723,"display_name":"Igor Velikopopovetsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74521266,"answer_count":1,"score":-1,"last_activity_date":1669044664,"creation_date":1669044437,"question_id":74521215,"body_markdown":"What IntelliJ format setting should be set to automatically change line comments to look like:\r\n``` \r\n    validcode();\r\n    // comment1\r\n    // comment2\r\n    validCode();\r\n```\r\nfrom lookin like this:\r\n```\r\n    validcode();\r\n    //       comment1\r\n    //       comment2\r\n    validCode();\r\n```\r\n\r\n\r\n\r\n\r\nNo result with all the settings i have tried.","title":"How do i reformat java comments, to remove whitespaces in intellij?","body":"<p>What IntelliJ format setting should be set to automatically change line comments to look like:</p>\n<pre><code>    validcode();\n    // comment1\n    // comment2\n    validCode();\n</code></pre>\n<p>from lookin like this:</p>\n<pre><code>    validcode();\n    //       comment1\n    //       comment2\n    validCode();\n</code></pre>\n<p>No result with all the settings i have tried.</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669047463,"post_id":74521252,"comment_id":131548826,"body_markdown":"Not quite sure what you are after; I hope it isn&#39;t putting enterprise &#39;data&#39; into the Audit entity/table. You can filter audits on what ever you want in queries: &quot;select a from Audit a join a.enterprise e where e.name LIKE CONCAT(&#39;%&#39;, :searchTerm, &#39;%&#39;)&quot;.","body":"Not quite sure what you are after; I hope it isn&#39;t putting enterprise &#39;data&#39; into the Audit entity/table. You can filter audits on what ever you want in queries: &quot;select a from Audit a join a.enterprise e where e.name LIKE CONCAT(&#39;%&#39;, :searchTerm, &#39;%&#39;)&quot;."},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1669048163,"post_id":74521252,"comment_id":131549071,"body_markdown":"Thank you! That was it. I&#39;m just bad ad queries,a and hadn&#39;t came across this pattern","body":"Thank you! That was it. I&#39;m just bad ad queries,a and hadn&#39;t came across this pattern"}],"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669044579,"creation_date":1669044579,"question_id":74521252,"body_markdown":"Spring + MySQL\r\n\r\nEntities Audit and Enterprise are mapped by relation @ManyToOne by their Id&#39;s (int).\r\nIn my aplication I want to filter Audits by Enterprise&#39;s name. Both respectively have service, ad DAO classes. Since I have query for filtering Enterprises by name:\r\n```\r\n@Query(&quot;SELECT e FROM Enterprise e WHERE e.name LIKE CONCAT(&#39;%&#39;, :searchTerm, &#39;%&#39;)&quot;)\r\nList&lt;Enterprise&gt; findByName(@Param(&quot;searchTerm&quot;) String searchTerm);\r\n```\r\nI thought that the simplest way would be to add column to Audit class that contains Enterprise&#39;s name, and do similar thing. \r\nIs there a way to do this type of doble mapping, or way to automatically generate this column?\r\nOr maybe the whole concept is just wrong, and I should do this other way round? \r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;ENTERPRISES&quot;)\r\npublic class Enterprise {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @NotNull\r\n    @Column(unique = true)\r\n    int enterpriseId;\r\n\r\n    @Column\r\n    String name;\r\n\r\n    @OneToMany(\r\n            targetEntity = Audit.class,\r\n            mappedBy = &quot;enterprise&quot;,\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY\r\n    )\r\n    List&lt;Audit&gt; audits = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table\r\npublic class Audit {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @NotNull\r\n    @Column(unique = true)\r\n    public int auditId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ENTERPRISE_ID&quot;)\r\n    public Enterprise enterprise;\r\n\r\n}\r\n```\r\n\r\n\r\nSince the question is half technical half theoretical, and I&#39;m new to programming in general I didn&#39;t try to do much in this matter. I was wondering that maybe @Generated() annotation would work with @Column(columnDefinition = ... ), but still I don&#39;t know how to define this column. ","title":"Joining more than one Column between mapped Entities","body":"<p>Spring + MySQL</p>\n<p>Entities Audit and Enterprise are mapped by relation @ManyToOne by their Id's (int).\nIn my aplication I want to filter Audits by Enterprise's name. Both respectively have service, ad DAO classes. Since I have query for filtering Enterprises by name:</p>\n<pre><code>@Query(&quot;SELECT e FROM Enterprise e WHERE e.name LIKE CONCAT('%', :searchTerm, '%')&quot;)\nList&lt;Enterprise&gt; findByName(@Param(&quot;searchTerm&quot;) String searchTerm);\n</code></pre>\n<p>I thought that the simplest way would be to add column to Audit class that contains Enterprise's name, and do similar thing.\nIs there a way to do this type of doble mapping, or way to automatically generate this column?\nOr maybe the whole concept is just wrong, and I should do this other way round?</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;ENTERPRISES&quot;)\npublic class Enterprise {\n\n    @Id\n    @GeneratedValue\n    @NotNull\n    @Column(unique = true)\n    int enterpriseId;\n\n    @Column\n    String name;\n\n    @OneToMany(\n            targetEntity = Audit.class,\n            mappedBy = &quot;enterprise&quot;,\n            cascade = CascadeType.ALL,\n            fetch = FetchType.LAZY\n    )\n    List&lt;Audit&gt; audits = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table\npublic class Audit {\n\n    @Id\n    @GeneratedValue\n    @NotNull\n    @Column(unique = true)\n    public int auditId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;ENTERPRISE_ID&quot;)\n    public Enterprise enterprise;\n\n}\n</code></pre>\n<p>Since the question is half technical half theoretical, and I'm new to programming in general I didn't try to do much in this matter. I was wondering that maybe @Generated() annotation would work with @Column(columnDefinition = ... ), but still I don't know how to define this column.</p>\n"},{"tags":["java","postgresql","servlets","auto-increment"],"comments":[{"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"score":0,"creation_date":1354227941,"post_id":13635812,"comment_id":18704935,"body_markdown":"If you want to stick with varchar, you realize that with a length of 4 you aren&#39;t going to be able to handle more than 10k comments, right?","body":"If you want to stick with varchar, you realize that with a length of 4 you aren&#39;t going to be able to handle more than 10k comments, right?"}],"answers":[{"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1354227720,"creation_date":1354227720,"answer_id":13635844,"question_id":13635812,"body_markdown":"You don&#39;t want to use a VARCHAR for your id column. In postgres you can create a sequence and then get the next value of that sequence for each insert.\r\n\r\n[here are the docs][1]\r\n\r\nBasically, you do something like\r\n\r\n    CREATE SEQUENCE mysequence START 101\r\n\r\nThen, when you insert you do something like\r\n\r\n    INSERT INTO my_comment values (nextval(&#39;mysequence&#39;), &#39;this is my comment&#39;);\r\n\r\n\r\n\r\n  [1]: http://www.postgresql.org/docs/9.1/static/sql-createsequence.html","title":"How to increment ID for each INSERT?","body":"<p>You don't want to use a VARCHAR for your id column. In postgres you can create a sequence and then get the next value of that sequence for each insert.</p>\n\n<p><a href=\"http://www.postgresql.org/docs/9.1/static/sql-createsequence.html\">here are the docs</a></p>\n\n<p>Basically, you do something like</p>\n\n<pre><code>CREATE SEQUENCE mysequence START 101\n</code></pre>\n\n<p>Then, when you insert you do something like</p>\n\n<pre><code>INSERT INTO my_comment values (nextval('mysequence'), 'this is my comment');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":904738,"reputation":617045,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668901756,"creation_date":1354228892,"answer_id":13636098,"question_id":13635812,"body_markdown":"**Update**: in Postgres 10 or later, consider an **`IDENTITY`** column instead. See:\r\n\r\n- https://stackoverflow.com/questions/9875223/auto-increment-table-column/9875517#9875517\r\n\r\n___\r\n\r\nUse the [**`serial`** pseudo data type][1] to begin with. It creates and attaches the sequence object automatically and sets the `DEFAULT` to `nextval()` from the sequence. It does all you need. Effective type for the column is `integer`. There is also `bigserial` and `smallserial` (in Postgres 9.2+). Just follow the link to the manual.\r\n\r\n~~~pgsql\r\nCREATE TABLE comments (\r\n  comment_id serial PRIMARY KEY\r\n, comment text NOT NULL\r\n);\r\n~~~\r\n\r\nYou can ignore the column for `INSERT` commands:\r\n\r\n    INSERT INTO my_comment (comment)\r\n    VALUES (&#39;My comment here&#39;);\r\n\r\n`comment_id` is filled in automatically.\r\n\r\nBut you should *always* provide a target column list for an `INSERT` command. If you later change table layout, your query may break in hurtful ways. It may be ok to skip the column list for ad-hoc commands or when the table structure is guaranteed (like when you created the table in the same line of code). Other than that, provide a column list!\r\n\r\nIf you want the resulting `comment_id` back, without another round trip to the server:\r\n\r\n&lt;pre&gt;INSERT INTO my_comment (comment)\r\nVALUES (&#39;My comment here&#39;);\r\n&lt;b&gt;RETURNING&lt;/b&gt; comment_id;&lt;/pre&gt;\r\n\r\nDetails in the manual [here][2].\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-SERIAL\r\n  [2]: https://www.postgresql.org/docs/current/sql-insert.html","title":"How to increment ID for each INSERT?","body":"<p><strong>Update</strong>: in Postgres 10 or later, consider an <strong><code>IDENTITY</code></strong> column instead. See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9875223/auto-increment-table-column/9875517#9875517\">Auto increment table column</a></li>\n</ul>\n<hr />\n<p>Use the <a href=\"https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-SERIAL\" rel=\"nofollow noreferrer\"><strong><code>serial</code></strong> pseudo data type</a> to begin with. It creates and attaches the sequence object automatically and sets the <code>DEFAULT</code> to <code>nextval()</code> from the sequence. It does all you need. Effective type for the column is <code>integer</code>. There is also <code>bigserial</code> and <code>smallserial</code> (in Postgres 9.2+). Just follow the link to the manual.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE comments (\n  comment_id serial PRIMARY KEY\n, comment text NOT NULL\n);\n</code></pre>\n<p>You can ignore the column for <code>INSERT</code> commands:</p>\n<pre><code>INSERT INTO my_comment (comment)\nVALUES ('My comment here');\n</code></pre>\n<p><code>comment_id</code> is filled in automatically.</p>\n<p>But you should <em>always</em> provide a target column list for an <code>INSERT</code> command. If you later change table layout, your query may break in hurtful ways. It may be ok to skip the column list for ad-hoc commands or when the table structure is guaranteed (like when you created the table in the same line of code). Other than that, provide a column list!</p>\n<p>If you want the resulting <code>comment_id</code> back, without another round trip to the server:</p>\n<pre>INSERT INTO my_comment (comment)\nVALUES ('My comment here');\n<b>RETURNING</b> comment_id;</pre>\n<p>Details in the manual <a href=\"https://www.postgresql.org/docs/current/sql-insert.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":908759,"reputation":79,"user_id":943104,"accept_rate":75,"display_name":"RyanH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3633,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13635844,"answer_count":2,"score":2,"last_activity_date":1669043901,"creation_date":1354227551,"question_id":13635812,"body_markdown":"In PostgreSQL I have table `comments` with primary key `comment_id` (`VARCHAR` of length 4). I have a form to insert a comment. How to get my Java Servlet to increment `comment_id` for each INSERT (0001 to 0002)?","title":"How to increment ID for each INSERT?","body":"<p>In PostgreSQL I have table <code>comments</code> with primary key <code>comment_id</code> (<code>VARCHAR</code> of length 4). I have a form to insert a comment. How to get my Java Servlet to increment <code>comment_id</code> for each INSERT (0001 to 0002)?</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622166685,"creation_date":1622166685,"answer_id":67731907,"question_id":67730700,"body_markdown":"`java.home` specifies the folder path to the JDK, which should be like `/usr/java/jdk16`.\r\n\r\nDespite manually pointing to the path, we can click it from GUI. Open **Command Palette** and choose **Java: Configure Java Runtime**. Below the option **Java Tooling Runtime**, the value of `JDK for Language Server` is equal to `java.home`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf there&#39;s no optional path there, check if you&#39;ve added java to PATH. \r\n\r\nReference: [Installation of JDK on Linux Platforms.][2] and [Using Java runtime configuration wizard][3].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jl78c.png\r\n  [2]: https://docs.oracle.com/en/java/javase/16/install/installation-jdk-linux-platforms.html#GUID-737A84E4-2EFF-4D38-8E60-3E29D1B884B8\r\n  [3]: https://code.visualstudio.com/docs/java/java-tutorial#_using-java-runtime-configuration-wizard","title":"VSCode can&#39;t setup Java Runtime (tried a few settings json approaches)","body":"<p><code>java.home</code> specifies the folder path to the JDK, which should be like <code>/usr/java/jdk16</code>.</p>\n<p>Despite manually pointing to the path, we can click it from GUI. Open <strong>Command Palette</strong> and choose <strong>Java: Configure Java Runtime</strong>. Below the option <strong>Java Tooling Runtime</strong>, the value of <code>JDK for Language Server</code> is equal to <code>java.home</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/jl78c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jl78c.png\" alt=\"enter image description here\" /></a></p>\n<p>If there's no optional path there, check if you've added java to PATH.</p>\n<p>Reference: <a href=\"https://docs.oracle.com/en/java/javase/16/install/installation-jdk-linux-platforms.html#GUID-737A84E4-2EFF-4D38-8E60-3E29D1B884B8\" rel=\"nofollow noreferrer\">Installation of JDK on Linux Platforms.</a> and <a href=\"https://code.visualstudio.com/docs/java/java-tutorial#_using-java-runtime-configuration-wizard\" rel=\"nofollow noreferrer\">Using Java runtime configuration wizard</a>.</p>\n"},{"tags":[],"owner":{"account_id":16443760,"reputation":372,"user_id":11879205,"display_name":"t7e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659363006,"creation_date":1659363006,"answer_id":73195005,"question_id":67730700,"body_markdown":"Install the required Java version.\r\nCheck what is under `/usr/lib/jvm/`\r\n```\r\n$ ls /usr/lib/jvm/\r\ndefault-java               java-1.17.0-openjdk-amd64  java-17-openjdk-amd64  openjdk-17\r\njava-1.11.0-openjdk-amd64  java-11-openjdk-amd64      openjdk-11\r\n```\r\n\r\nThen check in VSCode this settings file:\r\n\r\n```\r\n/home/user/.vscode-server/data/Machine/settings.json\r\n```\r\n```\r\n{\r\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;/usr/lib/jvm/default-java&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    \r\n    ]\r\n}\r\n```\r\nChange to your JVM version:\r\n\r\n```\r\n{\r\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;/usr/lib/jvm/java-1.17.0-openjdk-amd64&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    \r\n    ]\r\n}\r\n```\r\nReload VSCode.","title":"VSCode can&#39;t setup Java Runtime (tried a few settings json approaches)","body":"<p>Install the required Java version.\nCheck what is under <code>/usr/lib/jvm/</code></p>\n<pre><code>$ ls /usr/lib/jvm/\ndefault-java               java-1.17.0-openjdk-amd64  java-17-openjdk-amd64  openjdk-17\njava-1.11.0-openjdk-amd64  java-11-openjdk-amd64      openjdk-11\n</code></pre>\n<p>Then check in VSCode this settings file:</p>\n<pre><code>/home/user/.vscode-server/data/Machine/settings.json\n</code></pre>\n<pre><code>{\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\n    &quot;java.jdt.ls.java.home&quot;: &quot;/usr/lib/jvm/default-java&quot;,\n    &quot;java.configuration.runtimes&quot;: [\n    \n    ]\n}\n</code></pre>\n<p>Change to your JVM version:</p>\n<pre><code>{\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\n    &quot;java.jdt.ls.java.home&quot;: &quot;/usr/lib/jvm/java-1.17.0-openjdk-amd64&quot;,\n    &quot;java.configuration.runtimes&quot;: [\n    \n    ]\n}\n</code></pre>\n<p>Reload VSCode.</p>\n"}],"owner":{"account_id":5779366,"reputation":2567,"user_id":4560509,"accept_rate":58,"display_name":"Michael Paccione"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67731907,"answer_count":2,"score":2,"last_activity_date":1669043338,"creation_date":1622154482,"question_id":67730700,"body_markdown":"I installed Java via terminal. I am on Linux 5.8.0-53-generic Kubuntu\r\n\r\nJava --version outputs\r\n```\r\nopenjdk 16.0.1 2021-04-20\r\nOpenJDK Runtime Environment (build 16.0.1+9-Ubuntu-120.10)\r\nOpenJDK 64-Bit Server VM (build 16.0.1+9-Ubuntu-120.10, mixed mode, sharing)\r\n```\r\n\r\nMy VSCode settings point to\r\n```\r\n&quot;java.home&quot;: &quot;/usr/lib/jvm/java-16-openjdk-amd64&quot;\r\n```\r\n\r\nHowever I get an error saying &quot;The java.home variable defined in Visual Studio Code settings (/usr/lib/jvm/java-16-openjdk-amd64) does not point to a JDK.","title":"VSCode can&#39;t setup Java Runtime (tried a few settings json approaches)","body":"<p>I installed Java via terminal. I am on Linux 5.8.0-53-generic Kubuntu</p>\n<p>Java --version outputs</p>\n<pre><code>openjdk 16.0.1 2021-04-20\nOpenJDK Runtime Environment (build 16.0.1+9-Ubuntu-120.10)\nOpenJDK 64-Bit Server VM (build 16.0.1+9-Ubuntu-120.10, mixed mode, sharing)\n</code></pre>\n<p>My VSCode settings point to</p>\n<pre><code>&quot;java.home&quot;: &quot;/usr/lib/jvm/java-16-openjdk-amd64&quot;\n</code></pre>\n<p>However I get an error saying &quot;The java.home variable defined in Visual Studio Code settings (/usr/lib/jvm/java-16-openjdk-amd64) does not point to a JDK.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1669049661,"post_id":74520891,"comment_id":131549609,"body_markdown":"Can you show `Table` class","body":"Can you show <code>Table</code> class"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1669049834,"post_id":74520891,"comment_id":131549665,"body_markdown":"Does this helps https://stackoverflow.com/a/38455540/1460591?","body":"Does this helps <a href=\"https://stackoverflow.com/a/38455540/1460591\">stackoverflow.com/a/38455540/1460591</a>?"}],"answers":[{"tags":[],"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669043056,"creation_date":1669043056,"answer_id":74520930,"question_id":74520891,"body_markdown":"Correct native query statement:\r\n```\r\n@Modifying\r\n@Query(value = &quot;update Table_name u set u.id = :table.id, u.event_date = :table.event_date, u.client_id = :table.client_id, u.status = :table.status, u.status_date = :table.status_date, u.creation_date = :table.creation_date, u.last_update_date = :table.last_update_date where u.id = :table.id&quot;,\r\n    nativeQuery = true)\r\nvoid updateEntity(@Param(&quot;table&quot;) Table table);\r\n```\r\n\r\nSince you&#39;re using a native query instead of a JPQL-Query, you have to write :table.event_date instead of :table.eventDate. Same counts for example :table.clientId, it has to be :table.client_id.\r\nHope it&#39;ll work!\r\n\r\nNative Queries: Always snake_case instead of camelCase, unless your column names are in camelCase, but I doubt that. :)\r\n","title":"Parameter not bound in Hibernate Query","body":"<p>Correct native query statement:</p>\n<pre><code>@Modifying\n@Query(value = &quot;update Table_name u set u.id = :table.id, u.event_date = :table.event_date, u.client_id = :table.client_id, u.status = :table.status, u.status_date = :table.status_date, u.creation_date = :table.creation_date, u.last_update_date = :table.last_update_date where u.id = :table.id&quot;,\n    nativeQuery = true)\nvoid updateEntity(@Param(&quot;table&quot;) Table table);\n</code></pre>\n<p>Since you're using a native query instead of a JPQL-Query, you have to write :table.event_date instead of :table.eventDate. Same counts for example :table.clientId, it has to be :table.client_id.\nHope it'll work!</p>\n<p>Native Queries: Always snake_case instead of camelCase, unless your column names are in camelCase, but I doubt that. :)</p>\n"}],"owner":{"account_id":27003139,"reputation":11,"user_id":20564098,"display_name":"cristiiiii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669043056,"creation_date":1669042858,"question_id":74520891,"body_markdown":"I tried to make a query withSpring data for updating an entry by id and I tried a lot options but still I can&#39;t get rid of this:\r\n```\r\nNamed parameter not bound : table.eventDate\r\n```\r\n```\r\n@Modifying\r\n@Query(value = &quot;update Table_name u set u.id = :table.id, u.event_date = :table.eventDate, u.client_id = :table.clientId, u.status = :table.status, u.status_date = :table.statusDate, u.creation_date = :table.creationDate, u.last_update_date = :table.lastUpdateDate where u.id = :table.id&quot;,\r\n    nativeQuery = true)\r\nvoid updateEntity(@Param(&quot;table&quot;) Table table);\r\n\r\n\r\n```\r\n\r\nHow should I write the query in order to get rid of this?\r\n\r\n I tried a lot of posibilities online to write the query but nothing worked.","title":"Parameter not bound in Hibernate Query","body":"<p>I tried to make a query withSpring data for updating an entry by id and I tried a lot options but still I can't get rid of this:</p>\n<pre><code>Named parameter not bound : table.eventDate\n</code></pre>\n<pre><code>@Modifying\n@Query(value = &quot;update Table_name u set u.id = :table.id, u.event_date = :table.eventDate, u.client_id = :table.clientId, u.status = :table.status, u.status_date = :table.statusDate, u.creation_date = :table.creationDate, u.last_update_date = :table.lastUpdateDate where u.id = :table.id&quot;,\n    nativeQuery = true)\nvoid updateEntity(@Param(&quot;table&quot;) Table table);\n\n\n</code></pre>\n<p>How should I write the query in order to get rid of this?</p>\n<p>I tried a lot of posibilities online to write the query but nothing worked.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4678774,"reputation":956,"user_id":3788166,"accept_rate":100,"display_name":"Irfan"},"score":0,"creation_date":1459228211,"post_id":36275580,"comment_id":60178355,"body_markdown":"can you post your earlier code witho out FlowTextView","body":"can you post your earlier code witho out FlowTextView"},{"owner":{"account_id":2358112,"reputation":1052,"user_id":2065490,"accept_rate":40,"display_name":"rusted brain"},"score":0,"creation_date":1459228297,"post_id":36275580,"comment_id":60178380,"body_markdown":"It looks ugly? Please post a screenshot of it, probably you can change some styles of EdidText and TextView to make it look good.","body":"It looks ugly? Please post a screenshot of it, probably you can change some styles of EdidText and TextView to make it look good."}],"answers":[{"tags":[],"owner":{"account_id":395651,"reputation":941,"user_id":758710,"accept_rate":50,"display_name":"AndroidEnthusiastic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459433213,"creation_date":1459433213,"answer_id":36335772,"question_id":36275580,"body_markdown":"Hi please try this,\r\n\r\n    android:gravity=&quot;left&quot;\r\n    \r\n    android:textAlignment=&quot;gravity&quot;","title":"How to create Flow TextView","body":"<p>Hi please try this,</p>\n\n<pre><code>android:gravity=\"left\"\n\nandroid:textAlignment=\"gravity\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7581817,"reputation":1770,"user_id":5752290,"display_name":"Pradeep Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669042978,"creation_date":1459433684,"answer_id":36335948,"question_id":36275580,"body_markdown":"Try this,\r\n\r\n    public class HorizontalFlowLayout extends RelativeLayout {\r\n\r\n\t  /**\r\n\t   * Constructor to use when creating View from code.\r\n\t   */\r\n\t  public HorizontalFlowLayout(Context context) {\r\n\t    super(context);\r\n\t  }\r\n\r\n\t  /**\r\n\t   * Constructor that is called when inflating View from XML.\r\n\t   */\r\n\t  public HorizontalFlowLayout(Context context, AttributeSet attrs) {\r\n\t    super(context, attrs);\r\n\t  }\r\n\r\n\t  /**\r\n\t   * Perform inflation from XML and apply a class-specific base style.\r\n\t   */\r\n\t  public HorizontalFlowLayout(Context context, AttributeSet attrs, int defStyle) {\r\n\t    super(context, attrs, defStyle);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n\t    // need to call super.onMeasure(...) otherwise get some funny behaviour\r\n\t    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n\r\n\t    final int width = MeasureSpec.getSize(widthMeasureSpec);\r\n\t    int height = MeasureSpec.getSize(heightMeasureSpec);\r\n\r\n\t    // increment the x position as we progress through a line\r\n\t    int xpos = getPaddingLeft();\r\n\t    // increment the y position as we progress through the lines\r\n\t    int ypos = getPaddingTop();\r\n\t    // the height of the current line\r\n\t    int line_height = 0;\r\n\r\n\t    // go through children\r\n\t    // to work out the height required for this view\r\n\r\n\t    // call to measure size of children not needed I think?!\r\n\t    // getting child&#39;s measured height/width seems to work okay without it\r\n\t    //measureChildren(widthMeasureSpec, heightMeasureSpec);\r\n\r\n\t    View child;\r\n\t    MarginLayoutParams childMarginLayoutParams;\r\n\t    int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\r\n\r\n\t    for (int i = 0; i &lt; getChildCount(); i++) {\r\n\t      child = getChildAt(i);\r\n\r\n\t      if (child.getVisibility() != GONE) {\r\n\t        childWidth = child.getMeasuredWidth();\r\n\t        childHeight = child.getMeasuredHeight();\r\n\r\n\t        if (child.getLayoutParams() != null\r\n\t            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\r\n\t          childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\r\n\r\n\t          childMarginLeft = childMarginLayoutParams.leftMargin;\r\n\t          childMarginRight = childMarginLayoutParams.rightMargin;\r\n\t          childMarginTop = childMarginLayoutParams.topMargin;\r\n\t          childMarginBottom = childMarginLayoutParams.bottomMargin;\r\n\t        }\r\n\t        else {\r\n\t          childMarginLeft = 0;\r\n\t          childMarginRight = 0;\r\n\t          childMarginTop = 0;\r\n\t          childMarginBottom = 0;\r\n\t        }\r\n\r\n\t        if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; width) {\r\n\t          // this child will need to go on a new line\r\n\r\n\t          xpos = getPaddingLeft();\r\n\t          ypos += line_height;\r\n\r\n\t          line_height = childMarginTop + childHeight + childMarginBottom;\r\n\t        }\r\n\t        else {\r\n\t          // enough space for this child on the current line\r\n\t          line_height = Math.max(\r\n\t              line_height,\r\n\t              childMarginTop + childHeight + childMarginBottom);\r\n\t        }\r\n\r\n\t        xpos += childMarginLeft + childWidth + childMarginRight;\r\n\t      }\r\n\t    }\r\n\r\n\t    ypos += line_height + getPaddingBottom();\r\n\r\n\t    if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\r\n\t      // set height as measured since there&#39;s no height restrictions\r\n\t      height = ypos;\r\n\t    }\r\n\t    else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST\r\n\t        &amp;&amp; ypos &lt; height) {\r\n\t      // set height as measured since it&#39;s less than the maximum allowed\r\n\t      height = ypos;\r\n\t    }\r\n\r\n\t    setMeasuredDimension(width, height);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n\t    // increment the x position as we progress through a line\r\n\t    int xpos = getPaddingLeft();\r\n\t    // increment the y position as we progress through the lines\r\n\t    int ypos = getPaddingTop();\r\n\t    // the height of the current line\r\n\t    int line_height = 0;\r\n\r\n\t    View child;\r\n\t    MarginLayoutParams childMarginLayoutParams;\r\n\t    int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\r\n\r\n\t    for (int i = 0; i &lt; getChildCount(); i++) {\r\n\t      child = getChildAt(i);\r\n\r\n\t      if (child.getVisibility() != GONE) {\r\n\t        childWidth = child.getMeasuredWidth();\r\n\t        childHeight = child.getMeasuredHeight();\r\n\r\n\t        if (child.getLayoutParams() != null\r\n\t            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\r\n\t          childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\r\n\r\n\t          childMarginLeft = childMarginLayoutParams.leftMargin;\r\n\t          childMarginRight = childMarginLayoutParams.rightMargin;\r\n\t          childMarginTop = childMarginLayoutParams.topMargin;\r\n\t          childMarginBottom = childMarginLayoutParams.bottomMargin;\r\n\t        }\r\n\t        else {\r\n\t          childMarginLeft = 0;\r\n\t          childMarginRight = 0;\r\n\t          childMarginTop = 0;\r\n\t          childMarginBottom = 0;\r\n\t        }\r\n\r\n\t        if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; r - l) {\r\n\t          // this child will need to go on a new line\r\n\r\n\t          xpos = getPaddingLeft();\r\n\t          ypos += line_height;\r\n\r\n\t          line_height = childHeight + childMarginTop + childMarginBottom;\r\n\t        }\r\n\t        else {\r\n\t          // enough space for this child on the current line\r\n\t          line_height = Math.max(\r\n\t              line_height,\r\n\t              childMarginTop + childHeight + childMarginBottom);\r\n\t        }\r\n\r\n\t        child.layout(\r\n\t            xpos + childMarginLeft,\r\n\t            ypos + childMarginTop,\r\n\t            xpos + childMarginLeft + childWidth,\r\n\t            ypos + childMarginTop + childHeight);\r\n\r\n\t        xpos += childMarginLeft + childWidth + childMarginRight;\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\t \r\nAnd use in XML Layout:\r\n\r\n     &lt;com.test.widget.HorizontalFlowLayout\r\n                android:id=&quot;@+id/horizontal_flow_layout&quot;\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:paddingLeft=&quot;@dimen/size_5&quot;\r\n                android:paddingRight=&quot;@dimen/size_5&quot;&gt;\r\n\r\n     &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingRight=&quot;5dp&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:text=&quot;блабла&quot;\r\n        android:id=&quot;@+id/textView1&quot;/&gt;\r\n\r\n     &lt;EditText\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/name&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:inputType=&quot;textCapSentences&quot;\r\n        android:ems=&quot;5&quot;/&gt;\r\n     &lt;/com.test.widget.HorizontalFlowLayout&gt;","title":"How to create Flow TextView","body":"<p>Try this,</p>\n<pre><code>public class HorizontalFlowLayout extends RelativeLayout {\n\n  /**\n   * Constructor to use when creating View from code.\n   */\n  public HorizontalFlowLayout(Context context) {\n    super(context);\n  }\n\n  /**\n   * Constructor that is called when inflating View from XML.\n   */\n  public HorizontalFlowLayout(Context context, AttributeSet attrs) {\n    super(context, attrs);\n  }\n\n  /**\n   * Perform inflation from XML and apply a class-specific base style.\n   */\n  public HorizontalFlowLayout(Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n  }\n\n  @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    // need to call super.onMeasure(...) otherwise get some funny behaviour\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n\n    final int width = MeasureSpec.getSize(widthMeasureSpec);\n    int height = MeasureSpec.getSize(heightMeasureSpec);\n\n    // increment the x position as we progress through a line\n    int xpos = getPaddingLeft();\n    // increment the y position as we progress through the lines\n    int ypos = getPaddingTop();\n    // the height of the current line\n    int line_height = 0;\n\n    // go through children\n    // to work out the height required for this view\n\n    // call to measure size of children not needed I think?!\n    // getting child's measured height/width seems to work okay without it\n    //measureChildren(widthMeasureSpec, heightMeasureSpec);\n\n    View child;\n    MarginLayoutParams childMarginLayoutParams;\n    int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\n\n    for (int i = 0; i &lt; getChildCount(); i++) {\n      child = getChildAt(i);\n\n      if (child.getVisibility() != GONE) {\n        childWidth = child.getMeasuredWidth();\n        childHeight = child.getMeasuredHeight();\n\n        if (child.getLayoutParams() != null\n            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\n          childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\n\n          childMarginLeft = childMarginLayoutParams.leftMargin;\n          childMarginRight = childMarginLayoutParams.rightMargin;\n          childMarginTop = childMarginLayoutParams.topMargin;\n          childMarginBottom = childMarginLayoutParams.bottomMargin;\n        }\n        else {\n          childMarginLeft = 0;\n          childMarginRight = 0;\n          childMarginTop = 0;\n          childMarginBottom = 0;\n        }\n\n        if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; width) {\n          // this child will need to go on a new line\n\n          xpos = getPaddingLeft();\n          ypos += line_height;\n\n          line_height = childMarginTop + childHeight + childMarginBottom;\n        }\n        else {\n          // enough space for this child on the current line\n          line_height = Math.max(\n              line_height,\n              childMarginTop + childHeight + childMarginBottom);\n        }\n\n        xpos += childMarginLeft + childWidth + childMarginRight;\n      }\n    }\n\n    ypos += line_height + getPaddingBottom();\n\n    if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\n      // set height as measured since there's no height restrictions\n      height = ypos;\n    }\n    else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST\n        &amp;&amp; ypos &lt; height) {\n      // set height as measured since it's less than the maximum allowed\n      height = ypos;\n    }\n\n    setMeasuredDimension(width, height);\n  }\n\n  @Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    // increment the x position as we progress through a line\n    int xpos = getPaddingLeft();\n    // increment the y position as we progress through the lines\n    int ypos = getPaddingTop();\n    // the height of the current line\n    int line_height = 0;\n\n    View child;\n    MarginLayoutParams childMarginLayoutParams;\n    int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\n\n    for (int i = 0; i &lt; getChildCount(); i++) {\n      child = getChildAt(i);\n\n      if (child.getVisibility() != GONE) {\n        childWidth = child.getMeasuredWidth();\n        childHeight = child.getMeasuredHeight();\n\n        if (child.getLayoutParams() != null\n            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\n          childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\n\n          childMarginLeft = childMarginLayoutParams.leftMargin;\n          childMarginRight = childMarginLayoutParams.rightMargin;\n          childMarginTop = childMarginLayoutParams.topMargin;\n          childMarginBottom = childMarginLayoutParams.bottomMargin;\n        }\n        else {\n          childMarginLeft = 0;\n          childMarginRight = 0;\n          childMarginTop = 0;\n          childMarginBottom = 0;\n        }\n\n        if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; r - l) {\n          // this child will need to go on a new line\n\n          xpos = getPaddingLeft();\n          ypos += line_height;\n\n          line_height = childHeight + childMarginTop + childMarginBottom;\n        }\n        else {\n          // enough space for this child on the current line\n          line_height = Math.max(\n              line_height,\n              childMarginTop + childHeight + childMarginBottom);\n        }\n\n        child.layout(\n            xpos + childMarginLeft,\n            ypos + childMarginTop,\n            xpos + childMarginLeft + childWidth,\n            ypos + childMarginTop + childHeight);\n\n        xpos += childMarginLeft + childWidth + childMarginRight;\n      }\n    }\n  }\n}\n \n</code></pre>\n<p>And use in XML Layout:</p>\n<pre><code> &lt;com.test.widget.HorizontalFlowLayout\n            android:id=&quot;@+id/horizontal_flow_layout&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingLeft=&quot;@dimen/size_5&quot;\n            android:paddingRight=&quot;@dimen/size_5&quot;&gt;\n\n &lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingRight=&quot;5dp&quot;\n    android:textSize=&quot;20sp&quot;\n    android:text=&quot;блабла&quot;\n    android:id=&quot;@+id/textView1&quot;/&gt;\n\n &lt;EditText\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/name&quot;\n    android:textSize=&quot;20sp&quot;\n    android:inputType=&quot;textCapSentences&quot;\n    android:ems=&quot;5&quot;/&gt;\n &lt;/com.test.widget.HorizontalFlowLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216810,"reputation":16569,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459844718,"creation_date":1459844718,"answer_id":36420924,"question_id":36275580,"body_markdown":"Here&#39;s full source code for `FlowLayout` with reference to actual author. I&#39;m using this implementation and it works:\r\n\r\n    /**  @author RAW\r\n     * @reference http://nishantvnair.wordpress.com/2010/09/28/flowlayout-in-android/\r\n     * Some changes applied, i.e. default horz and vert spacings...\r\n     * */\r\n    \r\n     public class FlowLayout extends ViewGroup {\r\n        private static int DEFAULT_HORIZONTAL_SPACING=5;\r\n        private static int DEFAULT_VERTICAL_SPACING=5;\r\n        private int line_height;\r\n    \r\n        public static class LayoutParams extends ViewGroup.LayoutParams {\r\n            public final int horizontal_spacing;\r\n            public final int vertical_spacing;\r\n    \r\n            /** @param horizontal_spacing Pixels between items, horizontally\r\n             *  @param vertical_spacing Pixels between items, vertically          */\r\n            public LayoutParams(int horizontal_spacing, int vertical_spacing) {\r\n                super(0, 0);\r\n                this.horizontal_spacing = horizontal_spacing;\r\n                this.vertical_spacing = vertical_spacing;\r\n            }\r\n        }\r\n    \r\n        public FlowLayout(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public FlowLayout(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n            assert (MeasureSpec.getMode(widthMeasureSpec) != MeasureSpec.UNSPECIFIED);\r\n            final int width = MeasureSpec.getSize(widthMeasureSpec) - getPaddingLeft() - getPaddingRight();\r\n            int height = MeasureSpec.getSize(heightMeasureSpec) - getPaddingTop() - getPaddingBottom();\r\n            final int count = getChildCount();\r\n            int line_height = 0;\r\n            int xpos = getPaddingLeft();\r\n            int ypos = getPaddingTop();\r\n            int childHeightMeasureSpec;\r\n            if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {\r\n                childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(height, MeasureSpec.AT_MOST);\r\n            }\r\n            else {\r\n                childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED);\r\n            }\r\n            for (int i = 0; i &lt; count; i++) {\r\n                final View child = getChildAt(i);\r\n                if (child.getVisibility() != GONE) {\r\n                    int horizontal_spacing, vertical_spacing;\r\n                    final ViewGroup.LayoutParams lp = child.getLayoutParams();\r\n                    if(lp instanceof LayoutParams) {\r\n                        horizontal_spacing=((LayoutParams )lp).horizontal_spacing;\r\n                        vertical_spacing=((LayoutParams )lp).vertical_spacing;\r\n                    } else {\r\n                        horizontal_spacing=DEFAULT_HORIZONTAL_SPACING;\r\n                        vertical_spacing=DEFAULT_VERTICAL_SPACING;\r\n                    }\r\n                    child.measure(MeasureSpec.makeMeasureSpec(width, MeasureSpec.AT_MOST), childHeightMeasureSpec);\r\n                    final int childw = child.getMeasuredWidth();\r\n                    line_height = Math.max(line_height, child.getMeasuredHeight() + vertical_spacing);\r\n                    if (xpos + childw &gt; width) {\r\n                        xpos = getPaddingLeft();\r\n                        ypos += line_height;\r\n                    }\r\n                    xpos += childw + horizontal_spacing;\r\n                }\r\n            }\r\n            this.line_height = line_height;\r\n            if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\r\n                height = ypos + line_height;\r\n            }\r\n            else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {\r\n                if (ypos + line_height &lt; height) {\r\n                    height = ypos + line_height;\r\n                }\r\n            }\r\n            setMeasuredDimension(width, height);\r\n        }\r\n    \r\n        @Override\r\n        protected ViewGroup.LayoutParams generateDefaultLayoutParams() {\r\n            return new LayoutParams(1, 1); // default of 1px spacing\r\n        }\r\n    \r\n        @Override\r\n        protected boolean checkLayoutParams(ViewGroup.LayoutParams p) {\r\n            if (p instanceof LayoutParams) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n            final int count = getChildCount();\r\n            final int width = r - l;\r\n            int xpos = getPaddingLeft();\r\n            int ypos = getPaddingTop();\r\n            for (int i = 0; i &lt; count; i++) {\r\n                final View child = getChildAt(i);\r\n                if (child.getVisibility() != GONE) {\r\n                    final int childw = child.getMeasuredWidth();\r\n                    final int childh = child.getMeasuredHeight();\r\n                    final ViewGroup.LayoutParams lp = child.getLayoutParams();\r\n                    if (xpos + childw &gt; width) {\r\n                        xpos = getPaddingLeft();\r\n                        ypos += line_height;\r\n                    }\r\n                    child.layout(xpos, ypos, xpos + childw, ypos + childh);\r\n                    if(lp instanceof LayoutParams)\r\n                        xpos += childw + ((LayoutParams)lp).horizontal_spacing;\r\n                    else\r\n                        xpos += childw + DEFAULT_HORIZONTAL_SPACING;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nUsage kinda:\r\n\r\n    &lt;com.mydomain.FlowLayout\r\n            android:id=&quot;@+id/recipientsList&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; &gt;\r\n\r\n","title":"How to create Flow TextView","body":"<p>Here's full source code for <code>FlowLayout</code> with reference to actual author. I'm using this implementation and it works:</p>\n\n<pre><code>/**  @author RAW\n * @reference http://nishantvnair.wordpress.com/2010/09/28/flowlayout-in-android/\n * Some changes applied, i.e. default horz and vert spacings...\n * */\n\n public class FlowLayout extends ViewGroup {\n    private static int DEFAULT_HORIZONTAL_SPACING=5;\n    private static int DEFAULT_VERTICAL_SPACING=5;\n    private int line_height;\n\n    public static class LayoutParams extends ViewGroup.LayoutParams {\n        public final int horizontal_spacing;\n        public final int vertical_spacing;\n\n        /** @param horizontal_spacing Pixels between items, horizontally\n         *  @param vertical_spacing Pixels between items, vertically          */\n        public LayoutParams(int horizontal_spacing, int vertical_spacing) {\n            super(0, 0);\n            this.horizontal_spacing = horizontal_spacing;\n            this.vertical_spacing = vertical_spacing;\n        }\n    }\n\n    public FlowLayout(Context context) {\n        super(context);\n    }\n\n    public FlowLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        assert (MeasureSpec.getMode(widthMeasureSpec) != MeasureSpec.UNSPECIFIED);\n        final int width = MeasureSpec.getSize(widthMeasureSpec) - getPaddingLeft() - getPaddingRight();\n        int height = MeasureSpec.getSize(heightMeasureSpec) - getPaddingTop() - getPaddingBottom();\n        final int count = getChildCount();\n        int line_height = 0;\n        int xpos = getPaddingLeft();\n        int ypos = getPaddingTop();\n        int childHeightMeasureSpec;\n        if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {\n            childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(height, MeasureSpec.AT_MOST);\n        }\n        else {\n            childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED);\n        }\n        for (int i = 0; i &lt; count; i++) {\n            final View child = getChildAt(i);\n            if (child.getVisibility() != GONE) {\n                int horizontal_spacing, vertical_spacing;\n                final ViewGroup.LayoutParams lp = child.getLayoutParams();\n                if(lp instanceof LayoutParams) {\n                    horizontal_spacing=((LayoutParams )lp).horizontal_spacing;\n                    vertical_spacing=((LayoutParams )lp).vertical_spacing;\n                } else {\n                    horizontal_spacing=DEFAULT_HORIZONTAL_SPACING;\n                    vertical_spacing=DEFAULT_VERTICAL_SPACING;\n                }\n                child.measure(MeasureSpec.makeMeasureSpec(width, MeasureSpec.AT_MOST), childHeightMeasureSpec);\n                final int childw = child.getMeasuredWidth();\n                line_height = Math.max(line_height, child.getMeasuredHeight() + vertical_spacing);\n                if (xpos + childw &gt; width) {\n                    xpos = getPaddingLeft();\n                    ypos += line_height;\n                }\n                xpos += childw + horizontal_spacing;\n            }\n        }\n        this.line_height = line_height;\n        if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\n            height = ypos + line_height;\n        }\n        else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {\n            if (ypos + line_height &lt; height) {\n                height = ypos + line_height;\n            }\n        }\n        setMeasuredDimension(width, height);\n    }\n\n    @Override\n    protected ViewGroup.LayoutParams generateDefaultLayoutParams() {\n        return new LayoutParams(1, 1); // default of 1px spacing\n    }\n\n    @Override\n    protected boolean checkLayoutParams(ViewGroup.LayoutParams p) {\n        if (p instanceof LayoutParams) {\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        final int count = getChildCount();\n        final int width = r - l;\n        int xpos = getPaddingLeft();\n        int ypos = getPaddingTop();\n        for (int i = 0; i &lt; count; i++) {\n            final View child = getChildAt(i);\n            if (child.getVisibility() != GONE) {\n                final int childw = child.getMeasuredWidth();\n                final int childh = child.getMeasuredHeight();\n                final ViewGroup.LayoutParams lp = child.getLayoutParams();\n                if (xpos + childw &gt; width) {\n                    xpos = getPaddingLeft();\n                    ypos += line_height;\n                }\n                child.layout(xpos, ypos, xpos + childw, ypos + childh);\n                if(lp instanceof LayoutParams)\n                    xpos += childw + ((LayoutParams)lp).horizontal_spacing;\n                else\n                    xpos += childw + DEFAULT_HORIZONTAL_SPACING;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Usage kinda:</p>\n\n<pre><code>&lt;com.mydomain.FlowLayout\n        android:id=\"@+id/recipientsList\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" &gt;\n</code></pre>\n"}],"owner":{"account_id":5917247,"reputation":1655,"user_id":4655668,"accept_rate":52,"display_name":"JohnPix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1690,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1669042978,"creation_date":1459226423,"question_id":36275580,"body_markdown":"Working on app where user has to put some data in `EditText`, but in front and behind this `EditText` I have `TextViews`. For that I use `(horizontal)` `LinearLayout` where I put `TextView` `EditText` `TextView`. I faced with problem of line transfer. Please, help me to find a solution.\r\n\r\nIt looks like this now:\r\n\r\n    |blabla_______tatata|\r\n    |             tatata|\r\n\r\nI need like this:\r\n\r\n    |blabla_______tatata|\r\n    |tatata             |\r\n\r\nI tried to use [FlowTextView][1] but it didn&#39;t help, It looks ugly, usable for pictures only. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n3rd way by using Flow Layout\r\n----------------------------\r\n\r\nThe problem is: it moves to the second line if it doesn&#39;t have enough space. Please help me to make some correction here: \r\n\r\n[![enter image description here][3]][3]\r\n\r\nManifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.nikolai.app&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMain Activity\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    }\r\n\r\nHorizontalFlowLayout\r\n\r\n    public class HorizontalFlowLayout extends RelativeLayout {\r\n    \r\n        /**\r\n         * Constructor to use when creating View from code.\r\n         */\r\n        public HorizontalFlowLayout(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        /**\r\n         * Constructor that is called when inflating View from XML.\r\n         */\r\n        public HorizontalFlowLayout(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        /**\r\n         * Perform inflation from XML and apply a class-specific base style.\r\n         */\r\n        public HorizontalFlowLayout(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n        }\r\n    \r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n            // need to call super.onMeasure(...) otherwise get some funny behaviour\r\n            super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n    \r\n            final int width = MeasureSpec.getSize(widthMeasureSpec);\r\n            int height = MeasureSpec.getSize(heightMeasureSpec);\r\n    \r\n            // increment the x position as we progress through a line\r\n            int xpos = getPaddingLeft();\r\n            // increment the y position as we progress through the lines\r\n            int ypos = getPaddingTop();\r\n            // the height of the current line\r\n            int line_height = 0;\r\n    \r\n            // go through children\r\n            // to work out the height required for this view\r\n    \r\n            // call to measure size of children not needed I think?!\r\n            // getting child&#39;s measured height/width seems to work okay without it\r\n            //measureChildren(widthMeasureSpec, heightMeasureSpec);\r\n    \r\n            View child;\r\n            MarginLayoutParams childMarginLayoutParams;\r\n            int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\r\n    \r\n            for (int i = 0; i &lt; getChildCount(); i++) {\r\n                child = getChildAt(i);\r\n    \r\n                if (child.getVisibility() != GONE) {\r\n                    childWidth = child.getMeasuredWidth();\r\n                    childHeight = child.getMeasuredHeight();\r\n    \r\n                    if (child.getLayoutParams() != null\r\n                            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\r\n                        childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\r\n    \r\n                        childMarginLeft = childMarginLayoutParams.leftMargin;\r\n                        childMarginRight = childMarginLayoutParams.rightMargin;\r\n                        childMarginTop = childMarginLayoutParams.topMargin;\r\n                        childMarginBottom = childMarginLayoutParams.bottomMargin;\r\n                    }\r\n                    else {\r\n                        childMarginLeft = 0;\r\n                        childMarginRight = 0;\r\n                        childMarginTop = 0;\r\n                        childMarginBottom = 0;\r\n                    }\r\n    \r\n                    if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; width) {\r\n                        // this child will need to go on a new line\r\n    \r\n                        xpos = getPaddingLeft();\r\n                        ypos += line_height;\r\n    \r\n                        line_height = childMarginTop + childHeight + childMarginBottom;\r\n                    }\r\n                    else {\r\n                        // enough space for this child on the current line\r\n                        line_height = Math.max(\r\n                                line_height,\r\n                                childMarginTop + childHeight + childMarginBottom);\r\n                    }\r\n    \r\n                    xpos += childMarginLeft + childWidth + childMarginRight;\r\n                }\r\n            }\r\n    \r\n            ypos += line_height + getPaddingBottom();\r\n    \r\n            if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\r\n                // set height as measured since there&#39;s no height restrictions\r\n                height = ypos;\r\n            }\r\n            else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST\r\n                    &amp;&amp; ypos &lt; height) {\r\n                // set height as measured since it&#39;s less than the maximum allowed\r\n                height = ypos;\r\n            }\r\n    \r\n            setMeasuredDimension(width, height);\r\n        }\r\n    \r\n        @Override\r\n        protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n            // increment the x position as we progress through a line\r\n            int xpos = getPaddingLeft();\r\n            // increment the y position as we progress through the lines\r\n            int ypos = getPaddingTop();\r\n            // the height of the current line\r\n            int line_height = 0;\r\n    \r\n            View child;\r\n            MarginLayoutParams childMarginLayoutParams;\r\n            int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\r\n    \r\n            for (int i = 0; i &lt; getChildCount(); i++) {\r\n                child = getChildAt(i);\r\n    \r\n                if (child.getVisibility() != GONE) {\r\n                    childWidth = child.getMeasuredWidth();\r\n                    childHeight = child.getMeasuredHeight();\r\n    \r\n                    if (child.getLayoutParams() != null\r\n                            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\r\n                        childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\r\n    \r\n                        childMarginLeft = childMarginLayoutParams.leftMargin;\r\n                        childMarginRight = childMarginLayoutParams.rightMargin;\r\n                        childMarginTop = childMarginLayoutParams.topMargin;\r\n                        childMarginBottom = childMarginLayoutParams.bottomMargin;\r\n                    }\r\n                    else {\r\n                        childMarginLeft = 0;\r\n                        childMarginRight = 0;\r\n                        childMarginTop = 0;\r\n                        childMarginBottom = 0;\r\n                    }\r\n    \r\n                    if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; r - l) {\r\n                        // this child will need to go on a new line\r\n    \r\n                        xpos = getPaddingLeft();\r\n                        ypos += line_height;\r\n    \r\n                        line_height = childHeight + childMarginTop + childMarginBottom;\r\n                    }\r\n                    else {\r\n                        // enough space for this child on the current line\r\n                        line_height = Math.max(\r\n                                line_height,\r\n                                childMarginTop + childHeight + childMarginBottom);\r\n                    }\r\n    \r\n                    child.layout(\r\n                            xpos + childMarginLeft,\r\n                            ypos + childMarginTop,\r\n                            xpos + childMarginLeft + childWidth,\r\n                            ypos + childMarginTop + childHeight);\r\n    \r\n                    xpos += childMarginLeft + childWidth + childMarginRight;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nMy XML\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        tools:context=&quot;com.example.nikolai.app.MainActivity&quot;&gt;\r\n    \r\n        &lt;com.example.nikolai.app.HorizontalFlowLayout\r\n            android:id=&quot;@+id/horizontal_flow_layout&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingLeft=&quot;@dimen/size_5&quot;\r\n            android:paddingRight=&quot;@dimen/size_5&quot;&gt;\r\n    \r\n       \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;20dp&quot;\r\n                android:text=&quot;blablabla&quot;/&gt;\r\n    \r\n            &lt;EditText\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;20dp&quot;\r\n                android:ems=&quot;7&quot;/&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;20dp&quot;\r\n                android:text=&quot;tatatatatatatatata&quot;/&gt;\r\n        \r\n        &lt;/com.example.nikolai.app.HorizontalFlowLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://github.com/deano2390/FlowTextView\r\n  [2]: http://i.stack.imgur.com/rnI4p.png\r\n  [3]: http://i.stack.imgur.com/A8Eok.jpg","title":"How to create Flow TextView","body":"<p>Working on app where user has to put some data in <code>EditText</code>, but in front and behind this <code>EditText</code> I have <code>TextViews</code>. For that I use <code>(horizontal)</code> <code>LinearLayout</code> where I put <code>TextView</code> <code>EditText</code> <code>TextView</code>. I faced with problem of line transfer. Please, help me to find a solution.</p>\n\n<p>It looks like this now:</p>\n\n<pre><code>|blabla_______tatata|\n|             tatata|\n</code></pre>\n\n<p>I need like this:</p>\n\n<pre><code>|blabla_______tatata|\n|tatata             |\n</code></pre>\n\n<p>I tried to use <a href=\"https://github.com/deano2390/FlowTextView\" rel=\"noreferrer\">FlowTextView</a> but it didn't help, It looks ugly, usable for pictures only. </p>\n\n<p><a href=\"https://i.stack.imgur.com/rnI4p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rnI4p.png\" alt=\"enter image description here\"></a></p>\n\n<h2>3rd way by using Flow Layout</h2>\n\n<p>The problem is: it moves to the second line if it doesn't have enough space. Please help me to make some correction here: </p>\n\n<p><a href=\"https://i.stack.imgur.com/A8Eok.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A8Eok.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.nikolai.app\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Main Activity</p>\n\n<pre><code>    public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n\n<p>HorizontalFlowLayout</p>\n\n<pre><code>public class HorizontalFlowLayout extends RelativeLayout {\n\n    /**\n     * Constructor to use when creating View from code.\n     */\n    public HorizontalFlowLayout(Context context) {\n        super(context);\n    }\n\n    /**\n     * Constructor that is called when inflating View from XML.\n     */\n    public HorizontalFlowLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    /**\n     * Perform inflation from XML and apply a class-specific base style.\n     */\n    public HorizontalFlowLayout(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        // need to call super.onMeasure(...) otherwise get some funny behaviour\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n\n        final int width = MeasureSpec.getSize(widthMeasureSpec);\n        int height = MeasureSpec.getSize(heightMeasureSpec);\n\n        // increment the x position as we progress through a line\n        int xpos = getPaddingLeft();\n        // increment the y position as we progress through the lines\n        int ypos = getPaddingTop();\n        // the height of the current line\n        int line_height = 0;\n\n        // go through children\n        // to work out the height required for this view\n\n        // call to measure size of children not needed I think?!\n        // getting child's measured height/width seems to work okay without it\n        //measureChildren(widthMeasureSpec, heightMeasureSpec);\n\n        View child;\n        MarginLayoutParams childMarginLayoutParams;\n        int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\n\n        for (int i = 0; i &lt; getChildCount(); i++) {\n            child = getChildAt(i);\n\n            if (child.getVisibility() != GONE) {\n                childWidth = child.getMeasuredWidth();\n                childHeight = child.getMeasuredHeight();\n\n                if (child.getLayoutParams() != null\n                        &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\n                    childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\n\n                    childMarginLeft = childMarginLayoutParams.leftMargin;\n                    childMarginRight = childMarginLayoutParams.rightMargin;\n                    childMarginTop = childMarginLayoutParams.topMargin;\n                    childMarginBottom = childMarginLayoutParams.bottomMargin;\n                }\n                else {\n                    childMarginLeft = 0;\n                    childMarginRight = 0;\n                    childMarginTop = 0;\n                    childMarginBottom = 0;\n                }\n\n                if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; width) {\n                    // this child will need to go on a new line\n\n                    xpos = getPaddingLeft();\n                    ypos += line_height;\n\n                    line_height = childMarginTop + childHeight + childMarginBottom;\n                }\n                else {\n                    // enough space for this child on the current line\n                    line_height = Math.max(\n                            line_height,\n                            childMarginTop + childHeight + childMarginBottom);\n                }\n\n                xpos += childMarginLeft + childWidth + childMarginRight;\n            }\n        }\n\n        ypos += line_height + getPaddingBottom();\n\n        if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\n            // set height as measured since there's no height restrictions\n            height = ypos;\n        }\n        else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST\n                &amp;&amp; ypos &lt; height) {\n            // set height as measured since it's less than the maximum allowed\n            height = ypos;\n        }\n\n        setMeasuredDimension(width, height);\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        // increment the x position as we progress through a line\n        int xpos = getPaddingLeft();\n        // increment the y position as we progress through the lines\n        int ypos = getPaddingTop();\n        // the height of the current line\n        int line_height = 0;\n\n        View child;\n        MarginLayoutParams childMarginLayoutParams;\n        int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\n\n        for (int i = 0; i &lt; getChildCount(); i++) {\n            child = getChildAt(i);\n\n            if (child.getVisibility() != GONE) {\n                childWidth = child.getMeasuredWidth();\n                childHeight = child.getMeasuredHeight();\n\n                if (child.getLayoutParams() != null\n                        &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\n                    childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\n\n                    childMarginLeft = childMarginLayoutParams.leftMargin;\n                    childMarginRight = childMarginLayoutParams.rightMargin;\n                    childMarginTop = childMarginLayoutParams.topMargin;\n                    childMarginBottom = childMarginLayoutParams.bottomMargin;\n                }\n                else {\n                    childMarginLeft = 0;\n                    childMarginRight = 0;\n                    childMarginTop = 0;\n                    childMarginBottom = 0;\n                }\n\n                if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; r - l) {\n                    // this child will need to go on a new line\n\n                    xpos = getPaddingLeft();\n                    ypos += line_height;\n\n                    line_height = childHeight + childMarginTop + childMarginBottom;\n                }\n                else {\n                    // enough space for this child on the current line\n                    line_height = Math.max(\n                            line_height,\n                            childMarginTop + childHeight + childMarginBottom);\n                }\n\n                child.layout(\n                        xpos + childMarginLeft,\n                        ypos + childMarginTop,\n                        xpos + childMarginLeft + childWidth,\n                        ypos + childMarginTop + childHeight);\n\n                xpos += childMarginLeft + childWidth + childMarginRight;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My XML</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\"com.example.nikolai.app.MainActivity\"&gt;\n\n    &lt;com.example.nikolai.app.HorizontalFlowLayout\n        android:id=\"@+id/horizontal_flow_layout\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:paddingLeft=\"@dimen/size_5\"\n        android:paddingRight=\"@dimen/size_5\"&gt;\n\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textSize=\"20dp\"\n            android:text=\"blablabla\"/&gt;\n\n        &lt;EditText\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textSize=\"20dp\"\n            android:ems=\"7\"/&gt;\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textSize=\"20dp\"\n            android:text=\"tatatatatatatatata\"/&gt;\n\n    &lt;/com.example.nikolai.app.HorizontalFlowLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/A8Eok.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A8Eok.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","email","intellij-idea","smtp"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615226784,"creation_date":1615226784,"answer_id":66534925,"question_id":66534689,"body_markdown":"Basically like my code.\r\n - It is just a proof of concept, and quite unsafe and inefficient\r\n - I&#39;m using lombok. The `read()` method is basically a `BufferedReader.readLine()` call on the socket&#39;s InputStream.\r\n - send() is a writeLine\r\n - My entry point `handleSocket()` is when the Socket connection is established.\r\n - The String.toNLine() method is a Lombok extension, you can replace it with string.replace(&quot;\\r\\n&quot; , &quot;\\n&quot;);\r\n\r\nBe aware that this is simply a stupid implementation that can be fooled easily, but it enables basic email receiving. You get ALL the communication in the StringBuilder. You could take that final whole text apart with MIME classes (Header / newline / newline body method that is used by HTTP, SMTP etc).\r\n\r\nThis approach collects the whole comunication first, then later (outside given code) handles the actual MIME part. You could also implement it differently, as in the code knows the current state of transmission and details of the MIME object it&#39;s currently receiving, and updates its status/workflow with each line. That would be much more efficient, but the code would be a bit more complex.\r\n\r\n\r\n    package jc.lib.io.net.email.smtp.server.receiver;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    import jc.lib.aop.lombok.java.lang.JcAString;\r\n    import jc.lib.collection.tuples.JcTriple;\r\n    import jc.lib.io.net.email.JcEMailBasics;\r\n    import jc.lib.io.net.email.util.JcAServerSocketHandlerBase;\r\n    import jc.lib.lang.thread.event.JcEvent;\r\n    import lombok.experimental.ExtensionMethod;\r\n    \r\n    @ExtensionMethod({ JcAString.class })\r\n    public class JcSmtpReceiverSocketHandler extends JcAServerSocketHandlerBase {\r\n    \r\n    \r\n    \r\n    \tpublic final JcEvent&lt;JcTriple&lt;JcSmtpReceiver, JcSmtpReceiverSocketHandler, File&gt;&gt; EVENT_EMAIL_RECEIVED = new JcEvent&lt;&gt;();\r\n    \r\n    \r\n    \r\n    \tprivate final JcSmtpReceiver mJcAServerBase;\r\n    \r\n    \tprivate boolean mReceivingData;\r\n    \r\n    \tpublic JcSmtpReceiverSocketHandler(final JcSmtpReceiver pJcAServerBase, final ServerSocket pServerSocket, final Socket pSocket) throws IOException {\r\n    \t\tsuper(pServerSocket, pSocket);\r\n    \t\tmJcAServerBase = pJcAServerBase;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@Override protected void handleSocket() throws IOException {\r\n    \t\tsend(&quot;220 cbsoft.dev SMTP &quot; + JcEMailBasics.NAME);\r\n    \r\n    \t\tfinal StringBuilder sb = new StringBuilder();\r\n    \r\n    \t\tmainLoop: while (!mSocket.isClosed()) {\r\n    \t\t\tfinal String read = read();\r\n    \t\t\tif (read == null) break;\r\n    \r\n    \t\t\tswitch (read) {\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_DATA: {\r\n    \t\t\t\t\tsend(&quot;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;);\r\n    \t\t\t\t\tmReceivingData = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_END_OF_DATA: {\r\n    \t\t\t\t\tsend(&quot;250 OK&quot;);\r\n    \t\t\t\t\tmReceivingData = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_QUIT: {\r\n    \t\t\t\t\tsend(&quot;221 &quot; + JcEMailBasics.NAME + &quot; signing off&quot;);\r\n    \t\t\t\t\tbreak mainLoop;\r\n    \t\t\t\t}\r\n    \t\t\t\tdefault: {\r\n    \t\t\t\t\tfinal String correctedRead = read.startsWith(&quot;.&quot;) ? read.substring(1) : read;\r\n    \t\t\t\t\tsb.append(correctedRead + &quot;\\n&quot;);\r\n    \t\t\t\t\tif (!mReceivingData) send(&quot;250 Ok&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\r\n    \t\tfinal File file = new File(&quot;mails/inc_&quot; + sdf.format(new Date()) + &quot;.email.txt&quot;);\r\n    \t\tfile.getParentFile().mkdirs();\r\n    \r\n    \t\tString msg = sb.toString();\r\n    \t\tmsg = msg.toNLineBreak();\r\n    \t\tfinal String header = msg.subStringBefore(&quot;\\n\\n&quot;);\r\n    \t\tSystem.out.println(&quot;header:&quot;);\r\n    \r\n    \r\n    \r\n    \t\ttry (FileOutputStream fos = new FileOutputStream(file)) {\r\n    \t\t\tfos.write(msg.getBytes());\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;File saved as &quot; + file.getCanonicalPath());\r\n    \r\n    \t\tEVENT_EMAIL_RECEIVED.trigger(new JcTriple&lt;&gt;(mJcAServerBase, this, file));\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nCheck out this file for some ports and other info.\r\n\r\n\r\n    package jc.lib.io.net.email;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    \r\n    import jc.lib.io.net.email.util.JcAServerBase;\r\n    import jc.lib.lang.JcUArray;\r\n    \r\n    public class JcEMailBasics {\r\n    \r\n    \r\n    \r\n    \tstatic public final int\t\tSMTP_PORT_1\t= 25;\r\n    \tstatic public final int\t\tSMTP_PORT_2\t= 587;\r\n    \tstatic public final int\t\tSMTP_PORT_3\t= 465;\r\n    \tstatic public final int[]\tSMTP_PORTS\t= { SMTP_PORT_1, SMTP_PORT_2, SMTP_PORT_3 };\r\n    \r\n    \tstatic public final int\t\tPOP_PORT_1\t\t\t= 110;\r\n    \tstatic public final int\t\tPOP_PORT_SSL\t\t= 995;\r\n    \tstatic public final int\t\tPOP_PORT_KERBEROS\t= 1109;\r\n    \tstatic public final int[]\tPOP_PORTS\t\t\t= { POP_PORT_1, POP_PORT_SSL, POP_PORT_KERBEROS };\r\n    \r\n    \t// netstat -aon | findstr &#39;587&#39;\r\n    \r\n    \r\n    \r\n    \tstatic public final String DEFAULT_CHARSET_SMTP_POP3 = &quot;8859_1&quot;;\r\n    \r\n    \tstatic public final String\tNAME\t\t\t\t= &quot;JC Oblivionat0r POP3 Server&quot;;\r\n    \tstatic public final String\tSERVICE_ADDRESS\t\t= &quot;oblivionat0r@cbsoft.dev&quot;;\r\n    \tstatic public final String\tCONNECTION_CLOSED\t= &quot;CONNECTION_CLOSED_dtnt495n3479r5zb3tr47c3b49c3&quot;;\r\n    \tstatic public final String\tCOMMAND_QUIT\t\t= &quot;QUIT&quot;;\r\n    \tstatic public final String\tCOMMAND_DATA\t\t= &quot;DATA&quot;;\r\n    \tstatic public final String\tCOMMAND_END_OF_DATA\t= &quot;.&quot;;\r\n    \r\n    \r\n    \r\n    \tstatic public void send(final BufferedWriter pBufferedWriter, final String pMessage) throws IOException {\r\n    \t\tpBufferedWriter.write(pMessage + &quot;\\n&quot;);\r\n    \t\tpBufferedWriter.flush();\r\n    \t\tif (JcAServerBase.DEBUG) System.out.println(&quot;SENT:\\t&quot; + pMessage);\r\n    \t}\r\n    \tstatic public String sendExpect(final BufferedWriter pBufferedWriter, final String pMessage, final BufferedReader pBufferedReader, final String... pExpectedResponsePrefixes) throws IOException {\r\n    \t\tsend(pBufferedWriter, pMessage);\r\n    \t\tfinal String read = read(pBufferedReader);\r\n    \t\tfor (final String erp : pExpectedResponsePrefixes) {\r\n    \t\t\tif (read.startsWith(erp)) return read;\r\n    \t\t}\r\n    \t\tthrow new IllegalStateException(&quot;Bad response: Expected [&quot; + JcUArray.toString(&quot;, &quot;, pExpectedResponsePrefixes) + &quot;] got [&quot; + read + &quot;] instead!&quot;);\r\n    \t}\r\n    \r\n    \tstatic public String read(final BufferedReader pBufferedReader) throws IOException {\r\n    \t\tfinal String reply = pBufferedReader.readLine();\r\n    \t\tif (JcAServerBase.DEBUG) System.out.println(&quot;RECV:\\t&quot; + reply);\r\n    \t\treturn reply;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How do I code my own SMTP Server using Java?","body":"<p>Basically like my code.</p>\n<ul>\n<li>It is just a proof of concept, and quite unsafe and inefficient</li>\n<li>I'm using lombok. The <code>read()</code> method is basically a <code>BufferedReader.readLine()</code> call on the socket's InputStream.</li>\n<li>send() is a writeLine</li>\n<li>My entry point <code>handleSocket()</code> is when the Socket connection is established.</li>\n<li>The String.toNLine() method is a Lombok extension, you can replace it with string.replace(&quot;\\r\\n&quot; , &quot;\\n&quot;);</li>\n</ul>\n<p>Be aware that this is simply a stupid implementation that can be fooled easily, but it enables basic email receiving. You get ALL the communication in the StringBuilder. You could take that final whole text apart with MIME classes (Header / newline / newline body method that is used by HTTP, SMTP etc).</p>\n<p>This approach collects the whole comunication first, then later (outside given code) handles the actual MIME part. You could also implement it differently, as in the code knows the current state of transmission and details of the MIME object it's currently receiving, and updates its status/workflow with each line. That would be much more efficient, but the code would be a bit more complex.</p>\n<pre><code>package jc.lib.io.net.email.smtp.server.receiver;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport jc.lib.aop.lombok.java.lang.JcAString;\nimport jc.lib.collection.tuples.JcTriple;\nimport jc.lib.io.net.email.JcEMailBasics;\nimport jc.lib.io.net.email.util.JcAServerSocketHandlerBase;\nimport jc.lib.lang.thread.event.JcEvent;\nimport lombok.experimental.ExtensionMethod;\n\n@ExtensionMethod({ JcAString.class })\npublic class JcSmtpReceiverSocketHandler extends JcAServerSocketHandlerBase {\n\n\n\n    public final JcEvent&lt;JcTriple&lt;JcSmtpReceiver, JcSmtpReceiverSocketHandler, File&gt;&gt; EVENT_EMAIL_RECEIVED = new JcEvent&lt;&gt;();\n\n\n\n    private final JcSmtpReceiver mJcAServerBase;\n\n    private boolean mReceivingData;\n\n    public JcSmtpReceiverSocketHandler(final JcSmtpReceiver pJcAServerBase, final ServerSocket pServerSocket, final Socket pSocket) throws IOException {\n        super(pServerSocket, pSocket);\n        mJcAServerBase = pJcAServerBase;\n    }\n\n\n\n    @Override protected void handleSocket() throws IOException {\n        send(&quot;220 cbsoft.dev SMTP &quot; + JcEMailBasics.NAME);\n\n        final StringBuilder sb = new StringBuilder();\n\n        mainLoop: while (!mSocket.isClosed()) {\n            final String read = read();\n            if (read == null) break;\n\n            switch (read) {\n                case JcEMailBasics.COMMAND_DATA: {\n                    send(&quot;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;);\n                    mReceivingData = true;\n                    break;\n                }\n                case JcEMailBasics.COMMAND_END_OF_DATA: {\n                    send(&quot;250 OK&quot;);\n                    mReceivingData = false;\n                    break;\n                }\n                case JcEMailBasics.COMMAND_QUIT: {\n                    send(&quot;221 &quot; + JcEMailBasics.NAME + &quot; signing off&quot;);\n                    break mainLoop;\n                }\n                default: {\n                    final String correctedRead = read.startsWith(&quot;.&quot;) ? read.substring(1) : read;\n                    sb.append(correctedRead + &quot;\\n&quot;);\n                    if (!mReceivingData) send(&quot;250 Ok&quot;);\n                }\n            }\n        }\n\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\n        final File file = new File(&quot;mails/inc_&quot; + sdf.format(new Date()) + &quot;.email.txt&quot;);\n        file.getParentFile().mkdirs();\n\n        String msg = sb.toString();\n        msg = msg.toNLineBreak();\n        final String header = msg.subStringBefore(&quot;\\n\\n&quot;);\n        System.out.println(&quot;header:&quot;);\n\n\n\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            fos.write(msg.getBytes());\n        }\n        System.out.println(&quot;File saved as &quot; + file.getCanonicalPath());\n\n        EVENT_EMAIL_RECEIVED.trigger(new JcTriple&lt;&gt;(mJcAServerBase, this, file));\n    }\n\n\n\n}\n</code></pre>\n<p>Check out this file for some ports and other info.</p>\n<pre><code>package jc.lib.io.net.email;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\n\nimport jc.lib.io.net.email.util.JcAServerBase;\nimport jc.lib.lang.JcUArray;\n\npublic class JcEMailBasics {\n\n\n\n    static public final int     SMTP_PORT_1 = 25;\n    static public final int     SMTP_PORT_2 = 587;\n    static public final int     SMTP_PORT_3 = 465;\n    static public final int[]   SMTP_PORTS  = { SMTP_PORT_1, SMTP_PORT_2, SMTP_PORT_3 };\n\n    static public final int     POP_PORT_1          = 110;\n    static public final int     POP_PORT_SSL        = 995;\n    static public final int     POP_PORT_KERBEROS   = 1109;\n    static public final int[]   POP_PORTS           = { POP_PORT_1, POP_PORT_SSL, POP_PORT_KERBEROS };\n\n    // netstat -aon | findstr '587'\n\n\n\n    static public final String DEFAULT_CHARSET_SMTP_POP3 = &quot;8859_1&quot;;\n\n    static public final String  NAME                = &quot;JC Oblivionat0r POP3 Server&quot;;\n    static public final String  SERVICE_ADDRESS     = &quot;oblivionat0r@cbsoft.dev&quot;;\n    static public final String  CONNECTION_CLOSED   = &quot;CONNECTION_CLOSED_dtnt495n3479r5zb3tr47c3b49c3&quot;;\n    static public final String  COMMAND_QUIT        = &quot;QUIT&quot;;\n    static public final String  COMMAND_DATA        = &quot;DATA&quot;;\n    static public final String  COMMAND_END_OF_DATA = &quot;.&quot;;\n\n\n\n    static public void send(final BufferedWriter pBufferedWriter, final String pMessage) throws IOException {\n        pBufferedWriter.write(pMessage + &quot;\\n&quot;);\n        pBufferedWriter.flush();\n        if (JcAServerBase.DEBUG) System.out.println(&quot;SENT:\\t&quot; + pMessage);\n    }\n    static public String sendExpect(final BufferedWriter pBufferedWriter, final String pMessage, final BufferedReader pBufferedReader, final String... pExpectedResponsePrefixes) throws IOException {\n        send(pBufferedWriter, pMessage);\n        final String read = read(pBufferedReader);\n        for (final String erp : pExpectedResponsePrefixes) {\n            if (read.startsWith(erp)) return read;\n        }\n        throw new IllegalStateException(&quot;Bad response: Expected [&quot; + JcUArray.toString(&quot;, &quot;, pExpectedResponsePrefixes) + &quot;] got [&quot; + read + &quot;] instead!&quot;);\n    }\n\n    static public String read(final BufferedReader pBufferedReader) throws IOException {\n        final String reply = pBufferedReader.readLine();\n        if (JcAServerBase.DEBUG) System.out.println(&quot;RECV:\\t&quot; + reply);\n        return reply;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615306665,"creation_date":1615306665,"answer_id":66550697,"question_id":66534689,"body_markdown":"Okay, found this early-development standalone version.\r\nUse this INSTEAD of your code; does everything your code does an more.\r\nSingle-threaded ServerSocket handling, so only one connection at a time.\r\n\r\n    package jc.lib.io.net.email.smtp.test1;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.net.SocketTimeoutException;\r\n    import java.net.UnknownHostException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    import jc.lib.io.net.email.JcEMailBasics;\r\n    \r\n    public class Test_SMTP_Server {\r\n    \r\n    \r\n    \r\n    \tstatic public boolean DEBUG = true;\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String s[]) throws UnknownHostException, IOException {\r\n    \t\tfinal Test_SMTP_Server server = new Test_SMTP_Server(JcEMailBasics.SMTP_PORTS);\r\n    \t\tserver.start();\r\n    \r\n    \t\ttry {\r\n    \t\t\tThread.sleep(1 * 60 * 60 * 1000);\r\n    \t\t} catch (final InterruptedException e) { /* */ }\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * OBJECT\r\n    \t */\r\n    \r\n    \tprivate final ServerSocket[]\tmSockets;\r\n    \tprivate volatile boolean\t\tmStopRequested;\r\n    \tprivate static boolean\t\t\tmReceivingData;\r\n    \r\n    \r\n    \r\n    \tpublic Test_SMTP_Server(final int[] pPorts) throws IOException {\r\n    \t\tmSockets = new ServerSocket[pPorts.length];\r\n    \t\tfor (int i = 0; i &lt; pPorts.length; i++) {\r\n    \t\t\tfinal int port = pPorts[i];\r\n    \t\t\ttry {\r\n    \t\t\t\tmSockets[i] = new ServerSocket(port);\r\n    \t\t\t} catch (final java.net.BindException e) {\r\n    \t\t\t\tnew java.net.BindException(&quot;When mountin port &quot; + port + &quot;: &quot; + e.getMessage()).printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Created server socket on port &quot; + port);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void start() {\r\n    \t\tmStopRequested = false;\r\n    \t\tfor (final ServerSocket ss : mSockets) {\r\n    \t\t\tif (ss == null) continue;\r\n    \r\n    \t\t\tfinal Thread t = new Thread(() -&gt; handleServerSocket(ss), &quot;handleServerSocket(&quot; + ss.getLocalPort() + &quot;)&quot;);\r\n    \t\t\tt.setDaemon(true);\r\n    \t\t\tt.start();\r\n    \t\t}\r\n    \t}\r\n    \tprivate void handleServerSocket(final ServerSocket pSS) {\r\n    \t\tfinal String name = &quot;handleServerSocket(&quot; + pSS.getLocalPort() + &quot;)&quot;;\r\n    \t\twhile (!mStopRequested) {\r\n    \t\t\tSystem.out.println(name + &quot;\\tListening for connection...&quot;);\r\n    \t\t\ttry (final Socket socket = pSS.accept();\r\n    \t\t\t\t\tfinal BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream(), JcEMailBasics.DEFAULT_CHARSET_SMTP_POP3));\r\n    \t\t\t\t\tfinal BufferedWriter out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream(), JcEMailBasics.DEFAULT_CHARSET_SMTP_POP3));) {\r\n    \t\t\t\tSystem.out.println(name + &quot;\\tGot new Socket.&quot;);\r\n    \t\t\t\thandle(socket, in, out);\r\n    \t\t\t\tSystem.out.println(name + &quot;\\tClosing Socket.&quot;);\r\n    \t\t\t} catch (final IOException e) {\r\n    \t\t\t\tSystem.err.println(&quot;In &quot; + name + &quot;:&quot;);\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(name + &quot;\\tComm Done.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void stop() {\r\n    \t\tmStopRequested = true;\r\n    \t\tfor (final ServerSocket ss : mSockets) {\r\n    \t\t\ttry {\r\n    \t\t\t\tss.close();\r\n    \t\t\t} catch (final Exception e) { /* */ }\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic private void handle(final Socket pSocket, final BufferedReader pBR, final BufferedWriter pBW) throws IOException {\r\n    \t\t//\t\tsend(&quot;+OK POP3 server ready &lt;&quot; + Test_EMails.SERVICE_ADDRESS + &quot;&gt;&quot;, out);\r\n    \t\tsend(&quot;220 cbsoft.dev SMTP &quot; + JcEMailBasics.NAME, pBW);\r\n    \r\n    \t\tfinal StringBuilder sb = new StringBuilder();\r\n    \r\n    \t\tmainLoop: while (!pSocket.isClosed()) {\r\n    \t\t\tfinal String read = read(pBR);\r\n    \t\t\tif (read == null) break;\r\n    \r\n    \t\t\tswitch (read) {\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_DATA: {\r\n    \t\t\t\t\tsend(&quot;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;, pBW);\r\n    \t\t\t\t\tmReceivingData = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_END_OF_DATA: {\r\n    \t\t\t\t\tsend(&quot;250 OK&quot;, pBW);\r\n    \t\t\t\t\tmReceivingData = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_QUIT: {\r\n    \t\t\t\t\tsend(&quot;221 &quot; + JcEMailBasics.NAME + &quot; signing off&quot;, pBW);\r\n    \t\t\t\t\tbreak mainLoop;\r\n    \t\t\t\t}\r\n    \t\t\t\tdefault: {\r\n    \t\t\t\t\tfinal String correctedRead = read.startsWith(&quot;.&quot;) ? read.substring(1) : read;\r\n    \t\t\t\t\tsb.append(correctedRead + &quot;\\n&quot;);\r\n    \t\t\t\t\tif (!mReceivingData) send(&quot;250 Ok&quot;, pBW);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\r\n    \t\tfinal File file = new File(&quot;mails/inc_&quot; + sdf.format(new Date()) + &quot;.email.txt&quot;);\r\n    \t\tfile.getParentFile().mkdirs();\r\n    \t\tfinal String msg = sb.toString();\r\n    \t\ttry (FileOutputStream fos = new FileOutputStream(file)) {\r\n    \t\t\tfos.write(msg.getBytes());\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;File saved as &quot; + file.getCanonicalPath());\r\n    \t}\r\n    \r\n    \tstatic private void send(final String pMessage, final BufferedWriter pBW) {\r\n    \t\ttry {\r\n    \t\t\tpBW.write(pMessage + &quot;\\n&quot;);\r\n    \t\t\tpBW.flush();\r\n    \t\t\tif (DEBUG) System.out.println(&quot;SENT:\\t&quot; + pMessage);\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic private String read(final BufferedReader pBR) throws IOException {\r\n    \t\ttry {\r\n    \t\t\tfinal String reply = pBR.readLine();\r\n    \t\t\tif (DEBUG) System.out.println(&quot;RECV:\\t&quot; + reply);\r\n    \t\t\treturn reply;\r\n    \r\n    \t\t} catch (final SocketTimeoutException e) {\r\n    \t\t\tSystem.err.println(&quot;SERVER TIMEOUT&quot;);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\nthe only additional file you will need (also included in my previous answer; edited a bit):\r\n\r\n\r\n    package jc.lib.io.net.email;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    public class JcEMailBasics {\r\n    \r\n    \r\n    \r\n    \tstatic public final int\t\tSMTP_PORT_1\t= 25;\r\n    \tstatic public final int\t\tSMTP_PORT_2\t= 587;\r\n    \tstatic public final int\t\tSMTP_PORT_3\t= 465;\r\n    \tstatic public final int[]\tSMTP_PORTS\t= { SMTP_PORT_1, SMTP_PORT_2, SMTP_PORT_3 };\r\n    \r\n    \tstatic public final int\t\tPOP_PORT_1\t\t\t= 110;\r\n    \tstatic public final int\t\tPOP_PORT_SSL\t\t= 995;\r\n    \tstatic public final int\t\tPOP_PORT_KERBEROS\t= 1109;\r\n    \tstatic public final int[]\tPOP_PORTS\t\t\t= { POP_PORT_1, POP_PORT_SSL, POP_PORT_KERBEROS };\r\n    \r\n    \t// netstat -aon | findstr &#39;587&#39;\r\n    \r\n    \r\n    \r\n    \tstatic public final String DEFAULT_CHARSET_SMTP_POP3 = &quot;8859_1&quot;;\r\n    \r\n    \tstatic public final String\tNAME\t\t\t\t= &quot;JC Oblivionat0r POP3 Server&quot;;\r\n    \tstatic public final String\tSERVICE_ADDRESS\t\t= &quot;oblivionat0r@cbsoft.dev&quot;;\r\n    \tstatic public final String\tCONNECTION_CLOSED\t= &quot;CONNECTION_CLOSED_dtnt495n3479r5zb3tr47c3b49c3&quot;;\r\n    \tstatic public final String\tCOMMAND_QUIT\t\t= &quot;QUIT&quot;;\r\n    \tstatic public final String\tCOMMAND_DATA\t\t= &quot;DATA&quot;;\r\n    \tstatic public final String\tCOMMAND_END_OF_DATA\t= &quot;.&quot;;\r\n    \r\n    \r\n    \r\n    \tstatic public void send(final BufferedWriter pBufferedWriter, final String pMessage) throws IOException {\r\n    \t\tpBufferedWriter.write(pMessage + &quot;\\n&quot;);\r\n    \t\tpBufferedWriter.flush();\r\n    \t\tSystem.out.println(&quot;SENT:\\t&quot; + pMessage);\r\n    \t}\r\n    \tstatic public String sendExpect(final BufferedWriter pBufferedWriter, final String pMessage, final BufferedReader pBufferedReader, final String... pExpectedResponsePrefixes) throws IOException {\r\n    \t\tsend(pBufferedWriter, pMessage);\r\n    \t\tfinal String read = read(pBufferedReader);\r\n    \t\tfor (final String erp : pExpectedResponsePrefixes) {\r\n    \t\t\tif (read.startsWith(erp)) return read;\r\n    \t\t}\r\n    \t\tthrow new IllegalStateException(&quot;Bad response: Expected [&quot; + toString(&quot;, &quot;, pExpectedResponsePrefixes) + &quot;] got [&quot; + read + &quot;] instead!&quot;);\r\n    \t}\r\n    \r\n    \tstatic public String read(final BufferedReader pBufferedReader) throws IOException {\r\n    \t\tfinal String reply = pBufferedReader.readLine();\r\n    \t\tSystem.out.println(&quot;RECV:\\t&quot; + reply);\r\n    \t\treturn reply;\r\n    \t}\r\n    \r\n    \t@SafeVarargs public static &lt;T&gt; String toString(final String pSeparator, final T... pObjects) {\r\n    \t\tif (pObjects == null) return null;\r\n    \t\tfinal StringBuilder ret = new StringBuilder();\r\n    \t\tfor (final T o : pObjects) {\r\n    \t\t\tret.append(o + pSeparator);\r\n    \t\t}\r\n    \t\tif (ret.length() &gt; 0) ret.setLength(ret.length() - pSeparator.length());\r\n    \t\treturn ret.toString();\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How do I code my own SMTP Server using Java?","body":"<p>Okay, found this early-development standalone version.\nUse this INSTEAD of your code; does everything your code does an more.\nSingle-threaded ServerSocket handling, so only one connection at a time.</p>\n<pre><code>package jc.lib.io.net.email.smtp.test1;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketTimeoutException;\nimport java.net.UnknownHostException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport jc.lib.io.net.email.JcEMailBasics;\n\npublic class Test_SMTP_Server {\n\n\n\n    static public boolean DEBUG = true;\n\n\n\n    public static void main(final String s[]) throws UnknownHostException, IOException {\n        final Test_SMTP_Server server = new Test_SMTP_Server(JcEMailBasics.SMTP_PORTS);\n        server.start();\n\n        try {\n            Thread.sleep(1 * 60 * 60 * 1000);\n        } catch (final InterruptedException e) { /* */ }\n    }\n\n\n\n    /*\n     * OBJECT\n     */\n\n    private final ServerSocket[]    mSockets;\n    private volatile boolean        mStopRequested;\n    private static boolean          mReceivingData;\n\n\n\n    public Test_SMTP_Server(final int[] pPorts) throws IOException {\n        mSockets = new ServerSocket[pPorts.length];\n        for (int i = 0; i &lt; pPorts.length; i++) {\n            final int port = pPorts[i];\n            try {\n                mSockets[i] = new ServerSocket(port);\n            } catch (final java.net.BindException e) {\n                new java.net.BindException(&quot;When mountin port &quot; + port + &quot;: &quot; + e.getMessage()).printStackTrace();\n            }\n            System.out.println(&quot;Created server socket on port &quot; + port);\n        }\n    }\n\n\n\n    public void start() {\n        mStopRequested = false;\n        for (final ServerSocket ss : mSockets) {\n            if (ss == null) continue;\n\n            final Thread t = new Thread(() -&gt; handleServerSocket(ss), &quot;handleServerSocket(&quot; + ss.getLocalPort() + &quot;)&quot;);\n            t.setDaemon(true);\n            t.start();\n        }\n    }\n    private void handleServerSocket(final ServerSocket pSS) {\n        final String name = &quot;handleServerSocket(&quot; + pSS.getLocalPort() + &quot;)&quot;;\n        while (!mStopRequested) {\n            System.out.println(name + &quot;\\tListening for connection...&quot;);\n            try (final Socket socket = pSS.accept();\n                    final BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream(), JcEMailBasics.DEFAULT_CHARSET_SMTP_POP3));\n                    final BufferedWriter out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream(), JcEMailBasics.DEFAULT_CHARSET_SMTP_POP3));) {\n                System.out.println(name + &quot;\\tGot new Socket.&quot;);\n                handle(socket, in, out);\n                System.out.println(name + &quot;\\tClosing Socket.&quot;);\n            } catch (final IOException e) {\n                System.err.println(&quot;In &quot; + name + &quot;:&quot;);\n                e.printStackTrace();\n            }\n            System.out.println(name + &quot;\\tComm Done.&quot;);\n        }\n    }\n\n    public void stop() {\n        mStopRequested = true;\n        for (final ServerSocket ss : mSockets) {\n            try {\n                ss.close();\n            } catch (final Exception e) { /* */ }\n        }\n    }\n\n\n\n    static private void handle(final Socket pSocket, final BufferedReader pBR, final BufferedWriter pBW) throws IOException {\n        //      send(&quot;+OK POP3 server ready &lt;&quot; + Test_EMails.SERVICE_ADDRESS + &quot;&gt;&quot;, out);\n        send(&quot;220 cbsoft.dev SMTP &quot; + JcEMailBasics.NAME, pBW);\n\n        final StringBuilder sb = new StringBuilder();\n\n        mainLoop: while (!pSocket.isClosed()) {\n            final String read = read(pBR);\n            if (read == null) break;\n\n            switch (read) {\n                case JcEMailBasics.COMMAND_DATA: {\n                    send(&quot;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;, pBW);\n                    mReceivingData = true;\n                    break;\n                }\n                case JcEMailBasics.COMMAND_END_OF_DATA: {\n                    send(&quot;250 OK&quot;, pBW);\n                    mReceivingData = false;\n                    break;\n                }\n                case JcEMailBasics.COMMAND_QUIT: {\n                    send(&quot;221 &quot; + JcEMailBasics.NAME + &quot; signing off&quot;, pBW);\n                    break mainLoop;\n                }\n                default: {\n                    final String correctedRead = read.startsWith(&quot;.&quot;) ? read.substring(1) : read;\n                    sb.append(correctedRead + &quot;\\n&quot;);\n                    if (!mReceivingData) send(&quot;250 Ok&quot;, pBW);\n                }\n            }\n        }\n\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\n        final File file = new File(&quot;mails/inc_&quot; + sdf.format(new Date()) + &quot;.email.txt&quot;);\n        file.getParentFile().mkdirs();\n        final String msg = sb.toString();\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            fos.write(msg.getBytes());\n        }\n        System.out.println(&quot;File saved as &quot; + file.getCanonicalPath());\n    }\n\n    static private void send(final String pMessage, final BufferedWriter pBW) {\n        try {\n            pBW.write(pMessage + &quot;\\n&quot;);\n            pBW.flush();\n            if (DEBUG) System.out.println(&quot;SENT:\\t&quot; + pMessage);\n        } catch (final Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    static private String read(final BufferedReader pBR) throws IOException {\n        try {\n            final String reply = pBR.readLine();\n            if (DEBUG) System.out.println(&quot;RECV:\\t&quot; + reply);\n            return reply;\n\n        } catch (final SocketTimeoutException e) {\n            System.err.println(&quot;SERVER TIMEOUT&quot;);\n        }\n        return null;\n    }\n\n\n\n}\n</code></pre>\n<p>the only additional file you will need (also included in my previous answer; edited a bit):</p>\n<pre><code>package jc.lib.io.net.email;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\n\n\npublic class JcEMailBasics {\n\n\n\n    static public final int     SMTP_PORT_1 = 25;\n    static public final int     SMTP_PORT_2 = 587;\n    static public final int     SMTP_PORT_3 = 465;\n    static public final int[]   SMTP_PORTS  = { SMTP_PORT_1, SMTP_PORT_2, SMTP_PORT_3 };\n\n    static public final int     POP_PORT_1          = 110;\n    static public final int     POP_PORT_SSL        = 995;\n    static public final int     POP_PORT_KERBEROS   = 1109;\n    static public final int[]   POP_PORTS           = { POP_PORT_1, POP_PORT_SSL, POP_PORT_KERBEROS };\n\n    // netstat -aon | findstr '587'\n\n\n\n    static public final String DEFAULT_CHARSET_SMTP_POP3 = &quot;8859_1&quot;;\n\n    static public final String  NAME                = &quot;JC Oblivionat0r POP3 Server&quot;;\n    static public final String  SERVICE_ADDRESS     = &quot;oblivionat0r@cbsoft.dev&quot;;\n    static public final String  CONNECTION_CLOSED   = &quot;CONNECTION_CLOSED_dtnt495n3479r5zb3tr47c3b49c3&quot;;\n    static public final String  COMMAND_QUIT        = &quot;QUIT&quot;;\n    static public final String  COMMAND_DATA        = &quot;DATA&quot;;\n    static public final String  COMMAND_END_OF_DATA = &quot;.&quot;;\n\n\n\n    static public void send(final BufferedWriter pBufferedWriter, final String pMessage) throws IOException {\n        pBufferedWriter.write(pMessage + &quot;\\n&quot;);\n        pBufferedWriter.flush();\n        System.out.println(&quot;SENT:\\t&quot; + pMessage);\n    }\n    static public String sendExpect(final BufferedWriter pBufferedWriter, final String pMessage, final BufferedReader pBufferedReader, final String... pExpectedResponsePrefixes) throws IOException {\n        send(pBufferedWriter, pMessage);\n        final String read = read(pBufferedReader);\n        for (final String erp : pExpectedResponsePrefixes) {\n            if (read.startsWith(erp)) return read;\n        }\n        throw new IllegalStateException(&quot;Bad response: Expected [&quot; + toString(&quot;, &quot;, pExpectedResponsePrefixes) + &quot;] got [&quot; + read + &quot;] instead!&quot;);\n    }\n\n    static public String read(final BufferedReader pBufferedReader) throws IOException {\n        final String reply = pBufferedReader.readLine();\n        System.out.println(&quot;RECV:\\t&quot; + reply);\n        return reply;\n    }\n\n    @SafeVarargs public static &lt;T&gt; String toString(final String pSeparator, final T... pObjects) {\n        if (pObjects == null) return null;\n        final StringBuilder ret = new StringBuilder();\n        for (final T o : pObjects) {\n            ret.append(o + pSeparator);\n        }\n        if (ret.length() &gt; 0) ret.setLength(ret.length() - pSeparator.length());\n        return ret.toString();\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27003126,"reputation":1,"user_id":20564085,"display_name":"Arjan Luiten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669042937,"creation_date":1669042937,"answer_id":74520908,"question_id":66534689,"body_markdown":"You need to communicate with the client. &lt;br&gt;\r\nFirst let the server send something like &quot;220 Smtp server&quot; (only 220 matters) to the client. &lt;br&gt;\r\nI used PrintWriter: \r\n\r\n    PrintWriter out = new PrintWriter(client.getOutputStream(), true);\r\n    out.println(&quot;220 Smtp server&quot;);\r\n\r\nThen you will receive an EHLO from the client while getting lines from the inputStream. \r\n\r\nHere you can find an example of the communication between server an client  (without the starting message from the server (220)):\r\nhttps://postmarkapp.com/guides/everything-you-need-to-know-about-smtp#basic-smtp-commands\r\n","title":"How do I code my own SMTP Server using Java?","body":"<p>You need to communicate with the client. <br>\nFirst let the server send something like &quot;220 Smtp server&quot; (only 220 matters) to the client. <br>\nI used PrintWriter:</p>\n<pre><code>PrintWriter out = new PrintWriter(client.getOutputStream(), true);\nout.println(&quot;220 Smtp server&quot;);\n</code></pre>\n<p>Then you will receive an EHLO from the client while getting lines from the inputStream.</p>\n<p>Here you can find an example of the communication between server an client  (without the starting message from the server (220)):\n<a href=\"https://postmarkapp.com/guides/everything-you-need-to-know-about-smtp#basic-smtp-commands\" rel=\"nofollow noreferrer\">https://postmarkapp.com/guides/everything-you-need-to-know-about-smtp#basic-smtp-commands</a></p>\n"}],"owner":{"account_id":20756256,"reputation":57,"user_id":15242627,"display_name":"Jimmy665566"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66550697,"answer_count":3,"score":1,"last_activity_date":1669042937,"creation_date":1615225716,"question_id":66534689,"body_markdown":"So I have a client written in Java that i want to use to test out sending email but instead of using an already existing SMTP like google, i want to have my own local server to test out sending mock emails between two mock emails. \r\n\r\nI&#39;ve been trying to look all over the internet for good sources on how to code a simple SMTP Server but i&#39;ve had zero luck. \r\n\r\nI do have a basic server code that when i run it, i can connect my Client to it but at the moment it won&#39;t handle any email functionality. \r\n\r\nTCPServer.java\r\n```\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.net.InetAddress;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class TCPServer{\r\n    private ServerSocket server;\r\n\r\n    /**\r\n     * The TCPServer constructor initiate the socket\r\n     * @param ipAddress\r\n     * @param port\r\n     * @throws Exception\r\n     */\r\n    public TCPServer(String ipAddress, int port) throws Exception {\r\n        if (ipAddress != null &amp;&amp; !ipAddress.isEmpty())\r\n            this.server = new ServerSocket(port, 1, InetAddress.getByName(ipAddress));\r\n        else\r\n            this.server = new ServerSocket(0, 1, InetAddress.getLocalHost());\r\n    }\r\n\r\n    /**\r\n     * The listen method listen to incoming client&#39;s datagrams and requests\r\n     * @throws Exception\r\n     */\r\n    private void listen() throws Exception {\r\n        // listen to incoming client&#39;s requests via the ServerSocket\r\n        //add your code here\r\n        String data = null;\r\n        Socket client = this.server.accept();\r\n        String clientAddress = client.getInetAddress().getHostAddress();\r\n        System.out.println(&quot;\\r\\nNew client connection from &quot; + clientAddress);\r\n\r\n        // print received datagrams from client\r\n        //add your code here\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n        while ( (data = in.readLine()) != null ) {\r\n            System.out.println(&quot;\\r\\nMessage from &quot; + clientAddress + &quot;: &quot; + data);\r\n            client.sendUrgentData(1);\r\n        }\r\n    }\r\n\r\n    public InetAddress getSocketAddress() {\r\n        return this.server.getInetAddress();\r\n    }\r\n\r\n    public int getPort() {\r\n        return this.server.getLocalPort();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // set the server address (IP) and port number\r\n        //add your code here\r\n        String serverIP = &quot;192.168.1.235&quot;; // local IP address\r\n        int port = 8088;\r\n\r\n        if (args.length &gt; 0) {\r\n            serverIP = args[0];\r\n            port = Integer.parseInt(args[1]);\r\n        }\r\n        // call the constructor and pass the IP and port\r\n        //add your code here\r\n        TCPServer server = new TCPServer(serverIP, port);\r\n        System.out.println(&quot;\\r\\nRunning Server: &quot; +\r\n                &quot;Host=&quot; + server.getSocketAddress().getHostAddress() +\r\n                &quot; Port=&quot; + server.getPort());\r\n        server.listen();\r\n    }\r\n\r\n}\r\n```\r\nWhat can i add to my existing server code to make it handle email for my Client. I&#39;ll also post my email client as well.\r\n\r\nClientTester.java\r\n```\r\n\r\nimport java.io.*;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\n/**\r\n * This program demonstrates a TCP client\r\n * @author jl922223\r\n * @version 1.0\r\n * @since 2020-12-12\r\n */\r\n\r\npublic class ClientTester{\r\n    private Socket tcpSocket;\r\n    private InetAddress serverAddress;\r\n    private int serverPort;\r\n    private Scanner scanner;\r\n\r\n    /**\r\n     * @param serverAddress\r\n     * @param serverPort\r\n     * @throws Exception\r\n     */\r\n    private ClientTester(InetAddress serverAddress, int serverPort) throws Exception {\r\n        this.serverAddress = serverAddress;\r\n        this.serverPort = serverPort;\r\n\r\n        //Initiate the connection with the server using Socket.\r\n        //For this, creates a stream socket and connects it to the specified port number at the specified IP address.\r\n        //add your code here\r\n        this.tcpSocket = new Socket(this.serverAddress, this.serverPort);\r\n        this.scanner = new Scanner(System.in);\r\n    }\r\n\r\n    /**\r\n     * The start method connect to the server and datagrams\r\n     * @throws IOException\r\n     */\r\n/*    private void start() throws IOException {\r\n        String input;\r\n        //create a new PrintWriter from an existing OutputStream (i.e., tcpSocket).\r\n        //This convenience constructor creates the necessary intermediateOutputStreamWriter, which will convert characters into bytes using the default character encoding\r\n        //You may add your code in a loop so that client can keep send datagrams to server\r\n        //add your code here\r\n        while (true) {\r\n            System.out.print (&quot;C:&quot;);\r\n            input = scanner.nextLine();\r\n            PrintWriter output = new PrintWriter(this.tcpSocket.getOutputStream(), true);\r\n            output.println(input);\r\n            output.flush();\r\n        }\r\n    }*/\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // set the server address (IP) and port number\r\n        //add your code here\r\n        //IP: 192.168.1.235\r\n        //Port: 8088\r\n        InetAddress serverIP = InetAddress.getByName(&quot;smtp.google.com&quot;); // local IP address\r\n        int port = 25;\r\n        if (args.length &gt; 0) {\r\n            serverIP = InetAddress.getByName(args[0]);\r\n            port = Integer.parseInt(args[1]);\r\n        }\r\n\r\n        // call the constructor and pass the IP and port\r\n        //add your code here\r\n        ClientTester client = new ClientTester(serverIP, port);\r\n\r\n//        client.start();\r\n\r\n        try{\r\n\r\n            client = new ClientTester(serverIP, port);\r\n\r\n            System.out.println(&quot;\\r\\n Connected to Server: &quot; + client.tcpSocket.getInetAddress());\r\n\r\n            BufferedReader stdin;\r\n            stdin = new BufferedReader (new InputStreamReader (System.in));\r\n\r\n            InputStream is = client.tcpSocket.getInputStream ();\r\n            BufferedReader sockin;\r\n            sockin = new BufferedReader (new InputStreamReader (is));\r\n\r\n            OutputStream os = client.tcpSocket.getOutputStream();\r\n            PrintWriter sockout;\r\n            sockout = new PrintWriter (os, true);\r\n\r\n            System.out.println (&quot;S:&quot; + sockin.readLine ());\r\n\r\n            while (true){\r\n                System.out.print (&quot;C:&quot;);\r\n\r\n                String cmd = stdin.readLine ();\r\n\r\n                sockout.println (cmd);\r\n\r\n                String reply = sockin.readLine ();\r\n\r\n                System.out.println (&quot;S:&quot; + reply);\r\n                if (cmd.toLowerCase ().startsWith (&quot;data&quot;) &amp;&amp;\r\n                        reply.substring (0, 3).equals (&quot;354&quot;))\r\n                {\r\n                    do\r\n                    {\r\n                        cmd = stdin.readLine ();\r\n\r\n                        if (cmd != null &amp;&amp; cmd.length () &gt; 1 &amp;&amp;\r\n                                cmd.charAt (0) == &#39;.&#39;)\r\n                            cmd = &quot;.&quot;; // Must be no chars after . char.\r\n\r\n                        sockout.println (cmd);\r\n\r\n                        if (cmd.equals (&quot;.&quot;))\r\n                            break;\r\n                    }\r\n                    while (true);\r\n\r\n                    // Read a reply string from the SMTP server program.\r\n\r\n                    reply = sockin.readLine ();\r\n\r\n                    // Display the first line of this reply string.\r\n\r\n                    System.out.println (&quot;S:&quot; + reply);\r\n\r\n                    continue;\r\n                }\r\n\r\n                // If the QUIT command was entered, quit.\r\n\r\n                if (cmd.toLowerCase ().startsWith (&quot;quit&quot;))\r\n                    break;\r\n            }\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            System.out.println (e.toString ());\r\n        }\r\n        finally\r\n        {\r\n            try\r\n            {\r\n                // Attempt to close the client socket.\r\n\r\n                if (client != null)\r\n                    client.tcpSocket.close();\r\n            }\r\n            catch (IOException e)\r\n            {\r\n            }\r\n            }\r\n    }\r\n}\r\n```\r\nThe good news is that the ClientTester works when i connect it to `smtp.google.com` but i don&#39;t want to use Googles, i want to have my own basic Email server in java.","title":"How do I code my own SMTP Server using Java?","body":"<p>So I have a client written in Java that i want to use to test out sending email but instead of using an already existing SMTP like google, i want to have my own local server to test out sending mock emails between two mock emails.</p>\n<p>I've been trying to look all over the internet for good sources on how to code a simple SMTP Server but i've had zero luck.</p>\n<p>I do have a basic server code that when i run it, i can connect my Client to it but at the moment it won't handle any email functionality.</p>\n<p>TCPServer.java</p>\n<pre><code>\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.io.*;\nimport java.net.*;\n\npublic class TCPServer{\n    private ServerSocket server;\n\n    /**\n     * The TCPServer constructor initiate the socket\n     * @param ipAddress\n     * @param port\n     * @throws Exception\n     */\n    public TCPServer(String ipAddress, int port) throws Exception {\n        if (ipAddress != null &amp;&amp; !ipAddress.isEmpty())\n            this.server = new ServerSocket(port, 1, InetAddress.getByName(ipAddress));\n        else\n            this.server = new ServerSocket(0, 1, InetAddress.getLocalHost());\n    }\n\n    /**\n     * The listen method listen to incoming client's datagrams and requests\n     * @throws Exception\n     */\n    private void listen() throws Exception {\n        // listen to incoming client's requests via the ServerSocket\n        //add your code here\n        String data = null;\n        Socket client = this.server.accept();\n        String clientAddress = client.getInetAddress().getHostAddress();\n        System.out.println(&quot;\\r\\nNew client connection from &quot; + clientAddress);\n\n        // print received datagrams from client\n        //add your code here\n        BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n        while ( (data = in.readLine()) != null ) {\n            System.out.println(&quot;\\r\\nMessage from &quot; + clientAddress + &quot;: &quot; + data);\n            client.sendUrgentData(1);\n        }\n    }\n\n    public InetAddress getSocketAddress() {\n        return this.server.getInetAddress();\n    }\n\n    public int getPort() {\n        return this.server.getLocalPort();\n    }\n\n\n    public static void main(String[] args) throws Exception {\n        // set the server address (IP) and port number\n        //add your code here\n        String serverIP = &quot;192.168.1.235&quot;; // local IP address\n        int port = 8088;\n\n        if (args.length &gt; 0) {\n            serverIP = args[0];\n            port = Integer.parseInt(args[1]);\n        }\n        // call the constructor and pass the IP and port\n        //add your code here\n        TCPServer server = new TCPServer(serverIP, port);\n        System.out.println(&quot;\\r\\nRunning Server: &quot; +\n                &quot;Host=&quot; + server.getSocketAddress().getHostAddress() +\n                &quot; Port=&quot; + server.getPort());\n        server.listen();\n    }\n\n}\n</code></pre>\n<p>What can i add to my existing server code to make it handle email for my Client. I'll also post my email client as well.</p>\n<p>ClientTester.java</p>\n<pre><code>\nimport java.io.*;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.Socket;\nimport java.util.Scanner;\n\n/**\n * This program demonstrates a TCP client\n * @author jl922223\n * @version 1.0\n * @since 2020-12-12\n */\n\npublic class ClientTester{\n    private Socket tcpSocket;\n    private InetAddress serverAddress;\n    private int serverPort;\n    private Scanner scanner;\n\n    /**\n     * @param serverAddress\n     * @param serverPort\n     * @throws Exception\n     */\n    private ClientTester(InetAddress serverAddress, int serverPort) throws Exception {\n        this.serverAddress = serverAddress;\n        this.serverPort = serverPort;\n\n        //Initiate the connection with the server using Socket.\n        //For this, creates a stream socket and connects it to the specified port number at the specified IP address.\n        //add your code here\n        this.tcpSocket = new Socket(this.serverAddress, this.serverPort);\n        this.scanner = new Scanner(System.in);\n    }\n\n    /**\n     * The start method connect to the server and datagrams\n     * @throws IOException\n     */\n/*    private void start() throws IOException {\n        String input;\n        //create a new PrintWriter from an existing OutputStream (i.e., tcpSocket).\n        //This convenience constructor creates the necessary intermediateOutputStreamWriter, which will convert characters into bytes using the default character encoding\n        //You may add your code in a loop so that client can keep send datagrams to server\n        //add your code here\n        while (true) {\n            System.out.print (&quot;C:&quot;);\n            input = scanner.nextLine();\n            PrintWriter output = new PrintWriter(this.tcpSocket.getOutputStream(), true);\n            output.println(input);\n            output.flush();\n        }\n    }*/\n\n    public static void main(String[] args) throws Exception {\n        // set the server address (IP) and port number\n        //add your code here\n        //IP: 192.168.1.235\n        //Port: 8088\n        InetAddress serverIP = InetAddress.getByName(&quot;smtp.google.com&quot;); // local IP address\n        int port = 25;\n        if (args.length &gt; 0) {\n            serverIP = InetAddress.getByName(args[0]);\n            port = Integer.parseInt(args[1]);\n        }\n\n        // call the constructor and pass the IP and port\n        //add your code here\n        ClientTester client = new ClientTester(serverIP, port);\n\n//        client.start();\n\n        try{\n\n            client = new ClientTester(serverIP, port);\n\n            System.out.println(&quot;\\r\\n Connected to Server: &quot; + client.tcpSocket.getInetAddress());\n\n            BufferedReader stdin;\n            stdin = new BufferedReader (new InputStreamReader (System.in));\n\n            InputStream is = client.tcpSocket.getInputStream ();\n            BufferedReader sockin;\n            sockin = new BufferedReader (new InputStreamReader (is));\n\n            OutputStream os = client.tcpSocket.getOutputStream();\n            PrintWriter sockout;\n            sockout = new PrintWriter (os, true);\n\n            System.out.println (&quot;S:&quot; + sockin.readLine ());\n\n            while (true){\n                System.out.print (&quot;C:&quot;);\n\n                String cmd = stdin.readLine ();\n\n                sockout.println (cmd);\n\n                String reply = sockin.readLine ();\n\n                System.out.println (&quot;S:&quot; + reply);\n                if (cmd.toLowerCase ().startsWith (&quot;data&quot;) &amp;&amp;\n                        reply.substring (0, 3).equals (&quot;354&quot;))\n                {\n                    do\n                    {\n                        cmd = stdin.readLine ();\n\n                        if (cmd != null &amp;&amp; cmd.length () &gt; 1 &amp;&amp;\n                                cmd.charAt (0) == '.')\n                            cmd = &quot;.&quot;; // Must be no chars after . char.\n\n                        sockout.println (cmd);\n\n                        if (cmd.equals (&quot;.&quot;))\n                            break;\n                    }\n                    while (true);\n\n                    // Read a reply string from the SMTP server program.\n\n                    reply = sockin.readLine ();\n\n                    // Display the first line of this reply string.\n\n                    System.out.println (&quot;S:&quot; + reply);\n\n                    continue;\n                }\n\n                // If the QUIT command was entered, quit.\n\n                if (cmd.toLowerCase ().startsWith (&quot;quit&quot;))\n                    break;\n            }\n        }\n        catch (IOException e)\n        {\n            System.out.println (e.toString ());\n        }\n        finally\n        {\n            try\n            {\n                // Attempt to close the client socket.\n\n                if (client != null)\n                    client.tcpSocket.close();\n            }\n            catch (IOException e)\n            {\n            }\n            }\n    }\n}\n</code></pre>\n<p>The good news is that the ClientTester works when i connect it to <code>smtp.google.com</code> but i don't want to use Googles, i want to have my own basic Email server in java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1669040625,"post_id":74520398,"comment_id":131546154,"body_markdown":"You forgot to ask a question. Please [edit] your post accordingly.","body":"You forgot to ask a question. Please <a href=\"https://stackoverflow.com/posts/74520398/edit\">edit</a> your post accordingly."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1669040679,"post_id":74520398,"comment_id":131546171,"body_markdown":"You can use an `if/else` statement to check if it is in range: `if (number &gt;= 1 &amp;&amp; number &lt;= 1000) { ... } else { ... }`","body":"You can use an <code>if&#47;else</code> statement to check if it is in range: <code>if (number &gt;= 1 &amp;&amp; number &lt;= 1000) { ... } else { ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":27002657,"reputation":46,"user_id":20563704,"display_name":"ElishevaMiler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669042715,"creation_date":1669042715,"answer_id":74520863,"question_id":74520398,"body_markdown":"  \r\n\r\n    public static void main(String[] args)\r\n        {\r\n            Scanner reader = new Scanner(System.in);\r\n            double number;\r\n                System.out.print(&quot;Enter a number from 1.00 to 1,000.00: &quot;);\r\n                number= reader.nextDouble();\r\n            //As long as the input is not within the range requests a new input\r\n            while (!(number&gt;=1.00 &amp;&amp; number&lt;=1000.00)){\r\n                System.out.print(&quot;Input arrival!\\nEnter a number from 1.00 to 1,000.00: &quot;);\r\n                number= reader.nextDouble();\r\n            }\r\n            System.out.println(&quot;You entered: &quot; + number);\r\n        }\r\nnote: The number range you specified corresponds to a double type\r\n\r\n","title":"How to add to java code that will ask user to enter an amount from 1 to 1000","body":"<pre><code>public static void main(String[] args)\n    {\n        Scanner reader = new Scanner(System.in);\n        double number;\n            System.out.print(&quot;Enter a number from 1.00 to 1,000.00: &quot;);\n            number= reader.nextDouble();\n        //As long as the input is not within the range requests a new input\n        while (!(number&gt;=1.00 &amp;&amp; number&lt;=1000.00)){\n            System.out.print(&quot;Input arrival!\\nEnter a number from 1.00 to 1,000.00: &quot;);\n            number= reader.nextDouble();\n        }\n        System.out.println(&quot;You entered: &quot; + number);\n    }\n</code></pre>\n<p>note: The number range you specified corresponds to a double type</p>\n"}],"owner":{"display_name":"user16621915"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74520863,"answer_count":1,"score":2,"last_activity_date":1669042715,"creation_date":1669040564,"question_id":74520398,"body_markdown":"Java program that will:\r\n1.\tUser can input an amount from 1.00 to 1,000.00 \r\n2.\tAny amount beyond the allowed range will display an error. \r\n  \r\n\r\nThis block of code below is prints the number entered by an user:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class HelloWorld {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // Creates a reader instance which takes\r\n            // input from standard input - keyboard\r\n            Scanner reader = new Scanner(System.in);\r\n            System.out.print(&quot;Enter a number: &quot;);\r\n    \r\n            // nextInt() reads the next integer from the keyboard\r\n            int number = reader.nextInt();\r\n    \r\n            // println() prints the following line to the output screen\r\n            System.out.println(&quot;You entered: &quot; + number);\r\n        }\r\n    }","title":"How to add to java code that will ask user to enter an amount from 1 to 1000","body":"<p>Java program that will:</p>\n<ol>\n<li>User can input an amount from 1.00 to 1,000.00</li>\n<li>Any amount beyond the allowed range will display an error.</li>\n</ol>\n<p>This block of code below is prints the number entered by an user:</p>\n<pre><code>import java.util.Scanner;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n\n        // Creates a reader instance which takes\n        // input from standard input - keyboard\n        Scanner reader = new Scanner(System.in);\n        System.out.print(&quot;Enter a number: &quot;);\n\n        // nextInt() reads the next integer from the keyboard\n        int number = reader.nextInt();\n\n        // println() prints the following line to the output screen\n        System.out.println(&quot;You entered: &quot; + number);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","interceptor","spring-restcontroller"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1444870009,"post_id":33137687,"comment_id":54087338,"body_markdown":"How do you handle the request if the parameter does exist? What does your handler look like?","body":"How do you handle the request if the parameter does exist? What does your handler look like?"}],"answers":[{"tags":[],"owner":{"account_id":5700484,"reputation":402,"user_id":4505616,"accept_rate":79,"display_name":"Albert Pinto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444876869,"creation_date":1444870811,"answer_id":33138103,"question_id":33137687,"body_markdown":"**STEP1:** Use spring validator annotation like @valid to validate your request.\r\n\r\n**STEP 2:** Write your custom validator class. which will be responsible to check the header and see if it has value or it has the expected value.\r\n\r\n**STEP 3:** If the request is not correct validator throws your custom exception.\r\n\r\n**STEP 4:** write your exception handler class. In the class define what response must me returned if the exception in STEP 3 is caught.\r\n\r\nFor more information on [Exception Handling in Spring][1].\r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\r\n\r\nIn our current projet we do use a java interceptor to authenticate the request but nothing beyound that. \r\n","title":"how to return a response body when header is missing in spring REST api","body":"<p><strong>STEP1:</strong> Use spring validator annotation like @valid to validate your request.</p>\n\n<p><strong>STEP 2:</strong> Write your custom validator class. which will be responsible to check the header and see if it has value or it has the expected value.</p>\n\n<p><strong>STEP 3:</strong> If the request is not correct validator throws your custom exception.</p>\n\n<p><strong>STEP 4:</strong> write your exception handler class. In the class define what response must me returned if the exception in STEP 3 is caught.</p>\n\n<p>For more information on <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow\">Exception Handling in Spring</a>.</p>\n\n<p>In our current projet we do use a java interceptor to authenticate the request but nothing beyound that. </p>\n"},{"tags":[],"owner":{"account_id":964648,"reputation":304,"user_id":988303,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455724753,"creation_date":1455724753,"answer_id":35461679,"question_id":33137687,"body_markdown":"Another approach would be using Spring Interceptors (`HandlerInterceptorAdapter`), as you mentioned in your question, with `@ControllerAdvice` and return your JSON in an `@ExceptionHandler` method.\r\n\r\nTake a look at the following post: http://www.journaldev.com/2651/spring-mvc-exception-handling-exceptionhandler-controlleradvice-handlerexceptionresolver-json-response-example","title":"how to return a response body when header is missing in spring REST api","body":"<p>Another approach would be using Spring Interceptors (<code>HandlerInterceptorAdapter</code>), as you mentioned in your question, with <code>@ControllerAdvice</code> and return your JSON in an <code>@ExceptionHandler</code> method.</p>\n\n<p>Take a look at the following post: <a href=\"http://www.journaldev.com/2651/spring-mvc-exception-handling-exceptionhandler-controlleradvice-handlerexceptionresolver-json-response-example\" rel=\"nofollow\">http://www.journaldev.com/2651/spring-mvc-exception-handling-exceptionhandler-controlleradvice-handlerexceptionresolver-json-response-example</a></p>\n"},{"tags":[],"owner":{"account_id":6729228,"reputation":71,"user_id":5186203,"display_name":"Shreyas Keote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509089714,"creation_date":1509089714,"answer_id":46969788,"question_id":33137687,"body_markdown":"Write a method with the annotation @ExceptionHandler and use ServletRequestBindingException.class as this exception is thrown in case of miss. You can return any type of object from this method.\r\n\r\nFor example\r\n\r\n    @ExceptionHandler(ServletRequestBindingException.class)\r\n    public ResponseEntity&lt;ResponseObject&gt; handleHeaderError(){\r\n\r\n        ResponseObject responseObject=new ResponseObject();\r\n        responseObject.setStatus(Constants.ResponseStatus.FAILURE.getStatus());\r\n        responseObject.setMessage(header_missing_message);\r\n\r\n        ResponseEntity&lt;ResponseObject&gt; responseEntity=new ResponseEntity&lt;ResponseObject&gt;(responseObject, HttpStatus.BAD_REQUEST);\r\n        return responseEntity;\r\n    }\r\n","title":"how to return a response body when header is missing in spring REST api","body":"<p>Write a method with the annotation @ExceptionHandler and use ServletRequestBindingException.class as this exception is thrown in case of miss. You can return any type of object from this method.</p>\n\n<p>For example</p>\n\n<pre><code>@ExceptionHandler(ServletRequestBindingException.class)\npublic ResponseEntity&lt;ResponseObject&gt; handleHeaderError(){\n\n    ResponseObject responseObject=new ResponseObject();\n    responseObject.setStatus(Constants.ResponseStatus.FAILURE.getStatus());\n    responseObject.setMessage(header_missing_message);\n\n    ResponseEntity&lt;ResponseObject&gt; responseEntity=new ResponseEntity&lt;ResponseObject&gt;(responseObject, HttpStatus.BAD_REQUEST);\n    return responseEntity;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21139901,"reputation":1,"user_id":15542550,"display_name":"Festus Audu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669042317,"creation_date":1669042009,"answer_id":74520719,"question_id":33137687,"body_markdown":"This is coming late but then, a very straightforward way to deal with this type of issue is to use a Controller Advice class which allows you to handle exceptions across the whole application in one global handling component.\r\n\r\nThe exception throw by spring is the MissingRequestHeaderException which you can then provide a custom handler in your controller advice class.\r\n\r\n```Java\r\n@Slf4j\r\n@RestControllerAdvice\r\npublic class ControllerAdvice {\r\n\r\n    @ExceptionHandler(MissingRequestHeaderException.class)\r\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n    public ErrorResponse handleMissingRequestHeaderException(MissingRequestHeaderException ex) {\r\n        log.error(ex.getMessage(), ex);\r\n        return new ErrorResponse(&quot;Missing request header: &quot; + ex.getHeaderName());\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class ErrorResponse implements Serializable {\r\n    \r\n    private String message;\r\n\r\n    public ErrorResponse(String message) {\r\n        this.message = message;\r\n    }\r\n}","title":"how to return a response body when header is missing in spring REST api","body":"<p>This is coming late but then, a very straightforward way to deal with this type of issue is to use a Controller Advice class which allows you to handle exceptions across the whole application in one global handling component.</p>\n<p>The exception throw by spring is the MissingRequestHeaderException which you can then provide a custom handler in your controller advice class.</p>\n<pre><code>@Slf4j\n@RestControllerAdvice\npublic class ControllerAdvice {\n\n    @ExceptionHandler(MissingRequestHeaderException.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public ErrorResponse handleMissingRequestHeaderException(MissingRequestHeaderException ex) {\n        log.error(ex.getMessage(), ex);\n        return new ErrorResponse(&quot;Missing request header: &quot; + ex.getHeaderName());\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ErrorResponse implements Serializable {\n    \n    private String message;\n\n    public ErrorResponse(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2132178,"reputation":2011,"user_id":1892775,"accept_rate":16,"display_name":"user1892775"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4229,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1669042317,"creation_date":1444867446,"question_id":33137687,"body_markdown":"I am passing a header to a spring REST api like:\r\n\r\n    @RequestHeader(value=&quot;test-header&quot;)\r\n\r\nheader is mandatory here for the API, so I do not want to keep it optional.\r\nwhen no header is passed, any call to the API returns a standard 400 error indicating that request is syntantically wrong and then it does not enter the REST API. But, I want to construct a proper ResponseBody and return a json for this error. I am not sure about the best way to do this. I thought about using spring interceptor and check if this header was passed or not, but then I am not sure if I can create a responsebody from here. Atleast I could not figure out how to do so. \r\n\r\nwill interceptor approach work for this? If yes, how? If not, then what are the options? Can someone please help on this? \r\n\r\nUpdate:\r\n\r\nThis is how the REST API is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void methodA(@RequestHeader(value=&quot;test-header&quot;) String header, @RequestBody User user, HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\r\n    ...\r\n    ...\r\n    \r\n    } \r\n\r\nWhen the header is present, it will enter the REST API and continue with the logic. But, if the header is not present, it does not enter the API and simply returns a standard 400 error.\r\n\r\nThe interceptor that I wrote is like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class XXXInterceptor extends HandlerInterceptorAdapter { \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n    ...\r\n    ...\r\n    ...\r\n    \r\n    return true;\r\n    }\r\n\r\n}","title":"how to return a response body when header is missing in spring REST api","body":"<p>I am passing a header to a spring REST api like:</p>\n\n<pre><code>@RequestHeader(value=\"test-header\")\n</code></pre>\n\n<p>header is mandatory here for the API, so I do not want to keep it optional.\nwhen no header is passed, any call to the API returns a standard 400 error indicating that request is syntantically wrong and then it does not enter the REST API. But, I want to construct a proper ResponseBody and return a json for this error. I am not sure about the best way to do this. I thought about using spring interceptor and check if this header was passed or not, but then I am not sure if I can create a responsebody from here. Atleast I could not figure out how to do so. </p>\n\n<p>will interceptor approach work for this? If yes, how? If not, then what are the options? Can someone please help on this? </p>\n\n<p>Update:</p>\n\n<p>This is how the REST API is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void methodA(@RequestHeader(value=\"test-header\") String header, @RequestBody User user, HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\n...\n...\n\n} \n</code></pre>\n\n<p>When the header is present, it will enter the REST API and continue with the logic. But, if the header is not present, it does not enter the API and simply returns a standard 400 error.</p>\n\n<p>The interceptor that I wrote is like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class XXXInterceptor extends HandlerInterceptorAdapter { \n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n...\n...\n...\n\nreturn true;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2805582,"reputation":5186,"user_id":2412895,"accept_rate":47,"display_name":"KarelG"},"score":0,"creation_date":1519217999,"post_id":48906552,"comment_id":84818784,"body_markdown":"Is it me or is your code here incomplete ? How is `sum`, `count` and `avg` being initialized?","body":"Is it me or is your code here incomplete ? How is <code>sum</code>, <code>count</code> and <code>avg</code> being initialized?"},{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":0,"creation_date":1519218028,"post_id":48906552,"comment_id":84818806,"body_markdown":"Did you have a look at the Streams API? It tells you what methods exist. And there are lots, lots of informations at the Oracle site.","body":"Did you have a look at the Streams API? It tells you what methods exist. And there are lots, lots of informations at the Oracle site."},{"owner":{"account_id":2805582,"reputation":5186,"user_id":2412895,"accept_rate":47,"display_name":"KarelG"},"score":2,"creation_date":1519218052,"post_id":48906552,"comment_id":84818828,"body_markdown":"Also [`.count()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#count--) from a streamable gives you the _number_  of elements in that stream.","body":"Also <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#count--\" rel=\"nofollow noreferrer\"><code>.count()</code></a> from a streamable gives you the <i>number</i>  of elements in that stream."},{"owner":{"account_id":11292791,"reputation":683,"user_id":8281218,"accept_rate":20,"display_name":"KingJinho"},"score":0,"creation_date":1519218098,"post_id":48906552,"comment_id":84818861,"body_markdown":"it is incomplete, so i need lines of code to work out those system.out.println() and i don`t know how to get the sum, avg, and sort.","body":"it is incomplete, so i need lines of code to work out those system.out.println() and i don`t know how to get the sum, avg, and sort."},{"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"score":3,"creation_date":1519218261,"post_id":48906552,"comment_id":84818965,"body_markdown":"Start here: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html   the example even shows sample code of a sum.","body":"Start here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>   the example even shows sample code of a sum."},{"owner":{"account_id":10436649,"reputation":5754,"user_id":7694740,"display_name":"Juan Carlos Mendoza"},"score":0,"creation_date":1521059010,"post_id":48906552,"comment_id":85577093,"body_markdown":"If one of the answers solved the problem, can you [accept one of them](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work) as the correct solution? (and upvote on the useful ones)","body":"If one of the answers solved the problem, can you <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accept one of them</a> as the correct solution? (and upvote on the useful ones)"}],"answers":[{"tags":[],"owner":{"account_id":1305468,"reputation":446,"user_id":1254552,"display_name":"Yaroslav"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1519219104,"creation_date":1519218421,"answer_id":48906726,"question_id":48906552,"body_markdown":"You can do just like this:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(5,3,4,1,2);\r\n            System.out.println(&quot;sum by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).sum());\r\n            System.out .println(&quot;count by using Stream: &quot; + list.stream().mapToInt(Integer::intValue).count());\r\n            System.out.println(&quot;average by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).average());\r\n            System.out.println(&quot;sort by using Stream: &quot; + list.stream().sorted().collect(Collectors.toList()));","title":"using java Stream to get a sum, average, and sort","body":"<p>You can do just like this:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(5,3,4,1,2);\n        System.out.println(\"sum by using Stream : \" + list.stream().mapToInt(Integer::intValue).sum());\n        System.out .println(\"count by using Stream: \" + list.stream().mapToInt(Integer::intValue).count());\n        System.out.println(\"average by using Stream : \" + list.stream().mapToInt(Integer::intValue).average());\n        System.out.println(\"sort by using Stream: \" + list.stream().sorted().collect(Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1519222439,"creation_date":1519218553,"answer_id":48906784,"question_id":48906552,"body_markdown":"    IntSummaryStatistics stats = Arrays.asList(1,2,3,4)\r\n        .stream()\r\n        .mapToInt(Integer::intValue)\r\n        .summaryStatistics();\r\n        \r\n    stats.getSum();\r\n    stats.getCount();\r\n    stats.getAverage();\r\n\r\n\r\nFor the sorted, you will have to stream again.","title":"using java Stream to get a sum, average, and sort","body":"<pre><code>IntSummaryStatistics stats = Arrays.asList(1,2,3,4)\n    .stream()\n    .mapToInt(Integer::intValue)\n    .summaryStatistics();\n\nstats.getSum();\nstats.getCount();\nstats.getAverage();\n</code></pre>\n\n<p>For the sorted, you will have to stream again.</p>\n"},{"tags":[],"owner":{"account_id":5557928,"reputation":2328,"user_id":4408619,"display_name":"Azzabi Haythem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519220718,"creation_date":1519218844,"answer_id":48906909,"question_id":48906552,"body_markdown":"You should use `mapToInt` or `mapToDouble` \r\n\r\nand you can print list by `forEach(System.out::println)`\r\n\r\n \r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(5,3,4,1,2);\r\n\r\n    System.out.println(&quot;sum by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).sum());\r\n\r\n    System.out .println(&quot;count by using Stream: &quot; + list.stream().count());\r\n\r\n    System.out.println(&quot;average by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).average());\r\n\r\n    System.out.println(&quot;sort by using Stream: &quot; );\r\n\r\n    list.stream().sorted().forEach(System.out::println);","title":"using java Stream to get a sum, average, and sort","body":"<p>You should use <code>mapToInt</code> or <code>mapToDouble</code> </p>\n\n<p>and you can print list by <code>forEach(System.out::println)</code></p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(5,3,4,1,2);\n\nSystem.out.println(\"sum by using Stream : \" + list.stream().mapToInt(Integer::intValue).sum());\n\nSystem.out .println(\"count by using Stream: \" + list.stream().count());\n\nSystem.out.println(\"average by using Stream : \" + list.stream().mapToInt(Integer::intValue).average());\n\nSystem.out.println(\"sort by using Stream: \" );\n\nlist.stream().sorted().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10436649,"reputation":5754,"user_id":7694740,"display_name":"Juan Carlos Mendoza"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1519219646,"creation_date":1519218967,"answer_id":48906959,"question_id":48906552,"body_markdown":"The reason of why `list.stream().count()` works but `list.stream().sum()` doesn&#39;t is because `list.stream()` returns a [`Stream&lt;Integer&gt;`][1] and there is a [`Stream::count`][2] method, but there isn&#39;t a `Stream::sum` or `Stream::average`.\r\n\r\nTo get the sum and avg first you have to map each integer value in the `Stream&lt;Integer&gt;` that you get when you do `list.stream()` to an [`IntStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html). This is the int primitive specialization of Stream. This can be done using the [`Stream::mapToInt`][3] method:\r\n\r\n    list.stream().mapToInt(Integer::intValue)\r\n\r\nDoing this you can use the methods [`IntStream::sum`][4] and [`IntStream::average`][5]:\r\n\r\n    System.out.println(&quot;sum by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).sum());\r\n    System.out.println(&quot;average by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).average());\r\n\r\nOr even better, you can use the [`IntStream::summaryStatistics`][6] to get the sum, count and avg together (also the min and the max value):\r\n\r\n    System.out.println(&quot;sum, count, avg, min and max using Stream : &quot; + list.stream().mapToInt(Integer::intValue).summaryStatistics());\r\n\r\nTo sort the values you can use the [`Stream::sorted`][7] method:\r\n\r\n    System.out.println(&quot;sort by using Stream: &quot; + list.stream().sorted().collect(Collectors.toList()));\r\n\r\n[Here][8] is a good post that can help you to understand how to use the Java 8 Stream Api.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#count--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToInt-java.util.function.ToIntFunction-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#sum--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\r\n  [8]: http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html","title":"using java Stream to get a sum, average, and sort","body":"<p>The reason of why <code>list.stream().count()</code> works but <code>list.stream().sum()</code> doesn't is because <code>list.stream()</code> returns a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream&lt;Integer&gt;</code></a> and there is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#count--\" rel=\"noreferrer\"><code>Stream::count</code></a> method, but there isn't a <code>Stream::sum</code> or <code>Stream::average</code>.</p>\n\n<p>To get the sum and avg first you have to map each integer value in the <code>Stream&lt;Integer&gt;</code> that you get when you do <code>list.stream()</code> to an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a>. This is the int primitive specialization of Stream. This can be done using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToInt-java.util.function.ToIntFunction-\" rel=\"noreferrer\"><code>Stream::mapToInt</code></a> method:</p>\n\n<pre><code>list.stream().mapToInt(Integer::intValue)\n</code></pre>\n\n<p>Doing this you can use the methods <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#sum--\" rel=\"noreferrer\"><code>IntStream::sum</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--\" rel=\"noreferrer\"><code>IntStream::average</code></a>:</p>\n\n<pre><code>System.out.println(\"sum by using Stream : \" + list.stream().mapToInt(Integer::intValue).sum());\nSystem.out.println(\"average by using Stream : \" + list.stream().mapToInt(Integer::intValue).average());\n</code></pre>\n\n<p>Or even better, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--\" rel=\"noreferrer\"><code>IntStream::summaryStatistics</code></a> to get the sum, count and avg together (also the min and the max value):</p>\n\n<pre><code>System.out.println(\"sum, count, avg, min and max using Stream : \" + list.stream().mapToInt(Integer::intValue).summaryStatistics());\n</code></pre>\n\n<p>To sort the values you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\" rel=\"noreferrer\"><code>Stream::sorted</code></a> method:</p>\n\n<pre><code>System.out.println(\"sort by using Stream: \" + list.stream().sorted().collect(Collectors.toList()));\n</code></pre>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\" rel=\"noreferrer\">Here</a> is a good post that can help you to understand how to use the Java 8 Stream Api.</p>\n"}],"owner":{"account_id":11292791,"reputation":683,"user_id":8281218,"accept_rate":20,"display_name":"KingJinho"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25031,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"answer_count":4,"score":16,"last_activity_date":1669041250,"creation_date":1519217906,"question_id":48906552,"body_markdown":"I am studying java Stream and having hard time solving questions below. The reason why I got stuck is because I have no idea about dealing with `Stream&lt;Integer&gt;`.\r\n\r\nI stumbled upon a solution of &quot;count&quot; by doing `list.stream().count()`, but other than this, I can&#39;t proceed further. Please help me how to deal with these problems and tell me why `list.stream().count()` works in this situation. So far, I&#39;ve tried everything I&#39;ve learned.\r\n\r\n    public class Question {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt;list = Arrays.asList(5,3,4,1,2);\r\n            System.out.println(&quot;sum by using Stream : &quot; + sum);\r\n            System.out.println(&quot;count by using Stream: &quot; + count);\r\n            System.out.println(&quot;average by using Stream : &quot; + avg);\r\n            System.out.println(&quot;sort by using Stream&quot;);\r\n        }\r\n    }","title":"using java Stream to get a sum, average, and sort","body":"<p>I am studying java Stream and having hard time solving questions below. The reason why I got stuck is because I have no idea about dealing with <code>Stream&lt;Integer&gt;</code>.</p>\n\n<p>I stumbled upon a solution of \"count\" by doing <code>list.stream().count()</code>, but other than this, I can't proceed further. Please help me how to deal with these problems and tell me why <code>list.stream().count()</code> works in this situation. So far, I've tried everything I've learned.</p>\n\n<pre><code>public class Question {\n    public static void main(String[] args) {\n        List&lt;Integer&gt;list = Arrays.asList(5,3,4,1,2);\n        System.out.println(\"sum by using Stream : \" + sum);\n        System.out.println(\"count by using Stream: \" + count);\n        System.out.println(\"average by using Stream : \" + avg);\n        System.out.println(\"sort by using Stream\");\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1669035235,"post_id":74519128,"comment_id":131544122,"body_markdown":"Something like `Query name = session.createQuery(&quot;SELECT username, password, email FROM Accounts WHERE username = :username AND password = :password)&quot;);` -- and then bind the username and password.","body":"Something like <code>Query name = session.createQuery(&quot;SELECT username, password, email FROM Accounts WHERE username = :username AND password = :password)&quot;);</code> -- and then bind the username and password."}],"answers":[{"tags":[],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669041095,"creation_date":1669041095,"answer_id":74520518,"question_id":74519128,"body_markdown":"User Elliot Frisch helped me, I solved this problem and added a loop to read everything I get and there was no error.\r\n\r\nQuery:\r\n\r\n    users = session.createQuery(&quot;SELECT username, password FROM Accounts WHERE username = &#39;&quot; + user[2] + &quot;&#39; and password = &#39;&quot; + user[3] + &quot;&#39;&quot;);\r\n\r\nCicle:\r\n\r\n    for (Object[] profile : data1) {\r\n        u = (String)profile[0];\r\n        p = (String)profile[1];\r\n    }","title":"how to get two values from a table in one row","body":"<p>User Elliot Frisch helped me, I solved this problem and added a loop to read everything I get and there was no error.</p>\n<p>Query:</p>\n<pre><code>users = session.createQuery(&quot;SELECT username, password FROM Accounts WHERE username = '&quot; + user[2] + &quot;' and password = '&quot; + user[3] + &quot;'&quot;);\n</code></pre>\n<p>Cicle:</p>\n<pre><code>for (Object[] profile : data1) {\n    u = (String)profile[0];\n    p = (String)profile[1];\n}\n</code></pre>\n"}],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74520518,"answer_count":1,"score":0,"last_activity_date":1669041095,"creation_date":1669034587,"question_id":74519128,"body_markdown":"I want to get two values from the same row in the database, but my query reads all the passwords that match the table.\r\n\r\nexample:\r\n\r\nUsername: Max, password: 1234\r\nLogin: Alex, password: 5678\r\n\r\nOtherwise, I try to log into Max&#39;s account by typing the password: 5678 and log into it without problems. This is the situation with Alex too, I know my request is so bad and I know it&#39;s a problem, I read all the passwords but I only need to read Max&#39;s password, how do I do that?\r\n\r\nQuery:\r\n\r\n    Query name = session.createQuery(&quot;SELECT username FROM Accounts WHERE NOT EXISTS ( SELECT username FROM Accounts WHERE username = &#39;&quot; + user[2] + &quot;&#39;)&quot;);\r\n    Query pass = session.createQuery(&quot;SELECT password FROM Accounts WHERE password = &#39;&quot; + user[3] + &quot;&#39;&quot;);\r\n    Query mail = session.createQuery(&quot;SELECT email FROM Accounts WHERE NOT EXISTS ( SELECT email FROM Accounts WHERE email = &#39;&quot; + user[3] + &quot;&#39;)&quot;);","title":"how to get two values from a table in one row","body":"<p>I want to get two values from the same row in the database, but my query reads all the passwords that match the table.</p>\n<p>example:</p>\n<p>Username: Max, password: 1234\nLogin: Alex, password: 5678</p>\n<p>Otherwise, I try to log into Max's account by typing the password: 5678 and log into it without problems. This is the situation with Alex too, I know my request is so bad and I know it's a problem, I read all the passwords but I only need to read Max's password, how do I do that?</p>\n<p>Query:</p>\n<pre><code>Query name = session.createQuery(&quot;SELECT username FROM Accounts WHERE NOT EXISTS ( SELECT username FROM Accounts WHERE username = '&quot; + user[2] + &quot;')&quot;);\nQuery pass = session.createQuery(&quot;SELECT password FROM Accounts WHERE password = '&quot; + user[3] + &quot;'&quot;);\nQuery mail = session.createQuery(&quot;SELECT email FROM Accounts WHERE NOT EXISTS ( SELECT email FROM Accounts WHERE email = '&quot; + user[3] + &quot;')&quot;);\n</code></pre>\n"},{"tags":["java","android","simpledateformat"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668702283,"post_id":74478332,"comment_id":131475569,"body_markdown":"By the way… You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes.","body":"By the way… You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668702515,"post_id":74478332,"comment_id":131475665,"body_markdown":"Give example inputs and outputs. Explain how the results do not match your expectations.","body":"Give example inputs and outputs. Explain how the results do not match your expectations."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668702643,"post_id":74478332,"comment_id":131475705,"body_markdown":"If parsing is not a problem, delete from your Question.","body":"If parsing is not a problem, delete from your Question."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668712540,"post_id":74478332,"comment_id":131479151,"body_markdown":"Not answering your question, I recommend you consider throwing away the classes `Date` and `SimplerDateFormat`. They are troublesome and long outdated. You should prefer java.time, the modern Java date and time API. If developing for older Android too (below API level 26), you can use it through [desugaring](https://developer.android.com/studio/write/java8-support).","body":"Not answering your question, I recommend you consider throwing away the classes <code>Date</code> and <code>SimplerDateFormat</code>. They are troublesome and long outdated. You should prefer java.time, the modern Java date and time API. If developing for older Android too (below API level 26), you can use it through <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">desugaring</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668740545,"post_id":74478332,"comment_id":131485537,"body_markdown":"The difference must be due to different locale data in the device and the emulator. Where each gets its locale data from, I don’t know. As an aside, according to [this Wikipedia article](https://sv.wikipedia.org/wiki/12-timmarsklocka) it should be `f.m.` rather than `FM` in Swedish (sorry, everyone, the article is in Swedish too).","body":"The difference must be due to different locale data in the device and the emulator. Where each gets its locale data from, I don’t know. As an aside, according to <a href=\"https://sv.wikipedia.org/wiki/12-timmarsklocka\" rel=\"nofollow noreferrer\">this Wikipedia article</a> it should be <code>f.m.</code> rather than <code>FM</code> in Swedish (sorry, everyone, the article is in Swedish too)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668741308,"post_id":74478332,"comment_id":131485637,"body_markdown":"Allow me to take a step back and ask: Are you trying a too literal translation of the American 12-hours times that you have got to Swedish where your Swedish users would really be happier with a 24-hour format common in Sweden and among Swedish-speaking people? I believe that standard format/notation in Swedish is like `21:23`. Or are your users telling you that they have these very specific and non-standard wishes for how you display time to them?","body":"Allow me to take a step back and ask: Are you trying a too literal translation of the American 12-hours times that you have got to Swedish where your Swedish users would really be happier with a 24-hour format common in Sweden and among Swedish-speaking people? I believe that standard format/notation in Swedish is like <code>21:23</code>. Or are your users telling you that they have these very specific and non-standard wishes for how you display time to them?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668743134,"post_id":74478332,"comment_id":131485837,"body_markdown":"[My suggestion in Java code running online.](https://ideone.com/2Mi2fH)","body":"<a href=\"https://ideone.com/2Mi2fH\" rel=\"nofollow noreferrer\">My suggestion in Java code running online.</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668804399,"post_id":74478332,"comment_id":131503432,"body_markdown":"If your users insist on `FM` and `EM` and you want to be sure to give them that, with java.time you may use a `DateTimeFormatterBuilder` and its overloaded `appendText(TemporalField, Map&lt;Long, String&gt;)` method. There’s an example of that in my answer [here](https://stackoverflow.com/a/57183455/5772882).","body":"If your users insist on <code>FM</code> and <code>EM</code> and you want to be sure to give them that, with java.time you may use a <code>DateTimeFormatterBuilder</code> and its overloaded <code>appendText(TemporalField, Map&lt;Long, String&gt;)</code> method. There’s an example of that in my answer <a href=\"https://stackoverflow.com/a/57183455/5772882\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1668716054,"creation_date":1668716054,"answer_id":74481569,"question_id":74478332,"body_markdown":"First of all, the ***java.util*** date-time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html).\r\n\r\nIrrespective of whichever API you go with, the most likely cause of the problem is initializing `Locale` with one parameter. You should use `new Locale(&quot;sv&quot;,&quot;SE&quot;)` instead of `new Locale(&quot;sv&quot;)`.\r\n\r\n**Demo with java.time API**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Arrays;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.US);\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, new Locale(&quot;sv&quot;, &quot;SE&quot;));\r\n            LocalTime time = LocalTime.parse(&quot;06:45 AM&quot;, parser);\r\n            String formatted = time.format(formatter);\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    06:45 fm\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"SimpleDateFormat time conversion from US to Swedish doesn&#39;t work on real device but works on emulator","body":"<p>First of all, the <em><strong>java.util</strong></em> date-time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>.</p>\n<p>Irrespective of whichever API you go with, the most likely cause of the problem is initializing <code>Locale</code> with one parameter. You should use <code>new Locale(&quot;sv&quot;,&quot;SE&quot;)</code> instead of <code>new Locale(&quot;sv&quot;)</code>.</p>\n<p><strong>Demo with java.time API</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Arrays;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.US);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, new Locale(&quot;sv&quot;, &quot;SE&quot;));\n        LocalTime time = LocalTime.parse(&quot;06:45 AM&quot;, parser);\n        String formatted = time.format(formatter);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>06:45 fm\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1668798397,"creation_date":1668728223,"answer_id":74483379,"question_id":74478332,"body_markdown":"The [Answer by Arvind Kumar Avinash][1] is correct and smart. \r\n\r\nIn addition, we can let *java.time* automatically localize rather than hard-code a format.\r\n\r\n# Automatic localization\r\n\r\n## tl;dr\r\n\r\n    localTime\r\n    .format(\r\n        DateTimeFormatter\r\n        .ofLocalizedTime( FormatStyle.SHORT )\r\n        .withLocale( new Locale( &quot;sv&quot; , &quot;SE&quot; ) )  // Swedish language, Sweden culture.\r\n    )\r\n\r\nSee this code [run at Ideone.com][2].\r\n\r\n&gt;06:45\r\n\r\n## Details\r\n\r\nYou appear to be interested in only the hour and minute, but not the second or fractional second. So we can truncate the value.\r\n\r\n    LocalTime localTime = localTime.truncatedTo( ChronoUnit.MINUTES ) ;\r\n\r\nWe can examine a few locales, for comparison. We will try Sweden, United States, and Canada (French).\r\n\r\n    List &lt; Locale &gt; locales = List.of( new Locale( &quot;sv&quot; , &quot;SE&quot; ) , Locale.US , Locale.CANADA_FRENCH );\r\n\r\n\r\nLoop the locales. For each locale, loop the various `FormatStyle` enum object that can work with a time-of-day only value (`SHORT` &amp; `MEDIUM`).\r\n\r\n```java\r\nfor ( Locale locale : locales )\r\n{\r\n    System.out.println( &quot;-------|  &quot; + locale + &quot;  |--------&quot; );\r\n    for ( FormatStyle formatStyle : List.of( FormatStyle.SHORT , FormatStyle.MEDIUM ) )\r\n    {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofLocalizedTime( formatStyle ).withLocale( locale );\r\n        String output = localTimeTruncated.format( formatter );\r\n        System.out.println( formatter + &quot; ➠ &quot; + output );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nlocalTime = 06:45:07\r\nlocalTimeTruncated = 06:45\r\n-------|  sv_SE  |--------\r\nLocalized(,SHORT) ➠ 06:45\r\nLocalized(,MEDIUM) ➠ 06:45:00\r\n-------|  en_US  |--------\r\nLocalized(,SHORT) ➠ 6:45 AM\r\nLocalized(,MEDIUM) ➠ 6:45:00 AM\r\n-------|  fr_CA  |--------\r\nLocalized(,SHORT) ➠ 06 h 45\r\nLocalized(,MEDIUM) ➠ 06 h 45 min 00 s\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74481569/642706\r\n  [2]: https://ideone.com/6vvpgm","title":"SimpleDateFormat time conversion from US to Swedish doesn&#39;t work on real device but works on emulator","body":"<p>The <a href=\"https://stackoverflow.com/a/74481569/642706\">Answer by Arvind Kumar Avinash</a> is correct and smart.</p>\n<p>In addition, we can let <em>java.time</em> automatically localize rather than hard-code a format.</p>\n<h1>Automatic localization</h1>\n<h2>tl;dr</h2>\n<pre><code>localTime\n.format(\n    DateTimeFormatter\n    .ofLocalizedTime( FormatStyle.SHORT )\n    .withLocale( new Locale( &quot;sv&quot; , &quot;SE&quot; ) )  // Swedish language, Sweden culture.\n)\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/6vvpgm\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>06:45</p>\n</blockquote>\n<h2>Details</h2>\n<p>You appear to be interested in only the hour and minute, but not the second or fractional second. So we can truncate the value.</p>\n<pre><code>LocalTime localTime = localTime.truncatedTo( ChronoUnit.MINUTES ) ;\n</code></pre>\n<p>We can examine a few locales, for comparison. We will try Sweden, United States, and Canada (French).</p>\n<pre><code>List &lt; Locale &gt; locales = List.of( new Locale( &quot;sv&quot; , &quot;SE&quot; ) , Locale.US , Locale.CANADA_FRENCH );\n</code></pre>\n<p>Loop the locales. For each locale, loop the various <code>FormatStyle</code> enum object that can work with a time-of-day only value (<code>SHORT</code> &amp; <code>MEDIUM</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( Locale locale : locales )\n{\n    System.out.println( &quot;-------|  &quot; + locale + &quot;  |--------&quot; );\n    for ( FormatStyle formatStyle : List.of( FormatStyle.SHORT , FormatStyle.MEDIUM ) )\n    {\n        DateTimeFormatter formatter = DateTimeFormatter.ofLocalizedTime( formatStyle ).withLocale( locale );\n        String output = localTimeTruncated.format( formatter );\n        System.out.println( formatter + &quot; ➠ &quot; + output );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>localTime = 06:45:07\nlocalTimeTruncated = 06:45\n-------|  sv_SE  |--------\nLocalized(,SHORT) ➠ 06:45\nLocalized(,MEDIUM) ➠ 06:45:00\n-------|  en_US  |--------\nLocalized(,SHORT) ➠ 6:45 AM\nLocalized(,MEDIUM) ➠ 6:45:00 AM\n-------|  fr_CA  |--------\nLocalized(,SHORT) ➠ 06 h 45\nLocalized(,MEDIUM) ➠ 06 h 45 min 00 s\n</code></pre>\n"}],"owner":{"account_id":14879349,"reputation":525,"user_id":10744522,"display_name":"Shobhith"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1669041076,"creation_date":1668700078,"question_id":74478332,"body_markdown":"I am working on SimpleDatFormat on android.\r\nI tried to convert time from US locale to Swedish. It is working fine in emulator but when I tested it on Samsung devices it is not working. On rest of the devices and versions it is working fine.\r\n\r\n    SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;hh:mm a&quot;, Locale.US);\r\n    SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;hh:mm a&quot;, new Locale(&quot;sv&quot;));\r\n    try {\r\n        return outputFormat.format(inputFormat.parse(date));\r\n    } catch (ParseException e) {e.printStackTrace();}\r\n    return null;\r\n\r\n**Actual Result** \r\n\r\nExample input :- 06:45 AM\r\n\r\nO/p in emulator :- 06:45 FM\r\n\r\nO/p in real device :- 06:45 AM\r\n\r\n**Expected Result** \r\n\r\nExample input :- 06:45 AM\r\n\r\nO/p in emulator :- 06:45 FM\r\n\r\nO/p in real device :- 06:45 FM\r\n\r\n\r\nNote : This issue only happens for Time locale conversion. The date conversion works fine in both real and emulator devices.\r\n\r\n\r\nThanks in advance.","title":"SimpleDateFormat time conversion from US to Swedish doesn&#39;t work on real device but works on emulator","body":"<p>I am working on SimpleDatFormat on android.\nI tried to convert time from US locale to Swedish. It is working fine in emulator but when I tested it on Samsung devices it is not working. On rest of the devices and versions it is working fine.</p>\n<pre><code>SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;hh:mm a&quot;, Locale.US);\nSimpleDateFormat outputFormat = new SimpleDateFormat(&quot;hh:mm a&quot;, new Locale(&quot;sv&quot;));\ntry {\n    return outputFormat.format(inputFormat.parse(date));\n} catch (ParseException e) {e.printStackTrace();}\nreturn null;\n</code></pre>\n<p><strong>Actual Result</strong></p>\n<p>Example input :- 06:45 AM</p>\n<p>O/p in emulator :- 06:45 FM</p>\n<p>O/p in real device :- 06:45 AM</p>\n<p><strong>Expected Result</strong></p>\n<p>Example input :- 06:45 AM</p>\n<p>O/p in emulator :- 06:45 FM</p>\n<p>O/p in real device :- 06:45 FM</p>\n<p>Note : This issue only happens for Time locale conversion. The date conversion works fine in both real and emulator devices.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","feign","openfeign"],"owner":{"account_id":1913116,"reputation":2266,"user_id":1726366,"accept_rate":75,"display_name":"user1726366"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669040926,"creation_date":1669040926,"question_id":74520480,"body_markdown":"I found that feign would run into an error(error message &quot;ERROR HttpRetryException: cannot retry due to redirection, in streaming mode&quot;) if I used it to send a POST request with a body value to a server which would return an HTTP 302 status code to redirect. If the body value is not added, then feign would follow redirection with success. It seems to be a limitation from sun.net.www.protocol.http.HttpURLConnection, which blocks the POST redirection with the body. So is there any way to customize feign to make it follow redirection in such a case?\r\n\r\nThe code and error logs are shown below.\r\n\r\n    public interface FeignPostRedirectClient {\r\n      @RequestLine(&quot;POST /redirect-server&quot;)\r\n      void sendPostRequestWithBodyToRedirectServer(Map&lt;String, ?&gt; formBodyParams);  //follow redirection FAIL\r\n      //void sendPostRequestWithBodyToRedirectServer();  //follow redirection OK\r\n    }\r\n\r\n    @Configuration\r\n    public class FeignConfiguration {\r\n        @Bean\r\n        public FeignPostRedirectClient feignPostRedirectClient() {\r\n            return Feign.builder()\r\n                    .logLevel(Logger.Level.FULL)\r\n                    .logger(new Slf4jLogger())\r\n                    .encoder(new JacksonEncoder())\r\n                    .decoder(new JacksonDecoder())\r\n                    .options(new Request.Options(10, TimeUnit.SECONDS, 10, TimeUnit.SECONDS, true))\r\n                    .target(FeignPostRedirectClient.class, &quot;http://localhost:8082&quot;);\r\n        }\r\n    }\r\n\r\n    Map&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\r\n    formParams.put(&quot;Username&quot;, &quot;alice&quot;);\r\n    formParams.put(&quot;Password&quot;, &quot;pass&quot;);\r\n    feignPostRedirectClient.sendPostRequestWithBodyToRedirectServer(formParams);\r\n\r\n\r\n&gt; 2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; ---&gt; POST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger            \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; Content-Length: 49 2022-11-21 21:53:49.880 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] \r\n&gt; 2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] { \r\n&gt; &quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:53:49.881\r\n&gt; DEBUG 3944 --- [           main] feign.Logger                         \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; ---&gt; END HTTP (49-byte body) 2022-11-21 21:53:54.368 DEBUG 3944 --- [           main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] &lt;---\r\n&gt; ERROR HttpRetryException: cannot retry due to redirection, in\r\n&gt; streaming mode (4485ms) 2022-11-21 21:53:54.371 DEBUG 3944 --- [      \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; java.net.HttpRetryException: cannot retry due to redirection, in\r\n&gt; streaming mode \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.followRedirect0(HttpURLConnection.java:2682)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.followRedirect(HttpURLConnection.java:2668)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1847)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\r\n&gt; \tat\r\n&gt; java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n&gt; \tat feign.Client$Default.convertResponse(Client.java:110) \tat\r\n&gt; feign.Client$Default.execute(Client.java:106) \tat\r\n&gt; feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:102)\r\n&gt; \tat\r\n&gt; feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)\r\n&gt; \tat\r\n&gt; feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:109)\r\n&gt; \tat\r\n&gt; com.sun.proxy.$Proxy71.sendPostRequestWithBodyToRedirectServer(Unknown\r\n&gt; Source) \tat\r\n&gt; com.kingsoo.online.store.service.OnlineStoreServiceApplication.run(OnlineStoreServiceApplication.java:28)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n&gt; \tat\r\n&gt; com.kingsoo.online.store.service.OnlineStoreServiceApplication.main(OnlineStoreServiceApplication.java:19)\r\n&gt; \r\n&gt; 2022-11-21 21:53:54.371 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; &lt;--- END ERROR 2022-11-21 21:53:54.588 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\r\n&gt; RETRYING 2022-11-21 21:53:54.589 DEBUG 3944 --- [           main]\r\n&gt; feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\r\n&gt; POST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21\r\n&gt; 21:53:54.591 DEBUG 3944 --- [           main] feign.Logger            \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; Content-Length: 49 2022-11-21 21:53:54.591 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] \r\n&gt; 2022-11-21 21:53:54.592 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] { \r\n&gt; &quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:53:54.592\r\n&gt; DEBUG 3944 --- [           main] feign.Logger                         \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; ---&gt; END HTTP (49-byte body) 2022-11-21 21:54:54.606 DEBUG 3944 --- [           main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] &lt;---\r\n&gt; ERROR SocketTimeoutException: Read timed out (60010ms) 2022-11-21\r\n&gt; 21:54:54.609 DEBUG 3944 --- [           main] feign.Logger            \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; java.net.SocketTimeoutException: Read timed out \tat\r\n&gt; java.net.SocketInputStream.socketRead0(Native Method) \tat\r\n&gt; java.net.SocketInputStream.socketRead(SocketInputStream.java:116) \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:171) \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:141) \tat\r\n&gt; java.io.BufferedInputStream.fill(BufferedInputStream.java:246) \tat\r\n&gt; java.io.BufferedInputStream.read1(BufferedInputStream.java:286) \tat\r\n&gt; java.io.BufferedInputStream.read(BufferedInputStream.java:345) \tat\r\n&gt; sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:743) \tat\r\n&gt; sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1600)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\r\n&gt; \tat\r\n&gt; java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n&gt; \tat feign.Client$Default.convertResponse(Client.java:110) \tat\r\n&gt; feign.Client$Default.execute(Client.java:106) \tat\r\n&gt; feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:102)\r\n&gt; \tat\r\n&gt; feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)\r\n&gt; \tat\r\n&gt; feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:109)\r\n&gt; \tat\r\n&gt; com.sun.proxy.$Proxy71.sendPostRequestWithBodyToRedirectServer(Unknown\r\n&gt; Source) \tat\r\n&gt; com.kingsoo.online.store.service.OnlineStoreServiceApplication.run(OnlineStoreServiceApplication.java:28)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n&gt; \tat\r\n&gt; com.kingsoo.online.store.service.OnlineStoreServiceApplication.main(OnlineStoreServiceApplication.java:19)\r\n&gt; \r\n&gt; 2022-11-21 21:54:54.609 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; &lt;--- END ERROR 2022-11-21 21:54:54.840 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\r\n&gt; RETRYING 2022-11-21 21:54:54.842 DEBUG 3944 --- [           main]\r\n&gt; feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\r\n&gt; POST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21\r\n&gt; 21:54:54.842 DEBUG 3944 --- [           main] feign.Logger            \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; Content-Length: 49 2022-11-21 21:54:54.842 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] \r\n&gt; 2022-11-21 21:54:54.842 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] { \r\n&gt; &quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:54:54.842\r\n&gt; DEBUG 3944 --- [           main] feign.Logger                         \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; ---&gt; END HTTP (49-byte body)","title":"How to use openFeign to follow redirection of a HTTP POST request with body?","body":"<p>I found that feign would run into an error(error message &quot;ERROR HttpRetryException: cannot retry due to redirection, in streaming mode&quot;) if I used it to send a POST request with a body value to a server which would return an HTTP 302 status code to redirect. If the body value is not added, then feign would follow redirection with success. It seems to be a limitation from sun.net.www.protocol.http.HttpURLConnection, which blocks the POST redirection with the body. So is there any way to customize feign to make it follow redirection in such a case?</p>\n<p>The code and error logs are shown below.</p>\n<pre><code>public interface FeignPostRedirectClient {\n  @RequestLine(&quot;POST /redirect-server&quot;)\n  void sendPostRequestWithBodyToRedirectServer(Map&lt;String, ?&gt; formBodyParams);  //follow redirection FAIL\n  //void sendPostRequestWithBodyToRedirectServer();  //follow redirection OK\n}\n\n@Configuration\npublic class FeignConfiguration {\n    @Bean\n    public FeignPostRedirectClient feignPostRedirectClient() {\n        return Feign.builder()\n                .logLevel(Logger.Level.FULL)\n                .logger(new Slf4jLogger())\n                .encoder(new JacksonEncoder())\n                .decoder(new JacksonDecoder())\n                .options(new Request.Options(10, TimeUnit.SECONDS, 10, TimeUnit.SECONDS, true))\n                .target(FeignPostRedirectClient.class, &quot;http://localhost:8082&quot;);\n    }\n}\n\nMap&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\nformParams.put(&quot;Username&quot;, &quot;alice&quot;);\nformParams.put(&quot;Password&quot;, &quot;pass&quot;);\nfeignPostRedirectClient.sendPostRequestWithBodyToRedirectServer(formParams);\n</code></pre>\n<blockquote>\n<p>2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n---&gt; POST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\nContent-Length: 49 2022-11-21 21:53:49.880 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] {\n&quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:53:49.881\nDEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n---&gt; END HTTP (49-byte body) 2022-11-21 21:53:54.368 DEBUG 3944 --- [           main] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] &lt;---\nERROR HttpRetryException: cannot retry due to redirection, in\nstreaming mode (4485ms) 2022-11-21 21:53:54.371 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\njava.net.HttpRetryException: cannot retry due to redirection, in\nstreaming mode    at\nsun.net.www.protocol.http.HttpURLConnection.followRedirect0(HttpURLConnection.java:2682)\nat\nsun.net.www.protocol.http.HttpURLConnection.followRedirect(HttpURLConnection.java:2668)\nat\nsun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1847)\nat\nsun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\nat\njava.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\nat feign.Client$Default.convertResponse(Client.java:110)    at\nfeign.Client$Default.execute(Client.java:106)     at\nfeign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:102)\nat\nfeign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)\nat\nfeign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:109)\nat\ncom.sun.proxy.$Proxy71.sendPostRequestWithBodyToRedirectServer(Unknown\nSource)   at\ncom.kingsoo.online.store.service.OnlineStoreServiceApplication.run(OnlineStoreServiceApplication.java:28)\nat\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\nat\norg.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nat\ncom.kingsoo.online.store.service.OnlineStoreServiceApplication.main(OnlineStoreServiceApplication.java:19)</p>\n<p>2022-11-21 21:53:54.371 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n&lt;--- END ERROR 2022-11-21 21:53:54.588 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\nRETRYING 2022-11-21 21:53:54.589 DEBUG 3944 --- [           main]\nfeign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\nPOST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21\n21:53:54.591 DEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\nContent-Length: 49 2022-11-21 21:53:54.591 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n2022-11-21 21:53:54.592 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] {\n&quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:53:54.592\nDEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n---&gt; END HTTP (49-byte body) 2022-11-21 21:54:54.606 DEBUG 3944 --- [           main] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] &lt;---\nERROR SocketTimeoutException: Read timed out (60010ms) 2022-11-21\n21:54:54.609 DEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\njava.net.SocketTimeoutException: Read timed out   at\njava.net.SocketInputStream.socketRead0(Native Method)     at\njava.net.SocketInputStream.socketRead(SocketInputStream.java:116)     at\njava.net.SocketInputStream.read(SocketInputStream.java:171)   at\njava.net.SocketInputStream.read(SocketInputStream.java:141)   at\njava.io.BufferedInputStream.fill(BufferedInputStream.java:246)    at\njava.io.BufferedInputStream.read1(BufferedInputStream.java:286)   at\njava.io.BufferedInputStream.read(BufferedInputStream.java:345)    at\nsun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:743)  at\nsun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)    at\nsun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1600)\nat\nsun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\nat\njava.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\nat feign.Client$Default.convertResponse(Client.java:110)    at\nfeign.Client$Default.execute(Client.java:106)     at\nfeign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:102)\nat\nfeign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)\nat\nfeign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:109)\nat\ncom.sun.proxy.$Proxy71.sendPostRequestWithBodyToRedirectServer(Unknown\nSource)   at\ncom.kingsoo.online.store.service.OnlineStoreServiceApplication.run(OnlineStoreServiceApplication.java:28)\nat\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\nat\norg.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nat\ncom.kingsoo.online.store.service.OnlineStoreServiceApplication.main(OnlineStoreServiceApplication.java:19)</p>\n<p>2022-11-21 21:54:54.609 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n&lt;--- END ERROR 2022-11-21 21:54:54.840 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\nRETRYING 2022-11-21 21:54:54.842 DEBUG 3944 --- [           main]\nfeign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\nPOST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21\n21:54:54.842 DEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\nContent-Length: 49 2022-11-21 21:54:54.842 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n2022-11-21 21:54:54.842 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] {\n&quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:54:54.842\nDEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n---&gt; END HTTP (49-byte body)</p>\n</blockquote>\n"},{"tags":["java","mariadb","database-migration","flyway"],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668692854,"creation_date":1668692854,"answer_id":74476572,"question_id":74476440,"body_markdown":"You can launch application against clean test database, Flyway will run all migrations and save the records to `flyway_schema_history` table. Then you manually create `flyway_schema_history` on prod database, populate it with records taken from test table. When you launch prod application, Flyway will scan `flyway_schema_history` table and consider that all migrations are already executed, and will not run your scripts so data will not be corrupted.","title":"Will Flyway execute all migrations from the beginning on an existing database?","body":"<p>You can launch application against clean test database, Flyway will run all migrations and save the records to <code>flyway_schema_history</code> table. Then you manually create <code>flyway_schema_history</code> on prod database, populate it with records taken from test table. When you launch prod application, Flyway will scan <code>flyway_schema_history</code> table and consider that all migrations are already executed, and will not run your scripts so data will not be corrupted.</p>\n"},{"tags":[],"owner":{"account_id":55854,"reputation":5789,"user_id":167364,"display_name":"David Atkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668695935,"creation_date":1668695935,"answer_id":74477293,"question_id":74476440,"body_markdown":"Flyway will by default try to execute all migrations that haven&#39;t been logged as run in the flyway_schema_history table.\r\n\r\nBut... there is a [flyway baseline][1] feature which instructs Flyway to ignore any migrations that have a version equal to or lower than a specified version.\r\n\r\nSo assuming the &quot;already run migrations&quot; are given an earlier version number (which is baked into the filename), and you ensure that you set a baselineVersion to be a number that is above these run migrations, then you should be good to go.\r\n\r\n  [1]: https://flywaydb.org/documentation/command/baseline","title":"Will Flyway execute all migrations from the beginning on an existing database?","body":"<p>Flyway will by default try to execute all migrations that haven't been logged as run in the flyway_schema_history table.</p>\n<p>But... there is a <a href=\"https://flywaydb.org/documentation/command/baseline\" rel=\"nofollow noreferrer\">flyway baseline</a> feature which instructs Flyway to ignore any migrations that have a version equal to or lower than a specified version.</p>\n<p>So assuming the &quot;already run migrations&quot; are given an earlier version number (which is baked into the filename), and you ensure that you set a baselineVersion to be a number that is above these run migrations, then you should be good to go.</p>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74476572,"answer_count":2,"score":1,"last_activity_date":1669040670,"creation_date":1668692286,"question_id":74476440,"body_markdown":"I have a a strange question to ask. I started working on a project and I need to integrate flyway to make it execute any new migrations on application start-up. The flyway dependency and config exists, pointing at a batch of migration scripts, but these were previously executed against the target &#39;by hand&#39; without flyway having been used. The prod database full of user data. I can not tell you why it was organised like this.\r\n\r\nWhat I want to do is to integrate flyway to make it check that migration folder and to add a command to the pipeline. And I have a concern that if I don&#39;t configure flyway properly will it execute all those migrations from the beginning on start-up? (this can corrupt existing data) Or it will it only execute newly added migrations?","title":"Will Flyway execute all migrations from the beginning on an existing database?","body":"<p>I have a a strange question to ask. I started working on a project and I need to integrate flyway to make it execute any new migrations on application start-up. The flyway dependency and config exists, pointing at a batch of migration scripts, but these were previously executed against the target 'by hand' without flyway having been used. The prod database full of user data. I can not tell you why it was organised like this.</p>\n<p>What I want to do is to integrate flyway to make it check that migration folder and to add a command to the pipeline. And I have a concern that if I don't configure flyway properly will it execute all those migrations from the beginning on start-up? (this can corrupt existing data) Or it will it only execute newly added migrations?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668946509,"post_id":74504404,"comment_id":131524830,"body_markdown":"Can you add the relevant part from your controller?","body":"Can you add the relevant part from your controller?"}],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669040364,"creation_date":1669040364,"answer_id":74520358,"question_id":74504404,"body_markdown":"The direction should be in the sort param :\r\n\r\n`?page=0&amp;size=4&amp;sort=district,desc`\r\n\r\nYou can find more examples [here](https://www.bezkoder.com/spring-boot-pagination-sorting-example/)\r\n","title":"Why Jpa sorting is not working with Pageable in Spring?","body":"<p>The direction should be in the sort param :</p>\n<p><code>?page=0&amp;size=4&amp;sort=district,desc</code></p>\n<p>You can find more examples <a href=\"https://www.bezkoder.com/spring-boot-pagination-sorting-example/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74520358,"answer_count":1,"score":0,"last_activity_date":1669040364,"creation_date":1668898685,"question_id":74504404,"body_markdown":"Paging is working good but I cannot sort the data according to a specific field.\r\nMy repository method `Page&lt;AdvertSearch&gt; findAll(Pageable pageable);`\r\n\r\nMy entity class is:\r\n\r\n    public class AdvertSearch {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;uuid2&quot;)\r\n        @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n        @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\r\n        private String id;\r\n    \r\n        private String advertId;\r\n        private String officeId;\r\n        private String officeName;\r\n    \r\n        //TODO: type hangi Point olacak hangi class olacak karar verilecek\r\n        @Column(nullable = false, columnDefinition = &quot;POINT SRID 4326&quot;)\r\n        private Point location;\r\n    \r\n        private OfficeType officeType;\r\n        private String city;\r\n        private String district;\r\n        private String mainOfficeId;\r\n        private Integer facilityCount;\r\n        private Integer virtualPackageCount;\r\n        private BuildingType buildingType;\r\n        private Integer securityCount;\r\n        private Double monthlyPrice;\r\n        private String currency;\r\n        private Integer capacity;\r\n    \r\n        //TODO: officelerde rating olmayacak diye konustuk bunun da netlestirilmesi gerek\r\n        private Double rating;\r\n        private Integer ratingCount;\r\n    }\r\n\r\nMy postman request is: `http://localhost:8080/advertsearch/findallbypage?page=0&amp;size=4&amp;sort=district&amp;direction=desc`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you see I want to sort the data according to district but it is not working. Is my request wrong ? Or is it about `Pageable` in JPA ?\r\n\r\n  [1]: https://i.stack.imgur.com/DXWzu.png","title":"Why Jpa sorting is not working with Pageable in Spring?","body":"<p>Paging is working good but I cannot sort the data according to a specific field.\nMy repository method <code>Page&lt;AdvertSearch&gt; findAll(Pageable pageable);</code></p>\n<p>My entity class is:</p>\n<pre><code>public class AdvertSearch {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\n    private String id;\n\n    private String advertId;\n    private String officeId;\n    private String officeName;\n\n    //TODO: type hangi Point olacak hangi class olacak karar verilecek\n    @Column(nullable = false, columnDefinition = &quot;POINT SRID 4326&quot;)\n    private Point location;\n\n    private OfficeType officeType;\n    private String city;\n    private String district;\n    private String mainOfficeId;\n    private Integer facilityCount;\n    private Integer virtualPackageCount;\n    private BuildingType buildingType;\n    private Integer securityCount;\n    private Double monthlyPrice;\n    private String currency;\n    private Integer capacity;\n\n    //TODO: officelerde rating olmayacak diye konustuk bunun da netlestirilmesi gerek\n    private Double rating;\n    private Integer ratingCount;\n}\n</code></pre>\n<p>My postman request is: <code>http://localhost:8080/advertsearch/findallbypage?page=0&amp;size=4&amp;sort=district&amp;direction=desc</code></p>\n<p><a href=\"https://i.stack.imgur.com/DXWzu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DXWzu.png\" alt=\"enter image description here\" /></a></p>\n<p>As you see I want to sort the data according to district but it is not working. Is my request wrong ? Or is it about <code>Pageable</code> in JPA ?</p>\n"},{"tags":["java","key","linkedhashmap"],"comments":[{"owner":{"account_id":342405,"reputation":1433,"user_id":673544,"display_name":"Nodebody"},"score":0,"creation_date":1669038105,"post_id":74519738,"comment_id":131545181,"body_markdown":"You almost did a good job on your first question. Even better would be if you had included what behavior you observe with your code - errors, unexpected output, etc.. \nThat being said: Shouldn&#39;t your emptySlotsOfString-array be (at least) as big as the highest index+1 in your map and not only as big as your historgram, because your array is only 8 long while your string&#39;s length is 12.","body":"You almost did a good job on your first question. Even better would be if you had included what behavior you observe with your code - errors, unexpected output, etc..  That being said: Shouldn&#39;t your emptySlotsOfString-array be (at least) as big as the highest index+1 in your map and not only as big as your historgram, because your array is only 8 long while your string&#39;s length is 12."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669040271,"creation_date":1669040271,"answer_id":74520330,"question_id":74519738,"body_markdown":"The length of the initial `String` is **not** equal to the size of the `Map` since each character might be encountered multiple times. To calculate the string&#39;s length you need to add up the sizes of all the lists of indices in the Map.\r\n\r\n    public int getLength() {\r\n        int length = 0;\r\n        for (List&lt;Integer&gt; indices : lettersHistogram.values()) {\r\n            length += indices.size();\r\n        }\r\n        return length;\r\n    }\r\n\r\nThen to restore the initial string, you can iterate over the entries of the `Map` using a nested `for`-loop. In the inner loop, iterate over the values (i.e. a list of indices) of each entry and assign the Key of the entry (character) to every corresponding index in the array.\r\n\r\nFinally, use constructor [`String(char[])`][constructor] to turn the char array into a `String`.\r\n\r\n    public String convertToOldString() {\r\n        char[] chars = new char[getLength()];\r\n        for (var entry : lettersHistogram.entrySet()) {\r\n            for (int index : entry.getValue())\r\n            chars[index] = entry.getKey();\r\n        }\r\n        return new String(chars);\r\n    }\r\n\r\n\r\n\r\n   [constructor]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E(char%5B%5D)","title":"Create a new String with the characters as Key by each Value from LinkedHashMap","body":"<p>The length of the initial <code>String</code> is <strong>not</strong> equal to the size of the <code>Map</code> since each character might be encountered multiple times. To calculate the string's length you need to add up the sizes of all the lists of indices in the Map.</p>\n<pre><code>public int getLength() {\n    int length = 0;\n    for (List&lt;Integer&gt; indices : lettersHistogram.values()) {\n        length += indices.size();\n    }\n    return length;\n}\n</code></pre>\n<p>Then to restore the initial string, you can iterate over the entries of the <code>Map</code> using a nested <code>for</code>-loop. In the inner loop, iterate over the values (i.e. a list of indices) of each entry and assign the Key of the entry (character) to every corresponding index in the array.</p>\n<p>Finally, use constructor <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E(char%5B%5D)\" rel=\"nofollow noreferrer\"><code>String(char[])</code></a> to turn the char array into a <code>String</code>.</p>\n<pre><code>public String convertToOldString() {\n    char[] chars = new char[getLength()];\n    for (var entry : lettersHistogram.entrySet()) {\n        for (int index : entry.getValue())\n        chars[index] = entry.getKey();\n    }\n    return new String(chars);\n}\n</code></pre>\n"}],"owner":{"display_name":"user13084927"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669040271,"creation_date":1669037612,"question_id":74519738,"body_markdown":"```\r\npublic class StringManagement {  \r\n    private String str;\r\n    private Map&lt;Character, List&lt;Integer&gt;&gt; lettersHistogram = new LinkedHashMap&lt;&gt;();\r\n    //private Map&lt;Character, Integer&gt; numCount = new LinkedHashMap&lt;Character, Integer();\r\n\r\n    public void convertToOldString(){\r\n        String oldString;\r\n        char emptySlotsOfString[] = new char[lettersHistogram.size()];\r\n        for(int i=0; i&lt;emptySlotsOfString.length; i++){\r\n            Arrays.fill(emptySlotsOfString, &#39; &#39;);\r\n        }\r\n\r\n}\r\n```\r\n\r\nI need to create a function that will read the characters with the location information, from the structure stored, will recompose the string back to its original form situation by placing the necessary blanks and then it will print it.\r\n\r\nfor example if i add the string &quot;HELLO SAMOS!&quot; right now returns me \r\n{H=[0], E=[1], L=[2, 3], O=[4, 9], S=[6, 10], A=[7], M=[8], !=[11]}\r\nit saves every character with each position in the linkedhashmap.\r\n\r\nI just thought that i have to create an empty char[] table that will fill with spaces &#39; &#39; same length as the size of the map and replace the &#39; &#39; with characters from the map by each value.. please some help..","title":"Create a new String with the characters as Key by each Value from LinkedHashMap","body":"<pre><code>public class StringManagement {  \n    private String str;\n    private Map&lt;Character, List&lt;Integer&gt;&gt; lettersHistogram = new LinkedHashMap&lt;&gt;();\n    //private Map&lt;Character, Integer&gt; numCount = new LinkedHashMap&lt;Character, Integer();\n\n    public void convertToOldString(){\n        String oldString;\n        char emptySlotsOfString[] = new char[lettersHistogram.size()];\n        for(int i=0; i&lt;emptySlotsOfString.length; i++){\n            Arrays.fill(emptySlotsOfString, ' ');\n        }\n\n}\n</code></pre>\n<p>I need to create a function that will read the characters with the location information, from the structure stored, will recompose the string back to its original form situation by placing the necessary blanks and then it will print it.</p>\n<p>for example if i add the string &quot;HELLO SAMOS!&quot; right now returns me\n{H=[0], E=[1], L=[2, 3], O=[4, 9], S=[6, 10], A=[7], M=[8], !=[11]}\nit saves every character with each position in the linkedhashmap.</p>\n<p>I just thought that i have to create an empty char[] table that will fill with spaces ' ' same length as the size of the map and replace the ' ' with characters from the map by each value.. please some help..</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669040261,"creation_date":1669040261,"answer_id":74520323,"question_id":74510273,"body_markdown":"Yes, the paused state of the container is not considered when deciding to emit idle events.\r\n\r\nHowever, the event contains a property...\r\n\r\n```java\r\n/**\r\n * Return true if the consumer was paused at the time the idle event was published.\r\n * @return paused.\r\n * @since 2.1.5\r\n */\r\npublic boolean isPaused() {\r\n\treturn this.paused;\r\n}\r\n```\r\n","title":"In spring kafka if the listener container is paused then can it emit ListenerContainerIdleEvent (idle event)?","body":"<p>Yes, the paused state of the container is not considered when deciding to emit idle events.</p>\n<p>However, the event contains a property...</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Return true if the consumer was paused at the time the idle event was published.\n * @return paused.\n * @since 2.1.5\n */\npublic boolean isPaused() {\n    return this.paused;\n}\n</code></pre>\n"}],"owner":{"account_id":6089074,"reputation":63,"user_id":8324957,"display_name":"slick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669040261,"creation_date":1668964550,"question_id":74510273,"body_markdown":"If the listener container has been paused will it still emit ListenerContainerIdleEvent after the threshold set in setIdleEventInterval has exceeded ?","title":"In spring kafka if the listener container is paused then can it emit ListenerContainerIdleEvent (idle event)?","body":"<p>If the listener container has been paused will it still emit ListenerContainerIdleEvent after the threshold set in setIdleEventInterval has exceeded ?</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":22071184,"reputation":33,"user_id":16332139,"display_name":"Bhavin "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669039955,"creation_date":1669039955,"question_id":74520256,"body_markdown":"I have service in which I am calling elastic server and whatever response I get, I iterate over it and filter records on depending upon criteria, if after filtering I get records size as same input_size I return the result or else I again call the elastic by changing query and increasing offset. Code is somewhat like below.\r\n\r\n```\r\nSearchCriteria {\r\n    private int offset;\r\n    private int limit;\r\n    private Filters filter;\r\n}\r\n\r\nElasticService {\r\n    private ResultObj getDataFromElastic(SearchCriteria criteria){\r\n         List&lt;Document&gt; op = new ArrayList&lt;&gt;();\r\n         do {\r\n             SearchRequest searchReq = buildElasticQuery(criteria, offset, limit);\r\n             Page&lt;Document&gt; res = repository.search(searchReq);\r\n             count = 0;\r\n             for(Document r:res){\r\n                if(r.getStatus() != &quot;Ready&quot;){\r\n                   continue; }\r\n             count +=1;\r\n             op.add(r);\r\n             }\r\n         if(count &lt;= limit){\r\n             offset = offset + 10;\r\n             }\r\n         }while(count &lt;= Limit);\r\n\r\n}\r\n}\r\n\r\n```\r\n\r\nNow the main issue is when I pass offset as 0 and limit as 10 it goes for 2nd elastic call because count didn&#39;t match the limit. But elastic returns **empty response for 2nd call.**\r\n\r\n```\r\n2022-11-21 17:59:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 0 , 10\r\n2022-11-21 17:59:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]\r\n2022-11-21 17:59:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 3\r\n2022-11-21 17:59:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 10 , 10\r\n2022-11-21 17:59:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : **Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]**\r\n2022-11-21 17:59:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 0\r\n```\r\nbut I send seperate request with offset as 10 and limit 10, elastic returns data with some size.\r\n\r\n\r\n```\r\n2022-11-21 17:65:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 10 , 10\r\n2022-11-21 17:65:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : **Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]**\r\n2022-11-21 17:65:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 3\r\n```\r\n\r\nI tried changing the way I am calling elastic client from repository class that extends `ElasticsearchRepository` to using high level Rest client `RestHighLevelClient` .\r\n```\r\nresultList = leadIndexRepository.search(searchQuery);\r\n```\r\n\r\n```\r\nsearchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n```\r\n\r\nI also tried by changing the how we use the Pagination thing. First I tried with \r\n\r\n```\r\nreturn new NativeSearchQueryBuilder()\r\n                .withQuery(baseQueryBuilder)\r\n                .withPageable(PageRequest.of(pageNumber, limit, buildSort(criteria)))\r\n                .build();\r\n```\r\n\r\nthen I removed the withPageable from here and added \r\n\r\n```\r\nSearchQuery searchQuery = buildSearchQuery(criteria, limit, pageNumber);\r\nSearchSourceBuilder source = new SearchSourceBuilder()\r\n         .query(searchQuery.getQuery()).from(offset).size(limit);\r\nSearchRequest searchRequest=new SearchRequest(leadDocumentProperties.getName()).source(source);\r\n```\r\nI also tried few others way but none of it worked.","title":"Java ElasticSearch : Getting empty result when calling with different offset in same call","body":"<p>I have service in which I am calling elastic server and whatever response I get, I iterate over it and filter records on depending upon criteria, if after filtering I get records size as same input_size I return the result or else I again call the elastic by changing query and increasing offset. Code is somewhat like below.</p>\n<pre><code>SearchCriteria {\n    private int offset;\n    private int limit;\n    private Filters filter;\n}\n\nElasticService {\n    private ResultObj getDataFromElastic(SearchCriteria criteria){\n         List&lt;Document&gt; op = new ArrayList&lt;&gt;();\n         do {\n             SearchRequest searchReq = buildElasticQuery(criteria, offset, limit);\n             Page&lt;Document&gt; res = repository.search(searchReq);\n             count = 0;\n             for(Document r:res){\n                if(r.getStatus() != &quot;Ready&quot;){\n                   continue; }\n             count +=1;\n             op.add(r);\n             }\n         if(count &lt;= limit){\n             offset = offset + 10;\n             }\n         }while(count &lt;= Limit);\n\n}\n}\n\n</code></pre>\n<p>Now the main issue is when I pass offset as 0 and limit as 10 it goes for 2nd elastic call because count didn't match the limit. But elastic returns <strong>empty response for 2nd call.</strong></p>\n<pre><code>2022-11-21 17:59:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 0 , 10\n2022-11-21 17:59:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]\n2022-11-21 17:59:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 3\n2022-11-21 17:59:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 10 , 10\n2022-11-21 17:59:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : **Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]**\n2022-11-21 17:59:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 0\n</code></pre>\n<p>but I send seperate request with offset as 10 and limit 10, elastic returns data with some size.</p>\n<pre><code>2022-11-21 17:65:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 10 , 10\n2022-11-21 17:65:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : **Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]**\n2022-11-21 17:65:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 3\n</code></pre>\n<p>I tried changing the way I am calling elastic client from repository class that extends <code>ElasticsearchRepository</code> to using high level Rest client <code>RestHighLevelClient</code> .</p>\n<pre><code>resultList = leadIndexRepository.search(searchQuery);\n</code></pre>\n<pre><code>searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n</code></pre>\n<p>I also tried by changing the how we use the Pagination thing. First I tried with</p>\n<pre><code>return new NativeSearchQueryBuilder()\n                .withQuery(baseQueryBuilder)\n                .withPageable(PageRequest.of(pageNumber, limit, buildSort(criteria)))\n                .build();\n</code></pre>\n<p>then I removed the withPageable from here and added</p>\n<pre><code>SearchQuery searchQuery = buildSearchQuery(criteria, limit, pageNumber);\nSearchSourceBuilder source = new SearchSourceBuilder()\n         .query(searchQuery.getQuery()).from(offset).size(limit);\nSearchRequest searchRequest=new SearchRequest(leadDocumentProperties.getName()).source(source);\n</code></pre>\n<p>I also tried few others way but none of it worked.</p>\n"},{"tags":["java","sql","maven","liquibase","changelog"],"comments":[{"owner":{"account_id":474169,"reputation":4184,"user_id":883679,"accept_rate":54,"display_name":"6ton"},"score":0,"creation_date":1433349216,"post_id":30625734,"comment_id":49317520,"body_markdown":"Maybe this can help http://forum.liquibase.org/topic/liquibase-generatechangelog-failed-org-yaml-snakeyaml-representer-representer","body":"Maybe this can help <a href=\"http://forum.liquibase.org/topic/liquibase-generatechangelog-failed-org-yaml-snakeyaml-representer-representer\" rel=\"nofollow noreferrer\">forum.liquibase.org/topic/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":131902,"reputation":6273,"user_id":332248,"accept_rate":62,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433414601,"creation_date":1433414601,"answer_id":30641722,"question_id":30625734,"body_markdown":"`&lt;outputChangeLogFile&gt;` is not a `true/false` boolean but a `String` where you are supposed to hand in a complete file path for the changeLogFile, e.g.: \r\n\r\n    &lt;outputChangeLogFile&gt;c:/tmp/myGeneratedChangeLogFile.xml&lt;/outputChangeLogFile&gt;\r\n\r\n","title":"No serializer associated with the filename or extension &quot;true&quot;?","body":"<p><code>&lt;outputChangeLogFile&gt;</code> is not a <code>true/false</code> boolean but a <code>String</code> where you are supposed to hand in a complete file path for the changeLogFile, e.g.: </p>\n\n<pre><code>&lt;outputChangeLogFile&gt;c:/tmp/myGeneratedChangeLogFile.xml&lt;/outputChangeLogFile&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12121117,"reputation":199,"user_id":8852522,"display_name":"H.Karatsanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669039420,"creation_date":1669039420,"answer_id":74520131,"question_id":30625734,"body_markdown":"What *Jens* suggested is true for your case but the error &quot;No serializer associated with the filename or extension&quot; can also happen when you are trying e.g. to generate the output changelog through the ```liquibase-maven-plugin``` with the command \r\n```\r\nmvn liquibase:generateChangeLog\r\n```\r\n\r\n and have specified only the plugin without the dependency in the ```pom.xml``` file, e.g.:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n  &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;4.16.1&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n     &lt;propertyFile&gt;src/main/resources/config/application.yml&lt;/propertyFile&gt;\r\n     &lt;changeLogFile&gt;src/main/resources/db/changelog/db.changelog-root.xml&lt;/changeLogFile&gt;\r\n     &lt;url&gt;jdbc:h2:file:~/test2;DB_CLOSE_ON_EXIT=FALSE&lt;/url&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nBut after specifying the dependency in the dependencies section as well e.g.:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n  &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;4.16.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand after correctly specifying the path for the output changelog, the error should not appear anymore. (Just as an observation for future readers)","title":"No serializer associated with the filename or extension &quot;true&quot;?","body":"<p>What <em>Jens</em> suggested is true for your case but the error &quot;No serializer associated with the filename or extension&quot; can also happen when you are trying e.g. to generate the output changelog through the <code>liquibase-maven-plugin</code> with the command</p>\n<pre><code>mvn liquibase:generateChangeLog\n</code></pre>\n<p>and have specified only the plugin without the dependency in the <code>pom.xml</code> file, e.g.:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n  &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;4.16.1&lt;/version&gt;\n  &lt;configuration&gt;\n     &lt;propertyFile&gt;src/main/resources/config/application.yml&lt;/propertyFile&gt;\n     &lt;changeLogFile&gt;src/main/resources/db/changelog/db.changelog-root.xml&lt;/changeLogFile&gt;\n     &lt;url&gt;jdbc:h2:file:~/test2;DB_CLOSE_ON_EXIT=FALSE&lt;/url&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But after specifying the dependency in the dependencies section as well e.g.:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n  &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;4.16.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and after correctly specifying the path for the output changelog, the error should not appear anymore. (Just as an observation for future readers)</p>\n"}],"owner":{"account_id":5221563,"reputation":65,"user_id":4174871,"accept_rate":27,"display_name":"user4174871"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669039420,"creation_date":1433348927,"question_id":30625734,"body_markdown":"I get that error when I run the command &quot;mvn liquibase:generateChangeLog&quot;. I have\r\n \r\n      &lt;outputChangeLogFile&gt;true&lt;/outputChangeLogFile&gt;\r\nin order to print the output in a changeLog file rather than the command prompt. If I remove that line, there is no error. These are my properties\r\n\r\n    &lt;changeLogFile&gt;src/main/Resources/liquibase-3.3.3-bin/db.changelog.xml&lt;/changeLogFile&gt;\r\n        &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\r\n        &lt;url&gt;jdbc:mysql://localhost/test&lt;/url&gt;\r\n        &lt;username&gt;****&lt;/username&gt;\r\n        &lt;password&gt;********&lt;/password&gt;\r\n\t&lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\r\n\t&lt;outputChangeLogFile&gt;true&lt;/outputChangeLogFile&gt;\r\n\r\nFor dependencies I have mysql-connector, liquibase-core and snakeyaml.\r\n\r\n[INFO] Can not use class liquibase.serializer.core.json.JsonChangeLogSerializer as a Liquibase service because org.yaml.snakeyaml.representer.Representer is not in the classpath.\r\n\r\n","title":"No serializer associated with the filename or extension &quot;true&quot;?","body":"<p>I get that error when I run the command \"mvn liquibase:generateChangeLog\". I have</p>\n\n<pre><code>  &lt;outputChangeLogFile&gt;true&lt;/outputChangeLogFile&gt;\n</code></pre>\n\n<p>in order to print the output in a changeLog file rather than the command prompt. If I remove that line, there is no error. These are my properties</p>\n\n<pre><code>&lt;changeLogFile&gt;src/main/Resources/liquibase-3.3.3-bin/db.changelog.xml&lt;/changeLogFile&gt;\n    &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\n    &lt;url&gt;jdbc:mysql://localhost/test&lt;/url&gt;\n    &lt;username&gt;****&lt;/username&gt;\n    &lt;password&gt;********&lt;/password&gt;\n&lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\n&lt;outputChangeLogFile&gt;true&lt;/outputChangeLogFile&gt;\n</code></pre>\n\n<p>For dependencies I have mysql-connector, liquibase-core and snakeyaml.</p>\n\n<p>[INFO] Can not use class liquibase.serializer.core.json.JsonChangeLogSerializer as a Liquibase service because org.yaml.snakeyaml.representer.Representer is not in the classpath.</p>\n"},{"tags":["java","javafx","raspberry-pi","java-13"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669075078,"post_id":74520060,"comment_id":131556430,"body_markdown":"Maybe just upgrade your JavaFX version.  [This answer (potential duplicate)](https://stackoverflow.com/a/62249425/1155209) notes that some versions of JavaFX (e.g. 11) did not have media support for the Pi.  But the answer also notes that JavaFX 14 from Bellsoft/Liberica does provide support for mp3 playback via JavaFX media.   The answer also notes certain bugs even in some of the media playback for mp3s on Pi, e.g. filenames with spaces don&#39;t work, so perhaps use the most recent version of JavaFX available for the platform, in case some of those bugs were subsequently fixed.","body":"Maybe just upgrade your JavaFX version.  <a href=\"https://stackoverflow.com/a/62249425/1155209\">This answer (potential duplicate)</a> notes that some versions of JavaFX (e.g. 11) did not have media support for the Pi.  But the answer also notes that JavaFX 14 from Bellsoft/Liberica does provide support for mp3 playback via JavaFX media.   The answer also notes certain bugs even in some of the media playback for mp3s on Pi, e.g. filenames with spaces don&#39;t work, so perhaps use the most recent version of JavaFX available for the platform, in case some of those bugs were subsequently fixed."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669075289,"post_id":74520060,"comment_id":131556471,"body_markdown":"[Related post on BellSoft&#39;s site](https://bell-sw.com/announcements/2019/09/12/JDK-JavaFX-Video-Preview/): &quot;Using Liberica JDK 13 EA to play Media with OpenJFX 13 on the Raspberry Pi 4&quot;.","body":"<a href=\"https://bell-sw.com/announcements/2019/09/12/JDK-JavaFX-Video-Preview/\" rel=\"nofollow noreferrer\">Related post on BellSoft&#39;s site</a>: &quot;Using Liberica JDK 13 EA to play Media with OpenJFX 13 on the Raspberry Pi 4&quot;."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669075801,"post_id":74520060,"comment_id":131556539,"body_markdown":"Liberica currently offer &quot;Liberica Full JRE 19 arm 32 for Linux&quot;, from their download page.  I&#39;m not sure if that is a version that works on a Pi, as I haven&#39;t used a Pi, but it may be if you use the deb package installer for it.","body":"Liberica currently offer &quot;Liberica Full JRE 19 arm 32 for Linux&quot;, from their download page.  I&#39;m not sure if that is a version that works on a Pi, as I haven&#39;t used a Pi, but it may be if you use the deb package installer for it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669077079,"post_id":74520060,"comment_id":131556720,"body_markdown":"Alternately, you may be able to follow the [embedded instructions from gluon](https://docs.gluonhq.com/#platforms_embedded).","body":"Alternately, you may be able to follow the <a href=\"https://docs.gluonhq.com/#platforms_embedded\" rel=\"nofollow noreferrer\">embedded instructions from gluon</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669092792,"post_id":74520060,"comment_id":131558980,"body_markdown":"If using liberica, ARMv7 Hard-Float (32 bit), the [release notes](https://bell-sw.com/pages/supported-configurations/) state: “EGL, SW (direct framebuffer) and GTK pipelines are supported. Media functionality is supported in LibericaFX since 11.0.8 and 14.0.2. libavcodec and libavformat packages (such as available in Raspbian Buster) are required for Media functionality in X11. Media functionality for EGL and SW rendering is not supported. Webkit is not supported.”.  LibericaFX is included in “Full JDK” and “Full JRE” releases.","body":"If using liberica, ARMv7 Hard-Float (32 bit), the <a href=\"https://bell-sw.com/pages/supported-configurations/\" rel=\"nofollow noreferrer\">release notes</a> state: “EGL, SW (direct framebuffer) and GTK pipelines are supported. Media functionality is supported in LibericaFX since 11.0.8 and 14.0.2. libavcodec and libavformat packages (such as available in Raspbian Buster) are required for Media functionality in X11. Media functionality for EGL and SW rendering is not supported. Webkit is not supported.”.  LibericaFX is included in “Full JDK” and “Full JRE” releases."}],"owner":{"account_id":7952912,"reputation":111,"user_id":6003204,"accept_rate":100,"display_name":"Дмитрий"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669039104,"creation_date":1669039104,"question_id":74520060,"body_markdown":"I&#39;m trying to create simple audio player for mp3 files which i&#39;m going to use on my Raspberry Pi 4.\r\nBecause of default OpenJDK which installed on Raspberry Pi not included JavaFX framework, i&#39;ve installed Java 13 from Bellsoft/Liberica (it can be important for another raspberry users) which have JavaFx on board.\r\n\r\nBut code below is not working and throwing errors:\r\n\r\n    media = new Media(&quot;path/to/mp3-file&quot;);\r\n    MediaPlayer mp = new MediaPlayer(media);\r\n\r\n```\r\nException in Application init method\r\njava.lang.reflect.InvocationTargetException\r\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Exception in Application init method\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:895)\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n at java.base/java.lang.Thread.run(Thread.java:830)\r\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\r\n at javafx.media/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\r\n at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:518)\r\n at javafx.media/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:421)\r\n at sample.FX_Player.init(FX_Player.java:86)\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:824)\r\n ... 2 more\r\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\r\n at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:295)\r\n at javafx.media/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\r\n at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:474)\r\n ... 5 more\r\nException running application sample.FX_Player\r\n\r\n```  \r\nI have read that trouble could be because of bad file path but i&#39;ve tried different ways and no one is not working\r\n```\r\nfile:///home/pi/test.mp3\r\nfile:/home/pi/test.mp3\r\n/home/pi/test.mp3\r\n```\r\n\r\ni faced similar questions:  \r\n&lt;https://stackoverflow.com/questions/26625362/javafx-and-mediaexception-unknown-could-not-create-player&gt;  \r\n&lt;https://stackoverflow.com/questions/26896798/javafx-media-player-not-working&gt;  \r\nbut different paths i tried and i use java version higher than 9\r\n\r\nCan someone explain how to solve this trouble? \r\n","title":"JavaFX mp3 on Raspberry OS","body":"<p>I'm trying to create simple audio player for mp3 files which i'm going to use on my Raspberry Pi 4.\nBecause of default OpenJDK which installed on Raspberry Pi not included JavaFX framework, i've installed Java 13 from Bellsoft/Liberica (it can be important for another raspberry users) which have JavaFx on board.</p>\n<p>But code below is not working and throwing errors:</p>\n<pre><code>media = new Media(&quot;path/to/mp3-file&quot;);\nMediaPlayer mp = new MediaPlayer(media);\n</code></pre>\n<pre><code>Exception in Application init method\njava.lang.reflect.InvocationTargetException\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application init method\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:895)\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n at java.base/java.lang.Thread.run(Thread.java:830)\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\n at javafx.media/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\n at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:518)\n at javafx.media/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:421)\n at sample.FX_Player.init(FX_Player.java:86)\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:824)\n ... 2 more\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\n at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:295)\n at javafx.media/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\n at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:474)\n ... 5 more\nException running application sample.FX_Player\n\n</code></pre>\n<p>I have read that trouble could be because of bad file path but i've tried different ways and no one is not working</p>\n<pre><code>file:///home/pi/test.mp3\nfile:/home/pi/test.mp3\n/home/pi/test.mp3\n</code></pre>\n<p>i faced similar questions:<br />\n<a href=\"https://stackoverflow.com/questions/26625362/javafx-and-mediaexception-unknown-could-not-create-player\">JavaFX and &quot;MediaException: UNKNOWN ... Could not create player!&quot;</a><br />\n<a href=\"https://stackoverflow.com/questions/26896798/javafx-media-player-not-working\">JavaFX Media Player not working</a><br />\nbut different paths i tried and i use java version higher than 9</p>\n<p>Can someone explain how to solve this trouble?</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":5765228,"reputation":3329,"user_id":4550393,"accept_rate":100,"display_name":"Norman"},"score":1,"creation_date":1460366140,"post_id":36544362,"comment_id":60689942,"body_markdown":"Everything is possible. What did you try so far?","body":"Everything is possible. What did you try so far?"},{"owner":{"account_id":8154096,"reputation":117,"user_id":6140227,"accept_rate":100,"display_name":"ezzitt"},"score":0,"creation_date":1460367783,"post_id":36544362,"comment_id":60691118,"body_markdown":"thank you Norman, private Image createImage(){\n    BufferedImage bi = new BufferedImage(800,480,BufferedImage.TYPE_INT_RGB);\n    Graphics2D g = (Graphics2D) bi.getGraphics();\n\tg.fillRect(0, 0, bi.getWidth(), bi.getHeight());","body":"thank you Norman, private Image createImage(){     BufferedImage bi = new BufferedImage(800,480,BufferedImage.TYPE_INT_RGB);     Graphics2D g = (Graphics2D) bi.getGraphics(); \tg.fillRect(0, 0, bi.getWidth(), bi.getHeight());"}],"answers":[{"tags":[],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1669039082,"creation_date":1460366158,"answer_id":36544519,"question_id":36544362,"body_markdown":"You could use the `BufferedImage`, do the following to get a subimage:\r\n\r\n\tBufferedImage img = ImageIO.read(new File(&quot;yourPath&quot;));\r\n\tBufferedImage subimage = img.getSubimage(115, 235, 580, 202);\r\n\tImageIO.write(subimage, &quot;png&quot;, new File(&quot;outputPath&quot;));\r\n\r\nThis example works with the filesystem, you could also use streams.\r\n\r\n[JavaDoc][1]:\r\n\r\n    public BufferedImage getSubimage(int x, int y, int w, int h)\r\n\r\n**Parameters:**&lt;br&gt;\r\nx - the X coordinate of the upper-left corner of the specified rectangular region&lt;br&gt;\r\ny - the Y coordinate of the upper-left corner of the specified rectangular region&lt;br&gt;\r\nw - the width of the specified rectangular region&lt;br&gt;\r\nh - the height of the specified rectangular region&lt;br&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getSubimage(int,%20int,%20int,%20int)","title":"Creating a sub image in Java","body":"<p>You could use the <code>BufferedImage</code>, do the following to get a subimage:</p>\n<pre><code>BufferedImage img = ImageIO.read(new File(&quot;yourPath&quot;));\nBufferedImage subimage = img.getSubimage(115, 235, 580, 202);\nImageIO.write(subimage, &quot;png&quot;, new File(&quot;outputPath&quot;));\n</code></pre>\n<p>This example works with the filesystem, you could also use streams.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getSubimage(int,%20int,%20int,%20int)\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n<pre><code>public BufferedImage getSubimage(int x, int y, int w, int h)\n</code></pre>\n<p><strong>Parameters:</strong><br>\nx - the X coordinate of the upper-left corner of the specified rectangular region<br>\ny - the Y coordinate of the upper-left corner of the specified rectangular region<br>\nw - the width of the specified rectangular region<br>\nh - the height of the specified rectangular region<br></p>\n"}],"owner":{"account_id":8154096,"reputation":117,"user_id":6140227,"accept_rate":100,"display_name":"ezzitt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8126,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36544519,"answer_count":1,"score":3,"last_activity_date":1669039082,"creation_date":1460365749,"question_id":36544362,"body_markdown":"I have an image 800x480. How do I create a new sub image of the following coordinates?\r\n\r\n&gt; 115, 235, 580, 202 (x, y, width, height)","title":"Creating a sub image in Java","body":"<p>I have an image 800x480. How do I create a new sub image of the following coordinates?</p>\n\n<blockquote>\n  <p>115, 235, 580, 202 (x, y, width, height)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","embedded-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669039072,"creation_date":1669039072,"answer_id":74520054,"question_id":74497483,"body_markdown":"You cannot; producers and consumers are independent; `acks` are simply to acknowledge that the broker has received and secured the record; it has nothing to do with the consumer side.\r\n\r\nYou need your own logic for the consumer to tell the producer it has received the record.","title":"Spring EmbeddedKafka producer not waiting for consumer acknowledgement","body":"<p>You cannot; producers and consumers are independent; <code>acks</code> are simply to acknowledge that the broker has received and secured the record; it has nothing to do with the consumer side.</p>\n<p>You need your own logic for the consumer to tell the producer it has received the record.</p>\n"}],"owner":{"account_id":3137985,"reputation":71,"user_id":2654096,"display_name":"user2654096"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74520054,"answer_count":1,"score":0,"last_activity_date":1669039072,"creation_date":1668830804,"question_id":74497483,"body_markdown":"I want the producer in my test to wait until the consumer in the class-under-test has acknowledged by calling `Acknowledgement.acknowledge()`. My consumer is initialized with the following properties:\r\n\r\n    spring:\r\n      kafka:\r\n        consumer:\r\n          group-id: test-group\r\n          bootstrap-servers: ${spring.embedded.kafka.brokers}\r\n          enable-auto-commit: false\r\n          auto-offset-reset: earliest\r\n          max-poll-records: 1\r\n\r\nMy `kafkaListenerContainerFactory` is initialized as follows:\r\n\r\n    @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, MessageType&gt; kafkaListenerContainerFactory(\r\n                ConsumerFactory&lt;String, MessageType&gt; consumerFactory)\r\n        {\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, MessageType&gt; factory =\r\n                    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(consumerFactory);\r\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n            factory.setErrorHandler(new LoggingErrorHandler());\r\n            factory.setConcurrency(numListeners);\r\n            return factory;\r\n        }\r\n\r\nI have also set `acks` in my producer config to `all`. The producer doesn&#39;t seem to block though even though I&#39;m waiting on the future returned.\r\n\r\n    producer.send(new ProducerRecord&lt;Integer, String&gt;(TOPIC, key, value)).get();\r\n\r\nHow can I get the producer in my test to block until the consumer acknowledges without adding some sort of `sleep`?","title":"Spring EmbeddedKafka producer not waiting for consumer acknowledgement","body":"<p>I want the producer in my test to wait until the consumer in the class-under-test has acknowledged by calling <code>Acknowledgement.acknowledge()</code>. My consumer is initialized with the following properties:</p>\n<pre><code>spring:\n  kafka:\n    consumer:\n      group-id: test-group\n      bootstrap-servers: ${spring.embedded.kafka.brokers}\n      enable-auto-commit: false\n      auto-offset-reset: earliest\n      max-poll-records: 1\n</code></pre>\n<p>My <code>kafkaListenerContainerFactory</code> is initialized as follows:</p>\n<pre><code>@Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, MessageType&gt; kafkaListenerContainerFactory(\n            ConsumerFactory&lt;String, MessageType&gt; consumerFactory)\n    {\n        ConcurrentKafkaListenerContainerFactory&lt;String, MessageType&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory);\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        factory.setErrorHandler(new LoggingErrorHandler());\n        factory.setConcurrency(numListeners);\n        return factory;\n    }\n</code></pre>\n<p>I have also set <code>acks</code> in my producer config to <code>all</code>. The producer doesn't seem to block though even though I'm waiting on the future returned.</p>\n<pre><code>producer.send(new ProducerRecord&lt;Integer, String&gt;(TOPIC, key, value)).get();\n</code></pre>\n<p>How can I get the producer in my test to block until the consumer acknowledges without adding some sort of <code>sleep</code>?</p>\n"},{"tags":["java","image","mouse"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1366650543,"post_id":16152710,"comment_id":23080120,"body_markdown":"For better help sooner, post an [SSCCE](http://sscce.org/).","body":"For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":2498957,"reputation":199,"user_id":2174631,"accept_rate":64,"display_name":"programmer"},"score":0,"creation_date":1366651715,"post_id":16152710,"comment_id":23080692,"body_markdown":"@RobWatts Yes they are","body":"@RobWatts Yes they are"},{"owner":{"account_id":2554254,"reputation":6916,"user_id":2216621,"accept_rate":61,"display_name":"Rob Watts"},"score":0,"creation_date":1366652281,"post_id":16152710,"comment_id":23080976,"body_markdown":"Should bullets follow the cursor, or head in the direction of where the cursor was when they were fired?","body":"Should bullets follow the cursor, or head in the direction of where the cursor was when they were fired?"},{"owner":{"account_id":2498957,"reputation":199,"user_id":2174631,"accept_rate":64,"display_name":"programmer"},"score":0,"creation_date":1366652338,"post_id":16152710,"comment_id":23081006,"body_markdown":"@RobWatts head in the direction of where the cursor was when they were fired","body":"@RobWatts head in the direction of where the cursor was when they were fired"}],"answers":[{"tags":[],"owner":{"account_id":2554254,"reputation":6916,"user_id":2216621,"accept_rate":61,"display_name":"Rob Watts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1366656937,"creation_date":1366652744,"answer_id":16153423,"question_id":16152710,"body_markdown":"In order to make the bullets move directly toward the cursor and not always in 45 degree paths, use `double` for your internal representation of X and Y. Also, since you want the bullet to head in a certain direction, you&#39;ll want to compute the X velocity and Y velocity when you first create the bullet.\r\n\r\nFor example:\r\n\r\n    double deltaX = player.getX() - point.getX();\r\n    double deltaY = player.getY() - point.getY();\r\n    double magnitude = Math.sqrt(deltaX*deltaX + deltaY*deltaY);\r\n    \r\n    // It&#39;s possible for magnitude to be zero (cursor is over the person)\r\n    // Decide what you want the default direction to be to handle that case\r\n    double xVelocity = 1;\r\n    double yVelocity = 0;\r\n    if (magnitude != 0) {\r\n        xVelocity = deltaX / magnitude;\r\n        yVelocity = deltaY / magnitude;\r\n    }\r\n\r\nWith the velocities computed when you first create the bullet, at each tick you just need to use `xPosition += xVelocity` and `yPosition += yVelocity`.","title":"Making image travel towards mouse cursor","body":"<p>In order to make the bullets move directly toward the cursor and not always in 45 degree paths, use <code>double</code> for your internal representation of X and Y. Also, since you want the bullet to head in a certain direction, you'll want to compute the X velocity and Y velocity when you first create the bullet.</p>\n\n<p>For example:</p>\n\n<pre><code>double deltaX = player.getX() - point.getX();\ndouble deltaY = player.getY() - point.getY();\ndouble magnitude = Math.sqrt(deltaX*deltaX + deltaY*deltaY);\n\n// It's possible for magnitude to be zero (cursor is over the person)\n// Decide what you want the default direction to be to handle that case\ndouble xVelocity = 1;\ndouble yVelocity = 0;\nif (magnitude != 0) {\n    xVelocity = deltaX / magnitude;\n    yVelocity = deltaY / magnitude;\n}\n</code></pre>\n\n<p>With the velocities computed when you first create the bullet, at each tick you just need to use <code>xPosition += xVelocity</code> and <code>yPosition += yVelocity</code>.</p>\n"}],"owner":{"account_id":2498957,"reputation":199,"user_id":2174631,"accept_rate":64,"display_name":"programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16153423,"answer_count":1,"score":0,"last_activity_date":1669038392,"creation_date":1366650354,"question_id":16152710,"body_markdown":"In the game im making I want to use the mouse cursor to aim with. This is the code I have for know to make the bullet move towards the mouse cursor:\r\n\r\nLocating the mouse position\r\n    private PointerInfo mouse = MouseInfo.getPointerInfo();\r\n    private Point point = new Point(mouse.getLocation());\r\nMaking the bullet kinda move towards the mouse cursor\r\n\r\n    if(point.getX() &gt; player.getX()){\r\n            setX(getX() + 1);\r\n    }\r\n    if(point.getX() &lt; player.getX()){\r\n            setX(getX() - 1);\r\n    }\r\n    if(point.getY() &gt; player.getY()){\r\n            setY(getY() + 1);\r\n    }\r\n    if(point.getY() &lt; player.getY()){\r\n            setY(getY() - 1);\r\n    }\r\nThe problem is that the bullet won&#39;t travel precisly to the mouse cursor but travel in a 45 degree path dow to the left if the mouse cursor is somewhere in that area, the same thing goes for up to the left, down to the right and up to the right.","title":"Making image travel towards mouse cursor","body":"<p>In the game im making I want to use the mouse cursor to aim with. This is the code I have for know to make the bullet move towards the mouse cursor:</p>\n\n<p>Locating the mouse position\n    private PointerInfo mouse = MouseInfo.getPointerInfo();\n    private Point point = new Point(mouse.getLocation());\nMaking the bullet kinda move towards the mouse cursor</p>\n\n<pre><code>if(point.getX() &gt; player.getX()){\n        setX(getX() + 1);\n}\nif(point.getX() &lt; player.getX()){\n        setX(getX() - 1);\n}\nif(point.getY() &gt; player.getY()){\n        setY(getY() + 1);\n}\nif(point.getY() &lt; player.getY()){\n        setY(getY() - 1);\n}\n</code></pre>\n\n<p>The problem is that the bullet won't travel precisly to the mouse cursor but travel in a 45 degree path dow to the left if the mouse cursor is somewhere in that area, the same thing goes for up to the left, down to the right and up to the right.</p>\n"},{"tags":["java","spring-boot","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669038942,"post_id":74518283,"comment_id":131545507,"body_markdown":"`/users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java: no such file or directory`\n\nAdd information regarding the IntelliJ version, whether it&#39;s a community edition or an ultimate edition, the result of `java -version` on the terminal window etc.","body":"<code>&#47;users&#47;riccardo&#47;library&#47;java&#47;javavirtualmachines&#47;azul-16.0.2&zwnj;&#8203;-1&#47;contents&#47;home&#47;bin&zwnj;&#8203;&#47;java: no such file or directory</code>  Add information regarding the IntelliJ version, whether it&#39;s a community edition or an ultimate edition, the result of <code>java -version</code> on the terminal window etc."}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669038131,"creation_date":1669038131,"answer_id":74519834,"question_id":74518283,"body_markdown":"First check for language version. Go to `File &gt; Project Structure` select `Project` under the `Project Settings` check the language version. Then you can do  `Invalidate Cache and Restart`","title":"Setup intellij on spring boot","body":"<p>First check for language version. Go to <code>File &gt; Project Structure</code> select <code>Project</code> under the <code>Project Settings</code> check the language version. Then you can do  <code>Invalidate Cache and Restart</code></p>\n"}],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669038131,"creation_date":1669030502,"question_id":74518283,"body_markdown":"The error below is thrown when I try to start a spring boot project on my m1 Macbook Pro. How can I fix this, and what is the reason for this?\r\n**Error:**\r\n\r\n       Abnormal build process termination:\r\n    nice -n 10 /users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java -xmx700m -djava. Awt. Headless=true --add-opens jdk. Compiler/com. Sun. Tools. Javac. Api=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Util=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Code=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Comp=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. File=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Main=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Model=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Parser=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Processing=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Tree=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Jvm=all-unnamed -dpreload. Project. Path=/users/riccardo/desktop/progetti/personali/quotereportserver &quot;-dpreload. Config. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2/options&quot; -dcompile. Parallel=false -drebuild. On. Dependency. Change=true -didea. Inttointbtree. Page. Size=32768 -djdt. Compiler. Usesinglethread=true -daether. Connector. Resumedownloads=false -dio. Netty. Initialseeduniquifier=3479120019962095349 -dfile. Encoding=utf-8 -duser. Language=en -duser. Country=it -didea. Paths. Selector=ideaic2022.2 &quot;-didea. Home. Path=/applications/intellij idea ce. App/contents&quot; &quot;-didea. Config. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2&quot; &quot;-didea. Plugins. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins&quot; -djps. Log. Dir=/users/riccardo/library/logs/jetbrains/ideaic2022.2/build-log &quot;-djps. Fallback. Jdk. Home=/applications/intellij idea ce. App/contents/jbr/contents/home&quot; -djps. Fallback. Jdk. Version=17.0.4.1 -dio. Netty. Nounsafe=true -djava. Io. Tmpdir=/users/riccardo/library/caches/jetbrains/ideaic2022.2/compile-server/quotereportserver_35242acb/_temp_ -djps. Backward. Ref. Index. Builder=true -dkotlin. Incremental. Compilation=true -dkotlin. Incremental. Compilation. Js=true -dkotlin. Daemon. Enabled -dkotlin. Daemon. Client. Alive. Path=\\&quot;/var/folders/rt/m71wvw7s6yj5_d479mj15bym0000gp/t/kotlin-idea-16691048973323777495-is-running\\&quot; &quot;-djps. Kotlin. Home=/users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/kotlin/kotlinc&quot; -dtmh. Instrument. Annotations=true -dtmh. Generate. Line. Numbers=true -dcompile. Parallel. Max. Threads=4 -dcompile. Parallel=true --add-opens java. Base/java. Util=all-unnamed -dscala. Compile. Server. System. Dir=/users/riccardo/library/caches/jetbrains/ideaic2022.2/scala-compile-server -dscala. Compile. Server. Socket. Connect. Timeout. Milliseconds=10000 -dscala. Compiler. Indices. Rebuild=true -dide. Propagate. Context=false -classpath &quot;/applications/intellij idea ce. App/contents/plugins/java/lib/jps-launcher. Jar&quot; org. Jetbrains. Jps. Cmdline. Launcher &quot;/applications/intellij idea ce. App/contents/plugins/java/lib/jps-builders. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/jps-builders-6. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/jps-javac-extension. Jar: /applications/intellij idea ce. App/contents/lib/util. Jar: /applications/intellij idea ce. App/contents/lib/util_rt. Jar: /applications/intellij idea ce. App/contents/lib/annotations. Jar: /applications/intellij idea ce. App/contents/lib/3rd-party-rt. Jar: /applications/intellij idea ce. App/contents/lib/jna. Jar: /applications/intellij idea ce. App/contents/lib/lz4-java. Jar: /applications/intellij idea ce. App/contents/lib/protobuf. Jar: /applications/intellij idea ce. App/contents/lib/jps-model. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/javac2. Jar: /applications/intellij idea ce. App/contents/lib/forms_rt. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/aether-dependency-resolver. Jar: /applications/intellij idea ce. App/contents/lib/idea_rt. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/kotlin/lib/jps/kotlin-jps-plugin. Jar: /applications/intellij idea ce. App/contents/lib/util. Jar: /applications/intellij idea ce. App/contents/plugins/javafx/lib/javafx-jps. Jar: /applications/intellij idea ce. App/contents/plugins/javafx/lib/javafx-common. Jar: /applications/intellij idea ce. App/contents/plugins/eclipse/lib/eclipse-jps. Jar: /applications/intellij idea ce. App/contents/plugins/eclipse/lib/eclipse-common. Jar: /applications/intellij idea ce. App/contents/plugins/space/lib/space-java-jps. Jar: /applications/intellij idea ce. App/contents/plugins/uidesigner/lib/jps/java-guiforms-jps. Jar: /applications/intellij idea ce. App/contents/plugins/intellilang/lib/java-langinjection-\r\n    jps. Jar: /applications/intellij idea ce. App/contents/plugins/groovy/lib/groovy-jps. Jar: /applications/intellij idea ce. App/contents/plugins/groovy/lib/groovy-constants-rt. Jar: /applications/intellij idea ce. App/contents/plugins/devkit/lib/devkit-jps. Jar: /applications/intellij idea ce. App/contents/plugins/ant/lib/ant-jps. Jar: /applications/intellij idea ce. App/contents/plugins/maven/lib/maven-jps. Jar: /applications/intellij idea ce. App/contents/plugins/gradle-java/lib/gradle-jps. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/scala-library. Jar: /users/riccardo/library/application\r\n    \r\n    support/jetbrains/ideaic2022.2/plugins/scala/lib/compiler-shared. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/nailgun. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/compiler-jps. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/sbt-interface. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/incremental-compiler. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/scala-parallel-collections. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/spray-json_2.13-1.3.5. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/scala-compiler-indices-protocol_2.12-0.1.1. Jar&quot; org. Jetbrains. Jps. Cmdline. Buildmain 127.0.0.1 61152 4782dc89-f679-499a-950d-566b6c03131e /users/riccardo/library/caches/jetbrains/ideaic2022.2/compile-server\r\n    nice: /users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java: no such file or directory","title":"Setup intellij on spring boot","body":"<p>The error below is thrown when I try to start a spring boot project on my m1 Macbook Pro. How can I fix this, and what is the reason for this?\n<strong>Error:</strong></p>\n<pre><code>   Abnormal build process termination:\nnice -n 10 /users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java -xmx700m -djava. Awt. Headless=true --add-opens jdk. Compiler/com. Sun. Tools. Javac. Api=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Util=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Code=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Comp=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. File=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Main=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Model=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Parser=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Processing=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Tree=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Jvm=all-unnamed -dpreload. Project. Path=/users/riccardo/desktop/progetti/personali/quotereportserver &quot;-dpreload. Config. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2/options&quot; -dcompile. Parallel=false -drebuild. On. Dependency. Change=true -didea. Inttointbtree. Page. Size=32768 -djdt. Compiler. Usesinglethread=true -daether. Connector. Resumedownloads=false -dio. Netty. Initialseeduniquifier=3479120019962095349 -dfile. Encoding=utf-8 -duser. Language=en -duser. Country=it -didea. Paths. Selector=ideaic2022.2 &quot;-didea. Home. Path=/applications/intellij idea ce. App/contents&quot; &quot;-didea. Config. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2&quot; &quot;-didea. Plugins. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins&quot; -djps. Log. Dir=/users/riccardo/library/logs/jetbrains/ideaic2022.2/build-log &quot;-djps. Fallback. Jdk. Home=/applications/intellij idea ce. App/contents/jbr/contents/home&quot; -djps. Fallback. Jdk. Version=17.0.4.1 -dio. Netty. Nounsafe=true -djava. Io. Tmpdir=/users/riccardo/library/caches/jetbrains/ideaic2022.2/compile-server/quotereportserver_35242acb/_temp_ -djps. Backward. Ref. Index. Builder=true -dkotlin. Incremental. Compilation=true -dkotlin. Incremental. Compilation. Js=true -dkotlin. Daemon. Enabled -dkotlin. Daemon. Client. Alive. Path=\\&quot;/var/folders/rt/m71wvw7s6yj5_d479mj15bym0000gp/t/kotlin-idea-16691048973323777495-is-running\\&quot; &quot;-djps. Kotlin. Home=/users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/kotlin/kotlinc&quot; -dtmh. Instrument. Annotations=true -dtmh. Generate. Line. Numbers=true -dcompile. Parallel. Max. Threads=4 -dcompile. Parallel=true --add-opens java. Base/java. Util=all-unnamed -dscala. Compile. Server. System. Dir=/users/riccardo/library/caches/jetbrains/ideaic2022.2/scala-compile-server -dscala. Compile. Server. Socket. Connect. Timeout. Milliseconds=10000 -dscala. Compiler. Indices. Rebuild=true -dide. Propagate. Context=false -classpath &quot;/applications/intellij idea ce. App/contents/plugins/java/lib/jps-launcher. Jar&quot; org. Jetbrains. Jps. Cmdline. Launcher &quot;/applications/intellij idea ce. App/contents/plugins/java/lib/jps-builders. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/jps-builders-6. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/jps-javac-extension. Jar: /applications/intellij idea ce. App/contents/lib/util. Jar: /applications/intellij idea ce. App/contents/lib/util_rt. Jar: /applications/intellij idea ce. App/contents/lib/annotations. Jar: /applications/intellij idea ce. App/contents/lib/3rd-party-rt. Jar: /applications/intellij idea ce. App/contents/lib/jna. Jar: /applications/intellij idea ce. App/contents/lib/lz4-java. Jar: /applications/intellij idea ce. App/contents/lib/protobuf. Jar: /applications/intellij idea ce. App/contents/lib/jps-model. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/javac2. Jar: /applications/intellij idea ce. App/contents/lib/forms_rt. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/aether-dependency-resolver. Jar: /applications/intellij idea ce. App/contents/lib/idea_rt. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/kotlin/lib/jps/kotlin-jps-plugin. Jar: /applications/intellij idea ce. App/contents/lib/util. Jar: /applications/intellij idea ce. App/contents/plugins/javafx/lib/javafx-jps. Jar: /applications/intellij idea ce. App/contents/plugins/javafx/lib/javafx-common. Jar: /applications/intellij idea ce. App/contents/plugins/eclipse/lib/eclipse-jps. Jar: /applications/intellij idea ce. App/contents/plugins/eclipse/lib/eclipse-common. Jar: /applications/intellij idea ce. App/contents/plugins/space/lib/space-java-jps. Jar: /applications/intellij idea ce. App/contents/plugins/uidesigner/lib/jps/java-guiforms-jps. Jar: /applications/intellij idea ce. App/contents/plugins/intellilang/lib/java-langinjection-\njps. Jar: /applications/intellij idea ce. App/contents/plugins/groovy/lib/groovy-jps. Jar: /applications/intellij idea ce. App/contents/plugins/groovy/lib/groovy-constants-rt. Jar: /applications/intellij idea ce. App/contents/plugins/devkit/lib/devkit-jps. Jar: /applications/intellij idea ce. App/contents/plugins/ant/lib/ant-jps. Jar: /applications/intellij idea ce. App/contents/plugins/maven/lib/maven-jps. Jar: /applications/intellij idea ce. App/contents/plugins/gradle-java/lib/gradle-jps. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/scala-library. Jar: /users/riccardo/library/application\n\nsupport/jetbrains/ideaic2022.2/plugins/scala/lib/compiler-shared. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/nailgun. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/compiler-jps. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/sbt-interface. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/incremental-compiler. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/scala-parallel-collections. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/spray-json_2.13-1.3.5. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/scala-compiler-indices-protocol_2.12-0.1.1. Jar&quot; org. Jetbrains. Jps. Cmdline. Buildmain 127.0.0.1 61152 4782dc89-f679-499a-950d-566b6c03131e /users/riccardo/library/caches/jetbrains/ideaic2022.2/compile-server\nnice: /users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java: no such file or directory\n</code></pre>\n"},{"tags":["java","hibernate","jpa","projection"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1622190725,"post_id":67735467,"comment_id":119726226,"body_markdown":"JPA expects a @NoArgsConstructor too.","body":"JPA expects a @NoArgsConstructor too."},{"owner":{"account_id":5946474,"reputation":162,"user_id":4675824,"accept_rate":50,"display_name":"J-Eibe"},"score":0,"creation_date":1622191700,"post_id":67735467,"comment_id":119726627,"body_markdown":"Then I get &quot;No converter found capable of converting from type House to HouseView&quot;","body":"Then I get &quot;No converter found capable of converting from type House to HouseView&quot;"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":2,"creation_date":1622198743,"post_id":67735467,"comment_id":119729525,"body_markdown":"@J-Eibe hibernate projections do not support collections in result set, see for example [this answer](https://stackoverflow.com/a/67488816/6277104).","body":"@J-Eibe hibernate projections do not support collections in result set, see for example <a href=\"https://stackoverflow.com/a/67488816/6277104\">this answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":21735536,"reputation":40,"user_id":16043578,"display_name":"Howie S. Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622191007,"creation_date":1622191007,"answer_id":67735579,"question_id":67735467,"body_markdown":"Let trying not using lombok and see if it works","title":"JPA Projection @OneToMany not working &#39;Unable to locate appropriate constructor&#39;","body":"<p>Let trying not using lombok and see if it works</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622451972,"creation_date":1622451972,"answer_id":67770825,"question_id":67735467,"body_markdown":"Spring Data Projections do not support collections but I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(House.class)\r\n    public interface HouseView {\r\n        @IdMapping\r\n        Long getObjnr();\r\n        Set&lt;AddressView&gt; getIdentAddressen();\r\n\r\n        @EntityView(Address.class)\r\n        interface AddressView {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`HouseView a = entityViewManager.find(entityManager, HouseView.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;HouseView&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"JPA Projection @OneToMany not working &#39;Unable to locate appropriate constructor&#39;","body":"<p>Spring Data Projections do not support collections but I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(House.class)\npublic interface HouseView {\n    @IdMapping\n    Long getObjnr();\n    Set&lt;AddressView&gt; getIdentAddressen();\n\n    @EntityView(Address.class)\n    interface AddressView {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>HouseView a = entityViewManager.find(entityManager, HouseView.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;HouseView&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"},{"tags":[],"owner":{"account_id":8460458,"reputation":1,"user_id":6346406,"display_name":"Adeeb Khalid Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669037870,"creation_date":1669037870,"answer_id":74519784,"question_id":67735467,"body_markdown":"What you can do is to write custom query on HouseRepository as \r\n```@Query(&quot;SELECT new com.packagename.HouseView(hos) from House hos&quot;)```\r\nthen house view class can be as follows \r\n```\r\npublic class HouseView {\r\n    private Long objnr;\r\n    private List&lt;Address&gt; identAdressen;\r\n    public HouseView(House house) {\r\n         identAdressen = house.identAdressen;\r\n    }\r\n}\r\n```\r\n\r\nHope it will work :) You can add more fields into constructor from join tables if required. It might help others coming late on post.","title":"JPA Projection @OneToMany not working &#39;Unable to locate appropriate constructor&#39;","body":"<p>What you can do is to write custom query on HouseRepository as\n<code>@Query(&quot;SELECT new com.packagename.HouseView(hos) from House hos&quot;)</code>\nthen house view class can be as follows</p>\n<pre><code>public class HouseView {\n    private Long objnr;\n    private List&lt;Address&gt; identAdressen;\n    public HouseView(House house) {\n         identAdressen = house.identAdressen;\n    }\n}\n</code></pre>\n<p>Hope it will work :) You can add more fields into constructor from join tables if required. It might help others coming late on post.</p>\n"}],"owner":{"account_id":5946474,"reputation":162,"user_id":4675824,"accept_rate":50,"display_name":"J-Eibe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669037870,"creation_date":1622190559,"question_id":67735467,"body_markdown":"I have a large entity-class with many, many fields and a projection-class which should be a part of the large one.\r\n\r\nEverything works fine, except the @OneToMany field. The @OneToMany field should be a list of addresses, but when converting it to the projection-class I always get the error &quot;Unable to locate appropriate constructor [...] Expected arguments are: long, [...], ***.entity.Address&quot;. \r\n\r\nThe converter is searching for a single address Object instead of a List of Address Objects, and I don&#39;t understand why. I use lombok @Data and @AllArgsConstructor, so Getter and Setter should be there.\r\n\r\n```\r\n@Entity\r\n@Data\r\npublic class House implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;, precision = 5)\r\n    private Long id;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;HouseID&quot;)\r\n    private List&lt;Address&gt; identAdressen;\r\n}\r\n\r\n/// ----------------\r\n@Data\r\n@AllArgsConstructor\r\npublic class HouseView {\r\n    private Long objnr;\r\n    private List&lt;Address&gt; identAdressen;\r\n}\r\n```\r\n\r\nWhen I remove the &quot;List&quot; in the HouseView-class it works as long as there are only single addresses, but when there are multiple it crashes too.\r\n\r\nI don&#39;t get it why he tries to find a HouseView-Constructor with an single address-object, when in both classes there are Lists of Addresses.","title":"JPA Projection @OneToMany not working &#39;Unable to locate appropriate constructor&#39;","body":"<p>I have a large entity-class with many, many fields and a projection-class which should be a part of the large one.</p>\n<p>Everything works fine, except the @OneToMany field. The @OneToMany field should be a list of addresses, but when converting it to the projection-class I always get the error &quot;Unable to locate appropriate constructor [...] Expected arguments are: long, [...], ***.entity.Address&quot;.</p>\n<p>The converter is searching for a single address Object instead of a List of Address Objects, and I don't understand why. I use lombok @Data and @AllArgsConstructor, so Getter and Setter should be there.</p>\n<pre><code>@Entity\n@Data\npublic class House implements Serializable {\n\n    @Id\n    @Column(name = &quot;ID&quot;, precision = 5)\n    private Long id;\n\n    @OneToMany\n    @JoinColumn(name = &quot;HouseID&quot;)\n    private List&lt;Address&gt; identAdressen;\n}\n\n/// ----------------\n@Data\n@AllArgsConstructor\npublic class HouseView {\n    private Long objnr;\n    private List&lt;Address&gt; identAdressen;\n}\n</code></pre>\n<p>When I remove the &quot;List&quot; in the HouseView-class it works as long as there are only single addresses, but when there are multiple it crashes too.</p>\n<p>I don't get it why he tries to find a HouseView-Constructor with an single address-object, when in both classes there are Lists of Addresses.</p>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":3049953,"reputation":1893,"user_id":2584754,"accept_rate":50,"display_name":"Jazzwave06"},"score":1,"creation_date":1472503105,"post_id":39213708,"comment_id":65768339,"body_markdown":"You can do that with virtual ips, and probably with a load balancer/reverse proxy. Failovers should never be handled by the application server itself.","body":"You can do that with virtual ips, and probably with a load balancer/reverse proxy. Failovers should never be handled by the application server itself."}],"owner":{"account_id":140395,"reputation":2725,"user_id":346666,"accept_rate":59,"display_name":"Tyler Murry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669037757,"creation_date":1472498742,"question_id":39213708,"body_markdown":"I have a Spring Boot application that houses a Camel route with an integration to our vendor. \r\n\r\nThe way our server architecture is setup, we have two nodes that the application is deployed to. However, our requirements are that we have a single instance running at a time, failing over to the secondary node when the primary goes down.\r\n\r\nPreviously, our application was deployed in a Fuse environment and this was all handled behind the scenes nicely. Is there an active/passive or clustering mechanism available for Spring Boot that we can utilize?","title":"Spring Boot Active/Passive Failover Mechanism","body":"<p>I have a Spring Boot application that houses a Camel route with an integration to our vendor. </p>\n\n<p>The way our server architecture is setup, we have two nodes that the application is deployed to. However, our requirements are that we have a single instance running at a time, failing over to the secondary node when the primary goes down.</p>\n\n<p>Previously, our application was deployed in a Fuse environment and this was all handled behind the scenes nicely. Is there an active/passive or clustering mechanism available for Spring Boot that we can utilize?</p>\n"},{"tags":["java","maven","pom.xml","executable","executable-jar"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668862383,"post_id":74500005,"comment_id":131511743,"body_markdown":"maven-assembly-plugin will do this.","body":"maven-assembly-plugin will do this."},{"owner":{"account_id":26983366,"reputation":31,"user_id":20547393,"display_name":"YoungUnexpiredMaster"},"score":0,"creation_date":1669026442,"post_id":74500005,"comment_id":131541093,"body_markdown":"Didn&#39;t work, it created jar-with-dependencies but inside .jar there is no dependency\n@ChristophDahlen","body":"Didn&#39;t work, it created jar-with-dependencies but inside .jar there is no dependency @ChristophDahlen"}],"answers":[{"tags":[],"owner":{"account_id":26983366,"reputation":31,"user_id":20547393,"display_name":"YoungUnexpiredMaster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669037499,"creation_date":1669037499,"answer_id":74519714,"question_id":74500005,"body_markdown":"What works for me.\r\n\r\nAdd local dependency\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;testlib&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testlib&lt;/artifactId&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n      &lt;systemPath&gt;${basedir}/libs/testlib.jar&lt;/systemPath&gt;\r\n &lt;/dependency&gt;\r\n```\r\nIn &lt;systemPath&gt; add path to your .jar, and remember version.\r\nThen in &lt;build&gt; add these two plugins. First copy dependencies inside target, second make it executable\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;TEST.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;manifestEntries&gt;\r\n              &lt;Class-Path&gt;lib/testlib-1.jar&lt;/Class-Path&gt;\r\n            &lt;/manifestEntries&gt;\r\n\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\nIn &lt;outputDirectory&gt; you name a folder in target where will be dependencies. In &lt;manifest&gt; you should enter main class. In &lt;Class-Path&gt; you should enter the path in targer, notice that Maven will add version, in my case testlib.jar =&gt; testlib-1.jar","title":"How to make an executable .jar file using maven with local external libraries inside through pom without IDE?","body":"<p>What works for me.</p>\n<p>Add local dependency</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;testlib&lt;/groupId&gt;\n      &lt;artifactId&gt;testlib&lt;/artifactId&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;version&gt;1&lt;/version&gt;\n      &lt;systemPath&gt;${basedir}/libs/testlib.jar&lt;/systemPath&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>In  add path to your .jar, and remember version.\nThen in  add these two plugins. First copy dependencies inside target, second make it executable</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;TEST.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;Class-Path&gt;lib/testlib-1.jar&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>In  you name a folder in target where will be dependencies. In  you should enter main class. In  you should enter the path in targer, notice that Maven will add version, in my case testlib.jar =&gt; testlib-1.jar</p>\n"}],"owner":{"account_id":26983366,"reputation":31,"user_id":20547393,"display_name":"YoungUnexpiredMaster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74519714,"answer_count":1,"score":0,"last_activity_date":1669037499,"creation_date":1668861054,"question_id":74500005,"body_markdown":"I&#39;m learning java without an IDE, I want to build a project with FX, and there are several libs, so I want to connect them in a &quot;rough&quot; way.\r\nFor training, I created a simple program with one method \r\n```\r\npublic void go() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400,100);\r\n        frame.add(new JLabel(&quot;Test Lib&quot;));\r\n        frame.setVisible(true);\r\n    }\r\n```\r\nwhich makes a simple swing-window, calls it Lib, builds it with maven, has testlib.JAR.\r\nThen created another program, just \r\n```\r\nimport TEST.Lib;\r\npublic static void main( String[] args )\r\n    {\r\n        new Lib().go();\r\n    }\r\n```\r\n\r\nthen edited pom, added a plugin to make it executable (it works fine without external libs), added a dependency, and maven created a .jar, but when I run it, it shows no window, when I put code before an external method, it works\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;testlib&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testlib&lt;/artifactId&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;systemPath&gt;${basedir}\\libs\\testlib.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n```\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;  &lt;!-- for warnings --&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\r\n              &lt;mainClass&gt;\r\n                  TEST.App                          \r\n              &lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\nIn the end, when I run it through cmd, it works fine\r\n```\r\njavac -cp &quot;path\\to\\jar\\testlib.jar&quot; TEST\\App.java\r\njava -cp &quot;path\\to\\jar\\testlib.jar&quot; TEST.App\r\n```\r\n\r\n\r\n\r\n\r\nHow to make it work?","title":"How to make an executable .jar file using maven with local external libraries inside through pom without IDE?","body":"<p>I'm learning java without an IDE, I want to build a project with FX, and there are several libs, so I want to connect them in a &quot;rough&quot; way.\nFor training, I created a simple program with one method</p>\n<pre><code>public void go() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400,100);\n        frame.add(new JLabel(&quot;Test Lib&quot;));\n        frame.setVisible(true);\n    }\n</code></pre>\n<p>which makes a simple swing-window, calls it Lib, builds it with maven, has testlib.JAR.\nThen created another program, just</p>\n<pre><code>import TEST.Lib;\npublic static void main( String[] args )\n    {\n        new Lib().go();\n    }\n</code></pre>\n<p>then edited pom, added a plugin to make it executable (it works fine without external libs), added a dependency, and maven created a .jar, but when I run it, it shows no window, when I put code before an external method, it works</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;testlib&lt;/groupId&gt;\n      &lt;artifactId&gt;testlib&lt;/artifactId&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;version&gt;1.0&lt;/version&gt;\n      &lt;systemPath&gt;${basedir}\\libs\\testlib.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<pre><code>     &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;  &lt;!-- for warnings --&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\n              &lt;mainClass&gt;\n                  TEST.App                          \n              &lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>In the end, when I run it through cmd, it works fine</p>\n<pre><code>javac -cp &quot;path\\to\\jar\\testlib.jar&quot; TEST\\App.java\njava -cp &quot;path\\to\\jar\\testlib.jar&quot; TEST.App\n</code></pre>\n<p>How to make it work?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9126,"page":866,"page_size":100}
