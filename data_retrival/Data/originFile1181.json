{"items":[{"tags":["java","settings","default","osx-elcapitan"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1658013951,"post_id":73008240,"comment_id":128946885,"body_markdown":"Try `/usr/libexec/java_home -V` to see what&#39;s installed; look for profile that sets `JAVA_HOME` to the earlier version.","body":"Try <code>&#47;usr&#47;libexec&#47;java_home -V</code> to see what&#39;s installed; look for profile that sets <code>JAVA_HOME</code> to the earlier version."},{"owner":{"account_id":6746994,"reputation":1,"user_id":5198318,"display_name":"Straitsfan"},"score":0,"creation_date":1658191708,"post_id":73008240,"comment_id":128985074,"body_markdown":"okay -- i entered the command, and it shows only the versions up to java 8, but when I open the finder window, it shows the folder for Java 18 here.   So what do I do?","body":"okay -- i entered the command, and it shows only the versions up to java 8, but when I open the finder window, it shows the folder for Java 18 here.   So what do I do?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1658228223,"post_id":73008240,"comment_id":128994115,"body_markdown":"I&#39;d start over; an Oracle [.dmg](https://www.oracle.com/java/technologies/downloads/#jdk18-mac) should know how to install itself in the right place.","body":"I&#39;d start over; an Oracle <a href=\"https://www.oracle.com/java/technologies/downloads/#jdk18-mac\" rel=\"nofollow noreferrer\">.dmg</a> should know how to install itself in the right place."},{"owner":{"account_id":6746994,"reputation":1,"user_id":5198318,"display_name":"Straitsfan"},"score":0,"creation_date":1658281195,"post_id":73008240,"comment_id":129010727,"body_markdown":"I did that, but the result is the same.  Can you think of any other suggestions?  I&#39;ve always downloaded/installed java like this.  Any idea where I&#39;d look to see the JAVA_HOME variable? My apologies if I&#39;m being redundant","body":"I did that, but the result is the same.  Can you think of any other suggestions?  I&#39;ve always downloaded/installed java like this.  Any idea where I&#39;d look to see the JAVA_HOME variable? My apologies if I&#39;m being redundant"},{"owner":{"account_id":6746994,"reputation":1,"user_id":5198318,"display_name":"Straitsfan"},"score":0,"creation_date":1658311831,"post_id":73008240,"comment_id":129018341,"body_markdown":"trash god -- I also tried updating to 18.2, from your link, but the result is the same.  It&#39;s in the Java Virtual Machines folder, (the name of the directory is JDK 18.2) but it&#39;s not the default -- ever after I temporarily put all the other versions in the trash as a test, when java -version is entered it doesn&#39;t find any JVM.","body":"trash god -- I also tried updating to 18.2, from your link, but the result is the same.  It&#39;s in the Java Virtual Machines folder, (the name of the directory is JDK 18.2) but it&#39;s not the default -- ever after I temporarily put all the other versions in the trash as a test, when java -version is entered it doesn&#39;t find any JVM."},{"owner":{"account_id":6746994,"reputation":1,"user_id":5198318,"display_name":"Straitsfan"},"score":0,"creation_date":1658311904,"post_id":73008240,"comment_id":129018374,"body_markdown":"Oh, and by the way /usr/libexec/java_home -V returns &quot;no such file or directory.  Can you tell me the difference between java_home and JAVA_HOME?  I&#39;m confused.  It&#39;s been a while as well since I&#39;ve been in the terminal","body":"Oh, and by the way /usr/libexec/java_home -V returns &quot;no such file or directory.  Can you tell me the difference between java_home and JAVA_HOME?  I&#39;m confused.  It&#39;s been a while as well since I&#39;ve been in the terminal"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1658337563,"post_id":73008240,"comment_id":129029141,"body_markdown":"Try `xcode-select -v`, `which java` and `echo $JAVA_HOME`.","body":"Try <code>xcode-select -v</code>, <code>which java</code> and <code>echo $JAVA_HOME</code>."}],"answers":[{"tags":[],"owner":{"account_id":1044924,"reputation":95,"user_id":1050141,"display_name":"rulo4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658014496,"creation_date":1658014108,"answer_id":73008295,"question_id":73008240,"body_markdown":"You need to add in ```~/.profile``` file (create it, if doesn&#39;t exist), the setting of ```JAVA_HOME``` environment variable, pointing to your Java18 installation directory:\r\n\r\n```\r\nJAVA_HOME=/Path/to/Java18\r\nexport JAVA_HOME;\r\n```\r\n\r\nsource: http://www.sajeconsultants.com/how-to-set-java_home-on-mac-os-x/\r\n\r\nIn case of failure, try to do the same but in the files:\r\n```~/.base_profile```\r\n```~/.zshrc```\r\nsource: https://www.developerlibs.com/2022/06/java-environment-path-setup-windows-linux-Mac.html\r\n","title":"setting java 18 on my iMac as default version from java 8","body":"<p>You need to add in <code>~/.profile</code> file (create it, if doesn't exist), the setting of <code>JAVA_HOME</code> environment variable, pointing to your Java18 installation directory:</p>\n<pre><code>JAVA_HOME=/Path/to/Java18\nexport JAVA_HOME;\n</code></pre>\n<p>source: <a href=\"http://www.sajeconsultants.com/how-to-set-java_home-on-mac-os-x/\" rel=\"nofollow noreferrer\">http://www.sajeconsultants.com/how-to-set-java_home-on-mac-os-x/</a></p>\n<p>In case of failure, try to do the same but in the files:\n<code>~/.base_profile</code>\n<code>~/.zshrc</code>\nsource: <a href=\"https://www.developerlibs.com/2022/06/java-environment-path-setup-windows-linux-Mac.html\" rel=\"nofollow noreferrer\">https://www.developerlibs.com/2022/06/java-environment-path-setup-windows-linux-Mac.html</a></p>\n"}],"owner":{"account_id":6746994,"reputation":1,"user_id":5198318,"display_name":"Straitsfan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658014496,"creation_date":1658013370,"question_id":73008240,"body_markdown":"so, I got a new external monitor for my iMac, and was downloading the latest Java -- java18 -- from java 8.  I hadn&#39;t used the machine for years, but since getting my new monitor a couple weeks ago, I&#39;m happy to know that I can still use it.  I had written it off after the backlight went out, but lo and behold, the machine stills works fine.\r\n\r\nAnyway, I downloaded Java 18 from the oracle website, installed it with no problem, but when I go the terminal app and enter \r\njava -version it still says java 1.8 (java 8).  I looked in the java folder in the library directory, and sure enough the java 18 folder is there, but for some reason it won&#39;t or doesn&#39;t &#39;see&#39; it as the current/default java version.\r\n\r\nAnyone out there have any help to give?  I&#39;m not sure what terminal commands to use to make this the default version.  maybe because it&#39;s so far from the version that was on there.   Can anyone help me out?   The machine is a 2010 iMac 11,6 running El Capitan, and I want to use it while it lasts, as I gradually switch over to Linux.\r\n\r\nThe machine still works great, and the latest version that was on it before this download was java 8.   I&#39;m not at the machine right now, so i&#39;ll have to look at this over the next few days.","title":"setting java 18 on my iMac as default version from java 8","body":"<p>so, I got a new external monitor for my iMac, and was downloading the latest Java -- java18 -- from java 8.  I hadn't used the machine for years, but since getting my new monitor a couple weeks ago, I'm happy to know that I can still use it.  I had written it off after the backlight went out, but lo and behold, the machine stills works fine.</p>\n<p>Anyway, I downloaded Java 18 from the oracle website, installed it with no problem, but when I go the terminal app and enter\njava -version it still says java 1.8 (java 8).  I looked in the java folder in the library directory, and sure enough the java 18 folder is there, but for some reason it won't or doesn't 'see' it as the current/default java version.</p>\n<p>Anyone out there have any help to give?  I'm not sure what terminal commands to use to make this the default version.  maybe because it's so far from the version that was on there.   Can anyone help me out?   The machine is a 2010 iMac 11,6 running El Capitan, and I want to use it while it lasts, as I gradually switch over to Linux.</p>\n<p>The machine still works great, and the latest version that was on it before this download was java 8.   I'm not at the machine right now, so i'll have to look at this over the next few days.</p>\n"},{"tags":["javascript","java","reactjs","spring-boot","websocket"],"comments":[{"owner":{"account_id":6557770,"reputation":18107,"user_id":5069957,"accept_rate":78,"display_name":"edkeveked"},"score":0,"creation_date":1523815529,"post_id":49844836,"comment_id":86705150,"body_markdown":"Could you please show where you are handling the routes `app/notification` in your server?","body":"Could you please show where you are handling the routes <code>app&#47;notification</code> in your server?"},{"owner":{"account_id":5556872,"reputation":930,"user_id":4557607,"accept_rate":65,"display_name":"Edv Beq"},"score":0,"creation_date":1523816147,"post_id":49844836,"comment_id":86705351,"body_markdown":"@edkeveked I have a websocket controller class but it is not doing much at the moment. So I am not handling anything.","body":"@edkeveked I have a websocket controller class but it is not doing much at the moment. So I am not handling anything."},{"owner":{"account_id":6557770,"reputation":18107,"user_id":5069957,"accept_rate":78,"display_name":"edkeveked"},"score":0,"creation_date":1523816512,"post_id":49844836,"comment_id":86705475,"body_markdown":"Maybe that this is where the problem comes from. Are you returning something to those that have subscribed with `app/notification`?","body":"Maybe that this is where the problem comes from. Are you returning something to those that have subscribed with <code>app&#47;notification</code>?"},{"owner":{"account_id":5556872,"reputation":930,"user_id":4557607,"accept_rate":65,"display_name":"Edv Beq"},"score":0,"creation_date":1523816717,"post_id":49844836,"comment_id":86705557,"body_markdown":"@edkeveked I don&#39;t think it even gets there. The channel closes before any subscription happens. Does it matter that client and server are on different ports? I wouldn&#39;t think so but Id mention it anyways.","body":"@edkeveked I don&#39;t think it even gets there. The channel closes before any subscription happens. Does it matter that client and server are on different ports? I wouldn&#39;t think so but Id mention it anyways."},{"owner":{"account_id":6557770,"reputation":18107,"user_id":5069957,"accept_rate":78,"display_name":"edkeveked"},"score":0,"creation_date":1523817079,"post_id":49844836,"comment_id":86705678,"body_markdown":"What do you mean by client and server on different ports? Well, it is possible to have the client being served on `localhost:4200` and the server on `localhost:8080` for instance.\nThe last thing I could mention is maybe to remove the `.setAllowedOrigins(&quot;*&quot;)` and to set the CORS at a global level of your application","body":"What do you mean by client and server on different ports? Well, it is possible to have the client being served on <code>localhost:4200</code> and the server on <code>localhost:8080</code> for instance. The last thing I could mention is maybe to remove the <code>.setAllowedOrigins(&quot;*&quot;)</code> and to set the CORS at a global level of your application"}],"answers":[{"tags":[],"owner":{"account_id":125676,"reputation":8154,"user_id":2707251,"display_name":"Sergi Almar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1523872008,"creation_date":1523872008,"answer_id":49854269,"question_id":49844836,"body_markdown":"You are configuring your endpoint with SockJS on the server side but you are not using SockJS on the client side. That&#39;s why you get a 200 status code instead of a 101. Either use SockJS on the client side (instead of a raw WebSocket) or remove `withSockJS()` on the server side.","title":"WebSocket with Spring Boot and JavaScript","body":"<p>You are configuring your endpoint with SockJS on the server side but you are not using SockJS on the client side. That's why you get a 200 status code instead of a 101. Either use SockJS on the client side (instead of a raw WebSocket) or remove <code>withSockJS()</code> on the server side.</p>\n"}],"owner":{"account_id":5556872,"reputation":930,"user_id":4557607,"accept_rate":65,"display_name":"Edv Beq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2869,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49854269,"answer_count":1,"score":3,"last_activity_date":1658013074,"creation_date":1523813393,"question_id":49844836,"body_markdown":"This is my simple attempt to create a WebSocket channel between a JavaScript client and a Java server.\r\n```\r\n// java websocket server configuration with spring boot\r\n// server port: 8080 set in the &quot;application.yml&quot;\r\n\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfiguration extends AbstractWebSocketMessageBrokerConfigurer{\r\n\t\r\n\t@Override\r\n\tpublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n\t\tregistry.addEndpoint(&quot;/websocket&quot;)\r\n\t\t        .setAllowedOrigins(&quot;*&quot;)\r\n\t\t        .withSockJS();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configureMessageBroker(MessageBrokerRegistry registry) {\t\t\t\t\r\n\t\tregistry.setApplicationDestinationPrefixes(&quot;/app&quot;)\r\n\t\t        .enableSimpleBroker(&quot;/notification&quot;);\r\n\t}\t\r\n} \r\n```\r\n\r\n```\r\n// js websocket client configuration with &quot;webstomp-client&quot;\r\n\r\nimport webstomp from &#39;webstomp-client&#39;;\r\n\r\nconst connection = new WebSocket(&#39;ws://localhost:8080/websocket&#39;);\r\nconst stompClient = webstomp.over(connection);\r\nstompClient.connect(()=&gt;{\r\n  stompClient.subscribe(&#39;/app/notification&#39;, () =&gt; console.log(&#39;Connection established with server&#39;));\r\n});\r\n```\r\n\r\nThe console shows the following: \r\n\r\n&gt; WebSocket connection to &#39;ws://localhost:8080/websocket&#39; failed: Error during WebSocket handshake: Unexpected response code: 200\r\n\r\nI looked at a lot of other posts, and most of them had to do with allowing the origin. I have tried setting the origin to `localhost` as well as the local IP address, but without success. \r\n\r\nWhat am I missing? Any help would be tremendous.\r\n\r\n***Edit:*** The client is created with `create-react-app`, if that&#39;s relevant. \r\n\r\n***Edit:*** The client is on: `http:localhost:3000`, the server is on: `http:localhost:8080`.\r\n\r\n\r\n","title":"WebSocket with Spring Boot and JavaScript","body":"<p>This is my simple attempt to create a WebSocket channel between a JavaScript client and a Java server.</p>\n<pre><code>// java websocket server configuration with spring boot\n// server port: 8080 set in the &quot;application.yml&quot;\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfiguration extends AbstractWebSocketMessageBrokerConfigurer{\n    \n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/websocket&quot;)\n                .setAllowedOrigins(&quot;*&quot;)\n                .withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {                \n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;)\n                .enableSimpleBroker(&quot;/notification&quot;);\n    }   \n} \n</code></pre>\n<pre><code>// js websocket client configuration with &quot;webstomp-client&quot;\n\nimport webstomp from 'webstomp-client';\n\nconst connection = new WebSocket('ws://localhost:8080/websocket');\nconst stompClient = webstomp.over(connection);\nstompClient.connect(()=&gt;{\n  stompClient.subscribe('/app/notification', () =&gt; console.log('Connection established with server'));\n});\n</code></pre>\n<p>The console shows the following:</p>\n<blockquote>\n<p>WebSocket connection to 'ws://localhost:8080/websocket' failed: Error during WebSocket handshake: Unexpected response code: 200</p>\n</blockquote>\n<p>I looked at a lot of other posts, and most of them had to do with allowing the origin. I have tried setting the origin to <code>localhost</code> as well as the local IP address, but without success.</p>\n<p>What am I missing? Any help would be tremendous.</p>\n<p><em><strong>Edit:</strong></em> The client is created with <code>create-react-app</code>, if that's relevant.</p>\n<p><em><strong>Edit:</strong></em> The client is on: <code>http:localhost:3000</code>, the server is on: <code>http:localhost:8080</code>.</p>\n"},{"tags":["java","spring","vaadin"],"comments":[{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":4,"creation_date":1657987435,"post_id":73005555,"comment_id":128942505,"body_markdown":"Not an answer to your specific question, but if communicating with an external application is what you want, then did you consider implementing a standard Spring REST endpoints to handle this communication? That should work seamlessly in a Vaadin app.","body":"Not an answer to your specific question, but if communicating with an external application is what you want, then did you consider implementing a standard Spring REST endpoints to handle this communication? That should work seamlessly in a Vaadin app."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1657992494,"post_id":73005555,"comment_id":128943525,"body_markdown":"So your Vaadin app is a client calling upon a web app on a different server? Then you **don’t need to write a Servlet**. You need to write Java code that uses a library to make a HTTP call, web client code.","body":"So your Vaadin app is a client calling upon a web app on a different server? Then you <b>don’t need to write a Servlet</b>. You need to write Java code that uses a library to make a HTTP call, web client code."},{"owner":{"account_id":17434877,"reputation":53,"user_id":12658348,"display_name":"Malcador"},"score":0,"creation_date":1657996108,"post_id":73005555,"comment_id":128944172,"body_markdown":"Well, my app waits for incomming POST request, then authenticates it. If this is authenticated, then it starts communication - namely it sends POST request with JSON and then awaits answer through POST request with another JSON. Essentially it requests from another app to do some process with given JSON and becomes the result after this process is done (may take long time).","body":"Well, my app waits for incomming POST request, then authenticates it. If this is authenticated, then it starts communication - namely it sends POST request with JSON and then awaits answer through POST request with another JSON. Essentially it requests from another app to do some process with given JSON and becomes the result after this process is done (may take long time)."},{"owner":{"account_id":17434877,"reputation":53,"user_id":12658348,"display_name":"Malcador"},"score":0,"creation_date":1657996421,"post_id":73005555,"comment_id":128944227,"body_markdown":"And yes, I have looked into it, and I think that I need both: 1) Servlet to receive and process requests from another server; 2) Some kind of WebClient to send POST requests quickly.","body":"And yes, I have looked into it, and I think that I need both: 1) Servlet to receive and process requests from another server; 2) Some kind of WebClient to send POST requests quickly."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1658004092,"post_id":73005555,"comment_id":128945520,"body_markdown":"Your Question does not match your Comments. Edit the Question for clarity.","body":"Your Question does not match your Comments. Edit the Question for clarity."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1658052944,"post_id":73005555,"comment_id":128951328,"body_markdown":"So you want to basically reverse-proxy another application? Why do _need_ a servlet? Is this other application provided to you as a servlet and you have to make it run inside your own?","body":"So you want to basically reverse-proxy another application? Why do <i>need</i> a servlet? Is this other application provided to you as a servlet and you have to make it run inside your own?"}],"answers":[{"tags":[],"owner":{"account_id":17434877,"reputation":53,"user_id":12658348,"display_name":"Malcador"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1657996669,"creation_date":1657996669,"answer_id":73006787,"question_id":73005555,"body_markdown":"I have found some kind of a solution to my problem. Namely on startup of my BootAplication, I am also starting the second separate Tomcat server that uses my custom Servlet : \r\n\r\n```\r\n@Service\r\npublic class QuizServer {\r\n\r\n    private final Log log = LogFactory.getLog(QuizServer.class);\r\n\r\n    @PostConstruct\r\n    public void startServer() throws IOException, LifecycleException {\r\n        start();\r\n    }\r\n\r\n    private void start() throws IOException, LifecycleException {\r\n        Tomcat tomcat = new Tomcat();\r\n        String contextPath = &quot;/&quot;;\r\n        String appBase = new File(&quot;.&quot;).getAbsolutePath();\r\n\r\n        Context ctx = tomcat.addContext(contextPath, appBase);\r\n        Tomcat.addServlet(ctx, &quot;quizServlet&quot;, new QuizServlet());\r\n        ctx.addServletMappingDecoded(&quot;/*&quot;, &quot;quizServlet&quot;);\r\n\r\n        tomcat.setPort(8085);\r\n        tomcat.start();\r\n        tomcat.getConnector();\r\n        log.info(&quot;Quiz server started&quot;);\r\n    }\r\n}\r\n```\r\n```\r\n@WebServlet(urlPatterns = &quot;/*&quot;, name = &quot;quizServlet&quot;, asyncSupported = true)\r\npublic class QuizServlet extends HttpServlet {\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.getWriter().println(&quot;Test&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.sendError(400, &quot;Not implemented&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt is a bit crude though, since ideally, it shouldn&#39;t require a separate server.","title":"Adding separate custom Servlet in Vaadin 23 - Spring 2.7.1","body":"<p>I have found some kind of a solution to my problem. Namely on startup of my BootAplication, I am also starting the second separate Tomcat server that uses my custom Servlet :</p>\n<pre><code>@Service\npublic class QuizServer {\n\n    private final Log log = LogFactory.getLog(QuizServer.class);\n\n    @PostConstruct\n    public void startServer() throws IOException, LifecycleException {\n        start();\n    }\n\n    private void start() throws IOException, LifecycleException {\n        Tomcat tomcat = new Tomcat();\n        String contextPath = &quot;/&quot;;\n        String appBase = new File(&quot;.&quot;).getAbsolutePath();\n\n        Context ctx = tomcat.addContext(contextPath, appBase);\n        Tomcat.addServlet(ctx, &quot;quizServlet&quot;, new QuizServlet());\n        ctx.addServletMappingDecoded(&quot;/*&quot;, &quot;quizServlet&quot;);\n\n        tomcat.setPort(8085);\n        tomcat.start();\n        tomcat.getConnector();\n        log.info(&quot;Quiz server started&quot;);\n    }\n}\n</code></pre>\n<pre><code>@WebServlet(urlPatterns = &quot;/*&quot;, name = &quot;quizServlet&quot;, asyncSupported = true)\npublic class QuizServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.getWriter().println(&quot;Test&quot;);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.sendError(400, &quot;Not implemented&quot;);\n    }\n}\n</code></pre>\n<p>It is a bit crude though, since ideally, it shouldn't require a separate server.</p>\n"}],"owner":{"account_id":17434877,"reputation":53,"user_id":12658348,"display_name":"Malcador"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73006787,"answer_count":1,"score":0,"last_activity_date":1658012845,"creation_date":1657986215,"question_id":73005555,"body_markdown":"This question was already asked, however since then all answers (that I could found) are no longer valid.\r\n\r\nEssentially I want to implement a website with Vaadin (V23), that communicates with a WebApp via POST requests that is running on another server (physically). To do it, I want to create separate Servlet that would handle the communication (receiving side) with another Server. Let&#39;s say, this is not implemneted version:\r\n\r\n``` \r\n@WebServlet(urlPatterns = &quot;/communication&quot;, name = &quot;QuizServlet&quot;, asyncSupported = true)\r\npublic class QuizServlet extends HttpServlet {\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.sendError(400, &quot;Not implemented&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        response.sendError(400, &quot;Not implemented&quot;);\r\n    }\r\n}\r\n```\r\nThe problem is however, that I always get redirected to default dispatcher Servlet, and it seems, regardless of what I do:\r\n\r\n1. SpringVaadinServlet was deprecated and no longer exists, extending VaadinServlet does not work.\r\n\r\n2. Changing mappings in properties (`vaadin.url-mapping=`) also does not work, I just get redirected to this new mapping in all cases.\r\n\r\n3. Trying to do servlets on separate ports yields same redirection on all ports, even if explicitly registering my custom Servlet on the Connector, with separate Sevice (`WebMvcConfigurer` Tomcat configuration). Answer from this [post](https://stackoverflow.com/questions/29757588/spring-boot-send-requests-on-another-port-to-a-custom-servlet), also too old.\r\n\r\n4. Registering servlet directly also does not do anything (by implementing `WebApplicationInitializer`).\r\n\r\nThere for the question, how to make use of two different servlets with new Vaadin 23 and Spring Boot 2.7.1?\r\n","title":"Adding separate custom Servlet in Vaadin 23 - Spring 2.7.1","body":"<p>This question was already asked, however since then all answers (that I could found) are no longer valid.</p>\n<p>Essentially I want to implement a website with Vaadin (V23), that communicates with a WebApp via POST requests that is running on another server (physically). To do it, I want to create separate Servlet that would handle the communication (receiving side) with another Server. Let's say, this is not implemneted version:</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/communication&quot;, name = &quot;QuizServlet&quot;, asyncSupported = true)\npublic class QuizServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.sendError(400, &quot;Not implemented&quot;);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.sendError(400, &quot;Not implemented&quot;);\n    }\n}\n</code></pre>\n<p>The problem is however, that I always get redirected to default dispatcher Servlet, and it seems, regardless of what I do:</p>\n<ol>\n<li><p>SpringVaadinServlet was deprecated and no longer exists, extending VaadinServlet does not work.</p>\n</li>\n<li><p>Changing mappings in properties (<code>vaadin.url-mapping=</code>) also does not work, I just get redirected to this new mapping in all cases.</p>\n</li>\n<li><p>Trying to do servlets on separate ports yields same redirection on all ports, even if explicitly registering my custom Servlet on the Connector, with separate Sevice (<code>WebMvcConfigurer</code> Tomcat configuration). Answer from this <a href=\"https://stackoverflow.com/questions/29757588/spring-boot-send-requests-on-another-port-to-a-custom-servlet\">post</a>, also too old.</p>\n</li>\n<li><p>Registering servlet directly also does not do anything (by implementing <code>WebApplicationInitializer</code>).</p>\n</li>\n</ol>\n<p>There for the question, how to make use of two different servlets with new Vaadin 23 and Spring Boot 2.7.1?</p>\n"},{"tags":["java","file","null","bufferedreader","bufferedwriter"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651301950,"post_id":72066283,"comment_id":127336371,"body_markdown":"If you don&#39;t want the file to be truncated when you open a file for writing, open it in &quot;append&quot; mode.","body":"If you don&#39;t want the file to be truncated when you open a file for writing, open it in &quot;append&quot; mode."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651302195,"post_id":72066283,"comment_id":127336407,"body_markdown":"By the way you are not writing null to the file.  You are ... in effect truncating ... by making it empty.  Null is a specific value ... of some data types ... in some programming languages.  It has no meaning in the context of files / file systems.   And you don&#39;t &quot;assign&quot; to a file.","body":"By the way you are not writing null to the file.  You are ... in effect truncating ... by making it empty.  Null is a specific value ... of some data types ... in some programming languages.  It has no meaning in the context of files / file systems.   And you don&#39;t &quot;assign&quot; to a file."},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1651302320,"post_id":72066283,"comment_id":127336430,"body_markdown":"But if I append a new text in the existing file it looks like this- 00102030 means the first line is not really the previous number but it’s just garbage, I need to use only one number. So I want to make a new text in the place of the existing text. Means after I play the game sometimes the file will look like this - 100 (the highscore only)","body":"But if I append a new text in the existing file it looks like this- 00102030 means the first line is not really the previous number but it’s just garbage, I need to use only one number. So I want to make a new text in the place of the existing text. Means after I play the game sometimes the file will look like this - 100 (the highscore only)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651302475,"post_id":72066283,"comment_id":127336460,"body_markdown":"OK ... so I don&#39;t understand what you are asking.  If you don&#39;t want to truncate the file, and you don&#39;t want to append to it, why are you even opening it to write?  Do you want to update the first line or a text file and keep the rest of the file the same. In that case, you need to rewrite the entire file ... each time you update it.","body":"OK ... so I don&#39;t understand what you are asking.  If you don&#39;t want to truncate the file, and you don&#39;t want to append to it, why are you even opening it to write?  Do you want to update the first line or a text file and keep the rest of the file the same. In that case, you need to rewrite the entire file ... each time you update it."},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1651303212,"post_id":72066283,"comment_id":127336578,"body_markdown":"Okay I will try to make you understand. Look, I want to store the highscore only to that file. So at first when the program runs, the score will be 0 right? So the score.txt file will have 0 in the first line. Okay? After playing a game let&#39;s say I get a score of 50, so obviously 50 is greater than 0, then the score.txt file will have the 50 in the first line not 0. Now again I played the game and get a score of 30, which is not greater than 50 so the txt file will be the same, it contains the high score in the first line which is 50. When I scored 100 the txt will store the 100. Get it?","body":"Okay I will try to make you understand. Look, I want to store the highscore only to that file. So at first when the program runs, the score will be 0 right? So the score.txt file will have 0 in the first line. Okay? After playing a game let&#39;s say I get a score of 50, so obviously 50 is greater than 0, then the score.txt file will have the 50 in the first line not 0. Now again I played the game and get a score of 30, which is not greater than 50 so the txt file will be the same, it contains the high score in the first line which is 50. When I scored 100 the txt will store the 100. Get it?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651304135,"creation_date":1651303793,"answer_id":72066534,"question_id":72066283,"body_markdown":"&gt; Okay I will try to make you understand. Look, I want to store the highscore only to that file. So at first when the program runs, the score will be 0 right? So the score.txt file will have 0 in the first line. Okay? After playing a game let&#39;s say I get a score of 50, so obviously 50 is greater than 0, then the score.txt file will have the 50 in the first line not 0. Now again I played the game and get a score of 30, which is not greater than 50 so the txt file will be the same, it contains the high score in the first line which is 50. When I scored 100 the txt will store the 100. Get it?\r\n\r\nYes ... that is a **much clearer** explanation of what you are trying to do than what you wrote in your original question.   (If only you have explained it properly in the first instant ...)\r\n\r\nThe solution is to NOT open the file for writing until you know that it needs to be written.  The logic should be:\r\n\r\n  1.  Open file to read\r\n  2.  Read line containing high score\r\n  3.  Close\r\n  4.  If current score greater than high score\r\n      1.  Open file to write\r\n      2.  Write new high score\r\n      3.  Close.\r\n\r\nWhat your code currently does is to open for writing *before* you even read the file.  That truncates the file, so that when you try to read the current high score the information has already been trashed.\r\n\r\nNote that it is not the `BufferedWriter` or `BufferedReader` that is the problem.  The damage is done by calling the `FileWriter` constructor. (The javadoc should explain it.)\r\n\r\n","title":"How to stop BufferedWriter to assigning null value every time the method has been called?","body":"<blockquote>\n<p>Okay I will try to make you understand. Look, I want to store the highscore only to that file. So at first when the program runs, the score will be 0 right? So the score.txt file will have 0 in the first line. Okay? After playing a game let's say I get a score of 50, so obviously 50 is greater than 0, then the score.txt file will have the 50 in the first line not 0. Now again I played the game and get a score of 30, which is not greater than 50 so the txt file will be the same, it contains the high score in the first line which is 50. When I scored 100 the txt will store the 100. Get it?</p>\n</blockquote>\n<p>Yes ... that is a <strong>much clearer</strong> explanation of what you are trying to do than what you wrote in your original question.   (If only you have explained it properly in the first instant ...)</p>\n<p>The solution is to NOT open the file for writing until you know that it needs to be written.  The logic should be:</p>\n<ol>\n<li>Open file to read</li>\n<li>Read line containing high score</li>\n<li>Close</li>\n<li>If current score greater than high score\n<ol>\n<li>Open file to write</li>\n<li>Write new high score</li>\n<li>Close.</li>\n</ol>\n</li>\n</ol>\n<p>What your code currently does is to open for writing <em>before</em> you even read the file.  That truncates the file, so that when you try to read the current high score the information has already been trashed.</p>\n<p>Note that it is not the <code>BufferedWriter</code> or <code>BufferedReader</code> that is the problem.  The damage is done by calling the <code>FileWriter</code> constructor. (The javadoc should explain it.)</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72066534,"answer_count":1,"score":0,"last_activity_date":1658011292,"creation_date":1651300887,"question_id":72066283,"body_markdown":"I am working on a game and I want to store the High score in a file and read it whenever it&#39;s needed. I wanted to use BufferedWriter and BufferedReader like this on the gameover class.\r\n```\r\n        File fi = new File(&quot;score.txt&quot;);\r\n\t\tBufferedWriter w = new BufferedWriter(new FileWriter(fi));\r\n\t\tBufferedReader r = new BufferedReader(new FileReader(fi));\r\n```\r\nSo whenever I get a score I will compare it to the score in the file and if the score is greater the score of the file I will store it to the file as a high score so the new high score will be updated in the file. But the problem is every time I run the program the score.txt got the null value, means it&#39;s not storing the previous value, it&#39;s just get reset every time. Maybe because I am using new FileWriter? I don&#39;t know how to do it.\r\n\r\nIf I use (fi, true), the score is storing like this - 04060100, that means the first line isn&#39;t going anywhere, all of the scores are writing in the first line only but I need to store the score in the first line only so that I can read the first line only, high score can&#39;t be multiple right?\r\n\r\nWhat to do? I am new to this file storing system in Java.","title":"How to stop BufferedWriter to assigning null value every time the method has been called?","body":"<p>I am working on a game and I want to store the High score in a file and read it whenever it's needed. I wanted to use BufferedWriter and BufferedReader like this on the gameover class.</p>\n<pre><code>        File fi = new File(&quot;score.txt&quot;);\n        BufferedWriter w = new BufferedWriter(new FileWriter(fi));\n        BufferedReader r = new BufferedReader(new FileReader(fi));\n</code></pre>\n<p>So whenever I get a score I will compare it to the score in the file and if the score is greater the score of the file I will store it to the file as a high score so the new high score will be updated in the file. But the problem is every time I run the program the score.txt got the null value, means it's not storing the previous value, it's just get reset every time. Maybe because I am using new FileWriter? I don't know how to do it.</p>\n<p>If I use (fi, true), the score is storing like this - 04060100, that means the first line isn't going anywhere, all of the scores are writing in the first line only but I need to store the score in the first line only so that I can read the first line only, high score can't be multiple right?</p>\n<p>What to do? I am new to this file storing system in Java.</p>\n"},{"tags":["java","firebase","android-studio","firebase-storage"],"answers":[{"tags":[],"owner":{"account_id":21679474,"reputation":115,"user_id":15995870,"display_name":"Seth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658009607,"creation_date":1658009607,"answer_id":73007968,"question_id":64342313,"body_markdown":"Have you tried to modify the storage rules, if you use Firebase authentications use this:\r\n\r\n    rules_version = &#39;2&#39;;\r\n    service firebase.storage {\r\n      match /b/{bucket}/o {\r\n      match /{allPaths=**} {\r\n      allow read, write: if request.auth != null;\r\n      }\r\n     }\r\n    }\r\n\r\nElse use this:\r\n\r\n    rules_version = &#39;2&#39;;\r\n    service firebase.storage {\r\n      match /b/{bucket}/o {\r\n      match /{allPaths=**} {\r\n      allow read, write: if true;\r\n      }\r\n     }\r\n    }","title":"StorageException: &quot;Server has terminated the upload session&quot;, but only on emulator?","body":"<p>Have you tried to modify the storage rules, if you use Firebase authentications use this:</p>\n<pre><code>rules_version = '2';\nservice firebase.storage {\n  match /b/{bucket}/o {\n  match /{allPaths=**} {\n  allow read, write: if request.auth != null;\n  }\n }\n}\n</code></pre>\n<p>Else use this:</p>\n<pre><code>rules_version = '2';\nservice firebase.storage {\n  match /b/{bucket}/o {\n  match /{allPaths=**} {\n  allow read, write: if true;\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":18795610,"reputation":29,"user_id":13707159,"display_name":"DangItsPang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658009607,"creation_date":1602618959,"question_id":64342313,"body_markdown":"I am using Android Studio, alongside Cloud Storage and Cloud Firestore, to make my app. The issue I&#39;m encountering is regarding the user updating an image in Cloud Storage.\r\n\r\nWhen I deploy the app to a physical device (in my case, my phone), and try to update the user&#39;s profile picture in Cloud Storage, it works fine. But when I try to perform the exact same function, with the exact same code and security rules, it is denied in the emulator. I have no idea what is causing this.\r\n\r\nWhen the user attempts to update a profile picture from the emulator, this is the massive error I am given in the logcat:\r\n\r\n``` 2020-10-13 15:38:35.225 29467-29598/com.example.dailyintaketracker E/StorageException: StorageException has occurred.\r\n    User does not have permission to access this object.\r\n     Code: -13021 HttpResult: 403\r\n2020-10-13 15:38:35.227 29467-29598/com.example.dailyintaketracker E/StorageException: The server has terminated the upload session\r\n    java.io.IOException: The server has terminated the upload session\r\n        at com.google.firebase.storage.UploadTask.serverStateValid(com.google.firebase:firebase-storage@@19.1.1:331)\r\n        at com.google.firebase.storage.UploadTask.shouldContinue(com.google.firebase:firebase-storage@@19.1.1:300)\r\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:224)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)\r\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied. Could not perform this operation&quot;  }}\r\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(com.google.firebase:firebase-storage@@19.1.1:433)\r\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(com.google.firebase:firebase-storage@@19.1.1:450)\r\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(com.google.firebase:firebase-storage@@19.1.1:441)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:272)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:286)\r\n        at com.google.firebase.storage.UploadTask.send(com.google.firebase:firebase-storage@@19.1.1:461)\r\n        at com.google.firebase.storage.UploadTask.uploadChunk(com.google.firebase:firebase-storage@@19.1.1:420)\r\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:223)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)&#160;\r\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n2020-10-13 15:38:35.227 29467-29598/com.example.dailyintaketracker E/StorageException: StorageException has occurred.\r\n    User does not have permission to access this object.\r\n     Code: -13021 HttpResult: 403\r\n2020-10-13 15:38:35.228 29467-29598/com.example.dailyintaketracker E/StorageException: The server has terminated the upload session\r\n    java.io.IOException: The server has terminated the upload session\r\n        at com.google.firebase.storage.UploadTask.serverStateValid(com.google.firebase:firebase-storage@@19.1.1:331)\r\n        at com.google.firebase.storage.UploadTask.shouldContinue(com.google.firebase:firebase-storage@@19.1.1:300)\r\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:224)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)\r\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied. Could not perform this operation&quot;  }}\r\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(com.google.firebase:firebase-storage@@19.1.1:433)\r\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(com.google.firebase:firebase-storage@@19.1.1:450)\r\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(com.google.firebase:firebase-storage@@19.1.1:441)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:272)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:286)\r\n        at com.google.firebase.storage.UploadTask.send(com.google.firebase:firebase-storage@@19.1.1:461)\r\n        at com.google.firebase.storage.UploadTask.uploadChunk(com.google.firebase:firebase-storage@@19.1.1:420)\r\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:223)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)&#160;\r\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n2020-10-13 15:38:35.245 29467-29467/com.example.dailyintaketracker E/StorageException: StorageException has occurred.\r\n    User does not have permission to access this object.\r\n     Code: -13021 HttpResult: 403\r\n2020-10-13 15:38:35.246 29467-29467/com.example.dailyintaketracker E/StorageException: The server has terminated the upload session\r\n    java.io.IOException: The server has terminated the upload session\r\n        at com.google.firebase.storage.UploadTask.serverStateValid(com.google.firebase:firebase-storage@@19.1.1:331)\r\n        at com.google.firebase.storage.UploadTask.shouldContinue(com.google.firebase:firebase-storage@@19.1.1:300)\r\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:224)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)\r\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied. Could not perform this operation&quot;  }}\r\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(com.google.firebase:firebase-storage@@19.1.1:433)\r\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(com.google.firebase:firebase-storage@@19.1.1:450)\r\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(com.google.firebase:firebase-storage@@19.1.1:441)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:272)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:286)\r\n        at com.google.firebase.storage.UploadTask.send(com.google.firebase:firebase-storage@@19.1.1:461)\r\n        at com.google.firebase.storage.UploadTask.uploadChunk(com.google.firebase:firebase-storage@@19.1.1:420)\r\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:223)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)&#160;\r\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n2020-10-13 15:38:35.246 29467-29467/com.example.dailyintaketracker E/Error: Failed to upload profile picture to path &quot;/profilePictures/OpWYmEaaHfagPiIIHnKMqtXURzo2.png&quot;. The error is: com.google.firebase.storage.StorageException: User does not have permission to access this object.\r\n```\r\n\r\nAnd this is the function that is being called:\r\n\r\n```\r\npublic void updateProfilePicture (final Uri imageUri) {\r\n        if(imageUri == null) {\r\n            return;\r\n        }\r\n\r\n        String path = &quot;profilePictures/&quot; + mAuth.getCurrentUser().getUid() + &quot;.png&quot;;\r\n        final StorageReference reference = firebaseStorage.getReference(path);\r\n\r\n        reference.putFile(imageUri).addOnCompleteListener(MainActivity.this, new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                if(task.isSuccessful()) {\r\n\r\n                    toastShort(&quot;Updated profile picture successfully.&quot;);\r\n\r\n                } else {\r\n\r\n                    Log.e(&quot;Error&quot;, &quot;Failed to upload profile picture to path \\&quot;&quot; + reference.getPath() +\r\n                            &quot;\\&quot;. The error is: &quot; + task.getException());\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nAdmittedly, this is not a massive issue, as it still works on the actual device, but I&#39;m worried that it might not work on other devices because of this issue. Any feedback is appreciated.","title":"StorageException: &quot;Server has terminated the upload session&quot;, but only on emulator?","body":"<p>I am using Android Studio, alongside Cloud Storage and Cloud Firestore, to make my app. The issue I'm encountering is regarding the user updating an image in Cloud Storage.</p>\n<p>When I deploy the app to a physical device (in my case, my phone), and try to update the user's profile picture in Cloud Storage, it works fine. But when I try to perform the exact same function, with the exact same code and security rules, it is denied in the emulator. I have no idea what is causing this.</p>\n<p>When the user attempts to update a profile picture from the emulator, this is the massive error I am given in the logcat:</p>\n<pre><code>    User does not have permission to access this object.\n     Code: -13021 HttpResult: 403\n2020-10-13 15:38:35.227 29467-29598/com.example.dailyintaketracker E/StorageException: The server has terminated the upload session\n    java.io.IOException: The server has terminated the upload session\n        at com.google.firebase.storage.UploadTask.serverStateValid(com.google.firebase:firebase-storage@@19.1.1:331)\n        at com.google.firebase.storage.UploadTask.shouldContinue(com.google.firebase:firebase-storage@@19.1.1:300)\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:224)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied. Could not perform this operation&quot;  }}\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(com.google.firebase:firebase-storage@@19.1.1:433)\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(com.google.firebase:firebase-storage@@19.1.1:450)\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(com.google.firebase:firebase-storage@@19.1.1:441)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:272)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:286)\n        at com.google.firebase.storage.UploadTask.send(com.google.firebase:firebase-storage@@19.1.1:461)\n        at com.google.firebase.storage.UploadTask.uploadChunk(com.google.firebase:firebase-storage@@19.1.1:420)\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:223)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072) \n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:923) \n2020-10-13 15:38:35.227 29467-29598/com.example.dailyintaketracker E/StorageException: StorageException has occurred.\n    User does not have permission to access this object.\n     Code: -13021 HttpResult: 403\n2020-10-13 15:38:35.228 29467-29598/com.example.dailyintaketracker E/StorageException: The server has terminated the upload session\n    java.io.IOException: The server has terminated the upload session\n        at com.google.firebase.storage.UploadTask.serverStateValid(com.google.firebase:firebase-storage@@19.1.1:331)\n        at com.google.firebase.storage.UploadTask.shouldContinue(com.google.firebase:firebase-storage@@19.1.1:300)\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:224)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied. Could not perform this operation&quot;  }}\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(com.google.firebase:firebase-storage@@19.1.1:433)\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(com.google.firebase:firebase-storage@@19.1.1:450)\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(com.google.firebase:firebase-storage@@19.1.1:441)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:272)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:286)\n        at com.google.firebase.storage.UploadTask.send(com.google.firebase:firebase-storage@@19.1.1:461)\n        at com.google.firebase.storage.UploadTask.uploadChunk(com.google.firebase:firebase-storage@@19.1.1:420)\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:223)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072) \n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:923) \n2020-10-13 15:38:35.245 29467-29467/com.example.dailyintaketracker E/StorageException: StorageException has occurred.\n    User does not have permission to access this object.\n     Code: -13021 HttpResult: 403\n2020-10-13 15:38:35.246 29467-29467/com.example.dailyintaketracker E/StorageException: The server has terminated the upload session\n    java.io.IOException: The server has terminated the upload session\n        at com.google.firebase.storage.UploadTask.serverStateValid(com.google.firebase:firebase-storage@@19.1.1:331)\n        at com.google.firebase.storage.UploadTask.shouldContinue(com.google.firebase:firebase-storage@@19.1.1:300)\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:224)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072)\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 403,    &quot;message&quot;: &quot;Permission denied. Could not perform this operation&quot;  }}\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(com.google.firebase:firebase-storage@@19.1.1:433)\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(com.google.firebase:firebase-storage@@19.1.1:450)\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(com.google.firebase:firebase-storage@@19.1.1:441)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:272)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(com.google.firebase:firebase-storage@@19.1.1:286)\n        at com.google.firebase.storage.UploadTask.send(com.google.firebase:firebase-storage@@19.1.1:461)\n        at com.google.firebase.storage.UploadTask.uploadChunk(com.google.firebase:firebase-storage@@19.1.1:420)\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@19.1.1:223)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@19.1.1:1072) \n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:923) \n2020-10-13 15:38:35.246 29467-29467/com.example.dailyintaketracker E/Error: Failed to upload profile picture to path &quot;/profilePictures/OpWYmEaaHfagPiIIHnKMqtXURzo2.png&quot;. The error is: com.google.firebase.storage.StorageException: User does not have permission to access this object.\n</code></pre>\n<p>And this is the function that is being called:</p>\n<pre><code>public void updateProfilePicture (final Uri imageUri) {\n        if(imageUri == null) {\n            return;\n        }\n\n        String path = &quot;profilePictures/&quot; + mAuth.getCurrentUser().getUid() + &quot;.png&quot;;\n        final StorageReference reference = firebaseStorage.getReference(path);\n\n        reference.putFile(imageUri).addOnCompleteListener(MainActivity.this, new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                if(task.isSuccessful()) {\n\n                    toastShort(&quot;Updated profile picture successfully.&quot;);\n\n                } else {\n\n                    Log.e(&quot;Error&quot;, &quot;Failed to upload profile picture to path \\&quot;&quot; + reference.getPath() +\n                            &quot;\\&quot;. The error is: &quot; + task.getException());\n\n                }\n            }\n        });\n    }\n</code></pre>\n<p>Admittedly, this is not a massive issue, as it still works on the actual device, but I'm worried that it might not work on other devices because of this issue. Any feedback is appreciated.</p>\n"},{"tags":["java","linux","apache-storm","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1658166421,"post_id":73007958,"comment_id":128979129,"body_markdown":"Are all necessary dependcies given in the `/lib`-directory?","body":"Are all necessary dependcies given in the <code>&#47;lib</code>-directory?"},{"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"score":0,"creation_date":1658205203,"post_id":73007958,"comment_id":128987118,"body_markdown":"In Intellij, I see Maven: org.apache.httpcomponents:httpclient:4.5.13 and \nMaven: org.apache.httpcomponents:httpcore:4.4.13 under External Libraries. This works when I run in local mode (the LocalCluster code above), just not when I run with my storm cluster.","body":"In Intellij, I see Maven: org.apache.httpcomponents:httpclient:4.5.13 and  Maven: org.apache.httpcomponents:httpcore:4.4.13 under External Libraries. This works when I run in local mode (the LocalCluster code above), just not when I run with my storm cluster."},{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1658217466,"post_id":73007958,"comment_id":128990133,"body_markdown":"Are these jars in the lib-folder of your remote storm installation?","body":"Are these jars in the lib-folder of your remote storm installation?"},{"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"score":0,"creation_date":1658251580,"post_id":73007958,"comment_id":129003709,"body_markdown":"When I open the bookmarks under External Libraries, I do see a .jar file. However, I don&#39;t see the actual .jar files in my IdeaProjects directory. Are you thinking I need to download the .jar files separately and link them in?","body":"When I open the bookmarks under External Libraries, I do see a .jar file. However, I don&#39;t see the actual .jar files in my IdeaProjects directory. Are you thinking I need to download the .jar files separately and link them in?"},{"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"score":0,"creation_date":1658268932,"post_id":73007958,"comment_id":129008820,"body_markdown":"Your suggestion made me think I could download httpcore-4.4.10.jar and httpclient-4.5.6.jar, so I did. Unfortunately, I have been trying for the last four hours to figure out how to pull these jar files in to the Maven build in Intellij so I can create a package for my storm cluster, but w/o any success...","body":"Your suggestion made me think I could download httpcore-4.4.10.jar and httpclient-4.5.6.jar, so I did. Unfortunately, I have been trying for the last four hours to figure out how to pull these jar files in to the Maven build in Intellij so I can create a package for my storm cluster, but w/o any success..."},{"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"score":0,"creation_date":1658271789,"post_id":73007958,"comment_id":129009305,"body_markdown":"I give up for today. I was able to find the original httpclient and httpcore jar files and backed out the additions I had made. I can run Maven clean and package, a new jar file is created, but I still get the same error.","body":"I give up for today. I was able to find the original httpclient and httpcore jar files and backed out the additions I had made. I can run Maven clean and package, a new jar file is created, but I still get the same error."},{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1658380719,"post_id":73007958,"comment_id":129038104,"body_markdown":"So you are referring to the distributed mode which then needs to run on a remote server and not on your local machine, right? In that case, Storm needs to access all the packages you use. One way is to either pack a uber-jar (e.g. with maven), another way would be to upload the additional packages to the lib-folder of your remote storm installation.","body":"So you are referring to the distributed mode which then needs to run on a remote server and not on your local machine, right? In that case, Storm needs to access all the packages you use. One way is to either pack a uber-jar (e.g. with maven), another way would be to upload the additional packages to the lib-folder of your remote storm installation."},{"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"score":0,"creation_date":1658687841,"post_id":73007958,"comment_id":129107553,"body_markdown":"Thanks, moosehead42. When I select Package, Maven creates a jar file. How would I create the &quot;uber-jar&quot; you are suggesting?","body":"Thanks, moosehead42. When I select Package, Maven creates a jar file. How would I create the &quot;uber-jar&quot; you are suggesting?"},{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1658738860,"post_id":73007958,"comment_id":129116680,"body_markdown":"So I preferred to solve it with the single jars that you need to upload just once. Uber-jar is an alternative that however inherently uploads all the packed jars every time. But is maybe easier to handle. Maybe read this as starting point: https://stackoverflow.com/questions/11947037/what-is-an-uber-jar","body":"So I preferred to solve it with the single jars that you need to upload just once. Uber-jar is an alternative that however inherently uploads all the packed jars every time. But is maybe easier to handle. Maybe read this as starting point: <a href=\"https://stackoverflow.com/questions/11947037/what-is-an-uber-jar\">stackoverflow.com/questions/11947037/what-is-an-uber-jar</a>"},{"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"score":0,"creation_date":1658792790,"post_id":73007958,"comment_id":129135059,"body_markdown":"Really appreciate the guidance. I was able to use the details in the link to get it working. For anyone else who follows this thread, make sure to add back in &lt;scope&gt;provided&lt;/scope&gt; at the end of the storm-core dependency so you don&#39;t get the duplicate yaml error. Thanks again, moosehead42.","body":"Really appreciate the guidance. I was able to use the details in the link to get it working. For anyone else who follows this thread, make sure to add back in &lt;scope&gt;provided&lt;/scope&gt; at the end of the storm-core dependency so you don&#39;t get the duplicate yaml error. Thanks again, moosehead42."}],"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658009468,"creation_date":1658009468,"question_id":73007958,"body_markdown":"I can run an apache-storm program in local mode (using Intellij and Maven), but when I run on the storm cluster it bombs immediately with the error &quot;Exception in thread “main” java.lang.NoClassDefFoundException: org.apache.http.client.HttpClient&quot;. I have verified the storm cluster works on a toy program with no http calls. Here is my pom.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; \r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; \r\n    &lt;groupId&gt;org.jmm&lt;/groupId&gt; \r\n    &lt;artifactId&gt;twitter2&lt;/artifactId&gt; \r\n    &lt;version&gt;1.0&lt;/version&gt; \r\n    &lt;dependencies&gt; \r\n        &lt;dependency&gt; \r\n            &lt;groupId&gt;org.apache.storm&lt;/groupId&gt; \r\n            &lt;artifactId&gt;storm-core&lt;/artifactId&gt; \r\n            &lt;version&gt;2.1.1&lt;/version&gt; \r\n        &lt;/dependency&gt; \r\n        &lt;dependency&gt; \r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; \r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; \r\n            &lt;version&gt;2.6.3&lt;/version&gt; \r\n        &lt;/dependency&gt; \r\n        &lt;dependency&gt; \r\n            &lt;groupId&gt;org.json&lt;/groupId&gt; \r\n            &lt;artifactId&gt;json&lt;/artifactId&gt; \r\n            &lt;version&gt;20090211&lt;/version&gt; \r\n        &lt;/dependency&gt; \r\n    &lt;/dependencies&gt; \r\n    &lt;properties&gt; \r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt; \r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt; \r\n    &lt;/properties&gt; \r\n&lt;/project&gt; \r\n```\r\nAnd the start of my spout code:\r\n```\r\nimport org.apache.storm.spout.SpoutOutputCollector; \r\nimport org.apache.storm.task.TopologyContext; \r\nimport org.apache.storm.topology.OutputFieldsDeclarer; \r\nimport org.apache.storm.topology.base.BaseRichSpout; \r\nimport org.apache.storm.tuple.Fields; \r\nimport org.apache.storm.tuple.Tuple; \r\nimport org.apache.storm.tuple.Values; \r\nimport org.apache.storm.utils.Utils; \r\nimport java.util.ArrayList; \r\nimport java.util.Arrays; \r\nimport java.util.Map; \r\nimport java.time.format.DateTimeFormatter; \r\nimport java.time.LocalDateTime; import org.apache.http.HttpEntity; \r\nimport org.apache.http.HttpResponse; \r\nimport org.apache.http.NameValuePair; \r\nimport org.apache.http.client.HttpClient; \r\nimport org.apache.http.client.config.CookieSpecs; \r\nimport org.apache.http.client.config.RequestConfig; \r\nimport org.apache.http.client.methods.HttpGet; \r\nimport org.apache.http.client.utils.URIBuilder; \r\nimport org.apache.http.impl.client.HttpClients; \r\nimport org.apache.http.message.BasicNameValuePair; \r\nimport org.apache.http.util.EntityUtils; \r\nimport twitter4j.Status; \r\n\r\npublic class twitterSpout extends BaseRichSpout { \r\n    private SpoutOutputCollector collector; \r\n    String bearerToken = &quot;&quot;;   //deleted here, but filled in for my program \r\n    HttpGet httpGet; \r\n    HttpResponse response; \r\n    HttpEntity entity; \r\n    URIBuilder uriBuilder; \r\n```\r\n\r\nAnd the topology:\r\n```\r\nimport org.apache.storm.Config; \r\nimport org.apache.storm.StormSubmitter; \r\nimport org.apache.storm.topology.TopologyBuilder; \r\nimport org.apache.storm.tuple.Fields; \r\nimport org.apache.storm.LocalCluster; \r\n\r\npublic class twitterTopology { \r\n    public static void main(String[] args) throws Exception { \r\n        twitterSpout spout = new twitterSpout(); \r\n        System.out.println(&quot;\\nafter initializing twitterSpout\\n&quot;); \r\n        LossyBolt countBolt = new LossyBolt(); \r\n        ReportBolt reportBolt = new ReportBolt(); \r\n        TopologyBuilder builder = new TopologyBuilder(); \r\n        builder.setSpout(&quot;twitterSpout&quot;, spout); \r\n        builder.setBolt(&quot;lossy&quot;, countBolt).fieldsGrouping(&quot;twitterSpout&quot;, new Fields(&quot;bucket&quot;)); \r\n        builder.setBolt(&quot;report&quot;, reportBolt).fieldsGrouping(&quot;lossy&quot;, new Fields(&quot;bcurrent&quot;)); \r\n  \r\n        Config config = new Config(); \r\n        config.setDebug(true); \r\n        config.setNumWorkers(3); \r\n        /* this code works when I uncomment it and comment out StormSubmitter\r\n        LocalCluster cluster = new LocalCluster(); \r\n        cluster.submitTopology(&quot;twitterTopology&quot;, config, builder.createTopology()); \r\n        Thread.sleep(70000); \r\n        cluster.killTopology(&quot;twitterTopology&quot;);; \r\n        cluster.shutdown(); \r\n        */ \r\n        StormSubmitter.submitTopology(&quot;twitterTopology&quot;, config, builder.createTopology()); \r\n\r\n        Thread.sleep(70000); \r\n\r\n     } \r\n\r\n} \r\n```\r\n\r\nAny insight as to why it works in local mode but not in storm cluster mode would be appreciated!!","title":"Why do Apache-Storm org.apache.http.xxx imports work for local cluster but not for an actual storm cluster?","body":"<p>I can run an apache-storm program in local mode (using Intellij and Maven), but when I run on the storm cluster it bombs immediately with the error &quot;Exception in thread “main” java.lang.NoClassDefFoundException: org.apache.http.client.HttpClient&quot;. I have verified the storm cluster works on a toy program with no http calls. Here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; \n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; \n    &lt;groupId&gt;org.jmm&lt;/groupId&gt; \n    &lt;artifactId&gt;twitter2&lt;/artifactId&gt; \n    &lt;version&gt;1.0&lt;/version&gt; \n    &lt;dependencies&gt; \n        &lt;dependency&gt; \n            &lt;groupId&gt;org.apache.storm&lt;/groupId&gt; \n            &lt;artifactId&gt;storm-core&lt;/artifactId&gt; \n            &lt;version&gt;2.1.1&lt;/version&gt; \n        &lt;/dependency&gt; \n        &lt;dependency&gt; \n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; \n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; \n            &lt;version&gt;2.6.3&lt;/version&gt; \n        &lt;/dependency&gt; \n        &lt;dependency&gt; \n            &lt;groupId&gt;org.json&lt;/groupId&gt; \n            &lt;artifactId&gt;json&lt;/artifactId&gt; \n            &lt;version&gt;20090211&lt;/version&gt; \n        &lt;/dependency&gt; \n    &lt;/dependencies&gt; \n    &lt;properties&gt; \n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt; \n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt; \n    &lt;/properties&gt; \n&lt;/project&gt; \n</code></pre>\n<p>And the start of my spout code:</p>\n<pre><code>import org.apache.storm.spout.SpoutOutputCollector; \nimport org.apache.storm.task.TopologyContext; \nimport org.apache.storm.topology.OutputFieldsDeclarer; \nimport org.apache.storm.topology.base.BaseRichSpout; \nimport org.apache.storm.tuple.Fields; \nimport org.apache.storm.tuple.Tuple; \nimport org.apache.storm.tuple.Values; \nimport org.apache.storm.utils.Utils; \nimport java.util.ArrayList; \nimport java.util.Arrays; \nimport java.util.Map; \nimport java.time.format.DateTimeFormatter; \nimport java.time.LocalDateTime; import org.apache.http.HttpEntity; \nimport org.apache.http.HttpResponse; \nimport org.apache.http.NameValuePair; \nimport org.apache.http.client.HttpClient; \nimport org.apache.http.client.config.CookieSpecs; \nimport org.apache.http.client.config.RequestConfig; \nimport org.apache.http.client.methods.HttpGet; \nimport org.apache.http.client.utils.URIBuilder; \nimport org.apache.http.impl.client.HttpClients; \nimport org.apache.http.message.BasicNameValuePair; \nimport org.apache.http.util.EntityUtils; \nimport twitter4j.Status; \n\npublic class twitterSpout extends BaseRichSpout { \n    private SpoutOutputCollector collector; \n    String bearerToken = &quot;&quot;;   //deleted here, but filled in for my program \n    HttpGet httpGet; \n    HttpResponse response; \n    HttpEntity entity; \n    URIBuilder uriBuilder; \n</code></pre>\n<p>And the topology:</p>\n<pre><code>import org.apache.storm.Config; \nimport org.apache.storm.StormSubmitter; \nimport org.apache.storm.topology.TopologyBuilder; \nimport org.apache.storm.tuple.Fields; \nimport org.apache.storm.LocalCluster; \n\npublic class twitterTopology { \n    public static void main(String[] args) throws Exception { \n        twitterSpout spout = new twitterSpout(); \n        System.out.println(&quot;\\nafter initializing twitterSpout\\n&quot;); \n        LossyBolt countBolt = new LossyBolt(); \n        ReportBolt reportBolt = new ReportBolt(); \n        TopologyBuilder builder = new TopologyBuilder(); \n        builder.setSpout(&quot;twitterSpout&quot;, spout); \n        builder.setBolt(&quot;lossy&quot;, countBolt).fieldsGrouping(&quot;twitterSpout&quot;, new Fields(&quot;bucket&quot;)); \n        builder.setBolt(&quot;report&quot;, reportBolt).fieldsGrouping(&quot;lossy&quot;, new Fields(&quot;bcurrent&quot;)); \n  \n        Config config = new Config(); \n        config.setDebug(true); \n        config.setNumWorkers(3); \n        /* this code works when I uncomment it and comment out StormSubmitter\n        LocalCluster cluster = new LocalCluster(); \n        cluster.submitTopology(&quot;twitterTopology&quot;, config, builder.createTopology()); \n        Thread.sleep(70000); \n        cluster.killTopology(&quot;twitterTopology&quot;);; \n        cluster.shutdown(); \n        */ \n        StormSubmitter.submitTopology(&quot;twitterTopology&quot;, config, builder.createTopology()); \n\n        Thread.sleep(70000); \n\n     } \n\n} \n</code></pre>\n<p>Any insight as to why it works in local mode but not in storm cluster mode would be appreciated!!</p>\n"},{"tags":["java","spring","rest","spring-mvc","jax-rs"],"comments":[{"owner":{"account_id":2449464,"reputation":2268,"user_id":2136086,"display_name":"asg"},"score":0,"creation_date":1500867480,"post_id":45272102,"comment_id":77507179,"body_markdown":"You can add After advice for a particular REST Controller method and perform the specific processing you.","body":"You can add After advice for a particular REST Controller method and perform the specific processing you."},{"owner":{"account_id":6755145,"reputation":775,"user_id":5203863,"accept_rate":81,"display_name":"rosenthal"},"score":0,"creation_date":1500867532,"post_id":45272102,"comment_id":77507194,"body_markdown":"Never worked with AOP before. Got an example for me?","body":"Never worked with AOP before. Got an example for me?"},{"owner":{"account_id":6755145,"reputation":775,"user_id":5203863,"accept_rate":81,"display_name":"rosenthal"},"score":0,"creation_date":1500867604,"post_id":45272102,"comment_id":77507206,"body_markdown":"Also, this might not work. I want to wrap my Customer object in another object, and return that as part of the HttpEntity","body":"Also, this might not work. I want to wrap my Customer object in another object, and return that as part of the HttpEntity"}],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500867674,"creation_date":1500867674,"answer_id":45272278,"question_id":45272102,"body_markdown":"You can write an Spring MVC Interceptor and put it over the Controller method you want and you can use the `postHandle` method to do what you want to do.\r\n\r\nHave a look at this [post][1]\r\n\r\n\r\n  [1]: https://www.mkyong.com/spring-mvc/spring-mvc-handler-interceptors-example/","title":"Spring REST post process all HTTP requests","body":"<p>You can write an Spring MVC Interceptor and put it over the Controller method you want and you can use the <code>postHandle</code> method to do what you want to do.</p>\n\n<p>Have a look at this <a href=\"https://www.mkyong.com/spring-mvc/spring-mvc-handler-interceptors-example/\" rel=\"nofollow noreferrer\">post</a></p>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1500872138,"creation_date":1500872138,"answer_id":45272873,"question_id":45272102,"body_markdown":"I think, what you need is [ResponseBodyAdvice](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyAdvice.html). \r\n\r\nAs per documentation , \r\n\r\n&gt; Allows customizing the response after the execution of an\r\n&gt; @ResponseBody or a ResponseEntity controller method but before the\r\n&gt; body is written with an HttpMessageConverter. \r\n&gt; \r\n&gt; Implementations may be may be registered directly with\r\n&gt; RequestMappingHandlerAdapter and ExceptionHandlerExceptionResolver or\r\n&gt; more likely annotated with @ControllerAdvice in which case they will\r\n&gt; be auto-detected by both.\r\n\r\nYour other concern about `OutputStream` will be resolved and body will directly be available , \r\n\r\n    @ControllerAdvice\r\n    public class CustomerResponseFilter implements ResponseBodyAdvice&lt;ResponseEntity&lt;Customer&gt;&gt; {\r\n    \r\n        @Override\r\n        public boolean supports(MethodParameter returnType,\r\n    \t    Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n    \t// TODO Auto-generated method stub\r\n    \treturn false;\r\n        }\r\n    \r\n        @Override\r\n        public ResponseEntity&lt;Customer&gt; beforeBodyWrite(ResponseEntity&lt;Customer&gt; body,\r\n    \t    MethodParameter returnType, MediaType selectedContentType,\r\n    \t    Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType,\r\n    \t    ServerHttpRequest request, ServerHttpResponse response) {\r\n    \r\n        //..do your manipulations \r\n    \treturn body;\r\n        }\r\n    \r\n    }\r\n\r\nSince it is annotated with `@ControllerAdvice`, it will be automatically detected for your controllers. ","title":"Spring REST post process all HTTP requests","body":"<p>I think, what you need is <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyAdvice.html\" rel=\"noreferrer\">ResponseBodyAdvice</a>. </p>\n\n<p>As per documentation , </p>\n\n<blockquote>\n  <p>Allows customizing the response after the execution of an\n  @ResponseBody or a ResponseEntity controller method but before the\n  body is written with an HttpMessageConverter. </p>\n  \n  <p>Implementations may be may be registered directly with\n  RequestMappingHandlerAdapter and ExceptionHandlerExceptionResolver or\n  more likely annotated with @ControllerAdvice in which case they will\n  be auto-detected by both.</p>\n</blockquote>\n\n<p>Your other concern about <code>OutputStream</code> will be resolved and body will directly be available , </p>\n\n<pre><code>@ControllerAdvice\npublic class CustomerResponseFilter implements ResponseBodyAdvice&lt;ResponseEntity&lt;Customer&gt;&gt; {\n\n    @Override\n    public boolean supports(MethodParameter returnType,\n        Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n    // TODO Auto-generated method stub\n    return false;\n    }\n\n    @Override\n    public ResponseEntity&lt;Customer&gt; beforeBodyWrite(ResponseEntity&lt;Customer&gt; body,\n        MethodParameter returnType, MediaType selectedContentType,\n        Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType,\n        ServerHttpRequest request, ServerHttpResponse response) {\n\n    //..do your manipulations \n    return body;\n    }\n\n}\n</code></pre>\n\n<p>Since it is annotated with <code>@ControllerAdvice</code>, it will be automatically detected for your controllers. </p>\n"}],"owner":{"account_id":6755145,"reputation":775,"user_id":5203863,"accept_rate":81,"display_name":"rosenthal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2406,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45272873,"answer_count":2,"score":3,"last_activity_date":1658008575,"creation_date":1500866380,"question_id":45272102,"body_markdown":"# What I&#39;m Trying to accomplish\r\n\r\nI want to be able to process the results of a HTTP request to a Spring RestController after a particular endpoints method has returned it&#39;s value. E.g. I have:\r\n\r\n```\r\nGET /customer/{id}\r\n```\r\n\r\nThis normally just returns a custom resource. It&#39;s endpoint I define in my `RestController` just returns a customer object.\r\n\r\nI want to be able to modify the `HttpEntity` response that is crafted from this return result. In particular, I want to do all HATEOAS work in this post-processor and wrap it in my parent object.\r\n\r\nWhat would be the best way to accomplish this? I would include what I&#39;ve tried, but I can&#39;t think of any way this could be done cleanly.\r\n\r\nIn frameworks that implement JAX-RS, all you would need to do is implement the `ContainerResponseFilter` interface and you could add it to your REST server. This was simple to do with Jersey OR CXF. \r\n\r\nIs there a notion of `ContainerResponseFilter` in Spring REST?","title":"Spring REST post process all HTTP requests","body":"<h1>What I'm Trying to accomplish</h1>\n<p>I want to be able to process the results of a HTTP request to a Spring RestController after a particular endpoints method has returned it's value. E.g. I have:</p>\n<pre><code>GET /customer/{id}\n</code></pre>\n<p>This normally just returns a custom resource. It's endpoint I define in my <code>RestController</code> just returns a customer object.</p>\n<p>I want to be able to modify the <code>HttpEntity</code> response that is crafted from this return result. In particular, I want to do all HATEOAS work in this post-processor and wrap it in my parent object.</p>\n<p>What would be the best way to accomplish this? I would include what I've tried, but I can't think of any way this could be done cleanly.</p>\n<p>In frameworks that implement JAX-RS, all you would need to do is implement the <code>ContainerResponseFilter</code> interface and you could add it to your REST server. This was simple to do with Jersey OR CXF.</p>\n<p>Is there a notion of <code>ContainerResponseFilter</code> in Spring REST?</p>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658007316,"post_id":73007763,"comment_id":128946032,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1658007880,"post_id":73007763,"comment_id":128946104,"body_markdown":"You need to use the `JTable.convertRowIndexToModel(...)` to get the correct index of the row to delete from the `DefaultTableModel`.","body":"You need to use the <code>JTable.convertRowIndexToModel(...)</code> to get the correct index of the row to delete from the <code>DefaultTableModel</code>."},{"owner":{"account_id":25825357,"reputation":9,"user_id":19563635,"display_name":"Ken"},"score":1,"creation_date":1658013479,"post_id":73007763,"comment_id":128946838,"body_markdown":"In what part of it should be implemented? I&#39;m not kind of familiar with JTable.convertRowIndexToModel(...)","body":"In what part of it should be implemented? I&#39;m not kind of familiar with JTable.convertRowIndexToModel(...)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1658014799,"post_id":73007763,"comment_id":128946986,"body_markdown":"When you filter a table the data is NOT removed from the model. When you filter the table to display &quot;Jeremiah&quot; you only have a single row in the view of the table so its index is now 0 in the JTable. However, in the model the index is still 4. So you need to convert the 0 to 4 before you can delete the data from the DefaultTableModel. The above method does this for you. I guess you update the model in your &quot;removeRow(...) method. So you need to either pass the converted index or convert the index in that method.","body":"When you filter a table the data is NOT removed from the model. When you filter the table to display &quot;Jeremiah&quot; you only have a single row in the view of the table so its index is now 0 in the JTable. However, in the model the index is still 4. So you need to convert the 0 to 4 before you can delete the data from the DefaultTableModel. The above method does this for you. I guess you update the model in your &quot;removeRow(...) method. So you need to either pass the converted index or convert the index in that method."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1658015372,"post_id":73007763,"comment_id":128947059,"body_markdown":"As stated, `officialTable.getSelectedRow();` will return the &quot;visual&quot; row index.  You need to convert this to the &quot;model&quot; index using [`JTable#convertRowIndexToModel`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#convertRowIndexToModel(int)). You might also want to read through [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) and pay attention to [Sorting and Filtering](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting) section","body":"As stated, <code>officialTable.getSelectedRow();</code> will return the &quot;visual&quot; row index.  You need to convert this to the &quot;model&quot; index using <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JTable.html#convertRowIndexToModel(int)\" rel=\"nofollow noreferrer\"><code>JTable#convertRowIndexToModel</code></a>. You might also want to read through <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> and pay attention to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"nofollow noreferrer\">Sorting and Filtering</a> section"},{"owner":{"account_id":25825357,"reputation":9,"user_id":19563635,"display_name":"Ken"},"score":1,"creation_date":1658074782,"post_id":73007763,"comment_id":128955729,"body_markdown":"Oh, men! It work. I do really need that &quot;JTable.convertRowIndexToModel(...)&quot; I&#39;m able to delete the search filter of the table. Thanks for your help. It really means a lot. @camickr","body":"Oh, men! It work. I do really need that &quot;JTable.convertRowIndexToModel(...)&quot; I&#39;m able to delete the search filter of the table. Thanks for your help. It really means a lot. @camickr"},{"owner":{"account_id":25825357,"reputation":9,"user_id":19563635,"display_name":"Ken"},"score":0,"creation_date":1658075054,"post_id":73007763,"comment_id":128955798,"body_markdown":"Yup, I do need to read more about this Sorting and Filtering. Thank you @MadProgrammer","body":"Yup, I do need to read more about this Sorting and Filtering. Thank you @MadProgrammer"}],"owner":{"account_id":25825357,"reputation":9,"user_id":19563635,"display_name":"Ken"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1658006947,"creation_date":1658006947,"question_id":73007763,"body_markdown":"\r\nIn my JTable it displays all the names of people, and then when I type a name or any related info to them, then it will show until only one person is shown in the table. When I click that one row of the table and then click the button delete but it won&#39;t delete that specific data instead it deletes the first row in the table &quot;before searching in the table.&quot; \r\n\r\nThis is the output:\r\n[Before seaching][1]\r\n\r\nWhen Searching and after hitting the delete button above. That data is not been deleted.\r\n[Searching][2]\r\n\r\nBut instead, it deleted who is in the first row\r\n[After][3]\r\n\r\n\r\nThis is the code for the delete that is connected to the button delete.\r\n\r\n     private void officialsDelete() {\r\n        DefaultTableModel RecordTable = (DefaultTableModel)officialTable.getModel();\r\n        int SelectedRows = officialTable.getSelectedRow();\r\n        \r\n        try{\r\n            if(officialTable.getSelectedRowCount() == 1){\r\n                id = Integer.parseInt(RecordTable.getValueAt(SelectedRows, 0).toString());\r\n                deleteItem = JOptionPane.showConfirmDialog(null, &quot;Confirm if you want to delete item&quot;,\r\n                        &quot;Warning&quot;,JOptionPane.YES_NO_OPTION);\r\n                if(deleteItem == JOptionPane.YES_OPTION){\r\n                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                    sqlConn = DriverManager.getConnection(dataConn,username,password);\r\n                    pst = sqlConn.prepareStatement(&quot;delete from officials where id =?&quot;);\r\n                    RecordTable.removeRow(officialTable.getSelectedRow());\r\n\r\n                    pst.setInt(1, id);\r\n                    pst.executeUpdate();\r\n                    JOptionPane.showMessageDialog(this,&quot;Recorded Updated&quot;);\r\n                    upDateDBOfficials();\r\n\r\n                }\r\n                \r\n            }else{\r\n                    if(officialTable.getRowCount()==0){\r\n                        JOptionPane.showMessageDialog(this,&quot;Table is Empty!&quot;);\r\n                    }else{\r\n                        JOptionPane.showMessageDialog(this,&quot;Please select Single row for Deleting&quot;);\r\n                    }\r\n                }\r\n            \r\n        }catch(ClassNotFoundException ex){\r\n            java.util.logging.Logger.getLogger(InformationSystem.class.getName()).log(java.util.logging.Level.SEVERE,\r\n                    null, ex);\r\n        }catch(SQLException ex){\r\n            java.util.logging.Logger.getLogger(InformationSystem.class.getName()).log(java.util.logging.Level.SEVERE,\r\n                    null, ex);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAnd then this is the code for the keyReleased of the textfield for search.\r\n\r\n    private void officialsSearch() {\r\n        String search = officialSearchTxt.getText();\r\n        DefaultTableModel model = (DefaultTableModel)officialTable.getModel();\r\n        TableRowSorter&lt;DefaultTableModel&gt; sorter = new TableRowSorter&lt;&gt;(model);\r\n        officialTable.setRowSorter(sorter);\r\n        sorter.setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + search));\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\nMy problem in here is need to delete the data in the table when i search in the textfield and it will appear in the JTable and click it to delete it. After clicking it in the table, i will now click the button delete for it to delete. \r\n\r\nI hope you can help me. \r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VgPRI.jpg\r\n  [2]: https://i.stack.imgur.com/BXAIm.jpg\r\n  [3]: https://i.stack.imgur.com/lxpbE.jpg","title":"Searching in the search text field it will popup on a Jtable those data i want to delete, after it will show but when i delete it wont delete the data","body":"<p>In my JTable it displays all the names of people, and then when I type a name or any related info to them, then it will show until only one person is shown in the table. When I click that one row of the table and then click the button delete but it won't delete that specific data instead it deletes the first row in the table &quot;before searching in the table.&quot;</p>\n<p>This is the output:\n<a href=\"https://i.stack.imgur.com/VgPRI.jpg\" rel=\"nofollow noreferrer\">Before seaching</a></p>\n<p>When Searching and after hitting the delete button above. That data is not been deleted.\n<a href=\"https://i.stack.imgur.com/BXAIm.jpg\" rel=\"nofollow noreferrer\">Searching</a></p>\n<p>But instead, it deleted who is in the first row\n<a href=\"https://i.stack.imgur.com/lxpbE.jpg\" rel=\"nofollow noreferrer\">After</a></p>\n<p>This is the code for the delete that is connected to the button delete.</p>\n<pre><code> private void officialsDelete() {\n    DefaultTableModel RecordTable = (DefaultTableModel)officialTable.getModel();\n    int SelectedRows = officialTable.getSelectedRow();\n    \n    try{\n        if(officialTable.getSelectedRowCount() == 1){\n            id = Integer.parseInt(RecordTable.getValueAt(SelectedRows, 0).toString());\n            deleteItem = JOptionPane.showConfirmDialog(null, &quot;Confirm if you want to delete item&quot;,\n                    &quot;Warning&quot;,JOptionPane.YES_NO_OPTION);\n            if(deleteItem == JOptionPane.YES_OPTION){\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                sqlConn = DriverManager.getConnection(dataConn,username,password);\n                pst = sqlConn.prepareStatement(&quot;delete from officials where id =?&quot;);\n                RecordTable.removeRow(officialTable.getSelectedRow());\n\n                pst.setInt(1, id);\n                pst.executeUpdate();\n                JOptionPane.showMessageDialog(this,&quot;Recorded Updated&quot;);\n                upDateDBOfficials();\n\n            }\n            \n        }else{\n                if(officialTable.getRowCount()==0){\n                    JOptionPane.showMessageDialog(this,&quot;Table is Empty!&quot;);\n                }else{\n                    JOptionPane.showMessageDialog(this,&quot;Please select Single row for Deleting&quot;);\n                }\n            }\n        \n    }catch(ClassNotFoundException ex){\n        java.util.logging.Logger.getLogger(InformationSystem.class.getName()).log(java.util.logging.Level.SEVERE,\n                null, ex);\n    }catch(SQLException ex){\n        java.util.logging.Logger.getLogger(InformationSystem.class.getName()).log(java.util.logging.Level.SEVERE,\n                null, ex);\n    }\n    \n}\n</code></pre>\n<p>And then this is the code for the keyReleased of the textfield for search.</p>\n<pre><code>private void officialsSearch() {\n    String search = officialSearchTxt.getText();\n    DefaultTableModel model = (DefaultTableModel)officialTable.getModel();\n    TableRowSorter&lt;DefaultTableModel&gt; sorter = new TableRowSorter&lt;&gt;(model);\n    officialTable.setRowSorter(sorter);\n    sorter.setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + search));\n    \n}\n</code></pre>\n<p>My problem in here is need to delete the data in the table when i search in the textfield and it will appear in the JTable and click it to delete it. After clicking it in the table, i will now click the button delete for it to delete.</p>\n<p>I hope you can help me.</p>\n"},{"tags":["java","resourcebundle"],"answers":[{"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323952111,"creation_date":1323952111,"answer_id":8520130,"question_id":8519949,"body_markdown":"There is no standard method with ResourceBundle class. You may use  ([hackish solution][1]) - `Thread.currentThread().getContextClassLoader().getResource()` method or this.getClass().getResource(&quot;/&quot;). Have look at another SO thread having [same title][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8501516/142822\r\n  [2]: https://stackoverflow.com/a/2686435/142822","title":"How can I determine all available ResourceBundles at runtime?","body":"<p>There is no standard method with ResourceBundle class. You may use  (<a href=\"https://stackoverflow.com/a/8501516/142822\">hackish solution</a>) - <code>Thread.currentThread().getContextClassLoader().getResource()</code> method or this.getClass().getResource(\"/\"). Have look at another SO thread having <a href=\"https://stackoverflow.com/a/2686435/142822\">same title</a>.</p>\n"},{"tags":[],"owner":{"account_id":4035942,"reputation":136,"user_id":3320400,"display_name":"mgsCatDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475921045,"creation_date":1475913630,"answer_id":39930131,"question_id":8519949,"body_markdown":"If you use Spring you can try with PathMatchingResourcePatternResolver:\r\n\r\n    ClassLoader cl = this.getClass().getClassLoader(); \r\n    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\r\n    Resource[] resources = resolver.getResources(&quot;classpath*:/MessagesBundle.properties&quot;) ;\r\n    for (Resource resource: resources){\r\n        logger.info(resource.getFilename());\r\n    }","title":"How can I determine all available ResourceBundles at runtime?","body":"<p>If you use Spring you can try with PathMatchingResourcePatternResolver:</p>\n\n<pre><code>ClassLoader cl = this.getClass().getClassLoader(); \nResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\nResource[] resources = resolver.getResources(\"classpath*:/MessagesBundle.properties\") ;\nfor (Resource resource: resources){\n    logger.info(resource.getFilename());\n}\n</code></pre>\n"}],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2710,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1664318874,"answer_count":2,"score":4,"last_activity_date":1658006199,"creation_date":1323951142,"question_id":8519949,"body_markdown":"My Java app has been localised into several locales. For each locale there is a properties file with the translations. I load it as follows:\r\n\r\n    ResourceBundle bundle = ResourceBundle.getBundle(&quot;MessagesBundle&quot;, Locale.getDefault());\r\n\r\nI&#39;d like to determine at runtime all available resource bundles. The bundles are in my application&#39;s jar file. \r\n\r\nHow can I do this?\r\n","title":"How can I determine all available ResourceBundles at runtime?","body":"<p>My Java app has been localised into several locales. For each locale there is a properties file with the translations. I load it as follows:</p>\n\n<pre><code>ResourceBundle bundle = ResourceBundle.getBundle(\"MessagesBundle\", Locale.getDefault());\n</code></pre>\n\n<p>I'd like to determine at runtime all available resource bundles. The bundles are in my application's jar file. </p>\n\n<p>How can I do this?</p>\n"},{"tags":["java","gradle","netbeans"],"owner":{"account_id":14173492,"reputation":31,"user_id":10239453,"display_name":"Sina Gz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658006117,"creation_date":1572461272,"question_id":58631944,"body_markdown":"im working on google drive api with a simple java app and also using netbeans ide .\r\nso at first i set up a (gradle)project with including all necessary dependencies and my app work well but im trying to make a executable jar file \r\n\r\n    public class backup {\r\n        private static final String APPLICATION_NAME = &quot;backup&quot;;\r\n        private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n        private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n        public static String time;\r\n        \r\n    /**\r\n         * Global instance of the scopes required by this quickstart.\r\n         * If modifying these scopes, delete your previously saved tokens/ folder.\r\n         */\r\n        \r\n        private static final List&lt;String&gt; SCOPES = Collections.singletonList(DriveScopes.DRIVE);\r\n        private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n    \r\n        /**\r\n         * Creates an authorized Credential object.\r\n         * @param HTTP_TRANSPORT The network HTTP Transport.\r\n         * @return An authorized Credential object.\r\n         * @throws IOException If the credentials.json file cannot be found.\r\n         */\r\n        private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n            // Load client secrets.\r\n            InputStream in = backup.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n            if (in == null) {\r\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n            }\r\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n            // Build flow and trigger user authorization request.\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                    .setAccessType(&quot;offline&quot;)\r\n                    .build();\r\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n            return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n        }\r\n\r\nand here is my error log(while trying to run java -jar myapp) :\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/api/client/json/JsonFactory\r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n            at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n            at java.lang.Class.getMethod0(Class.java:3018)\r\n            at java.lang.Class.getMethod(Class.java:1784)\r\n            at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.api.client.json.JsonFactory\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 7 more\r\n    \r\n\r\n    -----------------------------------------------------------------------\r\n    ........................................................................\r\n also remember that i imported the com google apiclient json JsonFactory and app work fine when i use run button in netbeans\r\n\r\n\r\n","title":"Gradle run without error but java .jar file logging error","body":"<p>im working on google drive api with a simple java app and also using netbeans ide .\nso at first i set up a (gradle)project with including all necessary dependencies and my app work well but im trying to make a executable jar file </p>\n\n<pre><code>public class backup {\n    private static final String APPLICATION_NAME = \"backup\";\n    private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n    private static final String TOKENS_DIRECTORY_PATH = \"tokens\";\n    public static String time;\n\n/**\n     * Global instance of the scopes required by this quickstart.\n     * If modifying these scopes, delete your previously saved tokens/ folder.\n     */\n\n    private static final List&lt;String&gt; SCOPES = Collections.singletonList(DriveScopes.DRIVE);\n    private static final String CREDENTIALS_FILE_PATH = \"/credentials.json\";\n\n    /**\n     * Creates an authorized Credential object.\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws IOException If the credentials.json file cannot be found.\n     */\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        // Load client secrets.\n        InputStream in = backup.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(\"Resource not found: \" + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(\"offline\")\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(\"user\");\n    }\n</code></pre>\n\n<p>and here is my error log(while trying to run java -jar myapp) :</p>\n\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread \"main\" java.lang.NoClassDefFoundError: com/google/api/client/json/JsonFactory\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n        at java.lang.Class.getMethod0(Class.java:3018)\n        at java.lang.Class.getMethod(Class.java:1784)\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\nCaused by: java.lang.ClassNotFoundException: com.google.api.client.json.JsonFactory\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 7 more\n\n\n-----------------------------------------------------------------------\n........................................................................\n</code></pre>\n\n<p>also remember that i imported the com google apiclient json JsonFactory and app work fine when i use run button in netbeans</p>\n"},{"tags":["java","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658002222,"creation_date":1658000644,"answer_id":73007187,"question_id":73007118,"body_markdown":"&gt; group an arraylist of rectangles by `length` (same as **perimeter** in this case) using streams and collectors and to calculate **minimum** `width` for each group.\r\n\r\nAs you&#39;ve noticed, *collector* `minBy()` produces `Optional&lt;Rectangle&gt;`.\r\n\r\nTo get double property from the optional result, you can use *collector* [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)). It expects a collector (`minBy()` in this case) as the first argument, and a *function* that transforms the result produced by the *collector* as the second argument.\r\n\r\n    public static Map&lt;Double, Double&gt; groupIndenticalPerimeterWidth(ArrayList&lt;Rectangle&gt; rectangles){\r\n        return rectangles.stream()\r\n            .collect(Collectors.groupingBy(\r\n                Rectangle::getPerimeter,\r\n                Collectors.collectingAndThen(\r\n                    Collectors.minBy(Comparator.comparingDouble(Rectangle::getWidth)),\r\n                    result -&gt; result.map(Rectangle::getWidth).orElseThrow() // `map` transforms Optional&lt;Rectangle&gt; into Optional&lt;Double&gt; and `orElseThrow` extracts the value from the optional\r\n                )\r\n            ));\r\n    }\r\n\r\nDummy `Rectangle` class:\r\n\r\n    public static class Rectangle {\r\n        private double height;\r\n        private double width;\r\n        \r\n        public double getPerimeter() {\r\n            return 2 * (height + width);\r\n        }\r\n    \r\n        // getters\r\n    }\r\n\r\n*Sidenote:* it&#39;s highly advisable to use Java 8 static methods when you need to define a compactor.","title":"Collectors group by characteristic and minimum value of a field of said characteristic","body":"<blockquote>\n<p>group an arraylist of rectangles by <code>length</code> (same as <strong>perimeter</strong> in this case) using streams and collectors and to calculate <strong>minimum</strong> <code>width</code> for each group.</p>\n</blockquote>\n<p>As you've noticed, <em>collector</em> <code>minBy()</code> produces <code>Optional&lt;Rectangle&gt;</code>.</p>\n<p>To get double property from the optional result, you can use <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a>. It expects a collector (<code>minBy()</code> in this case) as the first argument, and a <em>function</em> that transforms the result produced by the <em>collector</em> as the second argument.</p>\n<pre><code>public static Map&lt;Double, Double&gt; groupIndenticalPerimeterWidth(ArrayList&lt;Rectangle&gt; rectangles){\n    return rectangles.stream()\n        .collect(Collectors.groupingBy(\n            Rectangle::getPerimeter,\n            Collectors.collectingAndThen(\n                Collectors.minBy(Comparator.comparingDouble(Rectangle::getWidth)),\n                result -&gt; result.map(Rectangle::getWidth).orElseThrow() // `map` transforms Optional&lt;Rectangle&gt; into Optional&lt;Double&gt; and `orElseThrow` extracts the value from the optional\n            )\n        ));\n}\n</code></pre>\n<p>Dummy <code>Rectangle</code> class:</p>\n<pre><code>public static class Rectangle {\n    private double height;\n    private double width;\n    \n    public double getPerimeter() {\n        return 2 * (height + width);\n    }\n\n    // getters\n}\n</code></pre>\n<p><em>Sidenote:</em> it's highly advisable to use Java 8 static methods when you need to define a compactor.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658005840,"creation_date":1658005840,"answer_id":73007677,"question_id":73007118,"body_markdown":"Instead of `groupingBy` with the necessity to extract an Optional you can do it easier with `toMap` with a merge function:\r\n\r\n     public static Map&lt;Double, Double&gt; groupIndenticalPerimeterWidth(List&lt;Rectangle&gt; rectangles) {\r\n        return rectangles.stream()\r\n                         .collect(Collectors.toMap(\r\n                               Rectangle::getPerimeter, Rectangle::getWidth, Math::min));\r\n    }\r\n\r\n","title":"Collectors group by characteristic and minimum value of a field of said characteristic","body":"<p>Instead of <code>groupingBy</code> with the necessity to extract an Optional you can do it easier with <code>toMap</code> with a merge function:</p>\n<pre><code> public static Map&lt;Double, Double&gt; groupIndenticalPerimeterWidth(List&lt;Rectangle&gt; rectangles) {\n    return rectangles.stream()\n                     .collect(Collectors.toMap(\n                           Rectangle::getPerimeter, Rectangle::getWidth, Math::min));\n}\n</code></pre>\n"}],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73007187,"answer_count":2,"score":1,"last_activity_date":1658005840,"creation_date":1657999976,"question_id":73007118,"body_markdown":"Title is sort of confusing but I&#39;m not sure how to explain my problem in a simple sentence.\r\n\r\nI have a homework task to group an arraylist of rectangles by length (same as perimeter in this case) using streams and collectors and to calculate minimum width for each group. I have tried the following:\r\n\r\n```\r\npublic static Map&lt;Double, Double&gt; groupIndenticalPerimeterWidth(ArrayList&lt;Rectangle&gt; rectangles){\r\n        return rectangles.stream().collect(Collectors.groupingBy(Rectangle::getLength, Collectors.minBy((rectangle1, rectangle2) -&gt; Double.compare(rectangle1.getWidth(), rectangle2.getWidth()))));\r\n    }\r\n```\r\n\r\nwhich gets me a ```Map&lt;Double, Optional&lt;Rectangle&gt;&gt;``` and I can&#39;t figure out how to get the width of minimum rectangle in the second arguement of ```Collectors.groupingBy``` instead of ```Optional&lt;Rectangle&gt;```\r\n\r\nAny help appreciated","title":"Collectors group by characteristic and minimum value of a field of said characteristic","body":"<p>Title is sort of confusing but I'm not sure how to explain my problem in a simple sentence.</p>\n<p>I have a homework task to group an arraylist of rectangles by length (same as perimeter in this case) using streams and collectors and to calculate minimum width for each group. I have tried the following:</p>\n<pre><code>public static Map&lt;Double, Double&gt; groupIndenticalPerimeterWidth(ArrayList&lt;Rectangle&gt; rectangles){\n        return rectangles.stream().collect(Collectors.groupingBy(Rectangle::getLength, Collectors.minBy((rectangle1, rectangle2) -&gt; Double.compare(rectangle1.getWidth(), rectangle2.getWidth()))));\n    }\n</code></pre>\n<p>which gets me a <code>Map&lt;Double, Optional&lt;Rectangle&gt;&gt;</code> and I can't figure out how to get the width of minimum rectangle in the second arguement of <code>Collectors.groupingBy</code> instead of <code>Optional&lt;Rectangle&gt;</code></p>\n<p>Any help appreciated</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1623501361,"post_id":67948868,"comment_id":120099791,"body_markdown":"This is very, very far from having enough information :-) Your source code has nothing, zero, to do with the error. You are getting an error from the build tool that you have set the source version to something the compiler does not understand. Probably you are using an older compiler (old JDK) that does not support Java 11.\n\nYou need to add how you are building your project. IntelliJ, Eclipse, Maven, commandline compilation or what?","body":"This is very, very far from having enough information :-) Your source code has nothing, zero, to do with the error. You are getting an error from the build tool that you have set the source version to something the compiler does not understand. Probably you are using an older compiler (old JDK) that does not support Java 11.  You need to add how you are building your project. IntelliJ, Eclipse, Maven, commandline compilation or what?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1623502369,"post_id":67948868,"comment_id":120100024,"body_markdown":"Please show how you are compiling your code. The error indicates you&#39;re using `--release 11` (or `-source 11`) in combination with `--enable-preview` on Java 15, while you can only use `--enable-preview` with `--release 15` on that Java version.","body":"Please show how you are compiling your code. The error indicates you&#39;re using <code>--release 11</code> (or <code>-source 11</code>) in combination with <code>--enable-preview</code> on Java 15, while you can only use <code>--enable-preview</code> with <code>--release 15</code> on that Java version."}],"answers":[{"tags":[],"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623610869,"creation_date":1623501726,"answer_id":67948971,"question_id":67948868,"body_markdown":"Java comes in several versions. Java 5 was released about 2004, Java 7 in 2011, Java 8 in 2014 and in recent times Java has seen a new major update about twice a year. A Java compiler can compile earlier versions, but it cannot (usually) compile stuff that has syntax for newer versions (like records in newer Java). One exception to that rule is the `--enable-preview` flag which allows it to compile stuff that was going through review, but was not finalized, at the time the major version was released.\r\n\r\nYour error means that the combination of java source version and preview flag does not make sense. This flag always only makes sense with the latest source version the compiler knows. So for JDK 15, that means source code level 15. You have set 11.\r\n\r\nA way to fix this is to remove the &quot;preview flag&quot; in the source code version settings in your build tool (Eclipse, Intellij, Maven, Gradle or whatever). As far as I can see, you only use pretty old/classic Java, so it should be buildable by almost anything &gt;= Java 5. Since you have not told us what kind of tooling you use to build your project we cannot help you with exact steps without more information.\r\n\r\nYou can read [more about the preview flag at Baeldung](https://www.baeldung.com/java-preview-features).","title":"Error:java: invalid source release 11 with --enable-preview (preview language features are only supported for release 15)","body":"<p>Java comes in several versions. Java 5 was released about 2004, Java 7 in 2011, Java 8 in 2014 and in recent times Java has seen a new major update about twice a year. A Java compiler can compile earlier versions, but it cannot (usually) compile stuff that has syntax for newer versions (like records in newer Java). One exception to that rule is the <code>--enable-preview</code> flag which allows it to compile stuff that was going through review, but was not finalized, at the time the major version was released.</p>\n<p>Your error means that the combination of java source version and preview flag does not make sense. This flag always only makes sense with the latest source version the compiler knows. So for JDK 15, that means source code level 15. You have set 11.</p>\n<p>A way to fix this is to remove the &quot;preview flag&quot; in the source code version settings in your build tool (Eclipse, Intellij, Maven, Gradle or whatever). As far as I can see, you only use pretty old/classic Java, so it should be buildable by almost anything &gt;= Java 5. Since you have not told us what kind of tooling you use to build your project we cannot help you with exact steps without more information.</p>\n<p>You can read <a href=\"https://www.baeldung.com/java-preview-features\" rel=\"nofollow noreferrer\">more about the preview flag at Baeldung</a>.</p>\n"},{"tags":[],"owner":{"account_id":18817470,"reputation":131,"user_id":13724231,"display_name":"eku-code"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658005482,"creation_date":1658005482,"answer_id":73007643,"question_id":67948868,"body_markdown":"I had this error while running unit tests. I set java 11 for all places of my project, but used openjdk-17.\r\n\r\nIn Intellij IDEA go to File &gt; Settings &gt; Build, Execution &gt; Compiler &gt; Java compiler.\r\nIn &quot;Override compiler parameters&quot; delete --enable-preview flag from the command line.\r\n","title":"Error:java: invalid source release 11 with --enable-preview (preview language features are only supported for release 15)","body":"<p>I had this error while running unit tests. I set java 11 for all places of my project, but used openjdk-17.</p>\n<p>In Intellij IDEA go to File &gt; Settings &gt; Build, Execution &gt; Compiler &gt; Java compiler.\nIn &quot;Override compiler parameters&quot; delete --enable-preview flag from the command line.</p>\n"}],"owner":{"account_id":10298336,"reputation":41,"user_id":12505805,"display_name":"antonio_oreany"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658005482,"creation_date":1623501035,"question_id":67948868,"body_markdown":"While trying to build the project, I am faced with an error: \r\n\r\n&gt; Error:java: invalid source release 11 with --enable-preview   (preview\r\n&gt; language features are only supported for release 15)\r\n\r\n\r\nHow do I solve this error?\r\n\r\n\r\n\r\n\r\n```\r\n// game template\r\nclass A_Main {\r\n    private A_World world = null;\r\n\r\n    public A_Main() {\r\n        //start the game with the space shooter asteroid game\r\n        A_Frame frame = new Asteroid_Frame();\r\n        frame.displayOnScreen();\r\n\r\n        world = new Asteroid_World();\r\n\r\n        world.setGraphicSystem(frame.getGraphicSystem());\r\n        world.setInputSystem(frame.getInputSystem());\r\n\r\n        A_GameObject.setPhysicsSystem(world.getPhysicsSystem());\r\n        A_GameObject.setWorld(world);\r\n        A_TextObject.setWorld(world);\r\n\r\n        world.init();\r\n        world.run();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new A_Main();\r\n    }\r\n}\r\n```","title":"Error:java: invalid source release 11 with --enable-preview (preview language features are only supported for release 15)","body":"<p>While trying to build the project, I am faced with an error:</p>\n<blockquote>\n<p>Error:java: invalid source release 11 with --enable-preview   (preview\nlanguage features are only supported for release 15)</p>\n</blockquote>\n<p>How do I solve this error?</p>\n<pre><code>// game template\nclass A_Main {\n    private A_World world = null;\n\n    public A_Main() {\n        //start the game with the space shooter asteroid game\n        A_Frame frame = new Asteroid_Frame();\n        frame.displayOnScreen();\n\n        world = new Asteroid_World();\n\n        world.setGraphicSystem(frame.getGraphicSystem());\n        world.setInputSystem(frame.getInputSystem());\n\n        A_GameObject.setPhysicsSystem(world.getPhysicsSystem());\n        A_GameObject.setWorld(world);\n        A_TextObject.setWorld(world);\n\n        world.init();\n        world.run();\n    }\n\n    public static void main(String[] args) {\n        new A_Main();\n    }\n}\n</code></pre>\n"},{"tags":["java","powershell","jdbc","snowflake-cloud-data-platform","oracle-sqldeveloper"],"answers":[{"tags":[],"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657904244,"creation_date":1657904244,"answer_id":72997388,"question_id":72997114,"body_markdown":"You&#39;re not going to succeed here. SQL Developer only allows specific 3rd party JDBC drivers, and Snowflake isn&#39;t one of them.\r\n\r\nSybase ASE, SQL Server, Teradata, DB2 LUW, AWS Redshift, and MySQL are all allowed. We&#39;re working on PostgreSQL for formal migration support, the driver/connections should work already. ","title":"SQL Developer - Third Party JDBC Driver Silent Configuration","body":"<p>You're not going to succeed here. SQL Developer only allows specific 3rd party JDBC drivers, and Snowflake isn't one of them.</p>\n<p>Sybase ASE, SQL Server, Teradata, DB2 LUW, AWS Redshift, and MySQL are all allowed. We're working on PostgreSQL for formal migration support, the driver/connections should work already.</p>\n"}],"owner":{"account_id":21891114,"reputation":1,"user_id":16178083,"display_name":"FutureHistory24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658005476,"creation_date":1657902765,"question_id":72997114,"body_markdown":"I am in the process of getting a third-party JDBC driver (Snowflake) configured in SQL Dev, but running into issues. I am unsure how to get paths set in Preferences &gt; Database &gt; Third Party JDBC Drivers. I noticed on a few posts that this is related to the CLASSPATH env variable, but this didn&#39;t seem to work (the field was blank in the related window, attempting to load from the Connections tab gave the error: Could not initialize class com.mysql.jdbc.Driver).\r\n\r\nI created the new connection by modifying the connections.json script in %USERPROFILE%\\AppData\\Romaing\\SQL Developer\\system*version*\\o.jdeveloper.db.connection directory. This works, as it to populates in the connections tab after completion. Currently this script is in PowerShell, apologies I do not know Oracle applications well:\r\n\r\n    $TestPath = [Environment]::GetEnvironmentVariable(&#39;CLASSPATH&#39;, &#39;Machine&#39;)\r\n    If ($TestPath.Contains(&#39;C:\\Oracle\\sqldeveloper\\jdbc\\jdbc-proxy.jar&#39;))\r\n        {\r\n            Echo &quot;Path Environment Variable already set. Skipping creation.&quot;\r\n        }\r\n    else\r\n        {\r\n            $path = [Environment]::GetEnvironmentVariable(&#39;CLASSPATH&#39;, &#39;Machine&#39;)\r\n            $newpath = $path + &#39;;C:\\Oracle\\sqldeveloper\\jdbc\\jdbc-proxy.jar&#39;\r\n            [Environment]::SetEnvironmentVariable(&quot;CLASSPATH&quot;, $newpath, &#39;Machine&#39;)\r\n\r\n        }\r\n    If ($TestPath.Contains(&#39;C:\\Oracle\\sqldeveloper\\jdbc\\snowflake-jdbc.jar&#39;))\r\n        {\r\n            Echo &quot;Path Environment Variable already set. Skipping creation.&quot;\r\n        }\r\n    else\r\n        {\r\n            $path2 = [Environment]::GetEnvironmentVariable(&#39;CLASSPATH&#39;, &#39;Machine&#39;)\r\n            $newpath2 = $path2 + &#39;;C:\\Oracle\\sqldeveloper\\jdbc\\snowflake-jdbc.jar&#39;\r\n            [Environment]::SetEnvironmentVariable(&quot;CLASSPATH&quot;, $newpath2, &#39;Machine&#39;)\r\n\r\n        }\r\n\r\nHere is a link to the process I am attempting to accomplish (different driver): https://www.geeksforgeeks.org/how-to-install-a-jdbc-driver-in-oracle-sql-developer/\r\n","title":"SQL Developer - Third Party JDBC Driver Silent Configuration","body":"<p>I am in the process of getting a third-party JDBC driver (Snowflake) configured in SQL Dev, but running into issues. I am unsure how to get paths set in Preferences &gt; Database &gt; Third Party JDBC Drivers. I noticed on a few posts that this is related to the CLASSPATH env variable, but this didn't seem to work (the field was blank in the related window, attempting to load from the Connections tab gave the error: Could not initialize class com.mysql.jdbc.Driver).</p>\n<p>I created the new connection by modifying the connections.json script in %USERPROFILE%\\AppData\\Romaing\\SQL Developer\\system<em>version</em>\\o.jdeveloper.db.connection directory. This works, as it to populates in the connections tab after completion. Currently this script is in PowerShell, apologies I do not know Oracle applications well:</p>\n<pre><code>$TestPath = [Environment]::GetEnvironmentVariable('CLASSPATH', 'Machine')\nIf ($TestPath.Contains('C:\\Oracle\\sqldeveloper\\jdbc\\jdbc-proxy.jar'))\n    {\n        Echo &quot;Path Environment Variable already set. Skipping creation.&quot;\n    }\nelse\n    {\n        $path = [Environment]::GetEnvironmentVariable('CLASSPATH', 'Machine')\n        $newpath = $path + ';C:\\Oracle\\sqldeveloper\\jdbc\\jdbc-proxy.jar'\n        [Environment]::SetEnvironmentVariable(&quot;CLASSPATH&quot;, $newpath, 'Machine')\n\n    }\nIf ($TestPath.Contains('C:\\Oracle\\sqldeveloper\\jdbc\\snowflake-jdbc.jar'))\n    {\n        Echo &quot;Path Environment Variable already set. Skipping creation.&quot;\n    }\nelse\n    {\n        $path2 = [Environment]::GetEnvironmentVariable('CLASSPATH', 'Machine')\n        $newpath2 = $path2 + ';C:\\Oracle\\sqldeveloper\\jdbc\\snowflake-jdbc.jar'\n        [Environment]::SetEnvironmentVariable(&quot;CLASSPATH&quot;, $newpath2, 'Machine')\n\n    }\n</code></pre>\n<p>Here is a link to the process I am attempting to accomplish (different driver): <a href=\"https://www.geeksforgeeks.org/how-to-install-a-jdbc-driver-in-oracle-sql-developer/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-install-a-jdbc-driver-in-oracle-sql-developer/</a></p>\n"},{"tags":["java","spring-boot","checkmarx"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1657152417,"post_id":72890834,"comment_id":128745033,"body_markdown":"You don&#39;t understand what log forging is, or you don&#39;t understand why Checkmarx thinks it might happen here even though you use `escapeJava()`? What is `escapeJava()`? A link to docs might help on that front.","body":"You don&#39;t understand what log forging is, or you don&#39;t understand why Checkmarx thinks it might happen here even though you use <code>escapeJava()</code>? What is <code>escapeJava()</code>? A link to docs might help on that front."},{"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"score":0,"creation_date":1657183567,"post_id":72890834,"comment_id":128751432,"body_markdown":"@ erikson as i am dealing this first time form the checkmarx report i have a little that log forging is where the sensitive information are recorded with logs that can be used by  attacker. But i am not sure how to resolve this scenario without changing the log...any help would be appreciated,","body":"@ erikson as i am dealing this first time form the checkmarx report i have a little that log forging is where the sensitive information are recorded with logs that can be used by  attacker. But i am not sure how to resolve this scenario without changing the log...any help would be appreciated,"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1657208332,"post_id":72890834,"comment_id":128761483,"body_markdown":"No, log forging is where an attacker controls what is written to the log file. They can alter the logging to hide their activity, or that can write malicious code into the log and then arrange for it to be executed.","body":"No, log forging is where an attacker controls what is written to the log file. They can alter the logging to hide their activity, or that can write malicious code into the log and then arrange for it to be executed."}],"answers":[{"tags":[],"owner":{"account_id":7742650,"reputation":98,"user_id":5861751,"display_name":"Zvi Rosenfeld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657432275,"creation_date":1657432275,"answer_id":72926408,"question_id":72890834,"body_markdown":"Log Forging happens when an attacker can control a string that&#39;s written to the log (the &quot;correlationId&quot; in this case).\r\nThere are 2 dangers with this:\r\n1) They can hide their tracks by changing the log (say, by adding a new line that says that they logged out).\r\n2) Many times logs are loaded by monitoring tools. The attacker can inject a command or XSS to the log, hoping that the tools are vulnerable, and will run them.\r\n\r\nYou can read more about it [here](https://owasp.org/www-community/attacks/Log_Injection).\r\n\r\nIn your case, the best solution would probably be to validate that the correlationId is in the expected format (assuming that the correlationId formant doesn&#39;t contain any specials characters. If it dose you should disallow them).","title":"Showing Severity issue in Checkmarx 9 report for for Log forging","body":"<p>Log Forging happens when an attacker can control a string that's written to the log (the &quot;correlationId&quot; in this case).\nThere are 2 dangers with this:</p>\n<ol>\n<li>They can hide their tracks by changing the log (say, by adding a new line that says that they logged out).</li>\n<li>Many times logs are loaded by monitoring tools. The attacker can inject a command or XSS to the log, hoping that the tools are vulnerable, and will run them.</li>\n</ol>\n<p>You can read more about it <a href=\"https://owasp.org/www-community/attacks/Log_Injection\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In your case, the best solution would probably be to validate that the correlationId is in the expected format (assuming that the correlationId formant doesn't contain any specials characters. If it dose you should disallow them).</p>\n"},{"tags":[],"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658005443,"creation_date":1657812941,"answer_id":72983150,"question_id":72890834,"body_markdown":"Sorry on late answer on this..I have made many attempts to resolve this for checkmarks report here below.\r\n\r\n 1. `HtmlUtils.htmlEscape`  -&gt; not worked\r\n 2. `StringEscapeUtils.escapeJava` -&gt; not worked\r\n\r\nfinally\r\n\r\n 1. `String cleanCorrelationId = correlationId.replace(&#39;\\t&#39;, &#39;_&#39;).replace(&#39;\\n&#39;, &#39;_&#39;).replace(&#39;\\r&#39;, &#39;_&#39;);`\r\n\r\nand placed &quot;cleanCorrelationId&quot; in logging and `LogForging` issue resolved from checkmarks report.\r\n\r\nMany thanks @Zvi Rosenfeld and @erickson\r\n\r\n","title":"Showing Severity issue in Checkmarx 9 report for for Log forging","body":"<p>Sorry on late answer on this..I have made many attempts to resolve this for checkmarks report here below.</p>\n<ol>\n<li><code>HtmlUtils.htmlEscape</code>  -&gt; not worked</li>\n<li><code>StringEscapeUtils.escapeJava</code> -&gt; not worked</li>\n</ol>\n<p>finally</p>\n<ol>\n<li><code>String cleanCorrelationId = correlationId.replace('\\t', '_').replace('\\n', '_').replace('\\r', '_');</code></li>\n</ol>\n<p>and placed &quot;cleanCorrelationId&quot; in logging and <code>LogForging</code> issue resolved from checkmarks report.</p>\n<p>Many thanks @Zvi Rosenfeld and @erickson</p>\n"}],"owner":{"account_id":16400754,"reputation":21,"user_id":11846802,"display_name":"Maveric"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72983150,"answer_count":2,"score":0,"last_activity_date":1658005443,"creation_date":1657150162,"question_id":72890834,"body_markdown":"**This below is my code**\r\n\r\n    private String getCorrelationId(HttpServletRequest request) {\r\n\t\tString correlationId = null;\t\t\r\n\t\tString valuesList = request.getHeader(CORRELATION_ID_HEADER);\t\t\r\n\t\tString valueLists = StringEscapeUtils.escapeJava(valuesList);\r\n\t\tif (valueLists != null &amp;&amp; !valueLists.isEmpty()) {\r\n\t\t\tcorrelationId = valueLists;\r\n\t\t}\r\n\t\treturn correlationId;\r\n\t}\r\n\r\n\r\n\r\n    private void startTransaction(HttpServletRequest request, String serviceName, Object... args) {\r\n\t\tString correlationId = getCorrelationId(request);\r\n\t\tString correlationIds = StringEscapeUtils.escapeJava(correlationId);\t\t\t\t\t\t\r\n\t\tif (correlationIds == null || correlationIds.isEmpty()) {\r\n\t\t\tlogger.info(LOG_SERVICE_TYPE + serviceName + args);\r\n\t\t} else {\r\n\t\t\tlogger.error(LOG_SERVICE_TYPE , serviceName , correlationIds , args);\r\n\t\t}\r\n\t}\r\n\r\n*Error Received*\r\n\r\n&gt; Method `getCorrelationId` gets user input from element `getHeader`. This element’s value flows through the code without being properly sanitized or validated, and is eventually used in writing an audit log in `startTransaction`.\r\nThis may enable **Log Forging**.\r\n\r\nI have gone through some google links but not able to understand. any help would be appreciated\r\n\r\n","title":"Showing Severity issue in Checkmarx 9 report for for Log forging","body":"<p><strong>This below is my code</strong></p>\n<pre><code>private String getCorrelationId(HttpServletRequest request) {\n    String correlationId = null;        \n    String valuesList = request.getHeader(CORRELATION_ID_HEADER);       \n    String valueLists = StringEscapeUtils.escapeJava(valuesList);\n    if (valueLists != null &amp;&amp; !valueLists.isEmpty()) {\n        correlationId = valueLists;\n    }\n    return correlationId;\n}\n\n\n\nprivate void startTransaction(HttpServletRequest request, String serviceName, Object... args) {\n    String correlationId = getCorrelationId(request);\n    String correlationIds = StringEscapeUtils.escapeJava(correlationId);                        \n    if (correlationIds == null || correlationIds.isEmpty()) {\n        logger.info(LOG_SERVICE_TYPE + serviceName + args);\n    } else {\n        logger.error(LOG_SERVICE_TYPE , serviceName , correlationIds , args);\n    }\n}\n</code></pre>\n<p><em>Error Received</em></p>\n<blockquote>\n<p>Method <code>getCorrelationId</code> gets user input from element <code>getHeader</code>. This element’s value flows through the code without being properly sanitized or validated, and is eventually used in writing an audit log in <code>startTransaction</code>.\nThis may enable <strong>Log Forging</strong>.</p>\n</blockquote>\n<p>I have gone through some google links but not able to understand. any help would be appreciated</p>\n"},{"tags":["java","opengl","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1658009597,"post_id":73007618,"comment_id":128946379,"body_markdown":"If your blocks are opaque, you should just drawn them and let the GPU take care of fragment culling. That’s what the GPU is optimized for and what the CPU would be really slow at. About 20 years ago, games used the BSP technique for culling what couldn’t be seen, but that was for enclosed areas and you would have to code that on its own since it’s definitely not built into libGDX.","body":"If your blocks are opaque, you should just drawn them and let the GPU take care of fragment culling. That’s what the GPU is optimized for and what the CPU would be really slow at. About 20 years ago, games used the BSP technique for culling what couldn’t be seen, but that was for enclosed areas and you would have to code that on its own since it’s definitely not built into libGDX."},{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":0,"creation_date":1658010869,"post_id":73007618,"comment_id":128946542,"body_markdown":"Before you think about culling, you should probably stop rendering full quads and pre-calculate which faces are &quot;outside&quot; faces. Faces between two cubes will never be visible and can be left away. That alone should get you down to a reasonable number of faces to render. If you don&#39;t already do this: Batch together all faces into a single buffer and render them with one draw call instead of one call per face/cube.","body":"Before you think about culling, you should probably stop rendering full quads and pre-calculate which faces are &quot;outside&quot; faces. Faces between two cubes will never be visible and can be left away. That alone should get you down to a reasonable number of faces to render. If you don&#39;t already do this: Batch together all faces into a single buffer and render them with one draw call instead of one call per face/cube."},{"owner":{"account_id":14469644,"reputation":970,"user_id":10452046,"display_name":"Hihikomori"},"score":0,"creation_date":1658050249,"post_id":73007618,"comment_id":128950888,"body_markdown":"Since you got blocks, you can write a compute shader that generates the vertex buffer only for those blocks that you need to render. Would that be faster, that is the question.","body":"Since you got blocks, you can write a compute shader that generates the vertex buffer only for those blocks that you need to render. Would that be faster, that is the question."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1658152525,"post_id":73007618,"comment_id":128973390,"body_markdown":"The way that games like Minecraft work is they don&#39;t even put the blocked faces in the vertex buffer. There are just way too many faces to render them all. But most faces are blocked.","body":"The way that games like Minecraft work is they don&#39;t even put the blocked faces in the vertex buffer. There are just way too many faces to render them all. But most faces are blocked."}],"owner":{"account_id":25791285,"reputation":26,"user_id":19563651,"display_name":"MiTask"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658005086,"creation_date":1658005086,"question_id":73007618,"body_markdown":"So i have a voxel game like minecraft made using LibGDX and i have 65k blocks on my screen and all of them renders together but I want only blocks that I can see to render, and blocks that I can&#39;t directly see - don&#39;t render\r\n\r\nI&#39;ve already tried to use frustum but it only decreased rendering blocks from 65k to about 30k","title":"LibGDX 3D how to stop objects from rendering if between those objects and camera already some object","body":"<p>So i have a voxel game like minecraft made using LibGDX and i have 65k blocks on my screen and all of them renders together but I want only blocks that I can see to render, and blocks that I can't directly see - don't render</p>\n<p>I've already tried to use frustum but it only decreased rendering blocks from 65k to about 30k</p>\n"},{"tags":["java","quickfix","quickfixj","quickfixn"],"answers":[{"tags":[],"owner":{"account_id":5985634,"reputation":443,"user_id":4703291,"display_name":"Oleg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658004853,"creation_date":1658004853,"answer_id":73007603,"question_id":71246309,"body_markdown":"QuickFIX/J use XML files as Dictionary.\r\nTo parse message you should create dictionary and use it. The code looks like:\r\n\r\n    DataDictionary dataDictionary = new DataDictionary(&quot;FIX44.xml&quot;);\r\n    Message message = new Message();\r\n    message.fromString(text, dataDictionary, false);\r\n\r\nStandard dictionary stored in quickfixj jars resources. For example, dictionary for FIX 4.4 stores in [https://github.com/quickfix-j/quickfixj/blob/master/quickfixj-messages/quickfixj-messages-fix44/src/main/resources/FIX44.xml][1]\r\n\r\nFor custom dictionary you should create a XML file with all additional fields and groups.\r\nYou could copy the standard file, rename it, add group and use like: `DataDictionary dataDictionary = new DataDictionary(&quot;/var/my_dict/myFIX44.xml&quot;);`\r\n\r\n\r\n  [1]: https://github.com/quickfix-j/quickfixj/blob/master/quickfixj-messages/quickfixj-messages-fix44/src/main/resources/FIX44.xml","title":"QuickFIX/J Get fields and groups for customized data dictionary","body":"<p>QuickFIX/J use XML files as Dictionary.\nTo parse message you should create dictionary and use it. The code looks like:</p>\n<pre><code>DataDictionary dataDictionary = new DataDictionary(&quot;FIX44.xml&quot;);\nMessage message = new Message();\nmessage.fromString(text, dataDictionary, false);\n</code></pre>\n<p>Standard dictionary stored in quickfixj jars resources. For example, dictionary for FIX 4.4 stores in <a href=\"https://github.com/quickfix-j/quickfixj/blob/master/quickfixj-messages/quickfixj-messages-fix44/src/main/resources/FIX44.xml\" rel=\"nofollow noreferrer\">https://github.com/quickfix-j/quickfixj/blob/master/quickfixj-messages/quickfixj-messages-fix44/src/main/resources/FIX44.xml</a></p>\n<p>For custom dictionary you should create a XML file with all additional fields and groups.\nYou could copy the standard file, rename it, add group and use like: <code>DataDictionary dataDictionary = new DataDictionary(&quot;/var/my_dict/myFIX44.xml&quot;);</code></p>\n"}],"owner":{"account_id":23455475,"reputation":21,"user_id":17511031,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658004853,"creation_date":1645669262,"question_id":71246309,"body_markdown":"**How can I get fields and groups using QuickFIX/J for customized data dictionary?** \r\n\r\nI receive market data transmitted in customized MarketDataSnapshotFullRefresh (type W) FIX messages. As I understood, I can&#39;t use the crack method for this. I&#39;m not quite familiar with Java and QuickFIX/J, but when I use QuickFIX/n and Python, I can define classes for fields and groups like that:\r\n```\r\nclass CustomField(fix.StringField):\r\n    tag_number = *SomeTagNumber*\r\n\r\n    def __init__(self, data=None):\r\n        args = (self.tag_number,) if data is None else (self.tag_number, data)\r\n        super(CustomField, self).__init__(*args)\r\n\r\n    def getValue(self, message: object) -&gt; str:\r\n        try:\r\n            if message.getField(self.tag_number):\r\n                return message.getField(self.tag_number)\r\n        except fix.FieldNotFound:  \r\n            return None\r\n        else: raise\r\n\r\nclass CustomGroupField(fix.StringField):\r\n    tag_number = *SomeTagNumber*\r\n\r\n    def __init__(self, data=None):\r\n        args = (self.tag_number,) if data is None else (self.tag_number, data)\r\n        super(CustomGroupField, self).__init__(*args)\r\n\r\n    def getValue(self, message: object) -&gt; str:\r\n        try:\r\n            if message.getField(self.tag_number):\r\n                return message.getField(self.tag_number)\r\n        except fix.FieldNotFound:  \r\n            return None\r\n        else: raise\r\n\r\nclass XXXGroup(fix.Group):\r\n    def __init__(self):\r\n        order = fix.IntArray(4)\r\n        order[0] = No_XXX_UMD_Entries.tag_number    # This is the NoGroup field\r\n        order[1] = XXX_UMD_Entry_ID.tag_number      # This is the field in the repeating group\r\n        order[2] = CustomGroupField.tag_number\r\n        order[3] = 0\r\n        # fix.Group.__init__(self, order[0], order[1], order)\r\n        args = (order[0], order[1], order)\r\n        super(XXXGroup, self).__init__(*args)\r\n\r\n    def getValue(self, field: object) -&gt; str:\r\n        try:\r\n           if group.getField(tag_number):\r\n                return group.getField(tag_number)\r\n        except fix.FieldNotFound:  \r\n            return None\r\n        else: raise\r\n```\r\nAnd then I can get value inside the **fromApp(self, message, sessionID)** method like this:\r\n```\r\n# Get value of the field\r\nsome_custom_field = CustomField().getValue(message)\r\n\r\n# Get value in the group\r\ngroup = XXXGroup()\r\n    for idx in range(1, no_entries+1):\r\n        message.getGroup(idx,group)\r\n        custom_gr_field = group.getValue(CustomGroupField)\r\n```\r\n\r\nHow can I achieve the same logic in Java using QuickFIX/J? Or maybe there is a better way to work with a custom data dictionary in Java? Maybe you can refer to some examples? ","title":"QuickFIX/J Get fields and groups for customized data dictionary","body":"<p><strong>How can I get fields and groups using QuickFIX/J for customized data dictionary?</strong></p>\n<p>I receive market data transmitted in customized MarketDataSnapshotFullRefresh (type W) FIX messages. As I understood, I can't use the crack method for this. I'm not quite familiar with Java and QuickFIX/J, but when I use QuickFIX/n and Python, I can define classes for fields and groups like that:</p>\n<pre><code>class CustomField(fix.StringField):\n    tag_number = *SomeTagNumber*\n\n    def __init__(self, data=None):\n        args = (self.tag_number,) if data is None else (self.tag_number, data)\n        super(CustomField, self).__init__(*args)\n\n    def getValue(self, message: object) -&gt; str:\n        try:\n            if message.getField(self.tag_number):\n                return message.getField(self.tag_number)\n        except fix.FieldNotFound:  \n            return None\n        else: raise\n\nclass CustomGroupField(fix.StringField):\n    tag_number = *SomeTagNumber*\n\n    def __init__(self, data=None):\n        args = (self.tag_number,) if data is None else (self.tag_number, data)\n        super(CustomGroupField, self).__init__(*args)\n\n    def getValue(self, message: object) -&gt; str:\n        try:\n            if message.getField(self.tag_number):\n                return message.getField(self.tag_number)\n        except fix.FieldNotFound:  \n            return None\n        else: raise\n\nclass XXXGroup(fix.Group):\n    def __init__(self):\n        order = fix.IntArray(4)\n        order[0] = No_XXX_UMD_Entries.tag_number    # This is the NoGroup field\n        order[1] = XXX_UMD_Entry_ID.tag_number      # This is the field in the repeating group\n        order[2] = CustomGroupField.tag_number\n        order[3] = 0\n        # fix.Group.__init__(self, order[0], order[1], order)\n        args = (order[0], order[1], order)\n        super(XXXGroup, self).__init__(*args)\n\n    def getValue(self, field: object) -&gt; str:\n        try:\n           if group.getField(tag_number):\n                return group.getField(tag_number)\n        except fix.FieldNotFound:  \n            return None\n        else: raise\n</code></pre>\n<p>And then I can get value inside the <strong>fromApp(self, message, sessionID)</strong> method like this:</p>\n<pre><code># Get value of the field\nsome_custom_field = CustomField().getValue(message)\n\n# Get value in the group\ngroup = XXXGroup()\n    for idx in range(1, no_entries+1):\n        message.getGroup(idx,group)\n        custom_gr_field = group.getValue(CustomGroupField)\n</code></pre>\n<p>How can I achieve the same logic in Java using QuickFIX/J? Or maybe there is a better way to work with a custom data dictionary in Java? Maybe you can refer to some examples?</p>\n"},{"tags":["java","function","parsing","automata-theory"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658001541,"creation_date":1658001541,"answer_id":73007270,"question_id":73007010,"body_markdown":"Parsing a source code into an some abstract model is quite complex topic, depending on the language complexity. \r\nBut first step is usually tokenization, where you read one character at a time and detect full tokens (like variable names, function names, operators, literals etc).\r\nSince you presented only very limited scope for the problem , you have very small set of tokens:\r\n * name of a function\r\n * `(` and `)` to indicate method call\r\n * `,` to separate arguments\r\n * numbers\r\n\r\nReading one symbol at the time, you should be able to very easily detect when one token ends and the next one begins. Also your tokens are very distinct (i.e. you don&#39;t have to differentiate function name from variable name), you can very easily categorize them. \r\nOnce you have a token, you know the grammar (you have only function calls), you can easily build a syntax tree (where at the root you have top level function call with its arguments being children nodes). \r\nFrom that structure you can easily fetch whichever parts you wish. \r\n\r\nIf you are more interested in how it works in the `javac` compiler, you can always check out its source code (it&#39;s open source after all):\r\n\r\n- https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/parser/JavacParser.java\r\n- https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/parser/JavaTokenizer.java\r\n\r\nHowever, that may be quite a long read.","title":"Get parameters of nested functions","body":"<p>Parsing a source code into an some abstract model is quite complex topic, depending on the language complexity.\nBut first step is usually tokenization, where you read one character at a time and detect full tokens (like variable names, function names, operators, literals etc).\nSince you presented only very limited scope for the problem , you have very small set of tokens:</p>\n<ul>\n<li>name of a function</li>\n<li><code>(</code> and <code>)</code> to indicate method call</li>\n<li><code>,</code> to separate arguments</li>\n<li>numbers</li>\n</ul>\n<p>Reading one symbol at the time, you should be able to very easily detect when one token ends and the next one begins. Also your tokens are very distinct (i.e. you don't have to differentiate function name from variable name), you can very easily categorize them.\nOnce you have a token, you know the grammar (you have only function calls), you can easily build a syntax tree (where at the root you have top level function call with its arguments being children nodes).\nFrom that structure you can easily fetch whichever parts you wish.</p>\n<p>If you are more interested in how it works in the <code>javac</code> compiler, you can always check out its source code (it's open source after all):</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/parser/JavacParser.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/parser/JavacParser.java</a></li>\n<li><a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/parser/JavaTokenizer.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/parser/JavaTokenizer.java</a></li>\n</ul>\n<p>However, that may be quite a long read.</p>\n"},{"tags":[],"owner":{"account_id":24354925,"reputation":21,"user_id":18290279,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658002737,"creation_date":1658002737,"answer_id":73007403,"question_id":73007010,"body_markdown":"Finally found a method that works:\r\n\r\n\r\n```\r\npublic List&lt;String&gt; parseArgs(String l){\r\n        int startIdx = l.indexOf(&quot;(&quot;) + 1;\r\n        int endIdx = l.lastIndexOf(&quot;)&quot;) - 1;\r\n        int count = 0;\r\n        int argIdx = startIdx;\r\n        List&lt;String&gt; args = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = startIdx; i &lt; endIdx; i++) {\r\n            if (l.charAt(i) == &#39;(&#39;)\r\n                count -= 1;\r\n            else if (l.charAt(i) == &#39;)&#39;){\r\n                count += 1;\r\n            }\r\n            else if (l.charAt(i) == &#39;,&#39; &amp;&amp; count == 0){\r\n                args.add(l.substring(argIdx, i).trim());\r\n                argIdx = i + 1;\r\n            }\r\n        }\r\n        args.add(l.substring(argIdx, endIdx + 1).trim());\r\n        return args;\r\n    }\r\n```\r\n\r\n    String l = &quot;max(sum(1, max(1,2,sum(2,5))), 3, 5, mult(3,3))&quot;;\r\n\r\n    parseArgs(l).forEach(System.out::println);\r\n\r\n    //Prints \r\n    sum(1, max(1,2,sum(2,5)))\r\n    3\r\n    5\r\n    mult(3,3)","title":"Get parameters of nested functions","body":"<p>Finally found a method that works:</p>\n<pre><code>public List&lt;String&gt; parseArgs(String l){\n        int startIdx = l.indexOf(&quot;(&quot;) + 1;\n        int endIdx = l.lastIndexOf(&quot;)&quot;) - 1;\n        int count = 0;\n        int argIdx = startIdx;\n        List&lt;String&gt; args = new ArrayList&lt;&gt;();\n\n        for (int i = startIdx; i &lt; endIdx; i++) {\n            if (l.charAt(i) == '(')\n                count -= 1;\n            else if (l.charAt(i) == ')'){\n                count += 1;\n            }\n            else if (l.charAt(i) == ',' &amp;&amp; count == 0){\n                args.add(l.substring(argIdx, i).trim());\n                argIdx = i + 1;\n            }\n        }\n        args.add(l.substring(argIdx, endIdx + 1).trim());\n        return args;\n    }\n</code></pre>\n<pre><code>String l = &quot;max(sum(1, max(1,2,sum(2,5))), 3, 5, mult(3,3))&quot;;\n\nparseArgs(l).forEach(System.out::println);\n\n//Prints \nsum(1, max(1,2,sum(2,5)))\n3\n5\nmult(3,3)\n</code></pre>\n"}],"owner":{"account_id":24354925,"reputation":21,"user_id":18290279,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658002737,"creation_date":1657998948,"question_id":73007010,"body_markdown":"I am trying to implement a parser in Java to extract the arguments of some functions.\r\n\r\nWhen I have a function like:\r\n\r\n    max(1, 2, 3)\r\n\r\nI just simply can use a Regular Expresion to extract the args.\r\n\r\nBut all my functions are not like that. If I have some nested function, eg:\r\n\r\n    max(sum(1, max(1,2,sum(2,5)), 3, 5, mult(3,3))\r\n\r\nI would like to obtain:\r\n\r\n    sum(1, max(1,2,sum(2,5))\r\n    3\r\n    5\r\n    mult(3,3)\r\n\r\nI tried using a Regular Expression, but I asume the language is not regular. Another approach was splliting by ```&#39;,&#39;```, but did not work as well.\r\n\r\nIs there any method for extracting the arguments of a function? I do not really know how this type of problem can be solved since there is no a pattern to use for extracting the arguments.\r\n\r\nAny help or insight would be really appreciated. Thanks!!","title":"Get parameters of nested functions","body":"<p>I am trying to implement a parser in Java to extract the arguments of some functions.</p>\n<p>When I have a function like:</p>\n<pre><code>max(1, 2, 3)\n</code></pre>\n<p>I just simply can use a Regular Expresion to extract the args.</p>\n<p>But all my functions are not like that. If I have some nested function, eg:</p>\n<pre><code>max(sum(1, max(1,2,sum(2,5)), 3, 5, mult(3,3))\n</code></pre>\n<p>I would like to obtain:</p>\n<pre><code>sum(1, max(1,2,sum(2,5))\n3\n5\nmult(3,3)\n</code></pre>\n<p>I tried using a Regular Expression, but I asume the language is not regular. Another approach was splliting by <code>','</code>, but did not work as well.</p>\n<p>Is there any method for extracting the arguments of a function? I do not really know how this type of problem can be solved since there is no a pattern to use for extracting the arguments.</p>\n<p>Any help or insight would be really appreciated. Thanks!!</p>\n"},{"tags":["java","maven","hive"],"comments":[{"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"score":0,"creation_date":1657998767,"post_id":73006168,"comment_id":128944642,"body_markdown":"Have you included the other libraries as dependencies in your project? I suspect they might be related dependencies.","body":"Have you included the other libraries as dependencies in your project? I suspect they might be related dependencies."}],"answers":[{"tags":[],"owner":{"account_id":2579581,"reputation":761,"user_id":2236549,"accept_rate":29,"display_name":"Subha Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657997950,"creation_date":1657997950,"answer_id":73006919,"question_id":73006168,"body_markdown":"Right-click on the project. Go to Maven Update project, then check the above option “**Force update of Snapshot/Releases**&quot; click OK in Eclipse. this clears all errors.","title":"Maven dependancy for hive jdbc can not be resolved","body":"<p>Right-click on the project. Go to Maven Update project, then check the above option “<strong>Force update of Snapshot/Releases</strong>&quot; click OK in Eclipse. this clears all errors.</p>\n"}],"owner":{"account_id":4528199,"reputation":367,"user_id":3679431,"accept_rate":50,"display_name":"ArefehTam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658002377,"creation_date":1657991038,"question_id":73006168,"body_markdown":"I want to connect to hive database using `org.apache.hive.jdbc.HiveDriver` driver and added dependancy in pom.xml file:\r\n\r\nDoes any dependencies here have conflict with hive-jdbc?","title":"Maven dependancy for hive jdbc can not be resolved","body":"<p>I want to connect to hive database using <code>org.apache.hive.jdbc.HiveDriver</code> driver and added dependancy in pom.xml file:</p>\n<p>Does any dependencies here have conflict with hive-jdbc?</p>\n"},{"tags":["java","algorithm","recursion"],"answers":[{"tags":[],"owner":{"account_id":25697847,"reputation":41,"user_id":19458281,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657473520,"creation_date":1657473468,"answer_id":72930440,"question_id":72930160,"body_markdown":"You only need to memoize dp[index] instead of calling f(index, currSum).\r\n\r\nTake for example present arr.length = 5, k = 2\r\nFor index-2 you need wether index 3 or 4 gives better points to you irrespective of your present point.\r\nBetter way would be :\r\n\r\n    class Solution {\r\n         static int[] dp;\r\n        static int min= Integer.MIN_VALUE;\r\n        public int maxResult(int[] nums, int k) {\r\n            \r\n            dp=new int[nums.length];\r\n            Arrays.fill(dp,min);\r\n           \r\n            return max(nums,0,k,0);\r\n        }\r\n        \r\n        public int max(int [] nums, int ind, int k, int curSum)\r\n        {\r\n            \r\n            // base-case\r\n            if(ind==nums.length-1)\r\n                return curSum+nums[ind];\r\n           \r\n           // if already memoized\r\n           if(dp[ind]!=min)\r\n               return dp[ind] + curSum;\r\n            \r\n           // if not memoized, calculate value now\r\n            int max=Integer.MIN_VALUE;\r\n            \r\n            for(int i=ind+1;i&lt;=Math.min(nums.length-1,ind+k);i++)\r\n              max=Math.max(max, max(nums,i,k,nums[ind]);\r\n            \r\n            // memoize here \r\n            dp[ind] = max\r\n\r\n            return dp[ind] + curSum;\r\n            \r\n        }\r\n    }","title":"What mistake am I making while memoizing this solution for Leetcode problem jump game 4","body":"<p>You only need to memoize dp[index] instead of calling f(index, currSum).</p>\n<p>Take for example present arr.length = 5, k = 2\nFor index-2 you need wether index 3 or 4 gives better points to you irrespective of your present point.\nBetter way would be :</p>\n<pre><code>class Solution {\n     static int[] dp;\n    static int min= Integer.MIN_VALUE;\n    public int maxResult(int[] nums, int k) {\n        \n        dp=new int[nums.length];\n        Arrays.fill(dp,min);\n       \n        return max(nums,0,k,0);\n    }\n    \n    public int max(int [] nums, int ind, int k, int curSum)\n    {\n        \n        // base-case\n        if(ind==nums.length-1)\n            return curSum+nums[ind];\n       \n       // if already memoized\n       if(dp[ind]!=min)\n           return dp[ind] + curSum;\n        \n       // if not memoized, calculate value now\n        int max=Integer.MIN_VALUE;\n        \n        for(int i=ind+1;i&lt;=Math.min(nums.length-1,ind+k);i++)\n          max=Math.max(max, max(nums,i,k,nums[ind]);\n        \n        // memoize here \n        dp[ind] = max\n\n        return dp[ind] + curSum;\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22489568,"reputation":85,"user_id":16687488,"display_name":"BosssMan861"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72930440,"answer_count":1,"score":-1,"last_activity_date":1658002246,"creation_date":1657471034,"question_id":72930160,"body_markdown":"So the question is\r\nYou are given a 0-indexed integer array nums and an integer k.\r\n\r\nYou are initially standing at index 0. In one move, you can jump at most k steps forward without going outside the boundaries of the array. That is, you can jump from index i to any index in the range [i + 1, min(n - 1, i + k)] inclusive.\r\n\r\nYou want to reach the last index of the array (index n - 1). Your score is the sum of all nums[j] for each index j you visited in the array.\r\n\r\nReturn the maximum score you can get.\r\n\r\n \r\n\r\nExample 1:\r\n\r\nInput: nums = [1,-1,-2,4,-7,3], k = 2\r\nOutput: 7\r\nExplanation: You can choose your jumps forming the subsequence [1,-1,4,3] (underlined above). The sum is 7.\r\n\r\n\r\n\r\nI wrote a recursive solution in which we explore all the possibilies . If the function is called at index ind , then the value at index ind is added to a variable curSum for the next function call.\r\nThe base condition is when we reach the last index , we will return curSum+value of last index.\r\n\r\n\r\n\r\nHere is the code:\r\n\r\n```\r\nclass Solution {\r\n    \r\n    static int min= Integer.MIN_VALUE;\r\n    \r\n    public int maxResult(int[] nums, int k) {\r\n        \r\n     return max(nums,0,k,0);\r\n    }\r\n    \r\n    public int max(int [] nums, int ind, int k, int curSum)\r\n    {  \r\n        if(ind==nums.length-1)\r\n            return curSum+nums[ind];\r\n   \r\n        int max=Integer.MIN_VALUE;\r\n        \r\n        \r\n        for(int i=ind+1;i&lt;=Math.min(nums.length-1,ind+k);i++)\r\n         max=Math.max(max, max(nums,i,k,curSum+nums[ind]));\r\n         \r\n        return max;\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nCode works fine except the exponential complexity ofcourse.\r\n\r\nI tried memoizing it as\r\n\r\n```\r\nclass Solution {\r\n     static int[] dp;\r\n    static int min= Integer.MIN_VALUE;\r\n    public int maxResult(int[] nums, int k) {\r\n        \r\n        dp=new int[nums.length];\r\n        Arrays.fill(dp,min);\r\n       \r\n        return max(nums,0,k,0);\r\n    }\r\n    \r\n    public int max(int [] nums, int ind, int k, int curSum)\r\n    {\r\n        \r\n        if(ind==nums.length-1)\r\n            return curSum+nums[ind];\r\n            \r\n       if(dp[ind]!=min)\r\n           return dp[ind];\r\n        \r\n        int max=Integer.MIN_VALUE;\r\n        \r\n        for(int i=ind+1;i&lt;=Math.min(nums.length-1,ind+k);i++)\r\n          max=Math.max(max, max(nums,i,k,curSum+nums[ind]));\r\n        \r\n        return dp[ind]=max;\r\n        \r\n    }\r\n}\r\n```\r\n\r\nBut this solution gives the wrong max everytime and I am not quite able to figure out why.\r\nAny hints will be appreciated.\r\n\r\nThanks\r\n\r\n","title":"What mistake am I making while memoizing this solution for Leetcode problem jump game 4","body":"<p>So the question is\nYou are given a 0-indexed integer array nums and an integer k.</p>\n<p>You are initially standing at index 0. In one move, you can jump at most k steps forward without going outside the boundaries of the array. That is, you can jump from index i to any index in the range [i + 1, min(n - 1, i + k)] inclusive.</p>\n<p>You want to reach the last index of the array (index n - 1). Your score is the sum of all nums[j] for each index j you visited in the array.</p>\n<p>Return the maximum score you can get.</p>\n<p>Example 1:</p>\n<p>Input: nums = [1,-1,-2,4,-7,3], k = 2\nOutput: 7\nExplanation: You can choose your jumps forming the subsequence [1,-1,4,3] (underlined above). The sum is 7.</p>\n<p>I wrote a recursive solution in which we explore all the possibilies . If the function is called at index ind , then the value at index ind is added to a variable curSum for the next function call.\nThe base condition is when we reach the last index , we will return curSum+value of last index.</p>\n<p>Here is the code:</p>\n<pre><code>class Solution {\n    \n    static int min= Integer.MIN_VALUE;\n    \n    public int maxResult(int[] nums, int k) {\n        \n     return max(nums,0,k,0);\n    }\n    \n    public int max(int [] nums, int ind, int k, int curSum)\n    {  \n        if(ind==nums.length-1)\n            return curSum+nums[ind];\n   \n        int max=Integer.MIN_VALUE;\n        \n        \n        for(int i=ind+1;i&lt;=Math.min(nums.length-1,ind+k);i++)\n         max=Math.max(max, max(nums,i,k,curSum+nums[ind]));\n         \n        return max;\n        \n    }\n}\n\n</code></pre>\n<p>Code works fine except the exponential complexity ofcourse.</p>\n<p>I tried memoizing it as</p>\n<pre><code>class Solution {\n     static int[] dp;\n    static int min= Integer.MIN_VALUE;\n    public int maxResult(int[] nums, int k) {\n        \n        dp=new int[nums.length];\n        Arrays.fill(dp,min);\n       \n        return max(nums,0,k,0);\n    }\n    \n    public int max(int [] nums, int ind, int k, int curSum)\n    {\n        \n        if(ind==nums.length-1)\n            return curSum+nums[ind];\n            \n       if(dp[ind]!=min)\n           return dp[ind];\n        \n        int max=Integer.MIN_VALUE;\n        \n        for(int i=ind+1;i&lt;=Math.min(nums.length-1,ind+k);i++)\n          max=Math.max(max, max(nums,i,k,curSum+nums[ind]));\n        \n        return dp[ind]=max;\n        \n    }\n}\n</code></pre>\n<p>But this solution gives the wrong max everytime and I am not quite able to figure out why.\nAny hints will be appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","selenium","xpath","selenium-webdriver","incoming-mail"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1461215151,"post_id":36759528,"comment_id":61099159,"body_markdown":"Yes, there is a way.","body":"Yes, there is a way."},{"owner":{"account_id":2422749,"reputation":9587,"user_id":2115381,"display_name":"hr_117"},"score":1,"creation_date":1461218262,"post_id":36759528,"comment_id":61100339,"body_markdown":"I would say **no**.  (To match the quality of the question.) You can&#39;t open anything with xpath. ;)","body":"I would say <b>no</b>.  (To match the quality of the question.) You can&#39;t open anything with xpath. ;)"},{"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"score":1,"creation_date":1461220885,"post_id":36759528,"comment_id":61101666,"body_markdown":"When asking a coding query, you should post anything you tried by yourself. Just asking for help without trying from your side will not help you  in getting answers.","body":"When asking a coding query, you should post anything you tried by yourself. Just asking for help without trying from your side will not help you  in getting answers."}],"answers":[{"tags":[],"owner":{"account_id":5738169,"reputation":2858,"user_id":4531601,"accept_rate":56,"display_name":"Rajnish Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562646152,"creation_date":1461216439,"answer_id":36760387,"question_id":36759528,"body_markdown":"Hi plz try like this below **code checks unread mail only**\r\n\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub. \r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\eclipseProject\\\\StackOverFlow\\\\chromedriver_win32 (1)\\\\chromedriver.exe&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n    driver.manage().window().maximize();\r\n\r\n    driver.get(&quot;https://accounts.google.com/ServiceLogin?&quot;);\r\n\r\n    // gmail login\r\n    driver.findElement(By.id(&quot;Email&quot;)).sendKeys(&quot;your gmail username&quot;);\r\n    driver.findElement(By.id(&quot;next&quot;)).click();\r\n    driver.findElement(By.id(&quot;Passwd&quot;)).sendKeys(&quot;your gmail password&quot;);\r\n    driver.findElement(By.id(&quot;signIn&quot;)).click();\r\n\r\n    // some optional actions for reaching gmail inbox\r\n    driver.findElement(By.xpath(&quot;//*[@title=&#39;Google apps&#39;]&quot;)).click();\r\n    driver.findElement(By.id(&quot;gb23&quot;)).click();\r\n\r\n    // now talking un-read email form inbox into a list\r\n    List&lt;WebElement&gt; unreademeil = driver.findElements(By.xpath(&quot;//*[@class=&#39;zF&#39;]&quot;));\r\n\r\n    // Mailer name for which i want to check do i have an email in my inbox \r\n    String MyMailer = &quot;Stack over flow&quot;;\r\n\r\n    // real logic starts here\r\n    for(int i=0;i&lt;unreademeil.size();i++){\r\n        if(unreademeil.get(i).isDisplayed()==true){\r\n            // now verify if you have got mail form a specific mailer (Note Un-read mails)\r\n            // for read mails xpath loactor will change but logic will remain same\r\n            if(unreademeil.get(i).getText().equals(MyMailer)){\r\n                System.out.println(&quot;Yes we have got mail form &quot; + MyMailer);\r\n                // also you can perform more actions here \r\n                // like if you want to open email form the mailer\r\n                break;\r\n            }else{\r\n                System.out.println(&quot;No mail form &quot; + MyMailer);\r\n            }\r\n        }\r\n    }\r\n}","title":"Open mails from Gmail inbox using selenium webdriver using java","body":"<p>Hi plz try like this below <strong>code checks unread mail only</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub. \n\nSystem.setProperty(\"webdriver.chrome.driver\",\"D:\\\\eclipseProject\\\\StackOverFlow\\\\chromedriver_win32 (1)\\\\chromedriver.exe\");\nWebDriver driver = new ChromeDriver();\ndriver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\ndriver.manage().window().maximize();\n\ndriver.get(\"https://accounts.google.com/ServiceLogin?\");\n\n// gmail login\ndriver.findElement(By.id(\"Email\")).sendKeys(\"your gmail username\");\ndriver.findElement(By.id(\"next\")).click();\ndriver.findElement(By.id(\"Passwd\")).sendKeys(\"your gmail password\");\ndriver.findElement(By.id(\"signIn\")).click();\n\n// some optional actions for reaching gmail inbox\ndriver.findElement(By.xpath(\"//*[@title='Google apps']\")).click();\ndriver.findElement(By.id(\"gb23\")).click();\n\n// now talking un-read email form inbox into a list\nList&lt;WebElement&gt; unreademeil = driver.findElements(By.xpath(\"//*[@class='zF']\"));\n\n// Mailer name for which i want to check do i have an email in my inbox \nString MyMailer = \"Stack over flow\";\n\n// real logic starts here\nfor(int i=0;i&lt;unreademeil.size();i++){\n    if(unreademeil.get(i).isDisplayed()==true){\n        // now verify if you have got mail form a specific mailer (Note Un-read mails)\n        // for read mails xpath loactor will change but logic will remain same\n        if(unreademeil.get(i).getText().equals(MyMailer)){\n            System.out.println(\"Yes we have got mail form \" + MyMailer);\n            // also you can perform more actions here \n            // like if you want to open email form the mailer\n            break;\n        }else{\n            System.out.println(\"No mail form \" + MyMailer);\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3731190,"reputation":961,"user_id":3103515,"display_name":"sonhu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1461220430,"creation_date":1461219728,"answer_id":36761210,"question_id":36759528,"body_markdown":"The ideal way would be to not use selenium to automate gmail but rather use the Gmail API (https://developers.google.com/gmail/api/#how_do_i_find_out_more) to verify the message was successfully sent. If you do not want to learn how to check the messages at the API level I would highly recommend using the HTML version of gmail using this link as the initial url for gmail (https://mail.google.com/mail/?ui=html) using gmail with javascript enabled will make it much harder to have a reliable test script.","title":"Open mails from Gmail inbox using selenium webdriver using java","body":"<p>The ideal way would be to not use selenium to automate gmail but rather use the Gmail API (<a href=\"https://developers.google.com/gmail/api/#how_do_i_find_out_more\" rel=\"noreferrer\">https://developers.google.com/gmail/api/#how_do_i_find_out_more</a>) to verify the message was successfully sent. If you do not want to learn how to check the messages at the API level I would highly recommend using the HTML version of gmail using this link as the initial url for gmail (<a href=\"https://mail.google.com/mail/?ui=html\" rel=\"noreferrer\">https://mail.google.com/mail/?ui=html</a>) using gmail with javascript enabled will make it much harder to have a reliable test script.</p>\n"},{"tags":[],"owner":{"account_id":8292225,"reputation":49,"user_id":6233447,"display_name":"Binu"},"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1461226615,"creation_date":1461226615,"answer_id":36763728,"question_id":36759528,"body_markdown":"    //open a mail from the gmail inbox.\r\n    List&lt;WebElement&gt; a = driver.findElements(By.xpath(&quot;//*[@class=&#39;yW&#39;]/span&quot;));\r\n    \t\t\tSystem.out.println(a.size());\r\n    \t\t\tfor (int i = 0; i &lt; a.size(); i++) {\r\n    \t\t\t\tSystem.out.println(a.get(i).getText());\r\n    \t\t\t\tif (a.get(i).getText().equals(&quot;Support&quot;)) //to click on a specific mail.\r\n    \t\t\t\t\t{ \t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\ta.get(i).click();\r\n    \t\t\t\t}\r\n    \t\t\t}","title":"Open mails from Gmail inbox using selenium webdriver using java","body":"<pre><code>//open a mail from the gmail inbox.\nList&lt;WebElement&gt; a = driver.findElements(By.xpath(\"//*[@class='yW']/span\"));\n            System.out.println(a.size());\n            for (int i = 0; i &lt; a.size(); i++) {\n                System.out.println(a.get(i).getText());\n                if (a.get(i).getText().equals(\"Support\")) //to click on a specific mail.\n                    {                                           \n                    a.get(i).click();\n                }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9396105,"reputation":1,"user_id":6979958,"display_name":"user9396105"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497417885,"creation_date":1497417885,"answer_id":44536078,"question_id":36759528,"body_markdown":"package package1;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n\timport org.openqa.selenium.By;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n\tpublic class class1 {\r\n\t\tpublic static void main(String[] args) throws InterruptedException{\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\name\\\\Desktop\\\\chromedriver.exe&quot;);\r\n\t        ChromeDriver driver=new ChromeDriver();\r\n\t        driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n\t\t\tdriver.get(&quot;https://accounts.google.com/ServiceLogin/identifier?service=mail&amp;passive=true&amp;rm=false&amp;continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&amp;ss=1&amp;scc=1&amp;ltmpl=default&amp;ltmplcache=2&amp;emr=1&amp;osid=1&amp;flowName=GlifWebSignIn&amp;flowEntry=ServiceLogin&quot;);\r\n\t        driver.findElement(By.id(&quot;identifierId&quot;)).sendKeys(&quot;****@gmail.com&quot;);\r\n\t\t\tdriver.findElement(By.id(&quot;identifierNext&quot;)).click();\r\n\t\t\tdriver.findElement(By.xpath(&quot;//input[@aria-label=&#39;Enter your password&#39; and @name=&#39;password&#39;]&quot;)).sendKeys(&quot;********&quot;);\r\n\t\t\tThread.sleep(200);\r\n\t\t    driver.findElement(By.id(&quot;passwordNext&quot;)).click();\r\n\t\t\t\r\n\t\t\t\r\n\t    }}","title":"Open mails from Gmail inbox using selenium webdriver using java","body":"<p>package package1;\nimport java.util.concurrent.TimeUnit;</p>\n\n<pre><code>import org.openqa.selenium.By;\n</code></pre>\n\n<p>import org.openqa.selenium.chrome.ChromeDriver;</p>\n\n<pre><code>public class class1 {\n    public static void main(String[] args) throws InterruptedException{\n        System.setProperty(\"webdriver.chrome.driver\",\"C:\\\\Users\\\\name\\\\Desktop\\\\chromedriver.exe\");\n        ChromeDriver driver=new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n        driver.get(\"https://accounts.google.com/ServiceLogin/identifier?service=mail&amp;passive=true&amp;rm=false&amp;continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&amp;ss=1&amp;scc=1&amp;ltmpl=default&amp;ltmplcache=2&amp;emr=1&amp;osid=1&amp;flowName=GlifWebSignIn&amp;flowEntry=ServiceLogin\");\n        driver.findElement(By.id(\"identifierId\")).sendKeys(\"****@gmail.com\");\n        driver.findElement(By.id(\"identifierNext\")).click();\n        driver.findElement(By.xpath(\"//input[@aria-label='Enter your password' and @name='password']\")).sendKeys(\"********\");\n        Thread.sleep(200);\n        driver.findElement(By.id(\"passwordNext\")).click();\n\n\n    }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7085509,"reputation":447,"user_id":5422437,"display_name":"Zhivko.Kostadinov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547565741,"creation_date":1547561438,"answer_id":54200579,"question_id":36759528,"body_markdown":"Here is my solution without any thread.sleap() and etc.\r\n\r\n       driver.get(&quot;https://mail.google.com/&quot;);                                                                                                                        \r\n                                                                                                                                                                      \r\n       WebElement userElement = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;identifierId&quot;)));                                                           \r\n       userElement.click();                                                                                                                                           \r\n       userElement.clear();                                                                                                                                           \r\n       userElement.sendKeys(properties.getProperty(&quot;username&quot;));                                                                                                      \r\n                                                                                                                                                                      \r\n       WebElement identifierNext = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;identifierNext&quot;)));                                                      \r\n       identifierNext.click();                                                                                                                                        \r\n                                                                                                                                                                      \r\n       WebElement passwordElement = wait.until(ExpectedConditions.elementToBeClickable(By.name(&quot;password&quot;)));                                                         \r\n       passwordElement.click();                                                                                                                                       \r\n       passwordElement.clear();                                                                                                                                       \r\n       passwordElement.sendKeys(properties.getProperty(&quot;password&quot;));                                                                                                  \r\n                                                                                                                                                                      \r\n       WebElement passwordNext = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;passwordNext&quot;)));                                                          \r\n       passwordNext.click();                                                                                                                                          \r\n                                                                                                                                                                      \r\n       WebElement composeElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@role=&#39;button&#39; and (.)=&#39;Compose&#39;]&quot;)));                            \r\n       composeElement.click();                                                                                                                                        \r\n                                                                                                                                                                      \r\n       WebElement maximizeEmailElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//td//img[2]&quot;)));                                               \r\n       maximizeEmailElement.click();                                                                                                                                  \r\n                                                                                                                                                                      \r\n       WebElement sendToElement = wait.until(ExpectedConditions.elementToBeClickable(By.name(&quot;to&quot;)));                                                                 \r\n       sendToElement.click();                                                                                                                                         \r\n       sendToElement.clear();                                                                                                                                         \r\n       sendToElement.sendKeys(String.format(&quot;%s@gmail.com&quot;, properties.getProperty(&quot;username&quot;)));                                                                     \r\n                                                                                                                                                                      \r\n       WebElement subjectElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@name = &#39;subjectbox&#39;]&quot;)));                                        \r\n       subjectElement.click();                                                                                                                                        \r\n       subjectElement.clear();                                                                                                                                        \r\n       subjectElement.sendKeys(properties.getProperty(&quot;email.subject&quot;));                                                                                              \r\n                                                                                                                                                                      \r\n       WebElement emailBodyElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@role = &#39;textbox&#39;]&quot;)));                                         \r\n       emailBodyElement.click();                                                                                                                                      \r\n       emailBodyElement.clear();                                                                                                                                      \r\n       emailBodyElement.sendKeys(properties.getProperty(&quot;email.body&quot;));                                                                                               \r\n                                                                                                                                                                      \r\n       WebElement sendMailElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[text()=&#39;Send&#39;]&quot;)));                                            \r\n       sendMailElement.click();                                                                                                                                       \r\n                                                                                                                                                                      \r\n       wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[contains(text(),&#39;Message sent&#39;)]&quot;)));                                                   \r\n       List&lt;WebElement&gt; inboxEmails = wait.until(ExpectedConditions.visibilityOfAllElements(driver.findElements(By.xpath(&quot;//*[@class=&#39;zA zE&#39;]&quot;))));                   \r\n                                                                                                                                                                      \r\n       for(WebElement email : inboxEmails){                                                                                                                           \r\n           if(email.isDisplayed() &amp;&amp; email.getText().contains(&quot;email.subject&quot;)){                                                                                                                                   \r\n               email.click();                                                                                                                                         \r\n                                                                                                                                                                      \r\n               WebElement label = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[contains(@title,&#39;with label Inbox&#39;)]&quot;)));                    \r\n               WebElement subject = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//h2[contains(text(),&#39;Subject of this message&#39;)]&quot;)));          \r\n               WebElement body = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),&#39;Single line body of this message&#39;)]&quot;)));   \r\n                                                                                                                                                                      \r\n           }                                                                                                                                                          \r\n       }       \r\n\r\n                                                                                                                                                       \r\n                                                                                                                                                                      ","title":"Open mails from Gmail inbox using selenium webdriver using java","body":"<p>Here is my solution without any thread.sleap() and etc.</p>\n\n<pre><code>   driver.get(\"https://mail.google.com/\");                                                                                                                        \n\n   WebElement userElement = wait.until(ExpectedConditions.elementToBeClickable(By.id(\"identifierId\")));                                                           \n   userElement.click();                                                                                                                                           \n   userElement.clear();                                                                                                                                           \n   userElement.sendKeys(properties.getProperty(\"username\"));                                                                                                      \n\n   WebElement identifierNext = wait.until(ExpectedConditions.elementToBeClickable(By.id(\"identifierNext\")));                                                      \n   identifierNext.click();                                                                                                                                        \n\n   WebElement passwordElement = wait.until(ExpectedConditions.elementToBeClickable(By.name(\"password\")));                                                         \n   passwordElement.click();                                                                                                                                       \n   passwordElement.clear();                                                                                                                                       \n   passwordElement.sendKeys(properties.getProperty(\"password\"));                                                                                                  \n\n   WebElement passwordNext = wait.until(ExpectedConditions.elementToBeClickable(By.id(\"passwordNext\")));                                                          \n   passwordNext.click();                                                                                                                                          \n\n   WebElement composeElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//*[@role='button' and (.)='Compose']\")));                            \n   composeElement.click();                                                                                                                                        \n\n   WebElement maximizeEmailElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//td//img[2]\")));                                               \n   maximizeEmailElement.click();                                                                                                                                  \n\n   WebElement sendToElement = wait.until(ExpectedConditions.elementToBeClickable(By.name(\"to\")));                                                                 \n   sendToElement.click();                                                                                                                                         \n   sendToElement.clear();                                                                                                                                         \n   sendToElement.sendKeys(String.format(\"%s@gmail.com\", properties.getProperty(\"username\")));                                                                     \n\n   WebElement subjectElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//*[@name = 'subjectbox']\")));                                        \n   subjectElement.click();                                                                                                                                        \n   subjectElement.clear();                                                                                                                                        \n   subjectElement.sendKeys(properties.getProperty(\"email.subject\"));                                                                                              \n\n   WebElement emailBodyElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//*[@role = 'textbox']\")));                                         \n   emailBodyElement.click();                                                                                                                                      \n   emailBodyElement.clear();                                                                                                                                      \n   emailBodyElement.sendKeys(properties.getProperty(\"email.body\"));                                                                                               \n\n   WebElement sendMailElement = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//div[text()='Send']\")));                                            \n   sendMailElement.click();                                                                                                                                       \n\n   wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//*[contains(text(),'Message sent')]\")));                                                   \n   List&lt;WebElement&gt; inboxEmails = wait.until(ExpectedConditions.visibilityOfAllElements(driver.findElements(By.xpath(\"//*[@class='zA zE']\"))));                   \n\n   for(WebElement email : inboxEmails){                                                                                                                           \n       if(email.isDisplayed() &amp;&amp; email.getText().contains(\"email.subject\")){                                                                                                                                   \n           email.click();                                                                                                                                         \n\n           WebElement label = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//*[contains(@title,'with label Inbox')]\")));                    \n           WebElement subject = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//h2[contains(text(),'Subject of this message')]\")));          \n           WebElement body = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//div[contains(text(),'Single line body of this message')]\")));   \n\n       }                                                                                                                                                          \n   }       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568395160,"creation_date":1568395160,"answer_id":57927893,"question_id":36759528,"body_markdown":"I agree to @sonhu and done the same. Sorted this problem using JAVAX MAIL API (not GMAIL API).\r\n\r\n\r\n     \tpublic GmailUtils(String username, String password, String server, EmailFolder \r\n            emailFolder) throws Exception {\r\n\t\tProperties props = System.getProperties();\r\n\t\tprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n\t\tprops.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\r\n\t\tprops.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\r\n\r\n\t\tSession session = Session.getDefaultInstance(props, null);\r\n\t\tStore store = session.getStore(&quot;imap&quot;);\r\n\t\tstore.connect(&quot;imap.gmail.com&quot;, 993, &quot;&lt;your email&gt;&quot;, &quot;&lt;your password&gt;&quot;);\r\n\r\n\t\tFolder folder = store.getFolder(emailFolder.getText());\r\n\t\tfolder.open(Folder.READ_WRITE);\r\n\r\n\t\tSystem.out.println(&quot;Total Messages:&quot; + folder.getMessageCount());\r\n\t\tSystem.out.println(&quot;Unread Messages:&quot; + folder.getUnreadMessageCount());\r\n\r\n\t\tmessages = folder.getMessages();\r\n\r\n\t\tfor (Message mail : messages) {\r\n\t\t\tif (!mail.isSet(Flags.Flag.SEEN)) {\r\n\r\n\t\t\t\tSystem.out.println(&quot;***************************************************&quot;);\r\n\t\t\t\tSystem.out.println(&quot;MESSAGE : \\n&quot;);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Subject: &quot; + mail.getSubject());\r\n\t\t\t\tSystem.out.println(&quot;From: &quot; + mail.getFrom()[0]);\r\n\t\t\t\tSystem.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\r\n\t\t\t\tSystem.out.println(&quot;Date: &quot; + mail.getReceivedDate());\r\n\t\t\t\tSystem.out.println(&quot;Size: &quot; + mail.getSize());\r\n\t\t\t\tSystem.out.println(&quot;Flags: &quot; + mail.getFlags());\r\n\t\t\t\tSystem.out.println(&quot;ContentType: &quot; + mail.getContentType());\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Body: \\n&quot; + getEmailBody(mail));\r\n\t\t\t\tSystem.out.println(&quot;Has Attachments: &quot; + hasAttachments(mail));\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic boolean hasAttachments(Message email) throws Exception {\r\n\r\n\t\t// suppose &#39;message&#39; is an object of type Message\r\n\t\tString contentType = email.getContentType();\r\n\t\tSystem.out.println(contentType);\r\n\r\n\t\tif (contentType.toLowerCase().contains(&quot;multipart/mixed&quot;)) {\r\n\t\t\t// this message must contain attachment\r\n\t\t\tMultipart multiPart = (Multipart) email.getContent();\r\n\r\n\t\t\tfor (int i = 0; i &lt; multiPart.getCount(); i++) {\r\n\t\t\t\tMimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(i);\r\n\t\t\t\tif (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\r\n\t\t\t\t\tSystem.out.println(&quot;Attached filename is:&quot; + part.getFileName());\r\n\r\n\t\t\t\t\tMimeBodyPart mimeBodyPart = (MimeBodyPart) part;\r\n\t\t\t\t\tString fileName = mimeBodyPart.getFileName();\r\n\r\n\t\t\t\t\tString destFilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Resources\\\\&quot;;\r\n\r\n\t\t\t\t\tFile fileToSave = new File(fileName);\r\n\t\t\t\t\tmimeBodyPart.saveFile(destFilePath + fileToSave);\r\n\r\n\t\t\t\t\t// download the pdf file in the resource folder to be read by PDFUTIL api.\r\n\r\n\t\t\t\t\tPDFUtil pdfUtil = new PDFUtil();\r\n\t\t\t\t\tString pdfContent = pdfUtil.getText(destFilePath + fileToSave);\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;******---------------********&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;Started reading the pdfContent of the attachment:==&quot;);\r\n\r\n\r\n\t\t\t\t\tSystem.out.println(pdfContent);\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;******---------------********&quot;);\r\n\r\n\t\t\t\t\tPath fileToDeletePath = Paths.get(destFilePath + fileToSave);\r\n\t\t\t\t\tFiles.delete(fileToDeletePath);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic String getEmailBody(Message email) throws IOException, MessagingException {\r\n\r\n\t\tString line, emailContentEncoded;\r\n\t\tStringBuffer bufferEmailContentEncoded = new StringBuffer();\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(email.getInputStream()));\r\n\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\tbufferEmailContentEncoded.append(line);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;**************************************************&quot;);\r\n\r\n\t\tSystem.out.println(bufferEmailContentEncoded);\r\n\r\n\t\tSystem.out.println(&quot;**************************************************&quot;);\r\n\r\n\t\temailContentEncoded = bufferEmailContentEncoded.toString();\r\n\r\n\t\tif (email.getContentType().toLowerCase().contains(&quot;multipart/related&quot;)) {\r\n\r\n\t\t\temailContentEncoded = emailContentEncoded.substring(emailContentEncoded.indexOf(&quot;base64&quot;) + 6);\r\n\t\t\temailContentEncoded = emailContentEncoded.substring(0, emailContentEncoded.indexOf(&quot;Content-Type&quot;) - 1);\r\n\r\n\t\t\tSystem.out.println(emailContentEncoded);\r\n\r\n\t\t\tString emailContentDecoded = new String(new Base64().decode(emailContentEncoded.toString().getBytes()));\r\n\t\t\treturn emailContentDecoded;\r\n\t\t}\r\n\r\n\t\treturn emailContentEncoded;\r\n\r\n\t}","title":"Open mails from Gmail inbox using selenium webdriver using java","body":"<p>I agree to @sonhu and done the same. Sorted this problem using JAVAX MAIL API (not GMAIL API).</p>\n\n<pre><code>    public GmailUtils(String username, String password, String server, EmailFolder \n        emailFolder) throws Exception {\n    Properties props = System.getProperties();\n    props.setProperty(\"mail.store.protocol\", \"imap\");\n    props.setProperty(\"mail.imaps.partialfetch\", \"false\");\n    props.put(\"mail.imap.ssl.enable\", \"true\");\n    props.put(\"mail.mime.base64.ignoreerrors\", \"true\");\n\n    Session session = Session.getDefaultInstance(props, null);\n    Store store = session.getStore(\"imap\");\n    store.connect(\"imap.gmail.com\", 993, \"&lt;your email&gt;\", \"&lt;your password&gt;\");\n\n    Folder folder = store.getFolder(emailFolder.getText());\n    folder.open(Folder.READ_WRITE);\n\n    System.out.println(\"Total Messages:\" + folder.getMessageCount());\n    System.out.println(\"Unread Messages:\" + folder.getUnreadMessageCount());\n\n    messages = folder.getMessages();\n\n    for (Message mail : messages) {\n        if (!mail.isSet(Flags.Flag.SEEN)) {\n\n            System.out.println(\"***************************************************\");\n            System.out.println(\"MESSAGE : \\n\");\n\n            System.out.println(\"Subject: \" + mail.getSubject());\n            System.out.println(\"From: \" + mail.getFrom()[0]);\n            System.out.println(\"To: \" + mail.getAllRecipients()[0]);\n            System.out.println(\"Date: \" + mail.getReceivedDate());\n            System.out.println(\"Size: \" + mail.getSize());\n            System.out.println(\"Flags: \" + mail.getFlags());\n            System.out.println(\"ContentType: \" + mail.getContentType());                \n            System.out.println(\"Body: \\n\" + getEmailBody(mail));\n            System.out.println(\"Has Attachments: \" + hasAttachments(mail));\n\n        }\n    }\n}\n\n\npublic boolean hasAttachments(Message email) throws Exception {\n\n    // suppose 'message' is an object of type Message\n    String contentType = email.getContentType();\n    System.out.println(contentType);\n\n    if (contentType.toLowerCase().contains(\"multipart/mixed\")) {\n        // this message must contain attachment\n        Multipart multiPart = (Multipart) email.getContent();\n\n        for (int i = 0; i &lt; multiPart.getCount(); i++) {\n            MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(i);\n            if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\n                System.out.println(\"Attached filename is:\" + part.getFileName());\n\n                MimeBodyPart mimeBodyPart = (MimeBodyPart) part;\n                String fileName = mimeBodyPart.getFileName();\n\n                String destFilePath = System.getProperty(\"user.dir\") + \"\\\\Resources\\\\\";\n\n                File fileToSave = new File(fileName);\n                mimeBodyPart.saveFile(destFilePath + fileToSave);\n\n                // download the pdf file in the resource folder to be read by PDFUTIL api.\n\n                PDFUtil pdfUtil = new PDFUtil();\n                String pdfContent = pdfUtil.getText(destFilePath + fileToSave);\n\n                System.out.println(\"******---------------********\");\n                System.out.println(\"\\n\");\n                System.out.println(\"Started reading the pdfContent of the attachment:==\");\n\n\n                System.out.println(pdfContent);\n\n                System.out.println(\"\\n\");\n                System.out.println(\"******---------------********\");\n\n                Path fileToDeletePath = Paths.get(destFilePath + fileToSave);\n                Files.delete(fileToDeletePath);\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\npublic String getEmailBody(Message email) throws IOException, MessagingException {\n\n    String line, emailContentEncoded;\n    StringBuffer bufferEmailContentEncoded = new StringBuffer();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(email.getInputStream()));\n    while ((line = reader.readLine()) != null) {\n        bufferEmailContentEncoded.append(line);\n    }\n\n    System.out.println(\"**************************************************\");\n\n    System.out.println(bufferEmailContentEncoded);\n\n    System.out.println(\"**************************************************\");\n\n    emailContentEncoded = bufferEmailContentEncoded.toString();\n\n    if (email.getContentType().toLowerCase().contains(\"multipart/related\")) {\n\n        emailContentEncoded = emailContentEncoded.substring(emailContentEncoded.indexOf(\"base64\") + 6);\n        emailContentEncoded = emailContentEncoded.substring(0, emailContentEncoded.indexOf(\"Content-Type\") - 1);\n\n        System.out.println(emailContentEncoded);\n\n        String emailContentDecoded = new String(new Base64().decode(emailContentEncoded.toString().getBytes()));\n        return emailContentDecoded;\n    }\n\n    return emailContentEncoded;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17795897,"reputation":11,"user_id":12923742,"display_name":"i-am-naveen-m-j"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658000570,"creation_date":1657820534,"answer_id":72984635,"question_id":36759528,"body_markdown":"/// From XL Sheet Gmail userid &amp; password will pic Login to G-mail &amp; UnRead Mails only filter (Based on Unique in that mail) - in that mail any Hyser link or web link it will open (Based on X Path)\r\n////////////////////////////////////////////////////////\r\n\r\n\tpublic static void NM_RA_Mail_Click_RALDCaseIDLink() throws Exception {\r\n\t\tString G_userid = null;\r\n\t\tString G_password = null;\r\nxlfilepath = &quot;C:\\\\Users\\\\Desktop\\\\BIPS\\\\Code\\\\GLDT-TestCases-for-Automation007.xlsx&quot;;\r\n\r\n\t\ttry { \r\n\r\n\t\t\tFileInputStream fStream = new FileInputStream(new String(xlfilepath));//Enter the path to your excel here\r\n\r\n\t\t\t// Create workbook instance referencing the file created above\r\n\t\t\tXSSFWorkbook workbook = new XSSFWorkbook(fStream);\r\n\r\n\t\t\t// Get your first or desired sheet from the workbook\r\n\t\t\tXSSFSheet sheet = workbook.getSheetAt(0); // getting first sheet Based on index([0,1,...]     \r\n\r\n\t\t\t//XSSFSheet sheet = workbook.getSheet(&quot;Master_Test_Data&quot;); //Based on sheet name\r\n\t\t\tXSSFRow row1 = sheet.getRow(5);\r\n\t\t\tXSSFCell cell1 = row1.getCell(2);\r\n\r\n\t\t\tXSSFRow row2 = sheet.getRow(6);\r\n\t\t\tXSSFCell cell2 = row2.getCell(2);\r\n\r\n\t\t\tG_userid = cell1.toString();\r\n\t\t\tG_password = cell2.toString();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tXSSFRow row3 = sheet.getRow(9);\r\n\t\t\tXSSFCell cell3 = row3.getCell(2);\r\n\r\n\t\t\tXSSFRow row4 = sheet.getRow(10);\r\n\t\t\tXSSFCell cell4 = row4.getCell(2);\r\n\r\n\t\t\tNM_RA_userid = cell3.toString();\r\n\t\t\tNM_RA_password = cell4.toString();\r\n\r\n\t\t\tfStream.close();\r\n\t\t\tworkbook.close(); \r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\r\n\t\tString projectPath = System.getProperty(&quot;user.dir&quot;);\r\n\t\t\r\n//\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,projectPath+&quot;\\\\drivers\\\\chromedriver\\\\chromedriver.exe&quot;);\r\n//\t\tdriver = new ChromeDriver();\r\n\t\t\r\n\t  System.setProperty(&quot;webdriver.edge.driver&quot;, projectPath+&quot;\\\\drivers\\\\edgedriver\\\\msedgedriver.exe&quot;);\r\n\t\tWebDriver driver = new EdgeDriver();\r\n\r\n\t\tdriver.manage().window().maximize();\r\n\t\tString url = &quot;https://mail.google.com/&quot;;\r\n\r\n\t\tdriver.get(url);\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\t\tWebElement email_phone = driver.findElement(By.xpath(&quot;//input[@id=&#39;identifierId&#39;]&quot;));\r\n\t\temail_phone.sendKeys(G_userid);\r\n\t\tdriver.findElement(By.id(&quot;identifierNext&quot;)).click();\r\n\r\n\t\tWebElement password = driver.findElement(By.xpath(&quot;//input[@name=&#39;password&#39;]&quot;));\r\n\t\t\r\n\t\tWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(20));\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(password));\r\n\t\tpassword.sendKeys(G_password);\r\n\t\tdriver.findElement(By.id(&quot;passwordNext&quot;)).click(); \r\n\r\n\t\t//--------------------------//\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tThread.sleep(5000);\r\n\t    List&lt;WebElement&gt; a = driver.findElements(By.className(&quot;zE&quot;)); //un-Mailes it will read ...\r\n\t    System.out.println(a.size());\r\n\t    \r\n\t                for(int i=0;i&lt;a.size();i++)\r\n\t                {\r\n\t                \t//Thread.sleep(5000);\r\n\t                \tSystem.out.println(a.get(i).getText());\r\n\t                    Thread.sleep(3000);\r\n\r\n\t                   // if(a.get(i).getText().contains(&quot;4211&quot;))\r\n\t                    \t//if(a.get(i).getText().contains(&quot;(GLDT-4211)&quot;))\r\n\t                    if(a.get(i).getText().contains(GLDT_Case_ID))\r\n\t                    ///GLDT_Case_ID - Mail containes subject or something yu want o search unique thing in that mail\r\n\t                    \t\t\t\r\n\t                    {  // if u want to click on the specific mail then here u can pass it\r\n\t                    \t\t\tThread.sleep(5000);\r\n\t                    \t\t\t\ta.get(i).click();\r\n\t                    \t\t\t\t\r\n\t                    \t\t\t\tWebElement BIPS_Link = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html[1]/body[1]/div[7]/div[3]/div[1]/div[2]/div[5]/div[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/div[3]/div[1]/table[1]/tr[1]/td[1]/div[2]/div[2]/div[1]/div[3]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]/div[2]/div[3]/div[3]/div[1]/div[1]/div[2]/span[1]/span[1]/a[1]&quot;)));\r\n\t                    \t\t\t\tBIPS_Link.click();   /// inside mail it will open the link\r\n\t                    \t\t\t\t\r\n\t                    \t\t\t\tbreak;   \r\n\t                    \t\t\t}\r\n\t                }\r\n\t                \r\n\t                ","title":"Open mails from Gmail inbox using selenium webdriver using java","body":"<p>/// From XL Sheet Gmail userid &amp; password will pic Login to G-mail &amp; UnRead Mails only filter (Based on Unique in that mail) - in that mail any Hyser link or web link it will open (Based on X Path)\n////////////////////////////////////////////////////////</p>\n<pre><code>public static void NM_RA_Mail_Click_RALDCaseIDLink() throws Exception {\n    String G_userid = null;\n    String G_password = null;\n</code></pre>\n<p>xlfilepath = &quot;C:\\Users\\Desktop\\BIPS\\Code\\GLDT-TestCases-for-Automation007.xlsx&quot;;</p>\n<pre><code>    try { \n\n        FileInputStream fStream = new FileInputStream(new String(xlfilepath));//Enter the path to your excel here\n\n        // Create workbook instance referencing the file created above\n        XSSFWorkbook workbook = new XSSFWorkbook(fStream);\n\n        // Get your first or desired sheet from the workbook\n        XSSFSheet sheet = workbook.getSheetAt(0); // getting first sheet Based on index([0,1,...]     \n\n        //XSSFSheet sheet = workbook.getSheet(&quot;Master_Test_Data&quot;); //Based on sheet name\n        XSSFRow row1 = sheet.getRow(5);\n        XSSFCell cell1 = row1.getCell(2);\n\n        XSSFRow row2 = sheet.getRow(6);\n        XSSFCell cell2 = row2.getCell(2);\n\n        G_userid = cell1.toString();\n        G_password = cell2.toString();\n        \n        \n        \n        \n        \n        XSSFRow row3 = sheet.getRow(9);\n        XSSFCell cell3 = row3.getCell(2);\n\n        XSSFRow row4 = sheet.getRow(10);\n        XSSFCell cell4 = row4.getCell(2);\n\n        NM_RA_userid = cell3.toString();\n        NM_RA_password = cell4.toString();\n\n        fStream.close();\n        workbook.close(); \n\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\n\n    String projectPath = System.getProperty(&quot;user.dir&quot;);\n    \n</code></pre>\n<p>//      System.setProperty(&quot;webdriver.chrome.driver&quot;,projectPath+&quot;\\drivers\\chromedriver\\chromedriver.exe&quot;);\n//      driver = new ChromeDriver();</p>\n<pre><code>  System.setProperty(&quot;webdriver.edge.driver&quot;, projectPath+&quot;\\\\drivers\\\\edgedriver\\\\msedgedriver.exe&quot;);\n    WebDriver driver = new EdgeDriver();\n\n    driver.manage().window().maximize();\n    String url = &quot;https://mail.google.com/&quot;;\n\n    driver.get(url);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    WebElement email_phone = driver.findElement(By.xpath(&quot;//input[@id='identifierId']&quot;));\n    email_phone.sendKeys(G_userid);\n    driver.findElement(By.id(&quot;identifierNext&quot;)).click();\n\n    WebElement password = driver.findElement(By.xpath(&quot;//input[@name='password']&quot;));\n    \n    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(20));\n    wait.until(ExpectedConditions.elementToBeClickable(password));\n    password.sendKeys(G_password);\n    driver.findElement(By.id(&quot;passwordNext&quot;)).click(); \n\n    //--------------------------//\n    \n    \n    \n    Thread.sleep(5000);\n    List&lt;WebElement&gt; a = driver.findElements(By.className(&quot;zE&quot;)); //un-Mailes it will read ...\n    System.out.println(a.size());\n    \n                for(int i=0;i&lt;a.size();i++)\n                {\n                    //Thread.sleep(5000);\n                    System.out.println(a.get(i).getText());\n                    Thread.sleep(3000);\n\n                   // if(a.get(i).getText().contains(&quot;4211&quot;))\n                        //if(a.get(i).getText().contains(&quot;(GLDT-4211)&quot;))\n                    if(a.get(i).getText().contains(GLDT_Case_ID))\n                    ///GLDT_Case_ID - Mail containes subject or something yu want o search unique thing in that mail\n                                \n                    {  // if u want to click on the specific mail then here u can pass it\n                                Thread.sleep(5000);\n                                    a.get(i).click();\n                                    \n                                    WebElement BIPS_Link = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html[1]/body[1]/div[7]/div[3]/div[1]/div[2]/div[5]/div[1]/div[1]/div[1]/div[1]/div[2]/div[1]/div[1]/div[1]/div[3]/div[1]/table[1]/tr[1]/td[1]/div[2]/div[2]/div[1]/div[3]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]/div[2]/div[3]/div[3]/div[1]/div[1]/div[2]/span[1]/span[1]/a[1]&quot;)));\n                                    BIPS_Link.click();   /// inside mail it will open the link\n                                    \n                                    break;   \n                                }\n                }\n                \n                \n</code></pre>\n"}],"owner":{"account_id":8292225,"reputation":49,"user_id":6233447,"display_name":"Binu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48776,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":36763728,"answer_count":7,"score":2,"last_activity_date":1658000570,"creation_date":1461212063,"question_id":36759528,"body_markdown":"I need to open mails from Gmail inbox using selenium webdriver using java in Eclipse IDE. Is there a way to do this using xpath?","title":"Open mails from Gmail inbox using selenium webdriver using java","body":"<p>I need to open mails from Gmail inbox using selenium webdriver using java in Eclipse IDE. Is there a way to do this using xpath?</p>\n"},{"tags":["java","encryption","rsa","bouncycastle"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1658000487,"post_id":73007096,"comment_id":128944911,"body_markdown":"RSA encryption is performed with the public key of the recipient. You&#39;re trying to use a private key.","body":"RSA encryption is performed with the public key of the recipient. You&#39;re trying to use a private key."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1658022969,"post_id":73007096,"comment_id":128947724,"body_markdown":"... but for a period last century it was thought clever to misdescribe RSA signing and verifying as &#39;encrypting with the private key and decrypting with the public key&#39; (i.e. backwards) and unfortunately this mistake was embedded in the Java cryptoprovider for &#39;classic&#39; RSA (in Java terms, PKCS1Padding) only -- thus the error message because it treats your mistaken call as an attempt to sign. (@PresidentJamesK.Polk)","body":"... but for a period last century it was thought clever to misdescribe RSA signing and verifying as &#39;encrypting with the private key and decrypting with the public key&#39; (i.e. backwards) and unfortunately this mistake was embedded in the Java cryptoprovider for &#39;classic&#39; RSA (in Java terms, PKCS1Padding) only -- thus the error message because it treats your mistaken call as an attempt to sign. (@PresidentJamesK.Polk)"},{"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"score":0,"creation_date":1658035273,"post_id":73007096,"comment_id":128948747,"body_markdown":"@PresidentJamesK.Polk  I have updated the key rightly pointed out . I am now getting an error :\nException in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Data must not be longer than 126 bytes","body":"@PresidentJamesK.Polk  I have updated the key rightly pointed out . I am now getting an error : Exception in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Data must not be longer than 126 bytes"},{"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"score":0,"creation_date":1658035306,"post_id":73007096,"comment_id":128948749,"body_markdown":"@dave_thompson_085 i have updated the key but now i am getting a different error","body":"@dave_thompson_085 i have updated the key but now i am getting a different error"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1658040172,"post_id":73007096,"comment_id":128949312,"body_markdown":"RSA can only encrypt a limited amount of data, how much depends on the key size and padding. [Here](https://crypto.stackexchange.com/a/42100) you can find an overview of the maximum data sizes for OAEP, which is 126 bytes for your parameters (2048 bits key, OAEP with SHA512 digest). The question that arises is why your symmetric key is larger. The key sizes for AES (assuming it&#39;s AES) are 16 (AES-128), 24 (AES-192) and 32 bytes (AES-256), so all should be no problem. Did you mix up bits and bytes and try to store 128/192/256 bytes instead of 16/24/32 bytes?","body":"RSA can only encrypt a limited amount of data, how much depends on the key size and padding. <a href=\"https://crypto.stackexchange.com/a/42100\">Here</a> you can find an overview of the maximum data sizes for OAEP, which is 126 bytes for your parameters (2048 bits key, OAEP with SHA512 digest). The question that arises is why your symmetric key is larger. The key sizes for AES (assuming it&#39;s AES) are 16 (AES-128), 24 (AES-192) and 32 bytes (AES-256), so all should be no problem. Did you mix up bits and bytes and try to store 128/192/256 bytes instead of 16/24/32 bytes?"},{"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"score":0,"creation_date":1658044426,"post_id":73007096,"comment_id":128949876,"body_markdown":"@Topaco I think yes. The file which I used earliar for AES 256 encryption is 256 bytes","body":"@Topaco I think yes. The file which I used earliar for AES 256 encryption is 256 bytes"},{"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"score":0,"creation_date":1658045651,"post_id":73007096,"comment_id":128950093,"body_markdown":"@Topaco Its the Password file for AES 256 which contains the key and IV","body":"@Topaco Its the Password file for AES 256 which contains the key and IV"}],"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658000164,"creation_date":1657999739,"question_id":73007096,"body_markdown":"I am trying to encrypt and decrypt a symmetric key file (256 and 128) using RSAES - OAEP but I am getting error while encrypting :\r\n\r\nFile Sizes to encrypt: 256 and 128\r\n\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.security.*;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.util.Base64;\r\n    import java.util.Arrays;\r\n    import java.security.spec.PKCS8EncodedKeySpec;\r\n    import java.security.spec.X509EncodedKeySpec;\r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    \r\n    \r\n     public static void main(String[] args) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n    \r\n                    KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n                    kpg.initialize(2048);\r\n                    KeyPair kp = kpg.generateKeyPair();\r\n                    String inputPath = &quot;/home/roxane/Music/test_09&quot;;\r\n                    String inFile = &quot;/home/roxane/Downloads/s_key&quot;;\r\n                    String encfile = &quot;/home/roxane/Music/s_key.enc&quot;;\r\n    \r\n                    // get key pair\r\n                    PublicKey pub = kp.getPublic();\r\n                    PrivateKey PrivateKey = kp.getPrivate();\r\n    \r\n                    // Write Key Pair\r\n                    try (FileOutputStream out = new FileOutputStream(inputPath + &quot;.key&quot;)) {\r\n                        out.write(kp.getPrivate().getEncoded());\r\n                    }\r\n    \r\n                    try (FileOutputStream out = new FileOutputStream(inputPath + &quot;.pub&quot;)) {\r\n                        out.write(kp.getPublic().getEncoded());\r\n                    }\r\n    \r\n                    //restore kEys\r\n                    byte[] pubbytes = Files.readAllBytes(Paths.get(inputPath + &quot;.pub&quot;));\r\n                    X509EncodedKeySpec ks = new X509EncodedKeySpec(pubbytes);\r\n                    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n                    PublicKey pub1 = kf.generatePublic(ks);\r\n    \r\n    \r\n                    byte[] privbytes = Files.readAllBytes(Paths.get(inputPath + &quot;.key&quot;));\r\n                    PKCS8EncodedKeySpec ks1 = new PKCS8EncodedKeySpec(privbytes);\r\n                    KeyFactory kf1 = KeyFactory.getInstance(&quot;RSA&quot;);\r\n                    PrivateKey pvt = kf1.generatePrivate(ks1);\r\n    \r\n    \r\n                    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-512ANDMGF1PADDING&quot;);\r\n                    cipher.init(Cipher.ENCRYPT_MODE, pvt);\r\n                    try (FileInputStream in = new FileInputStream(inFile);\r\n                         FileOutputStream out = new FileOutputStream(encfile)) {\r\n                        processFile(cipher, in, out);\r\n                    }\r\n                    \r\n                    \r\n                    \r\n                }\r\n    \r\n                static private void processFile(Cipher ci,InputStream in,OutputStream out)\r\n                        throws javax.crypto.IllegalBlockSizeException,\r\n                        javax.crypto.BadPaddingException,\r\n                        java.io.IOException\r\n                {\r\n                    byte[] ibuf = new byte[1024];\r\n                    int len;\r\n                    while ((len = in.read(ibuf)) != -1) {\r\n                        byte[] obuf = ci.update(ibuf, 0, len);\r\n                        if ( obuf != null ) out.write(obuf);\r\n                    }\r\n                    byte[] obuf = ci.doFinal();\r\n                    if ( obuf != null ) out.write(obuf);\r\n                }\r\n\r\nError: Exception in thread &quot;main&quot; java.security.InvalidKeyException: OAEP cannot be used to sign or verify signatures\r\n\r\nRequesting help in the code encrytption and decryption of the files compatible with openssl. I am open to use bouncycastle if required","title":"RSA -OAEP encryption and decryption of Symmetric Key file","body":"<p>I am trying to encrypt and decrypt a symmetric key file (256 and 128) using RSAES - OAEP but I am getting error while encrypting :</p>\n<p>File Sizes to encrypt: 256 and 128</p>\n<pre><code>import java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport java.util.Base64;\nimport java.util.Arrays;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport javax.crypto.*;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.spec.IvParameterSpec;\n\n\n public static void main(String[] args) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n\n                KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n                kpg.initialize(2048);\n                KeyPair kp = kpg.generateKeyPair();\n                String inputPath = &quot;/home/roxane/Music/test_09&quot;;\n                String inFile = &quot;/home/roxane/Downloads/s_key&quot;;\n                String encfile = &quot;/home/roxane/Music/s_key.enc&quot;;\n\n                // get key pair\n                PublicKey pub = kp.getPublic();\n                PrivateKey PrivateKey = kp.getPrivate();\n\n                // Write Key Pair\n                try (FileOutputStream out = new FileOutputStream(inputPath + &quot;.key&quot;)) {\n                    out.write(kp.getPrivate().getEncoded());\n                }\n\n                try (FileOutputStream out = new FileOutputStream(inputPath + &quot;.pub&quot;)) {\n                    out.write(kp.getPublic().getEncoded());\n                }\n\n                //restore kEys\n                byte[] pubbytes = Files.readAllBytes(Paths.get(inputPath + &quot;.pub&quot;));\n                X509EncodedKeySpec ks = new X509EncodedKeySpec(pubbytes);\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n                PublicKey pub1 = kf.generatePublic(ks);\n\n\n                byte[] privbytes = Files.readAllBytes(Paths.get(inputPath + &quot;.key&quot;));\n                PKCS8EncodedKeySpec ks1 = new PKCS8EncodedKeySpec(privbytes);\n                KeyFactory kf1 = KeyFactory.getInstance(&quot;RSA&quot;);\n                PrivateKey pvt = kf1.generatePrivate(ks1);\n\n\n                Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-512ANDMGF1PADDING&quot;);\n                cipher.init(Cipher.ENCRYPT_MODE, pvt);\n                try (FileInputStream in = new FileInputStream(inFile);\n                     FileOutputStream out = new FileOutputStream(encfile)) {\n                    processFile(cipher, in, out);\n                }\n                \n                \n                \n            }\n\n            static private void processFile(Cipher ci,InputStream in,OutputStream out)\n                    throws javax.crypto.IllegalBlockSizeException,\n                    javax.crypto.BadPaddingException,\n                    java.io.IOException\n            {\n                byte[] ibuf = new byte[1024];\n                int len;\n                while ((len = in.read(ibuf)) != -1) {\n                    byte[] obuf = ci.update(ibuf, 0, len);\n                    if ( obuf != null ) out.write(obuf);\n                }\n                byte[] obuf = ci.doFinal();\n                if ( obuf != null ) out.write(obuf);\n            }\n</code></pre>\n<p>Error: Exception in thread &quot;main&quot; java.security.InvalidKeyException: OAEP cannot be used to sign or verify signatures</p>\n<p>Requesting help in the code encrytption and decryption of the files compatible with openssl. I am open to use bouncycastle if required</p>\n"},{"tags":["java","jupyter-notebook","package","google-colaboratory"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1658004363,"post_id":73007072,"comment_id":128945566,"body_markdown":"Try [modifying the classpath](https://github.com/SpencerPark/IJava#configuring) to find the packages.","body":"Try <a href=\"https://github.com/SpencerPark/IJava#configuring\" rel=\"nofollow noreferrer\">modifying the classpath</a> to find the packages."},{"owner":{"account_id":14977926,"reputation":55,"user_id":10812854,"display_name":"siba36"},"score":0,"creation_date":1658245808,"post_id":73007072,"comment_id":129001652,"body_markdown":"I uploaded my java project to google drive then mounted my drive to google colab then installed ijava package using the following command `python install.py --classpath &#39;/content/drive/Othercomputers/My Laptop/Master_Project/src&#39;` but it didn&#39;t work , do I need to do something else? @AliasCartellano","body":"I uploaded my java project to google drive then mounted my drive to google colab then installed ijava package using the following command <code>python install.py --classpath &#39;&#47;content&#47;drive&#47;Othercomputers&#47;My Laptop&#47;Master_Project&#47;src&#39;</code> but it didn&#39;t work , do I need to do something else? @AliasCartellano"}],"owner":{"account_id":14977926,"reputation":55,"user_id":10812854,"display_name":"siba36"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657999538,"creation_date":1657999538,"question_id":73007072,"body_markdown":"I&#39;m trying to execute java code from a github repository in google colab,I know that google colab is for python by default so I installed [the ijava library][1] on to the Jupyter notebook using the commands:\r\n\r\n```\r\n!wget https://github.com/SpencerPark/IJava/releases/download/v1.3.0/ijava-1.3.0.zip\r\n!unzip  ijava-1.3.0.zip\r\n!python install.py --sys-prefix\r\n```\r\n\r\nafter I changed the Jupyter notebook configurations as follows:\r\n```\r\n{\r\n  &quot;nbformat&quot;: 4,\r\n  &quot;nbformat_minor&quot;: 0,\r\n  &quot;metadata&quot;: {\r\n    &quot;colab&quot;: {\r\n      &quot;name&quot;: &quot;example.ipynb&quot;,\r\n      &quot;provenance&quot;: []\r\n    },\r\n    &quot;kernelspec&quot;: {\r\n      &quot;name&quot;: &quot;python3&quot;---&gt;&quot;java&quot;,\r\n      &quot;display_name&quot;: &quot;python3&quot;---&gt;&quot;java&quot;\r\n    },\r\n    &quot;language_info&quot;: {\r\n      &quot;name&quot;: &quot;python&quot;\r\n    }\r\n  },\r\n  &quot;cells&quot;: [\r\n    {\r\n      &quot;cell_type&quot;: &quot;code&quot;,\r\n      &quot;execution_count&quot;: null,\r\n      &quot;metadata&quot;: {\r\n        &quot;id&quot;: &quot;NzKT3-VExE4i&quot;\r\n      },\r\n      &quot;outputs&quot;: [],\r\n      &quot;source&quot;: [\r\n        &quot;&quot;\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nAfter these changes I was able to run java in that Jupyter notebook, so I put this ipynb file inside my java netbeans project in the same package as my main file but when I try to import a package from that project I get an error that the package isn&#39;t defined, so how can I import packages from my java github repo inside the ipynb file?\r\n\r\n  [1]: https://github.com/SpencerPark/IJava","title":"how to import java packages in a java core Jupyter Notebook","body":"<p>I'm trying to execute java code from a github repository in google colab,I know that google colab is for python by default so I installed <a href=\"https://github.com/SpencerPark/IJava\" rel=\"nofollow noreferrer\">the ijava library</a> on to the Jupyter notebook using the commands:</p>\n<pre><code>!wget https://github.com/SpencerPark/IJava/releases/download/v1.3.0/ijava-1.3.0.zip\n!unzip  ijava-1.3.0.zip\n!python install.py --sys-prefix\n</code></pre>\n<p>after I changed the Jupyter notebook configurations as follows:</p>\n<pre><code>{\n  &quot;nbformat&quot;: 4,\n  &quot;nbformat_minor&quot;: 0,\n  &quot;metadata&quot;: {\n    &quot;colab&quot;: {\n      &quot;name&quot;: &quot;example.ipynb&quot;,\n      &quot;provenance&quot;: []\n    },\n    &quot;kernelspec&quot;: {\n      &quot;name&quot;: &quot;python3&quot;---&gt;&quot;java&quot;,\n      &quot;display_name&quot;: &quot;python3&quot;---&gt;&quot;java&quot;\n    },\n    &quot;language_info&quot;: {\n      &quot;name&quot;: &quot;python&quot;\n    }\n  },\n  &quot;cells&quot;: [\n    {\n      &quot;cell_type&quot;: &quot;code&quot;,\n      &quot;execution_count&quot;: null,\n      &quot;metadata&quot;: {\n        &quot;id&quot;: &quot;NzKT3-VExE4i&quot;\n      },\n      &quot;outputs&quot;: [],\n      &quot;source&quot;: [\n        &quot;&quot;\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>After these changes I was able to run java in that Jupyter notebook, so I put this ipynb file inside my java netbeans project in the same package as my main file but when I try to import a package from that project I get an error that the package isn't defined, so how can I import packages from my java github repo inside the ipynb file?</p>\n"},{"tags":["java","gradle","intellij-idea","code-generation"],"comments":[{"owner":{"account_id":10364565,"reputation":4778,"user_id":7644018,"display_name":"Paul T."},"score":0,"creation_date":1657988827,"post_id":73005780,"comment_id":128942739,"body_markdown":"Does the [info here](https://stackoverflow.com/a/22461100/7644018) help?","body":"Does the <a href=\"https://stackoverflow.com/a/22461100/7644018\">info here</a> help?"},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1657989048,"post_id":73005780,"comment_id":128942786,"body_markdown":"@PaulT. No, I use IntelliJ IDEA 2022.1.3 (Community Edition","body":"@PaulT. No, I use IntelliJ IDEA 2022.1.3 (Community Edition"},{"owner":{"account_id":10364565,"reputation":4778,"user_id":7644018,"display_name":"Paul T."},"score":1,"creation_date":1657989855,"post_id":73005780,"comment_id":128942943,"body_markdown":"Ok, then maybe [this link](https://www.jetbrains.com/help/idea/generate-java-code-from-wsdl-or-wadl-dialog.html#:~:text=Technically%2C%20IntelliJ%20IDEA%20generates%20Java,Java%20Code%20From%20WSDL%20dialog.&amp;text=Specify%20the%20location%20of%20the%20target%20Web%20service%20WSDL%20descriptor.&amp;text=Specify%20the%20credentials%20for%20accessing%20the%20WSDL%20URL%20address.) ?","body":"Ok, then maybe <a href=\"https://www.jetbrains.com/help/idea/generate-java-code-from-wsdl-or-wadl-dialog.html#:~:text=Technically%2C%20IntelliJ%20IDEA%20generates%20Java,Java%20Code%20From%20WSDL%20dialog.&amp;text=Specify%20the%20location%20of%20the%20target%20Web%20service%20WSDL%20descriptor.&amp;text=Specify%20the%20credentials%20for%20accessing%20the%20WSDL%20URL%20address.\" rel=\"nofollow noreferrer\">this link</a> ?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1657995190,"post_id":73005780,"comment_id":128943994,"body_markdown":"IntelliJ Community Edition doesn&#39;t have enterprise features like that.","body":"IntelliJ Community Edition doesn&#39;t have enterprise features like that."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1657996756,"post_id":73005780,"comment_id":128944287,"body_markdown":"@PaulT. Is it possible to generate java files by Gradle task?","body":"@PaulT. Is it possible to generate java files by Gradle task?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1657996901,"post_id":73005780,"comment_id":128944319,"body_markdown":"Any Ant task can be run from Gradle, even if there isn’t a “native” Gradle approach. There are multiple options for generating Java from WSDL in Gradle; searching the web will find them.","body":"Any Ant task can be run from Gradle, even if there isn’t a “native” Gradle approach. There are multiple options for generating Java from WSDL in Gradle; searching the web will find them."}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657999289,"creation_date":1657999289,"answer_id":73007046,"question_id":73005780,"body_markdown":"You can use [CXF Codegen Gradle](https://ciscoo.github.io/cxf-codegen-gradle/docs/current/user-guide/) to do this since you are already using `org.apache.cxf.tools.wsdlto.WSDLToJava`. The plugin provides a DSL over the CLI options of the tool.\r\n\r\nMinimum example:\r\n\r\n    tasks.register(&quot;sign&quot;, io.mateo.cxf.codegen.wsdl2java.Wsdl2Java::class) {\r\n        toolOptions {\r\n            wsdl.set(file(&quot;path/to/Sign.wsdl&quot;))\r\n        }\r\n    }\r\n\r\nSee the docs for full list of [supported options](https://ciscoo.github.io/cxf-codegen-gradle/docs/current/user-guide/#options-usage).\r\n\r\n---\r\n\r\nNote: I am the author of the plugin.\r\n\r\n\r\n\r\n","title":"Generate java from wsdl","body":"<p>You can use <a href=\"https://ciscoo.github.io/cxf-codegen-gradle/docs/current/user-guide/\" rel=\"nofollow noreferrer\">CXF Codegen Gradle</a> to do this since you are already using <code>org.apache.cxf.tools.wsdlto.WSDLToJava</code>. The plugin provides a DSL over the CLI options of the tool.</p>\n<p>Minimum example:</p>\n<pre><code>tasks.register(&quot;sign&quot;, io.mateo.cxf.codegen.wsdl2java.Wsdl2Java::class) {\n    toolOptions {\n        wsdl.set(file(&quot;path/to/Sign.wsdl&quot;))\n    }\n}\n</code></pre>\n<p>See the docs for full list of <a href=\"https://ciscoo.github.io/cxf-codegen-gradle/docs/current/user-guide/#options-usage\" rel=\"nofollow noreferrer\">supported options</a>.</p>\n<hr />\n<p>Note: I am the author of the plugin.</p>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1485,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657999289,"creation_date":1657987846,"question_id":73005780,"body_markdown":"IntelliJ IDEA 2022.1.3 (Community Edition\r\n\r\nIn my java project I use **Ant** to build project.\r\nTo generate java files from wsdl file I use this Ant&#39;s target:\r\n\r\n    &lt;!-- CXF --&gt;\r\n    \t&lt;property name=&quot;cxf.home&quot; location=&quot;c:/Programs/apache-cxf-3.1.7&quot; /&gt;\r\n    \r\n    \t&lt;path id=&quot;cxf.classpath&quot;&gt;\r\n    \t\t&lt;fileset dir=&quot;${cxf.home}/lib&quot;&gt;\r\n    \t\t\t&lt;include name=&quot;*.jar&quot; /&gt;\r\n    \t\t&lt;/fileset&gt;\r\n    \t&lt;/path&gt;\r\n    \r\n    \t&lt;target name=&quot;cxfWSDLToJava&quot;&gt;\r\n    \t\t&lt;java classname=&quot;org.apache.cxf.tools.wsdlto.WSDLToJava&quot; fork=&quot;true&quot;&gt;\r\n    \t\t\t&lt;arg value=&quot;-client&quot; /&gt;\r\n    \t\t\t&lt;arg value=&quot;-d&quot; /&gt;\r\n    \t\t\t&lt;arg value=&quot;src&quot; /&gt;\r\n    \t\t\t&lt;arg value=&quot;c:\\temp\\wsdl\\Sign.wsdl.xml&quot; /&gt;\r\n    \t\t\t&lt;classpath&gt;\r\n    \t\t\t\t&lt;path refid=&quot;cxf.classpath&quot; /&gt;\r\n    \t\t\t&lt;/classpath&gt;\r\n    \t\t&lt;/java&gt;\r\n    \t&lt;/target&gt;\r\n\r\n\r\nIt&#39;s work fine.\r\n\r\nBut I want to migrate to Gradle. And the question is:\r\n\r\nHow I can generate java files from wsdl file by **Gradle**?","title":"Generate java from wsdl","body":"<p>IntelliJ IDEA 2022.1.3 (Community Edition</p>\n<p>In my java project I use <strong>Ant</strong> to build project.\nTo generate java files from wsdl file I use this Ant's target:</p>\n<pre><code>&lt;!-- CXF --&gt;\n    &lt;property name=&quot;cxf.home&quot; location=&quot;c:/Programs/apache-cxf-3.1.7&quot; /&gt;\n\n    &lt;path id=&quot;cxf.classpath&quot;&gt;\n        &lt;fileset dir=&quot;${cxf.home}/lib&quot;&gt;\n            &lt;include name=&quot;*.jar&quot; /&gt;\n        &lt;/fileset&gt;\n    &lt;/path&gt;\n\n    &lt;target name=&quot;cxfWSDLToJava&quot;&gt;\n        &lt;java classname=&quot;org.apache.cxf.tools.wsdlto.WSDLToJava&quot; fork=&quot;true&quot;&gt;\n            &lt;arg value=&quot;-client&quot; /&gt;\n            &lt;arg value=&quot;-d&quot; /&gt;\n            &lt;arg value=&quot;src&quot; /&gt;\n            &lt;arg value=&quot;c:\\temp\\wsdl\\Sign.wsdl.xml&quot; /&gt;\n            &lt;classpath&gt;\n                &lt;path refid=&quot;cxf.classpath&quot; /&gt;\n            &lt;/classpath&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n</code></pre>\n<p>It's work fine.</p>\n<p>But I want to migrate to Gradle. And the question is:</p>\n<p>How I can generate java files from wsdl file by <strong>Gradle</strong>?</p>\n"},{"tags":["java","javafx","webview"],"comments":[{"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"score":0,"creation_date":1657989265,"post_id":73005616,"comment_id":128942821,"body_markdown":"Why don&#39;t u put the padding on the borderpane instead?","body":"Why don&#39;t u put the padding on the borderpane instead?"},{"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"score":0,"creation_date":1657989500,"post_id":73005616,"comment_id":128942865,"body_markdown":"Because I want padding between a label on the top of the borderpane and the webview, which is in the centre of it.","body":"Because I want padding between a label on the top of the borderpane and the webview, which is in the centre of it."}],"answers":[{"tags":[],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1657990116,"creation_date":1657990116,"answer_id":73006048,"question_id":73005616,"body_markdown":"You can, add a margin bottom to the label, to replace the idea of padding it, or you can use JS when load the WebView and padding inside the html. Like this:\r\n\r\n    webView.setWebViewClient(new WebViewClient() {\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            webView.loadUrl(&quot;javascript:document.body.style.padding=\\&quot;10%\\&quot;;void 0&quot;);\r\n        }\r\n    });","title":"Add padding to JavaFX WebView (not Android)","body":"<p>You can, add a margin bottom to the label, to replace the idea of padding it, or you can use JS when load the WebView and padding inside the html. Like this:</p>\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        webView.loadUrl(&quot;javascript:document.body.style.padding=\\&quot;10%\\&quot;;void 0&quot;);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657991880,"creation_date":1657991880,"answer_id":73006265,"question_id":73005616,"body_markdown":"As shown [here][1], you can use the [`BorderPane`][2] _Optional Layout Constraints_ to add &quot;Margin space around the outside of the child.&quot;\r\n\r\n    WebView webView = new WebView();\r\n    BorderPane.setMargin(webView, new Insets(16));\r\n    top.setCenter(webView);\r\n\r\n  [1]: https://stackoverflow.com/a/37935114/230513\r\n  [2]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/BorderPane.html\r\n","title":"Add padding to JavaFX WebView (not Android)","body":"<p>As shown <a href=\"https://stackoverflow.com/a/37935114/230513\">here</a>, you can use the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/BorderPane.html\" rel=\"noreferrer\"><code>BorderPane</code></a> <em>Optional Layout Constraints</em> to add &quot;Margin space around the outside of the child.&quot;</p>\n<pre><code>WebView webView = new WebView();\nBorderPane.setMargin(webView, new Insets(16));\ntop.setCenter(webView);\n</code></pre>\n"}],"owner":{"account_id":19918290,"reputation":95,"user_id":16002438,"display_name":"GregGott"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73006265,"answer_count":2,"score":3,"last_activity_date":1657998294,"creation_date":1657986624,"question_id":73005616,"body_markdown":"I want to add padding to a `WebView` in JavaFX, like you can add padding to a label.\r\n\r\nI have already found [this][1] stack overflow discussion about `WebView` on Android, and it has bugs with the padding. However, I want to add a `WebView` in a `BorderPane` on a desktop application with padding on all sides.\r\n\r\nI tried to use `setPadding()` however, this method doesn`t exist.\r\n\r\nIs there an alternative for it?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9170042/how-to-add-padding-around-a-webview","title":"Add padding to JavaFX WebView (not Android)","body":"<p>I want to add padding to a <code>WebView</code> in JavaFX, like you can add padding to a label.</p>\n<p>I have already found <a href=\"https://stackoverflow.com/questions/9170042/how-to-add-padding-around-a-webview\">this</a> stack overflow discussion about <code>WebView</code> on Android, and it has bugs with the padding. However, I want to add a <code>WebView</code> in a <code>BorderPane</code> on a desktop application with padding on all sides.</p>\n<p>I tried to use <code>setPadding()</code> however, this method doesn`t exist.</p>\n<p>Is there an alternative for it?</p>\n"},{"tags":["java","spring-boot","maven-plugin","maven-dependency-plugin","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657996390,"creation_date":1657996390,"answer_id":73006758,"question_id":73006217,"body_markdown":"Can you show us your whole POM.XML file please? Are you sure that you have implemented the Spring Web dependency? Below I am showing you the XML code for Spring Web dependency. The aforementioned above is the test that it is being automatically provided in the Spring Project.\r\n\r\nFurthermore please consider to reload your maven project for the dependencies to be applied.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Unable to get the auto-suggestion for annotations for springframework inspite of using the dependency","body":"<p>Can you show us your whole POM.XML file please? Are you sure that you have implemented the Spring Web dependency? Below I am showing you the XML code for Spring Web dependency. The aforementioned above is the test that it is being automatically provided in the Spring Project.</p>\n<p>Furthermore please consider to reload your maven project for the dependencies to be applied.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25824393,"reputation":11,"user_id":19562867,"display_name":"Fullstack Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657997313,"creation_date":1657997313,"answer_id":73006856,"question_id":73006217,"body_markdown":"\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"Unable to get the auto-suggestion for annotations for springframework inspite of using the dependency","body":"<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":25824393,"reputation":11,"user_id":19562867,"display_name":"Fullstack Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657997313,"creation_date":1657991475,"question_id":73006217,"body_markdown":"I have create a spring project from spring initializer and have imported it to IntelliJ, have included the Web dependency while creation but i am not getting the auto suggestions for annotations though pom.xml has the dependency for it.\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\nI tried by restarting and loading the maven but still it doesnot work.\r\nNeed certain assistance over here.","title":"Unable to get the auto-suggestion for annotations for springframework inspite of using the dependency","body":"<p>I have create a spring project from spring initializer and have imported it to IntelliJ, have included the Web dependency while creation but i am not getting the auto suggestions for annotations though pom.xml has the dependency for it.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I tried by restarting and loading the maven but still it doesnot work.\nNeed certain assistance over here.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1650551003,"post_id":71955975,"comment_id":127149220,"body_markdown":"Don&#39;t you want to have a profile and connect with your local profile to a local alternative of SQL Server, H2 or whatever and create prod profile to your jar?","body":"Don&#39;t you want to have a profile and connect with your local profile to a local alternative of SQL Server, H2 or whatever and create prod profile to your jar?"},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1650552378,"post_id":71955975,"comment_id":127149792,"body_markdown":"Maybe I don&#39;t know Java Spring boot enought because I don&#39;t know what you are talking about when you say a &quot;profile&quot;","body":"Maybe I don&#39;t know Java Spring boot enought because I don&#39;t know what you are talking about when you say a &quot;profile&quot;"},{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1650552850,"post_id":71955975,"comment_id":127149994,"body_markdown":"https://www.baeldung.com/spring-profiles\n\nwhen you don&#39;t choose anything, Spring Boot uses `default`","body":"<a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">baeldung.com/spring-profiles</a>  when you don&#39;t choose anything, Spring Boot uses <code>default</code>"},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1650896358,"post_id":71955975,"comment_id":127225269,"body_markdown":"Hi @DmytroChasovskyi , I spent the weekend learning about spring profiles. That&#39;s not what I need. It&#39;s useful, I&#39;m not going to deny you that, and I didn&#39;t know about it, but, I&#39;m asking if it is possible not to try a database connection on startup. In any case, even if I used spring profiles, it would not work for me because, as I said, if I try to establish a connection string with integrated authentication it will try to log in with my credentials and not with the ones of the service account and it will never be able to package the .jar","body":"Hi @DmytroChasovskyi , I spent the weekend learning about spring profiles. That&#39;s not what I need. It&#39;s useful, I&#39;m not going to deny you that, and I didn&#39;t know about it, but, I&#39;m asking if it is possible not to try a database connection on startup. In any case, even if I used spring profiles, it would not work for me because, as I said, if I try to establish a connection string with integrated authentication it will try to log in with my credentials and not with the ones of the service account and it will never be able to package the .jar"},{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1650896772,"post_id":71955975,"comment_id":127225420,"body_markdown":"Cannot you try doing runtime connection build?\n\nThere are couple of possibilities to connect to DB: integrated in Spring, not integrated but via `@Configuration` during startup or as a `@Component` when you have service build but, for example, lazily connected to DB. Would anything of the above work for you?","body":"Cannot you try doing runtime connection build?  There are couple of possibilities to connect to DB: integrated in Spring, not integrated but via <code>@Configuration</code> during startup or as a <code>@Component</code> when you have service build but, for example, lazily connected to DB. Would anything of the above work for you?"},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1650898263,"post_id":71955975,"comment_id":127226051,"body_markdown":"No, because the entitymanager is built with the credentials specified in the application.properties and it is not correct to generate a new connection in code with the credentials from the code or something like that in a @ Configuration component. I don&#39;t think that any of that will work for me because because the credentials cannot be hanging around in some @ configuration component.","body":"No, because the entitymanager is built with the credentials specified in the application.properties and it is not correct to generate a new connection in code with the credentials from the code or something like that in a @ Configuration component. I don&#39;t think that any of that will work for me because because the credentials cannot be hanging around in some @ configuration component."},{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1650898907,"post_id":71955975,"comment_id":127226348,"body_markdown":"Don&#39;t you mind to add more details on how you build the app and how you run the app? Suggestions in the comments under question and answer should fulfil your requirements, I have a feeling that you got the info and don&#39;t know how to apply it or initial question is confusing to people who tries to answer. 1. How you build the app? 2. How you run the app locally? 3. How is it supposed to run in prod? 4. What do you mean by &quot;integrated connection&quot;?","body":"Don&#39;t you mind to add more details on how you build the app and how you run the app? Suggestions in the comments under question and answer should fulfil your requirements, I have a feeling that you got the info and don&#39;t know how to apply it or initial question is confusing to people who tries to answer. 1. How you build the app? 2. How you run the app locally? 3. How is it supposed to run in prod? 4. What do you mean by &quot;integrated connection&quot;?"},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1650997897,"post_id":71955975,"comment_id":127255539,"body_markdown":"Hello @Dmytro, I don&#39;t think that with the information you have provided I can clarify my question. I have passed my question to several people who also work with Spring Boot and they have managed to understand it perfectly. As I said, what I&#39;m trying to do is that when running a package, spring boot doesn&#39;t try to make a connection to the database. As simple as that. When a run or package is done, spring boot automatically tries to make a connection to the database to validate that everything is ok. That&#39;s what I&#39;m trying to avoid.","body":"Hello @Dmytro, I don&#39;t think that with the information you have provided I can clarify my question. I have passed my question to several people who also work with Spring Boot and they have managed to understand it perfectly. As I said, what I&#39;m trying to do is that when running a package, spring boot doesn&#39;t try to make a connection to the database. As simple as that. When a run or package is done, spring boot automatically tries to make a connection to the database to validate that everything is ok. That&#39;s what I&#39;m trying to avoid."},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1650997920,"post_id":71955975,"comment_id":127255548,"body_markdown":"Ok, I&#39;m going to break my answer into 4 sections to answer your questions.\n1- To do a build I basically run a maven package in IntelliJ. That generates a .jar file that can be run on any windows pc/windows server.\n2- Locally to test in development I give a run to my main class in IntelliJ. That brings up my API at 127.0.0.1:[port].","body":"Ok, I&#39;m going to break my answer into 4 sections to answer your questions. 1- To do a build I basically run a maven package in IntelliJ. That generates a .jar file that can be run on any windows pc/windows server. 2- Locally to test in development I give a run to my main class in IntelliJ. That brings up my API at 127.0.0.1:[port]."},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1650997942,"post_id":71955975,"comment_id":127255558,"body_markdown":"3- I have developed a compilation pipeline in Microsoft TFS, which is the tool used by the company I work for, and what it does is generate an application.properties and persistence.xml suitable for production. After that, it makes a package and generates a .jar that will be the one that will be deployed in production.\n4- I apologize because perhaps with what I have said before I have confused you. The correct term is &quot;Windows authentification&quot;. Windows authentication is a method of identifying a login with credentials supplied by the Windows operating system (OS) of the connecting computer.","body":"3- I have developed a compilation pipeline in Microsoft TFS, which is the tool used by the company I work for, and what it does is generate an application.properties and persistence.xml suitable for production. After that, it makes a package and generates a .jar that will be the one that will be deployed in production. 4- I apologize because perhaps with what I have said before I have confused you. The correct term is &quot;Windows authentification&quot;. Windows authentication is a method of identifying a login with credentials supplied by the Windows operating system (OS) of the connecting computer."},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1650997947,"post_id":71955975,"comment_id":127255562,"body_markdown":"So what I&#39;m trying to do is specify in the connection string that Windows authentication method will be used. Therefore, when the service account starts the service (which is the .jar), the credentials it will use are those of the service account and not ones specified in application.properties or in persistence.xml. What this allows is that if you execute the .jar it will use your credentials, if I execute it it will use my credentials, and so on with anyone who executes the .jar.\nI hope you have understood, I think I can not be clearer than that haha.","body":"So what I&#39;m trying to do is specify in the connection string that Windows authentication method will be used. Therefore, when the service account starts the service (which is the .jar), the credentials it will use are those of the service account and not ones specified in application.properties or in persistence.xml. What this allows is that if you execute the .jar it will use your credentials, if I execute it it will use my credentials, and so on with anyone who executes the .jar. I hope you have understood, I think I can not be clearer than that haha."}],"answers":[{"tags":[],"owner":{"account_id":8958141,"reputation":78,"user_id":6681755,"display_name":"Technobabel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650882009,"creation_date":1650551324,"answer_id":71956218,"question_id":71955975,"body_markdown":"Is the service account useing a special spring profile when starting the jar? \r\nThen you could do this in you application.properties:\r\n```\r\n#---\r\nspring.config.activate.on-profile=serviceProfile \r\nspring.datasource.url=jdbc:sqlserver://${DB_HOST};database=${DB_NAME} \r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver \r\nspring.datasource.username=${DB_USER}\r\nspring.datasource.password=${DB_PASSWORD} \r\nserver.port=8080\r\n```\r\n\r\nThe service would start the jar like this:\r\n```\r\njava -jar -Dspring.profiles.active=serviceProfile -DDB_HOST=X.X.X.X:1433 -DDB_NAME=X -DDB_USER=X -DDB_PASSWORD=X application.jar\r\n```","title":"How can I do in java spring boot not try a database connection on start up?","body":"<p>Is the service account useing a special spring profile when starting the jar?\nThen you could do this in you application.properties:</p>\n<pre><code>#---\nspring.config.activate.on-profile=serviceProfile \nspring.datasource.url=jdbc:sqlserver://${DB_HOST};database=${DB_NAME} \nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver \nspring.datasource.username=${DB_USER}\nspring.datasource.password=${DB_PASSWORD} \nserver.port=8080\n</code></pre>\n<p>The service would start the jar like this:</p>\n<pre><code>java -jar -Dspring.profiles.active=serviceProfile -DDB_HOST=X.X.X.X:1433 -DDB_NAME=X -DDB_USER=X -DDB_PASSWORD=X application.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657996637,"creation_date":1657996637,"answer_id":73006783,"question_id":71955975,"body_markdown":"Using this anotation on the main class resolve everything\r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\n\r\nInstead of\r\n\r\n    @SpringBootApplication()","title":"How can I do in java spring boot not try a database connection on start up?","body":"<p>Using this anotation on the main class resolve everything</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\n</code></pre>\n<p>Instead of</p>\n<pre><code>@SpringBootApplication()\n</code></pre>\n"}],"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73006783,"answer_count":2,"score":1,"last_activity_date":1657996637,"creation_date":1650550413,"question_id":71955975,"body_markdown":"I need to know if there is a way in Java Spring boot not to try a connection at startup. What I am trying to do is an integrated SQL server connection. I am trying to generate a .jar with integrated connection and not with SQL credentials. As a developer, I don&#39;t have access permissions to the database, but the service account that runs the .jar does.\r\nThe thing is that if I try to establish a connection string with integrated authentication it will try to log in with my credentials and it will never be able to, so it will not be able to generate the .jar\r\nAt the moment my app is working fine with sql credentials, but I need to migrate to integrated credentials.\r\n\r\nMy pom.xml looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;X&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;X&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;name&gt;X&lt;/name&gt;\r\n    \t&lt;description&gt;X&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAnd my application.properties:\r\n\r\n    spring.datasource.url=jdbc:sqlserver://X.X.X.X:1433;database=X\r\n    spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.datasource.username=X\r\n    spring.datasource.password=X\r\n    server.port=8080\r\n\r\nI also try adding this line in application.properties with no success:\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration\r\n\r\n","title":"How can I do in java spring boot not try a database connection on start up?","body":"<p>I need to know if there is a way in Java Spring boot not to try a connection at startup. What I am trying to do is an integrated SQL server connection. I am trying to generate a .jar with integrated connection and not with SQL credentials. As a developer, I don't have access permissions to the database, but the service account that runs the .jar does.\nThe thing is that if I try to establish a connection string with integrated authentication it will try to log in with my credentials and it will never be able to, so it will not be able to generate the .jar\nAt the moment my app is working fine with sql credentials, but I need to migrate to integrated credentials.</p>\n<p>My pom.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;X&lt;/groupId&gt;\n    &lt;artifactId&gt;X&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;X&lt;/name&gt;\n    &lt;description&gt;X&lt;/description&gt;\n    &lt;properties&gt;\n\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And my application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://X.X.X.X:1433;database=X\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.username=X\nspring.datasource.password=X\nserver.port=8080\n</code></pre>\n<p>I also try adding this line in application.properties with no success:</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration\n</code></pre>\n"},{"tags":["java","rest","azure-devops","azure-devops-rest-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647926382,"post_id":71567103,"comment_id":126487962,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647929847,"creation_date":1647929847,"answer_id":71567659,"question_id":71567103,"body_markdown":"If I am understanding you correctly, you are trying to call azure APIs, and those API need authorization token?\r\n\r\nFor example this azure API to send data into Azure queue : https://learn.microsoft.com/en-us/rest/api/servicebus/send-message-to-queue\r\n\r\nIt needs some payload and **Authorization** in request header !!\r\n\r\n\r\n----------\r\n\r\nIf my Understanding is correct, than from java you need to use any **rest client** or **HTTP client** to **call the REST API** and you need to pass the **Authorization** token in the request header \r\n\r\n**For calling a Rest API in java with passing header below is an example:**\r\n\r\n\r\n\r\n    MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;&gt;();\r\n    map.add(&quot;Authorization&quot;, &quot;Bearer &lt;Azure AD JWT token&gt;&quot;); // set your token here\r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON); //someother http headers you want to set\r\n    \r\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\n    \r\n    RestTemplate restTemplate = new RestTemplate();\r\n    String azure_url = &quot;https://azure_url&quot;; // your azure devops REST URL\r\n    \r\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(azure_url, request , String.class);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Using rest api of azure devops","body":"<p>If I am understanding you correctly, you are trying to call azure APIs, and those API need authorization token?</p>\n<p>For example this azure API to send data into Azure queue : <a href=\"https://learn.microsoft.com/en-us/rest/api/servicebus/send-message-to-queue\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/rest/api/servicebus/send-message-to-queue</a></p>\n<p>It needs some payload and <strong>Authorization</strong> in request header !!</p>\n<hr />\n<p>If my Understanding is correct, than from java you need to use any <strong>rest client</strong> or <strong>HTTP client</strong> to <strong>call the REST API</strong> and you need to pass the <strong>Authorization</strong> token in the request header</p>\n<p><strong>For calling a Rest API in java with passing header below is an example:</strong></p>\n<pre><code>MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;&gt;();\nmap.add(&quot;Authorization&quot;, &quot;Bearer &lt;Azure AD JWT token&gt;&quot;); // set your token here\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON); //someother http headers you want to set\n\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\n\nRestTemplate restTemplate = new RestTemplate();\nString azure_url = &quot;https://azure_url&quot;; // your azure devops REST URL\n\nResponseEntity&lt;String&gt; response = restTemplate.postForEntity(azure_url, request , String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11226494,"reputation":13651,"user_id":8235971,"display_name":"Shamrai Aleksander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648110908,"creation_date":1648110908,"answer_id":71599225,"question_id":71567103,"body_markdown":"A small example with httpclient:\r\n\r\n    static String ServiceUrl = &quot;https://dev.azure.com/&lt;your_org&gt;/&quot;;\r\n\tstatic String TeamProjectName = &quot;your_team_project_name&quot;;\r\n\tstatic String UrlEndGetWorkItemById = &quot;/_apis/wit/workitems/&quot;;\r\n\tstatic Integer WorkItemId = 1208;\r\n\tstatic String PAT = &quot;your_pat&quot;;\r\n\r\n    String AuthStr = &quot;:&quot; + PAT;\r\n\tBase64 base64 = new Base64();\r\n\t\t\t\r\n\tString encodedPAT = new String(base64.encode(AuthStr.getBytes()));\r\n\t\t\t\r\n\tURL url = new URL(ServiceUrl + TeamProjectName + UrlEndGetWorkItemById + WorkItemId.toString());\r\n\tHttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n\t\t\t\r\n\tcon.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedPAT);\r\n\tcon.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\r\n\tint status = con.getResponseCode();\r\n\r\nLink to the file: [ResApiMain.java][1] \r\n\r\n\r\n  [1]: https://github.com/ashamrai/AzureDevOpsExtensions/blob/master/AzureDevOpsRestApiJavaExample/src/com/restapi/sample/ResApiMain.java","title":"Using rest api of azure devops","body":"<p>A small example with httpclient:</p>\n<pre><code>static String ServiceUrl = &quot;https://dev.azure.com/&lt;your_org&gt;/&quot;;\nstatic String TeamProjectName = &quot;your_team_project_name&quot;;\nstatic String UrlEndGetWorkItemById = &quot;/_apis/wit/workitems/&quot;;\nstatic Integer WorkItemId = 1208;\nstatic String PAT = &quot;your_pat&quot;;\n\nString AuthStr = &quot;:&quot; + PAT;\nBase64 base64 = new Base64();\n        \nString encodedPAT = new String(base64.encode(AuthStr.getBytes()));\n        \nURL url = new URL(ServiceUrl + TeamProjectName + UrlEndGetWorkItemById + WorkItemId.toString());\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\n        \ncon.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedPAT);\ncon.setRequestMethod(&quot;GET&quot;);\n        \nint status = con.getResponseCode();\n</code></pre>\n<p>Link to the file: <a href=\"https://github.com/ashamrai/AzureDevOpsExtensions/blob/master/AzureDevOpsRestApiJavaExample/src/com/restapi/sample/ResApiMain.java\" rel=\"nofollow noreferrer\">ResApiMain.java</a></p>\n"},{"tags":[],"owner":{"account_id":17805955,"reputation":46,"user_id":12931662,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657996436,"creation_date":1657995923,"answer_id":73006704,"question_id":71567103,"body_markdown":"You can the use java client library for azure devops rest api. This will take the overload of encoding your personal access token and indeed supports OAuth authentication.\r\n\r\nIt is been actively developed and used in production.\r\n\r\nSource code - https://github.com/hkarthik7/azure-devops-java-sdk\r\n\r\nDocumentation - https://azure-devops-java-sdk-docs.readthedocs.io/en/latest/?badge=latest\r\n\r\nA quick example:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String organisation = &quot;myOrganisationName&quot;;\r\n        String personalAccessToken = &quot;accessToken&quot;;\r\n        String projectName = &quot;myProject&quot;;\r\n\r\n        // Connect Azure DevOps API with organisation name and personal access token.\r\n        var webApi = new AzDClientApi(organisation, project, personalAccessToken);\r\n\r\n        // call the respective API with created webApi client connection object;\r\n        var core = webApi.getCoreApi();\r\n        var wit = webApi.getWorkItemTrackingApi();\r\n\r\n        try {\r\n            // get the list of projects\r\n            core.getProjects();\r\n\r\n            // get a workitem\r\n            wit.getWorkItem(15);\r\n\r\n            // Get a work item and optionally expand the field\r\n            wit.getWorkItem(15, WorkItemExpand.ALL);\r\n            \r\n        } catch (AzDException e1) {\r\n            e1.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe library has support to most of the APIs and you can view the documentation and examples folder in the github repo to know how to get the most out of it.","title":"Using rest api of azure devops","body":"<p>You can the use java client library for azure devops rest api. This will take the overload of encoding your personal access token and indeed supports OAuth authentication.</p>\n<p>It is been actively developed and used in production.</p>\n<p>Source code - <a href=\"https://github.com/hkarthik7/azure-devops-java-sdk\" rel=\"nofollow noreferrer\">https://github.com/hkarthik7/azure-devops-java-sdk</a></p>\n<p>Documentation - <a href=\"https://azure-devops-java-sdk-docs.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow noreferrer\">https://azure-devops-java-sdk-docs.readthedocs.io/en/latest/?badge=latest</a></p>\n<p>A quick example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String organisation = &quot;myOrganisationName&quot;;\n        String personalAccessToken = &quot;accessToken&quot;;\n        String projectName = &quot;myProject&quot;;\n\n        // Connect Azure DevOps API with organisation name and personal access token.\n        var webApi = new AzDClientApi(organisation, project, personalAccessToken);\n\n        // call the respective API with created webApi client connection object;\n        var core = webApi.getCoreApi();\n        var wit = webApi.getWorkItemTrackingApi();\n\n        try {\n            // get the list of projects\n            core.getProjects();\n\n            // get a workitem\n            wit.getWorkItem(15);\n\n            // Get a work item and optionally expand the field\n            wit.getWorkItem(15, WorkItemExpand.ALL);\n            \n        } catch (AzDException e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The library has support to most of the APIs and you can view the documentation and examples folder in the github repo to know how to get the most out of it.</p>\n"}],"owner":{"account_id":24587571,"reputation":27,"user_id":18491865,"display_name":"Abhishek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1657996436,"creation_date":1647925155,"question_id":71567103,"body_markdown":"I want to fetch data from the rest api of Azure Devops using Java.But not sure how to establish the connection.May be personal acces token will help,but how to use the token in Code for establishing the connection between code and azure devops? An example from anyone will be very helpful.\r\n\r\nA code example will be very helpfull","title":"Using rest api of azure devops","body":"<p>I want to fetch data from the rest api of Azure Devops using Java.But not sure how to establish the connection.May be personal acces token will help,but how to use the token in Code for establishing the connection between code and azure devops? An example from anyone will be very helpful.</p>\n<p>A code example will be very helpfull</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1657963985,"post_id":73002826,"comment_id":128938077,"body_markdown":"PersonRepository code is missing, could you share it too?","body":"PersonRepository code is missing, could you share it too?"},{"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"score":0,"creation_date":1657964083,"post_id":73002826,"comment_id":128938088,"body_markdown":"Ok it&#39;s done.\n@Repository\npublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\n\n}","body":"Ok it&#39;s done. @Repository public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {  }"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1657964548,"post_id":73002826,"comment_id":128938162,"body_markdown":"Why does Person contain and @ElementCollection of entities? The &#39;ElementCollection&#39; should be on basic type or embeddable class, it should not manage entities. https://javadoc.io/static/jakarta.persistence/jakarta.persistence-api/3.0.0-RC1/jakarta/persistence/ElementCollection.html","body":"Why does Person contain and @ElementCollection of entities? The &#39;ElementCollection&#39; should be on basic type or embeddable class, it should not manage entities. <a href=\"https://javadoc.io/static/jakarta.persistence/jakarta.persistence-api/3.0.0-RC1/jakarta/persistence/ElementCollection.html\" rel=\"nofollow noreferrer\">javadoc.io/static/jakarta.persistence/jakarta.persistence-ap&zwnj;&#8203;i/&hellip;</a>"},{"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"score":0,"creation_date":1657964831,"post_id":73002826,"comment_id":128938200,"body_markdown":"Ok, maybe error come frome here, so i try to find another way to map this entitity","body":"Ok, maybe error come frome here, so i try to find another way to map this entitity"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":2,"creation_date":1657964976,"post_id":73002826,"comment_id":128938230,"body_markdown":"You could use the &#39;OneToMany&#39; annotation. https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/","body":"You could use the &#39;OneToMany&#39; annotation. <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1657984730,"post_id":73002826,"comment_id":128941985,"body_markdown":"Let the community know about the fix (or not) :)","body":"Let the community know about the fix (or not) :)"}],"answers":[{"tags":[],"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657996417,"creation_date":1657996417,"answer_id":73006762,"question_id":73002826,"body_markdown":"[![i][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2QfEN.png\r\n\r\nIn fact the problem concerned entities mapping. Instead of @ElementCollection i use now @OneToMany for the user&#39;s weights list and it&#39;s ok.\r\nI have imported  a screenshoot of my Entities after this change. Thanks for help !\r\nJust bellow my new entity Person :\r\n\r\n   \r\n\r\n        @Entity\r\n        @Table(name = &quot;person&quot;)\r\n        public class Person implements Serializable {\r\n        \r\n        \tprivate static final long serialVersionUID = 1L;\r\n        \r\n        \t@Id\r\n        \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        \t@Column(name = &quot;id_person&quot;)\r\n        \tprivate Long idPerson;\r\n        \r\n        \t@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        \t@JoinColumn(name = &quot;id_initial_data&quot;)\r\n        \tprivate InitialData userInitData;\r\n        \r\n        \t@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        \t@JoinColumn(name = &quot;id_user&quot;)\r\n        \tprivate AppUser appUserPerson;\r\n        \t\r\n        \t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        \tprivate List&lt;WeightRecord&gt; weightsList;\r\n            /*Getters and setters*/\r\n\r\n","title":"Spring Data/JPA and errorType : object references an unsaved transient instance - save the transient instance before flushing","body":"<p><a href=\"https://i.stack.imgur.com/2QfEN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2QfEN.png\" alt=\"i\" /></a></p>\n<p>In fact the problem concerned entities mapping. Instead of @ElementCollection i use now @OneToMany for the user's weights list and it's ok.\nI have imported  a screenshoot of my Entities after this change. Thanks for help !\nJust bellow my new entity Person :</p>\n<pre><code>    @Entity\n    @Table(name = &quot;person&quot;)\n    public class Person implements Serializable {\n    \n        private static final long serialVersionUID = 1L;\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;id_person&quot;)\n        private Long idPerson;\n    \n        @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n        @JoinColumn(name = &quot;id_initial_data&quot;)\n        private InitialData userInitData;\n    \n        @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n        @JoinColumn(name = &quot;id_user&quot;)\n        private AppUser appUserPerson;\n        \n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n        private List&lt;WeightRecord&gt; weightsList;\n        /*Getters and setters*/\n</code></pre>\n"}],"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73006762,"answer_count":1,"score":1,"last_activity_date":1657996417,"creation_date":1657961466,"question_id":73002826,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tFuSU.png\r\n\r\nI have this error with JPA when I update a Person with my repository appUserRepository.save():\r\n&quot; ***2022-07-16 10:27:30.080 ERROR 4792 --- [nio-7777-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; WeightRecord; nested exception is java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.quentingenet.openweighttracker.entity.WeightRecord] with root cause***\r\n &quot;\r\nI&#39;ve looked at posts on stackoverflow regarding this error but can&#39;t find any solutions. I also tried the cascadeType.ALL. Just bellow you can see in Class &#39;WeightRecordController&#39; the post method &#39;saveWeight&#39;. The &#39;personRepository.save(personToUpdate);&#39; create error when it&#39;s called.\r\n\r\n  \r\n\r\n          @Entity\r\n            @Table(name = &quot;person&quot;)\r\n            public class Person implements Serializable{\r\n            \t\r\n            \tprivate static final long serialVersionUID = 1L;\r\n            \r\n            \t@Id\r\n            \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            \t@Column(name=&quot;id_person&quot;)\r\n            \tprivate Long idPerson;\r\n            \r\n            \t@ElementCollection\r\n            \tprivate List&lt;WeightRecord&gt; userPersonnalWeightsRecord = new ArrayList&lt;WeightRecord&gt;();\r\n            \t\r\n            \t@OneToOne( cascade =  CascadeType.ALL, fetch = FetchType.EAGER)\r\n            \t@JoinColumn(name = &quot;id_initial_data&quot;)\r\n            \tprivate InitialData userInitData;\r\n            \t\r\n            \t@OneToOne( cascade =  CascadeType.ALL, fetch = FetchType.EAGER)\r\n            \t@JoinColumn(name = &quot;id_user&quot;)\r\n            \tprivate AppUser appUserPerson;\r\n            \r\n            \t@OneToOne(cascade =  CascadeType.ALL, fetch = FetchType.EAGER)\r\n            \t@JoinColumn(name = &quot;id_weight_record&quot;)\r\n            \tprivate WeightRecord weightRecord;\r\n        \r\n        \r\n        \r\n            @Entity\r\n            @Table(name = &quot;weight_record&quot;)\r\n            public class WeightRecord implements Serializable{\r\n            \r\n            \tprivate static final long serialVersionUID = 1L;\r\n            \r\n            \t@Id\r\n            \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            \t@Column(name = &quot;id_weight_record&quot;)\r\n            \tprivate Long idWeightRecord;\r\n            \r\n            \t@Column(name = &quot;weight_record_date&quot;, nullable = true)\r\n            \tprivate LocalDate weightRecordDate;\r\n            \r\n            \t@Min(1)\r\n            \t@Max(635)\r\n            \t@Column(name = &quot;weight_kg_record&quot;, nullable = true, precision = 1)\r\n            \tprivate Double weightKgRecord;\r\n            \r\n            \t@Min(1)\r\n            \t@Max(99)\r\n            \t@Column(name = &quot;percent_fat_mass&quot;, nullable = true, precision = 1)\r\n            \tprivate Double percentFatMass;\r\n            \r\n            \t@Min(1)\r\n            \t@Max(99)\r\n            \t@Column(name = &quot;percent_muscular_mass&quot;, nullable = true, precision = 1)\r\n            \tprivate Double percentMuscularMass;\r\n            \r\n            \t@Min(1)\r\n            \t@Max(99)\r\n            \t@Column(name = &quot;percent_body_water&quot;, nullable = true, precision = 1)\r\n            \tprivate Double percentBodyWater;\r\n            \r\n            \t@Min(1)\r\n            \t@Max(99)\r\n            \t@Column(name = &quot;percent_bone_mass&quot;, nullable = true, precision = 1)\r\n            \tprivate Double percentBoneMass;\r\n        \r\n        \r\n        @Table(name = &quot;initial_data&quot;)\r\n        @Entity\r\n        public class InitialData implements Serializable{\r\n        \r\n        \tprivate static final long serialVersionUID = 1L;\r\n        \r\n        \t@Id\r\n        \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        \t@Column(name = &quot;id_initial_data&quot;)\r\n        \tprivate Long idInitialData;\r\n        \r\n        \t@Min(5)\r\n        \t@Max(636)\r\n        \t@Column(name = &quot;goal_weight&quot;, nullable = true, precision = 1)\r\n        \tprivate Double goalWeight;\r\n        \r\n        \t@Min(25)\r\n        \t@Max(300)\r\n        \t@Column(name = &quot;body_size&quot;, nullable = true)\r\n        \tprivate Integer bodySize;\r\n        \r\n        \t// @Size(min = 3, max = 5, message = &quot;Please choose between MAN or WOMAN&quot;)\r\n        \t@Column(name = &quot;sex&quot;, nullable = true)\r\n        \tprivate String sex;\r\n        \r\n        \t@Min(1917)\r\n        \t@Max(2022)\r\n        \t@Column(name = &quot;year_birth&quot;, nullable = true)\r\n        \tprivate Integer yearBirth;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;app_users&quot;)\r\n    public class AppUser implements Serializable{\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id_user&quot;)\r\n    \tprivate Long idUser;\r\n    \r\n    \t@NotEmpty\r\n    \t@Size(min = 3, max = 36)\r\n    \t@Column(name = &quot;appUsername&quot;, nullable = false, unique = true)\r\n    \tprivate String appUsername;\r\n    \r\n    \t@NotEmpty\r\n    \t@Size(min = 4, max = 255)\r\n    \t@Column(name = &quot;password&quot;, nullable = false)\r\n    \tprivate String password;\r\n    \r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/weights&quot;)\r\n    public class WeightRecordController {\r\n    \r\n    \t@Autowired\r\n    \tWeightRecordServiceImpl weightRecordServiceImpl;\r\n    \r\n    \t@Autowired\r\n    \tWeightRecordRepository weightRecordRepository;\r\n    \r\n    \t@Autowired\r\n    \tAppUserRepository appUserRepository;\r\n    \r\n    \t@Autowired\r\n    \tPersonRepository personRepository;\r\n    \r\n    \tprivate final Logger logger = LoggerFactory.getLogger(WeightRecordController.class);\r\n    \r\n    \tpublic Long getAppUserConnectedId(Principal principal) {\r\n    \t\t// TODO user/principal is null... so exception is raise with message &quot;User not\r\n    \t\t// found&quot;\r\n    \t\tif (!(principal instanceof UsernamePasswordAuthenticationToken)) {\r\n    \t\t\tthrow new RuntimeException((&quot;User not found&quot;));\r\n    \t\t}\r\n    \t\tlogger.info(&quot;USER IS PRESENT IN DATABASE FROM FUNCTION &#39;getAppUserConnectedId()&#39;&quot;);\r\n    \t\tUsernamePasswordAuthenticationToken token = (UsernamePasswordAuthenticationToken) principal;\r\n    \t\tAppUser appUserFinded = appUserRepository.findByAppUsername(token.getName());\r\n    \t\treturn appUserFinded.getIdUser();\r\n    \t}\r\n    \r\n\r\n    \r\n    \t// TODO\r\n    \t@PostMapping\r\n    \tpublic ResponseEntity&lt;WeightRecord&gt; saveWeight(@RequestBody WeightRecord weightRecord, Principal principal) {\r\n    \t\tlogger.info(&quot;POST /weights&quot;);\r\n    \t\tLong appUserConnectedId = this.getAppUserConnectedId(principal);\r\n    \t\tOptional&lt;Person&gt; personUserToSave = personRepository.findById(appUserConnectedId);\r\n    \t\tlogger.info(&quot;PERSON FINDED IN DATABASE&quot;);\r\n    \t\tif (personUserToSave.isPresent()) {\r\n    \t\t\tlogger.info(&quot;USER IS PRESENT IN DATABASE FROM saveWeightController&quot;);\r\n    \t\t\tweightRecordServiceImpl.saveWeightRecord(weightRecord);\r\n    \t\t\tlogger.info(&quot;WEIGHT RECORD IS SAVED NOW&quot;);\r\n    \t\t} else {\r\n    \t\t\treturn new ResponseEntity&lt;WeightRecord&gt;(HttpStatus.BAD_REQUEST);\r\n    \t\t}\r\n    \r\n    \t\tPerson personToUpdate = personRepository.findById(appUserConnectedId).orElseThrow();\r\n    \t\tList&lt;WeightRecord&gt; personWeightsList = personToUpdate.getUserPersonnalWeightsRecord();\r\n    \t\tpersonWeightsList.add(weightRecord);\r\n    \t\tpersonToUpdate.setUserPersonnalWeightsRecord(personWeightsList);\r\n    \t\tlogger.info(&quot;WEIGHT UPDATED IN PERSONNAL USER LIST WITH ID n&#176;{}&quot;,appUserConnectedId);\r\n    \t\t//TODO : FIX PROBLEM just bellow\r\n    \t\tpersonRepository.save(personToUpdate);\r\n    \t\tlogger.info(&quot;PERSON WITH ID N&#176;{} IS UPDATED NOW.&quot;, personToUpdate.getIdPerson());\r\n    \r\n    \t\treturn new ResponseEntity&lt;WeightRecord&gt;(weightRecord, HttpStatus.CREATED);\r\n    \t}\r\n\r\n    @Repository\r\n    public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\r\n    \r\n    }","title":"Spring Data/JPA and errorType : object references an unsaved transient instance - save the transient instance before flushing","body":"<p><a href=\"https://i.stack.imgur.com/tFuSU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tFuSU.png\" alt=\"enter image description here\" /></a></p>\n<p>I have this error with JPA when I update a Person with my repository appUserRepository.save():\n&quot; <em><strong>2022-07-16 10:27:30.080 ERROR 4792 --- [nio-7777-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; WeightRecord; nested exception is java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.quentingenet.openweighttracker.entity.WeightRecord] with root cause</strong></em>\n&quot;\nI've looked at posts on stackoverflow regarding this error but can't find any solutions. I also tried the cascadeType.ALL. Just bellow you can see in Class 'WeightRecordController' the post method 'saveWeight'. The 'personRepository.save(personToUpdate);' create error when it's called.</p>\n<pre><code>      @Entity\n        @Table(name = &quot;person&quot;)\n        public class Person implements Serializable{\n            \n            private static final long serialVersionUID = 1L;\n        \n            @Id\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\n            @Column(name=&quot;id_person&quot;)\n            private Long idPerson;\n        \n            @ElementCollection\n            private List&lt;WeightRecord&gt; userPersonnalWeightsRecord = new ArrayList&lt;WeightRecord&gt;();\n            \n            @OneToOne( cascade =  CascadeType.ALL, fetch = FetchType.EAGER)\n            @JoinColumn(name = &quot;id_initial_data&quot;)\n            private InitialData userInitData;\n            \n            @OneToOne( cascade =  CascadeType.ALL, fetch = FetchType.EAGER)\n            @JoinColumn(name = &quot;id_user&quot;)\n            private AppUser appUserPerson;\n        \n            @OneToOne(cascade =  CascadeType.ALL, fetch = FetchType.EAGER)\n            @JoinColumn(name = &quot;id_weight_record&quot;)\n            private WeightRecord weightRecord;\n    \n    \n    \n        @Entity\n        @Table(name = &quot;weight_record&quot;)\n        public class WeightRecord implements Serializable{\n        \n            private static final long serialVersionUID = 1L;\n        \n            @Id\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\n            @Column(name = &quot;id_weight_record&quot;)\n            private Long idWeightRecord;\n        \n            @Column(name = &quot;weight_record_date&quot;, nullable = true)\n            private LocalDate weightRecordDate;\n        \n            @Min(1)\n            @Max(635)\n            @Column(name = &quot;weight_kg_record&quot;, nullable = true, precision = 1)\n            private Double weightKgRecord;\n        \n            @Min(1)\n            @Max(99)\n            @Column(name = &quot;percent_fat_mass&quot;, nullable = true, precision = 1)\n            private Double percentFatMass;\n        \n            @Min(1)\n            @Max(99)\n            @Column(name = &quot;percent_muscular_mass&quot;, nullable = true, precision = 1)\n            private Double percentMuscularMass;\n        \n            @Min(1)\n            @Max(99)\n            @Column(name = &quot;percent_body_water&quot;, nullable = true, precision = 1)\n            private Double percentBodyWater;\n        \n            @Min(1)\n            @Max(99)\n            @Column(name = &quot;percent_bone_mass&quot;, nullable = true, precision = 1)\n            private Double percentBoneMass;\n    \n    \n    @Table(name = &quot;initial_data&quot;)\n    @Entity\n    public class InitialData implements Serializable{\n    \n        private static final long serialVersionUID = 1L;\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;id_initial_data&quot;)\n        private Long idInitialData;\n    \n        @Min(5)\n        @Max(636)\n        @Column(name = &quot;goal_weight&quot;, nullable = true, precision = 1)\n        private Double goalWeight;\n    \n        @Min(25)\n        @Max(300)\n        @Column(name = &quot;body_size&quot;, nullable = true)\n        private Integer bodySize;\n    \n        // @Size(min = 3, max = 5, message = &quot;Please choose between MAN or WOMAN&quot;)\n        @Column(name = &quot;sex&quot;, nullable = true)\n        private String sex;\n    \n        @Min(1917)\n        @Max(2022)\n        @Column(name = &quot;year_birth&quot;, nullable = true)\n        private Integer yearBirth;\n\n@Entity\n@Table(name = &quot;app_users&quot;)\npublic class AppUser implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id_user&quot;)\n    private Long idUser;\n\n    @NotEmpty\n    @Size(min = 3, max = 36)\n    @Column(name = &quot;appUsername&quot;, nullable = false, unique = true)\n    private String appUsername;\n\n    @NotEmpty\n    @Size(min = 4, max = 255)\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n\n\n@RestController\n@RequestMapping(&quot;/weights&quot;)\npublic class WeightRecordController {\n\n    @Autowired\n    WeightRecordServiceImpl weightRecordServiceImpl;\n\n    @Autowired\n    WeightRecordRepository weightRecordRepository;\n\n    @Autowired\n    AppUserRepository appUserRepository;\n\n    @Autowired\n    PersonRepository personRepository;\n\n    private final Logger logger = LoggerFactory.getLogger(WeightRecordController.class);\n\n    public Long getAppUserConnectedId(Principal principal) {\n        // TODO user/principal is null... so exception is raise with message &quot;User not\n        // found&quot;\n        if (!(principal instanceof UsernamePasswordAuthenticationToken)) {\n            throw new RuntimeException((&quot;User not found&quot;));\n        }\n        logger.info(&quot;USER IS PRESENT IN DATABASE FROM FUNCTION 'getAppUserConnectedId()'&quot;);\n        UsernamePasswordAuthenticationToken token = (UsernamePasswordAuthenticationToken) principal;\n        AppUser appUserFinded = appUserRepository.findByAppUsername(token.getName());\n        return appUserFinded.getIdUser();\n    }\n\n\n\n    // TODO\n    @PostMapping\n    public ResponseEntity&lt;WeightRecord&gt; saveWeight(@RequestBody WeightRecord weightRecord, Principal principal) {\n        logger.info(&quot;POST /weights&quot;);\n        Long appUserConnectedId = this.getAppUserConnectedId(principal);\n        Optional&lt;Person&gt; personUserToSave = personRepository.findById(appUserConnectedId);\n        logger.info(&quot;PERSON FINDED IN DATABASE&quot;);\n        if (personUserToSave.isPresent()) {\n            logger.info(&quot;USER IS PRESENT IN DATABASE FROM saveWeightController&quot;);\n            weightRecordServiceImpl.saveWeightRecord(weightRecord);\n            logger.info(&quot;WEIGHT RECORD IS SAVED NOW&quot;);\n        } else {\n            return new ResponseEntity&lt;WeightRecord&gt;(HttpStatus.BAD_REQUEST);\n        }\n\n        Person personToUpdate = personRepository.findById(appUserConnectedId).orElseThrow();\n        List&lt;WeightRecord&gt; personWeightsList = personToUpdate.getUserPersonnalWeightsRecord();\n        personWeightsList.add(weightRecord);\n        personToUpdate.setUserPersonnalWeightsRecord(personWeightsList);\n        logger.info(&quot;WEIGHT UPDATED IN PERSONNAL USER LIST WITH ID n°{}&quot;,appUserConnectedId);\n        //TODO : FIX PROBLEM just bellow\n        personRepository.save(personToUpdate);\n        logger.info(&quot;PERSON WITH ID N°{} IS UPDATED NOW.&quot;, personToUpdate.getIdPerson());\n\n        return new ResponseEntity&lt;WeightRecord&gt;(weightRecord, HttpStatus.CREATED);\n    }\n\n@Repository\npublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","text","import"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657970695,"post_id":73003524,"comment_id":128939183,"body_markdown":"You are only passing one parameter to your constructor: `new Lekarz(Integer.parseInt(data[0]))`","body":"You are only passing one parameter to your constructor: <code>new Lekarz(Integer.parseInt(data[0]))</code>"},{"owner":{"account_id":21624438,"reputation":11,"user_id":15948949,"display_name":"bm09"},"score":0,"creation_date":1657971231,"post_id":73003524,"comment_id":128939279,"body_markdown":"Ok so if I were to delete the Lists from the constructor and leave it as it is in the file I get an error:\n\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Id_pacjenta\tNazwisko\tImie\tPESEL\tData_urodzenia&quot;\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:68)\n\tat java.base/java.lang.Integer.parseInt(Integer.java:658)\n\tat java.base/java.lang.Integer.parseInt(Integer.java:776)\n\tat com.company.Main.main(Main.java:40)","body":"Ok so if I were to delete the Lists from the constructor and leave it as it is in the file I get an error:  Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Id_pacjenta\tNazwisko\tImie\tPESEL\tData_urodzenia&quot; \tat java.base/java.lang.NumberFormatException.forInputString(Num&zwnj;&#8203;berFormatException.j&zwnj;&#8203;ava:68) \tat java.base/java.lang.Integer.parseInt(Integer.java:658) \tat java.base/java.lang.Integer.parseInt(Integer.java:776) \tat com.company.Main.main(Main.java:40)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657971402,"post_id":73003524,"comment_id":128939308,"body_markdown":"Please edit your question to show the actual code that is producing that error.","body":"Please edit your question to show the actual code that is producing that error."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657979274,"creation_date":1657978395,"answer_id":73004629,"question_id":73003524,"body_markdown":"Because of the data spacing in the file, try this:\r\n\r\n```\r\nwhile(readerLekarze.hasNextLine()){\r\n     String line = readerLekarze.nextLine();\r\n     // Remove leading and trailing whitespaces (if any).\r\n     line = line.trim()\r\n     // &quot;\\\\s+&quot; Takes care of any multi-spacing within the data line when splitting.  \r\n     String[] data =line.split(&quot;\\\\s+&quot;); \r\n     lekarz.add(new Lekarz(Integer.parseInt(data[0]),data[1],data[2],data[3],new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[4]),data[5],data[6]));\r\n}\r\n```\r\n\r\nYou **could** also just do:\r\n\r\n    String[] data = readerLekarze.nextLine().trim().split(&quot;\\\\s+&quot;);     ","title":"Actual and formal argument lists differ in length error in main","body":"<p>Because of the data spacing in the file, try this:</p>\n<pre><code>while(readerLekarze.hasNextLine()){\n     String line = readerLekarze.nextLine();\n     // Remove leading and trailing whitespaces (if any).\n     line = line.trim()\n     // &quot;\\\\s+&quot; Takes care of any multi-spacing within the data line when splitting.  \n     String[] data =line.split(&quot;\\\\s+&quot;); \n     lekarz.add(new Lekarz(Integer.parseInt(data[0]),data[1],data[2],data[3],new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[4]),data[5],data[6]));\n}\n</code></pre>\n<p>You <strong>could</strong> also just do:</p>\n<pre><code>String[] data = readerLekarze.nextLine().trim().split(&quot;\\\\s+&quot;);     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8945812,"reputation":706,"user_id":6673328,"display_name":"hizmarck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657996311,"creation_date":1657996311,"answer_id":73006748,"question_id":73003524,"body_markdown":"As a complement to the @DevilsHnd, you only need to add a code to avoid the first line, because the first line is the &quot;header information&quot; of your file.\r\n\r\n\r\n```\r\nboolean headerRead = false;\r\nwhile(readerLekarze.hasNextLine()) {\r\n    if (!headerRead) {\r\n        // extract the first line -&gt; Id_pacjenta    Nazwisko    Imie    PESEL   Data_urodzenia\r\n        readerLekarze.nextLine();\r\n        headerRead = true;\r\n        continue;\r\n    }\r\n\r\n    String line = readerLekarze.nextLine();\r\n    // Remove leading and trailing whitespaces (if any).\r\n    line = line.trim();\r\n    // &quot;\\\\s+&quot; Takes care of any multi-spacing within the data line when splitting.\r\n    String[] data =line.split(&quot;\\\\s+&quot;);\r\n\r\n    lekarz.add(new Lekarz(\r\n            Integer.parseInt(data[0]),\r\n            data[1],\r\n            data[2],\r\n            data[3],\r\n            new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[4])));\r\n}\r\n```\r\n\r\n","title":"Actual and formal argument lists differ in length error in main","body":"<p>As a complement to the @DevilsHnd, you only need to add a code to avoid the first line, because the first line is the &quot;header information&quot; of your file.</p>\n<pre><code>boolean headerRead = false;\nwhile(readerLekarze.hasNextLine()) {\n    if (!headerRead) {\n        // extract the first line -&gt; Id_pacjenta    Nazwisko    Imie    PESEL   Data_urodzenia\n        readerLekarze.nextLine();\n        headerRead = true;\n        continue;\n    }\n\n    String line = readerLekarze.nextLine();\n    // Remove leading and trailing whitespaces (if any).\n    line = line.trim();\n    // &quot;\\\\s+&quot; Takes care of any multi-spacing within the data line when splitting.\n    String[] data =line.split(&quot;\\\\s+&quot;);\n\n    lekarz.add(new Lekarz(\n            Integer.parseInt(data[0]),\n            data[1],\n            data[2],\n            data[3],\n            new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[4])));\n}\n</code></pre>\n"}],"owner":{"account_id":21624438,"reputation":11,"user_id":15948949,"display_name":"bm09"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657996311,"creation_date":1657968278,"question_id":73003524,"body_markdown":"Im working on a project where I have 3 text files with data of doctors, patients and home visits. When Im trying to upload the doctors file, upload all the data to a new object I get an error: \r\n\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Id_pacjenta\tNazwisko\tImie\tPESEL\tData_urodzenia&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:68)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:658)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:776)\r\n\tat com.company.Main.main(Main.java:40)\r\n\r\nBelow I&#39;ll paste my main as well as the classes &amp; a snapshot of the text file used for imports: \r\n\r\nCould anyone advise how to avoid this issue? Thanks!\r\n\r\n   \r\n\r\n     public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Lekarz&gt; lekarz = new ArrayList&lt;&gt;();\r\n    \r\n            try{\r\n                File fileLekarze = new File(&quot;src/com/company/lekarze.txt&quot;);\r\n                Scanner readerLekarze = new Scanner(fileLekarze);\r\n                while(readerLekarze.hasNextLine()){\r\n                    String[] data =readerLekarze.nextLine().split(&quot; &quot;);\r\n                    lekarz.add(new Lekarz(Integer.parseInt(data[0]),data[1],data[2],data[3],new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[4]),data[5],data[6]));\r\n                }\r\n                readerLekarze.close();\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;Error File Lekarze&quot;);\r\n                e.printStackTrace();\r\n            } catch (ParseException e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            List&lt;Pacjenci&gt; pacjent = new ArrayList&lt;&gt;();\r\n    \r\n            try{\r\n                File pacjenciFile = new File(&quot;src/com/company/pacjenci.txt&quot;);\r\n                Scanner readerPacjenci = new Scanner(pacjenciFile);\r\n                while(readerPacjenci.hasNextLine()){\r\n                    String[] data = readerPacjenci.nextLine().split(&quot; &quot;);\r\n                    pacjent.add(new Pacjenci(Integer.parseInt(data[0]),data[1],data[2],data[3],new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[4])));\r\n                }\r\n                readerPacjenci.close();\r\n    \r\n            }catch (FileNotFoundException e) {\r\n                System.out.println(&quot;Error File Pacjenci&quot;);\r\n                e.printStackTrace();\r\n            } catch (ParseException e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\n        public class Pacjenci {\r\n    \r\n        private int idPacjenta;\r\n        private String nazwisko;\r\n        private String imie;\r\n        private String pesel;\r\n        private Date dataUrodzenia;\r\n    \r\n        public Pacjenci(int idPacjenta, String nazwisko, String imie, String pesel, Date dataUrodzenia) {\r\n            this.idPacjenta = idPacjenta;\r\n            this.nazwisko = nazwisko;\r\n            this.imie = imie;\r\n            this.pesel = pesel;\r\n            this.dataUrodzenia = dataUrodzenia;\r\n    \r\n        }\r\n    \r\n        public int getIdPacjenta() {\r\n            return idPacjenta;\r\n        }\r\n    \r\n        public void setIdPacjenta(int idPacjenta) {\r\n            this.idPacjenta = idPacjenta;\r\n        }\r\n    \r\n        public String getNazwisko() {\r\n            return nazwisko;\r\n        }\r\n    \r\n        public void setNazwisko(String nazwisko) {\r\n            this.nazwisko = nazwisko;\r\n        }\r\n    \r\n        public String getImie() {\r\n            return imie;\r\n        }\r\n    \r\n        public void setImie(String imie) {\r\n            this.imie = imie;\r\n        }\r\n    \r\n        public String getPesel() {\r\n            return pesel;\r\n        }\r\n    \r\n        public void setPesel(String pesel) {\r\n            this.pesel = pesel;\r\n        }\r\n    \r\n        public Date getDataUrodzenia() {\r\n            return dataUrodzenia;\r\n        }\r\n    \r\n        public void setDataUrodzenia(Date dataUrodzenia) {\r\n            this.dataUrodzenia = dataUrodzenia;\r\n        }\r\n        \r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Pacjenci{&quot; +\r\n                    &quot;idPacjenta=&quot; + idPacjenta +\r\n                    &quot;, nazwisko=&#39;&quot; + nazwisko + &#39;\\&#39;&#39; +\r\n                    &quot;, imie=&#39;&quot; + imie + &#39;\\&#39;&#39; +\r\n                    &quot;, pesel=&#39;&quot; + pesel + &#39;\\&#39;&#39; +\r\n                    &quot;, dataUrodzenia=&quot; + dataUrodzenia +\r\n                    &quot;, wizyty=&quot; +\r\n                    &quot;, lekarze=&quot; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    \r\n    public class Wizyty {\r\n        private Lekarz idLekarza;\r\n        private Pacjenci idPacjenta;\r\n        private Date dataWizyty;\r\n    \r\n        public Wizyty(Lekarz idLekarza, Pacjenci idPacjenta, Date dataWizyty) {\r\n            this.idLekarza = idLekarza;\r\n            this.idPacjenta = idPacjenta;\r\n            this.dataWizyty = dataWizyty;\r\n        }\r\n    \r\n        public Lekarz getIdLekarza() {\r\n            return idLekarza;\r\n        }\r\n    \r\n        public void setIdLekarza(Lekarz idLekarza) {\r\n            this.idLekarza = idLekarza;\r\n        }\r\n    \r\n        public Pacjenci getIdPacjenta() {\r\n            return idPacjenta;\r\n        }\r\n    \r\n        public void setIdPacjenta(Pacjenci idPacjenta) {\r\n            this.idPacjenta = idPacjenta;\r\n        }\r\n    \r\n        public Date getDataWizyty() {\r\n            return dataWizyty;\r\n        }\r\n    \r\n        public void setDataWizyty(Date dataWizyty) {\r\n            this.dataWizyty = dataWizyty;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Wizyty{&quot; +\r\n                    &quot;idLekarza=&quot; + idLekarza +\r\n                    &quot;, idPacjenta=&quot; + idPacjenta +\r\n                    &quot;, dataWizyty=&quot; + dataWizyty +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    \r\n   \r\n\r\n         Id_pacjenta\tNazwisko\tImie\tPESEL\tData_urodzenia\r\n                 100\t   Kowal\tWaldemar 01211309876\t2001-1-13\r\n\r\n","title":"Actual and formal argument lists differ in length error in main","body":"<p>Im working on a project where I have 3 text files with data of doctors, patients and home visits. When Im trying to upload the doctors file, upload all the data to a new object I get an error:</p>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Id_pacjenta  Nazwisko    Imie    PESEL   Data_urodzenia&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:68)\nat java.base/java.lang.Integer.parseInt(Integer.java:658)\nat java.base/java.lang.Integer.parseInt(Integer.java:776)\nat com.company.Main.main(Main.java:40)</p>\n<p>Below I'll paste my main as well as the classes &amp; a snapshot of the text file used for imports:</p>\n<p>Could anyone advise how to avoid this issue? Thanks!</p>\n<pre><code> public class Main {\n\n    public static void main(String[] args) {\n\n        List&lt;Lekarz&gt; lekarz = new ArrayList&lt;&gt;();\n\n        try{\n            File fileLekarze = new File(&quot;src/com/company/lekarze.txt&quot;);\n            Scanner readerLekarze = new Scanner(fileLekarze);\n            while(readerLekarze.hasNextLine()){\n                String[] data =readerLekarze.nextLine().split(&quot; &quot;);\n                lekarz.add(new Lekarz(Integer.parseInt(data[0]),data[1],data[2],data[3],new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[4]),data[5],data[6]));\n            }\n            readerLekarze.close();\n\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;Error File Lekarze&quot;);\n            e.printStackTrace();\n        } catch (ParseException e){\n            e.printStackTrace();\n        }\n\n        List&lt;Pacjenci&gt; pacjent = new ArrayList&lt;&gt;();\n\n        try{\n            File pacjenciFile = new File(&quot;src/com/company/pacjenci.txt&quot;);\n            Scanner readerPacjenci = new Scanner(pacjenciFile);\n            while(readerPacjenci.hasNextLine()){\n                String[] data = readerPacjenci.nextLine().split(&quot; &quot;);\n                pacjent.add(new Pacjenci(Integer.parseInt(data[0]),data[1],data[2],data[3],new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(data[4])));\n            }\n            readerPacjenci.close();\n\n        }catch (FileNotFoundException e) {\n            System.out.println(&quot;Error File Pacjenci&quot;);\n            e.printStackTrace();\n        } catch (ParseException e){\n            e.printStackTrace();\n        }\n\n    }\n}\n\n    public class Pacjenci {\n\n    private int idPacjenta;\n    private String nazwisko;\n    private String imie;\n    private String pesel;\n    private Date dataUrodzenia;\n\n    public Pacjenci(int idPacjenta, String nazwisko, String imie, String pesel, Date dataUrodzenia) {\n        this.idPacjenta = idPacjenta;\n        this.nazwisko = nazwisko;\n        this.imie = imie;\n        this.pesel = pesel;\n        this.dataUrodzenia = dataUrodzenia;\n\n    }\n\n    public int getIdPacjenta() {\n        return idPacjenta;\n    }\n\n    public void setIdPacjenta(int idPacjenta) {\n        this.idPacjenta = idPacjenta;\n    }\n\n    public String getNazwisko() {\n        return nazwisko;\n    }\n\n    public void setNazwisko(String nazwisko) {\n        this.nazwisko = nazwisko;\n    }\n\n    public String getImie() {\n        return imie;\n    }\n\n    public void setImie(String imie) {\n        this.imie = imie;\n    }\n\n    public String getPesel() {\n        return pesel;\n    }\n\n    public void setPesel(String pesel) {\n        this.pesel = pesel;\n    }\n\n    public Date getDataUrodzenia() {\n        return dataUrodzenia;\n    }\n\n    public void setDataUrodzenia(Date dataUrodzenia) {\n        this.dataUrodzenia = dataUrodzenia;\n    }\n    \n\n    @Override\n    public String toString() {\n        return &quot;Pacjenci{&quot; +\n                &quot;idPacjenta=&quot; + idPacjenta +\n                &quot;, nazwisko='&quot; + nazwisko + '\\'' +\n                &quot;, imie='&quot; + imie + '\\'' +\n                &quot;, pesel='&quot; + pesel + '\\'' +\n                &quot;, dataUrodzenia=&quot; + dataUrodzenia +\n                &quot;, wizyty=&quot; +\n                &quot;, lekarze=&quot; +\n                '}';\n    }\n}\n\npublic class Wizyty {\n    private Lekarz idLekarza;\n    private Pacjenci idPacjenta;\n    private Date dataWizyty;\n\n    public Wizyty(Lekarz idLekarza, Pacjenci idPacjenta, Date dataWizyty) {\n        this.idLekarza = idLekarza;\n        this.idPacjenta = idPacjenta;\n        this.dataWizyty = dataWizyty;\n    }\n\n    public Lekarz getIdLekarza() {\n        return idLekarza;\n    }\n\n    public void setIdLekarza(Lekarz idLekarza) {\n        this.idLekarza = idLekarza;\n    }\n\n    public Pacjenci getIdPacjenta() {\n        return idPacjenta;\n    }\n\n    public void setIdPacjenta(Pacjenci idPacjenta) {\n        this.idPacjenta = idPacjenta;\n    }\n\n    public Date getDataWizyty() {\n        return dataWizyty;\n    }\n\n    public void setDataWizyty(Date dataWizyty) {\n        this.dataWizyty = dataWizyty;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Wizyty{&quot; +\n                &quot;idLekarza=&quot; + idLekarza +\n                &quot;, idPacjenta=&quot; + idPacjenta +\n                &quot;, dataWizyty=&quot; + dataWizyty +\n                '}';\n    }\n}\n\n\n\n     Id_pacjenta    Nazwisko    Imie    PESEL   Data_urodzenia\n             100       Kowal    Waldemar 01211309876    2001-1-13\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1563246367,"post_id":57049480,"comment_id":100626035,"body_markdown":"Maybe I&#39;m missing something, but everywhere I see &quot;it works&quot;, &quot;it also works well&quot;, etc. When does it **not** work?","body":"Maybe I&#39;m missing something, but everywhere I see &quot;it works&quot;, &quot;it also works well&quot;, etc. When does it <b>not</b> work?"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1563249021,"post_id":57049480,"comment_id":100626492,"body_markdown":"print the `id` and check it has any white spaces in it","body":"print the <code>id</code> and check it has any white spaces in it"},{"owner":{"account_id":15766344,"reputation":221,"user_id":11376582,"display_name":"Jin-guk Park"},"score":0,"creation_date":1563249119,"post_id":57049480,"comment_id":100626519,"body_markdown":"print id is not white space. it has the value","body":"print id is not white space. it has the value"},{"owner":{"account_id":15766344,"reputation":221,"user_id":11376582,"display_name":"Jin-guk Park"},"score":0,"creation_date":1563249384,"post_id":57049480,"comment_id":100626578,"body_markdown":"@kartik there is not exception. &quot;it works&quot; means the return was successful( not null ).","body":"@kartik there is not exception. &quot;it works&quot; means the return was successful( not null )."},{"owner":{"account_id":7294599,"reputation":291,"user_id":5559928,"display_name":"vsingh"},"score":0,"creation_date":1588301954,"post_id":57049480,"comment_id":108852413,"body_markdown":"@Jin-gukPark Hey, were you able to solve this. I&#39;m facing the same issue","body":"@Jin-gukPark Hey, were you able to solve this. I&#39;m facing the same issue"},{"owner":{"account_id":15766344,"reputation":221,"user_id":11376582,"display_name":"Jin-guk Park"},"score":0,"creation_date":1589048507,"post_id":57049480,"comment_id":109140154,"body_markdown":"@vsingh Sorry for the late reply. In my case, as you can see the below answer from alexpandiyan, I had written unreasonable annotation about function checkDuplicate() argument. I hope It&#39;s helps you!","body":"@vsingh Sorry for the late reply. In my case, as you can see the below answer from alexpandiyan, I had written unreasonable annotation about function checkDuplicate() argument. I hope It&#39;s helps you!"}],"answers":[{"tags":[],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1563249343,"creation_date":1563247734,"answer_id":57049623,"question_id":57049480,"body_markdown":"You have to change `@RequestBody` to `@RequestParam`. Please update your controller code as below.\r\n\r\n```\r\n    @ResponseBody\r\n    @RequestMapping(value=&quot;/checkIdDuplicate&quot;, method=RequestMethod.POST)\r\n    public boolean checkIdDuplicate(@RequestParam String id) {\r\n\r\n       return memberService.isExistByUserId(id);\r\n    }\r\n```","title":"JPA Repository.findById() returns null but the value is exist on db","body":"<p>You have to change <code>@RequestBody</code> to <code>@RequestParam</code>. Please update your controller code as below.</p>\n\n<pre><code>    @ResponseBody\n    @RequestMapping(value=\"/checkIdDuplicate\", method=RequestMethod.POST)\n    public boolean checkIdDuplicate(@RequestParam String id) {\n\n       return memberService.isExistByUserId(id);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user9065831"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1563257809,"creation_date":1563249861,"answer_id":57049868,"question_id":57049480,"body_markdown":"I would like to add something with @Alexpandiyan answer. Instead of first finding record by Id and checking if it is present or not. You can directly check in database if id exists or not by using predefined function `existsById` like below.\r\n\r\n```\r\npublic interface MemberRepository extends CrudRepository&lt;DfMember, String&gt; {\r\n        boolean existsById(String id);\r\n}\r\n```\r\n\r\nUpdated member service function `memberService.isExistByUser()`.\r\n```\r\n    public boolean isExistByUserId(String id) {\r\n        return memberRepository.existsById(id);\r\n    }\r\n```\r\nSee documentation https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#new-features.1-11-0","title":"JPA Repository.findById() returns null but the value is exist on db","body":"<p>I would like to add something with @Alexpandiyan answer. Instead of first finding record by Id and checking if it is present or not. You can directly check in database if id exists or not by using predefined function <code>existsById</code> like below.</p>\n\n<pre><code>public interface MemberRepository extends CrudRepository&lt;DfMember, String&gt; {\n        boolean existsById(String id);\n}\n</code></pre>\n\n<p>Updated member service function <code>memberService.isExistByUser()</code>.</p>\n\n<pre><code>    public boolean isExistByUserId(String id) {\n        return memberRepository.existsById(id);\n    }\n</code></pre>\n\n<p>See documentation <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#new-features.1-11-0\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#new-features.1-11-0</a></p>\n"},{"tags":[],"owner":{"account_id":2170392,"reputation":631,"user_id":1922558,"display_name":"Kevin Guanche Darias"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1597316717,"creation_date":1597316717,"answer_id":63393792,"question_id":57049480,"body_markdown":"While the OP has solved his issue, I have to add my answer to the same problem, but with a different cause, because I&#39;m sure will be helpful after hours of debugging I found in the source code of Hibernate (5.4.18) a try/catch that when a `EntityNotFoundException` is thrown in the hydration process the findBy returns null, even if the entity exists, and it&#39;s hydrated successfully. **This is because a related referenced entity doesn&#39;t exists** and Hibernate expect it to exists\r\n\r\nFor example I have two entities *Unit* and *Improvement* where I store an unit with id 5 to have an improvement with id `0` (which doesn&#39;t exists), then `unitRepository.findById()` returns null, instead of the Unit entity with id 5.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;units&quot;)\r\npublic class Unit {\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n\t@Fetch(FetchMode.JOIN)\r\n\t@JoinColumn(name = &quot;improvement_id&quot;)\r\n\t@Cascade({ CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DELETE })\r\n\tprivate Improvement improvement;\r\n}\r\n```\r\n\r\nThe reason this happened was because an import script used *0* as value for the *improvement_id* instead of the original NULL.\r\n\r\nHint: Becareful with disabling Foreign Key checks in import scritps\r\n\r\nBest regards","title":"JPA Repository.findById() returns null but the value is exist on db","body":"<p>While the OP has solved his issue, I have to add my answer to the same problem, but with a different cause, because I'm sure will be helpful after hours of debugging I found in the source code of Hibernate (5.4.18) a try/catch that when a <code>EntityNotFoundException</code> is thrown in the hydration process the findBy returns null, even if the entity exists, and it's hydrated successfully. <strong>This is because a related referenced entity doesn't exists</strong> and Hibernate expect it to exists</p>\n<p>For example I have two entities <em>Unit</em> and <em>Improvement</em> where I store an unit with id 5 to have an improvement with id <code>0</code> (which doesn't exists), then <code>unitRepository.findById()</code> returns null, instead of the Unit entity with id 5.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;units&quot;)\npublic class Unit {\n    @ManyToOne(fetch = FetchType.LAZY)\n    @Fetch(FetchMode.JOIN)\n    @JoinColumn(name = &quot;improvement_id&quot;)\n    @Cascade({ CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DELETE })\n    private Improvement improvement;\n}\n</code></pre>\n<p>The reason this happened was because an import script used <em>0</em> as value for the <em>improvement_id</em> instead of the original NULL.</p>\n<p>Hint: Becareful with disabling Foreign Key checks in import scritps</p>\n<p>Best regards</p>\n"},{"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652362770,"creation_date":1652362770,"answer_id":72216680,"question_id":57049480,"body_markdown":"This occurred to me because of a script which was inserting data (while disabling foreign key checks), and one of the referenced ID was not existing in the parent table, i.e. :\r\n\r\n\r\n```sql\r\nSET FOREIGN_KEY_CHECKS=0;\r\nINSERT INTO company(id, name) VALUES (1, &#39;Stackoverflow&#39;);\r\nINSERT INTO employee(id, first_name, last_name, company_id) VALUES (1, &#39;John&#39;, &#39;Doe&#39;, 1);\r\nINSERT INTO employee(id, first_name, last_name, company_id) VALUES (2, &#39;Jane&#39;, &#39;Doe&#39;, 2);\r\nSET FOREIGN_KEY_CHECKS=1;\r\n```\r\n\r\nThe `Jane Doe` record references a target primary key value (`company_id`=`2`) that does not exist in the `company` table.\r\n\r\nIn that case JPA&#39;s `findById` does not return any record even if it exists.\r\n\r\nFixing data intergrity solves the problem.","title":"JPA Repository.findById() returns null but the value is exist on db","body":"<p>This occurred to me because of a script which was inserting data (while disabling foreign key checks), and one of the referenced ID was not existing in the parent table, i.e. :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SET FOREIGN_KEY_CHECKS=0;\nINSERT INTO company(id, name) VALUES (1, 'Stackoverflow');\nINSERT INTO employee(id, first_name, last_name, company_id) VALUES (1, 'John', 'Doe', 1);\nINSERT INTO employee(id, first_name, last_name, company_id) VALUES (2, 'Jane', 'Doe', 2);\nSET FOREIGN_KEY_CHECKS=1;\n</code></pre>\n<p>The <code>Jane Doe</code> record references a target primary key value (<code>company_id</code>=<code>2</code>) that does not exist in the <code>company</code> table.</p>\n<p>In that case JPA's <code>findById</code> does not return any record even if it exists.</p>\n<p>Fixing data intergrity solves the problem.</p>\n"},{"tags":[],"owner":{"account_id":11163556,"reputation":41,"user_id":8192898,"display_name":"Dhanashri Dhoke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657995359,"creation_date":1657992836,"answer_id":73006364,"question_id":57049480,"body_markdown":"```\r\npublic boolean isExistByUserId(String id)\r\n{\r\n   Optional&lt;DfMember&gt;member = Optional.ofNullable(memberRepository.findById(id).orElse(new DfMember()));\r\n\r\n   return member.isPresent();\r\n}\r\n```\r\n Please update your MemberService code.\r\n\r\n","title":"JPA Repository.findById() returns null but the value is exist on db","body":"<pre><code>public boolean isExistByUserId(String id)\n{\n   Optional&lt;DfMember&gt;member = Optional.ofNullable(memberRepository.findById(id).orElse(new DfMember()));\n\n   return member.isPresent();\n}\n</code></pre>\n<p>Please update your MemberService code.</p>\n"}],"owner":{"account_id":15766344,"reputation":221,"user_id":11376582,"display_name":"Jin-guk Park"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40562,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":57049623,"answer_count":5,"score":14,"last_activity_date":1657995359,"creation_date":1563246121,"question_id":57049480,"body_markdown":"I&#39;m developing Spring boot project, using JPA.\n\nWhat I wanna know is repository.findById(id) method returns null, whereas data is available in the DB.\n\nFunctions `save()` and `findAll()` are working fine. When I ran the same code on junit test environment, but it completely worked. If the data is hard coded, like `memberRepository.findById(&quot;M001&quot;);`, it working fine.\n\n## Entity\n```\n@Entity\n@Table(name=&quot;df_member&quot;)\npublic class DfMember {\n    \n    @Column(name=&quot;member_type&quot;)\n    private String memberType;\n\n    @Id\n    @Column(name=&quot;id&quot;)\n    private String id;\n    \n        ...columns...\n        ...Getters/Setters.....\n```\n\n## Controller\n```\n    @ResponseBody\n    @RequestMapping(value=&quot;/checkIdDuplicate&quot;, method=RequestMethod.POST)\n    public boolean checkIdDuplicate(@RequestBody String id) {\n\n       return memberService.isExistByUserId(id);\n    }\n```\n\n## MemberService\n```\n    public boolean isExistByUserId(String id) {\n        Optional&lt;DfMember&gt; member = memberRepository.findById(id);\n        return member.isPresent();\n    }\n```\n\n## Repository\n```\npublic interface MemberRepository extends CrudRepository&lt;DfMember, String&gt; {\n    \n}\n```\n\nShould return Member Object but it&#39;s null.","title":"JPA Repository.findById() returns null but the value is exist on db","body":"<p>I'm developing Spring boot project, using JPA.</p>\n<p>What I wanna know is repository.findById(id) method returns null, whereas data is available in the DB.</p>\n<p>Functions <code>save()</code> and <code>findAll()</code> are working fine. When I ran the same code on junit test environment, but it completely worked. If the data is hard coded, like <code>memberRepository.findById(&quot;M001&quot;);</code>, it working fine.</p>\n<h2>Entity</h2>\n<pre><code>@Entity\n@Table(name=&quot;df_member&quot;)\npublic class DfMember {\n    \n    @Column(name=&quot;member_type&quot;)\n    private String memberType;\n\n    @Id\n    @Column(name=&quot;id&quot;)\n    private String id;\n    \n        ...columns...\n        ...Getters/Setters.....\n</code></pre>\n<h2>Controller</h2>\n<pre><code>    @ResponseBody\n    @RequestMapping(value=&quot;/checkIdDuplicate&quot;, method=RequestMethod.POST)\n    public boolean checkIdDuplicate(@RequestBody String id) {\n\n       return memberService.isExistByUserId(id);\n    }\n</code></pre>\n<h2>MemberService</h2>\n<pre><code>    public boolean isExistByUserId(String id) {\n        Optional&lt;DfMember&gt; member = memberRepository.findById(id);\n        return member.isPresent();\n    }\n</code></pre>\n<h2>Repository</h2>\n<pre><code>public interface MemberRepository extends CrudRepository&lt;DfMember, String&gt; {\n    \n}\n</code></pre>\n<p>Should return Member Object but it's null.</p>\n"},{"tags":["java","hibernate","java-8","java-time"],"comments":[{"owner":{"account_id":10337248,"reputation":1807,"user_id":7624937,"accept_rate":40,"display_name":"LLL"},"score":1,"creation_date":1490947463,"post_id":43059147,"comment_id":73348532,"body_markdown":"I think this answers your problem:\nhttp://stackoverflow.com/questions/40825495/java-time-yearmonth-as-a-type-within-entity","body":"I think this answers your problem: <a href=\"http://stackoverflow.com/questions/40825495/java-time-yearmonth-as-a-type-within-entity\" title=\"java time yearmonth as a type within entity\">stackoverflow.com/questions/40825495/&hellip;</a>"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1490953411,"post_id":43059147,"comment_id":73351872,"body_markdown":"One piece of advice when serialising / encoding a type like `YearMonth`. [Think of your database statistics](https://blog.jooq.org/2016/10/05/why-you-should-design-your-database-to-optimise-for-statistics/), and perhaps avoid a human-readable format in favour of a better optimisable one.","body":"One piece of advice when serialising / encoding a type like <code>YearMonth</code>. <a href=\"https://blog.jooq.org/2016/10/05/why-you-should-design-your-database-to-optimise-for-statistics/\" rel=\"nofollow noreferrer\">Think of your database statistics</a>, and perhaps avoid a human-readable format in favour of a better optimisable one."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1490953958,"post_id":43059147,"comment_id":73352226,"body_markdown":"@LukasEder Thank you, I&#39;ve read your blogpost. IIUIC, you&#39;d recommend something like `months since 2000` or `DATE(&#39;2017-03-01&#39;)` instead of `&#39;2017-03&#39;` or `201703` so that statistics work better. It&#39;s pity that databases have no custom types with `toString` / `fromString`, so we could have both readibility and speed.","body":"@LukasEder Thank you, I&#39;ve read your blogpost. IIUIC, you&#39;d recommend something like <code>months since 2000</code> or <code>DATE(&#39;2017-03-01&#39;)</code> instead of <code>&#39;2017-03&#39;</code> or <code>201703</code> so that statistics work better. It&#39;s pity that databases have no custom types with <code>toString</code> / <code>fromString</code>, so we could have both readibility and speed."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1490955162,"post_id":43059147,"comment_id":73353053,"body_markdown":"@maaartinus: Yes, that&#39;s my recommendation. The `DATE` type (along with a `CHECK` constraint enforcing the day value to be 1) is probably a good compromise in this case. PostgreSQL knows `domain`, a tool to make `CHECK` constraints reusable: https://www.postgresql.org/docs/current/static/sql-createdomain.html. Still no `toString()` / `fromString()` formatting option, but at least it&#39;s easier to document... Note, my advice is only important if you query large amounts of data with this type as predicate. If you just store the value, then this optimisation might be premature.","body":"@maaartinus: Yes, that&#39;s my recommendation. The <code>DATE</code> type (along with a <code>CHECK</code> constraint enforcing the day value to be 1) is probably a good compromise in this case. PostgreSQL knows <code>domain</code>, a tool to make <code>CHECK</code> constraints reusable: <a href=\"https://www.postgresql.org/docs/current/static/sql-createdomain.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/static/sql-createdomain.html</a>. Still no <code>toString()</code> / <code>fromString()</code> formatting option, but at least it&#39;s easier to document... Note, my advice is only important if you query large amounts of data with this type as predicate. If you just store the value, then this optimisation might be premature."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1491513849,"post_id":43059147,"comment_id":73600588,"body_markdown":"@nazar_art Sort of.... I&#39;m rather confused about what&#39;s happening: Before, both `Year` and `Month` were stored as a `Serializable`. I wrote a `YearJavaDescriptor extends AbstractTypeDescriptor&lt;Year&gt;` and now *both* are stored as `int`. I don&#39;t have time now to investigate further.","body":"@nazar_art Sort of.... I&#39;m rather confused about what&#39;s happening: Before, both <code>Year</code> and <code>Month</code> were stored as a <code>Serializable</code>. I wrote a <code>YearJavaDescriptor extends AbstractTypeDescriptor&lt;Year&gt;</code> and now <i>both</i> are stored as <code>int</code>. I don&#39;t have time now to investigate further."}],"answers":[{"tags":[],"owner":{"account_id":10502709,"reputation":1303,"user_id":7740956,"display_name":"Anuj Teotia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490949941,"creation_date":1490949941,"answer_id":43136314,"question_id":43059147,"body_markdown":"If your JPA provider does not persist a type in a sensible manner (in this case because it is a Java8 class, which was added after JPA 2.1 was approved) then you need to define a JPA 2.1 AttributeConverter to convert it to a standard JPA persistable type (in this case something like java.sql.Date).\r\n","title":"How to map java.time.Year and others java.time types using Hibernate","body":"<p>If your JPA provider does not persist a type in a sensible manner (in this case because it is a Java8 class, which was added after JPA 2.1 was approved) then you need to define a JPA 2.1 AttributeConverter to convert it to a standard JPA persistable type (in this case something like java.sql.Date).</p>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657995148,"creation_date":1491079406,"answer_id":43161822,"question_id":43059147,"body_markdown":"Try to create a converter - `AttributeConverter` implementation for this purpose.\r\n\r\nI used in the past something like following:\r\n\r\n    @Entity\r\n    public class RealEstateAgency {\r\n    \t@Column(name = &quot;createdAt&quot;)\r\n    \t@Convert(converter = ZonedDateTimeConverter.class)\r\n    \tprivate ZonedDateTime creationDate;\r\n    }\r\n    \r\n    @Converter(autoApply = true)\r\n    public class ZonedDateTimeConverter implements AttributeConverter&lt;ZonedDateTime, Date&gt; {\r\n    &#160;\r\n    \tpublic Date convertToDatabaseColumn(ZonedDateTime toConvert) {\r\n    \t\treturn toConvert == null ? null : Date.from(toConvert.toInstant());\r\n    \t}\r\n    &#160;\r\n    \tpublic ZonedDateTime convertToEntityAttribute(Date toConvert) {\r\n    \t\treturn toConvert == null ? null : ZonedDateTime.from(toConvert.toInstant());\r\n    \t}\r\n    }","title":"How to map java.time.Year and others java.time types using Hibernate","body":"<p>Try to create a converter - <code>AttributeConverter</code> implementation for this purpose.</p>\n<p>I used in the past something like following:</p>\n<pre><code>@Entity\npublic class RealEstateAgency {\n    @Column(name = &quot;createdAt&quot;)\n    @Convert(converter = ZonedDateTimeConverter.class)\n    private ZonedDateTime creationDate;\n}\n\n@Converter(autoApply = true)\npublic class ZonedDateTimeConverter implements AttributeConverter&lt;ZonedDateTime, Date&gt; {\n \n    public Date convertToDatabaseColumn(ZonedDateTime toConvert) {\n        return toConvert == null ? null : Date.from(toConvert.toInstant());\n    }\n \n    public ZonedDateTime convertToEntityAttribute(Date toConvert) {\n        return toConvert == null ? null : ZonedDateTime.from(toConvert.toInstant());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610288285,"creation_date":1539925549,"answer_id":52886156,"question_id":43059147,"body_markdown":"Using JPA AttributeConverter\r\n----------------------------\r\n\r\nFor `YearMonth`, you can create the following [`YearMonthDateAttributeConverter`](https://vladmihalcea.com/java-yearmonth-jpa-hibernate/) like this:\r\n\r\n    public class YearMonthDateAttributeConverter\r\n            implements AttributeConverter&lt;YearMonth, java.sql.Date&gt; {\r\n     \r\n        @Override\r\n        public java.sql.Date convertToDatabaseColumn(\r\n                YearMonth attribute) {\r\n            return java.sql.Date.valueOf(attribute.atDay(1));\r\n        }\r\n     \r\n        @Override\r\n        public YearMonth convertToEntityAttribute(\r\n                java.sql.Date dbData) {\r\n            return YearMonth\r\n                    .from(Instant.ofEpochMilli(dbData.getTime())\r\n                    .atZone(ZoneId.systemDefault())\r\n                    .toLocalDate());\r\n        }\r\n    }\r\n\r\nAnd, use `@Convert` on the `YearMonth` JPA entity property:\r\n\r\n    @Column(name = &quot;published_on&quot;, columnDefinition = &quot;date&quot;)\r\n    @Convert(converter = YearMonthDateAttributeConverter.class)\r\n    private YearMonth publishedOn;\r\n\r\nUsing a Hibernate custom Type\r\n-----------------------------\r\n\r\nYou can create a custom Hibernate Type by extending the `AbstractSingleColumnStandardBasicType`:\r\n\r\n    public class YearMonthDateType\r\n            extends AbstractSingleColumnStandardBasicType&lt;YearMonth&gt; {\r\n     \r\n        public static final YearMonthDateType INSTANCE = \r\n            new YearMonthDateType();\r\n     \r\n        public YearMonthDateType() {\r\n            super(\r\n                DateTypeDescriptor.INSTANCE,\r\n                YearMonthTypeDescriptor.INSTANCE\r\n            );\r\n        }\r\n     \r\n        public String getName() {\r\n            return &quot;yearmonth-date&quot;;\r\n        }\r\n     \r\n        @Override\r\n        protected boolean registerUnderJavaType() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nAnd define the [`YearMonthTypeDescriptor`](https://vladmihalcea.com/java-yearmonth-jpa-hibernate/) as follows:\r\n\r\n    public class YearMonthTypeDescriptor\r\n            extends AbstractTypeDescriptor&lt;YearMonth&gt; {\r\n     \r\n        public static final YearMonthTypeDescriptor INSTANCE = \r\n            new YearMonthTypeDescriptor();\r\n     \r\n        public YearMonthTypeDescriptor() {\r\n            super(YearMonth.class);\r\n        }\r\n     \r\n        @Override\r\n        public boolean areEqual(\r\n                YearMonth one, \r\n                YearMonth another) {\r\n            return Objects.equals(one, another);\r\n        }\r\n     \r\n        @Override\r\n        public String toString(\r\n                YearMonth value) {\r\n            return value.toString();\r\n        }\r\n     \r\n        @Override\r\n        public YearMonth fromString(\r\n                String string) {\r\n            return YearMonth.parse(string);\r\n        }\r\n     \r\n        @SuppressWarnings({&quot;unchecked&quot;})\r\n        @Override\r\n        public &lt;X&gt; X unwrap(\r\n                YearMonth value, \r\n                Class&lt;X&gt; type, \r\n                WrapperOptions options) {\r\n            if (value == null) {\r\n                return null;\r\n            }\r\n            if (String.class.isAssignableFrom(type)) {\r\n                return (X) toString(value);\r\n            }\r\n            if (Date.class.isAssignableFrom(type)) {\r\n                return (X) java.sql.Date.valueOf(value.atDay(1));\r\n            }\r\n            throw unknownUnwrap(type);\r\n        }\r\n     \r\n        @Override\r\n        public &lt;X&gt; YearMonth wrap(\r\n                X value, \r\n                WrapperOptions options) {\r\n            if (value == null) {\r\n                return null;\r\n            }\r\n            if (value instanceof String) {\r\n                return fromString((String) value);\r\n            }\r\n            if (value instanceof Date) {\r\n                Date date = (Date) value;\r\n                return YearMonth\r\n                    .from(Instant.ofEpochMilli(date.getTime())\r\n                    .atZone(ZoneId.systemDefault())\r\n                    .toLocalDate());\r\n            }\r\n            throw unknownWrap(value.getClass());\r\n        }\r\n    }\r\n\r\n&gt; You don&#39;t need to write this type by yourself, you can use the [Hibernate Types][2] and just declare the Maven dependency like this:\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;         &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n&gt;         &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\nThat&#39;s it!\r\n\r\n  [2]: https://github.com/vladmihalcea/hibernate-types","title":"How to map java.time.Year and others java.time types using Hibernate","body":"<h2>Using JPA AttributeConverter</h2>\n<p>For <code>YearMonth</code>, you can create the following <a href=\"https://vladmihalcea.com/java-yearmonth-jpa-hibernate/\" rel=\"nofollow noreferrer\"><code>YearMonthDateAttributeConverter</code></a> like this:</p>\n<pre><code>public class YearMonthDateAttributeConverter\n        implements AttributeConverter&lt;YearMonth, java.sql.Date&gt; {\n \n    @Override\n    public java.sql.Date convertToDatabaseColumn(\n            YearMonth attribute) {\n        return java.sql.Date.valueOf(attribute.atDay(1));\n    }\n \n    @Override\n    public YearMonth convertToEntityAttribute(\n            java.sql.Date dbData) {\n        return YearMonth\n                .from(Instant.ofEpochMilli(dbData.getTime())\n                .atZone(ZoneId.systemDefault())\n                .toLocalDate());\n    }\n}\n</code></pre>\n<p>And, use <code>@Convert</code> on the <code>YearMonth</code> JPA entity property:</p>\n<pre><code>@Column(name = &quot;published_on&quot;, columnDefinition = &quot;date&quot;)\n@Convert(converter = YearMonthDateAttributeConverter.class)\nprivate YearMonth publishedOn;\n</code></pre>\n<h2>Using a Hibernate custom Type</h2>\n<p>You can create a custom Hibernate Type by extending the <code>AbstractSingleColumnStandardBasicType</code>:</p>\n<pre><code>public class YearMonthDateType\n        extends AbstractSingleColumnStandardBasicType&lt;YearMonth&gt; {\n \n    public static final YearMonthDateType INSTANCE = \n        new YearMonthDateType();\n \n    public YearMonthDateType() {\n        super(\n            DateTypeDescriptor.INSTANCE,\n            YearMonthTypeDescriptor.INSTANCE\n        );\n    }\n \n    public String getName() {\n        return &quot;yearmonth-date&quot;;\n    }\n \n    @Override\n    protected boolean registerUnderJavaType() {\n        return true;\n    }\n}\n</code></pre>\n<p>And define the <a href=\"https://vladmihalcea.com/java-yearmonth-jpa-hibernate/\" rel=\"nofollow noreferrer\"><code>YearMonthTypeDescriptor</code></a> as follows:</p>\n<pre><code>public class YearMonthTypeDescriptor\n        extends AbstractTypeDescriptor&lt;YearMonth&gt; {\n \n    public static final YearMonthTypeDescriptor INSTANCE = \n        new YearMonthTypeDescriptor();\n \n    public YearMonthTypeDescriptor() {\n        super(YearMonth.class);\n    }\n \n    @Override\n    public boolean areEqual(\n            YearMonth one, \n            YearMonth another) {\n        return Objects.equals(one, another);\n    }\n \n    @Override\n    public String toString(\n            YearMonth value) {\n        return value.toString();\n    }\n \n    @Override\n    public YearMonth fromString(\n            String string) {\n        return YearMonth.parse(string);\n    }\n \n    @SuppressWarnings({&quot;unchecked&quot;})\n    @Override\n    public &lt;X&gt; X unwrap(\n            YearMonth value, \n            Class&lt;X&gt; type, \n            WrapperOptions options) {\n        if (value == null) {\n            return null;\n        }\n        if (String.class.isAssignableFrom(type)) {\n            return (X) toString(value);\n        }\n        if (Date.class.isAssignableFrom(type)) {\n            return (X) java.sql.Date.valueOf(value.atDay(1));\n        }\n        throw unknownUnwrap(type);\n    }\n \n    @Override\n    public &lt;X&gt; YearMonth wrap(\n            X value, \n            WrapperOptions options) {\n        if (value == null) {\n            return null;\n        }\n        if (value instanceof String) {\n            return fromString((String) value);\n        }\n        if (value instanceof Date) {\n            Date date = (Date) value;\n            return YearMonth\n                .from(Instant.ofEpochMilli(date.getTime())\n                .atZone(ZoneId.systemDefault())\n                .toLocalDate());\n        }\n        throw unknownWrap(value.getClass());\n    }\n}\n</code></pre>\n<blockquote>\n<p>You don't need to write this type by yourself, you can use the <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">Hibernate Types</a> and just declare the Maven dependency like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>That's it!</p>\n"}],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2251,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1657995148,"creation_date":1490664697,"question_id":43059147,"body_markdown":"There&#39;s `hibernate-java8` JAR providing adapters for a couple of classes like `Instant`, `LocalDate`, etc., but some classes from `java.time`, e.g., `Year`, `Month`, `YearMonth` are missing. These classes get stored like an unknown `Serializable`, which is needlessly wasteful.\r\n\r\nSurely I could use an `int year` instead of `Year year`, but I don&#39;t think, it&#39;s a good idea.\r\n\r\nIt looks like writing the `YearJavaDescriptor` should be pretty easy, however, I wonder why it&#39;s missing. Especially in case of `YearMonth`, I&#39;d strongly prefer an existing adapter, ist there any? *Or am I doing something stupid?*\r\n\r\nI&#39;m unsure as googling returns nothing.","title":"How to map java.time.Year and others java.time types using Hibernate","body":"<p>There's <code>hibernate-java8</code> JAR providing adapters for a couple of classes like <code>Instant</code>, <code>LocalDate</code>, etc., but some classes from <code>java.time</code>, e.g., <code>Year</code>, <code>Month</code>, <code>YearMonth</code> are missing. These classes get stored like an unknown <code>Serializable</code>, which is needlessly wasteful.</p>\n\n<p>Surely I could use an <code>int year</code> instead of <code>Year year</code>, but I don't think, it's a good idea.</p>\n\n<p>It looks like writing the <code>YearJavaDescriptor</code> should be pretty easy, however, I wonder why it's missing. Especially in case of <code>YearMonth</code>, I'd strongly prefer an existing adapter, ist there any? <em>Or am I doing something stupid?</em></p>\n\n<p>I'm unsure as googling returns nothing.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":16826591,"reputation":89,"user_id":12165732,"display_name":"Timo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657994399,"creation_date":1657994399,"answer_id":73006532,"question_id":73002506,"body_markdown":"Hints are the last two sentences in the very long exception:\r\n\r\n    If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.\r\n\r\nAdding h2 dependency for tests should make it run:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Getting UnsatisfiedDependencyException Exception in spring","body":"<p>Hints are the last two sentences in the very long exception:</p>\n<pre><code>If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.\n</code></pre>\n<p>Adding h2 dependency for tests should make it run:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n  &lt;artifactId&gt;h2&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18666987,"reputation":29,"user_id":13606728,"display_name":"himanshu_942"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657994399,"creation_date":1657957841,"question_id":73002506,"body_markdown":"I am currently learning how to do unit testing in spring, I am getting the following error while running the test although I checked everything is fine every **@Component** is being scanned, I think I am getting this error because of **@DataJpaTest** can someone help me with it? thanks.\r\n\r\n**Error :**\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-16 12:46:11.516 ERROR 3492 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.\r\n```\r\n\r\n**Test Class**\r\n\r\n```\r\npackage com.example.SpringBootBasics.repository;\r\n\r\nimport com.example.SpringBootBasics.entity.Department;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@DataJpaTest\r\nclass DepartmentRepositoryTest {\r\n\r\n    @Autowired\r\n    private DepartmentRepository departmentRepository;\r\n\r\n    @Autowired\r\n    private TestEntityManager entityManager;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        Department department =\r\n                Department.builder()\r\n                        .departmentName(&quot;ME&quot;)\r\n                        .departmentAddress(&quot;Bangalore&quot;)\r\n                        .departmentCode(&quot;ME-07&quot;)\r\n                        .departmentId(1L)\r\n                        .build();\r\n\r\n        entityManager.persist(department);\r\n    }\r\n\r\n    @Test\r\n    public void whenFindById_thenReturnDepartment(){\r\n        Department department = departmentRepository.findById(1L).get();\r\n\r\n        assertEquals(department.getDepartmentName(), &quot;ME&quot;);\r\n\r\n    }\r\n}\r\n```","title":"Getting UnsatisfiedDependencyException Exception in spring","body":"<p>I am currently learning how to do unit testing in spring, I am getting the following error while running the test although I checked everything is fine every <strong>@Component</strong> is being scanned, I think I am getting this error because of <strong>@DataJpaTest</strong> can someone help me with it? thanks.</p>\n<p><strong>Error :</strong></p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-16 12:46:11.516 ERROR 3492 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.\n</code></pre>\n<p><strong>Test Class</strong></p>\n<pre><code>package com.example.SpringBootBasics.repository;\n\nimport com.example.SpringBootBasics.entity.Department;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@DataJpaTest\nclass DepartmentRepositoryTest {\n\n    @Autowired\n    private DepartmentRepository departmentRepository;\n\n    @Autowired\n    private TestEntityManager entityManager;\n\n    @BeforeEach\n    void setUp() {\n        Department department =\n                Department.builder()\n                        .departmentName(&quot;ME&quot;)\n                        .departmentAddress(&quot;Bangalore&quot;)\n                        .departmentCode(&quot;ME-07&quot;)\n                        .departmentId(1L)\n                        .build();\n\n        entityManager.persist(department);\n    }\n\n    @Test\n    public void whenFindById_thenReturnDepartment(){\n        Department department = departmentRepository.findById(1L).get();\n\n        assertEquals(department.getDepartmentName(), &quot;ME&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1657936965,"post_id":73001041,"comment_id":128934941,"body_markdown":"`byte[] bytes = new byte[v.available()];` this doesn&#39;t really do anything useful, and it certainly doesn&#39;t read anything from the zipentry.","body":"<code>byte[] bytes = new byte[v.available()];</code> this doesn&#39;t really do anything useful, and it certainly doesn&#39;t read anything from the zipentry."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1657937440,"post_id":73001041,"comment_id":128934980,"body_markdown":"Try `v.transferTo(fileOutputStream);`","body":"Try <code>v.transferTo(fileOutputStream);</code>"},{"owner":{"account_id":8128422,"reputation":3,"user_id":6122509,"display_name":"Chris Li"},"score":0,"creation_date":1658236735,"post_id":73001041,"comment_id":128997644,"body_markdown":"@ElliottFrisch I use JDK1.8 which doesn&#39;t provide transferTo function ,but I&#39;ve find the bug of my code, thanks!","body":"@ElliottFrisch I use JDK1.8 which doesn&#39;t provide transferTo function ,but I&#39;ve find the bug of my code, thanks!"},{"owner":{"account_id":8128422,"reputation":3,"user_id":6122509,"display_name":"Chris Li"},"score":0,"creation_date":1658236777,"post_id":73001041,"comment_id":128997665,"body_markdown":"@PresidentJamesK.Polk you&#39;re right, it did nothing, I need to read sth into bytes","body":"@PresidentJamesK.Polk you&#39;re right, it did nothing, I need to read sth into bytes"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657993022,"creation_date":1657993022,"answer_id":73006386,"question_id":73001041,"body_markdown":"I&#39;m not sure why there&#39;s so much use of `File` when your goal is to avoid unzipping, but here&#39;s an example that looks for source files which are applications in a jar/zip using your basic code. No unzipping (to disk) occurs:\r\n\r\n```\r\n    public void readZipInnerFileContent() throws IOException {\r\n        ZipFile zipFile = new ZipFile(ZIP_FILE_PATH);\r\n        Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\r\n        while (entries.hasMoreElements()) {\r\n            ZipEntry zipEntry = entries.nextElement();\r\n            String name = zipEntry.getName();\r\n            if (!zipEntry.isDirectory() &amp;&amp; name.endsWith(&quot;.java&quot;)) {\r\n                InputStream inputStream = zipFile.getInputStream(zipEntry);\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                inputStream.transferTo(out);\r\n                String source = new String(out.toByteArray());\r\n                if (source.contains(&quot;main(&quot;)) {\r\n                    System.out.printf(&quot;Found application class source in %s%n&quot;, name);\r\n                }\r\n            }\r\n        }\r\n    }\r\n``","title":"java read zip file without unzipping","body":"<p>I'm not sure why there's so much use of <code>File</code> when your goal is to avoid unzipping, but here's an example that looks for source files which are applications in a jar/zip using your basic code. No unzipping (to disk) occurs:</p>\n<pre><code>    public void readZipInnerFileContent() throws IOException {\n        ZipFile zipFile = new ZipFile(ZIP_FILE_PATH);\n        Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\n        while (entries.hasMoreElements()) {\n            ZipEntry zipEntry = entries.nextElement();\n            String name = zipEntry.getName();\n            if (!zipEntry.isDirectory() &amp;&amp; name.endsWith(&quot;.java&quot;)) {\n                InputStream inputStream = zipFile.getInputStream(zipEntry);\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\n                inputStream.transferTo(out);\n                String source = new String(out.toByteArray());\n                if (source.contains(&quot;main(&quot;)) {\n                    System.out.printf(&quot;Found application class source in %s%n&quot;, name);\n                }\n            }\n        }\n    }\n``\n</code></pre>\n"}],"owner":{"account_id":8128422,"reputation":3,"user_id":6122509,"display_name":"Chris Li"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73006386,"answer_count":1,"score":0,"last_activity_date":1657993022,"creation_date":1657936608,"question_id":73001041,"body_markdown":"I&#39;m curious how this could be possible when I see lots of Geeks suggest to use `zip.getInputStream(entry)` to read the file content in the zip without unzip it. I try it lots of times, no successd since the bytes read from the  `fileOutputStream.write(bytes);` is zero. must unzip it first and then read the unzip files then you can get the real file contents.\r\n\r\ncould someone help explain why?\r\n\r\n```java\r\nprivate static final String ZIP_FILE_PATH = &quot;F:/zip-test/test.zip&quot;;\r\nprivate static final String DECOMPRESS_PATH_SUFFIX = &quot;F:/zip-decompress&quot;;\r\n\r\n\r\n@Test\r\npublic void readZipInnerFileContent() throws IOException {\r\n    ZipFile zipFile = new ZipFile(ZIP_FILE_PATH);\r\n    Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\r\n    Map&lt;String, InputStream&gt; map = MapUtil.newHashMap();\r\n    while (entries.hasMoreElements()) {\r\n        ZipEntry zipEntry = entries.nextElement();\r\n        String name = zipEntry.getName();\r\n        if (zipEntry.isDirectory()) {\r\n            File file = new File(DECOMPRESS_PATH_SUFFIX + File.separator + name);\r\n            file.mkdirs();\r\n            continue;\r\n        }\r\n        InputStream inputStream = zipFile.getInputStream(zipEntry);\r\n        map.put(name, inputStream);\r\n    }\r\n\r\n    map.forEach((k, v) -&gt; {\r\n        File file = new File(DECOMPRESS_PATH_SUFFIX + File.separator + k);\r\n        try (FileOutputStream fileOutputStream = new FileOutputStream(file)) {\r\n            byte[] bytes = new byte[v.available()];\r\n            fileOutputStream.write(bytes);\r\n            fileOutputStream.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    });\r\n\r\n    log.info(&quot;read end&quot;);\r\n}\r\n\r\n```","title":"java read zip file without unzipping","body":"<p>I'm curious how this could be possible when I see lots of Geeks suggest to use <code>zip.getInputStream(entry)</code> to read the file content in the zip without unzip it. I try it lots of times, no successd since the bytes read from the  <code>fileOutputStream.write(bytes);</code> is zero. must unzip it first and then read the unzip files then you can get the real file contents.</p>\n<p>could someone help explain why?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String ZIP_FILE_PATH = &quot;F:/zip-test/test.zip&quot;;\nprivate static final String DECOMPRESS_PATH_SUFFIX = &quot;F:/zip-decompress&quot;;\n\n\n@Test\npublic void readZipInnerFileContent() throws IOException {\n    ZipFile zipFile = new ZipFile(ZIP_FILE_PATH);\n    Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\n    Map&lt;String, InputStream&gt; map = MapUtil.newHashMap();\n    while (entries.hasMoreElements()) {\n        ZipEntry zipEntry = entries.nextElement();\n        String name = zipEntry.getName();\n        if (zipEntry.isDirectory()) {\n            File file = new File(DECOMPRESS_PATH_SUFFIX + File.separator + name);\n            file.mkdirs();\n            continue;\n        }\n        InputStream inputStream = zipFile.getInputStream(zipEntry);\n        map.put(name, inputStream);\n    }\n\n    map.forEach((k, v) -&gt; {\n        File file = new File(DECOMPRESS_PATH_SUFFIX + File.separator + k);\n        try (FileOutputStream fileOutputStream = new FileOutputStream(file)) {\n            byte[] bytes = new byte[v.available()];\n            fileOutputStream.write(bytes);\n            fileOutputStream.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    });\n\n    log.info(&quot;read end&quot;);\n}\n\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657989336,"post_id":73005934,"comment_id":128942831,"body_markdown":"Is this the only constructor in your target class ?","body":"Is this the only constructor in your target class ?"},{"owner":{"account_id":24336040,"reputation":17,"user_id":18274086,"display_name":"Rushil Ahuja"},"score":0,"creation_date":1657989546,"post_id":73005934,"comment_id":128942875,"body_markdown":"Yes, Else I would I have used @Default :)","body":"Yes, Else I would I have used @Default :)"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657991073,"post_id":73005934,"comment_id":128943217,"body_markdown":"It works fine (I made a quick test).","body":"It works fine (I made a quick test)."}],"answers":[{"tags":[],"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657991882,"creation_date":1657991882,"answer_id":73006266,"question_id":73005934,"body_markdown":"Your code seems fine. There must be something else in your project.\r\n\r\n```java\r\n@Getter\r\n@Setter\r\npublic class PassengerEntity {\r\n\tprivate String a;\r\n\tprivate String b;\r\n}\r\n\r\npublic class PassengerInfo {\r\n\tprivate final String a;\r\n\tprivate final String b;\r\n\r\n\t@JsonCreator\r\n\tpublic PassengerInfo(\r\n\t\t\t@JsonProperty(&quot;a&quot;) final String a,\r\n\t\t\t@JsonProperty(&quot;b&quot;) final String b) {\r\n\t\tthis.a = a;\r\n\t\tthis.b = b;\r\n\t}\r\n\r\n\tpublic String getA() {\r\n\t\treturn a;\r\n\t}\r\n\r\n\tpublic String getB() {\r\n\t\treturn b;\r\n\t}\r\n}\r\n\r\n@Mapper\r\npublic interface PassengerMapper {\r\n\tPassengerInfo mapPassenger(PassengerEntity entity);\r\n}\r\n\r\nclass PassengerMapperTest {\r\n\r\n\tprivate PassengerMapper passengerMapper;\r\n\r\n\t@BeforeEach\r\n\tvoid setUp() {\r\n\t\tpassengerMapper = Mappers.getMapper(PassengerMapper.class);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testMapper() {\r\n\t\tPassengerEntity entity = new PassengerEntity();\r\n\t\tentity.setA(&quot;valueA&quot;);\r\n\t\tentity.setB(&quot;valueB&quot;);\r\n\r\n\t\tPassengerInfo info = passengerMapper.mapPassenger(entity);\r\n\r\n\t\tAssertions.assertEquals(&quot;valueA&quot;, info.getA());\r\n\t\tAssertions.assertEquals(&quot;valueB&quot;, info.getB());\r\n\t}\r\n}\r\n```\r\n=&gt; test is OK","title":"Unable to map target properties using constructors with mapstruct","body":"<p>Your code seems fine. There must be something else in your project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class PassengerEntity {\n    private String a;\n    private String b;\n}\n\npublic class PassengerInfo {\n    private final String a;\n    private final String b;\n\n    @JsonCreator\n    public PassengerInfo(\n            @JsonProperty(&quot;a&quot;) final String a,\n            @JsonProperty(&quot;b&quot;) final String b) {\n        this.a = a;\n        this.b = b;\n    }\n\n    public String getA() {\n        return a;\n    }\n\n    public String getB() {\n        return b;\n    }\n}\n\n@Mapper\npublic interface PassengerMapper {\n    PassengerInfo mapPassenger(PassengerEntity entity);\n}\n\nclass PassengerMapperTest {\n\n    private PassengerMapper passengerMapper;\n\n    @BeforeEach\n    void setUp() {\n        passengerMapper = Mappers.getMapper(PassengerMapper.class);\n    }\n\n    @Test\n    void testMapper() {\n        PassengerEntity entity = new PassengerEntity();\n        entity.setA(&quot;valueA&quot;);\n        entity.setB(&quot;valueB&quot;);\n\n        PassengerInfo info = passengerMapper.mapPassenger(entity);\n\n        Assertions.assertEquals(&quot;valueA&quot;, info.getA());\n        Assertions.assertEquals(&quot;valueB&quot;, info.getB());\n    }\n}\n</code></pre>\n<p>=&gt; test is OK</p>\n"}],"owner":{"account_id":24336040,"reputation":17,"user_id":18274086,"display_name":"Rushil Ahuja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73006266,"answer_count":1,"score":0,"last_activity_date":1657991882,"creation_date":1657989108,"question_id":73005934,"body_markdown":"I am using MapStruct 1.5.2.Final\r\n\r\nMap struct is unable to map the target values using the parameterised constructor. Following is the parameterised constructor for the class. \r\n\r\nI know that if I would have exposed the setters, this would have worked. \r\n\r\nI don&#39;t want to expose the setters for my class as I want my class to be immutable.\r\n\r\n    @JsonCreator\r\n    public PassengerInfo(\r\n            @JsonProperty(&quot;a&quot;) final String a,\r\n            @JsonProperty(&quot;b&quot;) final String b) {\r\n        this.a = a;\r\n        this.b = b;\r\n    }\r\n\r\nI am getting the following error\r\n\r\n    error: Property &quot;a&quot; has no write accessor in class.\r\n    error: Property &quot;b&quot; has no write accessor in class.\r\n\r\nAlso, this is the only constructor in my class.\r\n\r\nFollowing is my class\r\n\r\n        public class Clazz {\r\n\r\n        private final String a;\r\n\r\n        private final String b;\r\n\r\n        @JsonCreator\r\n        public Clazz(\r\n                @JsonProperty(&quot;a&quot;) final String a,\r\n                @JsonProperty(&quot;b&quot;) final String b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n\r\n        public String getA() {\r\n            return a;\r\n        }\r\n\r\n        public String getB() {\r\n            return b;\r\n        }\r\n        \r\n    }","title":"Unable to map target properties using constructors with mapstruct","body":"<p>I am using MapStruct 1.5.2.Final</p>\n<p>Map struct is unable to map the target values using the parameterised constructor. Following is the parameterised constructor for the class.</p>\n<p>I know that if I would have exposed the setters, this would have worked.</p>\n<p>I don't want to expose the setters for my class as I want my class to be immutable.</p>\n<pre><code>@JsonCreator\npublic PassengerInfo(\n        @JsonProperty(&quot;a&quot;) final String a,\n        @JsonProperty(&quot;b&quot;) final String b) {\n    this.a = a;\n    this.b = b;\n}\n</code></pre>\n<p>I am getting the following error</p>\n<pre><code>error: Property &quot;a&quot; has no write accessor in class.\nerror: Property &quot;b&quot; has no write accessor in class.\n</code></pre>\n<p>Also, this is the only constructor in my class.</p>\n<p>Following is my class</p>\n<pre><code>    public class Clazz {\n\n    private final String a;\n\n    private final String b;\n\n    @JsonCreator\n    public Clazz(\n            @JsonProperty(&quot;a&quot;) final String a,\n            @JsonProperty(&quot;b&quot;) final String b) {\n        this.a = a;\n        this.b = b;\n    }\n\n    public String getA() {\n        return a;\n    }\n\n    public String getB() {\n        return b;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1657993344,"post_id":73006234,"comment_id":128943665,"body_markdown":"This looks like it may be a duplicate of a question you already asked a few days ago: [Thymeleaf URL Forwarding Problem to External URL in Spring Boot App](https://stackoverflow.com/q/72940598/12567365). If it&#39;s _not_ a duplicate, you can link to the original question and clarify why it&#39;s not a dupe of that one. Otherwise, you can add any clarifications to the original question (as long as they don&#39;t significantly change the nature of the question). [How to ask same question again on Stack Overflow?](https://meta.stackoverflow.com/q/339624/12567365)","body":"This looks like it may be a duplicate of a question you already asked a few days ago: <a href=\"https://stackoverflow.com/q/72940598/12567365\">Thymeleaf URL Forwarding Problem to External URL in Spring Boot App</a>. If it&#39;s <i>not</i> a duplicate, you can link to the original question and clarify why it&#39;s not a dupe of that one. Otherwise, you can add any clarifications to the original question (as long as they don&#39;t significantly change the nature of the question). <a href=\"https://meta.stackoverflow.com/q/339624/12567365\">How to ask same question again on Stack Overflow?</a>"},{"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"score":1,"creation_date":1657995866,"post_id":73006234,"comment_id":128944127,"body_markdown":"@andrewJames as I was searching and studying about the issue, I realised that my initial question wasn&#39;t sufficient enough to provide the necessary details. It is indeed for the same problem though. Since it&#39;s stricted to delete questions, I am thinking about how to transform my first question to a valuable one. Thank you for your clarification.","body":"@andrewJames as I was searching and studying about the issue, I realised that my initial question wasn&#39;t sufficient enough to provide the necessary details. It is indeed for the same problem though. Since it&#39;s stricted to delete questions, I am thinking about how to transform my first question to a valuable one. Thank you for your clarification."}],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657991633,"creation_date":1657991633,"question_id":73006234,"body_markdown":"I created the below frontend part for my Spring Boot Application. In this picture I&#39;ve placed my cursor on the first News Link url and you can see at the bottom left corner that the link appears as it should be, just before I click it.\r\n\r\n[![FrontEnd for Spring Boot App][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U1kit.jpg\r\n\r\nWhen I click it, instead of\r\n\r\n    https://www.investing.com/news/cryptocurrency-news/ethereum-climbs-12-in-rally-2848020\r\n\r\nI am being redirected to\r\n\r\n    https://www.investing.com/\r\n\r\nFrom what I am thinking I have to firstly pass the URLs in my controller like [this](https://www.baeldung.com/spring-thymeleaf-request-parameters) example and secondly to implement a redirection like [this](https://stackoverflow.com/questions/17955777/redirect-to-an-external-url-from-controller-action-in-spring-mvc) example. I tried the next method with no success. What am I doing wrong? I am new to Spring and I am struggling many days on this.\r\n\r\n**Failed Controller Attempt**\r\n```\r\n    @RequestMapping(&quot;/${rate.news_link}&quot;)\r\n    public String redirect() {\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n```\r\n\r\n\r\nBelow my HTML Thymeleaf template,\r\n\r\n\r\n**HTML Thymeleaf**\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n\r\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n\r\n    &lt;div class=&quot;starter-template&quot;&gt;\r\n        &lt;h1&gt;Cryptocurrency News&lt;/h1&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/main&gt;\r\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\r\n\r\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\r\n        &lt;hr&gt;\r\n        &lt;div class=&quot;table-responsive&quot;&gt;\r\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;News Provider Name&lt;/th&gt;\r\n                    &lt;th&gt;News Link&lt;/th&gt;\r\n                    &lt;th&gt;Related Image&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\r\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\r\n                        &lt;td&gt;\r\n                            &lt;a\r\n\r\n                                    href=&quot;#&quot;\r\n                                    th:href=&quot;@{${rate.news_link}}&quot;\r\n                                    th:text=&quot;${rate.HEADLINE}&quot;/&gt;\r\n                        &lt;/td&gt;\r\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Pass URL Variables in Spring Controller at Runtime for Redirection Implementations","body":"<p>I created the below frontend part for my Spring Boot Application. In this picture I've placed my cursor on the first News Link url and you can see at the bottom left corner that the link appears as it should be, just before I click it.</p>\n<p><a href=\"https://i.stack.imgur.com/U1kit.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U1kit.jpg\" alt=\"FrontEnd for Spring Boot App\" /></a></p>\n<p>When I click it, instead of</p>\n<pre><code>https://www.investing.com/news/cryptocurrency-news/ethereum-climbs-12-in-rally-2848020\n</code></pre>\n<p>I am being redirected to</p>\n<pre><code>https://www.investing.com/\n</code></pre>\n<p>From what I am thinking I have to firstly pass the URLs in my controller like <a href=\"https://www.baeldung.com/spring-thymeleaf-request-parameters\" rel=\"nofollow noreferrer\">this</a> example and secondly to implement a redirection like <a href=\"https://stackoverflow.com/questions/17955777/redirect-to-an-external-url-from-controller-action-in-spring-mvc\">this</a> example. I tried the next method with no success. What am I doing wrong? I am new to Spring and I am struggling many days on this.</p>\n<p><strong>Failed Controller Attempt</strong></p>\n<pre><code>    @RequestMapping(&quot;/${rate.news_link}&quot;)\n    public String redirect() {\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n<p>Below my HTML Thymeleaf template,</p>\n<p><strong>HTML Thymeleaf</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;h1&gt;Cryptocurrency News&lt;/h1&gt;\n    &lt;/div&gt;\n\n&lt;/main&gt;\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\n\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\n        &lt;hr&gt;\n        &lt;div class=&quot;table-responsive&quot;&gt;\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;News Provider Name&lt;/th&gt;\n                    &lt;th&gt;News Link&lt;/th&gt;\n                    &lt;th&gt;Related Image&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;a\n\n                                    href=&quot;#&quot;\n                                    th:href=&quot;@{${rate.news_link}}&quot;\n                                    th:text=&quot;${rate.HEADLINE}&quot;/&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","swing","keyboard","shift"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1657988097,"post_id":73005560,"comment_id":128942619,"body_markdown":"KeyEvents are only passed to the component with focus. I doubt the JPanel has focus. Instead you can use [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) to listen for events even when a component doesn&#39;t have focus.","body":"KeyEvents are only passed to the component with focus. I doubt the JPanel has focus. Instead you can use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> to listen for events even when a component doesn&#39;t have focus."},{"owner":{"account_id":2946108,"reputation":491,"user_id":10816965,"display_name":"Sebastian Thomas"},"score":0,"creation_date":1657988687,"post_id":73005560,"comment_id":128942715,"body_markdown":"Is it possible to use key bindings for key presses and key releases? Using key bindings, I managed to change the cursor when the shift key is stroked, but that is not what I want to achieve. I want to change the cursor when the shift key is pressed, and change it back when the shift key is released.","body":"Is it possible to use key bindings for key presses and key releases? Using key bindings, I managed to change the cursor when the shift key is stroked, but that is not what I want to achieve. I want to change the cursor when the shift key is pressed, and change it back when the shift key is released."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657991540,"creation_date":1657991540,"answer_id":73006221,"question_id":73005560,"body_markdown":"I found it confusing when creating the KeyStroke.\r\n\r\nFor the pressed I had to use:\r\n\r\n\tKeyStroke pressed = KeyStroke.getKeyStroke(&quot;shift pressed SHIFT&quot;);\r\n\r\nBut for the released I could use either:\r\n\r\n\tKeyStroke released = KeyStroke.getKeyStroke(&quot;released SHIFT&quot;);\r\n\tKeyStroke released = KeyStroke.getKeyStroke(KeyEvent.VK_SHIFT, 0, true);\r\n\r\nAnd I used:\r\n\r\n\tInputMap im = getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\r\n\r\n","title":"Change the mouse cursor when shift key is pressed","body":"<p>I found it confusing when creating the KeyStroke.</p>\n<p>For the pressed I had to use:</p>\n<pre><code>KeyStroke pressed = KeyStroke.getKeyStroke(&quot;shift pressed SHIFT&quot;);\n</code></pre>\n<p>But for the released I could use either:</p>\n<pre><code>KeyStroke released = KeyStroke.getKeyStroke(&quot;released SHIFT&quot;);\nKeyStroke released = KeyStroke.getKeyStroke(KeyEvent.VK_SHIFT, 0, true);\n</code></pre>\n<p>And I used:</p>\n<pre><code>InputMap im = getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\n</code></pre>\n"}],"owner":{"account_id":2946108,"reputation":491,"user_id":10816965,"display_name":"Sebastian Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73006221,"answer_count":1,"score":0,"last_activity_date":1657991540,"creation_date":1657986266,"question_id":73005560,"body_markdown":"I have a subclass `PointPanel` of `JPanel`, where I want to implement the following behavior: If the mouse hovers the instance and the shift key is pressed, the mouse cursor changes to the hand cursor; if the shift key is released, the mouse cursor changes back to the default cursor.\r\n\r\nIn order to achieve this, I tried to add a `KeyListener` in the constructor:\r\n```Java\r\nthis.addKeyListener(new KeyAdapter() {\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        if (e.getKeyCode() == KeyEvent.VK_SHIFT) {\r\n            System.out.println(&quot;Shift pressed&quot;);\r\n            PointPanel.this.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        if (e.getKeyCode() == KeyEvent.VK_SHIFT) {\r\n            System.out.println(&quot;Shift released&quot;);\r\n            PointPanel.this.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));\r\n        }\r\n    }\r\n});\r\n```\r\nThis approach does not work.\r\n\r\nThe window which contains this panel should have the focus since it is the only visible window of the application.\r\n\r\nWhat do I miss?","title":"Change the mouse cursor when shift key is pressed","body":"<p>I have a subclass <code>PointPanel</code> of <code>JPanel</code>, where I want to implement the following behavior: If the mouse hovers the instance and the shift key is pressed, the mouse cursor changes to the hand cursor; if the shift key is released, the mouse cursor changes back to the default cursor.</p>\n<p>In order to achieve this, I tried to add a <code>KeyListener</code> in the constructor:</p>\n<pre><code>this.addKeyListener(new KeyAdapter() {\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_SHIFT) {\n            System.out.println(&quot;Shift pressed&quot;);\n            PointPanel.this.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_SHIFT) {\n            System.out.println(&quot;Shift released&quot;);\n            PointPanel.this.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));\n        }\n    }\n});\n</code></pre>\n<p>This approach does not work.</p>\n<p>The window which contains this panel should have the focus since it is the only visible window of the application.</p>\n<p>What do I miss?</p>\n"},{"tags":["java","multithreading","jstack","reentrantreadwritelock"],"answers":[{"tags":[],"owner":{"account_id":5319774,"reputation":343,"user_id":4243562,"display_name":"acearch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657991239,"creation_date":1657991239,"answer_id":73006190,"question_id":72963244,"body_markdown":"The problem in this program is mainly for the t2 thread which is trying to get a write lock and the reason is that it wants a mutually exclusive lock. \r\nIt will not get this lock since thread t1 has failed to unlock the read lock. \r\nHowever thread t3 will be unaffected since it is looking for a read lock which is in shared mode and hence even if t1 has not unlocked the read lock, t3 will still work.\r\nSo the only way this program would go ahead is if thread t2 is the first thread to get a lock ie the write lock.\r\n\r\nWith regard to your actual question how to get the name of the thread that has the lock, I don&#39;t have the answer to that question. But the problem is if it is a write lock that has not been unlocked then at a point of time only one thread would have a write lock since it is mutually exclusive so jStack can easily detect and show this I believe.\r\nBut when it comes to threads trying to get a read lock then there could be several threads causing the issue.\r\nHope this answers the question.","title":"How to detect who holds the read lock of fair ReentrantReadWriteLock?","body":"<p>The problem in this program is mainly for the t2 thread which is trying to get a write lock and the reason is that it wants a mutually exclusive lock.\nIt will not get this lock since thread t1 has failed to unlock the read lock.\nHowever thread t3 will be unaffected since it is looking for a read lock which is in shared mode and hence even if t1 has not unlocked the read lock, t3 will still work.\nSo the only way this program would go ahead is if thread t2 is the first thread to get a lock ie the write lock.</p>\n<p>With regard to your actual question how to get the name of the thread that has the lock, I don't have the answer to that question. But the problem is if it is a write lock that has not been unlocked then at a point of time only one thread would have a write lock since it is mutually exclusive so jStack can easily detect and show this I believe.\nBut when it comes to threads trying to get a read lock then there could be several threads causing the issue.\nHope this answers the question.</p>\n"}],"owner":{"account_id":13199597,"reputation":169,"user_id":9533194,"display_name":"Zihe Liu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657991239,"creation_date":1657701491,"question_id":72963244,"body_markdown":"As for the fair `ReentrantReadWriteLock`, if the thread `t1` holds the read lock and forgets to unlock, and the thread `t2` try to acquire the write lock, then all the follow-up threads who try to acquire the read or write lock will block forever.\r\n\r\nHowever, `jstack -l` can only detect which thread holds the write lock, but cannot detect which thread holds the read lock.\r\n\r\nIs there a way to detect which thread holds the read lock?\r\n\r\n\r\nFor example, \r\n```java\r\npublic static void main(String[] args) throws InterruptedException {\r\n        ReentrantReadWriteLock lock = new ReentrantReadWriteLock(true);\r\n\r\n        Thread t1 = new Thread(() -&gt; {\r\n            lock.readLock().lock();\r\n\r\n            try {\r\n                // Sleep long time.\r\n                Thread.sleep(1000_000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n        t1.start();\r\n\r\n        Thread t2 = new Thread(() -&gt; {\r\n            lock.writeLock().lock();\r\n            try {\r\n                System.out.println(&quot;t2&quot;);\r\n            } finally {\r\n                lock.writeLock().unlock();\r\n            }\r\n        });\r\n        t2.start();\r\n\r\n        Thread t3 = new Thread(() -&gt; {\r\n            lock.readLock().lock();\r\n            try {\r\n                System.out.println(&quot;t3&quot;);\r\n            } finally {\r\n                lock.readLock().unlock();\r\n            }\r\n        });\r\n        t3.start();\r\n\r\n        t1.join();\r\n        t2.join();\r\n        t3.join();\r\n    }\r\n```\r\n\r\n`jstack -l` result is as follows. \r\nThere is nothing in `Locked ownable synchronizers` of `Thread-0`.\r\n```\r\n&quot;Thread-2&quot; #13 prio=5 os_prio=31 tid=0x00007f7d0c04e000 nid=0x5903 waiting on condition [0x000070000d399000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &lt;0x000000076ac17400&gt; (a java.util.concurrent.locks.ReentrantReadWriteLock$FairSync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireShared(AbstractQueuedSynchronizer.java:967)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireShared(AbstractQueuedSynchronizer.java:1283)\r\n\tat java.util.concurrent.locks.ReentrantReadWriteLock$ReadLock.lock(ReentrantReadWriteLock.java:727)\r\n\tat WaWaMain.lambda$main$2(WaWaMain.java:30)\r\n\tat WaWaMain$$Lambda$3/1149319664.run(Unknown Source)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n\r\n&quot;Thread-1&quot; #12 prio=5 os_prio=31 tid=0x00007f7d0c04d000 nid=0x5703 waiting on condition [0x000070000d296000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &lt;0x000000076ac17400&gt; (a java.util.concurrent.locks.ReentrantReadWriteLock$FairSync)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\r\n\tat java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:943)\r\n\tat WaWaMain.lambda$main$1(WaWaMain.java:20)\r\n\tat WaWaMain$$Lambda$2/558638686.run(Unknown Source)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n\r\n&quot;Thread-0&quot; #11 prio=5 os_prio=31 tid=0x00007f7d0c809000 nid=0x5503 waiting on condition [0x000070000d193000]\r\n   java.lang.Thread.State: TIMED_WAITING (sleeping)\r\n\tat java.lang.Thread.sleep(Native Method)\r\n\tat WaWaMain.lambda$main$0(WaWaMain.java:12)\r\n\tat WaWaMain$$Lambda$1/1747585824.run(Unknown Source)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n```\r\n\r\n\r\n","title":"How to detect who holds the read lock of fair ReentrantReadWriteLock?","body":"<p>As for the fair <code>ReentrantReadWriteLock</code>, if the thread <code>t1</code> holds the read lock and forgets to unlock, and the thread <code>t2</code> try to acquire the write lock, then all the follow-up threads who try to acquire the read or write lock will block forever.</p>\n<p>However, <code>jstack -l</code> can only detect which thread holds the write lock, but cannot detect which thread holds the read lock.</p>\n<p>Is there a way to detect which thread holds the read lock?</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n        ReentrantReadWriteLock lock = new ReentrantReadWriteLock(true);\n\n        Thread t1 = new Thread(() -&gt; {\n            lock.readLock().lock();\n\n            try {\n                // Sleep long time.\n                Thread.sleep(1000_000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        });\n        t1.start();\n\n        Thread t2 = new Thread(() -&gt; {\n            lock.writeLock().lock();\n            try {\n                System.out.println(&quot;t2&quot;);\n            } finally {\n                lock.writeLock().unlock();\n            }\n        });\n        t2.start();\n\n        Thread t3 = new Thread(() -&gt; {\n            lock.readLock().lock();\n            try {\n                System.out.println(&quot;t3&quot;);\n            } finally {\n                lock.readLock().unlock();\n            }\n        });\n        t3.start();\n\n        t1.join();\n        t2.join();\n        t3.join();\n    }\n</code></pre>\n<p><code>jstack -l</code> result is as follows.\nThere is nothing in <code>Locked ownable synchronizers</code> of <code>Thread-0</code>.</p>\n<pre><code>&quot;Thread-2&quot; #13 prio=5 os_prio=31 tid=0x00007f7d0c04e000 nid=0x5903 waiting on condition [0x000070000d399000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x000000076ac17400&gt; (a java.util.concurrent.locks.ReentrantReadWriteLock$FairSync)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireShared(AbstractQueuedSynchronizer.java:967)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireShared(AbstractQueuedSynchronizer.java:1283)\n    at java.util.concurrent.locks.ReentrantReadWriteLock$ReadLock.lock(ReentrantReadWriteLock.java:727)\n    at WaWaMain.lambda$main$2(WaWaMain.java:30)\n    at WaWaMain$$Lambda$3/1149319664.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:745)\n\n   Locked ownable synchronizers:\n    - None\n\n&quot;Thread-1&quot; #12 prio=5 os_prio=31 tid=0x00007f7d0c04d000 nid=0x5703 waiting on condition [0x000070000d296000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x000000076ac17400&gt; (a java.util.concurrent.locks.ReentrantReadWriteLock$FairSync)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)\n    at java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:943)\n    at WaWaMain.lambda$main$1(WaWaMain.java:20)\n    at WaWaMain$$Lambda$2/558638686.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:745)\n\n   Locked ownable synchronizers:\n    - None\n\n&quot;Thread-0&quot; #11 prio=5 os_prio=31 tid=0x00007f7d0c809000 nid=0x5503 waiting on condition [0x000070000d193000]\n   java.lang.Thread.State: TIMED_WAITING (sleeping)\n    at java.lang.Thread.sleep(Native Method)\n    at WaWaMain.lambda$main$0(WaWaMain.java:12)\n    at WaWaMain$$Lambda$1/1747585824.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:745)\n\n   Locked ownable synchronizers:\n    - None\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":14358321,"reputation":465,"user_id":10371480,"display_name":"Niraj Jha"},"score":0,"creation_date":1657994132,"post_id":73004087,"comment_id":128943814,"body_markdown":"You are mixing some of the stuff, with logger you can get the caller, callee, and further query with the help of application property entry. I agree the format is not what you are looking for, however, my recommendation will be not to achieve it with the help of AOP, reason behind doing something manually via code will not be easy to implement and maintain further.","body":"You are mixing some of the stuff, with logger you can get the caller, callee, and further query with the help of application property entry. I agree the format is not what you are looking for, however, my recommendation will be not to achieve it with the help of AOP, reason behind doing something manually via code will not be easy to implement and maintain further."},{"owner":{"account_id":11135288,"reputation":1,"user_id":8173982,"display_name":"Miladro"},"score":0,"creation_date":1658038491,"post_id":73004087,"comment_id":128949110,"body_markdown":"Thank you @NirajJha for your comment. At this point I just don&#39;t care about maintainability. I&#39;m just debugging and trying find all running queries and their corresponding repository and service classes (by print them to the console). Setting which property can help me about this?","body":"Thank you @NirajJha for your comment. At this point I just don&#39;t care about maintainability. I&#39;m just debugging and trying find all running queries and their corresponding repository and service classes (by print them to the console). Setting which property can help me about this?"},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1658084442,"post_id":73004087,"comment_id":128957767,"body_markdown":"It sounds you need indeed an aspect with something like `new Exception().printStackTrace();` to get the callers.\nI would consider also playing with the logger to find the query, here for example, with Hibernate: &lt;logger name=&quot;org.hibernate.type&quot; level=&quot;TRACE&quot; /&gt; &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot; /&gt;","body":"It sounds you need indeed an aspect with something like <code>new Exception().printStackTrace();</code> to get the callers. I would consider also playing with the logger to find the query, here for example, with Hibernate: &lt;logger name=&quot;org.hibernate.type&quot; level=&quot;TRACE&quot; /&gt; &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot; /&gt;"},{"owner":{"account_id":14358321,"reputation":465,"user_id":10371480,"display_name":"Niraj Jha"},"score":0,"creation_date":1658137719,"post_id":73004087,"comment_id":128967656,"body_markdown":"The property you can use `spring.jpa.show-sql=true`, although not recommended as adds everything to console output.","body":"The property you can use <code>spring.jpa.show-sql=true</code>, although not recommended as adds everything to console output."}],"owner":{"account_id":11135288,"reputation":1,"user_id":8173982,"display_name":"Miladro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657989319,"creation_date":1657973467,"question_id":73004087,"body_markdown":"In Spring Boot, I want to log all executed queries and recursively their callers methods and classes. \r\n\r\nFor example if the logged query is `Select * from users`, then I want something like this: \r\n\r\n    ServiceA.findAllUsers() &gt; UserRepository.findAll() &gt; Select * from users;\r\n\r\nHow could I achieve this?\r\n\r\nThank you.","title":"Printing full stack trace of all queries in spring boot","body":"<p>In Spring Boot, I want to log all executed queries and recursively their callers methods and classes.</p>\n<p>For example if the logged query is <code>Select * from users</code>, then I want something like this:</p>\n<pre><code>ServiceA.findAllUsers() &gt; UserRepository.findAll() &gt; Select * from users;\n</code></pre>\n<p>How could I achieve this?</p>\n<p>Thank you.</p>\n"},{"tags":["java","jsp","servlets","jstl"],"comments":[{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1657985181,"post_id":73005373,"comment_id":128942059,"body_markdown":"Could you show code how the `stavkeNarudzbine` map is initially populated? The loop in izmeniKolicinu only does something if there&#39;s already an entry for that `proizvodID`, and that might be the bug.","body":"Could you show code how the <code>stavkeNarudzbine</code> map is initially populated? The loop in izmeniKolicinu only does something if there&#39;s already an entry for that <code>proizvodID</code>, and that might be the bug."},{"owner":{"account_id":25823701,"reputation":166,"user_id":19562319,"display_name":"David"},"score":0,"creation_date":1657985604,"post_id":73005373,"comment_id":128942132,"body_markdown":"Only entry&#39;s from `stavkeNarudzbine` are displayed on the page and the `proizvodID` is passed automatically, there *must* be an entry always. \nAlso once i delete the first one, the second, which hasn&#39;t worked before, now becomes the first and works correctly, so it&#39;s `proizvodID` was already in `stavkeNarudzbine`.\nThe code for populating the HashMap is completely seperate from this process, User adds something to cart on another jsp, it finds the *something* in database and populates, too much code from to add here","body":"Only entry&#39;s from <code>stavkeNarudzbine</code> are displayed on the page and the <code>proizvodID</code> is passed automatically, there <i>must</i> be an entry always.  Also once i delete the first one, the second, which hasn&#39;t worked before, now becomes the first and works correctly, so it&#39;s <code>proizvodID</code> was already in <code>stavkeNarudzbine</code>. The code for populating the HashMap is completely seperate from this process, User adds something to cart on another jsp, it finds the <i>something</i> in database and populates, too much code from to add here"},{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1657986537,"post_id":73005373,"comment_id":128942314,"body_markdown":"Just from the description of the bug: could getProizvodID() possibly be the same value for all entries?","body":"Just from the description of the bug: could getProizvodID() possibly be the same value for all entries?"},{"owner":{"account_id":25823701,"reputation":166,"user_id":19562319,"display_name":"David"},"score":0,"creation_date":1657986732,"post_id":73005373,"comment_id":128942359,"body_markdown":"@Simon No ID is unique for each, and correctly inserted into the url for each article ( rechecked this after your comment). \nAlso while checking that i found out `izmeniKolicinu` never gets called when i click on one of the articles that dont work ( Any but the one rendered 1st on the screen).","body":"@Simon No ID is unique for each, and correctly inserted into the url for each article ( rechecked this after your comment).  Also while checking that i found out <code>izmeniKolicinu</code> never gets called when i click on one of the articles that dont work ( Any but the one rendered 1st on the screen)."},{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1657987285,"post_id":73005373,"comment_id":128942484,"body_markdown":"In that case, could you show more of the controller code? Do all links at least reach the controller code, or not even that?","body":"In that case, could you show more of the controller code? Do all links at least reach the controller code, or not even that?"},{"owner":{"account_id":25823701,"reputation":166,"user_id":19562319,"display_name":"David"},"score":0,"creation_date":1657987778,"post_id":73005373,"comment_id":128942561,"body_markdown":"Damn i feel dumb, the error was i `break;` ed out of that foreach in `izmeniKolicinu` after the first iteration instead of when it found a match... Spent 4 hours on this, you suggesting that `proizvodID` probably saved me the next 4... Thanks man, sorry.","body":"Damn i feel dumb, the error was i <code>break;</code> ed out of that foreach in <code>izmeniKolicinu</code> after the first iteration instead of when it found a match... Spent 4 hours on this, you suggesting that <code>proizvodID</code> probably saved me the next 4... Thanks man, sorry."}],"answers":[{"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657988064,"creation_date":1657988064,"answer_id":73005804,"question_id":73005373,"body_markdown":"To have a proper answer here (the OP found it through the comments): the `break` needs to be within the if-condition\r\n\r\n    if (prod.getProizvodID() == proizvodID) {\r\n        stavkeNarudzbine.put(prod, novaKolicina);\r\n        break; // HERE\r\n    }\r\n    // NOT HERE: break;","title":"Java servlet request working correctly only for first of multiple auto generated html elements","body":"<p>To have a proper answer here (the OP found it through the comments): the <code>break</code> needs to be within the if-condition</p>\n<pre><code>if (prod.getProizvodID() == proizvodID) {\n    stavkeNarudzbine.put(prod, novaKolicina);\n    break; // HERE\n}\n// NOT HERE: break;\n</code></pre>\n"}],"owner":{"account_id":25823701,"reputation":166,"user_id":19562319,"display_name":"David"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73005804,"answer_count":1,"score":0,"last_activity_date":1657988064,"creation_date":1657984792,"question_id":73005373,"body_markdown":"unfortunately this is a project for school and most of the variables are in my native language, i&#39;ll translate any if needed, but leave the code as is, just in case that&#39;s somehow the problem.\r\n\r\nI&#39;m making a web app for a Catering Service, using Java servlets for my backend and JSP for my front end. \r\n\r\nThe session stores an Order object which has a HashMap&lt;Product, Quantity&gt;.\r\nOn my Cart jsp foreach Product in the hashmap there&#39;s a row in the css grid displayed on the screen. \r\n```\r\n&lt;!-- Cart jsp snippet--&gt;\r\n                         &lt;!--article             Order.getHashMap().keySet()--&gt;\r\n            &lt;c:forEach var=&quot;stavka&quot; items=&quot;${Narudzbina.getStavkeNarudzbine().keySet()}&quot;&gt;\r\n                &lt;div class=&#39;korpa-stavka&#39;&gt;\r\n                     &lt;!-- article.getName() --&gt;\r\n                    &lt;h5&gt;${stavka.getNazivProizvoda()}&lt;/h5&gt;\r\n                    &lt;input class=&quot;btn btn-light poeni-korpa&quot; type=&quot;number&quot; min=&quot;1&quot; id=&quot;${stavka.getProizvodID()}&quot; onchange=&quot;updateUrl(this)&quot; value=&quot;${Narudzbina.getStavkeNarudzbine().get(stavka)}&quot;&gt;\r\n                    &lt;div class=&quot;stavka-buttons&quot;&gt;\r\n                        &lt;!-- Link is filled with a js script --&gt;\r\n                            &lt;a href=&quot;&quot; id=&quot;a${stavka.getProizvodID()}&quot; class=&quot;btn btn-warning btn-stavka&quot;&gt;Izmeni&lt;/a&gt;\r\n                            &lt;!-- Link is static except for the ID, but no JS --&gt;\r\n                            &lt;a href=&quot;Korpa?Zahtev=Izbrisi&amp;Proizvod=${stavka.getProizvodID()}&quot; class=&quot;btn btn-danger btn-stavka&quot;&gt;Izbriši&lt;/a&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;p class=&#39;stavka-total&#39;&gt;Cena: ${stavka.getCenaPoPorciji() * Narudzbina.getStavkeNarudzbine().get(stavka)} RSD&lt;/p&gt;\r\n            &lt;/c:forEach&gt;\r\n```\r\nThis works as intended.\r\nOne of the `a` tags `href` value is filled with an onchange call from the number input before it.\r\n ```\r\n// Js for updating href of that a tag\r\nfunction updateUrl(element){\r\n            var link = document.getElementById(&quot;a&quot; + element.id);\r\n            link.setAttribute(&quot;href&quot;, &quot;Korpa?Zahtev=Izmeni&amp;Proizvod=&quot;+ element.id +&quot;&amp;Kolicina=&quot; + element.value);  \r\n}\r\n```\r\nThat also works well, for every auto generated row from the hashtable. Clicking on the `a` button on any of them, as far as i can see, correctly calls the &quot;Korpa&quot; Controller, with good parameters, different, and correct ArticleID, different and correct Quantity for each of them.\r\n\r\nKorpa servlet then packs the session Order object in a temporary Order, calls changeQuantity(article, newQuantity) on it, when that&#39;s done packs the changed Order in session and reloads the cart page..\r\n```\r\n               // Order order = session order\r\n               Narudzbina narudzbina = (Narudzbina)session.getAttribute(&quot;Narudzbina&quot;);\r\n               //order.change quantity\r\n               narudzbina.izmeniKolicinu(Integer.valueOf(request.getParameter(&quot;Proizvod&quot;)), Integer.valueOf(request.getParameter(&quot;Kolicina&quot;)));\r\n               session.setAttribute(&quot;Narudzbina&quot;,narudzbina);\r\n               //refreshes the Cart jsp \r\n               response.sendRedirect(&quot;Profil?User=&quot; + session.getAttribute(&quot;User&quot;).toString() + &quot;&amp;View=Korpa&quot;);\r\n               return;\r\n               \r\n```\r\nThe Order Model just changes the value in the hash map\r\n\r\n```                         \r\n             //changeQuantity     article ID      newQuantity\r\n   public void izmeniKolicinu(int proizvodID, int novaKolicina) {\r\n             //Order ord : hashMap.keySet()\r\n        for (Proizvod prod : stavkeNarudzbine.keySet()) {\r\n            //if ord.getArticleID == articleID\r\n            if (prod.getProizvodID() == proizvodID) {\r\n                stavkeNarudzbine.put(prod, novaKolicina);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n```\r\n\r\nNow all of this works perfectly well for both changing quantity and deleting the article ( deleting is almost identical and there&#39;s a switch statement in the Controller to check what to run, i ommited that since this is already a long post, and it&#39;s very likely irrelevant )\r\n\r\nBut only for the first article drawn on the cart jsp screen.\r\nThe other articles properly update their respective `href`&#39;s, and all properly call the servlet, the page refreshes, there&#39;s no exceptions thrown, and the status of the request is 302 for both the 1st one ( that works ) and the rest. But the values do not update.\r\n\r\n*Clicking on any but the first generated link doesn&#39;t update values* \r\n\r\nAlso if i click on Remove on the first one that actually works, it gets removed, and the new first drawn one works now.\r\nSorry for the rambling question, I&#39;m just a student, really lost on this one, not really quite sure what the problem could be so I gave all the info i thought would be in any way helpful...\r\nP.S There&#39;s no communication with the database anywhere in this process.\r\n\r\nEDIT: Clarified problem","title":"Java servlet request working correctly only for first of multiple auto generated html elements","body":"<p>unfortunately this is a project for school and most of the variables are in my native language, i'll translate any if needed, but leave the code as is, just in case that's somehow the problem.</p>\n<p>I'm making a web app for a Catering Service, using Java servlets for my backend and JSP for my front end.</p>\n<p>The session stores an Order object which has a HashMap&lt;Product, Quantity&gt;.\nOn my Cart jsp foreach Product in the hashmap there's a row in the css grid displayed on the screen.</p>\n<pre><code>&lt;!-- Cart jsp snippet--&gt;\n                         &lt;!--article             Order.getHashMap().keySet()--&gt;\n            &lt;c:forEach var=&quot;stavka&quot; items=&quot;${Narudzbina.getStavkeNarudzbine().keySet()}&quot;&gt;\n                &lt;div class='korpa-stavka'&gt;\n                     &lt;!-- article.getName() --&gt;\n                    &lt;h5&gt;${stavka.getNazivProizvoda()}&lt;/h5&gt;\n                    &lt;input class=&quot;btn btn-light poeni-korpa&quot; type=&quot;number&quot; min=&quot;1&quot; id=&quot;${stavka.getProizvodID()}&quot; onchange=&quot;updateUrl(this)&quot; value=&quot;${Narudzbina.getStavkeNarudzbine().get(stavka)}&quot;&gt;\n                    &lt;div class=&quot;stavka-buttons&quot;&gt;\n                        &lt;!-- Link is filled with a js script --&gt;\n                            &lt;a href=&quot;&quot; id=&quot;a${stavka.getProizvodID()}&quot; class=&quot;btn btn-warning btn-stavka&quot;&gt;Izmeni&lt;/a&gt;\n                            &lt;!-- Link is static except for the ID, but no JS --&gt;\n                            &lt;a href=&quot;Korpa?Zahtev=Izbrisi&amp;Proizvod=${stavka.getProizvodID()}&quot; class=&quot;btn btn-danger btn-stavka&quot;&gt;Izbriši&lt;/a&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;p class='stavka-total'&gt;Cena: ${stavka.getCenaPoPorciji() * Narudzbina.getStavkeNarudzbine().get(stavka)} RSD&lt;/p&gt;\n            &lt;/c:forEach&gt;\n</code></pre>\n<p>This works as intended.\nOne of the <code>a</code> tags <code>href</code> value is filled with an onchange call from the number input before it.</p>\n<pre><code>// Js for updating href of that a tag\nfunction updateUrl(element){\n           var link = document.getElementById(&quot;a&quot; + element.id);\n           link.setAttribute(&quot;href&quot;, &quot;Korpa?Zahtev=Izmeni&amp;Proizvod=&quot;+ element.id +&quot;&amp;Kolicina=&quot; + element.value);  \n}\n</code></pre>\n<p>That also works well, for every auto generated row from the hashtable. Clicking on the <code>a</code> button on any of them, as far as i can see, correctly calls the &quot;Korpa&quot; Controller, with good parameters, different, and correct ArticleID, different and correct Quantity for each of them.</p>\n<p>Korpa servlet then packs the session Order object in a temporary Order, calls changeQuantity(article, newQuantity) on it, when that's done packs the changed Order in session and reloads the cart page..</p>\n<pre><code>               // Order order = session order\n               Narudzbina narudzbina = (Narudzbina)session.getAttribute(&quot;Narudzbina&quot;);\n               //order.change quantity\n               narudzbina.izmeniKolicinu(Integer.valueOf(request.getParameter(&quot;Proizvod&quot;)), Integer.valueOf(request.getParameter(&quot;Kolicina&quot;)));\n               session.setAttribute(&quot;Narudzbina&quot;,narudzbina);\n               //refreshes the Cart jsp \n               response.sendRedirect(&quot;Profil?User=&quot; + session.getAttribute(&quot;User&quot;).toString() + &quot;&amp;View=Korpa&quot;);\n               return;\n               \n</code></pre>\n<p>The Order Model just changes the value in the hash map</p>\n<pre><code>             //changeQuantity     article ID      newQuantity\n   public void izmeniKolicinu(int proizvodID, int novaKolicina) {\n             //Order ord : hashMap.keySet()\n        for (Proizvod prod : stavkeNarudzbine.keySet()) {\n            //if ord.getArticleID == articleID\n            if (prod.getProizvodID() == proizvodID) {\n                stavkeNarudzbine.put(prod, novaKolicina);\n            }\n            break;\n        }\n    }\n</code></pre>\n<p>Now all of this works perfectly well for both changing quantity and deleting the article ( deleting is almost identical and there's a switch statement in the Controller to check what to run, i ommited that since this is already a long post, and it's very likely irrelevant )</p>\n<p>But only for the first article drawn on the cart jsp screen.\nThe other articles properly update their respective <code>href</code>'s, and all properly call the servlet, the page refreshes, there's no exceptions thrown, and the status of the request is 302 for both the 1st one ( that works ) and the rest. But the values do not update.</p>\n<p><em>Clicking on any but the first generated link doesn't update values</em></p>\n<p>Also if i click on Remove on the first one that actually works, it gets removed, and the new first drawn one works now.\nSorry for the rambling question, I'm just a student, really lost on this one, not really quite sure what the problem could be so I gave all the info i thought would be in any way helpful...\nP.S There's no communication with the database anywhere in this process.</p>\n<p>EDIT: Clarified problem</p>\n"},{"tags":["java","maven","appium","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":4093853,"reputation":568,"user_id":3361187,"accept_rate":72,"display_name":"Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657986372,"creation_date":1657986372,"answer_id":73005576,"question_id":72997360,"body_markdown":"The above problem was solved by using following combination of dependencies:\r\n\r\n        &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n","title":"Getting error &quot;org/openqa/selenium/interactions/HasInputDevices&quot;","body":"<p>The above problem was solved by using following combination of dependencies:</p>\n<pre><code>    &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n        &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n        &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":4093853,"reputation":568,"user_id":3361187,"accept_rate":72,"display_name":"Bilal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657986372,"creation_date":1657904097,"question_id":72997360,"body_markdown":"I am trying to build a java framework for Appium. When I run the tests I get following error:\r\n\r\n*java.lang.NoClassDefFoundError: org/openqa/selenium/interactions/HasInputDevices*\r\n\r\nI have not added any additional selenium dependency at all. Even if I add selenium-java this error still persists. Below is my pom.xml and runner file:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;serenity.version&gt;3.2.5&lt;/serenity.version&gt;\r\n        &lt;serenity.cucumber.version&gt;3.2.5&lt;/serenity.cucumber.version&gt;\r\n        &lt;cucumber.version&gt;7.3.3&lt;/cucumber.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\r\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;8.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nRunner: \r\n\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import net.serenitybdd.cucumber.CucumberWithSerenity;\r\n    import org.junit.runner.RunWith;\r\n\r\n    @RunWith(CucumberWithSerenity.class)\r\n    @CucumberOptions(\r\n        features = {&quot;src/test/resources/features&quot;},\r\n        glue = {&quot;steps&quot;},\r\n        tags = &quot;@appiumApp and not @ignore&quot;,\r\n        stepNotifications = true,\r\n        plugin = {\r\n                &quot;json:target/cucumber-report/cucumber.json&quot;\r\n        }\r\n     )\r\n     public class TestRunner {\r\n     }\r\n\r\n","title":"Getting error &quot;org/openqa/selenium/interactions/HasInputDevices&quot;","body":"<p>I am trying to build a java framework for Appium. When I run the tests I get following error:</p>\n<p><em>java.lang.NoClassDefFoundError: org/openqa/selenium/interactions/HasInputDevices</em></p>\n<p>I have not added any additional selenium dependency at all. Even if I add selenium-java this error still persists. Below is my pom.xml and runner file:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;serenity.version&gt;3.2.5&lt;/serenity.version&gt;\n    &lt;serenity.cucumber.version&gt;3.2.5&lt;/serenity.cucumber.version&gt;\n    &lt;cucumber.version&gt;7.3.3&lt;/cucumber.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;serenity-reports&lt;/id&gt;\n                    &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;aggregate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\n        &lt;version&gt;${serenity.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n        &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n        &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;8.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>Runner:</p>\n<pre><code>import io.cucumber.junit.CucumberOptions;\nimport net.serenitybdd.cucumber.CucumberWithSerenity;\nimport org.junit.runner.RunWith;\n\n@RunWith(CucumberWithSerenity.class)\n@CucumberOptions(\n    features = {&quot;src/test/resources/features&quot;},\n    glue = {&quot;steps&quot;},\n    tags = &quot;@appiumApp and not @ignore&quot;,\n    stepNotifications = true,\n    plugin = {\n            &quot;json:target/cucumber-report/cucumber.json&quot;\n    }\n )\n public class TestRunner {\n }\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657968664,"creation_date":1657968664,"answer_id":73003555,"question_id":72994395,"body_markdown":"You can convert your `Person` object into a `Map` with the [`ObjectMapper#convertValue`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue-java.lang.Object-com.fasterxml.jackson.core.type.TypeReference-) that converts an object to a `map` where the fields&#39; names are keys and values are the fields&#39; values, then add to the obtained map the `transaction_id` key and its value:\r\n\r\n~~~\r\n//map will contain keys = {dob, first_name, last_name} \r\n//up to you modify the keys&#39; names as you like\r\nMap&lt;String, String&gt; map = mapper.convertValue(request.getPerson(),\r\n                             new TypeReference&lt;Map&lt;String, String&gt;&gt;(){});\r\nmap.put(&quot;transaction_id&quot;, request.getTransactionId());\r\n~~~\r\n","title":"Convert nested POJO or JSON to Map&lt;String, String&gt;","body":"<p>You can convert your <code>Person</code> object into a <code>Map</code> with the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue-java.lang.Object-com.fasterxml.jackson.core.type.TypeReference-\" rel=\"nofollow noreferrer\"><code>ObjectMapper#convertValue</code></a> that converts an object to a <code>map</code> where the fields' names are keys and values are the fields' values, then add to the obtained map the <code>transaction_id</code> key and its value:</p>\n<pre><code>//map will contain keys = {dob, first_name, last_name} \n//up to you modify the keys' names as you like\nMap&lt;String, String&gt; map = mapper.convertValue(request.getPerson(),\n                             new TypeReference&lt;Map&lt;String, String&gt;&gt;(){});\nmap.put(&quot;transaction_id&quot;, request.getTransactionId());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657986368,"creation_date":1657986368,"answer_id":73005575,"question_id":72994395,"body_markdown":"There is no way to do it like you want:\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;transaction_id&quot;, request.getTransactionId());\r\n    map.put(&quot;person[dob]&quot;, request.getPerson().getDob());\r\n    map.put(&quot;person[first_name]&quot;, request.getPerson().getFirstName());\r\n    map.put(&quot;person[last_name]&quot;, request.getPerson().getLastName());\r\n\r\nYou could use `convertValue` method \r\n\r\n    Map&lt;String, Object&gt; map = mapper.convertValue(request,\r\n                                 new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});\r\n\r\nbut the resulting map would be something like this:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;transactionId&quot;, request.getTransactionId());\r\n    map.put(&quot;person&quot;, new HashMap&lt;String, Object&gt;());\r\n\r\nFor reading that map:\r\n\r\n    String transactionId = map.get(&quot;transactionId&quot;).toString();\r\n    String firstName = ((Map)map.get(&quot;person&quot;)).get(&quot;firstName&quot;).toString();\r\n    //The same for the rest of the properties\r\n\r\n","title":"Convert nested POJO or JSON to Map&lt;String, String&gt;","body":"<p>There is no way to do it like you want:</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;transaction_id&quot;, request.getTransactionId());\nmap.put(&quot;person[dob]&quot;, request.getPerson().getDob());\nmap.put(&quot;person[first_name]&quot;, request.getPerson().getFirstName());\nmap.put(&quot;person[last_name]&quot;, request.getPerson().getLastName());\n</code></pre>\n<p>You could use <code>convertValue</code> method</p>\n<pre><code>Map&lt;String, Object&gt; map = mapper.convertValue(request,\n                             new TypeReference&lt;Map&lt;String, Object&gt;&gt;(){});\n</code></pre>\n<p>but the resulting map would be something like this:</p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;transactionId&quot;, request.getTransactionId());\nmap.put(&quot;person&quot;, new HashMap&lt;String, Object&gt;());\n</code></pre>\n<p>For reading that map:</p>\n<pre><code>String transactionId = map.get(&quot;transactionId&quot;).toString();\nString firstName = ((Map)map.get(&quot;person&quot;)).get(&quot;firstName&quot;).toString();\n//The same for the rest of the properties\n</code></pre>\n"}],"owner":{"account_id":3088019,"reputation":284,"user_id":3316136,"display_name":"Alexander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1657986368,"creation_date":1657889988,"question_id":72994395,"body_markdown":"In order to create a **multipart/form-data** request, I need to transform either a **nested POJO** or the **nested JSON** that results from Jackson serialization to a **Map&lt;String, String&gt;** with the following format.\r\n\r\n```\r\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;transaction_id&quot;, request.getTransactionId());\r\nmap.put(&quot;person[dob]&quot;, request.getPerson().getDob());\r\nmap.put(&quot;person[first_name]&quot;, request.getPerson().getFirstName());\r\nmap.put(&quot;person[last_name]&quot;, request.getPerson().getLastName());\r\n```\r\n\r\nHere are the definitions of the relevant classes.\r\n\r\n```\r\n@Getter\r\npublic class Request {\r\n  @JsonProperty(&quot;transaction_id&quot;)\r\n  private String transactionId;\r\n  \r\n  private Person person;\r\n}\r\n\r\n@Getter\r\npublic class Person {\r\n    @JsonProperty(&quot;dob&quot;)\r\n    private String dob;\r\n\r\n    @JsonProperty(value = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @JsonProperty(value = &quot;last_name&quot;)\r\n    private String lastName;\r\n}\r\n```\r\n\r\nIs there someway to do the map population automatically from a given `Request` POJO or serialized JSON, e.g. using Jackson that I already use for JSON serialization?","title":"Convert nested POJO or JSON to Map&lt;String, String&gt;","body":"<p>In order to create a <strong>multipart/form-data</strong> request, I need to transform either a <strong>nested POJO</strong> or the <strong>nested JSON</strong> that results from Jackson serialization to a <strong>Map&lt;String, String&gt;</strong> with the following format.</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;transaction_id&quot;, request.getTransactionId());\nmap.put(&quot;person[dob]&quot;, request.getPerson().getDob());\nmap.put(&quot;person[first_name]&quot;, request.getPerson().getFirstName());\nmap.put(&quot;person[last_name]&quot;, request.getPerson().getLastName());\n</code></pre>\n<p>Here are the definitions of the relevant classes.</p>\n<pre><code>@Getter\npublic class Request {\n  @JsonProperty(&quot;transaction_id&quot;)\n  private String transactionId;\n  \n  private Person person;\n}\n\n@Getter\npublic class Person {\n    @JsonProperty(&quot;dob&quot;)\n    private String dob;\n\n    @JsonProperty(value = &quot;first_name&quot;)\n    private String firstName;\n\n    @JsonProperty(value = &quot;last_name&quot;)\n    private String lastName;\n}\n</code></pre>\n<p>Is there someway to do the map population automatically from a given <code>Request</code> POJO or serialized JSON, e.g. using Jackson that I already use for JSON serialization?</p>\n"},{"tags":["java","kotlin","kotlin-coroutines","coroutine"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1635711196,"post_id":69789970,"comment_id":123362234,"body_markdown":"What does your code do _except_ suspend here?  Just create the RPC and parse the result?","body":"What does your code do <i>except</i> suspend here?  Just create the RPC and parse the result?"},{"owner":{"account_id":10281983,"reputation":353,"user_id":7586739,"display_name":"younes elmorabit"},"score":0,"creation_date":1635712195,"post_id":69789970,"comment_id":123362417,"body_markdown":"@LouisWasserman yes that is what it does, and I wait for the results from the queries then I do some processing on them. I am not sure if I answered your question?","body":"@LouisWasserman yes that is what it does, and I wait for the results from the queries then I do some processing on them. I am not sure if I answered your question?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1635712514,"post_id":69789970,"comment_id":123362479,"body_markdown":"So are you just trying to measure the time of creating the RPC and parsing the result?  The time the server spends answering your RPC?","body":"So are you just trying to measure the time of creating the RPC and parsing the result?  The time the server spends answering your RPC?"},{"owner":{"account_id":10281983,"reputation":353,"user_id":7586739,"display_name":"younes elmorabit"},"score":0,"creation_date":1635712591,"post_id":69789970,"comment_id":123362491,"body_markdown":"yes exactly that is what I am trying to do.","body":"yes exactly that is what I am trying to do."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1635714111,"post_id":69789970,"comment_id":123362797,"body_markdown":"But... you are measuring on the client (your microservice acts as client for the DB coroutines). Unless you have more insight on the server, what else would you go for?","body":"But... you are measuring on the client (your microservice acts as client for the DB coroutines). Unless you have more insight on the server, what else would you go for?"},{"owner":{"account_id":10281983,"reputation":353,"user_id":7586739,"display_name":"younes elmorabit"},"score":0,"creation_date":1635715605,"post_id":69789970,"comment_id":123363131,"body_markdown":"Sorry @HiranChaudhuri I don&#39;t get what you mean, but my problem is that the coroutine may not resume execution right after the query response is received because the treads are occupied or the maximum parallel jobs are reached.","body":"Sorry @HiranChaudhuri I don&#39;t get what you mean, but my problem is that the coroutine may not resume execution right after the query response is received because the treads are occupied or the maximum parallel jobs are reached."}],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635718703,"creation_date":1635718703,"answer_id":69791017,"question_id":69789970,"body_markdown":"I don&#39;t know if this is intentional or by a mistake, but you use only a single thread here. You start tens or even hundreds of coroutines and they all fight each other for this single thread. If you perform any CPU-intensive processing in &quot;here I wait for all the results and then some processing on thm&quot; then while it is working, all other coroutines have to wait to be resumed from `withContext(Dispatchers.IO)`. If you want to utilize multiple threads, replace `runBlocking {}` with `runBlocking(Dispatchers.Default) {}`.\r\n\r\nStill, it doesn&#39;t fix the problem, but rather lessens its impact. Regarding the proper fix: if you need to measure the time spent in the IO only then... measure the time in the IO only. Just move your measurements inside `withContext(Dispatchers.IO)` and I think results will be closer to what you expect. Otherwise, it is like measuring the size of a room by standing outside the building.","title":"How to measure execution time of an aync query/request inside Kotlin coroutines","body":"<p>I don't know if this is intentional or by a mistake, but you use only a single thread here. You start tens or even hundreds of coroutines and they all fight each other for this single thread. If you perform any CPU-intensive processing in &quot;here I wait for all the results and then some processing on thm&quot; then while it is working, all other coroutines have to wait to be resumed from <code>withContext(Dispatchers.IO)</code>. If you want to utilize multiple threads, replace <code>runBlocking {}</code> with <code>runBlocking(Dispatchers.Default) {}</code>.</p>\n<p>Still, it doesn't fix the problem, but rather lessens its impact. Regarding the proper fix: if you need to measure the time spent in the IO only then... measure the time in the IO only. Just move your measurements inside <code>withContext(Dispatchers.IO)</code> and I think results will be closer to what you expect. Otherwise, it is like measuring the size of a room by standing outside the building.</p>\n"},{"tags":[],"owner":{"account_id":12345740,"reputation":508,"user_id":9006779,"display_name":"Nikky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657986348,"creation_date":1635847051,"answer_id":69808460,"question_id":69789970,"body_markdown":"you do not want to measure the coroutine startup or suspension time so you need to measure over a block of code that will not suspend, ie.. your database calls from a java library\r\n\r\nstdlib for example provides a few nice functions like `measureTimedValue`\r\n\r\n```\r\nval (result, duration) = measureTimedValue {\r\n    doWork()\r\n    // eg: productRepository.getBaseProducts(batchOfProductNos)\r\n}\r\nlogger.info(&quot;operation took $duration&quot;)\r\n```\r\n\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/measure-timed-value.html","title":"How to measure execution time of an aync query/request inside Kotlin coroutines","body":"<p>you do not want to measure the coroutine startup or suspension time so you need to measure over a block of code that will not suspend, ie.. your database calls from a java library</p>\n<p>stdlib for example provides a few nice functions like <code>measureTimedValue</code></p>\n<pre><code>val (result, duration) = measureTimedValue {\n    doWork()\n    // eg: productRepository.getBaseProducts(batchOfProductNos)\n}\nlogger.info(&quot;operation took $duration&quot;)\n</code></pre>\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/measure-timed-value.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/measure-timed-value.html</a></p>\n"}],"owner":{"account_id":10281983,"reputation":353,"user_id":7586739,"display_name":"younes elmorabit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2977,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69808460,"answer_count":2,"score":3,"last_activity_date":1657986348,"creation_date":1635708867,"question_id":69789970,"body_markdown":"I have a microservice on which I am using Kotlin coroutines to perform a bunch of db queries asynchronously, and I want to monitor the execution time for each one of those queries for potential performance optimization.\r\n\r\nThe implementation I have is like this:\r\n```\r\nval requestSemaphore = Semaphore(5)\r\nval baseProductsNos = productRepository.getAllBaseProductsNos()\r\nrunBlocking {\r\n    baseProductsNos\r\n        .chunked(500)\r\n        .map { batchOfProductNos -&gt;\r\n            launch {\r\n                requestSemaphore.withPermit {\r\n                    val rawBaseProducts = async {\r\n                        productRepository.getBaseProducts(batchOfProductNos)\r\n                    }\r\n\r\n                    val mediaCall = async {\r\n                        productRepository.getProductMedia(batchOfProductNos)\r\n                    }\r\n\r\n                    val productDimensions = async {\r\n                        productRepository.getProductDimensions(batchOfProductNos)\r\n                    }\r\n\r\n                    val allowedCountries = async {\r\n                        productRepository.getProductNosInCountries(batchOfProductNos, countriesList)\r\n                    }\r\n\r\n                    val variants = async {\r\n                        productRepository.getProductVariants(batchOfProductNos)\r\n                    }\r\n\r\n                    // here I wait for all the results and then some processing on thm\r\n                }\r\n            }\r\n        }.joinAll()\r\n}\r\n\r\n```\r\nAs you can see I use Semaphore to limit the number of parallel jobs, and all the repository methods are suspendable and those are the ones I want to measure the execution time for. Here is an example of an implementation inside ProductRepository:\r\n```\r\n  suspend fun getBaseProducts(baseProductNos: List&lt;String&gt;): List&lt;RawBaseProduct&gt; =\r\n    withContext(Dispatchers.IO) {\r\n      namedParameterJdbcTemplateMercator.query(\r\n        getSqlFromResource(baseProductSql),\r\n        getNamedParametersForBaseProductNos(baseProductNos),\r\n        RawBaseProductRowMapper()\r\n      )\r\n    }\r\n```\r\nAnd to do that I tried this :\r\n```\r\n      val rawBaseProductsCall = async {\r\n        val startTime = System.currentTimeMillis()\r\n\r\n        val result = productRepository.getBaseProducts(productNos)\r\n\r\n        val endTime = System.currentTimeMillis()\r\n        logger.info(&quot;${TemporaryLog(&quot;call-duration&quot;, &quot;rawBaseProductsCall&quot;, endTime - startTime)}&quot;)\r\n\r\n        result\r\n      }\r\n```\r\nBut this measurement always returns inconsistent results for the average in contrast to the sequential implementation(without coroutines), and the only explanation I can come up with is that this measurement includes the suspension time, and obviously I am only interested in the time that the queries take to execute without a suspension time if there was any.\r\n\r\nI don&#39;t know if what I am trying to do is possible in Kotlin, but it looks like [python][1] supports this. So I will appreciate any help to do something similar in Kotlin. \r\n\r\n\r\n**UPDATE:**\r\n\r\nIn my case I am using a regular java library to query the db, so my DB queries are just regular blocking calls which means that the way I am measuring time right now is correct.\r\n\r\nThe assumption I made in the question would have been valid if I was using some implementation of [R2DBC][2] for querying my DB.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34826533/how-to-measure-pythons-asyncio-code-performance\r\n  [2]: https://r2dbc.io/","title":"How to measure execution time of an aync query/request inside Kotlin coroutines","body":"<p>I have a microservice on which I am using Kotlin coroutines to perform a bunch of db queries asynchronously, and I want to monitor the execution time for each one of those queries for potential performance optimization.</p>\n<p>The implementation I have is like this:</p>\n<pre><code>val requestSemaphore = Semaphore(5)\nval baseProductsNos = productRepository.getAllBaseProductsNos()\nrunBlocking {\n    baseProductsNos\n        .chunked(500)\n        .map { batchOfProductNos -&gt;\n            launch {\n                requestSemaphore.withPermit {\n                    val rawBaseProducts = async {\n                        productRepository.getBaseProducts(batchOfProductNos)\n                    }\n\n                    val mediaCall = async {\n                        productRepository.getProductMedia(batchOfProductNos)\n                    }\n\n                    val productDimensions = async {\n                        productRepository.getProductDimensions(batchOfProductNos)\n                    }\n\n                    val allowedCountries = async {\n                        productRepository.getProductNosInCountries(batchOfProductNos, countriesList)\n                    }\n\n                    val variants = async {\n                        productRepository.getProductVariants(batchOfProductNos)\n                    }\n\n                    // here I wait for all the results and then some processing on thm\n                }\n            }\n        }.joinAll()\n}\n\n</code></pre>\n<p>As you can see I use Semaphore to limit the number of parallel jobs, and all the repository methods are suspendable and those are the ones I want to measure the execution time for. Here is an example of an implementation inside ProductRepository:</p>\n<pre><code>  suspend fun getBaseProducts(baseProductNos: List&lt;String&gt;): List&lt;RawBaseProduct&gt; =\n    withContext(Dispatchers.IO) {\n      namedParameterJdbcTemplateMercator.query(\n        getSqlFromResource(baseProductSql),\n        getNamedParametersForBaseProductNos(baseProductNos),\n        RawBaseProductRowMapper()\n      )\n    }\n</code></pre>\n<p>And to do that I tried this :</p>\n<pre><code>      val rawBaseProductsCall = async {\n        val startTime = System.currentTimeMillis()\n\n        val result = productRepository.getBaseProducts(productNos)\n\n        val endTime = System.currentTimeMillis()\n        logger.info(&quot;${TemporaryLog(&quot;call-duration&quot;, &quot;rawBaseProductsCall&quot;, endTime - startTime)}&quot;)\n\n        result\n      }\n</code></pre>\n<p>But this measurement always returns inconsistent results for the average in contrast to the sequential implementation(without coroutines), and the only explanation I can come up with is that this measurement includes the suspension time, and obviously I am only interested in the time that the queries take to execute without a suspension time if there was any.</p>\n<p>I don't know if what I am trying to do is possible in Kotlin, but it looks like <a href=\"https://stackoverflow.com/questions/34826533/how-to-measure-pythons-asyncio-code-performance\">python</a> supports this. So I will appreciate any help to do something similar in Kotlin.</p>\n<p><strong>UPDATE:</strong></p>\n<p>In my case I am using a regular java library to query the db, so my DB queries are just regular blocking calls which means that the way I am measuring time right now is correct.</p>\n<p>The assumption I made in the question would have been valid if I was using some implementation of <a href=\"https://r2dbc.io/\" rel=\"nofollow noreferrer\">R2DBC</a> for querying my DB.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1657980363,"post_id":73004828,"comment_id":128941056,"body_markdown":"No, but you know the lowest value an `int` can assume, that is [`Integer.MIN_VALUE`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#MIN_VALUE)","body":"No, but you know the lowest value an <code>int</code> can assume, that is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#MIN_VALUE\" rel=\"nofollow noreferrer\"><code>Integer.MIN_VALUE</code></a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1657980412,"post_id":73004828,"comment_id":128941073,"body_markdown":"If you know that the array contains at least one element, you can always initialize`max = n[0]`. ;-)","body":"If you know that the array contains at least one element, you can always initialize<code>max = n[0]</code>. ;-)"},{"owner":{"account_id":17716524,"reputation":1146,"user_id":12862712,"display_name":"rohitt"},"score":0,"creation_date":1657980471,"post_id":73004828,"comment_id":128941089,"body_markdown":"please add expected results, to make the question more clearer","body":"please add expected results, to make the question more clearer"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657980503,"post_id":73004828,"comment_id":128941097,"body_markdown":"@rohitt the question is rather clear as it is. EDIT: I re-re-re-read it and it&#39;s rather confusing in language, you&#39;re right","body":"@rohitt the question is rather clear as it is. EDIT: I re-re-re-read it and it&#39;s rather confusing in language, you&#39;re right"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1657981124,"post_id":73004828,"comment_id":128941231,"body_markdown":"Note: you&#39;re getting the _smallest_ value here, not the max/&quot;most significant&quot; value","body":"Note: you&#39;re getting the <i>smallest</i> value here, not the max/&quot;most significant&quot; value"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1657981913,"post_id":73004828,"comment_id":128941401,"body_markdown":"@OneCricketeer No, the code that the OP posted is getting the max value, just like the  question says. It just has the problem that it starts out with a max value of zero which is higher than the max value in the array","body":"@OneCricketeer No, the code that the OP posted is getting the max value, just like the  question says. It just has the problem that it starts out with a max value of zero which is higher than the max value in the array"}],"answers":[{"tags":[],"owner":{"account_id":11211027,"reputation":531,"user_id":8225099,"display_name":"wartoshika"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1657982304,"creation_date":1657980969,"answer_id":73004918,"question_id":73004828,"body_markdown":"If i understood your question correctly, **you are looking for the  `highest` integer value within a list of integers**.\r\n\r\nYou may use `IntStream`s to get the highest value of your data.\r\n\r\n```java\r\nIntStream stream = IntStream.of(-9, -18, 54, 8, 7, 14, 3);\r\nOptionalInt obj = stream.max(); // or use stream.min() for the lowest integer\r\n\r\nif (obj.isPresent()) {\r\n    System.out.println(obj.getAsInt()); // 54\r\n}\r\nelse {\r\n    System.out.println(&quot;stream is empty&quot;);\r\n}\r\n```\r\n\r\nAs @OneCricketeer suggested, can also use your existing `int[]` with streams:\r\n\r\n```java\r\nint[] n = {-1, -2, -3, -4}; // your array of data\r\n\r\nIntStream stream = Arrays.stream(n);\r\nOptionalInt obj = stream.max();\r\nif (obj.isPresent()) {\r\n    System.out.println(obj.getAsInt()); // -1\r\n} else {\r\n    System.out.println(&quot;stream is empty&quot;);\r\n}\r\n```\r\n\r\n[Try it online!](https://tio.run/##dY9Pa8MwDMXv/hSipwQWl267hR167GFs0OPYQW3c4tT/sJSyEPLZMy0NY7DNIGzrvYd@avGKVUwmtM1lsj7FzNBKT3dsnd7mjD3V6pfwktjGgG4X@A@VOBv0WsT9/KpV6g7OHuHokAie0QYYlAI5i0CMLNc12ga8yIUEbTi/vQPmM5UwTDaw/AI8wVBt7qC6l3qQehxrWK@hj10Wr@BCPEGDjEp9z4cbkGRvCy2ARShr9WMTiIdWPAu9x49CdHuCQvra0ms2ZAIXpeDM7Pue2HgdO9ZJaNmF2Xk2vKXdbJzRqo0awTgy/8dWC6AlMD5xv5LB4/RlHtWopk8 &quot;Java (OpenJDK 8) – Try It Online&quot;)","title":"How to find the greatest number of negative integers in array in java?","body":"<p>If i understood your question correctly, <strong>you are looking for the  <code>highest</code> integer value within a list of integers</strong>.</p>\n<p>You may use <code>IntStream</code>s to get the highest value of your data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream stream = IntStream.of(-9, -18, 54, 8, 7, 14, 3);\nOptionalInt obj = stream.max(); // or use stream.min() for the lowest integer\n\nif (obj.isPresent()) {\n    System.out.println(obj.getAsInt()); // 54\n}\nelse {\n    System.out.println(&quot;stream is empty&quot;);\n}\n</code></pre>\n<p>As @OneCricketeer suggested, can also use your existing <code>int[]</code> with streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] n = {-1, -2, -3, -4}; // your array of data\n\nIntStream stream = Arrays.stream(n);\nOptionalInt obj = stream.max();\nif (obj.isPresent()) {\n    System.out.println(obj.getAsInt()); // -1\n} else {\n    System.out.println(&quot;stream is empty&quot;);\n}\n</code></pre>\n<p><a href=\"https://tio.run/##dY9Pa8MwDMXv/hSipwQWl267hR167GFs0OPYQW3c4tT/sJSyEPLZMy0NY7DNIGzrvYd@avGKVUwmtM1lsj7FzNBKT3dsnd7mjD3V6pfwktjGgG4X@A@VOBv0WsT9/KpV6g7OHuHokAie0QYYlAI5i0CMLNc12ga8yIUEbTi/vQPmM5UwTDaw/AI8wVBt7qC6l3qQehxrWK@hj10Wr@BCPEGDjEp9z4cbkGRvCy2ARShr9WMTiIdWPAu9x49CdHuCQvra0ms2ZAIXpeDM7Pue2HgdO9ZJaNmF2Xk2vKXdbJzRqo0awTgy/8dWC6AlMD5xv5LB4/RlHtWopk8\" rel=\"nofollow noreferrer\" title=\"Java (OpenJDK 8) – Try It Online\">Try it online!</a></p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657985986,"creation_date":1657985986,"answer_id":73005522,"question_id":73004828,"body_markdown":" 1. The return type of your methode has to be the int wrapper class Integer, because you accept any values in the int array so the only way to show the user that the array doesn&#39;t have an max, which only could happen if the array is empty, is to return null.\r\n 2. Now because your secure the case that the array could be empty the only other case is that the array has at least one element or more now you can initialize your start variable like this `max = n[0]` because if your array has only one element it has to be the greatest. For the other cases your loop will do the rest. \r\n\r\nSo there are two solutions first iterate by your own  \r\n\r\n    private static Integer max(int[] numbers) {\r\n        if (numbers.length != 0) {\r\n            int max = numbers[0];\r\n            for (int i = 1; i &lt; numbers.length; i++)\r\n                if (max &lt; numbers[i]){\r\n                    max = numbers[i];\r\n                }\r\n            return max;\r\n        }\r\n        return null;\r\n    }\r\n\r\nor second use only the API methodes (could be expansive) \r\n\r\n    private static Integer max(int[] numbers) {\r\n        OptionalInt result = Arrays.stream(numbers).max();\r\n\r\n        return result.isPresent() ? result.getAsInt() : null;\r\n    }\r\n\r\n \r\n\r\n ","title":"How to find the greatest number of negative integers in array in java?","body":"<ol>\n<li>The return type of your methode has to be the int wrapper class Integer, because you accept any values in the int array so the only way to show the user that the array doesn't have an max, which only could happen if the array is empty, is to return null.</li>\n<li>Now because your secure the case that the array could be empty the only other case is that the array has at least one element or more now you can initialize your start variable like this <code>max = n[0]</code> because if your array has only one element it has to be the greatest. For the other cases your loop will do the rest.</li>\n</ol>\n<p>So there are two solutions first iterate by your own</p>\n<pre><code>private static Integer max(int[] numbers) {\n    if (numbers.length != 0) {\n        int max = numbers[0];\n        for (int i = 1; i &lt; numbers.length; i++)\n            if (max &lt; numbers[i]){\n                max = numbers[i];\n            }\n        return max;\n    }\n    return null;\n}\n</code></pre>\n<p>or second use only the API methodes (could be expansive)</p>\n<pre><code>private static Integer max(int[] numbers) {\n    OptionalInt result = Arrays.stream(numbers).max();\n\n    return result.isPresent() ? result.getAsInt() : null;\n}\n</code></pre>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1658062071,"accepted_answer_id":73005522,"answer_count":2,"score":-3,"last_activity_date":1657985986,"creation_date":1657980176,"question_id":73004828,"body_markdown":"How to find the most significant number of negative integers in java? I have the following code and work well with positive integers. This is the code:\r\n```\r\nint max = 0; // not initialsing it also makes it 0\r\nint[] n = {-1,-2,-3,-4};\r\nfor(int i = 0; i &lt; n.lenght; i++)\r\n   if(max &lt; n[i]) \r\n      max = n[i];\r\n```\r\n\r\nNow, I can solve it by reducing the `max` variable to `-5` or something below `-4`, but this is inefficient because we don&#39;t know the lowest value.\r\n\r\nSo, how can it be achieved?","title":"How to find the greatest number of negative integers in array in java?","body":"<p>How to find the most significant number of negative integers in java? I have the following code and work well with positive integers. This is the code:</p>\n<pre><code>int max = 0; // not initialsing it also makes it 0\nint[] n = {-1,-2,-3,-4};\nfor(int i = 0; i &lt; n.lenght; i++)\n   if(max &lt; n[i]) \n      max = n[i];\n</code></pre>\n<p>Now, I can solve it by reducing the <code>max</code> variable to <code>-5</code> or something below <code>-4</code>, but this is inefficient because we don't know the lowest value.</p>\n<p>So, how can it be achieved?</p>\n"},{"tags":["java","spring","spring-boot","stomp","spring-websocket"],"comments":[{"owner":{"account_id":5621248,"reputation":996,"user_id":4451010,"display_name":"Ilya Lapitan"},"score":0,"creation_date":1654571886,"post_id":72518435,"comment_id":128116457,"body_markdown":"Do you know the average time for the task processing and the volume of tasks coming? Looks like inboundChannel has more tasks coming than 2 active threads can process in some time range. So, the tasks start accumulating. If you have more than 2 cores available you can try to increase the pool size and see if this helps.","body":"Do you know the average time for the task processing and the volume of tasks coming? Looks like inboundChannel has more tasks coming than 2 active threads can process in some time range. So, the tasks start accumulating. If you have more than 2 cores available you can try to increase the pool size and see if this helps."},{"owner":{"account_id":5201928,"reputation":2986,"user_id":4161024,"accept_rate":86,"display_name":"Dave Ranjan"},"score":0,"creation_date":1654593172,"post_id":72518435,"comment_id":128121644,"body_markdown":"I am not sure about the task that it is doing. If anyone can help me understand what task it does. Also, I have around 8 cores and documentation says that corePoolSize will be set to 16 (8*2) but that also doesn&#39;t seem to happen.","body":"I am not sure about the task that it is doing. If anyone can help me understand what task it does. Also, I have around 8 cores and documentation says that corePoolSize will be set to 16 (8*2) but that also doesn&#39;t seem to happen."},{"owner":{"account_id":5621248,"reputation":996,"user_id":4451010,"display_name":"Ilya Lapitan"},"score":0,"creation_date":1654656860,"post_id":72518435,"comment_id":128140600,"body_markdown":"You can take a look at this post [SockJS increase pool size](https://stackoverflow.com/questions/68245980/sockjs-increase-pool-size) for the pool size settings.","body":"You can take a look at this post <a href=\"https://stackoverflow.com/questions/68245980/sockjs-increase-pool-size\">SockJS increase pool size</a> for the pool size settings."}],"answers":[{"tags":[],"owner":{"account_id":5201928,"reputation":2986,"user_id":4161024,"accept_rate":86,"display_name":"Dave Ranjan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657985757,"creation_date":1657985757,"answer_id":73005489,"question_id":72518435,"body_markdown":"Finally I think I found the solution, so the problem was around `queued-tasks` for `inbound-channel` as can be seen in the log appended \r\n\r\n    2022-06-01 18:22:59,943 INFO  Thread-id-74- springframework.web.socket.config.WebSocketMessageBrokerStats: WebSocketSession[130 current WS(129)-HttpStream(1)-HttpPoll(0), 225 total, 0 closed abnormally (0 connect failure, 0 send limit, 2 transport error)], stompSubProtocol[processed CONNECT(220)-CONNECTED(132)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 2, active threads = 2, queued tasks = 10774, completed tasks = 31806], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 570895], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 134, completed tasks = 1985]\r\n\r\nI was socked to say only 2 threads were allocated to the task through I was running on a 8 core machine. So I checked the code for TaskExecutor and found this.\r\n\r\n    this.taskExecutor.setCorePoolSize(Runtime.getRuntime().availableProcessors() * 2);\r\n\r\nAccording to this my corePoolSize should had been around `8*2=16` and figured out there is some bug with `Runtime.getRuntime().availableProcessors()` because of which it does not returns correct value in Java8, but has been fixed for newer version. Hence, i decided to fix this manually.\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        logger.debug(&quot;Configuring task executor for Client Inbound Channel&quot;);\r\n        if(inboundCoreThreads != null &amp;&amp; inboundCoreThreads &gt; 0) {\r\n            registration.taskExecutor().corePoolSize(inboundCoreThreads);\r\n        }\r\n    }\r\n\r\nNow the question was why is it getting queued, so we started looking at the thread dump. And figured out that most of the threads are stuck in WAITING state due to cachelimit. And hence updated the cacheLimit to 4096 from 1024\r\n\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.setCacheLimit(messageBrokerCacheLimit);\r\n    }\r\n\r\nofcourse, `inboundCoreThreads` and `messageBrokerCacheLimit` are the variable names and have to put values in these.\r\n\r\nAfter this, everything seems to working just fine. Thankyou @Ilya Lapitan for help.\r\n","title":"Spring Boot WebSocket Broker does not sends CONNECTED frame","body":"<p>Finally I think I found the solution, so the problem was around <code>queued-tasks</code> for <code>inbound-channel</code> as can be seen in the log appended</p>\n<pre><code>2022-06-01 18:22:59,943 INFO  Thread-id-74- springframework.web.socket.config.WebSocketMessageBrokerStats: WebSocketSession[130 current WS(129)-HttpStream(1)-HttpPoll(0), 225 total, 0 closed abnormally (0 connect failure, 0 send limit, 2 transport error)], stompSubProtocol[processed CONNECT(220)-CONNECTED(132)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 2, active threads = 2, queued tasks = 10774, completed tasks = 31806], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 570895], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 134, completed tasks = 1985]\n</code></pre>\n<p>I was socked to say only 2 threads were allocated to the task through I was running on a 8 core machine. So I checked the code for TaskExecutor and found this.</p>\n<pre><code>this.taskExecutor.setCorePoolSize(Runtime.getRuntime().availableProcessors() * 2);\n</code></pre>\n<p>According to this my corePoolSize should had been around <code>8*2=16</code> and figured out there is some bug with <code>Runtime.getRuntime().availableProcessors()</code> because of which it does not returns correct value in Java8, but has been fixed for newer version. Hence, i decided to fix this manually.</p>\n<pre><code>@Override\npublic void configureClientInboundChannel(ChannelRegistration registration) {\n    logger.debug(&quot;Configuring task executor for Client Inbound Channel&quot;);\n    if(inboundCoreThreads != null &amp;&amp; inboundCoreThreads &gt; 0) {\n        registration.taskExecutor().corePoolSize(inboundCoreThreads);\n    }\n}\n</code></pre>\n<p>Now the question was why is it getting queued, so we started looking at the thread dump. And figured out that most of the threads are stuck in WAITING state due to cachelimit. And hence updated the cacheLimit to 4096 from 1024</p>\n<pre><code>@Override\npublic void configureMessageBroker(MessageBrokerRegistry config) {\n    config.setCacheLimit(messageBrokerCacheLimit);\n}\n</code></pre>\n<p>ofcourse, <code>inboundCoreThreads</code> and <code>messageBrokerCacheLimit</code> are the variable names and have to put values in these.</p>\n<p>After this, everything seems to working just fine. Thankyou @Ilya Lapitan for help.</p>\n"}],"owner":{"account_id":5201928,"reputation":2986,"user_id":4161024,"accept_rate":86,"display_name":"Dave Ranjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2457,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73005489,"answer_count":1,"score":5,"last_activity_date":1657985757,"creation_date":1654522145,"question_id":72518435,"body_markdown":"I recently faced and issue, unfortunately on production environment, when my Spring Boot Server was not sending response of CONNECT frame (i.e CONNECTED frame). It first started happening occasionally but later on all the CONNECT requests sent by the browser were not replied to.\r\n\r\n[![Console Log][1]][1]\r\n\r\nOn console I was able to see following log\r\n[![enter image description here][2]][2]\r\n\r\nAfter some investigating, I found out that inboundChannel queue was holding many requests at that time. I believe this was the reason.\r\n\r\n```\r\n2022-06-01 18:22:59,943 INFO  Thread-id-74- springframework.web.socket.config.WebSocketMessageBrokerStats: WebSocketSession[130 current WS(129)-HttpStream(1)-HttpPoll(0), 225 total, 0 closed abnormally (0 connect failure, 0 send limit, 2 transport error)], stompSubProtocol[processed CONNECT(220)-CONNECTED(132)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 2, active threads = 2, queued tasks = 10774, completed tasks = 31806], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 570895], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 134, completed tasks = 1985]\r\n```\r\n\r\nI was wondering what might be the cause of the issue, what can cause queuing in the inboundChannel queue?\r\n\r\nhere is my current STOMP config on my angular application.\r\n\r\n```\r\nconst config: StompJS.StompConfig = {\r\n      brokerURL: this.serverUrl,\r\n      connectHeaders: {\r\n        ccid: this.cookieService.get(&#39;ccid&#39;),\r\n        username: `${this.globalContext.get(&#39;me&#39;)[&#39;username&#39;]}`,\r\n      },\r\n      debug: (str) =&gt; {\r\n        this.loggerService.log(this.sessionId, &#39; | &#39;, str);\r\n      },\r\n      webSocketFactory: () =&gt; {\r\n        return new SockJS(this.serverUrl);\r\n      },\r\n      logRawCommunication: true,\r\n      reconnectDelay: 3000,\r\n      heartbeatIncoming: 100,\r\n      heartbeatOutgoing: 100,\r\n      discardWebsocketOnCommFailure: true,\r\n      connectionTimeout: 4000\r\n    };\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RZxKu.png\r\n  [2]: https://i.stack.imgur.com/uEQHZ.png","title":"Spring Boot WebSocket Broker does not sends CONNECTED frame","body":"<p>I recently faced and issue, unfortunately on production environment, when my Spring Boot Server was not sending response of CONNECT frame (i.e CONNECTED frame). It first started happening occasionally but later on all the CONNECT requests sent by the browser were not replied to.</p>\n<p><a href=\"https://i.stack.imgur.com/RZxKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZxKu.png\" alt=\"Console Log\" /></a></p>\n<p>On console I was able to see following log\n<a href=\"https://i.stack.imgur.com/uEQHZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uEQHZ.png\" alt=\"enter image description here\" /></a></p>\n<p>After some investigating, I found out that inboundChannel queue was holding many requests at that time. I believe this was the reason.</p>\n<pre><code>2022-06-01 18:22:59,943 INFO  Thread-id-74- springframework.web.socket.config.WebSocketMessageBrokerStats: WebSocketSession[130 current WS(129)-HttpStream(1)-HttpPoll(0), 225 total, 0 closed abnormally (0 connect failure, 0 send limit, 2 transport error)], stompSubProtocol[processed CONNECT(220)-CONNECTED(132)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 2, active threads = 2, queued tasks = 10774, completed tasks = 31806], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 570895], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 134, completed tasks = 1985]\n</code></pre>\n<p>I was wondering what might be the cause of the issue, what can cause queuing in the inboundChannel queue?</p>\n<p>here is my current STOMP config on my angular application.</p>\n<pre><code>const config: StompJS.StompConfig = {\n      brokerURL: this.serverUrl,\n      connectHeaders: {\n        ccid: this.cookieService.get('ccid'),\n        username: `${this.globalContext.get('me')['username']}`,\n      },\n      debug: (str) =&gt; {\n        this.loggerService.log(this.sessionId, ' | ', str);\n      },\n      webSocketFactory: () =&gt; {\n        return new SockJS(this.serverUrl);\n      },\n      logRawCommunication: true,\n      reconnectDelay: 3000,\n      heartbeatIncoming: 100,\n      heartbeatOutgoing: 100,\n      discardWebsocketOnCommFailure: true,\n      connectionTimeout: 4000\n    };\n</code></pre>\n"},{"tags":["java","biginteger","factorial"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1657981111,"post_id":73004917,"comment_id":128941228,"body_markdown":"What exactly are you trying to achieve? Can you share a sample input and output?","body":"What exactly are you trying to achieve? Can you share a sample input and output?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1657991639,"post_id":73004917,"comment_id":128943347,"body_markdown":"*Is* there such a thing as a &quot;*trailing*&quot; zero - how does that work?","body":"<i>Is</i> there such a thing as a &quot;<i>trailing</i>&quot; zero - how does that work?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1658001063,"post_id":73004917,"comment_id":128945002,"body_markdown":"Use Legendre&#39;s formula with p = 5. https://en.wikipedia.org/wiki/Legendre%27s_formula","body":"Use Legendre&#39;s formula with p = 5. <a href=\"https://en.wikipedia.org/wiki/Legendre%27s_formula\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Legendre%27s_formula</a>"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657984674,"creation_date":1657982201,"answer_id":73005059,"question_id":73004917,"body_markdown":"I do believe the solution is (integer overflow is not covered):\r\n\r\n```java\r\npublic static int zerosFactorialTrailing(int n) {\r\n    int fives = 0;\r\n    for (int i = 5; i &lt;= n; i *= 5) {\r\n        fives += n / i;\r\n    }\r\n    /*\r\n     * There are always more twos than fives\r\n     *\r\n    int twos = 0;\r\n    for (int i = 2; i &lt;= n; i *= 2) {\r\n        twos += n / i;\r\n    }\r\n    return Math.min(twos, fives);\r\n    */\r\n    return fives;\r\n}\r\n```","title":"Finding Factorial Trailing Zeros from Huge Numbers without calculating the Factorial Java","body":"<p>I do believe the solution is (integer overflow is not covered):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int zerosFactorialTrailing(int n) {\n    int fives = 0;\n    for (int i = 5; i &lt;= n; i *= 5) {\n        fives += n / i;\n    }\n    /*\n     * There are always more twos than fives\n     *\n    int twos = 0;\n    for (int i = 2; i &lt;= n; i *= 2) {\n        twos += n / i;\n    }\n    return Math.min(twos, fives);\n    */\n    return fives;\n}\n</code></pre>\n"}],"owner":{"account_id":25614854,"reputation":11,"user_id":19387613,"display_name":"Noah Solomon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657984674,"creation_date":1657980959,"question_id":73004917,"body_markdown":"Some of the numbers being tested will result in factorials in the digits of 10,000+ so calculating this to find the trailing zeros seems to not be possible. How can I find the number of trailing zeros without calculating for the factorial.\r\n\r\n```public static int zeros(int n) {\r\n        long sum = 1;\r\n        for (int i = 1; i &lt; n+1; i++) {\r\n            sum *= i;\r\n        }\r\n        char[] length = String.valueOf(sum).toCharArray();\r\n        int count = 0;\r\n        for (int i = length.length-1; i &gt; 0; i--) {\r\n                if (length[i] == &#39;0&#39;)\r\n                    count++;\r\n                if (length[i] != &#39;0&#39;)\r\n                    break;\r\n        }\r\n        return count;\r\n    }\r\n","title":"Finding Factorial Trailing Zeros from Huge Numbers without calculating the Factorial Java","body":"<p>Some of the numbers being tested will result in factorials in the digits of 10,000+ so calculating this to find the trailing zeros seems to not be possible. How can I find the number of trailing zeros without calculating for the factorial.</p>\n<pre><code>        long sum = 1;\n        for (int i = 1; i &lt; n+1; i++) {\n            sum *= i;\n        }\n        char[] length = String.valueOf(sum).toCharArray();\n        int count = 0;\n        for (int i = length.length-1; i &gt; 0; i--) {\n                if (length[i] == '0')\n                    count++;\n                if (length[i] != '0')\n                    break;\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","microservices"],"comments":[{"owner":{"account_id":12536069,"reputation":480,"user_id":9122719,"display_name":"Tal Glik"},"score":0,"creation_date":1657925464,"post_id":73000105,"comment_id":128933694,"body_markdown":"Does it return actual text without: @RefreshScope ?","body":"Does it return actual text without: @RefreshScope ?"},{"owner":{"account_id":7874280,"reputation":415,"user_id":5950567,"display_name":"DavidPi"},"score":0,"creation_date":1657926234,"post_id":73000105,"comment_id":128933815,"body_markdown":"Did you put a value in your application.properties (or application.yml) for &quot;test.name&quot; ?\n\nI think the name of your property file should match some default pattern.\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","body":"Did you put a value in your application.properties (or application.yml) for &quot;test.name&quot; ?  I think the name of your property file should match some default pattern. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"score":0,"creation_date":1657929190,"post_id":73000105,"comment_id":128934194,"body_markdown":"@TalGlik yes it returned the text that a pass on value annotation. But with /actuator/refresh it return &quot;spring.cloud.bootstrap.enabled&quot;\n]","body":"@TalGlik yes it returned the text that a pass on value annotation. But with /actuator/refresh it return &quot;spring.cloud.bootstrap.enabled&quot; ]"},{"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"score":0,"creation_date":1657929442,"post_id":73000105,"comment_id":128934223,"body_markdown":"@DavidPi yes if I put @value(${test. name}) it crashes, but when I put @Value(&quot;${propertySources:source test.name}&quot; it returns &quot;source test.name&quot; but I want to return the actual value of test.name on cloud config server","body":"@DavidPi yes if I put @value(${test. name}) it crashes, but when I put @Value(&quot;${propertySources:source test.name}&quot; it returns &quot;source test.name&quot; but I want to return the actual value of test.name on cloud config server"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657984571,"creation_date":1657984571,"answer_id":73005349,"question_id":73000105,"body_markdown":"The tutorial in youtube uses the default naming convetion but you probably have changed it and now spring cloud config server does not know which property file expects your service to have.\r\n\r\nIn cloud config server the file is saved as `product.properties`.\r\n\r\nFor this reason if your client service has some other name, this will not work. To correct it go to the client application and in `bootstrap.yaml` add the property `spring.application.name: product`.","title":"@RefreshScope Annotation return an empty data","body":"<p>The tutorial in youtube uses the default naming convetion but you probably have changed it and now spring cloud config server does not know which property file expects your service to have.</p>\n<p>In cloud config server the file is saved as <code>product.properties</code>.</p>\n<p>For this reason if your client service has some other name, this will not work. To correct it go to the client application and in <code>bootstrap.yaml</code> add the property <code>spring.application.name: product</code>.</p>\n"}],"owner":{"account_id":24479951,"reputation":83,"user_id":18398507,"display_name":"donaldjbrewer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73005349,"answer_count":1,"score":1,"last_activity_date":1657984571,"creation_date":1657923642,"question_id":73000105,"body_markdown":"I Was following this tutorial on [YouTube][1] I have been able to successfully run the config server where I host two properties files here [File hosted][2]. and on the client side when I tried to consume the value I get an empty response here is the dummy controller I have created.\r\n\r\n \r\n\r\n       import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.cloud.context.config.annotation.RefreshScope;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/test&quot;)\r\n    @RefreshScope\r\n    public class TestController {\r\n    \r\n        @Value(&quot;${test.name}&quot;)\r\n        private String product;\r\n    \r\n        @GetMapping\r\n        public String test() {\r\n            return product;\r\n        }\r\n    }\r\n\r\nbut when I send a get request to route /api/test, I get a response of 200OK with no actual test value. name, What am I doing wrong?.\r\n\r\n\r\n\r\n  [1]: https://youtu.be/Fq85GschdLw?t=1536\r\n  [2]: https://github.com/waploaj/Microservice-cloud-config-server","title":"@RefreshScope Annotation return an empty data","body":"<p>I Was following this tutorial on <a href=\"https://youtu.be/Fq85GschdLw?t=1536\" rel=\"nofollow noreferrer\">YouTube</a> I have been able to successfully run the config server where I host two properties files here <a href=\"https://github.com/waploaj/Microservice-cloud-config-server\" rel=\"nofollow noreferrer\">File hosted</a>. and on the client side when I tried to consume the value I get an empty response here is the dummy controller I have created.</p>\n<pre><code>   import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/test&quot;)\n@RefreshScope\npublic class TestController {\n\n    @Value(&quot;${test.name}&quot;)\n    private String product;\n\n    @GetMapping\n    public String test() {\n        return product;\n    }\n}\n</code></pre>\n<p>but when I send a get request to route /api/test, I get a response of 200OK with no actual test value. name, What am I doing wrong?.</p>\n"},{"tags":["java","pytorch"],"answers":[{"tags":[],"owner":{"account_id":4880893,"reputation":11,"user_id":6004444,"display_name":"Jafar A. Badour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657984405,"creation_date":1657835107,"answer_id":72986962,"question_id":65745522,"body_markdown":"I had the same error and resolved it by adding the following lines to the config.properties file.\r\n\r\n    grpc_inference_port=7000\r\n    grpc_management_port=7001\r\n\r\n","title":"java BindException: Address already in use: bind even though port is free","body":"<p>I had the same error and resolved it by adding the following lines to the config.properties file.</p>\n<pre><code>grpc_inference_port=7000\ngrpc_management_port=7001\n</code></pre>\n"}],"owner":{"account_id":402299,"reputation":1944,"user_id":769380,"accept_rate":63,"display_name":"Kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657984405,"creation_date":1610759162,"question_id":65745522,"body_markdown":"I am testing out torchserve with its default configuration... its inference api listen to port 8080. and I got this error which means the port is in use. my bad, I still have apache process listening to that port. I killed the apache process. But i still get the same error. Tried again by changing port configuration of torchserve to use port that I know for sure is not being used by any process. still got the same error. with TCPView app, I could see that for a second, the configured port has been opened in LISTENING state for the torcheserve process. But soon after it got removed again.\r\n\r\nso anyone has anymore idea why is this happening? I am pretty sure this is no longer an issue of port conflict\r\n\r\nthe stack trace\r\n\r\n    java.io.IOException: Failed to bind\r\n            at io.grpc.netty.shaded.io.grpc.netty.NettyServer.start(NettyServer.java:264)\r\n            at io.grpc.internal.ServerImpl.start(ServerImpl.java:183)\r\n            at io.grpc.internal.ServerImpl.start(ServerImpl.java:90)\r\n            at org.pytorch.serve.ModelServer.startGRPCServer(ModelServer.java:396)\r\n            at org.pytorch.serve.ModelServer.startGRPCServers(ModelServer.java:377)\r\n            at org.pytorch.serve.ModelServer.startAndWait(ModelServer.java:116)\r\n            at org.pytorch.serve.ModelServer.main(ModelServer.java:95)\r\n    Caused by: java.net.BindException: Address already in use: bind\r\n            at java.base/sun.nio.ch.Net.bind0(Native Method)\r\n            at java.base/sun.nio.ch.Net.bind(Net.java:461)\r\n            at java.base/sun.nio.ch.Net.bind(Net.java:453)\r\n            at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)\r\n            at io.grpc.netty.shaded.io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:134)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:550)\r\n            at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)\r\n            at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)\r\n            at io.grpc.netty.shaded.io.netty.channel.AbstractChannel.bind(AbstractChannel.java:248)\r\n            at io.grpc.netty.shaded.io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n            at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n            at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:834)\r\n    Exception in thread &quot;Thread-0&quot; java.util.concurrent.RejectedExecutionException: event executor terminated\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:926)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:353)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:346)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:828)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:818)\r\n            at io.netty.channel.AbstractChannelHandlerContext.safeExecute(AbstractChannelHandlerContext.java:989)\r\n            at io.netty.channel.AbstractChannelHandlerContext.close(AbstractChannelHandlerContext.java:608)\r\n            at io.netty.channel.AbstractChannelHandlerContext.close(AbstractChannelHandlerContext.java:472)\r\n            at io.netty.channel.DefaultChannelPipeline.close(DefaultChannelPipeline.java:957)\r\n            at io.netty.channel.AbstractChannel.close(AbstractChannel.java:232)\r\n            at org.pytorch.serve.ModelServer.stop(ModelServer.java:473)\r\n            at org.pytorch.serve.ModelServer$1.run(ModelServer.java:91)","title":"java BindException: Address already in use: bind even though port is free","body":"<p>I am testing out torchserve with its default configuration... its inference api listen to port 8080. and I got this error which means the port is in use. my bad, I still have apache process listening to that port. I killed the apache process. But i still get the same error. Tried again by changing port configuration of torchserve to use port that I know for sure is not being used by any process. still got the same error. with TCPView app, I could see that for a second, the configured port has been opened in LISTENING state for the torcheserve process. But soon after it got removed again.</p>\n<p>so anyone has anymore idea why is this happening? I am pretty sure this is no longer an issue of port conflict</p>\n<p>the stack trace</p>\n<pre><code>java.io.IOException: Failed to bind\n        at io.grpc.netty.shaded.io.grpc.netty.NettyServer.start(NettyServer.java:264)\n        at io.grpc.internal.ServerImpl.start(ServerImpl.java:183)\n        at io.grpc.internal.ServerImpl.start(ServerImpl.java:90)\n        at org.pytorch.serve.ModelServer.startGRPCServer(ModelServer.java:396)\n        at org.pytorch.serve.ModelServer.startGRPCServers(ModelServer.java:377)\n        at org.pytorch.serve.ModelServer.startAndWait(ModelServer.java:116)\n        at org.pytorch.serve.ModelServer.main(ModelServer.java:95)\nCaused by: java.net.BindException: Address already in use: bind\n        at java.base/sun.nio.ch.Net.bind0(Native Method)\n        at java.base/sun.nio.ch.Net.bind(Net.java:461)\n        at java.base/sun.nio.ch.Net.bind(Net.java:453)\n        at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)\n        at io.grpc.netty.shaded.io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:134)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:550)\n        at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)\n        at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)\n        at io.grpc.netty.shaded.io.netty.channel.AbstractChannel.bind(AbstractChannel.java:248)\n        at io.grpc.netty.shaded.io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n        at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nException in thread &quot;Thread-0&quot; java.util.concurrent.RejectedExecutionException: event executor terminated\n        at io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:926)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:353)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:346)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:828)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:818)\n        at io.netty.channel.AbstractChannelHandlerContext.safeExecute(AbstractChannelHandlerContext.java:989)\n        at io.netty.channel.AbstractChannelHandlerContext.close(AbstractChannelHandlerContext.java:608)\n        at io.netty.channel.AbstractChannelHandlerContext.close(AbstractChannelHandlerContext.java:472)\n        at io.netty.channel.DefaultChannelPipeline.close(DefaultChannelPipeline.java:957)\n        at io.netty.channel.AbstractChannel.close(AbstractChannel.java:232)\n        at org.pytorch.serve.ModelServer.stop(ModelServer.java:473)\n        at org.pytorch.serve.ModelServer$1.run(ModelServer.java:91)\n</code></pre>\n"},{"tags":["java","grails","thymeleaf","grails-5"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657984328,"creation_date":1657971874,"answer_id":73003905,"question_id":72995986,"body_markdown":"&gt; So, is there anyway to use thymeleaf instead of gsp ?\r\n\r\nYes.  One way to do that is to use the Spring Boot Thymeleaf support.\r\n\r\n&gt; However, grails don&#39;t allow rendering .html files\r\n\r\nThat isn&#39;t true.  We render `.html` files all the time.  You can render any static file from a Grails app, including `.html` files.\r\n\r\n**EDIT:**\r\n\r\nSee the project at [github.com/jeffbrown/ganeshkhadkahtml][1].\r\n\r\nIf you run that app and send a request to http://localhost:8080/showMeSomeHtml that will render the HTML file at [src/main/webapp/static/index.html][2].\r\n\r\nYou could also send a request to http://localhost:8080/static/index.html to render that same file if you wanted to support that.\r\n\r\n\r\n  [1]: https://github.com/jeffbrown/ganeshkhadkahtml\r\n  [2]: https://github.com/jeffbrown/ganeshkhadkahtml/blob/b48273ff23bd1b38385ab9f8875bdc0f38a7cd66/src/main/webapp/static/index.html","title":"Is there any way to use Thymeleaf in grails instead of GSPs?","body":"<blockquote>\n<p>So, is there anyway to use thymeleaf instead of gsp ?</p>\n</blockquote>\n<p>Yes.  One way to do that is to use the Spring Boot Thymeleaf support.</p>\n<blockquote>\n<p>However, grails don't allow rendering .html files</p>\n</blockquote>\n<p>That isn't true.  We render <code>.html</code> files all the time.  You can render any static file from a Grails app, including <code>.html</code> files.</p>\n<p><strong>EDIT:</strong></p>\n<p>See the project at <a href=\"https://github.com/jeffbrown/ganeshkhadkahtml\" rel=\"nofollow noreferrer\">github.com/jeffbrown/ganeshkhadkahtml</a>.</p>\n<p>If you run that app and send a request to http://localhost:8080/showMeSomeHtml that will render the HTML file at <a href=\"https://github.com/jeffbrown/ganeshkhadkahtml/blob/b48273ff23bd1b38385ab9f8875bdc0f38a7cd66/src/main/webapp/static/index.html\" rel=\"nofollow noreferrer\">src/main/webapp/static/index.html</a>.</p>\n<p>You could also send a request to http://localhost:8080/static/index.html to render that same file if you wanted to support that.</p>\n"}],"owner":{"account_id":15010489,"reputation":61,"user_id":10835126,"display_name":"Ganesh Khadka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657984328,"creation_date":1657897417,"question_id":72995986,"body_markdown":"I am building an application with react+grails, where grails is the wrapper. However, the react application is based on Create React App, due to this the output template of react is index.html. However, grails don&#39;t allow rendering .html files. So, is there anyway to use thymeleaf instead of gsp ?\r\n\r\nI have other ways like ```render text: htmlText, contentType:&quot;text/html&quot;, encoding:&quot;UTF-8&quot;``` but this seems very hacky.\r\n","title":"Is there any way to use Thymeleaf in grails instead of GSPs?","body":"<p>I am building an application with react+grails, where grails is the wrapper. However, the react application is based on Create React App, due to this the output template of react is index.html. However, grails don't allow rendering .html files. So, is there anyway to use thymeleaf instead of gsp ?</p>\n<p>I have other ways like <code>render text: htmlText, contentType:&quot;text/html&quot;, encoding:&quot;UTF-8&quot;</code> but this seems very hacky.</p>\n"},{"tags":["java","unit-testing","junit","automated-tests","multiprocessing"],"answers":[{"tags":[],"owner":{"account_id":162408,"reputation":9549,"user_id":383838,"accept_rate":65,"display_name":"Jon Freedman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282142075,"creation_date":1282142075,"answer_id":3513192,"question_id":3513140,"body_markdown":"I&#39;d recommend using mock objects, you can then test the producer and the consumer independently mocking out the other.  So you test the producer produces, and the consumer consumes.\r\n\r\nYou can also test the mechanism the two communicate, but I&#39;d expect thats provided by a 3rd party?\r\n\r\nSee [Mockito][1], [jMock][2], [EasyMock][3]\r\n\r\n\r\n  [1]: http://mockito.org/\r\n  [2]: http://www.jmock.org/\r\n  [3]: http://easymock.org/","title":"Is there a multi-process unit testing framework / junit addon?","body":"<p>I'd recommend using mock objects, you can then test the producer and the consumer independently mocking out the other.  So you test the producer produces, and the consumer consumes.</p>\n\n<p>You can also test the mechanism the two communicate, but I'd expect thats provided by a 3rd party?</p>\n\n<p>See <a href=\"http://mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a>, <a href=\"http://www.jmock.org/\" rel=\"nofollow noreferrer\">jMock</a>, <a href=\"http://easymock.org/\" rel=\"nofollow noreferrer\">EasyMock</a></p>\n"},{"tags":[],"owner":{"account_id":38973,"reputation":17442,"user_id":112222,"accept_rate":88,"display_name":"Teja Kantamneni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282142117,"creation_date":1282142117,"answer_id":3513196,"question_id":3513140,"body_markdown":"What you are talking in point 1 is not a true unit testing scenario. In a perfect unit test you will not worry about who is producing the messages and who is consuming the messages. One of your test case will concentrate on imagining(or mocking) that you  received different messages from a valid producer and your test cases will test how these are being consumed properly. What you are looking is more like a integration testing. Anyway some of the statements which I made may be subjective. You can use jMock, easymock frameworks for your mocking needs.","title":"Is there a multi-process unit testing framework / junit addon?","body":"<p>What you are talking in point 1 is not a true unit testing scenario. In a perfect unit test you will not worry about who is producing the messages and who is consuming the messages. One of your test case will concentrate on imagining(or mocking) that you  received different messages from a valid producer and your test cases will test how these are being consumed properly. What you are looking is more like a integration testing. Anyway some of the statements which I made may be subjective. You can use jMock, easymock frameworks for your mocking needs.</p>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282143080,"creation_date":1282143080,"answer_id":3513363,"question_id":3513140,"body_markdown":"This is way beyond Unit testing and firmly inside Integration testing.\r\n\r\nI would recommend to test what you can by mocking out your comms layer with each piece separate.\r\n\r\nWhat I did in the past in such cases is to start a separate thread in the test which starts a Mock Receiver/Sender. In the main test I then do the Sender/Receiver part. In practice this means this is full of delays to make sure things start in the right order and this becomes dead slow, so you just want to do this to test that the pieces of the puzzle fit, and do as little as possible functional testing over it.\r\n\r\nI verify the desired behavior and terminate the helper thread before leaving the test.\r\n\r\nThis can test a lot. Testing using separate processes (and hosts!) is a real pain. takes forever and I would limit that to manual testing.\r\n\r\n","title":"Is there a multi-process unit testing framework / junit addon?","body":"<p>This is way beyond Unit testing and firmly inside Integration testing.</p>\n\n<p>I would recommend to test what you can by mocking out your comms layer with each piece separate.</p>\n\n<p>What I did in the past in such cases is to start a separate thread in the test which starts a Mock Receiver/Sender. In the main test I then do the Sender/Receiver part. In practice this means this is full of delays to make sure things start in the right order and this becomes dead slow, so you just want to do this to test that the pieces of the puzzle fit, and do as little as possible functional testing over it.</p>\n\n<p>I verify the desired behavior and terminate the helper thread before leaving the test.</p>\n\n<p>This can test a lot. Testing using separate processes (and hosts!) is a real pain. takes forever and I would limit that to manual testing.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1282143227,"creation_date":1282143227,"answer_id":3513393,"question_id":3513140,"body_markdown":"I would describe what you are looking to do as an integration test, and beyond the scope of JUnit as a framework (JUnit is only now dipping its toe into multi-thread testing, multi-process is certainly not in the feature set).\r\n\r\nYou could of course use JUnit to run such tests, but they would really be limited to a runner, the rest you have to do yourself.\r\n\r\nOthers have already pointed to the fact that you would usually mock or otherwise send artificially constructed methods to the consumer, and test what the producer produces independently at the &quot;unit test&quot; level.\r\n\r\nIn terms of actually testing the interaction between the producer and the consumer, one approach is to forget about the inter-process testing, and test it intra-process on one thread via some sort of Dependency Injection where the producer sends the message via some fake way that just passes it on the the consumer without anything more under the hood than in-thread method calls.\r\n\r\nHowever, it seems that you want to test things that can happen with the actual inter-process stuff on top of it (race conditions and the like), which makes this all-the-more an integration test.\r\n\r\nTo approach this problem, you need to start the process and wait for it to accept a message, then your test would tell the producer what message to create and it would send it to the consumer. Then your test would ask the consumer what it got (with suitable delay).\r\n\r\nThe need here would have to be compelling for me to do it. I would go for full blown automated acceptance testing and let that encompass this level of integration.","title":"Is there a multi-process unit testing framework / junit addon?","body":"<p>I would describe what you are looking to do as an integration test, and beyond the scope of JUnit as a framework (JUnit is only now dipping its toe into multi-thread testing, multi-process is certainly not in the feature set).</p>\n\n<p>You could of course use JUnit to run such tests, but they would really be limited to a runner, the rest you have to do yourself.</p>\n\n<p>Others have already pointed to the fact that you would usually mock or otherwise send artificially constructed methods to the consumer, and test what the producer produces independently at the \"unit test\" level.</p>\n\n<p>In terms of actually testing the interaction between the producer and the consumer, one approach is to forget about the inter-process testing, and test it intra-process on one thread via some sort of Dependency Injection where the producer sends the message via some fake way that just passes it on the the consumer without anything more under the hood than in-thread method calls.</p>\n\n<p>However, it seems that you want to test things that can happen with the actual inter-process stuff on top of it (race conditions and the like), which makes this all-the-more an integration test.</p>\n\n<p>To approach this problem, you need to start the process and wait for it to accept a message, then your test would tell the producer what message to create and it would send it to the consumer. Then your test would ask the consumer what it got (with suitable delay).</p>\n\n<p>The need here would have to be compelling for me to do it. I would go for full blown automated acceptance testing and let that encompass this level of integration.</p>\n"},{"tags":[],"owner":{"account_id":331418,"reputation":19117,"user_id":656069,"display_name":"Brian Kelly"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449542100,"creation_date":1299882323,"answer_id":5279033,"question_id":3513140,"body_markdown":"You should take a look at [XHarness][1], which I believe meets your needs. I&#39;ve used it in the recent past and it worked great for our projects at the time.\r\n\r\nFrom its page:\r\n\r\n&gt; &quot;XHarness is a system test harness for\r\n&gt; Apache Ant. It allows developers to\r\n&gt; describe their product/system tests in\r\n&gt; the form of XML as part of an ant\r\n&gt; build file, describing the tasks and\r\n&gt; processes that comprise the test cases\r\n&gt; and what their expected behaviour is.\r\n&gt; It has powerful **process management\r\n&gt; capabilities,** that extend the existing\r\n&gt; Ant process tasks (exec, java) to\r\n&gt; allow **asynchronous execution of java\r\n&gt; and native processes** (e.g. for\r\n&gt; client-server tests), synchronization\r\n&gt; between multiple processes and complex\r\n&gt; assertions on process and task output\r\n&gt; (stdout/stderr, file output, coupled\r\n&gt; with timeouts, etc.). &quot;\r\n\r\n\r\n  [1]: https://github.com/codehaus/xharness","title":"Is there a multi-process unit testing framework / junit addon?","body":"<p>You should take a look at <a href=\"https://github.com/codehaus/xharness\" rel=\"nofollow\">XHarness</a>, which I believe meets your needs. I've used it in the recent past and it worked great for our projects at the time.</p>\n\n<p>From its page:</p>\n\n<blockquote>\n  <p>\"XHarness is a system test harness for\n  Apache Ant. It allows developers to\n  describe their product/system tests in\n  the form of XML as part of an ant\n  build file, describing the tasks and\n  processes that comprise the test cases\n  and what their expected behaviour is.\n  It has powerful <strong>process management\n  capabilities,</strong> that extend the existing\n  Ant process tasks (exec, java) to\n  allow <strong>asynchronous execution of java\n  and native processes</strong> (e.g. for\n  client-server tests), synchronization\n  between multiple processes and complex\n  assertions on process and task output\n  (stdout/stderr, file output, coupled\n  with timeouts, etc.). \"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1920950,"reputation":45,"user_id":1732485,"display_name":"p0licat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657983856,"creation_date":1657983856,"answer_id":73005275,"question_id":3513140,"body_markdown":"To reply to questions 2 and 3:\r\n\r\nWith respect to architecture, I would consider delegating the responsibility of creating the processes to the operating system, or host. As in this thread [https://stackoverflow.com/questions/13377436/executing-maven-task-from-shell-script-and-getting-error-codes][1], use synchronization mechanisms in your shell scripting environment of your choice to verify errors. Even in CI/CD pipelines, there is usually a script running on top of the OS which you could theoretically modify.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13377436/executing-maven-task-from-shell-script-and-getting-error-codes","title":"Is there a multi-process unit testing framework / junit addon?","body":"<p>To reply to questions 2 and 3:</p>\n<p>With respect to architecture, I would consider delegating the responsibility of creating the processes to the operating system, or host. As in this thread <a href=\"https://stackoverflow.com/questions/13377436/executing-maven-task-from-shell-script-and-getting-error-codes\">Executing Maven task from shell script and getting error codes</a>, use synchronization mechanisms in your shell scripting environment of your choice to verify errors. Even in CI/CD pipelines, there is usually a script running on top of the OS which you could theoretically modify.</p>\n"}],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3494,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":3513393,"answer_count":6,"score":7,"last_activity_date":1657983856,"creation_date":1282141702,"question_id":3513140,"body_markdown":"Imagine **two servers (each within an own jvm process)** which communicate using some form of messages (e.g. simple producer/consumer)\r\n\r\nI&#39;d like to write unit tests that will test the behaviour of these two servers.&lt;br/&gt;\r\nMy questions are:\r\n\r\n1. **Are there some frameworks (or a junit addon) for this problem?**&lt;br/&gt;\r\nI&#39;d like to run a junit test class (or even a single test) in a different process? \r\nIt would be cool if one unit test can easily access the variables of the other test (in a different process) using some sort of inter-process communication.&lt;br/&gt;\r\nE.g. I&#39;d like to **check if the producer really produced the things** i expected, and afterwards, if the consumer consumed them. (and maybe do some fuzzing to detect some race-condition-related problems)\r\n\r\n2. Are there some **best practice** for this kind of testing? \r\n\r\n3. If there isn&#39;t a unit-like testing approach, how would you **test such things during continous integration?**\r\n\r\nNote:&lt;br/&gt;\r\nI don&#39;t want to use threads, because this may alter the behaviour (if you think of thread-safety issues)\r\n\r\n","title":"Is there a multi-process unit testing framework / junit addon?","body":"<p>Imagine <strong>two servers (each within an own jvm process)</strong> which communicate using some form of messages (e.g. simple producer/consumer)</p>\n\n<p>I'd like to write unit tests that will test the behaviour of these two servers.<br/>\nMy questions are:</p>\n\n<ol>\n<li><p><strong>Are there some frameworks (or a junit addon) for this problem?</strong><br/>\nI'd like to run a junit test class (or even a single test) in a different process? \nIt would be cool if one unit test can easily access the variables of the other test (in a different process) using some sort of inter-process communication.<br/>\nE.g. I'd like to <strong>check if the producer really produced the things</strong> i expected, and afterwards, if the consumer consumed them. (and maybe do some fuzzing to detect some race-condition-related problems)</p></li>\n<li><p>Are there some <strong>best practice</strong> for this kind of testing? </p></li>\n<li><p>If there isn't a unit-like testing approach, how would you <strong>test such things during continous integration?</strong></p></li>\n</ol>\n\n<p>Note:<br/>\nI don't want to use threads, because this may alter the behaviour (if you think of thread-safety issues)</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1404229141,"post_id":24514268,"comment_id":37953604,"body_markdown":"How do you think `clone()` works and why?","body":"How do you think <code>clone()</code> works and why?"},{"owner":{"account_id":3576063,"reputation":130,"user_id":2985287,"accept_rate":89,"display_name":"Gautam  Jha"},"score":0,"creation_date":1404229229,"post_id":24514268,"comment_id":37953661,"body_markdown":"i expect output\nRed\nRed","body":"i expect output Red Red"},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":1,"creation_date":1404229324,"post_id":24514268,"comment_id":37953735,"body_markdown":"See this http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone()","body":"See this <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clon&zwnj;&#8203;e()</a>"}],"answers":[{"tags":[],"owner":{"account_id":4086960,"reputation":909,"user_id":3356028,"display_name":"vitro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404229375,"creation_date":1404229375,"answer_id":24514360,"question_id":24514268,"body_markdown":"Your class must implement java.lang.Cloneable interface.\r\n\r\n    public class  Color implements Cloneable\r\n    {\r\n        public String ColorName()\r\n        {\r\n            return &quot;Red&quot;;\r\n        }\r\n\r\n        @Override\r\n        public Color clone() {\r\n            //return your cloned Color instance\r\n        }\r\n    }","title":"why clone not working?","body":"<p>Your class must implement java.lang.Cloneable interface.</p>\n\n<pre><code>public class  Color implements Cloneable\n{\n    public String ColorName()\n    {\n        return \"Red\";\n    }\n\n    @Override\n    public Color clone() {\n        //return your cloned Color instance\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1404229380,"creation_date":1404229380,"answer_id":24514363,"question_id":24514268,"body_markdown":"Because you didn&#39;t implement `Cloneable`, and `Object` has a default implementation of `clone()` that only throws `CloneNotSupportedException`; I think you wanted something like this\r\n\r\n    public class Color implements Cloneable {\r\n      protected String name = &quot;Red&quot;;\r\n\r\n      public String ColorName() {\r\n        return name;\r\n      }\r\n    \r\n      @Override\r\n      public Object clone() {\r\n        Color c = new Color();\r\n        c.name = this.name;\r\n        return c;\r\n      }\r\n    }","title":"why clone not working?","body":"<p>Because you didn't implement <code>Cloneable</code>, and <code>Object</code> has a default implementation of <code>clone()</code> that only throws <code>CloneNotSupportedException</code>; I think you wanted something like this</p>\n\n<pre><code>public class Color implements Cloneable {\n  protected String name = \"Red\";\n\n  public String ColorName() {\n    return name;\n  }\n\n  @Override\n  public Object clone() {\n    Color c = new Color();\n    c.name = this.name;\n    return c;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4214688,"reputation":261,"user_id":3735278,"accept_rate":33,"display_name":"user3735278"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404229481,"creation_date":1404229481,"answer_id":24514416,"question_id":24514268,"body_markdown":"Your class does not implement the Cloneable interface, hence is why this exception was thrown.  This can be found right in Java API.","title":"why clone not working?","body":"<p>Your class does not implement the Cloneable interface, hence is why this exception was thrown.  This can be found right in Java API.</p>\n"},{"tags":[],"owner":{"account_id":374969,"reputation":1404,"user_id":1522753,"accept_rate":36,"display_name":"Bartek Maraszek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657983358,"creation_date":1404285803,"answer_id":24525173,"question_id":24514268,"body_markdown":"The other answers are correct in pointing out that your class needs to implement `Clonable` and override the `clone()` method in order to work as expected:\r\n\r\n    class Color implements Cloneable{\r\n        @Override \r\n        public Color clone(){\r\n            Color c = new Color();\r\n            c.name = this.name;\r\n            return c;\r\n        }\r\n        // other methods\r\n    }\r\n\r\nHowever, the most important thing about `clone()` is that you should always avoid using it.\r\n\r\n[Joshua Bloch](http://en.wikipedia.org/wiki/Joshua_Bloch) explains in his book [&quot;Effective Java&quot;](http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683), that `clone()` is deeply broken and rightly recommends using a copy constructor instead. You can read more about it [here](http://www.artima.com/intv/bloch13.html).\r\n\r\nInstead of using `clone()`, you should declare a copy constructor like this:\r\n\r\n    class Color{\r\n        public Color(){ /* ... */ } // default constructor\r\n        public Color(Color c){\r\n            this.name = c.name; // copy all attributes\r\n        }\r\n        // other methods\r\n    }\r\n\r\nand then use it to copy the object:\r\n\r\n    Color c = new Color();\r\n    Color other = new Color(c); // returns a copy of c","title":"why clone not working?","body":"<p>The other answers are correct in pointing out that your class needs to implement <code>Clonable</code> and override the <code>clone()</code> method in order to work as expected:</p>\n<pre><code>class Color implements Cloneable{\n    @Override \n    public Color clone(){\n        Color c = new Color();\n        c.name = this.name;\n        return c;\n    }\n    // other methods\n}\n</code></pre>\n<p>However, the most important thing about <code>clone()</code> is that you should always avoid using it.</p>\n<p><a href=\"http://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"nofollow noreferrer\">Joshua Bloch</a> explains in his book <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">&quot;Effective Java&quot;</a>, that <code>clone()</code> is deeply broken and rightly recommends using a copy constructor instead. You can read more about it <a href=\"http://www.artima.com/intv/bloch13.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Instead of using <code>clone()</code>, you should declare a copy constructor like this:</p>\n<pre><code>class Color{\n    public Color(){ /* ... */ } // default constructor\n    public Color(Color c){\n        this.name = c.name; // copy all attributes\n    }\n    // other methods\n}\n</code></pre>\n<p>and then use it to copy the object:</p>\n<pre><code>Color c = new Color();\nColor other = new Color(c); // returns a copy of c\n</code></pre>\n"}],"owner":{"account_id":3576063,"reputation":130,"user_id":2985287,"accept_rate":89,"display_name":"Gautam  Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3905,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":24514363,"answer_count":4,"score":2,"last_activity_date":1657983358,"creation_date":1404229106,"question_id":24514268,"body_markdown":"Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code unreported exception java.lang.CloneNotSupportedException; must be caught or declared to be thrown\r\nat Test.main(Test.java:13)\r\nJava Result: 1\r\n\r\n     public class  Color\r\n     {\r\n         public String ColorName()\r\n         {\r\n             return &quot;Red&quot;;\r\n         }\r\n     }\r\n     public class Test extends Color\r\n     {\r\n        public static void main(String args[])\r\n        {\r\n           Color MyShirt = new Color();\r\n           Color MyBag = (Color) MyShirt.clone();\r\n\r\n           System.out.println(MyShirt.ColorName());\r\n           System.out.println(MyBag.ColorName());\r\n        }\r\n     }\r\n","title":"why clone not working?","body":"<p>Exception in thread \"main\" java.lang.RuntimeException: Uncompilable source code unreported exception java.lang.CloneNotSupportedException; must be caught or declared to be thrown\nat Test.main(Test.java:13)\nJava Result: 1</p>\n\n<pre><code> public class  Color\n {\n     public String ColorName()\n     {\n         return \"Red\";\n     }\n }\n public class Test extends Color\n {\n    public static void main(String args[])\n    {\n       Color MyShirt = new Color();\n       Color MyBag = (Color) MyShirt.clone();\n\n       System.out.println(MyShirt.ColorName());\n       System.out.println(MyBag.ColorName());\n    }\n }\n</code></pre>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":25781655,"reputation":109,"user_id":19527184,"display_name":"gaurav jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657956119,"creation_date":1657956119,"answer_id":73002335,"question_id":72998890,"body_markdown":"First you are not passing any variables so you cannot use them the tutorial you are following is using constant values.\r\nIf you want to use variables you can do that by taking input using `@PathVariable` or `@RequestParam` depending on your need or choice.\r\nIf you don&#39;t know spring boot or learning it, I recommend you first learn spring boot web(to make the rest  APIs) and then move to  Spring MVC.","title":"Pass Data from Thymeleaf to Spring Boot Controller, for redirection purposes","body":"<p>First you are not passing any variables so you cannot use them the tutorial you are following is using constant values.\nIf you want to use variables you can do that by taking input using <code>@PathVariable</code> or <code>@RequestParam</code> depending on your need or choice.\nIf you don't know spring boot or learning it, I recommend you first learn spring boot web(to make the rest  APIs) and then move to  Spring MVC.</p>\n"}],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73002335,"answer_count":1,"score":2,"last_activity_date":1657983035,"creation_date":1657913863,"question_id":72998890,"body_markdown":"I am trying to implement [this](https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html) tutorial but I don&#39;t understand what `message/list` means. I&#39;ve created a Spring Boot app that consumes another API, fetches it&#39;s data as JSON format and stores them in PostgreSQL database.\r\n\r\nOne of the columns in my DB are URL&#39;s that came from that API. I am displaying them at frontend in HTML using Thymeleaf. My goal is to create a frontend of URLs that when users click them, will redirect them at the appropriate website outside of my application.\r\n\r\nI&#39;ve to combine the data transfer from Thymeleaf back to controller and redirection from the controller to the outside of my application at the same time.\r\n\r\nIs there any possibility to do this? Below I am showing you my frontend code and below that the controller that I tried to implement, with no success since it&#39;s giving me.\r\n\r\n    java.lang.IllegalArgumentException: Model has no value for key &#39;rate.news_link&#39;\r\n\r\n**FrontEnd**\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n      xmlns:https=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n\r\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n\r\n    &lt;div class=&quot;starter-template&quot;&gt;\r\n        &lt;h1&gt;Cryptocurrency News&lt;/h1&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/main&gt;\r\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\r\n\r\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\r\n        &lt;hr&gt;\r\n        &lt;div class=&quot;table-responsive&quot;&gt;\r\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;News Provider Name&lt;/th&gt;\r\n                    &lt;th&gt;News Link&lt;/th&gt;\r\n                    &lt;th&gt;Related Image&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\r\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\r\n                        &lt;td&gt;\r\n                            &lt;a\r\n                                    href=&quot;#&quot;\r\n                                    th:href=&quot;${rate.news_link}&quot;\r\n                                    th:text=&quot;${rate.HEADLINE}&quot;&gt;\r\n                            &lt;/a&gt;\r\n                        &lt;/td&gt;\r\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n**Controller**\r\n```\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String redirect() {\r\n        return &quot;redirect:/${rate.news_link}&quot;;\r\n    }\r\n```","title":"Pass Data from Thymeleaf to Spring Boot Controller, for redirection purposes","body":"<p>I am trying to implement <a href=\"https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html\" rel=\"nofollow noreferrer\">this</a> tutorial but I don't understand what <code>message/list</code> means. I've created a Spring Boot app that consumes another API, fetches it's data as JSON format and stores them in PostgreSQL database.</p>\n<p>One of the columns in my DB are URL's that came from that API. I am displaying them at frontend in HTML using Thymeleaf. My goal is to create a frontend of URLs that when users click them, will redirect them at the appropriate website outside of my application.</p>\n<p>I've to combine the data transfer from Thymeleaf back to controller and redirection from the controller to the outside of my application at the same time.</p>\n<p>Is there any possibility to do this? Below I am showing you my frontend code and below that the controller that I tried to implement, with no success since it's giving me.</p>\n<pre><code>java.lang.IllegalArgumentException: Model has no value for key 'rate.news_link'\n</code></pre>\n<p><strong>FrontEnd</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n      xmlns:https=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;h1&gt;Cryptocurrency News&lt;/h1&gt;\n    &lt;/div&gt;\n\n&lt;/main&gt;\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\n\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\n        &lt;hr&gt;\n        &lt;div class=&quot;table-responsive&quot;&gt;\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;News Provider Name&lt;/th&gt;\n                    &lt;th&gt;News Link&lt;/th&gt;\n                    &lt;th&gt;Related Image&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;a\n                                    href=&quot;#&quot;\n                                    th:href=&quot;${rate.news_link}&quot;\n                                    th:text=&quot;${rate.HEADLINE}&quot;&gt;\n                            &lt;/a&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>    @RequestMapping(&quot;/&quot;)\n    public String redirect() {\n        return &quot;redirect:/${rate.news_link}&quot;;\n    }\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657760433,"creation_date":1657760433,"answer_id":72974136,"question_id":72974088,"body_markdown":"The easiest way to manage dependencies for a library is to use a build tool like Maven or Gradle. These tools help you to download and utilize dependencies in your own software and give attribution to the original authors as well as include the necessary license files. You tagged this with Android Studio so I assume this is going to be a library for Android applications. Most Android applications use Gradle as a build tool. Your application probably has a build.gradle where you can more easily manage your dependencies. ","title":"No &quot;Add to library&quot; button when on a file","body":"<p>The easiest way to manage dependencies for a library is to use a build tool like Maven or Gradle. These tools help you to download and utilize dependencies in your own software and give attribution to the original authors as well as include the necessary license files. You tagged this with Android Studio so I assume this is going to be a library for Android applications. Most Android applications use Gradle as a build tool. Your application probably has a build.gradle where you can more easily manage your dependencies.</p>\n"},{"tags":[],"owner":{"account_id":7948139,"reputation":1176,"user_id":5999910,"display_name":"Leroy Kegan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657981961,"creation_date":1657981961,"answer_id":73005031,"question_id":72974088,"body_markdown":"Instead of jar download I suggest just to add proper dependency to the gradle file\r\n\r\n**Maven – Gradle**\r\n\r\n    implementation &#39;org.mariuszgromada.math:MathParser.org-mXparser:5.0.6&#39;\r\n\r\n**Maven – Gradle (Kotlin)**\r\n\r\n    implementation(&quot;org.mariuszgromada.math:MathParser.org-mXparser:5.0.6&quot;)\r\n","title":"No &quot;Add to library&quot; button when on a file","body":"<p>Instead of jar download I suggest just to add proper dependency to the gradle file</p>\n<p><strong>Maven – Gradle</strong></p>\n<pre><code>implementation 'org.mariuszgromada.math:MathParser.org-mXparser:5.0.6'\n</code></pre>\n<p><strong>Maven – Gradle (Kotlin)</strong></p>\n<pre><code>implementation(&quot;org.mariuszgromada.math:MathParser.org-mXparser:5.0.6&quot;)\n</code></pre>\n"}],"owner":{"account_id":25794893,"reputation":11,"user_id":19538258,"display_name":"Drifting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657981961,"creation_date":1657759739,"question_id":72974088,"body_markdown":"I am trying to add this fil(math parser) to my library, but there seems to be no &quot;add to library&quot; when i right click it. Any help?\r\n\r\nHere&#39;s the website that I downloaded the files from idk if it will help but it&#39;s here: https://mathparser.org/mxparser-api/ \r\n\r\n[![Image][1]][1]\r\n\r\nI use `JDK 8`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3eyHG.png","title":"No &quot;Add to library&quot; button when on a file","body":"<p>I am trying to add this fil(math parser) to my library, but there seems to be no &quot;add to library&quot; when i right click it. Any help?</p>\n<p>Here's the website that I downloaded the files from idk if it will help but it's here: <a href=\"https://mathparser.org/mxparser-api/\" rel=\"nofollow noreferrer\">https://mathparser.org/mxparser-api/</a></p>\n<p><a href=\"https://i.stack.imgur.com/3eyHG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3eyHG.png\" alt=\"Image\" /></a></p>\n<p>I use <code>JDK 8</code>.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1657797725,"post_id":72979332,"comment_id":128898465,"body_markdown":"There is no way you can return `OnlineFriendsCounter` as a result of method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"There is no way you can return <code>OnlineFriendsCounter</code> as a result of method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."},{"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1657799658,"post_id":72979332,"comment_id":128899147,"body_markdown":"Yes @AlexMamo you were right, also he was using &#39;snap.getValue().toString();&#39; that will be a whole string not a key (Mobile Number)","body":"Yes @AlexMamo you were right, also he was using &#39;snap.getValue().toString();&#39; that will be a whole string not a key (Mobile Number)"}],"answers":[{"tags":[],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657796527,"creation_date":1657796527,"answer_id":72979436,"question_id":72979332,"body_markdown":"No need for another value change event, \r\nYou can convert it to your model directly or parse using map.\r\n\r\n    \r\n    for (DataSnapshot snap : snapshot.getChildren()) {\r\n                        HasMap&lt;String,Object&gt; friends = snap.getValue();\r\n                        \r\n                        for (String mobileNumber : friends .keySet()) \r\n                        {\r\n                            HasMap&lt;Strin,Object&gt; friend = friends.get(mobileNumber);\r\n                            if(friend.get(&quot;IsHome&quot;).toString().equals(&quot;true&quot;))\r\n                            {\r\n                               OnlineFriendsCounter++;\r\n                            }\r\n                        }\r\n    }","title":"Firebase-Android function should work but isn&#39;t","body":"<p>No need for another value change event,\nYou can convert it to your model directly or parse using map.</p>\n<pre><code>for (DataSnapshot snap : snapshot.getChildren()) {\n                    HasMap&lt;String,Object&gt; friends = snap.getValue();\n                    \n                    for (String mobileNumber : friends .keySet()) \n                    {\n                        HasMap&lt;Strin,Object&gt; friend = friends.get(mobileNumber);\n                        if(friend.get(&quot;IsHome&quot;).toString().equals(&quot;true&quot;))\n                        {\n                           OnlineFriendsCounter++;\n                        }\n                    }\n}\n</code></pre>\n"}],"owner":{"account_id":20053160,"reputation":35,"user_id":14701437,"display_name":"עילאי רצ&#39;קובסקי"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657797703,"answer_count":1,"score":0,"last_activity_date":1657981884,"creation_date":1657796008,"question_id":72979332,"body_markdown":"For some reason, the following function always returns 0. Does someone know why?\r\n\r\n```\r\npublic int GetOnlineFriendsNum(){\r\n    OnlineFriendsCounter = 0;\r\n    database.getReference().child(&quot;users&quot;).child(mAuth.getCurrentUser().getPhoneNumber()).child(&quot;Friends&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            for (DataSnapshot snap : snapshot.getChildren()) {\r\n                String friend = snap.getValue().toString();\r\n                database.getReference().child(&quot;users&quot;).child(friend).child(&quot;IsHome&quot;).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapboolean) {\r\n                      if((boolean)snapboolean.getValue()){\r\n                          OnlineFriendsCounter++;\r\n                      }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {}\r\n                });\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {}\r\n    });\r\n\r\n    return OnlineFriendsCounter;\r\n}\r\n```\r\n\r\nI added a firebase tree image^^\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1nSgV.png","title":"Firebase-Android function should work but isn&#39;t","body":"<p>For some reason, the following function always returns 0. Does someone know why?</p>\n<pre><code>public int GetOnlineFriendsNum(){\n    OnlineFriendsCounter = 0;\n    database.getReference().child(&quot;users&quot;).child(mAuth.getCurrentUser().getPhoneNumber()).child(&quot;Friends&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot snap : snapshot.getChildren()) {\n                String friend = snap.getValue().toString();\n                database.getReference().child(&quot;users&quot;).child(friend).child(&quot;IsHome&quot;).addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapboolean) {\n                      if((boolean)snapboolean.getValue()){\n                          OnlineFriendsCounter++;\n                      }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {}\n                });\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {}\n    });\n\n    return OnlineFriendsCounter;\n}\n</code></pre>\n<p>I added a firebase tree image^^\n<a href=\"https://i.stack.imgur.com/1nSgV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1nSgV.png\" alt=\"\" /></a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1657952455,"post_id":73001615,"comment_id":128936423,"body_markdown":"I hope you have the Model (Pojo class). Just call only `ArrayList.get(position).getFirstName` in `onBindViewHolder` on Adapter. Otherwise add your current code for clear understanding","body":"I hope you have the Model (Pojo class). Just call only <code>ArrayList.get(position).getFirstName</code> in <code>onBindViewHolder</code> on Adapter. Otherwise add your current code for clear understanding"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657954985,"post_id":73001615,"comment_id":128936740,"body_markdown":"For sure there is. What have you tried so far to achieve that? Show us your code. Please respond with @AlexMamo","body":"For sure there is. What have you tried so far to achieve that? Show us your code. Please respond with @AlexMamo"},{"owner":{"account_id":22134572,"reputation":63,"user_id":16385593,"display_name":"Inamul Hassan"},"score":0,"creation_date":1657956712,"post_id":73001615,"comment_id":128937006,"body_markdown":"@MDEV i don&#39;t want to get the first name, i just need the parent nodes of that data","body":"@MDEV i don&#39;t want to get the first name, i just need the parent nodes of that data"},{"owner":{"account_id":22134572,"reputation":63,"user_id":16385593,"display_name":"Inamul Hassan"},"score":0,"creation_date":1657956846,"post_id":73001615,"comment_id":128937033,"body_markdown":"@AlexMamo I added my java object in the question. till now i&#39;m able to get the first name and last name values and i have created as a recycler view but now i only want the parent elements only.","body":"@AlexMamo I added my java object in the question. till now i&#39;m able to get the first name and last name values and i have created as a recycler view but now i only want the parent elements only."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1657957047,"post_id":73001615,"comment_id":128937055,"body_markdown":"I cannot see any code related to how to read the data from the database.","body":"I cannot see any code related to how to read the data from the database."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1657964202,"post_id":73001615,"comment_id":128938108,"body_markdown":"If your first name is your head name then why not show firstName? Please add complete code where you&#39;re getting data.","body":"If your first name is your head name then why not show firstName? Please add complete code where you&#39;re getting data."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1657981462,"post_id":73001615,"comment_id":128941300,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag. --- In addition: please edit your question to show the code that reads from the database, as it&#39;s impossible to say anything about the keys based on your POJO class that you likely only use to read the value of each node.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag. --- In addition: please edit your question to show the code that reads from the database, as it&#39;s impossible to say anything about the keys based on your POJO class that you likely only use to read the value of each node."}],"owner":{"account_id":22134572,"reputation":63,"user_id":16385593,"display_name":"Inamul Hassan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657981455,"creation_date":1657947140,"question_id":73001615,"body_markdown":"I have a users database in firebase that contains user&#39;s first name and last name\r\n[![Firebase Database][1]][1]\r\nSo, i want to take only the head name (i.e) Stephen, Steve, Tony e.t.c.\r\nAnd i want to show them as a list in a recycler view.\r\nIs this possible?\r\n\r\nThis is my java object\r\n```\r\npublic class Users {\r\n    String firstName, lastName;\r\n\r\n    public Users(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n}\r\n```\r\n\r\nand i have created my adapter that extends `RecyclerView.Adapter&lt;&gt;`\r\n\r\nPS: The names are not always same as the first name.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wtxNV.png","title":"Get only head values from firebase database","body":"<p>I have a users database in firebase that contains user's first name and last name\n<a href=\"https://i.stack.imgur.com/wtxNV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wtxNV.png\" alt=\"Firebase Database\" /></a>\nSo, i want to take only the head name (i.e) Stephen, Steve, Tony e.t.c.\nAnd i want to show them as a list in a recycler view.\nIs this possible?</p>\n<p>This is my java object</p>\n<pre><code>public class Users {\n    String firstName, lastName;\n\n    public Users(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p>and i have created my adapter that extends <code>RecyclerView.Adapter&lt;&gt;</code></p>\n<p>PS: The names are not always same as the first name.</p>\n"},{"tags":["java","recursion","while-loop"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1448418909,"creation_date":1448418747,"answer_id":33907557,"question_id":33907443,"body_markdown":"Unless there&#39;s some reason you **must** reinvent the wheel, use [`String.indexOf(String)`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-java.lang.String-) and [`String.lastIndexOf(String)`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-java.lang.String-) like\r\n\r\n\tpublic static int strDist(String str, String sub) {\r\n\t\tif (str.contains(sub)) {\r\n\t\t\treturn sub.length() + str.lastIndexOf(sub) - str.indexOf(sub);\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n","title":"Codingbat recursion to while loop?","body":"<p>Unless there's some reason you <strong>must</strong> reinvent the wheel, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-java.lang.String-\" rel=\"nofollow\"><code>String.indexOf(String)</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-java.lang.String-\" rel=\"nofollow\"><code>String.lastIndexOf(String)</code></a> like</p>\n\n<pre><code>public static int strDist(String str, String sub) {\n    if (str.contains(sub)) {\n        return sub.length() + str.lastIndexOf(sub) - str.indexOf(sub);\n    }\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1985247,"reputation":395,"user_id":1780667,"accept_rate":67,"display_name":"Deepeshkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657980381,"creation_date":1657980381,"answer_id":73004856,"question_id":33907443,"body_markdown":"Check this out. \r\n\r\n   \r\n\r\n   \r\n\r\n     public int strDist(String str, String sub) {\r\n      if(!str.contains(sub)) {\r\n        return 0;\r\n      }\r\n      if(str.startsWith(sub) &amp;&amp; str.endsWith(sub)) {\r\n        return str.length();\r\n      }\r\n      return strDist(str.substring(str.indexOf(sub),str.lastIndexOf(sub)+sub.length()),sub);\r\n    }\r\n\r\n\r\n","title":"Codingbat recursion to while loop?","body":"<p>Check this out.</p>\n<pre><code> public int strDist(String str, String sub) {\n  if(!str.contains(sub)) {\n    return 0;\n  }\n  if(str.startsWith(sub) &amp;&amp; str.endsWith(sub)) {\n    return str.length();\n  }\n  return strDist(str.substring(str.indexOf(sub),str.lastIndexOf(sub)+sub.length()),sub);\n}\n</code></pre>\n"}],"owner":{"account_id":7358161,"reputation":3,"user_id":5602242,"display_name":"Parth Raut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657980381,"creation_date":1448417787,"question_id":33907443,"body_markdown":"I know that the recursion series has &quot;DO NOT USE LOOPS&quot; written all over it, but I decided to practice those with loops anyway. I am working on the strDist() one, but I can&#39;t seem to get it completely.\r\n\r\nThe problem:\r\n\r\nGiven a string and a non-empty substring sub, compute recursively the largest substring which starts and ends with sub and return its length. \r\n\r\n    strDist(&quot;catcowcat&quot;, &quot;cat&quot;) → 9\r\n    strDist(&quot;catcowcat&quot;, &quot;cow&quot;) → 3\r\n    strDist(&quot;cccatcowcatxx&quot;, &quot;cat&quot;) → 9\r\nMy code:\r\n\r\n    public int strDist(String str, String sub) {\r\n        int min = 0;\r\n        int max = str.length() - 1;\r\n        int index = 0;\r\n        if (str.isEmpty()) {\r\n            return 0;\r\n        }\r\n        while (index &lt; str.length()) {\r\n            if (str.substring(index, index + sub.length()).equals(sub)) {\r\n                min = index;\r\n                index = str.length();\r\n            }\r\n            index++;\r\n        }\r\n        index = str.length() - 1;\r\n        while (index &gt;= 0) {\r\n            if (str.substring(index - sub.length(), index).equals(sub)) {\r\n                max = index;\r\n                index = 0;\r\n            }\r\n            index--;\r\n        }\r\n        return max - min;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GivE8.png","title":"Codingbat recursion to while loop?","body":"<p>I know that the recursion series has \"DO NOT USE LOOPS\" written all over it, but I decided to practice those with loops anyway. I am working on the strDist() one, but I can't seem to get it completely.</p>\n\n<p>The problem:</p>\n\n<p>Given a string and a non-empty substring sub, compute recursively the largest substring which starts and ends with sub and return its length. </p>\n\n<pre><code>strDist(\"catcowcat\", \"cat\") → 9\nstrDist(\"catcowcat\", \"cow\") → 3\nstrDist(\"cccatcowcatxx\", \"cat\") → 9\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>public int strDist(String str, String sub) {\n    int min = 0;\n    int max = str.length() - 1;\n    int index = 0;\n    if (str.isEmpty()) {\n        return 0;\n    }\n    while (index &lt; str.length()) {\n        if (str.substring(index, index + sub.length()).equals(sub)) {\n            min = index;\n            index = str.length();\n        }\n        index++;\n    }\n    index = str.length() - 1;\n    while (index &gt;= 0) {\n        if (str.substring(index - sub.length(), index).equals(sub)) {\n            max = index;\n            index = 0;\n        }\n        index--;\n    }\n    return max - min;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/GivE8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GivE8.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","kotlin","java-module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657926481,"post_id":73000124,"comment_id":128933861,"body_markdown":"Mind adding the full stacktrace? (A module always reads itself, and all its packages are implicitly exported to itself - so it seems an other module tries to access it. But which one?)","body":"Mind adding the full stacktrace? (A module always reads itself, and all its packages are implicitly exported to itself - so it seems an other module tries to access it. But which one?)"},{"owner":{"account_id":4688180,"reputation":2484,"user_id":3795043,"accept_rate":90,"display_name":"findusl"},"score":0,"creation_date":1657929018,"post_id":73000124,"comment_id":128934174,"body_markdown":"@JohannesKuhn I added the -e flag to the maven command and copied the output to the question. I hope that is the information you are looking for?","body":"@JohannesKuhn I added the -e flag to the maven command and copied the output to the question. I hope that is the information you are looking for?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657932113,"post_id":73000124,"comment_id":128934487,"body_markdown":"Ok, happens during compilation. I believe this is a bug in the kotlin compiler - as a module does export all its packages to itself.","body":"Ok, happens during compilation. I believe this is a bug in the kotlin compiler - as a module does export all its packages to itself."}],"owner":{"account_id":4688180,"reputation":2484,"user_id":3795043,"accept_rate":90,"display_name":"findusl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1657979022,"creation_date":1657923828,"question_id":73000124,"body_markdown":"The whole project can be viewed [here][1].\r\n\r\nI have the following minimal demo project:\r\n\r\n    package com.example.demo\r\n    \r\n    import io.swagger.annotations.Api\r\n    \r\n    @Api(tags = [API_NAME])\r\n    class DemoClass\r\n    \r\n    const val API_NAME = &quot;demo&quot;\r\n    \r\n    fun main() = println(&quot;Hello World!&quot;)\r\n\r\nWorks perfectly fine as is. However now I want to add the Java 9 module system. I add a `module-info.java` under src/main/kotlin with this content:\r\n\r\n    module com.example.demo {\r\n        requires swagger.annotations;\r\n        requires kotlin.stdlib;\r\n    }\r\n\r\nThis leads to the following compiler error (you can find the complete mvn output at the end of the question):\r\n\r\n&gt; E:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt:[5,18] Symbol is declared in module &#39;com.example.demo&#39; which does not export package &#39;com.example.demo&#39;\r\n\r\nThe problem is with the API_NAME constant used in the @Api annotation. It works if I export the `com.example.demo` package in the `module-info.java`, but I don&#39;t want to do that. What else can I do?\r\n\r\nI use Maven as a build system and the pom.xml is standard. It is a bit big, mostly due to the kotlin plugin.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;kotlin.version&gt;1.7.10&lt;/kotlin.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\r\n            &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;compile&lt;/id&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;test-compile&lt;/id&gt;\r\n                            &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;args&gt;\r\n                            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n                        &lt;/args&gt;\r\n                        &lt;compilerPlugins&gt;\r\n                            &lt;plugin&gt;spring&lt;/plugin&gt;\r\n                        &lt;/compilerPlugins&gt;\r\n                        &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n                            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is the complete output of `mvn clean install -e`:\r\n\r\n    [INFO] Error stacktraces are turned on.\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] --------------------------&lt; com.example:demo &gt;--------------------------\r\n    [INFO] Building demo 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ demo ---\r\n    [INFO] Deleting E:\\demo\\target\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ demo ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 0 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ demo ---\r\n    [INFO] Required filename-based automodules detected: [swagger-annotations-1.6.6.jar]. Please don&#39;t publish this project to a public artifact repository!\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to E:\\demo\\target\\classes\r\n    [INFO]\r\n    [INFO] --- kotlin-maven-plugin:1.7.10:compile (compile) @ demo ---\r\n    [INFO] Applied plugin: &#39;spring&#39;\r\n    [ERROR] E:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt: (5, 18) Symbol is declared in module &#39;com.example.demo&#39; which does not export package &#39;com.example.demo&#39;\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  3.825 s\r\n    [INFO] Finished at: 2022-07-16T01:49:05+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.7.10:compile (compile) on project demo: Compilation failure\r\n    [ERROR] E:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt:[5,18] Symbol is declared in module &#39;com.example.demo&#39; which does not export package &#39;com.example.demo&#39;\r\n    [ERROR]\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.7.10:compile (compile) on project demo: Compilation failure\r\n    E:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt:[5,18] Symbol is declared in module &#39;com.example.demo&#39; which does not export package &#39;com.example.demo&#39;\r\n\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.jetbrains.kotlin.maven.KotlinCompilationFailureException: Compilation failure\r\n    E:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt:[5,18] Symbol is declared in module &#39;com.example.demo&#39; which does not export package &#39;com.example.demo&#39;\r\n\r\n        at org.jetbrains.kotlin.maven.MavenPluginLogMessageCollector.throwKotlinCompilerException (MavenPluginLogMessageCollector.java:111)\r\n        at org.jetbrains.kotlin.maven.KotlinCompileMojoBase.execute (KotlinCompileMojoBase.java:212)\r\n        at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execute (K2JVMCompileMojo.java:222)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\n  [1]: https://github.com/findusl/SE73000124\r\n\r\n","title":"Java 9 module cannot access files in same module","body":"<p>The whole project can be viewed <a href=\"https://github.com/findusl/SE73000124\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I have the following minimal demo project:</p>\n<pre><code>package com.example.demo\n\nimport io.swagger.annotations.Api\n\n@Api(tags = [API_NAME])\nclass DemoClass\n\nconst val API_NAME = &quot;demo&quot;\n\nfun main() = println(&quot;Hello World!&quot;)\n</code></pre>\n<p>Works perfectly fine as is. However now I want to add the Java 9 module system. I add a <code>module-info.java</code> under src/main/kotlin with this content:</p>\n<pre><code>module com.example.demo {\n    requires swagger.annotations;\n    requires kotlin.stdlib;\n}\n</code></pre>\n<p>This leads to the following compiler error (you can find the complete mvn output at the end of the question):</p>\n<blockquote>\n<p>E:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt:[5,18] Symbol is declared in module 'com.example.demo' which does not export package 'com.example.demo'</p>\n</blockquote>\n<p>The problem is with the API_NAME constant used in the @Api annotation. It works if I export the <code>com.example.demo</code> package in the <code>module-info.java</code>, but I don't want to do that. What else can I do?</p>\n<p>I use Maven as a build system and the pom.xml is standard. It is a bit big, mostly due to the kotlin plugin.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.7.10&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the complete output of <code>mvn clean install -e</code>:</p>\n<pre><code>[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[INFO]\n[INFO] --------------------------&lt; com.example:demo &gt;--------------------------\n[INFO] Building demo 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ demo ---\n[INFO] Deleting E:\\demo\\target\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ demo ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 1 resource\n[INFO] Copying 0 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ demo ---\n[INFO] Required filename-based automodules detected: [swagger-annotations-1.6.6.jar]. Please don't publish this project to a public artifact repository!\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to E:\\demo\\target\\classes\n[INFO]\n[INFO] --- kotlin-maven-plugin:1.7.10:compile (compile) @ demo ---\n[INFO] Applied plugin: 'spring'\n[ERROR] E:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt: (5, 18) Symbol is declared in module 'com.example.demo' which does not export package 'com.example.demo'\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.825 s\n[INFO] Finished at: 2022-07-16T01:49:05+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.7.10:compile (compile) on project demo: Compilation failure\n[ERROR] E:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt:[5,18] Symbol is declared in module 'com.example.demo' which does not export package 'com.example.demo'\n[ERROR]\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.7.10:compile (compile) on project demo: Compilation failure\nE:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt:[5,18] Symbol is declared in module 'com.example.demo' which does not export package 'com.example.demo'\n\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.jetbrains.kotlin.maven.KotlinCompilationFailureException: Compilation failure\nE:\\demo\\src\\main\\kotlin\\com\\example\\demo\\DemoClass.kt:[5,18] Symbol is declared in module 'com.example.demo' which does not export package 'com.example.demo'\n\n    at org.jetbrains.kotlin.maven.MavenPluginLogMessageCollector.throwKotlinCompilerException (MavenPluginLogMessageCollector.java:111)\n    at org.jetbrains.kotlin.maven.KotlinCompileMojoBase.execute (KotlinCompileMojoBase.java:212)\n    at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execute (K2JVMCompileMojo.java:222)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","layout","swt","composite"],"answers":[{"tags":[],"owner":{"account_id":14570014,"reputation":29,"user_id":10523581,"display_name":"josie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541425705,"creation_date":1541425705,"answer_id":53155691,"question_id":53155513,"body_markdown":"Just set pack to false.\r\n\t\r\n\r\n&gt; **pack** specifies whether all controls in the layout take their\r\n&gt; preferred size\r\n\r\n    columnLayout.pack = false;\r\n    column.setLayout(columnLayout)\r\n\r\n","title":"How to have same width in all the buttons inside various SWT RowLayouts","body":"<p>Just set pack to false.</p>\n\n<blockquote>\n  <p><strong>pack</strong> specifies whether all controls in the layout take their\n  preferred size</p>\n</blockquote>\n\n<pre><code>columnLayout.pack = false;\ncolumn.setLayout(columnLayout)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1541429059,"creation_date":1541429059,"answer_id":53156635,"question_id":53155513,"body_markdown":"This uses `GridLayout` for everything and sets `GridData` on all controls and composites to fill the columns:\r\n\r\n    for (int i = 0; i &lt; columns; i++) {\r\n        Composite column = new Composite(numbersComposite, SWT.NONE);\r\n        column.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, false, false));\r\n\r\n        GridLayout columnLayout = new GridLayout();\r\n        column.setLayout(columnLayout);\r\n\r\n        for (int j = 0; j &lt; rows; j++) {\r\n            Button button = new Button(column, SWT.TOGGLE);\r\n            button.setText(Integer.toString(number));\r\n\r\n            button.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n\r\n            buttons.add(button);\r\n\r\n            number++;\r\n        }\r\n    }\r\n","title":"How to have same width in all the buttons inside various SWT RowLayouts","body":"<p>This uses <code>GridLayout</code> for everything and sets <code>GridData</code> on all controls and composites to fill the columns:</p>\n\n<pre><code>for (int i = 0; i &lt; columns; i++) {\n    Composite column = new Composite(numbersComposite, SWT.NONE);\n    column.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, false, false));\n\n    GridLayout columnLayout = new GridLayout();\n    column.setLayout(columnLayout);\n\n    for (int j = 0; j &lt; rows; j++) {\n        Button button = new Button(column, SWT.TOGGLE);\n        button.setText(Integer.toString(number));\n\n        button.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n\n        buttons.add(button);\n\n        number++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53156635,"answer_count":2,"score":0,"last_activity_date":1657978855,"creation_date":1541425058,"question_id":53155513,"body_markdown":"I want to display a table with 5 columns and 9 rows. The table will display 45 buttons, each of the buttons will have the number written in the button text. The first column has the numbers from 1 to 9 so the buttons have a width smaller than the next four columns, because the next columns has numbers with two digits.\r\n\r\nThe objective is to have the same width in the 45 buttons of the five RowLayout.\r\n\r\n\t\tComposite numbersComposite = new Composite(composite, SWT.NONE);\r\n\t\tnumbersComposite.setLayout(new GridLayout(5, true));\r\n\r\n\t\tint rows = 9;\r\n\t\tint columns = 5;\t\t\t\t\t\t\r\n\t\t\r\n\t\tfor (int i=0; i&lt;columns; i++) {\r\n\t\t\tComposite column = new Composite(numbersComposite, SWT.NONE);\r\n\t\t\tRowLayout columnLayout = new RowLayout(SWT.VERTICAL);\r\n\t\t\tcolumnLayout.fill = true;\r\n\t\t\tcolumn.setLayout(columnLayout);\r\n\t\t\t  \r\n\t\t\tfor (int j=0;j&lt;rows; j++) {\t\t\t\r\n\t\t\t\tbutton = new Button(column, SWT.TOGGLE);\r\n\t\t\t\tbutton.setText(&quot;&quot;+number);\t\t\r\n\t\t\t\tbuttons.add(button);\t\r\n\t\t\t\tnumber++;\r\n\t\t\t}\r\n\t\t}\r\n\r\nI don&#39;t want to set a fixed size to all the buttons because if the user increases the font size in the computer then the text will not be fully visible in the fixed size.","title":"How to have same width in all the buttons inside various SWT RowLayouts","body":"<p>I want to display a table with 5 columns and 9 rows. The table will display 45 buttons, each of the buttons will have the number written in the button text. The first column has the numbers from 1 to 9 so the buttons have a width smaller than the next four columns, because the next columns has numbers with two digits.</p>\n<p>The objective is to have the same width in the 45 buttons of the five RowLayout.</p>\n<pre><code>    Composite numbersComposite = new Composite(composite, SWT.NONE);\n    numbersComposite.setLayout(new GridLayout(5, true));\n\n    int rows = 9;\n    int columns = 5;                        \n    \n    for (int i=0; i&lt;columns; i++) {\n        Composite column = new Composite(numbersComposite, SWT.NONE);\n        RowLayout columnLayout = new RowLayout(SWT.VERTICAL);\n        columnLayout.fill = true;\n        column.setLayout(columnLayout);\n          \n        for (int j=0;j&lt;rows; j++) {         \n            button = new Button(column, SWT.TOGGLE);\n            button.setText(&quot;&quot;+number);      \n            buttons.add(button);    \n            number++;\n        }\n    }\n</code></pre>\n<p>I don't want to set a fixed size to all the buttons because if the user increases the font size in the computer then the text will not be fully visible in the fixed size.</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb","mongotemplate"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":1,"creation_date":1654830424,"post_id":72562908,"comment_id":128190822,"body_markdown":"Performance tips: (1) The fields used in the match operation query can use an index for an efficient filtering. (2) The projection operation before the group stage _may_ not be required, unless you are performing some computation to get that date.","body":"Performance tips: (1) The fields used in the match operation query can use an index for an efficient filtering. (2) The projection operation before the group stage <i>may</i> not be required, unless you are performing some computation to get that date."}],"answers":[{"tags":[],"owner":{"account_id":30010,"reputation":20778,"user_id":81514,"accept_rate":83,"display_name":"Ralph Shillington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657978691,"creation_date":1654796424,"answer_id":72564495,"question_id":72562908,"body_markdown":"Index tuning will depend more on the properties in the `$match` expression. You should be able to run the query in mongosh with and get an explain plan to determine if your query is scanning the collection.\r\n\r\nOther things to consider is the size of the collection versus the working set of the server.\r\n\r\nPerhaps update your question with the `$match` expression, and the `explain plan` and perhaps the current set of index definitions and we can refine the indexing strategy.\r\n\r\nFinally, &quot;huge&quot; is rather subjective?  Are you querying millions or billions or documents, and what is the average document size?\r\n\r\n### Update:\r\nGiven that you&#39;re filtering on only one field, and aggregating on one field, you&#39;ll find the best result will be an index\r\n```\r\n{ &quot;type&quot;:1,&quot;extractionDate&quot;:1}\r\n```\r\nThat index should cover your query -- because the `$in` will mean that a scan will be selected but a scan over a small index is significantly better than over the whole collection of documents.\r\n\r\nNB. The existing index `extractionDate_1_customer.irType_1` will not be any help for this query.","title":"optimize mongo query to get max date in a very short time","body":"<p>Index tuning will depend more on the properties in the <code>$match</code> expression. You should be able to run the query in mongosh with and get an explain plan to determine if your query is scanning the collection.</p>\n<p>Other things to consider is the size of the collection versus the working set of the server.</p>\n<p>Perhaps update your question with the <code>$match</code> expression, and the <code>explain plan</code> and perhaps the current set of index definitions and we can refine the indexing strategy.</p>\n<p>Finally, &quot;huge&quot; is rather subjective?  Are you querying millions or billions or documents, and what is the average document size?</p>\n<h3>Update:</h3>\n<p>Given that you're filtering on only one field, and aggregating on one field, you'll find the best result will be an index</p>\n<pre><code>{ &quot;type&quot;:1,&quot;extractionDate&quot;:1}\n</code></pre>\n<p>That index should cover your query -- because the <code>$in</code> will mean that a scan will be selected but a scan over a small index is significantly better than over the whole collection of documents.</p>\n<p>NB. The existing index <code>extractionDate_1_customer.irType_1</code> will not be any help for this query.</p>\n"},{"tags":[],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655200315,"creation_date":1655200315,"answer_id":72614930,"question_id":72562908,"body_markdown":"I was able to optimize the request thanks to previous answers using this approach: \r\n\r\n    @Override\r\n    public Mono&lt;DBObject&gt; getLastExtractionDate(MatchOperation matchOperation,ProjectionOperation projectionOperation) {\r\n        return Mono.from(mongoTemplate.aggregate(\r\n                newAggregation(\r\n                        matchOperation,\r\n                        sort(Sort.Direction.DESC,EXTRACTION_DATE),\r\n                        limit(1),\r\n                        projectionOperation\r\n                ),\r\n                &quot;kpi&quot;,\r\n                DBObject.class\r\n        ));\r\n    }\r\n\r\nAlso I had to create a compound index on extractionDate and type (the field I had in matchOperation) like bellow: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zMB3C.png","title":"optimize mongo query to get max date in a very short time","body":"<p>I was able to optimize the request thanks to previous answers using this approach:</p>\n<pre><code>@Override\npublic Mono&lt;DBObject&gt; getLastExtractionDate(MatchOperation matchOperation,ProjectionOperation projectionOperation) {\n    return Mono.from(mongoTemplate.aggregate(\n            newAggregation(\n                    matchOperation,\n                    sort(Sort.Direction.DESC,EXTRACTION_DATE),\n                    limit(1),\n                    projectionOperation\n            ),\n            &quot;kpi&quot;,\n            DBObject.class\n    ));\n}\n</code></pre>\n<p>Also I had to create a compound index on extractionDate and type (the field I had in matchOperation) like bellow:\n<a href=\"https://i.stack.imgur.com/zMB3C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zMB3C.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72564495,"answer_count":2,"score":0,"last_activity_date":1657978691,"creation_date":1654788212,"question_id":72562908,"body_markdown":"I&#39;m using the query bellow to get max date (field named extractionDate) in a collection called KPI, and since I&#39;m only interested in the field extractionDate:\r\n\r\n    @Override\r\n    public Mono&lt;DBObject&gt; getLastExtractionDate(MatchOperation matchOperation,ProjectionOperation projectionOperation) {\r\n        return Mono.from(mongoTemplate.aggregate(\r\n                newAggregation(\r\n                        matchOperation,\r\n                        projectionOperation,\r\n                        group().max(EXTRACTION_DATE).as(&quot;result&quot;),\r\n                        project().andExclude(&quot;_id&quot;)\r\n                ),\r\n                &quot;kpi&quot;,\r\n                DBObject.class\r\n        ));\r\n    }\r\n\r\nAnd as you see above, I need to filter the result firstly using the match operation (matchOperation) after that, I&#39;m doing a projection operation to extract only the max of field &quot;extractionDate&quot; and rename it as result. \r\n\r\nBut this query cost a lot of time (sometimes more than 20 seconds) because I have a huge amount of data, I already added an index on the field extractionDate but I did not gain a lot, so I&#39;m looking for a way to mast it fast as max as possible. \r\n\r\n**update:**\r\n\r\nNumber of documents we have in the collection kpi: **42.8m** documents \r\n\r\nThe query that being executed: \r\n\r\n    Streaming aggregation: [{ &quot;$match&quot; : { &quot;type&quot; : { &quot;$in&quot; : [&quot;INACTIVE_SITE&quot;, &quot;DEVICE_NOT_BILLED&quot;, &quot;NOT_REPLYING_POLLING&quot;, &quot;MISSING_KEY_TECH_INFO&quot;, &quot;MISSING_SITE&quot;, &quot;ACTIVE_CIRCUITS_INACTIVE_RESOURCES&quot;, &quot;INCONSISTENT_STATUS_VALUES&quot;]}}}, { &quot;$project&quot; : { &quot;extractionDate&quot; : 1, &quot;_id&quot; : 0}}, { &quot;$group&quot; : { &quot;_id&quot; : null, &quot;result&quot; : { &quot;$max&quot; : &quot;$extractionDate&quot;}}}, { &quot;$project&quot; : { &quot;_id&quot; : 0}}] in collection kpi\r\n\r\nexplain plan: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nExample of a document in the collection KPI: \r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd finally the indexes that already exist on this collection :\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4wnXZ.png\r\n  [2]: https://i.stack.imgur.com/3eCcK.png\r\n  [3]: https://i.stack.imgur.com/nolbj.png","title":"optimize mongo query to get max date in a very short time","body":"<p>I'm using the query bellow to get max date (field named extractionDate) in a collection called KPI, and since I'm only interested in the field extractionDate:</p>\n<pre><code>@Override\npublic Mono&lt;DBObject&gt; getLastExtractionDate(MatchOperation matchOperation,ProjectionOperation projectionOperation) {\n    return Mono.from(mongoTemplate.aggregate(\n            newAggregation(\n                    matchOperation,\n                    projectionOperation,\n                    group().max(EXTRACTION_DATE).as(&quot;result&quot;),\n                    project().andExclude(&quot;_id&quot;)\n            ),\n            &quot;kpi&quot;,\n            DBObject.class\n    ));\n}\n</code></pre>\n<p>And as you see above, I need to filter the result firstly using the match operation (matchOperation) after that, I'm doing a projection operation to extract only the max of field &quot;extractionDate&quot; and rename it as result.</p>\n<p>But this query cost a lot of time (sometimes more than 20 seconds) because I have a huge amount of data, I already added an index on the field extractionDate but I did not gain a lot, so I'm looking for a way to mast it fast as max as possible.</p>\n<p><strong>update:</strong></p>\n<p>Number of documents we have in the collection kpi: <strong>42.8m</strong> documents</p>\n<p>The query that being executed:</p>\n<pre><code>Streaming aggregation: [{ &quot;$match&quot; : { &quot;type&quot; : { &quot;$in&quot; : [&quot;INACTIVE_SITE&quot;, &quot;DEVICE_NOT_BILLED&quot;, &quot;NOT_REPLYING_POLLING&quot;, &quot;MISSING_KEY_TECH_INFO&quot;, &quot;MISSING_SITE&quot;, &quot;ACTIVE_CIRCUITS_INACTIVE_RESOURCES&quot;, &quot;INCONSISTENT_STATUS_VALUES&quot;]}}}, { &quot;$project&quot; : { &quot;extractionDate&quot; : 1, &quot;_id&quot; : 0}}, { &quot;$group&quot; : { &quot;_id&quot; : null, &quot;result&quot; : { &quot;$max&quot; : &quot;$extractionDate&quot;}}}, { &quot;$project&quot; : { &quot;_id&quot; : 0}}] in collection kpi\n</code></pre>\n<p>explain plan:\n<a href=\"https://i.stack.imgur.com/4wnXZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4wnXZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Example of a document in the collection KPI:\n<a href=\"https://i.stack.imgur.com/3eCcK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3eCcK.png\" alt=\"enter image description here\" /></a></p>\n<p>And finally the indexes that already exist on this collection :\n<a href=\"https://i.stack.imgur.com/nolbj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nolbj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","php","json","string","curl"],"comments":[{"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"score":0,"creation_date":1473946837,"post_id":39512446,"comment_id":66341022,"body_markdown":"You haven&#39;t specified what language you&#39;re trying to achieve the formatting of UUID&#39;s in... You&#39;ve mentioned the word Java while only supplying PHP code and queries. Can you be a little more clear about what you&#39;re trying to do?","body":"You haven&#39;t specified what language you&#39;re trying to achieve the formatting of UUID&#39;s in... You&#39;ve mentioned the word Java while only supplying PHP code and queries. Can you be a little more clear about what you&#39;re trying to do?"},{"owner":{"account_id":3943960,"reputation":114,"user_id":3257339,"accept_rate":50,"display_name":"LeoV117"},"score":0,"creation_date":1473946984,"post_id":39512446,"comment_id":66341141,"body_markdown":"Done as requested. Updated in title and question.","body":"Done as requested. Updated in title and question."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473947014,"creation_date":1473947014,"answer_id":39512674,"question_id":39512446,"body_markdown":"UUID is not a special java format. It is the [Universal Unique Identifier][1].\r\n\r\n&gt; A universally unique identifier (UUID) is an identifier standard used in software construction. **A UUID is simply a 128-bit value**. \r\n\r\nWhat happen is that the conversion from the 128 bit value to a human readable version of the same value converting it to a string follow generally some conventions.\r\n\r\nBasically the number is converted to the better human readable hexadecimal format with some hyphen to separate block of bits.\r\n\r\n----\r\n\r\nFrom a performance perspective you can use the several times the [substr_replace][2] function, instead of creating an array of strings using substr and applying implode to it.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [2]: http://php.net/manual/en/function.substr-replace.php","title":"Format &quot;raw&quot; string to Java UUID in PHP","body":"<p>UUID is not a special java format. It is the <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow\">Universal Unique Identifier</a>.</p>\n\n<blockquote>\n  <p>A universally unique identifier (UUID) is an identifier standard used in software construction. <strong>A UUID is simply a 128-bit value</strong>. </p>\n</blockquote>\n\n<p>What happen is that the conversion from the 128 bit value to a human readable version of the same value converting it to a string follow generally some conventions.</p>\n\n<p>Basically the number is converted to the better human readable hexadecimal format with some hyphen to separate block of bits.</p>\n\n<hr>\n\n<p>From a performance perspective you can use the several times the <a href=\"http://php.net/manual/en/function.substr-replace.php\" rel=\"nofollow\">substr_replace</a> function, instead of creating an array of strings using substr and applying implode to it.</p>\n"},{"tags":[],"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1473947637,"creation_date":1473947637,"answer_id":39512919,"question_id":39512446,"body_markdown":"Your question doesn&#39;t make much sense but assuming you want to read the UUID in the correct format in Java you can do something like this:\r\n\r\n\timport java.util.UUID;\r\n\tclass A\r\n\t{\r\n\t\tpublic static void main(String[] args){\r\n\r\n\t\t\r\n\t\t\tString input = &quot;f9e113324bd449809b98b0925eac3141&quot;;                         \r\n\t\t\tString uuid_parse = input.replaceAll(                                            \r\n\t\t\t\t\t\t\t&quot;(\\\\w{8})(\\\\w{4})(\\\\w{4})(\\\\w{4})(\\\\w{12})&quot;,                            \r\n\t    \t\t\t\t\t&quot;$1-$2-$3-$4-$5&quot;);                                                      \r\n\r\n\t\t\tUUID uuid = UUID.fromString(uuid_parse);\r\n\t\t\tSystem.out.println(uuid);\r\n\t\t}\r\n\t}\r\n\r\n&gt; Borrowed from maerics, see here: https://stackoverflow.com/a/18987428/4195825\r\n\r\nOr in PHP you can do something like:\r\n\r\n\t&lt;?php \r\n\t\t$UUID = &quot;f9e113324bd449809b98b0925eac3141&quot;;\r\n\t\t$UUID = substr($UUID, 0, 8) . &#39;-&#39; . substr($UUID, 8, 4) . &#39;-&#39; . substr($UUID, 12, 4) . &#39;-&#39; . substr($UUID, 16, 4)  . &#39;-&#39; . substr($UUID, 20);\r\n\t\techo $UUID;\r\n\t?&gt;\r\n\r\n&gt; Borrowed from fico7489: https://stackoverflow.com/a/33484855/4195825\r\n\r\nAnd then you can send that to Java where you can create a UUID object using `fromtString()`.","title":"Format &quot;raw&quot; string to Java UUID in PHP","body":"<p>Your question doesn't make much sense but assuming you want to read the UUID in the correct format in Java you can do something like this:</p>\n\n<pre><code>import java.util.UUID;\nclass A\n{\n    public static void main(String[] args){\n\n\n        String input = \"f9e113324bd449809b98b0925eac3141\";                         \n        String uuid_parse = input.replaceAll(                                            \n                        \"(\\\\w{8})(\\\\w{4})(\\\\w{4})(\\\\w{4})(\\\\w{12})\",                            \n                        \"$1-$2-$3-$4-$5\");                                                      \n\n        UUID uuid = UUID.fromString(uuid_parse);\n        System.out.println(uuid);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Borrowed from maerics, see here: <a href=\"https://stackoverflow.com/a/18987428/4195825\">https://stackoverflow.com/a/18987428/4195825</a></p>\n</blockquote>\n\n<p>Or in PHP you can do something like:</p>\n\n<pre><code>&lt;?php \n    $UUID = \"f9e113324bd449809b98b0925eac3141\";\n    $UUID = substr($UUID, 0, 8) . '-' . substr($UUID, 8, 4) . '-' . substr($UUID, 12, 4) . '-' . substr($UUID, 16, 4)  . '-' . substr($UUID, 20);\n    echo $UUID;\n?&gt;\n</code></pre>\n\n<blockquote>\n  <p>Borrowed from fico7489: <a href=\"https://stackoverflow.com/a/33484855/4195825\">https://stackoverflow.com/a/33484855/4195825</a></p>\n</blockquote>\n\n<p>And then you can send that to Java where you can create a UUID object using <code>fromtString()</code>.</p>\n"}],"owner":{"account_id":3943960,"reputation":114,"user_id":3257339,"accept_rate":50,"display_name":"LeoV117"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2227,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1657978560,"accepted_answer_id":39512919,"answer_count":2,"score":2,"last_activity_date":1657978596,"creation_date":1473946398,"question_id":39512446,"body_markdown":"Is there a more effective, simplified means of converting a &quot;formatted&quot; Java UUID - without dashes - to a Java compatible format - with dashes - in PHP, and ultimately: How would I do it?\r\n\r\nI have code that already performs this action, but it seems unprofessional and I feel that it could probably be done more effectively.\r\n\r\n    [... PHP code ...]\r\n    $uuido = $json[&#39;id&#39;];\r\n    \r\n    $uuidx = array();\r\n    $uuidx[0] = substr( $uuido, 0, 8 );\r\n    $uuidx[1] = substr( $uuido, 8, 4 );\r\n    $uuidx[2] = substr( $uuido, 12, 4);\r\n    $uuidx[3] = substr( $uuido, 16, 4);\r\n    $uuidx[4] = substr( $uuido, 20, 12);\r\n    \r\n    $uuid = implode( &quot;-&quot;, $uuidx );\r\n    [... PHP code ...]\r\n    \r\n    Input:  f9e113324bd449809b98b0925eac3141\r\n    Output: f9e11332-4bd4-4980-9b98-b0925eac3141\r\n\r\nThe data from `$json[&#39;id&#39;]` is called from the following [Mojang Profile API][1] using the `file_get_contents( $url )` function combined with a `json_decode( $file )`, which could alternatively be done through cURL - but since it would eventually be requesting anything up to 2048 profiles at once, I figured it would become slow.\r\n\r\nI do have my code in use, and public, through the following [ProjectRogue Server Ping API][2], which usually contains a list of online players.\r\n\r\n**Note:** There are several questions related to this, but none apply to PHP as far as I am aware. I have looked.\r\n\r\nI mention Java UUID as the parsed output should effectively translate to a Player UUID for use in a Java-Based plugin for Spigot or Craftbukkit after 1.7.X.\r\n\r\n\r\n  [1]: https://api.mojang.com/users/profiles/minecraft/LeoV117\r\n  [2]: https://www.projectrogue.co.uk/api/minecraft/query/151.80.170.47/27015","title":"Format &quot;raw&quot; string to Java UUID in PHP","body":"<p>Is there a more effective, simplified means of converting a \"formatted\" Java UUID - without dashes - to a Java compatible format - with dashes - in PHP, and ultimately: How would I do it?</p>\n\n<p>I have code that already performs this action, but it seems unprofessional and I feel that it could probably be done more effectively.</p>\n\n<pre><code>[... PHP code ...]\n$uuido = $json['id'];\n\n$uuidx = array();\n$uuidx[0] = substr( $uuido, 0, 8 );\n$uuidx[1] = substr( $uuido, 8, 4 );\n$uuidx[2] = substr( $uuido, 12, 4);\n$uuidx[3] = substr( $uuido, 16, 4);\n$uuidx[4] = substr( $uuido, 20, 12);\n\n$uuid = implode( \"-\", $uuidx );\n[... PHP code ...]\n\nInput:  f9e113324bd449809b98b0925eac3141\nOutput: f9e11332-4bd4-4980-9b98-b0925eac3141\n</code></pre>\n\n<p>The data from <code>$json['id']</code> is called from the following <a href=\"https://api.mojang.com/users/profiles/minecraft/LeoV117\" rel=\"nofollow\">Mojang Profile API</a> using the <code>file_get_contents( $url )</code> function combined with a <code>json_decode( $file )</code>, which could alternatively be done through cURL - but since it would eventually be requesting anything up to 2048 profiles at once, I figured it would become slow.</p>\n\n<p>I do have my code in use, and public, through the following <a href=\"https://www.projectrogue.co.uk/api/minecraft/query/151.80.170.47/27015\" rel=\"nofollow\">ProjectRogue Server Ping API</a>, which usually contains a list of online players.</p>\n\n<p><strong>Note:</strong> There are several questions related to this, but none apply to PHP as far as I am aware. I have looked.</p>\n\n<p>I mention Java UUID as the parsed output should effectively translate to a Player UUID for use in a Java-Based plugin for Spigot or Craftbukkit after 1.7.X.</p>\n"},{"tags":["java","performance","benchmarking","bytecode","jit"],"comments":[{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":5,"creation_date":1543006077,"post_id":53452713,"comment_id":93778069,"body_markdown":"I get similar results (slightly different numbers, but definitely noticeable and consistent gap, definitely more than sampling error)","body":"I get similar results (slightly different numbers, but definitely noticeable and consistent gap, definitely more than sampling error)"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":31,"creation_date":1543006604,"post_id":53452713,"comment_id":93778227,"body_markdown":"Also please see:\nhttps://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"Also please see: <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1543007263,"post_id":53452713,"comment_id":93778402,"body_markdown":"@Krease Good that you caught my mistake. According to the new benchmark I ran `2 * i * i` is slower. I&#39;ll try running with Graal as well.","body":"@Krease Good that you caught my mistake. According to the new benchmark I ran <code>2 * i * i</code> is slower. I&#39;ll try running with Graal as well."},{"owner":{"account_id":1738473,"reputation":51030,"user_id":1590502,"accept_rate":78,"display_name":"Philipp Jahoda"},"score":1,"creation_date":1543007285,"post_id":53452713,"comment_id":93778407,"body_markdown":"I was able to confirm the posters result: https://pastebin.com/KG0YRdnU\nWhen running that code, the 2 * (i * i) option consistently runs 10-20% faster. If I let both options do the same thing, the deviation is always &lt; 5 %","body":"I was able to confirm the posters result: <a href=\"https://pastebin.com/KG0YRdnU\" rel=\"nofollow noreferrer\">pastebin.com/KG0YRdnU</a> When running that code, the 2 * (i * i) option consistently runs 10-20% faster. If I let both options do the same thing, the deviation is always &lt; 5 %"},{"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"score":1,"creation_date":1543008047,"post_id":53452713,"comment_id":93778611,"body_markdown":"It&#39;s not the case on my run. I have 2 versions of this calculation in 2 methods calc1() and calc2(). In main, I call calc1() followed by calc2(). Then, I check with calc2() followed by calc1(). In both cases, the first call (whether calc1() or calc2()) is always taking longer. You can try.","body":"It&#39;s not the case on my run. I have 2 versions of this calculation in 2 methods calc1() and calc2(). In main, I call calc1() followed by calc2(). Then, I check with calc2() followed by calc1(). In both cases, the first call (whether calc1() or calc2()) is always taking longer. You can try."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1543008106,"post_id":53452713,"comment_id":93778633,"body_markdown":"@JornVernee If it could help you add further information to your answer, the JVM instruction set for [`iload`](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.iload) and [`imul`](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.imul)","body":"@JornVernee If it could help you add further information to your answer, the JVM instruction set for <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.iload\" rel=\"nofollow noreferrer\"><code>iload</code></a> and <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.imul\" rel=\"nofollow noreferrer\"><code>imul</code></a>"},{"owner":{"account_id":1507667,"reputation":72920,"user_id":1410664,"accept_rate":52,"display_name":"Caius Jard"},"score":1,"creation_date":1543008300,"post_id":53452713,"comment_id":93778694,"body_markdown":"I cannot reliably reproduce your result; for me the bracketed version is slower in 95% of cases.","body":"I cannot reliably reproduce your result; for me the bracketed version is slower in 95% of cases."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":6,"creation_date":1543008599,"post_id":53452713,"comment_id":93778786,"body_markdown":"@nullpointer To find out for real why one is faster than the other, we&#39;d have to get the disassembly or Ideal graphs for those methods. The assembler is very annoying to try and figure out, so I&#39;m trying to get an OpenJDK debug build which can output nice graphs.","body":"@nullpointer To find out for real why one is faster than the other, we&#39;d have to get the disassembly or Ideal graphs for those methods. The assembler is very annoying to try and figure out, so I&#39;m trying to get an OpenJDK debug build which can output nice graphs."},{"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"score":0,"creation_date":1543008788,"post_id":53452713,"comment_id":93778838,"body_markdown":"it depends on many factors, such as JVM version, and so on. You can&#39;t always reproduce this.","body":"it depends on many factors, such as JVM version, and so on. You can&#39;t always reproduce this."},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1543009446,"post_id":53452713,"comment_id":93778997,"body_markdown":"It&#39;s clear that performing the `i * i` multiplication first has something to do with the better performance, `2 * (i * i)` seems to be equally fast as `i * i * 2`.","body":"It&#39;s clear that performing the <code>i * i</code> multiplication first has something to do with the better performance, <code>2 * (i * i)</code> seems to be equally fast as <code>i * i * 2</code>."},{"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"score":0,"creation_date":1543099068,"post_id":53452713,"comment_id":93797266,"body_markdown":"Is it supposed to be some kind of bug in the JIT?","body":"Is it supposed to be some kind of bug in the JIT?"},{"owner":{"account_id":1023850,"reputation":37494,"user_id":1033581,"accept_rate":66,"display_name":"Cœur"},"score":4,"creation_date":1543377760,"post_id":53452713,"comment_id":93893225,"body_markdown":"You could rename your question to &quot;_Why is `i * i * 2` faster than `2 * i * i`?_&quot; for improved clarity that the issue is on the order of the operations.","body":"You could rename your question to &quot;<i>Why is <code>i * i * 2</code> faster than <code>2 * i * i</code>?</i>&quot; for improved clarity that the issue is on the order of the operations."},{"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"score":0,"creation_date":1543596674,"post_id":53452713,"comment_id":93989026,"body_markdown":"Please add JDK version used.","body":"Please add JDK version used."},{"owner":{"account_id":8063484,"reputation":1095,"user_id":6078370,"display_name":"DSchmidt"},"score":1,"creation_date":1543597003,"post_id":53452713,"comment_id":93989177,"body_markdown":"@Cœur but this is not what happens in bytecode.","body":"@Cœur but this is not what happens in bytecode."},{"owner":{"account_id":6509357,"reputation":477,"user_id":5037202,"display_name":"Waqas Gondal"},"score":0,"creation_date":1543671262,"post_id":53452713,"comment_id":94007026,"body_markdown":"I&#39;ve done the same test and the results are totally opposite. https://stackoverflow.com/questions/53570864/why-is-2-x-x-faster-than-2-x-x-in-python","body":"I&#39;ve done the same test and the results are totally opposite. <a href=\"https://stackoverflow.com/questions/53570864/why-is-2-x-x-faster-than-2-x-x-in-python\" title=\"why is 2 x x faster than 2 x x in python\">stackoverflow.com/questions/53570864/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1545573863,"creation_date":1543006485,"answer_id":53452836,"question_id":53452713,"body_markdown":"The two methods of adding do generate slightly different byte code:\r\n\r\n      17: iconst_2\r\n      18: iload         4\r\n      20: iload         4\r\n      22: imul\r\n      23: imul\r\n      24: iadd\r\n\r\nFor `2 * (i * i)` vs:\r\n\r\n      17: iconst_2\r\n      18: iload         4\r\n      20: imul\r\n      21: iload         4\r\n      23: imul\r\n      24: iadd\r\n\r\nFor `2 * i * i`.\r\n\r\nAnd when using a [JMH](https://openjdk.java.net/projects/code-tools/jmh/) benchmark like this:\r\n\r\n    @Warmup(iterations = 5, batchSize = 1)\r\n    @Measurement(iterations = 5, batchSize = 1)\r\n    @Fork(1)\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    @State(Scope.Benchmark)\r\n    public class MyBenchmark {\r\n    \r\n    \t@Benchmark\r\n    \tpublic int noBrackets() {\r\n    \t\tint n = 0;\r\n    \t    for (int i = 0; i &lt; 1000000000; i++) {\r\n    \t        n += 2 * i * i;\r\n    \t    }\r\n    \t    return n;\r\n    \t}\r\n    \r\n    \t@Benchmark\r\n    \tpublic int brackets() {\r\n    \t\tint n = 0;\r\n    \t    for (int i = 0; i &lt; 1000000000; i++) {\r\n    \t        n += 2 * (i * i);\r\n    \t    }\r\n    \t    return n;\r\n    \t}\r\n    \r\n    }\r\n\r\nThe difference is clear:\r\n\r\n    # JMH version: 1.21\r\n    # VM version: JDK 11, Java HotSpot(TM) 64-Bit Server VM, 11+28\r\n    # VM options: &lt;none&gt;\r\n\r\n    Benchmark                      (n)  Mode  Cnt    Score    Error  Units\r\n    MyBenchmark.brackets    1000000000  avgt    5  380.889 &#177; 58.011  ms/op\r\n    MyBenchmark.noBrackets  1000000000  avgt    5  512.464 &#177; 11.098  ms/op\r\n\r\nWhat you observe is correct, and not just an anomaly of your benchmarking style (i.e. no warmup, see [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/q/504103))\r\n\r\nRunning again with Graal:\r\n\r\n    # JMH version: 1.21\r\n    # VM version: JDK 11, Java HotSpot(TM) 64-Bit Server VM, 11+28\r\n    # VM options: -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler\r\n\r\n    Benchmark                      (n)  Mode  Cnt    Score    Error  Units\r\n    MyBenchmark.brackets    1000000000  avgt    5  335.100 &#177; 23.085  ms/op\r\n    MyBenchmark.noBrackets  1000000000  avgt    5  331.163 &#177; 50.670  ms/op\r\n\r\nYou see that the results are much closer, which makes sense, since Graal is an overall better performing, more modern, compiler.\r\n\r\nSo this is really just up to how well the JIT compiler is able to optimize a particular piece of code, and doesn&#39;t necessarily have a logical reason to it.","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>The two methods of adding do generate slightly different byte code:</p>\n\n<pre><code>  17: iconst_2\n  18: iload         4\n  20: iload         4\n  22: imul\n  23: imul\n  24: iadd\n</code></pre>\n\n<p>For <code>2 * (i * i)</code> vs:</p>\n\n<pre><code>  17: iconst_2\n  18: iload         4\n  20: imul\n  21: iload         4\n  23: imul\n  24: iadd\n</code></pre>\n\n<p>For <code>2 * i * i</code>.</p>\n\n<p>And when using a <a href=\"https://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a> benchmark like this:</p>\n\n<pre><code>@Warmup(iterations = 5, batchSize = 1)\n@Measurement(iterations = 5, batchSize = 1)\n@Fork(1)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@State(Scope.Benchmark)\npublic class MyBenchmark {\n\n    @Benchmark\n    public int noBrackets() {\n        int n = 0;\n        for (int i = 0; i &lt; 1000000000; i++) {\n            n += 2 * i * i;\n        }\n        return n;\n    }\n\n    @Benchmark\n    public int brackets() {\n        int n = 0;\n        for (int i = 0; i &lt; 1000000000; i++) {\n            n += 2 * (i * i);\n        }\n        return n;\n    }\n\n}\n</code></pre>\n\n<p>The difference is clear:</p>\n\n<pre><code># JMH version: 1.21\n# VM version: JDK 11, Java HotSpot(TM) 64-Bit Server VM, 11+28\n# VM options: &lt;none&gt;\n\nBenchmark                      (n)  Mode  Cnt    Score    Error  Units\nMyBenchmark.brackets    1000000000  avgt    5  380.889 ± 58.011  ms/op\nMyBenchmark.noBrackets  1000000000  avgt    5  512.464 ± 11.098  ms/op\n</code></pre>\n\n<p>What you observe is correct, and not just an anomaly of your benchmarking style (i.e. no warmup, see <a href=\"https://stackoverflow.com/q/504103\">How do I write a correct micro-benchmark in Java?</a>)</p>\n\n<p>Running again with Graal:</p>\n\n<pre><code># JMH version: 1.21\n# VM version: JDK 11, Java HotSpot(TM) 64-Bit Server VM, 11+28\n# VM options: -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler\n\nBenchmark                      (n)  Mode  Cnt    Score    Error  Units\nMyBenchmark.brackets    1000000000  avgt    5  335.100 ± 23.085  ms/op\nMyBenchmark.noBrackets  1000000000  avgt    5  331.163 ± 50.670  ms/op\n</code></pre>\n\n<p>You see that the results are much closer, which makes sense, since Graal is an overall better performing, more modern, compiler.</p>\n\n<p>So this is really just up to how well the JIT compiler is able to optimize a particular piece of code, and doesn't necessarily have a logical reason to it.</p>\n"},{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":3,"up_vote_count":23,"is_accepted":false,"score":20,"last_activity_date":1543007406,"creation_date":1543007406,"answer_id":53452968,"question_id":53452713,"body_markdown":"I got similar results:\r\n\r\n    2 * (i * i): 0.458765943 s, n=119860736\r\n    2 * i * i: 0.580255126 s, n=119860736\r\n\r\nI got the *SAME* results if both loops were in the same program, or each was in a separate .java file/.class, executed on a separate run.\r\n\r\nFinally, here is a `javap -c -v &lt;.java&gt;` decompile of each:\r\n\r\n         3: ldc           #3                  // String 2 * (i * i):\r\n         5: invokevirtual #4                  // Method java/io/PrintStream.print:(Ljava/lang/String;)V\r\n         8: invokestatic  #5                  // Method java/lang/System.nanoTime:()J\r\n         8: invokestatic  #5                  // Method java/lang/System.nanoTime:()J\r\n        11: lstore_1\r\n        12: iconst_0\r\n        13: istore_3\r\n        14: iconst_0\r\n        15: istore        4\r\n        17: iload         4\r\n        19: ldc           #6                  // int 1000000000\r\n        21: if_icmpge     40\r\n        24: iload_3\r\n        25: iconst_2\r\n        26: iload         4\r\n        28: iload         4\r\n        30: imul\r\n        31: imul\r\n        32: iadd\r\n        33: istore_3\r\n        34: iinc          4, 1\r\n        37: goto          17\r\nvs.\r\n\r\n         3: ldc           #3                  // String 2 * i * i:\r\n         5: invokevirtual #4                  // Method java/io/PrintStream.print:(Ljava/lang/String;)V\r\n         8: invokestatic  #5                  // Method java/lang/System.nanoTime:()J\r\n        11: lstore_1\r\n        12: iconst_0\r\n        13: istore_3\r\n        14: iconst_0\r\n        15: istore        4\r\n        17: iload         4\r\n        19: ldc           #6                  // int 1000000000\r\n        21: if_icmpge     40\r\n        24: iload_3\r\n        25: iconst_2\r\n        26: iload         4\r\n        28: imul\r\n        29: iload         4\r\n        31: imul\r\n        32: iadd\r\n        33: istore_3\r\n        34: iinc          4, 1\r\n        37: goto          17\r\n\r\nFYI -\r\n\r\n    java -version\r\n    java version &quot;1.8.0_121&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_121-b13)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\r\n\r\n","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>I got similar results:</p>\n\n<pre><code>2 * (i * i): 0.458765943 s, n=119860736\n2 * i * i: 0.580255126 s, n=119860736\n</code></pre>\n\n<p>I got the <em>SAME</em> results if both loops were in the same program, or each was in a separate .java file/.class, executed on a separate run.</p>\n\n<p>Finally, here is a <code>javap -c -v &lt;.java&gt;</code> decompile of each:</p>\n\n<pre><code>     3: ldc           #3                  // String 2 * (i * i):\n     5: invokevirtual #4                  // Method java/io/PrintStream.print:(Ljava/lang/String;)V\n     8: invokestatic  #5                  // Method java/lang/System.nanoTime:()J\n     8: invokestatic  #5                  // Method java/lang/System.nanoTime:()J\n    11: lstore_1\n    12: iconst_0\n    13: istore_3\n    14: iconst_0\n    15: istore        4\n    17: iload         4\n    19: ldc           #6                  // int 1000000000\n    21: if_icmpge     40\n    24: iload_3\n    25: iconst_2\n    26: iload         4\n    28: iload         4\n    30: imul\n    31: imul\n    32: iadd\n    33: istore_3\n    34: iinc          4, 1\n    37: goto          17\n</code></pre>\n\n<p>vs.</p>\n\n<pre><code>     3: ldc           #3                  // String 2 * i * i:\n     5: invokevirtual #4                  // Method java/io/PrintStream.print:(Ljava/lang/String;)V\n     8: invokestatic  #5                  // Method java/lang/System.nanoTime:()J\n    11: lstore_1\n    12: iconst_0\n    13: istore_3\n    14: iconst_0\n    15: istore        4\n    17: iload         4\n    19: ldc           #6                  // int 1000000000\n    21: if_icmpge     40\n    24: iload_3\n    25: iconst_2\n    26: iload         4\n    28: imul\n    29: iload         4\n    31: imul\n    32: iadd\n    33: istore_3\n    34: iinc          4, 1\n    37: goto          17\n</code></pre>\n\n<p>FYI -</p>\n\n<pre><code>java -version\njava version \"1.8.0_121\"\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8063484,"reputation":1095,"user_id":6078370,"display_name":"DSchmidt"},"down_vote_count":4,"up_vote_count":45,"is_accepted":false,"score":41,"last_activity_date":1556118656,"creation_date":1543007946,"answer_id":53453039,"question_id":53452713,"body_markdown":"Byte codes: https://cs.nyu.edu/courses/fall00/V22.0201-001/jvm2.html\r\nByte codes Viewer: https://github.com/Konloch/bytecode-viewer\r\n\r\nOn my JDK (Windows&amp;nbsp;10 64 bit, 1.8.0_65-b17) I can reproduce and explain:\r\n\r\n    public static void main(String[] args) {\r\n        int repeat = 10;\r\n        long A = 0;\r\n        long B = 0;\r\n        for (int i = 0; i &lt; repeat; i++) {\r\n            A += test();\r\n            B += testB();\r\n        }\r\n\r\n        System.out.println(A / repeat + &quot; ms&quot;);\r\n        System.out.println(B / repeat + &quot; ms&quot;);\r\n    }\r\n\r\n\r\n    private static long test() {\r\n        int n = 0;\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n            n += multi(i);\r\n        }\r\n        long startTime = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; 1000000000; i++) {\r\n            n += multi(i);\r\n        }\r\n        long ms = (System.currentTimeMillis() - startTime);\r\n        System.out.println(ms + &quot; ms A &quot; + n);\r\n        return ms;\r\n    }\r\n\r\n\r\n    private static long testB() {\r\n        int n = 0;\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n            n += multiB(i);\r\n        }\r\n        long startTime = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; 1000000000; i++) {\r\n            n += multiB(i);\r\n        }\r\n        long ms = (System.currentTimeMillis() - startTime);\r\n        System.out.println(ms + &quot; ms B &quot; + n);\r\n        return ms;\r\n    }\r\n\r\n    private static int multiB(int i) {\r\n        return 2 * (i * i);\r\n    }\r\n\r\n    private static int multi(int i) {\r\n        return 2 * i * i;\r\n    }\r\n\r\nOutput:\r\n\r\n    ...\r\n    405 ms A 785527736\r\n    327 ms B 785527736\r\n    404 ms A 785527736\r\n    329 ms B 785527736\r\n    404 ms A 785527736\r\n    328 ms B 785527736\r\n    404 ms A 785527736\r\n    328 ms B 785527736\r\n    410 ms\r\n    333 ms\r\n\r\nSo why?\r\nThe byte code is this:\r\n\r\n     private static multiB(int arg0) { // 2 * (i * i)\r\n         &lt;localVar:index=0, name=i , desc=I, sig=null, start=L1, end=L2&gt;\r\n\r\n         L1 {\r\n             iconst_2\r\n             iload0\r\n             iload0\r\n             imul\r\n             imul\r\n             ireturn\r\n         }\r\n         L2 {\r\n         }\r\n     }\r\n\r\n     private static multi(int arg0) { // 2 * i * i\r\n         &lt;localVar:index=0, name=i , desc=I, sig=null, start=L1, end=L2&gt;\r\n\r\n         L1 {\r\n             iconst_2\r\n             iload0\r\n             imul\r\n             iload0\r\n             imul\r\n             ireturn\r\n         }\r\n         L2 {\r\n         }\r\n     }\r\n\r\nThe difference being:\r\nWith brackets (`2 * (i * i)`):\r\n\r\n- push const stack\r\n- push local on stack\r\n- push local on stack\r\n- multiply top of stack\r\n- multiply top of stack\r\n\r\nWithout brackets (`2 * i * i`):\r\n\r\n- push const stack\r\n- push local on stack\r\n- multiply top of stack\r\n- push local on stack\r\n- multiply top of stack\r\n\r\nLoading all on the stack and then working back down is faster than switching between putting on the stack and operating on it.\r\n\r\n","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>Byte codes: <a href=\"https://cs.nyu.edu/courses/fall00/V22.0201-001/jvm2.html\" rel=\"nofollow noreferrer\">https://cs.nyu.edu/courses/fall00/V22.0201-001/jvm2.html</a>\nByte codes Viewer: <a href=\"https://github.com/Konloch/bytecode-viewer\" rel=\"nofollow noreferrer\">https://github.com/Konloch/bytecode-viewer</a></p>\n\n<p>On my JDK (Windows&nbsp;10 64 bit, 1.8.0_65-b17) I can reproduce and explain:</p>\n\n<pre><code>public static void main(String[] args) {\n    int repeat = 10;\n    long A = 0;\n    long B = 0;\n    for (int i = 0; i &lt; repeat; i++) {\n        A += test();\n        B += testB();\n    }\n\n    System.out.println(A / repeat + \" ms\");\n    System.out.println(B / repeat + \" ms\");\n}\n\n\nprivate static long test() {\n    int n = 0;\n    for (int i = 0; i &lt; 1000; i++) {\n        n += multi(i);\n    }\n    long startTime = System.currentTimeMillis();\n    for (int i = 0; i &lt; 1000000000; i++) {\n        n += multi(i);\n    }\n    long ms = (System.currentTimeMillis() - startTime);\n    System.out.println(ms + \" ms A \" + n);\n    return ms;\n}\n\n\nprivate static long testB() {\n    int n = 0;\n    for (int i = 0; i &lt; 1000; i++) {\n        n += multiB(i);\n    }\n    long startTime = System.currentTimeMillis();\n    for (int i = 0; i &lt; 1000000000; i++) {\n        n += multiB(i);\n    }\n    long ms = (System.currentTimeMillis() - startTime);\n    System.out.println(ms + \" ms B \" + n);\n    return ms;\n}\n\nprivate static int multiB(int i) {\n    return 2 * (i * i);\n}\n\nprivate static int multi(int i) {\n    return 2 * i * i;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>...\n405 ms A 785527736\n327 ms B 785527736\n404 ms A 785527736\n329 ms B 785527736\n404 ms A 785527736\n328 ms B 785527736\n404 ms A 785527736\n328 ms B 785527736\n410 ms\n333 ms\n</code></pre>\n\n<p>So why?\nThe byte code is this:</p>\n\n<pre><code> private static multiB(int arg0) { // 2 * (i * i)\n     &lt;localVar:index=0, name=i , desc=I, sig=null, start=L1, end=L2&gt;\n\n     L1 {\n         iconst_2\n         iload0\n         iload0\n         imul\n         imul\n         ireturn\n     }\n     L2 {\n     }\n }\n\n private static multi(int arg0) { // 2 * i * i\n     &lt;localVar:index=0, name=i , desc=I, sig=null, start=L1, end=L2&gt;\n\n     L1 {\n         iconst_2\n         iload0\n         imul\n         iload0\n         imul\n         ireturn\n     }\n     L2 {\n     }\n }\n</code></pre>\n\n<p>The difference being:\nWith brackets (<code>2 * (i * i)</code>):</p>\n\n<ul>\n<li>push const stack</li>\n<li>push local on stack</li>\n<li>push local on stack</li>\n<li>multiply top of stack</li>\n<li>multiply top of stack</li>\n</ul>\n\n<p>Without brackets (<code>2 * i * i</code>):</p>\n\n<ul>\n<li>push const stack</li>\n<li>push local on stack</li>\n<li>multiply top of stack</li>\n<li>push local on stack</li>\n<li>multiply top of stack</li>\n</ul>\n\n<p>Loading all on the stack and then working back down is faster than switching between putting on the stack and operating on it.</p>\n"},{"tags":[],"owner":{"display_name":"user1779715"},"down_vote_count":8,"up_vote_count":143,"is_accepted":false,"score":135,"last_activity_date":1593764534,"creation_date":1543009495,"answer_id":53453240,"question_id":53452713,"body_markdown":"(Editor&#39;s note: this answer is contradicted by evidence from looking at the asm, as shown by another answer.  This was a guess backed up by some experiments, but it turned out not to be correct.)\r\n\r\n----\r\n\r\nWhen the multiplication is `2 * (i * i)`, the JVM is able to factor out the multiplication by `2` from the loop, resulting in this equivalent but more efficient code:\r\n\r\n    int n = 0;\r\n    for (int i = 0; i &lt; 1000000000; i++) {\r\n        n += i * i;\r\n    }\r\n    n *= 2;\r\n\r\nbut when the multiplication is `(2 * i) * i`, the JVM doesn&#39;t optimize it since the multiplication by a constant is no longer right before the `n +=` addition.\r\n\r\nHere are a few reasons why I think this is the case:\r\n\r\n  - Adding an `if (n == 0) n = 1` statement at the start of the loop results in both versions being as efficient, since factoring out the multiplication no longer guarantees that the result will be the same\r\n  - The optimized version (by factoring out the multiplication by 2) is exactly as fast as the `2 * (i * i)` version\r\n\r\nHere is the test code that I used to draw these conclusions:\r\n\r\n    public static void main(String[] args) {\r\n        long fastVersion = 0;\r\n        long slowVersion = 0;\r\n        long optimizedVersion = 0;\r\n        long modifiedFastVersion = 0;\r\n        long modifiedSlowVersion = 0;\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            fastVersion += fastVersion();\r\n            slowVersion += slowVersion();\r\n            optimizedVersion += optimizedVersion();\r\n            modifiedFastVersion += modifiedFastVersion();\r\n            modifiedSlowVersion += modifiedSlowVersion();\r\n        }\r\n\r\n        System.out.println(&quot;Fast version: &quot; + (double) fastVersion / 1000000000 + &quot; s&quot;);\r\n        System.out.println(&quot;Slow version: &quot; + (double) slowVersion / 1000000000 + &quot; s&quot;);\r\n        System.out.println(&quot;Optimized version: &quot; + (double) optimizedVersion / 1000000000 + &quot; s&quot;);\r\n        System.out.println(&quot;Modified fast version: &quot; + (double) modifiedFastVersion / 1000000000 + &quot; s&quot;);\r\n        System.out.println(&quot;Modified slow version: &quot; + (double) modifiedSlowVersion / 1000000000 + &quot; s&quot;);\r\n    }\r\n\r\n    private static long fastVersion() {\r\n        long startTime = System.nanoTime();\r\n        int n = 0;\r\n        for (int i = 0; i &lt; 1000000000; i++) {\r\n            n += 2 * (i * i);\r\n        }\r\n        return System.nanoTime() - startTime;\r\n    }\r\n\r\n    private static long slowVersion() {\r\n        long startTime = System.nanoTime();\r\n        int n = 0;\r\n        for (int i = 0; i &lt; 1000000000; i++) {\r\n            n += 2 * i * i;\r\n        }\r\n        return System.nanoTime() - startTime;\r\n    }\r\n\r\n    private static long optimizedVersion() {\r\n        long startTime = System.nanoTime();\r\n        int n = 0;\r\n        for (int i = 0; i &lt; 1000000000; i++) {\r\n            n += i * i;\r\n        }\r\n        n *= 2;\r\n        return System.nanoTime() - startTime;\r\n    }\r\n\r\n    private static long modifiedFastVersion() {\r\n        long startTime = System.nanoTime();\r\n        int n = 0;\r\n        for (int i = 0; i &lt; 1000000000; i++) {\r\n            if (n == 0) n = 1;\r\n            n += 2 * (i * i);\r\n        }\r\n        return System.nanoTime() - startTime;\r\n    }\r\n\r\n    private static long modifiedSlowVersion() {\r\n        long startTime = System.nanoTime();\r\n        int n = 0;\r\n        for (int i = 0; i &lt; 1000000000; i++) {\r\n            if (n == 0) n = 1;\r\n            n += 2 * i * i;\r\n        }\r\n        return System.nanoTime() - startTime;\r\n    }\r\n\r\nAnd here are the results:\r\n\r\n    Fast version: 5.7274411 s\r\n    Slow version: 7.6190804 s\r\n    Optimized version: 5.1348007 s\r\n    Modified fast version: 7.1492705 s\r\n    Modified slow version: 7.2952668 s","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>(Editor's note: this answer is contradicted by evidence from looking at the asm, as shown by another answer.  This was a guess backed up by some experiments, but it turned out not to be correct.)</p>\n<hr />\n<p>When the multiplication is <code>2 * (i * i)</code>, the JVM is able to factor out the multiplication by <code>2</code> from the loop, resulting in this equivalent but more efficient code:</p>\n<pre><code>int n = 0;\nfor (int i = 0; i &lt; 1000000000; i++) {\n    n += i * i;\n}\nn *= 2;\n</code></pre>\n<p>but when the multiplication is <code>(2 * i) * i</code>, the JVM doesn't optimize it since the multiplication by a constant is no longer right before the <code>n +=</code> addition.</p>\n<p>Here are a few reasons why I think this is the case:</p>\n<ul>\n<li>Adding an <code>if (n == 0) n = 1</code> statement at the start of the loop results in both versions being as efficient, since factoring out the multiplication no longer guarantees that the result will be the same</li>\n<li>The optimized version (by factoring out the multiplication by 2) is exactly as fast as the <code>2 * (i * i)</code> version</li>\n</ul>\n<p>Here is the test code that I used to draw these conclusions:</p>\n<pre><code>public static void main(String[] args) {\n    long fastVersion = 0;\n    long slowVersion = 0;\n    long optimizedVersion = 0;\n    long modifiedFastVersion = 0;\n    long modifiedSlowVersion = 0;\n\n    for (int i = 0; i &lt; 10; i++) {\n        fastVersion += fastVersion();\n        slowVersion += slowVersion();\n        optimizedVersion += optimizedVersion();\n        modifiedFastVersion += modifiedFastVersion();\n        modifiedSlowVersion += modifiedSlowVersion();\n    }\n\n    System.out.println(&quot;Fast version: &quot; + (double) fastVersion / 1000000000 + &quot; s&quot;);\n    System.out.println(&quot;Slow version: &quot; + (double) slowVersion / 1000000000 + &quot; s&quot;);\n    System.out.println(&quot;Optimized version: &quot; + (double) optimizedVersion / 1000000000 + &quot; s&quot;);\n    System.out.println(&quot;Modified fast version: &quot; + (double) modifiedFastVersion / 1000000000 + &quot; s&quot;);\n    System.out.println(&quot;Modified slow version: &quot; + (double) modifiedSlowVersion / 1000000000 + &quot; s&quot;);\n}\n\nprivate static long fastVersion() {\n    long startTime = System.nanoTime();\n    int n = 0;\n    for (int i = 0; i &lt; 1000000000; i++) {\n        n += 2 * (i * i);\n    }\n    return System.nanoTime() - startTime;\n}\n\nprivate static long slowVersion() {\n    long startTime = System.nanoTime();\n    int n = 0;\n    for (int i = 0; i &lt; 1000000000; i++) {\n        n += 2 * i * i;\n    }\n    return System.nanoTime() - startTime;\n}\n\nprivate static long optimizedVersion() {\n    long startTime = System.nanoTime();\n    int n = 0;\n    for (int i = 0; i &lt; 1000000000; i++) {\n        n += i * i;\n    }\n    n *= 2;\n    return System.nanoTime() - startTime;\n}\n\nprivate static long modifiedFastVersion() {\n    long startTime = System.nanoTime();\n    int n = 0;\n    for (int i = 0; i &lt; 1000000000; i++) {\n        if (n == 0) n = 1;\n        n += 2 * (i * i);\n    }\n    return System.nanoTime() - startTime;\n}\n\nprivate static long modifiedSlowVersion() {\n    long startTime = System.nanoTime();\n    int n = 0;\n    for (int i = 0; i &lt; 1000000000; i++) {\n        if (n == 0) n = 1;\n        n += 2 * i * i;\n    }\n    return System.nanoTime() - startTime;\n}\n</code></pre>\n<p>And here are the results:</p>\n<pre><code>Fast version: 5.7274411 s\nSlow version: 7.6190804 s\nOptimized version: 5.1348007 s\nModified fast version: 7.1492705 s\nModified slow version: 7.2952668 s\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1556118874,"creation_date":1543011050,"answer_id":53453413,"question_id":53452713,"body_markdown":"I tried a JMH using the default archetype: I also added an optimized version based on [Runemoro&#39;s explanation][1].\r\n\r\n    @State(Scope.Benchmark)\r\n    @Warmup(iterations = 2)\r\n    @Fork(1)\r\n    @Measurement(iterations = 10)\r\n    @OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n    //@BenchmarkMode({ Mode.All })\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    public class MyBenchmark {\r\n      @Param({ &quot;100&quot;, &quot;1000&quot;, &quot;1000000000&quot; })\r\n      private int size;\r\n\r\n      @Benchmark\r\n      public int two_square_i() {\r\n        int n = 0;\r\n        for (int i = 0; i &lt; size; i++) {\r\n          n += 2 * (i * i);\r\n        }\r\n        return n;\r\n      }\r\n\r\n      @Benchmark\r\n      public int square_i_two() {\r\n        int n = 0;\r\n        for (int i = 0; i &lt; size; i++) {\r\n          n += i * i;\r\n        }\r\n        return 2*n;\r\n      }\r\n\r\n      @Benchmark\r\n      public int two_i_() {\r\n        int n = 0;\r\n        for (int i = 0; i &lt; size; i++) {\r\n          n += 2 * i * i;\r\n        }\r\n        return n;\r\n      }\r\n    }\r\n\r\nThe result are here:\r\n\r\n    Benchmark                           (size)  Mode  Samples          Score   Score error  Units\r\n    o.s.MyBenchmark.square_i_two           100  avgt       10         58,062         1,410  ns/op\r\n    o.s.MyBenchmark.square_i_two          1000  avgt       10        547,393        12,851  ns/op\r\n    o.s.MyBenchmark.square_i_two    1000000000  avgt       10  540343681,267  16795210,324  ns/op\r\n    o.s.MyBenchmark.two_i_                 100  avgt       10         87,491         2,004  ns/op\r\n    o.s.MyBenchmark.two_i_                1000  avgt       10       1015,388        30,313  ns/op\r\n    o.s.MyBenchmark.two_i_          1000000000  avgt       10  967100076,600  24929570,556  ns/op\r\n    o.s.MyBenchmark.two_square_i           100  avgt       10         70,715         2,107  ns/op\r\n    o.s.MyBenchmark.two_square_i          1000  avgt       10        686,977        24,613  ns/op\r\n    o.s.MyBenchmark.two_square_i    1000000000  avgt       10  652736811,450  27015580,488  ns/op\r\n\r\nOn my PC ([Core&amp;nbsp;i7][2] 860 - it is doing nothing much apart from reading on my smartphone):\r\n\r\n- `n += i*i` then `n*2` is first\r\n- `2 * (i * i)` is second.\r\n\r\nThe JVM is clearly not optimizing the same way than a human does (based on Runemoro&#39;s answer).\r\n\r\nNow then, reading bytecode: `javap -c -v ./target/classes/org/sample/MyBenchmark.class`\r\n\r\n- Differences between 2*(i*i) (left) and 2*i*i (right) here: https://www.diffchecker.com/cvSFppWI\r\n- Differences between 2*(i*i) and the optimized version here: https://www.diffchecker.com/I1XFu5dP\r\n\r\nI am not expert on bytecode, but we `iload_2` before we `imul`: that&#39;s probably where you get the difference: I can suppose that the JVM optimize reading `i` twice (`i` is already here, and there is no need to load it again) whilst in the `2*i*i` it can&#39;t.\r\n\r\n  [1]: https://stackoverflow.com/questions/53452713/why-is-2-i-i-faster-than-2-i-i-in-java/53453240#53453240\r\n  [2]: https://en.wikipedia.org/wiki/Intel_Core#Core_i7\r\n","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>I tried a JMH using the default archetype: I also added an optimized version based on <a href=\"https://stackoverflow.com/questions/53452713/why-is-2-i-i-faster-than-2-i-i-in-java/53453240#53453240\">Runemoro's explanation</a>.</p>\n\n<pre><code>@State(Scope.Benchmark)\n@Warmup(iterations = 2)\n@Fork(1)\n@Measurement(iterations = 10)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n//@BenchmarkMode({ Mode.All })\n@BenchmarkMode(Mode.AverageTime)\npublic class MyBenchmark {\n  @Param({ \"100\", \"1000\", \"1000000000\" })\n  private int size;\n\n  @Benchmark\n  public int two_square_i() {\n    int n = 0;\n    for (int i = 0; i &lt; size; i++) {\n      n += 2 * (i * i);\n    }\n    return n;\n  }\n\n  @Benchmark\n  public int square_i_two() {\n    int n = 0;\n    for (int i = 0; i &lt; size; i++) {\n      n += i * i;\n    }\n    return 2*n;\n  }\n\n  @Benchmark\n  public int two_i_() {\n    int n = 0;\n    for (int i = 0; i &lt; size; i++) {\n      n += 2 * i * i;\n    }\n    return n;\n  }\n}\n</code></pre>\n\n<p>The result are here:</p>\n\n<pre><code>Benchmark                           (size)  Mode  Samples          Score   Score error  Units\no.s.MyBenchmark.square_i_two           100  avgt       10         58,062         1,410  ns/op\no.s.MyBenchmark.square_i_two          1000  avgt       10        547,393        12,851  ns/op\no.s.MyBenchmark.square_i_two    1000000000  avgt       10  540343681,267  16795210,324  ns/op\no.s.MyBenchmark.two_i_                 100  avgt       10         87,491         2,004  ns/op\no.s.MyBenchmark.two_i_                1000  avgt       10       1015,388        30,313  ns/op\no.s.MyBenchmark.two_i_          1000000000  avgt       10  967100076,600  24929570,556  ns/op\no.s.MyBenchmark.two_square_i           100  avgt       10         70,715         2,107  ns/op\no.s.MyBenchmark.two_square_i          1000  avgt       10        686,977        24,613  ns/op\no.s.MyBenchmark.two_square_i    1000000000  avgt       10  652736811,450  27015580,488  ns/op\n</code></pre>\n\n<p>On my PC (<a href=\"https://en.wikipedia.org/wiki/Intel_Core#Core_i7\" rel=\"nofollow noreferrer\">Core&nbsp;i7</a> 860 - it is doing nothing much apart from reading on my smartphone):</p>\n\n<ul>\n<li><code>n += i*i</code> then <code>n*2</code> is first</li>\n<li><code>2 * (i * i)</code> is second.</li>\n</ul>\n\n<p>The JVM is clearly not optimizing the same way than a human does (based on Runemoro's answer).</p>\n\n<p>Now then, reading bytecode: <code>javap -c -v ./target/classes/org/sample/MyBenchmark.class</code></p>\n\n<ul>\n<li>Differences between 2*(i*i) (left) and 2*i*i (right) here: <a href=\"https://www.diffchecker.com/cvSFppWI\" rel=\"nofollow noreferrer\">https://www.diffchecker.com/cvSFppWI</a></li>\n<li>Differences between 2*(i*i) and the optimized version here: <a href=\"https://www.diffchecker.com/I1XFu5dP\" rel=\"nofollow noreferrer\">https://www.diffchecker.com/I1XFu5dP</a></li>\n</ul>\n\n<p>I am not expert on bytecode, but we <code>iload_2</code> before we <code>imul</code>: that's probably where you get the difference: I can suppose that the JVM optimize reading <code>i</code> twice (<code>i</code> is already here, and there is no need to load it again) whilst in the <code>2*i*i</code> it can't.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":2,"up_vote_count":1248,"is_accepted":true,"score":1246,"last_activity_date":1593762904,"creation_date":1543012827,"answer_id":53453588,"question_id":53452713,"body_markdown":"There is a slight difference in the ordering of the bytecode.\r\n\r\n`2 * (i * i)`:\r\n\r\n         iconst_2\r\n         iload0\r\n         iload0\r\n         imul\r\n         imul\r\n         iadd\r\n\r\nvs `2 * i * i`:\r\n\r\n         iconst_2\r\n         iload0\r\n         imul\r\n         iload0\r\n         imul\r\n         iadd\r\n\r\nAt first sight this should not make a difference; if anything the second version is more optimal since it uses one slot less.\r\n\r\nSo we need to dig deeper into the lower level (JIT)&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nRemember that JIT tends to unroll small loops very aggressively. Indeed we observe a 16x unrolling for the `2 * (i * i)` case:\r\n\r\n    030   B2: #\tB2 B3 &lt;- B1 B2 \tLoop: B2-B2 inner main of N18 Freq: 1e+006\r\n    030   \taddl    R11, RBP\t# int\r\n    033   \tmovl    RBP, R13\t# spill\r\n    036   \taddl    RBP, #14\t# int\r\n    039   \timull   RBP, RBP\t# int\r\n    03c   \tmovl    R9, R13\t# spill\r\n    03f   \taddl    R9, #13\t# int\r\n    043   \timull   R9, R9\t# int\r\n    047   \tsall    RBP, #1\r\n    049   \tsall    R9, #1\r\n    04c   \tmovl    R8, R13\t# spill\r\n    04f   \taddl    R8, #15\t# int\r\n    053   \tmovl    R10, R8\t# spill\r\n    056   \tmovdl   XMM1, R8\t# spill\r\n    05b   \timull   R10, R8\t# int\r\n    05f   \tmovl    R8, R13\t# spill\r\n    062   \taddl    R8, #12\t# int\r\n    066   \timull   R8, R8\t# int\r\n    06a   \tsall    R10, #1\r\n    06d   \tmovl    [rsp + #32], R10\t# spill\r\n    072   \tsall    R8, #1\r\n    075   \tmovl    RBX, R13\t# spill\r\n    078   \taddl    RBX, #11\t# int\r\n    07b   \timull   RBX, RBX\t# int\r\n    07e   \tmovl    RCX, R13\t# spill\r\n    081   \taddl    RCX, #10\t# int\r\n    084   \timull   RCX, RCX\t# int\r\n    087   \tsall    RBX, #1\r\n    089   \tsall    RCX, #1\r\n    08b   \tmovl    RDX, R13\t# spill\r\n    08e   \taddl    RDX, #8\t# int\r\n    091   \timull   RDX, RDX\t# int\r\n    094   \tmovl    RDI, R13\t# spill\r\n    097   \taddl    RDI, #7\t# int\r\n    09a   \timull   RDI, RDI\t# int\r\n    09d   \tsall    RDX, #1\r\n    09f   \tsall    RDI, #1\r\n    0a1   \tmovl    RAX, R13\t# spill\r\n    0a4   \taddl    RAX, #6\t# int\r\n    0a7   \timull   RAX, RAX\t# int\r\n    0aa   \tmovl    RSI, R13\t# spill\r\n    0ad   \taddl    RSI, #4\t# int\r\n    0b0   \timull   RSI, RSI\t# int\r\n    0b3   \tsall    RAX, #1\r\n    0b5   \tsall    RSI, #1\r\n    0b7   \tmovl    R10, R13\t# spill\r\n    0ba   \taddl    R10, #2\t# int\r\n    0be   \timull   R10, R10\t# int\r\n    0c2   \tmovl    R14, R13\t# spill\r\n    0c5   \tincl    R14\t# int\r\n    0c8   \timull   R14, R14\t# int\r\n    0cc   \tsall    R10, #1\r\n    0cf   \tsall    R14, #1\r\n    0d2   \taddl    R14, R11\t# int\r\n    0d5   \taddl    R14, R10\t# int\r\n    0d8   \tmovl    R10, R13\t# spill\r\n    0db   \taddl    R10, #3\t# int\r\n    0df   \timull   R10, R10\t# int\r\n    0e3   \tmovl    R11, R13\t# spill\r\n    0e6   \taddl    R11, #5\t# int\r\n    0ea   \timull   R11, R11\t# int\r\n    0ee   \tsall    R10, #1\r\n    0f1   \taddl    R10, R14\t# int\r\n    0f4   \taddl    R10, RSI\t# int\r\n    0f7   \tsall    R11, #1\r\n    0fa   \taddl    R11, R10\t# int\r\n    0fd   \taddl    R11, RAX\t# int\r\n    100   \taddl    R11, RDI\t# int\r\n    103   \taddl    R11, RDX\t# int\r\n    106   \tmovl    R10, R13\t# spill\r\n    109   \taddl    R10, #9\t# int\r\n    10d   \timull   R10, R10\t# int\r\n    111   \tsall    R10, #1\r\n    114   \taddl    R10, R11\t# int\r\n    117   \taddl    R10, RCX\t# int\r\n    11a   \taddl    R10, RBX\t# int\r\n    11d   \taddl    R10, R8\t# int\r\n    120   \taddl    R9, R10\t# int\r\n    123   \taddl    RBP, R9\t# int\r\n    126   \taddl    RBP, [RSP + #32 (32-bit)]\t# int\r\n    12a   \taddl    R13, #16\t# int\r\n    12e   \tmovl    R11, R13\t# spill\r\n    131   \timull   R11, R13\t# int\r\n    135   \tsall    R11, #1\r\n    138   \tcmpl    R13, #999999985\r\n    13f   \tjl     B2\t# loop end  P=1.000000 C=6554623.000000\r\n\r\nWe see that there is 1 register that is &quot;spilled&quot; onto the stack.\r\n\r\nAnd for the `2 * i * i` version:\r\n\r\n\t05a   B3: #\tB2 B4 &lt;- B1 B2 \tLoop: B3-B2 inner main of N18 Freq: 1e+006\r\n\t05a   \taddl    RBX, R11\t# int\r\n\t05d   \tmovl    [rsp + #32], RBX\t# spill\r\n\t061   \tmovl    R11, R8\t# spill\r\n\t064   \taddl    R11, #15\t# int\r\n\t068   \tmovl    [rsp + #36], R11\t# spill\r\n\t06d   \tmovl    R11, R8\t# spill\r\n\t070   \taddl    R11, #14\t# int\r\n\t074   \tmovl    R10, R9\t# spill\r\n\t077   \taddl    R10, #16\t# int\r\n\t07b   \tmovdl   XMM2, R10\t# spill\r\n\t080   \tmovl    RCX, R9\t# spill\r\n\t083   \taddl    RCX, #14\t# int\r\n\t086   \tmovdl   XMM1, RCX\t# spill\r\n\t08a   \tmovl    R10, R9\t# spill\r\n\t08d   \taddl    R10, #12\t# int\r\n\t091   \tmovdl   XMM4, R10\t# spill\r\n\t096   \tmovl    RCX, R9\t# spill\r\n\t099   \taddl    RCX, #10\t# int\r\n\t09c   \tmovdl   XMM6, RCX\t# spill\r\n\t0a0   \tmovl    RBX, R9\t# spill\r\n\t0a3   \taddl    RBX, #8\t# int\r\n\t0a6   \tmovl    RCX, R9\t# spill\r\n\t0a9   \taddl    RCX, #6\t# int\r\n\t0ac   \tmovl    RDX, R9\t# spill\r\n\t0af   \taddl    RDX, #4\t# int\r\n\t0b2   \taddl    R9, #2\t# int\r\n\t0b6   \tmovl    R10, R14\t# spill\r\n\t0b9   \taddl    R10, #22\t# int\r\n\t0bd   \tmovdl   XMM3, R10\t# spill\r\n\t0c2   \tmovl    RDI, R14\t# spill\r\n\t0c5   \taddl    RDI, #20\t# int\r\n\t0c8   \tmovl    RAX, R14\t# spill\r\n\t0cb   \taddl    RAX, #32\t# int\r\n\t0ce   \tmovl    RSI, R14\t# spill\r\n\t0d1   \taddl    RSI, #18\t# int\r\n\t0d4   \tmovl    R13, R14\t# spill\r\n\t0d7   \taddl    R13, #24\t# int\r\n\t0db   \tmovl    R10, R14\t# spill\r\n\t0de   \taddl    R10, #26\t# int\r\n\t0e2   \tmovl    [rsp + #40], R10\t# spill\r\n\t0e7   \tmovl    RBP, R14\t# spill\r\n\t0ea   \taddl    RBP, #28\t# int\r\n\t0ed   \timull   RBP, R11\t# int\r\n\t0f1   \taddl    R14, #30\t# int\r\n\t0f5   \timull   R14, [RSP + #36 (32-bit)]\t# int\r\n\t0fb   \tmovl    R10, R8\t# spill\r\n\t0fe   \taddl    R10, #11\t# int\r\n\t102   \tmovdl   R11, XMM3\t# spill\r\n\t107   \timull   R11, R10\t# int\r\n\t10b   \tmovl    [rsp + #44], R11\t# spill\r\n\t110   \tmovl    R10, R8\t# spill\r\n\t113   \taddl    R10, #10\t# int\r\n\t117   \timull   RDI, R10\t# int\r\n\t11b   \tmovl    R11, R8\t# spill\r\n\t11e   \taddl    R11, #8\t# int\r\n\t122   \tmovdl   R10, XMM2\t# spill\r\n\t127   \timull   R10, R11\t# int\r\n\t12b   \tmovl    [rsp + #48], R10\t# spill\r\n\t130   \tmovl    R10, R8\t# spill\r\n\t133   \taddl    R10, #7\t# int\r\n\t137   \tmovdl   R11, XMM1\t# spill\r\n\t13c   \timull   R11, R10\t# int\r\n\t140   \tmovl    [rsp + #52], R11\t# spill\r\n\t145   \tmovl    R11, R8\t# spill\r\n\t148   \taddl    R11, #6\t# int\r\n\t14c   \tmovdl   R10, XMM4\t# spill\r\n\t151   \timull   R10, R11\t# int\r\n\t155   \tmovl    [rsp + #56], R10\t# spill\r\n\t15a   \tmovl    R10, R8\t# spill\r\n\t15d   \taddl    R10, #5\t# int\r\n\t161   \tmovdl   R11, XMM6\t# spill\r\n\t166   \timull   R11, R10\t# int\r\n\t16a   \tmovl    [rsp + #60], R11\t# spill\r\n\t16f   \tmovl    R11, R8\t# spill\r\n\t172   \taddl    R11, #4\t# int\r\n\t176   \timull   RBX, R11\t# int\r\n\t17a   \tmovl    R11, R8\t# spill\r\n\t17d   \taddl    R11, #3\t# int\r\n\t181   \timull   RCX, R11\t# int\r\n\t185   \tmovl    R10, R8\t# spill\r\n\t188   \taddl    R10, #2\t# int\r\n\t18c   \timull   RDX, R10\t# int\r\n\t190   \tmovl    R11, R8\t# spill\r\n\t193   \tincl    R11\t# int\r\n\t196   \timull   R9, R11\t# int\r\n\t19a   \taddl    R9, [RSP + #32 (32-bit)]\t# int\r\n\t19f   \taddl    R9, RDX\t# int\r\n\t1a2   \taddl    R9, RCX\t# int\r\n\t1a5   \taddl    R9, RBX\t# int\r\n\t1a8   \taddl    R9, [RSP + #60 (32-bit)]\t# int\r\n\t1ad   \taddl    R9, [RSP + #56 (32-bit)]\t# int\r\n\t1b2   \taddl    R9, [RSP + #52 (32-bit)]\t# int\r\n\t1b7   \taddl    R9, [RSP + #48 (32-bit)]\t# int\r\n\t1bc   \tmovl    R10, R8\t# spill\r\n\t1bf   \taddl    R10, #9\t# int\r\n\t1c3   \timull   R10, RSI\t# int\r\n\t1c7   \taddl    R10, R9\t# int\r\n\t1ca   \taddl    R10, RDI\t# int\r\n\t1cd   \taddl    R10, [RSP + #44 (32-bit)]\t# int\r\n\t1d2   \tmovl    R11, R8\t# spill\r\n\t1d5   \taddl    R11, #12\t# int\r\n\t1d9   \timull   R13, R11\t# int\r\n\t1dd   \taddl    R13, R10\t# int\r\n\t1e0   \tmovl    R10, R8\t# spill\r\n\t1e3   \taddl    R10, #13\t# int\r\n\t1e7   \timull   R10, [RSP + #40 (32-bit)]\t# int\r\n\t1ed   \taddl    R10, R13\t# int\r\n\t1f0   \taddl    RBP, R10\t# int\r\n\t1f3   \taddl    R14, RBP\t# int\r\n\t1f6   \tmovl    R10, R8\t# spill\r\n\t1f9   \taddl    R10, #16\t# int\r\n\t1fd   \tcmpl    R10, #999999985\r\n\t204   \tjl     B2\t# loop end  P=1.000000 C=7419903.000000\r\n\r\nHere we observe much more &quot;spilling&quot; and more accesses to the stack `[RSP + ...]`, due to more intermediate results that need to be preserved.\r\n\r\nThus the answer to the question is simple: `2 * (i * i)` is faster than `2 * i * i` because the JIT generates more optimal assembly code for the first case.\r\n\r\n---\r\n\r\nBut of course it is obvious that neither the first nor the second version is any good; the loop could really benefit from vectorization, since any x86-64 CPU has at least SSE2 support.\r\n\r\nSo it&#39;s an issue of the optimizer; as is often the case, it unrolls too aggressively and shoots itself in the foot, all the while missing out on various other opportunities.\r\n\r\nIn fact, modern x86-64 CPUs break down the instructions further into micro-ops (&amp;micro;ops) and with features like register renaming, &amp;micro;op caches and loop buffers, loop optimization takes a lot more finesse than a simple unrolling for optimal performance. [According to Agner Fog&#39;s optimization guide][1]:\r\n\r\n&gt; The gain in performance due to the &amp;micro;op cache can be quite\r\n&gt; considerable if the average instruction length is more than 4 bytes.\r\n&gt; The following methods of optimizing the use of the &amp;micro;op cache may\r\n&gt; be considered:\r\n&gt; \r\n&gt; * Make sure that critical loops are small enough to fit into the &#181;op cache.\r\n&gt; * Align the most critical loop entries and function entries by 32.\r\n&gt; * Avoid unnecessary loop unrolling.\r\n&gt; * Avoid instructions that have extra load time  \r\n&gt; . . .\r\n\r\nRegarding those load times - [even the fastest L1D hit costs 4 cycles][2], an extra register and &amp;micro;op, so yes, even a few accesses to memory will hurt performance in tight loops.\r\n\r\nBut back to the vectorization opportunity - to see how fast it can be, [we can compile a similar C application with GCC][3], which outright vectorizes it (AVX2 is shown, SSE2 is similar)&lt;sup&gt;2&lt;/sup&gt;:\r\n\r\n      vmovdqa ymm0, YMMWORD PTR .LC0[rip]\r\n      vmovdqa ymm3, YMMWORD PTR .LC1[rip]\r\n      xor eax, eax\r\n      vpxor xmm2, xmm2, xmm2\r\n    .L2:\r\n      vpmulld ymm1, ymm0, ymm0\r\n      inc eax\r\n      vpaddd ymm0, ymm0, ymm3\r\n      vpslld ymm1, ymm1, 1\r\n      vpaddd ymm2, ymm2, ymm1\r\n      cmp eax, 125000000      ; 8 calculations per iteration\r\n      jne .L2\r\n      vmovdqa xmm0, xmm2\r\n      vextracti128 xmm2, ymm2, 1\r\n      vpaddd xmm2, xmm0, xmm2\r\n      vpsrldq xmm0, xmm2, 8\r\n      vpaddd xmm0, xmm2, xmm0\r\n      vpsrldq xmm1, xmm0, 4\r\n      vpaddd xmm0, xmm0, xmm1\r\n      vmovd eax, xmm0\r\n      vzeroupper\r\n\r\nWith run times:\r\n\r\n* SSE: 0.24 s, or 2 times as fast.\r\n* AVX: 0.15 s, or 3 times as fast.\r\n* AVX2: 0.08 s, or 5 times as fast.\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; &lt;sub&gt;To get JIT generated assembly output, [get a debug JVM][4] and run with `-XX:+PrintOptoAssembly`&lt;/sub&gt;\r\n\r\n&lt;sup&gt;2&lt;/sup&gt; &lt;sub&gt;The C version is compiled with the `-fwrapv` flag, which enables GCC to treat signed integer overflow as a two&#39;s-complement wrap-around.&lt;/sub&gt;\r\n\r\n  [1]: https://www.agner.org/optimize/microarchitecture.pdf\r\n  [2]: https://stackoverflow.com/questions/4087280/approximate-cost-to-access-various-caches-and-main-memory\r\n  [3]: https://gcc.godbolt.org/z/DdEDny\r\n  [4]: https://github.com/ojdkbuild/ojdkbuild/releases","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>There is a slight difference in the ordering of the bytecode.</p>\n<p><code>2 * (i * i)</code>:</p>\n<pre><code>     iconst_2\n     iload0\n     iload0\n     imul\n     imul\n     iadd\n</code></pre>\n<p>vs <code>2 * i * i</code>:</p>\n<pre><code>     iconst_2\n     iload0\n     imul\n     iload0\n     imul\n     iadd\n</code></pre>\n<p>At first sight this should not make a difference; if anything the second version is more optimal since it uses one slot less.</p>\n<p>So we need to dig deeper into the lower level (JIT)<sup>1</sup>.</p>\n<p>Remember that JIT tends to unroll small loops very aggressively. Indeed we observe a 16x unrolling for the <code>2 * (i * i)</code> case:</p>\n<pre><code>030   B2: # B2 B3 &lt;- B1 B2  Loop: B2-B2 inner main of N18 Freq: 1e+006\n030     addl    R11, RBP    # int\n033     movl    RBP, R13    # spill\n036     addl    RBP, #14    # int\n039     imull   RBP, RBP    # int\n03c     movl    R9, R13 # spill\n03f     addl    R9, #13 # int\n043     imull   R9, R9  # int\n047     sall    RBP, #1\n049     sall    R9, #1\n04c     movl    R8, R13 # spill\n04f     addl    R8, #15 # int\n053     movl    R10, R8 # spill\n056     movdl   XMM1, R8    # spill\n05b     imull   R10, R8 # int\n05f     movl    R8, R13 # spill\n062     addl    R8, #12 # int\n066     imull   R8, R8  # int\n06a     sall    R10, #1\n06d     movl    [rsp + #32], R10    # spill\n072     sall    R8, #1\n075     movl    RBX, R13    # spill\n078     addl    RBX, #11    # int\n07b     imull   RBX, RBX    # int\n07e     movl    RCX, R13    # spill\n081     addl    RCX, #10    # int\n084     imull   RCX, RCX    # int\n087     sall    RBX, #1\n089     sall    RCX, #1\n08b     movl    RDX, R13    # spill\n08e     addl    RDX, #8 # int\n091     imull   RDX, RDX    # int\n094     movl    RDI, R13    # spill\n097     addl    RDI, #7 # int\n09a     imull   RDI, RDI    # int\n09d     sall    RDX, #1\n09f     sall    RDI, #1\n0a1     movl    RAX, R13    # spill\n0a4     addl    RAX, #6 # int\n0a7     imull   RAX, RAX    # int\n0aa     movl    RSI, R13    # spill\n0ad     addl    RSI, #4 # int\n0b0     imull   RSI, RSI    # int\n0b3     sall    RAX, #1\n0b5     sall    RSI, #1\n0b7     movl    R10, R13    # spill\n0ba     addl    R10, #2 # int\n0be     imull   R10, R10    # int\n0c2     movl    R14, R13    # spill\n0c5     incl    R14 # int\n0c8     imull   R14, R14    # int\n0cc     sall    R10, #1\n0cf     sall    R14, #1\n0d2     addl    R14, R11    # int\n0d5     addl    R14, R10    # int\n0d8     movl    R10, R13    # spill\n0db     addl    R10, #3 # int\n0df     imull   R10, R10    # int\n0e3     movl    R11, R13    # spill\n0e6     addl    R11, #5 # int\n0ea     imull   R11, R11    # int\n0ee     sall    R10, #1\n0f1     addl    R10, R14    # int\n0f4     addl    R10, RSI    # int\n0f7     sall    R11, #1\n0fa     addl    R11, R10    # int\n0fd     addl    R11, RAX    # int\n100     addl    R11, RDI    # int\n103     addl    R11, RDX    # int\n106     movl    R10, R13    # spill\n109     addl    R10, #9 # int\n10d     imull   R10, R10    # int\n111     sall    R10, #1\n114     addl    R10, R11    # int\n117     addl    R10, RCX    # int\n11a     addl    R10, RBX    # int\n11d     addl    R10, R8 # int\n120     addl    R9, R10 # int\n123     addl    RBP, R9 # int\n126     addl    RBP, [RSP + #32 (32-bit)]   # int\n12a     addl    R13, #16    # int\n12e     movl    R11, R13    # spill\n131     imull   R11, R13    # int\n135     sall    R11, #1\n138     cmpl    R13, #999999985\n13f     jl     B2   # loop end  P=1.000000 C=6554623.000000\n</code></pre>\n<p>We see that there is 1 register that is &quot;spilled&quot; onto the stack.</p>\n<p>And for the <code>2 * i * i</code> version:</p>\n<pre><code>05a   B3: # B2 B4 &lt;- B1 B2  Loop: B3-B2 inner main of N18 Freq: 1e+006\n05a     addl    RBX, R11    # int\n05d     movl    [rsp + #32], RBX    # spill\n061     movl    R11, R8 # spill\n064     addl    R11, #15    # int\n068     movl    [rsp + #36], R11    # spill\n06d     movl    R11, R8 # spill\n070     addl    R11, #14    # int\n074     movl    R10, R9 # spill\n077     addl    R10, #16    # int\n07b     movdl   XMM2, R10   # spill\n080     movl    RCX, R9 # spill\n083     addl    RCX, #14    # int\n086     movdl   XMM1, RCX   # spill\n08a     movl    R10, R9 # spill\n08d     addl    R10, #12    # int\n091     movdl   XMM4, R10   # spill\n096     movl    RCX, R9 # spill\n099     addl    RCX, #10    # int\n09c     movdl   XMM6, RCX   # spill\n0a0     movl    RBX, R9 # spill\n0a3     addl    RBX, #8 # int\n0a6     movl    RCX, R9 # spill\n0a9     addl    RCX, #6 # int\n0ac     movl    RDX, R9 # spill\n0af     addl    RDX, #4 # int\n0b2     addl    R9, #2  # int\n0b6     movl    R10, R14    # spill\n0b9     addl    R10, #22    # int\n0bd     movdl   XMM3, R10   # spill\n0c2     movl    RDI, R14    # spill\n0c5     addl    RDI, #20    # int\n0c8     movl    RAX, R14    # spill\n0cb     addl    RAX, #32    # int\n0ce     movl    RSI, R14    # spill\n0d1     addl    RSI, #18    # int\n0d4     movl    R13, R14    # spill\n0d7     addl    R13, #24    # int\n0db     movl    R10, R14    # spill\n0de     addl    R10, #26    # int\n0e2     movl    [rsp + #40], R10    # spill\n0e7     movl    RBP, R14    # spill\n0ea     addl    RBP, #28    # int\n0ed     imull   RBP, R11    # int\n0f1     addl    R14, #30    # int\n0f5     imull   R14, [RSP + #36 (32-bit)]   # int\n0fb     movl    R10, R8 # spill\n0fe     addl    R10, #11    # int\n102     movdl   R11, XMM3   # spill\n107     imull   R11, R10    # int\n10b     movl    [rsp + #44], R11    # spill\n110     movl    R10, R8 # spill\n113     addl    R10, #10    # int\n117     imull   RDI, R10    # int\n11b     movl    R11, R8 # spill\n11e     addl    R11, #8 # int\n122     movdl   R10, XMM2   # spill\n127     imull   R10, R11    # int\n12b     movl    [rsp + #48], R10    # spill\n130     movl    R10, R8 # spill\n133     addl    R10, #7 # int\n137     movdl   R11, XMM1   # spill\n13c     imull   R11, R10    # int\n140     movl    [rsp + #52], R11    # spill\n145     movl    R11, R8 # spill\n148     addl    R11, #6 # int\n14c     movdl   R10, XMM4   # spill\n151     imull   R10, R11    # int\n155     movl    [rsp + #56], R10    # spill\n15a     movl    R10, R8 # spill\n15d     addl    R10, #5 # int\n161     movdl   R11, XMM6   # spill\n166     imull   R11, R10    # int\n16a     movl    [rsp + #60], R11    # spill\n16f     movl    R11, R8 # spill\n172     addl    R11, #4 # int\n176     imull   RBX, R11    # int\n17a     movl    R11, R8 # spill\n17d     addl    R11, #3 # int\n181     imull   RCX, R11    # int\n185     movl    R10, R8 # spill\n188     addl    R10, #2 # int\n18c     imull   RDX, R10    # int\n190     movl    R11, R8 # spill\n193     incl    R11 # int\n196     imull   R9, R11 # int\n19a     addl    R9, [RSP + #32 (32-bit)]    # int\n19f     addl    R9, RDX # int\n1a2     addl    R9, RCX # int\n1a5     addl    R9, RBX # int\n1a8     addl    R9, [RSP + #60 (32-bit)]    # int\n1ad     addl    R9, [RSP + #56 (32-bit)]    # int\n1b2     addl    R9, [RSP + #52 (32-bit)]    # int\n1b7     addl    R9, [RSP + #48 (32-bit)]    # int\n1bc     movl    R10, R8 # spill\n1bf     addl    R10, #9 # int\n1c3     imull   R10, RSI    # int\n1c7     addl    R10, R9 # int\n1ca     addl    R10, RDI    # int\n1cd     addl    R10, [RSP + #44 (32-bit)]   # int\n1d2     movl    R11, R8 # spill\n1d5     addl    R11, #12    # int\n1d9     imull   R13, R11    # int\n1dd     addl    R13, R10    # int\n1e0     movl    R10, R8 # spill\n1e3     addl    R10, #13    # int\n1e7     imull   R10, [RSP + #40 (32-bit)]   # int\n1ed     addl    R10, R13    # int\n1f0     addl    RBP, R10    # int\n1f3     addl    R14, RBP    # int\n1f6     movl    R10, R8 # spill\n1f9     addl    R10, #16    # int\n1fd     cmpl    R10, #999999985\n204     jl     B2   # loop end  P=1.000000 C=7419903.000000\n</code></pre>\n<p>Here we observe much more &quot;spilling&quot; and more accesses to the stack <code>[RSP + ...]</code>, due to more intermediate results that need to be preserved.</p>\n<p>Thus the answer to the question is simple: <code>2 * (i * i)</code> is faster than <code>2 * i * i</code> because the JIT generates more optimal assembly code for the first case.</p>\n<hr />\n<p>But of course it is obvious that neither the first nor the second version is any good; the loop could really benefit from vectorization, since any x86-64 CPU has at least SSE2 support.</p>\n<p>So it's an issue of the optimizer; as is often the case, it unrolls too aggressively and shoots itself in the foot, all the while missing out on various other opportunities.</p>\n<p>In fact, modern x86-64 CPUs break down the instructions further into micro-ops (µops) and with features like register renaming, µop caches and loop buffers, loop optimization takes a lot more finesse than a simple unrolling for optimal performance. <a href=\"https://www.agner.org/optimize/microarchitecture.pdf\" rel=\"noreferrer\">According to Agner Fog's optimization guide</a>:</p>\n<blockquote>\n<p>The gain in performance due to the µop cache can be quite\nconsiderable if the average instruction length is more than 4 bytes.\nThe following methods of optimizing the use of the µop cache may\nbe considered:</p>\n<ul>\n<li>Make sure that critical loops are small enough to fit into the µop cache.</li>\n<li>Align the most critical loop entries and function entries by 32.</li>\n<li>Avoid unnecessary loop unrolling.</li>\n<li>Avoid instructions that have extra load time<br />\n. . .</li>\n</ul>\n</blockquote>\n<p>Regarding those load times - <a href=\"https://stackoverflow.com/questions/4087280/approximate-cost-to-access-various-caches-and-main-memory\">even the fastest L1D hit costs 4 cycles</a>, an extra register and µop, so yes, even a few accesses to memory will hurt performance in tight loops.</p>\n<p>But back to the vectorization opportunity - to see how fast it can be, <a href=\"https://gcc.godbolt.org/z/DdEDny\" rel=\"noreferrer\">we can compile a similar C application with GCC</a>, which outright vectorizes it (AVX2 is shown, SSE2 is similar)<sup>2</sup>:</p>\n<pre><code>  vmovdqa ymm0, YMMWORD PTR .LC0[rip]\n  vmovdqa ymm3, YMMWORD PTR .LC1[rip]\n  xor eax, eax\n  vpxor xmm2, xmm2, xmm2\n.L2:\n  vpmulld ymm1, ymm0, ymm0\n  inc eax\n  vpaddd ymm0, ymm0, ymm3\n  vpslld ymm1, ymm1, 1\n  vpaddd ymm2, ymm2, ymm1\n  cmp eax, 125000000      ; 8 calculations per iteration\n  jne .L2\n  vmovdqa xmm0, xmm2\n  vextracti128 xmm2, ymm2, 1\n  vpaddd xmm2, xmm0, xmm2\n  vpsrldq xmm0, xmm2, 8\n  vpaddd xmm0, xmm2, xmm0\n  vpsrldq xmm1, xmm0, 4\n  vpaddd xmm0, xmm0, xmm1\n  vmovd eax, xmm0\n  vzeroupper\n</code></pre>\n<p>With run times:</p>\n<ul>\n<li>SSE: 0.24 s, or 2 times as fast.</li>\n<li>AVX: 0.15 s, or 3 times as fast.</li>\n<li>AVX2: 0.08 s, or 5 times as fast.</li>\n</ul>\n<hr />\n<p><sup>1</sup> <sub>To get JIT generated assembly output, <a href=\"https://github.com/ojdkbuild/ojdkbuild/releases\" rel=\"noreferrer\">get a debug JVM</a> and run with <code>-XX:+PrintOptoAssembly</code></sub></p>\n<p><sup>2</sup> <sub>The C version is compiled with the <code>-fwrapv</code> flag, which enables GCC to treat signed integer overflow as a two's-complement wrap-around.</sub></p>\n"},{"tags":[],"owner":{"account_id":5987632,"reputation":476,"user_id":4704966,"display_name":"Puzzled"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1543169881,"creation_date":1543169881,"answer_id":53470476,"question_id":53452713,"body_markdown":"[Kasperd][1] asked in a comment of the accepted answer:\r\n&gt; The Java and C examples use quite different register names. Are both example using the AMD64 ISA?\r\n\r\n    xor edx, edx\r\n    xor eax, eax\r\n    .L2:\r\n    mov ecx, edx\r\n    imul ecx, edx\r\n    add edx, 1\r\n    lea eax, [rax+rcx*2]\r\n    cmp edx, 1000000000\r\n    jne .L2\r\n\r\nI don&#39;t have enough reputation to answer this in the comments, but these are the same ISA. It&#39;s worth pointing out that the GCC version uses 32-bit integer logic and the JVM compiled version uses 64-bit integer logic internally.\r\n\r\nR8 to R15 are just new X86_64 [registers][2]. EAX to EDX are the lower parts of the RAX to RDX general purpose registers. The important part in the answer is that the GCC version is not unrolled. It simply executes one round of the loop per actual machine code loop. While the JVM version has 16 rounds of the loop in one physical loop (based on rustyx answer, I did not reinterpret the assembly). This is one of the reasons why there are more registers being used since the loop body is actually 16 times longer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3476849/kasperd\r\n  [2]: https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/x64-architecture","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p><a href=\"https://stackoverflow.com/users/3476849/kasperd\">Kasperd</a> asked in a comment of the accepted answer:</p>\n\n<blockquote>\n  <p>The Java and C examples use quite different register names. Are both example using the AMD64 ISA?</p>\n</blockquote>\n\n<pre><code>xor edx, edx\nxor eax, eax\n.L2:\nmov ecx, edx\nimul ecx, edx\nadd edx, 1\nlea eax, [rax+rcx*2]\ncmp edx, 1000000000\njne .L2\n</code></pre>\n\n<p>I don't have enough reputation to answer this in the comments, but these are the same ISA. It's worth pointing out that the GCC version uses 32-bit integer logic and the JVM compiled version uses 64-bit integer logic internally.</p>\n\n<p>R8 to R15 are just new X86_64 <a href=\"https://learn.microsoft.com/en-us/windows-hardware/drivers/debugger/x64-architecture\" rel=\"noreferrer\">registers</a>. EAX to EDX are the lower parts of the RAX to RDX general purpose registers. The important part in the answer is that the GCC version is not unrolled. It simply executes one round of the loop per actual machine code loop. While the JVM version has 16 rounds of the loop in one physical loop (based on rustyx answer, I did not reinterpret the assembly). This is one of the reasons why there are more registers being used since the loop body is actually 16 times longer.</p>\n"},{"tags":[],"owner":{"account_id":5685549,"reputation":350,"user_id":4495236,"display_name":"&#220;nsal Ers&#246;z"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1556119244,"creation_date":1543392750,"answer_id":53514863,"question_id":53452713,"body_markdown":"While not directly related to the question&#39;s environment, just for the curiosity, I did the same test on .NET Core 2.1, x64, release mode.\r\n\r\nHere is the interesting result, confirming similar phonomena (other way around) happening over the dark side of the force. Code:\r\n\r\n    static void Main(string[] args)\r\n    {\r\n        Stopwatch watch = new Stopwatch();\r\n\r\n        Console.WriteLine(&quot;2 * (i * i)&quot;);\r\n\r\n        for (int a = 0; a &lt; 10; a++)\r\n        {\r\n            int n = 0;\r\n\r\n            watch.Restart();\r\n\r\n            for (int i = 0; i &lt; 1000000000; i++)\r\n            {\r\n                n += 2 * (i * i);\r\n            }\r\n\r\n            watch.Stop();\r\n\r\n            Console.WriteLine($&quot;result:{n}, {watch.ElapsedMilliseconds} ms&quot;);\r\n        }\r\n\r\n        Console.WriteLine();\r\n        Console.WriteLine(&quot;2 * i * i&quot;);\r\n\r\n        for (int a = 0; a &lt; 10; a++)\r\n        {\r\n            int n = 0;\r\n\r\n            watch.Restart();\r\n\r\n            for (int i = 0; i &lt; 1000000000; i++)\r\n            {\r\n                n += 2 * i * i;\r\n            }\r\n\r\n            watch.Stop();\r\n\r\n            Console.WriteLine($&quot;result:{n}, {watch.ElapsedMilliseconds}ms&quot;);\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n2 * (i * i)\r\n\r\n- result:119860736, 438 ms\r\n- result:119860736, 433 ms\r\n- result:119860736, 437 ms\r\n- result:119860736, 435 ms\r\n- result:119860736, 436 ms\r\n- result:119860736, 435 ms\r\n- result:119860736, 435 ms\r\n- result:119860736, 439 ms\r\n- result:119860736, 436 ms\r\n- result:119860736, 437 ms\r\n\r\n2 * i * i\r\n\r\n- result:119860736, 417 ms\r\n- result:119860736, 417 ms\r\n- result:119860736, 417 ms\r\n- result:119860736, 418 ms\r\n- result:119860736, 418 ms\r\n- result:119860736, 417 ms\r\n- result:119860736, 418 ms\r\n- result:119860736, 416 ms\r\n- result:119860736, 417 ms\r\n- result:119860736, 418 ms\r\n\r\n\r\n","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>While not directly related to the question's environment, just for the curiosity, I did the same test on .NET Core 2.1, x64, release mode.</p>\n\n<p>Here is the interesting result, confirming similar phonomena (other way around) happening over the dark side of the force. Code:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Stopwatch watch = new Stopwatch();\n\n    Console.WriteLine(\"2 * (i * i)\");\n\n    for (int a = 0; a &lt; 10; a++)\n    {\n        int n = 0;\n\n        watch.Restart();\n\n        for (int i = 0; i &lt; 1000000000; i++)\n        {\n            n += 2 * (i * i);\n        }\n\n        watch.Stop();\n\n        Console.WriteLine($\"result:{n}, {watch.ElapsedMilliseconds} ms\");\n    }\n\n    Console.WriteLine();\n    Console.WriteLine(\"2 * i * i\");\n\n    for (int a = 0; a &lt; 10; a++)\n    {\n        int n = 0;\n\n        watch.Restart();\n\n        for (int i = 0; i &lt; 1000000000; i++)\n        {\n            n += 2 * i * i;\n        }\n\n        watch.Stop();\n\n        Console.WriteLine($\"result:{n}, {watch.ElapsedMilliseconds}ms\");\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p>2 * (i * i)</p>\n\n<ul>\n<li>result:119860736, 438 ms</li>\n<li>result:119860736, 433 ms</li>\n<li>result:119860736, 437 ms</li>\n<li>result:119860736, 435 ms</li>\n<li>result:119860736, 436 ms</li>\n<li>result:119860736, 435 ms</li>\n<li>result:119860736, 435 ms</li>\n<li>result:119860736, 439 ms</li>\n<li>result:119860736, 436 ms</li>\n<li>result:119860736, 437 ms</li>\n</ul>\n\n<p>2 * i * i</p>\n\n<ul>\n<li>result:119860736, 417 ms</li>\n<li>result:119860736, 417 ms</li>\n<li>result:119860736, 417 ms</li>\n<li>result:119860736, 418 ms</li>\n<li>result:119860736, 418 ms</li>\n<li>result:119860736, 417 ms</li>\n<li>result:119860736, 418 ms</li>\n<li>result:119860736, 416 ms</li>\n<li>result:119860736, 417 ms</li>\n<li>result:119860736, 418 ms</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1556119337,"creation_date":1543612043,"answer_id":53564928,"question_id":53452713,"body_markdown":"More of an addendum. I did repro the experiment using the latest Java 8 JVM from IBM:\r\n\r\n    java version &quot;1.8.0_191&quot;\r\n    Java(TM) 2 Runtime Environment, Standard Edition (IBM build 1.8.0_191-b12 26_Oct_2018_18_45 Mac OS X x64(SR5 FP25))\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)\r\n\r\nAnd this shows very similar results:\r\n\r\n    0.374653912 s\r\n    n = 119860736\r\n    0.447778698 s\r\n    n = 119860736\r\n\r\n(second results using 2 * i * i).\r\n\r\nInterestingly enough, when running on the same machine, but using Oracle Java:\r\n\r\n    Java version &quot;1.8.0_181&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_181-b13)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)\r\n\r\nresults are on average a bit slower:\r\n\r\n    0.414331815 s\r\n    n = 119860736\r\n    0.491430656 s\r\n    n = 119860736\r\n\r\nLong story short: even the minor version number of HotSpot matter here, as subtle differences within the JIT implementation can have notable effects.\r\n","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>More of an addendum. I did repro the experiment using the latest Java 8 JVM from IBM:</p>\n\n<pre><code>java version \"1.8.0_191\"\nJava(TM) 2 Runtime Environment, Standard Edition (IBM build 1.8.0_191-b12 26_Oct_2018_18_45 Mac OS X x64(SR5 FP25))\nJava HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)\n</code></pre>\n\n<p>And this shows very similar results:</p>\n\n<pre><code>0.374653912 s\nn = 119860736\n0.447778698 s\nn = 119860736\n</code></pre>\n\n<p>(second results using 2 * i * i).</p>\n\n<p>Interestingly enough, when running on the same machine, but using Oracle Java:</p>\n\n<pre><code>Java version \"1.8.0_181\"\nJava(TM) SE Runtime Environment (build 1.8.0_181-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)\n</code></pre>\n\n<p>results are on average a bit slower:</p>\n\n<pre><code>0.414331815 s\nn = 119860736\n0.491430656 s\nn = 119860736\n</code></pre>\n\n<p>Long story short: even the minor version number of HotSpot matter here, as subtle differences within the JIT implementation can have notable effects.</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1568919809,"creation_date":1543718327,"answer_id":53576845,"question_id":53452713,"body_markdown":"Interesting observation using **Java 11** and switching off loop unrolling with the following VM option:\r\n\r\n    -XX:LoopUnrollLimit=0\r\n\r\nThe loop with the `2 * (i * i)` expression results in more compact native code&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n    L0001: add    eax,r11d\r\n           inc    r8d\r\n           mov    r11d,r8d\r\n           imul   r11d,r8d\r\n           shl    r11d,1h\r\n           cmp    r8d,r10d\r\n           jl     L0001\r\n\r\nin comparison with the `2 * i * i` version:\r\n\r\n    L0001: add    eax,r11d\r\n           mov    r11d,r8d\r\n           shl    r11d,1h\r\n           add    r11d,2h\r\n           inc    r8d\r\n           imul   r11d,r8d\r\n           cmp    r8d,r10d\r\n           jl     L0001\r\n\r\nJava version:\r\n\r\n    java version &quot;11&quot; 2018-09-25\r\n    Java(TM) SE Runtime Environment 18.9 (build 11+28)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28, mixed mode)\r\n\r\nBenchmark results:\r\n\r\n    Benchmark          (size)  Mode  Cnt    Score     Error  Units\r\n    LoopTest.fast  1000000000  avgt    5  694,868 &#177;  36,470  ms/op\r\n    LoopTest.slow  1000000000  avgt    5  769,840 &#177; 135,006  ms/op\r\n\r\nBenchmark source code:\r\n\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    @Warmup(iterations = 5, time = 5, timeUnit = TimeUnit.SECONDS)\r\n    @Measurement(iterations = 5, time = 5, timeUnit = TimeUnit.SECONDS)\r\n    @State(Scope.Thread)\r\n    @Fork(1)\r\n    public class LoopTest {\r\n\r\n        @Param(&quot;1000000000&quot;) private int size;\r\n\r\n        public static void main(String[] args) throws RunnerException {\r\n            Options opt = new OptionsBuilder()\r\n                .include(LoopTest.class.getSimpleName())\r\n                .jvmArgs(&quot;-XX:LoopUnrollLimit=0&quot;)\r\n                .build();\r\n            new Runner(opt).run();\r\n        }\r\n\r\n        @Benchmark\r\n        public int slow() {\r\n            int n = 0;\r\n            for (int i = 0; i &lt; size; i++)\r\n                n += 2 * i * i;\r\n            return n;\r\n        }\r\n\r\n        @Benchmark\r\n        public int fast() {\r\n            int n = 0;\r\n            for (int i = 0; i &lt; size; i++)\r\n                n += 2 * (i * i);\r\n            return n;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n&lt;sup&gt;1 - VM options used: `-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly -XX:LoopUnrollLimit=0`&lt;/sup&gt;","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>Interesting observation using <strong>Java 11</strong> and switching off loop unrolling with the following VM option:</p>\n\n<pre><code>-XX:LoopUnrollLimit=0\n</code></pre>\n\n<p>The loop with the <code>2 * (i * i)</code> expression results in more compact native code<sup>1</sup>:</p>\n\n<pre><code>L0001: add    eax,r11d\n       inc    r8d\n       mov    r11d,r8d\n       imul   r11d,r8d\n       shl    r11d,1h\n       cmp    r8d,r10d\n       jl     L0001\n</code></pre>\n\n<p>in comparison with the <code>2 * i * i</code> version:</p>\n\n<pre><code>L0001: add    eax,r11d\n       mov    r11d,r8d\n       shl    r11d,1h\n       add    r11d,2h\n       inc    r8d\n       imul   r11d,r8d\n       cmp    r8d,r10d\n       jl     L0001\n</code></pre>\n\n<p>Java version:</p>\n\n<pre><code>java version \"11\" 2018-09-25\nJava(TM) SE Runtime Environment 18.9 (build 11+28)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28, mixed mode)\n</code></pre>\n\n<p>Benchmark results:</p>\n\n<pre><code>Benchmark          (size)  Mode  Cnt    Score     Error  Units\nLoopTest.fast  1000000000  avgt    5  694,868 ±  36,470  ms/op\nLoopTest.slow  1000000000  avgt    5  769,840 ± 135,006  ms/op\n</code></pre>\n\n<p>Benchmark source code:</p>\n\n<pre><code>@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@Warmup(iterations = 5, time = 5, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 5, time = 5, timeUnit = TimeUnit.SECONDS)\n@State(Scope.Thread)\n@Fork(1)\npublic class LoopTest {\n\n    @Param(\"1000000000\") private int size;\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n            .include(LoopTest.class.getSimpleName())\n            .jvmArgs(\"-XX:LoopUnrollLimit=0\")\n            .build();\n        new Runner(opt).run();\n    }\n\n    @Benchmark\n    public int slow() {\n        int n = 0;\n        for (int i = 0; i &lt; size; i++)\n            n += 2 * i * i;\n        return n;\n    }\n\n    @Benchmark\n    public int fast() {\n        int n = 0;\n        for (int i = 0; i &lt; size; i++)\n            n += 2 * (i * i);\n        return n;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><sup>1 - VM options used: <code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly -XX:LoopUnrollLimit=0</code></sup></p>\n"}],"owner":{"account_id":14314366,"reputation":5072,"user_id":10339589,"display_name":"Stefan"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254005,"favorite_count":0,"down_vote_count":19,"up_vote_count":931,"accepted_answer_id":53453588,"answer_count":10,"score":912,"last_activity_date":1657977270,"creation_date":1543005610,"question_id":53452713,"body_markdown":"The following Java program takes on average between 0.50 secs and 0.55 secs to run:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n    long startTime = System.nanoTime();\r\n    int n = 0;\r\n    for (int i = 0; i &lt; 1000000000; i++) {\r\n        n += 2 * (i * i);\r\n    }\r\n    System.out.println(\r\n        (double) (System.nanoTime() - startTime) / 1000000000 + &quot; s&quot;);\r\n    System.out.println(&quot;n = &quot; + n);\r\n}\r\n```\r\n\r\nIf I replace `2 * (i * i)` with `2 * i * i`, it takes between 0.60 and 0.65 secs to run. How come?\r\n\r\nI ran each version of the program 15 times, alternating between the two. Here are the results:\r\n\r\n```lang-text\r\n 2*(i*i)  │  2*i*i\r\n──────────┼──────────\r\n0.5183738 │ 0.6246434\r\n0.5298337 │ 0.6049722\r\n0.5308647 │ 0.6603363\r\n0.5133458 │ 0.6243328\r\n0.5003011 │ 0.6541802\r\n0.5366181 │ 0.6312638\r\n0.515149  │ 0.6241105\r\n0.5237389 │ 0.627815\r\n0.5249942 │ 0.6114252\r\n0.5641624 │ 0.6781033\r\n0.538412  │ 0.6393969\r\n0.5466744 │ 0.6608845\r\n0.531159  │ 0.6201077\r\n0.5048032 │ 0.6511559\r\n0.5232789 │ 0.6544526\r\n```\r\n\r\nThe fastest run of `2 * i * i` took longer than the slowest run of `2 * (i * i)`. If they had the same efficiency, the probability of this happening would be less than `1/2^15 * 100% = 0.00305%`.\r\n","title":"Why is 2 * (i * i) faster than 2 * i * i in Java?","body":"<p>The following Java program takes on average between 0.50 secs and 0.55 secs to run:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    long startTime = System.nanoTime();\n    int n = 0;\n    for (int i = 0; i &lt; 1000000000; i++) {\n        n += 2 * (i * i);\n    }\n    System.out.println(\n        (double) (System.nanoTime() - startTime) / 1000000000 + &quot; s&quot;);\n    System.out.println(&quot;n = &quot; + n);\n}\n</code></pre>\n<p>If I replace <code>2 * (i * i)</code> with <code>2 * i * i</code>, it takes between 0.60 and 0.65 secs to run. How come?</p>\n<p>I ran each version of the program 15 times, alternating between the two. Here are the results:</p>\n<pre class=\"lang-text prettyprint-override\"><code> 2*(i*i)  │  2*i*i\n──────────┼──────────\n0.5183738 │ 0.6246434\n0.5298337 │ 0.6049722\n0.5308647 │ 0.6603363\n0.5133458 │ 0.6243328\n0.5003011 │ 0.6541802\n0.5366181 │ 0.6312638\n0.515149  │ 0.6241105\n0.5237389 │ 0.627815\n0.5249942 │ 0.6114252\n0.5641624 │ 0.6781033\n0.538412  │ 0.6393969\n0.5466744 │ 0.6608845\n0.531159  │ 0.6201077\n0.5048032 │ 0.6511559\n0.5232789 │ 0.6544526\n</code></pre>\n<p>The fastest run of <code>2 * i * i</code> took longer than the slowest run of <code>2 * (i * i)</code>. If they had the same efficiency, the probability of this happening would be less than <code>1/2^15 * 100% = 0.00305%</code>.</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":2,"creation_date":1657969738,"post_id":73003653,"comment_id":128939013,"body_markdown":"Welcome. To get any help, you first need to show your attempt on the problem. Don&#39;t expect anybody to provide you with a full solution. Therefore: paste a code that you have written so far and tell us where you are stuck.","body":"Welcome. To get any help, you first need to show your attempt on the problem. Don&#39;t expect anybody to provide you with a full solution. Therefore: paste a code that you have written so far and tell us where you are stuck."},{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1657977001,"post_id":73003653,"comment_id":128940352,"body_markdown":"Are you using any specific CSV library?","body":"Are you using any specific CSV library?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1657977028,"post_id":73003653,"comment_id":128940359,"body_markdown":"`st.readFileData()`?? Shouldn&#39;t it be: `stReader.readFileData()`?","body":"<code>st.readFileData()</code>?? Shouldn&#39;t it be: <code>stReader.readFileData()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657977148,"creation_date":1657971679,"answer_id":73003893,"question_id":73003653,"body_markdown":"Each data line of the CSV file is most likely comma (,) delimited so when you read in each line, split it then display the column you want, for example:\r\n\r\n```\r\npublic static void readAndDisplayDataColumn(String csvFilePath, int literalDataColumnToDisplay) throws IOException {\r\n    if (throws literalDataColumnToDisplay &lt; 1) {\r\n         System.err.println(&quot;readAndDisplayDataColumn() method Error! &quot; + \r\n                    &quot;Invalid column number (&quot; + literalDataColumnToDisplay + \r\n                    &quot;) supplied!&quot;);\r\n        return;\r\n    }\r\n\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(csvFilePath))) {\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            String[] columnData = line.split(&quot;\\\\s*,\\\\s*);\r\n            System.out.println(columnData[literalDataColumnToDisplay - 1]);\r\n        }\r\n    }\r\n}\r\n```\r\nWill display column 3 of each data line in file.\r\n\r\nYou will of notice that 1 is subtracted from literalDataColumnToDisplay. This is because Arrays have the first element (column so to speak in this case) at index 0 and desiredLiteralColumnNumber holds a literal value of 3. For example, if we want column 1 data, literalDataColumnToDisplay would contain value of **1**, to get the actual first element from the array we need to subtract 1 to get an index value of 0.\r\n\r\nThis should get you started.\r\n\r\n**EDIT: Based on comment:** \r\n\r\nAs you already know the [StockFileReader#readFileData()](https://github.com/Manish-Giri/Java-JRP/blob/master/src/practicaljava/generics/lesson9/fileprocessors/StockFileReader.java) method returns a List Interface of String (`List&lt;String&gt;`) so, you will need to need to then iterate through the List to display the desired Column, for example:\r\n\r\n```\r\n// Assuming i is the column number.\r\n// Don&#39;t have a clue why this method returns a double because you supply no information whatsoever.\r\npublic double runAggregator(int i) throws IOException {    \r\n    StockFileReader stReader = new StockFileReader(file);\r\n\r\n    List&lt;String&gt; dataLines = stReader.readFileData();\r\n\r\n    for (String line : dataLines) {\r\n        String[] columnData = line.split(&quot;\\\\s*,\\\\s*);\r\n        System.out.println(columnData[i - 1]);\r\n    }\r\n\r\n    // whatever else you want to do in this method.\r\n}\r\n```\r\n\r\nPerhaps what you want to do is return all of a specific column in **double** data type as an **Array** rather than a single double. If this is the case then perhaps this is **a** way to go:\r\n\r\n```\r\npublic double[] runAggregator(int i) throws IOException {    \r\n    StockFileReader stReader = new StockFileReader(file);\r\n\r\n    List&lt;String&gt; dataLines = stReader.readFileData();\r\n    double[] columnArray = new double[dataLines.size()];\r\n\r\n    for (int i = 0; i &lt; dataLines.size(); i++) {\r\n        String[] columnData = dataLines.get(i).split(&quot;\\\\s*,\\\\s*);\r\n        columnArray[i] = Double.parseDouble(columnData[i - 1]);\r\n    }\r\n\r\n    return columnArray;\r\n}\r\n```\r\n\r\nTo use and display the returned result:\r\n\r\n```\r\nint columnNumber = 3;\r\ntry {\r\n    double[] columnValues = runAggregator(int columnNmber);\r\n} catch(IOException ex) {\r\n    System.err.println(ex.getMessage());\r\n}\r\n\r\n// Display column data:\r\nSystem.out.println(&quot;Column &quot; + columnNumber + &quot; Data:\r\nfor (double d : columnValues) {\r\n    System.out.println(d);\r\n}\r\n```","title":"How can I assign each column from a csv file to an int number?","body":"<p>Each data line of the CSV file is most likely comma (,) delimited so when you read in each line, split it then display the column you want, for example:</p>\n<pre><code>public static void readAndDisplayDataColumn(String csvFilePath, int literalDataColumnToDisplay) throws IOException {\n    if (throws literalDataColumnToDisplay &lt; 1) {\n         System.err.println(&quot;readAndDisplayDataColumn() method Error! &quot; + \n                    &quot;Invalid column number (&quot; + literalDataColumnToDisplay + \n                    &quot;) supplied!&quot;);\n        return;\n    }\n\n    try (BufferedReader reader = new BufferedReader(new FileReader(csvFilePath))) {\n        String line;\n        while ((line = reader.readLine()) != null) {\n            String[] columnData = line.split(&quot;\\\\s*,\\\\s*);\n            System.out.println(columnData[literalDataColumnToDisplay - 1]);\n        }\n    }\n}\n</code></pre>\n<p>Will display column 3 of each data line in file.</p>\n<p>You will of notice that 1 is subtracted from literalDataColumnToDisplay. This is because Arrays have the first element (column so to speak in this case) at index 0 and desiredLiteralColumnNumber holds a literal value of 3. For example, if we want column 1 data, literalDataColumnToDisplay would contain value of <strong>1</strong>, to get the actual first element from the array we need to subtract 1 to get an index value of 0.</p>\n<p>This should get you started.</p>\n<p><strong>EDIT: Based on comment:</strong></p>\n<p>As you already know the <a href=\"https://github.com/Manish-Giri/Java-JRP/blob/master/src/practicaljava/generics/lesson9/fileprocessors/StockFileReader.java\" rel=\"nofollow noreferrer\">StockFileReader#readFileData()</a> method returns a List Interface of String (<code>List&lt;String&gt;</code>) so, you will need to need to then iterate through the List to display the desired Column, for example:</p>\n<pre><code>// Assuming i is the column number.\n// Don't have a clue why this method returns a double because you supply no information whatsoever.\npublic double runAggregator(int i) throws IOException {    \n    StockFileReader stReader = new StockFileReader(file);\n\n    List&lt;String&gt; dataLines = stReader.readFileData();\n\n    for (String line : dataLines) {\n        String[] columnData = line.split(&quot;\\\\s*,\\\\s*);\n        System.out.println(columnData[i - 1]);\n    }\n\n    // whatever else you want to do in this method.\n}\n</code></pre>\n<p>Perhaps what you want to do is return all of a specific column in <strong>double</strong> data type as an <strong>Array</strong> rather than a single double. If this is the case then perhaps this is <strong>a</strong> way to go:</p>\n<pre><code>public double[] runAggregator(int i) throws IOException {    \n    StockFileReader stReader = new StockFileReader(file);\n\n    List&lt;String&gt; dataLines = stReader.readFileData();\n    double[] columnArray = new double[dataLines.size()];\n\n    for (int i = 0; i &lt; dataLines.size(); i++) {\n        String[] columnData = dataLines.get(i).split(&quot;\\\\s*,\\\\s*);\n        columnArray[i] = Double.parseDouble(columnData[i - 1]);\n    }\n\n    return columnArray;\n}\n</code></pre>\n<p>To use and display the returned result:</p>\n<pre><code>int columnNumber = 3;\ntry {\n    double[] columnValues = runAggregator(int columnNmber);\n} catch(IOException ex) {\n    System.err.println(ex.getMessage());\n}\n\n// Display column data:\nSystem.out.println(&quot;Column &quot; + columnNumber + &quot; Data:\nfor (double d : columnValues) {\n    System.out.println(d);\n}\n</code></pre>\n"}],"owner":{"account_id":25822621,"reputation":3,"user_id":19561435,"display_name":"Amo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73003893,"answer_count":1,"score":-1,"last_activity_date":1657977148,"creation_date":1657969598,"question_id":73003653,"body_markdown":"Newbie here!\r\n\r\nI have learnt how to read a csv file and display in into the console, but this time I need to assign each column of the csv file into an int number and return the method so that when I type number (1) for example, the first column of this file will be displayed to the screen.\r\n\r\n     public double runAggregator(int i) throws IOException {    \r\n\r\n        StockFileReader stReader = new StockFileReader (file);\r\n       \r\n        List&lt;String&gt; Column = st.readFileData();\r\n\r\n","title":"How can I assign each column from a csv file to an int number?","body":"<p>Newbie here!</p>\n<p>I have learnt how to read a csv file and display in into the console, but this time I need to assign each column of the csv file into an int number and return the method so that when I type number (1) for example, the first column of this file will be displayed to the screen.</p>\n<pre><code> public double runAggregator(int i) throws IOException {    \n\n    StockFileReader stReader = new StockFileReader (file);\n   \n    List&lt;String&gt; Column = st.readFileData();\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1567115685,"post_id":57718129,"comment_id":101877906,"body_markdown":"Do you get to see the tests that you failed? What about when `X = 10`, `Y = 20`, and `D=10`? What does your algorithm return?","body":"Do you get to see the tests that you failed? What about when <code>X = 10</code>, <code>Y = 20</code>, and <code>D=10</code>? What does your algorithm return?"}],"answers":[{"tags":[],"owner":{"account_id":1249294,"reputation":32209,"user_id":1210053,"accept_rate":93,"display_name":"Nico Schertler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1567117982,"creation_date":1567117982,"answer_id":57718441,"question_id":57718129,"body_markdown":"You are using the condition\r\n\r\n    while(X &lt;= Y)\r\nto make a new jump. However, in the case where `X == Y`, you have already reached your goal and don&#39;t want to jump further. Hence, update to\r\n\r\n    while(X &lt; Y) //as long as we have not reached the goal","title":"How to fix &#39;Codility FrogJump&#39; Algorithm?","body":"<p>You are using the condition</p>\n\n<pre><code>while(X &lt;= Y)\n</code></pre>\n\n<p>to make a new jump. However, in the case where <code>X == Y</code>, you have already reached your goal and don't want to jump further. Hence, update to</p>\n\n<pre><code>while(X &lt; Y) //as long as we have not reached the goal\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10443627,"reputation":918,"user_id":7699428,"display_name":"N. Djokic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567119094,"creation_date":1567119094,"answer_id":57718562,"question_id":57718129,"body_markdown":"Here is my solution. You have distance which is calculated as Y-X. So you just need to divide and check divisibility:\r\n\r\n        function solution(X,Y,D) {\r\n        \r\n        var distance = Y-X;\r\n        var steps = distance/D;\r\n        /* If steps number is rounded integer just return steps */\r\n        if((steps*D) == distance &amp;&amp; Number.isInteger(steps)) {\r\n          return steps;\r\n        } else {\r\n    /* if there is rest of division then just round it (to floor) and increase steps number for one */\r\n          return Math.floor(steps)+1;\r\n        }\r\n        \r\n        }\r\n        \r\n        console.log(solution(10,85,30)); /* 3 */\r\n\r\nThat is solution in JavaScript and complexity is basically O(1).","title":"How to fix &#39;Codility FrogJump&#39; Algorithm?","body":"<p>Here is my solution. You have distance which is calculated as Y-X. So you just need to divide and check divisibility:</p>\n\n<pre><code>    function solution(X,Y,D) {\n\n    var distance = Y-X;\n    var steps = distance/D;\n    /* If steps number is rounded integer just return steps */\n    if((steps*D) == distance &amp;&amp; Number.isInteger(steps)) {\n      return steps;\n    } else {\n/* if there is rest of division then just round it (to floor) and increase steps number for one */\n      return Math.floor(steps)+1;\n    }\n\n    }\n\n    console.log(solution(10,85,30)); /* 3 */\n</code></pre>\n\n<p>That is solution in JavaScript and complexity is basically O(1).</p>\n"},{"tags":[],"owner":{"account_id":16611223,"reputation":31,"user_id":12004188,"display_name":"Abhishek5525"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567283253,"creation_date":1567283253,"answer_id":57741392,"question_id":57718129,"body_markdown":"why use any loops here, loops are a costly affair. Just one line answer\r\n\r\n    function solution(X,Y,D) {\r\n        return Math.ceil((Y-X)/D);\r\n    }","title":"How to fix &#39;Codility FrogJump&#39; Algorithm?","body":"<p>why use any loops here, loops are a costly affair. Just one line answer</p>\n\n<pre><code>function solution(X,Y,D) {\n    return Math.ceil((Y-X)/D);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19943909,"reputation":45,"user_id":14615061,"display_name":"Kishan Suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640796167,"creation_date":1640796167,"answer_id":70522382,"question_id":57718129,"body_markdown":"Here is a rudimentary solution I just thought of posting\r\n\r\n        def solution(X, Y, D):\r\n            distance = Y-X\r\n            if distance % D == 0:\r\n                return distance // D\r\n            elif distance == 0:\r\n                return 0\r\n            else:\r\n                return (distance // D) + 1\r\n            pass\r\n\r\n\r\nThis will give 100% in correctness and performance. `//` this is for getting quoient","title":"How to fix &#39;Codility FrogJump&#39; Algorithm?","body":"<p>Here is a rudimentary solution I just thought of posting</p>\n<pre><code>    def solution(X, Y, D):\n        distance = Y-X\n        if distance % D == 0:\n            return distance // D\n        elif distance == 0:\n            return 0\n        else:\n            return (distance // D) + 1\n        pass\n</code></pre>\n<p>This will give 100% in correctness and performance. <code>//</code> this is for getting quoient</p>\n"},{"tags":[],"owner":{"account_id":7066006,"reputation":1,"user_id":5409305,"display_name":"Amit Dhawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657976346,"creation_date":1657976346,"answer_id":73004426,"question_id":57718129,"body_markdown":"My solution with 100% codility acceptance result:\r\n\r\n````\r\n   double d = Y - X;\r\n        Double dd = new Double(D);\r\n        double result = d / dd;\r\n        result = Math.ceil(result);\r\n        \r\n        Double ans = new Double(result);\r\n      \r\n        return ans.intValue();\r\n\r\n````\r\n","title":"How to fix &#39;Codility FrogJump&#39; Algorithm?","body":"<p>My solution with 100% codility acceptance result:</p>\n<pre><code>   double d = Y - X;\n        Double dd = new Double(D);\n        double result = d / dd;\n        result = Math.ceil(result);\n        \n        Double ans = new Double(result);\n      \n        return ans.intValue();\n\n</code></pre>\n"}],"owner":{"account_id":16526710,"reputation":159,"user_id":11941232,"display_name":"Gamoxion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4319,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57718441,"answer_count":5,"score":4,"last_activity_date":1657976346,"creation_date":1567115583,"question_id":57718129,"body_markdown":"On Codility there&#39;s this problem of counting the minimal number of jumps a frog has to make to reach Y position.\r\n\r\nThe problem reads as follow:\r\n\r\n    A small frog wants to get to the other side of the road. The frog is currently located at position X and wants to get to a position greater than or equal to Y. The small frog always jumps a fixed distance, D.\r\n    \r\n    Count the minimal number of jumps that the small frog must perform to reach its target.\r\n    \r\n    given three integers X, Y and D, returns the minimal number of jumps from position X to a position equal to or greater than Y.\r\n    \r\n    For example, given:\r\n    \r\n      X = 10\r\n      Y = 85\r\n      D = 30\r\n    the function should return 3, because the frog will be positioned as follows:\r\n    \r\n    after the first jump, at position 10 + 30 = 40\r\n    after the second jump, at position 10 + 30 + 30 = 70\r\n    after the third jump, at position 10 + 30 + 30 + 30 = 100\r\n\r\nI have &quot;solved&quot; the problem and gotten &quot;3&quot; as result, just like in the example. However when I submit my code, I only get 11% and fail every test aside from the example.\r\n\r\nThis is my code\r\n\r\n    int count = 0;\r\n    \r\n    while(X &lt;= Y){\r\n    X += D;\r\n    count++;\r\n    }       \r\n    \r\n    return count;\r\n    \r\n\r\nOn my code I basically count the jumps needed to reach Y, which is the position the frog wants to get to. I&#39;m not properly understanding the problem? If so, what I am missing?","title":"How to fix &#39;Codility FrogJump&#39; Algorithm?","body":"<p>On Codility there's this problem of counting the minimal number of jumps a frog has to make to reach Y position.</p>\n\n<p>The problem reads as follow:</p>\n\n<pre><code>A small frog wants to get to the other side of the road. The frog is currently located at position X and wants to get to a position greater than or equal to Y. The small frog always jumps a fixed distance, D.\n\nCount the minimal number of jumps that the small frog must perform to reach its target.\n\ngiven three integers X, Y and D, returns the minimal number of jumps from position X to a position equal to or greater than Y.\n\nFor example, given:\n\n  X = 10\n  Y = 85\n  D = 30\nthe function should return 3, because the frog will be positioned as follows:\n\nafter the first jump, at position 10 + 30 = 40\nafter the second jump, at position 10 + 30 + 30 = 70\nafter the third jump, at position 10 + 30 + 30 + 30 = 100\n</code></pre>\n\n<p>I have \"solved\" the problem and gotten \"3\" as result, just like in the example. However when I submit my code, I only get 11% and fail every test aside from the example.</p>\n\n<p>This is my code</p>\n\n<pre><code>int count = 0;\n\nwhile(X &lt;= Y){\nX += D;\ncount++;\n}       \n\nreturn count;\n</code></pre>\n\n<p>On my code I basically count the jumps needed to reach Y, which is the position the frog wants to get to. I'm not properly understanding the problem? If so, what I am missing?</p>\n"},{"tags":["java","algorithm","infinite-loop"],"comments":[{"owner":{"account_id":14027487,"reputation":53,"user_id":10132168,"display_name":"Alger"},"score":0,"creation_date":1657976121,"post_id":73004139,"comment_id":128940149,"body_markdown":"@user16320675\nyes, that is my exact question, how should I create my recursive to send messages with basic inputs?","body":"@user16320675 yes, that is my exact question, how should I create my recursive to send messages with basic inputs?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1657976351,"post_id":73004139,"comment_id":128940200,"body_markdown":"use return value of method instead of Exception (otherwise you can use `try`-`catch` but that is *ugly* - Exceptions should NOT be used for control flow or similar)","body":"use return value of method instead of Exception (otherwise you can use <code>try</code>-<code>catch</code> but that is <i>ugly</i> - Exceptions should NOT be used for control flow or similar)"},{"owner":{"account_id":14027487,"reputation":53,"user_id":10132168,"display_name":"Alger"},"score":0,"creation_date":1657977476,"post_id":73004139,"comment_id":128940459,"body_markdown":"@user16320675 this is a good idea, to create two functions and return the value of the recursive function.","body":"@user16320675 this is a good idea, to create two functions and return the value of the recursive function."}],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1657974864,"creation_date":1657974864,"answer_id":73004249,"question_id":73004139,"body_markdown":"&gt; My main question is about how to provide right message in the Exception.\r\n\r\nI&#39;m still wondering why that&#39;s not the question title itself.\r\n\r\nSince this question is likely opinion-based... I&#39;ll give my shot?\r\n\r\nYour code at:\r\n\r\n```java\r\nthrow new Exception(&quot;&quot;);\r\n```\r\n\r\nWill throw an `Exception` like this:\r\n\r\n```java\r\njava.lang.Exception: At ...\r\n```\r\n\r\nSo it will be even better if you just tell it what you want it to show in the first place:\r\n\r\n```java\r\nthrow new Exception(A.parent+&quot; is the parent of &quot;+B.child);\r\n//This throws:\r\njava.lang.Exception: A is the parent of C: At ...\r\n```\r\n\r\nWhich results in:\r\n\r\n```java\r\nprivate static void restrict_ParentChild_Loop(Object A, Object B) throws Exception {\r\n    if (A.parent == null)\r\n        return;\r\n    if (A.parent.equals(B)) {\r\n        throw new Exception(A.parent+&quot; is the parent of &quot;+B.child);\r\n    } else {\r\n        restrict_ParentChild_Loop(A.parent, B);\r\n    }\r\n}\r\n```","title":"check parent-child loop function","body":"<blockquote>\n<p>My main question is about how to provide right message in the Exception.</p>\n</blockquote>\n<p>I'm still wondering why that's not the question title itself.</p>\n<p>Since this question is likely opinion-based... I'll give my shot?</p>\n<p>Your code at:</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new Exception(&quot;&quot;);\n</code></pre>\n<p>Will throw an <code>Exception</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.Exception: At ...\n</code></pre>\n<p>So it will be even better if you just tell it what you want it to show in the first place:</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new Exception(A.parent+&quot; is the parent of &quot;+B.child);\n//This throws:\njava.lang.Exception: A is the parent of C: At ...\n</code></pre>\n<p>Which results in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void restrict_ParentChild_Loop(Object A, Object B) throws Exception {\n    if (A.parent == null)\n        return;\n    if (A.parent.equals(B)) {\n        throw new Exception(A.parent+&quot; is the parent of &quot;+B.child);\n    } else {\n        restrict_ParentChild_Loop(A.parent, B);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14027487,"reputation":53,"user_id":10132168,"display_name":"Alger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1658161458,"accepted_answer_id":73004249,"answer_count":1,"score":-3,"last_activity_date":1657976059,"creation_date":1657973911,"question_id":73004139,"body_markdown":"I&#39;m trying to create a function that can recognize the parent-child loop.&lt;br&gt;\r\nImagin\r\n\r\n&gt; Object A is a parent of Object B&lt;br&gt;\r\n&gt; Object B is a parent of Object C&lt;br&gt;\r\n\r\ncreate a function that can prevent the parent-child loop. the function should give at least two parameters (childName, parentName) and get errors if the relationship creates a loop. in the above example if we pass (A, C)&lt;C is a parent of Object B&gt; should print or pass string:\r\n\r\n&gt; &quot;A is the parent of C&quot;\r\n\r\nI know how to create this function(you can provide answer with any language):\r\n\r\n    private static void restrict_ParentChild_Loop(Object A, Object B) throws Exception {\r\n        if (A.parent == null)\r\n            return;\r\n        if (A.parent.equals(B)) {\r\n            throw new Exception(&quot;&quot;);\r\n        } else {\r\n            restrict_ParentChild_Loop(A.parent, B);\r\n        }\r\n    }\r\n    \r\nMy main question is about how to provide the right message in the Exception. (&quot;A is the parent of C&quot;)","title":"check parent-child loop function","body":"<p>I'm trying to create a function that can recognize the parent-child loop.<br>\nImagin</p>\n<blockquote>\n<p>Object A is a parent of Object B<br>\nObject B is a parent of Object C<br></p>\n</blockquote>\n<p>create a function that can prevent the parent-child loop. the function should give at least two parameters (childName, parentName) and get errors if the relationship creates a loop. in the above example if we pass (A, C) should print or pass string:</p>\n<blockquote>\n<p>&quot;A is the parent of C&quot;</p>\n</blockquote>\n<p>I know how to create this function(you can provide answer with any language):</p>\n<pre><code>private static void restrict_ParentChild_Loop(Object A, Object B) throws Exception {\n    if (A.parent == null)\n        return;\n    if (A.parent.equals(B)) {\n        throw new Exception(&quot;&quot;);\n    } else {\n        restrict_ParentChild_Loop(A.parent, B);\n    }\n}\n</code></pre>\n<p>My main question is about how to provide the right message in the Exception. (&quot;A is the parent of C&quot;)</p>\n"},{"tags":["python","java","centos7","py4j"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1656388742,"post_id":72780576,"comment_id":128553492,"body_markdown":"So is your java server running? Of course you can not connect to it if it is not running.  If you think that it is running, try to telnet to `127.0.0.1:25333`","body":"So is your java server running? Of course you can not connect to it if it is not running.  If you think that it is running, try to telnet to <code>127.0.0.1:25333</code>"},{"owner":{"account_id":2287630,"reputation":4619,"user_id":2011284,"accept_rate":61,"display_name":"CIRCLE"},"score":0,"creation_date":1656389713,"post_id":72780576,"comment_id":128553633,"body_markdown":"@ScaryWombat It’s py4j who’s responsible for starting the server. Running telnet on 25333 doesn’t return anything","body":"@ScaryWombat It’s py4j who’s responsible for starting the server. Running telnet on 25333 doesn’t return anything"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1656389990,"post_id":72780576,"comment_id":128553681,"body_markdown":"so why does it say *py4j.protocol.Py4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:25333)* ?  Anyway make sure that selinux is OK?","body":"so why does it say <i>py4j.protocol.Py4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:25333)</i> ?  Anyway make sure that selinux is OK?"},{"owner":{"account_id":2287630,"reputation":4619,"user_id":2011284,"accept_rate":61,"display_name":"CIRCLE"},"score":0,"creation_date":1656449233,"post_id":72780576,"comment_id":128574235,"body_markdown":"@ScaryWombat running `sestatus` says my SELinux is disabled. What do you mean by OK? Should it be enabled? If so, why?","body":"@ScaryWombat running <code>sestatus</code> says my SELinux is disabled. What do you mean by OK? Should it be enabled? If so, why?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1656459919,"post_id":72780576,"comment_id":128576538,"body_markdown":"well if selinux is disabled then it will not be affecting it, so it should be OK. My opinion is that your java gateway server should be running before python, but that is the limit of my knowledge.","body":"well if selinux is disabled then it will not be affecting it, so it should be OK. My opinion is that your java gateway server should be running before python, but that is the limit of my knowledge."}],"answers":[{"tags":[],"owner":{"account_id":2287630,"reputation":4619,"user_id":2011284,"accept_rate":61,"display_name":"CIRCLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657975883,"creation_date":1657975883,"answer_id":73004375,"question_id":72780576,"body_markdown":"This problem was happening because the Java 17 version is incompatible with the implementation of Py4j in the project PyBoof.  \r\nSee this [issue](https://github.com/lessthanoptimal/PyBoof/issues/14) for more information.  \r\n\r\nInstalling Java 15 fixed the issue.","title":"Unable to start Java Gateway Server on Centos 7","body":"<p>This problem was happening because the Java 17 version is incompatible with the implementation of Py4j in the project PyBoof.<br />\nSee this <a href=\"https://github.com/lessthanoptimal/PyBoof/issues/14\" rel=\"nofollow noreferrer\">issue</a> for more information.</p>\n<p>Installing Java 15 fixed the issue.</p>\n"}],"owner":{"account_id":2287630,"reputation":4619,"user_id":2011284,"accept_rate":61,"display_name":"CIRCLE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73004375,"answer_count":1,"score":0,"last_activity_date":1657975883,"creation_date":1656388457,"question_id":72780576,"body_markdown":"I&#39;m using a library called [PyBoof](https://github.com/lessthanoptimal/PyBoof) that makes use of py4j.\r\n\r\nI&#39;m trying to install it on a Centos 7 server but I&#39;m getting an error when starting the Gateway Server.\r\nI know there&#39;re a lot of issues created for the same problem, but none of the solutions worked for me.\r\n\r\nReproducible code and the error I&#39;m receiving is the following:\r\n```python\r\nfrom py4j.java_gateway import JavaGateway\r\ngateway = JavaGateway()\r\ngateway.start()\r\n```\r\n```bash\r\nTraceback (most recent call last):\r\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 982, in _get_connection\r\n    connection = self.deque.pop()\r\nIndexError: pop from an empty deque\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1132, in start\r\n    self.socket.connect((self.address, self.port))\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;/root/project/py4j_java_gateway.py&quot;, line 3, in &lt;module&gt;\r\n    gateway.start()\r\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1320, in __call__\r\n    answer = self.gateway_client.send_command(command)\r\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1036, in send_command\r\n    connection = self._get_connection()\r\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 984, in _get_connection\r\n    connection = self._create_connection()\r\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 990, in _create_connection\r\n    connection.start()\r\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1144, in start\r\n    raise Py4JNetworkError(msg, e)\r\npy4j.protocol.Py4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:25333)\r\n```\r\n\r\nBelow are the software versions I&#39;m running:\r\n```bash\r\n$ cat /etc/redhat-release\r\nCentOS Linux release 7.9.2009 (Core)\r\n\r\n$ python --version\r\nPython 3.9.13\r\n\r\n$ pip show py4j\r\nName: py4j\r\nVersion: 0.10.9.5\r\nSummary: Enables Python programs to dynamically access arbitrary Java objects\r\nHome-page: https://www.py4j.org/\r\nAuthor: Barthelemy Dagenais\r\nAuthor-email: barthelemy@infobart.com\r\nLicense: BSD License\r\nLocation: /root/clab-services-api/venv/lib/python3.9/site-packages\r\nRequires:\r\nRequired-by: PyBoof\r\n\r\n$ java -version\r\njava version &quot;17.0.3.1&quot; 2022-04-22 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)\r\n```\r\n\r\nI don&#39;t know if it helps, but I&#39;ve tried to build py4j jar, and there were additional errors when running the build tests:\r\n```bash\r\n$ /opt/apache-maven-3.8.6/bin/mvn install -X\r\n\r\n...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  12.907 s\r\n[INFO] Finished at: 2022-06-28T04:34:53+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project py4j: There are test failures.\r\n[ERROR]\r\n[ERROR] Please refer to /root/py4j/py4j-java/target/surefire-reports for the individual test results.\r\n[ERROR] -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project py4j: There are test failures.\r\n\r\nPlease refer to /root/py4j/py4j-java/target/surefire-reports for the individual test results.\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoFailureException: There are test failures.\r\n\r\nPlease refer to /root/py4j/py4j-java/target/surefire-reports for the individual test results.\r\n    at org.apache.maven.plugin.surefire.SurefireHelper.reportExecution (SurefireHelper.java:83)\r\n    at org.apache.maven.plugin.surefire.SurefirePlugin.writeSummary (SurefirePlugin.java:176)\r\n    at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary (SurefirePlugin.java:150)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:650)\r\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:586)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR]\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\n\r\nI&#39;ve also tried to start the Gateway Server throw Java from this [answer](https://stackoverflow.com/a/35674625/2011284), but  my Java knowledge is limited and I was unable to compile a jar for it.\r\n```java\r\nimport py4j.GatewayServer;\r\n\r\npublic class myTest {\r\n\r\n    public static void main(String[] args) {\r\n        myTest app = new myTest();\r\n        // app is now the gateway.entry_point\r\n        GatewayServer server = new GatewayServer(app);\r\n        server.start();\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve also tried installing the package py4j-java but was unable to run py4j.jar:\r\n```bash\r\n$ yum -y install py4j-java\r\n\r\n$ java -jar /usr/share/java/py4j/py4j.jar\r\nno main manifest attribute, in /usr/share/java/py4j/py4j.jar\r\n```","title":"Unable to start Java Gateway Server on Centos 7","body":"<p>I'm using a library called <a href=\"https://github.com/lessthanoptimal/PyBoof\" rel=\"nofollow noreferrer\">PyBoof</a> that makes use of py4j.</p>\n<p>I'm trying to install it on a Centos 7 server but I'm getting an error when starting the Gateway Server.\nI know there're a lot of issues created for the same problem, but none of the solutions worked for me.</p>\n<p>Reproducible code and the error I'm receiving is the following:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from py4j.java_gateway import JavaGateway\ngateway = JavaGateway()\ngateway.start()\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>Traceback (most recent call last):\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 982, in _get_connection\n    connection = self.deque.pop()\nIndexError: pop from an empty deque\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1132, in start\n    self.socket.connect((self.address, self.port))\nConnectionRefusedError: [Errno 111] Connection refused\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;/root/project/py4j_java_gateway.py&quot;, line 3, in &lt;module&gt;\n    gateway.start()\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1320, in __call__\n    answer = self.gateway_client.send_command(command)\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1036, in send_command\n    connection = self._get_connection()\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 984, in _get_connection\n    connection = self._create_connection()\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 990, in _create_connection\n    connection.start()\n  File &quot;/root/project/venv/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1144, in start\n    raise Py4JNetworkError(msg, e)\npy4j.protocol.Py4JNetworkError: An error occurred while trying to connect to the Java server (127.0.0.1:25333)\n</code></pre>\n<p>Below are the software versions I'm running:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ cat /etc/redhat-release\nCentOS Linux release 7.9.2009 (Core)\n\n$ python --version\nPython 3.9.13\n\n$ pip show py4j\nName: py4j\nVersion: 0.10.9.5\nSummary: Enables Python programs to dynamically access arbitrary Java objects\nHome-page: https://www.py4j.org/\nAuthor: Barthelemy Dagenais\nAuthor-email: barthelemy@infobart.com\nLicense: BSD License\nLocation: /root/clab-services-api/venv/lib/python3.9/site-packages\nRequires:\nRequired-by: PyBoof\n\n$ java -version\njava version &quot;17.0.3.1&quot; 2022-04-22 LTS\nJava(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)\n</code></pre>\n<p>I don't know if it helps, but I've tried to build py4j jar, and there were additional errors when running the build tests:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ /opt/apache-maven-3.8.6/bin/mvn install -X\n\n...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  12.907 s\n[INFO] Finished at: 2022-06-28T04:34:53+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project py4j: There are test failures.\n[ERROR]\n[ERROR] Please refer to /root/py4j/py4j-java/target/surefire-reports for the individual test results.\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project py4j: There are test failures.\n\nPlease refer to /root/py4j/py4j-java/target/surefire-reports for the individual test results.\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoFailureException: There are test failures.\n\nPlease refer to /root/py4j/py4j-java/target/surefire-reports for the individual test results.\n    at org.apache.maven.plugin.surefire.SurefireHelper.reportExecution (SurefireHelper.java:83)\n    at org.apache.maven.plugin.surefire.SurefirePlugin.writeSummary (SurefirePlugin.java:176)\n    at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary (SurefirePlugin.java:150)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked (AbstractSurefireMojo.java:650)\n    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute (AbstractSurefireMojo.java:586)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>I've also tried to start the Gateway Server throw Java from this <a href=\"https://stackoverflow.com/a/35674625/2011284\">answer</a>, but  my Java knowledge is limited and I was unable to compile a jar for it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import py4j.GatewayServer;\n\npublic class myTest {\n\n    public static void main(String[] args) {\n        myTest app = new myTest();\n        // app is now the gateway.entry_point\n        GatewayServer server = new GatewayServer(app);\n        server.start();\n    }\n}\n</code></pre>\n<p>I've also tried installing the package py4j-java but was unable to run py4j.jar:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ yum -y install py4j-java\n\n$ java -jar /usr/share/java/py4j/py4j.jar\nno main manifest attribute, in /usr/share/java/py4j/py4j.jar\n</code></pre>\n"},{"tags":["java","android","java-native-interface","fresco"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1657976137,"post_id":73004355,"comment_id":128940158,"body_markdown":"&quot;How can I catch this error so my app won&#39;t crash?&quot; -- based on that stack trace, I suspect that you cannot catch this error. This feels like a Fresco bug.","body":"&quot;How can I catch this error so my app won&#39;t crash?&quot; -- based on that stack trace, I suspect that you cannot catch this error. This feels like a Fresco bug."}],"owner":{"account_id":9772337,"reputation":2264,"user_id":7243748,"accept_rate":45,"display_name":"stavros.3p"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657975722,"creation_date":1657975722,"question_id":73004355,"body_markdown":"When I try to load some specific images that are somehow distorted I get the below error and then my app crashes:\r\n\r\n    JNI DETECTED ERROR IN APPLICATION: JNI NewFloatArray called with pending exception java.lang.IllegalArgumentException: Parameter d must be in the range [0..1], was 10.35546875\r\n        java_vm_ext.cc:579]   at void android.graphics.ColorSpace$Rgb$TransferParameters.&lt;init&gt;(double, double, double, double, double, double, double) (ColorSpace.java:2195)\r\n        java_vm_ext.cc:579]   at android.graphics.Bitmap android.graphics.BitmapFactory.nativeDecodeStream(java.io.InputStream, byte[], android.graphics.Rect, android.graphics.BitmapFactory$Options, long, long) (BitmapFactory.java:-2)\r\n        java_vm_ext.cc:579]   at android.graphics.Bitmap android.graphics.BitmapFactory.decodeStreamInternal(java.io.InputStream, android.graphics.Rect, android.graphics.BitmapFactory$Options) (BitmapFactory.java:791)\r\n        java_vm_ext.cc:579]   at android.graphics.Bitmap android.graphics.BitmapFactory.decodeStream(java.io.InputStream, android.graphics.Rect, android.graphics.BitmapFactory$Options) (BitmapFactory.java:766)\r\n        java_vm_ext.cc:579]   at com.facebook.imageutils.ImageMetaData com.facebook.imageutils.BitmapUtil.decodeDimensionsAndColorSpace(java.io.InputStream) (BitmapUtil.java:144)\r\n        java_vm_ext.cc:579]   at com.facebook.imageutils.ImageMetaData com.facebook.imagepipeline.image.EncodedImage.readImageMetaData() (EncodedImage.java:391)\r\n        java_vm_ext.cc:579]   at void com.facebook.imagepipeline.image.EncodedImage.parseMetaData() (EncodedImage.java:356)\r\n        java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.NetworkFetchProducer.notifyConsumer(com.facebook.common.memory.PooledByteBufferOutputStream, int, com.facebook.imagepipeline.common.BytesRange, com.facebook.imagepipeline.producers.Consumer) (NetworkFetchProducer.java:178)\r\n        java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.NetworkFetchProducer.handleFinalResult(com.facebook.common.memory.PooledByteBufferOutputStream, com.facebook.imagepipeline.producers.FetchState) (NetworkFetchProducer.java:160)\r\n        java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.NetworkFetchProducer.onResponse(com.facebook.imagepipeline.producers.FetchState, java.io.InputStream, int) (NetworkFetchProducer.java:112)\r\n        java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.NetworkFetchProducer$1.onResponse(java.io.InputStream, int) (NetworkFetchProducer.java:73)\r\n        java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher.fetchSync(com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher$HttpUrlConnectionNetworkFetchState, com.facebook.imagepipeline.producers.NetworkFetcher$Callback) (HttpUrlConnectionNetworkFetcher.java:118)\r\n        java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher$1.run() (HttpUrlConnectionNetworkFetcher.java:94)\r\n        java_vm_ext.cc:579]   at java.lang.Object java.util.concurrent.Executors$RunnableAdapter.call() (Executors.java:462)\r\n        java_vm_ext.cc:579]   at void java.util.concurrent.FutureTask.run() (FutureTask.java:266)\r\n        java_vm_ext.cc:579]   at void java.util.concurrent.ThreadPoolExecutor.runWorker(java.util.concurrent.ThreadPoolExecutor$Worker) (ThreadPoolExecutor.java:1167)\r\n        java_vm_ext.cc:579]   at void java.util.concurrent.ThreadPoolExecutor$Worker.run() (ThreadPoolExecutor.java:641)\r\n        java_vm_ext.cc:579]   at void java.lang.Thread.run() (Thread.java:920)\r\n        java_vm_ext.cc:579] \r\n        java_vm_ext.cc:579]     in call to NewFloatArray\r\n        java_vm_ext.cc:579]     from android.graphics.Bitmap android.graphics.BitmapFactory.nativeDecodeStream(java.io.InputStream, byte[], android.graphics.Rect, android.graphics.BitmapFactory$Options, long, long)\r\n\r\nThis is how I try to load the image from URL:\r\n\r\n    public static void loadResizeImage(SimpleDraweeView imageView, String url,\r\n                                       int widthDP, int heightDP)\r\n    { \r\n        ImageRequest request = ImageRequestBuilder\r\n                .newBuilderWithSource(Uri.parse(url))\r\n                .setResizeOptions(new ResizeOptions(widthDP, heightDP))\r\n                .setLocalThumbnailPreviewsEnabled(false)\r\n                .build();\r\n        DraweeController controller = Fresco.newDraweeControllerBuilder()\r\n                .setImageRequest(request)\r\n                .setOldController(imageView.getController())\r\n                .build();\r\n\r\n        try\r\n        {\r\n            imageView.setController(controller);\r\n        }\r\n        catch (IllegalStateException e){\r\n            e.printStackTrace();\r\n        } \r\n    }\r\n\r\nThis is the image I try to load and it crashes: [image][1]\r\n  \r\n\r\n\r\n  [1]: https://www.kidseducation.fun/images/useruploads/4OEgiM7NizWGER9v7ttJdUQaUCl2zZhTd1G0mm9TRvizfI0W592J0jBc3c8qlVs4ShI5VnM3U8DCrC\r\n\r\nHow can I catch this error so my app won&#39;t crash?\r\n\r\nI read similar questions but I couldn&#39;t find any working solution.","title":"JNI DETECTED ERROR IN APPLICATION - crash while loading image from URL","body":"<p>When I try to load some specific images that are somehow distorted I get the below error and then my app crashes:</p>\n<pre><code>JNI DETECTED ERROR IN APPLICATION: JNI NewFloatArray called with pending exception java.lang.IllegalArgumentException: Parameter d must be in the range [0..1], was 10.35546875\n    java_vm_ext.cc:579]   at void android.graphics.ColorSpace$Rgb$TransferParameters.&lt;init&gt;(double, double, double, double, double, double, double) (ColorSpace.java:2195)\n    java_vm_ext.cc:579]   at android.graphics.Bitmap android.graphics.BitmapFactory.nativeDecodeStream(java.io.InputStream, byte[], android.graphics.Rect, android.graphics.BitmapFactory$Options, long, long) (BitmapFactory.java:-2)\n    java_vm_ext.cc:579]   at android.graphics.Bitmap android.graphics.BitmapFactory.decodeStreamInternal(java.io.InputStream, android.graphics.Rect, android.graphics.BitmapFactory$Options) (BitmapFactory.java:791)\n    java_vm_ext.cc:579]   at android.graphics.Bitmap android.graphics.BitmapFactory.decodeStream(java.io.InputStream, android.graphics.Rect, android.graphics.BitmapFactory$Options) (BitmapFactory.java:766)\n    java_vm_ext.cc:579]   at com.facebook.imageutils.ImageMetaData com.facebook.imageutils.BitmapUtil.decodeDimensionsAndColorSpace(java.io.InputStream) (BitmapUtil.java:144)\n    java_vm_ext.cc:579]   at com.facebook.imageutils.ImageMetaData com.facebook.imagepipeline.image.EncodedImage.readImageMetaData() (EncodedImage.java:391)\n    java_vm_ext.cc:579]   at void com.facebook.imagepipeline.image.EncodedImage.parseMetaData() (EncodedImage.java:356)\n    java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.NetworkFetchProducer.notifyConsumer(com.facebook.common.memory.PooledByteBufferOutputStream, int, com.facebook.imagepipeline.common.BytesRange, com.facebook.imagepipeline.producers.Consumer) (NetworkFetchProducer.java:178)\n    java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.NetworkFetchProducer.handleFinalResult(com.facebook.common.memory.PooledByteBufferOutputStream, com.facebook.imagepipeline.producers.FetchState) (NetworkFetchProducer.java:160)\n    java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.NetworkFetchProducer.onResponse(com.facebook.imagepipeline.producers.FetchState, java.io.InputStream, int) (NetworkFetchProducer.java:112)\n    java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.NetworkFetchProducer$1.onResponse(java.io.InputStream, int) (NetworkFetchProducer.java:73)\n    java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher.fetchSync(com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher$HttpUrlConnectionNetworkFetchState, com.facebook.imagepipeline.producers.NetworkFetcher$Callback) (HttpUrlConnectionNetworkFetcher.java:118)\n    java_vm_ext.cc:579]   at void com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher$1.run() (HttpUrlConnectionNetworkFetcher.java:94)\n    java_vm_ext.cc:579]   at java.lang.Object java.util.concurrent.Executors$RunnableAdapter.call() (Executors.java:462)\n    java_vm_ext.cc:579]   at void java.util.concurrent.FutureTask.run() (FutureTask.java:266)\n    java_vm_ext.cc:579]   at void java.util.concurrent.ThreadPoolExecutor.runWorker(java.util.concurrent.ThreadPoolExecutor$Worker) (ThreadPoolExecutor.java:1167)\n    java_vm_ext.cc:579]   at void java.util.concurrent.ThreadPoolExecutor$Worker.run() (ThreadPoolExecutor.java:641)\n    java_vm_ext.cc:579]   at void java.lang.Thread.run() (Thread.java:920)\n    java_vm_ext.cc:579] \n    java_vm_ext.cc:579]     in call to NewFloatArray\n    java_vm_ext.cc:579]     from android.graphics.Bitmap android.graphics.BitmapFactory.nativeDecodeStream(java.io.InputStream, byte[], android.graphics.Rect, android.graphics.BitmapFactory$Options, long, long)\n</code></pre>\n<p>This is how I try to load the image from URL:</p>\n<pre><code>public static void loadResizeImage(SimpleDraweeView imageView, String url,\n                                   int widthDP, int heightDP)\n{ \n    ImageRequest request = ImageRequestBuilder\n            .newBuilderWithSource(Uri.parse(url))\n            .setResizeOptions(new ResizeOptions(widthDP, heightDP))\n            .setLocalThumbnailPreviewsEnabled(false)\n            .build();\n    DraweeController controller = Fresco.newDraweeControllerBuilder()\n            .setImageRequest(request)\n            .setOldController(imageView.getController())\n            .build();\n\n    try\n    {\n        imageView.setController(controller);\n    }\n    catch (IllegalStateException e){\n        e.printStackTrace();\n    } \n}\n</code></pre>\n<p>This is the image I try to load and it crashes: <a href=\"https://www.kidseducation.fun/images/useruploads/4OEgiM7NizWGER9v7ttJdUQaUCl2zZhTd1G0mm9TRvizfI0W592J0jBc3c8qlVs4ShI5VnM3U8DCrC\" rel=\"nofollow noreferrer\">image</a></p>\n<p>How can I catch this error so my app won't crash?</p>\n<p>I read similar questions but I couldn't find any working solution.</p>\n"},{"tags":["java","json","jackson","key","pojo"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1452258635,"post_id":34677874,"comment_id":57100795,"body_markdown":"You can write a regex to find all the words which end with a : and convert these to uppercase, but to do this properly you should use a JSON parser though this would change the format.","body":"You can write a regex to find all the words which end with a : and convert these to uppercase, but to do this properly you should use a JSON parser though this would change the format."},{"owner":{"account_id":5082789,"reputation":25,"user_id":4078362,"accept_rate":25,"display_name":"Palak"},"score":0,"creation_date":1452258763,"post_id":34677874,"comment_id":57100884,"body_markdown":"@Peter Lawrey is there any other way? like using JsonNode or ObjectNode? or any such nodes available in JSON/JACKSON lib.","body":"@Peter Lawrey is there any other way? like using JsonNode or ObjectNode? or any such nodes available in JSON/JACKSON lib."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1452269110,"post_id":34677874,"comment_id":57108024,"body_markdown":"If you are using a parser already I would would use that.","body":"If you are using a parser already I would would use that."}],"answers":[{"tags":[],"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452261011,"creation_date":1452261011,"answer_id":34678642,"question_id":34677874,"body_markdown":"You can use a custom PropertyNamingStrategy:\r\n\r\n    public class UpperCaseStrategy extends PropertyNamingStrategyBase {\r\n    \r\n        @Override\r\n        public String translate(String propertyName) {\r\n    \r\n            return propertyName.toUpperCase();\r\n        }\r\n    \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.setPropertyNamingStrategy(new CustomNamingStrategy());\r\n\r\n\r\nSee [here][1] for reference. \r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonFeaturePropertyNamingStrategy\r\n\r\nAs a note a lower case strategy is implemented in `com.fasterxml.jackson.databind.PropertyNamingStrategy` as follows:\r\n\r\n    /**\r\n     * Simple strategy where external name simply only uses lower-case characters,\r\n     * and no separators.\r\n     * Conversion from internal name like &quot;someOtherValue&quot; would be into external name\r\n     * if &quot;someothervalue&quot;.\r\n     * \r\n     * @since 2.4\r\n     */\r\n    public static class LowerCaseStrategy extends PropertyNamingStrategyBase\r\n    {\r\n        @Override\r\n        public String translate(String input) {\r\n            return input.toLowerCase();\r\n        }\r\n    }","title":"How to convert all keys in JSON response to uppercase? (JAVA)","body":"<p>You can use a custom PropertyNamingStrategy:</p>\n\n<pre><code>public class UpperCaseStrategy extends PropertyNamingStrategyBase {\n\n    @Override\n    public String translate(String propertyName) {\n\n        return propertyName.toUpperCase();\n    }\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.setPropertyNamingStrategy(new CustomNamingStrategy());\n</code></pre>\n\n<p>See <a href=\"http://wiki.fasterxml.com/JacksonFeaturePropertyNamingStrategy\" rel=\"nofollow\">here</a> for reference. </p>\n\n<p>As a note a lower case strategy is implemented in <code>com.fasterxml.jackson.databind.PropertyNamingStrategy</code> as follows:</p>\n\n<pre><code>/**\n * Simple strategy where external name simply only uses lower-case characters,\n * and no separators.\n * Conversion from internal name like \"someOtherValue\" would be into external name\n * if \"someothervalue\".\n * \n * @since 2.4\n */\npublic static class LowerCaseStrategy extends PropertyNamingStrategyBase\n{\n    @Override\n    public String translate(String input) {\n        return input.toLowerCase();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5379334,"reputation":761,"user_id":4285108,"display_name":"Francisco Manuel Garca Botella"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601318406,"creation_date":1601318406,"answer_id":64107837,"question_id":34677874,"body_markdown":"I know it&#39;s an old question, but in case it helps.\r\n\r\n    public JsonArray jsonKeysUpper(JsonArray arr) {\r\n\t\tJsonArray aux = new JsonArray();\r\n\t\tfor(int i = 0; i &lt; arr.size(); ++i)\r\n\t\t\taux.add(jsonKeysUpper(arr.get(i).getAsJsonObject()));\r\n\t\treturn aux;\r\n\t}\r\n\t\r\n\tpublic JsonObject jsonKeysUpper(JsonObject obj) {\r\n\t\tJsonObject aux = new JsonObject();\r\n\t\tif(obj.isJsonPrimitive()) return obj;\r\n\t\tif(obj.isJsonNull()) return null;\r\n\t\t// Iterate all properties\r\n\t\tfor(String o : obj.keySet()) {\r\n\t\t\tif(obj.get(o).isJsonPrimitive())\r\n\t\t\t\taux.addProperty(o.toUpperCase(), obj.get(o).getAsString());\r\n\t\t\telse if(obj.get(o).isJsonArray())\r\n\t\t\t\taux.add(o.toUpperCase(), jsonKeysUpper(obj.get(o).getAsJsonArray()));\r\n\t\t\telse\r\n\t\t\t\taux.add(o.toUpperCase(), jsonKeysUpper(obj.get(o).getAsJsonObject()));\r\n\t\t}\r\n\t\treturn aux;\r\n\t}","title":"How to convert all keys in JSON response to uppercase? (JAVA)","body":"<p>I know it's an old question, but in case it helps.</p>\n<pre><code>public JsonArray jsonKeysUpper(JsonArray arr) {\n    JsonArray aux = new JsonArray();\n    for(int i = 0; i &lt; arr.size(); ++i)\n        aux.add(jsonKeysUpper(arr.get(i).getAsJsonObject()));\n    return aux;\n}\n\npublic JsonObject jsonKeysUpper(JsonObject obj) {\n    JsonObject aux = new JsonObject();\n    if(obj.isJsonPrimitive()) return obj;\n    if(obj.isJsonNull()) return null;\n    // Iterate all properties\n    for(String o : obj.keySet()) {\n        if(obj.get(o).isJsonPrimitive())\n            aux.addProperty(o.toUpperCase(), obj.get(o).getAsString());\n        else if(obj.get(o).isJsonArray())\n            aux.add(o.toUpperCase(), jsonKeysUpper(obj.get(o).getAsJsonArray()));\n        else\n            aux.add(o.toUpperCase(), jsonKeysUpper(obj.get(o).getAsJsonObject()));\n    }\n    return aux;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13681723,"reputation":31,"user_id":9871907,"display_name":"Harsh Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657975182,"creation_date":1657975182,"answer_id":73004287,"question_id":34677874,"body_markdown":"Use below code to convert your json to Upper case String keys json\r\n\r\n    ObjectMapper obj = new ObjectMapper().setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE); \r\n    obj.convertValue(jsonString, Map.class);","title":"How to convert all keys in JSON response to uppercase? (JAVA)","body":"<p>Use below code to convert your json to Upper case String keys json</p>\n<pre><code>ObjectMapper obj = new ObjectMapper().setPropertyNamingStrategy(PropertyNamingStrategy.UPPER_CAMEL_CASE); \nobj.convertValue(jsonString, Map.class);\n</code></pre>\n"}],"owner":{"account_id":5082789,"reputation":25,"user_id":4078362,"accept_rate":25,"display_name":"Palak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1657975182,"creation_date":1452258442,"question_id":34677874,"body_markdown":"For example I have the following json response :\r\n\r\n    {\r\n        StaTuS:succees,\r\n        LanGuaGes: {\r\n              Key1: English,\r\n              key2: Spanish,\r\n              kEy3: Indian\r\n        }\r\n    } \r\n\r\nThe response can have many nested elements. I want to know how we can code in such a way that all the keys can be converted to uppercase in my response so that it matches the naming convention I used in my POJO class.\r\n\r\nLike this :\r\n\r\n    {\r\n       STATUS:succees,\r\n       LANGUAGES: {\r\n              KEY1: English,\r\n              KEY2: Spanish,\r\n              KEY3: Indian\r\n       }\r\n    } \r\n\r\n","title":"How to convert all keys in JSON response to uppercase? (JAVA)","body":"<p>For example I have the following json response :</p>\n\n<pre><code>{\n    StaTuS:succees,\n    LanGuaGes: {\n          Key1: English,\n          key2: Spanish,\n          kEy3: Indian\n    }\n} \n</code></pre>\n\n<p>The response can have many nested elements. I want to know how we can code in such a way that all the keys can be converted to uppercase in my response so that it matches the naming convention I used in my POJO class.</p>\n\n<p>Like this :</p>\n\n<pre><code>{\n   STATUS:succees,\n   LANGUAGES: {\n          KEY1: English,\n          KEY2: Spanish,\n          KEY3: Indian\n   }\n} \n</code></pre>\n"},{"tags":["java","scala","apache-flink","flink-streaming","flink-table-api"],"answers":[{"tags":[],"owner":{"account_id":1420595,"reputation":320,"user_id":1345303,"display_name":"None"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657974840,"creation_date":1657931565,"answer_id":73000732,"question_id":72997289,"body_markdown":"Different Java versions caused the problem.\r\n\r\nProject Structure used Azul 13, while the application used Java 11 corretto. ","title":"java.lang.NoClassDefFoundError: org/apache/flink/table/types/logical/LogicalTypeRoot","body":"<p>Different Java versions caused the problem.</p>\n<p>Project Structure used Azul 13, while the application used Java 11 corretto.</p>\n"}],"owner":{"account_id":1420595,"reputation":320,"user_id":1345303,"display_name":"None"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73000732,"answer_count":1,"score":0,"last_activity_date":1657974840,"creation_date":1657903632,"question_id":72997289,"body_markdown":"I am trying to read parquet files via the **ParquetAvroInputFormat** but it throws *NoClassDefFoundError* exceptions. I find the class in the **flink-table-common** library.\r\n\r\nIt is in the path\r\n`org.apache.flink.table.types.logical.LogicalTypeRoot` but the `org.apache.flink.table` and after that seems could not be found.\r\n\r\nIt is a Scala project, **flink-table-api-scala-bridge** is also included. \r\n\r\nAny advice is welcome.\r\n","title":"java.lang.NoClassDefFoundError: org/apache/flink/table/types/logical/LogicalTypeRoot","body":"<p>I am trying to read parquet files via the <strong>ParquetAvroInputFormat</strong> but it throws <em>NoClassDefFoundError</em> exceptions. I find the class in the <strong>flink-table-common</strong> library.</p>\n<p>It is in the path\n<code>org.apache.flink.table.types.logical.LogicalTypeRoot</code> but the <code>org.apache.flink.table</code> and after that seems could not be found.</p>\n<p>It is a Scala project, <strong>flink-table-api-scala-bridge</strong> is also included.</p>\n<p>Any advice is welcome.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","cassandra","spark-cassandra-connector"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1657899495,"post_id":72995543,"comment_id":128927214,"body_markdown":"do you explicitly set `spark.cassandra.output.consistency.level` to `LOCAL_ONE` in your configuration?","body":"do you explicitly set <code>spark.cassandra.output.consistency.level</code> to <code>LOCAL_ONE</code> in your configuration?"},{"owner":{"account_id":15143507,"reputation":462,"user_id":10927888,"display_name":"Shasu"},"score":0,"creation_date":1657900757,"post_id":72995543,"comment_id":128927735,"body_markdown":"@Alex Ott Hi Alex , hope you are doing good. YES I tried with LOCAL_QUAROM its giving error so I changed it to LOCAL_ONE still getting same error.","body":"@Alex Ott Hi Alex , hope you are doing good. YES I tried with LOCAL_QUAROM its giving error so I changed it to LOCAL_ONE still getting same error."},{"owner":{"account_id":15143507,"reputation":462,"user_id":10927888,"display_name":"Shasu"},"score":0,"creation_date":1657901513,"post_id":72995543,"comment_id":128927981,"body_markdown":"@AlexOtt updated question with configurations i am using","body":"@AlexOtt updated question with configurations i am using"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657907394,"creation_date":1657905805,"answer_id":72997670,"question_id":72995543,"body_markdown":"This usually happens because Spark Cassandra Connector is trying to write data as fast as possible, and often it overloads individual Cassandra nodes, so they are becoming not responsive (maybe because of Java GC, compaction, etc.).\r\n\r\nYou can tune [write configuration parameters][1], like, decreasing `spark.cassandra.output.concurrent.writes`, `spark.cassandra.output.throughputMBPerSec`, etc., but very often it could be fixed by not using `LOCAL_ONE` consistency level (`spark.cassandra.output.consistency.level`), but `TWO`, or `LOCAL_QUORUM`.\r\n\r\nYour configuration is basically pushed nodes to the limit\r\n\r\n\r\n  [1]: https://github.com/datastax/spark-cassandra-connector/blob/master/doc/reference.md#write-tuning-parameters","title":"Cassandra timeout during SIMPLE write query at consistency LOCAL_ONE","body":"<p>This usually happens because Spark Cassandra Connector is trying to write data as fast as possible, and often it overloads individual Cassandra nodes, so they are becoming not responsive (maybe because of Java GC, compaction, etc.).</p>\n<p>You can tune <a href=\"https://github.com/datastax/spark-cassandra-connector/blob/master/doc/reference.md#write-tuning-parameters\" rel=\"nofollow noreferrer\">write configuration parameters</a>, like, decreasing <code>spark.cassandra.output.concurrent.writes</code>, <code>spark.cassandra.output.throughputMBPerSec</code>, etc., but very often it could be fixed by not using <code>LOCAL_ONE</code> consistency level (<code>spark.cassandra.output.consistency.level</code>), but <code>TWO</code>, or <code>LOCAL_QUORUM</code>.</p>\n<p>Your configuration is basically pushed nodes to the limit</p>\n"},{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657973763,"creation_date":1657973763,"answer_id":73004118,"question_id":72995543,"body_markdown":"Write timeouts happen because your cluster is under-sized and cannot keep up with writes.\r\n\r\nYou will need to throttle the load from your Spark app as Alex Ott advised so it doesn&#39;t overload your cluster. Alternatively, you should consider increasing the capacity of your cluster by adding more nodes. Cheers!","title":"Cassandra timeout during SIMPLE write query at consistency LOCAL_ONE","body":"<p>Write timeouts happen because your cluster is under-sized and cannot keep up with writes.</p>\n<p>You will need to throttle the load from your Spark app as Alex Ott advised so it doesn't overload your cluster. Alternatively, you should consider increasing the capacity of your cluster by adding more nodes. Cheers!</p>\n"}],"owner":{"account_id":15143507,"reputation":462,"user_id":10927888,"display_name":"Shasu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1960,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657973763,"creation_date":1657895239,"question_id":72995543,"body_markdown":"I am using spark-sql 3.0.2 with spark-cassandra-connector_2.12:3.1.0 along with java8 in my spark-project.\r\n\r\n\r\n**While writing to cassandra table I am facing below error**\r\n\r\n&gt; latest exception was   \r\n&gt; Cassandra timeout during SIMPLE write query at\r\n&gt; consistency LOCAL_ONE (1 replica were required but only 0 acknowledged\r\n&gt; the write)\r\n&gt; \r\n&gt; Please check the executor logs for more exceptions and information\r\n&gt;               \tat com.datastax.spark.connector.writer.AsyncStatementWriter.$anonfun$close$2(TableWriter.scala:282)\r\n&gt; \tat scala.Option.map(Option.scala:230) \tat\r\n&gt; com.datastax.spark.connector.writer.AsyncStatementWriter.close(TableWriter.scala:277)\r\n&gt; \tat\r\n&gt; com.datastax.spark.connector.datasource.CassandraDriverDataWriter.commit(CasssandraDriverDataWriterFactory.scala:46)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.datasources.v2.DataWritingSparkTask$.$anonfun$run$7(WriteToDataSourceV2Exec.scala:450)\r\n&gt; \tat\r\n&gt; org.apache.spark.util.Utils$.tryWithSafeFinallyAndFailureCallbacks(Utils.scala:1411)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.datasources.v2.DataWritingSparkTask$.run(WriteToDataSourceV2Exec.scala:477)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.datasources.v2.V2TableWriteExec.$anonfun$writeWithV2$2(WriteToDataSourceV2Exec.scala:385)\r\n&gt; \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n&gt; \tat org.apache.spark.scheduler.Task.run(Task.scala:127) \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:462)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n&gt; \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:465)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; \tat java.lang.Thread.run(Thread.java:750) \tSuppressed:\r\n&gt; java.io.IOException: Failed to write statements to\r\n&gt; **kspace.table_cassandra**\r\n\r\n\r\n**I am using below configuration**\r\n\r\n    concurrentWrites: 2056 #1024 #64\r\n    outputBatchSizeBytes: 2048\r\n    outputBatchGroupingKey: partition\r\n    outputConsistencyLevel: LOCAL_ONE\r\n    outputBatchGroupingBufferSize: 3000\r\n    outputThroughput_mb_per_sec: 1024 #256\r\n    connectionKeep_alive_ms: 30000\r\n    readTimeout_ms: 600000\r\n    ignoreNulls: true\r\n    readConsistencyLevel: LOCAL_ONE","title":"Cassandra timeout during SIMPLE write query at consistency LOCAL_ONE","body":"<p>I am using spark-sql 3.0.2 with spark-cassandra-connector_2.12:3.1.0 along with java8 in my spark-project.</p>\n<p><strong>While writing to cassandra table I am facing below error</strong></p>\n<blockquote>\n<p>latest exception was<br />\nCassandra timeout during SIMPLE write query at\nconsistency LOCAL_ONE (1 replica were required but only 0 acknowledged\nthe write)</p>\n<p>Please check the executor logs for more exceptions and information\nat com.datastax.spark.connector.writer.AsyncStatementWriter.$anonfun$close$2(TableWriter.scala:282)\nat scala.Option.map(Option.scala:230)   at\ncom.datastax.spark.connector.writer.AsyncStatementWriter.close(TableWriter.scala:277)\nat\ncom.datastax.spark.connector.datasource.CassandraDriverDataWriter.commit(CasssandraDriverDataWriterFactory.scala:46)\nat\norg.apache.spark.sql.execution.datasources.v2.DataWritingSparkTask$.$anonfun$run$7(WriteToDataSourceV2Exec.scala:450)\nat\norg.apache.spark.util.Utils$.tryWithSafeFinallyAndFailureCallbacks(Utils.scala:1411)\nat\norg.apache.spark.sql.execution.datasources.v2.DataWritingSparkTask$.run(WriteToDataSourceV2Exec.scala:477)\nat\norg.apache.spark.sql.execution.datasources.v2.V2TableWriteExec.$anonfun$writeWithV2$2(WriteToDataSourceV2Exec.scala:385)\nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\nat org.apache.spark.scheduler.Task.run(Task.scala:127)  at\norg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:462)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\nat\norg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:465)\nat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)    Suppressed:\njava.io.IOException: Failed to write statements to\n<strong>kspace.table_cassandra</strong></p>\n</blockquote>\n<p><strong>I am using below configuration</strong></p>\n<pre><code>concurrentWrites: 2056 #1024 #64\noutputBatchSizeBytes: 2048\noutputBatchGroupingKey: partition\noutputConsistencyLevel: LOCAL_ONE\noutputBatchGroupingBufferSize: 3000\noutputThroughput_mb_per_sec: 1024 #256\nconnectionKeep_alive_ms: 30000\nreadTimeout_ms: 600000\nignoreNulls: true\nreadConsistencyLevel: LOCAL_ONE\n</code></pre>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":20278375,"reputation":239,"user_id":14872824,"display_name":"Aashish Jha"},"score":0,"creation_date":1657903458,"post_id":72997130,"comment_id":128928603,"body_markdown":"you could use equatable instead, read about it.","body":"you could use equatable instead, read about it."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1657907997,"post_id":72997130,"comment_id":128929883,"body_markdown":"btw, if you override equals, you also need to override hashCode. If you know about that, carry on! :-) If not, definitely do a search about the topic.","body":"btw, if you override equals, you also need to override hashCode. If you know about that, carry on! :-) If not, definitely do a search about the topic."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657946289,"post_id":72997130,"comment_id":128935773,"body_markdown":"Addressed by: https://stackoverflow.com/a/49608588/11374957","body":"Addressed by: <a href=\"https://stackoverflow.com/a/49608588/11374957\">stackoverflow.com/a/49608588/11374957</a>"}],"answers":[{"tags":[],"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657973536,"creation_date":1657903622,"answer_id":72997286,"question_id":72997130,"body_markdown":"You are almost there. However, the `instanceof` will always be `true` here if you are actually comparing to books. The below should work. \r\n\r\n```\r\nclass Book {\r\n\r\n     private String title;\r\n     private boolean bound;\r\n\r\n     public Book(String title, boolean bound) {\r\n         this.title = title;\r\n         this.bound = bound;\r\n     }\r\n\r\n     public String getTitle(){\r\n          return this.title;\r\n     }\r\n     public boolean isBound(){\r\n          return this.bound;\r\n     }\r\n     @Override\r\n     public boolean equals(Obj obj) {\r\n          if(!(obj instanceof Book)){\r\n               return false;\r\n          }\r\n          if (((Book) obj).isBound() == this.isBound() &amp;&amp; ((Book) obj).getTitle().equals(this.getTitle())) {\r\n               return true;\r\n          }\r\n          return false;\r\n     }\r\n}\r\n```\r\n\r\nNow you can compare two books. \r\n```\r\nBook b1  = new Book(new String(&quot;Title1&quot;), true);\r\nBook b2  = new Book(new String(&quot;Title2&quot;), true);\r\nBook b3  = new Book(new String(&quot;Title1&quot;), true);\r\n\r\nSystem.out.println(b1.equals(b2)); // Output is false\r\nSystem.out.println(b1.equals(b3)); // Output is true\r\n\r\n```\r\n","title":"Need to write a equals-method to check if a book is the same as another book but one book contains multiple values","body":"<p>You are almost there. However, the <code>instanceof</code> will always be <code>true</code> here if you are actually comparing to books. The below should work.</p>\n<pre><code>class Book {\n\n     private String title;\n     private boolean bound;\n\n     public Book(String title, boolean bound) {\n         this.title = title;\n         this.bound = bound;\n     }\n\n     public String getTitle(){\n          return this.title;\n     }\n     public boolean isBound(){\n          return this.bound;\n     }\n     @Override\n     public boolean equals(Obj obj) {\n          if(!(obj instanceof Book)){\n               return false;\n          }\n          if (((Book) obj).isBound() == this.isBound() &amp;&amp; ((Book) obj).getTitle().equals(this.getTitle())) {\n               return true;\n          }\n          return false;\n     }\n}\n</code></pre>\n<p>Now you can compare two books.</p>\n<pre><code>Book b1  = new Book(new String(&quot;Title1&quot;), true);\nBook b2  = new Book(new String(&quot;Title2&quot;), true);\nBook b3  = new Book(new String(&quot;Title1&quot;), true);\n\nSystem.out.println(b1.equals(b2)); // Output is false\nSystem.out.println(b1.equals(b3)); // Output is true\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657906141,"creation_date":1657903962,"answer_id":72997340,"question_id":72997130,"body_markdown":"The correct implementation would be:\r\n```\r\n@Override\r\npublic boolean equals(Object obj) {\r\n\tif(this == obj)\r\n\t\treturn true;\r\n\tif(!(obj instanceof Book))\r\n\t\treturn false;\r\n\tBook other = (Book) obj;\r\n\treturn bound == other.bound &amp;&amp; Objects.equals(title, other.title);\r\n}\r\n```\r\nBoth object properties are respected!\r\n\r\n** **Update** **\r\n\r\nTo avoid using ```instanceof``` you should use \r\n```\r\nif(this.getClass() != obj.getClass())\r\n   return false;\r\n```\r\n\r\nThanks user16320675 for the hint!","title":"Need to write a equals-method to check if a book is the same as another book but one book contains multiple values","body":"<p>The correct implementation would be:</p>\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    if(this == obj)\n        return true;\n    if(!(obj instanceof Book))\n        return false;\n    Book other = (Book) obj;\n    return bound == other.bound &amp;&amp; Objects.equals(title, other.title);\n}\n</code></pre>\n<p>Both object properties are respected!</p>\n<p>** <strong>Update</strong> **</p>\n<p>To avoid using <code>instanceof</code> you should use</p>\n<pre><code>if(this.getClass() != obj.getClass())\n   return false;\n</code></pre>\n<p>Thanks user16320675 for the hint!</p>\n"}],"owner":{"account_id":25680429,"reputation":3,"user_id":19443296,"display_name":"LoveFile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72997340,"answer_count":2,"score":0,"last_activity_date":1657973536,"creation_date":1657902839,"question_id":72997130,"body_markdown":"Below is my code at this moment, I need to add to the equals method so when I create a two books they will only be equal if both of the attributes are the same. Hopefully you guys can help.\r\n\r\n```java\r\npublic class Book {\r\n\tprivate String title;\r\n\tprivate boolean bound;\r\n\r\n\tBook(String title, boolean bound) {\r\n\t\tthis.title = title;\r\n\t\tthis.bound = bound;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n        if ((obj instanceof Book)) {\r\n            return true;\r\n        }\r\n    \treturn false;\r\n\t}\r\n}\r\n```\r\n","title":"Need to write a equals-method to check if a book is the same as another book but one book contains multiple values","body":"<p>Below is my code at this moment, I need to add to the equals method so when I create a two books they will only be equal if both of the attributes are the same. Hopefully you guys can help.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Book {\n    private String title;\n    private boolean bound;\n\n    Book(String title, boolean bound) {\n        this.title = title;\n        this.bound = bound;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if ((obj instanceof Book)) {\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","euclidean-distance"],"answers":[{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657962893,"creation_date":1657962893,"answer_id":73002971,"question_id":73002934,"body_markdown":"You can use any reference type as a parameter to the `Function`. Your `BiFunction` should take two `int[]` as it&#39;s input and return a `Double`. So, the target type of the assignment should be something like this.\r\n\r\n    BiFunction&lt;int[], int[], Double&gt; euclideanDistance =\r\n    \t            (int[] x, int[] y) -&gt; Math.sqrt(Math.pow(x[0] - y[0], 2) + Math.pow(x[1] - y[1], 2));\r\n\r\n","title":"How to pass an Array as a parameter to a Function/Bifunction?","body":"<p>You can use any reference type as a parameter to the <code>Function</code>. Your <code>BiFunction</code> should take two <code>int[]</code> as it's input and return a <code>Double</code>. So, the target type of the assignment should be something like this.</p>\n<pre><code>BiFunction&lt;int[], int[], Double&gt; euclideanDistance =\n                (int[] x, int[] y) -&gt; Math.sqrt(Math.pow(x[0] - y[0], 2) + Math.pow(x[1] - y[1], 2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657966515,"creation_date":1657966085,"answer_id":73003304,"question_id":73002934,"body_markdown":"The types of function (`Integer`) you&#39;ve defined don&#39;t match expected arguments of your lambda expression (`Integer[]`).\r\n\r\nAnd there&#39;s no need to use arrays of wrapper type, as well as no need to resort to `sqrt()` and `pow()` since we have [`hypot()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#hypot(double,double)) method in the `Math` class which does exactly what is needed:\r\n\r\n&gt; **Returns:**\r\n    `sqrt(x2 +y2)` without intermediate overflow or underflow\r\n\r\nSo the function for calculating the Euclidean distance can be written like this:\r\n\r\n```\r\nBiFunction&lt;int[], int[], Double&gt; euclideanDistance =\r\n    (int[] x, int[] y) -&gt; Math.hypot(x[0] - y[0], x[1] - y[1]);\r\n```","title":"How to pass an Array as a parameter to a Function/Bifunction?","body":"<p>The types of function (<code>Integer</code>) you've defined don't match expected arguments of your lambda expression (<code>Integer[]</code>).</p>\n<p>And there's no need to use arrays of wrapper type, as well as no need to resort to <code>sqrt()</code> and <code>pow()</code> since we have <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#hypot(double,double)\" rel=\"nofollow noreferrer\"><code>hypot()</code></a> method in the <code>Math</code> class which does exactly what is needed:</p>\n<blockquote>\n<p><strong>Returns:</strong>\n<code>sqrt(x2 +y2)</code> without intermediate overflow or underflow</p>\n</blockquote>\n<p>So the function for calculating the Euclidean distance can be written like this:</p>\n<pre><code>BiFunction&lt;int[], int[], Double&gt; euclideanDistance =\n    (int[] x, int[] y) -&gt; Math.hypot(x[0] - y[0], x[1] - y[1]);\n</code></pre>\n"}],"owner":{"account_id":1279032,"reputation":3329,"user_id":1233600,"accept_rate":46,"display_name":"Nilotpal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73002971,"answer_count":2,"score":-1,"last_activity_date":1657973474,"creation_date":1657962572,"question_id":73002934,"body_markdown":"I need to pass an array as parameter into a `BiFunction`.\r\n\r\n*Use case :*\r\n\r\n&gt; Calculate the Euclidean Distance of `2` coordinates given in an array.\r\n&gt; `coordinate1` and `coordinate2` are an array.\r\n\r\nThe below trial, makes the intent clearer.\r\n```\r\nBiFunction&lt;Integer, Integer, Double&gt; euclideanDistance =\r\n   (Integer[] x, Integer[] y) -&gt; Math.sqrt(Math.pow(x[0] - y[0], 2) + Math.pow(x[1] - y[1], 2));\r\n```\r\nBut the compiler complains :\r\n```\r\nincompatible types:\r\nincompatible parameter types in lambda expression :\r\nExpected Integer but found Integer[]\r\n```","title":"How to pass an Array as a parameter to a Function/Bifunction?","body":"<p>I need to pass an array as parameter into a <code>BiFunction</code>.</p>\n<p><em>Use case :</em></p>\n<blockquote>\n<p>Calculate the Euclidean Distance of <code>2</code> coordinates given in an array.\n<code>coordinate1</code> and <code>coordinate2</code> are an array.</p>\n</blockquote>\n<p>The below trial, makes the intent clearer.</p>\n<pre><code>BiFunction&lt;Integer, Integer, Double&gt; euclideanDistance =\n   (Integer[] x, Integer[] y) -&gt; Math.sqrt(Math.pow(x[0] - y[0], 2) + Math.pow(x[1] - y[1], 2));\n</code></pre>\n<p>But the compiler complains :</p>\n<pre><code>incompatible types:\nincompatible parameter types in lambda expression :\nExpected Integer but found Integer[]\n</code></pre>\n"},{"tags":["java","xml","dom","xml-parsing"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1657967567,"post_id":73002846,"comment_id":128938644,"body_markdown":"Please show your code.","body":"Please show your code."},{"owner":{"account_id":25582502,"reputation":1,"user_id":19360783,"display_name":"Prakhar Tewari"},"score":0,"creation_date":1657973112,"post_id":73002846,"comment_id":128939592,"body_markdown":"I posted the code in the answer section.","body":"I posted the code in the answer section."}],"answers":[{"tags":[],"owner":{"account_id":25582502,"reputation":1,"user_id":19360783,"display_name":"Prakhar Tewari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657973313,"creation_date":1657973313,"answer_id":73004073,"question_id":73002846,"body_markdown":"```\r\npackage api;\r\n\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.NodeList;\r\nimport org.w3c.dom.Node;\r\nimport org.w3c.dom.Element;\r\nimport java.io.File;\r\npublic class Web{\r\n    public static void main(String argv[])\r\n    {\r\n        try {\r\n            \r\n            File file = new File(&quot;C:\\\\Users\\\\Prakhar\\\\OneDrive\\\\Desktop\\\\WBE2.xml.txt&quot;);\r\n\r\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\r\n            \r\n            DocumentBuilder db = dbf.newDocumentBuilder();\r\n            Document doc = db.parse(file);\r\n\r\n            doc.getDocumentElement().normalize();\r\n            System.out.println(&quot;Root element: &quot; + doc.getDocumentElement().getNodeName());\r\n            \r\n            NodeList nodeList = doc.getElementsByTagName(&quot;Ws&quot;);\r\n\r\n            for (int i = 0; i &lt; nodeList.getLength(); ++i) {\r\n                Node node = nodeList.item(i);\r\n                System.out.println(&quot;\\nNode Name :&quot; + node.getNodeName());\r\n                \r\n                if (node.getNodeType()== Node.ELEMENT_NODE) {\r\n                   \r\n                \tElement tElement = (Element)node;\r\n                    \r\n\r\n                    System.out.println(&quot;IMEI: &quot; +\r\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(0).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\r\n\r\n                    System.out.println(&quot;Date/Time: &quot; +\r\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(1).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\r\n\r\n                    System.out.println(&quot;Temperature: &quot; +\r\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(2).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\r\n                    \r\n                    System.out.println(&quot;Humidity: &quot; +\r\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(1).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\r\n                    \r\n                    System.out.println(&quot;Wind Speed: &quot; +\r\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(2).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\r\n\r\n\r\n\r\n                }\r\n            }\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"XML parsing by tag-names and attributes method in DOM tree structure","body":"<pre><code>package api;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.DocumentBuilder;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.NodeList;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.Element;\nimport java.io.File;\npublic class Web{\n    public static void main(String argv[])\n    {\n        try {\n            \n            File file = new File(&quot;C:\\\\Users\\\\Prakhar\\\\OneDrive\\\\Desktop\\\\WBE2.xml.txt&quot;);\n\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n\n            \n            DocumentBuilder db = dbf.newDocumentBuilder();\n            Document doc = db.parse(file);\n\n            doc.getDocumentElement().normalize();\n            System.out.println(&quot;Root element: &quot; + doc.getDocumentElement().getNodeName());\n            \n            NodeList nodeList = doc.getElementsByTagName(&quot;Ws&quot;);\n\n            for (int i = 0; i &lt; nodeList.getLength(); ++i) {\n                Node node = nodeList.item(i);\n                System.out.println(&quot;\\nNode Name :&quot; + node.getNodeName());\n                \n                if (node.getNodeType()== Node.ELEMENT_NODE) {\n                   \n                    Element tElement = (Element)node;\n                    \n\n                    System.out.println(&quot;IMEI: &quot; +\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(0).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\n\n                    System.out.println(&quot;Date/Time: &quot; +\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(1).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\n\n                    System.out.println(&quot;Temperature: &quot; +\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(2).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\n                    \n                    System.out.println(&quot;Humidity: &quot; +\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(1).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\n                    \n                    System.out.println(&quot;Wind Speed: &quot; +\n                            doc.getDocumentElement().getChildNodes().item(0).getFirstChild().getChildNodes().item(2).getAttributes().getNamedItem(&quot;V&quot;).getNodeValue());\n\n\n\n                }\n            }\n        }\n        catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25582502,"reputation":1,"user_id":19360783,"display_name":"Prakhar Tewari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657973313,"creation_date":1657961668,"question_id":73002846,"body_markdown":"I am trying to parse this xml file but I&#39;m only getting the root elements and not it&#39;s child nodes.\r\nI need information of some specific values from the nodes like using .item() method. Since,  I&#39;m not entering it&#39;s child nodes so it didn&#39;t give me the specified values. Please help me solving this...\r\n\r\nXML file\r\n```\r\n&lt;Ws&gt;\r\n\t&lt;Id V=&#39;862631039910699&#39;&gt;\r\n\t\t&lt;Dt V=&#39;08/07/22;11/25&#39;&gt;\r\n\t\t\t&lt;T V=&#39;24.3;24.3;24.3&#39;/&gt;\r\n\t\t\t&lt;H V=&#39;98.0;98.0;98.0&#39;/&gt;\r\n\t\t\t&lt;W V=&#39;1.3;272&#39;/&gt;\r\n\t\t\t&lt;G V=&#39;25;2.4&#39;/&gt;\r\n\t\t\t&lt;A V=&#39;0.00;468;472;471&#39;/&gt;\r\n\t\t\t&lt;D V=&#39;0.00;8.9;8.065;0.0000;0.0000&#39;/&gt;\r\n\t\t&lt;/Dt&gt;\r\n\t&lt;/Id&gt;\r\n&lt;/Ws&gt;\r\n```","title":"XML parsing by tag-names and attributes method in DOM tree structure","body":"<p>I am trying to parse this xml file but I'm only getting the root elements and not it's child nodes.\nI need information of some specific values from the nodes like using .item() method. Since,  I'm not entering it's child nodes so it didn't give me the specified values. Please help me solving this...</p>\n<p>XML file</p>\n<pre><code>&lt;Ws&gt;\n    &lt;Id V='862631039910699'&gt;\n        &lt;Dt V='08/07/22;11/25'&gt;\n            &lt;T V='24.3;24.3;24.3'/&gt;\n            &lt;H V='98.0;98.0;98.0'/&gt;\n            &lt;W V='1.3;272'/&gt;\n            &lt;G V='25;2.4'/&gt;\n            &lt;A V='0.00;468;472;471'/&gt;\n            &lt;D V='0.00;8.9;8.065;0.0000;0.0000'/&gt;\n        &lt;/Dt&gt;\n    &lt;/Id&gt;\n&lt;/Ws&gt;\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","cassandra"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657968055,"creation_date":1657968055,"answer_id":73003504,"question_id":73003394,"body_markdown":"Jackson serializer by default does not serialize private fields without accessor methods. \r\n\r\nEither:\r\n * make fields available (make it public or add getters)\r\n * configure `ObjectMapper` used by jackson to also serialize private fields (for details you can reference this link: https://www.baeldung.com/spring-boot-customize-jackson-objectmapper)","title":"Why does Spring Boot Controller give JSON but empty structure [{},{}]","body":"<p>Jackson serializer by default does not serialize private fields without accessor methods.</p>\n<p>Either:</p>\n<ul>\n<li>make fields available (make it public or add getters)</li>\n<li>configure <code>ObjectMapper</code> used by jackson to also serialize private fields (for details you can reference this link: <a href=\"https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-customize-jackson-objectmapper</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24774354,"reputation":116,"user_id":18657988,"display_name":"riccadema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657970205,"creation_date":1657970205,"answer_id":73003727,"question_id":73003394,"body_markdown":"## Answer ##\r\n\r\n&gt; Even though I have configured everything correctly, for some reason it seems that the JSON conversion is not happening properly.\r\n\r\nThis should be the solution\r\n\r\n    // Defining the table name into DB - OK\r\n    @Table(&quot;student&quot;)\r\n    public class Student {\r\n    \r\n        // Defining the id column w/type - OK\r\n        // ...\r\n        \r\n        // Defining a private field per column - OK\r\n        // ...\r\n        \r\n        // Defining public empty constructor - Missing!\r\n        public Student() {}\r\n\r\n        // Defining public getters and setters for each field - Missing!\r\n        public String getStudent_city() {\r\n            return student_city;\r\n        }\r\n\r\n        public String setStudent_city(String student_city) {\r\n            this.student_city = student_city;\r\n        }\r\n\r\n        // ...\r\n    }\r\n\r\nwhen you create JPA entities, in addition to what you did, you **must** also set the **empty constructor** and **public getters/setters**\r\n\r\n&gt; I mean I can see 2 braces in the http output. The single braces pair {} is corresponding to a student. However, still this is not the output that I have desired. Any idea whats causing this ?\r\n\r\nIn your case, if you notice, it gets the data from the database correctly but, since there are no public get and set methods, **Hibernate fails to do the mapping between the local object and tables in the db** and therefore does not allow the data to be stored locally (and then shown) correctly\r\n\r\n\r\n----------\r\n\r\nI hope I was clear, let me know how it goes! :)\r\n","title":"Why does Spring Boot Controller give JSON but empty structure [{},{}]","body":"<h2>Answer</h2>\n<blockquote>\n<p>Even though I have configured everything correctly, for some reason it seems that the JSON conversion is not happening properly.</p>\n</blockquote>\n<p>This should be the solution</p>\n<pre><code>// Defining the table name into DB - OK\n@Table(&quot;student&quot;)\npublic class Student {\n\n    // Defining the id column w/type - OK\n    // ...\n    \n    // Defining a private field per column - OK\n    // ...\n    \n    // Defining public empty constructor - Missing!\n    public Student() {}\n\n    // Defining public getters and setters for each field - Missing!\n    public String getStudent_city() {\n        return student_city;\n    }\n\n    public String setStudent_city(String student_city) {\n        this.student_city = student_city;\n    }\n\n    // ...\n}\n</code></pre>\n<p>when you create JPA entities, in addition to what you did, you <strong>must</strong> also set the <strong>empty constructor</strong> and <strong>public getters/setters</strong></p>\n<blockquote>\n<p>I mean I can see 2 braces in the http output. The single braces pair {} is corresponding to a student. However, still this is not the output that I have desired. Any idea whats causing this ?</p>\n</blockquote>\n<p>In your case, if you notice, it gets the data from the database correctly but, since there are no public get and set methods, <strong>Hibernate fails to do the mapping between the local object and tables in the db</strong> and therefore does not allow the data to be stored locally (and then shown) correctly</p>\n<hr />\n<p>I hope I was clear, let me know how it goes! :)</p>\n"}],"owner":{"account_id":17394740,"reputation":21,"user_id":12604607,"display_name":"javadeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73003504,"answer_count":2,"score":0,"last_activity_date":1657972570,"creation_date":1657966858,"question_id":73003394,"body_markdown":"I have a spring boot application with the following controller \r\n\r\n    package com.training.casapp.controller;\r\n    \r\n    import com.training.casapp.entity.Student;\r\n    import com.training.casapp.repository.StudentRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    public class StudentController {\r\n    \r\n       @Autowired\r\n        StudentRepository studentRepository;\r\n    \r\n        @GetMapping(value = &quot;/studentslist&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        List&lt;Student&gt; getStudentsList() {\r\n            List&lt;Student&gt; studentsList = studentRepository.findAll();\r\n            return studentsList;\r\n        }\r\n    }\r\n\r\nand the CassandraRepository as \r\n\r\n    package com.training.casapp.repository;\r\n    \r\n    import com.training.casapp.entity.Student;\r\n    import org.springframework.data.cassandra.repository.CassandraRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface StudentRepository extends CassandraRepository&lt;Student, Integer&gt; {}\r\n\r\nThe Student Class is ddefined as follows\r\n\r\n    package com.training.casapp.entity;\r\n    \r\n    import org.springframework.data.cassandra.core.cql.PrimaryKeyType;\r\n    import org.springframework.data.cassandra.core.mapping.Column;\r\n    import org.springframework.data.cassandra.core.mapping.PrimaryKeyColumn;\r\n    import org.springframework.data.cassandra.core.mapping.Table;\r\n    \r\n    @Table(&quot;student&quot;)\r\n    public class Student {\r\n    \r\n        @PrimaryKeyColumn(type = PrimaryKeyType.PARTITIONED) private Integer student_id;\r\n        @Column private String student_city;\r\n        @Column private Integer student_fees;\r\n        @Column private String student_name;\r\n        @Column private Long student_phone;\r\n        \r\n    }\r\n\r\n\r\n\r\nI have 2 records in student table \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nhowever, when I access `http://localhost:8081/casapp/studentslist` I get following response in browser \r\n\r\n    [{},{}]\r\n\r\nEven though I have configured everything correctly, for some reason it seems that the JSON conversion is not happening properly. I mean I can see 2 braces in the http output. The single braces pair {} is corresponding to a student. However, still this is not the output that I have desired. Any idea whats causing this ? \r\n\r\nI have also tried overriding the toString() method. Didn&#39;t help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C6es1.png","title":"Why does Spring Boot Controller give JSON but empty structure [{},{}]","body":"<p>I have a spring boot application with the following controller</p>\n<pre><code>package com.training.casapp.controller;\n\nimport com.training.casapp.entity.Student;\nimport com.training.casapp.repository.StudentRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class StudentController {\n\n   @Autowired\n    StudentRepository studentRepository;\n\n    @GetMapping(value = &quot;/studentslist&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    List&lt;Student&gt; getStudentsList() {\n        List&lt;Student&gt; studentsList = studentRepository.findAll();\n        return studentsList;\n    }\n}\n</code></pre>\n<p>and the CassandraRepository as</p>\n<pre><code>package com.training.casapp.repository;\n\nimport com.training.casapp.entity.Student;\nimport org.springframework.data.cassandra.repository.CassandraRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StudentRepository extends CassandraRepository&lt;Student, Integer&gt; {}\n</code></pre>\n<p>The Student Class is ddefined as follows</p>\n<pre><code>package com.training.casapp.entity;\n\nimport org.springframework.data.cassandra.core.cql.PrimaryKeyType;\nimport org.springframework.data.cassandra.core.mapping.Column;\nimport org.springframework.data.cassandra.core.mapping.PrimaryKeyColumn;\nimport org.springframework.data.cassandra.core.mapping.Table;\n\n@Table(&quot;student&quot;)\npublic class Student {\n\n    @PrimaryKeyColumn(type = PrimaryKeyType.PARTITIONED) private Integer student_id;\n    @Column private String student_city;\n    @Column private Integer student_fees;\n    @Column private String student_name;\n    @Column private Long student_phone;\n    \n}\n</code></pre>\n<p>I have 2 records in student table</p>\n<p><a href=\"https://i.stack.imgur.com/C6es1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C6es1.png\" alt=\"enter image description here\" /></a></p>\n<p>however, when I access <code>http://localhost:8081/casapp/studentslist</code> I get following response in browser</p>\n<pre><code>[{},{}]\n</code></pre>\n<p>Even though I have configured everything correctly, for some reason it seems that the JSON conversion is not happening properly. I mean I can see 2 braces in the http output. The single braces pair {} is corresponding to a student. However, still this is not the output that I have desired. Any idea whats causing this ?</p>\n<p>I have also tried overriding the toString() method. Didn't help.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2171085,"reputation":4773,"user_id":1923055,"accept_rate":71,"display_name":"kark"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380513742,"creation_date":1380513742,"answer_id":19086287,"question_id":19085816,"body_markdown":"**Your problem is creation session Factory** for your application it happening in `HibernateUtilities` class , the reason may be due to , you cannot create a sessionfactory by `sessionRegistry` create it by hibernate Configuration class, because you registered your configuration in `hibernate.cfg.xml`\r\n\r\nJust Replace the following code in HibernateUtilities class\r\n\r\n            `sessionFactory = configuration.buildSessionFactory(serviceRegistry);`\r\nto\r\n\r\n            `sessionFactory = configuration.buildSessionFactory();`\r\n\r\n","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p><strong>Your problem is creation session Factory</strong> for your application it happening in <code>HibernateUtilities</code> class , the reason may be due to , you cannot create a sessionfactory by <code>sessionRegistry</code> create it by hibernate Configuration class, because you registered your configuration in <code>hibernate.cfg.xml</code></p>\n\n<p>Just Replace the following code in HibernateUtilities class</p>\n\n<pre><code>        `sessionFactory = configuration.buildSessionFactory(serviceRegistry);`\n</code></pre>\n\n<p>to</p>\n\n<pre><code>        `sessionFactory = configuration.buildSessionFactory();`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3339332,"reputation":694,"user_id":2805930,"accept_rate":19,"display_name":"Hareesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380523999,"creation_date":1380519274,"answer_id":19087074,"question_id":19085816,"body_markdown":"The configuration files must be placed in the classpath. Make  Sure that the hibernate.cfg.xml is in class-path. As your program is console program, u need to place that hibernate.cfg.xml in src folder. If u have placed it in other folder than specify it in `Confingure.configure(fileName);` \r\nAnd as answered By Mr.Kark u have to delete following lines\r\n\r\n `serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();`","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p>The configuration files must be placed in the classpath. Make  Sure that the hibernate.cfg.xml is in class-path. As your program is console program, u need to place that hibernate.cfg.xml in src folder. If u have placed it in other folder than specify it in <code>Confingure.configure(fileName);</code> \nAnd as answered By Mr.Kark u have to delete following lines</p>\n\n<p><code>serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();</code></p>\n"},{"tags":[],"owner":{"account_id":3252602,"reputation":916,"user_id":2742489,"display_name":"Ha Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380530271,"creation_date":1380530271,"answer_id":19089825,"question_id":19085816,"body_markdown":"I think you are missing some hibernate libs (maybe `hibernate-tools.jar` I guess). So please check it.\r\n\r\nAnyway, I saw you using the hibernate annotations, so please try this code and see what happen with error properties not found.\r\n\r\n    try {\r\n\t\t\tAnnotationConfiguration configuration = new AnnotationConfiguration();\t\t\t\r\n\t\t\tsessionFactory = configuration.configure().buildSessionFactory();\t\t\r\n\t\t}","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p>I think you are missing some hibernate libs (maybe <code>hibernate-tools.jar</code> I guess). So please check it.</p>\n\n<p>Anyway, I saw you using the hibernate annotations, so please try this code and see what happen with error properties not found.</p>\n\n<pre><code>try {\n        AnnotationConfiguration configuration = new AnnotationConfiguration();          \n        sessionFactory = configuration.configure().buildSessionFactory();       \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1456239601,"creation_date":1456239601,"answer_id":35580856,"question_id":19085816,"body_markdown":"That&#39;s only an INFO message telling that you don&#39;t have a `hibernate.properties` file. This property file is not mandatory and so it&#39;s not what prevents your application from working.\r\n\r\nIf you want to know what caused the `SessionFactory` creation failure, you need to change your catch block to:\r\n\r\n    catch(HibernateException exception){\r\n         System.out.println(&quot;Problem creating session factory&quot;);\r\n         exception.printStackTrace();\r\n    }\r\n\r\nYou should use a logging framework instead.","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p>That's only an INFO message telling that you don't have a <code>hibernate.properties</code> file. This property file is not mandatory and so it's not what prevents your application from working.</p>\n\n<p>If you want to know what caused the <code>SessionFactory</code> creation failure, you need to change your catch block to:</p>\n\n<pre><code>catch(HibernateException exception){\n     System.out.println(\"Problem creating session factory\");\n     exception.printStackTrace();\n}\n</code></pre>\n\n<p>You should use a logging framework instead.</p>\n"},{"tags":[],"owner":{"account_id":8087301,"reputation":760,"user_id":6103905,"accept_rate":86,"display_name":"Vitorlui"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1472122027,"creation_date":1472122027,"answer_id":39143226,"question_id":19085816,"body_markdown":"In my case, I was running the **Hibernate 5** with JPA annotations on tomcat and stop working when I changed to **glassfish 4.1**\r\n\r\nThe error:\r\n\r\n **hibernate.properties not found**\r\n\r\n**Make sure:**\r\nsrc/main/resources/hibernate.cfg.xml exists\r\n\r\n\r\nAnd if you only have the dependency of hibernate-core, I was using hibernate-annotations and hibernate-common-annotations and it was creating conflict. The hibernate 5 doesnt need these two, I had read somewhere.Try to remove ;) \r\n\r\nAfter that a new error appears:\r\n\r\n**java.lang.NoSuchMethodError: org.jboss.logging.Logger.debugf(Ljava/lang/String;I)V**\r\n\r\nThe reason was the oldest jboss-logging.jar at: &quot;YOUR_GLASSFISH_FOLDER/glassfish/modules&quot;\r\n\r\nWhy? The **hibernate 5** has dependency with the newest version of jboss-logging, and the **glassfish 4** uses the oldest version even if you declare inside your POM file the newest version. Actually I&#39;m using:\r\n\r\n    org.jboss.logging jboss-logging 3.3.0.Final\r\n\r\nThen I downloaded it and replace the old .jar inside the modules path and it back to work, I spent 2 days trying to solve that and I hope it helps some future issues =D\r\n\r\nI used this link to help me: https://medium.com/@mertcal/using-hibernate-5-on-payara-cc242212a5d6#.npq2hdprz\r\n\r\n**Another solution, in my case, could be back to the last Hibernate 4 version (4.3.11.Final) but it is already too old in my opinion**\r\n","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p>In my case, I was running the <strong>Hibernate 5</strong> with JPA annotations on tomcat and stop working when I changed to <strong>glassfish 4.1</strong></p>\n\n<p>The error:</p>\n\n<p><strong>hibernate.properties not found</strong></p>\n\n<p><strong>Make sure:</strong>\nsrc/main/resources/hibernate.cfg.xml exists</p>\n\n<p>And if you only have the dependency of hibernate-core, I was using hibernate-annotations and hibernate-common-annotations and it was creating conflict. The hibernate 5 doesnt need these two, I had read somewhere.Try to remove ;) </p>\n\n<p>After that a new error appears:</p>\n\n<p><strong>java.lang.NoSuchMethodError: org.jboss.logging.Logger.debugf(Ljava/lang/String;I)V</strong></p>\n\n<p>The reason was the oldest jboss-logging.jar at: \"YOUR_GLASSFISH_FOLDER/glassfish/modules\"</p>\n\n<p>Why? The <strong>hibernate 5</strong> has dependency with the newest version of jboss-logging, and the <strong>glassfish 4</strong> uses the oldest version even if you declare inside your POM file the newest version. Actually I'm using:</p>\n\n<pre><code>org.jboss.logging jboss-logging 3.3.0.Final\n</code></pre>\n\n<p>Then I downloaded it and replace the old .jar inside the modules path and it back to work, I spent 2 days trying to solve that and I hope it helps some future issues =D</p>\n\n<p>I used this link to help me: <a href=\"https://medium.com/@mertcal/using-hibernate-5-on-payara-cc242212a5d6#.npq2hdprz\" rel=\"nofollow\">https://medium.com/@mertcal/using-hibernate-5-on-payara-cc242212a5d6#.npq2hdprz</a></p>\n\n<p><strong>Another solution, in my case, could be back to the last Hibernate 4 version (4.3.11.Final) but it is already too old in my opinion</strong></p>\n"},{"tags":[],"owner":{"account_id":12422581,"reputation":31,"user_id":9048736,"display_name":"ASHISH KUMAR SINGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551896040,"creation_date":1551896040,"answer_id":55029694,"question_id":19085816,"body_markdown":"**session-factory** is a special tag in hibernate it&#39;s have no any name so,\r\nYou can change your code **session-factory name=&quot;&quot;** to **session-factory** and try to run. ","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p><strong>session-factory</strong> is a special tag in hibernate it's have no any name so,\nYou can change your code <strong>session-factory name=\"\"</strong> to <strong>session-factory</strong> and try to run. </p>\n"},{"tags":[],"owner":{"account_id":13206870,"reputation":11,"user_id":9538319,"display_name":"Nguyễn Văn Bảo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646500522,"creation_date":1646500522,"answer_id":71364277,"question_id":19085816,"body_markdown":"You can try\r\n1. make sure that file hibernate.cfg.xml is located at src/main/resource\r\n2. add pom.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!-- API, java.xml.bind module --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n    &lt;!-- Runtime, com.sun.xml.bind module --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\nIt work for me\r\n","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p>You can try</p>\n<ol>\n<li>make sure that file hibernate.cfg.xml is located at src/main/resource</li>\n<li>add pom.xml</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- API, java.xml.bind module --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n&lt;!-- Runtime, com.sun.xml.bind module --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n  &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nIt work for me</p>\n"},{"tags":[],"owner":{"account_id":23951402,"reputation":1,"user_id":19561644,"display_name":"Barm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657972327,"creation_date":1657972327,"answer_id":73003953,"question_id":19085816,"body_markdown":"In my case problem was in hibernate.cfg.xml location.\r\nIntellej IDEA created it in java folder.\r\nI&#39;ve replaced it into resources folder and it helped","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p>In my case problem was in hibernate.cfg.xml location.\nIntellej IDEA created it in java folder.\nI've replaced it into resources folder and it helped</p>\n"}],"owner":{"account_id":1548165,"reputation":371,"user_id":1682657,"accept_rate":15,"display_name":"adarksun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116410,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"answer_count":8,"score":21,"last_activity_date":1657972327,"creation_date":1380509865,"question_id":19085816,"body_markdown":"I tried to test whether the hibernate configuration is working properly. I tried but I got an error:\r\n\r\n    INFO: HHH000206: hibernate.properties not found\r\n\r\nTo do this: I create:\r\n\r\n [1] hibernate configuration file [using xml]\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n                                             &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n     &lt;session-factory name=&quot;&quot;&gt;\r\n      &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.default_schema&quot;&gt;explorecalifornia&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.format_sql&quot;&gt;true&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.password&quot;&gt;abc123&lt;/property&gt;\r\n     &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n[2] A hibernate utility class\r\n\r\n    public class HibernateUtilities {\r\n    \t\r\n    \tprivate static SessionFactory sessionFactory;\r\n    \tprivate static ServiceRegistry serviceRegistry;\r\n    \t\r\n    \tstatic{\r\n    \t\ttry{\r\n    \t\t\tConfiguration configuration = new Configuration().configure();\r\n    \r\n    \t\t\tserviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();\r\n    \t\t\tsessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n    \t\t}\r\n    \t\t\r\n    \t\tcatch(HibernateException exception){\r\n    \t\t\tSystem.out.println(&quot;Problem creating session factory&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static SessionFactory getSessionFactory() {\r\n    \t\treturn sessionFactory;\r\n    \t}\r\n    \r\n    \tpublic static void setSessionFactory(SessionFactory sessionFactory) {\r\n    \t\tHibernateUtilities.sessionFactory = sessionFactory;\r\n    \t}\r\n    \t\t\r\n    \r\n    }\r\n\r\n\r\n[3] The main program:\r\n\r\n    import org.hibernate.Session;\r\n    \r\n        public class Program {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSystem.out.println(&quot;Hibernate&quot;);\r\n        \t\t\r\n        \t\tSession session = HibernateUtilities.getSessionFactory().openSession();\r\n        \t\tsession.close();\r\n        \r\n        \t}\r\n        \r\n        }\r\n\r\n\r\nBut i got the following thing when I run the program:\r\n\r\n    Hibernate\r\n    Sep 29, 2013 10:47:15 PM org.hibernate.annotations.common.Version &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {4.0.2.Final}\r\n    Sep 29, 2013 10:47:15 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {4.2.5.Final}\r\n    Sep 29, 2013 10:47:15 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    Sep 29, 2013 10:47:15 PM org.hibernate.cfg.Environment buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : javassist\r\n    Sep 29, 2013 10:47:15 PM org.hibernate.cfg.Configuration configure\r\n    INFO: HHH000043: Configuring from resource: /hibernate.cfg.xml\r\n    Sep 29, 2013 10:47:15 PM org.hibernate.cfg.Configuration getConfigurationInputStream\r\n    INFO: HHH000040: Configuration resource: /hibernate.cfg.xml\r\n    Problem creating session factory\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat com.simpleprogrammer.Program.main(Program.java:10)\r\n\r\n\r\nTo solve this I tried Google and apply the ways which i found. but still i could not solve the problem. Can anybody please help me?","title":"how to fix the error: &quot;INFO: HHH000206: hibernate.properties not found&quot;?","body":"<p>I tried to test whether the hibernate configuration is working properly. I tried but I got an error:</p>\n\n<pre><code>INFO: HHH000206: hibernate.properties not found\n</code></pre>\n\n<p>To do this: I create:</p>\n\n<p>[1] hibernate configuration file [using xml]</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n                                         \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n &lt;session-factory name=\"\"&gt;\n  &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n  &lt;property name=\"hibernate.default_schema\"&gt;explorecalifornia&lt;/property&gt;\n  &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n  &lt;property name=\"hibernate.format_sql\"&gt;true&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.password\"&gt;abc123&lt;/property&gt;\n &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>[2] A hibernate utility class</p>\n\n<pre><code>public class HibernateUtilities {\n\n    private static SessionFactory sessionFactory;\n    private static ServiceRegistry serviceRegistry;\n\n    static{\n        try{\n            Configuration configuration = new Configuration().configure();\n\n            serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();\n            sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n        }\n\n        catch(HibernateException exception){\n            System.out.println(\"Problem creating session factory\");\n        }\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n    public static void setSessionFactory(SessionFactory sessionFactory) {\n        HibernateUtilities.sessionFactory = sessionFactory;\n    }\n\n\n}\n</code></pre>\n\n<p>[3] The main program:</p>\n\n<pre><code>import org.hibernate.Session;\n\n    public class Program {\n\n        public static void main(String[] args) {\n            System.out.println(\"Hibernate\");\n\n            Session session = HibernateUtilities.getSessionFactory().openSession();\n            session.close();\n\n        }\n\n    }\n</code></pre>\n\n<p>But i got the following thing when I run the program:</p>\n\n<pre><code>Hibernate\nSep 29, 2013 10:47:15 PM org.hibernate.annotations.common.Version &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {4.0.2.Final}\nSep 29, 2013 10:47:15 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {4.2.5.Final}\nSep 29, 2013 10:47:15 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nSep 29, 2013 10:47:15 PM org.hibernate.cfg.Environment buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : javassist\nSep 29, 2013 10:47:15 PM org.hibernate.cfg.Configuration configure\nINFO: HHH000043: Configuring from resource: /hibernate.cfg.xml\nSep 29, 2013 10:47:15 PM org.hibernate.cfg.Configuration getConfigurationInputStream\nINFO: HHH000040: Configuration resource: /hibernate.cfg.xml\nProblem creating session factory\nException in thread \"main\" java.lang.NullPointerException\n    at com.simpleprogrammer.Program.main(Program.java:10)\n</code></pre>\n\n<p>To solve this I tried Google and apply the ways which i found. but still i could not solve the problem. Can anybody please help me?</p>\n"},{"tags":["java","multithreading","performance","random","thread-local"],"comments":[{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":0,"creation_date":1385638936,"post_id":20265185,"comment_id":30229281,"body_markdown":"Let me parrot the experts: microbenchmarking is hard to get right. If you want to try, use [Caliper](https://code.google.com/p/caliper/) to do it.","body":"Let me parrot the experts: microbenchmarking is hard to get right. If you want to try, use <a href=\"https://code.google.com/p/caliper/\" rel=\"nofollow noreferrer\">Caliper</a> to do it."},{"owner":{"account_id":318306,"reputation":541,"user_id":635460,"accept_rate":100,"display_name":"Me again"},"score":1,"creation_date":1385639005,"post_id":20265185,"comment_id":30229327,"body_markdown":"well, first of all your threads are not parallel as you `join` to a thread right after starting one before starting another.","body":"well, first of all your threads are not parallel as you <code>join</code> to a thread right after starting one before starting another."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":1,"creation_date":1385639037,"post_id":20265185,"comment_id":30229348,"body_markdown":"**much less overhead and contention** does not mean **it&#39;s faster** it just means *under certain types and levels of stress there may be improved throughput and stability*.","body":"<b>much less overhead and contention</b> does not mean <b>it&#39;s faster</b> it just means <i>under certain types and levels of stress there may be improved throughput and stability</i>."},{"owner":{"account_id":308224,"reputation":578,"user_id":619961,"display_name":"ikaerom"},"score":0,"creation_date":1440061396,"post_id":20265185,"comment_id":52120732,"body_markdown":"If you&#39;re still interested in a micro-benchmark result, this blog shows the challenges of benchmarking such things: http://niklasschlimm.blogspot.ch/2012/01/java-7-how-to-write-really-fast-java.html and from an OS perspective: http://java-performance.info/java-util-random-java-util-concurrent-threadlocalrandom-multithreaded-environments/","body":"If you&#39;re still interested in a micro-benchmark result, this blog shows the challenges of benchmarking such things: <a href=\"http://niklasschlimm.blogspot.ch/2012/01/java-7-how-to-write-really-fast-java.html\" rel=\"nofollow noreferrer\">niklasschlimm.blogspot.ch/2012/01/&hellip;</a> and from an OS perspective: <a href=\"http://java-performance.info/java-util-random-java-util-concurrent-threadlocalrandom-multithreaded-environments/\" rel=\"nofollow noreferrer\">java-performance.info/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385639007,"creation_date":1385639007,"answer_id":20265310,"question_id":20265185,"body_markdown":"Your testing code is flawed for one. The bane of benchmarkers everywhere.\r\n\r\n    thread.start();\r\n    thread.join();\r\nwhy not save LOCs and write\r\n\r\n    thread.run();\r\n\r\nthe outcome is the same.\r\n\r\nEDIT: If you don&#39;t realize the outcome from the above, it means that you&#39;re running single threaded tests, there&#39;s no multithreading going on.","title":"ThreadLocalRandom with shared static Random instance performance comparing test","body":"<p>Your testing code is flawed for one. The bane of benchmarkers everywhere.</p>\n\n<pre><code>thread.start();\nthread.join();\n</code></pre>\n\n<p>why not save LOCs and write</p>\n\n<pre><code>thread.run();\n</code></pre>\n\n<p>the outcome is the same.</p>\n\n<p>EDIT: If you don't realize the outcome from the above, it means that you're running single threaded tests, there's no multithreading going on.</p>\n"},{"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1385640267,"creation_date":1385640267,"answer_id":20265715,"question_id":20265185,"body_markdown":"You&#39;re not running anything in parallel because you&#39;re waiting for each thread to finish immediately after starting it. You need a waiting loop outside the loop that starts the threads:\r\n\r\n    List&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;();\r\n    for (int i = 0; i &lt; THREAD_COUNT; i++) {\r\n        Thread thread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n\r\n                for (int j = 0; j &lt; GENERATED_NUMBER_COUNT; j++) {\r\n                    int random = rand.nextInt(INT_RIGHT_BORDER);\r\n                    if (!counts.containsKey(random)) {\r\n                        counts.put(random, 0);\r\n                    }\r\n                    counts.put(random, counts.get(random) + 1);\r\n                }\r\n            }\r\n        };\r\n        threads.add(thread);\r\n        thread.start();\r\n    }\r\n\r\n    for (Thread thread: threads) {\r\n        thread.join();\r\n    }","title":"ThreadLocalRandom with shared static Random instance performance comparing test","body":"<p>You're not running anything in parallel because you're waiting for each thread to finish immediately after starting it. You need a waiting loop outside the loop that starts the threads:</p>\n\n<pre><code>List&lt;Thread&gt; threads = new ArrayList&lt;Thread&gt;();\nfor (int i = 0; i &lt; THREAD_COUNT; i++) {\n    Thread thread = new Thread() {\n        @Override\n        public void run() {\n\n            for (int j = 0; j &lt; GENERATED_NUMBER_COUNT; j++) {\n                int random = rand.nextInt(INT_RIGHT_BORDER);\n                if (!counts.containsKey(random)) {\n                    counts.put(random, 0);\n                }\n                counts.put(random, counts.get(random) + 1);\n            }\n        }\n    };\n    threads.add(thread);\n    thread.start();\n}\n\nfor (Thread thread: threads) {\n    thread.join();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385642121,"creation_date":1385641592,"answer_id":20266207,"question_id":20265185,"body_markdown":"Maybe it would be easier to just have a look at what actually happens. Here is the source for `ThreadLocal.get()` which is also called for the `ThreadLocalRandom.current()`.\r\n\r\n    public T get() {\r\n        Thread t = Thread.currentThread();\r\n        ThreadLocalMap map = getMap(t);\r\n        if (map != null) {\r\n            ThreadLocalMap.Entry e = map.getEntry(this);\r\n            if (e != null)\r\n                return (T)e.value;\r\n        }\r\n        return setInitialValue();\r\n    }\r\n\r\nWhere ThreadLocalMap is a specialized HashMap-like implementation with optimizations.\r\n\r\nSo what basically happens is that ThreadLocal holds a map Thread-&gt;Object - or in this case Thread-&gt;Random - which is then looked up and either returned or created. As this is nothing &#39;magical&#39;, the timing will be equal to a HashMap-lookup + the initial creation overhead of the actual Object to be returned. Since a HashMap lookup (in this optimized case) is linear, the cost for a lookup is _k_, where _k_ is the calculation cost of the hash function.\r\n\r\nSo you can make some assumptions:\r\n\r\n- ThreadLocal will be faster than creating the object each time in each Runnable, unless the creation cost is much smaller than _k_. So looking up Random is a good thing, putting an int inside might not be so smart.\r\n\r\n- ThreadLocal will be better than using your own HashMap, as such a generic implementation can be assumed to be equal to _k_ or worse.\r\n\r\n- ThreadLocal will be slower than using any lookup with a cost &lt; _k_. Example: store everything in an array first, then do `myRandoms[threadID]`.&lt;br&gt;\r\nBut then this assumes that you know which threads will be processing your work in the first place, so this isn&#39;t a real candidate for ThreadLocal anyways.\r\n\r\n","title":"ThreadLocalRandom with shared static Random instance performance comparing test","body":"<p>Maybe it would be easier to just have a look at what actually happens. Here is the source for <code>ThreadLocal.get()</code> which is also called for the <code>ThreadLocalRandom.current()</code>.</p>\n\n<pre><code>public T get() {\n    Thread t = Thread.currentThread();\n    ThreadLocalMap map = getMap(t);\n    if (map != null) {\n        ThreadLocalMap.Entry e = map.getEntry(this);\n        if (e != null)\n            return (T)e.value;\n    }\n    return setInitialValue();\n}\n</code></pre>\n\n<p>Where ThreadLocalMap is a specialized HashMap-like implementation with optimizations.</p>\n\n<p>So what basically happens is that ThreadLocal holds a map Thread->Object - or in this case Thread->Random - which is then looked up and either returned or created. As this is nothing 'magical', the timing will be equal to a HashMap-lookup + the initial creation overhead of the actual Object to be returned. Since a HashMap lookup (in this optimized case) is linear, the cost for a lookup is <em>k</em>, where <em>k</em> is the calculation cost of the hash function.</p>\n\n<p>So you can make some assumptions:</p>\n\n<ul>\n<li><p>ThreadLocal will be faster than creating the object each time in each Runnable, unless the creation cost is much smaller than <em>k</em>. So looking up Random is a good thing, putting an int inside might not be so smart.</p></li>\n<li><p>ThreadLocal will be better than using your own HashMap, as such a generic implementation can be assumed to be equal to <em>k</em> or worse.</p></li>\n<li><p>ThreadLocal will be slower than using any lookup with a cost &lt; <em>k</em>. Example: store everything in an array first, then do <code>myRandoms[threadID]</code>.<br>\nBut then this assumes that you know which threads will be processing your work in the first place, so this isn't a real candidate for ThreadLocal anyways.</p></li>\n</ul>\n"}],"owner":{"account_id":2106648,"reputation":611,"user_id":1872842,"display_name":"mmelnik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20265715,"answer_count":3,"score":3,"last_activity_date":1657970742,"creation_date":1385638663,"question_id":20265185,"body_markdown":"In our project for one task we used static Random instance for random numbers generation goal. After Java 7 release new ThreadLocalRandom class appeared for generating random numbers.\r\n\r\nFrom spec:\r\n\r\n&gt; When applicable, use of ThreadLocalRandom rather than shared Random objects in concurrent programs will typically encounter much less overhead and contention. Use of ThreadLocalRandom is particularly appropriate when multiple tasks (for example, each a ForkJoinTask) use random numbers in parallel in thread pools. \r\n\r\nand also:\r\n\r\n&gt; When all usages are of this form, it is never possible to accidently share a ThreadLocalRandom across multiple threads. \r\n\r\nSo I&#39;ve made my little test:\r\n\r\n    public class ThreadLocalRandomTest {\r\n\r\n    private static final int THREAD_COUNT = 100;\r\n    private static final int GENERATED_NUMBER_COUNT = 1000;\r\n    private static final int INT_RIGHT_BORDER = 5000;\r\n    private static final int EXPERIMENTS_COUNT = 5000;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        System.out.println(&quot;Number of threads: &quot; + THREAD_COUNT);\r\n        System.out.println(&quot;Length of generated numbers chain for each thread: &quot; + GENERATED_NUMBER_COUNT);\r\n        System.out.println(&quot;Right border integer: &quot; + INT_RIGHT_BORDER);\r\n        System.out.println(&quot;Count of experiments: &quot; + EXPERIMENTS_COUNT);\r\n\r\n        int repeats = 0;\r\n        int workingTime = 0;\r\n        long startTime = 0;\r\n        long endTime = 0;\r\n\r\n        for (int i = 0; i &lt; EXPERIMENTS_COUNT; i++) {\r\n            startTime = System.currentTimeMillis();\r\n            repeats += calculateRepeatsForSharedRandom();\r\n            endTime = System.currentTimeMillis();\r\n            workingTime += endTime - startTime;\r\n        }\r\n        System.out.println(&quot;Average repeats for shared Random instance: &quot; + repeats / EXPERIMENTS_COUNT\r\n                + &quot;. Average working time: &quot; + workingTime / EXPERIMENTS_COUNT + &quot; ms.&quot;);\r\n\r\n        repeats = 0;\r\n        workingTime = 0;\r\n        for (int i = 0; i &lt; EXPERIMENTS_COUNT; i++) {\r\n            startTime = System.currentTimeMillis();\r\n            repeats += calculateRepeatsForTheadLocalRandom();\r\n            endTime = System.currentTimeMillis();\r\n            workingTime += endTime - startTime;\r\n        }\r\n        System.out.println(&quot;Average repeats for ThreadLocalRandom: &quot; + repeats / EXPERIMENTS_COUNT\r\n                + &quot;. Average working time: &quot; + workingTime / EXPERIMENTS_COUNT + &quot; ms.&quot;);\r\n    }\r\n\r\n    private static int calculateRepeatsForSharedRandom() throws InterruptedException {\r\n        final Random rand = new Random();\r\n        final Map&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; THREAD_COUNT; i++) {\r\n            Thread thread = new Thread() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    for (int j = 0; j &lt; GENERATED_NUMBER_COUNT; j++) {\r\n                        int random = rand.nextInt(INT_RIGHT_BORDER);\r\n                        if (!counts.containsKey(random)) {\r\n                            counts.put(random, 0);\r\n                        }\r\n                        counts.put(random, counts.get(random) + 1);\r\n                    }\r\n                }\r\n            };\r\n            thread.start();\r\n            thread.join();\r\n        }\r\n\r\n        int repeats = 0;\r\n        for (Integer value : counts.values()) {\r\n            if (value &gt; 1) {\r\n                repeats += value;\r\n            }\r\n        }\r\n\r\n        return repeats;\r\n    }\r\n\r\n    private static int calculateRepeatsForTheadLocalRandom() throws InterruptedException {\r\n        final Map&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; THREAD_COUNT; i++) {\r\n            Thread thread = new Thread() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    for (int j = 0; j &lt; GENERATED_NUMBER_COUNT; j++) {\r\n                        int random = ThreadLocalRandom.current().nextInt(INT_RIGHT_BORDER);\r\n                        if (!counts.containsKey(random)) {\r\n                            counts.put(random, 0);\r\n                        }\r\n                        counts.put(random, counts.get(random) + 1);\r\n                    }\r\n                }\r\n            };\r\n            thread.start();\r\n            thread.join();\r\n        }\r\n\r\n        int repeats = 0;\r\n        for (Integer value : counts.values()) {\r\n            if (value &gt; 1) {\r\n                repeats += value;\r\n            }\r\n        }\r\n\r\n        return repeats;\r\n    }\r\n\r\n}\r\n\r\nI&#39;ve also added test for non-shared Random and got next results:\r\n\r\n    Number of threads: 100\r\n    Length of generated numbers chain for each thread: 100\r\n    Right border integer: 5000\r\n    Count of experiments: 10000\r\n    Average repeats for non-shared Random instance: 8646. Average working time: 13 ms.\r\n    Average repeats for shared Random instance: 8646. Average working time: 13 ms.\r\n    Average repeats for ThreadLocalRandom: 8646. Average working time: 13 ms.\r\n\r\nTo me it&#39;s little strange, as I expected at least speed increasing when using ThreadLocalRandom comparing to shared Random instance, but see no difference at all.\r\n\r\nCan someone explain why it works that way, maybe I haven&#39;t  done testing properly. Thank you!","title":"ThreadLocalRandom with shared static Random instance performance comparing test","body":"<p>In our project for one task we used static Random instance for random numbers generation goal. After Java 7 release new ThreadLocalRandom class appeared for generating random numbers.</p>\n<p>From spec:</p>\n<blockquote>\n<p>When applicable, use of ThreadLocalRandom rather than shared Random objects in concurrent programs will typically encounter much less overhead and contention. Use of ThreadLocalRandom is particularly appropriate when multiple tasks (for example, each a ForkJoinTask) use random numbers in parallel in thread pools.</p>\n</blockquote>\n<p>and also:</p>\n<blockquote>\n<p>When all usages are of this form, it is never possible to accidently share a ThreadLocalRandom across multiple threads.</p>\n</blockquote>\n<p>So I've made my little test:</p>\n<pre><code>public class ThreadLocalRandomTest {\n\nprivate static final int THREAD_COUNT = 100;\nprivate static final int GENERATED_NUMBER_COUNT = 1000;\nprivate static final int INT_RIGHT_BORDER = 5000;\nprivate static final int EXPERIMENTS_COUNT = 5000;\n\npublic static void main(String[] args) throws InterruptedException {\n    System.out.println(&quot;Number of threads: &quot; + THREAD_COUNT);\n    System.out.println(&quot;Length of generated numbers chain for each thread: &quot; + GENERATED_NUMBER_COUNT);\n    System.out.println(&quot;Right border integer: &quot; + INT_RIGHT_BORDER);\n    System.out.println(&quot;Count of experiments: &quot; + EXPERIMENTS_COUNT);\n\n    int repeats = 0;\n    int workingTime = 0;\n    long startTime = 0;\n    long endTime = 0;\n\n    for (int i = 0; i &lt; EXPERIMENTS_COUNT; i++) {\n        startTime = System.currentTimeMillis();\n        repeats += calculateRepeatsForSharedRandom();\n        endTime = System.currentTimeMillis();\n        workingTime += endTime - startTime;\n    }\n    System.out.println(&quot;Average repeats for shared Random instance: &quot; + repeats / EXPERIMENTS_COUNT\n            + &quot;. Average working time: &quot; + workingTime / EXPERIMENTS_COUNT + &quot; ms.&quot;);\n\n    repeats = 0;\n    workingTime = 0;\n    for (int i = 0; i &lt; EXPERIMENTS_COUNT; i++) {\n        startTime = System.currentTimeMillis();\n        repeats += calculateRepeatsForTheadLocalRandom();\n        endTime = System.currentTimeMillis();\n        workingTime += endTime - startTime;\n    }\n    System.out.println(&quot;Average repeats for ThreadLocalRandom: &quot; + repeats / EXPERIMENTS_COUNT\n            + &quot;. Average working time: &quot; + workingTime / EXPERIMENTS_COUNT + &quot; ms.&quot;);\n}\n\nprivate static int calculateRepeatsForSharedRandom() throws InterruptedException {\n    final Random rand = new Random();\n    final Map&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; THREAD_COUNT; i++) {\n        Thread thread = new Thread() {\n            @Override\n            public void run() {\n\n                for (int j = 0; j &lt; GENERATED_NUMBER_COUNT; j++) {\n                    int random = rand.nextInt(INT_RIGHT_BORDER);\n                    if (!counts.containsKey(random)) {\n                        counts.put(random, 0);\n                    }\n                    counts.put(random, counts.get(random) + 1);\n                }\n            }\n        };\n        thread.start();\n        thread.join();\n    }\n\n    int repeats = 0;\n    for (Integer value : counts.values()) {\n        if (value &gt; 1) {\n            repeats += value;\n        }\n    }\n\n    return repeats;\n}\n\nprivate static int calculateRepeatsForTheadLocalRandom() throws InterruptedException {\n    final Map&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; THREAD_COUNT; i++) {\n        Thread thread = new Thread() {\n            @Override\n            public void run() {\n\n                for (int j = 0; j &lt; GENERATED_NUMBER_COUNT; j++) {\n                    int random = ThreadLocalRandom.current().nextInt(INT_RIGHT_BORDER);\n                    if (!counts.containsKey(random)) {\n                        counts.put(random, 0);\n                    }\n                    counts.put(random, counts.get(random) + 1);\n                }\n            }\n        };\n        thread.start();\n        thread.join();\n    }\n\n    int repeats = 0;\n    for (Integer value : counts.values()) {\n        if (value &gt; 1) {\n            repeats += value;\n        }\n    }\n\n    return repeats;\n}\n</code></pre>\n<p>}</p>\n<p>I've also added test for non-shared Random and got next results:</p>\n<pre><code>Number of threads: 100\nLength of generated numbers chain for each thread: 100\nRight border integer: 5000\nCount of experiments: 10000\nAverage repeats for non-shared Random instance: 8646. Average working time: 13 ms.\nAverage repeats for shared Random instance: 8646. Average working time: 13 ms.\nAverage repeats for ThreadLocalRandom: 8646. Average working time: 13 ms.\n</code></pre>\n<p>To me it's little strange, as I expected at least speed increasing when using ThreadLocalRandom comparing to shared Random instance, but see no difference at all.</p>\n<p>Can someone explain why it works that way, maybe I haven't  done testing properly. Thank you!</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":238594,"reputation":646,"user_id":507587,"accept_rate":62,"display_name":"tobier"},"score":1,"creation_date":1324077001,"post_id":8540932,"comment_id":10580766,"body_markdown":"If the list is empty, then it has size 0. I&#39;d write cars.size() &lt;= 0. Also lists are zero indexed, so it should be &quot;carNumber &gt;= cars.size()&quot;.","body":"If the list is empty, then it has size 0. I&#39;d write cars.size() &lt;= 0. Also lists are zero indexed, so it should be &quot;carNumber &gt;= cars.size()&quot;."}],"answers":[{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324076124,"creation_date":1324076124,"answer_id":8541120,"question_id":8540932,"body_markdown":"Your `showCar` method looks fine, are you sure its showing all the cars in your collection? As far as your other two methods, you are looping over your entire collection and calling your rental operation on each element. You are basing your entire logic off indexed arrays, so use your index.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/List.html\r\n\r\n    add(int index, E element) \r\n              Inserts the specified element at the specified position in this list (optional operation).\r\n    \r\n    get(int index) \r\n              Returns the element at the specified position in this list.","title":"renting, showing and returning a car arraylist not working properly","body":"<p>Your <code>showCar</code> method looks fine, are you sure its showing all the cars in your collection? As far as your other two methods, you are looping over your entire collection and calling your rental operation on each element. You are basing your entire logic off indexed arrays, so use your index.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/List.html</a></p>\n\n<pre><code>add(int index, E element) \n          Inserts the specified element at the specified position in this list (optional operation).\n\nget(int index) \n          Returns the element at the specified position in this list.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":940870,"reputation":20212,"user_id":968969,"display_name":"Tony Hopkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324076441,"creation_date":1324076441,"answer_id":8541174,"question_id":8540932,"body_markdown":"So what is the purpose of the for loops in ReturnCar and RentTheCar?\r\n\r\nWhat are they doing?\r\n\r\nThe above clue should put you on the right track.\r\n\r\n","title":"renting, showing and returning a car arraylist not working properly","body":"<p>So what is the purpose of the for loops in ReturnCar and RentTheCar?</p>\n\n<p>What are they doing?</p>\n\n<p>The above clue should put you on the right track.</p>\n"},{"tags":[],"owner":{"account_id":1097916,"reputation":2907,"user_id":1091105,"accept_rate":71,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324110328,"creation_date":1324110328,"answer_id":8543552,"question_id":8540932,"body_markdown":"I think you should take a look at your foreach loop, maybe you will find a hint or two there! This line:\r\n\r\n    for (Car car : cars) {\r\n        // do something...\r\n    }\r\n\r\nThere is a reason why it is called a for-**each** loop. :)\r\nHope I helped.","title":"renting, showing and returning a car arraylist not working properly","body":"<p>I think you should take a look at your foreach loop, maybe you will find a hint or two there! This line:</p>\n\n<pre><code>for (Car car : cars) {\n    // do something...\n}\n</code></pre>\n\n<p>There is a reason why it is called a for-<strong>each</strong> loop. :)\nHope I helped.</p>\n"}],"owner":{"account_id":1112655,"reputation":43,"user_id":1102815,"accept_rate":20,"display_name":"user1102815"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":3,"score":-5,"last_activity_date":1657970424,"creation_date":1324074906,"question_id":8540932,"body_markdown":"Well basically I have an assignment that has to be done for January. I have to to create a mock rental service that allow customers to rent cars. I am basing the logic off of an ArrayList, using its methods to manage my car collection.\r\n\r\nI have some problems with my code, the logic in a lot of my methods is not working correctly. In the code sample I included the `showCar`, `rentTheCar` and `returnCar` methods  are not working as they should. The `showCar` method displays all the cars, although when invoking the method it asks me for the `carNumber`. The `rentThecar` and `returnCar` seem to be renting/returning all cars, instead of just the one I specify.\r\n\r\nI am showing relevant code from my classes below, if anyone can help me figure out where I might have gone wrong.Please I want to make it clear that i do not want my homework done just some guidance. Thanks.\r\n\r\nShow car method:\r\n\r\n    public void showCar (int carNumber)\r\n    {\r\n        \r\n        if (cars.size() &lt; 0 ) {\r\n            System.out.println (&quot;Add cars first!!!&quot;);\r\n        }\r\n        else if (carNumber &lt; cars.size()) {\r\n            System.out.println(cars.get(carNumber));\r\n        }\r\n        else{\r\n            System.out.println(&quot;Error!! This note cannot be shown, because it does not exist!!&quot;);\r\n        }\r\n    }\r\n\r\n\r\nRent car method:\r\n\r\n    public void rentTheCar (int carNumber, String CustomerName, String hireDate, String returnDate, int daysOfHire)\r\n    {\r\n        \r\n        if (cars.size() &lt; 0) {\r\n           System.out.println(&quot;Empty list!! Add cars first!!&quot;);\r\n        }\r\n        else if (carNumber &gt; cars.size()) {\r\n           System.out.println(&quot;This car does not exist!!&quot;);\r\n        }\r\n        else {\r\n            for (Car car : cars) {\r\n                int index = 0;\r\n                cars.get (carNumber);\r\n                car.rentTheCar(CustomerName, hireDate, returnDate, daysOfHire);\r\n                index ++;\r\n            }\r\n        } \r\n    }\r\n\r\nReturn car method:\r\n\r\n    public void returnCar (int carNumber)\r\n    {\r\n        cars.get(carNumber);\r\n        if (cars.size() &lt; 0) {\r\n           System.out.println(&quot;Error!! It is impossible to return a car from an empty list&quot;);\r\n        }\r\n        else if (carNumber &gt; cars.size()) {\r\n            System.out.println(&quot;Error!! Not a valis car!!&quot;);\r\n        }\r\n        else {\r\n            for (Car car : cars) {\r\n                car.returnTheCar();\r\n                System.out.println (&quot;The car has been returned correctly&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n ","title":"renting, showing and returning a car arraylist not working properly","body":"<p>Well basically I have an assignment that has to be done for January. I have to to create a mock rental service that allow customers to rent cars. I am basing the logic off of an ArrayList, using its methods to manage my car collection.</p>\n\n<p>I have some problems with my code, the logic in a lot of my methods is not working correctly. In the code sample I included the <code>showCar</code>, <code>rentTheCar</code> and <code>returnCar</code> methods  are not working as they should. The <code>showCar</code> method displays all the cars, although when invoking the method it asks me for the <code>carNumber</code>. The <code>rentThecar</code> and <code>returnCar</code> seem to be renting/returning all cars, instead of just the one I specify.</p>\n\n<p>I am showing relevant code from my classes below, if anyone can help me figure out where I might have gone wrong.Please I want to make it clear that i do not want my homework done just some guidance. Thanks.</p>\n\n<p>Show car method:</p>\n\n<pre><code>public void showCar (int carNumber)\n{\n\n    if (cars.size() &lt; 0 ) {\n        System.out.println (\"Add cars first!!!\");\n    }\n    else if (carNumber &lt; cars.size()) {\n        System.out.println(cars.get(carNumber));\n    }\n    else{\n        System.out.println(\"Error!! This note cannot be shown, because it does not exist!!\");\n    }\n}\n</code></pre>\n\n<p>Rent car method:</p>\n\n<pre><code>public void rentTheCar (int carNumber, String CustomerName, String hireDate, String returnDate, int daysOfHire)\n{\n\n    if (cars.size() &lt; 0) {\n       System.out.println(\"Empty list!! Add cars first!!\");\n    }\n    else if (carNumber &gt; cars.size()) {\n       System.out.println(\"This car does not exist!!\");\n    }\n    else {\n        for (Car car : cars) {\n            int index = 0;\n            cars.get (carNumber);\n            car.rentTheCar(CustomerName, hireDate, returnDate, daysOfHire);\n            index ++;\n        }\n    } \n}\n</code></pre>\n\n<p>Return car method:</p>\n\n<pre><code>public void returnCar (int carNumber)\n{\n    cars.get(carNumber);\n    if (cars.size() &lt; 0) {\n       System.out.println(\"Error!! It is impossible to return a car from an empty list\");\n    }\n    else if (carNumber &gt; cars.size()) {\n        System.out.println(\"Error!! Not a valis car!!\");\n    }\n    else {\n        for (Car car : cars) {\n            car.returnTheCar();\n            System.out.println (\"The car has been returned correctly\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","static-block","initializing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1657958640,"post_id":73002483,"comment_id":128937329,"body_markdown":"Your code doesn&#39;t compile. Please show a complete, runnable example which illustrates your question.","body":"Your code doesn&#39;t compile. Please show a complete, runnable example which illustrates your question."},{"owner":{"account_id":24659520,"reputation":61,"user_id":18555883,"display_name":"Vahobjon Tolibov"},"score":0,"creation_date":1657961398,"post_id":73002483,"comment_id":128937718,"body_markdown":"`import java.util.Scanner;\n\npublic class TestingInitializiingBlock {\n    public static void main(String[] args) {\n\n        System.out.print(&quot;Enter: &quot;);\n\n        Scanner scan = new Scanner(System.in);\n        if (scan != null) {\n\n            {\n                System.out.println(&quot;im initializing block into if statement!&quot;);\n            }\n        }\n    }\n}\n` This is just example of issue. copy code and try yourself","body":"<code>import java.util.Scanner;  public class TestingInitializiingBlock {     public static void main(String[] args) {          System.out.print(&quot;Enter: &quot;);          Scanner scan = new Scanner(System.in);         if (scan != null) {              {                 System.out.println(&quot;im initializing block into if statement!&quot;);             }         }     } } </code> This is just example of issue. copy code and try yourself"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657964479,"post_id":73002483,"comment_id":128938149,"body_markdown":"What behaviour do you see that you are unsure about?","body":"What behaviour do you see that you are unsure about?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1657965357,"post_id":73002483,"comment_id":128938298,"body_markdown":"@VahobjonTolibov Do not add code in a comment, use the [edit] link to edit your question and add the code there.","body":"@VahobjonTolibov Do not add code in a comment, use the <a href=\"https://stackoverflow.com/posts/73002483/edit\">edit</a> link to edit your question and add the code there."}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657970323,"creation_date":1657970323,"answer_id":73003744,"question_id":73002483,"body_markdown":"Initializing blocks can be only defined on the class level, not inside method. \r\nWhat you have in here is just a block scope, nothing else. ","title":"Using initializing blocks into conditional statements","body":"<p>Initializing blocks can be only defined on the class level, not inside method.\nWhat you have in here is just a block scope, nothing else.</p>\n"}],"owner":{"account_id":24659520,"reputation":61,"user_id":18555883,"display_name":"Vahobjon Tolibov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657970323,"creation_date":1657957657,"question_id":73002483,"body_markdown":"I&#39;ve tested the scenario with initializing blocks,\r\nthe problem is that if we declare initializing block into if conditional or other conditional statements, initializing block runs first when object initializes.\r\n\r\nWhat the purpose of using initializing block into conditional statements if it runs whatever firstly.\r\n``` System.out.print(&quot;Enter: &quot;);\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        if (scan != null) {\r\n            {\r\n                System.out.println(&quot;im initializing block into if statement!&quot;);\r\n            }   }}\r\n```\r\n\r\nOutput: \r\n\r\n```Enter: im initializing block into if statement!```","title":"Using initializing blocks into conditional statements","body":"<p>I've tested the scenario with initializing blocks,\nthe problem is that if we declare initializing block into if conditional or other conditional statements, initializing block runs first when object initializes.</p>\n<p>What the purpose of using initializing block into conditional statements if it runs whatever firstly.</p>\n<pre><code>\n        Scanner scan = new Scanner(System.in);\n        if (scan != null) {\n            {\n                System.out.println(&quot;im initializing block into if statement!&quot;);\n            }   }}\n</code></pre>\n<p>Output:</p>\n<p><code>Enter: im initializing block into if statement!</code></p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"score":0,"creation_date":1657102589,"post_id":72879367,"comment_id":128727949,"body_markdown":"Now the background service is not supported after version &quot;Android O&quot;, so you have to use foreground service and in foreground service, you can do anything with your local database.","body":"Now the background service is not supported after version &quot;Android O&quot;, so you have to use foreground service and in foreground service, you can do anything with your local database."},{"owner":{"account_id":15889084,"reputation":335,"user_id":11464737,"display_name":"Kamal"},"score":0,"creation_date":1657112996,"post_id":72879367,"comment_id":128732021,"body_markdown":"Or you can start a workmanager from receiver to store data","body":"Or you can start a workmanager from receiver to store data"}],"answers":[{"tags":[],"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657970073,"creation_date":1657970073,"answer_id":73003713,"question_id":72879367,"body_markdown":"You can create a Interface : \r\n\r\n&lt;H3&gt;SmsListener&lt;/H3&gt;\r\n\r\n```\r\npublic interface SmsListener {\r\n    void onMessageReceived(String message);\r\n}\r\n```\r\n\r\nadd a Constructor to the ```SmsBoradcast``` and call it you recieve your add, then you can save your data from wherever you have started this broadcast.\r\n","title":"android save data from background service","body":"<p>You can create a Interface :</p>\n<H3>SmsListener</H3>\n<pre><code>public interface SmsListener {\n    void onMessageReceived(String message);\n}\n</code></pre>\n<p>add a Constructor to the <code>SmsBoradcast</code> and call it you recieve your add, then you can save your data from wherever you have started this broadcast.</p>\n"}],"owner":{"account_id":23774285,"reputation":17,"user_id":17787963,"display_name":"mobin jafari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657970073,"creation_date":1657092029,"question_id":72879367,"body_markdown":"i have a background service which is working in background and looking for new SMS and creating notification and showing SMS\r\n\r\n\r\n    public class SmsBoradcast extends BroadcastReceiver {\r\n\r\n    private static final String SMS = &quot;android.provider.Telephony.SMS_RECEIVED&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if(intent.getAction().equals(SMS)){\r\n            Bundle bundle = intent.getExtras();\r\n\r\n\r\n\r\n            if (bundle != null) {\r\n                Object[] pdus = (Object[])bundle.get(&quot;pdus&quot;);\r\n                final SmsMessage[] messages = new SmsMessage[pdus.length];\r\n                for (int i = 0; i &lt; pdus.length; i++) {\r\n                    messages[i] = SmsMessage.createFromPdu((byte[])pdus[i]);\r\n                }\r\n\r\n\r\n         // i want to save message some where befor showing notification\r\n\r\n                Notification notification = new Notification(context);\r\n                notification.sendNotification(context , &quot;new message&quot; , messages[0].getMessageBody());\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\neverything is working and I&#39;m receiving notification any time even if application is killed and its in background\r\n\r\n\r\nnow the question is that , how can I save those notifications when app is in background? \r\n\r\nI tried room database and shared preferences in my service but not worked !!\r\n\r\n\r\n**Please do not suggest using other methods. I just want to save data in background service , if its possible\r\n ","title":"android save data from background service","body":"<p>i have a background service which is working in background and looking for new SMS and creating notification and showing SMS</p>\n<pre><code>public class SmsBoradcast extends BroadcastReceiver {\n\nprivate static final String SMS = &quot;android.provider.Telephony.SMS_RECEIVED&quot;;\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    if(intent.getAction().equals(SMS)){\n        Bundle bundle = intent.getExtras();\n\n\n\n        if (bundle != null) {\n            Object[] pdus = (Object[])bundle.get(&quot;pdus&quot;);\n            final SmsMessage[] messages = new SmsMessage[pdus.length];\n            for (int i = 0; i &lt; pdus.length; i++) {\n                messages[i] = SmsMessage.createFromPdu((byte[])pdus[i]);\n            }\n\n\n     // i want to save message some where befor showing notification\n\n            Notification notification = new Notification(context);\n            notification.sendNotification(context , &quot;new message&quot; , messages[0].getMessageBody());\n\n        }\n\n    }\n}\n\n\n}\n</code></pre>\n<p>everything is working and I'm receiving notification any time even if application is killed and its in background</p>\n<p>now the question is that , how can I save those notifications when app is in background?</p>\n<p>I tried room database and shared preferences in my service but not worked !!</p>\n<p>**Please do not suggest using other methods. I just want to save data in background service , if its possible</p>\n"},{"tags":["java","android","flutter","usbserial"],"owner":{"account_id":18912484,"reputation":574,"user_id":13798282,"display_name":"Mohamadamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657969991,"creation_date":1657965343,"question_id":73003226,"body_markdown":"I have a flutter app that run a java code in some situations.\r\nI wrote java code in method call handler in `MethodCahnnel`.\r\nIn this callback I call another method that is communicate with a serial port using [usb-serial-for-android][1] and wait for data in `onNewData` listener. I want to send back this data to flutter. and I am using a class variable for it and fill it in `onNewData` method. and use `result.success` conditionaly when the variable is not empty! but `result.succes`s never called and if I delete the if statement, `result.success` called when the variable is empty.\r\n\r\n**Here is the section of my code:**\r\n\r\n    public class MainActivity extends FlutterActivity implements SerialInputOutputManager.Listener {\r\n    \r\n        private static final String CHANNEL = &quot;channel&quot;;\r\n    \r\n        private UsbSerialPort connectionPort;\r\n        private String response = &quot;&quot;;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n            super.configureFlutterEngine(flutterEngine);\r\n            new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\r\n                    .setMethodCallHandler(\r\n                            (call, result) -&gt; {\r\n                                        select();\r\n                                        if (!response.isEmpty()) result.success(response);\r\n                            }\r\n                    );\r\n        }\r\n    \r\n        @Override\r\n        protected void onNewIntent(Intent intent) {\r\n            if (intent.getAction().equals(&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;)) {\r\n                Toast.makeText(this, &quot;new usb device detected!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            super.onNewIntent(intent);\r\n        }\r\n    \r\n        private void select() {\r\n            connectionPort.write(...);\r\n        }\r\n    \r\n        @Override\r\n        public void onNewData(byte[] data) {\r\n            response = Utils.byteArrayToHexString(data);\r\n        }\r\n    \r\n        @Override\r\n        public void onRunError(Exception e) {\r\n            status(&quot;error onRunError&quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/mik3y/usb-serial-for-android","title":"How to pend flutter method channel callback (android native java code) for an android listener","body":"<p>I have a flutter app that run a java code in some situations.\nI wrote java code in method call handler in <code>MethodCahnnel</code>.\nIn this callback I call another method that is communicate with a serial port using <a href=\"https://github.com/mik3y/usb-serial-for-android\" rel=\"nofollow noreferrer\">usb-serial-for-android</a> and wait for data in <code>onNewData</code> listener. I want to send back this data to flutter. and I am using a class variable for it and fill it in <code>onNewData</code> method. and use <code>result.success</code> conditionaly when the variable is not empty! but <code>result.succes</code>s never called and if I delete the if statement, <code>result.success</code> called when the variable is empty.</p>\n<p><strong>Here is the section of my code:</strong></p>\n<pre><code>public class MainActivity extends FlutterActivity implements SerialInputOutputManager.Listener {\n\n    private static final String CHANNEL = &quot;channel&quot;;\n\n    private UsbSerialPort connectionPort;\n    private String response = &quot;&quot;;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\n        super.configureFlutterEngine(flutterEngine);\n        new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\n                .setMethodCallHandler(\n                        (call, result) -&gt; {\n                                    select();\n                                    if (!response.isEmpty()) result.success(response);\n                        }\n                );\n    }\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        if (intent.getAction().equals(&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;)) {\n            Toast.makeText(this, &quot;new usb device detected!&quot;, Toast.LENGTH_SHORT).show();\n        }\n        super.onNewIntent(intent);\n    }\n\n    private void select() {\n        connectionPort.write(...);\n    }\n\n    @Override\n    public void onNewData(byte[] data) {\n        response = Utils.byteArrayToHexString(data);\n    }\n\n    @Override\n    public void onRunError(Exception e) {\n        status(&quot;error onRunError&quot; + e.getMessage());\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","jpa-2.2"],"comments":[{"owner":{"account_id":2684712,"reputation":2248,"user_id":2319333,"display_name":"Halko Karr-Sajtarevic"},"score":0,"creation_date":1636748526,"post_id":69948594,"comment_id":123648645,"body_markdown":"what kind of database do you use? what does your datasource look like?","body":"what kind of database do you use? what does your datasource look like?"},{"owner":{"account_id":16905882,"reputation":1,"user_id":12226214,"display_name":"water thief"},"score":0,"creation_date":1636748687,"post_id":69948594,"comment_id":123648677,"body_markdown":"tbh i have no idea i think eclipse does everything on it&#39;s own i haven&#39;t had to setup a database at all.","body":"tbh i have no idea i think eclipse does everything on it&#39;s own i haven&#39;t had to setup a database at all."},{"owner":{"account_id":16905882,"reputation":1,"user_id":12226214,"display_name":"water thief"},"score":0,"creation_date":1636748827,"post_id":69948594,"comment_id":123648713,"body_markdown":"i forgot to mention i deploy to wildfly 24 i&#39;ll edit the question.","body":"i forgot to mention i deploy to wildfly 24 i&#39;ll edit the question."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1636749924,"post_id":69948594,"comment_id":123649008,"body_markdown":"Flush doesn&#39;t do anything itself other than force JPA to issue SQL statements - you must be an a transactional context and commit that context for the data to be persisted in the DB.  But if you don&#39;t have a persistent database setup, it might not be a persistent database and is using an In-memory database that is wiped out when your app restarts. Setup a database and control it yourself to determine if something else is wrong.","body":"Flush doesn&#39;t do anything itself other than force JPA to issue SQL statements - you must be an a transactional context and commit that context for the data to be persisted in the DB.  But if you don&#39;t have a persistent database setup, it might not be a persistent database and is using an In-memory database that is wiped out when your app restarts. Setup a database and control it yourself to determine if something else is wrong."},{"owner":{"account_id":16905882,"reputation":1,"user_id":12226214,"display_name":"water thief"},"score":0,"creation_date":1636751012,"post_id":69948594,"comment_id":123649354,"body_markdown":"ah! ok so it&#39;s saves it to a database that ends up discarded when i end the program. i&#39;ll try to setup a real database and I&#39;ll get back to you. thx.","body":"ah! ok so it&#39;s saves it to a database that ends up discarded when i end the program. i&#39;ll try to setup a real database and I&#39;ll get back to you. thx."}],"owner":{"account_id":16905882,"reputation":1,"user_id":12226214,"display_name":"water thief"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657969652,"creation_date":1636748228,"question_id":69948594,"body_markdown":"I&#39;ve been trying to learn JPA,EJB,servlets, things are working ok for the most part.\r\nBut whatever I do I can&#39;t actually get hibernate to find anything i&#39;ve persisted after I restart the application on the wildfly server.\r\n\r\nit&#39;s really frustrating there&#39;s no error message, nothing in the logs and when I check that my object is in the entity manager with .contains it&#39;s does return true.\r\n\r\nI&#39;ve tried adding a `flush()`\r\n\r\nI&#39;ve tried adding my class to the `persistance.xml`. (it&#39;s meant to find it automatically right ?)\r\n\r\nI&#39;ve tried changing the generation.database.action to : create, drop-and-create, drop and none; no luck.\r\n\r\nhere are the files if anybody could help it&#39;d be great because i&#39;m very confused rn.\r\n\r\npersistance.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n    \t&lt;persistence-unit name=&quot;EJBColis&quot;&gt;\r\n    \t\t&lt;class&gt;jpa.Colis&lt;/class&gt;\r\n    \t\t&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nEJBColis.java\r\n\r\n    package ejb;\r\n    \r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    import javax.ejb.LocalBean;\r\n    import javax.ejb.Stateless;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.TypedQuery;\r\n    \r\n    import jpa.Colis;\r\n    import jpa.Mesure;\r\n    import jpa.Position;\r\n    \r\n    @Stateless\r\n    @LocalBean\r\n    public class EJBColis {\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager em;\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Constructeur sans parametre obligatoire\r\n    \t */\r\n    \tpublic EJBColis() {\r\n    \t}\r\n    \t\r\n    \tpublic Colis addColis(double poid,double valeur,String origin,String destination,Position p ) {\r\n    \t\tColis m = new Colis(poid, valeur, origin, destination, p);\r\n    \t\tem.persist(m);\r\n    \t\tem.flush();\r\n    \t\tem.refresh(m);\r\n    \t\treturn m;\r\n    \t}\r\n     \r\n    \tpublic Colis findColis(long id) {\r\n    \t\tColis m = em.find(Colis.class, id);\r\n    \t\treturn m;\r\n    \t}\r\n    \t\r\n    \tpublic Position changePosition(long ColisId,double longitude,double lat,String origin,String destination) {\r\n    \t\tPosition m = new Position(longitude,lat, origin, destination);\r\n    \t\tColis c = findColis(ColisId);\r\n    \t\tc.setPosition(m);\r\n    \t\tem.persist(c);\r\n    \t\tem.flush();\r\n    \t\treturn m;\r\n    \t}\r\n    \t\r\n    \tpublic Position findPosition(long id) {\r\n    \t\tPosition m = em.find(Position.class, id);\r\n    \t\treturn m;\r\n    \t}\r\n\r\n\r\n\r\n}\r\n\r\naddColisServlet.java :\r\n    \r\n    package servlet;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import ejb.EJBColis;\r\n    import jpa.Colis;\r\n    import jpa.Mesure;\r\n    import jpa.Position;\r\n    \r\n    /**\r\n     * Servlet implementation class AddColisServlet\r\n     */\r\n    @WebServlet(&quot;/AddColisServlet&quot;)\r\n    public class AddColisServlet extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t// injection de la reference de l&#39;ejb\r\n    \t@EJB\r\n    \tprivate EJBColis ejb;\r\n           \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public AddColisServlet() {\r\n            super();\r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tdouble Poid = Double.parseDouble(request.getParameter(&quot;poid&quot;));\r\n    \t\tdouble valeur = Double.parseDouble(request.getParameter(&quot;valeur&quot;)) ;\r\n    \t\tString origine = request.getParameter(&quot;origine&quot;);\r\n    \t\tString destination = request.getParameter(&quot;destination&quot;);\r\n    \t\tPosition position = null;\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tColis m = ejb.addColis(Poid, valeur, origine, destination, position);\t\t\r\n    \t\t// ajout de la mesure dans la requete\r\n    \t\trequest.setAttribute(&quot;Colis&quot;,m);\r\n    \t\t// transfert a la JSP d&#39;affichage\r\n    \t\trequest.getRequestDispatcher(&quot;/showColis.jsp&quot;).forward(request, response);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tdoGet(request, response);\r\n    \t}\r\n    \r\n    }\r\n\r\nthe html page that calls addColisServlet :\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    \t&lt;title&gt;Manipulation des comptes bancaires&lt;/title&gt;\r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/base.css&quot; &gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Manipulation des comptes bancaires&lt;/h1&gt;\r\n    \t&lt;h2&gt;tracker un colis :&lt;/h2&gt;\r\n    \t&lt;form action=&quot;ShowColisServlet&quot; method=&quot;post&quot;&gt;\r\n    \t\tID : &lt;input type=&quot;number&quot; name=&quot;ID&quot;&gt;\r\n    \t\t&lt;input type=&quot;submit&quot; value=&quot;valider&quot;&gt;\r\n    \t&lt;/form&gt;\r\n    \t&lt;h2&gt;Creer un colis&lt;/h2&gt;\r\n    \t&lt;form action=&quot;AddColisServlet&quot; method=&quot;post&quot;&gt;\r\n    \t\tPoid : &lt;input type=&quot;number&quot; name=&quot;poid&quot;&gt;\r\n    \t\tvaleur : &lt;input type=&quot;number&quot; name=&quot;valeur&quot;&gt;\r\n    \t\torigine : &lt;input type=&quot;text&quot; name=&quot;origine&quot;&gt;\r\n    \t\tdestination : &lt;input type=&quot;text&quot; name=&quot;destination&quot;&gt;\r\n    \t\t&lt;input type=&quot;submit&quot; value=&quot;valider&quot;&gt;\r\n    \t&lt;/form&gt;\r\n    \t&lt;h2&gt;modifier position d&#39;un colis:&lt;/h2&gt;\r\n    \t&lt;form action=&quot;ModifColisServlet&quot; method=&quot;post&quot;&gt;\r\n    \t\tID : &lt;input type=&quot;text&quot; name=&quot;ID&quot;&gt;\r\n    \t\tlatitude : &lt;input type=&quot;number&quot; name=&quot;lat&quot;&gt;\r\n    \t\tlongitude : &lt;input type=&quot;number&quot; name=&quot;long&quot;&gt;\r\n    \t\templacement : &lt;input type=&quot;text&quot; name=&quot;emplacement&quot;&gt;\r\n    \t\tetat : &lt;input type=&quot;text&quot; name=&quot;etat&quot;&gt;\r\n    \t\t&lt;input type=&quot;submit&quot; value=&quot;chercher&quot;&gt;\r\n    \t&lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nalso i setup a github link to the code it&#39;s an eclipse project : \r\n\r\nhttps://github.com/vvhitefox/ColisEJB","title":"Why are no data stored after persist and restart","body":"<p>I've been trying to learn JPA,EJB,servlets, things are working ok for the most part.\nBut whatever I do I can't actually get hibernate to find anything i've persisted after I restart the application on the wildfly server.</p>\n<p>it's really frustrating there's no error message, nothing in the logs and when I check that my object is in the entity manager with .contains it's does return true.</p>\n<p>I've tried adding a <code>flush()</code></p>\n<p>I've tried adding my class to the <code>persistance.xml</code>. (it's meant to find it automatically right ?)</p>\n<p>I've tried changing the generation.database.action to : create, drop-and-create, drop and none; no luck.</p>\n<p>here are the files if anybody could help it'd be great because i'm very confused rn.</p>\n<p>persistance.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;EJBColis&quot;&gt;\n        &lt;class&gt;jpa.Colis&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>EJBColis.java</p>\n<pre><code>package ejb;\n\nimport java.util.LinkedList;\nimport java.util.List;\n\nimport javax.ejb.LocalBean;\nimport javax.ejb.Stateless;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.TypedQuery;\n\nimport jpa.Colis;\nimport jpa.Mesure;\nimport jpa.Position;\n\n@Stateless\n@LocalBean\npublic class EJBColis {\n    @PersistenceContext\n    private EntityManager em;\n    \n    \n    /**\n     * Constructeur sans parametre obligatoire\n     */\n    public EJBColis() {\n    }\n    \n    public Colis addColis(double poid,double valeur,String origin,String destination,Position p ) {\n        Colis m = new Colis(poid, valeur, origin, destination, p);\n        em.persist(m);\n        em.flush();\n        em.refresh(m);\n        return m;\n    }\n \n    public Colis findColis(long id) {\n        Colis m = em.find(Colis.class, id);\n        return m;\n    }\n    \n    public Position changePosition(long ColisId,double longitude,double lat,String origin,String destination) {\n        Position m = new Position(longitude,lat, origin, destination);\n        Colis c = findColis(ColisId);\n        c.setPosition(m);\n        em.persist(c);\n        em.flush();\n        return m;\n    }\n    \n    public Position findPosition(long id) {\n        Position m = em.find(Position.class, id);\n        return m;\n    }\n</code></pre>\n<p>}</p>\n<p>addColisServlet.java :</p>\n<pre><code>package servlet;\n\nimport java.io.IOException;\n\nimport javax.ejb.EJB;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport ejb.EJBColis;\nimport jpa.Colis;\nimport jpa.Mesure;\nimport jpa.Position;\n\n/**\n * Servlet implementation class AddColisServlet\n */\n@WebServlet(&quot;/AddColisServlet&quot;)\npublic class AddColisServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    \n    // injection de la reference de l'ejb\n    @EJB\n    private EJBColis ejb;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public AddColisServlet() {\n        super();\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        double Poid = Double.parseDouble(request.getParameter(&quot;poid&quot;));\n        double valeur = Double.parseDouble(request.getParameter(&quot;valeur&quot;)) ;\n        String origine = request.getParameter(&quot;origine&quot;);\n        String destination = request.getParameter(&quot;destination&quot;);\n        Position position = null;\n        \n        \n        \n        \n        Colis m = ejb.addColis(Poid, valeur, origine, destination, position);       \n        // ajout de la mesure dans la requete\n        request.setAttribute(&quot;Colis&quot;,m);\n        // transfert a la JSP d'affichage\n        request.getRequestDispatcher(&quot;/showColis.jsp&quot;).forward(request, response);\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        doGet(request, response);\n    }\n\n}\n</code></pre>\n<p>the html page that calls addColisServlet :</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;Manipulation des comptes bancaires&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/base.css&quot; &gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Manipulation des comptes bancaires&lt;/h1&gt;\n    &lt;h2&gt;tracker un colis :&lt;/h2&gt;\n    &lt;form action=&quot;ShowColisServlet&quot; method=&quot;post&quot;&gt;\n        ID : &lt;input type=&quot;number&quot; name=&quot;ID&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;valider&quot;&gt;\n    &lt;/form&gt;\n    &lt;h2&gt;Creer un colis&lt;/h2&gt;\n    &lt;form action=&quot;AddColisServlet&quot; method=&quot;post&quot;&gt;\n        Poid : &lt;input type=&quot;number&quot; name=&quot;poid&quot;&gt;\n        valeur : &lt;input type=&quot;number&quot; name=&quot;valeur&quot;&gt;\n        origine : &lt;input type=&quot;text&quot; name=&quot;origine&quot;&gt;\n        destination : &lt;input type=&quot;text&quot; name=&quot;destination&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;valider&quot;&gt;\n    &lt;/form&gt;\n    &lt;h2&gt;modifier position d'un colis:&lt;/h2&gt;\n    &lt;form action=&quot;ModifColisServlet&quot; method=&quot;post&quot;&gt;\n        ID : &lt;input type=&quot;text&quot; name=&quot;ID&quot;&gt;\n        latitude : &lt;input type=&quot;number&quot; name=&quot;lat&quot;&gt;\n        longitude : &lt;input type=&quot;number&quot; name=&quot;long&quot;&gt;\n        emplacement : &lt;input type=&quot;text&quot; name=&quot;emplacement&quot;&gt;\n        etat : &lt;input type=&quot;text&quot; name=&quot;etat&quot;&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;chercher&quot;&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>also i setup a github link to the code it's an eclipse project :</p>\n<p><a href=\"https://github.com/vvhitefox/ColisEJB\" rel=\"nofollow noreferrer\">https://github.com/vvhitefox/ColisEJB</a></p>\n"},{"tags":["java","intellij-idea","ide"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1627931314,"post_id":68626739,"comment_id":121282773,"body_markdown":"`/home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java` looks corrupted, try reinstalling the JDK or switch to a different JDK version.","body":"<code>&#47;home&#47;viktoriya&#47;.jdks&#47;adopt-openjdk-1.8.0_292&#47;bin&#47;java</code> looks corrupted, try reinstalling the JDK or switch to a different JDK version."},{"owner":{"account_id":22363991,"reputation":55,"user_id":16580109,"display_name":"helloJava"},"score":0,"creation_date":1627932875,"post_id":68626739,"comment_id":121283213,"body_markdown":"@CrazyCoder thank you, it was truly a problem with jdk. Now the project it&#39;s work in the both ide","body":"@CrazyCoder thank you, it was truly a problem with jdk. Now the project it&#39;s work in the both ide"},{"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"score":1,"creation_date":1627934076,"post_id":68626739,"comment_id":121283569,"body_markdown":"It seems like configured JDK is invalid","body":"It seems like configured JDK is invalid"}],"owner":{"account_id":22363991,"reputation":55,"user_id":16580109,"display_name":"helloJava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657968804,"creation_date":1627930738,"question_id":68626739,"body_markdown":"I create a Maven project with IJ Community Edition, and it&#39;s work with no errors. After I try to open this project with IJ Ultimate, but my progect(exercises) went to break up in both IDE.\r\n\r\n    Abnormal build process termination:\r\n    /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java -Xmx700m - \r\n    Djava.awt.headless=true -Djava.endorsed.dirs=\\&quot;\\&quot; Dexternal.project.config=/home/viktoriya/.cache/JetBrains/IntelliJIdea2021.2/external_bui \r\n    ld_system/aop.8b786682 -Dcompile.parallel=false -Drebuild.on.dependency.change=true - \r\n    Djdt.compiler.useSingleThread=true -Daether.connector.resumeDownloads=false - \r\n    Dio.netty.initialSeedUniquifier=-3134077656729915217 -Dfile.encoding=UTF-8 - \r\n    Duser.language=it -Duser.country=IT -Didea.paths.selector=IntelliJIdea2021.2 - \r\n    Didea.home.path=/snap/intellij-idea-ultimate/311 - \r\n    Didea.config.path=/home/viktoriya/.config/JetBrains/IntelliJIdea2021.2 - \r\n    Didea.plugins.path=/home/viktoriya/.local/share/JetBrains/IntelliJIdea2021.2 - \r\n    Djps.log.dir=/home/viktoriya/.cache/JetBrains/IntelliJIdea2021.2/log/build-log - \r\n    Djps.fallback.jdk.home=/snap/intellij-idea-ultimate/311/jbr - \r\n    Djps.fallback.jdk.version=11.0.11 -Dio.netty.noUnsafe=true - \r\n    Djava.io.tmpdir=/home/viktoriya/.cache/JetBrains/IntelliJIdea2021.2/compile- \r\n    server/aop_fceb3a58/_temp_ -Djps.backward.ref.index.builder=true - \r\n    Dtmh.instrument.annotations=true -Dtmh.generate.line.numbers=true - \r\n    Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true - \r\n    Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;/tmp/kotlin-idea- \r\n    12642686614178805058-is-running\\&quot; -classpath /snap/intellij-idea- \r\n    ultimate/311/plugins/java/lib/jps-launcher.jar:/home/viktoriya/.jdks/adopt-openjdk- \r\n    1.8.0_292/lib/tools.jar org.jetbrains.jps.cmdline.Launcher /snap/intellij-idea- \r\n    ultimate/311/lib/jps-model.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/java/lib/maven-resolver-transport-file-1.3.3.jar:/snap/intellij- \r\n    idea-ultimate/311/lib/forms_rt.jar:/snap/intellij-idea-ultimate/311/lib/jna- \r\n    platform.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/jps- \r\n    builders.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/jps-builders- \r\n    6.jar:/snap/intellij-idea-ultimate/311/lib/kotlin-stdlib-jdk8.jar:/snap/intellij- \r\n    idea-ultimate/311/lib/slf4j.jar:/snap/intellij-idea-ultimate/311/lib/protobuf-java- \r\n    3.15.8.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/maven-resolver- \r\n    connector-basic-1.3.3.jar:/snap/intellij-idea- \r\n    ultimate/311/lib/idea_rt.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/maven- \r\n    resolver-transport-http-1.3.3.jar:/snap/intellij-idea- \r\n    ultimate/311/lib/jna.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/java/lib/javac2.jar:/snap/intellij-idea-ultimate/311/lib/3rd- \r\n    party.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/jps-javac-extension- \r\n    1.jar:/snap/intellij-idea-ultimate/311/lib/util.jar:/snap/intellij-idea- \r\n    ultimate/311/lib/annotations.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/java/lib/aether-dependency-resolver.jar:/snap/intellij-idea- \r\n    ultimate/311/lib/platform-api.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/JavaEE/lib/jasper-v2-rt.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Kotlin/lib/kotlin-reflect.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Kotlin/lib/kotlin-plugin.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/ant/lib/ant-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/eclipse/lib/eclipse-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/eclipse/lib/eclipse-common.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/IntelliLang/lib/java-langInjection-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Groovy/lib/groovy-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Groovy/lib/groovy-constants-rt.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/maven/lib/maven-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/gradle-java/lib/gradle-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/devkit/lib/devkit-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/javaFX/lib/javaFX-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/javaFX/lib/javaFX-common.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/JavaEE/lib/javaee-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/webSphereIntegration/lib/jps/javaee-appServers-websphere- \r\n    jps.jar:/snap/intellij-idea-ultimate/311/plugins/weblogicIntegration/lib/jps/javaee- \r\n    appServers-weblogic-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/JPA/lib/jps/javaee-jpa-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Grails/lib/groovy-grails-jps.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Grails/lib/groovy-grails-compilerPatch.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Kotlin/lib/kotlin-jps-common.jar:/snap/intellij-idea- \r\n    ultimate/311/plugins/Kotlin/lib/kotlin-common.jar org.jetbrains.jps.cmdline.BuildMain \r\n     127.0.0.1 36431 07bedbac-3b45-46ae-985c-23aa3cfc7910 \r\n     /home/viktoriya/.cache/JetBrains/IntelliJIdea2021.2/compile-server\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 1: ��ELF\u0002\u0001\u0001\u0003: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 2: ��: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 3: ��: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 4: ��\u0002��\u0002: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 5: ��: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 6: ��: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 7: \u0010\u0002\u0010\u0004\u0004T\u0002T\u0002T\u0002: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 8: ��: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 9: ��: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 10: P\u0002P\u0002\u0001/lib64/ld-linux- \r\n     x86-64.so.2\u0004\u0010\u0001GNU\u0002\u0006\u0012: not found\r\n     /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 16: Syntax error: &quot;)&quot; \r\n     unexpected`\r\n\r\n\r\nSo I try to open it again with IJ Community, but I&#39;s was also broked. I create a new one,identical, with the same classes and the same Maven dependecies with IJ Community, I change just the name progect, and it&#39;s work. \r\nSo my question is why IJ Utilmate broke my progect and how may I adjust it. \r\nAfter I create a simple Maven progect with just an System.out.println(&quot;hello&quot;); with Ij Ultimate, and I&#39;ve got the same results like in my firs progect, so was broked with the same message about &quot;Abnormal buiild process terminated&quot;.\r\nSo the problem it&#39;s not in my code, but with IJ Ultimate Ide. How may I fix it? Because I prefer work with Ultimate edition.\r\nThank you","title":"problems with IDE IJ Community vs IJ Ultimate","body":"<p>I create a Maven project with IJ Community Edition, and it's work with no errors. After I try to open this project with IJ Ultimate, but my progect(exercises) went to break up in both IDE.</p>\n<pre><code>Abnormal build process termination:\n/home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java -Xmx700m - \nDjava.awt.headless=true -Djava.endorsed.dirs=\\&quot;\\&quot; Dexternal.project.config=/home/viktoriya/.cache/JetBrains/IntelliJIdea2021.2/external_bui \nld_system/aop.8b786682 -Dcompile.parallel=false -Drebuild.on.dependency.change=true - \nDjdt.compiler.useSingleThread=true -Daether.connector.resumeDownloads=false - \nDio.netty.initialSeedUniquifier=-3134077656729915217 -Dfile.encoding=UTF-8 - \nDuser.language=it -Duser.country=IT -Didea.paths.selector=IntelliJIdea2021.2 - \nDidea.home.path=/snap/intellij-idea-ultimate/311 - \nDidea.config.path=/home/viktoriya/.config/JetBrains/IntelliJIdea2021.2 - \nDidea.plugins.path=/home/viktoriya/.local/share/JetBrains/IntelliJIdea2021.2 - \nDjps.log.dir=/home/viktoriya/.cache/JetBrains/IntelliJIdea2021.2/log/build-log - \nDjps.fallback.jdk.home=/snap/intellij-idea-ultimate/311/jbr - \nDjps.fallback.jdk.version=11.0.11 -Dio.netty.noUnsafe=true - \nDjava.io.tmpdir=/home/viktoriya/.cache/JetBrains/IntelliJIdea2021.2/compile- \nserver/aop_fceb3a58/_temp_ -Djps.backward.ref.index.builder=true - \nDtmh.instrument.annotations=true -Dtmh.generate.line.numbers=true - \nDkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true - \nDkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;/tmp/kotlin-idea- \n12642686614178805058-is-running\\&quot; -classpath /snap/intellij-idea- \nultimate/311/plugins/java/lib/jps-launcher.jar:/home/viktoriya/.jdks/adopt-openjdk- \n1.8.0_292/lib/tools.jar org.jetbrains.jps.cmdline.Launcher /snap/intellij-idea- \nultimate/311/lib/jps-model.jar:/snap/intellij-idea- \nultimate/311/plugins/java/lib/maven-resolver-transport-file-1.3.3.jar:/snap/intellij- \nidea-ultimate/311/lib/forms_rt.jar:/snap/intellij-idea-ultimate/311/lib/jna- \nplatform.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/jps- \nbuilders.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/jps-builders- \n6.jar:/snap/intellij-idea-ultimate/311/lib/kotlin-stdlib-jdk8.jar:/snap/intellij- \nidea-ultimate/311/lib/slf4j.jar:/snap/intellij-idea-ultimate/311/lib/protobuf-java- \n3.15.8.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/maven-resolver- \nconnector-basic-1.3.3.jar:/snap/intellij-idea- \nultimate/311/lib/idea_rt.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/maven- \nresolver-transport-http-1.3.3.jar:/snap/intellij-idea- \nultimate/311/lib/jna.jar:/snap/intellij-idea- \nultimate/311/plugins/java/lib/javac2.jar:/snap/intellij-idea-ultimate/311/lib/3rd- \nparty.jar:/snap/intellij-idea-ultimate/311/plugins/java/lib/jps-javac-extension- \n1.jar:/snap/intellij-idea-ultimate/311/lib/util.jar:/snap/intellij-idea- \nultimate/311/lib/annotations.jar:/snap/intellij-idea- \nultimate/311/plugins/java/lib/aether-dependency-resolver.jar:/snap/intellij-idea- \nultimate/311/lib/platform-api.jar:/snap/intellij-idea- \nultimate/311/plugins/JavaEE/lib/jasper-v2-rt.jar:/snap/intellij-idea- \nultimate/311/plugins/Kotlin/lib/kotlin-reflect.jar:/snap/intellij-idea- \nultimate/311/plugins/Kotlin/lib/kotlin-plugin.jar:/snap/intellij-idea- \nultimate/311/plugins/ant/lib/ant-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/eclipse/lib/eclipse-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/eclipse/lib/eclipse-common.jar:/snap/intellij-idea- \nultimate/311/plugins/IntelliLang/lib/java-langInjection-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/Groovy/lib/groovy-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/Groovy/lib/groovy-constants-rt.jar:/snap/intellij-idea- \nultimate/311/plugins/maven/lib/maven-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/gradle-java/lib/gradle-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/devkit/lib/devkit-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/javaFX/lib/javaFX-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/javaFX/lib/javaFX-common.jar:/snap/intellij-idea- \nultimate/311/plugins/JavaEE/lib/javaee-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/webSphereIntegration/lib/jps/javaee-appServers-websphere- \njps.jar:/snap/intellij-idea-ultimate/311/plugins/weblogicIntegration/lib/jps/javaee- \nappServers-weblogic-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/JPA/lib/jps/javaee-jpa-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/Grails/lib/groovy-grails-jps.jar:/snap/intellij-idea- \nultimate/311/plugins/Grails/lib/groovy-grails-compilerPatch.jar:/snap/intellij-idea- \nultimate/311/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar:/snap/intellij-idea- \nultimate/311/plugins/Kotlin/lib/kotlin-jps-common.jar:/snap/intellij-idea- \nultimate/311/plugins/Kotlin/lib/kotlin-common.jar org.jetbrains.jps.cmdline.BuildMain \n 127.0.0.1 36431 07bedbac-3b45-46ae-985c-23aa3cfc7910 \n /home/viktoriya/.cache/JetBrains/IntelliJIdea2021.2/compile-server\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 1: ��ELF: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 2: ��: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 3: ��: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 4: ����: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 5: ��: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 6: ��: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 7: \u0010\u0010TTT: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 8: ��: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 9: ��: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 10: PP/lib64/ld-linux- \n x86-64.so.2\u0010GNU: not found\n /home/viktoriya/.jdks/adopt-openjdk-1.8.0_292/bin/java: 16: Syntax error: &quot;)&quot; \n unexpected`\n</code></pre>\n<p>So I try to open it again with IJ Community, but I's was also broked. I create a new one,identical, with the same classes and the same Maven dependecies with IJ Community, I change just the name progect, and it's work.\nSo my question is why IJ Utilmate broke my progect and how may I adjust it.\nAfter I create a simple Maven progect with just an System.out.println(&quot;hello&quot;); with Ij Ultimate, and I've got the same results like in my firs progect, so was broked with the same message about &quot;Abnormal buiild process terminated&quot;.\nSo the problem it's not in my code, but with IJ Ultimate Ide. How may I fix it? Because I prefer work with Ultimate edition.\nThank you</p>\n"},{"tags":["java","spring","postgresql","eclipse","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638536073,"post_id":70214526,"comment_id":124120944,"body_markdown":"please add the logging as is with code tags, not as quotes as now it it totally unreadable. Your `application.properties` is probably in the wrong location, hence not read, hence the error.","body":"please add the logging as is with code tags, not as quotes as now it it totally unreadable. Your <code>application.properties</code> is probably in the wrong location, hence not read, hence the error."},{"owner":{"account_id":23535239,"reputation":1,"user_id":17580284,"display_name":"Murillo Jorge Nobrega de Melo"},"score":0,"creation_date":1638536664,"post_id":70214526,"comment_id":124121186,"body_markdown":"It is inside src/main/resources","body":"It is inside src/main/resources"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638536821,"post_id":70214526,"comment_id":124121259,"body_markdown":"Again please add the logging as is, the current one is totally unreadable (and unsalvagable I did a reformatting attempt but that is impossible). Show your project structure as well. There must be something preventing it from being read.","body":"Again please add the logging as is, the current one is totally unreadable (and unsalvagable I did a reformatting attempt but that is impossible). Show your project structure as well. There must be something preventing it from being read."},{"owner":{"account_id":23535239,"reputation":1,"user_id":17580284,"display_name":"Murillo Jorge Nobrega de Melo"},"score":0,"creation_date":1638537510,"post_id":70214526,"comment_id":124121535,"body_markdown":"Just added my error message to code tags and put my project structure on my original post.","body":"Just added my error message to code tags and put my project structure on my original post."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1638540039,"post_id":70214526,"comment_id":124122539,"body_markdown":"Try mvn spring-boot:run and see what happens","body":"Try mvn spring-boot:run and see what happens"},{"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"score":0,"creation_date":1638971926,"post_id":70214526,"comment_id":124228891,"body_markdown":"The question is very General","body":"The question is very General"}],"owner":{"account_id":23535239,"reputation":1,"user_id":17580284,"display_name":"Murillo Jorge Nobrega de Melo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657968704,"creation_date":1638535472,"question_id":70214526,"body_markdown":"Yesterday I could run my application, connect it to the database and even use it, today I just cant. I&#39;m using springboot, eclipse, swagger and postgresql. Already tried restarting postgresql on my machine and nothing.\r\n\r\n\r\nError message:\r\n\r\n    10:04:58.744 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7708de08\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.6.1)\r\n    \r\n    2021-12-03 10:04:59.003  INFO 4672 --- [  restartedMain] com.crud.CrudApplication                 : Starting CrudApplication using Java 17.0.1 on GON170102162 with PID 4672 (C:\\Users\\murillo.jorge\\eclipse-workspace\\CRUD\\target\\classes started by murillo.jorge in C:\\Users\\murillo.jorge\\eclipse-workspace\\CRUD)\r\n    2021-12-03 10:04:59.004  INFO 4672 --- [  restartedMain] com.crud.CrudApplication                 : No active profile set, falling back to default profiles: default\r\n    2021-12-03 10:04:59.037  INFO 4672 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2021-12-03 10:04:59.037  INFO 4672 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2021-12-03 10:04:59.595  INFO 4672 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2021-12-03 10:04:59.627  INFO 4672 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 1 JPA repository interfaces.\r\n    2021-12-03 10:05:00.011  INFO 4672 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2021-12-03 10:05:00.020  INFO 4672 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2021-12-03 10:05:00.020  INFO 4672 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]\r\n    2021-12-03 10:05:00.102  INFO 4672 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2021-12-03 10:05:00.103  INFO 4672 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1065 ms\r\n    2021-12-03 10:05:00.144  WARN 4672 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    2021-12-03 10:05:00.146  INFO 4672 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2021-12-03 10:05:00.157  INFO 4672 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2021-12-03 10:05:00.168 ERROR 4672 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n\r\nMy pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nmy application properties\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/Clientes\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=admin\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    \r\n    \r\n    #spring.datasource.url=${JDBC_DATASOURCE_URL}\r\n    #spring.jpa.show-sql=true\r\n    #spring.jpa.generate-ddl=true\r\n    \r\n    \r\n    spring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\n\r\nMy project structure\r\n\r\n    |   .classpath\r\n    |   .gitignore\r\n    |   .project\r\n    |   HELP.md\r\n    |   mvnw\r\n    |   mvnw.cmd\r\n    |   pom.xml\r\n    |   test.txt\r\n    |   \r\n    +---.mvn\r\n    |   \\---wrapper\r\n    |           maven-wrapper.jar\r\n    |           maven-wrapper.properties\r\n    |           MavenWrapperDownloader.java\r\n    |           \r\n    +---.settings\r\n    |       org.eclipse.core.resources.prefs\r\n    |       org.eclipse.jdt.core.prefs\r\n    |       org.eclipse.m2e.core.prefs\r\n    |       org.springframework.ide.eclipse.prefs\r\n    |       \r\n    +---src\r\n    |   +---main\r\n    |   |   +---java\r\n    |   |   |   \\---com\r\n    |   |   |       \\---crud\r\n    |   |   |           |   CrudApplication.java\r\n    |   |   |           |   \r\n    |   |   |           +---controller\r\n    |   |   |           |       ClienteController.java\r\n    |   |   |           |       \r\n    |   |   |           +---model\r\n    |   |   |           |       Cliente.java\r\n    |   |   |           |       \r\n    |   |   |           \\---repository\r\n    |   |   |                   ClienteRepository.java\r\n    |   |   |                   \r\n    |   |   \\---resources\r\n    |   |       |   application.properties\r\n    |   |       |   \r\n    |   |       +---static\r\n    |   |       \\---templates\r\n    |   \\---test\r\n    |       \\---java\r\n    |           \\---com\r\n    |               \\---crud\r\n    |                       CrudApplicationTests.java\r\n    |                       \r\n    \\---target\r\n        +---classes\r\n        |   |   application.properties\r\n        |   |   \r\n        |   \\---com\r\n        |       \\---crud\r\n        |           |   CrudApplication.class\r\n        |           |   \r\n        |           +---controller\r\n        |           |       ClienteController.class\r\n        |           |       \r\n        |           +---model\r\n        |           |       Cliente.class\r\n        |           |       \r\n        |           \\---repository\r\n        |                   ClienteRepository.class\r\n        |                   \r\n        \\---test-classes\r\n            \\---com\r\n                \\---crud\r\n                        CrudApplicationTests.class\r\n\r\nEdit: put my project structure and error message inside code tags","title":"Cant connect spring application to postgresql","body":"<p>Yesterday I could run my application, connect it to the database and even use it, today I just cant. I'm using springboot, eclipse, swagger and postgresql. Already tried restarting postgresql on my machine and nothing.</p>\n<p>Error message:</p>\n<pre><code>10:04:58.744 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@7708de08\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.1)\n\n2021-12-03 10:04:59.003  INFO 4672 --- [  restartedMain] com.crud.CrudApplication                 : Starting CrudApplication using Java 17.0.1 on GON170102162 with PID 4672 (C:\\Users\\murillo.jorge\\eclipse-workspace\\CRUD\\target\\classes started by murillo.jorge in C:\\Users\\murillo.jorge\\eclipse-workspace\\CRUD)\n2021-12-03 10:04:59.004  INFO 4672 --- [  restartedMain] com.crud.CrudApplication                 : No active profile set, falling back to default profiles: default\n2021-12-03 10:04:59.037  INFO 4672 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2021-12-03 10:04:59.037  INFO 4672 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2021-12-03 10:04:59.595  INFO 4672 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-12-03 10:04:59.627  INFO 4672 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 1 JPA repository interfaces.\n2021-12-03 10:05:00.011  INFO 4672 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-12-03 10:05:00.020  INFO 4672 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-12-03 10:05:00.020  INFO 4672 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.55]\n2021-12-03 10:05:00.102  INFO 4672 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-12-03 10:05:00.103  INFO 4672 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1065 ms\n2021-12-03 10:05:00.144  WARN 4672 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n2021-12-03 10:05:00.146  INFO 4672 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2021-12-03 10:05:00.157  INFO 4672 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-12-03 10:05:00.168 ERROR 4672 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>my application properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/Clientes\nspring.datasource.username=admin\nspring.datasource.password=admin\n\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\n\n#spring.datasource.url=${JDBC_DATASOURCE_URL}\n#spring.jpa.show-sql=true\n#spring.jpa.generate-ddl=true\n\n\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\n</code></pre>\n<p>My project structure</p>\n<pre><code>|   .classpath\n|   .gitignore\n|   .project\n|   HELP.md\n|   mvnw\n|   mvnw.cmd\n|   pom.xml\n|   test.txt\n|   \n+---.mvn\n|   \\---wrapper\n|           maven-wrapper.jar\n|           maven-wrapper.properties\n|           MavenWrapperDownloader.java\n|           \n+---.settings\n|       org.eclipse.core.resources.prefs\n|       org.eclipse.jdt.core.prefs\n|       org.eclipse.m2e.core.prefs\n|       org.springframework.ide.eclipse.prefs\n|       \n+---src\n|   +---main\n|   |   +---java\n|   |   |   \\---com\n|   |   |       \\---crud\n|   |   |           |   CrudApplication.java\n|   |   |           |   \n|   |   |           +---controller\n|   |   |           |       ClienteController.java\n|   |   |           |       \n|   |   |           +---model\n|   |   |           |       Cliente.java\n|   |   |           |       \n|   |   |           \\---repository\n|   |   |                   ClienteRepository.java\n|   |   |                   \n|   |   \\---resources\n|   |       |   application.properties\n|   |       |   \n|   |       +---static\n|   |       \\---templates\n|   \\---test\n|       \\---java\n|           \\---com\n|               \\---crud\n|                       CrudApplicationTests.java\n|                       \n\\---target\n    +---classes\n    |   |   application.properties\n    |   |   \n    |   \\---com\n    |       \\---crud\n    |           |   CrudApplication.class\n    |           |   \n    |           +---controller\n    |           |       ClienteController.class\n    |           |       \n    |           +---model\n    |           |       Cliente.class\n    |           |       \n    |           \\---repository\n    |                   ClienteRepository.class\n    |                   \n    \\---test-classes\n        \\---com\n            \\---crud\n                    CrudApplicationTests.class\n</code></pre>\n<p>Edit: put my project structure and error message inside code tags</p>\n"},{"tags":["java","android","android-studio","kotlin","android-layout"],"answers":[{"tags":[],"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657968253,"creation_date":1657968253,"answer_id":73003522,"question_id":73003483,"body_markdown":"you need to add ```android:layout_height=&quot;wrap_content&quot;``` in your respected View of the xml file.\r\n\r\nHappy Coding :)","title":"Android linking Faild","body":"<p>you need to add <code>android:layout_height=&quot;wrap_content&quot;</code> in your respected View of the xml file.</p>\n<p>Happy Coding :)</p>\n"}],"owner":{"account_id":21924893,"reputation":3,"user_id":16207656,"display_name":"mes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73003522,"answer_count":1,"score":0,"last_activity_date":1657968253,"creation_date":1657967819,"question_id":73003483,"body_markdown":"ERROR:C:\\Users\\aron.kibet\\AndroidStudioProjects\\Status_Saver22\\app\\src\\main\\res\\layout\\activity_main.xml:2: AAPT: error: attribute layout_height (aka com.example.status_saver22:layout_height) not found.\r\n","title":"Android linking Faild","body":"<p>ERROR:C:\\Users\\aron.kibet\\AndroidStudioProjects\\Status_Saver22\\app\\src\\main\\res\\layout\\activity_main.xml:2: AAPT: error: attribute layout_height (aka com.example.status_saver22:layout_height) not found.</p>\n"},{"tags":["java","html","jsoup","http-status-code-403"],"comments":[{"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"score":0,"creation_date":1658052657,"post_id":73003492,"comment_id":128951275,"body_markdown":"Try using random `userAgent` and random `referrer` the same way as you&#39;re using random `mesId`.","body":"Try using random <code>userAgent</code> and random <code>referrer</code> the same way as you&#39;re using random <code>mesId</code>."},{"owner":{"account_id":25822454,"reputation":1,"user_id":19561295,"display_name":"DerfelCadarn"},"score":0,"creation_date":1658151325,"post_id":73003492,"comment_id":128972834,"body_markdown":"Hello, it was a super idea. I just tried it with a loop a 5 minutes, 6 random userAgent and 2 random referrer. Unfortunately, I still have the 503 after 2 loops.","body":"Hello, it was a super idea. I just tried it with a loop a 5 minutes, 6 random userAgent and 2 random referrer. Unfortunately, I still have the 503 after 2 loops."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1660567928,"post_id":73003492,"comment_id":129556044,"body_markdown":"It seems like this is not about programming as much as it is about circumventing a site&#39;s terms of service.","body":"It seems like this is not about programming as much as it is about circumventing a site&#39;s terms of service."}],"owner":{"account_id":25822454,"reputation":1,"user_id":19561295,"display_name":"DerfelCadarn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657967951,"creation_date":1657967951,"question_id":73003492,"body_markdown":"I need some help with my use of the Jsoup library. \r\n\r\nI launch the following script to scan a page of a website.\r\n\r\n **1. If I launch the script every 5 minutes :**\r\n\r\nAfter 4 or more loops (after 20 minutes), I am starting to have the following java error :\r\n\r\n&quot;org.jsoup.HttpStatusException: HTTP error fetchine URL. Status=403.&quot;\r\n\r\nAnd more and more often, until having a 403 every 5 minutes.\r\n\r\nIf I visit the website with a browser (Chrome or anything else) on the same PC I am launching the script, at this point I also get a 403 on any page of the website :\r\n\r\n&quot;403 Forbidden&quot; and &quot;Request forbidden by administrative rules&quot;\r\n\r\nIf I visit the website with my phone, I don&#39;t get the 403. Strange...\r\n\r\n **2. If I launch the script every 10 minutes, I am getting the following loop :**\r\n\r\n3 or 4 times OK, 2 or 3 times a 403, 3 or 4 times OK, 2 or 3 times a 403, 3 or 4 times OK, 2 or 3 times a 403, ...\r\n\r\n**My thoughts, question :**\r\n\r\nThere is a sort a protection on this website and I don&#39;t know how to by-pass it. It&#39;s like I am banned after a few time, like &quot;too much request&quot;. I am already sending a userAgent or a referrer. I give you the full script even if it is not relevant for me. Maybe I made a mistake in it. The goal of this script is to get the text on the &quot;form3&quot; form. To solve the problem, I have to wait several hours for the 403 to disapear. \r\n\r\nCould you please help me to fix this 403 ? I am out of solutions... Maybe it is just a problem with the website, I don&#39;t know.\r\n\r\n**The script :**\r\n\r\n```\r\ntry {\r\n\tString url = &quot;http://...&quot;;\r\n\t// Some params\r\n\tString[] mesId = {&quot;[id=planning11604]&quot;,&quot;[id=planning11612]&quot;,&quot;[id=planning12915]&quot;};\r\n\tjava.util.Random r = new java.util.Random();\r\n\tint Guichet = r.nextInt(3);\t \r\n\t\r\n\t// My Jsoup connection\r\n\tConnection.Response resp = Jsoup.connect(url)\r\n\t\t.userAgent(&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36&quot;)\r\n\t\t.referrer(&quot;http://www.google.com&quot;)\r\n\t\t.method(Connection.Method.GET)\r\n\t\t.timeout(20000)\r\n\t\t.execute();\r\n\tDocument responseDocument1 = resp.parse();\r\n\t\r\n\t// &quot;checked&quot; a checkbox in a form and then submit the form.\r\n\tFormElement form1 = (FormElement) responseDocument1.select(&quot;form#FormBookingCreate&quot;).first();\r\n\tElement maCheckbox1 = form1.select(&quot;[name=condition]&quot;).first();\r\n\tmaCheckbox1.attr(&quot;checked&quot;, &quot;checked&quot;);\r\n\tDocument responseDocument2 = form1.submit().cookies(resp.cookies()).post();\r\n\t\r\n\t// &quot;checked&quot; a radio button in a form and then submit the form.\r\n\tFormElement form2 = (FormElement) responseDocument2.select(&quot;form#FormBookingCreate&quot;).first();\r\n\tElement Radio1 = form2.select(mesId[Guichet]).first();\r\n\tRadio1.attr(&quot;checked&quot;, &quot;checked&quot;);\r\n\tDocument responseDocument3 = form2.submit().cookies(resp.cookies()).post();\r\n\t\r\n\tFormElement form3 = (FormElement) responseDocument3.select(&quot;form#FormBookingCreate&quot;).first();\r\n\tSystem.out.println(&quot;3&#232;me page : &quot;+form3.text());\r\n\tGuichet = Guichet+1;\r\n} catch (IOException e) {\r\n\tSystem.out.println(e.toString());\r\n}\r\n```\r\n\r\n","title":"Jsoup - How to by-pass my (random) 403 HTML error?","body":"<p>I need some help with my use of the Jsoup library.</p>\n<p>I launch the following script to scan a page of a website.</p>\n<p><strong>1. If I launch the script every 5 minutes :</strong></p>\n<p>After 4 or more loops (after 20 minutes), I am starting to have the following java error :</p>\n<p>&quot;org.jsoup.HttpStatusException: HTTP error fetchine URL. Status=403.&quot;</p>\n<p>And more and more often, until having a 403 every 5 minutes.</p>\n<p>If I visit the website with a browser (Chrome or anything else) on the same PC I am launching the script, at this point I also get a 403 on any page of the website :</p>\n<p>&quot;403 Forbidden&quot; and &quot;Request forbidden by administrative rules&quot;</p>\n<p>If I visit the website with my phone, I don't get the 403. Strange...</p>\n<p><strong>2. If I launch the script every 10 minutes, I am getting the following loop :</strong></p>\n<p>3 or 4 times OK, 2 or 3 times a 403, 3 or 4 times OK, 2 or 3 times a 403, 3 or 4 times OK, 2 or 3 times a 403, ...</p>\n<p><strong>My thoughts, question :</strong></p>\n<p>There is a sort a protection on this website and I don't know how to by-pass it. It's like I am banned after a few time, like &quot;too much request&quot;. I am already sending a userAgent or a referrer. I give you the full script even if it is not relevant for me. Maybe I made a mistake in it. The goal of this script is to get the text on the &quot;form3&quot; form. To solve the problem, I have to wait several hours for the 403 to disapear.</p>\n<p>Could you please help me to fix this 403 ? I am out of solutions... Maybe it is just a problem with the website, I don't know.</p>\n<p><strong>The script :</strong></p>\n<pre><code>try {\n    String url = &quot;http://...&quot;;\n    // Some params\n    String[] mesId = {&quot;[id=planning11604]&quot;,&quot;[id=planning11612]&quot;,&quot;[id=planning12915]&quot;};\n    java.util.Random r = new java.util.Random();\n    int Guichet = r.nextInt(3);  \n    \n    // My Jsoup connection\n    Connection.Response resp = Jsoup.connect(url)\n        .userAgent(&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36&quot;)\n        .referrer(&quot;http://www.google.com&quot;)\n        .method(Connection.Method.GET)\n        .timeout(20000)\n        .execute();\n    Document responseDocument1 = resp.parse();\n    \n    // &quot;checked&quot; a checkbox in a form and then submit the form.\n    FormElement form1 = (FormElement) responseDocument1.select(&quot;form#FormBookingCreate&quot;).first();\n    Element maCheckbox1 = form1.select(&quot;[name=condition]&quot;).first();\n    maCheckbox1.attr(&quot;checked&quot;, &quot;checked&quot;);\n    Document responseDocument2 = form1.submit().cookies(resp.cookies()).post();\n    \n    // &quot;checked&quot; a radio button in a form and then submit the form.\n    FormElement form2 = (FormElement) responseDocument2.select(&quot;form#FormBookingCreate&quot;).first();\n    Element Radio1 = form2.select(mesId[Guichet]).first();\n    Radio1.attr(&quot;checked&quot;, &quot;checked&quot;);\n    Document responseDocument3 = form2.submit().cookies(resp.cookies()).post();\n    \n    FormElement form3 = (FormElement) responseDocument3.select(&quot;form#FormBookingCreate&quot;).first();\n    System.out.println(&quot;3ème page : &quot;+form3.text());\n    Guichet = Guichet+1;\n} catch (IOException e) {\n    System.out.println(e.toString());\n}\n</code></pre>\n"},{"tags":["java","android","build","android-source","android-build"],"comments":[{"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"score":4,"creation_date":1551084926,"post_id":54862299,"comment_id":96495617,"body_markdown":"This seems like a very extreme way of going about things, and your app will only run on devices running your customised build of AOSP. Wouldn&#39;t it just be much easier to create an interface with an `int` method in your app, and apply it to all relevant classes? Or are you trying to change other Android SDK classes as well by means of inheritance?","body":"This seems like a very extreme way of going about things, and your app will only run on devices running your customised build of AOSP. Wouldn&#39;t it just be much easier to create an interface with an <code>int</code> method in your app, and apply it to all relevant classes? Or are you trying to change other Android SDK classes as well by means of inheritance?"},{"owner":{"account_id":10876169,"reputation":841,"user_id":7996523,"display_name":"Richard Hu"},"score":0,"creation_date":1551085346,"post_id":54862299,"comment_id":96495823,"body_markdown":"Hi Michael, thank you for your reply! Yes, I want the change apply to EVERY classes, including the core Java library, Android SDK classes, and my application classes. I make this customized AOSP only for research purpose, therefore this is actually the simplest way I could figure out to meet my requirement.","body":"Hi Michael, thank you for your reply! Yes, I want the change apply to EVERY classes, including the core Java library, Android SDK classes, and my application classes. I make this customized AOSP only for research purpose, therefore this is actually the simplest way I could figure out to meet my requirement."},{"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"score":2,"creation_date":1551085600,"post_id":54862299,"comment_id":96495954,"body_markdown":"You&#39;d also need to create a custom Android SDK and import that into Android Studio, else your new methods won&#39;t show up in Android Studio and won&#39;t compile. This link should be a good place to start: https://android.googlesource.com/platform/sdk/+/master/docs/howto_build_SDK.txt","body":"You&#39;d also need to create a custom Android SDK and import that into Android Studio, else your new methods won&#39;t show up in Android Studio and won&#39;t compile. This link should be a good place to start: <a href=\"https://android.googlesource.com/platform/sdk/+/master/docs/howto_build_SDK.txt\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/sdk/+/master/docs/&hellip;</a>"},{"owner":{"account_id":10876169,"reputation":841,"user_id":7996523,"display_name":"Richard Hu"},"score":0,"creation_date":1551086300,"post_id":54862299,"comment_id":96496338,"body_markdown":"Hi Michael, thanks again! So basically what I am trying is do is feasible right? Why not pose an answer and I will mark it as the correct one.","body":"Hi Michael, thanks again! So basically what I am trying is do is feasible right? Why not pose an answer and I will mark it as the correct one."}],"answers":[{"tags":[],"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1551088821,"creation_date":1551088821,"answer_id":54863633,"question_id":54862299,"body_markdown":"Firstly, I&#39;d like to state that I don&#39;t think this is a good idea and is probably overkill outside of research purposes. If you are modifying AOSP then the code you write will be dependent on the target device running that customised build of AOSP. However, it is still possible.\r\n\r\nI&#39;m assuming you already know how to compile and flash a custom AOSP build to a device. In order to write code that makes use of your new functionality, you&#39;ll also need to compile a custom SDK. This is so that Android Studio will know that your new method exists within `Object`, and can compile correctly against it. The full documentation can be found [here](https://android.googlesource.com/platform/sdk/+/master/docs/howto_build_SDK.txt), but essentially it boils down to:\r\n\r\n    . build/envsetup.sh\r\n    lunch sdk-eng\r\n    make sdk\r\n\r\nWhen you have your SDK zip file, you&#39;ll need to unzip it to your SDK&#39;s `platforms` directory - it should now show up checked in your SDK manager. If you have given your SDK a custom platform ID then you should be able to use that in your `build.gradle` files.\r\n\r\n**Disclaimer:** This advice is purely from memory, it&#39;s a lengthy process so I&#39;ve not had time to double-check, and chances are there may be a couple of minor things I&#39;ve missed. This should get you most of the way towards where you want to be though.","title":"Modify core java libraries of Android source for use in apps","body":"<p>Firstly, I'd like to state that I don't think this is a good idea and is probably overkill outside of research purposes. If you are modifying AOSP then the code you write will be dependent on the target device running that customised build of AOSP. However, it is still possible.</p>\n\n<p>I'm assuming you already know how to compile and flash a custom AOSP build to a device. In order to write code that makes use of your new functionality, you'll also need to compile a custom SDK. This is so that Android Studio will know that your new method exists within <code>Object</code>, and can compile correctly against it. The full documentation can be found <a href=\"https://android.googlesource.com/platform/sdk/+/master/docs/howto_build_SDK.txt\" rel=\"noreferrer\">here</a>, but essentially it boils down to:</p>\n\n<pre><code>. build/envsetup.sh\nlunch sdk-eng\nmake sdk\n</code></pre>\n\n<p>When you have your SDK zip file, you'll need to unzip it to your SDK's <code>platforms</code> directory - it should now show up checked in your SDK manager. If you have given your SDK a custom platform ID then you should be able to use that in your <code>build.gradle</code> files.</p>\n\n<p><strong>Disclaimer:</strong> This advice is purely from memory, it's a lengthy process so I've not had time to double-check, and chances are there may be a couple of minor things I've missed. This should get you most of the way towards where you want to be though.</p>\n"}],"owner":{"account_id":10876169,"reputation":841,"user_id":7996523,"display_name":"Richard Hu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":54863633,"answer_count":1,"score":1,"last_activity_date":1657967839,"creation_date":1551083939,"question_id":54862299,"body_markdown":"I want to make a little modification to the Android source to meet my requirement. Here is the requirement:\r\n\r\nI want index all the objects in an Android app by adding one more public `int` field to the `java.lang.Object` class. Therefore, all the classes can inherit the newly added field because all of them are the subclasses of the `Object` class. \r\n\r\nWhat I have done so far is modify the `java.lang.Object` class under `&lt;Android_source&gt;/libcore/libart/src/main/java/java/lang` folder and recompile the source. \r\n\r\nI want to ask if I am doing the right thing. Can my Android app recognize this change (e.g. can a `String` object access the newly added field)? \r\n\r\n**Edit**\r\n\r\nAfter around 3 weeks try and error, I finally got the complete answer. I want to share this experience with others if anybody else want to modify the core java libraries of Android source (e.g., modifying `Object.java` and `String.java` etc.). Again, as mentioned by Michael, please note that such a modification may only be suitable for research or testing purpose.\r\n\r\nThe key challenge in making a successful modification (here &#39;successful&#39; means the modified Android source can be built and run on emulators or real devices without any problem) is that some of the classes in the core java library have their C++ mirrors (located in `&lt;Android_source&gt;/art/runtime/mirrors/`). When modifying these java classes, you should also make the same modifications to their C++ mirrors. Otherwise, you could fail the build process because there are a bunch of checkings that you need to pass. Since I only add a new field to the `Object.java`, I will list some checkings (or requirements) I encountered below:\r\n\r\n1.The size of an object instance = the size of its C++ mirror. For example, if I add a `long` field into `Object.java`, I should also add a `uint64_t` field to its C++ mirror to make their size equal.\r\n\r\n2.Try to make the size of an object instance be the power of 2 (e.g., 2, 4, 8, 16, ...). For example, the size of the original `Object.java` is 8, therefore I add a long field to increase the size to 16. If I add an int field, the size becomes 12 and it can fail many checkings. I don&#39;t figure out the exact reason but I guess it has something to do with [memory alignment][1].\r\n\r\n3.Try to put primitive-type fields after non-primitive-type fields and primitive-type fields should be ordered by size. This means you should put reference-type fields in the front, followed by 8-byte-primitive-type fields, then 4-byte-primitive-type fields, then 2-byte-primitive-type fields, then 1-byte-primitive-type fields. Again, I guess the reason is [memory alignment][1]\r\n\r\nThat&#39;s all I done to meet my requirements. I am open to any discussions if you have any ideas about the purpose of these checkings (especially the 2ed and 3rd one)\r\n\r\n**New edit**\r\n\r\nMore specifically, I did the following things:\r\n\r\n1. Add a new field (e.g., `public long tag;`) in `Object.java`\r\n\r\n2. Change `static constexpr uint32_t kObjectHeaderSize = kUseBrooksReadBarrier ? 16 : 8;` to `static constexpr uint32_t kObjectHeaderSize = kUseBrooksReadBarrier ? 24 : 16;` in `Object.h`\r\n\r\n3. Add the following method in `Object.h` (Only on Android 7)\r\n```\r\nstatic MemberOffset TagOffset() {\r\n    return OFFSET_OF_OBJECT_MEMBER(Object, tag);\r\n}\r\n```\r\n\r\n4. Add a new public field `public: uint64_t tag;` in `Object.h`\r\n\r\n5. Change\r\n```\r\n#define MIRROR_OBJECT_CLASS_OFFSET 0\r\nADD_TEST_EQ(MIRROR_OBJECT_CLASS_OFFSET, art::mirror::Object::ClassOffset().Int32Value())\r\n#define MIRROR_OBJECT_LOCK_WORD_OFFSET 4\r\nADD_TEST_EQ(MIRROR_OBJECT_LOCK_WORD_OFFSET, art::mirror::Object::MonitorOffset().Int32Value())\r\n#if defined(USE_BROOKS_READ_BARRIER)\r\n#define MIRROR_OBJECT_HEADER_SIZE 16\r\n#else\r\n#define MIRROR_OBJECT_HEADER_SIZE 8\r\n```\r\nto\r\n```\r\n#define MIRROR_OBJECT_CLASS_OFFSET 0\r\nADD_TEST_EQ(MIRROR_OBJECT_CLASS_OFFSET, art::mirror::Object::ClassOffset().Int32Value())\r\n#define MIRROR_OBJECT_LOCK_WORD_OFFSET 4\r\nADD_TEST_EQ(MIRROR_OBJECT_LOCK_WORD_OFFSET, art::mirror::Object::MonitorOffset().Int32Value())\r\n#define MIRROR_OBJECT_CLASS_TAG 8\r\nADD_TEST_EQ(MIRROR_OBJECT_CLASS_TAG, art::mirror::Object::TagOffset().Int32Value())\r\n\r\n#if defined(USE_BROOKS_READ_BARRIER)\r\n#define MIRROR_OBJECT_HEADER_SIZE 24\r\n#else\r\n#define MIRROR_OBJECT_HEADER_SIZE 16\r\n```\r\nin `asm_support.h` (Only on Android 7)\r\n\r\n6. Add `addOffset(OFFSETOF_MEMBER(mirror::Object, tag), &quot;tag&quot;);` in `class_linker_test.cc`\r\n\r\n7. Change \r\n```\r\nstatic_assert(kObjectHeaderSize == sizeof(mirror::HeapReference&lt;mirror::Class&gt;) +\r\n                    sizeof(LockWord),\r\n```\r\nto\r\n```\r\nstatic_assert(kObjectHeaderSize == sizeof(mirror::HeapReference&lt;mirror::Class&gt;) +\r\n                    sizeof(LockWord) + 8,\r\n```\r\nin `art/runtime/gc/collector/concurrent_copying.cc`\r\n\r\n8 Change `static constexpr size_t kFirstElementOffset = 12u;` to `static constexpr size_t kFirstElementOffset = 20u;` in `array.h`\r\n\r\n9 Change `static constexpr size_t kObjectAlignmentShift = 3;` to `static constexpr size_t kObjectAlignmentShift = 4;` in `runtime_globals.h` (Not done yet)\r\n\r\n10 Change\r\n```\r\nstatic_assert(kObjectAlignment == 8, &quot;Alignment check&quot;);\r\nclass PACKED(8) ImageHeader {\r\n```\r\nto\r\n```\r\nstatic_assert(kObjectAlignment == 16, &quot;Alignment check&quot;);\r\nclass PACKED(16) ImageHeader {\r\n```\r\nin `image.h` (Not done yet)\r\n\r\n11 Change `static constexpr size_t kAlignment = 8;` to `static constexpr size_t kAlignment = 16;` in `gc::space::BumpPointerSpace` (Not done yet)\r\n\r\n12 Change `#!/usr/bin/python` to `#!/usr/local/bin/python` in `device/generic/goldfish/tools/mk_combined_img.py` (The value depends on your /bin/env python)(Only on Android 10)\r\n\r\n13 Change\r\n```\r\n#define DCHECK_ALIGNED_PARAM(value, alignment) \\\r\n  DCHECK(::art::IsAlignedParam(value, alignment)) &lt;&lt; reinterpret_cast&lt;const void*&gt;(value)\r\n```\r\nto\r\n```\r\n#define DCHECK_ALIGNED_PARAM(value, alignment) \\\r\n  DCHECK(::art::IsAlignedParam(value, alignment)) &lt;&lt; reinterpret_cast&lt;const void*&gt;(value) &lt;&lt; &quot;,&quot; &lt;&lt; alignment\r\n```\r\nin `art/libartbase/base/bit_utils.h` (for debug purpose)(Only for Android 11)\r\n\r\n14 Change\r\n```\r\nDCHECK_ALIGNED_PARAM(remaining_space, object_class-&gt;GetObjectSize());\r\n      Object* end = dst + remaining_space / object_class-&gt;GetObjectSize();\r\n```\r\nto\r\n```\r\nDCHECK_ALIGNED_PARAM(remaining_space, kObjectAlignment);\r\n      Object* end = dst + remaining_space / kObjectAlignment;\r\n```\r\nin `art/dex2oat/linker/image_writer.cc` (Only for Android 11)\r\n\r\n15. Change \r\n```\r\nmemcpy(reinterpret_cast&lt;uint8_t*&gt;(to_ref) + kObjectHeaderSize,\r\n         reinterpret_cast&lt;const uint8_t*&gt;(from_ref) + kObjectHeaderSize,\r\n         obj_size - kObjectHeaderSize);\r\n```\r\nto\r\n```\r\nmemcpy(reinterpret_cast&lt;uint8_t*&gt;(to_ref) + kObjectHeaderSize - 8,\r\n         reinterpret_cast&lt;const uint8_t*&gt;(from_ref) + kObjectHeaderSize - 8,\r\n         obj_size - kObjectHeaderSize + 8);\r\n```\r\nin `concurrent_copying.cc` (on Android 10)([reference][2])\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41719845/memory-alignment-in-c-c\r\n  [2]: https://ppfocus.com/0/te40d47c1.html","title":"Modify core java libraries of Android source for use in apps","body":"<p>I want to make a little modification to the Android source to meet my requirement. Here is the requirement:</p>\n<p>I want index all the objects in an Android app by adding one more public <code>int</code> field to the <code>java.lang.Object</code> class. Therefore, all the classes can inherit the newly added field because all of them are the subclasses of the <code>Object</code> class.</p>\n<p>What I have done so far is modify the <code>java.lang.Object</code> class under <code>&lt;Android_source&gt;/libcore/libart/src/main/java/java/lang</code> folder and recompile the source.</p>\n<p>I want to ask if I am doing the right thing. Can my Android app recognize this change (e.g. can a <code>String</code> object access the newly added field)?</p>\n<p><strong>Edit</strong></p>\n<p>After around 3 weeks try and error, I finally got the complete answer. I want to share this experience with others if anybody else want to modify the core java libraries of Android source (e.g., modifying <code>Object.java</code> and <code>String.java</code> etc.). Again, as mentioned by Michael, please note that such a modification may only be suitable for research or testing purpose.</p>\n<p>The key challenge in making a successful modification (here 'successful' means the modified Android source can be built and run on emulators or real devices without any problem) is that some of the classes in the core java library have their C++ mirrors (located in <code>&lt;Android_source&gt;/art/runtime/mirrors/</code>). When modifying these java classes, you should also make the same modifications to their C++ mirrors. Otherwise, you could fail the build process because there are a bunch of checkings that you need to pass. Since I only add a new field to the <code>Object.java</code>, I will list some checkings (or requirements) I encountered below:</p>\n<p>1.The size of an object instance = the size of its C++ mirror. For example, if I add a <code>long</code> field into <code>Object.java</code>, I should also add a <code>uint64_t</code> field to its C++ mirror to make their size equal.</p>\n<p>2.Try to make the size of an object instance be the power of 2 (e.g., 2, 4, 8, 16, ...). For example, the size of the original <code>Object.java</code> is 8, therefore I add a long field to increase the size to 16. If I add an int field, the size becomes 12 and it can fail many checkings. I don't figure out the exact reason but I guess it has something to do with <a href=\"https://stackoverflow.com/questions/41719845/memory-alignment-in-c-c\">memory alignment</a>.</p>\n<p>3.Try to put primitive-type fields after non-primitive-type fields and primitive-type fields should be ordered by size. This means you should put reference-type fields in the front, followed by 8-byte-primitive-type fields, then 4-byte-primitive-type fields, then 2-byte-primitive-type fields, then 1-byte-primitive-type fields. Again, I guess the reason is <a href=\"https://stackoverflow.com/questions/41719845/memory-alignment-in-c-c\">memory alignment</a></p>\n<p>That's all I done to meet my requirements. I am open to any discussions if you have any ideas about the purpose of these checkings (especially the 2ed and 3rd one)</p>\n<p><strong>New edit</strong></p>\n<p>More specifically, I did the following things:</p>\n<ol>\n<li><p>Add a new field (e.g., <code>public long tag;</code>) in <code>Object.java</code></p>\n</li>\n<li><p>Change <code>static constexpr uint32_t kObjectHeaderSize = kUseBrooksReadBarrier ? 16 : 8;</code> to <code>static constexpr uint32_t kObjectHeaderSize = kUseBrooksReadBarrier ? 24 : 16;</code> in <code>Object.h</code></p>\n</li>\n<li><p>Add the following method in <code>Object.h</code> (Only on Android 7)</p>\n</li>\n</ol>\n<pre><code>static MemberOffset TagOffset() {\n    return OFFSET_OF_OBJECT_MEMBER(Object, tag);\n}\n</code></pre>\n<ol start=\"4\">\n<li><p>Add a new public field <code>public: uint64_t tag;</code> in <code>Object.h</code></p>\n</li>\n<li><p>Change</p>\n</li>\n</ol>\n<pre><code>#define MIRROR_OBJECT_CLASS_OFFSET 0\nADD_TEST_EQ(MIRROR_OBJECT_CLASS_OFFSET, art::mirror::Object::ClassOffset().Int32Value())\n#define MIRROR_OBJECT_LOCK_WORD_OFFSET 4\nADD_TEST_EQ(MIRROR_OBJECT_LOCK_WORD_OFFSET, art::mirror::Object::MonitorOffset().Int32Value())\n#if defined(USE_BROOKS_READ_BARRIER)\n#define MIRROR_OBJECT_HEADER_SIZE 16\n#else\n#define MIRROR_OBJECT_HEADER_SIZE 8\n</code></pre>\n<p>to</p>\n<pre><code>#define MIRROR_OBJECT_CLASS_OFFSET 0\nADD_TEST_EQ(MIRROR_OBJECT_CLASS_OFFSET, art::mirror::Object::ClassOffset().Int32Value())\n#define MIRROR_OBJECT_LOCK_WORD_OFFSET 4\nADD_TEST_EQ(MIRROR_OBJECT_LOCK_WORD_OFFSET, art::mirror::Object::MonitorOffset().Int32Value())\n#define MIRROR_OBJECT_CLASS_TAG 8\nADD_TEST_EQ(MIRROR_OBJECT_CLASS_TAG, art::mirror::Object::TagOffset().Int32Value())\n\n#if defined(USE_BROOKS_READ_BARRIER)\n#define MIRROR_OBJECT_HEADER_SIZE 24\n#else\n#define MIRROR_OBJECT_HEADER_SIZE 16\n</code></pre>\n<p>in <code>asm_support.h</code> (Only on Android 7)</p>\n<ol start=\"6\">\n<li><p>Add <code>addOffset(OFFSETOF_MEMBER(mirror::Object, tag), &quot;tag&quot;);</code> in <code>class_linker_test.cc</code></p>\n</li>\n<li><p>Change</p>\n</li>\n</ol>\n<pre><code>static_assert(kObjectHeaderSize == sizeof(mirror::HeapReference&lt;mirror::Class&gt;) +\n                    sizeof(LockWord),\n</code></pre>\n<p>to</p>\n<pre><code>static_assert(kObjectHeaderSize == sizeof(mirror::HeapReference&lt;mirror::Class&gt;) +\n                    sizeof(LockWord) + 8,\n</code></pre>\n<p>in <code>art/runtime/gc/collector/concurrent_copying.cc</code></p>\n<p>8 Change <code>static constexpr size_t kFirstElementOffset = 12u;</code> to <code>static constexpr size_t kFirstElementOffset = 20u;</code> in <code>array.h</code></p>\n<p>9 Change <code>static constexpr size_t kObjectAlignmentShift = 3;</code> to <code>static constexpr size_t kObjectAlignmentShift = 4;</code> in <code>runtime_globals.h</code> (Not done yet)</p>\n<p>10 Change</p>\n<pre><code>static_assert(kObjectAlignment == 8, &quot;Alignment check&quot;);\nclass PACKED(8) ImageHeader {\n</code></pre>\n<p>to</p>\n<pre><code>static_assert(kObjectAlignment == 16, &quot;Alignment check&quot;);\nclass PACKED(16) ImageHeader {\n</code></pre>\n<p>in <code>image.h</code> (Not done yet)</p>\n<p>11 Change <code>static constexpr size_t kAlignment = 8;</code> to <code>static constexpr size_t kAlignment = 16;</code> in <code>gc::space::BumpPointerSpace</code> (Not done yet)</p>\n<p>12 Change <code>#!/usr/bin/python</code> to <code>#!/usr/local/bin/python</code> in <code>device/generic/goldfish/tools/mk_combined_img.py</code> (The value depends on your /bin/env python)(Only on Android 10)</p>\n<p>13 Change</p>\n<pre><code>#define DCHECK_ALIGNED_PARAM(value, alignment) \\\n  DCHECK(::art::IsAlignedParam(value, alignment)) &lt;&lt; reinterpret_cast&lt;const void*&gt;(value)\n</code></pre>\n<p>to</p>\n<pre><code>#define DCHECK_ALIGNED_PARAM(value, alignment) \\\n  DCHECK(::art::IsAlignedParam(value, alignment)) &lt;&lt; reinterpret_cast&lt;const void*&gt;(value) &lt;&lt; &quot;,&quot; &lt;&lt; alignment\n</code></pre>\n<p>in <code>art/libartbase/base/bit_utils.h</code> (for debug purpose)(Only for Android 11)</p>\n<p>14 Change</p>\n<pre><code>DCHECK_ALIGNED_PARAM(remaining_space, object_class-&gt;GetObjectSize());\n      Object* end = dst + remaining_space / object_class-&gt;GetObjectSize();\n</code></pre>\n<p>to</p>\n<pre><code>DCHECK_ALIGNED_PARAM(remaining_space, kObjectAlignment);\n      Object* end = dst + remaining_space / kObjectAlignment;\n</code></pre>\n<p>in <code>art/dex2oat/linker/image_writer.cc</code> (Only for Android 11)</p>\n<ol start=\"15\">\n<li>Change</li>\n</ol>\n<pre><code>memcpy(reinterpret_cast&lt;uint8_t*&gt;(to_ref) + kObjectHeaderSize,\n         reinterpret_cast&lt;const uint8_t*&gt;(from_ref) + kObjectHeaderSize,\n         obj_size - kObjectHeaderSize);\n</code></pre>\n<p>to</p>\n<pre><code>memcpy(reinterpret_cast&lt;uint8_t*&gt;(to_ref) + kObjectHeaderSize - 8,\n         reinterpret_cast&lt;const uint8_t*&gt;(from_ref) + kObjectHeaderSize - 8,\n         obj_size - kObjectHeaderSize + 8);\n</code></pre>\n<p>in <code>concurrent_copying.cc</code> (on Android 10)(<a href=\"https://ppfocus.com/0/te40d47c1.html\" rel=\"nofollow noreferrer\">reference</a>)</p>\n"},{"tags":["java","spring-mvc","jpa"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657966429,"creation_date":1657966429,"answer_id":73003348,"question_id":73003208,"body_markdown":"I think that message says all:\r\n\r\n&gt; javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n\r\n\r\nWhen using `EntityManager` to execute any update operation (update/insert/delete) you have to do that within transaction.\r\n\r\nTherefore your code should look like:\r\n```java\r\nentityManager.getTransaction().begin();\r\n// execute any operation on entityManager\r\nentityManager.getTransaction().commit();\r\n```\r\n\r\nSide note, it is generally recommended to use `@PersistenceContext` instead of `@Autowired` as that gives more control over the injected `EntityManager` (especially if you have multiple DB configurations). ","title":"Derived Queries with Spring Data JPA","body":"<p>I think that message says all:</p>\n<blockquote>\n<p>javax.persistence.TransactionRequiredException: Executing an update/delete query</p>\n</blockquote>\n<p>When using <code>EntityManager</code> to execute any update operation (update/insert/delete) you have to do that within transaction.</p>\n<p>Therefore your code should look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.getTransaction().begin();\n// execute any operation on entityManager\nentityManager.getTransaction().commit();\n</code></pre>\n<p>Side note, it is generally recommended to use <code>@PersistenceContext</code> instead of <code>@Autowired</code> as that gives more control over the injected <code>EntityManager</code> (especially if you have multiple DB configurations).</p>\n"}],"owner":{"account_id":22151536,"reputation":1,"user_id":17239188,"display_name":"AskAnyQuestion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657966429,"creation_date":1657965119,"question_id":73003208,"body_markdown":"My task is to compose a query without using the `@Query` annotation.\r\nIf you use `select`, it will work, but if you use `update`, then the exception pointing to the line query.executeUpdate();\r\n\r\n\r\n\r\n```\r\njavax.persistence.TransactionRequiredException: Executing an update/delete query\r\n```\r\n\r\nCustomUserRepository:\r\n```\r\n@Repository\r\npublic interface CustomUserRepository {\r\n    List&lt;User&gt; findByUniqueId(String uniqueId,UserStatus role);\r\n}\r\n```\r\nCustomUserRepositoryImpl:\r\n```\r\n@Autowired\r\nprivate EntityManager entityManager;\r\n\r\n@Override\r\npublic List&lt;User&gt; findByUniqueId(String uniqueId, UserStatus role) {\r\n        Query query = entityManager.createQuery(&quot;update User u set u.userStatus=:userStatus where u.unique=:unique&quot;);\r\n        query.setParameter(&quot;userStatus&quot;, role).setParameter(&quot;unique&quot;, uniqueId);\r\n        query.executeUpdate();\r\n        return query.getResultList();\r\n}\r\n```\r\nControllerFour:\r\n```\r\n@Autowired\r\nprivate UserRepository userRepository;\r\n\r\n@PostMapping\r\npublic String replaceStatusPost (@RequestParam(&quot;uniqueid&quot;) String uniqueid, @RequestParam(&quot;userstatus&quot;) UserStatus userstatus, Model model) {\r\n        List &lt;User&gt; user = userRepository.findByUniqueId(uniqueid, userstatus);\r\n        model.addAttribute(&quot;attz&quot;, user);\r\n        return &quot;replaceStatus&quot;;\r\n}\r\n```","title":"Derived Queries with Spring Data JPA","body":"<p>My task is to compose a query without using the <code>@Query</code> annotation.\nIf you use <code>select</code>, it will work, but if you use <code>update</code>, then the exception pointing to the line query.executeUpdate();</p>\n<pre><code>javax.persistence.TransactionRequiredException: Executing an update/delete query\n</code></pre>\n<p>CustomUserRepository:</p>\n<pre><code>@Repository\npublic interface CustomUserRepository {\n    List&lt;User&gt; findByUniqueId(String uniqueId,UserStatus role);\n}\n</code></pre>\n<p>CustomUserRepositoryImpl:</p>\n<pre><code>@Autowired\nprivate EntityManager entityManager;\n\n@Override\npublic List&lt;User&gt; findByUniqueId(String uniqueId, UserStatus role) {\n        Query query = entityManager.createQuery(&quot;update User u set u.userStatus=:userStatus where u.unique=:unique&quot;);\n        query.setParameter(&quot;userStatus&quot;, role).setParameter(&quot;unique&quot;, uniqueId);\n        query.executeUpdate();\n        return query.getResultList();\n}\n</code></pre>\n<p>ControllerFour:</p>\n<pre><code>@Autowired\nprivate UserRepository userRepository;\n\n@PostMapping\npublic String replaceStatusPost (@RequestParam(&quot;uniqueid&quot;) String uniqueid, @RequestParam(&quot;userstatus&quot;) UserStatus userstatus, Model model) {\n        List &lt;User&gt; user = userRepository.findByUniqueId(uniqueid, userstatus);\n        model.addAttribute(&quot;attz&quot;, user);\n        return &quot;replaceStatus&quot;;\n}\n</code></pre>\n"},{"tags":["java","android","xml","exception","rendering"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1398366480,"post_id":23277646,"comment_id":35627488,"body_markdown":"The stacktrace says it&#39;s a problem with a bitmap in a `RelativeLayout`. So first check that `@drawable/cadremenu` is in fact a valid drawable.","body":"The stacktrace says it&#39;s a problem with a bitmap in a <code>RelativeLayout</code>. So first check that <code>@drawable&#47;cadremenu</code> is in fact a valid drawable."},{"owner":{"account_id":2599781,"reputation":578,"user_id":2252521,"accept_rate":68,"display_name":"Vincent Monteil"},"score":0,"creation_date":1398367598,"post_id":23277646,"comment_id":35628134,"body_markdown":"Thanks @laalto, I would really like to do that. Is there a way to proceed ?","body":"Thanks @laalto, I would really like to do that. Is there a way to proceed ?"},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1398367826,"post_id":23277646,"comment_id":35628269,"body_markdown":"For example, check that there is e.g. a `cadremenu.png` in some drawable folder and it is in fact a PNG file. And there are no other `cadremenu` files in other drawable folders.","body":"For example, check that there is e.g. a <code>cadremenu.png</code> in some drawable folder and it is in fact a PNG file. And there are no other <code>cadremenu</code> files in other drawable folders."}],"answers":[{"tags":[],"owner":{"account_id":1162759,"reputation":255,"user_id":1141939,"accept_rate":11,"display_name":"random"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1398366619,"creation_date":1398366619,"answer_id":23277751,"question_id":23277646,"body_markdown":"Because the drawable that&#39;s not showing up is itself inside a RelativeLayout, you need to put some position attributes in the cadremenu layout so that Android knows where to place it. For example, try:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;monteil.gaming.hundredious.MainActivity&quot; &gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/fondipad&quot;\r\n        android:contentDescription=&quot;@string/FondDesc&quot;\r\n\r\n        /&gt;\r\n\r\n    &lt;RelativeLayout \r\n        android:layout_height=&quot;300dp&quot; \r\n        android:layout_width=&quot;fill_parent&quot;\r\n        **android:layout_alignParentTop=&quot;true&quot;**\r\n        android:background=&quot;@drawable/cadremenu&quot;&gt;\r\n\r\n    &lt;/RelativeLayout&gt; \r\n    &lt;/RelativeLayout&gt;","title":"Android XML File java.lang.nullpointerexception","body":"<p>Because the drawable that's not showing up is itself inside a RelativeLayout, you need to put some position attributes in the cadremenu layout so that Android knows where to place it. For example, try:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/container\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"monteil.gaming.hundredious.MainActivity\" &gt;\n\n&lt;ImageView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@drawable/fondipad\"\n    android:contentDescription=\"@string/FondDesc\"\n\n    /&gt;\n\n&lt;RelativeLayout \n    android:layout_height=\"300dp\" \n    android:layout_width=\"fill_parent\"\n    **android:layout_alignParentTop=\"true\"**\n    android:background=\"@drawable/cadremenu\"&gt;\n\n&lt;/RelativeLayout&gt; \n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2599781,"reputation":578,"user_id":2252521,"accept_rate":68,"display_name":"Vincent Monteil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1398540588,"creation_date":1398540588,"answer_id":23315556,"question_id":23277646,"body_markdown":"As @laato suggested, I checked my drawable/cadremenu file. I copied/pasted/overwrited the file in my project and then everything worked fine ! I actually had the same problem with all my other resources, like if my resources folder had been corrupted or something like that.\r\n\r\n\r\nThank you guys\r\nHoping that someone will find help here someday","title":"Android XML File java.lang.nullpointerexception","body":"<p>As @laato suggested, I checked my drawable/cadremenu file. I copied/pasted/overwrited the file in my project and then everything worked fine ! I actually had the same problem with all my other resources, like if my resources folder had been corrupted or something like that.</p>\n\n<p>Thank you guys\nHoping that someone will find help here someday</p>\n"},{"tags":[],"owner":{"account_id":1050089,"reputation":20492,"user_id":1054245,"accept_rate":100,"display_name":"Prince"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431445511,"creation_date":1431445511,"answer_id":30195688,"question_id":23277646,"body_markdown":"This exception usually occurs due to ***corrupt drawables***. Make sure you are able to open and view all the drawable you have linked. \r\n\r\n![enter image description here][1]\r\n\r\nIf you happen to see any error message of this sort or are unable to view your drawable then try replacing it again with the original file or if you have downloaded it then try re-downloading it.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dIZ7J.png","title":"Android XML File java.lang.nullpointerexception","body":"<p>This exception usually occurs due to <strong><em>corrupt drawables</em></strong>. Make sure you are able to open and view all the drawable you have linked. </p>\n\n<p><img src=\"https://i.stack.imgur.com/dIZ7J.png\" alt=\"enter image description here\"></p>\n\n<p>If you happen to see any error message of this sort or are unable to view your drawable then try replacing it again with the original file or if you have downloaded it then try re-downloading it.</p>\n"},{"tags":[],"owner":{"account_id":12153023,"reputation":624,"user_id":8872691,"display_name":"m&#39;hd semps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657966123,"creation_date":1657966123,"answer_id":73003308,"question_id":23277646,"body_markdown":"File -&gt; Invalidate caches and restart","title":"Android XML File java.lang.nullpointerexception","body":"<p>File -&gt; Invalidate caches and restart</p>\n"}],"owner":{"account_id":2599781,"reputation":578,"user_id":2252521,"accept_rate":68,"display_name":"Vincent Monteil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7246,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":23315556,"answer_count":4,"score":3,"last_activity_date":1657966123,"creation_date":1398366318,"question_id":23277646,"body_markdown":"I am building a brand new android project. It&#39;s not my 1st android app so I&#39;m much more frustrated not being able to get rid of this error...\r\n\r\nI use an XML File, which has for now only 3 items and NO error in the XML tab : \r\n\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.gaming..MainActivity&quot; &gt;\r\n        \r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/fondipad&quot;\r\n            android:contentDescription=&quot;@string/FondDesc&quot;\r\n            \r\n            /&gt;\r\n        \r\n        &lt;RelativeLayout \r\n            android:layout_height=&quot;300dp&quot; \r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:background=&quot;@drawable/cadremenu&quot;&gt;\r\n            \r\n        &lt;/RelativeLayout&gt; \r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\nPretty simple, yay ?\r\nHowever, the visual tab is not rendering the cadremenu drawable (but the &quot;fond&quot; does)... But the cadremenu.png is in the drawable folder !\r\nI can launch the app but only the background is rendered...\r\nI really don&#39;t know what to do... The xml file returns this exception\r\n\r\n\r\n\r\n    java.lang.NullPointerException\r\n    \tat android.graphics.Bitmap_Delegate.createBitmap(Bitmap_Delegate.java:598)\r\n    \tat android.graphics.Bitmap_Delegate.createBitmap(Bitmap_Delegate.java:120)\r\n    \tat android.graphics.Bitmap_Delegate.createBitmap(Bitmap_Delegate.java:102)\r\n    \tat com.android.layoutlib.bridge.impl.ResourceHelper.getDrawable(ResourceHelper.java:233)\r\n    \tat android.content.res.BridgeTypedArray.getDrawable(BridgeTypedArray.java:782)\r\n    \tat android.view.View.&lt;init&gt;(View.java:3554)\r\n    \tat android.view.View.&lt;init&gt;(View.java:3484)\r\n    \tat android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:464)\r\n    \tat android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:236)\r\n    \tat sun.reflect.GeneratedConstructorAccessor37.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n    \tat android.view.LayoutInflater.createView(LayoutInflater.java:594)\r\n    \tat android.view.BridgeInflater.onCreateView(BridgeInflater.java:86)\r\n    \tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:669)\r\n    \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:694)\r\n    \tat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:131)\r\n    \tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:755)\r\n    \tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:64)\r\n    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:727)\r\n    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:492)\r\n    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:373)\r\n    \tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:399)\r\n    \tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:336)\r\n    \tat com.android.ide.common.rendering.LayoutLibrary.createSession(LayoutLibrary.java:332)\r\n    \tat com.android.ide.eclipse.adt.internal.editors.layout.gle2.RenderService.createRenderSession(RenderService.java:504)\r\n    \tat com.android.ide.eclipse.adt.internal.editors.layout.gle2.GraphicalEditorPart.renderWithBridge(GraphicalEditorPart.java:1584)\r\n    \tat com.android.ide.eclipse.adt.internal.editors.layout.gle2.GraphicalEditorPart.recomputeLayout(GraphicalEditorPart.java:1309)\r\n    \tat com.android.ide.eclipse.adt.internal.editors.layout.gle2.GraphicalEditorPart.activated(GraphicalEditorPart.java:1066)\r\n    \tat com.android.ide.eclipse.adt.internal.editors.layout.LayoutEditorDelegate.delegatePageChange(LayoutEditorDelegate.java:686)\r\n    \tat com.android.ide.eclipse.adt.internal.editors.common.CommonXmlEditor.pageChange(CommonXmlEditor.java:360)\r\n    \tat org.eclipse.ui.part.MultiPageEditorPart$2.widgetSelected(MultiPageEditorPart.java:292)\r\n    \tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4136)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1458)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1481)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1466)\r\n    \tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1271)\r\n    \tat org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3028)\r\n    \tat org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1749)\r\n    \tat org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:278)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4136)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1458)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1481)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1466)\r\n    \tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1271)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3982)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3621)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1053)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:942)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86)\r\n    \tat org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1438)\r\n\r\n\r\nany help would be welcome !\r\n\r\n\r\nEDIT : I already tried removing, putting back drawables, project, .... Cleaning the project, building back... I have even tried deleting &amp; reinstalling every ADT component","title":"Android XML File java.lang.nullpointerexception","body":"<p>I am building a brand new android project. It's not my 1st android app so I'm much more frustrated not being able to get rid of this error...</p>\n\n<p>I use an XML File, which has for now only 3 items and NO error in the XML tab : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".gaming..MainActivity\" &gt;\n\n    &lt;ImageView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@drawable/fondipad\"\n        android:contentDescription=\"@string/FondDesc\"\n\n        /&gt;\n\n    &lt;RelativeLayout \n        android:layout_height=\"300dp\" \n        android:layout_width=\"fill_parent\"\n        android:background=\"@drawable/cadremenu\"&gt;\n\n    &lt;/RelativeLayout&gt; \n    &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Pretty simple, yay ?\nHowever, the visual tab is not rendering the cadremenu drawable (but the \"fond\" does)... But the cadremenu.png is in the drawable folder !\nI can launch the app but only the background is rendered...\nI really don't know what to do... The xml file returns this exception</p>\n\n<pre><code>java.lang.NullPointerException\n    at android.graphics.Bitmap_Delegate.createBitmap(Bitmap_Delegate.java:598)\n    at android.graphics.Bitmap_Delegate.createBitmap(Bitmap_Delegate.java:120)\n    at android.graphics.Bitmap_Delegate.createBitmap(Bitmap_Delegate.java:102)\n    at com.android.layoutlib.bridge.impl.ResourceHelper.getDrawable(ResourceHelper.java:233)\n    at android.content.res.BridgeTypedArray.getDrawable(BridgeTypedArray.java:782)\n    at android.view.View.&lt;init&gt;(View.java:3554)\n    at android.view.View.&lt;init&gt;(View.java:3484)\n    at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:464)\n    at android.widget.RelativeLayout.&lt;init&gt;(RelativeLayout.java:236)\n    at sun.reflect.GeneratedConstructorAccessor37.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at android.view.LayoutInflater.createView(LayoutInflater.java:594)\n    at android.view.BridgeInflater.onCreateView(BridgeInflater.java:86)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:669)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:694)\n    at android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:131)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:755)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:64)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:727)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:373)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:399)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:336)\n    at com.android.ide.common.rendering.LayoutLibrary.createSession(LayoutLibrary.java:332)\n    at com.android.ide.eclipse.adt.internal.editors.layout.gle2.RenderService.createRenderSession(RenderService.java:504)\n    at com.android.ide.eclipse.adt.internal.editors.layout.gle2.GraphicalEditorPart.renderWithBridge(GraphicalEditorPart.java:1584)\n    at com.android.ide.eclipse.adt.internal.editors.layout.gle2.GraphicalEditorPart.recomputeLayout(GraphicalEditorPart.java:1309)\n    at com.android.ide.eclipse.adt.internal.editors.layout.gle2.GraphicalEditorPart.activated(GraphicalEditorPart.java:1066)\n    at com.android.ide.eclipse.adt.internal.editors.layout.LayoutEditorDelegate.delegatePageChange(LayoutEditorDelegate.java:686)\n    at com.android.ide.eclipse.adt.internal.editors.common.CommonXmlEditor.pageChange(CommonXmlEditor.java:360)\n    at org.eclipse.ui.part.MultiPageEditorPart$2.widgetSelected(MultiPageEditorPart.java:292)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4136)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1458)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1481)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1466)\n    at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1271)\n    at org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3028)\n    at org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1749)\n    at org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:278)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4136)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1458)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1481)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1466)\n    at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1271)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3982)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3621)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1053)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:942)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86)\n    at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n</code></pre>\n\n<p>any help would be welcome !</p>\n\n<p>EDIT : I already tried removing, putting back drawables, project, .... Cleaning the project, building back... I have even tried deleting &amp; reinstalling every ADT component</p>\n"},{"tags":["java","android","datetime-format"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562695994,"creation_date":1562695994,"answer_id":56958454,"question_id":56958131,"body_markdown":"Specify the `Locale` using the `bn-IN` language tag when obtaining the date formatter.\r\n\r\n    ULocale bangla = ULocale.forLanguageTag(&quot;bn-IN&quot;);\r\n    SimpleDateFormat timeFormat = SimpleDateFormat.getTimeInstance(DateFormat.LONG, bangla);\r\n","title":"How can I change the time format to Bangla from English without changing the app language?","body":"<p>Specify the <code>Locale</code> using the <code>bn-IN</code> language tag when obtaining the date formatter.</p>\n\n<pre><code>ULocale bangla = ULocale.forLanguageTag(\"bn-IN\");\nSimpleDateFormat timeFormat = SimpleDateFormat.getTimeInstance(DateFormat.LONG, bangla);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562776445,"creation_date":1562747579,"answer_id":56966582,"question_id":56958131,"body_markdown":"Theoretically this should work:\r\n\r\n\t\tLocale bangla = Locale.forLanguageTag(&quot;bn-BD&quot;);\r\n\t\tDateTimeFormatter timeFormatter = DateTimeFormatter\r\n\t\t\t\t.ofLocalizedTime(FormatStyle.FULL)\r\n\t\t\t\t.withLocale(bangla);\r\n\t\tString formattedTime\r\n\t\t\t\t= ZonedDateTime.now(ZoneId.of(&quot;Asia/Dhaka&quot;)).format(timeFormatter);\r\n\t\tSystem.out.println(formattedTime);\r\n\r\nHowever the output on my desktop Java 7 is:\r\n\r\n&gt; 2:29:21 PM BDT\r\n\r\nThat is, I see no difference from English.\r\n\r\nOn Java 9 I do get a difference:\r\n\r\n&gt; 10:32:00 অপরাহ্ণ বাংলাদেশ মানক সময়\r\n\r\nWhat you get on Android I dare not tell, but you can try.\r\n\r\nInstead of `FormatStyle.FULL` you may specify `.SHORT`, `MEDIUM` or `LONG` depending on how long of a format you want.\r\n\r\nI am using ThreeTen Backport, the backport of java.time, the modern Java date and time API, to Java 6 and 7. For older Android (under API level 26) use the Android adaption of the same, ThreeTenABP. See the links at the bottom.\r\n\r\nI use language tag `bn-BD` for Bangla (Bengali) as spoken in Bangladesh. You may also try `bn` alone if you don’t want to specify a country, or `bn-IN` for Bangla as spoken in India. It may or may not make a difference.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n","title":"How can I change the time format to Bangla from English without changing the app language?","body":"<p>Theoretically this should work:</p>\n\n<pre><code>    Locale bangla = Locale.forLanguageTag(\"bn-BD\");\n    DateTimeFormatter timeFormatter = DateTimeFormatter\n            .ofLocalizedTime(FormatStyle.FULL)\n            .withLocale(bangla);\n    String formattedTime\n            = ZonedDateTime.now(ZoneId.of(\"Asia/Dhaka\")).format(timeFormatter);\n    System.out.println(formattedTime);\n</code></pre>\n\n<p>However the output on my desktop Java 7 is:</p>\n\n<blockquote>\n  <p>2:29:21 PM BDT</p>\n</blockquote>\n\n<p>That is, I see no difference from English.</p>\n\n<p>On Java 9 I do get a difference:</p>\n\n<blockquote>\n  <p>10:32:00 অপরাহ্ণ বাংলাদেশ মানক সময়</p>\n</blockquote>\n\n<p>What you get on Android I dare not tell, but you can try.</p>\n\n<p>Instead of <code>FormatStyle.FULL</code> you may specify <code>.SHORT</code>, <code>MEDIUM</code> or <code>LONG</code> depending on how long of a format you want.</p>\n\n<p>I am using ThreeTen Backport, the backport of java.time, the modern Java date and time API, to Java 6 and 7. For older Android (under API level 26) use the Android adaption of the same, ThreeTenABP. See the links at the bottom.</p>\n\n<p>I use language tag <code>bn-BD</code> for Bangla (Bengali) as spoken in Bangladesh. You may also try <code>bn</code> alone if you don’t want to specify a country, or <code>bn-IN</code> for Bangla as spoken in India. It may or may not make a difference.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6947828,"reputation":2546,"user_id":5331566,"accept_rate":88,"display_name":"Shaon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605019617,"creation_date":1605019617,"answer_id":64771151,"question_id":56958131,"body_markdown":"This is a Kotlin extension function. Using this you can convert any English digit to Bangla.\r\n\r\n    fun String.englishNumberChangeToBanglaNumber(): String {\r\n        val hash = HashMap&lt;Int, String&gt;()\r\n        hash[0] = &quot;০&quot;\r\n        hash[1] = &quot;১&quot;\r\n        hash[2] = &quot;২&quot;\r\n        hash[3] = &quot;৩&quot;\r\n        hash[4] = &quot;৪&quot;\r\n        hash[5] = &quot;৫&quot;\r\n        hash[6] = &quot;৬&quot;\r\n        hash[7] = &quot;৭&quot;\r\n        hash[8] = &quot;৮&quot;\r\n        hash[9] = &quot;৯&quot;\r\n        var banglaDate = &quot;&quot;\r\n        this.forEach {\r\n            try {\r\n                val digit = it.toString().toInt()\r\n                banglaDate += hash[digit]\r\n            } catch (e: Exception) {\r\n                banglaDate += it\r\n            }\r\n        }\r\n        return banglaDate\r\n    \r\n    }\r\n\r\n\r\nNow use this way in Kotlin,\r\n\r\n    &quot;10/12/2020&quot;.fun String.englishNumberChangeToBanglaNumber()\r\n\r\noutput: `১০/১২/২০২০`\r\n\r\nMake sure your string is in English.","title":"How can I change the time format to Bangla from English without changing the app language?","body":"<p>This is a Kotlin extension function. Using this you can convert any English digit to Bangla.</p>\n<pre><code>fun String.englishNumberChangeToBanglaNumber(): String {\n    val hash = HashMap&lt;Int, String&gt;()\n    hash[0] = &quot;০&quot;\n    hash[1] = &quot;১&quot;\n    hash[2] = &quot;২&quot;\n    hash[3] = &quot;৩&quot;\n    hash[4] = &quot;৪&quot;\n    hash[5] = &quot;৫&quot;\n    hash[6] = &quot;৬&quot;\n    hash[7] = &quot;৭&quot;\n    hash[8] = &quot;৮&quot;\n    hash[9] = &quot;৯&quot;\n    var banglaDate = &quot;&quot;\n    this.forEach {\n        try {\n            val digit = it.toString().toInt()\n            banglaDate += hash[digit]\n        } catch (e: Exception) {\n            banglaDate += it\n        }\n    }\n    return banglaDate\n\n}\n</code></pre>\n<p>Now use this way in Kotlin,</p>\n<pre><code>&quot;10/12/2020&quot;.fun String.englishNumberChangeToBanglaNumber()\n</code></pre>\n<p>output: <code>১০/১২/২০২০</code></p>\n<p>Make sure your string is in English.</p>\n"},{"tags":[],"owner":{"account_id":2075020,"reputation":4964,"user_id":1848639,"accept_rate":73,"display_name":"Tushar Monirul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636373270,"creation_date":1636373270,"answer_id":69883207,"question_id":56958131,"body_markdown":"How about this one:\r\n\r\n```\r\npublic static String convertBnToEn(String data) {\r\n    return data.replaceAll(&quot;০&quot;, &quot;0&quot;)\r\n            .replaceAll(&quot;১&quot;, &quot;1&quot;)\r\n            .replaceAll(&quot;২&quot;, &quot;2&quot;)\r\n            .replaceAll(&quot;৩&quot;, &quot;3&quot;)\r\n            .replaceAll(&quot;৪&quot;, &quot;4&quot;)\r\n            .replaceAll(&quot;৫&quot;, &quot;5&quot;)\r\n            .replaceAll(&quot;৬&quot;, &quot;6&quot;)\r\n            .replaceAll(&quot;৭&quot;, &quot;7&quot;)\r\n            .replaceAll(&quot;৮&quot;, &quot;8&quot;)\r\n            .replaceAll(&quot;৯&quot;, &quot;9&quot;);\r\n}\r\n```","title":"How can I change the time format to Bangla from English without changing the app language?","body":"<p>How about this one:</p>\n<pre><code>public static String convertBnToEn(String data) {\n    return data.replaceAll(&quot;০&quot;, &quot;0&quot;)\n            .replaceAll(&quot;১&quot;, &quot;1&quot;)\n            .replaceAll(&quot;২&quot;, &quot;2&quot;)\n            .replaceAll(&quot;৩&quot;, &quot;3&quot;)\n            .replaceAll(&quot;৪&quot;, &quot;4&quot;)\n            .replaceAll(&quot;৫&quot;, &quot;5&quot;)\n            .replaceAll(&quot;৬&quot;, &quot;6&quot;)\n            .replaceAll(&quot;৭&quot;, &quot;7&quot;)\n            .replaceAll(&quot;৮&quot;, &quot;8&quot;)\n            .replaceAll(&quot;৯&quot;, &quot;9&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12495211,"reputation":140,"user_id":9095487,"display_name":"Shawn Muktadir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641468184,"creation_date":1641457384,"answer_id":70604283,"question_id":56958131,"body_markdown":"Convert Bangla digit to basic Latin, and it should work...\r\n\r\n    public static String convertEnToBn(String data) {\r\n            return data.replaceAll(&quot;0&quot;, &quot;\\u09E6&quot;)\r\n                    .replaceAll(&quot;1&quot;, &quot;\\u09E7&quot;)\r\n                    .replaceAll(&quot;2&quot;, &quot;\\u09E8&quot;)\r\n                    .replaceAll(&quot;3&quot;, &quot;\\u09E9&quot;)\r\n                    .replaceAll(&quot;4&quot;, &quot;\\u09EA&quot;)\r\n                    .replaceAll(&quot;5&quot;, &quot;\\u09EB&quot;)\r\n                    .replaceAll(&quot;6&quot;, &quot;\\u09EC&quot;)\r\n                    .replaceAll(&quot;7&quot;, &quot;\\u09ED&quot;)\r\n                    .replaceAll(&quot;8&quot;, &quot;\\u09EE&quot;)\r\n                    .replaceAll(&quot;9&quot;, &quot;\\u09EF&quot;);\r\n        }\r\n\r\n","title":"How can I change the time format to Bangla from English without changing the app language?","body":"<p>Convert Bangla digit to basic Latin, and it should work...</p>\n<pre><code>public static String convertEnToBn(String data) {\n        return data.replaceAll(&quot;0&quot;, &quot;\\u09E6&quot;)\n                .replaceAll(&quot;1&quot;, &quot;\\u09E7&quot;)\n                .replaceAll(&quot;2&quot;, &quot;\\u09E8&quot;)\n                .replaceAll(&quot;3&quot;, &quot;\\u09E9&quot;)\n                .replaceAll(&quot;4&quot;, &quot;\\u09EA&quot;)\n                .replaceAll(&quot;5&quot;, &quot;\\u09EB&quot;)\n                .replaceAll(&quot;6&quot;, &quot;\\u09EC&quot;)\n                .replaceAll(&quot;7&quot;, &quot;\\u09ED&quot;)\n                .replaceAll(&quot;8&quot;, &quot;\\u09EE&quot;)\n                .replaceAll(&quot;9&quot;, &quot;\\u09EF&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822360,"reputation":1,"user_id":19561218,"display_name":"Nasim Mahamud Shameem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657965746,"creation_date":1657965746,"answer_id":73003273,"question_id":56958131,"body_markdown":"Using Kotlin extension function\r\n\r\n    fun String.enDigitToBn():String{\r\n        val bnDigits = listOf(&#39;০&#39;,&#39;১&#39;,&#39;২&#39;,&#39;৩&#39;,&#39;৪&#39;,&#39;৫&#39;,&#39;৬&#39;,&#39;৭&#39;,&#39;৮&#39;,&#39;৯&#39;)\r\n        return this.map { bnDigits[it.toString().toInt()] }.joinToString(&quot;&quot;)\r\n    }","title":"How can I change the time format to Bangla from English without changing the app language?","body":"<p>Using Kotlin extension function</p>\n<pre><code>fun String.enDigitToBn():String{\n    val bnDigits = listOf('০','১','২','৩','৪','৫','৬','৭','৮','৯')\n    return this.map { bnDigits[it.toString().toInt()] }.joinToString(&quot;&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":16179838,"reputation":11,"user_id":11681668,"display_name":"Abu Raihan Rony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1664,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":6,"score":0,"last_activity_date":1657965746,"creation_date":1562694603,"question_id":56958131,"body_markdown":"How can I change the time format to Bangla from English without changing the app language?","title":"How can I change the time format to Bangla from English without changing the app language?","body":"<p>How can I change the time format to Bangla from English without changing the app language?</p>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657964692,"creation_date":1657964692,"answer_id":73003164,"question_id":72998777,"body_markdown":"By lack of better solution, I have updated the written xsd object to add a field annotated with `@XmlTransient`.  \r\nThis prevents the `Jaxb2Marshaller` used by `StaxEventItemWriter` from including the field in the XML.  \r\nThe annox plugin can be used in combination with xjc to declare the annotation through the bindings file (xPath). \r\n\r\nThis IMO is not a good solution, but it does work.  \r\nFirst, because it mixes the data from the read model into the written model (which it should not), and second because it requires to fetch the entity again before updating and persisting its state.  \r\n\r\nOther answers on SO I looked up dance around the problem, but there doesn&#39;t appear to be a straightforward solution to get a reference (AFAICS), if not for passing it through the execution context, which would force you to change the batch size to 1 which is not desirable.  \r\nAny callbacks pass only the written item, not the originally read object. ","title":"Spring batch get read item in onSkipInWrite","body":"<p>By lack of better solution, I have updated the written xsd object to add a field annotated with <code>@XmlTransient</code>.<br />\nThis prevents the <code>Jaxb2Marshaller</code> used by <code>StaxEventItemWriter</code> from including the field in the XML.<br />\nThe annox plugin can be used in combination with xjc to declare the annotation through the bindings file (xPath).</p>\n<p>This IMO is not a good solution, but it does work.<br />\nFirst, because it mixes the data from the read model into the written model (which it should not), and second because it requires to fetch the entity again before updating and persisting its state.</p>\n<p>Other answers on SO I looked up dance around the problem, but there doesn't appear to be a straightforward solution to get a reference (AFAICS), if not for passing it through the execution context, which would force you to change the batch size to 1 which is not desirable.<br />\nAny callbacks pass only the written item, not the originally read object.</p>\n"}],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657964692,"creation_date":1657913140,"question_id":72998777,"body_markdown":"Very simple use case but can&#39;t find a good solution. \r\n\r\n- Reader: Reads records (entities) from the database (`HibernateCursorItemReader`)\r\n- Processor: Maps entity records to Xml Beans (JaxB) based on a CLOB field that contains XML \r\n- Writer: Writes the item to a file \r\n\r\nIn `onSkipInWrite` I need access to the originally read entity, in order to update its state (i.e. error state).  \r\nThe generated XML isn&#39;t useful in this regard. \r\n\r\nCan&#39;t seem to find a solid solution to the problem; how to get a reference to the read entity? ","title":"Spring batch get read item in onSkipInWrite","body":"<p>Very simple use case but can't find a good solution.</p>\n<ul>\n<li>Reader: Reads records (entities) from the database (<code>HibernateCursorItemReader</code>)</li>\n<li>Processor: Maps entity records to Xml Beans (JaxB) based on a CLOB field that contains XML</li>\n<li>Writer: Writes the item to a file</li>\n</ul>\n<p>In <code>onSkipInWrite</code> I need access to the originally read entity, in order to update its state (i.e. error state).<br />\nThe generated XML isn't useful in this regard.</p>\n<p>Can't seem to find a solid solution to the problem; how to get a reference to the read entity?</p>\n"},{"tags":["java","spring","gradle","spring-boot"],"comments":[{"owner":{"account_id":5654135,"reputation":3774,"user_id":4473822,"display_name":"Tom"},"score":0,"creation_date":1488813890,"post_id":42628920,"comment_id":72386536,"body_markdown":"I&#39;m not sure if its a typo only here but your class name is `DigApplication` - Di*g* with a *g* and you try to run `DipApplication` - Di*p* with a *p*. Also, `@EnableAutoConfiguration` is not needed when you use `@SpringBootApplication` as it already contains it.","body":"I&#39;m not sure if its a typo only here but your class name is <code>DigApplication</code> - Di<i>g</i> with a <i>g</i> and you try to run <code>DipApplication</code> - Di<i>p</i> with a <i>p</i>. Also, <code>@EnableAutoConfiguration</code> is not needed when you use <code>@SpringBootApplication</code> as it already contains it."},{"owner":{"account_id":7291708,"reputation":3515,"user_id":5557885,"accept_rate":54,"display_name":"rajadilipkolli"},"score":0,"creation_date":1488828957,"post_id":42628920,"comment_id":72395846,"body_markdown":"Do a gradle clean build and you should run application","body":"Do a gradle clean build and you should run application"},{"owner":{"account_id":5831046,"reputation":121,"user_id":4595515,"accept_rate":33,"display_name":"Anand MP"},"score":0,"creation_date":1488872908,"post_id":42628920,"comment_id":72412835,"body_markdown":"@Tom  Thanks for pointing out the typo. I&#39;ve edited the question. But that&#39;s not what is causing the error.","body":"@Tom  Thanks for pointing out the typo. I&#39;ve edited the question. But that&#39;s not what is causing the error."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1488872995,"post_id":42628920,"comment_id":72412872,"body_markdown":"How do you run your application? How is gradle relevant?","body":"How do you run your application? How is gradle relevant?"},{"owner":{"account_id":5831046,"reputation":121,"user_id":4595515,"accept_rate":33,"display_name":"Anand MP"},"score":0,"creation_date":1488875787,"post_id":42628920,"comment_id":72414228,"body_markdown":"@JBNizet Gradle is important because I&#39;m resolving all my dependencies through that. Since the kind of error that I&#39;m getting is because of spring-boot related issue, which is available as an external library in my project.","body":"@JBNizet Gradle is important because I&#39;m resolving all my dependencies through that. Since the kind of error that I&#39;m getting is because of spring-boot related issue, which is available as an external library in my project."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1488875905,"post_id":42628920,"comment_id":72414285,"body_markdown":"OK. So you **build** your app with Gradle. That doesn&#39;t tell us how you **run** your application, and how gradle is relevant here.","body":"OK. So you <b>build</b> your app with Gradle. That doesn&#39;t tell us how you <b>run</b> your application, and how gradle is relevant here."}],"answers":[{"tags":[],"owner":{"account_id":5831046,"reputation":121,"user_id":4595515,"accept_rate":33,"display_name":"Anand MP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1488876186,"creation_date":1488876186,"answer_id":42643715,"question_id":42628920,"body_markdown":"The error was because of an issue with gradle 3.4 I&#39;ve changed my gradle distribution to 3.2 and everything is working fine now.\r\n\r\nPlease refer this for more information:\r\nhttps://github.com/gradle/gradle/issues/1335\r\n\r\nHope this solves your problem.","title":"Gradle project error - java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication","body":"<p>The error was because of an issue with gradle 3.4 I've changed my gradle distribution to 3.2 and everything is working fine now.</p>\n\n<p>Please refer this for more information:\n<a href=\"https://github.com/gradle/gradle/issues/1335\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/1335</a></p>\n\n<p>Hope this solves your problem.</p>\n"},{"tags":[],"owner":{"account_id":10426574,"reputation":31,"user_id":7687624,"display_name":"趁现在赶快回家"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489914364,"creation_date":1489914364,"answer_id":42884770,"question_id":42628920,"body_markdown":"I fix this error by change gradle3.4 to 3.2","title":"Gradle project error - java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication","body":"<p>I fix this error by change gradle3.4 to 3.2</p>\n"},{"tags":[],"owner":{"account_id":2820458,"reputation":2588,"user_id":2424320,"accept_rate":89,"display_name":"Turbut Alin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1494175597,"creation_date":1494175597,"answer_id":43834087,"question_id":42628920,"body_markdown":"If you are using IntelliJ Idea, the new version 2016.3.6 solved this issue.","title":"Gradle project error - java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication","body":"<p>If you are using IntelliJ Idea, the new version 2016.3.6 solved this issue.</p>\n"},{"tags":[],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600826519,"creation_date":1600826519,"answer_id":64019985,"question_id":42628920,"body_markdown":"i encountered this problem too, just with another story.\r\n\r\ni am using spring boot 2.2.5 and gradle 5.1.2.\r\n\r\nrun `gradle build -x test`, it will tell you what error it is.\r\n\r\nin my case, it told me that `error: package org.jasig.cas.client.authentication does not exist`, but this package exists in fact.\r\n\r\nthen i remembered that i added a dependency `runtimeOnly &#39;org.apereo.cas:cas-server-support-validation:5.3.15.1&#39;`\r\n\r\nafter comment this dependency, my project can start success.","title":"Gradle project error - java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication","body":"<p>i encountered this problem too, just with another story.</p>\n<p>i am using spring boot 2.2.5 and gradle 5.1.2.</p>\n<p>run <code>gradle build -x test</code>, it will tell you what error it is.</p>\n<p>in my case, it told me that <code>error: package org.jasig.cas.client.authentication does not exist</code>, but this package exists in fact.</p>\n<p>then i remembered that i added a dependency <code>runtimeOnly 'org.apereo.cas:cas-server-support-validation:5.3.15.1'</code></p>\n<p>after comment this dependency, my project can start success.</p>\n"},{"tags":[],"owner":{"account_id":7853871,"reputation":512,"user_id":5936451,"display_name":"Ram Pratap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657964658,"creation_date":1657964658,"answer_id":73003155,"question_id":42628920,"body_markdown":"I understand this is an old thread, but still adding an answer.\r\n\r\nSpring Boot will add two jars under build\\libs\\ (once we execute ./gradlew clean build or equivalent) *.jar(this will be jar with all dependencies) and *-plain.jar(will not have any dependencies). Now *-plain.jar is getting picked up and executed and causing No manifest and Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication (once we fix no manifest by providing manifest under jar {}).\r\n\r\nWe need to run *.jar using java -jar command. If we want to stop generating *-plain.jar , we have to simply add following in our build.gradle :\r\n\r\n    jar {\r\n    enabled = false\r\n    }","title":"Gradle project error - java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication","body":"<p>I understand this is an old thread, but still adding an answer.</p>\n<p>Spring Boot will add two jars under build\\libs\\ (once we execute ./gradlew clean build or equivalent) *.jar(this will be jar with all dependencies) and *-plain.jar(will not have any dependencies). Now *-plain.jar is getting picked up and executed and causing No manifest and Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication (once we fix no manifest by providing manifest under jar {}).</p>\n<p>We need to run *.jar using java -jar command. If we want to stop generating *-plain.jar , we have to simply add following in our build.gradle :</p>\n<pre><code>jar {\nenabled = false\n}\n</code></pre>\n"}],"owner":{"account_id":5831046,"reputation":121,"user_id":4595515,"accept_rate":33,"display_name":"Anand MP"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11639,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42643715,"answer_count":5,"score":4,"last_activity_date":1657964658,"creation_date":1488812675,"question_id":42628920,"body_markdown":"This is my main application code:\r\n\r\n    package u.d.dip.rs.app;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    \r\n    @EnableWebSecurity\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;u.d.dip&quot;)\r\n    @EnableAutoConfiguration\r\n    public class DipApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DipApplication.class, args);\r\n        }\r\n    }\r\n\r\nI&#39;m using gradle to build the project. Even though SpringApplication file is properly imported I&#39;m getting the following error:\r\n\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 6 more\r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\nI&#39;m getting following gradle message when I hover over SpringApplication\r\n\r\n    [Gradle: org.springframework.boot:spring-boot:1.5.1.RELEASE] org.springframework.boot public class SpringApplication extends Object\r\n\r\nAny help would be much appreciated.\r\nThanks in advance!\r\n\r\n\r\n","title":"Gradle project error - java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication","body":"<p>This is my main application code:</p>\n\n<pre><code>package u.d.dip.rs.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n\n@EnableWebSecurity\n@SpringBootApplication\n@ComponentScan(basePackages = \"u.d.dip\")\n@EnableAutoConfiguration\npublic class DipApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DipApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>I'm using gradle to build the project. Even though SpringApplication file is properly imported I'm getting the following error:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 6 more\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I'm getting following gradle message when I hover over SpringApplication</p>\n\n<pre><code>[Gradle: org.springframework.boot:spring-boot:1.5.1.RELEASE] org.springframework.boot public class SpringApplication extends Object\n</code></pre>\n\n<p>Any help would be much appreciated.\nThanks in advance!</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","manifest"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1629013221,"post_id":68789394,"comment_id":121570347,"body_markdown":"Do you understand what the exception means?","body":"Do you understand what the exception means?"},{"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"score":0,"creation_date":1629013790,"post_id":68789394,"comment_id":121570456,"body_markdown":"Yes. The exception tells me that there is no definition of a class provided by me.","body":"Yes. The exception tells me that there is no definition of a class provided by me."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1629014713,"post_id":68789394,"comment_id":121570633,"body_markdown":"In the classpath yes","body":"In the classpath yes"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629014353,"creation_date":1629014353,"answer_id":68789707,"question_id":68789394,"body_markdown":"The `-plain.jar` file is a plain jar file without any of Spring Boot’s customizations. This means that it doesn’t contain your application’s dependencies and can’t be launched using `java -jar`.\r\n\r\nYou need to run `temperaturetracker-0.0.1-SNAPSHOT.jar` instead.\r\n","title":"Spring Boot jar launch error: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError","body":"<p>The <code>-plain.jar</code> file is a plain jar file without any of Spring Boot’s customizations. This means that it doesn’t contain your application’s dependencies and can’t be launched using <code>java -jar</code>.</p>\n<p>You need to run <code>temperaturetracker-0.0.1-SNAPSHOT.jar</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":7853871,"reputation":512,"user_id":5936451,"display_name":"Ram Pratap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657964446,"creation_date":1657964446,"answer_id":73003144,"question_id":68789394,"body_markdown":"I understand this is an old thread, but still adding an answer.\r\n\r\nSpring Boot will add two jars under build\\libs\\ (**once we execute ./gradlew clean build or equivalent**) *.jar(this will be jar with all dependencies) and *-plain.jar(will not have any dependencies). Now *-plain.jar is getting picked up and executed and causing **No manifest and Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication (once we fix no manifest by providing manifest under jar {})**.\r\n\r\nAs Andy confirmed you need to run temperaturetracker-0.0.1-SNAPSHOT.jar instead. If we want to stop generating *-plain.jar , we have to simply add following in our build.gradle :\r\n\r\n    jar {\r\n    enabled = false\r\n    }\r\n\r\n","title":"Spring Boot jar launch error: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError","body":"<p>I understand this is an old thread, but still adding an answer.</p>\n<p>Spring Boot will add two jars under build\\libs\\ (<strong>once we execute ./gradlew clean build or equivalent</strong>) *.jar(this will be jar with all dependencies) and *-plain.jar(will not have any dependencies). Now *-plain.jar is getting picked up and executed and causing <strong>No manifest and Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication (once we fix no manifest by providing manifest under jar {})</strong>.</p>\n<p>As Andy confirmed you need to run temperaturetracker-0.0.1-SNAPSHOT.jar instead. If we want to stop generating *-plain.jar , we have to simply add following in our build.gradle :</p>\n<pre><code>jar {\nenabled = false\n}\n</code></pre>\n"}],"owner":{"account_id":16347167,"reputation":918,"user_id":11806619,"display_name":"Captain Jacky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68789707,"answer_count":2,"score":1,"last_activity_date":1657964446,"creation_date":1629010955,"question_id":68789394,"body_markdown":"Recently I ran `jar` of my `Spring Boot Application`. I&#39;ve received an error: `no main manifest attribute, in temperaturetracker-0.0.1-SNAPSHOT-plain.jar`. I&#39;ve updated my `build.gradle` so it would contain `Main-Class` attributes, but then I do receive an error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\r\n            at com.example.temperaturetracker.TemperatureTrackerApplication.main(TemperatureTrackerApplication.java:15)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            ... 1 more\r\n\r\nMy `build.gradle`:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.5.3&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.5.30-RC&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                    &#39;Main-Class&#39;: &#39;com.example.temperaturetracker.TemperatureTrackerApplication&#39;\r\n            )\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        // Security\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security:2.5.3&#39;\r\n        implementation &#39;io.jsonwebtoken:jjwt:0.9.1&#39;\r\n    \r\n        // springframework\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-websocket:2.5.3&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-configuration-processor:2.5.3&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.3&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation:2.5.3&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-configuration-processor:2.5.3&#39;\r\n    \r\n        // Firebase\r\n        implementation &#39;com.google.firebase:firebase-admin:8.0.0&#39;\r\n    \r\n        // Database\r\n        implementation &#39;org.postgresql:postgresql:42.2.23.jre7&#39;\r\n    \r\n        // Testing\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.5.3&#39;\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30-RC&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    compileKotlin {\r\n        kotlinOptions {\r\n            jvmTarget = &quot;11&quot;\r\n        }\r\n    }\r\n    compileTestKotlin {\r\n        kotlinOptions {\r\n            jvmTarget = &quot;11&quot;\r\n        }\r\n    }\r\n\r\nMain class:\r\n\r\n    package com.example.temperaturetracker;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class TemperatureTrackerApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(TemperatureTrackerApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nGradle:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.1.1-bin.zip\r\n\r\nAlso hovering over `Main-Class` attribute warning is visible (not sure if this has do to anything with this error):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6uAmf.png\r\n\r\nRunning my app normally by pressing green arrow or (Shift + F10) works normally. I hope someone would be able to solve my issue.","title":"Spring Boot jar launch error: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError","body":"<p>Recently I ran <code>jar</code> of my <code>Spring Boot Application</code>. I've received an error: <code>no main manifest attribute, in temperaturetracker-0.0.1-SNAPSHOT-plain.jar</code>. I've updated my <code>build.gradle</code> so it would contain <code>Main-Class</code> attributes, but then I do receive an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\n        at com.example.temperaturetracker.TemperatureTrackerApplication.main(TemperatureTrackerApplication.java:15)\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 1 more\n</code></pre>\n<p>My <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'org.jetbrains.kotlin.jvm' version '1.5.30-RC'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'com.example.temperaturetracker.TemperatureTrackerApplication'\n        )\n    }\n}\n\ndependencies {\n    // Security\n    implementation 'org.springframework.boot:spring-boot-starter-security:2.5.3'\n    implementation 'io.jsonwebtoken:jjwt:0.9.1'\n\n    // springframework\n    implementation 'org.springframework.boot:spring-boot-starter-websocket:2.5.3'\n    implementation 'org.springframework.boot:spring-boot-configuration-processor:2.5.3'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.5.3'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:2.5.3'\n    implementation 'org.springframework.boot:spring-boot-configuration-processor:2.5.3'\n\n    // Firebase\n    implementation 'com.google.firebase:firebase-admin:8.0.0'\n\n    // Database\n    implementation 'org.postgresql:postgresql:42.2.23.jre7'\n\n    // Testing\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.5.3'\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30-RC'\n}\n\ntest {\n    useJUnitPlatform()\n}\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>package com.example.temperaturetracker;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TemperatureTrackerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TemperatureTrackerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Gradle:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.1.1-bin.zip\n</code></pre>\n<p>Also hovering over <code>Main-Class</code> attribute warning is visible (not sure if this has do to anything with this error):</p>\n<p><a href=\"https://i.stack.imgur.com/6uAmf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6uAmf.png\" alt=\"enter image description here\" /></a></p>\n<p>Running my app normally by pressing green arrow or (Shift + F10) works normally. I hope someone would be able to solve my issue.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1657920734,"post_id":72999588,"comment_id":128932921,"body_markdown":"Have you considered not making your node class static?  That way the node class doesn&#39;t need to be generic.","body":"Have you considered not making your node class static?  That way the node class doesn&#39;t need to be generic."},{"owner":{"account_id":25150017,"reputation":33,"user_id":18995404,"display_name":"Placeblock"},"score":1,"creation_date":1657921600,"post_id":72999588,"comment_id":128933061,"body_markdown":"@ChengThao This doesn&#39;t change anything, the class is only defined static because its a subclass of my main class, but i will remove it from my question because it is unnecesarry","body":"@ChengThao This doesn&#39;t change anything, the class is only defined static because its a subclass of my main class, but i will remove it from my question because it is unnecesarry"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1657923412,"post_id":72999588,"comment_id":128933358,"body_markdown":"Try creating `public class Tree&lt;S&gt;` . Then, within that, you can manage instances of `class Node { S thing;` ...","body":"Try creating <code>public class Tree&lt;S&gt;</code> . Then, within that, you can manage instances of <code>class Node { S thing;</code> ..."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657923264,"creation_date":1657922845,"answer_id":73000020,"question_id":72999588,"body_markdown":"What you are trying to do is something like this\r\n```\r\npublic class Node&lt;T&gt; {\r\n\t\r\n\tprivate Node&lt;T&gt; child;\r\n\tprivate T data = null;\r\n\t\r\n\tpublic Node (T data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\t\r\n\tpublic T getData() {\r\n\t\treturn data;\r\n\t}\r\n\t\r\n\tpublic Node&lt;T&gt; getChild() {\r\n\t\treturn child;\r\n\t}\r\n\r\n\tpublic void addChild(Node&lt;T&gt; child) {\r\n\t\tthis.child = child;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;this node&#39;s data: &quot; + data + &quot;; has child? &quot; + (child != null);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tNode&lt;String&gt; root = new Node&lt;&gt; (&quot;parent&quot;);\r\n\t\tNode&lt;String&gt; child = new Node&lt;&gt;(&quot;child&quot;);\r\n\t\troot.addChild(child);\r\n\t\tSystem.out.println(root);\r\n\t\tSystem.out.println(child);\r\n\t}\r\n}\r\n```\r\nIf you were to execute this, it will output\r\n```\r\nthis node&#39;s data: parent; has child? true\r\nthis node&#39;s data: child; has child? false\r\nthis node&#39;s data: 0; has child? false\r\nthis node&#39;s data: 1; has child? false\r\n```\r\nNotice how I can create nodes of type `String` and `Integer`. However, this class is incomplete if you want to create a tree structure. The implementation of &quot;tree&quot; will depend on what kind of tree you are talking about. For example, a simple binary tree will have two children at most. Other types of trees could have more children. Also, adding nodes to a tree might require balancing the tree.\r\n\r\nNow, to your question, this answer suffices. I was able to demonstrate the use of generics to create `Node` objects of type `T`.","title":"Tree-Structure does not inherit generics","body":"<p>What you are trying to do is something like this</p>\n<pre><code>public class Node&lt;T&gt; {\n    \n    private Node&lt;T&gt; child;\n    private T data = null;\n    \n    public Node (T data) {\n        this.data = data;\n    }\n    \n    public T getData() {\n        return data;\n    }\n    \n    public Node&lt;T&gt; getChild() {\n        return child;\n    }\n\n    public void addChild(Node&lt;T&gt; child) {\n        this.child = child;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;this node's data: &quot; + data + &quot;; has child? &quot; + (child != null);\n    }\n\n    public static void main(String[] args) {\n        Node&lt;String&gt; root = new Node&lt;&gt; (&quot;parent&quot;);\n        Node&lt;String&gt; child = new Node&lt;&gt;(&quot;child&quot;);\n        root.addChild(child);\n        System.out.println(root);\n        System.out.println(child);\n    }\n}\n</code></pre>\n<p>If you were to execute this, it will output</p>\n<pre><code>this node's data: parent; has child? true\nthis node's data: child; has child? false\nthis node's data: 0; has child? false\nthis node's data: 1; has child? false\n</code></pre>\n<p>Notice how I can create nodes of type <code>String</code> and <code>Integer</code>. However, this class is incomplete if you want to create a tree structure. The implementation of &quot;tree&quot; will depend on what kind of tree you are talking about. For example, a simple binary tree will have two children at most. Other types of trees could have more children. Also, adding nodes to a tree might require balancing the tree.</p>\n<p>Now, to your question, this answer suffices. I was able to demonstrate the use of generics to create <code>Node</code> objects of type <code>T</code>.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657964160,"creation_date":1657928769,"answer_id":73000535,"question_id":72999588,"body_markdown":"The use of `&lt;&gt;` requires type inference, and the argument of the first\r\n`addChild` must be a Node&lt;String&gt;, and just passing `new Node&lt;&gt;()` would do - infering from the return type.\r\nBut chaining to `.addChild(new Node&lt;&gt;())` cannot infer anything, can only provide `Node&lt;Object&gt;`. So: one _cannot_ use `&lt;&gt;`.\r\n\r\nThe problem is (of course) that you want `addChild` to return the head of the list, and keep adding to the tail of the list.\r\n\r\nNormal practice is not to create Node instances, but just use the `S` values.\r\n\r\n    public class Node&lt;S&gt; {\r\n        private S value;\r\n        private Node&lt;S&gt; next;\r\n    \r\n        public Node(S value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public static &lt;T&gt; void print(Node&lt;T&gt; root) {\r\n            if (root == null) {\r\n                System.out.println(&quot;empty&quot;);\r\n                return;\r\n            }\r\n            System.out.print(root.value);\r\n            System.out.print(&quot; --&gt; &quot;);\r\n            print(root.next);\r\n        }\r\n    \r\n        public static &lt;T&gt; Node&lt;T&gt; addAll(T... values) {\r\n            Node&lt;T&gt; root = null;\r\n            Node&lt;T&gt; previous = null;\r\n            for (T value : values) {\r\n                Node&lt;T&gt; current = new Node&lt;&gt;(value);\r\n                if (root == null) {\r\n                    root = current;\r\n                } else {\r\n                    previous.next = current;\r\n                }\r\n                previous = current;\r\n            }\r\n            return root;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Node&lt;String&gt; root = Node.addAll(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n            print(root);\r\n        }\r\n    }\r\n\r\nComparable to `Collections.addAll` or `List.of`. If you keep a `Node&lt;S&gt; last` field, you could indeed create something like:\r\n\r\n        public void addLast(S value) {\r\n            last.next = new Node&lt;&gt;(value);\r\n        }\r\n\r\nThis also shows a serious problem of the class: an empty list is not a Node.\r\nOne could use `Optional&lt;Node&lt;S&gt;&gt;` or a special constant for an empty list `EMPTY` - without value.\r\n\r\nThe normal solution is to have a container:\r\n\r\n    public class List&lt;S&gt; {\r\n        private class Node {\r\n            ...\r\n        }\r\n        private Node&lt;S&gt; root;\r\n        private Node&lt;S&gt; last;\r\n        private int size;\r\n\r\n        public List&lt;S&gt; addLast(S value) {\r\n            Node&lt;S&gt; current = new Node&lt;&gt;(value);\r\n            if (root == null) {\r\n                root = current;\r\n                last = current;\r\n            } else {\r\n                last.next = current;\r\n            }\r\n            last = current;\r\n            ++size;\r\n            return this;\r\n        }\r\n\r\n        private int size() {\r\n            return size;\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nNow everything fits.\r\n\r\n    List&lt;String&gt; nodes = new List&lt;&gt;()\r\n        .addLast(&quot;a&quot;)\r\n        .addLast(&quot;b&quot;)\r\n        .addLast(&quot;c&quot;)\r\n        .addLast(&quot;d&quot;);\r\n\r\n------------------------\r\n***After feedback, when wanting `Node` references.***\r\n\r\nThen discard chaining, and make Node public again.\r\n\r\n        public Node&lt;S&gt; addLast() {\r\n            addLast(null);\r\n        }\r\n        public Node&lt;S&gt; addLast(S value) {\r\n            Node&lt;S&gt; current = new Node&lt;&gt;(value);\r\n            if (root == null) {\r\n                root = current;\r\n                last = current;\r\n            } else {\r\n                last.next = current;\r\n            }\r\n            last = current;\r\n            ++size;\r\n            return last;\r\n        }\r\n\r\n    List&lt;String&gt; nodes = new List&lt;&gt;()\r\n    Node&lt;String&gt; a = nodes.addLast();\r\n    Node&lt;String&gt; b = nodes.addLast();\r\n    var c = nodes.addLast();\r\n    var d = nodes.addLast();\r\n\r\nOne could use `var` for shortness.","title":"Tree-Structure does not inherit generics","body":"<p>The use of <code>&lt;&gt;</code> requires type inference, and the argument of the first\n<code>addChild</code> must be a Node, and just passing <code>new Node&lt;&gt;()</code> would do - infering from the return type.\nBut chaining to <code>.addChild(new Node&lt;&gt;())</code> cannot infer anything, can only provide <code>Node&lt;Object&gt;</code>. So: one <em>cannot</em> use <code>&lt;&gt;</code>.</p>\n<p>The problem is (of course) that you want <code>addChild</code> to return the head of the list, and keep adding to the tail of the list.</p>\n<p>Normal practice is not to create Node instances, but just use the <code>S</code> values.</p>\n<pre><code>public class Node&lt;S&gt; {\n    private S value;\n    private Node&lt;S&gt; next;\n\n    public Node(S value) {\n        this.value = value;\n    }\n\n    public static &lt;T&gt; void print(Node&lt;T&gt; root) {\n        if (root == null) {\n            System.out.println(&quot;empty&quot;);\n            return;\n        }\n        System.out.print(root.value);\n        System.out.print(&quot; --&gt; &quot;);\n        print(root.next);\n    }\n\n    public static &lt;T&gt; Node&lt;T&gt; addAll(T... values) {\n        Node&lt;T&gt; root = null;\n        Node&lt;T&gt; previous = null;\n        for (T value : values) {\n            Node&lt;T&gt; current = new Node&lt;&gt;(value);\n            if (root == null) {\n                root = current;\n            } else {\n                previous.next = current;\n            }\n            previous = current;\n        }\n        return root;\n    }\n\n    public static void main(String[] args) {\n        Node&lt;String&gt; root = Node.addAll(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\n        print(root);\n    }\n}\n</code></pre>\n<p>Comparable to <code>Collections.addAll</code> or <code>List.of</code>. If you keep a <code>Node&lt;S&gt; last</code> field, you could indeed create something like:</p>\n<pre><code>    public void addLast(S value) {\n        last.next = new Node&lt;&gt;(value);\n    }\n</code></pre>\n<p>This also shows a serious problem of the class: an empty list is not a Node.\nOne could use <code>Optional&lt;Node&lt;S&gt;&gt;</code> or a special constant for an empty list <code>EMPTY</code> - without value.</p>\n<p>The normal solution is to have a container:</p>\n<pre><code>public class List&lt;S&gt; {\n    private class Node {\n        ...\n    }\n    private Node&lt;S&gt; root;\n    private Node&lt;S&gt; last;\n    private int size;\n\n    public List&lt;S&gt; addLast(S value) {\n        Node&lt;S&gt; current = new Node&lt;&gt;(value);\n        if (root == null) {\n            root = current;\n            last = current;\n        } else {\n            last.next = current;\n        }\n        last = current;\n        ++size;\n        return this;\n    }\n\n    private int size() {\n        return size;\n    }\n\n    ...\n}\n</code></pre>\n<p>Now everything fits.</p>\n<pre><code>List&lt;String&gt; nodes = new List&lt;&gt;()\n    .addLast(&quot;a&quot;)\n    .addLast(&quot;b&quot;)\n    .addLast(&quot;c&quot;)\n    .addLast(&quot;d&quot;);\n</code></pre>\n<hr />\n<p><em><strong>After feedback, when wanting <code>Node</code> references.</strong></em></p>\n<p>Then discard chaining, and make Node public again.</p>\n<pre><code>    public Node&lt;S&gt; addLast() {\n        addLast(null);\n    }\n    public Node&lt;S&gt; addLast(S value) {\n        Node&lt;S&gt; current = new Node&lt;&gt;(value);\n        if (root == null) {\n            root = current;\n            last = current;\n        } else {\n            last.next = current;\n        }\n        last = current;\n        ++size;\n        return last;\n    }\n\nList&lt;String&gt; nodes = new List&lt;&gt;()\nNode&lt;String&gt; a = nodes.addLast();\nNode&lt;String&gt; b = nodes.addLast();\nvar c = nodes.addLast();\nvar d = nodes.addLast();\n</code></pre>\n<p>One could use <code>var</code> for shortness.</p>\n"}],"owner":{"account_id":25150017,"reputation":33,"user_id":18995404,"display_name":"Placeblock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73000535,"answer_count":2,"score":1,"last_activity_date":1657964160,"creation_date":1657919123,"question_id":72999588,"body_markdown":"My goal is to create a tree-like object structure.\r\n\r\nFor this i created a class named Node (I removed the implementation because the problem still persists without it):\r\n```\r\npublic class Node&lt;S&gt; {\r\n    public Node&lt;S&gt; addChild(Node&lt;S&gt; node) {\r\n        return this;\r\n    }\r\n}\r\n\r\n```\r\n\r\nImportant to know is that i want to define the generic type S only in the root node, all child nodes should automatically inherit from the root node.\r\n\r\nSomething like this:\r\n```\r\nnew Node&lt;String&gt;().addChild(\r\n    new Node&lt;&gt;().addChild(\r\n        new Node&lt;&gt;()\r\n    )\r\n)\r\n```\r\nI restricted the addChild method to only accept Nodes with the same generic type S,\r\nso as far as i know my child node should know that it&#39;s generic type S has to be (in this example) String. However it seems like the generic type S gets lost after instantiating a new Node, because it gives me the following Exception:\r\n```\r\nerror: incompatible types: Node&lt;Object&gt; cannot be converted to Node&lt;String&gt;\r\n```\r\n\r\n","title":"Tree-Structure does not inherit generics","body":"<p>My goal is to create a tree-like object structure.</p>\n<p>For this i created a class named Node (I removed the implementation because the problem still persists without it):</p>\n<pre><code>public class Node&lt;S&gt; {\n    public Node&lt;S&gt; addChild(Node&lt;S&gt; node) {\n        return this;\n    }\n}\n\n</code></pre>\n<p>Important to know is that i want to define the generic type S only in the root node, all child nodes should automatically inherit from the root node.</p>\n<p>Something like this:</p>\n<pre><code>new Node&lt;String&gt;().addChild(\n    new Node&lt;&gt;().addChild(\n        new Node&lt;&gt;()\n    )\n)\n</code></pre>\n<p>I restricted the addChild method to only accept Nodes with the same generic type S,\nso as far as i know my child node should know that it's generic type S has to be (in this example) String. However it seems like the generic type S gets lost after instantiating a new Node, because it gives me the following Exception:</p>\n<pre><code>error: incompatible types: Node&lt;Object&gt; cannot be converted to Node&lt;String&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657963780,"creation_date":1657963780,"answer_id":73003064,"question_id":73002941,"body_markdown":"On this line:\r\n\r\n```java\r\ninputNoteText.setText(result.get(0));\r\n```\r\n\r\nIt simply resets the text and then replaces it with your input.\r\n\r\nAll you have to do is to store the text already inside of it and then append the input.\r\n\r\nSomething like this:\r\n\r\n```java\r\ninputNoteText.setText(inputNoteText.getText()+result.get(0));\r\n```\r\n\r\nYour new full code:\r\n\r\n```java\r\n//This is my speech to text code\r\nlayoutMiscellaneous.findViewById(R.id.speechtotext).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n                intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n                        RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n                intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n                intent.putExtra(RecognizerIntent.EXTRA_PROMPT,\r\n                        &quot;Hi Speak Something&quot;);\r\n               try {\r\n                   startActivityForResult(intent, 33333);\r\n               } catch (ActivityNotFoundException e) {\r\n                   Toast.makeText(CreateNoteActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n               }\r\n            }\r\n        });\r\n\r\n\r\n\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == REQUEST_CODE_SELECT_IMAGE &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data != null) {\r\n                Uri selectedImageUri = data.getData();\r\n                if(selectedImageUri != null) {\r\n                    try {\r\n\r\n                        InputStream inputStream = getContentResolver().openInputStream(selectedImageUri);\r\n                        Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                        imageNote.setImageBitmap(bitmap);\r\n                        imageNote.setVisibility(View.VISIBLE);\r\n                        findViewById(R.id.imageRemoveImage).setVisibility(View.VISIBLE);\r\n                        selectedImagePath = getPathFromUri(selectedImageUri);\r\n\r\n                    } catch (Exception exception) {\r\n                        Toast.makeText(this, exception.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (requestCode == 33333 &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data){\r\n            ArrayList&lt;String&gt; result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n            inputNoteText.setText(inputNoteText.getText()+result.get(0));\r\n        }\r\n    }\r\n```","title":"I am getting problem in speech recognition in android","body":"<p>On this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>inputNoteText.setText(result.get(0));\n</code></pre>\n<p>It simply resets the text and then replaces it with your input.</p>\n<p>All you have to do is to store the text already inside of it and then append the input.</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>inputNoteText.setText(inputNoteText.getText()+result.get(0));\n</code></pre>\n<p>Your new full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//This is my speech to text code\nlayoutMiscellaneous.findViewById(R.id.speechtotext).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n                intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n                        RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n                intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n                intent.putExtra(RecognizerIntent.EXTRA_PROMPT,\n                        &quot;Hi Speak Something&quot;);\n               try {\n                   startActivityForResult(intent, 33333);\n               } catch (ActivityNotFoundException e) {\n                   Toast.makeText(CreateNoteActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n               }\n            }\n        });\n\n\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == REQUEST_CODE_SELECT_IMAGE &amp;&amp; resultCode == RESULT_OK) {\n            if (data != null) {\n                Uri selectedImageUri = data.getData();\n                if(selectedImageUri != null) {\n                    try {\n\n                        InputStream inputStream = getContentResolver().openInputStream(selectedImageUri);\n                        Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n                        imageNote.setImageBitmap(bitmap);\n                        imageNote.setVisibility(View.VISIBLE);\n                        findViewById(R.id.imageRemoveImage).setVisibility(View.VISIBLE);\n                        selectedImagePath = getPathFromUri(selectedImageUri);\n\n                    } catch (Exception exception) {\n                        Toast.makeText(this, exception.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n\n        if (requestCode == 33333 &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data){\n            ArrayList&lt;String&gt; result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n            inputNoteText.setText(inputNoteText.getText()+result.get(0));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25822113,"reputation":21,"user_id":19561008,"display_name":"Pushkar Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657963780,"creation_date":1657962641,"question_id":73002941,"body_markdown":"I know it is silly question as I am new I am working on notes app I have add speech recognition feature with simply adds text into textview whatever we speak. It is working perfectly but the problem is that when I use second time in same the previous text get deleted and gets new text. I need to get the old text be like that and new text to add after that.\r\n\r\n\r\n    This is my speech to text code\r\n    layoutMiscellaneous.findViewById(R.id.speechtotext).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n                    intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n                            RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n                    intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n                    intent.putExtra(RecognizerIntent.EXTRA_PROMPT,\r\n                            &quot;Hi Speak Something&quot;);\r\n                   try {\r\n                       startActivityForResult(intent, 33333);\r\n                   } catch (ActivityNotFoundException e) {\r\n                       Toast.makeText(CreateNoteActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                   }\r\n                }\r\n            });\r\n\r\n \r\n\r\n    @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == REQUEST_CODE_SELECT_IMAGE &amp;&amp; resultCode == RESULT_OK) {\r\n                if (data != null) {\r\n                    Uri selectedImageUri = data.getData();\r\n                    if(selectedImageUri != null) {\r\n                        try {\r\n    \r\n                            InputStream inputStream = getContentResolver().openInputStream(selectedImageUri);\r\n                            Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                            imageNote.setImageBitmap(bitmap);\r\n                            imageNote.setVisibility(View.VISIBLE);\r\n                            findViewById(R.id.imageRemoveImage).setVisibility(View.VISIBLE);\r\n                            selectedImagePath = getPathFromUri(selectedImageUri);\r\n    \r\n                        } catch (Exception exception) {\r\n                            Toast.makeText(this, exception.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n            if (requestCode == 33333 &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data){\r\n                ArrayList&lt;String&gt; result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n                inputNoteText.setText(result.get(0));\r\n            }\r\n        }","title":"I am getting problem in speech recognition in android","body":"<p>I know it is silly question as I am new I am working on notes app I have add speech recognition feature with simply adds text into textview whatever we speak. It is working perfectly but the problem is that when I use second time in same the previous text get deleted and gets new text. I need to get the old text be like that and new text to add after that.</p>\n<pre><code>This is my speech to text code\nlayoutMiscellaneous.findViewById(R.id.speechtotext).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n                intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n                        RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n                intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n                intent.putExtra(RecognizerIntent.EXTRA_PROMPT,\n                        &quot;Hi Speak Something&quot;);\n               try {\n                   startActivityForResult(intent, 33333);\n               } catch (ActivityNotFoundException e) {\n                   Toast.makeText(CreateNoteActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n               }\n            }\n        });\n\n\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == REQUEST_CODE_SELECT_IMAGE &amp;&amp; resultCode == RESULT_OK) {\n            if (data != null) {\n                Uri selectedImageUri = data.getData();\n                if(selectedImageUri != null) {\n                    try {\n\n                        InputStream inputStream = getContentResolver().openInputStream(selectedImageUri);\n                        Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n                        imageNote.setImageBitmap(bitmap);\n                        imageNote.setVisibility(View.VISIBLE);\n                        findViewById(R.id.imageRemoveImage).setVisibility(View.VISIBLE);\n                        selectedImagePath = getPathFromUri(selectedImageUri);\n\n                    } catch (Exception exception) {\n                        Toast.makeText(this, exception.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n\n        if (requestCode == 33333 &amp;&amp; resultCode == RESULT_OK &amp;&amp; null != data){\n            ArrayList&lt;String&gt; result = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n            inputNoteText.setText(result.get(0));\n        }\n    }\n</code></pre>\n"},{"tags":["java","xml","text","tabular","docx4j"],"comments":[{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":0,"creation_date":1499365680,"post_id":44956216,"comment_id":76888300,"body_markdown":"Are you tied to docx4j?","body":"Are you tied to docx4j?"},{"owner":{"account_id":5279233,"reputation":225,"user_id":4215155,"display_name":"SuperGoA"},"score":0,"creation_date":1499366044,"post_id":44956216,"comment_id":76888509,"body_markdown":"@RabbitGuy Yes I&#39;m tied","body":"@RabbitGuy Yes I&#39;m tied"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":5,"creation_date":1499367712,"post_id":44956216,"comment_id":76889377,"body_markdown":"Tr is table row.  tr.getContent will give you a list of tc (table cells).  Each tc  has in turn, getContent, which in this case contains P (paragraph) objects. In those are R (run) objects, which finally contain text runs.   That&#39;s what the OpenXML typically looks like.  You can see it by XmlUtils.marshallToString(tbl).","body":"Tr is table row.  tr.getContent will give you a list of tc (table cells).  Each tc  has in turn, getContent, which in this case contains P (paragraph) objects. In those are R (run) objects, which finally contain text runs.   That&#39;s what the OpenXML typically looks like.  You can see it by XmlUtils.marshallToString(tbl)."},{"owner":{"account_id":5279233,"reputation":225,"user_id":4215155,"display_name":"SuperGoA"},"score":0,"creation_date":1499368447,"post_id":44956216,"comment_id":76889762,"body_markdown":"@JasonPlutext Thank you so much! So I assume I should take an approach like [this](https://stackoverflow.com/questions/24755952/how-to-read-word-document-and-get-parts-of-it-with-all-styles-using-docx4j)?","body":"@JasonPlutext Thank you so much! So I assume I should take an approach like <a href=\"https://stackoverflow.com/questions/24755952/how-to-read-word-document-and-get-parts-of-it-with-all-styles-using-docx4j\">this</a>?"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1499380246,"post_id":44956216,"comment_id":76895129,"body_markdown":"Similar, but the referenced method DocxUtility.getDocxUtility is not part of docx4j.  You can use getContents instead.","body":"Similar, but the referenced method DocxUtility.getDocxUtility is not part of docx4j.  You can use getContents instead."},{"owner":{"account_id":536581,"reputation":3624,"user_id":905494,"display_name":"tksilicon"},"score":0,"creation_date":1657963597,"post_id":44956216,"comment_id":128938015,"body_markdown":"@JasonPlutext please put your comment as answer so we can upvote. This answer saves lives.","body":"@JasonPlutext please put your comment as answer so we can upvote. This answer saves lives."}],"answers":[{"tags":[],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651843017,"creation_date":1651843017,"answer_id":72142097,"question_id":44956216,"body_markdown":"Work for me\r\n\r\n        TableFinder finder = new TableFinder();\r\n        finder.walkJAXBElements(documentPart.getContent());\r\n","title":"Cannot get text from table using docx4j","body":"<p>Work for me</p>\n<pre><code>    TableFinder finder = new TableFinder();\n    finder.walkJAXBElements(documentPart.getContent());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":536581,"reputation":3624,"user_id":905494,"display_name":"tksilicon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657963742,"creation_date":1657963742,"answer_id":73003062,"question_id":44956216,"body_markdown":"For those who will be stuck on this question. For visibility, the comment by @JasonPlutext is the answer. Tr - Tc - P - R - Text. Table row, to Table cell to Paragraph and R and then add text. ","title":"Cannot get text from table using docx4j","body":"<p>For those who will be stuck on this question. For visibility, the comment by @JasonPlutext is the answer. Tr - Tc - P - R - Text. Table row, to Table cell to Paragraph and R and then add text.</p>\n"}],"owner":{"account_id":5279233,"reputation":225,"user_id":4215155,"display_name":"SuperGoA"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657963742,"creation_date":1499364958,"question_id":44956216,"body_markdown":"**I&#39;m simply trying to output the data found in tables**, however I have only managed to print out memory locations and other obj info. Here I&#39;m using a tablefinder to locate all of my tables in a word doc then traversing through them. I&#39;m just so unbelievably stuck how to print out the data contained in these tables. Below is an image of the Text.docx I am working with along with a snippet of the code. To be clear I&#39;m not sure if I should accessing a table row (Tr) as this code snippet shows, or the parent Tbl object to print out the text contained within the table. In this case, I just want it to print &quot;I&quot;, &quot;Just&quot;, &quot;Want&quot;... etc. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n        WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(new File(&quot;C:\\\\Users\\\\1120248\\\\Test\\\\Test.docx&quot;));\r\n\t\tMainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\r\n\r\n\t\tTableFinder finder = new TableFinder();\r\n\t\tnew TraversalUtil(documentPart.getContent(), finder);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Found &quot; + finder.tblList.size()  + &quot;tables&quot;);\r\n\t\t\r\n\t\tfor (Object o : finder.tblList) {\r\n\t\t\t\t\t\t\r\n\t\t\tObject o2 = XmlUtils.unwrap(o);\t\t\r\n\t\t\t\r\n\t\t\tif (o2 instanceof org.docx4j.wml.Tbl) {\r\n\t\t\t\t\r\n\t\t\t\tTbl tbl = (Tbl)o2;\r\n\t\t\t\tTr t = (Tr)tbl.getContent().get(0);\r\n\r\n\t\t\t\tSystem.out.println(t.getContent());\r\n\t\t\t\tSystem.out.println(t.toString());\r\n\t\t\t\tSystem.out.println(XmlUtils.unwrap(t.getContent().get(0)));\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/78mlS.png\r\nThis is the output produced by this setup:\r\n\r\n[javax.xml.bind.JAXBElement@a146b11, javax.xml.bind.JAXBElement@f438904, javax.xml.bind.JAXBElement@4ed5a1b0, javax.xml.bind.JAXBElement@18d003cd, javax.xml.bind.JAXBElement@3135bf25, javax.xml.bind.JAXBElement@22ad1bae]\r\n\r\norg.docx4j.wml.Tr@4116f66a\r\n\r\norg.docx4j.wml.Tc@59c04bee","title":"Cannot get text from table using docx4j","body":"<p><strong>I'm simply trying to output the data found in tables</strong>, however I have only managed to print out memory locations and other obj info. Here I'm using a tablefinder to locate all of my tables in a word doc then traversing through them. I'm just so unbelievably stuck how to print out the data contained in these tables. Below is an image of the Text.docx I am working with along with a snippet of the code. To be clear I'm not sure if I should accessing a table row (Tr) as this code snippet shows, or the parent Tbl object to print out the text contained within the table. In this case, I just want it to print \"I\", \"Just\", \"Want\"... etc. </p>\n\n<p><a href=\"https://i.stack.imgur.com/78mlS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/78mlS.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>    WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(new File(\"C:\\\\Users\\\\1120248\\\\Test\\\\Test.docx\"));\n    MainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\n\n    TableFinder finder = new TableFinder();\n    new TraversalUtil(documentPart.getContent(), finder);\n\n    System.out.println(\"Found \" + finder.tblList.size()  + \"tables\");\n\n    for (Object o : finder.tblList) {\n\n        Object o2 = XmlUtils.unwrap(o);     \n\n        if (o2 instanceof org.docx4j.wml.Tbl) {\n\n            Tbl tbl = (Tbl)o2;\n            Tr t = (Tr)tbl.getContent().get(0);\n\n            System.out.println(t.getContent());\n            System.out.println(t.toString());\n            System.out.println(XmlUtils.unwrap(t.getContent().get(0)));\n        }\n    }\n</code></pre>\n\n<p>This is the output produced by this setup:</p>\n\n<p>[javax.xml.bind.JAXBElement@a146b11, javax.xml.bind.JAXBElement@f438904, javax.xml.bind.JAXBElement@4ed5a1b0, javax.xml.bind.JAXBElement@18d003cd, javax.xml.bind.JAXBElement@3135bf25, javax.xml.bind.JAXBElement@22ad1bae]</p>\n\n<p>org.docx4j.wml.Tr@4116f66a</p>\n\n<p>org.docx4j.wml.Tc@59c04bee</p>\n"},{"tags":["java","list","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657933295,"creation_date":1657924686,"answer_id":73000198,"question_id":73000045,"body_markdown":"&lt;h1&gt;Use the Power of Objects&lt;/h1&gt;\r\n\r\nThe usage of maps in your code is an example of abuse of collections. Storing the data in such a way is inconvenient and error-prone.\r\n\r\nInstead of trying to substitute a domain object with a `Map`, you need to define a `class` (or a `record`).\r\n\r\nIt&#39;ll give you many advantages that you&#39;re depriving yourself by using maps:\r\n* Ability to use the proper type for every property instead of keeping everything as strings;\r\n* No need to perform parsing;\r\n* Self-explanatory method names instead of hard-coded string keys, and your code will not fail because you&#39;ve misspelled a key;\r\n* The code is easier to read and maintain.\r\n\r\nFor the sake of simplicity and conciseness, I&#39;ll go with a Java 16 [*record*](https://docs.oracle.com/en/java/javase/18/language/records.html):\r\n\r\n```\r\npublic record Person(String name, int age) {}\r\n```\r\n\r\nAnd now we have two lists of `Person` instead of two lists of maps.\r\n\r\nTo implement the logic when we&#39;re starting with examining the first list and only if a result was not found we proceed by iterating through the second list, we can make use of the Java 9 method [`or()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)) defined by `Optional`. While invoked on the optional object containing a value, `or()` returns the same optional, otherwise it&#39;ll return an optional produced by a supplier provided as an argument.\r\n\r\nFor convenience, we can define a method that takes a `List&lt;Person&gt;` and the target `age` and returns an optional result.\r\n\r\n    public static Optional&lt;Person&gt; getPersonByAge(List&lt;Person&gt; people, int age) {\r\n        return people.stream().filter(pers -&gt; pers.age() == age).findFirst();\r\n    }\r\n\r\nWe can make this method reusable by making it generic. So it would expect a `List&lt;T&gt;` and a `Predicate&lt;T&gt;` as its arguments.\r\n\r\n    public static &lt;T&gt; Optional&lt;T&gt; getPersonByAge(List&lt;T&gt; people,\r\n                                                 Predicate&lt;T&gt; predicate) {\r\n        \r\n        return people.stream().filter(predicate).findFirst();\r\n    }\r\n\r\nAnd that how we can apply it:\r\n\r\n```\r\nList&lt;Person&gt; list1 = List.of(new Person(&quot;john&quot;, 30), new Person(&quot;marry&quot;, 31));\r\nList&lt;Person&gt; list2 = List.of(new Person(&quot;mike&quot;, 40), new Person(&quot;terry&quot;, 41));\r\n        \r\nPredicate&lt;Person&gt; age40 = pers -&gt; pers.age() == 40;\r\n    \r\nString name = getPersonByAge(list1, age40)\r\n    .or(() -&gt; getPersonByAge(list2, age40))\r\n    .orElseThrow()\r\n    .name();\r\n    \r\nSystem.out.println(name);\r\n```\r\n*Output:*\r\n```\r\nmike\r\n```\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/tfI)","title":"Java Streams filter two Lists of Maps using ifPresentOrElse()","body":"<h1>Use the Power of Objects</h1>\n<p>The usage of maps in your code is an example of abuse of collections. Storing the data in such a way is inconvenient and error-prone.</p>\n<p>Instead of trying to substitute a domain object with a <code>Map</code>, you need to define a <code>class</code> (or a <code>record</code>).</p>\n<p>It'll give you many advantages that you're depriving yourself by using maps:</p>\n<ul>\n<li>Ability to use the proper type for every property instead of keeping everything as strings;</li>\n<li>No need to perform parsing;</li>\n<li>Self-explanatory method names instead of hard-coded string keys, and your code will not fail because you've misspelled a key;</li>\n<li>The code is easier to read and maintain.</li>\n</ul>\n<p>For the sake of simplicity and conciseness, I'll go with a Java 16 <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\"><em>record</em></a>:</p>\n<pre><code>public record Person(String name, int age) {}\n</code></pre>\n<p>And now we have two lists of <code>Person</code> instead of two lists of maps.</p>\n<p>To implement the logic when we're starting with examining the first list and only if a result was not found we proceed by iterating through the second list, we can make use of the Java 9 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>or()</code></a> defined by <code>Optional</code>. While invoked on the optional object containing a value, <code>or()</code> returns the same optional, otherwise it'll return an optional produced by a supplier provided as an argument.</p>\n<p>For convenience, we can define a method that takes a <code>List&lt;Person&gt;</code> and the target <code>age</code> and returns an optional result.</p>\n<pre><code>public static Optional&lt;Person&gt; getPersonByAge(List&lt;Person&gt; people, int age) {\n    return people.stream().filter(pers -&gt; pers.age() == age).findFirst();\n}\n</code></pre>\n<p>We can make this method reusable by making it generic. So it would expect a <code>List&lt;T&gt;</code> and a <code>Predicate&lt;T&gt;</code> as its arguments.</p>\n<pre><code>public static &lt;T&gt; Optional&lt;T&gt; getPersonByAge(List&lt;T&gt; people,\n                                             Predicate&lt;T&gt; predicate) {\n    \n    return people.stream().filter(predicate).findFirst();\n}\n</code></pre>\n<p>And that how we can apply it:</p>\n<pre><code>List&lt;Person&gt; list1 = List.of(new Person(&quot;john&quot;, 30), new Person(&quot;marry&quot;, 31));\nList&lt;Person&gt; list2 = List.of(new Person(&quot;mike&quot;, 40), new Person(&quot;terry&quot;, 41));\n        \nPredicate&lt;Person&gt; age40 = pers -&gt; pers.age() == 40;\n    \nString name = getPersonByAge(list1, age40)\n    .or(() -&gt; getPersonByAge(list2, age40))\n    .orElseThrow()\n    .name();\n    \nSystem.out.println(name);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>mike\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/tfI\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":12536069,"reputation":480,"user_id":9122719,"display_name":"Tal Glik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657927696,"creation_date":1657927696,"answer_id":73000464,"question_id":73000045,"body_markdown":"If you want to use the map so you can:\r\n\r\n    Optional&lt;String&gt; nameByAge = getNameByAge(list1, &quot;40&quot;).or(()-&gt;getNameByAge(list2, &quot;40&quot;));\r\n\r\n    public static Optional&lt;String&gt; getNameByAge(List&lt;Map&lt;String, String&gt;&gt; people, String age) {\r\n            return people.stream().filter(person -&gt; person.get(&quot;age&quot;).equals(age)).findAny().map(person-&gt; person.get(&quot;name&quot;));\r\n        }","title":"Java Streams filter two Lists of Maps using ifPresentOrElse()","body":"<p>If you want to use the map so you can:</p>\n<pre><code>Optional&lt;String&gt; nameByAge = getNameByAge(list1, &quot;40&quot;).or(()-&gt;getNameByAge(list2, &quot;40&quot;));\n\npublic static Optional&lt;String&gt; getNameByAge(List&lt;Map&lt;String, String&gt;&gt; people, String age) {\n        return people.stream().filter(person -&gt; person.get(&quot;age&quot;).equals(age)).findAny().map(person-&gt; person.get(&quot;name&quot;));\n    }\n</code></pre>\n"}],"owner":{"account_id":14358051,"reputation":103,"user_id":10371303,"display_name":"stackmj18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657963739,"creation_date":1657923093,"question_id":73000045,"body_markdown":"I have two lists:\r\n\r\n```\r\nMap&lt;String, String&gt; map1 = new HashMap&lt;&gt;();\r\n\r\nmap1.put(&quot;age&quot;, &quot;30&quot;);\r\nmap1.put(&quot;name&quot;, &quot;john&quot;);\r\n\r\nMap&lt;String, String&gt; map2 = new HashMap&lt;&gt;();\r\nmap1.put(&quot;age&quot;, &quot;31&quot;);\r\nmap1.put(&quot;name&quot;, &quot;marry&quot;);\r\n\r\nList&lt;Map&lt;String, String&gt;&gt; list1 = new ArrayList&lt;&gt;();\r\nlist1.add(map1);\r\nlist1.add(map2);\r\n\r\nMap&lt;String, String&gt; map3 = new HashMap&lt;&gt;();\r\nmap1.put(&quot;age&quot;, &quot;40&quot;);\r\nmap1.put(&quot;name&quot;, &quot;mike&quot;);\r\n\r\nMap&lt;String, String&gt; map4 = new HashMap&lt;&gt;();\r\nmap1.put(&quot;age&quot;, &quot;41&quot;);\r\nmap1.put(&quot;name&quot;, &quot;terry&quot;);\r\n\r\nList&lt;Map&lt;String, String&gt;&gt; list2 = new ArrayList&lt;&gt;();\r\nlist1.add(map3);\r\nlist1.add(map4);\r\n```\r\n\r\nI want to iterate through the `list1` and find if *age* is found. If age is found, it should return the *name*. \r\n\r\nIf the target *age* is not found in the `list1`, I want to iterate through the `list2`, and if the result was found return the *name*.\r\n\r\nI&#39;m thinking of something along these lines:\r\n\r\n```\r\nlist1.stream()\r\n    .filter(a -&gt; a.get(&quot;age&quot;).equals(&quot;40&quot;))\r\n    .findAny()\r\n    .ifPresentOrElse()\r\n```\r\n\r\nHow can I achieve this using streams?\r\n\r\n","title":"Java Streams filter two Lists of Maps using ifPresentOrElse()","body":"<p>I have two lists:</p>\n<pre><code>Map&lt;String, String&gt; map1 = new HashMap&lt;&gt;();\n\nmap1.put(&quot;age&quot;, &quot;30&quot;);\nmap1.put(&quot;name&quot;, &quot;john&quot;);\n\nMap&lt;String, String&gt; map2 = new HashMap&lt;&gt;();\nmap1.put(&quot;age&quot;, &quot;31&quot;);\nmap1.put(&quot;name&quot;, &quot;marry&quot;);\n\nList&lt;Map&lt;String, String&gt;&gt; list1 = new ArrayList&lt;&gt;();\nlist1.add(map1);\nlist1.add(map2);\n\nMap&lt;String, String&gt; map3 = new HashMap&lt;&gt;();\nmap1.put(&quot;age&quot;, &quot;40&quot;);\nmap1.put(&quot;name&quot;, &quot;mike&quot;);\n\nMap&lt;String, String&gt; map4 = new HashMap&lt;&gt;();\nmap1.put(&quot;age&quot;, &quot;41&quot;);\nmap1.put(&quot;name&quot;, &quot;terry&quot;);\n\nList&lt;Map&lt;String, String&gt;&gt; list2 = new ArrayList&lt;&gt;();\nlist1.add(map3);\nlist1.add(map4);\n</code></pre>\n<p>I want to iterate through the <code>list1</code> and find if <em>age</em> is found. If age is found, it should return the <em>name</em>.</p>\n<p>If the target <em>age</em> is not found in the <code>list1</code>, I want to iterate through the <code>list2</code>, and if the result was found return the <em>name</em>.</p>\n<p>I'm thinking of something along these lines:</p>\n<pre><code>list1.stream()\n    .filter(a -&gt; a.get(&quot;age&quot;).equals(&quot;40&quot;))\n    .findAny()\n    .ifPresentOrElse()\n</code></pre>\n<p>How can I achieve this using streams?</p>\n"},{"tags":["java","hashmap","duplicates"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":4,"creation_date":1374588235,"post_id":17812454,"comment_id":25991115,"body_markdown":"Why do you keep `B` and leave out `C`? Remember, `HashMap` doesn&#39;t maintain the order of elements inserted.","body":"Why do you keep <code>B</code> and leave out <code>C</code>? Remember, <code>HashMap</code> doesn&#39;t maintain the order of elements inserted."},{"owner":{"account_id":290461,"reputation":5558,"user_id":592025,"accept_rate":100,"display_name":"midhunhk"},"score":0,"creation_date":1374588357,"post_id":17812454,"comment_id":25991208,"body_markdown":"Can you tell the exact requirement? Looks like you want unique values. HashMap can give you unique keys. Will inverting the key and value be enough for you?","body":"Can you tell the exact requirement? Looks like you want unique values. HashMap can give you unique keys. Will inverting the key and value be enough for you?"},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1374588910,"post_id":17812454,"comment_id":25991622,"body_markdown":"@RohitJain +1 That&#39;s the question !","body":"@RohitJain +1 That&#39;s the question !"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1374588684,"creation_date":1374588213,"answer_id":17812484,"question_id":17812454,"body_markdown":"`ConcurrentModificationException` happening,because you are removing from `map`\r\n\r\n\r\n      if (value.equals(nextValue)) {\r\n                map.remove(key);\r\n            }\r\n\r\nYou have to remove from `iterator`\r\n\r\n    if (value.equals(nextValue)) {\r\n                keyIter.remove(key);\r\n            }\r\n\r\nComing to the duplicate entry issue,Its pretty simple :https://stackoverflow.com/questions/6895192/find-duplicate-values-in-java-map","title":"Remove duplicate values from HashMap in Java","body":"<p><code>ConcurrentModificationException</code> happening,because you are removing from <code>map</code></p>\n\n<pre><code>  if (value.equals(nextValue)) {\n            map.remove(key);\n        }\n</code></pre>\n\n<p>You have to remove from <code>iterator</code></p>\n\n<pre><code>if (value.equals(nextValue)) {\n            keyIter.remove(key);\n        }\n</code></pre>\n\n<p>Coming to the duplicate entry issue,Its pretty simple :<a href=\"https://stackoverflow.com/questions/6895192/find-duplicate-values-in-java-map\">Find duplicate values in Java Map?</a></p>\n"},{"tags":[],"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1557590676,"creation_date":1374588389,"answer_id":17812555,"question_id":17812454,"body_markdown":"make a reverse HashMap!\r\n\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    Set&lt;String&gt; keys = map.keySet(); // The set of keys in the map.\r\n\r\n    Iterator&lt;String&gt; keyIter = keys.iterator();\r\n\r\n    while (keyIter.hasNext()) {\r\n        String key = keyIter.next();\r\n        String value = map.get(key);\r\n        map.put(value, key);\r\n    }\r\nnow that you have the hashMap you need reverse it or print it.\r\n\r\nin anyway **do not** delete while iterating hashMap. save the values in a list and delete them in an outer loop\r\n    ","title":"Remove duplicate values from HashMap in Java","body":"<p>make a reverse HashMap!</p>\n\n<pre><code>HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nSet&lt;String&gt; keys = map.keySet(); // The set of keys in the map.\n\nIterator&lt;String&gt; keyIter = keys.iterator();\n\nwhile (keyIter.hasNext()) {\n    String key = keyIter.next();\n    String value = map.get(key);\n    map.put(value, key);\n}\n</code></pre>\n\n<p>now that you have the hashMap you need reverse it or print it.</p>\n\n<p>in anyway <strong>do not</strong> delete while iterating hashMap. save the values in a list and delete them in an outer loop</p>\n"},{"tags":[],"owner":{"account_id":2519746,"reputation":8347,"user_id":2190336,"display_name":"Prabhaker A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374590833,"creation_date":1374590833,"answer_id":17813547,"question_id":17812454,"body_markdown":"If this is yours frequent requirement then `DualHashBidiMap` calss of  apache&#39;s [commons.collections ](http://commons.apache.org/proper/commons-collections//javadocs/api-3.2.1/org/apache/commons/collections/BidiMap.html) will help you more instead of using `HashMap`.\r\n","title":"Remove duplicate values from HashMap in Java","body":"<p>If this is yours frequent requirement then <code>DualHashBidiMap</code> calss of  apache's <a href=\"http://commons.apache.org/proper/commons-collections//javadocs/api-3.2.1/org/apache/commons/collections/BidiMap.html\" rel=\"nofollow\">commons.collections </a> will help you more instead of using <code>HashMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":3239175,"reputation":2249,"user_id":2732632,"display_name":"Kimmi Dhingra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391664525,"creation_date":1391664525,"answer_id":21594777,"question_id":17812454,"body_markdown":"This can be easily done by putting your hashmap into arraylist.\r\nThis arraylist is of hashmap type.\r\n\r\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; mArrayList=new ArrayList&lt;&gt;();\r\n    HashMap&lt;String, String&gt; map=new HashMap&lt;&gt;();\r\n    map.put(&quot;1&quot;, &quot;1&quot;);\r\n    \t\tmArrayList.add(map);\r\n    \t\tmap=new HashMap&lt;&gt;();\r\n    \t\tmap.put(&quot;1&quot;, &quot;1&quot;); \r\n    \t\tmArrayList.add(map);\r\n    \t\tmap=new HashMap&lt;&gt;();\r\n    \t\tmap.put(&quot;1&quot;, &quot;2&quot;);\r\n    \t\tmArrayList.add(map);\r\n    \t\tmap=new HashMap&lt;&gt;();\r\n    \t\tmap.put(&quot;1&quot;, &quot;3&quot;);\r\n    \t\tmArrayList.add(map);\r\n    \t\tmap=new HashMap&lt;&gt;();\r\n    \t\tmap.put(&quot;1&quot;, &quot;2&quot;);\r\n    \t\tmArrayList.add(map);\r\n    \r\n    for(int i=0;i&lt;mArrayList.size();i++)\r\n    \t\t{\r\n    \t\t\ttemp=mArrayList.get(i).get(&quot;1&quot;);\r\n    \t\t\tfor(int k=i+1;k&lt;mArrayList.size();k++)\r\n    \t\t\t{\r\n    \t\t\t\tif(temp.equals(mArrayList.get(k).get(&quot;1&quot;)))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmArrayList.remove(k); \r\n    \t\t\t\t} \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n\r\nNow print your arraylist...all the duplicate values from the hashmap easily removed...This is the easiest way to remove duplicacy","title":"Remove duplicate values from HashMap in Java","body":"<p>This can be easily done by putting your hashmap into arraylist.\nThis arraylist is of hashmap type.</p>\n\n<pre><code>ArrayList&lt;HashMap&lt;String, String&gt;&gt; mArrayList=new ArrayList&lt;&gt;();\nHashMap&lt;String, String&gt; map=new HashMap&lt;&gt;();\nmap.put(\"1\", \"1\");\n        mArrayList.add(map);\n        map=new HashMap&lt;&gt;();\n        map.put(\"1\", \"1\"); \n        mArrayList.add(map);\n        map=new HashMap&lt;&gt;();\n        map.put(\"1\", \"2\");\n        mArrayList.add(map);\n        map=new HashMap&lt;&gt;();\n        map.put(\"1\", \"3\");\n        mArrayList.add(map);\n        map=new HashMap&lt;&gt;();\n        map.put(\"1\", \"2\");\n        mArrayList.add(map);\n\nfor(int i=0;i&lt;mArrayList.size();i++)\n        {\n            temp=mArrayList.get(i).get(\"1\");\n            for(int k=i+1;k&lt;mArrayList.size();k++)\n            {\n                if(temp.equals(mArrayList.get(k).get(\"1\")))\n                {\n                    mArrayList.remove(k); \n                } \n            }\n\n        }\n</code></pre>\n\n<p>Now print your arraylist...all the duplicate values from the hashmap easily removed...This is the easiest way to remove duplicacy</p>\n"},{"tags":[],"owner":{"account_id":2646542,"reputation":39,"user_id":2289101,"display_name":"Santhanam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398335676,"creation_date":1396494279,"answer_id":22827085,"question_id":17812454,"body_markdown":"     \r\nThis will be helpful to remove duplicate values from map.\r\n       \r\n        Map&lt;String, String&gt; myMap = new TreeMap&lt;String, String&gt;();\r\n        myMap.put(&quot;1&quot;, &quot;One&quot;);\r\n        myMap.put(&quot;2&quot;, &quot;Two&quot;);\r\n        myMap.put(&quot;3&quot;, &quot;One&quot;);\r\n        myMap.put(&quot;4&quot;, &quot;Three&quot;);\r\n        myMap.put(&quot;5&quot;, &quot;Two&quot;);\r\n        myMap.put(&quot;6&quot;, &quot;Three&quot;);\r\n\r\n        Set&lt;String&gt; mySet = new HashSet&lt;String&gt;();\r\n\r\n        for (Iterator itr = myMap.entrySet().iterator(); itr.hasNext();)\r\n        {\r\n            Map.Entry&lt;String, String&gt; entrySet = (Map.Entry) itr.next();\r\n\r\n            String value = entrySet.getValue();\r\n           \r\n            if (!mySet.add(value))\r\n            {\r\n                itr.remove();               \r\n            }\r\n        }\r\n\r\nSystem.out.println(&quot;mymap :&quot; + mymap);\r\n\r\n\r\nOutput:\r\n\r\nmymap :{1=One, 2=Two, 4=Three}\r\n","title":"Remove duplicate values from HashMap in Java","body":"<p>This will be helpful to remove duplicate values from map.</p>\n\n<pre><code>    Map&lt;String, String&gt; myMap = new TreeMap&lt;String, String&gt;();\n    myMap.put(\"1\", \"One\");\n    myMap.put(\"2\", \"Two\");\n    myMap.put(\"3\", \"One\");\n    myMap.put(\"4\", \"Three\");\n    myMap.put(\"5\", \"Two\");\n    myMap.put(\"6\", \"Three\");\n\n    Set&lt;String&gt; mySet = new HashSet&lt;String&gt;();\n\n    for (Iterator itr = myMap.entrySet().iterator(); itr.hasNext();)\n    {\n        Map.Entry&lt;String, String&gt; entrySet = (Map.Entry) itr.next();\n\n        String value = entrySet.getValue();\n\n        if (!mySet.add(value))\n        {\n            itr.remove();               \n        }\n    }\n</code></pre>\n\n<p>System.out.println(\"mymap :\" + mymap);</p>\n\n<p>Output:</p>\n\n<p>mymap :{1=One, 2=Two, 4=Three}</p>\n"},{"tags":[],"owner":{"account_id":4331683,"reputation":61,"user_id":3537027,"accept_rate":0,"display_name":"dsahoo188"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407331603,"creation_date":1407331603,"answer_id":25161663,"question_id":17812454,"body_markdown":"    public static void main(String[] args) {\r\n\t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;A&quot;, &quot;1&quot;);\r\n\t\tmap.put(&quot;B&quot;, &quot;2&quot;);\r\n\t\tmap.put(&quot;C&quot;, &quot;2&quot;);\r\n\t\tmap.put(&quot;D&quot;, &quot;3&quot;);\r\n\t\tmap.put(&quot;E&quot;, &quot;3&quot;);\r\n\t\tSystem.out.println(&quot;Initial Map : &quot; + map);\r\n\t\tfor (String s : new ConcurrentHashMap&lt;&gt;(map).keySet()) {\r\n\t\t\tString value = map.get(s);\r\n\t\t\tfor (Map.Entry&lt;String, String&gt; ss : new ConcurrentHashMap&lt;&gt;(map)\r\n\t\t\t\t\t.entrySet()) {\r\n\t\t\t\tif (s != ss.getKey() &amp;&amp; value == ss.getValue()) {\r\n\t\t\t\t\tmap.remove(ss.getKey());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Final Map : &quot; + map);\r\n\t}","title":"Remove duplicate values from HashMap in Java","body":"<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"A\", \"1\");\n    map.put(\"B\", \"2\");\n    map.put(\"C\", \"2\");\n    map.put(\"D\", \"3\");\n    map.put(\"E\", \"3\");\n    System.out.println(\"Initial Map : \" + map);\n    for (String s : new ConcurrentHashMap&lt;&gt;(map).keySet()) {\n        String value = map.get(s);\n        for (Map.Entry&lt;String, String&gt; ss : new ConcurrentHashMap&lt;&gt;(map)\n                .entrySet()) {\n            if (s != ss.getKey() &amp;&amp; value == ss.getValue()) {\n                map.remove(ss.getKey());\n            }\n        }\n    }\n    System.out.println(\"Final Map : \" + map);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5014583,"reputation":77,"user_id":4029759,"display_name":"Thananjayan N"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1412145697,"creation_date":1412145697,"answer_id":26135521,"question_id":17812454,"body_markdown":"        Map&lt;String,Object&gt; mapValues = new HashMap&lt;String,Object&gt;(5);\r\n\t\tmapValues.put(&quot;1&quot;, &quot;TJ&quot;);\r\n\t\tmapValues.put(&quot;2&quot;, &quot;Arun&quot;);\r\n\t\tmapValues.put(&quot;3&quot;, &quot;TJ&quot;);\r\n\t\tmapValues.put(&quot;4&quot;, &quot;Venkat&quot;);\r\n\t\tmapValues.put(&quot;5&quot;, &quot;Arun&quot;);\r\n\r\n        Collection&lt;Object&gt; list = mapValues.values();\r\n\t\tfor(Iterator&lt;Object&gt; itr = list.iterator(); itr.hasNext();)\r\n\t\t{\r\n\t\t\tif(Collections.frequency(list, itr.next())&gt;1)\r\n\t\t\t{\r\n\t\t\t\titr.remove();\r\n\t\t\t}\r\n\t\t}","title":"Remove duplicate values from HashMap in Java","body":"<pre><code>    Map&lt;String,Object&gt; mapValues = new HashMap&lt;String,Object&gt;(5);\n    mapValues.put(\"1\", \"TJ\");\n    mapValues.put(\"2\", \"Arun\");\n    mapValues.put(\"3\", \"TJ\");\n    mapValues.put(\"4\", \"Venkat\");\n    mapValues.put(\"5\", \"Arun\");\n\n    Collection&lt;Object&gt; list = mapValues.values();\n    for(Iterator&lt;Object&gt; itr = list.iterator(); itr.hasNext();)\n    {\n        if(Collections.frequency(list, itr.next())&gt;1)\n        {\n            itr.remove();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1498145585,"creation_date":1476888791,"answer_id":40134893,"question_id":17812454,"body_markdown":"Assuming that you use **Java 8**, it could be done using the [`Stream API`][1] with a `Set&lt;String&gt;` that will store the existing values:\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;A&quot;, &quot;1&quot;);\r\n    ...\r\n    System.out.printf(&quot;Before: %s%n&quot;, map);\r\n\r\n    // Set in which we keep the existing values\r\n    Set&lt;String&gt; existing = new HashSet&lt;&gt;();\r\n    map = map.entrySet()\r\n        .stream()\r\n        .filter(entry -&gt; existing.add(entry.getValue()))\r\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    System.out.printf(&quot;After: %s%n&quot;, map);     \r\n\r\n**Output:**\r\n\r\n    Before: {A=1, B=2, C=2, D=3, E=3}\r\n    After: {A=1, B=2, D=3}\r\n\r\n**NB:** Strictly speaking a predicate of a filter is not supposed to be **stateful**, it should be **stateless** as mentioned into the [javadoc][2] in order to ensure that the result remain **deterministic** and **correct** even if we use a parallel stream. However here, I assume that you don&#39;t intend to use a parallel stream such that this approach remains valid.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-","title":"Remove duplicate values from HashMap in Java","body":"<p>Assuming that you use <strong>Java 8</strong>, it could be done using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\"><code>Stream API</code></a> with a <code>Set&lt;String&gt;</code> that will store the existing values:</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(\"A\", \"1\");\n...\nSystem.out.printf(\"Before: %s%n\", map);\n\n// Set in which we keep the existing values\nSet&lt;String&gt; existing = new HashSet&lt;&gt;();\nmap = map.entrySet()\n    .stream()\n    .filter(entry -&gt; existing.add(entry.getValue()))\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\nSystem.out.printf(\"After: %s%n\", map);     \n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Before: {A=1, B=2, C=2, D=3, E=3}\nAfter: {A=1, B=2, D=3}\n</code></pre>\n\n<p><strong>NB:</strong> Strictly speaking a predicate of a filter is not supposed to be <strong>stateful</strong>, it should be <strong>stateless</strong> as mentioned into the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-\" rel=\"noreferrer\">javadoc</a> in order to ensure that the result remain <strong>deterministic</strong> and <strong>correct</strong> even if we use a parallel stream. However here, I assume that you don't intend to use a parallel stream such that this approach remains valid.</p>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520149119,"creation_date":1520149119,"answer_id":49093113,"question_id":17812454,"body_markdown":"This can be done using Java 8. The concept of stream is required. The pseudocode,\r\nis stream().filter().collect().\r\nIf the Initial Map : {A=1, B=2, C=2, D=3, E=3}. Then the required answer after removing the duplicates is   {A=1, B=2, D=3} .\r\n\r\n        \r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class RemoveDuplicates1 {\r\n       public static void main(String[] args) {\r\n    \r\n    \t\t//Initial Map : {A=1, B=2, C=2, D=3, E=3}\r\n    \t\t//After =&gt;  {A=1, B=2, D=3} \r\n    \t   \r\n    \t  Map&lt;String , String &gt; map = new HashMap&lt;&gt;();\r\n    \t    map.put(&quot;A&quot;, &quot;1&quot;);\r\n    \t    map.put(&quot;B&quot;, &quot;2&quot;);\r\n    \t    map.put(&quot;C&quot;, &quot;2&quot;);\r\n    \t    map.put(&quot;D&quot;, &quot;3&quot;);\r\n    \t    map.put(&quot;E&quot;, &quot;3&quot;);\r\n    \t    \r\n    \t    System.out.printf(&quot;before :   &quot; +map );\r\n    \t    System.out.println(&quot;\\n&quot;);\r\n    \t    \r\n    \t    Set&lt;String&gt; set = new  HashSet&lt;&gt;();\r\n    \t    \r\n    \t    map = map.entrySet().stream()\r\n    \t    \t\t.filter(entry -&gt; set.add(entry.getValue()))\r\n    \t    \t\t.collect(Collectors.toMap(Map.Entry :: getKey ,  Map.Entry :: getValue));\r\n    \t    System.out.printf(&quot;after =&gt; &quot; + map);\r\n    \t    \r\n       }\r\n    }\r\n\r\n\r\n","title":"Remove duplicate values from HashMap in Java","body":"<p>This can be done using Java 8. The concept of stream is required. The pseudocode,\nis stream().filter().collect().\nIf the Initial Map : {A=1, B=2, C=2, D=3, E=3}. Then the required answer after removing the duplicates is   {A=1, B=2, D=3} .</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\npublic class RemoveDuplicates1 {\n   public static void main(String[] args) {\n\n        //Initial Map : {A=1, B=2, C=2, D=3, E=3}\n        //After =&gt;  {A=1, B=2, D=3} \n\n      Map&lt;String , String &gt; map = new HashMap&lt;&gt;();\n        map.put(\"A\", \"1\");\n        map.put(\"B\", \"2\");\n        map.put(\"C\", \"2\");\n        map.put(\"D\", \"3\");\n        map.put(\"E\", \"3\");\n\n        System.out.printf(\"before :   \" +map );\n        System.out.println(\"\\n\");\n\n        Set&lt;String&gt; set = new  HashSet&lt;&gt;();\n\n        map = map.entrySet().stream()\n                .filter(entry -&gt; set.add(entry.getValue()))\n                .collect(Collectors.toMap(Map.Entry :: getKey ,  Map.Entry :: getValue));\n        System.out.printf(\"after =&gt; \" + map);\n\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9603898,"reputation":396,"user_id":7130482,"display_name":"Einstein_AB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550430207,"creation_date":1548250913,"answer_id":54328652,"question_id":17812454,"body_markdown":"If you are looking just to remove the concurrentModification exception, then just replace your HashMap with ConcurrentHashMap.\r\n\r\nTo know more about ConcurrentHashMap look [here][1]\r\n\r\n  [1]: https://www.journaldev.com/378/java-util-concurrentmodificationexception","title":"Remove duplicate values from HashMap in Java","body":"<p>If you are looking just to remove the concurrentModification exception, then just replace your HashMap with ConcurrentHashMap.</p>\n\n<p>To know more about ConcurrentHashMap look <a href=\"https://www.journaldev.com/378/java-util-concurrentmodificationexception\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":519209,"reputation":1022,"user_id":3534491,"display_name":"Marduk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657963600,"creation_date":1657963600,"answer_id":73003041,"question_id":17812454,"body_markdown":"It can be done without mutating the original map:\r\n\r\n```java\r\npublic static &lt;K,V&gt; Map&lt;K,V&gt; getDistinctValues(Map&lt;K,V&gt; map) {\r\n    Set&lt;V&gt; values = new HashSet&lt;&gt;();\r\n\r\n    return map.entrySet().stream()\r\n            .filter(entry -&gt; values.add(entry.getValue()))\r\n            .collect(Collectors.toMap(\r\n                    Map.Entry::getKey,\r\n                    Map.Entry::getValue\r\n            ));\r\n}\r\n```","title":"Remove duplicate values from HashMap in Java","body":"<p>It can be done without mutating the original map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;K,V&gt; Map&lt;K,V&gt; getDistinctValues(Map&lt;K,V&gt; map) {\n    Set&lt;V&gt; values = new HashSet&lt;&gt;();\n\n    return map.entrySet().stream()\n            .filter(entry -&gt; values.add(entry.getValue()))\n            .collect(Collectors.toMap(\n                    Map.Entry::getKey,\n                    Map.Entry::getValue\n            ));\n}\n</code></pre>\n"}],"owner":{"account_id":3083037,"reputation":121,"user_id":2610852,"display_name":"user2610852"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113904,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":11,"score":12,"last_activity_date":1657963600,"creation_date":1374588134,"question_id":17812454,"body_markdown":"I have a map with duplicate values:\r\n\r\n\t(&quot;A&quot;, &quot;1&quot;);\r\n\t(&quot;B&quot;, &quot;2&quot;);\r\n\t(&quot;C&quot;, &quot;2&quot;);\r\n\t(&quot;D&quot;, &quot;3&quot;);\r\n\t(&quot;E&quot;, &quot;3&quot;);\r\n\r\nI would like to the map to have\r\n\r\n\t(&quot;A&quot;, &quot;1&quot;);\r\n\t(&quot;B&quot;, &quot;2&quot;);\r\n\t(&quot;D&quot;, &quot;3&quot;);\r\n\r\nDo you know how to get rid of the duplicate values?\r\n\r\nAt present, I get &#39;java.util.ConcurrentModificationException&#39; error.\r\n\r\nThank you.\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tHashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\tmap.put(&quot;A&quot;, &quot;1&quot;);\r\n\t\tmap.put(&quot;B&quot;, &quot;2&quot;);\r\n\t\tmap.put(&quot;C&quot;, &quot;2&quot;);\r\n\t\tmap.put(&quot;D&quot;, &quot;3&quot;);\r\n\t\tmap.put(&quot;E&quot;, &quot;3&quot;);\r\n\r\n\t\tSet&lt;String&gt; keys = map.keySet(); // The set of keys in the map.\r\n\r\n\t\tIterator&lt;String&gt; keyIter = keys.iterator();\r\n\r\n\t\twhile (keyIter.hasNext()) {\r\n\t\t\tString key = keyIter.next();\r\n\t\t\tString value = map.get(key);\r\n\r\n\t\t\tSystem.out.println(key + &quot;\\t&quot; + value);\r\n\r\n\t\t\tString nextValue = map.get(key);\r\n\r\n\t\t\tif (value.equals(nextValue)) {\r\n\t\t\t\tmap.remove(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(map);\r\n\t}\r\n","title":"Remove duplicate values from HashMap in Java","body":"<p>I have a map with duplicate values:</p>\n\n<pre><code>(\"A\", \"1\");\n(\"B\", \"2\");\n(\"C\", \"2\");\n(\"D\", \"3\");\n(\"E\", \"3\");\n</code></pre>\n\n<p>I would like to the map to have</p>\n\n<pre><code>(\"A\", \"1\");\n(\"B\", \"2\");\n(\"D\", \"3\");\n</code></pre>\n\n<p>Do you know how to get rid of the duplicate values?</p>\n\n<p>At present, I get 'java.util.ConcurrentModificationException' error.</p>\n\n<p>Thank you.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    map.put(\"A\", \"1\");\n    map.put(\"B\", \"2\");\n    map.put(\"C\", \"2\");\n    map.put(\"D\", \"3\");\n    map.put(\"E\", \"3\");\n\n    Set&lt;String&gt; keys = map.keySet(); // The set of keys in the map.\n\n    Iterator&lt;String&gt; keyIter = keys.iterator();\n\n    while (keyIter.hasNext()) {\n        String key = keyIter.next();\n        String value = map.get(key);\n\n        System.out.println(key + \"\\t\" + value);\n\n        String nextValue = map.get(key);\n\n        if (value.equals(nextValue)) {\n            map.remove(key);\n        }\n    }\n    System.out.println(map);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":17415208,"reputation":37,"user_id":12621695,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657962492,"creation_date":1657929692,"answer_id":73000603,"question_id":73000339,"body_markdown":"Wasn&#39;t aware of that but I found out while testing that Exceptions overide the response. Adding a try catch or a Error handler fixes it.\r\n\r\n```\r\n    @GetMapping(&quot;/me/account&quot;)\r\n    public ResponseEntity&lt;PrivateUser&gt; getUserDetails(HttpServletRequest request,\r\n                                                      @PathVariable String lang) {\r\n        Long userId = (Long) request.getAttribute(&quot;userId&quot;);\r\n        try {\r\n            User user = userService.getUserDetails(userId, lang);\r\n            return new ResponseEntity&lt;&gt;(user.getPrivateData(), HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n        }\r\n    }\r\n```\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ggfn.png","title":"GenericFilterBean response error doesn&#39;t work for all endpoints","body":"<p>Wasn't aware of that but I found out while testing that Exceptions overide the response. Adding a try catch or a Error handler fixes it.</p>\n<pre><code>    @GetMapping(&quot;/me/account&quot;)\n    public ResponseEntity&lt;PrivateUser&gt; getUserDetails(HttpServletRequest request,\n                                                      @PathVariable String lang) {\n        Long userId = (Long) request.getAttribute(&quot;userId&quot;);\n        try {\n            User user = userService.getUserDetails(userId, lang);\n            return new ResponseEntity&lt;&gt;(user.getPrivateData(), HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4ggfn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ggfn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17415208,"reputation":37,"user_id":12621695,"display_name":"Ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657962492,"creation_date":1657926359,"question_id":73000339,"body_markdown":"I have implemented a GenericFilterBean to filter jwt tokens :\r\n\r\n```\r\n    public class AuthFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;\r\n        HttpServletResponse httpResponse = (HttpServletResponse) servletResponse;\r\n\r\n        String authHeader = httpRequest.getHeader(&quot;Authorization&quot;);\r\n        if (authHeader != null){\r\n            String[] authHeaderArr = authHeader.split(&quot;Bearer&quot;);\r\n            if(authHeaderArr.length &gt; 1 &amp;&amp; authHeaderArr[1] != null) {\r\n                String token = authHeaderArr[1];\r\n                try {\r\n                    Claims claims = Jwts.parserBuilder().setSigningKey(Constants.API_SECRET_KEY).build()\r\n                            .parseClaimsJws(token).getBody();\r\n                    httpRequest.setAttribute(&quot;userId&quot;, Long.parseLong(claims.get(&quot;userId&quot;).toString()));\r\n                }catch (Exception e) {\r\n                    httpResponse.sendError(HttpStatus.FORBIDDEN.value(), &quot;invalid/expired token&quot;);\r\n                }\r\n            } else {\r\n                httpResponse.sendError(HttpStatus.FORBIDDEN.value(),\r\n                        &quot;Authorization token must be Bearer[token]&quot;);\r\n            }\r\n        } else {\r\n            httpResponse.sendError(HttpStatus.FORBIDDEN.value(),\r\n                    &quot;Authorization token must be provided&quot;);\r\n        }\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n}\r\n```\r\n\r\nThe filter seems to work fine and when adding url patterns they seem to be catched successfully. The issue is that the response error if the jwt is incorrect only works on one endpoint.\r\n\r\nThe working endpoint :\r\n\r\n[![Fleet endpoint (expected result)][1]][1]\r\n\r\nThe other endpoints :\r\n\r\n[![User account endpoint (error doesn&#39;t show up)][2]][2]\r\n\r\n\r\nMy filter looks like that :\r\n\r\n```\r\npublic class WeyApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(WeyApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic FilterRegistrationBean&lt;AuthFilter&gt; filterRegistrationBean () {\r\n\t\tFilterRegistrationBean&lt;AuthFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n\t\tregistrationBean.setFilter(new AuthFilter());\r\n\t\tregistrationBean.addUrlPatterns(\r\n\t\t\t\t&quot;/api/en/fleet/*&quot;,\r\n\t\t\t\t&quot;/api/en/users/*&quot;,\r\n\t\t\t\t&quot;/api/en/ride/*&quot;,\r\n\t\t\t\t&quot;/api/en/ride-request/*&quot;\r\n\t\t);\r\n\t\treturn registrationBean;\r\n\t}\r\n}\r\n```\r\n\r\nI don&#39;t think the problem is with the url pattern since I debugged and all the endpoints added to the registrationBean does go through the doFilter method.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a9FMj.png\r\n  [2]: https://i.stack.imgur.com/WFfGR.png\r\n\r\n","title":"GenericFilterBean response error doesn&#39;t work for all endpoints","body":"<p>I have implemented a GenericFilterBean to filter jwt tokens :</p>\n<pre><code>    public class AuthFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpRequest = (HttpServletRequest) servletRequest;\n        HttpServletResponse httpResponse = (HttpServletResponse) servletResponse;\n\n        String authHeader = httpRequest.getHeader(&quot;Authorization&quot;);\n        if (authHeader != null){\n            String[] authHeaderArr = authHeader.split(&quot;Bearer&quot;);\n            if(authHeaderArr.length &gt; 1 &amp;&amp; authHeaderArr[1] != null) {\n                String token = authHeaderArr[1];\n                try {\n                    Claims claims = Jwts.parserBuilder().setSigningKey(Constants.API_SECRET_KEY).build()\n                            .parseClaimsJws(token).getBody();\n                    httpRequest.setAttribute(&quot;userId&quot;, Long.parseLong(claims.get(&quot;userId&quot;).toString()));\n                }catch (Exception e) {\n                    httpResponse.sendError(HttpStatus.FORBIDDEN.value(), &quot;invalid/expired token&quot;);\n                }\n            } else {\n                httpResponse.sendError(HttpStatus.FORBIDDEN.value(),\n                        &quot;Authorization token must be Bearer[token]&quot;);\n            }\n        } else {\n            httpResponse.sendError(HttpStatus.FORBIDDEN.value(),\n                    &quot;Authorization token must be provided&quot;);\n        }\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n}\n</code></pre>\n<p>The filter seems to work fine and when adding url patterns they seem to be catched successfully. The issue is that the response error if the jwt is incorrect only works on one endpoint.</p>\n<p>The working endpoint :</p>\n<p><a href=\"https://i.stack.imgur.com/a9FMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a9FMj.png\" alt=\"Fleet endpoint (expected result)\" /></a></p>\n<p>The other endpoints :</p>\n<p><a href=\"https://i.stack.imgur.com/WFfGR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WFfGR.png\" alt=\"User account endpoint (error doesn't show up)\" /></a></p>\n<p>My filter looks like that :</p>\n<pre><code>public class WeyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WeyApplication.class, args);\n    }\n\n    @Bean\n    public FilterRegistrationBean&lt;AuthFilter&gt; filterRegistrationBean () {\n        FilterRegistrationBean&lt;AuthFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new AuthFilter());\n        registrationBean.addUrlPatterns(\n                &quot;/api/en/fleet/*&quot;,\n                &quot;/api/en/users/*&quot;,\n                &quot;/api/en/ride/*&quot;,\n                &quot;/api/en/ride-request/*&quot;\n        );\n        return registrationBean;\n    }\n}\n</code></pre>\n<p>I don't think the problem is with the url pattern since I debugged and all the endpoints added to the registrationBean does go through the doFilter method.</p>\n"},{"tags":["java","spring","resttemplate"],"comments":[{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":0,"creation_date":1443555683,"post_id":32851267,"comment_id":53538404,"body_markdown":"Your configuration chain fails, because the header cannot be changed afterwards. Have a look at http://stackoverflow.com/questions/14383240/basic-authentication-with-resttemplate-3-1","body":"Your configuration chain fails, because the header cannot be changed afterwards. Have a look at <a href=\"http://stackoverflow.com/questions/14383240/basic-authentication-with-resttemplate-3-1\" title=\"basic authentication with resttemplate 3 1\">stackoverflow.com/questions/14383240/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4059688,"reputation":749,"user_id":3336551,"accept_rate":100,"display_name":"Alter Hu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484810594,"creation_date":1484810594,"answer_id":41736020,"question_id":32851267,"body_markdown":"To get more people know this issue:\r\n\r\n@Sameer, I found the problem is you&#39;re using `HttpHeaders` ,you can try to build your header with this code  \r\n`\r\nMultiValueMap&lt;String, String&gt; headers =new LinkedMultiValueMap&lt;String, String&gt;();\r\n`\r\nAnd not use the `HttpHeaders` and then in your `HttpEntity` to build the object entity as  \r\n`new HttpEntity&lt;Object&gt;(record, headers); \r\n`\r\nThen it should solve problem .","title":"Spring RestTemplate UnsupportedOperationException with Collections$UnmodifiableCollection.add(Unknown Source)","body":"<p>To get more people know this issue:</p>\n\n<p>@Sameer, I found the problem is you're using <code>HttpHeaders</code> ,you can try to build your header with this code<br>\n<code>\nMultiValueMap&lt;String, String&gt; headers =new LinkedMultiValueMap&lt;String, String&gt;();\n</code>\nAnd not use the <code>HttpHeaders</code> and then in your <code>HttpEntity</code> to build the object entity as<br>\n<code>new HttpEntity&lt;Object&gt;(record, headers);\n</code>\nThen it should solve problem .</p>\n"},{"tags":[],"owner":{"account_id":13390529,"reputation":1,"user_id":9663007,"display_name":"Infinite Solutionz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609812772,"creation_date":1572267777,"answer_id":58591451,"question_id":32851267,"body_markdown":"Try creating the RestTemplate object in the following way,\r\n\r\n    ResTemplate restTemplate = new RestTemplate(new HttpComponentsClientHttpRequestFactory());\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    headers.set(&quot;Authorization&quot;, authorizationProperty); //Can also use add(String headerName, String headerValue)\r\n\r\nThis way it should works.","title":"Spring RestTemplate UnsupportedOperationException with Collections$UnmodifiableCollection.add(Unknown Source)","body":"<p>Try creating the RestTemplate object in the following way,</p>\n<pre><code>ResTemplate restTemplate = new RestTemplate(new HttpComponentsClientHttpRequestFactory());\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nheaders.set(&quot;Authorization&quot;, authorizationProperty); //Can also use add(String headerName, String headerValue)\n</code></pre>\n<p>This way it should works.</p>\n"}],"owner":{"account_id":2817401,"reputation":425,"user_id":2422070,"accept_rate":43,"display_name":"Sameer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8990,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1657962115,"creation_date":1443551283,"question_id":32851267,"body_markdown":"This is our rest template config\r\n\r\n\t\r\n\r\n    @Bean\r\n    \tpublic RestTemplate infoBloxRestTemplate() {\r\n    \t\tRestTemplate restTemplate=new RestTemplate();\r\n    \t\tArrayList&lt;ClientHttpRequestInterceptor&gt; interceptors = new ArrayList&lt;&gt;();\r\n    \t\tinterceptors.add(httpBasicAuthenticationInterceptor());\r\n    \t\trestTemplate.setInterceptors(interceptors);\r\n    \t\trestTemplate.getMessageConverters().add(jacksonConverter());\r\n    \t\trestTemplate.setRequestFactory(genericHttpRequestFactory());\r\n    \t\treturn restTemplate;\r\n    \t}\r\n\r\nWe are trying to make a POST call which works successfully with Postman and returns proper response.\r\n\r\n\t\t\t\r\n\r\n    final HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t    \r\n    HttpEntity&lt;Object&gt; httpEntity = new HttpEntity&lt;Object&gt;(record, headers);\r\n    \t\t    \r\n    StringBuilder uri = new StringBuilder(infobloxRestClient.createUrl(&quot;/record:host&quot;));\r\n    infobloxRestClient.getRestTemplate().exchange(uri.toString(), HttpMethod.POST, httpEntity, String.class);\r\n\r\nBut this POST invocation fails with below error. Here is my stack trace:\r\n\r\n    com.sun.xml.ws.server.sei.TieHandler createResponse\r\n    SEVERE: null\r\n    java.lang.UnsupportedOperationException\r\n    \tat java.util.Collections$UnmodifiableCollection.add(Unknown Source)\r\n    \tat org.springframework.http.HttpHeaders.add(HttpHeaders.java:558)\r\n    \tat com.test.externalinterfaces.HTTPBasicAuthenticationInterceptor.intercept(HTTPBasicAuthenticationInterceptor.java:30)\r\n    \tat org.springframework.http.client.InterceptingClientHttpRequest$RequestExecution.execute(InterceptingClientHttpRequest.java:81)\r\n    \tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:67)\r\n    \tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:46)\r\n    \tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:49)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:488)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:452)\r\n\r\nAny help on this regard will be very helpful.","title":"Spring RestTemplate UnsupportedOperationException with Collections$UnmodifiableCollection.add(Unknown Source)","body":"<p>This is our rest template config</p>\n\n<pre><code>@Bean\n    public RestTemplate infoBloxRestTemplate() {\n        RestTemplate restTemplate=new RestTemplate();\n        ArrayList&lt;ClientHttpRequestInterceptor&gt; interceptors = new ArrayList&lt;&gt;();\n        interceptors.add(httpBasicAuthenticationInterceptor());\n        restTemplate.setInterceptors(interceptors);\n        restTemplate.getMessageConverters().add(jacksonConverter());\n        restTemplate.setRequestFactory(genericHttpRequestFactory());\n        return restTemplate;\n    }\n</code></pre>\n\n<p>We are trying to make a POST call which works successfully with Postman and returns proper response.</p>\n\n<pre><code>final HttpHeaders headers = new HttpHeaders();\nheaders.add(\"Accept\", \"application/json\");\nheaders.add(\"Content-Type\", \"application/json\");\n\nHttpEntity&lt;Object&gt; httpEntity = new HttpEntity&lt;Object&gt;(record, headers);\n\nStringBuilder uri = new StringBuilder(infobloxRestClient.createUrl(\"/record:host\"));\ninfobloxRestClient.getRestTemplate().exchange(uri.toString(), HttpMethod.POST, httpEntity, String.class);\n</code></pre>\n\n<p>But this POST invocation fails with below error. Here is my stack trace:</p>\n\n<pre><code>com.sun.xml.ws.server.sei.TieHandler createResponse\nSEVERE: null\njava.lang.UnsupportedOperationException\n    at java.util.Collections$UnmodifiableCollection.add(Unknown Source)\n    at org.springframework.http.HttpHeaders.add(HttpHeaders.java:558)\n    at com.test.externalinterfaces.HTTPBasicAuthenticationInterceptor.intercept(HTTPBasicAuthenticationInterceptor.java:30)\n    at org.springframework.http.client.InterceptingClientHttpRequest$RequestExecution.execute(InterceptingClientHttpRequest.java:81)\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:67)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:46)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:49)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:488)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:452)\n</code></pre>\n\n<p>Any help on this regard will be very helpful.</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":147773,"reputation":9594,"user_id":359120,"accept_rate":82,"display_name":"Salil"},"score":0,"creation_date":1657903696,"post_id":72995975,"comment_id":128928664,"body_markdown":"If all you need are beans from another app, you should create a shared library (jar), and use it in both the apps.","body":"If all you need are beans from another app, you should create a shared library (jar), and use it in both the apps."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":1,"creation_date":1657907033,"post_id":72995975,"comment_id":128929622,"body_markdown":"That&#39;s a typical case for a multi-modul project.","body":"That&#39;s a typical case for a multi-modul project."}],"answers":[{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657962068,"creation_date":1657962068,"answer_id":73002876,"question_id":72995975,"body_markdown":"I see two options, depending on which one suits your use case conceptually:\r\n* you have two Spring Boot applications that need to **share the same code**: extract this code to a separate project (a regular Java library), build it as a jar file and include into both projects as a dependency; an example could be found in the [Creating a Multi Module Project](https://spring.io/guides/gs/multi-module/) guide;\r\n* you have two Spring Boot applications, one of them needs to access the **functionality** of another: provide and access this functionality as an API, instead of directly importing the beans. There are multiple ways to do this. For example, you could expose the bean functionality as a REST API using Spring&#39;s [@RestController](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html), and access them from the other side using [RestTemplate](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html). See the following guides: [Building a RESTful Web Service](https://spring.io/guides/gs/rest-service/), [Consuming a RESTful Web Service](https://spring.io/guides/gs/consuming-rest/)","title":"How to configure a Spring Boot Application that uses tomcat and has a dependency to another Application uses tomcat","body":"<p>I see two options, depending on which one suits your use case conceptually:</p>\n<ul>\n<li>you have two Spring Boot applications that need to <strong>share the same code</strong>: extract this code to a separate project (a regular Java library), build it as a jar file and include into both projects as a dependency; an example could be found in the <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">Creating a Multi Module Project</a> guide;</li>\n<li>you have two Spring Boot applications, one of them needs to access the <strong>functionality</strong> of another: provide and access this functionality as an API, instead of directly importing the beans. There are multiple ways to do this. For example, you could expose the bean functionality as a REST API using Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\" rel=\"nofollow noreferrer\">@RestController</a>, and access them from the other side using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a>. See the following guides: <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">Building a RESTful Web Service</a>, <a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">Consuming a RESTful Web Service</a></li>\n</ul>\n"}],"owner":{"account_id":25244755,"reputation":5,"user_id":19078163,"display_name":"markcasper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73002876,"answer_count":1,"score":0,"last_activity_date":1657962068,"creation_date":1657897338,"question_id":72995975,"body_markdown":"I have a Spring Boot application (App1) that uses an embedded Tomcat. To specify the Port I added `server.port=8080` to the application.properties in my main application \r\nand it works fine.\r\n\r\nNow I add a dependency to another Spring Boot application (App2) in the pom.xml (because in App1 I need access to the Beans from App2). App2 uses also an embedded Tomcat on a different port.\r\n\r\nBut when I run App1 it crashes because App2 want to also use the same `server.port` and configurations - that obviously cannot work. \r\n\r\nIs this even possible what I want to achieve? And how would I do this that I can run both App2 in App1? If this is not possible, is it possible to access the Beans from App2 in App1?","title":"How to configure a Spring Boot Application that uses tomcat and has a dependency to another Application uses tomcat","body":"<p>I have a Spring Boot application (App1) that uses an embedded Tomcat. To specify the Port I added <code>server.port=8080</code> to the application.properties in my main application\nand it works fine.</p>\n<p>Now I add a dependency to another Spring Boot application (App2) in the pom.xml (because in App1 I need access to the Beans from App2). App2 uses also an embedded Tomcat on a different port.</p>\n<p>But when I run App1 it crashes because App2 want to also use the same <code>server.port</code> and configurations - that obviously cannot work.</p>\n<p>Is this even possible what I want to achieve? And how would I do this that I can run both App2 in App1? If this is not possible, is it possible to access the Beans from App2 in App1?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1657953640,"post_id":73001971,"comment_id":128936540,"body_markdown":"You&#39;re not doing anything with `line` except printing it.","body":"You&#39;re not doing anything with <code>line</code> except printing it."},{"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"score":0,"creation_date":1657953775,"post_id":73001971,"comment_id":128936564,"body_markdown":"@Bohemian how would i pass it to processLine via a function call?","body":"@Bohemian how would i pass it to processLine via a function call?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1657955142,"post_id":73001971,"comment_id":128936759,"body_markdown":"Ehhmmm ... `processLine(line)`?","body":"Ehhmmm ... <code>processLine(line)</code>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1657955718,"post_id":73001971,"comment_id":128936824,"body_markdown":"Even if you were calling `processLine` you&#39;re still doing nothing with the data.","body":"Even if you were calling <code>processLine</code> you&#39;re still doing nothing with the data."},{"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"score":0,"creation_date":1657956086,"post_id":73001971,"comment_id":128936892,"body_markdown":"@Seelenvirtuose where would this go? because I have processLine(String line), guessing thats not right, and in my main driver code I have readFile(&quot;filename.csv&quot;)","body":"@Seelenvirtuose where would this go? because I have processLine(String line), guessing thats not right, and in my main driver code I have readFile(&quot;filename.csv&quot;)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1657956482,"post_id":73001971,"comment_id":128936966,"body_markdown":"In the body of this loop: `while((line != null) &amp;&amp; lineNum&lt;27)`, replace `System.out.println(line);` with `processLine(line);`","body":"In the body of this loop: <code>while((line != null) &amp;&amp; lineNum&lt;27)</code>, replace <code>System.out.println(line);</code> with <code>processLine(line);</code>"},{"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"score":0,"creation_date":1657957601,"post_id":73001971,"comment_id":128937170,"body_markdown":"But now in my driver code, how would i index through this array to access particular values?","body":"But now in my driver code, how would i index through this array to access particular values?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657958753,"post_id":73001971,"comment_id":128937350,"body_markdown":"`readFile` doesn&#39;t create an array of your data.","body":"<code>readFile</code> doesn&#39;t create an array of your data."},{"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"score":0,"creation_date":1657958796,"post_id":73001971,"comment_id":128937360,"body_markdown":"Am i not creating an array at all?","body":"Am i not creating an array at all?"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657961438,"creation_date":1657959430,"answer_id":73002649,"question_id":73001971,"body_markdown":"You can do it quite simply using the [stream API][1].\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class CsvTest0 {\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;geografy.csv&quot;);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            String[][] arr = lines.skip(1L)\r\n                                  .limit(27L)\r\n                                  .map(l -&gt; l.split(&quot;,&quot;))\r\n                                  .collect(Collectors.toList())\r\n                                  .toArray(new String[][]{});\r\n            System.out.println(arr[3][3]);\r\n            System.out.println(arr[5][6]);\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nHowever, regarding the code in your question, below is a fixed version followed by notes and explanations.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class CsvTest1 {\r\n    public static String[][] readFile(String file) throws IOException {\r\n        Path path = Paths.get(file);\r\n        String[][] arr = new String[27][];\r\n        int lineNum;\r\n        String line = null;\r\n        try (BufferedReader bufRdr = Files.newBufferedReader(path)) {\r\n            lineNum = 0;\r\n            line = bufRdr.readLine(); // Ignore first line of file since it contains headings only.\r\n            line = bufRdr.readLine();\r\n            while ((line != null) &amp;&amp; lineNum &lt; 27) {\r\n                arr[lineNum++] = processLine(line);\r\n                line = bufRdr.readLine();\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    private static String[] processLine(String line) {\r\n        return line.split(&quot;,&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String[][] arr = readFile(&quot;geografy.csv&quot;);\r\n            System.out.println(arr[3][3]);\r\n            System.out.println(arr[5][6]);\r\n        }\r\n        catch (IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nNote that the below is not in any particular order. I wrote them as they came to me.\r\n\r\n* No need for `FileInputStream` and `InputStreamReader` in order to create `BufferedReader`. Use [Files][2] class instead.\r\n* Close files in a `finally` block and not in a `catch` block. Hence use [try-with-resources][3].\r\n* I believe better to propagate the [exception][4] to the calling method, i.e. method `main` in this case. I also believe that, unless you can safely ignore the exception, it is always beneficial to print the stack trace.\r\n* You don&#39;t want to process the first line of the file.\r\n* You appear to have your array indexes mixed up. According to sample data, Andorra is row 3 and column 3 (not column 4). Also, 17 is at [5][6] and not [6][6].\r\n* Two-dimensional arrays in java can be declared with only one dimension indicated. Since you only want first 27 lines of file, you know how many rows will be in the 2D array.\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html","title":"Indexing through an array to return any specific value in java","body":"<p>You can do it quite simply using the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class CsvTest0 {\n\n    public static void main(String[] args) {\n        Path path = Paths.get(&quot;geografy.csv&quot;);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            String[][] arr = lines.skip(1L)\n                                  .limit(27L)\n                                  .map(l -&gt; l.split(&quot;,&quot;))\n                                  .collect(Collectors.toList())\n                                  .toArray(new String[][]{});\n            System.out.println(arr[3][3]);\n            System.out.println(arr[5][6]);\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>However, regarding the code in your question, below is a fixed version followed by notes and explanations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class CsvTest1 {\n    public static String[][] readFile(String file) throws IOException {\n        Path path = Paths.get(file);\n        String[][] arr = new String[27][];\n        int lineNum;\n        String line = null;\n        try (BufferedReader bufRdr = Files.newBufferedReader(path)) {\n            lineNum = 0;\n            line = bufRdr.readLine(); // Ignore first line of file since it contains headings only.\n            line = bufRdr.readLine();\n            while ((line != null) &amp;&amp; lineNum &lt; 27) {\n                arr[lineNum++] = processLine(line);\n                line = bufRdr.readLine();\n            }\n        }\n        return arr;\n    }\n\n    private static String[] processLine(String line) {\n        return line.split(&quot;,&quot;);\n    }\n\n    public static void main(String[] args) {\n        try {\n            String[][] arr = readFile(&quot;geografy.csv&quot;);\n            System.out.println(arr[3][3]);\n            System.out.println(arr[5][6]);\n        }\n        catch (IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Note that the below is not in any particular order. I wrote them as they came to me.</p>\n<ul>\n<li>No need for <code>FileInputStream</code> and <code>InputStreamReader</code> in order to create <code>BufferedReader</code>. Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> class instead.</li>\n<li>Close files in a <code>finally</code> block and not in a <code>catch</code> block. Hence use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</li>\n<li>I believe better to propagate the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">exception</a> to the calling method, i.e. method <code>main</code> in this case. I also believe that, unless you can safely ignore the exception, it is always beneficial to print the stack trace.</li>\n<li>You don't want to process the first line of the file.</li>\n<li>You appear to have your array indexes mixed up. According to sample data, Andorra is row 3 and column 3 (not column 4). Also, 17 is at [5][6] and not [6][6].</li>\n<li>Two-dimensional arrays in java can be declared with only one dimension indicated. Since you only want first 27 lines of file, you know how many rows will be in the 2D array.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657961556,"creation_date":1657961556,"answer_id":73002837,"question_id":73001971,"body_markdown":"You need to create a 2D array in readFile.  As the file is read, and and each line is split by processLine, insert the array into the 2D array. The method readFile at the end returns the 2D array.  Make processLine to return a string array and have it return the result of the split.\r\n\r\nI marked where I made changes to your code.\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class Main\r\n{\r\n   public static void main(String[] args){\r\n      String[][] data = readFile(&quot;data.txt&quot;);\r\n      System.out.println(data[3][4]);\r\n      System.out.println(data[6][6]);\r\n   }\r\n   \r\n   public static String[][] readFile(String file) {  //&lt;&lt;&lt; changed \r\n    FileInputStream fileStream = null;\r\n    InputStreamReader isr;\r\n    BufferedReader bufRdr;\r\n    int lineNum;\r\n    String line = null;\r\n    String[][] data = new String[28][];  //&lt;&lt;&lt; added\r\n    try {\r\n        fileStream = new FileInputStream(file);\r\n        isr = new InputStreamReader(fileStream);\r\n        bufRdr = new BufferedReader(isr);\r\n        lineNum = 0;\r\n        line = bufRdr.readLine();\r\n        while (lineNum &lt; 27) {  // &lt;&lt;&lt; changed\r\n            System.out.println(line);\r\n            line = bufRdr.readLine();\r\n            if (line == null) break;  // &lt;&lt;&lt; added\r\n            data[lineNum++] = processLine(line);  // &lt;&lt;&lt; added\r\n        }\r\n        fileStream.close();\r\n    }\r\n    catch (IOException e) {\r\n        if (fileStream != null) {\r\n            try {\r\n                fileStream.close();\r\n            }\r\n            catch (IOException ex2) {\r\n            }\r\n        }\r\n        System.out.println(&quot;Error: &quot; + e.getMessage());\r\n    }\r\n    return data;  //added\r\n}\r\n\r\nprivate static String[] processLine(String line) {  //&lt;&lt; changed\r\n    String[] splitLine;\r\n    splitLine = line.split(&quot;,&quot;);\r\n    int lineLength = splitLine.length;\r\n\r\n    for (int i = 0; i &lt; lineLength; i++) {\r\n        System.out.print(splitLine[i] + &quot; &quot;);\r\n    }\r\n    System.out.println(&quot;&quot;);\r\n    return splitLine;  // &lt;&lt;&lt; added\r\n}\r\n\r\n}\r\n```","title":"Indexing through an array to return any specific value in java","body":"<p>You need to create a 2D array in readFile.  As the file is read, and and each line is split by processLine, insert the array into the 2D array. The method readFile at the end returns the 2D array.  Make processLine to return a string array and have it return the result of the split.</p>\n<p>I marked where I made changes to your code.</p>\n<pre><code>import java.io.*;\n\npublic class Main\n{\n   public static void main(String[] args){\n      String[][] data = readFile(&quot;data.txt&quot;);\n      System.out.println(data[3][4]);\n      System.out.println(data[6][6]);\n   }\n   \n   public static String[][] readFile(String file) {  //&lt;&lt;&lt; changed \n    FileInputStream fileStream = null;\n    InputStreamReader isr;\n    BufferedReader bufRdr;\n    int lineNum;\n    String line = null;\n    String[][] data = new String[28][];  //&lt;&lt;&lt; added\n    try {\n        fileStream = new FileInputStream(file);\n        isr = new InputStreamReader(fileStream);\n        bufRdr = new BufferedReader(isr);\n        lineNum = 0;\n        line = bufRdr.readLine();\n        while (lineNum &lt; 27) {  // &lt;&lt;&lt; changed\n            System.out.println(line);\n            line = bufRdr.readLine();\n            if (line == null) break;  // &lt;&lt;&lt; added\n            data[lineNum++] = processLine(line);  // &lt;&lt;&lt; added\n        }\n        fileStream.close();\n    }\n    catch (IOException e) {\n        if (fileStream != null) {\n            try {\n                fileStream.close();\n            }\n            catch (IOException ex2) {\n            }\n        }\n        System.out.println(&quot;Error: &quot; + e.getMessage());\n    }\n    return data;  //added\n}\n\nprivate static String[] processLine(String line) {  //&lt;&lt; changed\n    String[] splitLine;\n    splitLine = line.split(&quot;,&quot;);\n    int lineLength = splitLine.length;\n\n    for (int i = 0; i &lt; lineLength; i++) {\n        System.out.print(splitLine[i] + &quot; &quot;);\n    }\n    System.out.println(&quot;&quot;);\n    return splitLine;  // &lt;&lt;&lt; added\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73002837,"answer_count":2,"score":-1,"last_activity_date":1657961556,"creation_date":1657952352,"question_id":73001971,"body_markdown":"So, I have created code which is reading a CSV file line by line, then splitting each line into their individual values then putting this into an array, but i am stuck on trying the index a value from this array I have created, I will attach the CSV file and also my code, and lets say for example how would I access the value at [3,4], which should be Andorra, and [6,6] which should be 17?\r\n\r\nCSV FILE:\r\n\r\n    Date,iso3,Continent,CountryName,lat,lon,CumulativePositive,CumulativeDeceased,CumulativeRecovered,CurrentlyPositive,Hospitalized,IntensiveCare,NUTS\r\n    31/1/2021,AFG,AS,Afghanistan,33.930445,67.678945,55023,2400,,52623,,,AF\r\n    31/1/2021,ALB,EU,Albania,41.156986,20.181222,78127,1380,47424,29323,324,19,AL\r\n    31/1/2021,DZA,AF,Algeria,28.026875,1.65284,107122,2888,,104234,,,DZ\r\n    31/1/2021,AND,EU,Andorra,42.542268,1.596865,9937,101,,9836,44,,AD\r\n    31/1/2021,AGO,AF,Angola,-11.209451,17.880669,19782,464,,19318,,,AO\r\n    31/1/2021,AIA,NA,Anguilla,18.225119,-63.07213,17,0,,17,,,AI\r\n    31/1/2021,ATG,NA,Antigua and Barbuda,17.363183,-61.789423,218,7,,211,,,AG\r\n    31/1/2021,ARG,SA,Argentina,-38.421295,-63.587403,1915362,47775,,1867587,,,AR\r\n    31/1/2021,ARM,AS,Armenia,40.066181,45.111108,167026,3080,,163946,,,AM\r\n    31/1/2021,ABW,NA,Aruba,12.517713,-69.965112,6858,58,,6800,,,AW\r\n    31/1/2021,AUS,OC,Australia,-26.853388,133.275154,28806,909,,27897,,,AU\r\n    31/1/2021,AUT,EU,Austria,47.697542,13.349319,411921,7850,383158,21058,1387,297,AT\r\n    31/1/2021,AZE,AS,Azerbaijan,40.147396,47.572098,229935,3119,,226816,,,AZ\r\n    31/1/2021,BHS,NA,Bahamas,24.885993,-76.709892,8174,176,,7998,,,BS\r\n    31/1/2021,BHR,AS,Bahrain,26.039722,50.559306,102626,372,,102254,,,BH\r\n    31/1/2021,BGD,AS,Bangladesh,23.68764,90.351002,535139,8127,,527012,,,BD\r\n    31/1/2021,BRB,NA,Barbados,13.18355,-59.534649,1498,12,,1486,,,BB\r\n    31/1/2021,BLR,EU,Belarus,53.711111,27.973847,248336,1718,,246618,,,BY\r\n    31/1/2021,BEL,EU,Belgium,50.499527,4.475402,711417,21118,,690299,1788,315,BE\r\n    31/1/2021,BLZ,NA,Belize,17.192929,-88.5009,11877,301,,11576,,,BZ\r\n    31/1/2021,BEN,AF,Benin,9.322048,2.313138,3786,48,,3738,,,BJ\r\n    31/1/2021,BMU,NA,Bermuda,32.320236,-64.774022,691,12,,679,,,BM\r\n    31/1/2021,BTN,AS,Bhutan,27.515709,90.442455,859,1,,858,,,BT\r\n    31/1/2021,BWA,AF,Botswana,-22.344029,24.680158,21293,134,,21159,,,BW\r\n    31/1/2021,BRA,SA,Brazil,-14.242915,-53.189267,9118513,222666,,8895847,,,BR\r\n    31/1/2021,VGB,NA,British Virgin Islands,18.573601,-64.492065,141,1,,140,,,VG\r\n\r\nCODE:\r\n\r\n    public static String readFile(String file) {\r\n        FileInputStream fileStream = null;\r\n        InputStreamReader isr;\r\n        BufferedReader bufRdr;\r\n        int lineNum;\r\n        String line = null;\r\n        try {\r\n            fileStream = new FileInputStream(file);\r\n            isr = new InputStreamReader(fileStream);\r\n            bufRdr = new BufferedReader(isr);\r\n            lineNum = 0;\r\n            line = bufRdr.readLine();\r\n            while ((line != null) &amp;&amp; lineNum &lt; 27) {\r\n                lineNum++;\r\n                System.out.println(line);\r\n                line = bufRdr.readLine();\r\n            }\r\n            fileStream.close();\r\n        }\r\n        catch (IOException e) {\r\n            if (fileStream != null) {\r\n                try {\r\n                    fileStream.close();\r\n                }\r\n                catch (IOException ex2) {\r\n                }\r\n            }\r\n            System.out.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n        return line;\r\n    }\r\n\r\n    private static void processLine(String line) {\r\n        String[] splitLine;\r\n        splitLine = line.split(&quot;,&quot;);\r\n        int lineLength = splitLine.length;\r\n\r\n        for (int i = 0; i &lt; lineLength; i++) {\r\n            System.out.print(splitLine[i] + &quot; &quot;);\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n","title":"Indexing through an array to return any specific value in java","body":"<p>So, I have created code which is reading a CSV file line by line, then splitting each line into their individual values then putting this into an array, but i am stuck on trying the index a value from this array I have created, I will attach the CSV file and also my code, and lets say for example how would I access the value at [3,4], which should be Andorra, and [6,6] which should be 17?</p>\n<p>CSV FILE:</p>\n<pre><code>Date,iso3,Continent,CountryName,lat,lon,CumulativePositive,CumulativeDeceased,CumulativeRecovered,CurrentlyPositive,Hospitalized,IntensiveCare,NUTS\n31/1/2021,AFG,AS,Afghanistan,33.930445,67.678945,55023,2400,,52623,,,AF\n31/1/2021,ALB,EU,Albania,41.156986,20.181222,78127,1380,47424,29323,324,19,AL\n31/1/2021,DZA,AF,Algeria,28.026875,1.65284,107122,2888,,104234,,,DZ\n31/1/2021,AND,EU,Andorra,42.542268,1.596865,9937,101,,9836,44,,AD\n31/1/2021,AGO,AF,Angola,-11.209451,17.880669,19782,464,,19318,,,AO\n31/1/2021,AIA,NA,Anguilla,18.225119,-63.07213,17,0,,17,,,AI\n31/1/2021,ATG,NA,Antigua and Barbuda,17.363183,-61.789423,218,7,,211,,,AG\n31/1/2021,ARG,SA,Argentina,-38.421295,-63.587403,1915362,47775,,1867587,,,AR\n31/1/2021,ARM,AS,Armenia,40.066181,45.111108,167026,3080,,163946,,,AM\n31/1/2021,ABW,NA,Aruba,12.517713,-69.965112,6858,58,,6800,,,AW\n31/1/2021,AUS,OC,Australia,-26.853388,133.275154,28806,909,,27897,,,AU\n31/1/2021,AUT,EU,Austria,47.697542,13.349319,411921,7850,383158,21058,1387,297,AT\n31/1/2021,AZE,AS,Azerbaijan,40.147396,47.572098,229935,3119,,226816,,,AZ\n31/1/2021,BHS,NA,Bahamas,24.885993,-76.709892,8174,176,,7998,,,BS\n31/1/2021,BHR,AS,Bahrain,26.039722,50.559306,102626,372,,102254,,,BH\n31/1/2021,BGD,AS,Bangladesh,23.68764,90.351002,535139,8127,,527012,,,BD\n31/1/2021,BRB,NA,Barbados,13.18355,-59.534649,1498,12,,1486,,,BB\n31/1/2021,BLR,EU,Belarus,53.711111,27.973847,248336,1718,,246618,,,BY\n31/1/2021,BEL,EU,Belgium,50.499527,4.475402,711417,21118,,690299,1788,315,BE\n31/1/2021,BLZ,NA,Belize,17.192929,-88.5009,11877,301,,11576,,,BZ\n31/1/2021,BEN,AF,Benin,9.322048,2.313138,3786,48,,3738,,,BJ\n31/1/2021,BMU,NA,Bermuda,32.320236,-64.774022,691,12,,679,,,BM\n31/1/2021,BTN,AS,Bhutan,27.515709,90.442455,859,1,,858,,,BT\n31/1/2021,BWA,AF,Botswana,-22.344029,24.680158,21293,134,,21159,,,BW\n31/1/2021,BRA,SA,Brazil,-14.242915,-53.189267,9118513,222666,,8895847,,,BR\n31/1/2021,VGB,NA,British Virgin Islands,18.573601,-64.492065,141,1,,140,,,VG\n</code></pre>\n<p>CODE:</p>\n<pre><code>public static String readFile(String file) {\n    FileInputStream fileStream = null;\n    InputStreamReader isr;\n    BufferedReader bufRdr;\n    int lineNum;\n    String line = null;\n    try {\n        fileStream = new FileInputStream(file);\n        isr = new InputStreamReader(fileStream);\n        bufRdr = new BufferedReader(isr);\n        lineNum = 0;\n        line = bufRdr.readLine();\n        while ((line != null) &amp;&amp; lineNum &lt; 27) {\n            lineNum++;\n            System.out.println(line);\n            line = bufRdr.readLine();\n        }\n        fileStream.close();\n    }\n    catch (IOException e) {\n        if (fileStream != null) {\n            try {\n                fileStream.close();\n            }\n            catch (IOException ex2) {\n            }\n        }\n        System.out.println(&quot;Error: &quot; + e.getMessage());\n    }\n    return line;\n}\n\nprivate static void processLine(String line) {\n    String[] splitLine;\n    splitLine = line.split(&quot;,&quot;);\n    int lineLength = splitLine.length;\n\n    for (int i = 0; i &lt; lineLength; i++) {\n        System.out.print(splitLine[i] + &quot; &quot;);\n    }\n    System.out.println(&quot;&quot;);\n}\n</code></pre>\n"},{"tags":["java","generic-type-parameters"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":7,"creation_date":1657898007,"post_id":72996021,"comment_id":128926633,"body_markdown":"first essential difference: first is posted as text (easy to read, copy, ...); second is pasted as image (hard to read, impossible to copy, ...) || [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/16320675) (at least not only as image)","body":"first essential difference: first is posted as text (easy to read, copy, ...); second is pasted as image (hard to read, impossible to copy, ...) || <a href=\"https://meta.stackoverflow.com/q/285551/16320675\">Why should I not upload images of code/data/errors when asking a question?</a> (at least not only as image)"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":6,"creation_date":1657898206,"post_id":72996021,"comment_id":128926706,"body_markdown":"It&#39;s not grammatically illegal. Your grammar is fine. It&#39;s the type system that&#39;s complaining. U is erased to Object. `cl.getClass()` is `Class&lt;?&gt;`. The result of creating a class with that constructor is an instance of unknown type.","body":"It&#39;s not grammatically illegal. Your grammar is fine. It&#39;s the type system that&#39;s complaining. U is erased to Object. <code>cl.getClass()</code> is <code>Class&lt;?&gt;</code>. The result of creating a class with that constructor is an instance of unknown type."},{"owner":{"account_id":9698772,"reputation":181,"user_id":7194392,"display_name":"Jack Ma"},"score":0,"creation_date":1657951602,"post_id":72996021,"comment_id":128936324,"body_markdown":"@user16320675 sorry, I just want to show the error message on the image","body":"@user16320675 sorry, I just want to show the error message on the image"},{"owner":{"account_id":9698772,"reputation":181,"user_id":7194392,"display_name":"Jack Ma"},"score":0,"creation_date":1657952889,"post_id":72996021,"comment_id":128936460,"body_markdown":"@Michael For the first case, what does param `Class&lt;U&gt;` look like after type erase? It becomes raw type `Class` ?","body":"@Michael For the first case, what does param <code>Class&lt;U&gt;</code> look like after type erase? It becomes raw type <code>Class</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":433372,"reputation":406,"user_id":818667,"display_name":"Pierre Carrier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657961225,"creation_date":1657961225,"answer_id":73002804,"question_id":72996021,"body_markdown":"`Object.getClass()` returns `Class&lt;?&gt;`, so you need to cast. `makePair2` does so directly but at the end, `makePair3` uses `getClass` which isolates where the casting is required.\r\n\r\n```java\r\n    public static &lt;U&gt; PairT&lt;U&gt; makePair1(Class&lt;U&gt; cl) throws Exception {\r\n        return new PairT&lt;U&gt;(cl.getConstructor().newInstance(),\r\n                cl.getConstructor().newInstance());\r\n    }\r\n\r\n    public static &lt;U&gt; PairT&lt;U&gt; makePair2(U cl) throws Exception {\r\n        return new PairT&lt;U&gt;(\r\n                (U) cl.getClass().getConstructor().newInstance(),\r\n                (U) cl.getClass().getConstructor().newInstance());\r\n    }\r\n\r\n    private static &lt;U&gt; Class&lt;U&gt; getClass(U u) {\r\n        return (Class&lt;U&gt;) u.getClass();\r\n    }\r\n\r\n    public static &lt;U&gt; PairT&lt;U&gt; makePair3(U cl) throws Exception {\r\n        return new PairT&lt;U&gt;(\r\n                getClass(cl).getConstructor().newInstance(),\r\n                getClass(cl).getConstructor().newInstance());\r\n    }\r\n```","title":"Java Generic Type new instance","body":"<p><code>Object.getClass()</code> returns <code>Class&lt;?&gt;</code>, so you need to cast. <code>makePair2</code> does so directly but at the end, <code>makePair3</code> uses <code>getClass</code> which isolates where the casting is required.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;U&gt; PairT&lt;U&gt; makePair1(Class&lt;U&gt; cl) throws Exception {\n        return new PairT&lt;U&gt;(cl.getConstructor().newInstance(),\n                cl.getConstructor().newInstance());\n    }\n\n    public static &lt;U&gt; PairT&lt;U&gt; makePair2(U cl) throws Exception {\n        return new PairT&lt;U&gt;(\n                (U) cl.getClass().getConstructor().newInstance(),\n                (U) cl.getClass().getConstructor().newInstance());\n    }\n\n    private static &lt;U&gt; Class&lt;U&gt; getClass(U u) {\n        return (Class&lt;U&gt;) u.getClass();\n    }\n\n    public static &lt;U&gt; PairT&lt;U&gt; makePair3(U cl) throws Exception {\n        return new PairT&lt;U&gt;(\n                getClass(cl).getConstructor().newInstance(),\n                getClass(cl).getConstructor().newInstance());\n    }\n</code></pre>\n"}],"owner":{"account_id":9698772,"reputation":181,"user_id":7194392,"display_name":"Jack Ma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657961225,"creation_date":1657897578,"question_id":72996021,"body_markdown":"\r\n\r\n```java\r\npublic class PairT &lt;T&gt;{\r\n    public T first;\r\n    public T second;\r\n\r\n    public T getFirst() {\r\n        return first;\r\n    }\r\n\r\n    public void setFirst(T first) {\r\n        this.first = first;\r\n    }\r\n\r\n    public T getSecond() {\r\n        return second;\r\n    }\r\n\r\n    public void setSecond(T second) {\r\n        this.second = second;\r\n    }\r\n\r\n    public PairT(T first, T second) {\r\n        this.first = first;\r\n        this.second = second;\r\n    }\r\n    public PairT() {\r\n    }\r\n```\r\nWhat is the diffirence between these two `makePair` methods essentially? \r\nWhy the second one is grammatically illegal?\r\n\r\nFirst one:\r\n```java\r\npublic static &lt;U&gt; PairT&lt;U&gt; makePair(Class&lt;U&gt; cl) throws Exception {\r\n        return new PairT&lt;U&gt;(cl.getConstructor().newInstance(),\r\n                            cl.getConstructor().newInstance());\r\n    }\r\n```\r\nSecond:\r\n```\r\npublic static &lt;U&gt; PairT&lt;U&gt; makePair(U cl) throws Exception {\r\n        return new PairT&lt;U(\r\n                  cl.getClass().getConstructor().newInstance(), \r\n                  cl.getClass().getConstructor().newInstance());\r\n    }\r\n```","title":"Java Generic Type new instance","body":"<pre class=\"lang-java prettyprint-override\"><code>public class PairT &lt;T&gt;{\n    public T first;\n    public T second;\n\n    public T getFirst() {\n        return first;\n    }\n\n    public void setFirst(T first) {\n        this.first = first;\n    }\n\n    public T getSecond() {\n        return second;\n    }\n\n    public void setSecond(T second) {\n        this.second = second;\n    }\n\n    public PairT(T first, T second) {\n        this.first = first;\n        this.second = second;\n    }\n    public PairT() {\n    }\n</code></pre>\n<p>What is the diffirence between these two <code>makePair</code> methods essentially?\nWhy the second one is grammatically illegal?</p>\n<p>First one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;U&gt; PairT&lt;U&gt; makePair(Class&lt;U&gt; cl) throws Exception {\n        return new PairT&lt;U&gt;(cl.getConstructor().newInstance(),\n                            cl.getConstructor().newInstance());\n    }\n</code></pre>\n<p>Second:</p>\n<pre><code>public static &lt;U&gt; PairT&lt;U&gt; makePair(U cl) throws Exception {\n        return new PairT&lt;U(\n                  cl.getClass().getConstructor().newInstance(), \n                  cl.getClass().getConstructor().newInstance());\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8811,"page":1181,"page_size":100}
