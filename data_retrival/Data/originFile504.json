{"items":[{"tags":["java","spring","spring-statemachine"],"comments":[{"owner":{"account_id":371521,"reputation":4537,"user_id":720097,"accept_rate":88,"display_name":"Alexander.Iljushkin"},"score":0,"creation_date":1702288925,"post_id":76002957,"comment_id":136873673,"body_markdown":"https://github.com/spring-projects/spring-statemachine/issues/354#issuecomment-299121905","body":"<a href=\"https://github.com/spring-projects/spring-statemachine/issues/354#issuecomment-299121905\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-statemachine/issues/&hellip;</a>"}],"owner":{"account_id":3005685,"reputation":1397,"user_id":2550273,"accept_rate":50,"display_name":"Rustam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681372373,"creation_date":1681372373,"question_id":76002957,"body_markdown":"The Spring state machine is configured as follows, for example:\r\n\\\r\nA (initial) --&gt; B --&gt; C (choice) --&gt; D/E/F --&gt; G (end)\r\n\\\r\n\\\r\nThe states B,D,E,F take a long time to execute.\r\n\\\r\nWhen the application terminates, the state machine executes the current state and stops, without any errors.\r\n\\\r\n\\\r\nFor example, if state machine stops when state B action executed, then state machine will have current state B and no information about the D/E/F states that I could use to continue execution of the state machine with another app.\r\n","title":"Terminating an application while the Spring state machine is running","body":"<p>The Spring state machine is configured as follows, for example:\n<br />\nA (initial) --&gt; B --&gt; C (choice) --&gt; D/E/F --&gt; G (end)\n<br />\n<br />\nThe states B,D,E,F take a long time to execute.\n<br />\nWhen the application terminates, the state machine executes the current state and stops, without any errors.\n<br />\n<br />\nFor example, if state machine stops when state B action executed, then state machine will have current state B and no information about the D/E/F states that I could use to continue execution of the state machine with another app.</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1681368445,"post_id":76002378,"comment_id":134045605,"body_markdown":"Did you try with http://127.0.0.1:9998/apk/getpublicresource URL ?","body":"Did you try with <a href=\"http://127.0.0.1:9998/apk/getpublicresource\" rel=\"nofollow noreferrer\">127.0.0.1:9998/apk/getpublicresource</a> URL ?"},{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1681368506,"post_id":76002378,"comment_id":134045626,"body_markdown":"Also to defined port in application .properties you need to correct key like \n &#39;server.port=9998&#39;","body":"Also to defined port in application .properties you need to correct key like   &#39;server.port=9998&#39;"},{"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"score":1,"creation_date":1681368579,"post_id":76002378,"comment_id":134045636,"body_markdown":"server.port=9998 will not work because he has deploy the war file in tomcat server. The server port will be specified by server.xml of that tomcat.","body":"server.port=9998 will not work because he has deploy the war file in tomcat server. The server port will be specified by server.xml of that tomcat."},{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1681368666,"post_id":76002378,"comment_id":134045652,"body_markdown":"@VinhNT i do agree but his key got wrongly updated also yes he may need to look bin/server.xml to verify port .","body":"@VinhNT i do agree but his key got wrongly updated also yes he may need to look bin/server.xml to verify port ."},{"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"score":1,"creation_date":1681368838,"post_id":76002378,"comment_id":134045690,"body_markdown":"His tomcat is working at 8282, and it is working well, otherwise, the first request will got other error: connection refuse. This case, I think he got some error while deploying apk.war to that tomcat server, he need to look for the tomcat deployment log to see what happened.","body":"His tomcat is working at 8282, and it is working well, otherwise, the first request will got other error: connection refuse. This case, I think he got some error while deploying apk.war to that tomcat server, he need to look for the tomcat deployment log to see what happened."},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681368916,"post_id":76002378,"comment_id":134045706,"body_markdown":"@AnandDwivedi Tomcat is running on 8282 port","body":"@AnandDwivedi Tomcat is running on 8282 port"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681369152,"post_id":76002378,"comment_id":134045754,"body_markdown":"Tried this url also \nhttp://127.0.0.1:9998/apk/getpublicresource\n\nafter modifying application.properties","body":"Tried this url also  <a href=\"http://127.0.0.1:9998/apk/getpublicresource\" rel=\"nofollow noreferrer\">127.0.0.1:9998/apk/getpublicresource</a>  after modifying application.properties"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681369481,"post_id":76002378,"comment_id":134045809,"body_markdown":"@VinhNT which port do i have to look exactly in server.xml,there are many ports defined in this file,can you please specify","body":"@VinhNT which port do i have to look exactly in server.xml,there are many ports defined in this file,can you please specify"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681369705,"post_id":76002378,"comment_id":134045861,"body_markdown":"@VinhNT can you specify where to look exactly for tomcat deployment log","body":"@VinhNT can you specify where to look exactly for tomcat deployment log"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681370278,"post_id":76002378,"comment_id":134045974,"body_markdown":"have you checked that the folder `apk` is succesfully credted under `&lt;tomcat&gt;/webapps` ?","body":"have you checked that the folder <code>apk</code> is succesfully credted under <code>&lt;tomcat&gt;&#47;webapps</code> ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681370329,"post_id":76002378,"comment_id":134045983,"body_markdown":"The tomcat log is called catalina.out and is in `&lt;tomcat&gt;/logs`","body":"The tomcat log is called catalina.out and is in <code>&lt;tomcat&gt;&#47;logs</code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681371232,"post_id":76002378,"comment_id":134046169,"body_markdown":"I agree that your Tomcat is running correctly on :8282, but is the apk web app? Check the console or tomcat logs for evidence that app started. Check in webapps for a folder called apk. Try http://127.0.0.1:8282/manager - it will respond with 401 and setup instructions for user. Look for the apk in the list of webapps.","body":"I agree that your Tomcat is running correctly on :8282, but is the apk web app? Check the console or tomcat logs for evidence that app started. Check in webapps for a folder called apk. Try <a href=\"http://127.0.0.1:8282/manager\" rel=\"nofollow noreferrer\">127.0.0.1:8282/manager</a> - it will respond with 401 and setup instructions for user. Look for the apk in the list of webapps."},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681372014,"post_id":76002378,"comment_id":134046333,"body_markdown":"@AnandDwivedi i have added log detail into the question description. can you please look into it once","body":"@AnandDwivedi i have added log detail into the question description. can you please look into it once"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681372025,"post_id":76002378,"comment_id":134046334,"body_markdown":"@VinhNT i have added log detail into the question description. can you please look into it once","body":"@VinhNT i have added log detail into the question description. can you please look into it once"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681372058,"post_id":76002378,"comment_id":134046346,"body_markdown":"@JohnWilliams i have added log detail into the question description. can you please look into it once","body":"@JohnWilliams i have added log detail into the question description. can you please look into it once"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1681372069,"post_id":76002378,"comment_id":134046349,"body_markdown":"@ScaryWombat i have added log detail into the question description. can you please look into it once","body":"@ScaryWombat i have added log detail into the question description. can you please look into it once"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681372642,"post_id":76002378,"comment_id":134046470,"body_markdown":"The problem seems to be with `java.io.IOException: The device is not ready` - maybe in your properties file you are trying to reference some file with the wrong path?","body":"The problem seems to be with <code>java.io.IOException: The device is not ready</code> - maybe in your properties file you are trying to reference some file with the wrong path?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681373880,"post_id":76002378,"comment_id":134046719,"body_markdown":"It is having trouble expanding the apk.war file. I suspect the tomcat process lacks some rights in the filesystem. Try renaming apk.war to apk.zip and unzipping it in the webapps folder while tomcat is not running. It should create a folder apk inside webapps. Start tomcat and check logs and responses. If this works you need to investigate the tomcat process user, eg is it running as service.","body":"It is having trouble expanding the apk.war file. I suspect the tomcat process lacks some rights in the filesystem. Try renaming apk.war to apk.zip and unzipping it in the webapps folder while tomcat is not running. It should create a folder apk inside webapps. Start tomcat and check logs and responses. If this works you need to investigate the tomcat process user, eg is it running as service."},{"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"score":0,"creation_date":1681713801,"post_id":76002378,"comment_id":134094909,"body_markdown":"@ScaryWombat told the right thing, when tomcat deploy your war file, it also attempted to initialize your app, and your app was failed to start because of IOException.","body":"@ScaryWombat told the right thing, when tomcat deploy your war file, it also attempted to initialize your app, and your app was failed to start because of IOException."}],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681371924,"creation_date":1681368198,"question_id":76002378,"body_markdown":"I am new to Spring Boot and have deployed my application on an external Tomcat server. But I am unable to access resource on external Tomcat.\r\n\r\nhttp://127.0.0.1:8282/apk/getpublicresource\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever if I run the same API on embedded Tomcat it will work fine.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/53AQU.png\r\n  [2]: https://i.stack.imgur.com/ihN5K.png\r\n\r\nThis is my application.properties\r\n\r\n    server..port=9998\r\n\r\nThis is `pom.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;wardemo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;wardemo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--tomcat dependency--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--tomcat dependency--&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;wardemo&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is controller \r\n\r\n    package com.example.wardemo.controller;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class BasicController {\r\n    \r\n     @RequestMapping(&quot;/getpublicresource&quot;)\r\n        public String getPublicResource(){\r\n         return &quot;This is successful string&quot;;\r\n     }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nand this is application file \r\n\r\n    package com.example.wardemo;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n    \r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class WardemoApplication extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WardemoApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\treturn builder.sources(WardemoApplication.class);\r\n    \t}\r\n    }\r\n\r\nNote that I have done `maven clean` and then `maven package` to generate war file which I later renamed as `apk.war` and deployed it on the Tomcat server.\r\n\r\n\r\nlocalhost access log \r\n\r\n\r\n\r\n    0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:47 +0530] &quot;GET / HTTP/1.1&quot; 500 7025\r\n    0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:48 +0530] &quot;GET /favicon.ico HTTP/1.1&quot; 500 3389\r\n    0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:57 +0530] &quot;GET / HTTP/1.1&quot; 500 3389\r\n    0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:57 +0530] &quot;GET /favicon.ico HTTP/1.1&quot; 500 3389\r\n    127.0.0.1 - - [13/Apr/2023:11:40:21 +0530] &quot;GET / HTTP/1.1&quot; 200 11428\r\n    127.0.0.1 - - [13/Apr/2023:11:40:24 +0530] &quot;GET /manager/html HTTP/1.1&quot; 401 2562\r\n    127.0.0.1 - admin [13/Apr/2023:11:40:30 +0530] &quot;GET /manager/html HTTP/1.1&quot; 200 21909\r\n    127.0.0.1 - admin [13/Apr/2023:11:41:11 +0530] &quot;POST /manager/html/upload;jsessionid=04128590F1A0A51F5D264F6A0B4B59B6?org.apache.catalina.filters.CSRF_NONCE=035B8D1C50DC73D8D40BED7FDFA15C11 HTTP/1.1&quot; 200 21317\r\n    127.0.0.1 - - [13/Apr/2023:11:41:40 +0530] &quot;GET / HTTP/1.1&quot; 200 11428\r\n    127.0.0.1 - - [13/Apr/2023:11:42:25 +0530] &quot;GET /getpublicresource HTTP/1.1&quot; 404 768\r\n    127.0.0.1 - - [13/Apr/2023:11:59:49 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n    127.0.0.1 - - [13/Apr/2023:12:00:02 +0530] &quot;GET /apk/ HTTP/1.1&quot; 404 759\r\n    127.0.0.1 - - [13/Apr/2023:12:00:17 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n    127.0.0.1 - admin [13/Apr/2023:12:26:49 +0530] &quot;POST /manager/html/undeploy?path=/apk&amp;org.apache.catalina.filters.CSRF_NONCE=98498E114DA95D114733AF99428D5916 HTTP/1.1&quot; 403 3529\r\n    127.0.0.1 - admin [13/Apr/2023:12:27:00 +0530] &quot;GET /manager/html HTTP/1.1&quot; 200 21317\r\n    127.0.0.1 - admin [13/Apr/2023:12:27:04 +0530] &quot;POST /manager/html/undeploy?path=/apk&amp;org.apache.catalina.filters.CSRF_NONCE=7FA9400C55D50F50AAE4871469D79BA8 HTTP/1.1&quot; 200 20158\r\n    127.0.0.1 - admin [13/Apr/2023:12:27:16 +0530] &quot;POST /manager/html/upload?org.apache.catalina.filters.CSRF_NONCE=09BADD222A428BE969B677CB51BD0EC6 HTTP/1.1&quot; 200 21317\r\n    127.0.0.1 - - [13/Apr/2023:12:27:21 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n    127.0.0.1 - - [13/Apr/2023:12:35:20 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n    127.0.0.1 - - [13/Apr/2023:13:11:07 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\r\n\r\n\r\nThis is catalina log \r\n\r\n    13-Apr-2023 12:27:04.626 INFO [http-nio-8282-exec-34] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/apk]\r\n    13-Apr-2023 12:27:15.432 INFO [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [D:\\server\\webapps\\apk.war]\r\n    13-Apr-2023 12:27:16.100 SEVERE [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [D:\\server\\webapps\\apk.war]\r\n    \tjava.lang.IllegalStateException: Error starting child\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n    \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\r\n    \t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\r\n    \t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:543)\r\n    \t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1689)\r\n    \t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\r\n    \t\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)\r\n    \t\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n    \t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1615)\r\n    \t\tat org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:291)\r\n    \t\tat org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:209)\r\n    \t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:528)\r\n    \t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \t\tat org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:190)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n    \t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n    \t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\r\n    \t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:355)\r\n    \t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:54)\r\n    \t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n    \t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n    \t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n    \t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n    \t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n    \t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n    \t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n    \t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    \tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/apk]]\r\n    \t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n    \t\t... 45 more\r\n    \tCaused by: java.lang.IllegalArgumentException: java.io.IOException: The device is not ready\r\n    \t\tat org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:79)\r\n    \t\tat org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:59)\r\n    \t\tat org.apache.catalina.core.StandardContext.getCharsetMapper(StandardContext.java:1397)\r\n    \t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4754)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\t... 46 more\r\n    \tCaused by: java.io.IOException: The device is not ready\r\n    \t\tat java.base/java.io.RandomAccessFile.readBytes0(Native Method)\r\n    \t\tat java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java:390)\r\n    \t\tat java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:424)\r\n    \t\tat java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:488)\r\n    \t\tat java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1368)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:922)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:938)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:455)\r\n    \t\tat java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:175)\r\n    \t\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:119)\r\n    \t\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:95)\r\n    \t\tat java.base/java.util.Properties$LineReader.readLine(Properties.java:504)\r\n    \t\tat java.base/java.util.Properties.load0(Properties.java:420)\r\n    \t\tat java.base/java.util.Properties.load(Properties.java:409)\r\n    \t\tat org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:76)\r\n    \t\t... 50 more\r\n    13-Apr-2023 12:27:16.105 INFO [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [D:\\server\\webapps\\apk.war] has finished in [673] ms\r\n    13-Apr-2023 12:34:54.313 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:54.313 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:54.320 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:55.360 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:55.360 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:34:55.367 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:35:00.389 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:35:00.392 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n    13-Apr-2023 12:35:00.394 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\r\n\r\n","title":"No API (Private or Public) accessible in external Tomcat server","body":"<p>I am new to Spring Boot and have deployed my application on an external Tomcat server. But I am unable to access resource on external Tomcat.</p>\n<p><a href=\"http://127.0.0.1:8282/apk/getpublicresource\" rel=\"nofollow noreferrer\">http://127.0.0.1:8282/apk/getpublicresource</a></p>\n<p><a href=\"https://i.stack.imgur.com/53AQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53AQU.png\" alt=\"enter image description here\" /></a></p>\n<p>However if I run the same API on embedded Tomcat it will work fine.</p>\n<p><a href=\"https://i.stack.imgur.com/ihN5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ihN5K.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my application.properties</p>\n<pre><code>server..port=9998\n</code></pre>\n<p>This is <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;wardemo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;wardemo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--tomcat dependency--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--tomcat dependency--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;wardemo&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is controller</p>\n<pre><code>package com.example.wardemo.controller;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class BasicController {\n\n @RequestMapping(&quot;/getpublicresource&quot;)\n    public String getPublicResource(){\n     return &quot;This is successful string&quot;;\n }\n\n\n\n}\n</code></pre>\n<p>and this is application file</p>\n<pre><code>package com.example.wardemo;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@EnableScheduling\npublic class WardemoApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WardemoApplication.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(WardemoApplication.class);\n    }\n}\n</code></pre>\n<p>Note that I have done <code>maven clean</code> and then <code>maven package</code> to generate war file which I later renamed as <code>apk.war</code> and deployed it on the Tomcat server.</p>\n<p>localhost access log</p>\n<pre><code>0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:47 +0530] &quot;GET / HTTP/1.1&quot; 500 7025\n0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:48 +0530] &quot;GET /favicon.ico HTTP/1.1&quot; 500 3389\n0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:57 +0530] &quot;GET / HTTP/1.1&quot; 500 3389\n0:0:0:0:0:0:0:1 - - [13/Apr/2023:11:39:57 +0530] &quot;GET /favicon.ico HTTP/1.1&quot; 500 3389\n127.0.0.1 - - [13/Apr/2023:11:40:21 +0530] &quot;GET / HTTP/1.1&quot; 200 11428\n127.0.0.1 - - [13/Apr/2023:11:40:24 +0530] &quot;GET /manager/html HTTP/1.1&quot; 401 2562\n127.0.0.1 - admin [13/Apr/2023:11:40:30 +0530] &quot;GET /manager/html HTTP/1.1&quot; 200 21909\n127.0.0.1 - admin [13/Apr/2023:11:41:11 +0530] &quot;POST /manager/html/upload;jsessionid=04128590F1A0A51F5D264F6A0B4B59B6?org.apache.catalina.filters.CSRF_NONCE=035B8D1C50DC73D8D40BED7FDFA15C11 HTTP/1.1&quot; 200 21317\n127.0.0.1 - - [13/Apr/2023:11:41:40 +0530] &quot;GET / HTTP/1.1&quot; 200 11428\n127.0.0.1 - - [13/Apr/2023:11:42:25 +0530] &quot;GET /getpublicresource HTTP/1.1&quot; 404 768\n127.0.0.1 - - [13/Apr/2023:11:59:49 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n127.0.0.1 - - [13/Apr/2023:12:00:02 +0530] &quot;GET /apk/ HTTP/1.1&quot; 404 759\n127.0.0.1 - - [13/Apr/2023:12:00:17 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n127.0.0.1 - admin [13/Apr/2023:12:26:49 +0530] &quot;POST /manager/html/undeploy?path=/apk&amp;org.apache.catalina.filters.CSRF_NONCE=98498E114DA95D114733AF99428D5916 HTTP/1.1&quot; 403 3529\n127.0.0.1 - admin [13/Apr/2023:12:27:00 +0530] &quot;GET /manager/html HTTP/1.1&quot; 200 21317\n127.0.0.1 - admin [13/Apr/2023:12:27:04 +0530] &quot;POST /manager/html/undeploy?path=/apk&amp;org.apache.catalina.filters.CSRF_NONCE=7FA9400C55D50F50AAE4871469D79BA8 HTTP/1.1&quot; 200 20158\n127.0.0.1 - admin [13/Apr/2023:12:27:16 +0530] &quot;POST /manager/html/upload?org.apache.catalina.filters.CSRF_NONCE=09BADD222A428BE969B677CB51BD0EC6 HTTP/1.1&quot; 200 21317\n127.0.0.1 - - [13/Apr/2023:12:27:21 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n127.0.0.1 - - [13/Apr/2023:12:35:20 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n127.0.0.1 - - [13/Apr/2023:13:11:07 +0530] &quot;GET /apk/getpublicresource HTTP/1.1&quot; 404 776\n</code></pre>\n<p>This is catalina log</p>\n<pre><code>13-Apr-2023 12:27:04.626 INFO [http-nio-8282-exec-34] org.apache.catalina.startup.HostConfig.undeploy Undeploying context [/apk]\n13-Apr-2023 12:27:15.432 INFO [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [D:\\server\\webapps\\apk.war]\n13-Apr-2023 12:27:16.100 SEVERE [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [D:\\server\\webapps\\apk.war]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:543)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1689)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1615)\n        at org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:291)\n        at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:209)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:528)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n        at org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:355)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:54)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/apk]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n        ... 45 more\n    Caused by: java.lang.IllegalArgumentException: java.io.IOException: The device is not ready\n        at org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:79)\n        at org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:59)\n        at org.apache.catalina.core.StandardContext.getCharsetMapper(StandardContext.java:1397)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4754)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 46 more\n    Caused by: java.io.IOException: The device is not ready\n        at java.base/java.io.RandomAccessFile.readBytes0(Native Method)\n        at java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java:390)\n        at java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:424)\n        at java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:488)\n        at java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1368)\n        at java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:922)\n        at java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:938)\n        at java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:455)\n        at java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:175)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:119)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:95)\n        at java.base/java.util.Properties$LineReader.readLine(Properties.java:504)\n        at java.base/java.util.Properties.load0(Properties.java:420)\n        at java.base/java.util.Properties.load(Properties.java:409)\n        at org.apache.catalina.util.CharsetMapper.&lt;init&gt;(CharsetMapper.java:76)\n        ... 50 more\n13-Apr-2023 12:27:16.105 INFO [http-nio-8282-exec-33] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [D:\\server\\webapps\\apk.war] has finished in [673] ms\n13-Apr-2023 12:34:54.313 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:54.313 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:54.320 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:55.360 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:55.360 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:34:55.367 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:35:00.389 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:35:00.392 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n13-Apr-2023 12:35:00.394 WARNING [main] org.apache.catalina.core.StandardServer.await Invalid shutdown command [GET /apk/getpublicresource HTTP/1.1] received\n</code></pre>\n"},{"tags":["java","dto","bean-validation"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681291507,"post_id":75993603,"comment_id":134031479,"body_markdown":"Hello, I would just follow the error message and add the @Valid annotation to the field destinations in your DTO. I guess it was necessary in older versions of Java validation. Prior to Jakarta Bean Validation 3.O","body":"Hello, I would just follow the error message and add the @Valid annotation to the field destinations in your DTO. I guess it was necessary in older versions of Java validation. Prior to Jakarta Bean Validation 3.O"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1681300025,"post_id":75993603,"comment_id":134033441,"body_markdown":"Did you annotate `destinations` with `@Valid` like the message indicated?","body":"Did you annotate <code>destinations</code> with <code>@Valid</code> like the message indicated?"},{"owner":{"account_id":20972147,"reputation":3,"user_id":15409069,"display_name":"Kain"},"score":0,"creation_date":1681365719,"post_id":75993603,"comment_id":134045149,"body_markdown":"Hi, yes, a tried with @Valid before List&lt;String&gt; and inside the List&lt;@Valid ... String&gt;. But same exception","body":"Hi, yes, a tried with @Valid before List&lt;String&gt; and inside the List&lt;@Valid ... String&gt;. But same exception"},{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1681367971,"post_id":75993603,"comment_id":134045522,"body_markdown":"Did you try to place the @Pattern rule annotation above the List&lt;String&gt;?","body":"Did you try to place the @Pattern rule annotation above the List&lt;String&gt;?"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681371874,"creation_date":1681300502,"answer_id":75995174,"question_id":75993603,"body_markdown":"I would just follow the error message and add the @Valid annotation to the field `destinations` in your DTO. I guess it was necessary in older versions of Java validation. Prior to Jakarta Bean Validation 3.O\r\n\r\n**Solution**\r\n\r\nTry this:\r\n\r\n    public class ProgramRQDTO implements Serializable {\r\n\r\n        @Valid\r\n        private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n    }\r\n\r\n**EDIT** what I found on the net:\r\n\r\n    @Getter(onMethod = @__(@Valid))\r\n    @Setter(onParam = @__(@Valid))\r\n    @Valid\r\n    public class ProgramRQDTO implements Serializable {\r\n\r\n        @Valid\r\n        private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n    }\r\n\r\n**EDIT 2**\r\n\r\nI have just tested it with the newest versions of Spring Boot Starters and it works without any issues. No need of additional annotations. Following dependencies did the trick:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Javax validation for List&lt;String&gt; throws exception","body":"<p>I would just follow the error message and add the @Valid annotation to the field <code>destinations</code> in your DTO. I guess it was necessary in older versions of Java validation. Prior to Jakarta Bean Validation 3.O</p>\n<p><strong>Solution</strong></p>\n<p>Try this:</p>\n<pre><code>public class ProgramRQDTO implements Serializable {\n\n    @Valid\n    private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\n\n}\n</code></pre>\n<p><strong>EDIT</strong> what I found on the net:</p>\n<pre><code>@Getter(onMethod = @__(@Valid))\n@Setter(onParam = @__(@Valid))\n@Valid\npublic class ProgramRQDTO implements Serializable {\n\n    @Valid\n    private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\n\n}\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>I have just tested it with the newest versions of Spring Boot Starters and it works without any issues. No need of additional annotations. Following dependencies did the trick:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20972147,"reputation":3,"user_id":15409069,"display_name":"Kain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75995174,"answer_count":1,"score":0,"last_activity_date":1681371874,"creation_date":1681289745,"question_id":75993603,"body_markdown":"I am trying to include a @Pattern validation for string elements inside a list using javax validation. Below is the simplified example:\r\n\r\n```\r\npublic class ProgramRQDTO implements Serializable {\r\n\r\n    private static final long serialVersionUID = -1L;\r\n\r\n    @Size(min = 2, max= 5)\r\n    private String lang;\r\n\r\n    private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n    ...getters/setters\r\n\r\n}\r\n\r\n```\r\nThis DTO is used as the body of a POST request in which the @Valid annotation is used.\r\n\r\n```\r\n@POST\r\n@Produces({ MediaType.APPLICATION_JSON })\r\npublic Response method(@Valid @RequestBody MyDTO requestDto) {\r\n\r\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n    Validator validator = factory.getValidator();\r\n    Set&lt;ConstraintViolation&lt;MyDTO&gt;&gt; violations = validator.validate(requestDto);\r\n\r\n    ...\r\n\r\n}\r\n```\r\nThis method, **validator.validate(requestDto)**, throws an exception. \r\n\r\n`javax.validation.ValidationException: HV000187: When using type annotation constraints on parameterized iterables or map @Valid must be used. Check com.example.MyDTO#destinations`\r\n\r\nIs it possible to validate a List&lt;String&gt; inside a DTO without having to make a wrapper class for that list? Is there something I am doing wrong?\r\n\r\nAny help is appreciated.\r\n\r\n\r\nI have tried to include the @Valid annotation in the DTO at different points but I have not been able to get rid of this error.\r\n\r\n**UPDATE:**\r\n\r\nAll of the following give the same result:\r\n\r\n@Valid\r\n&lt;br&gt;private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\nprivate List&lt;@Valid @Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n@Valid\r\n&lt;br&gt;private List&lt;@Valid@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\r\n\r\n","title":"Javax validation for List&lt;String&gt; throws exception","body":"<p>I am trying to include a @Pattern validation for string elements inside a list using javax validation. Below is the simplified example:</p>\n<pre><code>public class ProgramRQDTO implements Serializable {\n\n    private static final long serialVersionUID = -1L;\n\n    @Size(min = 2, max= 5)\n    private String lang;\n\n    private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;\n\n    ...getters/setters\n\n}\n\n</code></pre>\n<p>This DTO is used as the body of a POST request in which the @Valid annotation is used.</p>\n<pre><code>@POST\n@Produces({ MediaType.APPLICATION_JSON })\npublic Response method(@Valid @RequestBody MyDTO requestDto) {\n\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator validator = factory.getValidator();\n    Set&lt;ConstraintViolation&lt;MyDTO&gt;&gt; violations = validator.validate(requestDto);\n\n    ...\n\n}\n</code></pre>\n<p>This method, <strong>validator.validate(requestDto)</strong>, throws an exception.</p>\n<p><code>javax.validation.ValidationException: HV000187: When using type annotation constraints on parameterized iterables or map @Valid must be used. Check com.example.MyDTO#destinations</code></p>\n<p>Is it possible to validate a List inside a DTO without having to make a wrapper class for that list? Is there something I am doing wrong?</p>\n<p>Any help is appreciated.</p>\n<p>I have tried to include the @Valid annotation in the DTO at different points but I have not been able to get rid of this error.</p>\n<p><strong>UPDATE:</strong></p>\n<p>All of the following give the same result:</p>\n<p>@Valid\n<br>private List&lt;@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;</p>\n<p>private List&lt;@Valid @Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;</p>\n<p>@Valid\n<br>private List&lt;@Valid@Pattern(regexp=&quot;^[a-zA-Z_]+$&quot;) String&gt; destinations;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"score":0,"creation_date":1681369534,"post_id":76002531,"comment_id":134045825,"body_markdown":"One approach to remove duplicates from the list of Employees based on their ID and aggregate their compensation is to utilize a HashMap to maintain a record of each unique employee&#39;s compensation. By using the HashMap, it becomes easier to track the compensation of each Employee by their ID and combine the values.","body":"One approach to remove duplicates from the list of Employees based on their ID and aggregate their compensation is to utilize a HashMap to maintain a record of each unique employee&#39;s compensation. By using the HashMap, it becomes easier to track the compensation of each Employee by their ID and combine the values."}],"answers":[{"tags":[],"owner":{"account_id":22498600,"reputation":46,"user_id":16695223,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681369910,"creation_date":1681369910,"answer_id":76002604,"question_id":76002531,"body_markdown":"To dedup the list by employee ID and combine the compensation, you can use Java streams and grouping operations. Here&#39;s an example:\r\n\r\n```java\r\nList&lt;Employee&gt; newPayment = payment.stream()\r\n        .collect(Collectors.groupingBy(Employee::getId,\r\n                 Collectors.summingDouble(Employee::getCompensation)))\r\n        .entrySet().stream()\r\n        .map(entry -&gt; new Employee(entry.getKey(), (float) entry.getValue()))\r\n        .collect(Collectors.toList());\r\n```\r\nIn this code, we first use the `groupingBy()` collector to group the Employee objects by their id property. We also use the `summingDouble()` collector to calculate the sum of compensation for each group.\r\n\r\nThis creates a `Map&lt;String, Double&gt;` where the keys are the employee IDs and the values are the total compensations for each group.\r\n\r\nNext, we convert the map entries back to Employee objects using the `map()` method, and finally collect them into a new list using the `toList()` collector. The result is a new list of Employee objects with the combined compensations.","title":"Remove a list of user-defined class object and combine value of one property in Java","body":"<p>To dedup the list by employee ID and combine the compensation, you can use Java streams and grouping operations. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Employee&gt; newPayment = payment.stream()\n        .collect(Collectors.groupingBy(Employee::getId,\n                 Collectors.summingDouble(Employee::getCompensation)))\n        .entrySet().stream()\n        .map(entry -&gt; new Employee(entry.getKey(), (float) entry.getValue()))\n        .collect(Collectors.toList());\n</code></pre>\n<p>In this code, we first use the <code>groupingBy()</code> collector to group the Employee objects by their id property. We also use the <code>summingDouble()</code> collector to calculate the sum of compensation for each group.</p>\n<p>This creates a <code>Map&lt;String, Double&gt;</code> where the keys are the employee IDs and the values are the total compensations for each group.</p>\n<p>Next, we convert the map entries back to Employee objects using the <code>map()</code> method, and finally collect them into a new list using the <code>toList()</code> collector. The result is a new list of Employee objects with the combined compensations.</p>\n"},{"tags":[],"owner":{"account_id":11864229,"reputation":391,"user_id":8682142,"display_name":"Waseem Abbas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681371299,"creation_date":1681371299,"answer_id":76002788,"question_id":76002531,"body_markdown":"You can use Java 8 streams and collectors to group the employees by their `id` and then sum their compensations. Here&#39;s an example code snippet:\r\n\r\n```Java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\nclass Dedup {\r\n    public static List&lt;Employee&gt; dedupByIds(List&lt;Employee&gt; payment) {\r\n        return payment.stream()\r\n                .collect(Collectors.groupingBy(Employee::getId, Collectors.summingDouble(Employee::getCompensation)))\r\n                .entrySet().stream()\r\n                .map(entry -&gt; new Employee(entry.getKey(), entry.getValue().floatValue()))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n\r\n```\r\n\r\nand then call this function by the list that you want to dedup. \r\n\r\n```Java\r\nList&lt;Employee&gt; payment = Arrays.asList(\r\n                new Employee(&quot;1&quot;, 3000.00f),\r\n                new Employee(&quot;1&quot;, 6000.00f),\r\n                new Employee(&quot;2&quot;, 5000.00f),\r\n                new Employee(&quot;3&quot;, 4000.00f)\r\n                );\r\n\r\nList&lt;Employee&gt; newPayment = Dedup.dedupByIds(payment);\r\n\r\n//printing values to console \r\nfor (Employee e : newPayment) {\r\n    System.out.println(e.getId() + &quot; : &quot; + e.getCompensation());\r\n}\r\n```","title":"Remove a list of user-defined class object and combine value of one property in Java","body":"<p>You can use Java 8 streams and collectors to group the employees by their <code>id</code> and then sum their compensations. Here's an example code snippet:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n\nclass Dedup {\n    public static List&lt;Employee&gt; dedupByIds(List&lt;Employee&gt; payment) {\n        return payment.stream()\n                .collect(Collectors.groupingBy(Employee::getId, Collectors.summingDouble(Employee::getCompensation)))\n                .entrySet().stream()\n                .map(entry -&gt; new Employee(entry.getKey(), entry.getValue().floatValue()))\n                .collect(Collectors.toList());\n    }\n}\n\n</code></pre>\n<p>and then call this function by the list that you want to dedup.</p>\n<pre><code>List&lt;Employee&gt; payment = Arrays.asList(\n                new Employee(&quot;1&quot;, 3000.00f),\n                new Employee(&quot;1&quot;, 6000.00f),\n                new Employee(&quot;2&quot;, 5000.00f),\n                new Employee(&quot;3&quot;, 4000.00f)\n                );\n\nList&lt;Employee&gt; newPayment = Dedup.dedupByIds(payment);\n\n//printing values to console \nfor (Employee e : newPayment) {\n    System.out.println(e.getId() + &quot; : &quot; + e.getCompensation());\n}\n</code></pre>\n"}],"owner":{"account_id":14024747,"reputation":71,"user_id":10130103,"display_name":"Daniel "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76002788,"answer_count":2,"score":0,"last_activity_date":1681371299,"creation_date":1681369340,"question_id":76002531,"body_markdown":"I have a `Employee` class \r\n```\r\nclass Employee {\r\n\r\n    private final String id;\r\n    private float compensation;\r\n\r\n    public Employee(String id, float compensation) {\r\n        this.id = id;\r\n        this.compensation = compensation;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n    \r\n    public float getCompensation() {\r\n        return compensation;\r\n    }\r\n}\r\n```\r\nThen I have a list of Employees\r\n\r\n```\r\nList&lt;Employee&gt; payment = Arrays.asList(\r\n      new Employee(&quot;1&quot;, 3000.00),\r\n      new Employee(&quot;1&quot;, 6000.00),\r\n      new Employee(&quot;2&quot;, 5000.00),\r\n      new Employee(&quot;3&quot;, 4000.00),\r\n);\r\n```\r\nHow to dedup the list by the employee ID and combine the compensation?\r\n\r\nExpected result:\r\n\r\n```\r\nList&lt;Employee&gt; newPayment = Arrays.asList(\r\n      new Employee(&quot;1&quot;, 9000.00),\r\n      new Employee(&quot;2&quot;, 5000.00),\r\n      new Employee(&quot;3&quot;, 4000.00),\r\n);\r\n```","title":"Remove a list of user-defined class object and combine value of one property in Java","body":"<p>I have a <code>Employee</code> class</p>\n<pre><code>class Employee {\n\n    private final String id;\n    private float compensation;\n\n    public Employee(String id, float compensation) {\n        this.id = id;\n        this.compensation = compensation;\n    }\n\n    public String getId() {\n        return id;\n    }\n    \n    public float getCompensation() {\n        return compensation;\n    }\n}\n</code></pre>\n<p>Then I have a list of Employees</p>\n<pre><code>List&lt;Employee&gt; payment = Arrays.asList(\n      new Employee(&quot;1&quot;, 3000.00),\n      new Employee(&quot;1&quot;, 6000.00),\n      new Employee(&quot;2&quot;, 5000.00),\n      new Employee(&quot;3&quot;, 4000.00),\n);\n</code></pre>\n<p>How to dedup the list by the employee ID and combine the compensation?</p>\n<p>Expected result:</p>\n<pre><code>List&lt;Employee&gt; newPayment = Arrays.asList(\n      new Employee(&quot;1&quot;, 9000.00),\n      new Employee(&quot;2&quot;, 5000.00),\n      new Employee(&quot;3&quot;, 4000.00),\n);\n</code></pre>\n"},{"tags":["java","open-telemetry","javaagents"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681182060,"creation_date":1681182060,"answer_id":75982103,"question_id":75966427,"body_markdown":"&gt; why would latency take a hit?\r\n\r\nThe instrumentation has to do some work on the main thread to capture request telemetry.\r\n\r\n&gt; simple drop wizard rest application which has one dummy API\r\n\r\nThe % overhead for instrumenting a dummy API (which does nothing) is generally going to be higher than the % overhead for instrumenting a real application (which does real work).\r\n\r\n&gt; What can I do to keep the impact to a minimum\r\n\r\nYou would probably need to capture JFR profiling data and dig into where the specific bottlenecks are. If you find anything interesting please post to https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues and we&#39;ll see if there&#39;s anything more that can be done.","title":"When using OpenTelemetry Java agent to capture traces, all critical metrics degrade close to 15%","body":"<blockquote>\n<p>why would latency take a hit?</p>\n</blockquote>\n<p>The instrumentation has to do some work on the main thread to capture request telemetry.</p>\n<blockquote>\n<p>simple drop wizard rest application which has one dummy API</p>\n</blockquote>\n<p>The % overhead for instrumenting a dummy API (which does nothing) is generally going to be higher than the % overhead for instrumenting a real application (which does real work).</p>\n<blockquote>\n<p>What can I do to keep the impact to a minimum</p>\n</blockquote>\n<p>You would probably need to capture JFR profiling data and dig into where the specific bottlenecks are. If you find anything interesting please post to <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues</a> and we'll see if there's anything more that can be done.</p>\n"}],"owner":{"account_id":1914991,"reputation":95,"user_id":1727736,"display_name":"Avinash Vundyala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681371056,"creation_date":1680971610,"question_id":75966427,"body_markdown":"We are evaluating open telemetry Java agent to capture traces. I have done a perf test using Jmeter and noticed all critical metrics (Latency, requests/sec, heap memory), though CPU remain almost similar.\r\n\r\nTest on a simple drop wizard rest application which has one dummy API.\r\n\r\nThe configuration used is as follows:\r\n\r\n```\r\njava -Xms3g -Xmx4g -javaagent:./opentelemetry-javaagent.jar \r\n-Dotel.instrumentation.common.default-enabled=false \r\n-Dotel.instrumentation.experimental.span-suppression-strategy=span-kind \r\n-Dotel.traces.sampler=traceidratio \r\n-Dotel.traces.sampler.arg=0.01 \r\n-Dotel.bsp.max.export.size=1024 \r\n-Dotel.bsp.max.queue.size=4096 \r\n-Dotel.bsp.schedule.delay=30000ms \r\n-Dotel.logs.exporter=none \r\n-Dotel.metrics.exporter=none \r\n-Dotel.instrumentation.jetty.enabled=true \r\n-Dotel.instrumentation.apache-httpclient.enabled=true \r\n-Dotel.service.name=root-service \r\n-Dotel.exporter.otlp.endpoint=http://&lt;ip&gt;:4317 \r\n-Dcom.sun.management.jmxremote \r\n-Dcom.sun.management.jmxremote.port=40002 \r\n-Dcom.sun.management.jmxremote.local.only=false \r\n-Dcom.sun.management.jmxremote.authenticate=false \r\n-Dcom.sun.management.jmxremote.ssl=false \r\n-jar root-service-1.0-SNAPSHOT.jar server /home/user/apps/config/config.yml\r\n\r\n```\r\n\r\nI only enabled Jetty and Apache HTTP clients.\r\n\r\n\r\nAm I doing something wrong ? Also, why would latency take a hit? Is the agent doing anything expensive? What can I do to keep the impact to a minimum.\r\n","title":"When using OpenTelemetry Java agent to capture traces, all critical metrics degrade close to 15%","body":"<p>We are evaluating open telemetry Java agent to capture traces. I have done a perf test using Jmeter and noticed all critical metrics (Latency, requests/sec, heap memory), though CPU remain almost similar.</p>\n<p>Test on a simple drop wizard rest application which has one dummy API.</p>\n<p>The configuration used is as follows:</p>\n<pre><code>java -Xms3g -Xmx4g -javaagent:./opentelemetry-javaagent.jar \n-Dotel.instrumentation.common.default-enabled=false \n-Dotel.instrumentation.experimental.span-suppression-strategy=span-kind \n-Dotel.traces.sampler=traceidratio \n-Dotel.traces.sampler.arg=0.01 \n-Dotel.bsp.max.export.size=1024 \n-Dotel.bsp.max.queue.size=4096 \n-Dotel.bsp.schedule.delay=30000ms \n-Dotel.logs.exporter=none \n-Dotel.metrics.exporter=none \n-Dotel.instrumentation.jetty.enabled=true \n-Dotel.instrumentation.apache-httpclient.enabled=true \n-Dotel.service.name=root-service \n-Dotel.exporter.otlp.endpoint=http://&lt;ip&gt;:4317 \n-Dcom.sun.management.jmxremote \n-Dcom.sun.management.jmxremote.port=40002 \n-Dcom.sun.management.jmxremote.local.only=false \n-Dcom.sun.management.jmxremote.authenticate=false \n-Dcom.sun.management.jmxremote.ssl=false \n-jar root-service-1.0-SNAPSHOT.jar server /home/user/apps/config/config.yml\n\n</code></pre>\n<p>I only enabled Jetty and Apache HTTP clients.</p>\n<p>Am I doing something wrong ? Also, why would latency take a hit? Is the agent doing anything expensive? What can I do to keep the impact to a minimum.</p>\n"},{"tags":["java","spring","spring-boot","debugging","intellij-idea"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":2,"creation_date":1681047751,"post_id":75970794,"comment_id":133993022,"body_markdown":"It could happpen that there&#39;s an exception and the debugger is following the exception path.","body":"It could happpen that there&#39;s an exception and the debugger is following the exception path."},{"owner":{"account_id":25290253,"reputation":41,"user_id":19116508,"display_name":"m_jdm35"},"score":0,"creation_date":1681060482,"post_id":75970794,"comment_id":133994754,"body_markdown":"I&#39;m not really sure what&#39;s going on in the framework&#39;s classes, but I bet is not an exception. Unless Spring throws the exception and leaves the catch empty.","body":"I&#39;m not really sure what&#39;s going on in the framework&#39;s classes, but I bet is not an exception. Unless Spring throws the exception and leaves the catch empty."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681154024,"post_id":75970794,"comment_id":134007720,"body_markdown":"Share a piece of code showing where this is happening","body":"Share a piece of code showing where this is happening"},{"owner":{"account_id":25290253,"reputation":41,"user_id":19116508,"display_name":"m_jdm35"},"score":0,"creation_date":1681237086,"post_id":75970794,"comment_id":134023211,"body_markdown":"I added the code to the post.","body":"I added the code to the post."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681297177,"post_id":75970794,"comment_id":134032820,"body_markdown":"What is `player`? Where is it coming from? This is not a working code snippet","body":"What is <code>player</code>? Where is it coming from? This is not a working code snippet"},{"owner":{"account_id":25290253,"reputation":41,"user_id":19116508,"display_name":"m_jdm35"},"score":0,"creation_date":1681370995,"post_id":75970794,"comment_id":134046122,"body_markdown":"It is now. Player doesn&#39;t matter.","body":"It is now. Player doesn&#39;t matter."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681413196,"post_id":75970794,"comment_id":134056526,"body_markdown":"But of course the debugger will go into Spring classes because there&#39;s no more code but going into the framework itself. What are you expecting to happen here?","body":"But of course the debugger will go into Spring classes because there&#39;s no more code but going into the framework itself. What are you expecting to happen here?"}],"owner":{"account_id":25290253,"reputation":41,"user_id":19116508,"display_name":"m_jdm35"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681370918,"creation_date":1681046772,"question_id":75970794,"body_markdown":"I&#39;m debugging my Spring Boot app with IntelliJ. I&#39;m pressing step over and the debugger steps into built in Spring classes like &quot;InvocableHandlerMethod&quot;. How can I debug only my code and not go into Spring classes.\r\n\r\n    @GetMapping(&quot;/restapi&quot;)\r\n    public String restapi() {\r\n        String result = &quot;hello&quot;; // breakpoint\r\n        return result; // after this statement \r\n             //debugger goes into InvocableHandlerMethod\r\n    }\r\n\r\nNow, this is not the best example, I tried to find where the debugger went inside Spring&#39;s classes in the middle of a method, but I could not.\r\n\r\nI searched, did not find answear.","title":"Stop Intellij debugger stepping into Spring classes","body":"<p>I'm debugging my Spring Boot app with IntelliJ. I'm pressing step over and the debugger steps into built in Spring classes like &quot;InvocableHandlerMethod&quot;. How can I debug only my code and not go into Spring classes.</p>\n<pre><code>@GetMapping(&quot;/restapi&quot;)\npublic String restapi() {\n    String result = &quot;hello&quot;; // breakpoint\n    return result; // after this statement \n         //debugger goes into InvocableHandlerMethod\n}\n</code></pre>\n<p>Now, this is not the best example, I tried to find where the debugger went inside Spring's classes in the middle of a method, but I could not.</p>\n<p>I searched, did not find answear.</p>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":28246090,"reputation":188,"user_id":21593096,"display_name":"Anh Dang Vien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681370739,"creation_date":1681370739,"question_id":76002712,"body_markdown":"&quot;error typeerror : cannot read property &#39;result code &#39; of undefined&quot;\r\n\r\n[![Error screen ](https://i.stack.imgur.com/DGtON.png)](https://i.stack.imgur.com/DGtON.png)\r\n\r\nWhen i run it with command &quot;npm react-native start &quot; it very ok but when i trying build it to apk with command &quot;  ./gradlew assembleRelease&quot; and run on android it get error \r\n\r\n\r\ni don&#39;t know what happend this appear with me ","title":"Get error message react native to build release app.apk &quot;error typeerror : cannot read property &#39;result code &#39; of undefined&quot;","body":"<p>&quot;error typeerror : cannot read property 'result code ' of undefined&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/DGtON.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DGtON.png\" alt=\"Error screen \" /></a></p>\n<p>When i run it with command &quot;npm react-native start &quot; it very ok but when i trying build it to apk with command &quot;  ./gradlew assembleRelease&quot; and run on android it get error</p>\n<p>i don't know what happend this appear with me</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681385219,"post_id":76002706,"comment_id":134049398,"body_markdown":"Are you getting any errors? Your code looks good. The methods must have different names of course. Like findByUsername() vs. loadFullByUsername()","body":"Are you getting any errors? Your code looks good. The methods must have different names of course. Like findByUsername() vs. loadFullByUsername()"}],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681370668,"creation_date":1681370668,"question_id":76002706,"body_markdown":"iam using Spring data JPA with Hibernate and the Problem is that i want to get The Users with Roles and without Roles (He should not Join in Database). How can i do that? FetchType is LAZY.\r\n\r\nmy User class:\r\n\r\n    public class APPUser implements UserDetails{\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private String username;\r\n        \r\n        @ElementCollection(targetClass = APPUserRoles.class, fetch = FetchType.LAZY)\r\n        @CollectionTable( \r\n                name = &quot;APPUserRoles&quot;,\r\n                joinColumns = @JoinColumn (name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\r\n            )\r\n        @Enumerated(EnumType.STRING)\r\n        private List&lt;APPUserRoles&gt; appuserroles;\r\n\r\nAnd my Repository for Spring data:\r\n\r\n        @Query(&quot;SELECT user FROM APPUser user JOIN FETCH user.appuserroles WHERE user.username :username&quot;)\r\n        APPUser findByUsername(@Param(&quot;username&quot;) String username); // WITH JOIN because of @Query\r\n        \r\n        APPUser findByUsername(String username); // Wihtout Join because LAZY\r\n\r\nNow i want to get ONLY the Users (he should not do a JOIN). and on the other side i want to get Users WITH Roles?\r\n\r\nso in my example above you see that so i need two same Methods but in one Case WITH JOIN and on other case WITHOUT join.","title":"Spring Data JPA - Entity with FetchTyp.Lazy how to split Query?","body":"<p>iam using Spring data JPA with Hibernate and the Problem is that i want to get The Users with Roles and without Roles (He should not Join in Database). How can i do that? FetchType is LAZY.</p>\n<p>my User class:</p>\n<pre><code>public class APPUser implements UserDetails{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private String username;\n    \n    @ElementCollection(targetClass = APPUserRoles.class, fetch = FetchType.LAZY)\n    @CollectionTable( \n            name = &quot;APPUserRoles&quot;,\n            joinColumns = @JoinColumn (name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\n        )\n    @Enumerated(EnumType.STRING)\n    private List&lt;APPUserRoles&gt; appuserroles;\n</code></pre>\n<p>And my Repository for Spring data:</p>\n<pre><code>    @Query(&quot;SELECT user FROM APPUser user JOIN FETCH user.appuserroles WHERE user.username :username&quot;)\n    APPUser findByUsername(@Param(&quot;username&quot;) String username); // WITH JOIN because of @Query\n    \n    APPUser findByUsername(String username); // Wihtout Join because LAZY\n</code></pre>\n<p>Now i want to get ONLY the Users (he should not do a JOIN). and on the other side i want to get Users WITH Roles?</p>\n<p>so in my example above you see that so i need two same Methods but in one Case WITH JOIN and on other case WITHOUT join.</p>\n"},{"tags":["java","jar","xml-parsing","overriding","xml-rpc"],"owner":{"account_id":27119556,"reputation":1,"user_id":20663419,"display_name":"Abhishek Matasuguru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681370558,"creation_date":1681369030,"question_id":76002493,"body_markdown":"I have the execute method which is from xmlrpc.jar and xmlrpcserver.class this execute method takes inputs and processes it to execute internal method in the same class , this execute internal method has parse(input) which parses the inputstream, but this parse method is declared in a different class file called xmlrpc.class , i need to add a decoding method before parsing the inputstream, as there are many streams coming from different classes ultimately i need to add decoding method here in the parse method of xmlrpc.class how can i do it ? can i override the method ? but the execute method is in my class which extends xmlrpcserver not xmlrpc , i am confused how can i do it \r\n\r\nthis is how it looks\r\n\r\n     byte[] result = xmlrpcserver.**execute** (request.getInputStream(), user, password);\r\n     response.setContentType (&quot;text/xml&quot;);\r\n\r\nthis is from another file \r\n\r\n     server.**execute**(&quot;admin.deployStrategy&quot;, fixParams(params));\r\n         \r\neven though both execute methods are pointing to different class files in jar ultimately they are getting parsed by the parse method  ","title":"How can i override a method in a jar which is being called indirectly through functional flow in my code","body":"<p>I have the execute method which is from xmlrpc.jar and xmlrpcserver.class this execute method takes inputs and processes it to execute internal method in the same class , this execute internal method has parse(input) which parses the inputstream, but this parse method is declared in a different class file called xmlrpc.class , i need to add a decoding method before parsing the inputstream, as there are many streams coming from different classes ultimately i need to add decoding method here in the parse method of xmlrpc.class how can i do it ? can i override the method ? but the execute method is in my class which extends xmlrpcserver not xmlrpc , i am confused how can i do it</p>\n<p>this is how it looks</p>\n<pre><code> byte[] result = xmlrpcserver.**execute** (request.getInputStream(), user, password);\n response.setContentType (&quot;text/xml&quot;);\n</code></pre>\n<p>this is from another file</p>\n<pre><code> server.**execute**(&quot;admin.deployStrategy&quot;, fixParams(params));\n     \n</code></pre>\n<p>even though both execute methods are pointing to different class files in jar ultimately they are getting parsed by the parse method</p>\n"},{"tags":["java","unicode"],"answers":[{"tags":[],"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1377176364,"creation_date":1377175871,"answer_id":18381015,"question_id":18380901,"body_markdown":"Code points are written as hexadecimal numbers prefixed by `U+`\r\n\r\nSo,you can do this\r\n\r\n    int codepoint=Integer.parseInt(yourString.substring(2),16);\r\n    char[] ch=Character.toChars(codepoint);","title":"How do I convert unicode codepoints to their character representation?","body":"<p>Code points are written as hexadecimal numbers prefixed by <code>U+</code></p>\n\n<p>So,you can do this</p>\n\n<pre><code>int codepoint=Integer.parseInt(yourString.substring(2),16);\nchar[] ch=Character.toChars(codepoint);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1621645684,"creation_date":1377176074,"answer_id":18381086,"question_id":18380901,"body_markdown":"Call [this constructor](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(int%5B%5D,int,int)) on `String`. \r\n\r\n    &quot;\\u00E4&quot;\r\n\r\n    new String(new int[] { 0x00E4 }, 0, 1);","title":"How do I convert unicode codepoints to their character representation?","body":"<p>Call <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#%3Cinit%3E(int%5B%5D,int,int)\" rel=\"nofollow noreferrer\">this constructor</a> on <code>String</code>.</p>\n<pre><code>&quot;\\u00E4&quot;\n\nnew String(new int[] { 0x00E4 }, 0, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12553655,"reputation":84,"user_id":9134243,"display_name":"tateisu"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1516289135,"creation_date":1516289135,"answer_id":48324736,"question_id":18380901,"body_markdown":"this example does not use char[].\r\n\r\n    // this code is Kotlin, but you can write same thing in Java\r\n    val sb = StringBuilder()\r\n    val cp :Int // codepoint\r\n    when {\r\n        Character.isBmpCodePoint(cp) -&gt; sb.append(cp.toChar())\r\n        Character.isValidCodePoint(cp) -&gt; {\r\n            sb.append(Character.highSurrogate(cp))\r\n            sb.append(Character.lowSurrogate(cp))\r\n        }\r\n        else -&gt; sb.append(&#39;?&#39;)\r\n    }","title":"How do I convert unicode codepoints to their character representation?","body":"<p>this example does not use char[].</p>\n\n<pre><code>// this code is Kotlin, but you can write same thing in Java\nval sb = StringBuilder()\nval cp :Int // codepoint\nwhen {\n    Character.isBmpCodePoint(cp) -&gt; sb.append(cp.toChar())\n    Character.isValidCodePoint(cp) -&gt; {\n        sb.append(Character.highSurrogate(cp))\n        sb.append(Character.lowSurrogate(cp))\n    }\n    else -&gt; sb.append('?')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8858376,"reputation":67,"user_id":6713458,"display_name":"Roovy"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1516531607,"creation_date":1516531607,"answer_id":48365950,"question_id":18380901,"body_markdown":"The easiest way I&#39;ve found so far is to just cast the codepoint; if you&#39;re just expecting a single char per codepoint, then this might be fine for you.:\r\n    \r\n    int codepoint = ...;\r\n    char c = (char)codepoint;","title":"How do I convert unicode codepoints to their character representation?","body":"<p>The easiest way I've found so far is to just cast the codepoint; if you're just expecting a single char per codepoint, then this might be fine for you.:</p>\n\n<pre><code>int codepoint = ...;\nchar c = (char)codepoint;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7097012,"reputation":1,"user_id":5430155,"display_name":"Abdo Magdy"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1519930788,"creation_date":1519928542,"answer_id":49056273,"question_id":18380901,"body_markdown":"You can print them\r\n\r\n    s=&#39;\\u0645\\u0635\\u0631\\u064a&#39;\r\n    print(s)","title":"How do I convert unicode codepoints to their character representation?","body":"<p>You can print them</p>\n\n<pre><code>s='\\u0645\\u0635\\u0631\\u064a'\nprint(s)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198390,"reputation":1053,"user_id":443019,"accept_rate":43,"display_name":"Qubei"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1548487663,"creation_date":1548487663,"answer_id":54376494,"question_id":18380901,"body_markdown":"Converted from Kotlin:\r\n\r\n        public String codepointToString(int cp) {\r\n            StringBuilder sb = new StringBuilder();\r\n            if (Character.isBmpCodePoint(cp)) {\r\n                sb.append((char) cp);\r\n            } else if (Character.isValidCodePoint(cp)) {\r\n                sb.append(Character.highSurrogate(cp));\r\n                sb.append(Character.lowSurrogate(cp));\r\n            } else {\r\n                sb.append(&#39;?&#39;);\r\n            }\r\n            return sb.toString();\r\n        }\r\n","title":"How do I convert unicode codepoints to their character representation?","body":"<p>Converted from Kotlin:</p>\n\n<pre><code>    public String codepointToString(int cp) {\n        StringBuilder sb = new StringBuilder();\n        if (Character.isBmpCodePoint(cp)) {\n            sb.append((char) cp);\n        } else if (Character.isValidCodePoint(cp)) {\n            sb.append(Character.highSurrogate(cp));\n            sb.append(Character.lowSurrogate(cp));\n        } else {\n            sb.append('?');\n        }\n        return sb.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1576998790,"creation_date":1576998790,"answer_id":59442325,"question_id":18380901,"body_markdown":"The question asked for a function to convert a string value representing a Unicode code point (i.e. `&quot;+Unnnn&quot;` rather than the Java formats of `&quot;\\unnnn&quot;` or `&quot;0xnnnn`). However, newer releases of Java have enhancements which simplify the processing of a string contain multiple code points in Unicode format: \r\n\r\n- The introduction of Streams in Java 8.\r\n- Method [`public static String toString​(int codePoint)`][1] which was added to the `Character` class in Java 11. It returns a `String` rather than a `char[]`, so `Character.toString(0x00E4)` returns `&quot;&#228;&quot;`.\r\n\r\nThose enhancements allow a different approach to solving the issue raised in the OP. This method transforms a set of code points in Unicode format to a readable `String` in a single statement:\r\n\r\n    void processUnicode() {\r\n\r\n        // Create a test string containing &quot;Hello World &#128513;&quot; with code points in Unicode format.\r\n        // Include an invalid code point (+U0wxyz), and a code point outside the Unicode range (+U70FFFF).\r\n        String data = &quot;+U0048+U0065+U006c+U006c+U0wxyz+U006f+U0020+U0057+U70FFFF+U006f+U0072+U006c+U0000064+U20+U1f601&quot;;\r\n        \r\n        String text = Arrays.stream(data.split(&quot;\\\\+U&quot;))\r\n                .filter(s -&gt; ! s.isEmpty()) // First element returned by split() is a zero length string.\r\n                .map(s -&gt; {\r\n                    try {\r\n                        return Integer.parseInt(s, 16);\r\n                    } catch (NumberFormatException e) { \r\n                        System.out.println(&quot;Ignoring element [&quot; + s + &quot;]: NumberFormatException from parseInt(\\&quot;&quot; + s + &quot;\\&quot;}&quot;);\r\n                    }\r\n                    return null; // If the code point is not represented as a valid hex String.\r\n                })\r\n                .filter(v -&gt; v != null) // Ignore syntactically invalid code points.\r\n                .filter(i -&gt; Character.isValidCodePoint(i)) // Ignore code points outside of Unicode range.\r\n                .map(i -&gt; Character.toString(i)) // Obtain the string value directly from the code point. (Requires JDK &gt;= 11 )\r\n                .collect(Collectors.joining());\r\n\r\n        System.out.println(text); // Prints &quot;Hello World &#128513;&quot;\r\n    }\r\n\r\nAnd this is the output:\r\n\r\n    run:\r\n    Ignoring element [0wxyz]: NumberFormatException from parseInt(&quot;0wxyz&quot;}\r\n    Hello World &#128513;\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nNotes:\r\n\r\n- With this approach there is no longer any need for a specific function to convert a code point in Unicode format. That&#39;s dispersed instead, through multiple intermediate operations in the `Stream` processing. Of course the same code could still be used to process just a single code point in Unicode format.\r\n- It&#39;s easy to add intermediate operations to perform further validation and processing on the `Stream`, such as case conversion, removal of emoticons, etc.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\r\n","title":"How do I convert unicode codepoints to their character representation?","body":"<p>The question asked for a function to convert a string value representing a Unicode code point (i.e. <code>\"+Unnnn\"</code> rather than the Java formats of <code>\"\\unnnn\"</code> or <code>\"0xnnnn</code>). However, newer releases of Java have enhancements which simplify the processing of a string contain multiple code points in Unicode format: </p>\n\n<ul>\n<li>The introduction of Streams in Java 8.</li>\n<li>Method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"noreferrer\"><code>public static String toString​(int codePoint)</code></a> which was added to the <code>Character</code> class in Java 11. It returns a <code>String</code> rather than a <code>char[]</code>, so <code>Character.toString(0x00E4)</code> returns <code>\"ä\"</code>.</li>\n</ul>\n\n<p>Those enhancements allow a different approach to solving the issue raised in the OP. This method transforms a set of code points in Unicode format to a readable <code>String</code> in a single statement:</p>\n\n<pre><code>void processUnicode() {\n\n    // Create a test string containing \"Hello World 😁\" with code points in Unicode format.\n    // Include an invalid code point (+U0wxyz), and a code point outside the Unicode range (+U70FFFF).\n    String data = \"+U0048+U0065+U006c+U006c+U0wxyz+U006f+U0020+U0057+U70FFFF+U006f+U0072+U006c+U0000064+U20+U1f601\";\n\n    String text = Arrays.stream(data.split(\"\\\\+U\"))\n            .filter(s -&gt; ! s.isEmpty()) // First element returned by split() is a zero length string.\n            .map(s -&gt; {\n                try {\n                    return Integer.parseInt(s, 16);\n                } catch (NumberFormatException e) { \n                    System.out.println(\"Ignoring element [\" + s + \"]: NumberFormatException from parseInt(\\\"\" + s + \"\\\"}\");\n                }\n                return null; // If the code point is not represented as a valid hex String.\n            })\n            .filter(v -&gt; v != null) // Ignore syntactically invalid code points.\n            .filter(i -&gt; Character.isValidCodePoint(i)) // Ignore code points outside of Unicode range.\n            .map(i -&gt; Character.toString(i)) // Obtain the string value directly from the code point. (Requires JDK &gt;= 11 )\n            .collect(Collectors.joining());\n\n    System.out.println(text); // Prints \"Hello World 😁\"\n}\n</code></pre>\n\n<p>And this is the output:</p>\n\n<pre><code>run:\nIgnoring element [0wxyz]: NumberFormatException from parseInt(\"0wxyz\"}\nHello World 😁\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>With this approach there is no longer any need for a specific function to convert a code point in Unicode format. That's dispersed instead, through multiple intermediate operations in the <code>Stream</code> processing. Of course the same code could still be used to process just a single code point in Unicode format.</li>\n<li>It's easy to add intermediate operations to perform further validation and processing on the <code>Stream</code>, such as case conversion, removal of emoticons, etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645274837,"creation_date":1645274837,"answer_id":71185128,"question_id":18380901,"body_markdown":"Since Java 11, you can do:\r\n```java\r\njshell&gt; Character.toString(Integer.parseInt(&quot;U+00E4&quot;.substring(2), 16))\r\n$1 ==&gt; &quot;&#228;&quot;\r\n```\r\n","title":"How do I convert unicode codepoints to their character representation?","body":"<p>Since Java 11, you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jshell&gt; Character.toString(Integer.parseInt(&quot;U+00E4&quot;.substring(2), 16))\n$1 ==&gt; &quot;ä&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8491468,"reputation":879,"user_id":8461756,"display_name":"Sandeep Dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681370049,"creation_date":1681368377,"answer_id":76002400,"question_id":18380901,"body_markdown":"\r\n- you want to display a codepoint?\r\nor\r\n- you want to convert a codepoint to char datatype?\r\n\r\nWell, second part is not possible because codepoint may be of 4 bytes and char datatype can hold only 2 bytes.\r\n\r\nSo if it may be more generalized approach to never use char data type in java, use int or String instead.\r\n\r\nWhat datatype is used to hold code point?\r\nSingle code point can be hold in an int data types.  A unicode String is technically an array of int, rather than array of char.\r\n\r\n    String smiley = new String(new int[] { 0x1F600 }, 0, 1); //int[] array of int codepoints can be converted to string\r\n    System.out.println(&quot; print smiley =  &quot;+smiley );\r\n\r\noutput\r\n     print smiley =  &#128512;\r\n\r\nIf you are using IntelliJ idea, You can copy output smiley and paste within double quoted string.  You will get this &quot;\\uD83D\\uDE00&quot;\r\n\r\nIf you print this string you again get a smiley \r\n\r\n    System.out.println(&quot;\\uD83D\\uDE00&quot;);\r\n\r\noutput\r\n    &#128512;\r\n\r\nWhy we cannot use single &quot;\\u&quot; to represent smiley within a string? \r\nBecause when \\u escape was designed, all unicode chars could be represented by 2 bytes or 4 hexadecimal digits. So there are always 4 hexadecimal digits after \\u in a java string literal. To represent a larger value of Unicode you need a larger hexadecimal number but that will break existing java strings. So there java uses same approach as utf-16 representation. \r\n\r\nFollowing 2 are equivalent.\r\n\r\n    String smiley = new String(new int[] { 0x1F600 }, 0, 1); //using single code point number\r\n    String smiley = &quot;\\uD83D\\uDE00&quot;;//split code point in 2 parts of 2 bytes each (utf-16)\r\n\r\n\r\nRefer to java doc here.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#unicode\r\n\r\n&gt; Unicode Character Representations The char data type (and therefore\r\n&gt; the value that a Character object encapsulates) are based on the\r\n&gt; original Unicode specification, which defined characters as\r\n&gt; fixed-width 16-bit entities. The Unicode Standard has since been\r\n&gt; changed to allow for characters whose representation requires more\r\n&gt; than 16 bits. The range of legal code points is now U+0000 to\r\n&gt; U+10FFFF, known as Unicode scalar value. (Refer to the definition of\r\n&gt; the U+n notation in the Unicode Standard.)\r\n&gt; \r\n&gt; The set of characters from U+0000 to U+FFFF is sometimes referred to\r\n&gt; as the Basic Multilingual Plane (BMP). Characters whose code points\r\n&gt; are greater than U+FFFF are called supplementary characters. The Java\r\n&gt; platform uses the UTF-16 representation in char arrays and in the\r\n&gt; String and StringBuffer classes. In this representation, supplementary\r\n&gt; characters are represented as a pair of char values, the first from\r\n&gt; the high-surrogates range, (\\uD800-\\uDBFF), the second from the\r\n&gt; low-surrogates range (\\uDC00-\\uDFFF).\r\n&gt; \r\n&gt; A char value, therefore, represents Basic Multilingual Plane (BMP)\r\n&gt; code points, including the surrogate code points, or code units of the\r\n&gt; UTF-16 encoding. An int value represents all Unicode code points,\r\n&gt; including supplementary code points. The lower (least significant) 21\r\n&gt; bits of int are used to represent Unicode code points and the upper\r\n&gt; (most significant) 11 bits must be zero. Unless otherwise specified,\r\n&gt; the behavior with respect to supplementary characters and surrogate\r\n&gt; char values is as follows:\r\n&gt; \r\n&gt; The methods that only accept a char value cannot support supplementary\r\n&gt; characters. They treat char values from the surrogate ranges as\r\n&gt; undefined characters. For example, Character.isLetter(&#39;\\uD840&#39;)\r\n&gt; returns false, even though this specific value if followed by any\r\n&gt; low-surrogate value in a string would represent a letter. The methods\r\n&gt; that accept an int value support all Unicode characters, including\r\n&gt; supplementary characters. For example, Character.isLetter(0x2F81A)\r\n&gt; returns true because the code point value represents a letter (a CJK\r\n&gt; ideograph). In the Java SE API documentation, Unicode code point is\r\n&gt; used for character values in the range between U+0000 and U+10FFFF,\r\n&gt; and Unicode code unit is used for 16-bit char values that are code\r\n&gt; units of the UTF-16 encoding. For more information on Unicode\r\n&gt; terminology, refer to the Unicode Glossary.\r\n\r\n ","title":"How do I convert unicode codepoints to their character representation?","body":"<ul>\n<li>you want to display a codepoint?\nor</li>\n<li>you want to convert a codepoint to char datatype?</li>\n</ul>\n<p>Well, second part is not possible because codepoint may be of 4 bytes and char datatype can hold only 2 bytes.</p>\n<p>So if it may be more generalized approach to never use char data type in java, use int or String instead.</p>\n<p>What datatype is used to hold code point?\nSingle code point can be hold in an int data types.  A unicode String is technically an array of int, rather than array of char.</p>\n<pre><code>String smiley = new String(new int[] { 0x1F600 }, 0, 1); //int[] array of int codepoints can be converted to string\nSystem.out.println(&quot; print smiley =  &quot;+smiley );\n</code></pre>\n<p>output\nprint smiley =  😀</p>\n<p>If you are using IntelliJ idea, You can copy output smiley and paste within double quoted string.  You will get this &quot;\\uD83D\\uDE00&quot;</p>\n<p>If you print this string you again get a smiley</p>\n<pre><code>System.out.println(&quot;\\uD83D\\uDE00&quot;);\n</code></pre>\n<p>output\n😀</p>\n<p>Why we cannot use single &quot;\\u&quot; to represent smiley within a string?\nBecause when \\u escape was designed, all unicode chars could be represented by 2 bytes or 4 hexadecimal digits. So there are always 4 hexadecimal digits after \\u in a java string literal. To represent a larger value of Unicode you need a larger hexadecimal number but that will break existing java strings. So there java uses same approach as utf-16 representation.</p>\n<p>Following 2 are equivalent.</p>\n<pre><code>String smiley = new String(new int[] { 0x1F600 }, 0, 1); //using single code point number\nString smiley = &quot;\\uD83D\\uDE00&quot;;//split code point in 2 parts of 2 bytes each (utf-16)\n</code></pre>\n<p>Refer to java doc here.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#unicode</a></p>\n<blockquote>\n<p>Unicode Character Representations The char data type (and therefore\nthe value that a Character object encapsulates) are based on the\noriginal Unicode specification, which defined characters as\nfixed-width 16-bit entities. The Unicode Standard has since been\nchanged to allow for characters whose representation requires more\nthan 16 bits. The range of legal code points is now U+0000 to\nU+10FFFF, known as Unicode scalar value. (Refer to the definition of\nthe U+n notation in the Unicode Standard.)</p>\n<p>The set of characters from U+0000 to U+FFFF is sometimes referred to\nas the Basic Multilingual Plane (BMP). Characters whose code points\nare greater than U+FFFF are called supplementary characters. The Java\nplatform uses the UTF-16 representation in char arrays and in the\nString and StringBuffer classes. In this representation, supplementary\ncharacters are represented as a pair of char values, the first from\nthe high-surrogates range, (\\uD800-\\uDBFF), the second from the\nlow-surrogates range (\\uDC00-\\uDFFF).</p>\n<p>A char value, therefore, represents Basic Multilingual Plane (BMP)\ncode points, including the surrogate code points, or code units of the\nUTF-16 encoding. An int value represents all Unicode code points,\nincluding supplementary code points. The lower (least significant) 21\nbits of int are used to represent Unicode code points and the upper\n(most significant) 11 bits must be zero. Unless otherwise specified,\nthe behavior with respect to supplementary characters and surrogate\nchar values is as follows:</p>\n<p>The methods that only accept a char value cannot support supplementary\ncharacters. They treat char values from the surrogate ranges as\nundefined characters. For example, Character.isLetter('\\uD840')\nreturns false, even though this specific value if followed by any\nlow-surrogate value in a string would represent a letter. The methods\nthat accept an int value support all Unicode characters, including\nsupplementary characters. For example, Character.isLetter(0x2F81A)\nreturns true because the code point value represents a letter (a CJK\nideograph). In the Java SE API documentation, Unicode code point is\nused for character values in the range between U+0000 and U+10FFFF,\nand Unicode code unit is used for 16-bit char values that are code\nunits of the UTF-16 encoding. For more information on Unicode\nterminology, refer to the Unicode Glossary.</p>\n</blockquote>\n"}],"owner":{"account_id":2716481,"reputation":7167,"user_id":2343743,"accept_rate":71,"display_name":"David Michael Gang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33908,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":18381015,"answer_count":9,"score":39,"last_activity_date":1681370049,"creation_date":1377175604,"question_id":18380901,"body_markdown":"How do I convert strings representing code points to the appropriate character?\r\n\r\nFor example, I want to have a function which gets `U+00E4` and returns `&#228;`.\r\n\r\nI know that in the character class I have a function `toChars(int codePoint)` which takes an integer but there is no function which takes a string of this type.\r\n\r\nIs there a built in function or do I have to do some transformation on the string to get the integer which I can send to the function?\r\n","title":"How do I convert unicode codepoints to their character representation?","body":"<p>How do I convert strings representing code points to the appropriate character?</p>\n\n<p>For example, I want to have a function which gets <code>U+00E4</code> and returns <code>ä</code>.</p>\n\n<p>I know that in the character class I have a function <code>toChars(int codePoint)</code> which takes an integer but there is no function which takes a string of this type.</p>\n\n<p>Is there a built in function or do I have to do some transformation on the string to get the integer which I can send to the function?</p>\n"},{"tags":["java","rest","pdf","download"],"comments":[{"owner":{"account_id":2884775,"reputation":497,"user_id":2474930,"display_name":"Raj"},"score":0,"creation_date":1563520362,"post_id":57107151,"comment_id":100734452,"body_markdown":"can u try : @Produces(MediaType.APPLICATION_OCTET_STREAM)","body":"can u try : @Produces(MediaType.APPLICATION_OCTET_STREAM)"},{"owner":{"account_id":4904562,"reputation":153,"user_id":3951645,"display_name":"seasagar"},"score":0,"creation_date":1563521680,"post_id":57107151,"comment_id":100735101,"body_markdown":"@Raj I tried the option you suggested but still downloadPDF.json file is getting download and not pdf","body":"@Raj I tried the option you suggested but still downloadPDF.json file is getting download and not pdf"},{"owner":{"account_id":4904562,"reputation":153,"user_id":3951645,"display_name":"seasagar"},"score":0,"creation_date":1563858753,"post_id":57107151,"comment_id":100828805,"body_markdown":"Can somebody please help me with this.","body":"Can somebody please help me with this."},{"owner":{"account_id":2884775,"reputation":497,"user_id":2474930,"display_name":"Raj"},"score":0,"creation_date":1563859819,"post_id":57107151,"comment_id":100829134,"body_markdown":"can you put together ur whole source code in github and share the link ?","body":"can you put together ur whole source code in github and share the link ?"}],"answers":[{"tags":[],"owner":{"account_id":12468919,"reputation":11,"user_id":9077803,"display_name":"Caner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563520442,"creation_date":1563520442,"answer_id":57107321,"question_id":57107151,"body_markdown":"Try this\r\n\r\n                HttpResponse response = HttpContext.Current.Response;\r\n                response.ClearContent();\r\n                response.Clear();\r\n                Response.ContentType = &quot;application/pdf&quot;;\r\n                Response.AppendHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + Path.GetFileName(strPath));\r\n                response.TransmitFile(strPath); //File\r\n                response.Flush();\r\n                response.End();\r\n                Response.ContentType = ContentType;\r\n                Response.AppendHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + Path.GetFileName(strPath));\r\n                Response.WriteFile(strPath);\r\n                Response.End();\r\n\r\n ","title":"Download pdf from restful web services","body":"<p>Try this</p>\n\n<pre><code>            HttpResponse response = HttpContext.Current.Response;\n            response.ClearContent();\n            response.Clear();\n            Response.ContentType = \"application/pdf\";\n            Response.AppendHeader(\"Content-Disposition\", \"attachment; filename=\" + Path.GetFileName(strPath));\n            response.TransmitFile(strPath); //File\n            response.Flush();\n            response.End();\n            Response.ContentType = ContentType;\n            Response.AppendHeader(\"Content-Disposition\", \"attachment; filename=\" + Path.GetFileName(strPath));\n            Response.WriteFile(strPath);\n            Response.End();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2884775,"reputation":497,"user_id":2474930,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563872662,"creation_date":1563872662,"answer_id":57160491,"question_id":57107151,"body_markdown":"Here is a spring boot example.\r\nyou can refer this example https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html and attach the below class in the project\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.http.*;\r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    @Controller\r\n    public class DemoController {\r\n    \r\n    \t@RequestMapping(value=&quot;/getpdf&quot;, method=RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;byte[]&gt; getPDF() {\r\n    \t\tFile file = new File(&quot;sample.pdf&quot;); // change to relative path\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.APPLICATION_PDF);\r\n    \t\tString filename = &quot;output.pdf&quot;;\r\n    \t\theaders.setContentDispositionFormData(filename, filename);\r\n    \t\theaders.setCacheControl(&quot;must-revalidate, post-check=0, pre-check=0&quot;);\r\n    \t\tResponseEntity&lt;byte[]&gt; response = null;\r\n    \t\ttry {\r\n    \t\t\tresponse = new org.springframework.http.ResponseEntity&lt;&gt;(Files.readAllBytes(file.toPath()), headers, org.springframework.http.HttpStatus.OK);\r\n    \t\t} catch (java.io.IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html","title":"Download pdf from restful web services","body":"<p>Here is a spring boot example.\nyou can refer this example <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started-first-application.html</a> and attach the below class in the project</p>\n\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.http.*;\nimport java.io.File;\nimport java.nio.file.Files;\n@Controller\npublic class DemoController {\n\n    @RequestMapping(value=\"/getpdf\", method=RequestMethod.GET)\n    public ResponseEntity&lt;byte[]&gt; getPDF() {\n        File file = new File(\"sample.pdf\"); // change to relative path\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_PDF);\n        String filename = \"output.pdf\";\n        headers.setContentDispositionFormData(filename, filename);\n        headers.setCacheControl(\"must-revalidate, post-check=0, pre-check=0\");\n        ResponseEntity&lt;byte[]&gt; response = null;\n        try {\n            response = new org.springframework.http.ResponseEntity&lt;&gt;(Files.readAllBytes(file.toPath()), headers, org.springframework.http.HttpStatus.OK);\n        } catch (java.io.IOException e) {\n            e.printStackTrace();\n        }\n        return response;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599561814,"creation_date":1599560423,"answer_id":63791868,"question_id":57107151,"body_markdown":"Try this using Spring RestController\r\n\r\n    @PostMapping(value = &quot;/slip&quot;, headers = &quot;Accept=application/json&quot;,\r\n    \t\t\tproduces = &quot;application/pdf&quot;)\r\n    \tpublic ResponseEntity&lt;Resource&gt; generateSalarySlip(HttpServletRequest request,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t   @RequestBody   Locale locale) {\r\n    ...\r\n    ...\r\n    File file = new File(fileName);\r\n    \t\t\tHttpHeaders header = new HttpHeaders();\r\n    \t\t\theader.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n    \r\n    \t\t\theader.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=salaryslip.pdf&quot;);\r\n    \t\t\theader.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n    \t\t\theader.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n    \t\t\theader.add(&quot;Expires&quot;, &quot;0&quot;);\r\n    \t\t \r\n    InputStream targetStream = new FileInputStream(file);\r\n\t\t\tResource resource = new InputStreamResource(targetStream)\r\n    \t\t\treturn ResponseEntity.ok()\r\n    \t\t\t\t\t.headers(header)\r\n    \t\t\t\t\t.contentLength(file.length())\r\n    \t\t\t\t \t\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n    \t\t\t\t\t.body(resource);\r\n    \r\n    }\r\n\r\n","title":"Download pdf from restful web services","body":"<p>Try this using Spring RestController</p>\n<pre><code>@PostMapping(value = &quot;/slip&quot;, headers = &quot;Accept=application/json&quot;,\n            produces = &quot;application/pdf&quot;)\n    public ResponseEntity&lt;Resource&gt; generateSalarySlip(HttpServletRequest request,\n                                                       @RequestBody   Locale locale) {\n...\n...\nFile file = new File(fileName);\n            HttpHeaders header = new HttpHeaders();\n            header.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\n\n            header.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=salaryslip.pdf&quot;);\n            header.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\n            header.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\n            header.add(&quot;Expires&quot;, &quot;0&quot;);\n         \nInputStream targetStream = new FileInputStream(file);\n        Resource resource = new InputStreamResource(targetStream)\n            return ResponseEntity.ok()\n                    .headers(header)\n                    .contentLength(file.length())\n                                    .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\n                    .body(resource);\n\n}\n</code></pre>\n"}],"owner":{"account_id":4904562,"reputation":153,"user_id":3951645,"display_name":"seasagar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1681369395,"creation_date":1563519695,"question_id":57107151,"body_markdown":"I am writing a rest service which will download the pdf when user access this service on users machine. below is the code of my controller class.\r\n\r\nWhen I tried to access below url in browser, it is downloading .JSON file and not PDF file.\r\n\r\n&gt;URL:- http://localhost:8080/test-service/downloadPDF?userId=abcd&amp;requestingLocation=6&amp;orderId=06006030\r\n\r\nI have tried to use same code which was mentioned in below sites. It seems the straight forward code but not sure why it is not working.\r\nhttp://www.java2novice.com/restful-web-services/jax-rs-download-file/\r\nhttps://www.javatpoint.com/jax-rs-file-download-example\r\n\r\n\r\nBelow is method in controller.\r\n\r\n        @GET\r\n        @RequestMapping(value = &quot;/downloadPDF&quot;)\r\n        @Produces(&quot;application/pdf&quot;)\r\n        public @ResponseBody Response downloadDocument(@RequestParam(&quot;userId&quot;) String userId,@RequestParam(&quot;requestingLocation&quot;) String requestinglocation,@RequestParam(&quot;orderId&quot;) String orderId) {\r\n                String path = &quot;C:\\\\opt\\\\autobol\\\\logs\\\\autobol\\\\test2.pdf&quot;;\r\n        \tFile file = new File(path);  \r\n                ResponseBuilder response = Response.ok((Object) file);  \r\n                response.header(&quot;Content-Disposition&quot;,&quot;attachment; filename=\\&quot;javatpoint_pdf.pdf\\&quot;&quot;);  \r\n                return response.build(); \r\n        \t\t\r\n        \t}\r\n\r\nIt should download pdf file\r\n\r\nbelow is the content of downloaded file (file name downloadPDF.json):\r\n\r\n    {  \r\n       &quot;entity&quot;:&quot;C:\\\\opt\\\\autobol\\\\logs\\\\autobol\\\\test2.pdf&quot;,\r\n       &quot;status&quot;:200,\r\n       &quot;metadata&quot;:{  \r\n          &quot;Content-Disposition&quot;:[  \r\n             &quot;attachment; filename=\\&quot;javatpoint_pdf.pdf\\&quot;&quot;\r\n          ]\r\n       },\r\n       &quot;annotations&quot;:null,\r\n       &quot;entityClass&quot;:&quot;java.io.File&quot;,\r\n       &quot;genericType&quot;:null,\r\n       &quot;length&quot;:-1,\r\n       &quot;language&quot;:null,\r\n       &quot;location&quot;:null,\r\n       &quot;lastModified&quot;:null,\r\n       &quot;date&quot;:null,\r\n       &quot;closed&quot;:false,\r\n       &quot;cookies&quot;:{  \r\n    \r\n       },\r\n       &quot;statusInfo&quot;:&quot;OK&quot;,\r\n       &quot;stringHeaders&quot;:{  \r\n          &quot;Content-Disposition&quot;:[  \r\n             &quot;attachment; filename=\\&quot;javatpoint_pdf.pdf\\&quot;&quot;\r\n          ]\r\n       },\r\n       &quot;links&quot;:[  \r\n    \r\n       ],\r\n       &quot;entityTag&quot;:null,\r\n       &quot;allowedMethods&quot;:[  \r\n    \r\n       ],\r\n       &quot;mediaType&quot;:null,\r\n       &quot;headers&quot;:{  \r\n          &quot;Content-Disposition&quot;:[  \r\n             &quot;attachment; filename=\\&quot;javatpoint_pdf.pdf\\&quot;&quot;\r\n          ]\r\n       }\r\n    }\r\n\r\n in downloadPDF.json file","title":"Download pdf from restful web services","body":"<p>I am writing a rest service which will download the pdf when user access this service on users machine. below is the code of my controller class.</p>\n\n<p>When I tried to access below url in browser, it is downloading .JSON file and not PDF file.</p>\n\n<blockquote>\n  <p>URL:- <a href=\"http://localhost:8080/test-service/downloadPDF?userId=abcd&amp;requestingLocation=6&amp;orderId=06006030\" rel=\"nofollow noreferrer\">http://localhost:8080/test-service/downloadPDF?userId=abcd&amp;requestingLocation=6&amp;orderId=06006030</a></p>\n</blockquote>\n\n<p>I have tried to use same code which was mentioned in below sites. It seems the straight forward code but not sure why it is not working.\n<a href=\"http://www.java2novice.com/restful-web-services/jax-rs-download-file/\" rel=\"nofollow noreferrer\">http://www.java2novice.com/restful-web-services/jax-rs-download-file/</a>\n<a href=\"https://www.javatpoint.com/jax-rs-file-download-example\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/jax-rs-file-download-example</a></p>\n\n<p>Below is method in controller.</p>\n\n<pre><code>    @GET\n    @RequestMapping(value = \"/downloadPDF\")\n    @Produces(\"application/pdf\")\n    public @ResponseBody Response downloadDocument(@RequestParam(\"userId\") String userId,@RequestParam(\"requestingLocation\") String requestinglocation,@RequestParam(\"orderId\") String orderId) {\n            String path = \"C:\\\\opt\\\\autobol\\\\logs\\\\autobol\\\\test2.pdf\";\n        File file = new File(path);  \n            ResponseBuilder response = Response.ok((Object) file);  \n            response.header(\"Content-Disposition\",\"attachment; filename=\\\"javatpoint_pdf.pdf\\\"\");  \n            return response.build(); \n\n        }\n</code></pre>\n\n<p>It should download pdf file</p>\n\n<p>below is the content of downloaded file (file name downloadPDF.json):</p>\n\n<pre><code>{  \n   \"entity\":\"C:\\\\opt\\\\autobol\\\\logs\\\\autobol\\\\test2.pdf\",\n   \"status\":200,\n   \"metadata\":{  \n      \"Content-Disposition\":[  \n         \"attachment; filename=\\\"javatpoint_pdf.pdf\\\"\"\n      ]\n   },\n   \"annotations\":null,\n   \"entityClass\":\"java.io.File\",\n   \"genericType\":null,\n   \"length\":-1,\n   \"language\":null,\n   \"location\":null,\n   \"lastModified\":null,\n   \"date\":null,\n   \"closed\":false,\n   \"cookies\":{  \n\n   },\n   \"statusInfo\":\"OK\",\n   \"stringHeaders\":{  \n      \"Content-Disposition\":[  \n         \"attachment; filename=\\\"javatpoint_pdf.pdf\\\"\"\n      ]\n   },\n   \"links\":[  \n\n   ],\n   \"entityTag\":null,\n   \"allowedMethods\":[  \n\n   ],\n   \"mediaType\":null,\n   \"headers\":{  \n      \"Content-Disposition\":[  \n         \"attachment; filename=\\\"javatpoint_pdf.pdf\\\"\"\n      ]\n   }\n}\n</code></pre>\n\n<p>in downloadPDF.json file</p>\n"},{"tags":["java","spring","spring-boot","resttemplate","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":13616336,"reputation":334,"user_id":9822153,"display_name":"Himanshu Jain"},"score":0,"creation_date":1698405110,"post_id":75997781,"comment_id":136404439,"body_markdown":"Did you get a solution for this issue? I am facing the exact same issue. After server restart, the issue does not occur for sometime but later it starts again.","body":"Did you get a solution for this issue? I am facing the exact same issue. After server restart, the issue does not occur for sometime but later it starts again."}],"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1681369314,"creation_date":1681316593,"question_id":75997781,"body_markdown":"Receiving below exception using resttemplate doing a post call.\r\nRestarting the service help the error go away for sometime but it gets back after some requests\r\n\r\n    Caused by: java.lang.IllegalStateException: Connection pool shut down\r\n        at org.apache.http.util.Asserts.check(Asserts.java:34) ~[httpcore-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.requestConnection(PoolingHttpClientConnectionManager.java:269) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:176) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at brave.httpclient.TracingMainExec.execute(TracingMainExec.java:65) ~[brave-instrumentation-httpclient-5.13.9.jar:na]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at brave.httpclient.TracingProtocolExec.execute(TracingProtocolExec.java:66) ~[brave-instrumentation-httpclient-5.13.9.jar:na]\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar:4.5.13]\r\n        at org.springframework.http.client.HttpComponentsStreamingClientHttpRequest.executeInternal(HttpComponentsStreamingClientHttpRequest.java:99) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:437) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at com.vanil.service.windriver.WindRiverTokenUtil.getWindRiverAuthToken(WindRiverTokenUtil.java:43) ~[classes/:na]\r\n        at com.vanil.service.windriver.WindRiverTokenUtil$$FastClassBySpringCGLIB$$493c6bee.invoke(&lt;generated&gt;) ~[classes/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[spring-context-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at com.vanil.service.windriver.WindRiverTokenUtil$$EnhancerBySpringCGLIB$$a2677659.getWindRiverAuthToken(&lt;generated&gt;) ~[classes/:na]\r\n        at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl.createFolder(WindRiverFolderClientImpl.java:35) ~[classes/:na]\r\n        at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl$$FastClassBySpringCGLIB$$51945e24.invoke(&lt;generated&gt;) ~[classes/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:93) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:119) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:163) ~[spring-retry-1.3.1.jar:na]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl$$EnhancerBySpringCGLIB$$f7d3aa92.createFolder(&lt;generated&gt;) ~[classes/:na]\r\n        at com.vanil.service.generate.start.upload.accTaskUploadProvider.createFolderForacc(accTaskUploadProvider.java:40) ~[classes/:na]\r\n        ... 76 common frames omitted\r\n\r\nUsing `httpclient:4.5.13`\r\n\r\nCreating resttempalte\r\n\r\n    @Autowired\r\n        public clientImpl(RestTemplateBuilder restTemplateBuilder) {\r\n            this.restTemplate = restTemplateBuilder.build();\r\n        }\r\n    \r\nConnection pool is not managed manually but depends on default resttemplate and httpclient configs","title":"JAVA java.lang.IllegalStateException: Connection pool shut down","body":"<p>Receiving below exception using resttemplate doing a post call.\nRestarting the service help the error go away for sometime but it gets back after some requests</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Connection pool shut down\n    at org.apache.http.util.Asserts.check(Asserts.java:34) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.requestConnection(PoolingHttpClientConnectionManager.java:269) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:176) ~[httpclient-4.5.13.jar:4.5.13]\n    at brave.httpclient.TracingMainExec.execute(TracingMainExec.java:65) ~[brave-instrumentation-httpclient-5.13.9.jar:na]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar:4.5.13]\n    at brave.httpclient.TracingProtocolExec.execute(TracingProtocolExec.java:66) ~[brave-instrumentation-httpclient-5.13.9.jar:na]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar:4.5.13]\n    at org.springframework.http.client.HttpComponentsStreamingClientHttpRequest.executeInternal(HttpComponentsStreamingClientHttpRequest.java:99) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:437) ~[spring-web-5.3.22.jar:5.3.22]\n    at com.vanil.service.windriver.WindRiverTokenUtil.getWindRiverAuthToken(WindRiverTokenUtil.java:43) ~[classes/:na]\n    at com.vanil.service.windriver.WindRiverTokenUtil$$FastClassBySpringCGLIB$$493c6bee.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.vanil.service.windriver.WindRiverTokenUtil$$EnhancerBySpringCGLIB$$a2677659.getWindRiverAuthToken(&lt;generated&gt;) ~[classes/:na]\n    at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl.createFolder(WindRiverFolderClientImpl.java:35) ~[classes/:na]\n    at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl$$FastClassBySpringCGLIB$$51945e24.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:93) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:119) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:163) ~[spring-retry-1.3.1.jar:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.vanil.service.windriver.folderapi.WindRiverFolderClientImpl$$EnhancerBySpringCGLIB$$f7d3aa92.createFolder(&lt;generated&gt;) ~[classes/:na]\n    at com.vanil.service.generate.start.upload.accTaskUploadProvider.createFolderForacc(accTaskUploadProvider.java:40) ~[classes/:na]\n    ... 76 common frames omitted\n</code></pre>\n<p>Using <code>httpclient:4.5.13</code></p>\n<p>Creating resttempalte</p>\n<pre><code>@Autowired\n    public clientImpl(RestTemplateBuilder restTemplateBuilder) {\n        this.restTemplate = restTemplateBuilder.build();\n    }\n</code></pre>\n<p>Connection pool is not managed manually but depends on default resttemplate and httpclient configs</p>\n"},{"tags":["java","performance","algorithm"],"comments":[{"owner":{"account_id":12725,"reputation":3278,"user_id":25210,"accept_rate":42,"display_name":"questzen"},"score":0,"creation_date":1224573409,"post_id":221001,"comment_id":89661,"body_markdown":"Were there any performance problems using the library functions? If there are none, Character.digit(char, radix) should be sufficient.","body":"Were there any performance problems using the library functions? If there are none, Character.digit(char, radix) should be sufficient."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1224575465,"post_id":221001,"comment_id":89700,"body_markdown":"One thing to consider with this benchmark is that the array will work well *while it&#39;s in cache* - which is great if you&#39;re doing lots of iterations in one go. If you have to wait for a the array to be fetched from main memory, however, a purely computational approach will be quicker.","body":"One thing to consider with this benchmark is that the array will work well <i>while it&#39;s in cache</i> - which is great if you&#39;re doing lots of iterations in one go. If you have to wait for a the array to be fetched from main memory, however, a purely computational approach will be quicker."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1224575507,"post_id":221001,"comment_id":89701,"body_markdown":"In other words: &quot;it depends&quot; :)","body":"In other words: &quot;it depends&quot; :)"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1224575555,"post_id":221001,"comment_id":89702,"body_markdown":"Epaga: Could you publish your benchmark code? I&#39;ve an idea to tweak Greg&#39;s code a little which might make it slightly faster. I&#39;d rather not reinvent the wheel by writing my own benchmark though :)","body":"Epaga: Could you publish your benchmark code? I&#39;ve an idea to tweak Greg&#39;s code a little which might make it slightly faster. I&#39;d rather not reinvent the wheel by writing my own benchmark though :)"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1224573888,"creation_date":1224572440,"answer_id":221012,"question_id":221001,"body_markdown":"A hash table would be relatively slow. This is pretty quick:\r\n\r\n    if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;)\r\n    {\r\n        return c - &#39;0&#39;;\r\n    }\r\n    if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;f&#39;)\r\n    {\r\n        return c - &#39;a&#39; + 10;\r\n    }\r\n    if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;F&#39;)\r\n    {\r\n        return c - &#39;A&#39; + 10;\r\n    }\r\n    throw new IllegalArgumentException();\r\n\r\nAnother option would be to try a switch/case statement. An array might be okay if it&#39;s in cache, but a miss could be expensive.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>A hash table would be relatively slow. This is pretty quick:</p>\n\n<pre><code>if (c &gt;= '0' &amp;&amp; c &lt;= '9')\n{\n    return c - '0';\n}\nif (c &gt;= 'a' &amp;&amp; c &lt;= 'f')\n{\n    return c - 'a' + 10;\n}\nif (c &gt;= 'A' &amp;&amp; c &lt;= 'F')\n{\n    return c - 'A' + 10;\n}\nthrow new IllegalArgumentException();\n</code></pre>\n\n<p>Another option would be to try a switch/case statement. An array might be okay if it's in cache, but a miss could be expensive.</p>\n"},{"tags":[],"owner":{"account_id":11010,"reputation":481,"user_id":21059,"display_name":"Keeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224572537,"creation_date":1224572537,"answer_id":221020,"question_id":221001,"body_markdown":"Character.getNumericValue(char) is another way:\r\n\r\n    char c = &#39;a&#39;;\r\n    System.out.println(c + &quot;-&gt;&quot; + Character.getNumericValue(c));\r\n\r\nPrints &#39;a-&gt;10&#39; like you want for instance. Someone else would have to comment on the efficiency of a static metod call vs a HashMap lookup, or you could check it out for yourself. It seems cleaner/more readable to me though.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>Character.getNumericValue(char) is another way:</p>\n\n<pre><code>char c = 'a';\nSystem.out.println(c + \"-&gt;\" + Character.getNumericValue(c));\n</code></pre>\n\n<p>Prints 'a->10' like you want for instance. Someone else would have to comment on the efficiency of a static metod call vs a HashMap lookup, or you could check it out for yourself. It seems cleaner/more readable to me though.</p>\n"},{"tags":[],"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1224572840,"creation_date":1224572840,"answer_id":221024,"question_id":221001,"body_markdown":"A preinitialised array would be faster than a HashMap. Something like this:\r\n\r\n    int CharValues[&#39;f&#39;-&#39;0&#39;+1] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, ... -1, 10, 11, 12, ...};\r\n\r\n    if (c &lt; &#39;0&#39; || c &gt; &#39;f&#39;) {\r\n        throw new IllegalArgumentException();\r\n    }\r\n    int n = CharValues[c-&#39;0&#39;];\r\n    if (n &lt; 0) {\r\n        throw new IllegalArgumentException();\r\n    }\r\n    // n contains the digit value\r\n\r\nYou should benchmark this method against other methods (such as [Jon Skeet&#39;s](https://stackoverflow.com/questions/221001/performance-question-fastest-way-to-convert-hexadecimal-char-to-its-number-valu#221012) direct method) to determine which will be the fastest for your application.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>A preinitialised array would be faster than a HashMap. Something like this:</p>\n\n<pre><code>int CharValues['f'-'0'+1] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, ... -1, 10, 11, 12, ...};\n\nif (c &lt; '0' || c &gt; 'f') {\n    throw new IllegalArgumentException();\n}\nint n = CharValues[c-'0'];\nif (n &lt; 0) {\n    throw new IllegalArgumentException();\n}\n// n contains the digit value\n</code></pre>\n\n<p>You should benchmark this method against other methods (such as <a href=\"https://stackoverflow.com/questions/221001/performance-question-fastest-way-to-convert-hexadecimal-char-to-its-number-valu#221012\">Jon Skeet's</a> direct method) to determine which will be the fastest for your application.</p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1224574894,"creation_date":1224574894,"answer_id":221071,"question_id":221001,"body_markdown":"simple, but slow:\r\n\r\n    int i = Integer.parseInt(String.ValueOf(c), 16);\r\n\r\nfaster:\r\n\r\n    int i = Character.digit(c, 16);\r\n\r\nI wont use any special code for &quot;performance issues&quot;. If you really often use this, the JIT will create compiled code and execution will become fast. Keep your code clean. You may have a try and write a performace test comparing the execution time from the code above and any special implementation - i bet you wont get significant improvements.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>simple, but slow:</p>\n\n<pre><code>int i = Integer.parseInt(String.ValueOf(c), 16);\n</code></pre>\n\n<p>faster:</p>\n\n<pre><code>int i = Character.digit(c, 16);\n</code></pre>\n\n<p>I wont use any special code for \"performance issues\". If you really often use this, the JIT will create compiled code and execution will become fast. Keep your code clean. You may have a try and write a performace test comparing the execution time from the code above and any special implementation - i bet you wont get significant improvements.</p>\n"},{"tags":[],"owner":{"account_id":143994,"reputation":953,"user_id":352728,"accept_rate":100,"display_name":"pro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1224574917,"creation_date":1224574917,"answer_id":221073,"question_id":221001,"body_markdown":"Using an array should be fastest.\r\n\r\nAn array could be of size 16, 16^2, 16^3, 16^4 etc..\r\n\r\nConverting the number in larger groups than one would give a performance increase.\r\n\r\nThere will be a sweet spot where it is most worthwhile, possibly 4 digits (64k table).\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>Using an array should be fastest.</p>\n\n<p>An array could be of size 16, 16^2, 16^3, 16^4 etc..</p>\n\n<p>Converting the number in larger groups than one would give a performance increase.</p>\n\n<p>There will be a sweet spot where it is most worthwhile, possibly 4 digits (64k table).</p>\n"},{"tags":[],"owner":{"account_id":2414,"reputation":27392,"user_id":3355,"accept_rate":69,"display_name":"Staale"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224576052,"creation_date":1224576052,"answer_id":221111,"question_id":221001,"body_markdown":"I don&#39;t think you can beat a direct array lookup.\r\n\r\n    static final int[] precalc = new int[&#39;f&#39;+1];\r\n    static {\r\n        for (char c=&#39;0&#39;; c&lt;=&#39;9&#39;; c++) precalc[c] = c-&#39;0&#39;;\r\n        for (char c=&#39;A&#39;; c&lt;=&#39;F&#39;; c++) precalc[c] = c-&#39;A&#39;;\r\n        for (char c=&#39;a&#39;; c&lt;=&#39;f&#39;; c++) precalc[c] = c-&#39;a&#39;;\r\n    }\r\n\t\t\r\n    System.out.println(precalc[&#39;f&#39;]);","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>I don't think you can beat a direct array lookup.</p>\n\n<pre><code>static final int[] precalc = new int['f'+1];\nstatic {\n    for (char c='0'; c&lt;='9'; c++) precalc[c] = c-'0';\n    for (char c='A'; c&lt;='F'; c++) precalc[c] = c-'A';\n    for (char c='a'; c&lt;='f'; c++) precalc[c] = c-'a';\n}\n\nSystem.out.println(precalc['f']);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224577000,"creation_date":1224577000,"answer_id":221134,"question_id":221001,"body_markdown":"Here&#39;s my tweaked version of Greg&#39;s code. On my box it&#39;s *marginally* faster - but probably within the noise. It avoids the lower bound check, and doesn&#39;t need to do any subtraction. Creating a 64K array and avoiding *either* bound check appeared to slow things down - but again, with timing like this it&#39;s virtually impossible to be sure what&#39;s real and what&#39;s noise.\r\n\r\n    public class HexParser\r\n    {\r\n        private static final byte VALUES = new int[&#39;f&#39;];\r\n    \r\n        // Easier to get right for bozos like me (Jon) than\r\n        // a hard-coded array :)\r\n        static\r\n        {\r\n            for (int i=0; i &lt; VALUES.length; i++)\r\n            {\r\n                VALUES[i] = (byte) -1;\r\n            }\r\n            for (int i=&#39;0&#39;; i &lt;= &#39;9&#39;; i++)\r\n            {\r\n                VALUES[i] = (byte) i-&#39;0&#39;;\r\n            }\r\n            for (int i=&#39;A&#39;; i &lt;= &#39;F&#39;; i++)\r\n            {\r\n                VALUES[i] = (byte) (i-&#39;A&#39;+10);\r\n            }\r\n            for (int i=&#39;a&#39;; i &lt;= &#39;f&#39;; i++)\r\n            {\r\n                VALUES[i] = (byte) (i-&#39;a&#39;+10);\r\n            }\r\n        }\r\n    \r\n        public static byte parseHexChar(char c)\r\n        {\r\n            if (c &gt; &#39;f&#39;)\r\n            {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            byte ret = VALUES[c];\r\n            if (ret == -1)\r\n            {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>Here's my tweaked version of Greg's code. On my box it's <em>marginally</em> faster - but probably within the noise. It avoids the lower bound check, and doesn't need to do any subtraction. Creating a 64K array and avoiding <em>either</em> bound check appeared to slow things down - but again, with timing like this it's virtually impossible to be sure what's real and what's noise.</p>\n\n<pre><code>public class HexParser\n{\n    private static final byte VALUES = new int['f'];\n\n    // Easier to get right for bozos like me (Jon) than\n    // a hard-coded array :)\n    static\n    {\n        for (int i=0; i &lt; VALUES.length; i++)\n        {\n            VALUES[i] = (byte) -1;\n        }\n        for (int i='0'; i &lt;= '9'; i++)\n        {\n            VALUES[i] = (byte) i-'0';\n        }\n        for (int i='A'; i &lt;= 'F'; i++)\n        {\n            VALUES[i] = (byte) (i-'A'+10);\n        }\n        for (int i='a'; i &lt;= 'f'; i++)\n        {\n            VALUES[i] = (byte) (i-'a'+10);\n        }\n    }\n\n    public static byte parseHexChar(char c)\n    {\n        if (c &gt; 'f')\n        {\n            throw new IllegalArgumentException();\n        }\n        byte ret = VALUES[c];\n        if (ret == -1)\n        {\n            throw new IllegalArgumentException();\n        }\n        return ret;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":143994,"reputation":953,"user_id":352728,"accept_rate":100,"display_name":"pro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1321279328,"creation_date":1229641828,"answer_id":379653,"question_id":221001,"body_markdown":"    int CharValues[256] = \r\n    {\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,0,1,2,3,4,5,6,7,8,9,16,16,16,16,16,16,16,\r\n    16,10,11,12,13,14,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,10,11,12,13,14,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\r\n    16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16\r\n    }\r\n    \r\n    int n = CharValues[c];\r\n    \r\n    if (n == 16)\r\n     throw new IllegalArgumentException();\r\n    \r\n    // n contains the digit value","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<pre><code>int CharValues[256] = \n{\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,0,1,2,3,4,5,6,7,8,9,16,16,16,16,16,16,16,\n16,10,11,12,13,14,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,10,11,12,13,14,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,\n16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16\n}\n\nint n = CharValues[c];\n\nif (n == 16)\n throw new IllegalArgumentException();\n\n// n contains the digit value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2114,"reputation":92355,"user_id":2915,"accept_rate":96,"display_name":"Adam Davis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240947603,"creation_date":1240936431,"answer_id":798803,"question_id":221001,"body_markdown":"I don&#39;t recall seeing this method before, but Mikko Rantanen pointed this equation out in a comment on the question, [Code golf - hex to (raw) binary conversion][1]\r\n\r\n    (char | 32) % 39 - 9\r\n\r\nI don&#39;t know what it would benchmark as (perhaps someone can add it to the benchmark above and run it, but I&#39;m guessing the % kills the performance) - but it&#39;s a neat, simple one-liner for single character hexadecimal to decimal conversion.  Handles 0-9, A-F, a-f.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/795027/code-golf-hex-to-raw-binary-conversion","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>I don't recall seeing this method before, but Mikko Rantanen pointed this equation out in a comment on the question, <a href=\"https://stackoverflow.com/questions/795027/code-golf-hex-to-raw-binary-conversion\">Code golf - hex to (raw) binary conversion</a></p>\n\n<pre><code>(char | 32) % 39 - 9\n</code></pre>\n\n<p>I don't know what it would benchmark as (perhaps someone can add it to the benchmark above and run it, but I'm guessing the % kills the performance) - but it's a neat, simple one-liner for single character hexadecimal to decimal conversion.  Handles 0-9, A-F, a-f.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1240951414,"creation_date":1240951414,"answer_id":799734,"question_id":221001,"body_markdown":"It worth noting that you are realing timing the % operation in most of your tests. This operation takes about the same amount of time as some of the other options.\r\n\r\n    private static byte lookUpTest(int i) {\r\n        return (byte) cs[i%cs.length];\r\n    }\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>It worth noting that you are realing timing the % operation in most of your tests. This operation takes about the same amount of time as some of the other options.</p>\n\n<pre><code>private static byte lookUpTest(int i) {\n    return (byte) cs[i%cs.length];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2938842,"reputation":106,"user_id":2517201,"display_name":"mauricio_martins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374897994,"creation_date":1374897994,"answer_id":17894129,"question_id":221001,"body_markdown":"Dude, I&#39;m microcontroller programmer and in this tiny world, speed really matters. The fastest way to convert an &#39;ASCII&#39; digit to byte (from &#39;A&#39; to 0x0A) is using this small piece of code\r\n\r\n\r\n    c|=0x20;\r\n    return c&lt;=&#39;9&#39;? c+0xD0 : c+0xA9;\r\n\r\n\r\nThe magic of this command is simple, if you look the ascii table you&#39;ll find numbers starting with 0x3_, and letters at columns 0x4_ and 0x6_ respectively. \r\n1) if you &quot;or&quot; the incoming char (variable &quot;c&quot;) with 0x20, you&#39;ll be never changing numbers... but for letters you&#39;ll be converting uppercase to lowercase. Since we are looking for only A..F(a..f) values... I don&#39;t care others.\r\n2) now the magic. To avoid subtractions, I use additive operators. the 0xD0 is the same of -0x30, and 0xA9 is the same of -&#39;a&#39;+10; \r\n\r\nthe branch instruction generated by the comparison is pretty simple and didn&#39;t take the overhead of table lookups and neither &quot;mod&quot; or other operators!\r\n\r\nEnjoy... ","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>Dude, I'm microcontroller programmer and in this tiny world, speed really matters. The fastest way to convert an 'ASCII' digit to byte (from 'A' to 0x0A) is using this small piece of code</p>\n\n<pre><code>c|=0x20;\nreturn c&lt;='9'? c+0xD0 : c+0xA9;\n</code></pre>\n\n<p>The magic of this command is simple, if you look the ascii table you'll find numbers starting with 0x3_, and letters at columns 0x4_ and 0x6_ respectively. \n1) if you \"or\" the incoming char (variable \"c\") with 0x20, you'll be never changing numbers... but for letters you'll be converting uppercase to lowercase. Since we are looking for only A..F(a..f) values... I don't care others.\n2) now the magic. To avoid subtractions, I use additive operators. the 0xD0 is the same of -0x30, and 0xA9 is the same of -'a'+10; </p>\n\n<p>the branch instruction generated by the comparison is pretty simple and didn't take the overhead of table lookups and neither \"mod\" or other operators!</p>\n\n<p>Enjoy... </p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374899041,"creation_date":1374899041,"answer_id":17894227,"question_id":221001,"body_markdown":"A table of 16-bit values where you could look up two digits at a time should be quicker than the 8-bit-value arrays suggested in other answers. You would be iterating the data twice as quickly, accessing the array half as often, and accessing shorts instead of bytes, all of which gives the CPU less to do and more to do it with.\r\n\r\nThe 8-bit values would be precomputed as `x[Integer.toHexString(i).charAt[0]] = i` for `0 &lt;= i &lt; 256`. Then you would just lookup `x[c]` for each char `c` in the hex string. You would probably want to duplicate the entries for both upper-case and lower-case variants of each hex value.\r\n\r\nA table of 32-bit values should be even quicker, depending on how much space you can afford.","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>A table of 16-bit values where you could look up two digits at a time should be quicker than the 8-bit-value arrays suggested in other answers. You would be iterating the data twice as quickly, accessing the array half as often, and accessing shorts instead of bytes, all of which gives the CPU less to do and more to do it with.</p>\n\n<p>The 8-bit values would be precomputed as <code>x[Integer.toHexString(i).charAt[0]] = i</code> for <code>0 &lt;= i &lt; 256</code>. Then you would just lookup <code>x[c]</code> for each char <code>c</code> in the hex string. You would probably want to duplicate the entries for both upper-case and lower-case variants of each hex value.</p>\n\n<p>A table of 32-bit values should be even quicker, depending on how much space you can afford.</p>\n"},{"tags":[],"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681366285,"creation_date":1561992179,"answer_id":56837705,"question_id":221001,"body_markdown":"According to my timings the following outperforms Jon Skeet&#39;s already pretty efficient method.\r\n\r\nThe idea is to take advantage of the test on range `&#39;A&#39;..&#39;F&#39;` to also discard one of the ranges `&#39;0&#39;..&#39;9&#39;` or `&#39;a&#39;..&#39;f&#39;`.\r\n\r\n    public static int hex2Dig2(char c) {\r\n        if (c &lt; &#39;A&#39;) {\r\n            if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;)\r\n                return c - &#39;0&#39;;\r\n        } else if (c &gt; &#39;F&#39;) {\r\n            if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;f&#39;)\r\n                return c - &#39;a&#39; + 10;\r\n        } else {\r\n            return c - &#39;A&#39; + 10;\r\n        }\r\n        return -1; // or throw exception\r\n    }\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>According to my timings the following outperforms Jon Skeet's already pretty efficient method.</p>\n<p>The idea is to take advantage of the test on range <code>'A'..'F'</code> to also discard one of the ranges <code>'0'..'9'</code> or <code>'a'..'f'</code>.</p>\n<pre><code>public static int hex2Dig2(char c) {\n    if (c &lt; 'A') {\n        if (c &gt;= '0' &amp;&amp; c &lt;= '9')\n            return c - '0';\n    } else if (c &gt; 'F') {\n        if (c &gt;= 'a' &amp;&amp; c &lt;= 'f')\n            return c - 'a' + 10;\n    } else {\n        return c - 'A' + 10;\n    }\n    return -1; // or throw exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681369234,"creation_date":1681369234,"answer_id":76002516,"question_id":221001,"body_markdown":"How about this method?\r\n\r\n```java\r\nstatic byte unhex(int i) {\r\n    return (byte) (i &gt;= 0x30 &amp;&amp; i &lt;= 0x39\r\n                   ? 0x30 - i\r\n                   : i &gt;= 0x41 &amp;&amp; i &lt;= 0x46\r\n                   ? i - 0x37\r\n                   : i - 0x57);\r\n}\r\n```","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>How about this method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>static byte unhex(int i) {\n    return (byte) (i &gt;= 0x30 &amp;&amp; i &lt;= 0x39\n                   ? 0x30 - i\n                   : i &gt;= 0x41 &amp;&amp; i &lt;= 0x46\n                   ? i - 0x37\n                   : i - 0x57);\n}\n</code></pre>\n"}],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7769,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":221024,"answer_count":14,"score":11,"last_activity_date":1681369234,"creation_date":1224572023,"question_id":221001,"body_markdown":"I want to convert from char representing a hexadecimal value (in upper or lower case) to byte, like\r\n\r\n    &#39;0&#39;-&gt;0, &#39;1&#39; -&gt; 1, &#39;A&#39; -&gt; 10, &#39;a&#39; -&gt; 10, &#39;f&#39; -&gt; 15 etc...\r\n\r\nI will be calling this method extremely often, so performance is important. Is there a faster way than to use a pre-initialized `HashMap&lt;Character,Byte&gt;` to get the value from?\r\n\r\n**Answer**\r\n\r\nIt seems like &lt;s&gt;it&#39;s a tossup between using a switch-case and Jon Skeet&#39;s direct computing solution - the switch-case solution seems to edge out ever so slightly, though.&lt;/s&gt; Greg&#39;s array method wins out. Here are the performance results (in ms) for 200,000,000 runs of the various methods:\r\n\r\n    Character.getNumericValue:\r\n    8360\r\n\r\n    Character.digit:\r\n    8453\r\n\r\n    HashMap&lt;Character,Byte&gt;:\r\n    15109\r\n\r\n    Greg&#39;s Array Method:\r\n    6656\r\n\r\n    JonSkeet&#39;s Direct Method:\r\n    7344\r\n\r\n    Switch:\r\n    7281\r\n\r\nThanks guys!\r\n\r\n**Benchmark method code**\r\n\r\nHere ya go, JonSkeet, you old competitor. ;-)\r\n\r\n    public class ScratchPad {\r\n    \r\n        private static final int NUMBER_OF_RUNS = 200000000;\r\n    \r\n        static byte res;\r\n        \r\n        static HashMap&lt;Character, Byte&gt; map = new HashMap&lt;Character, Byte&gt;() {{\r\n            put( Character.valueOf( &#39;0&#39; ), Byte.valueOf( (byte )0 ));\r\n            put( Character.valueOf( &#39;1&#39; ), Byte.valueOf( (byte )1 ));\r\n            put( Character.valueOf( &#39;2&#39; ), Byte.valueOf( (byte )2 ));\r\n            put( Character.valueOf( &#39;3&#39; ), Byte.valueOf( (byte )3 ));\r\n            put( Character.valueOf( &#39;4&#39; ), Byte.valueOf( (byte )4 ));\r\n            put( Character.valueOf( &#39;5&#39; ), Byte.valueOf( (byte )5 ));\r\n            put( Character.valueOf( &#39;6&#39; ), Byte.valueOf( (byte )6 ));\r\n            put( Character.valueOf( &#39;7&#39; ), Byte.valueOf( (byte )7 ));\r\n            put( Character.valueOf( &#39;8&#39; ), Byte.valueOf( (byte )8 ));\r\n            put( Character.valueOf( &#39;9&#39; ), Byte.valueOf( (byte )9 ));\r\n            put( Character.valueOf( &#39;a&#39; ), Byte.valueOf( (byte )10 ));\r\n            put( Character.valueOf( &#39;b&#39; ), Byte.valueOf( (byte )11 ));\r\n            put( Character.valueOf( &#39;c&#39; ), Byte.valueOf( (byte )12 ));\r\n            put( Character.valueOf( &#39;d&#39; ), Byte.valueOf( (byte )13 ));\r\n            put( Character.valueOf( &#39;e&#39; ), Byte.valueOf( (byte )14 ));\r\n            put( Character.valueOf( &#39;f&#39; ), Byte.valueOf( (byte )15 ));\r\n            put( Character.valueOf( &#39;A&#39; ), Byte.valueOf( (byte )10 ));\r\n            put( Character.valueOf( &#39;B&#39; ), Byte.valueOf( (byte )11 ));\r\n            put( Character.valueOf( &#39;C&#39; ), Byte.valueOf( (byte )12 ));\r\n            put( Character.valueOf( &#39;D&#39; ), Byte.valueOf( (byte )13 ));\r\n            put( Character.valueOf( &#39;E&#39; ), Byte.valueOf( (byte )14 ));\r\n            put( Character.valueOf( &#39;F&#39; ), Byte.valueOf( (byte )15 ));\r\n        }};\r\n        static int[] charValues = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, -1, -1, -1, -1, -1, 10, 11, 12, 13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,\r\n                        -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10, 11, 12, 13,14,15};\r\n        static char[] cs = new char[]{&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n        \r\n        public static void main(String args[]) throws Exception {\r\n            long time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                res = getNumericValue( i );\r\n            }\r\n            System.out.println( &quot;Character.getNumericValue:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                res = getDigit( i );\r\n            }\r\n            System.out.println( &quot;Character.digit:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                try {\r\n                    res = getValueFromArray( i );\r\n                } catch (IllegalArgumentException e) {\r\n                }\r\n            }\r\n            System.out.println( &quot;Array:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                res = getValueFromHashMap( i );\r\n            }\r\n            System.out.println( &quot;HashMap&lt;Character,Byte&gt;:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                char c = cs[i%cs.length];\r\n                res = getValueFromComputeMethod( c );        \r\n            }\r\n            System.out.println( &quot;JonSkeet&#39;s Direct Method:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n            time = System.currentTimeMillis();\r\n            for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\r\n                res = getValueFromSwitch( i );\r\n    \r\n            }\r\n            System.out.println( &quot;Switch:&quot; );\r\n            System.out.println( System.currentTimeMillis()-time );\r\n        }\r\n    \r\n        private static byte getValueFromSwitch( int i ) {\r\n            byte res;\r\n            char ch = cs[i%cs.length];\r\n            switch( ch ) {\r\n                case &#39;0&#39;:\r\n                    res = 0;\r\n                    break;\r\n                case &#39;1&#39;:\r\n                    res = 1;\r\n                    break;\r\n                case &#39;2&#39;:\r\n                    res = 2;\r\n                    break;\r\n                case &#39;3&#39;:\r\n                    res = 3;\r\n                    break;\r\n                case &#39;4&#39;:\r\n                    res = 4;\r\n                    break;\r\n                case &#39;5&#39;:\r\n                    res = 5;\r\n                    break;\r\n                case &#39;6&#39;:\r\n                    res = 6;\r\n                    break;\r\n                case &#39;7&#39;:\r\n                    res = 7;\r\n                    break;\r\n                case &#39;8&#39;:\r\n                    res = 8;\r\n                    break;\r\n                case &#39;9&#39;:\r\n                    res = 9;\r\n                    break;\r\n                case &#39;a&#39;:\r\n                case &#39;A&#39;:\r\n                    res = 10;\r\n                    break;\r\n                case &#39;b&#39;:\r\n                case &#39;B&#39;:    \r\n                    res = 11;\r\n                    break;\r\n                case &#39;c&#39;:\r\n                case &#39;C&#39;:    \r\n                    res = 12;\r\n                    break;\r\n                case &#39;d&#39;:\r\n                case &#39;D&#39;:    \r\n                    res = 13;\r\n                    break;\r\n                case &#39;e&#39;:\r\n                case &#39;E&#39;:    \r\n                    res = 14;\r\n                    break;\r\n                case &#39;f&#39;:\r\n                case &#39;F&#39;:    \r\n                    res = 15;\r\n                    break;\r\n                default:\r\n                    throw new RuntimeException(&quot;unknown hex character: &quot; + ch );\r\n            }\r\n            return res;\r\n        }\r\n    \r\n        private static byte getValueFromComputeMethod( char c ) {\r\n            byte result = 0;\r\n            if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;)\r\n            {\r\n                result =  (byte)(c - &#39;0&#39;);\r\n            }\r\n            if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;f&#39;)\r\n            {\r\n                result = (byte)(c - &#39;a&#39; + 10);\r\n            }\r\n            if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;F&#39;)\r\n            {\r\n                result =  (byte)(c - &#39;A&#39; + 10);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private static byte getValueFromHashMap( int i ) {\r\n            return map.get( Character.valueOf( cs[i%cs.length] ) ).byteValue();\r\n        }\r\n    \r\n        private static byte getValueFromArray( int i ) {\r\n            char c = cs[i%cs.length];\r\n            if (c &lt; &#39;0&#39; || c &gt; &#39;f&#39;) {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            byte result = (byte)charValues[c-&#39;0&#39;];\r\n            if (res &lt; 0) {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private static byte getDigit( int i ) {\r\n            return (byte)Character.digit( cs[i%cs.length], 16 );\r\n        }\r\n    \r\n        private static byte getNumericValue( int i ) {\r\n            return (byte)Character.getNumericValue( cs[i%cs.length] );\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Performance question: Fastest way to convert hexadecimal char to its number value in Java?","body":"<p>I want to convert from char representing a hexadecimal value (in upper or lower case) to byte, like</p>\n\n<pre><code>'0'-&gt;0, '1' -&gt; 1, 'A' -&gt; 10, 'a' -&gt; 10, 'f' -&gt; 15 etc...\n</code></pre>\n\n<p>I will be calling this method extremely often, so performance is important. Is there a faster way than to use a pre-initialized <code>HashMap&lt;Character,Byte&gt;</code> to get the value from?</p>\n\n<p><strong>Answer</strong></p>\n\n<p>It seems like <s>it's a tossup between using a switch-case and Jon Skeet's direct computing solution - the switch-case solution seems to edge out ever so slightly, though.</s> Greg's array method wins out. Here are the performance results (in ms) for 200,000,000 runs of the various methods:</p>\n\n<pre><code>Character.getNumericValue:\n8360\n\nCharacter.digit:\n8453\n\nHashMap&lt;Character,Byte&gt;:\n15109\n\nGreg's Array Method:\n6656\n\nJonSkeet's Direct Method:\n7344\n\nSwitch:\n7281\n</code></pre>\n\n<p>Thanks guys!</p>\n\n<p><strong>Benchmark method code</strong></p>\n\n<p>Here ya go, JonSkeet, you old competitor. ;-)</p>\n\n<pre><code>public class ScratchPad {\n\n    private static final int NUMBER_OF_RUNS = 200000000;\n\n    static byte res;\n\n    static HashMap&lt;Character, Byte&gt; map = new HashMap&lt;Character, Byte&gt;() {{\n        put( Character.valueOf( '0' ), Byte.valueOf( (byte )0 ));\n        put( Character.valueOf( '1' ), Byte.valueOf( (byte )1 ));\n        put( Character.valueOf( '2' ), Byte.valueOf( (byte )2 ));\n        put( Character.valueOf( '3' ), Byte.valueOf( (byte )3 ));\n        put( Character.valueOf( '4' ), Byte.valueOf( (byte )4 ));\n        put( Character.valueOf( '5' ), Byte.valueOf( (byte )5 ));\n        put( Character.valueOf( '6' ), Byte.valueOf( (byte )6 ));\n        put( Character.valueOf( '7' ), Byte.valueOf( (byte )7 ));\n        put( Character.valueOf( '8' ), Byte.valueOf( (byte )8 ));\n        put( Character.valueOf( '9' ), Byte.valueOf( (byte )9 ));\n        put( Character.valueOf( 'a' ), Byte.valueOf( (byte )10 ));\n        put( Character.valueOf( 'b' ), Byte.valueOf( (byte )11 ));\n        put( Character.valueOf( 'c' ), Byte.valueOf( (byte )12 ));\n        put( Character.valueOf( 'd' ), Byte.valueOf( (byte )13 ));\n        put( Character.valueOf( 'e' ), Byte.valueOf( (byte )14 ));\n        put( Character.valueOf( 'f' ), Byte.valueOf( (byte )15 ));\n        put( Character.valueOf( 'A' ), Byte.valueOf( (byte )10 ));\n        put( Character.valueOf( 'B' ), Byte.valueOf( (byte )11 ));\n        put( Character.valueOf( 'C' ), Byte.valueOf( (byte )12 ));\n        put( Character.valueOf( 'D' ), Byte.valueOf( (byte )13 ));\n        put( Character.valueOf( 'E' ), Byte.valueOf( (byte )14 ));\n        put( Character.valueOf( 'F' ), Byte.valueOf( (byte )15 ));\n    }};\n    static int[] charValues = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -1, -1, -1, -1, -1, -1, -1, 10, 11, 12, 13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,\n                    -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10, 11, 12, 13,14,15};\n    static char[] cs = new char[]{'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f','A','B','C','D','E','F'};\n\n    public static void main(String args[]) throws Exception {\n        long time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            res = getNumericValue( i );\n        }\n        System.out.println( \"Character.getNumericValue:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            res = getDigit( i );\n        }\n        System.out.println( \"Character.digit:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            try {\n                res = getValueFromArray( i );\n            } catch (IllegalArgumentException e) {\n            }\n        }\n        System.out.println( \"Array:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            res = getValueFromHashMap( i );\n        }\n        System.out.println( \"HashMap&lt;Character,Byte&gt;:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            char c = cs[i%cs.length];\n            res = getValueFromComputeMethod( c );        \n        }\n        System.out.println( \"JonSkeet's Direct Method:\" );\n        System.out.println( System.currentTimeMillis()-time );\n        time = System.currentTimeMillis();\n        for( int i = 0; i &lt; NUMBER_OF_RUNS; i++ ) {\n            res = getValueFromSwitch( i );\n\n        }\n        System.out.println( \"Switch:\" );\n        System.out.println( System.currentTimeMillis()-time );\n    }\n\n    private static byte getValueFromSwitch( int i ) {\n        byte res;\n        char ch = cs[i%cs.length];\n        switch( ch ) {\n            case '0':\n                res = 0;\n                break;\n            case '1':\n                res = 1;\n                break;\n            case '2':\n                res = 2;\n                break;\n            case '3':\n                res = 3;\n                break;\n            case '4':\n                res = 4;\n                break;\n            case '5':\n                res = 5;\n                break;\n            case '6':\n                res = 6;\n                break;\n            case '7':\n                res = 7;\n                break;\n            case '8':\n                res = 8;\n                break;\n            case '9':\n                res = 9;\n                break;\n            case 'a':\n            case 'A':\n                res = 10;\n                break;\n            case 'b':\n            case 'B':    \n                res = 11;\n                break;\n            case 'c':\n            case 'C':    \n                res = 12;\n                break;\n            case 'd':\n            case 'D':    \n                res = 13;\n                break;\n            case 'e':\n            case 'E':    \n                res = 14;\n                break;\n            case 'f':\n            case 'F':    \n                res = 15;\n                break;\n            default:\n                throw new RuntimeException(\"unknown hex character: \" + ch );\n        }\n        return res;\n    }\n\n    private static byte getValueFromComputeMethod( char c ) {\n        byte result = 0;\n        if (c &gt;= '0' &amp;&amp; c &lt;= '9')\n        {\n            result =  (byte)(c - '0');\n        }\n        if (c &gt;= 'a' &amp;&amp; c &lt;= 'f')\n        {\n            result = (byte)(c - 'a' + 10);\n        }\n        if (c &gt;= 'A' &amp;&amp; c &lt;= 'F')\n        {\n            result =  (byte)(c - 'A' + 10);\n        }\n        return result;\n    }\n\n    private static byte getValueFromHashMap( int i ) {\n        return map.get( Character.valueOf( cs[i%cs.length] ) ).byteValue();\n    }\n\n    private static byte getValueFromArray( int i ) {\n        char c = cs[i%cs.length];\n        if (c &lt; '0' || c &gt; 'f') {\n            throw new IllegalArgumentException();\n        }\n        byte result = (byte)charValues[c-'0'];\n        if (res &lt; 0) {\n            throw new IllegalArgumentException();\n        }\n        return result;\n    }\n\n    private static byte getDigit( int i ) {\n        return (byte)Character.digit( cs[i%cs.length], 16 );\n    }\n\n    private static byte getNumericValue( int i ) {\n        return (byte)Character.getNumericValue( cs[i%cs.length] );\n    }\n\n}\n</code></pre>\n"},{"tags":["java","algolia"],"comments":[{"owner":{"account_id":18636801,"reputation":8531,"user_id":13583510,"display_name":"cmgchess"},"score":0,"creation_date":1682575272,"post_id":76001157,"comment_id":134238083,"body_markdown":"did you manage to fix it","body":"did you manage to fix it"},{"owner":{"account_id":6362586,"reputation":365,"user_id":4937624,"display_name":"Spartacus"},"score":0,"creation_date":1682575465,"post_id":76001157,"comment_id":134238116,"body_markdown":"Yes i could that, thanks. BTW, do you have any example/sample using typescript?","body":"Yes i could that, thanks. BTW, do you have any example/sample using typescript?"},{"owner":{"account_id":18636801,"reputation":8531,"user_id":13583510,"display_name":"cmgchess"},"score":0,"creation_date":1682575637,"post_id":76001157,"comment_id":134238137,"body_markdown":"in the docs you can look at the [javascript section](https://www.algolia.com/doc/api-reference/api-parameters/filters/?client=javascript#apply-filters-on-a-search-query). typescript javascript both use the same npm package. also you could vote/accept answers if it helped so others can also know if worked :)","body":"in the docs you can look at the <a href=\"https://www.algolia.com/doc/api-reference/api-parameters/filters/?client=javascript#apply-filters-on-a-search-query\" rel=\"nofollow noreferrer\">javascript section</a>. typescript javascript both use the same npm package. also you could vote/accept answers if it helped so others can also know if worked :)"}],"answers":[{"tags":[],"owner":{"account_id":18636801,"reputation":8531,"user_id":13583510,"display_name":"cmgchess"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681368986,"creation_date":1681368986,"answer_id":76002485,"question_id":76001157,"body_markdown":"It seems that you have not configured your [`attributesForFaceting`][1]. `authors` should be set as an attribute for faceting. Whatever filter you use make sure you do the above. You can do this programmatically or via the Algolia Dashboard (In the index configuration -&gt; Facets in FILTERING AND FACETING section). After doing that try\r\n\r\n```java\r\nQuery query = new Query();\r\nquery.setFilters(&quot;authors:&#39;John Davidson&#39;&quot;);\r\n\r\nSearchResult&lt;?&gt; result = index.search(query);\r\n```\r\nby the way if you do like \r\n```java\r\nQuery query = new Query(&quot;authors&quot;);\r\n```\r\nit means you are searching for the string/query &quot;authors&quot; in the index. So you will naturally get 0 hits since none of the objects have that string. Your second example worked because you are overriding it to &quot;John Davidson&quot; using `setQuery`. Now it will search for objects having the string John Davidson and give you the hits. You can see for yourself if you print out the result and check the `query` field.\r\n\r\nIf you want to search by multiple authors you can use query language like `OR`,`AND` and so on.\r\n```javascript\r\nquery.setFilters(&quot;authors:&#39;John Davidson&#39; OR authors:&#39;Nicole Swift&#39;&quot;);\r\n```\r\nyou can see the [docs][2] for that\r\n\r\nalternatively you can use [`facetFilters`][3] API where you can write array like notation\r\n\r\n```javascript\r\nquery.setFacetFilters(Arrays.asList(Arrays.asList(&quot;authors:John Davidson&quot;,&quot;authors:Nicole Swift&quot;)));\r\n```\r\n\r\nbut for any of that to work you need to set the attributes for faceting\r\n\r\n  [1]: https://www.algolia.com/doc/api-reference/api-parameters/attributesForFaceting/\r\n  [2]: https://www.algolia.com/doc/api-reference/api-parameters/filters/?client=java\r\n  [3]: https://www.algolia.com/doc/api-reference/api-parameters/facetFilters/#simple-or-filter","title":"Algolia search query by field not working","body":"<p>It seems that you have not configured your <a href=\"https://www.algolia.com/doc/api-reference/api-parameters/attributesForFaceting/\" rel=\"nofollow noreferrer\"><code>attributesForFaceting</code></a>. <code>authors</code> should be set as an attribute for faceting. Whatever filter you use make sure you do the above. You can do this programmatically or via the Algolia Dashboard (In the index configuration -&gt; Facets in FILTERING AND FACETING section). After doing that try</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query();\nquery.setFilters(&quot;authors:'John Davidson'&quot;);\n\nSearchResult&lt;?&gt; result = index.search(query);\n</code></pre>\n<p>by the way if you do like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query(&quot;authors&quot;);\n</code></pre>\n<p>it means you are searching for the string/query &quot;authors&quot; in the index. So you will naturally get 0 hits since none of the objects have that string. Your second example worked because you are overriding it to &quot;John Davidson&quot; using <code>setQuery</code>. Now it will search for objects having the string John Davidson and give you the hits. You can see for yourself if you print out the result and check the <code>query</code> field.</p>\n<p>If you want to search by multiple authors you can use query language like <code>OR</code>,<code>AND</code> and so on.</p>\n<pre class=\"lang-js prettyprint-override\"><code>query.setFilters(&quot;authors:'John Davidson' OR authors:'Nicole Swift'&quot;);\n</code></pre>\n<p>you can see the <a href=\"https://www.algolia.com/doc/api-reference/api-parameters/filters/?client=java\" rel=\"nofollow noreferrer\">docs</a> for that</p>\n<p>alternatively you can use <a href=\"https://www.algolia.com/doc/api-reference/api-parameters/facetFilters/#simple-or-filter\" rel=\"nofollow noreferrer\"><code>facetFilters</code></a> API where you can write array like notation</p>\n<pre class=\"lang-js prettyprint-override\"><code>query.setFacetFilters(Arrays.asList(Arrays.asList(&quot;authors:John Davidson&quot;,&quot;authors:Nicole Swift&quot;)));\n</code></pre>\n<p>but for any of that to work you need to set the attributes for faceting</p>\n"}],"owner":{"account_id":6362586,"reputation":365,"user_id":4937624,"display_name":"Spartacus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681369206,"creation_date":1681352598,"question_id":76001157,"body_markdown":"I have an index like the below:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;startDateTime&quot;: &quot;2023-04-13 02:10:51&quot;,\r\n    &quot;eventType&quot;: &quot;Book&quot;,\r\n    &quot;event&quot;: &quot;ABC Launch&quot;,\r\n    &quot;authors&quot;: &quot;Nick Leeson&quot;,\r\n    &quot;startTime&quot;: 1681351851,\r\n    &quot;eventID&quot;: 100\r\n  },\r\n  {\r\n  &quot;startDateTime&quot;: &quot;2023-04-13 02:13:00&quot;,\r\n  &quot;eventType&quot;: &quot;Book&quot;,\r\n  &quot;event&quot;: &quot;XYZ Launch&quot;,\r\n  &quot;authors&quot;: &quot;John Davidson&quot;,\r\n  &quot;startTime&quot;: 1681351980,\r\n  &quot;eventID&quot;: 101\r\n  },\r\n  {\r\n  &quot;startDateTime&quot;: &quot;2023-04-13 04:26:20&quot;,\r\n  &quot;eventType&quot;: &quot;Book&quot;,\r\n  &quot;event&quot;: &quot;NEW Launch&quot;,\r\n  &quot;authors&quot;: &quot;Nicole Swift&quot;,\r\n  &quot;startTime&quot;: 1681359980,\r\n  &quot;eventID&quot;: 102\r\n  },\r\n  {\r\n  &quot;startDateTime&quot;: &quot;2023-04-13 07:13:00&quot;,\r\n  &quot;eventType&quot;: &quot;Book&quot;,\r\n  &quot;event&quot;: &quot;Kids Launch&quot;,\r\n  &quot;authors&quot;: &quot;Timothy Smith&quot;,\r\n  &quot;startTime&quot;: 1681369980,\r\n  &quot;eventID&quot;: 103\r\n  }\r\n]\r\n```\r\nWhen I try to search by &quot;authors&quot; using java sdk, no results are returned.\r\nMy code looks like:\r\n\r\n```\r\nQuery query = new Query(&quot;authors&quot;);\r\nquery.setFilters(&quot;authors:&#39;John Davidson&#39;&quot;);\r\n\r\nSearchResult&lt;?&gt; result = index.search(query);\r\n```\r\nThe above result returns 0 hits. However the below query works:\r\n\r\n```\r\nQuery query = new Query(&quot;authors&quot;);\r\nquery.setQuery(&quot;John Davidson&quot;);\r\n\r\nSearchResult&lt;?&gt; result = index.search(query);\r\n```\r\n\r\nCan anyone please help me to understand what could be the issue? Also if I want to search multiple authors in a single query how can I do that?\r\n\r\nThanks","title":"Algolia search query by field not working","body":"<p>I have an index like the below:</p>\n<pre><code>[\n  {\n    &quot;startDateTime&quot;: &quot;2023-04-13 02:10:51&quot;,\n    &quot;eventType&quot;: &quot;Book&quot;,\n    &quot;event&quot;: &quot;ABC Launch&quot;,\n    &quot;authors&quot;: &quot;Nick Leeson&quot;,\n    &quot;startTime&quot;: 1681351851,\n    &quot;eventID&quot;: 100\n  },\n  {\n  &quot;startDateTime&quot;: &quot;2023-04-13 02:13:00&quot;,\n  &quot;eventType&quot;: &quot;Book&quot;,\n  &quot;event&quot;: &quot;XYZ Launch&quot;,\n  &quot;authors&quot;: &quot;John Davidson&quot;,\n  &quot;startTime&quot;: 1681351980,\n  &quot;eventID&quot;: 101\n  },\n  {\n  &quot;startDateTime&quot;: &quot;2023-04-13 04:26:20&quot;,\n  &quot;eventType&quot;: &quot;Book&quot;,\n  &quot;event&quot;: &quot;NEW Launch&quot;,\n  &quot;authors&quot;: &quot;Nicole Swift&quot;,\n  &quot;startTime&quot;: 1681359980,\n  &quot;eventID&quot;: 102\n  },\n  {\n  &quot;startDateTime&quot;: &quot;2023-04-13 07:13:00&quot;,\n  &quot;eventType&quot;: &quot;Book&quot;,\n  &quot;event&quot;: &quot;Kids Launch&quot;,\n  &quot;authors&quot;: &quot;Timothy Smith&quot;,\n  &quot;startTime&quot;: 1681369980,\n  &quot;eventID&quot;: 103\n  }\n]\n</code></pre>\n<p>When I try to search by &quot;authors&quot; using java sdk, no results are returned.\nMy code looks like:</p>\n<pre><code>Query query = new Query(&quot;authors&quot;);\nquery.setFilters(&quot;authors:'John Davidson'&quot;);\n\nSearchResult&lt;?&gt; result = index.search(query);\n</code></pre>\n<p>The above result returns 0 hits. However the below query works:</p>\n<pre><code>Query query = new Query(&quot;authors&quot;);\nquery.setQuery(&quot;John Davidson&quot;);\n\nSearchResult&lt;?&gt; result = index.search(query);\n</code></pre>\n<p>Can anyone please help me to understand what could be the issue? Also if I want to search multiple authors in a single query how can I do that?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","kotlin","zxing"],"comments":[{"owner":{"account_id":3057093,"reputation":4529,"user_id":2590478,"display_name":"MidasLefko"},"score":0,"creation_date":1681371196,"post_id":76000767,"comment_id":134046164,"body_markdown":"Please add exception from logcat","body":"Please add exception from logcat"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1681392603,"post_id":76000767,"comment_id":134051375,"body_markdown":"@MidasLefko This isn&#39;t a runtime error. But they should add the build error from the Build tab in Android Studio if there is one.","body":"@MidasLefko This isn&#39;t a runtime error. But they should add the build error from the Build tab in Android Studio if there is one."}],"answers":[{"tags":[],"owner":{"account_id":15633712,"reputation":11,"user_id":11279305,"display_name":"prakash joshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681368973,"creation_date":1681368790,"answer_id":76002462,"question_id":76000767,"body_markdown":"yes, we can use zxing library in Android studio \r\n\r\n\r\n         repositories {\r\n                mavenCentral()\r\n            }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.journeyapps:zxing-android-embedded:4.3.0&#39;\r\n    }\r\n\r\nPlease Follow Below link from Github\r\n\r\n[https://github.com/journeyapps/zxing-android-embedded][1]\r\n\r\n\r\n  [1]: https://github.com/journeyapps/zxing-android-embedded","title":"can&#39;t use Zxing libraries on android studio","body":"<p>yes, we can use zxing library in Android studio</p>\n<pre><code>     repositories {\n            mavenCentral()\n        }\n\ndependencies {\n    implementation 'com.journeyapps:zxing-android-embedded:4.3.0'\n}\n</code></pre>\n<p>Please Follow Below link from Github</p>\n<p><a href=\"https://github.com/journeyapps/zxing-android-embedded\" rel=\"nofollow noreferrer\">https://github.com/journeyapps/zxing-android-embedded</a></p>\n"}],"owner":{"account_id":27903315,"reputation":13,"user_id":21307113,"display_name":"3MR4H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681368973,"creation_date":1681345333,"question_id":76000767,"body_markdown":"I can&#39;t use Zxing Libraries on android studio. it&#39;s give error was not found in libraries\r\n\r\nI need use zyxing for qr scanner app but its not work on android studio\r\nI ınstalled zyxing followed this steps:\r\n\r\nAdded dependencies in build.gradle files\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.google.zxing:core:3.3.3&#39;\r\n}\r\n```\r\n\r\nadded permission in AndroidManifest.xml files\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\nand last step imported library in MainActivity.java\r\n\r\n```\r\nimport com.google.zxing.integration.android.IntentIntegrator;\r\nimport com.google.zxing.integration.android.IntentResult;\r\n```\r\n\r\nBut result is sad :(\r\n\r\n[![enter image description here](https://i.stack.imgur.com/LTocD.png)](https://i.stack.imgur.com/LTocD.png)\r\n[![enter image description here](https://i.stack.imgur.com/8oFA3.png)](https://i.stack.imgur.com/8oFA3.png)","title":"can&#39;t use Zxing libraries on android studio","body":"<p>I can't use Zxing Libraries on android studio. it's give error was not found in libraries</p>\n<p>I need use zyxing for qr scanner app but its not work on android studio\nI ınstalled zyxing followed this steps:</p>\n<p>Added dependencies in build.gradle files</p>\n<pre><code>dependencies {\n    implementation 'com.google.zxing:core:3.3.3'\n}\n</code></pre>\n<p>added permission in AndroidManifest.xml files</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>and last step imported library in MainActivity.java</p>\n<pre><code>import com.google.zxing.integration.android.IntentIntegrator;\nimport com.google.zxing.integration.android.IntentResult;\n</code></pre>\n<p>But result is sad :(</p>\n<p><a href=\"https://i.stack.imgur.com/LTocD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LTocD.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/8oFA3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8oFA3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","javafx","ide"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681355310,"post_id":76001213,"comment_id":134044044,"body_markdown":"_tried to download e(fx)clipse_ Does that mean that you did not succeed in downloading it? _and then deleted it_ So you did manage to download it successfully? So if you deleted it, then what is the screen capture an image of?","body":"<i>tried to download e(fx)clipse</i> Does that mean that you did not succeed in downloading it? <i>and then deleted it</i> So you did manage to download it successfully? So if you deleted it, then what is the screen capture an image of?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1681366841,"post_id":76001213,"comment_id":134045313,"body_markdown":"That list is &quot;modules&quot;, not files (they are all in jrt-fs.jar if you look carefully). This is just the standard module list for Java and is completely normal, you don&#39;t need to do anything. Newer versions of Java are different internally from older versions you might have seen in the past.","body":"That list is &quot;modules&quot;, not files (they are all in jrt-fs.jar if you look carefully). This is just the standard module list for Java and is completely normal, you don&#39;t need to do anything. Newer versions of Java are different internally from older versions you might have seen in the past."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681368680,"creation_date":1681368680,"answer_id":76002448,"question_id":76001213,"body_markdown":"It seems **you are confusing** the ***Projects*** view with the ***Project Explorer*** view or the *Package Explorer* view.\r\n\r\nThe ***Projects* view alone does not make sense** (as shown in your screenshot), only together with the *Packages*, *Types* and *Members* views the *Projects* view makes sense, like in the [***Java Browsing* perspective**][1].\r\n\r\nMake sure you are in the right perspective (*Window &gt; Perspective &gt; Open Perspective &gt; ...*) or reset the perspective  (*Window &gt; Perspective &gt; Reset Perspective*) or close the *Projects* view and open the *Project Explorer* view instead (*Window &gt; Show View &gt; Project Explorer*).\r\n\r\n\r\n  [1]: https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/gettingStarted/qs-Browsing.htm","title":"Eclipse - how do I hide all of these files?","body":"<p>It seems <strong>you are confusing</strong> the <em><strong>Projects</strong></em> view with the <em><strong>Project Explorer</strong></em> view or the <em>Package Explorer</em> view.</p>\n<p>The <strong><em>Projects</em> view alone does not make sense</strong> (as shown in your screenshot), only together with the <em>Packages</em>, <em>Types</em> and <em>Members</em> views the <em>Projects</em> view makes sense, like in the <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/gettingStarted/qs-Browsing.htm\" rel=\"nofollow noreferrer\"><strong><em>Java Browsing</em> perspective</strong></a>.</p>\n<p>Make sure you are in the right perspective (<em>Window &gt; Perspective &gt; Open Perspective &gt; ...</em>) or reset the perspective  (<em>Window &gt; Perspective &gt; Reset Perspective</em>) or close the <em>Projects</em> view and open the <em>Project Explorer</em> view instead (<em>Window &gt; Show View &gt; Project Explorer</em>).</p>\n"}],"owner":{"account_id":28154818,"reputation":1,"user_id":21515688,"display_name":"Ailsa Sun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681368732,"creation_date":1681353440,"question_id":76001213,"body_markdown":"So I recently tried to download e(fx)clipse and then deleted it - for some reason this popped up? Rather than the standard view where you see the src, lib, and then the Java standard libraries, I&#39;m seeing a long list of files - Does anyone know what&#39;s going on / how to fix? thanks!\r\n\r\n[![\\[_Image Here_\\]][1]][1]\r\n\r\nI tried to fix the perspective / shuffle around configure build path but I&#39;m just not experienced enough with Java to figure it out! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fwH93.png","title":"Eclipse - how do I hide all of these files?","body":"<p>So I recently tried to download e(fx)clipse and then deleted it - for some reason this popped up? Rather than the standard view where you see the src, lib, and then the Java standard libraries, I'm seeing a long list of files - Does anyone know what's going on / how to fix? thanks!</p>\n<p><a href=\"https://i.stack.imgur.com/fwH93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fwH93.png\" alt=\"[Image Here]\" /></a></p>\n<p>I tried to fix the perspective / shuffle around configure build path but I'm just not experienced enough with Java to figure it out!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1681365365,"post_id":76002028,"comment_id":134045097,"body_markdown":"If you are using Spring Boot 3 or above, the recommendation is to use springdoc. Please refer to the answer in the question https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3.","body":"If you are using Spring Boot 3 or above, the recommendation is to use springdoc. Please refer to the answer in the question <a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\" title=\"how to run swagger 3 on spring boot 3\">stackoverflow.com/questions/74614369/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":13946546,"reputation":272,"user_id":10071165,"display_name":"tapsshore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681368091,"creation_date":1681368091,"answer_id":76002371,"question_id":76002028,"body_markdown":"Just make sure you have this dependency in your POM file\r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.0&lt;/version&gt;\r\n       &lt;/dependency&gt;","title":"How to use Swagger in Spring","body":"<p>Just make sure you have this dependency in your POM file</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5556344,"reputation":417,"user_id":4407572,"accept_rate":89,"display_name":"Sandeep Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681368672,"creation_date":1681364892,"question_id":76002028,"body_markdown":"I have made a basic CRUD app, wish to add Swagger with it.\r\n\r\nMy endpoints are -\r\n \r\n`@RequestMapping(value = &quot;/api/v1&quot;)`\r\n\r\n`GET - /get_all_bookings`\r\n\r\n`POST - /new_booking`\r\n\r\n`PUT - /update_booking/{id}`\r\n\r\n`DELETE - /delete_booking/{id}`\r\n\r\nSo I Included the dependency `springfox-swagger2` &amp; `springfox-swagger-ui`, \r\nthen a config package and inside it `SwaggerConfig` class,\r\n\r\n\r\n```@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n\r\n\t@Bean\r\n\tpublic Docket postsApi() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2).groupName(&quot;public-api&quot;)\r\n\t\t\t\t.apiInfo(apiInfo()).select().paths(postPaths()).build();\r\n\t}\r\n\r\n\tprivate Predicate&lt;String&gt; postPaths() {\r\n\t\treturn or(regex(&quot;/api/v1/*&quot;), regex(&quot;/api/v1/get_all_bookings*&quot;));\r\n\t}\r\n\r\n\tprivate ApiInfo apiInfo() {\r\n\t\treturn new ApiInfoBuilder().title(&quot;Demo API&quot;)\r\n\t\t\t\t.description(&quot;Placeholder&quot;)\r\n\t\t\t\t.termsOfServiceUrl(&quot;www.something.com&quot;)\r\n\t\t\t\t.contact(&quot;sandeep.roy2014@gmail.com&quot;).license(&quot;Free&quot;)\r\n\t\t\t\t.licenseUrl(&quot;www.somthing.com&quot;).version(&quot;1&quot;).build();\r\n\t}\r\n}\r\n```\r\n\r\nIt gives too many errors, which I&#39;m not able to understand.\r\n\r\n```\r\nError creating bean with name &#39;swagger2Controller&#39;: Lookup method resolution failed\r\n\r\nFailed to introspect Class [springfox.documentation.swagger2.web.Swagger2Controller] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2aae9190]\r\n\r\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest\r\n\r\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\r\n```\r\n\r\nI&#39;m not very sure, what exactly I&#39;m doing wrong! Although all endpoints working fine when tried in Postman.","title":"How to use Swagger in Spring","body":"<p>I have made a basic CRUD app, wish to add Swagger with it.</p>\n<p>My endpoints are -</p>\n<p><code>@RequestMapping(value = &quot;/api/v1&quot;)</code></p>\n<p><code>GET - /get_all_bookings</code></p>\n<p><code>POST - /new_booking</code></p>\n<p><code>PUT - /update_booking/{id}</code></p>\n<p><code>DELETE - /delete_booking/{id}</code></p>\n<p>So I Included the dependency <code>springfox-swagger2</code> &amp; <code>springfox-swagger-ui</code>,\nthen a config package and inside it <code>SwaggerConfig</code> class,</p>\n<pre><code>@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket postsApi() {\n        return new Docket(DocumentationType.SWAGGER_2).groupName(&quot;public-api&quot;)\n                .apiInfo(apiInfo()).select().paths(postPaths()).build();\n    }\n\n    private Predicate&lt;String&gt; postPaths() {\n        return or(regex(&quot;/api/v1/*&quot;), regex(&quot;/api/v1/get_all_bookings*&quot;));\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder().title(&quot;Demo API&quot;)\n                .description(&quot;Placeholder&quot;)\n                .termsOfServiceUrl(&quot;www.something.com&quot;)\n                .contact(&quot;sandeep.roy2014@gmail.com&quot;).license(&quot;Free&quot;)\n                .licenseUrl(&quot;www.somthing.com&quot;).version(&quot;1&quot;).build();\n    }\n}\n</code></pre>\n<p>It gives too many errors, which I'm not able to understand.</p>\n<pre><code>Error creating bean with name 'swagger2Controller': Lookup method resolution failed\n\nFailed to introspect Class [springfox.documentation.swagger2.web.Swagger2Controller] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2aae9190]\n\njava.lang.NoClassDefFoundError: javax/servlet/http/HttpServletRequest\n\njava.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\n</code></pre>\n<p>I'm not very sure, what exactly I'm doing wrong! Although all endpoints working fine when tried in Postman.</p>\n"},{"tags":["java","timezone","dst"],"answers":[{"tags":[],"owner":{"account_id":12710,"reputation":29685,"user_id":25188,"accept_rate":89,"display_name":"John D. Cook"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1288566875,"creation_date":1288566875,"answer_id":4065673,"question_id":4065641,"body_markdown":"Most of Arizona does not observe Daylight Savings Time, but the Navajo Nation inside Arizona *does* observe DST.","title":"Arizona TimeZone Day Light Saving","body":"<p>Most of Arizona does not observe Daylight Savings Time, but the Navajo Nation inside Arizona <em>does</em> observe DST.</p>\n"},{"tags":[],"owner":{"account_id":67623,"reputation":57713,"user_id":197788,"accept_rate":96,"display_name":"Ken Bloom"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1288568870,"creation_date":1288567331,"answer_id":4065710,"question_id":4065641,"body_markdown":"Arizona is [in the Mountain timezone, but doesn&#39;t observe DST](http://www.timetemperature.com/tzus/arizona_time_zone.shtml). If you specify the timezone &quot;US/Mountain&quot;, then the computer will apply the rules used by most states in the Mountain time zone, which include observing daylight savings time. To get the rules for Arizona (which don&#39;t include DST), you want the timezone &quot;US/Arizona&quot; (or &quot;America/Phoenix&quot;). In the Navajo nation, you want the timezone named &quot;Navajo&quot;.\r\n\r\nTo save yourself some of the trouble, always try to use the names from &quot;America/*&quot; where you can pick the name of a city that has the same timezone rules as the place you&#39;re interested in.\r\n\r\nTo get the correct time in the correct timezone for any given city in the world, you simply have to familiarize yourself with the names in the Olson timezone database and their meanings. While you usually think of the term &quot;time zone&quot; to mean the time of day in the middle of the winter (when everybody observes standard time), in the Olson database a timezone name represents the entire history of daylight savings time rules and timezone rules for a particular region.\r\n\r\nAs an example, even though [Indiana now observes Eastern time and observes DST](http://www.timetemperature.com/tzus/indiana_time_zone.shtml) (except for a few counties right near Chicago which are on Central time like Chicago), before 2006 they didn&#39;t observe DST. A timezone named &quot;US/Indiana&quot; (or &quot;America/Indianapolis&quot;) was created to cover this region, an even today, you would still want to use the timezone &quot;America/Indianapolis&quot; when talking about Indiana, so that queries about dates and times before 2006 could be answered correctly.","title":"Arizona TimeZone Day Light Saving","body":"<p>Arizona is <a href=\"http://www.timetemperature.com/tzus/arizona_time_zone.shtml\" rel=\"noreferrer\">in the Mountain timezone, but doesn't observe DST</a>. If you specify the timezone \"US/Mountain\", then the computer will apply the rules used by most states in the Mountain time zone, which include observing daylight savings time. To get the rules for Arizona (which don't include DST), you want the timezone \"US/Arizona\" (or \"America/Phoenix\"). In the Navajo nation, you want the timezone named \"Navajo\".</p>\n\n<p>To save yourself some of the trouble, always try to use the names from \"America/*\" where you can pick the name of a city that has the same timezone rules as the place you're interested in.</p>\n\n<p>To get the correct time in the correct timezone for any given city in the world, you simply have to familiarize yourself with the names in the Olson timezone database and their meanings. While you usually think of the term \"time zone\" to mean the time of day in the middle of the winter (when everybody observes standard time), in the Olson database a timezone name represents the entire history of daylight savings time rules and timezone rules for a particular region.</p>\n\n<p>As an example, even though <a href=\"http://www.timetemperature.com/tzus/indiana_time_zone.shtml\" rel=\"noreferrer\">Indiana now observes Eastern time and observes DST</a> (except for a few counties right near Chicago which are on Central time like Chicago), before 2006 they didn't observe DST. A timezone named \"US/Indiana\" (or \"America/Indianapolis\") was created to cover this region, an even today, you would still want to use the timezone \"America/Indianapolis\" when talking about Indiana, so that queries about dates and times before 2006 could be answered correctly.</p>\n"},{"tags":[],"owner":{"account_id":73328,"reputation":18173,"user_id":211232,"display_name":"WReach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288567956,"creation_date":1288567956,"answer_id":4065752,"question_id":4065641,"body_markdown":"The zone information can be obtained directly for many major cities worldwide.  This includes Phoenix, which has the zone identifier &quot;America/Phoenix&quot;.\r\n\r\nYou can find the list of available zone identifiers using the method *TimeZone.getAvailableIDs()* or by manually inspecting the contents of the JRE *lib/zi* directory.\r\n\r\nAs other posters have noted, the &quot;US/Arizona&quot; zone information is distinct from &quot;US/Mountain&quot;.","title":"Arizona TimeZone Day Light Saving","body":"<p>The zone information can be obtained directly for many major cities worldwide.  This includes Phoenix, which has the zone identifier \"America/Phoenix\".</p>\n\n<p>You can find the list of available zone identifiers using the method <em>TimeZone.getAvailableIDs()</em> or by manually inspecting the contents of the JRE <em>lib/zi</em> directory.</p>\n\n<p>As other posters have noted, the \"US/Arizona\" zone information is distinct from \"US/Mountain\".</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571829300,"creation_date":1571828862,"answer_id":58521487,"question_id":4065641,"body_markdown":"I am providing the modern answer. Don’t use the classes `Calendar`, `GregorianCalendar`, `TimeZone` and `Date`. They are all poorly designed and fortunately all long outdated.\r\n\r\n## java.time\r\n\r\nIt’s simple when you know how:\r\n\r\n\t\tZonedDateTime arizonaExceptNavajo = ZonedDateTime.now(ZoneId.of(&quot;America/Phoenix&quot;));\r\n\t\tSystem.out.println(arizonaExceptNavajo);\r\n\r\nWhen I ran this code just now, the output was:\r\n\r\n&gt; 2019-10-23T04:07:23.034-07:00[America/Phoenix]\r\n\r\nThe US/Mountain time zone ID is deprecated. It’s a link to America/Denver, and America/Denver does use summer time (daylight saving time, DST). Modern time zone IDs have the form *region/city* where *region* is either a continent like America or an ocean like Pacific.\r\n\r\nAs others have said, summer time is used on one place in Arizona, the Navajo Nation. The `Navajo` time zone ID mentioned is deprecated too. Use America/Denver:\r\n\r\n\t\tZonedDateTime navajoNation = ZonedDateTime.now(ZoneId.of(&quot;America/Denver&quot;));\r\n\t\tSystem.out.println(navajoNation);\r\n\r\n&gt; 2019-10-23T05:07:23.037-06:00[America/Denver]\r\n\r\nSince summer time is still in effect, the time of day is one hour ahead compared to the one for Phoenix above.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Navajo Nation](https://en.wikipedia.org/wiki/Navajo_Nation) on Wikipedia.","title":"Arizona TimeZone Day Light Saving","body":"<p>I am providing the modern answer. Don’t use the classes <code>Calendar</code>, <code>GregorianCalendar</code>, <code>TimeZone</code> and <code>Date</code>. They are all poorly designed and fortunately all long outdated.</p>\n\n<h2>java.time</h2>\n\n<p>It’s simple when you know how:</p>\n\n<pre><code>    ZonedDateTime arizonaExceptNavajo = ZonedDateTime.now(ZoneId.of(\"America/Phoenix\"));\n    System.out.println(arizonaExceptNavajo);\n</code></pre>\n\n<p>When I ran this code just now, the output was:</p>\n\n<blockquote>\n  <p>2019-10-23T04:07:23.034-07:00[America/Phoenix]</p>\n</blockquote>\n\n<p>The US/Mountain time zone ID is deprecated. It’s a link to America/Denver, and America/Denver does use summer time (daylight saving time, DST). Modern time zone IDs have the form <em>region/city</em> where <em>region</em> is either a continent like America or an ocean like Pacific.</p>\n\n<p>As others have said, summer time is used on one place in Arizona, the Navajo Nation. The <code>Navajo</code> time zone ID mentioned is deprecated too. Use America/Denver:</p>\n\n<pre><code>    ZonedDateTime navajoNation = ZonedDateTime.now(ZoneId.of(\"America/Denver\"));\n    System.out.println(navajoNation);\n</code></pre>\n\n<blockquote>\n  <p>2019-10-23T05:07:23.037-06:00[America/Denver]</p>\n</blockquote>\n\n<p>Since summer time is still in effect, the time of day is one hour ahead compared to the one for Phoenix above.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Navajo_Nation\" rel=\"nofollow noreferrer\">Navajo Nation</a> on Wikipedia.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1491081,"reputation":941,"user_id":1483550,"display_name":"Shailesh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681367465,"creation_date":1681108979,"answer_id":75974845,"question_id":4065641,"body_markdown":"        Date timeTest = Calendar.getInstance().getTime();\r\n         \r\n        SimpleDateFormat localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        String localTime = localFormater.format(timeTest);\r\n        System.out.println(&quot;Local time :  &quot; + localTime);\r\n         \r\n        SimpleDateFormat arFormatter = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        arFormatter.setTimeZone(TimeZone.getTimeZone(&quot;US/Arizona&quot;));\r\n        System.out.println(&quot;Arizona equivalent time :  &quot; + arFormatter.format(timeTest));\r\n         \r\n        SimpleDateFormat mstFormmater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        mstFormmater.setTimeZone(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\r\n        System.out.println(&quot;MST equivalent time   :  &quot; +  mstFormmater.format(timeTest));\r\n\r\nOutput :\r\n\r\nLocal time :  08:43 AM &lt;br&gt;\r\nArizona equivalent time :  01:43 AM &lt;br&gt;\r\nMST equivalent time   :  02:43 AM &lt;br&gt;\r\n\r\nBut if we change the Calendar without changing the Dateformat , the output will be same for the Timezone-Format(MST, US/Arizona , US/Mountain ).\r\n\r\n        Calendar userCalendar1 = new GregorianCalendar(TimeZone.getTimeZone(&quot;MST&quot;));&lt;br&gt;\r\n        Calendar userCalendar2 = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Arizona&quot;));&lt;br&gt;\r\n        Calendar userCalendar3 = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\r\n         \r\n        Date timeTest1 = Calendar.getInstance().getTime();\r\n        Date timeTest2 = userCalendar1.getTime();\r\n        Date timeTest3 = userCalendar2.getTime();\r\n        Date timeTest4 = userCalendar3.getTime();\r\n\r\n        SimpleDateFormat localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        String   localTime = localFormater.format(timeTest1);\r\n        System.out.println(&quot; Local   time 1:  &quot; + localTime);\r\n     \r\n        localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        localTime = localFormater.format(timeTest2);\r\n     \r\n        System.out.println(&quot;Local   time  2:  &quot; + localTime);\r\n     \r\n        localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        localTime = localFormater.format(timeTest3);\r\n   \r\n        System.out.println(&quot;Local   time 3:  &quot; + localTime);\r\n    \r\n        localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\r\n        localTime = localFormater.format(timeTest4);\r\n     \r\n        System.out.println(&quot;Local   time 4:  &quot; + localTime);\r\n\r\nOutput : &lt;br&gt;\r\nLocal   time 1:  08:56 AM &lt;br&gt;\r\nLocal   time  2:  08:56 AM&lt;br&gt;\r\nLocal   time 3:  08:56 AM&lt;br&gt;\r\nLocal   time 4:  08:56 AM&lt;br&gt;","title":"Arizona TimeZone Day Light Saving","body":"<pre><code>    Date timeTest = Calendar.getInstance().getTime();\n     \n    SimpleDateFormat localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    String localTime = localFormater.format(timeTest);\n    System.out.println(&quot;Local time :  &quot; + localTime);\n     \n    SimpleDateFormat arFormatter = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    arFormatter.setTimeZone(TimeZone.getTimeZone(&quot;US/Arizona&quot;));\n    System.out.println(&quot;Arizona equivalent time :  &quot; + arFormatter.format(timeTest));\n     \n    SimpleDateFormat mstFormmater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    mstFormmater.setTimeZone(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\n    System.out.println(&quot;MST equivalent time   :  &quot; +  mstFormmater.format(timeTest));\n</code></pre>\n<p>Output :</p>\n<p>Local time :  08:43 AM <br>\nArizona equivalent time :  01:43 AM <br>\nMST equivalent time   :  02:43 AM <br></p>\n<p>But if we change the Calendar without changing the Dateformat , the output will be same for the Timezone-Format(MST, US/Arizona , US/Mountain ).</p>\n<pre><code>    Calendar userCalendar1 = new GregorianCalendar(TimeZone.getTimeZone(&quot;MST&quot;));&lt;br&gt;\n    Calendar userCalendar2 = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Arizona&quot;));&lt;br&gt;\n    Calendar userCalendar3 = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\n     \n    Date timeTest1 = Calendar.getInstance().getTime();\n    Date timeTest2 = userCalendar1.getTime();\n    Date timeTest3 = userCalendar2.getTime();\n    Date timeTest4 = userCalendar3.getTime();\n\n    SimpleDateFormat localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    String   localTime = localFormater.format(timeTest1);\n    System.out.println(&quot; Local   time 1:  &quot; + localTime);\n \n    localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    localTime = localFormater.format(timeTest2);\n \n    System.out.println(&quot;Local   time  2:  &quot; + localTime);\n \n    localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    localTime = localFormater.format(timeTest3);\n\n    System.out.println(&quot;Local   time 3:  &quot; + localTime);\n\n    localFormater = new SimpleDateFormat(&quot;hh:mm aaa&quot;);\n    localTime = localFormater.format(timeTest4);\n \n    System.out.println(&quot;Local   time 4:  &quot; + localTime);\n</code></pre>\n<p>Output : <br>\nLocal   time 1:  08:56 AM <br>\nLocal   time  2:  08:56 AM<br>\nLocal   time 3:  08:56 AM<br>\nLocal   time 4:  08:56 AM<br></p>\n"}],"owner":{"account_id":78177,"reputation":85,"user_id":222668,"accept_rate":50,"display_name":"seawaves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8720,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4065710,"answer_count":5,"score":4,"last_activity_date":1681367465,"creation_date":1288566465,"question_id":4065641,"body_markdown":"I am trying to get current time in specific time zones. I tried following code.\r\n\r\n    Calendar j = new GregorianCalendar(TimeZone.getTimeZone(&quot;US/Mountain&quot;));\r\n    j.setTimeInMillis(Calendar.getInstance().getTimeInMillis());\r\n    System.out.println(j.get(Calendar.HOUR_OF_DAY)+&quot;:&quot;+j.get(Calendar.MINUTE));\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;US/Mountain&quot;);\r\n    System.out.println(&quot;tz.getRawOffset()&quot;+tz.getRawOffset()/3600);\r\n    System.out.println(tz.getDSTSavings());\r\n    System.out.println\r\n\r\n    (tz.inDaylightTime(new Date()));\r\n\r\nThe answer I got is surprising -\r\n16:57 - wrong by 1 hr\r\ntz.getRawOffset()-7000\r\n3600000\r\ntrue - why daylight saving is true for Arizona?\r\nHow to get the correct wall clock time of Phoenix or any other city in US?","title":"Arizona TimeZone Day Light Saving","body":"<p>I am trying to get current time in specific time zones. I tried following code.</p>\n\n<pre><code>Calendar j = new GregorianCalendar(TimeZone.getTimeZone(\"US/Mountain\"));\nj.setTimeInMillis(Calendar.getInstance().getTimeInMillis());\nSystem.out.println(j.get(Calendar.HOUR_OF_DAY)+\":\"+j.get(Calendar.MINUTE));\nTimeZone tz = TimeZone.getTimeZone(\"US/Mountain\");\nSystem.out.println(\"tz.getRawOffset()\"+tz.getRawOffset()/3600);\nSystem.out.println(tz.getDSTSavings());\nSystem.out.println\n\n(tz.inDaylightTime(new Date()));\n</code></pre>\n\n<p>The answer I got is surprising -\n16:57 - wrong by 1 hr\ntz.getRawOffset()-7000\n3600000\ntrue - why daylight saving is true for Arizona?\nHow to get the correct wall clock time of Phoenix or any other city in US?</p>\n"},{"tags":["java","spring-boot","encryption","aes"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681360948,"post_id":76001397,"comment_id":134044603,"body_markdown":"Is there any possibility that some of the data was encrypted with a different key? I have seen this misleading error messages in such cases. Try to print out the failed encrypted value (probably as base64 encrypted) and use that value to test the decrypter in isolation.","body":"Is there any possibility that some of the data was encrypted with a different key? I have seen this misleading error messages in such cases. Try to print out the failed encrypted value (probably as base64 encrypted) and use that value to test the decrypter in isolation."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1681365098,"post_id":76001397,"comment_id":134045075,"body_markdown":"This exception only depends on the size of the input data, so any error will be outside of this code. Doing terrible things like using `&quot;AES&quot;` as algorithm string or putting `Cipher` in a field (a stateful object) shows clearly that you don&#39;t really know what you are doing. Ask an expert, take a course, but please don&#39;t go and create *secure* code while just testing if it works or not.","body":"This exception only depends on the size of the input data, so any error will be outside of this code. Doing terrible things like using <code>&quot;AES&quot;</code> as algorithm string or putting <code>Cipher</code> in a field (a stateful object) shows clearly that you don&#39;t really know what you are doing. Ask an expert, take a course, but please don&#39;t go and create <i>secure</i> code while just testing if it works or not."},{"owner":{"account_id":28175707,"reputation":5,"user_id":21533509,"display_name":"Mohan"},"score":0,"creation_date":1681365130,"post_id":76001397,"comment_id":134045078,"body_markdown":"All data is encrypted with the same key. I&#39;ve not changed the key at any time. In Isolation, it works fine and error is not always on this repository method, sometimes it works fine and some other repository method fails. Could the issue be related to concurrency or something like that?","body":"All data is encrypted with the same key. I&#39;ve not changed the key at any time. In Isolation, it works fine and error is not always on this repository method, sometimes it works fine and some other repository method fails. Could the issue be related to concurrency or something like that?"}],"answers":[{"tags":[],"owner":{"account_id":28175707,"reputation":5,"user_id":21533509,"display_name":"Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681367279,"creation_date":1681367279,"answer_id":76002285,"question_id":76001397,"body_markdown":"The issue was related to using the same cipher every time which was causing the concurrency issue. I was able to solve this by modifying the code to create a new cipher every time it is called:\r\n\r\n```\r\n@Converter\r\n@NoArgsConstructor\r\npublic class DataEncryptionConverter implements AttributeConverter&lt;Object, String&gt; {\r\n\r\n    // @Value(&quot;${encryption.key}&quot;)\r\n    private String encryptionKey = &quot;secret-test-key1&quot;;\r\n    private final byte[] iv = new byte[16];\r\n    private final String encryptionCipher = &quot;AES/CBC/PKCS5Padding&quot;;\r\n\r\n    private Key createKey() {\r\n        return new SecretKeySpec(encryptionKey.getBytes(), &quot;AES&quot;);\r\n    }\r\n\r\n    private Cipher createCipher() throws GeneralSecurityException {\r\n        return Cipher.getInstance(encryptionCipher);\r\n    }\r\n\r\n    // Initialize cipher into the memory -- decides whether we want to encrypt or decrypt data with the cipher\r\n    private Cipher initCipher(int encryptMode) throws GeneralSecurityException {\r\n        Cipher cipher = createCipher();\r\n        Key key = createKey();\r\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n        cipher.init(encryptMode, key, ivParameterSpec);\r\n        return cipher;\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public String convertToDatabaseColumn(Object attribute) {\r\n        if (attribute == null) {\r\n            return null;\r\n        }\r\n        Cipher cipher = initCipher(Cipher.ENCRYPT_MODE);\r\n        byte[] bytes = SerializationUtils.serialize(attribute);\r\n        return Base64.getEncoder().encodeToString(cipher.doFinal(bytes));\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public Object convertToEntityAttribute(String dbData) {\r\n        if (dbData == null) {\r\n            return null;\r\n        }\r\n        Cipher cipher = initCipher(Cipher.DECRYPT_MODE);\r\n        byte[] bytes = cipher.doFinal(Base64.getDecoder().decode(dbData));\r\n        return SerializationUtils.deserialize(bytes);\r\n    }\r\n}\r\n```","title":"How to fix the &quot;javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher&quot; error?","body":"<p>The issue was related to using the same cipher every time which was causing the concurrency issue. I was able to solve this by modifying the code to create a new cipher every time it is called:</p>\n<pre><code>@Converter\n@NoArgsConstructor\npublic class DataEncryptionConverter implements AttributeConverter&lt;Object, String&gt; {\n\n    // @Value(&quot;${encryption.key}&quot;)\n    private String encryptionKey = &quot;secret-test-key1&quot;;\n    private final byte[] iv = new byte[16];\n    private final String encryptionCipher = &quot;AES/CBC/PKCS5Padding&quot;;\n\n    private Key createKey() {\n        return new SecretKeySpec(encryptionKey.getBytes(), &quot;AES&quot;);\n    }\n\n    private Cipher createCipher() throws GeneralSecurityException {\n        return Cipher.getInstance(encryptionCipher);\n    }\n\n    // Initialize cipher into the memory -- decides whether we want to encrypt or decrypt data with the cipher\n    private Cipher initCipher(int encryptMode) throws GeneralSecurityException {\n        Cipher cipher = createCipher();\n        Key key = createKey();\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\n        cipher.init(encryptMode, key, ivParameterSpec);\n        return cipher;\n    }\n\n    @SneakyThrows\n    @Override\n    public String convertToDatabaseColumn(Object attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        Cipher cipher = initCipher(Cipher.ENCRYPT_MODE);\n        byte[] bytes = SerializationUtils.serialize(attribute);\n        return Base64.getEncoder().encodeToString(cipher.doFinal(bytes));\n    }\n\n    @SneakyThrows\n    @Override\n    public Object convertToEntityAttribute(String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        Cipher cipher = initCipher(Cipher.DECRYPT_MODE);\n        byte[] bytes = cipher.doFinal(Base64.getDecoder().decode(dbData));\n        return SerializationUtils.deserialize(bytes);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28175707,"reputation":5,"user_id":21533509,"display_name":"Mohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681367279,"creation_date":1681356657,"question_id":76001397,"body_markdown":"I&#39;m using a Spring Boot application with an attribute converter class to encrypt certain fields of entities when persisting in the database and decrypt them when retrieving the data. I use @Convert(converter = DataEncryptionConverter.class) annotation on the fields of entities that I want to encrypt/ decrypt. Here is my code:\r\n\r\n```\r\n@Converter\r\n@NoArgsConstructor\r\npublic class DataEncryptionConverter implements AttributeConverter&lt;Object, String&gt; {\r\n\r\n    //    @Value(&quot;${encryption.key}&quot;)\r\n    private String encryptionKey = &quot;secret-test-key1&quot;;\r\n    private final byte[] iv = new byte[16];\r\n    private final String encryptionCipher = &quot;AES/CBC/PKCS5Padding&quot;;\r\n\r\n    private Key key;\r\n    private Cipher cipher;\r\n\r\n    private Key getKey() {\r\n        if (key == null) {\r\n            key = new SecretKeySpec(encryptionKey.getBytes(), &quot;AES&quot;);\r\n        }\r\n        return key;\r\n    }\r\n\r\n    private Cipher getCipher() throws GeneralSecurityException {\r\n        if (cipher == null) {\r\n            cipher = Cipher.getInstance(encryptionCipher);\r\n        }\r\n        return cipher;\r\n    }\r\n\r\n    // initilize cipher into the memory -- decides whether we want to encrypt or decrypt data with the cipher\r\n    private void initCipher(int encryptMode) throws GeneralSecurityException {\r\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n        getCipher().init(encryptMode, getKey(), ivParameterSpec);\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public String convertToDatabaseColumn(Object attribute) {\r\n        if (attribute == null) {\r\n            return null;\r\n        }\r\n        initCipher(Cipher.ENCRYPT_MODE);\r\n        byte[] bytes = SerializationUtils.serialize(attribute);\r\n        return Base64.getEncoder().encodeToString(getCipher().doFinal(bytes));\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public Object convertToEntityAttribute(String dbData) {\r\n        if (dbData == null) {\r\n            return null;\r\n        }\r\n        initCipher(Cipher.DECRYPT_MODE);\r\n        byte[] bytes = getCipher().doFinal(Base64.getDecoder().decode(dbData));\r\n        return SerializationUtils.deserialize(bytes);\r\n    }\r\n}\r\n```\r\n\r\nIf I call the method convertToDatabaseColumn explicitly to encrypt my existing plain data in the database, it works fine.  \r\n\r\n```\r\n@Test\r\n    public void encryptTeam() {\r\n        DataEncryptionConverter converter = new DataEncryptionConverter();\r\n\r\n        List&lt;Team&gt; teams = teamRepository.findAll();\r\n        for (Team team : teams) {\r\n            team.setTeamName(converter.convertToDatabaseColumn(team.getTeamName()));\r\n            team.setTeamDesc(converter.convertToDatabaseColumn(team.getTeamDesc()));\r\n        }\r\n        teamRepository.saveAll(teams);\r\n    }\r\n```\r\n\t\r\nIf I call the method convertToEntityAttribute to decrypt the encrypted data in the database, it works fine.  \r\n\r\n```\r\n@Test\r\n    public void decryptTeam() {\r\n        DataEncryptionConverter converter = new DataEncryptionConverter();\r\n\r\n        List&lt;Team&gt; teams = teamRepository.findAll();\r\n        for (Team team : teams) {\r\n            team.setTeamName((String) converter.convertToEntityAttribute(team.getTeamName()));\r\n            team.setTeamDesc((String) converter.convertToEntityAttribute(team.getTeamDesc()));\r\n        }\r\n        teamRepository.saveAll(teams);\r\n    }\r\n```\r\n\r\nIf I call the repository methods explicitly in the code to save/ get data, it works fine but when the application is running, many functionalities work fine but at some or the other place a JPA repository method throws the &quot;javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16&quot; exception and it is not able to decrypt. \r\n\r\nFor example here this method defined in User Repository is throwing an exception:\r\n\r\nUser findByPrimaryEmail(String primaryEmail);\r\n\r\n\r\nError:\r\n```\r\nApr 12, 2023 6:49:07 PM org.apache.catalina.core.StandardWrapperValve invoke\r\nSEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\njava.lang.reflect.UndeclaredThrowableException\r\n\tat com.sun.proxy.$Proxy201.getSingleResult(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n\t\r\n\r\nCaused by: javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\r\n\tat java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:848)\r\n\tat java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\r\n\tat com.tse.core_application.configuration.DataEncryptionConverter.convertToDatabaseColumn(DataEncryptionConverter.java:70)\r\n\tat com.tse.core_application.configuration.DataEncryptionConverter.convertToDatabaseColumn(DataEncryptionConverter.java:22)\r\n```\r\n\r\nWhat am I doing wrong here? Earlier I was using only &quot;AES&quot; as the transformation string and I was getting the same error so I changed it to &quot;AES/CBC/PKCS5Padding&quot; but I still got the same error. Then I added the IvParameterSpec as well but I&#39;m still getting these errors.","title":"How to fix the &quot;javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher&quot; error?","body":"<p>I'm using a Spring Boot application with an attribute converter class to encrypt certain fields of entities when persisting in the database and decrypt them when retrieving the data. I use @Convert(converter = DataEncryptionConverter.class) annotation on the fields of entities that I want to encrypt/ decrypt. Here is my code:</p>\n<pre><code>@Converter\n@NoArgsConstructor\npublic class DataEncryptionConverter implements AttributeConverter&lt;Object, String&gt; {\n\n    //    @Value(&quot;${encryption.key}&quot;)\n    private String encryptionKey = &quot;secret-test-key1&quot;;\n    private final byte[] iv = new byte[16];\n    private final String encryptionCipher = &quot;AES/CBC/PKCS5Padding&quot;;\n\n    private Key key;\n    private Cipher cipher;\n\n    private Key getKey() {\n        if (key == null) {\n            key = new SecretKeySpec(encryptionKey.getBytes(), &quot;AES&quot;);\n        }\n        return key;\n    }\n\n    private Cipher getCipher() throws GeneralSecurityException {\n        if (cipher == null) {\n            cipher = Cipher.getInstance(encryptionCipher);\n        }\n        return cipher;\n    }\n\n    // initilize cipher into the memory -- decides whether we want to encrypt or decrypt data with the cipher\n    private void initCipher(int encryptMode) throws GeneralSecurityException {\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\n        getCipher().init(encryptMode, getKey(), ivParameterSpec);\n    }\n\n    @SneakyThrows\n    @Override\n    public String convertToDatabaseColumn(Object attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        initCipher(Cipher.ENCRYPT_MODE);\n        byte[] bytes = SerializationUtils.serialize(attribute);\n        return Base64.getEncoder().encodeToString(getCipher().doFinal(bytes));\n    }\n\n    @SneakyThrows\n    @Override\n    public Object convertToEntityAttribute(String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        initCipher(Cipher.DECRYPT_MODE);\n        byte[] bytes = getCipher().doFinal(Base64.getDecoder().decode(dbData));\n        return SerializationUtils.deserialize(bytes);\n    }\n}\n</code></pre>\n<p>If I call the method convertToDatabaseColumn explicitly to encrypt my existing plain data in the database, it works fine.</p>\n<pre><code>@Test\n    public void encryptTeam() {\n        DataEncryptionConverter converter = new DataEncryptionConverter();\n\n        List&lt;Team&gt; teams = teamRepository.findAll();\n        for (Team team : teams) {\n            team.setTeamName(converter.convertToDatabaseColumn(team.getTeamName()));\n            team.setTeamDesc(converter.convertToDatabaseColumn(team.getTeamDesc()));\n        }\n        teamRepository.saveAll(teams);\n    }\n</code></pre>\n<p>If I call the method convertToEntityAttribute to decrypt the encrypted data in the database, it works fine.</p>\n<pre><code>@Test\n    public void decryptTeam() {\n        DataEncryptionConverter converter = new DataEncryptionConverter();\n\n        List&lt;Team&gt; teams = teamRepository.findAll();\n        for (Team team : teams) {\n            team.setTeamName((String) converter.convertToEntityAttribute(team.getTeamName()));\n            team.setTeamDesc((String) converter.convertToEntityAttribute(team.getTeamDesc()));\n        }\n        teamRepository.saveAll(teams);\n    }\n</code></pre>\n<p>If I call the repository methods explicitly in the code to save/ get data, it works fine but when the application is running, many functionalities work fine but at some or the other place a JPA repository method throws the &quot;javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16&quot; exception and it is not able to decrypt.</p>\n<p>For example here this method defined in User Repository is throwing an exception:</p>\n<p>User findByPrimaryEmail(String primaryEmail);</p>\n<p>Error:</p>\n<pre><code>Apr 12, 2023 6:49:07 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\njava.lang.reflect.UndeclaredThrowableException\n    at com.sun.proxy.$Proxy201.getSingleResult(Unknown Source)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\n    \n\nCaused by: javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\n    at java.base/com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)\n    at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:848)\n    at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\n    at com.tse.core_application.configuration.DataEncryptionConverter.convertToDatabaseColumn(DataEncryptionConverter.java:70)\n    at com.tse.core_application.configuration.DataEncryptionConverter.convertToDatabaseColumn(DataEncryptionConverter.java:22)\n</code></pre>\n<p>What am I doing wrong here? Earlier I was using only &quot;AES&quot; as the transformation string and I was getting the same error so I changed it to &quot;AES/CBC/PKCS5Padding&quot; but I still got the same error. Then I added the IvParameterSpec as well but I'm still getting these errors.</p>\n"},{"tags":["java","timezone","comparison","comparator"],"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1362187324,"post_id":15169108,"comment_id":21365354,"body_markdown":"What are the ordering rules for TimeZone?","body":"What are the ordering rules for TimeZone?"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1362188583,"post_id":15169108,"comment_id":21365593,"body_markdown":"@SteveKuo Updated the question for clarity on the ordering. Does my edit make sense to you? Let me know how I can improve the question.","body":"@SteveKuo Updated the question for clarity on the ordering. Does my edit make sense to you? Let me know how I can improve the question."}],"answers":[{"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1362183550,"creation_date":1362183550,"answer_id":15169112,"question_id":15169108,"body_markdown":"I rolled my own `Comparator&lt;TimeZone&gt;` implementation using [`getRawOffset`][1] for the comparison:\r\n\r\n    @Override\r\n    public int compare(TimeZone tz1, TimeZone tz2) {\r\n        return tz2.getRawOffset() - tz1.getRawOffset();\r\n    }\r\n\r\nIt seems to have passed a quick test:\r\n\r\n    final List&lt;TimeZone&gt; timeZones = Arrays.asList(\r\n            TimeZone.getTimeZone(&quot;UTC&quot;),\r\n            TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;),\r\n            TimeZone.getTimeZone(&quot;America/New_York&quot;),\r\n            TimeZone.getTimeZone(&quot;Pacific/Honolulu&quot;),\r\n            TimeZone.getTimeZone(&quot;Asia/Singapore&quot;)\r\n    );\r\n\r\n    final List&lt;TimeZone&gt; expectedOrder = Arrays.asList(\r\n            TimeZone.getTimeZone(&quot;Asia/Singapore&quot;),\r\n            TimeZone.getTimeZone(&quot;UTC&quot;),\r\n            TimeZone.getTimeZone(&quot;America/New_York&quot;),\r\n            TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;),\r\n            TimeZone.getTimeZone(&quot;Pacific/Honolulu&quot;)\r\n    );\r\n\r\n    Collections.sort(timeZones, new Comparator&lt;TimeZone&gt;() {\r\n        @Override\r\n        public int compare(TimeZone tz1, TimeZone tz2) {\r\n            return tz2.getRawOffset() - tz1.getRawOffset();\r\n        }\r\n    });\r\n\r\n    //Impl note: see AbstractList.equals\r\n    System.out.println(timeZones.equals(expectedOrder)); //true\r\n\r\nBut I&#39;m still wondering whether there are pitfalls to this solution and/or if there&#39;s something preferable.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getRawOffset%28%29","title":"How to compare TimeZones","body":"<p>I rolled my own <code>Comparator&lt;TimeZone&gt;</code> implementation using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getRawOffset%28%29\" rel=\"nofollow\"><code>getRawOffset</code></a> for the comparison:</p>\n\n<pre><code>@Override\npublic int compare(TimeZone tz1, TimeZone tz2) {\n    return tz2.getRawOffset() - tz1.getRawOffset();\n}\n</code></pre>\n\n<p>It seems to have passed a quick test:</p>\n\n<pre><code>final List&lt;TimeZone&gt; timeZones = Arrays.asList(\n        TimeZone.getTimeZone(\"UTC\"),\n        TimeZone.getTimeZone(\"America/Los_Angeles\"),\n        TimeZone.getTimeZone(\"America/New_York\"),\n        TimeZone.getTimeZone(\"Pacific/Honolulu\"),\n        TimeZone.getTimeZone(\"Asia/Singapore\")\n);\n\nfinal List&lt;TimeZone&gt; expectedOrder = Arrays.asList(\n        TimeZone.getTimeZone(\"Asia/Singapore\"),\n        TimeZone.getTimeZone(\"UTC\"),\n        TimeZone.getTimeZone(\"America/New_York\"),\n        TimeZone.getTimeZone(\"America/Los_Angeles\"),\n        TimeZone.getTimeZone(\"Pacific/Honolulu\")\n);\n\nCollections.sort(timeZones, new Comparator&lt;TimeZone&gt;() {\n    @Override\n    public int compare(TimeZone tz1, TimeZone tz2) {\n        return tz2.getRawOffset() - tz1.getRawOffset();\n    }\n});\n\n//Impl note: see AbstractList.equals\nSystem.out.println(timeZones.equals(expectedOrder)); //true\n</code></pre>\n\n<p>But I'm still wondering whether there are pitfalls to this solution and/or if there's something preferable.</p>\n"},{"tags":[],"owner":{"account_id":141350,"reputation":16113,"user_id":348312,"display_name":"jim mcnamara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362189501,"creation_date":1362185476,"answer_id":15169378,"question_id":15169108,"body_markdown":"Timezones are purely political, so  any use of them that is non-conforming will cause LOTS of problems for users, depending on what the app does and who needs it or uses it.  You question would be better asked by explaining why you need them ordered like that.  There are adjacent timezones where one uses DST the other does not.  So 60% of the year, the TZ1 == TZ2, the other 40% TZ1 &lt; TZ2.  Or whatever the case may be.\r\n\r\nThere are geographic (lat long) timezone data sets, and web sites to query for timezone.  Even current DST settings.  So you may have to settle for a data set that you need to update frequently at least yearly.  Or web access. \r\n\r\nYou probably should not assign magnitude to them.  Only geographic ordering - by longitude.\r\n\r\nFirst of if you could tell us what you are trying to do it&#39;d be great. And the answer is not:  strict a&gt;b&gt;c order based on local time.  I coded calendrics for a while, so I actually used to know this stuff.\r\nWhat explictly do believe requires this kind of ordering?","title":"How to compare TimeZones","body":"<p>Timezones are purely political, so  any use of them that is non-conforming will cause LOTS of problems for users, depending on what the app does and who needs it or uses it.  You question would be better asked by explaining why you need them ordered like that.  There are adjacent timezones where one uses DST the other does not.  So 60% of the year, the TZ1 == TZ2, the other 40% TZ1 &lt; TZ2.  Or whatever the case may be.</p>\n\n<p>There are geographic (lat long) timezone data sets, and web sites to query for timezone.  Even current DST settings.  So you may have to settle for a data set that you need to update frequently at least yearly.  Or web access. </p>\n\n<p>You probably should not assign magnitude to them.  Only geographic ordering - by longitude.</p>\n\n<p>First of if you could tell us what you are trying to do it'd be great. And the answer is not:  strict a>b>c order based on local time.  I coded calendrics for a while, so I actually used to know this stuff.\nWhat explictly do believe requires this kind of ordering?</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362186486,"creation_date":1362186486,"answer_id":15169483,"question_id":15169108,"body_markdown":"One might be able to create a `Comparator&lt;TimeZone&gt;` that takes into account time zone differences.  The `TimeZone` may or may not obvserve daylight savings time, which would adjust the raw offset, thus messing up raw-offset-only comparisons.  The `TimeZone` class seems to support the adjustment based on the 2 `getOffset` methods, but they need a reference date.  How about:\r\n\r\n    public class TimeZoneComparator implements Comparator&lt;TimeZone&gt;\r\n    {\r\n       private long date;\r\n\r\n       public TimeZoneComparator(long date)\r\n       {\r\n          this.date = date;\r\n       }\r\n\r\n       public int compare(TimeZone tz1, TimeZone tz2)\r\n       {\r\n          return tz2.getOffset(this.date) - tz2.getOffset(this.date);\r\n       }\r\n    }","title":"How to compare TimeZones","body":"<p>One might be able to create a <code>Comparator&lt;TimeZone&gt;</code> that takes into account time zone differences.  The <code>TimeZone</code> may or may not obvserve daylight savings time, which would adjust the raw offset, thus messing up raw-offset-only comparisons.  The <code>TimeZone</code> class seems to support the adjustment based on the 2 <code>getOffset</code> methods, but they need a reference date.  How about:</p>\n\n<pre><code>public class TimeZoneComparator implements Comparator&lt;TimeZone&gt;\n{\n   private long date;\n\n   public TimeZoneComparator(long date)\n   {\n      this.date = date;\n   }\n\n   public int compare(TimeZone tz1, TimeZone tz2)\n   {\n      return tz2.getOffset(this.date) - tz2.getOffset(this.date);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4424725,"reputation":3024,"user_id":3603493,"display_name":"Ruwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681367149,"creation_date":1681365788,"answer_id":76002125,"question_id":15169108,"body_markdown":"    java.util.TimeZone#hasSameRules\r\n\r\nis made for this and exists already. It compares two TimeZones about their offsets and whether they are using daylightTime.\r\n \r\n\r\n    public boolean hasSameRules(TimeZone other) {\r\n        return other != null &amp;&amp; getRawOffset() == other.getRawOffset() &amp;&amp;\r\n            useDaylightTime() == other.useDaylightTime();\r\n    }","title":"How to compare TimeZones","body":"<pre><code>java.util.TimeZone#hasSameRules\n</code></pre>\n<p>is made for this and exists already. It compares two TimeZones about their offsets and whether they are using daylightTime.</p>\n<pre><code>public boolean hasSameRules(TimeZone other) {\n    return other != null &amp;&amp; getRawOffset() == other.getRawOffset() &amp;&amp;\n        useDaylightTime() == other.useDaylightTime();\n}\n</code></pre>\n"}],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7040,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":15169483,"answer_count":4,"score":6,"last_activity_date":1681367149,"creation_date":1362183550,"question_id":15169108,"body_markdown":"I need to compare time zones such that `Asia/Singapore` &lt; `UTC` &lt; `Pacific/Honolulu`.\n\nI&#39;m working with [`java.util.TimeZone`][1] (which doesn&#39;t implement [`Comparable`][2]).\n\nMy search for an existing implementation was unsuccessful because of the overwhelming number of questions about comparing dates with different time zones.\n\n**Question:** What is a correct implementation of `Comparator&lt;TimeZone&gt;` that will solve this problem (and what makes it better than other solutions, if applicable)?\n\nNote that I&#39;m not able to use [Joda Time][3] for this problem, so &quot;use Joda Time&quot; is not a valid answer.\n\n### Edit for clarity ###\n\nThe `&lt;` notation above was not well defined. My particular use case only requires a naive &quot;geographical&quot; ordering from east to west. As the comments have pointed out, a more advanced and generalizable solution would take into account temporal factors like daylight savings time and historical GMT offset changes. So I think there are two orderings we can consider, each requiring a different `Comparator&lt;TimeZone&gt;` implementation:\n\n - Strictly geographical (current UTC) - addressed by [my answer][4].\n - Sensitive to local or civil time changes - addressed by [rgettman&#39;s answer][5].\n\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\n  [3]: http://joda-time.sourceforge.net/\n  [4]: https://stackoverflow.com/a/15169112/697449\n  [5]: https://stackoverflow.com/a/15169483/697449","title":"How to compare TimeZones","body":"<p>I need to compare time zones such that <code>Asia/Singapore</code> &lt; <code>UTC</code> &lt; <code>Pacific/Honolulu</code>.</p>\n<p>I'm working with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\"><code>java.util.TimeZone</code></a> (which doesn't implement <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>).</p>\n<p>My search for an existing implementation was unsuccessful because of the overwhelming number of questions about comparing dates with different time zones.</p>\n<p><strong>Question:</strong> What is a correct implementation of <code>Comparator&lt;TimeZone&gt;</code> that will solve this problem (and what makes it better than other solutions, if applicable)?</p>\n<p>Note that I'm not able to use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">Joda Time</a> for this problem, so &quot;use Joda Time&quot; is not a valid answer.</p>\n<h3>Edit for clarity</h3>\n<p>The <code>&lt;</code> notation above was not well defined. My particular use case only requires a naive &quot;geographical&quot; ordering from east to west. As the comments have pointed out, a more advanced and generalizable solution would take into account temporal factors like daylight savings time and historical GMT offset changes. So I think there are two orderings we can consider, each requiring a different <code>Comparator&lt;TimeZone&gt;</code> implementation:</p>\n<ul>\n<li>Strictly geographical (current UTC) - addressed by <a href=\"https://stackoverflow.com/a/15169112/697449\">my answer</a>.</li>\n<li>Sensitive to local or civil time changes - addressed by <a href=\"https://stackoverflow.com/a/15169483/697449\">rgettman's answer</a>.</li>\n</ul>\n"},{"tags":["javascript","java","android","web","android-deep-link"],"owner":{"account_id":17534236,"reputation":113,"user_id":12717690,"display_name":"Shivam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681367063,"creation_date":1681366699,"question_id":76002218,"body_markdown":"When the url is searched in google search  bar it should be opened in app but when the link is typed in chrome address bar it should work in browser only, how can i achieve this? Behaviour of the app like Amazon app. I can apply normal deeplinking where link is opened from anywhere in the device.","title":"How to apply dynamic Deeplinking even if the app is installed in both cases","body":"<p>When the url is searched in google search  bar it should be opened in app but when the link is typed in chrome address bar it should work in browser only, how can i achieve this? Behaviour of the app like Amazon app. I can apply normal deeplinking where link is opened from anywhere in the device.</p>\n"},{"tags":["java","security","keystore","private-key"],"answers":[{"tags":[],"owner":{"account_id":5504458,"reputation":791,"user_id":4374481,"display_name":"Palamino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501518708,"creation_date":1501518708,"answer_id":45421059,"question_id":45420848,"body_markdown":"You are appending to the existing keystore instead of replacing it because you are passing &quot;true&quot; to the FileOutputStream constructor.\r\n\r\n    FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\r\n\r\nReplace the line above with the following:\r\n\r\n    FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME));","title":"KeyStore not saving to file","body":"<p>You are appending to the existing keystore instead of replacing it because you are passing \"true\" to the FileOutputStream constructor.</p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\n</code></pre>\n\n<p>Replace the line above with the following:</p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6128722,"reputation":747,"user_id":4779728,"accept_rate":96,"display_name":"develop1"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1501720053,"creation_date":1501520309,"answer_id":45421513,"question_id":45420848,"body_markdown":"The problem was in the `FileOutputStream` was pointing to the wrong file. \r\n\r\n    FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\r\n\r\nShould be using the `getFile2` method like this:\r\n\r\n    FileOutputStream out = new FileOutputStream(getFile2(Constants.JKS_PRIVATE_FILE_NAME));\r\n\r\nAs Palamino pointed out, don&#39;t need to include `true` in the `FileOutputStream` constructor.\r\n\r\nAlso the key store should have been using the JKS file password, not the password that is generated by `getKeyPassword()`.\r\n\r\nChanged this: \r\n\r\n    keyStore.store(out, pass);\r\n\r\nTo use the JKS file password, like this:\r\n\r\n    keyStore.store(out, Constants.JKS_PRIVATE_FILE_PASSWORD);\r\n\r\n\r\n","title":"KeyStore not saving to file","body":"<p>The problem was in the <code>FileOutputStream</code> was pointing to the wrong file. </p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\n</code></pre>\n\n<p>Should be using the <code>getFile2</code> method like this:</p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(getFile2(Constants.JKS_PRIVATE_FILE_NAME));\n</code></pre>\n\n<p>As Palamino pointed out, don't need to include <code>true</code> in the <code>FileOutputStream</code> constructor.</p>\n\n<p>Also the key store should have been using the JKS file password, not the password that is generated by <code>getKeyPassword()</code>.</p>\n\n<p>Changed this: </p>\n\n<pre><code>keyStore.store(out, pass);\n</code></pre>\n\n<p>To use the JKS file password, like this:</p>\n\n<pre><code>keyStore.store(out, Constants.JKS_PRIVATE_FILE_PASSWORD);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681366984,"creation_date":1681366984,"answer_id":76002254,"question_id":45420848,"body_markdown":"If you are using Keystore on VM, then you can Run the Keystore as Administrator. Redo all the steps as per your requirement.\r\nAnd then again try saving the file.\r\n\r\nIn my case, the issue was that I was not running the Keystore as Administrator.","title":"KeyStore not saving to file","body":"<p>If you are using Keystore on VM, then you can Run the Keystore as Administrator. Redo all the steps as per your requirement.\nAnd then again try saving the file.</p>\n<p>In my case, the issue was that I was not running the Keystore as Administrator.</p>\n"}],"owner":{"account_id":6128722,"reputation":747,"user_id":4779728,"accept_rate":96,"display_name":"develop1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45421513,"answer_count":3,"score":0,"last_activity_date":1681366984,"creation_date":1501517985,"question_id":45420848,"body_markdown":"I am trying to store multiple private keys in a JKS file using the Java KeyStore library. I created a method which writes and reads to the JKS file but the private key isn&#39;t being saved in the file. \r\n\r\nWhen I store something into the KeyStore I can get all the aliases in the keystore and the new key is there. Once the method is closed and the same key is attempted to be pulled it does not find the key.\r\n\r\nMain.java\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        //Create keys\r\n        main m = new main();\r\n\t\tm.getOrSetPrivateKey(&quot;123&quot;, &quot;123&quot;, privateKey, false);\r\n\r\n\t\tPrivateKey p = m.getOrSetPrivateKey(&quot;123&quot;, &quot;123&quot;, null, true);\r\n\r\n\t\tif (p.equals(c.getPriv_key()))\r\n\t\t\tSystem.err.println(&quot;Equal&quot;);\r\n\t\telse\r\n\t\t\tSystem.err.println(&quot;Not equal !!!!!!!!&quot;);\r\n\r\n    }\r\n\r\n\r\n    private synchronized PrivateKey getOrSetPrivateKey(String alias, String id, PrivateKey c, boolean read ) throws InterruptedException, IOException, KeyStoreException, NoSuchAlgorithmException, CertificateException, InvalidKeySpecException, NotSupportedException, UnrecoverableKeyException {\r\n\t\tPrivateKey key = null; \r\n\r\n\t\tInputStream inpusStream = new FileInputStream(getFile2(Constants.JKS_PRIVATE_FILE_NAME));\r\n\t\tKeyStore keyStore = null;\r\n\t\ttry {\r\n\t\t\tkeyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tkeyStore.load(inpusStream, Constants.JKS_PRIVATE_FILE_PASSWORD);\r\n\t\t} finally {\r\n\t\t\tif (inpusStream != null)\r\n\t\t\t\tinpusStream.close();\r\n\t\t}\r\n\t\tEnumeration&lt;String&gt; s = keyStore.aliases();\r\n\r\n\t\twhile (s.hasMoreElements())\r\n\t\t\tSystem.err.println(&quot;[ &quot; + s.nextElement() + &quot; ]&quot;);\r\n\r\n\t\t//Generate password for this private key\r\n\t\tchar [] pass = getKeyPassword(c, alias, id);\r\n\r\n\r\n\t\tif (read == true) { //If reading/getting private key from file store\r\n\t\t\tboolean isKeyEntry = keyStore.isKeyEntry(alias);//Check if there is a key with the alias deviceSerialnumber\r\n\t\t\tif (!isKeyEntry) {//No key with this alias exists\r\n\t\t\t\tthrow new KeyStoreException(&quot;No key with alias &quot; + alias + &quot; exists!&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tkey = (PrivateKey) keyStore.getKey(alias, pass);\r\n\r\n\t\t} else { //Writing/ saving key to the file store\r\n\t\t\tkeyStore.setKeyEntry(alias, c , pass, new Certificate[] { createCertificate() });\r\n\t\t\tFileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\r\n\t\t\ttry { \r\n\t\t\t\tkeyStore.store(out, pass);\r\n\r\n\t\t\t\tSystem.out.println(&quot;Alias exists = &quot; + keyStore.containsAlias(alias));\r\n\t\t\t} finally { \r\n\t\t\t\tif (out != null)\r\n\t\t\t\t\tout.close();\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\ts = keyStore.aliases();\r\n\r\n\t\twhile (s.hasMoreElements())\r\n\t\t\tSystem.err.println(&quot;( &quot; + s.nextElement() + &quot; )&quot;);\r\n\r\n\t\treturn key;\r\n\t}\r\n\r\n\r\nOutput:\r\n\r\n    [ mykey ]\r\n    ( 123 )\r\n    ( mykey )\r\n    Alias exists = true\r\n    [ mykey ]\r\n    Exception in thread &quot;main&quot; java.security.KeyStoreException: No key with alias 123 exists!\r\n\r\nWhy is the key not being saved to the JKS file file?\r\n\r\n\r\n","title":"KeyStore not saving to file","body":"<p>I am trying to store multiple private keys in a JKS file using the Java KeyStore library. I created a method which writes and reads to the JKS file but the private key isn't being saved in the file. </p>\n\n<p>When I store something into the KeyStore I can get all the aliases in the keystore and the new key is there. Once the method is closed and the same key is attempted to be pulled it does not find the key.</p>\n\n<p>Main.java</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    //Create keys\n    main m = new main();\n    m.getOrSetPrivateKey(\"123\", \"123\", privateKey, false);\n\n    PrivateKey p = m.getOrSetPrivateKey(\"123\", \"123\", null, true);\n\n    if (p.equals(c.getPriv_key()))\n        System.err.println(\"Equal\");\n    else\n        System.err.println(\"Not equal !!!!!!!!\");\n\n}\n\n\nprivate synchronized PrivateKey getOrSetPrivateKey(String alias, String id, PrivateKey c, boolean read ) throws InterruptedException, IOException, KeyStoreException, NoSuchAlgorithmException, CertificateException, InvalidKeySpecException, NotSupportedException, UnrecoverableKeyException {\n    PrivateKey key = null; \n\n    InputStream inpusStream = new FileInputStream(getFile2(Constants.JKS_PRIVATE_FILE_NAME));\n    KeyStore keyStore = null;\n    try {\n        keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(inpusStream, Constants.JKS_PRIVATE_FILE_PASSWORD);\n    } finally {\n        if (inpusStream != null)\n            inpusStream.close();\n    }\n    Enumeration&lt;String&gt; s = keyStore.aliases();\n\n    while (s.hasMoreElements())\n        System.err.println(\"[ \" + s.nextElement() + \" ]\");\n\n    //Generate password for this private key\n    char [] pass = getKeyPassword(c, alias, id);\n\n\n    if (read == true) { //If reading/getting private key from file store\n        boolean isKeyEntry = keyStore.isKeyEntry(alias);//Check if there is a key with the alias deviceSerialnumber\n        if (!isKeyEntry) {//No key with this alias exists\n            throw new KeyStoreException(\"No key with alias \" + alias + \" exists!\");\n        }\n\n        key = (PrivateKey) keyStore.getKey(alias, pass);\n\n    } else { //Writing/ saving key to the file store\n        keyStore.setKeyEntry(alias, c , pass, new Certificate[] { createCertificate() });\n        FileOutputStream out = new FileOutputStream(new File(Constants.JKS_PRIVATE_FILE_NAME), true);\n        try { \n            keyStore.store(out, pass);\n\n            System.out.println(\"Alias exists = \" + keyStore.containsAlias(alias));\n        } finally { \n            if (out != null)\n                out.close();\n        } \n    }\n\n    s = keyStore.aliases();\n\n    while (s.hasMoreElements())\n        System.err.println(\"( \" + s.nextElement() + \" )\");\n\n    return key;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[ mykey ]\n( 123 )\n( mykey )\nAlias exists = true\n[ mykey ]\nException in thread \"main\" java.security.KeyStoreException: No key with alias 123 exists!\n</code></pre>\n\n<p>Why is the key not being saved to the JKS file file?</p>\n"},{"tags":["java","jsp","jstl","jsp-tags","tomcat10"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1628450068,"post_id":68694873,"comment_id":121417646,"body_markdown":"You lack a dependency: `jakarta.servlet.jsp.jstl-api`. To use JSTL in Tomcat 10 you actually need two (and only two) artifacts (cf. [this answer](https://stackoverflow.com/a/4928309/11748454)).","body":"You lack a dependency: <code>jakarta.servlet.jsp.jstl-api</code>. To use JSTL in Tomcat 10 you actually need two (and only two) artifacts (cf. <a href=\"https://stackoverflow.com/a/4928309/11748454\">this answer</a>)."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1628452615,"post_id":68694873,"comment_id":121418251,"body_markdown":"Reading your update, might I remark that the aforementioned [answer by BalusC](https://stackoverflow.com/a/4928309/11748454) doesn&#39;t deal only with the XML namespace. It gives you the exact dependencies you must use in various Tomcat versions and their download links. It&#39;s a long answer, but worth reading.","body":"Reading your update, might I remark that the aforementioned <a href=\"https://stackoverflow.com/a/4928309/11748454\">answer by BalusC</a> doesn&#39;t deal only with the XML namespace. It gives you the exact dependencies you must use in various Tomcat versions and their download links. It&#39;s a long answer, but worth reading."},{"owner":{"account_id":1813722,"reputation":719,"user_id":1649282,"accept_rate":61,"display_name":"Jevison7x"},"score":0,"creation_date":1628453788,"post_id":68694873,"comment_id":121418512,"body_markdown":"Sorry, my bad, it appears I stopped at the part where he talked about the URI problem. However I have solved it in my own way. I will go back and test his solution for Tomcat 10 later.","body":"Sorry, my bad, it appears I stopped at the part where he talked about the URI problem. However I have solved it in my own way. I will go back and test his solution for Tomcat 10 later."},{"owner":{"account_id":188246,"reputation":10916,"user_id":426877,"accept_rate":77,"display_name":"Magnus"},"score":0,"creation_date":1691185851,"post_id":68694873,"comment_id":135463112,"body_markdown":"also check out this answer which worked for me https://stackoverflow.com/questions/75123103/java-lang-noclassdeffounderror-jakarta-servlet-jsp-jstl-core-config-in-tomcat","body":"also check out this answer which worked for me <a href=\"https://stackoverflow.com/questions/75123103/java-lang-noclassdeffounderror-jakarta-servlet-jsp-jstl-core-config-in-tomcat\" title=\"java lang noclassdeffounderror jakarta servlet jsp jstl core config in tomcat\">stackoverflow.com/questions/75123103/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13028926,"reputation":18,"user_id":9415949,"display_name":"chu3la"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1628463388,"creation_date":1628360612,"answer_id":68695079,"question_id":68694873,"body_markdown":"You could add JSTL1.2 Library to your application as shown below, jstl-impl.jar and jstl-api.jar added to the application\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75Jfi.png\r\n\r\nthe taglib directive that specifies the JSTL core library:\r\n\r\n    &lt;%taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nthe link to download the files \r\n\r\n   &lt;http://www.java2s.com/Code/Jar/j/Downloadjstlapi12jar.htm&gt;\r\n   &lt;http://www.java2s.com/Code/Jar/j/Downloadjstlimpl12jar.htm&gt;\r\n\r\ndon&#39;t forget to add both jar files to META-INF/lib, it will work fine without all those files that you&#39;ve put in your application","title":"java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag in Tomcat 10","body":"<p>You could add JSTL1.2 Library to your application as shown below, jstl-impl.jar and jstl-api.jar added to the application</p>\n<p><a href=\"https://i.stack.imgur.com/75Jfi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/75Jfi.png\" alt=\"enter image description here\" /></a></p>\n<p>the taglib directive that specifies the JSTL core library:</p>\n<pre><code>&lt;%taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n</code></pre>\n<p>the link to download the files</p>\n<p><a href=\"http://www.java2s.com/Code/Jar/j/Downloadjstlapi12jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjstlapi12jar.htm</a>\n<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjstlimpl12jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjstlimpl12jar.htm</a></p>\n<p>don't forget to add both jar files to META-INF/lib, it will work fine without all those files that you've put in your application</p>\n"},{"tags":[],"owner":{"account_id":1813722,"reputation":719,"user_id":1649282,"accept_rate":61,"display_name":"Jevison7x"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1628453176,"creation_date":1628453176,"answer_id":68704353,"question_id":68694873,"body_markdown":"I found a solution at last!\r\n\r\nI was able to download the required jar files [here][1]\r\n\r\nFor those who may be having the same problems:\r\nPlease Note: When adding the jar files, don&#39;t include the jakarta.servlet-api-5.0.0.jar file.\r\nTomcat 10 already has a similar jar file with the same classes and this caused another headache.\r\nI created a new Library and named it JSTL 2.0\r\n\r\nBelow is a screenshot of the jar files I added to the classpath.\r\n\r\nThis works fine for me!\r\n\r\n[![JSTL Solution][2]][2]\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api/2.0.0\r\n  [2]: https://i.stack.imgur.com/vSS61.png","title":"java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag in Tomcat 10","body":"<p>I found a solution at last!</p>\n<p>I was able to download the required jar files <a href=\"https://jar-download.com/artifacts/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api/2.0.0\" rel=\"noreferrer\">here</a></p>\n<p>For those who may be having the same problems:\nPlease Note: When adding the jar files, don't include the jakarta.servlet-api-5.0.0.jar file.\nTomcat 10 already has a similar jar file with the same classes and this caused another headache.\nI created a new Library and named it JSTL 2.0</p>\n<p>Below is a screenshot of the jar files I added to the classpath.</p>\n<p>This works fine for me!</p>\n<p><a href=\"https://i.stack.imgur.com/vSS61.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vSS61.png\" alt=\"JSTL Solution\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7345696,"reputation":61,"user_id":5593456,"display_name":"t&#226;m nguyễn c&#244;ng"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681366924,"creation_date":1681366924,"answer_id":76002247,"question_id":68694873,"body_markdown":"I managed to find a solution which is to add both these maven dependencies (The Tomcat version I use is 10.1.7):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPreviously, I only tried adding only one of them, only to find out that I had to add both.","title":"java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag in Tomcat 10","body":"<p>I managed to find a solution which is to add both these maven dependencies (The Tomcat version I use is 10.1.7):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Previously, I only tried adding only one of them, only to find out that I had to add both.</p>\n"}],"owner":{"account_id":1813722,"reputation":719,"user_id":1649282,"accept_rate":61,"display_name":"Jevison7x"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9750,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"closed_date":1681385368,"accepted_answer_id":68704353,"answer_count":3,"score":6,"last_activity_date":1681366924,"creation_date":1628359000,"question_id":68694873,"body_markdown":"I just migrated to Tomcat 10. After changing all references of javax.servlet packages to jakarta.servlet I still can&#39;t get my app to run.\r\n\r\nI have downloaded the JSTL 2.0 class libraries from [Here][1] and I added them to the classpath.\r\nI am using NetBeans with Ant.\r\nHere are my class libraries:\r\n\r\n[![Class Libraries][2]][2]\r\n\r\nAnd here is the JSTL jar files I added:\r\n\r\n[![JSTL Jar files][3]][3]\r\n\r\nIt throws the following Exception:\r\n\r\n    Type Exception Report\r\n\r\n    Message java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\r\n\r\n    Description The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\n    Exception\r\n\r\n    jakarta.servlet.ServletException: java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\r\n\t    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:332)\r\n\t    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\r\n\t    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t    com.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\r\n\r\n    Root Cause\r\n\r\n    java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\r\n\tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n\tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:866)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1370)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\r\n\torg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1232)\r\n\torg.apache.jasper.compiler.Parser.parseElements(Parser.java:1464)\r\n\torg.apache.jasper.compiler.Parser.parse(Parser.java:138)\r\n\torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n\torg.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\r\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:207)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:392)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:368)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:352)\r\n\torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tcom.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\r\n\r\n    Root Cause\r\n\r\n    java.lang.ClassNotFoundException: jakarta.servlet.jsp.jstl.core.LoopTag\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1401)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\r\n\tjava.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tjava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n\tjava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:866)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1370)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\r\n\torg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1232)\r\n\torg.apache.jasper.compiler.Parser.parseElements(Parser.java:1464)\r\n\torg.apache.jasper.compiler.Parser.parse(Parser.java:138)\r\n\torg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n\torg.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\r\n\torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:207)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:392)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:368)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:352)\r\n\torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tcom.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\r\n\r\n    Note The full stack trace of the root cause is available in the server logs.\r\n\r\nMy JSP/HTML code:\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;c:set var=&quot;home&quot; value=&quot;active&quot; scope=&quot;request&quot; /&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Xyneex Technologies | Home &lt;/title&gt;\r\n            &lt;jsp:include page=&quot;WEB-INF/fragments/head.jsp&quot; /&gt;\r\n            &lt;style&gt;\r\n         ...\r\n\r\nI have seen similar questions here in StackOverflow but they are talking about Tomcat 7.\r\n\r\nI am using Tomcat 10 with JDK 16.\r\n\r\nPlease what is the solution to this problem?\r\n\r\n**EDIT:**\r\n\r\nBased on suggestion, [This Question and Answer][4] is not the same problem as mine. As the answer addresses JSTL URI and I have checked and confirmed that I am using the correct URI. I strongly believe the problem has to do with incorrect JSTL jar files in my JSTL library which I cannot determine which ones to use.\r\n\r\n**EDIT 2:**\r\n\r\nAfter digging around for hours I was able to find a solution which I have provided in my answer.\r\nThanks for your suggestions.\r\n\r\n**EDIT 3:**\r\n\r\n[This Answer][5] by BalusC seems to address the problem with Tomcat 10. Please make sure when reading the answer, you scroll down to the Tomcat 10 part. I must have missed it the first time because I thought he only talked about the URI.\r\n\r\nThanks to [Piotr P. Karwasz][6] for pointing it out for me.\r\n\r\n\r\n\r\n\r\n  [1]: https://repo1.maven.org/maven2/org/glassfish/web/jakarta.servlet.jsp.jstl/\r\n  [2]: https://i.stack.imgur.com/JE3G0.png\r\n  [3]: https://i.stack.imgur.com/aPI4u.png\r\n  [4]: https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r\r\n  [5]: https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r/4928309#4928309\r\n  [6]: https://stackoverflow.com/users/11748454/piotr-p-karwasz","title":"java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag in Tomcat 10","body":"<p>I just migrated to Tomcat 10. After changing all references of javax.servlet packages to jakarta.servlet I still can't get my app to run.</p>\n<p>I have downloaded the JSTL 2.0 class libraries from <a href=\"https://repo1.maven.org/maven2/org/glassfish/web/jakarta.servlet.jsp.jstl/\" rel=\"noreferrer\">Here</a> and I added them to the classpath.\nI am using NetBeans with Ant.\nHere are my class libraries:</p>\n<p><a href=\"https://i.stack.imgur.com/JE3G0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JE3G0.png\" alt=\"Class Libraries\" /></a></p>\n<p>And here is the JSTL jar files I added:</p>\n<p><a href=\"https://i.stack.imgur.com/aPI4u.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aPI4u.png\" alt=\"JSTL Jar files\" /></a></p>\n<p>It throws the following Exception:</p>\n<pre><code>Type Exception Report\n\nMessage java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njakarta.servlet.ServletException: java.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:332)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    com.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\n\nRoot Cause\n\njava.lang.NoClassDefFoundError: jakarta/servlet/jsp/jstl/core/LoopTag\njava.base/java.lang.ClassLoader.defineClass1(Native Method)\njava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\njava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\norg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\norg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:866)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1370)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\norg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1232)\norg.apache.jasper.compiler.Parser.parseElements(Parser.java:1464)\norg.apache.jasper.compiler.Parser.parse(Parser.java:138)\norg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\norg.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\norg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:207)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:392)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:368)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:352)\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\ncom.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\n\nRoot Cause\n\njava.lang.ClassNotFoundException: jakarta.servlet.jsp.jstl.core.LoopTag\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1401)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\njava.base/java.lang.ClassLoader.defineClass1(Native Method)\njava.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\njava.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\norg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2470)\norg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:866)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1370)\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1224)\norg.apache.jasper.compiler.Parser.parseCustomTag(Parser.java:1232)\norg.apache.jasper.compiler.Parser.parseElements(Parser.java:1464)\norg.apache.jasper.compiler.Parser.parse(Parser.java:138)\norg.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\norg.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\norg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:207)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:392)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:368)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:352)\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:770)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\ncom.xyneex.post.PostFilter.doFilter(PostFilter.java:163)\n\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<p>My JSP/HTML code:</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;c:set var=&quot;home&quot; value=&quot;active&quot; scope=&quot;request&quot; /&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Xyneex Technologies | Home &lt;/title&gt;\n        &lt;jsp:include page=&quot;WEB-INF/fragments/head.jsp&quot; /&gt;\n        &lt;style&gt;\n     ...\n</code></pre>\n<p>I have seen similar questions here in StackOverflow but they are talking about Tomcat 7.</p>\n<p>I am using Tomcat 10 with JDK 16.</p>\n<p>Please what is the solution to this problem?</p>\n<p><strong>EDIT:</strong></p>\n<p>Based on suggestion, <a href=\"https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r\">This Question and Answer</a> is not the same problem as mine. As the answer addresses JSTL URI and I have checked and confirmed that I am using the correct URI. I strongly believe the problem has to do with incorrect JSTL jar files in my JSTL library which I cannot determine which ones to use.</p>\n<p><strong>EDIT 2:</strong></p>\n<p>After digging around for hours I was able to find a solution which I have provided in my answer.\nThanks for your suggestions.</p>\n<p><strong>EDIT 3:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r/4928309#4928309\">This Answer</a> by BalusC seems to address the problem with Tomcat 10. Please make sure when reading the answer, you scroll down to the Tomcat 10 part. I must have missed it the first time because I thought he only talked about the URI.</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/11748454/piotr-p-karwasz\">Piotr P. Karwasz</a> for pointing it out for me.</p>\n"},{"tags":["java","list","oop","design-patterns","decorator"],"comments":[{"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1492901784,"post_id":43565475,"comment_id":74181861,"body_markdown":"It&#39;s not about the list of discount or taxes you have to subtract or to add at cost. It&#39;s about the behaviours you&#39;re handling with the decorator pattern. And, believe me, it&#39;s harder handle that behaviours with a list instead of with the inheritance.","body":"It&#39;s not about the list of discount or taxes you have to subtract or to add at cost. It&#39;s about the behaviours you&#39;re handling with the decorator pattern. And, believe me, it&#39;s harder handle that behaviours with a list instead of with the inheritance."},{"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"score":0,"creation_date":1492902254,"post_id":43565475,"comment_id":74181945,"body_markdown":"Can you give an example using this case? Or maybe another random case? I really cannot imagine a situation in which this occurs.","body":"Can you give an example using this case? Or maybe another random case? I really cannot imagine a situation in which this occurs."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":6,"creation_date":1492902349,"post_id":43565475,"comment_id":74181960,"body_markdown":"This seems like a question which is better for [softwareengineering.stackexchange.com](https://softwareengineering.stackexchange.com). Personally I think that is a terrible use of Decorator (Wikipedia has an example like that too, I think) and can absolutely be solved with a list in a much more manageable way. `java.io.InputStream` is an example of Decorator where it works well. However, you can already see there is a user who disagrees with me, which is why this is probably off-topic for SO.","body":"This seems like a question which is better for <a href=\"https://softwareengineering.stackexchange.com\">softwareengineering.stackexchange.com</a>. Personally I think that is a terrible use of Decorator (Wikipedia has an example like that too, I think) and can absolutely be solved with a list in a much more manageable way. <code>java.io.InputStream</code> is an example of Decorator where it works well. However, you can already see there is a user who disagrees with me, which is why this is probably off-topic for SO."},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":10,"creation_date":1492902383,"post_id":43565475,"comment_id":74181968,"body_markdown":"This is a pretty contrived example.  Book exercises often are.  Your instinct is good, which shows that you understood the example.  Using inheritance to model condiments would be an anti pattern for me, but as an easy to get example it works.  In real life I would use a list too.  The decorator pattern is best used when you are enhancing the behaviour of an existing object.  For example composing hash maps together or adding a default value to a hash map.","body":"This is a pretty contrived example.  Book exercises often are.  Your instinct is good, which shows that you understood the example.  Using inheritance to model condiments would be an anti pattern for me, but as an easy to get example it works.  In real life I would use a list too.  The decorator pattern is best used when you are enhancing the behaviour of an existing object.  For example composing hash maps together or adding a default value to a hash map."},{"owner":{"account_id":134590,"reputation":26815,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1492902839,"post_id":43565475,"comment_id":74182058,"body_markdown":"@PedroPaternostro I think the example given by @Radiodef, [`java.io.InputStream` class and discendents](http://journals.ecs.soton.ac.uk/java/tutorial/java/io/overview.html), is pretty interesting and more pertinent.","body":"@PedroPaternostro I think the example given by @Radiodef, <a href=\"http://journals.ecs.soton.ac.uk/java/tutorial/java/io/overview.html\" rel=\"nofollow noreferrer\"><code>java.io.InputStream</code> class and discendents</a>, is pretty interesting and more pertinent."},{"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"score":0,"creation_date":1492903442,"post_id":43565475,"comment_id":74182155,"body_markdown":"Thank you all so much, @Radiodef I will give a deeper look to this case. Anyone have anything to say about it in advance? Why it is a good case of use, what you gain staying true to the decorator and avoiding other approaches, like lists?","body":"Thank you all so much, @Radiodef I will give a deeper look to this case. Anyone have anything to say about it in advance? Why it is a good case of use, what you gain staying true to the decorator and avoiding other approaches, like lists?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":4,"creation_date":1492903824,"post_id":43565475,"comment_id":74182227,"body_markdown":"InputStream is good because you are wrapping a lower-level source with higher-level abstractions. You start with a source like byte array, URL, file, etc., then say &quot;Forget about that. Now I just want to get objects out of it&quot; and wrap it in an ObjectInputStream. With InputStream you actually want to more or less forget about the object you are decorating. With the beverage example, at some point you will need to e.g. iterate all of the ingredients and put them in a table or something, and then Decorator is just a clunky linked list.","body":"InputStream is good because you are wrapping a lower-level source with higher-level abstractions. You start with a source like byte array, URL, file, etc., then say &quot;Forget about that. Now I just want to get objects out of it&quot; and wrap it in an ObjectInputStream. With InputStream you actually want to more or less forget about the object you are decorating. With the beverage example, at some point you will need to e.g. iterate all of the ingredients and put them in a table or something, and then Decorator is just a clunky linked list."},{"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"score":0,"creation_date":1492904253,"post_id":43565475,"comment_id":74182320,"body_markdown":"@ChrisK Thank you very much, I actually thought I was retarded for not understanding this case! :p\n\nI will definitely search for the pattern on harshmaps, do you have any source on it?","body":"@ChrisK Thank you very much, I actually thought I was retarded for not understanding this case! :p  I will definitely search for the pattern on harshmaps, do you have any source on it?"},{"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"score":0,"creation_date":1492905040,"post_id":43565475,"comment_id":74182487,"body_markdown":"@Radiodef I appreciate the patience, if you like post your comments as an answer, for it will be more visible to future wanderers. Thanks :)","body":"@Radiodef I appreciate the patience, if you like post your comments as an answer, for it will be more visible to future wanderers. Thanks :)"},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1492971327,"post_id":43565475,"comment_id":74199644,"body_markdown":"@paternostro Raadiodef&#39;s reference to InputStream is spot on, BufferedInput is an excellent example of the decorator pattern in action in a situation that is very good design.  I would go with that.  The following resource may also help you: http://howtodoinjava.com/design-patterns/structural/decorator-design-pattern/","body":"@paternostro Raadiodef&#39;s reference to InputStream is spot on, BufferedInput is an excellent example of the decorator pattern in action in a situation that is very good design.  I would go with that.  The following resource may also help you: <a href=\"http://howtodoinjava.com/design-patterns/structural/decorator-design-pattern/\" rel=\"nofollow noreferrer\">howtodoinjava.com/design-patterns/structural/&hellip;</a>"},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1539008310,"post_id":43565475,"comment_id":92335091,"body_markdown":"yes lists fits better than decorator pattern in the example you took, but usually the books try to explain the usuage of a pattern in easy to understand example. Refer my answer below, hope it will be of some help.","body":"yes lists fits better than decorator pattern in the example you took, but usually the books try to explain the usuage of a pattern in easy to understand example. Refer my answer below, hope it will be of some help."}],"answers":[{"tags":[],"owner":{"account_id":1293644,"reputation":3921,"user_id":1245254,"accept_rate":75,"display_name":"Florian Salihovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493023744,"creation_date":1492939715,"answer_id":43569432,"question_id":43565475,"body_markdown":"You should distinguish data from behaviour.\r\n\r\nA decorator is a layer of indirection dealing with a very specific problem. The data (in terms of types, contracts, protocols etc) stays the same, but you get more flexibility regarding the implementation. With a decorator, you can reuse existing functionality and start adding changes - in conjunction with an adapter in place, you can basically slowly start migrating from pone API to a different one and stay compatible.\r\n\r\nLists should only be responsible for providing access to the contained data in a specific way. Performing tasks on the data / processing the data contained by the lists should be done by function / objects / classes with different responsibilities.","title":"Using Lists Instead of Decorator Pattern?","body":"<p>You should distinguish data from behaviour.</p>\n\n<p>A decorator is a layer of indirection dealing with a very specific problem. The data (in terms of types, contracts, protocols etc) stays the same, but you get more flexibility regarding the implementation. With a decorator, you can reuse existing functionality and start adding changes - in conjunction with an adapter in place, you can basically slowly start migrating from pone API to a different one and stay compatible.</p>\n\n<p>Lists should only be responsible for providing access to the contained data in a specific way. Performing tasks on the data / processing the data contained by the lists should be done by function / objects / classes with different responsibilities.</p>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493297148,"creation_date":1493296525,"answer_id":43657977,"question_id":43565475,"body_markdown":"What you are telling is a way to calculate the total cost of the beverage. In more general terms you are proposing an alternative way to merge &amp; execute the main behavior of each of the derived objects supposed by the Decorator Pattern, by adding up them into a list. And it is not quite an OO approach too.\r\n\r\nBut the original intent of [Decorator Pattern][1] goes to a much wider perspective other than that. It is ***Adding extended functionalities to an object dynamically***. Which means I have some object `O1` &amp; I want it to convert it into another object `O2` with extended functionality &amp; yet to be those 2 are interchangeable.\r\n\r\nSo it is about how we can manage the ***Object Evolution*** against the ***[Object Lifecycle][2]***. Hope you got the idea. :))\r\n\r\n\r\n  [1]: https://sourcemaking.com/design_patterns/decorator\r\n  [2]: https://en.wikipedia.org/wiki/Object_lifetime","title":"Using Lists Instead of Decorator Pattern?","body":"<p>What you are telling is a way to calculate the total cost of the beverage. In more general terms you are proposing an alternative way to merge &amp; execute the main behavior of each of the derived objects supposed by the Decorator Pattern, by adding up them into a list. And it is not quite an OO approach too.</p>\n\n<p>But the original intent of <a href=\"https://sourcemaking.com/design_patterns/decorator\" rel=\"nofollow noreferrer\">Decorator Pattern</a> goes to a much wider perspective other than that. It is <strong><em>Adding extended functionalities to an object dynamically</em></strong>. Which means I have some object <code>O1</code> &amp; I want it to convert it into another object <code>O2</code> with extended functionality &amp; yet to be those 2 are interchangeable.</p>\n\n<p>So it is about how we can manage the <strong><em>Object Evolution</em></strong> against the <strong><em><a href=\"https://en.wikipedia.org/wiki/Object_lifetime\" rel=\"nofollow noreferrer\">Object Lifecycle</a></em></strong>. Hope you got the idea. :))</p>\n"},{"tags":[],"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1591156059,"creation_date":1493298290,"answer_id":43658739,"question_id":43565475,"body_markdown":"`Decorator` pattern is about decorating ( enhancing ) an object with additional features at runtime.\r\n\r\nSuppose you already have a class, lets call it class `A` which implements an interface `IA`. Now if there is a requirement of adding an additional feature for which we want it to have a method ,`someAlignFeatureToA()` which was not there in `A`. Now you have an option of extending the class `A`. Another approach is `Composition` which should be favoured over `Inheritance`. You can wrap the object of class `A` in another class `B` implwmenting the same `Interface` as of `A` i.e. `IA`. This way for the client code it would be easy to accept the object of class B as it has the same interface as of A. (Assumption is the code is well written which depends on the Abstractions (interface `IA`) and not on concrete classes like class `A`). \r\n\r\nThis way the inheritance chain is not too long and you can add additional features at runtime easily. \r\n\r\n**Now coming to your question** : Yes in the example you took in your question, a List fits better, but I feel its the intention of the author to explain usuage of Decorator pattern with an easy example. \r\nSuppose Coffee is made up of milk, coffee mix and sugar. Coffee mix is further made up of smaller components . Here the solution emerges similar to Composite pattern. \r\n\r\nDecorator pattern is design pattern based on Enhancement of Behavior. Java IO streams uses this where behavior (method implementation) is enhanced by the decorating class (one stream is wrapped with another to enhance the previous one)","title":"Using Lists Instead of Decorator Pattern?","body":"<p><code>Decorator</code> pattern is about decorating ( enhancing ) an object with additional features at runtime.</p>\n\n<p>Suppose you already have a class, lets call it class <code>A</code> which implements an interface <code>IA</code>. Now if there is a requirement of adding an additional feature for which we want it to have a method ,<code>someAlignFeatureToA()</code> which was not there in <code>A</code>. Now you have an option of extending the class <code>A</code>. Another approach is <code>Composition</code> which should be favoured over <code>Inheritance</code>. You can wrap the object of class <code>A</code> in another class <code>B</code> implwmenting the same <code>Interface</code> as of <code>A</code> i.e. <code>IA</code>. This way for the client code it would be easy to accept the object of class B as it has the same interface as of A. (Assumption is the code is well written which depends on the Abstractions (interface <code>IA</code>) and not on concrete classes like class <code>A</code>). </p>\n\n<p>This way the inheritance chain is not too long and you can add additional features at runtime easily. </p>\n\n<p><strong>Now coming to your question</strong> : Yes in the example you took in your question, a List fits better, but I feel its the intention of the author to explain usuage of Decorator pattern with an easy example. \nSuppose Coffee is made up of milk, coffee mix and sugar. Coffee mix is further made up of smaller components . Here the solution emerges similar to Composite pattern. </p>\n\n<p>Decorator pattern is design pattern based on Enhancement of Behavior. Java IO streams uses this where behavior (method implementation) is enhanced by the decorating class (one stream is wrapped with another to enhance the previous one)</p>\n"},{"tags":[],"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539012905,"creation_date":1539012905,"answer_id":52705696,"question_id":43565475,"body_markdown":"Disclaimer: the terminology and code snippets I use are taken from [this article][1].\r\n\r\nAs you noticed, there are two possible designs to &quot;decorate&quot; an object. Both approaches can achieve the same functionality, the main difference is the *context of use*.\r\n\r\nVertical decorator\r\n=\r\n\r\n    Numbers numbers = new Sorted(\r\n      new Unique(\r\n        new Odds(\r\n          new Positive(\r\n            new ArrayNumbers(\r\n              new Integer[] {\r\n                -1, 78, 4, -34, 98, 4,\r\n              }\r\n            )\r\n          )\r\n        )\r\n      )\r\n    );\r\n\r\nThis is the most common approach to implement decorators. I almost exclusively implement my decorators in this way because I find it the more &quot;natural&quot; and simple way. It is suited when the number of decorator is not too much (how much is subject to programmer&#39;s interpretation).\r\nIt is also well-suited when some objects need to be extended dynamically: when it is not known at instanciation time which decorators are needed.\r\n\r\nHorizontal decorator\r\n=\r\n\r\n    Numbers numbers = new Modified(\r\n      new ArrayNumbers(\r\n        new Integer[] {\r\n          -1, 78, 4, -34, 98, 4,\r\n        }\r\n      ),\r\n      new Diff[] {\r\n        new Positive(),\r\n        new Odds(),\r\n        new Unique(),\r\n        new Sorted(),\r\n      }\r\n    );\r\n\r\nIn very rare cases (when the number of decorators starts to grow), I make the design choice to &quot;flatten&quot; the decorators in a list-like structure. This has the advantage to simplify the reading of the code but has the disadvantage to lose the flexibility at runtime: one needs to know at object&#39;s creation which decorator to apply (this is especially true in the context of immutability, which I try to foster), so this may be a no-go depending on the application.\r\n\r\nIn the end, it is only a design decision that you have to make between flexibility &amp; readability.\r\n\r\n\r\n  [1]: https://www.yegor256.com/2015/10/01/vertical-horizontal-decorating.html","title":"Using Lists Instead of Decorator Pattern?","body":"<p>Disclaimer: the terminology and code snippets I use are taken from <a href=\"https://www.yegor256.com/2015/10/01/vertical-horizontal-decorating.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n\n<p>As you noticed, there are two possible designs to \"decorate\" an object. Both approaches can achieve the same functionality, the main difference is the <em>context of use</em>.</p>\n\n<h1>Vertical decorator</h1>\n\n<pre><code>Numbers numbers = new Sorted(\n  new Unique(\n    new Odds(\n      new Positive(\n        new ArrayNumbers(\n          new Integer[] {\n            -1, 78, 4, -34, 98, 4,\n          }\n        )\n      )\n    )\n  )\n);\n</code></pre>\n\n<p>This is the most common approach to implement decorators. I almost exclusively implement my decorators in this way because I find it the more \"natural\" and simple way. It is suited when the number of decorator is not too much (how much is subject to programmer's interpretation).\nIt is also well-suited when some objects need to be extended dynamically: when it is not known at instanciation time which decorators are needed.</p>\n\n<h1>Horizontal decorator</h1>\n\n<pre><code>Numbers numbers = new Modified(\n  new ArrayNumbers(\n    new Integer[] {\n      -1, 78, 4, -34, 98, 4,\n    }\n  ),\n  new Diff[] {\n    new Positive(),\n    new Odds(),\n    new Unique(),\n    new Sorted(),\n  }\n);\n</code></pre>\n\n<p>In very rare cases (when the number of decorators starts to grow), I make the design choice to \"flatten\" the decorators in a list-like structure. This has the advantage to simplify the reading of the code but has the disadvantage to lose the flexibility at runtime: one needs to know at object's creation which decorator to apply (this is especially true in the context of immutability, which I try to foster), so this may be a no-go depending on the application.</p>\n\n<p>In the end, it is only a design decision that you have to make between flexibility &amp; readability.</p>\n"},{"tags":[],"owner":{"account_id":3001135,"reputation":7216,"user_id":3664659,"accept_rate":69,"display_name":"Imad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569488284,"creation_date":1569488284,"answer_id":58113117,"question_id":43565475,"body_markdown":"I know I am too late but I will try my hands on explaining this.\r\n\r\nI think the example in Head First book is pretty good attempt to explain this pattern though many people get confused as they find easy alternative, i.e. collection for that example.\r\n\r\nI think better example would be food delivery app (WhySoHungry). They have listed multiple offers like \r\n\r\n 1. Birthday offer\r\n 2. Sunday evening offer\r\n 3. 10 years of App launch offer.\r\n 4. Customers&#39; 100th order offer\r\n\r\nand list goes on.\r\n\r\nIf someone is eligible for multiple offers and WhySoHungry wants them to have all offers applied at the same time then calculation part becomes difficult. This is the best place to apply decorator pattern.","title":"Using Lists Instead of Decorator Pattern?","body":"<p>I know I am too late but I will try my hands on explaining this.</p>\n\n<p>I think the example in Head First book is pretty good attempt to explain this pattern though many people get confused as they find easy alternative, i.e. collection for that example.</p>\n\n<p>I think better example would be food delivery app (WhySoHungry). They have listed multiple offers like </p>\n\n<ol>\n<li>Birthday offer</li>\n<li>Sunday evening offer</li>\n<li>10 years of App launch offer.</li>\n<li>Customers' 100th order offer</li>\n</ol>\n\n<p>and list goes on.</p>\n\n<p>If someone is eligible for multiple offers and WhySoHungry wants them to have all offers applied at the same time then calculation part becomes difficult. This is the best place to apply decorator pattern.</p>\n"},{"tags":[],"owner":{"account_id":6118321,"reputation":782,"user_id":4772633,"accept_rate":74,"display_name":"rohanagarwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606069669,"creation_date":1606069669,"answer_id":64957900,"question_id":43565475,"body_markdown":"An attempt at helping the OP understand that decorators are extending the behaviour which is not so evident by the example in head first book.\r\n\r\nQuoting comment by freedev:  \r\n*It&#39;s not about the list of discount or taxes you have to subtract or to add at cost. It&#39;s about the behaviours you&#39;re handling with the decorator pattern. And, believe me, it&#39;s harder to handle those behaviours with a list compared to inheritance.*\r\n\r\nSharing example from a multi-tenant real E-Commerce application having business in 20 countries (= 20 tenants).\r\n\r\nUse Case: Build a Cart (or Basket) object which can be rendered by the UI.\r\n\r\nRequirements:\r\n 1. The cart view needs to be shown on the cart page as well on the order-review page.\r\n 2. The cart can contain some items which are being upgraded/downgraded (you are upgrading your existing broadband plan).  \r\n     - So there can be some additional information we may show. (Your upgraded plan will be activated in next x hours. You will be charged a penalty of 2$. Etc.). \r\n     - Also we may show the old plan which will be upgraded/downgraded. (Shown to the user as a cart item but greyed out).\r\n     - Above is again tenant dependent.\r\n 3. If the tenant allows inventory constraints, then consider stock status of every item in the cart. But this is not required when we are seeing the cart object on the order-review page, as we have already reserved the cart on checkout.\r\n 4. The same cart object also has cart summary inside it (composition), but we don&#39;t need the same on the order review page.\r\n 5. We also have another view constructed using the same cart object - a lightweight cart view shown when user hovers on the basket icon in the header on UI.\r\n\r\nNow this is almost similar to the coffee problem OP described. Too many flavours to handle (tenant specific + page specific behaviour).  \r\nWhat we can do? We can use decorator pattern to decorate our cart with different behaviours as per the requirement.   \r\n\r\nPossible decorators:\r\n1. CartStatusDecorator\r\n2. CartAdditionalInformationDecorator\r\n3. CartExistingItemsDecorator\r\n4. CartSummaryDecorator\r\n\r\nProceed as below:  \r\n1. Construct a basic cart object which has all the minimal required behaviour. For eg, this basic cart should have all cart items with their price, image and quantity.\r\n2. Decide if we need status of the items based on the tenant. If yes, loop in the CartStatusDecorator.\r\n3. Decide if we need to show the &#39;additional information&#39;. If yes, loop in the CartAdditionalInformationDecorator.\r\n4. Decide if we need to show the older plans. If yes, loop in the CartExistingItemsDecorator.\r\n5. Decide if we want to show summary. Call CartSummaryDecorator. \r\n\r\nA top layer can decide based on the tenant and the page which all decorators need to be involved. Imagine doing this with a list of behaviours. It is now evident that list won&#39;t be a nice idea.","title":"Using Lists Instead of Decorator Pattern?","body":"<p>An attempt at helping the OP understand that decorators are extending the behaviour which is not so evident by the example in head first book.</p>\n<p>Quoting comment by freedev:<br />\n<em>It's not about the list of discount or taxes you have to subtract or to add at cost. It's about the behaviours you're handling with the decorator pattern. And, believe me, it's harder to handle those behaviours with a list compared to inheritance.</em></p>\n<p>Sharing example from a multi-tenant real E-Commerce application having business in 20 countries (= 20 tenants).</p>\n<p>Use Case: Build a Cart (or Basket) object which can be rendered by the UI.</p>\n<p>Requirements:</p>\n<ol>\n<li>The cart view needs to be shown on the cart page as well on the order-review page.</li>\n<li>The cart can contain some items which are being upgraded/downgraded (you are upgrading your existing broadband plan).\n<ul>\n<li>So there can be some additional information we may show. (Your upgraded plan will be activated in next x hours. You will be charged a penalty of 2$. Etc.).</li>\n<li>Also we may show the old plan which will be upgraded/downgraded. (Shown to the user as a cart item but greyed out).</li>\n<li>Above is again tenant dependent.</li>\n</ul>\n</li>\n<li>If the tenant allows inventory constraints, then consider stock status of every item in the cart. But this is not required when we are seeing the cart object on the order-review page, as we have already reserved the cart on checkout.</li>\n<li>The same cart object also has cart summary inside it (composition), but we don't need the same on the order review page.</li>\n<li>We also have another view constructed using the same cart object - a lightweight cart view shown when user hovers on the basket icon in the header on UI.</li>\n</ol>\n<p>Now this is almost similar to the coffee problem OP described. Too many flavours to handle (tenant specific + page specific behaviour).<br />\nWhat we can do? We can use decorator pattern to decorate our cart with different behaviours as per the requirement.</p>\n<p>Possible decorators:</p>\n<ol>\n<li>CartStatusDecorator</li>\n<li>CartAdditionalInformationDecorator</li>\n<li>CartExistingItemsDecorator</li>\n<li>CartSummaryDecorator</li>\n</ol>\n<p>Proceed as below:</p>\n<ol>\n<li>Construct a basic cart object which has all the minimal required behaviour. For eg, this basic cart should have all cart items with their price, image and quantity.</li>\n<li>Decide if we need status of the items based on the tenant. If yes, loop in the CartStatusDecorator.</li>\n<li>Decide if we need to show the 'additional information'. If yes, loop in the CartAdditionalInformationDecorator.</li>\n<li>Decide if we need to show the older plans. If yes, loop in the CartExistingItemsDecorator.</li>\n<li>Decide if we want to show summary. Call CartSummaryDecorator.</li>\n</ol>\n<p>A top layer can decide based on the tenant and the page which all decorators need to be involved. Imagine doing this with a list of behaviours. It is now evident that list won't be a nice idea.</p>\n"},{"tags":[],"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633866314,"creation_date":1633866314,"answer_id":69514857,"question_id":43565475,"body_markdown":"The way the Head First book has explained it seems to be the common way of teaching the Decorator pattern, but in my opinion, it&#39;s not the best way of introducing it. **The gist of the Decorator pattern is NOT just running a list of methods in sequence before a method of our concrete class.**\r\n\r\n**The answer to your question:** The Decorator pattern is about turning an object into another similar object but with more capabilities. However, if you pass the Decorators as a list and just run a method of them, you will not get any other objects with increased number of capabilities compared to your original object.\r\n\r\nHere&#39;s an example of using the list approach as you have proposed:\r\n[![enter image description here][1]][1]\r\n\r\nFor example, you can use it to compress and encrypt some data before writing it to the cloud:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        String data = &quot;Hello World&quot;;\r\n        CloudStream stream = new CloudStream();\r\n        stream.addDecorator(new CompressedStream());\r\n        stream.addDecorator(new EncryptedStream());\r\n        \r\n        stream.write(data);\r\n    }\r\n```\r\n\r\nHowever, this way, you will not have access to neither the compressed data object, nor the encrypted data object.\r\n\r\nIn contrast, here&#39;s how you can &quot;decorate&quot; a FileInputStream object in Java using an ObjectInptuStream object:\r\n\r\n```java\r\nvar oistream = new ObjectInputStream(new FileInputStream());\r\n```\r\n\r\nNow you do have access to the ObjectOutputStream object too, which gives you more [capabilities][2] compared to the FileInputStream object.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6MvuC.png\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.html#method_summary","title":"Using Lists Instead of Decorator Pattern?","body":"<p>The way the Head First book has explained it seems to be the common way of teaching the Decorator pattern, but in my opinion, it's not the best way of introducing it. <strong>The gist of the Decorator pattern is NOT just running a list of methods in sequence before a method of our concrete class.</strong></p>\n<p><strong>The answer to your question:</strong> The Decorator pattern is about turning an object into another similar object but with more capabilities. However, if you pass the Decorators as a list and just run a method of them, you will not get any other objects with increased number of capabilities compared to your original object.</p>\n<p>Here's an example of using the list approach as you have proposed:\n<a href=\"https://i.stack.imgur.com/6MvuC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6MvuC.png\" alt=\"enter image description here\" /></a></p>\n<p>For example, you can use it to compress and encrypt some data before writing it to the cloud:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        String data = &quot;Hello World&quot;;\n        CloudStream stream = new CloudStream();\n        stream.addDecorator(new CompressedStream());\n        stream.addDecorator(new EncryptedStream());\n        \n        stream.write(data);\n    }\n</code></pre>\n<p>However, this way, you will not have access to neither the compressed data object, nor the encrypted data object.</p>\n<p>In contrast, here's how you can &quot;decorate&quot; a FileInputStream object in Java using an ObjectInptuStream object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var oistream = new ObjectInputStream(new FileInputStream());\n</code></pre>\n<p>Now you do have access to the ObjectOutputStream object too, which gives you more <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.html#method_summary\" rel=\"nofollow noreferrer\">capabilities</a> compared to the FileInputStream object.</p>\n"},{"tags":[],"owner":{"account_id":7268174,"reputation":1,"user_id":5542156,"display_name":"Sameer Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681366872,"creation_date":1681366872,"answer_id":76002238,"question_id":43565475,"body_markdown":"Just extending same answer given by aderchox above,\r\n\r\nFollowing is snippet using list\r\n\r\n    int main()\r\n    {\r\n      string data = &quot;Hello World&quot;;\r\n      CouldStream stream = new CloudStream();\r\n      stream.addDecorator(new CompresseStream());\r\n      stream.addDecorator(new EncryptedStream());    \r\n      stream.write(data);\r\n    }\r\n    \r\n    void CouldStream::write(string data)\r\n    {\r\n      foreach(Decorator dec in _mDecorators)\r\n      {\r\n        if (dec is EncryptedStream)\r\n          dec.setSomethingUniqueFor();\r\n        dec.write(data);\r\n      }\r\n    }\r\nfollowing is snippet using Decorator Pattern\r\n\r\n    int main()\r\n    {\r\n      string data = &quot;Hello World&quot;;\r\n      CouldStream stream = new CloudStream();\r\n      stream = new CompresseStream(stream);\r\n      stream = new EncryptedStream(stream);\r\n      stream.setSomethingUniqueFor();\r\n      stream.write(data);\r\n    }\r\n    \r\n    void EncryptedStream::write(string data)\r\n    {\r\n      doSomethingUniqueFor(data);\r\n      base.write(data);\r\n    }\r\n\r\nhere main advantage of decorator pattern is even if CloudStream class is in external library, you can extend functionality by calling decorator class method in your application (main). (of course assumption here is external library allows to extend CloudStream class to write decorators)  \r\n","title":"Using Lists Instead of Decorator Pattern?","body":"<p>Just extending same answer given by aderchox above,</p>\n<p>Following is snippet using list</p>\n<pre><code>int main()\n{\n  string data = &quot;Hello World&quot;;\n  CouldStream stream = new CloudStream();\n  stream.addDecorator(new CompresseStream());\n  stream.addDecorator(new EncryptedStream());    \n  stream.write(data);\n}\n\nvoid CouldStream::write(string data)\n{\n  foreach(Decorator dec in _mDecorators)\n  {\n    if (dec is EncryptedStream)\n      dec.setSomethingUniqueFor();\n    dec.write(data);\n  }\n}\n</code></pre>\n<p>following is snippet using Decorator Pattern</p>\n<pre><code>int main()\n{\n  string data = &quot;Hello World&quot;;\n  CouldStream stream = new CloudStream();\n  stream = new CompresseStream(stream);\n  stream = new EncryptedStream(stream);\n  stream.setSomethingUniqueFor();\n  stream.write(data);\n}\n\nvoid EncryptedStream::write(string data)\n{\n  doSomethingUniqueFor(data);\n  base.write(data);\n}\n</code></pre>\n<p>here main advantage of decorator pattern is even if CloudStream class is in external library, you can extend functionality by calling decorator class method in your application (main). (of course assumption here is external library allows to extend CloudStream class to write decorators)</p>\n"}],"owner":{"account_id":10475103,"reputation":415,"user_id":7721886,"display_name":"paternostrox"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3915,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":43658739,"answer_count":8,"score":27,"last_activity_date":1681366872,"creation_date":1492901449,"question_id":43565475,"body_markdown":"A Decorator Pattern use case from &quot;Head First: Design Patterns&quot; book made me have this question. I&#39;ll try to write it down:\r\n\r\n&gt; It&#39;s a coffee shop system with some coffees and a lot of condiments\r\n&gt; you can put in them (for an extra cost), you need to be able to order\r\n&gt; and charge for a coffee with any condiments the costumer desires, and\r\n&gt; to avoid having total mayhem (e.g. booleans to keep track of the\r\n&gt; condiments) Decorator Pattern is used. We have an abstract Beverage\r\n&gt; class, each type of coffee as concrete components and each condiment\r\n&gt; as concrete decorators wrapping up a Beverage, like this:\r\n&gt; \r\n&gt; ![Beverage Class Diagram][1]\r\n&gt; \r\n&gt; And so we have the following process returning a coffee cost:\r\n&gt; \r\n&gt; ![Coffee Cost Delegation][2]\r\n\r\n\r\nMy question is: Why not implement this with Lists instead of the Decorator? We could have a list of Condiment in each Beverage and calculate the cost by iterating through the List. To order a coffee we would just have to instantiate it once and add the desired condiments, avoiding declarations like:\r\n\r\n    // Using second image example\r\n    Beverage beverage = new DarkRoast(beverage);\r\n    beverage = new Mocha(beverage);\r\n    beverage = new Whip(beverage);\r\n\r\nIn addition to that we would have more flexibility for operations like giving discount for a coffee not including it&#39;s condiments, once we won&#39;t have decorators wrapping up the coffee. This is a matter that have been long studied, I know I&#39;m missing something or maybe I got something wrong, so if you have any thoughts on this I would love to know and discuss it further.\r\n\r\n  [1]: https://i.stack.imgur.com/DJJ44.png\r\n  [2]: https://i.stack.imgur.com/Mgecl.png\r\n","title":"Using Lists Instead of Decorator Pattern?","body":"<p>A Decorator Pattern use case from \"Head First: Design Patterns\" book made me have this question. I'll try to write it down:</p>\n\n<blockquote>\n  <p>It's a coffee shop system with some coffees and a lot of condiments\n  you can put in them (for an extra cost), you need to be able to order\n  and charge for a coffee with any condiments the costumer desires, and\n  to avoid having total mayhem (e.g. booleans to keep track of the\n  condiments) Decorator Pattern is used. We have an abstract Beverage\n  class, each type of coffee as concrete components and each condiment\n  as concrete decorators wrapping up a Beverage, like this:</p>\n  \n  <p><img src=\"https://i.stack.imgur.com/DJJ44.png\" alt=\"Beverage Class Diagram\"></p>\n  \n  <p>And so we have the following process returning a coffee cost:</p>\n  \n  <p><img src=\"https://i.stack.imgur.com/Mgecl.png\" alt=\"Coffee Cost Delegation\"></p>\n</blockquote>\n\n<p>My question is: Why not implement this with Lists instead of the Decorator? We could have a list of Condiment in each Beverage and calculate the cost by iterating through the List. To order a coffee we would just have to instantiate it once and add the desired condiments, avoiding declarations like:</p>\n\n<pre><code>// Using second image example\nBeverage beverage = new DarkRoast(beverage);\nbeverage = new Mocha(beverage);\nbeverage = new Whip(beverage);\n</code></pre>\n\n<p>In addition to that we would have more flexibility for operations like giving discount for a coffee not including it's condiments, once we won't have decorators wrapping up the coffee. This is a matter that have been long studied, I know I'm missing something or maybe I got something wrong, so if you have any thoughts on this I would love to know and discuss it further.</p>\n"},{"tags":["java","android","android-viewpager"],"owner":{"account_id":12222415,"reputation":41,"user_id":8921147,"display_name":"ALI Zidelkhir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681366754,"creation_date":1561595013,"question_id":56782449,"body_markdown":"I&#39;am setting up a kind of books in android studio witch is reading sort of images, and want to the images in the landscape mode to be scrolling from Up to Down\r\n\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n        ImageView imageView = new ImageView(context);\r\n        Picasso.get()\r\n                .load(imagesURLs[position])\r\n                .fit()\r\n                //.//centerInside()//centerCrop()\r\n                .into(imageView);\r\n        container.addView(imageView);\r\n        click(position, imageView);\r\n        return imageView;\r\n    }\r\n\r\nand that is the XML code\r\n\r\n    &lt;com.duolingo.open.rtlviewpager.RtlViewPager\r\n            android:id=&quot;@+id/view_pager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:animateLayoutChanges=&quot;true&quot;\r\n            android:keepScreenOn=&quot;true&quot;\r\n            android:layoutDirection=&quot;locale&quot; /&gt;\r\n\r\nso here is the screenshot of what i got as scaling in all edges \r\nthe Size of Image(1600x1094px)\r\n[Take a look at the Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pXGQK.png","title":"Is there a way to make images scrolling in viewPager of landscape mode?","body":"<p>I'am setting up a kind of books in android studio witch is reading sort of images, and want to the images in the landscape mode to be scrolling from Up to Down</p>\n\n<pre><code>@NonNull\n@Override\npublic Object instantiateItem(@NonNull ViewGroup container, int position) {\n    ImageView imageView = new ImageView(context);\n    Picasso.get()\n            .load(imagesURLs[position])\n            .fit()\n            //.//centerInside()//centerCrop()\n            .into(imageView);\n    container.addView(imageView);\n    click(position, imageView);\n    return imageView;\n}\n</code></pre>\n\n<p>and that is the XML code</p>\n\n<pre><code>&lt;com.duolingo.open.rtlviewpager.RtlViewPager\n        android:id=\"@+id/view_pager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1\"\n        android:animateLayoutChanges=\"true\"\n        android:keepScreenOn=\"true\"\n        android:layoutDirection=\"locale\" /&gt;\n</code></pre>\n\n<p>so here is the screenshot of what i got as scaling in all edges \nthe Size of Image(1600x1094px)\n<a href=\"https://i.stack.imgur.com/pXGQK.png\" rel=\"nofollow noreferrer\">Take a look at the Image</a></p>\n"},{"tags":["java","android","flutter","firebase"],"comments":[{"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1681367111,"post_id":76002206,"comment_id":134045352,"body_markdown":"Maybe this one helps https://stackoverflow.com/q/71346505/7874746","body":"Maybe this one helps <a href=\"https://stackoverflow.com/q/71346505/7874746\">stackoverflow.com/q/71346505/7874746</a>"},{"owner":{"account_id":1187948,"reputation":1076,"user_id":1161518,"accept_rate":51,"display_name":"WasimSafdar"},"score":1,"creation_date":1681371534,"post_id":76002206,"comment_id":134046236,"body_markdown":"May be you also need to upgrade gradle Android packages according to current firebase requirements.","body":"May be you also need to upgrade gradle Android packages according to current firebase requirements."},{"owner":{"account_id":22409881,"reputation":1,"user_id":16618814,"display_name":"Rasul Jumaniyazov"},"score":0,"creation_date":1683272094,"post_id":76002206,"comment_id":134344343,"body_markdown":"@AbdullahJaved thanks, now I&#39;m not facing this issue.","body":"@AbdullahJaved thanks, now I&#39;m not facing this issue."}],"owner":{"account_id":22409881,"reputation":1,"user_id":16618814,"display_name":"Rasul Jumaniyazov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681366620,"creation_date":1681366620,"question_id":76002206,"body_markdown":"I have upgraded all packages and it shows this error on some devices. What I am doing wrong? Can anyone explain what is the problem there?\r\n\r\n```\r\njava.lang.AbstractMethodError: abstract method &quot;androidx.appcompat.view.menu.c androidx.appcompat.view.menu.c.D (int)&quot; at p2.e.h(FirebaseinstallationServiceClient java:90) at p2.e.b(FirebaseInstallationServiceClient.java:98)\r\nat\r\ncom.google. firebase.installations.e.f(FirebaseInstallation s.java:31)\r\nat com.google.firebase.installations.e.c(FirebaseInstallation s.java:68)\r\nat m2.d.run(Unknown Source:4)\r\nat b2.f.run(SequentialExecutor java:3) at b2.g.a(SequentialExecutor java:85) at b2.g.run(SequentialExecutor. java:1)\r\nat\r\njava.util.concurrent. ThreadPoolExecutor.run Worker(Threa dPoolExecutor.java:1137) at java.util.concurrent. ThreadPoolExecutor$Worker.run(Thre adPoolExecutor java:637) at com.google.firebase.concurrent.b.a(CustomThreadFacto ryjava:13) at com.google.firebase.concurrent.a.run(Unknown Source:4)\r\nat java.lang. Thread.run(Thread java:1012)\r\n```\r\n\r\n\r\nOld version of app was released 6 months ago, now I am trying to upgrade all packages. But there is something wrong with firebase","title":"Error occured after upgrading Firebase from 11.4.0 to 14.4.0","body":"<p>I have upgraded all packages and it shows this error on some devices. What I am doing wrong? Can anyone explain what is the problem there?</p>\n<pre><code>java.lang.AbstractMethodError: abstract method &quot;androidx.appcompat.view.menu.c androidx.appcompat.view.menu.c.D (int)&quot; at p2.e.h(FirebaseinstallationServiceClient java:90) at p2.e.b(FirebaseInstallationServiceClient.java:98)\nat\ncom.google. firebase.installations.e.f(FirebaseInstallation s.java:31)\nat com.google.firebase.installations.e.c(FirebaseInstallation s.java:68)\nat m2.d.run(Unknown Source:4)\nat b2.f.run(SequentialExecutor java:3) at b2.g.a(SequentialExecutor java:85) at b2.g.run(SequentialExecutor. java:1)\nat\njava.util.concurrent. ThreadPoolExecutor.run Worker(Threa dPoolExecutor.java:1137) at java.util.concurrent. ThreadPoolExecutor$Worker.run(Thre adPoolExecutor java:637) at com.google.firebase.concurrent.b.a(CustomThreadFacto ryjava:13) at com.google.firebase.concurrent.a.run(Unknown Source:4)\nat java.lang. Thread.run(Thread java:1012)\n</code></pre>\n<p>Old version of app was released 6 months ago, now I am trying to upgrade all packages. But there is something wrong with firebase</p>\n"},{"tags":["java","security","single-sign-on","saml-2.0"],"comments":[{"owner":{"account_id":906446,"reputation":47553,"user_id":941240,"display_name":"Wiktor Zychla"},"score":3,"creation_date":1379159098,"post_id":18801299,"comment_id":27726674,"body_markdown":"You should provide more details. What language/platform, what have you tried so far, what elements of the theory you know already. The question is likely to be closed if you don&#39;t put more effort into it.","body":"You should provide more details. What language/platform, what have you tried so far, what elements of the theory you know already. The question is likely to be closed if you don&#39;t put more effort into it."},{"owner":{"account_id":1244024,"reputation":53662,"user_id":1205871,"accept_rate":98,"display_name":"danday74"},"score":1,"creation_date":1493385418,"post_id":18801299,"comment_id":74408463,"body_markdown":"I think this question shows a lot of effort","body":"I think this question shows a lot of effort"}],"answers":[{"tags":[],"owner":{"account_id":119270,"reputation":5485,"user_id":310852,"accept_rate":59,"display_name":"Stefan Rasmusson"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1629195746,"creation_date":1379236318,"answer_id":18810742,"question_id":18801299,"body_markdown":"Typical SSO with SAML is something called Web SSO Profile. There are many products supporting this on the market for example OpenAM, Shibboleth, OpenSAML and Oracle Identity Federation. The specific configuration is dependant on what product you choose to use. A working example of OpenSAML that I use in my book is availible [here][1].\r\n\r\nOn a SAML level, the SP and IDP exchanges Metadata which contain configuration information on how the SP and IDP want to communicate. \r\n\r\nSSO is then done in four steps:\r\n\r\n 1. SP sees that the user does not have an authenticated session.\r\n 2. The SP redirects the user to IDP with a SAML AutnRequest as an URL parameter.\r\n 3. The IDP authenticates the user and redirects it back to the SP with an artifact in URL parameter.\r\n 4. The SP exchanges the Artifact for an Assertion over SOAP using a ArtifactResolveRequest to the IDP.\r\n\r\nIf you want to code this yourself in Java, you can use OpenSAML. On my [blog][2] I have many examples on how to use it. \r\n\r\nIn my book, [A Guide To OpenSAML][3], I write alot about this\r\n\r\nEDIT [New edition of the book][4] is out, covering OpenSAML v3\r\n\r\n\r\n  [1]: https://github.com/rasmusson/webprofile-ref-project\r\n  [2]: https://blog.samlsecurity.com/categories/opensaml/\r\n  [3]: https://blog.samlsecurity.com/a-guide-to-opensamlv2.html\r\n  [4]: https://blog.samlsecurity.com/a-guide-to-opensamlv3.html","title":"SAML simple example for beginners","body":"<p>Typical SSO with SAML is something called Web SSO Profile. There are many products supporting this on the market for example OpenAM, Shibboleth, OpenSAML and Oracle Identity Federation. The specific configuration is dependant on what product you choose to use. A working example of OpenSAML that I use in my book is availible <a href=\"https://github.com/rasmusson/webprofile-ref-project\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>On a SAML level, the SP and IDP exchanges Metadata which contain configuration information on how the SP and IDP want to communicate.</p>\n<p>SSO is then done in four steps:</p>\n<ol>\n<li>SP sees that the user does not have an authenticated session.</li>\n<li>The SP redirects the user to IDP with a SAML AutnRequest as an URL parameter.</li>\n<li>The IDP authenticates the user and redirects it back to the SP with an artifact in URL parameter.</li>\n<li>The SP exchanges the Artifact for an Assertion over SOAP using a ArtifactResolveRequest to the IDP.</li>\n</ol>\n<p>If you want to code this yourself in Java, you can use OpenSAML. On my <a href=\"https://blog.samlsecurity.com/categories/opensaml/\" rel=\"nofollow noreferrer\">blog</a> I have many examples on how to use it.</p>\n<p>In my book, <a href=\"https://blog.samlsecurity.com/a-guide-to-opensamlv2.html\" rel=\"nofollow noreferrer\">A Guide To OpenSAML</a>, I write alot about this</p>\n<p>EDIT <a href=\"https://blog.samlsecurity.com/a-guide-to-opensamlv3.html\" rel=\"nofollow noreferrer\">New edition of the book</a> is out, covering OpenSAML v3</p>\n"},{"tags":[],"owner":{"account_id":4295147,"reputation":15433,"user_id":3510410,"display_name":"Vladim&#237;r Sch&#228;fer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1405522118,"creation_date":1405522118,"answer_id":24783864,"question_id":18801299,"body_markdown":"You can simply follow steps in this [manual][1], which will help you create a simple SAML 2.0 federation between a local Service Provider and a public Identity Provider.\r\n\r\nOnce you set this up you can use it to follow messages sent between IDP/SP and also as an example of a SAML component built with Java + OpenSAML + Spring.\r\n\r\nThere are also many other good sources of information on SAML, like the Stefan&#39;s blog mentioned above.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-security-saml/docs/1.0.x/reference/html/chapter-quick-start.html","title":"SAML simple example for beginners","body":"<p>You can simply follow steps in this <a href=\"http://docs.spring.io/spring-security-saml/docs/1.0.x/reference/html/chapter-quick-start.html\" rel=\"noreferrer\">manual</a>, which will help you create a simple SAML 2.0 federation between a local Service Provider and a public Identity Provider.</p>\n\n<p>Once you set this up you can use it to follow messages sent between IDP/SP and also as an example of a SAML component built with Java + OpenSAML + Spring.</p>\n\n<p>There are also many other good sources of information on SAML, like the Stefan's blog mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":14751638,"reputation":84,"user_id":10653568,"display_name":"Golap Hazarika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681366426,"creation_date":1681366426,"answer_id":76002186,"question_id":18801299,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n**What is Single Sign-On:**\r\n\r\nSingle Sign-On is a standardized concept that allows an end-user to access multiple, related but independent, software applications using a single point of entry. It means that an end-user can log into a system only once and then access multiple applications without logging in again. The authentication process can be merged into a single component, which acts as a gateway for every other application. It basically manages the identity of end-users in an effective and secure way.\r\n\r\nFor more information [Read more][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AnK6Y.jpg\r\n  [2]: https://medium.com/@golapyd/single-sign-on-sso-55f1b58c8d2c","title":"SAML simple example for beginners","body":"<p><a href=\"https://i.stack.imgur.com/AnK6Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AnK6Y.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>What is Single Sign-On:</strong></p>\n<p>Single Sign-On is a standardized concept that allows an end-user to access multiple, related but independent, software applications using a single point of entry. It means that an end-user can log into a system only once and then access multiple applications without logging in again. The authentication process can be merged into a single component, which acts as a gateway for every other application. It basically manages the identity of end-users in an effective and secure way.</p>\n<p>For more information <a href=\"https://medium.com/@golapyd/single-sign-on-sso-55f1b58c8d2c\" rel=\"nofollow noreferrer\">Read more</a></p>\n"}],"owner":{"account_id":3303570,"reputation":431,"user_id":2779075,"display_name":"user2779075"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86144,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":3,"score":43,"last_activity_date":1681366426,"creation_date":1379158462,"question_id":18801299,"body_markdown":"I am beginner to the SAML v2.0 technology and I get the theory knowledge but I didn&#39;t find any examples on Google. Can anybody provide me with a step by step example for simple &quot;SAML for v2.0&quot;.\r\n\r\n 1. Upto now I&#39;ve gone through the theory part,i.e.., it support **Single sign on** and   \r\n     also I understood about the **Service provider** and **Identity Provider**   .\r\n 2. Presently I am working on **Linux Environment**\r\n 3. I need basic example in step by step manner how the request is moving from **user -&gt; \r\n     Identity Provider-&gt;Service Provider** and how to configure the environment .\r\n 4. Is it possible to execute the example for the SAML v2.0\r\n 5. Is their any chance to execute SAML example in Java language,If it possible you can  \r\n     provide the example on Java also. ","title":"SAML simple example for beginners","body":"<p>I am beginner to the SAML v2.0 technology and I get the theory knowledge but I didn't find any examples on Google. Can anybody provide me with a step by step example for simple \"SAML for v2.0\".</p>\n\n<ol>\n<li>Upto now I've gone through the theory part,i.e.., it support <strong>Single sign on</strong> and<br>\n also I understood about the <strong>Service provider</strong> and <strong>Identity Provider</strong>   .</li>\n<li>Presently I am working on <strong>Linux Environment</strong></li>\n<li>I need basic example in step by step manner how the request is moving from <strong>user -> \n Identity Provider->Service Provider</strong> and how to configure the environment .</li>\n<li>Is it possible to execute the example for the SAML v2.0</li>\n<li>Is their any chance to execute SAML example in Java language,If it possible you can<br>\n provide the example on Java also. </li>\n</ol>\n"},{"tags":["java","java-8","java-11"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1681360254,"post_id":76001612,"comment_id":134044536,"body_markdown":"If a library uses undocumented, internal JDK classes that were removed from later Java versions, the only options are really to update the library to avoid using those classes or stay on a JDK version that supports them.","body":"If a library uses undocumented, internal JDK classes that were removed from later Java versions, the only options are really to update the library to avoid using those classes or stay on a JDK version that supports them."},{"owner":{"account_id":28290839,"reputation":1,"user_id":21630989,"display_name":"JAX WONG"},"score":0,"creation_date":1681391979,"post_id":76001612,"comment_id":134051203,"body_markdown":"All right......","body":"All right......"}],"owner":{"account_id":28290839,"reputation":1,"user_id":21630989,"display_name":"JAX WONG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681366260,"creation_date":1681359964,"question_id":76001612,"body_markdown":"I imported a third-party package that used jdk8, but my project used jdk11, and then reported an error: java.lang.NoClassDefFoundError: \r\n\r\n`\r\ncom/sun/xml/internal/messaging/saaj/util/ByteOutputStream \tat com.sm.huichuan.api.sdk.core.ServiceProxy.invoke(ServiceProxy.java:61) at com.sun.proxy.$Proxy3.getAccount(Unknown Source) at com.example.work1.utils.AccountServiceExampleTest.testGetAccount(AccountServiceExampleTest.java:20) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at junit.framework.TestCase.runTest(TestCase.java:177) at junit.framework.TestCase.runBare(TestCase.java:142) at junit.framework.TestResult$1.protect(TestResult.java:122) at junit.framework.TestResult.runProtected(TestResult.java:142) at junit.framework.TestResult.run(TestResult.java:125) at junit.framework.TestCase.run(TestCase.java:130) at junit.framework.TestSuite.runTest(TestSuite.java:241) at junit.framework.TestSuite.run(TestSuite.java:236) at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:90) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.messaging.saaj.util.ByteOutputStream at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ... 23 more \r\n`\r\n\r\n I found that jdk11 removed some classes, I imported some dependencies, but still reported an error, but I can not find the answer, please help! \r\n\r\n```\r\n&lt;dependency&gt;  \r\n\r\n &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n\r\n   &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt; \r\n\r\n  &lt;version&gt;3.0.0&lt;/version&gt; \r\n\r\n&lt;/dependency&gt;\r\n```","title":"JDK version mismatch problem，Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.messaging.saaj.util.ByteOutputStream","body":"<p>I imported a third-party package that used jdk8, but my project used jdk11, and then reported an error: java.lang.NoClassDefFoundError:</p>\n<p><code>com/sun/xml/internal/messaging/saaj/util/ByteOutputStream   at com.sm.huichuan.api.sdk.core.ServiceProxy.invoke(ServiceProxy.java:61) at com.sun.proxy.$Proxy3.getAccount(Unknown Source) at com.example.work1.utils.AccountServiceExampleTest.testGetAccount(AccountServiceExampleTest.java:20) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at junit.framework.TestCase.runTest(TestCase.java:177) at junit.framework.TestCase.runBare(TestCase.java:142) at junit.framework.TestResult$1.protect(TestResult.java:122) at junit.framework.TestResult.runProtected(TestResult.java:142) at junit.framework.TestResult.run(TestResult.java:125) at junit.framework.TestCase.run(TestCase.java:130) at junit.framework.TestSuite.runTest(TestSuite.java:241) at junit.framework.TestSuite.run(TestSuite.java:236) at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:90) at org.junit.runner.JUnitCore.run(JUnitCore.java:137) at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69) at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.messaging.saaj.util.ByteOutputStream at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ... 23 more </code></p>\n<p>I found that jdk11 removed some classes, I imported some dependencies, but still reported an error, but I can not find the answer, please help!</p>\n<pre><code>&lt;dependency&gt;  \n\n &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n\n   &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt; \n\n  &lt;version&gt;3.0.0&lt;/version&gt; \n\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681366045,"creation_date":1681320210,"answer_id":75998274,"question_id":75997906,"body_markdown":"You can add a **shift** transformation which filters out by the sub-indexes (**0** and **1**) of the concerned array such that\r\n\r\n```json\r\n{\r\n  &quot;operation&quot;: &quot;shift&quot;,\r\n  &quot;spec&quot;: {\r\n    &quot;LEVEL_0&quot;: {\r\n      &quot;LEVEL_1&quot;: {\r\n        &quot;*&quot;: &quot;&amp;2.&amp;1.&amp;&quot;,\r\n        &quot;LEVEL_2&quot;: {\r\n          &quot;*&quot;: &quot;&amp;3.&amp;2.&amp;1.&amp;&quot;,\r\n          &quot;LEVEL_3B&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;*&quot;: &quot;&amp;5.&amp;4.&amp;3.&amp;2[&amp;1].&amp;&quot;,\r\n              &quot;LEVEL_4&quot;: {\r\n                &quot;0|1&quot;: {\r\n                  &quot;@&quot;: &quot;&amp;7.&amp;6.&amp;5.&amp;4[&amp;3].&amp;2[&amp;1]&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nor through use of **remove** transformation which will include a bit hardcoding by adding conditional `&quot;2|3|4|5&quot;: &quot;&quot;`(*the number of the integers may vary depending on the number of the nested objects*) as the else case to the present input spec\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;remove&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;LEVEL_0&quot;: {\r\n        &quot;LEVEL_1&quot;: {\r\n          &quot;RANDOM_FIELD_B&quot;: &quot;&quot;,\r\n          &quot;LEVEL_2&quot;: {\r\n            &quot;RANDOM_FIELD_D&quot;: &quot;&quot;,\r\n            &quot;LEVEL_3B&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;RANDOM_FIELD_H&quot;: &quot;&quot;,\r\n                &quot;LEVEL_4&quot;: {\r\n                  &quot;2|3|4|5&quot;: &quot;&quot;,\r\n                  &quot;*&quot;: {\r\n                    &quot;FIELD_3&quot;: &quot;&quot;,\r\n                    &quot;FIELD_5&quot;: &quot;&quot;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nsince `&quot;*&quot;` wildcard cannot be considered as the else case representative as it removes all attributes of the objects ","title":"Is there a way of retaining specific occurences within a nested JSON whilst removing others using JOLT &quot;remove&quot;","body":"<p>You can add a <strong>shift</strong> transformation which filters out by the sub-indexes (<strong>0</strong> and <strong>1</strong>) of the concerned array such that</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;operation&quot;: &quot;shift&quot;,\n  &quot;spec&quot;: {\n    &quot;LEVEL_0&quot;: {\n      &quot;LEVEL_1&quot;: {\n        &quot;*&quot;: &quot;&amp;2.&amp;1.&amp;&quot;,\n        &quot;LEVEL_2&quot;: {\n          &quot;*&quot;: &quot;&amp;3.&amp;2.&amp;1.&amp;&quot;,\n          &quot;LEVEL_3B&quot;: {\n            &quot;*&quot;: {\n              &quot;*&quot;: &quot;&amp;5.&amp;4.&amp;3.&amp;2[&amp;1].&amp;&quot;,\n              &quot;LEVEL_4&quot;: {\n                &quot;0|1&quot;: {\n                  &quot;@&quot;: &quot;&amp;7.&amp;6.&amp;5.&amp;4[&amp;3].&amp;2[&amp;1]&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>or through use of <strong>remove</strong> transformation which will include a bit hardcoding by adding conditional <code>&quot;2|3|4|5&quot;: &quot;&quot;</code>(<em>the number of the integers may vary depending on the number of the nested objects</em>) as the else case to the present input spec</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;LEVEL_0&quot;: {\n        &quot;LEVEL_1&quot;: {\n          &quot;RANDOM_FIELD_B&quot;: &quot;&quot;,\n          &quot;LEVEL_2&quot;: {\n            &quot;RANDOM_FIELD_D&quot;: &quot;&quot;,\n            &quot;LEVEL_3B&quot;: {\n              &quot;*&quot;: {\n                &quot;RANDOM_FIELD_H&quot;: &quot;&quot;,\n                &quot;LEVEL_4&quot;: {\n                  &quot;2|3|4|5&quot;: &quot;&quot;,\n                  &quot;*&quot;: {\n                    &quot;FIELD_3&quot;: &quot;&quot;,\n                    &quot;FIELD_5&quot;: &quot;&quot;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>since <code>&quot;*&quot;</code> wildcard cannot be considered as the else case representative as it removes all attributes of the objects</p>\n"}],"owner":{"account_id":27862574,"reputation":19,"user_id":21274759,"display_name":"Aziz R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75998274,"answer_count":1,"score":1,"last_activity_date":1681366045,"creation_date":1681317594,"question_id":75997906,"body_markdown":"I have a nested JSON of a similar structure to the following, that I am performing a number of transformations on.\r\n\r\nCurrently, I have this as an input:\r\n```json\r\n{\r\n  &quot;LEVEL_0&quot;: {\r\n    &quot;RANDOM_FIELD_A&quot;: &quot;1234&quot;,\r\n    &quot;LEVEL_1&quot;: {\r\n      &quot;RANDOM_FIELD_B&quot;: null,\r\n      &quot;RANDOM_FIELD_C&quot;: &quot;DEEZ&quot;,\r\n      &quot;LEVEL_2&quot;: {\r\n        &quot;RANDOM_FIELD_D&quot;: &quot;12345&quot;,\r\n        &quot;RANDOM_FIELD_E&quot;: &quot;CHUPAPI&quot;,\r\n        &quot;LEVEL_3A&quot;: {\r\n          &quot;RANDOM_FIELD_F&quot;: 800\r\n        },\r\n        &quot;RANDOM_FIELD_G&quot;: null,\r\n        &quot;LEVEL_3B&quot;: [\r\n          {\r\n            &quot;RANDOM_FIELD_H&quot;: &quot;12345671&quot;,\r\n            &quot;RANDOM_FIELD_I&quot;: &quot;DONUT&quot;,\r\n            &quot;LEVEL_4&quot;: [\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;CRISPY&quot;,\r\n                &quot;FIELD_2&quot;: &quot;CREME&quot;,\r\n                &quot;FIELD_3&quot;: &quot;CHEESE&quot;,\r\n                &quot;FIELD_4&quot;: &quot;CAKE&quot;,\r\n                &quot;FIELD_5&quot;: 123456789,\r\n                &quot;FIELD_6&quot;: &quot;COCONUT&quot;\r\n              },\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;UNCLE&quot;,\r\n                &quot;FIELD_2&quot;: &quot;BENS&quot;,\r\n                &quot;FIELD_3&quot;: &quot;FIRED&quot;,\r\n                &quot;FIELD_4&quot;: &quot;RICE&quot;,\r\n                &quot;FIELD_5&quot;: 987654321,\r\n                &quot;FIELD_6&quot;: &quot;FLAMINGO&quot;\r\n              },\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;IN&quot;,\r\n                &quot;FIELD_2&quot;: &quot;THE&quot;,\r\n                &quot;FIELD_3&quot;: &quot;JUNGLE&quot;,\r\n                &quot;FIELD_4&quot;: &quot;THE&quot;,\r\n                &quot;FIELD_5&quot;: 345453643,\r\n                &quot;FIELD_6&quot;: &quot;MIGHTY&quot;\r\n              },\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;THIS&quot;,\r\n                &quot;FIELD_2&quot;: &quot;IS&quot;,\r\n                &quot;FIELD_3&quot;: &quot;THE&quot;,\r\n                &quot;FIELD_4&quot;: &quot;LAST&quot;,\r\n                &quot;FIELD_5&quot;: 344,\r\n                &quot;FIELD_6&quot;: &quot;ONE&quot;\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI want this for the output:\r\n\r\n```json\r\n{\r\n  &quot;LEVEL_0&quot;: {\r\n    &quot;RANDOM_FIELD_A&quot;: &quot;1234&quot;,\r\n    &quot;LEVEL_1&quot;: {\r\n      &quot;RANDOM_FIELD_C&quot;: &quot;DEEZ&quot;,\r\n      &quot;LEVEL_2&quot;: {\r\n        &quot;RANDOM_FIELD_E&quot;: &quot;CHUPAPI&quot;,\r\n        &quot;LEVEL_3A&quot;: {\r\n          &quot;RANDOM_FIELD_F&quot;: 800\r\n        },\r\n        &quot;RANDOM_FIELD_G&quot;: null,\r\n        &quot;LEVEL_3B&quot;: [\r\n          {\r\n            &quot;RANDOM_FIELD_I&quot;: &quot;DONUT&quot;,\r\n            &quot;LEVEL_4&quot;: [\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;CRISPY&quot;,\r\n                &quot;FIELD_2&quot;: &quot;CREME&quot;,\r\n                &quot;FIELD_4&quot;: &quot;CAKE&quot;,\r\n                &quot;FIELD_6&quot;: &quot;COCONUT&quot;\r\n              },\r\n              {\r\n                &quot;FIELD_1&quot;: &quot;UNCLE&quot;,\r\n                &quot;FIELD_2&quot;: &quot;BENS&quot;,\r\n                &quot;FIELD_4&quot;: &quot;RICE&quot;,\r\n                &quot;FIELD_6&quot;: &quot;FLAMINGO&quot;\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI am using the JOLT library and want to know how to reduce the &quot;LEVEL_4&quot; array to 2 occurences instead of 4, whilst also removing &quot;FIELD_3&quot; AND &quot;FIELD_5&quot;. I want to always retain the first 2 occurences regardless of whether there are 4 or 5 or 6 occurences, as this could be the case from the input.\r\n\r\nI have a remove operation that can remove the required fields, i.e. &quot;FIELD_3&quot; AND &quot;FIELD_4&quot; but it retains all 4 occurences. I need this to be done using a JOLT &#39;remove&#39;.\r\n\r\nWhat I currently have is:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;remove&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;LEVEL_0&quot;: {\r\n        &quot;LEVEL_1&quot;: {\r\n          &quot;RANDOM_FIELD_B&quot;: &quot;&quot;,\r\n          &quot;LEVEL_2&quot;: {\r\n            &quot;RANDOM_FIELD_D&quot;: &quot;&quot;,\r\n            &quot;LEVEL_3B&quot;: {\r\n              &quot;*&quot;: {\r\n                &quot;RANDOM_FIELD_H&quot;: &quot;&quot;,\r\n                &quot;LEVEL_4&quot;: {\r\n                  &quot;*&quot;: {\r\n                    &quot;FIELD_3&quot;: &quot;&quot;,\r\n                    &quot;FIELD_5&quot;: &quot;&quot;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```","title":"Is there a way of retaining specific occurences within a nested JSON whilst removing others using JOLT &quot;remove&quot;","body":"<p>I have a nested JSON of a similar structure to the following, that I am performing a number of transformations on.</p>\n<p>Currently, I have this as an input:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;LEVEL_0&quot;: {\n    &quot;RANDOM_FIELD_A&quot;: &quot;1234&quot;,\n    &quot;LEVEL_1&quot;: {\n      &quot;RANDOM_FIELD_B&quot;: null,\n      &quot;RANDOM_FIELD_C&quot;: &quot;DEEZ&quot;,\n      &quot;LEVEL_2&quot;: {\n        &quot;RANDOM_FIELD_D&quot;: &quot;12345&quot;,\n        &quot;RANDOM_FIELD_E&quot;: &quot;CHUPAPI&quot;,\n        &quot;LEVEL_3A&quot;: {\n          &quot;RANDOM_FIELD_F&quot;: 800\n        },\n        &quot;RANDOM_FIELD_G&quot;: null,\n        &quot;LEVEL_3B&quot;: [\n          {\n            &quot;RANDOM_FIELD_H&quot;: &quot;12345671&quot;,\n            &quot;RANDOM_FIELD_I&quot;: &quot;DONUT&quot;,\n            &quot;LEVEL_4&quot;: [\n              {\n                &quot;FIELD_1&quot;: &quot;CRISPY&quot;,\n                &quot;FIELD_2&quot;: &quot;CREME&quot;,\n                &quot;FIELD_3&quot;: &quot;CHEESE&quot;,\n                &quot;FIELD_4&quot;: &quot;CAKE&quot;,\n                &quot;FIELD_5&quot;: 123456789,\n                &quot;FIELD_6&quot;: &quot;COCONUT&quot;\n              },\n              {\n                &quot;FIELD_1&quot;: &quot;UNCLE&quot;,\n                &quot;FIELD_2&quot;: &quot;BENS&quot;,\n                &quot;FIELD_3&quot;: &quot;FIRED&quot;,\n                &quot;FIELD_4&quot;: &quot;RICE&quot;,\n                &quot;FIELD_5&quot;: 987654321,\n                &quot;FIELD_6&quot;: &quot;FLAMINGO&quot;\n              },\n              {\n                &quot;FIELD_1&quot;: &quot;IN&quot;,\n                &quot;FIELD_2&quot;: &quot;THE&quot;,\n                &quot;FIELD_3&quot;: &quot;JUNGLE&quot;,\n                &quot;FIELD_4&quot;: &quot;THE&quot;,\n                &quot;FIELD_5&quot;: 345453643,\n                &quot;FIELD_6&quot;: &quot;MIGHTY&quot;\n              },\n              {\n                &quot;FIELD_1&quot;: &quot;THIS&quot;,\n                &quot;FIELD_2&quot;: &quot;IS&quot;,\n                &quot;FIELD_3&quot;: &quot;THE&quot;,\n                &quot;FIELD_4&quot;: &quot;LAST&quot;,\n                &quot;FIELD_5&quot;: 344,\n                &quot;FIELD_6&quot;: &quot;ONE&quot;\n              }\n            ]\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>I want this for the output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;LEVEL_0&quot;: {\n    &quot;RANDOM_FIELD_A&quot;: &quot;1234&quot;,\n    &quot;LEVEL_1&quot;: {\n      &quot;RANDOM_FIELD_C&quot;: &quot;DEEZ&quot;,\n      &quot;LEVEL_2&quot;: {\n        &quot;RANDOM_FIELD_E&quot;: &quot;CHUPAPI&quot;,\n        &quot;LEVEL_3A&quot;: {\n          &quot;RANDOM_FIELD_F&quot;: 800\n        },\n        &quot;RANDOM_FIELD_G&quot;: null,\n        &quot;LEVEL_3B&quot;: [\n          {\n            &quot;RANDOM_FIELD_I&quot;: &quot;DONUT&quot;,\n            &quot;LEVEL_4&quot;: [\n              {\n                &quot;FIELD_1&quot;: &quot;CRISPY&quot;,\n                &quot;FIELD_2&quot;: &quot;CREME&quot;,\n                &quot;FIELD_4&quot;: &quot;CAKE&quot;,\n                &quot;FIELD_6&quot;: &quot;COCONUT&quot;\n              },\n              {\n                &quot;FIELD_1&quot;: &quot;UNCLE&quot;,\n                &quot;FIELD_2&quot;: &quot;BENS&quot;,\n                &quot;FIELD_4&quot;: &quot;RICE&quot;,\n                &quot;FIELD_6&quot;: &quot;FLAMINGO&quot;\n              }\n            ]\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>I am using the JOLT library and want to know how to reduce the &quot;LEVEL_4&quot; array to 2 occurences instead of 4, whilst also removing &quot;FIELD_3&quot; AND &quot;FIELD_5&quot;. I want to always retain the first 2 occurences regardless of whether there are 4 or 5 or 6 occurences, as this could be the case from the input.</p>\n<p>I have a remove operation that can remove the required fields, i.e. &quot;FIELD_3&quot; AND &quot;FIELD_4&quot; but it retains all 4 occurences. I need this to be done using a JOLT 'remove'.</p>\n<p>What I currently have is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;LEVEL_0&quot;: {\n        &quot;LEVEL_1&quot;: {\n          &quot;RANDOM_FIELD_B&quot;: &quot;&quot;,\n          &quot;LEVEL_2&quot;: {\n            &quot;RANDOM_FIELD_D&quot;: &quot;&quot;,\n            &quot;LEVEL_3B&quot;: {\n              &quot;*&quot;: {\n                &quot;RANDOM_FIELD_H&quot;: &quot;&quot;,\n                &quot;LEVEL_4&quot;: {\n                  &quot;*&quot;: {\n                    &quot;FIELD_3&quot;: &quot;&quot;,\n                    &quot;FIELD_5&quot;: &quot;&quot;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"},{"tags":["java","arrays","json","string","object"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681460773,"post_id":76001168,"comment_id":134063167,"body_markdown":"You need to fix the problem at the source, by asking the source to provide you JSON. To be clear, this is not &quot;invalid JSON&quot;, it is simply not JSON at all (likely it is a concoction of default `toString()` of collections or something). Alternatively, you need to write your own custom parser, either rewriting it to JSON or directly to objects, neither of which is simple to do (and would require this to be actually be a stable and specific format, which is unlikely), and really too broad for a question on Stack Overflow","body":"You need to fix the problem at the source, by asking the source to provide you JSON. To be clear, this is not &quot;invalid JSON&quot;, it is simply not JSON at all (likely it is a concoction of default <code>toString()</code> of collections or something). Alternatively, you need to write your own custom parser, either rewriting it to JSON or directly to objects, neither of which is simple to do (and would require this to be actually be a stable and specific format, which is unlikely), and really too broad for a question on Stack Overflow"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681472779,"post_id":76001168,"comment_id":134065846,"body_markdown":"You wrote: _I am getting the below records from a backend system_ Are you getting them as a single string? You also wrote: _I want to convert ... it into a String_ Can you [edit] your question and post the string you wish to get? _I&#39;ve tried replace String function, but it always fails at some point._ Can you post the code that you tried and details of the failure?","body":"You wrote: <i>I am getting the below records from a backend system</i> Are you getting them as a single string? You also wrote: <i>I want to convert ... it into a String</i> Can you <a href=\"https://stackoverflow.com/posts/76001168/edit\">edit</a> your question and post the string you wish to get? <i>I&#39;ve tried replace String function, but it always fails at some point.</i> Can you post the code that you tried and details of the failure?"}],"owner":{"account_id":23099829,"reputation":368,"user_id":17209391,"display_name":"Ruby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681352925,"answer_count":0,"score":0,"last_activity_date":1681365499,"creation_date":1681352808,"question_id":76001168,"body_markdown":"I am getting the below records from a backend system and not sure how many such records I might be receiving. As you can see the data I receive is not in a valid json format. \r\n\r\n```\r\n[489078:{cancelled:1, totalQty:2, AcceptedQty:1}, \r\n489079:{cancelled:0, totalQty:1, AcceptedQty:1},\r\n.\r\n.]\r\n```\r\nI want to convert the above payload into a valid a JsonArray of JsonObjects for further processing by converting it into a String first. I&#39;ve tried replace String function, but it always fails at some point. Is there any other approach supported by java for performing this function? ","title":"Converting Invalid Json to Valid Json in Java","body":"<p>I am getting the below records from a backend system and not sure how many such records I might be receiving. As you can see the data I receive is not in a valid json format.</p>\n<pre><code>[489078:{cancelled:1, totalQty:2, AcceptedQty:1}, \n489079:{cancelled:0, totalQty:1, AcceptedQty:1},\n.\n.]\n</code></pre>\n<p>I want to convert the above payload into a valid a JsonArray of JsonObjects for further processing by converting it into a String first. I've tried replace String function, but it always fails at some point. Is there any other approach supported by java for performing this function?</p>\n"},{"tags":["java","bufferedimage","javax.imageio"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1681349006,"post_id":76000918,"comment_id":134043438,"body_markdown":"Decisive are width and height. You could use a black &amp; white color model for reduced memory.","body":"Decisive are width and height. You could use a black &amp; white color model for reduced memory."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1681349584,"post_id":76000918,"comment_id":134043484,"body_markdown":"TiledImage might help to restrict image. However I do not know how to.","body":"TiledImage might help to restrict image. However I do not know how to."},{"owner":{"account_id":3204393,"reputation":778,"user_id":2705702,"display_name":"Keijack"},"score":0,"creation_date":1681352701,"post_id":76000918,"comment_id":134043783,"body_markdown":"I think use Process to call another image tool to handle image, like imagemagick is a better idea.","body":"I think use Process to call another image tool to handle image, like imagemagick is a better idea."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681365432,"creation_date":1681351728,"answer_id":76001105,"question_id":76000918,"body_markdown":"Not completely as an answer, but each Red Green Blue is stored as an int (4 bytes each int) , if there is Alpha channel for each pixel it&#39;s also 4 bytes float.\r\n5000*5000 25,000,000 * 4 100,000,000 100mb\r\nThen there are the class footprint instances for holding onto and operating on it, maybe 50mb. So it maybe another 250mb used to complete the op.\r\nJava imaging is recommended to often call System.gc() to notify clearing garbage after each &quot;operation&quot; on an image e.g. immediately after loading(opening) the image, then each general operation on it.\r\nIt is also extremely important to set up a garbage collector such as the G1 gc on the startup commandline or the env variable properties for startup commands in servers e.g. example only: /bin/setenv.sh \r\nand to set the memory for stack 1mb heap and min max memory on its commandline or alike in the server \r\n\r\n***javax.imageio.ImageReader has getWidth(int IMG index)** , note.  jpeg and tiff carry extra images inside sometimes. I don&#39;t say you need do anything except get the reader associate the image file to obtain the width and height, generally image[0] is always the main image*\r\n\r\nMake a small test class and use ioimage classes, load and read an image and re-obtain the reader class when the data and reader have been set to obtain the info by association in the main object instance , then get width and height, BUT **use the java visual VM in the JDK /bin directory** to monitor memory before and after loading (switch on the visual VM just before running the test loader small commandline class)\r\nOf image[0] in jpeg and tiff formats, I have had good image programs ask, &quot;do you want to store the original image data with the edited version?&quot; that would make image[1] and a thumbnail would be image[2] although a thumb image may be image[1] of which java does not like much above 100 * 100 thumb size *(it fails!)*. Various companies such as Sony or Fuji have their own jpeg multi image specs for these.","title":"Prevent loading a big image into `BufferedImage` when only the size of its compressed version is known","body":"<p>Not completely as an answer, but each Red Green Blue is stored as an int (4 bytes each int) , if there is Alpha channel for each pixel it's also 4 bytes float.\n5000*5000 25,000,000 * 4 100,000,000 100mb\nThen there are the class footprint instances for holding onto and operating on it, maybe 50mb. So it maybe another 250mb used to complete the op.\nJava imaging is recommended to often call System.gc() to notify clearing garbage after each &quot;operation&quot; on an image e.g. immediately after loading(opening) the image, then each general operation on it.\nIt is also extremely important to set up a garbage collector such as the G1 gc on the startup commandline or the env variable properties for startup commands in servers e.g. example only: /bin/setenv.sh\nand to set the memory for stack 1mb heap and min max memory on its commandline or alike in the server</p>\n<p><em><strong>javax.imageio.ImageReader has getWidth(int IMG index)</strong> , note.  jpeg and tiff carry extra images inside sometimes. I don't say you need do anything except get the reader associate the image file to obtain the width and height, generally image[0] is always the main image</em></p>\n<p>Make a small test class and use ioimage classes, load and read an image and re-obtain the reader class when the data and reader have been set to obtain the info by association in the main object instance , then get width and height, BUT <strong>use the java visual VM in the JDK /bin directory</strong> to monitor memory before and after loading (switch on the visual VM just before running the test loader small commandline class)\nOf image[0] in jpeg and tiff formats, I have had good image programs ask, &quot;do you want to store the original image data with the edited version?&quot; that would make image[1] and a thumbnail would be image[2] although a thumb image may be image[1] of which java does not like much above 100 * 100 thumb size <em>(it fails!)</em>. Various companies such as Sony or Fuji have their own jpeg multi image specs for these.</p>\n"},{"tags":[],"owner":{"account_id":16073236,"reputation":85,"user_id":11601118,"display_name":"M I P A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681354610,"creation_date":1681352781,"answer_id":76001167,"question_id":76000918,"body_markdown":"Ok I figured it out, but it might not work for every set up: what we can do is take the needed information *without loading the entire image*, something I &lt;strike&gt;didn&#39;t know&lt;/strike&gt; forgot it was possible. We gotta start with `ImageIO.createImageInputStream(...)`. As its documentation says, it accepts any `Object` and might return `null` if it can&#39;t generate a stream from it. `ImageIO` was designed with 3rd party plugins in mind, so you should know if it&#39;d be wise to do a null check.\r\n\r\n```\r\n// in my case imgURL is a java.net.URL instance\r\nImageInputStream imgStream = ImageIO.createImageInputStream(imgURL.openStream());\r\n\r\n```\r\nThen we can get an `ImageReader` for that type of image (`ImageIO.getImageReaders(imgStream).next();`), use it for our own image, and ask it to tell us the width and height of our image:\r\n\r\n```java\r\ntry (imgStream) {\r\n    ImageReader reader = ImageIO.getImageReaders(imgStream).next();\r\n    reader.setInput(imgStream);\r\n\r\n    int width = reader.getWidth(0);\r\n    int height = reader.getWidth(0);\r\n\r\n    if (width * height &gt; 3_000_000) {\r\n        System.err.println(&quot;Too big!&quot;);\r\n        return;\r\n    }\r\n}\r\n```\r\nThis is not a perfect solution: there are several things that might fail depending on your plugins for `ImageIO`, but it&#39;s a perfectly *viable* solution for many cases, I think, including mine. I&#39;m just going to assume every plug in implementation I use checks if the reported dimensions in the metadata don&#39;t match the described pixels in the rest of the file...","title":"Prevent loading a big image into `BufferedImage` when only the size of its compressed version is known","body":"<p>Ok I figured it out, but it might not work for every set up: what we can do is take the needed information <em>without loading the entire image</em>, something I <strike>didn't know</strike> forgot it was possible. We gotta start with <code>ImageIO.createImageInputStream(...)</code>. As its documentation says, it accepts any <code>Object</code> and might return <code>null</code> if it can't generate a stream from it. <code>ImageIO</code> was designed with 3rd party plugins in mind, so you should know if it'd be wise to do a null check.</p>\n<pre><code>// in my case imgURL is a java.net.URL instance\nImageInputStream imgStream = ImageIO.createImageInputStream(imgURL.openStream());\n\n</code></pre>\n<p>Then we can get an <code>ImageReader</code> for that type of image (<code>ImageIO.getImageReaders(imgStream).next();</code>), use it for our own image, and ask it to tell us the width and height of our image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (imgStream) {\n    ImageReader reader = ImageIO.getImageReaders(imgStream).next();\n    reader.setInput(imgStream);\n\n    int width = reader.getWidth(0);\n    int height = reader.getWidth(0);\n\n    if (width * height &gt; 3_000_000) {\n        System.err.println(&quot;Too big!&quot;);\n        return;\n    }\n}\n</code></pre>\n<p>This is not a perfect solution: there are several things that might fail depending on your plugins for <code>ImageIO</code>, but it's a perfectly <em>viable</em> solution for many cases, I think, including mine. I'm just going to assume every plug in implementation I use checks if the reported dimensions in the metadata don't match the described pixels in the rest of the file...</p>\n"}],"owner":{"account_id":16073236,"reputation":85,"user_id":11601118,"display_name":"M I P A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681365432,"creation_date":1681348252,"question_id":76000918,"body_markdown":"I have a service that receives URLs of already uploaded images: its task is to resize them and save them compressed, loading them like this:\r\n\r\n```java\r\nBufferedImage src = ImageIO.read(imgURL);\r\n```\r\n\r\n\r\nThere might be an issue, though... to compress those images I need to load them into memory first, and I can&#39;t judge how much RAM they&#39;ll take just by looking at their reported sizes: an 80 KB PNG could be 5000px * 5000px, and the same could happen with a 300 KB JPEG! My resources are quite limited, so is there a way I can find out how much I&#39;m gonna need, so I can discard the images that could be too big in memory? A 4.5 MB JPEG image could take nearly 4 GB in memory...\r\n\r\nI kinda wish `ImageIO.read(...)` had an option so I could tell it &quot;if at some point you see it&#39;s gonna take more than X bytes, just throw everything away come back to me.&quot; How can I tackle this issue?\r\n\r\nEdit: I forgot there are some ways to work with streams in this library. I&#39;ll check if it allows me to get the resolution before I download the image into memory.","title":"Prevent loading a big image into `BufferedImage` when only the size of its compressed version is known","body":"<p>I have a service that receives URLs of already uploaded images: its task is to resize them and save them compressed, loading them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage src = ImageIO.read(imgURL);\n</code></pre>\n<p>There might be an issue, though... to compress those images I need to load them into memory first, and I can't judge how much RAM they'll take just by looking at their reported sizes: an 80 KB PNG could be 5000px * 5000px, and the same could happen with a 300 KB JPEG! My resources are quite limited, so is there a way I can find out how much I'm gonna need, so I can discard the images that could be too big in memory? A 4.5 MB JPEG image could take nearly 4 GB in memory...</p>\n<p>I kinda wish <code>ImageIO.read(...)</code> had an option so I could tell it &quot;if at some point you see it's gonna take more than X bytes, just throw everything away come back to me.&quot; How can I tackle this issue?</p>\n<p>Edit: I forgot there are some ways to work with streams in this library. I'll check if it allows me to get the resolution before I download the image into memory.</p>\n"},{"tags":["java","switch-statement","user-input"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681365669,"post_id":76002053,"comment_id":134045142,"body_markdown":"`String userInput;` is local to the `main` method.  It can not be accessed in `printAnimals`. This code should not compile.","body":"<code>String userInput;</code> is local to the <code>main</code> method.  It can not be accessed in <code>printAnimals</code>. This code should not compile."},{"owner":{"account_id":17127273,"reputation":1,"user_id":12394169,"display_name":"Zackery Spears"},"score":0,"creation_date":1681365836,"post_id":76002053,"comment_id":134045167,"body_markdown":"Then how can I get it too","body":"Then how can I get it too"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":1,"creation_date":1681365837,"post_id":76002053,"comment_id":134045168,"body_markdown":"Your `userInput` variable is defined in `main()`, it is not accessible by `printAnimals`. Add parameter to it: `public static void printAnimals(String userInput)`. Also make sure you always call `printAnimals` with `userInput` argument.","body":"Your <code>userInput</code> variable is defined in <code>main()</code>, it is not accessible by <code>printAnimals</code>. Add parameter to it: <code>public static void printAnimals(String userInput)</code>. Also make sure you always call <code>printAnimals</code> with <code>userInput</code> argument."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1681365884,"post_id":76002053,"comment_id":134045170,"body_markdown":"Here are a few hints for you.  *methods* should do one thing only.  The amount of code should fit on your screen.  *writing code* write a little code, compile soon. do not write a whole hunk of code then compile.","body":"Here are a few hints for you.  <i>methods</i> should do one thing only.  The amount of code should fit on your screen.  <i>writing code</i> write a little code, compile soon. do not write a whole hunk of code then compile."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1681365985,"post_id":76002053,"comment_id":134045186,"body_markdown":"you seem to be missing quite some break statements","body":"you seem to be missing quite some break statements"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1681368645,"post_id":76002053,"comment_id":134045648,"body_markdown":"Another observation: the loop checking for the dog already being present should ideally happen right after entering the dog&#39;s name. No need to let the user enter all the data and then tell them it was all in vain. Also, the input check on reservation status (i.e. the condition producing &quot;Re-input reservation status.&quot;) should be in a separate while-loop as you&#39;d want to continue until either &quot;true&quot; or &quot;false&quot; have been entered - doing this in a loop iterating over the dogs in the system doesn&#39;t make any sense.","body":"Another observation: the loop checking for the dog already being present should ideally happen right after entering the dog&#39;s name. No need to let the user enter all the data and then tell them it was all in vain. Also, the input check on reservation status (i.e. the condition producing &quot;Re-input reservation status.&quot;) should be in a separate while-loop as you&#39;d want to continue until either &quot;true&quot; or &quot;false&quot; have been entered - doing this in a loop iterating over the dogs in the system doesn&#39;t make any sense."}],"owner":{"account_id":17127273,"reputation":1,"user_id":12394169,"display_name":"Zackery Spears"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681365104,"creation_date":1681365104,"question_id":76002053,"body_markdown":"&gt; I&#39;m having trouble getting the userInput to work for case 4 and onwards in the printAnimals() at the very bottom. It like the userInput variable is not being able to be accessed. After the user types 4 it should print the dogList then return back to the menu. But instead I just get errors when passing userInput into printAnimals at case 4 and at the if statement within printAnimals();\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Driver {\r\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\r\n    //Add a monkey Array list\r\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\r\n    //This is a scanner to get user input\r\n    private static Scanner scanner = new Scanner(System.in);\r\n    \r\n    public static void main(String[] args) {\r\n    \t//Initialize variables \r\n    \tString userInput;\r\n    \t\r\n        initializeDogList();\r\n        initializeMonkeyList();\r\n\r\n       //Do-While loop to access menu\r\n       do{\r\n    \t   //Display the menu\r\n    \t   displayMenu();\r\n    \t   //Get the user input \r\n    \t   userInput = scanner.nextLine();\r\n    \t   //Switch through each option the user can choose\r\n    \t   switch(userInput) {\r\n    \t   \t\tcase &quot;1&quot;:\r\n    \t   \t\t\tintakeNewDog(scanner);\r\n    \t   \t\tcase &quot;2&quot;:\r\n    \t   \t\t\tintakeNewMonkey(scanner);\r\n    \t   \t\tcase &quot;3&quot;:\r\n    \t   \t\t\treserveAnimal(scanner);\r\n    \t   \t\tcase &quot;4&quot;:\r\n    \t   \t\t\tprintAnimals(userInput);\r\n    \t   \t\tcase &quot;5&quot;:\r\n    \t   \t\t\tprintAnimals(userInput);\r\n    \t   \t\tcase &quot;6&quot;:\r\n    \t   \t\t\tprintAnimals();\r\n    \t   \t\tcase &quot;q&quot;:\r\n    \t   \t\t\tbreak;\r\n    \t   \t\tdefault:\r\n    \t   \t\t\tSystem.out.println(&quot;Invalid input, please try again. Enter 1-6 or q to quit.&quot;);\r\n    \t   }\r\n        }while(!userInput.equals(&quot;q&quot;));\r\n\r\n    }\r\n\r\n    // This method prints the menu options\r\n    public static void displayMenu() {\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n        System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\r\n        System.out.println(&quot;[1] Intake a new dog&quot;);\r\n        System.out.println(&quot;[2] Intake a new monkey&quot;);\r\n        System.out.println(&quot;[3] Reserve an animal&quot;);\r\n        System.out.println(&quot;[4] Print a list of all dogs&quot;);\r\n        System.out.println(&quot;[5] Print a list of all monkeys&quot;);\r\n        System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\r\n        System.out.println(&quot;[q] Quit application&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;Enter a menu selection&quot;);\r\n    }\r\n    \r\n\r\n    // Adds dogs to a list for testing\r\n    public static void initializeDogList() {\r\n        Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\r\n        Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\r\n        Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\r\n\r\n        dogList.add(dog1);\r\n        dogList.add(dog2);\r\n        dogList.add(dog3);\r\n    }\r\n\r\n\r\n    // Adds monkeys to a list for testing\r\n    //Optional for testing\r\n    public static void initializeMonkeyList() {\r\n    \tMonkey monkeyOne = new Monkey(&quot;DK&quot;, &quot;3&quot;, &quot;7&quot;, &quot;15&quot;, &quot;Guenon&quot;, &quot;male&quot;, &quot;4&quot;, &quot;15&quot;, &quot;4-1-22&quot;, &quot;Japan&quot;, &quot;intake&quot;, true, &quot;USA&quot;);\r\n    \t//Adds a new monkey to the ArrayList\r\n    \tmonkeyList.add(monkeyOne);\r\n\r\n    }\r\n\r\n\r\n    // Complete the intakeNewDog method\r\n    // The input validation to check that the dog is not already in the list\r\n    // is done for you\r\n    public static void intakeNewDog(Scanner scanner) {\r\n    \t// Add the code to instantiate a new dog and add it to the appropriate list\r\n        System.out.println(&quot;What is the dog&#39;s name?&quot;);\r\n        String name = scanner.nextLine();\r\n       \r\n        String gender;\r\n        do {\r\n        \t  System.out.println(&quot;What is the dog&#39;s gender?&quot;);\r\n              gender = scanner.nextLine().toLowerCase();\r\n        }while (!gender.equals(&quot;male&quot;) &amp;&amp; !gender.equals(&quot;female&quot;)); \r\n        \r\n        \r\n        System.out.println(&quot;What is the dog&#39;s age?&quot;);\r\n        String age = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;What is the dog&#39;s weight?&quot;);\r\n        String weight = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;When was the dog&#39;s acquired?&quot;);\r\n        String acquisitionDate = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;Where was the dog acquired?&quot;);\r\n        String acquisitionCountry = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;What is the dog training status?&quot;);\r\n        String trainingStatus = scanner.nextLine();\r\n        \r\n        \r\n        System.out.println(&quot;In what country is the dog in service?&quot;);\r\n        String inServiceCountry = scanner.nextLine();\r\n        \r\n        System.out.println(&quot;Is this dog reserved? True or False.&quot;);\r\n        String reservedSpot;\r\n        reservedSpot = scanner.nextLine();\r\n        System.out.println(&quot;reservedString: &quot; + reservedSpot);\r\n        boolean reserved;\r\n        for(Dog dog: dogList) {\r\n            if(dog.getName().equalsIgnoreCase(name)) {\r\n                System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\r\n                return; //returns to menu\r\n            }\r\n            if(!&quot;true&quot;.equals(reservedSpot) &amp;&amp; !&quot;false&quot;.equals(reservedSpot)) {\r\n                System.out.println(&quot;Re-input reservation status.&quot;);\r\n                reservedSpot = scanner.nextLine();\r\n             }\r\n             \r\n        }\r\n        reserved = &quot;true&quot;.equals(reservedSpot.toLowerCase());\r\n        //This creates a new dog from user input \r\n       Dog dog = new Dog(name, gender, age, weight, acquisitionDate, acquisitionCountry,trainingStatus ,inServiceCountry, reserved, inServiceCountry);\r\n        \r\n       //Print out after the dog has been added to the system \r\n       System.out.println(&quot;The dog has successfully been added to our system.&quot;);\r\n        //This adds the dog to the arrayList called dogList\r\n        dogList.add(dog);\r\n      //Returns back to menu\r\n        return;\r\n        \r\n    }\r\n\r\n\r\n        // Completed intakeNewMonkey\r\n\t//Instantiate and add the new monkey to the appropriate list\r\n    //Made sure there could be no repeat of Monkeys\r\n        public static void intakeNewMonkey(Scanner scanner) {\r\n            System.out.println(&quot;What is the monkey&#39;s name&quot;);\r\n            String name = scanner.nextLine();\r\n            for(Monkey monkey: monkeyList) {\r\n            \tif(monkey.getName().equalsIgnoreCase(name)) {\r\n                    System.out.println(&quot;\\n\\nThis monkey is already in our system.\\n\\n&quot;);\r\n                    return; //returns to menu\r\n                }\r\n            }\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s tail lenght?&quot;);\r\n            String tailLength = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s height?&quot;);\r\n            String height = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s body Length?&quot;);\r\n            String bodyLength = scanner.nextLine();\r\n            \r\n            //Do while loop to get the monkey species\r\n            String species;\r\n            do {\r\n            \tSystem.out.println(&quot;What is the monkey&#39;s species?&quot;);\r\n            \tSystem.out.println(&quot;Species:Capuchin, Guenon, Macaque, Marmose, Squirrel monkey, Tamarin&quot;);\r\n            \tspecies = scanner.nextLine();\r\n            }while(!&quot;Capuchin&quot;.equals(species) &amp;&amp; !&quot;Guenon&quot;.equals(species) &amp;&amp; !&quot;Macaque&quot;.equals(species) &amp;&amp; !&quot;Marmose&quot;.equals(species) &amp;&amp;\r\n            \t\t!&quot;Squirrel monkey&quot;.equals(species) &amp;&amp; !&quot;Tamarin&quot;.equals(species));\r\n            \r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s gender?&quot;);\r\n            String gender = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s age?&quot;);\r\n            String age = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey&#39;s weight?&quot;);\r\n            String weight = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;When was the monkey&#39;s acquired?&quot;);\r\n            String acquisitionDate = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;Where was the monkey acquired?&quot;);\r\n            String acquisitionCountry = scanner.nextLine();\r\n            \r\n            System.out.println(&quot;What is the monkey training status?&quot;);\r\n            String trainingStatus = scanner.nextLine();\r\n            \r\n            String reservedString;\r\n            System.out.println(&quot;Is this monkey reserved? True or False.&quot;);\r\n            \r\n            reservedString = scanner.nextLine();\r\n            \r\n            while (!reservedString.equalsIgnoreCase(&quot;true&quot;) &amp;&amp; !reservedString.equalsIgnoreCase(&quot;false&quot;)) {\r\n            \tSystem.out.println(&quot;Re-input reservation status.&quot;);\r\n            \treservedString = scanner.nextLine();\r\n            }\r\n            boolean reserved = &quot;true&quot;.equals(reservedString.toLowerCase());\r\n     \r\n            \r\n            System.out.println(&quot;In what country is the monkey in service?&quot;);\r\n            String inServiceCountry = scanner.nextLine();\r\n            \r\n            //This creates a new monkey from user input \r\n            Monkey monkey = new Monkey(name, tailLength, height, bodyLength, species,\r\n            \t\tgender ,age, weight, acquisitionDate, acquisitionCountry,trainingStatus ,reserved, inServiceCountry);\r\n            \r\n            //This adds the monkey to the arrayList called monkeyList\r\n            monkeyList.add(monkey);\r\n            //Print out after the monkey has been added to the system \r\n            System.out.println(&quot;The monkey has successfully been added to our system.&quot;);\r\n            return;\r\n        }\r\n\r\n        // Complete reserveAnimal\r\n        // You will need to find the animal by animal type and in service country\r\n        public static void reserveAnimal(Scanner scanner) {\r\n            System.out.println(&quot;Please enter a animal type.&quot;);\r\n            String animalType = scanner.nextLine().toLowerCase();\r\n            \r\n            System.out.println(&quot;Enter service country: &quot;);\r\n            String inServiceCountry = scanner.nextLine();\r\n            \r\n            if(animalType.equalsIgnoreCase(&quot;dog&quot;)) {\r\n            \tfor(Dog dog: dogList) {\r\n            \t\tif(dog.getInServiceLocation().equals(inServiceCountry)) {\r\n            \t\t\t//update the reserved attribute\r\n            \t\t\tdog.setReserved(true);\r\n            \t\t}\r\n            \t}\r\n            \treturn;\r\n            }\r\n            else if(animalType.equalsIgnoreCase(&quot;monkey&quot;)) {\r\n            \tfor(Monkey monkey: monkeyList) {\r\n            \t\tif(monkey.getInServiceLocation().equals(inServiceCountry)) {\r\n            \t\t\t//update the reserved attribute\r\n            \t\t\tmonkey.setReserved(true);\r\n            \t\t}\r\n            \t}\r\n            \treturn;\r\n            }\r\n            else {\r\n            \tSystem.out.println(&quot;No animals of that type and location are available.&quot;);\r\n            \treturn;\r\n            }\r\n            \r\n        }\r\n\r\n        // Complete printAnimals\r\n        // Include the animal name, status, acquisition country and if the animal is reserved.\r\n\t// Remember that this method connects to three different menu items.\r\n        // The printAnimals() method has three different outputs\r\n        // based on the listType parameter\r\n        // dog - prints the list of dogs\r\n        // monkey - prints the list of monkeys\r\n        // available - prints a combined list of all animals that are\r\n        // fully trained (&quot;in service&quot;) but not reserved \r\n\t// Remember that you only have to fully implement ONE of these lists. \r\n\t// The other lists can have a print statement saying &quot;This option needs to be implemented&quot;.\r\n\t// To score &quot;exemplary&quot; you must correctly implement the &quot;available&quot; list.\r\n        public static void printAnimals() {\r\n        \tif(userInput.equals(&quot;4&quot;)) {\r\n        \t\tSystem.out.println(dogList);\r\n        \t\treturn;\r\n        \t\t\r\n        }\r\n        else if (userInput.equals(&quot;5&quot;)) {\r\n        \tSystem.out.println(monkeyList);\r\n    \t\treturn;\r\n        }\r\n     }\r\n}\r\n```\r\n\r\n```\r\n```","title":"It 145 project 2","body":"<blockquote>\n<p>I'm having trouble getting the userInput to work for case 4 and onwards in the printAnimals() at the very bottom. It like the userInput variable is not being able to be accessed. After the user types 4 it should print the dogList then return back to the menu. But instead I just get errors when passing userInput into printAnimals at case 4 and at the if statement within printAnimals();</p>\n</blockquote>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Driver {\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\n    //Add a monkey Array list\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\n    //This is a scanner to get user input\n    private static Scanner scanner = new Scanner(System.in);\n    \n    public static void main(String[] args) {\n        //Initialize variables \n        String userInput;\n        \n        initializeDogList();\n        initializeMonkeyList();\n\n       //Do-While loop to access menu\n       do{\n           //Display the menu\n           displayMenu();\n           //Get the user input \n           userInput = scanner.nextLine();\n           //Switch through each option the user can choose\n           switch(userInput) {\n                case &quot;1&quot;:\n                    intakeNewDog(scanner);\n                case &quot;2&quot;:\n                    intakeNewMonkey(scanner);\n                case &quot;3&quot;:\n                    reserveAnimal(scanner);\n                case &quot;4&quot;:\n                    printAnimals(userInput);\n                case &quot;5&quot;:\n                    printAnimals(userInput);\n                case &quot;6&quot;:\n                    printAnimals();\n                case &quot;q&quot;:\n                    break;\n                default:\n                    System.out.println(&quot;Invalid input, please try again. Enter 1-6 or q to quit.&quot;);\n           }\n        }while(!userInput.equals(&quot;q&quot;));\n\n    }\n\n    // This method prints the menu options\n    public static void displayMenu() {\n        System.out.println(&quot;\\n\\n&quot;);\n        System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\n        System.out.println(&quot;[1] Intake a new dog&quot;);\n        System.out.println(&quot;[2] Intake a new monkey&quot;);\n        System.out.println(&quot;[3] Reserve an animal&quot;);\n        System.out.println(&quot;[4] Print a list of all dogs&quot;);\n        System.out.println(&quot;[5] Print a list of all monkeys&quot;);\n        System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\n        System.out.println(&quot;[q] Quit application&quot;);\n        System.out.println();\n        System.out.println(&quot;Enter a menu selection&quot;);\n    }\n    \n\n    // Adds dogs to a list for testing\n    public static void initializeDogList() {\n        Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\n        Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\n        Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\n\n        dogList.add(dog1);\n        dogList.add(dog2);\n        dogList.add(dog3);\n    }\n\n\n    // Adds monkeys to a list for testing\n    //Optional for testing\n    public static void initializeMonkeyList() {\n        Monkey monkeyOne = new Monkey(&quot;DK&quot;, &quot;3&quot;, &quot;7&quot;, &quot;15&quot;, &quot;Guenon&quot;, &quot;male&quot;, &quot;4&quot;, &quot;15&quot;, &quot;4-1-22&quot;, &quot;Japan&quot;, &quot;intake&quot;, true, &quot;USA&quot;);\n        //Adds a new monkey to the ArrayList\n        monkeyList.add(monkeyOne);\n\n    }\n\n\n    // Complete the intakeNewDog method\n    // The input validation to check that the dog is not already in the list\n    // is done for you\n    public static void intakeNewDog(Scanner scanner) {\n        // Add the code to instantiate a new dog and add it to the appropriate list\n        System.out.println(&quot;What is the dog's name?&quot;);\n        String name = scanner.nextLine();\n       \n        String gender;\n        do {\n              System.out.println(&quot;What is the dog's gender?&quot;);\n              gender = scanner.nextLine().toLowerCase();\n        }while (!gender.equals(&quot;male&quot;) &amp;&amp; !gender.equals(&quot;female&quot;)); \n        \n        \n        System.out.println(&quot;What is the dog's age?&quot;);\n        String age = scanner.nextLine();\n        \n        System.out.println(&quot;What is the dog's weight?&quot;);\n        String weight = scanner.nextLine();\n        \n        System.out.println(&quot;When was the dog's acquired?&quot;);\n        String acquisitionDate = scanner.nextLine();\n        \n        System.out.println(&quot;Where was the dog acquired?&quot;);\n        String acquisitionCountry = scanner.nextLine();\n        \n        System.out.println(&quot;What is the dog training status?&quot;);\n        String trainingStatus = scanner.nextLine();\n        \n        \n        System.out.println(&quot;In what country is the dog in service?&quot;);\n        String inServiceCountry = scanner.nextLine();\n        \n        System.out.println(&quot;Is this dog reserved? True or False.&quot;);\n        String reservedSpot;\n        reservedSpot = scanner.nextLine();\n        System.out.println(&quot;reservedString: &quot; + reservedSpot);\n        boolean reserved;\n        for(Dog dog: dogList) {\n            if(dog.getName().equalsIgnoreCase(name)) {\n                System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\n                return; //returns to menu\n            }\n            if(!&quot;true&quot;.equals(reservedSpot) &amp;&amp; !&quot;false&quot;.equals(reservedSpot)) {\n                System.out.println(&quot;Re-input reservation status.&quot;);\n                reservedSpot = scanner.nextLine();\n             }\n             \n        }\n        reserved = &quot;true&quot;.equals(reservedSpot.toLowerCase());\n        //This creates a new dog from user input \n       Dog dog = new Dog(name, gender, age, weight, acquisitionDate, acquisitionCountry,trainingStatus ,inServiceCountry, reserved, inServiceCountry);\n        \n       //Print out after the dog has been added to the system \n       System.out.println(&quot;The dog has successfully been added to our system.&quot;);\n        //This adds the dog to the arrayList called dogList\n        dogList.add(dog);\n      //Returns back to menu\n        return;\n        \n    }\n\n\n        // Completed intakeNewMonkey\n    //Instantiate and add the new monkey to the appropriate list\n    //Made sure there could be no repeat of Monkeys\n        public static void intakeNewMonkey(Scanner scanner) {\n            System.out.println(&quot;What is the monkey's name&quot;);\n            String name = scanner.nextLine();\n            for(Monkey monkey: monkeyList) {\n                if(monkey.getName().equalsIgnoreCase(name)) {\n                    System.out.println(&quot;\\n\\nThis monkey is already in our system.\\n\\n&quot;);\n                    return; //returns to menu\n                }\n            }\n            \n            System.out.println(&quot;What is the monkey's tail lenght?&quot;);\n            String tailLength = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey's height?&quot;);\n            String height = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey's body Length?&quot;);\n            String bodyLength = scanner.nextLine();\n            \n            //Do while loop to get the monkey species\n            String species;\n            do {\n                System.out.println(&quot;What is the monkey's species?&quot;);\n                System.out.println(&quot;Species:Capuchin, Guenon, Macaque, Marmose, Squirrel monkey, Tamarin&quot;);\n                species = scanner.nextLine();\n            }while(!&quot;Capuchin&quot;.equals(species) &amp;&amp; !&quot;Guenon&quot;.equals(species) &amp;&amp; !&quot;Macaque&quot;.equals(species) &amp;&amp; !&quot;Marmose&quot;.equals(species) &amp;&amp;\n                    !&quot;Squirrel monkey&quot;.equals(species) &amp;&amp; !&quot;Tamarin&quot;.equals(species));\n            \n            \n            System.out.println(&quot;What is the monkey's gender?&quot;);\n            String gender = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey's age?&quot;);\n            String age = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey's weight?&quot;);\n            String weight = scanner.nextLine();\n            \n            System.out.println(&quot;When was the monkey's acquired?&quot;);\n            String acquisitionDate = scanner.nextLine();\n            \n            System.out.println(&quot;Where was the monkey acquired?&quot;);\n            String acquisitionCountry = scanner.nextLine();\n            \n            System.out.println(&quot;What is the monkey training status?&quot;);\n            String trainingStatus = scanner.nextLine();\n            \n            String reservedString;\n            System.out.println(&quot;Is this monkey reserved? True or False.&quot;);\n            \n            reservedString = scanner.nextLine();\n            \n            while (!reservedString.equalsIgnoreCase(&quot;true&quot;) &amp;&amp; !reservedString.equalsIgnoreCase(&quot;false&quot;)) {\n                System.out.println(&quot;Re-input reservation status.&quot;);\n                reservedString = scanner.nextLine();\n            }\n            boolean reserved = &quot;true&quot;.equals(reservedString.toLowerCase());\n     \n            \n            System.out.println(&quot;In what country is the monkey in service?&quot;);\n            String inServiceCountry = scanner.nextLine();\n            \n            //This creates a new monkey from user input \n            Monkey monkey = new Monkey(name, tailLength, height, bodyLength, species,\n                    gender ,age, weight, acquisitionDate, acquisitionCountry,trainingStatus ,reserved, inServiceCountry);\n            \n            //This adds the monkey to the arrayList called monkeyList\n            monkeyList.add(monkey);\n            //Print out after the monkey has been added to the system \n            System.out.println(&quot;The monkey has successfully been added to our system.&quot;);\n            return;\n        }\n\n        // Complete reserveAnimal\n        // You will need to find the animal by animal type and in service country\n        public static void reserveAnimal(Scanner scanner) {\n            System.out.println(&quot;Please enter a animal type.&quot;);\n            String animalType = scanner.nextLine().toLowerCase();\n            \n            System.out.println(&quot;Enter service country: &quot;);\n            String inServiceCountry = scanner.nextLine();\n            \n            if(animalType.equalsIgnoreCase(&quot;dog&quot;)) {\n                for(Dog dog: dogList) {\n                    if(dog.getInServiceLocation().equals(inServiceCountry)) {\n                        //update the reserved attribute\n                        dog.setReserved(true);\n                    }\n                }\n                return;\n            }\n            else if(animalType.equalsIgnoreCase(&quot;monkey&quot;)) {\n                for(Monkey monkey: monkeyList) {\n                    if(monkey.getInServiceLocation().equals(inServiceCountry)) {\n                        //update the reserved attribute\n                        monkey.setReserved(true);\n                    }\n                }\n                return;\n            }\n            else {\n                System.out.println(&quot;No animals of that type and location are available.&quot;);\n                return;\n            }\n            \n        }\n\n        // Complete printAnimals\n        // Include the animal name, status, acquisition country and if the animal is reserved.\n    // Remember that this method connects to three different menu items.\n        // The printAnimals() method has three different outputs\n        // based on the listType parameter\n        // dog - prints the list of dogs\n        // monkey - prints the list of monkeys\n        // available - prints a combined list of all animals that are\n        // fully trained (&quot;in service&quot;) but not reserved \n    // Remember that you only have to fully implement ONE of these lists. \n    // The other lists can have a print statement saying &quot;This option needs to be implemented&quot;.\n    // To score &quot;exemplary&quot; you must correctly implement the &quot;available&quot; list.\n        public static void printAnimals() {\n            if(userInput.equals(&quot;4&quot;)) {\n                System.out.println(dogList);\n                return;\n                \n        }\n        else if (userInput.equals(&quot;5&quot;)) {\n            System.out.println(monkeyList);\n            return;\n        }\n     }\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring","jdbc","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":3315004,"reputation":1317,"user_id":2787584,"display_name":"aaiezza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1445452625,"creation_date":1445451502,"answer_id":33266475,"question_id":33266078,"body_markdown":"If you take a look at [java.sql.ResultSet][1], you can see you don&#39;t need to be so explicit. Actually, unless you have a typeMapper for you connection which allows you to use the getObject method, it will not work ([java.sql.ResultSet.getObject][2]).\r\n\r\nI don&#39;t know if it would help you, but I managed to find a RowMapper of my own that worked great for my needs.\r\n\r\n    private class ShabaUserMapper implements RowMapper&lt;ShabaUser&gt;\r\n    {\r\n        @Override\r\n        public ShabaUser mapRow( ResultSet rs, int rowNum ) throws SQLException\r\n        {\r\n            Collection&lt;SimpleGrantedAuthority&gt; roles = new ArrayList&lt;SimpleGrantedAuthority&gt;();\r\n\r\n            String auths = rs.getString( &quot;role&quot; );\r\n\r\n            roles.add( new SimpleGrantedAuthority( auths ) );\r\n\r\n            ShabaUser user = new ShabaUser( rs.getString( &quot;username&quot; ), rs.getString( &quot;password&quot; ),\r\n                    rs.getBoolean( &quot;enabled&quot; ), rs.getString( &quot;first_name&quot; ),\r\n                    rs.getString( &quot;last_name&quot; ), rs.getString( &quot;email&quot; ),\r\n                    rs.getString( &quot;date_joined&quot; ), rs.getString( &quot;last_online&quot; ), true, true, true,\r\n                    roles );\r\n\r\n            // Can be null!\r\n            Integer awesomeness = rs.getInt( &quot;awesomeness&quot; );\r\n            if ( rs.wasNull() )\r\n            {\r\n                awesomeness = null;\r\n            }\r\n\r\n            user.setAwesomeness( awesomeness );\r\n\r\n            return user;\r\n        }\r\n    }\r\n\r\n    private class ShabaUserListExtractor implements ResultSetExtractor&lt;List&lt;ShabaUser&gt;&gt;\r\n    {\r\n        private final ShabaUserMapper rowMapper;\r\n\r\n        private int                   rowsExpected;\r\n\r\n        public ShabaUserListExtractor()\r\n        {\r\n            this( new ShabaUserMapper(), 0 );\r\n        }\r\n\r\n        public ShabaUserListExtractor( ShabaUserMapper rowMapper, int rowsExpected )\r\n        {\r\n            Assert.notNull( rowMapper, &quot;RowMapper is required&quot; );\r\n            this.rowMapper = rowMapper;\r\n            this.rowsExpected = rowsExpected;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ShabaUser&gt; extractData( ResultSet rs ) throws SQLException\r\n        {\r\n            HashMap&lt;String, ShabaUser&gt; results = ( this.rowsExpected &gt; 0\r\n                                                                        ? new HashMap&lt;String, ShabaUser&gt;(\r\n                                                                                rowsExpected )\r\n                                                                        : new HashMap&lt;String, ShabaUser&gt;() );\r\n            int rowNum = 0;\r\n            while ( rs.next() )\r\n            {\r\n                ShabaUser user = rowMapper.mapRow( rs, rowNum++ );\r\n\r\n                if ( results.containsKey( user.getUsername() ) )\r\n                {\r\n                    ShabaUser inUser = results.get( user.getUsername() );\r\n                    ArrayList&lt;GrantedAuthority&gt; combinedAuthorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n\r\n                    combinedAuthorities.addAll( inUser.getAuthorities() );\r\n                    combinedAuthorities.addAll( user.getAuthorities() );\r\n\r\n                    results.put( user.getUsername(),\r\n                        createUserDetails( user.getUsername(), user, combinedAuthorities ) );\r\n                } else\r\n                {\r\n                    results.put( user.getUsername(), user );\r\n                }\r\n            }\r\n\r\n            return new ArrayList&lt;ShabaUser&gt;( results.values() );\r\n        }\r\n    }\r\n\r\nI realize this is a lot of code, but hopefully you can see what was accomplished here. The actual RowMapper implementation is actually meant to house all the &quot;dirty work&quot; for extracting your object from row information.\r\n\r\nSo long as your database is setup correctly and you make it so NOT NULL is on required columns, you will never run into the problem of pulling out a row that is empty. Though I suppose it wouldn&#39;t hurt to check for a null response from your ResultSet, you&#39;ll still just end up throwing an exception anyways if the column should of had a value.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html?is-external=true\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-int-","title":"Java Spring - RowMapper ResultSet - Integer/null values","body":"<p>If you take a look at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html?is-external=true\" rel=\"nofollow\">java.sql.ResultSet</a>, you can see you don't need to be so explicit. Actually, unless you have a typeMapper for you connection which allows you to use the getObject method, it will not work (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getObject-int-\" rel=\"nofollow\">java.sql.ResultSet.getObject</a>).</p>\n\n<p>I don't know if it would help you, but I managed to find a RowMapper of my own that worked great for my needs.</p>\n\n<pre><code>private class ShabaUserMapper implements RowMapper&lt;ShabaUser&gt;\n{\n    @Override\n    public ShabaUser mapRow( ResultSet rs, int rowNum ) throws SQLException\n    {\n        Collection&lt;SimpleGrantedAuthority&gt; roles = new ArrayList&lt;SimpleGrantedAuthority&gt;();\n\n        String auths = rs.getString( \"role\" );\n\n        roles.add( new SimpleGrantedAuthority( auths ) );\n\n        ShabaUser user = new ShabaUser( rs.getString( \"username\" ), rs.getString( \"password\" ),\n                rs.getBoolean( \"enabled\" ), rs.getString( \"first_name\" ),\n                rs.getString( \"last_name\" ), rs.getString( \"email\" ),\n                rs.getString( \"date_joined\" ), rs.getString( \"last_online\" ), true, true, true,\n                roles );\n\n        // Can be null!\n        Integer awesomeness = rs.getInt( \"awesomeness\" );\n        if ( rs.wasNull() )\n        {\n            awesomeness = null;\n        }\n\n        user.setAwesomeness( awesomeness );\n\n        return user;\n    }\n}\n\nprivate class ShabaUserListExtractor implements ResultSetExtractor&lt;List&lt;ShabaUser&gt;&gt;\n{\n    private final ShabaUserMapper rowMapper;\n\n    private int                   rowsExpected;\n\n    public ShabaUserListExtractor()\n    {\n        this( new ShabaUserMapper(), 0 );\n    }\n\n    public ShabaUserListExtractor( ShabaUserMapper rowMapper, int rowsExpected )\n    {\n        Assert.notNull( rowMapper, \"RowMapper is required\" );\n        this.rowMapper = rowMapper;\n        this.rowsExpected = rowsExpected;\n    }\n\n    @Override\n    public List&lt;ShabaUser&gt; extractData( ResultSet rs ) throws SQLException\n    {\n        HashMap&lt;String, ShabaUser&gt; results = ( this.rowsExpected &gt; 0\n                                                                    ? new HashMap&lt;String, ShabaUser&gt;(\n                                                                            rowsExpected )\n                                                                    : new HashMap&lt;String, ShabaUser&gt;() );\n        int rowNum = 0;\n        while ( rs.next() )\n        {\n            ShabaUser user = rowMapper.mapRow( rs, rowNum++ );\n\n            if ( results.containsKey( user.getUsername() ) )\n            {\n                ShabaUser inUser = results.get( user.getUsername() );\n                ArrayList&lt;GrantedAuthority&gt; combinedAuthorities = new ArrayList&lt;GrantedAuthority&gt;();\n\n                combinedAuthorities.addAll( inUser.getAuthorities() );\n                combinedAuthorities.addAll( user.getAuthorities() );\n\n                results.put( user.getUsername(),\n                    createUserDetails( user.getUsername(), user, combinedAuthorities ) );\n            } else\n            {\n                results.put( user.getUsername(), user );\n            }\n        }\n\n        return new ArrayList&lt;ShabaUser&gt;( results.values() );\n    }\n}\n</code></pre>\n\n<p>I realize this is a lot of code, but hopefully you can see what was accomplished here. The actual RowMapper implementation is actually meant to house all the \"dirty work\" for extracting your object from row information.</p>\n\n<p>So long as your database is setup correctly and you make it so NOT NULL is on required columns, you will never run into the problem of pulling out a row that is empty. Though I suppose it wouldn't hurt to check for a null response from your ResultSet, you'll still just end up throwing an exception anyways if the column should of had a value.</p>\n"},{"tags":[],"owner":{"account_id":475533,"reputation":6984,"user_id":885922,"accept_rate":86,"display_name":"xlm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681364770,"creation_date":1617079402,"answer_id":66864916,"question_id":33266078,"body_markdown":"### TLDR\r\n* Use `resultSet.getXXX(String columnLabel)` if no `SQL NULL` allowed, or you only care about getting back a primitive (no object, boxed or array types)\r\n* Use `resultSet.getObject(String columnLabel, Class type)` if value could be `SQL NULL` but DO NOT unbox if type is a boxed type e.g. `Integer` as you could get `NullPointerException` since primitives can&#39;t be `null`\r\n* Use `resultSet.getObject(String columnLabel)` with casting if you&#39;re running Java 6\r\n\r\n\r\n### Details:\r\n\r\nIf a column does not allow `SQL NULL`, or your code *strictly* needs or expects a primitive i.e. no object types (this includes boxed types e.g. `Integer`, [primitive arrays which are actually objects][1] e.g. `byte[]`) then use the specific get method:\r\n\r\n```java\r\n// Integer is 0 if value is SQL NULL\r\nint i = resultSet.getInt(column);\r\n\r\n// This is fine but Integer will never be null e.g. Integer.valueOf(0) if SQL NULL\r\n// This may or may not be what you want\r\nInteger j = resultSet.getInt(column);\r\n```\r\n\r\nAs far as I can tell, the reason for this method is convenience as it handles `SQL NULL` gracefully where you *must* have a primitive since [primitives cannot be `null`][2] e.g. return 0 for `int`.\r\n\r\nIf the column does allow `SQL NULL`, or your code expects a object type (including boxed types or arrays) then use `resultSet.getObject` with the type&#39;s class, but DO NOT unbox boxed types when using this method:\r\n\r\n```java\r\n// Integer will be null on SQL NULL but that&#39;s OK for boxed types\r\nInteger i = resultSet.getObject(column, Integer.class);\r\n\r\n// Throws NullPointerException on SQL NULL since primitives can&#39;t be null\r\nint unbox = resultSet.getObject(column, Integer.class);\r\n\r\n// Integer will be 0 since getInt returns 0 on SQL NULL\r\nInteger autobox = resultSet.getInt(column);\r\n```\r\n\r\nThis method is also useful for additional SQL types that are supported but do not have a specific get method i.e. are beyond the minimum specified in JDBC specification [JSR-221][3]:\r\n\r\n```java\r\n// No getUUID method but it&#39;s supported by Postgres so no need for custom mapping\r\nUUID uuid = resultSet.getObject(column, UUID.class);\r\n```\r\n\r\nBut note this method wasn&#39;t added until Java 7, so if you were on Java 6 you would need cast it:\r\n\r\n```java\r\nUUID uuid = (UUID) resultSet.getObject(column);\r\n```\r\n\r\nSo unless you really don&#39;t know or care about the return type, there&#39;s no reason to use this unless you prefer it stylistically, or you need to run on Java 6.\r\n\r\nLastly my strong suggestion is to be judicious when using (or unboxing) boxed types when working with JDBC to avoid unexpected `NullPointerException`. Either avoid `SQL NULL` in your schema e.g. default to 0 if you can, or explicitly check/convert if you can&#39;t be sure.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12806739/is-an-array-a-primitive-type-or-an-object-or-something-else-entirely\r\n  [2]: https://stackoverflow.com/q/2254435/885922\r\n  [3]: http://jcp.org/en/jsr/detail?id=221","title":"Java Spring - RowMapper ResultSet - Integer/null values","body":"<h3>TLDR</h3>\n<ul>\n<li>Use <code>resultSet.getXXX(String columnLabel)</code> if no <code>SQL NULL</code> allowed, or you only care about getting back a primitive (no object, boxed or array types)</li>\n<li>Use <code>resultSet.getObject(String columnLabel, Class type)</code> if value could be <code>SQL NULL</code> but DO NOT unbox if type is a boxed type e.g. <code>Integer</code> as you could get <code>NullPointerException</code> since primitives can't be <code>null</code></li>\n<li>Use <code>resultSet.getObject(String columnLabel)</code> with casting if you're running Java 6</li>\n</ul>\n<h3>Details:</h3>\n<p>If a column does not allow <code>SQL NULL</code>, or your code <em>strictly</em> needs or expects a primitive i.e. no object types (this includes boxed types e.g. <code>Integer</code>, <a href=\"https://stackoverflow.com/questions/12806739/is-an-array-a-primitive-type-or-an-object-or-something-else-entirely\">primitive arrays which are actually objects</a> e.g. <code>byte[]</code>) then use the specific get method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Integer is 0 if value is SQL NULL\nint i = resultSet.getInt(column);\n\n// This is fine but Integer will never be null e.g. Integer.valueOf(0) if SQL NULL\n// This may or may not be what you want\nInteger j = resultSet.getInt(column);\n</code></pre>\n<p>As far as I can tell, the reason for this method is convenience as it handles <code>SQL NULL</code> gracefully where you <em>must</em> have a primitive since <a href=\"https://stackoverflow.com/q/2254435/885922\">primitives cannot be <code>null</code></a> e.g. return 0 for <code>int</code>.</p>\n<p>If the column does allow <code>SQL NULL</code>, or your code expects a object type (including boxed types or arrays) then use <code>resultSet.getObject</code> with the type's class, but DO NOT unbox boxed types when using this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Integer will be null on SQL NULL but that's OK for boxed types\nInteger i = resultSet.getObject(column, Integer.class);\n\n// Throws NullPointerException on SQL NULL since primitives can't be null\nint unbox = resultSet.getObject(column, Integer.class);\n\n// Integer will be 0 since getInt returns 0 on SQL NULL\nInteger autobox = resultSet.getInt(column);\n</code></pre>\n<p>This method is also useful for additional SQL types that are supported but do not have a specific get method i.e. are beyond the minimum specified in JDBC specification <a href=\"http://jcp.org/en/jsr/detail?id=221\" rel=\"nofollow noreferrer\">JSR-221</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No getUUID method but it's supported by Postgres so no need for custom mapping\nUUID uuid = resultSet.getObject(column, UUID.class);\n</code></pre>\n<p>But note this method wasn't added until Java 7, so if you were on Java 6 you would need cast it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = (UUID) resultSet.getObject(column);\n</code></pre>\n<p>So unless you really don't know or care about the return type, there's no reason to use this unless you prefer it stylistically, or you need to run on Java 6.</p>\n<p>Lastly my strong suggestion is to be judicious when using (or unboxing) boxed types when working with JDBC to avoid unexpected <code>NullPointerException</code>. Either avoid <code>SQL NULL</code> in your schema e.g. default to 0 if you can, or explicitly check/convert if you can't be sure.</p>\n"}],"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23608,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1681364770,"creation_date":1445450036,"question_id":33266078,"body_markdown":"I have a Java SE 8 Spring 4.1.6-RELEASE application, where I am implementing the [&lt;code&gt;org.springframework.jdbc.core.RowMapper&amp;lt;T&amp;gt;&lt;/code&gt;][1] interface, and I had some questions about the [&lt;code&gt;java.sql.ResultSet&lt;/code&gt;][2] interface that is passed in its [&lt;code&gt;T mapRow(ResultSet rs, int rowNum)&lt;/code&gt;][3] method.\r\n\r\nWhen I inspect the &lt;code&gt;ResultSet&lt;/code&gt; class, I see a bunch of methods to get column values back:\r\n\r\n&lt;pre&gt;\r\n╔══════════════╦═════════════════════╦════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗\r\n║ Return Type  ║       Method        ║                                                                   Return (javadoc, se 8)                                                                   ║\r\n╠══════════════╬═════════════════════╬════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣\r\n║ String       ║ getString           ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ boolean      ║ getBoolean          ║ the column value; if the value is SQL NULL, the value returned is false                                                                                    ║\r\n║ byte         ║ getByte             ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ short        ║ getShort            ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ int          ║ getInt              ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ long         ║ getLong             ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ float        ║ getFloat            ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ double       ║ getDouble           ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\r\n║ BigDecimal   ║ getBigDecimal       ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ byte[]       ║ getBytes            ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ Date         ║ getDate             ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ Time         ║ getTime             ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ Timestamp    ║ getTimestamp        ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\r\n║ InputStream  ║ getAsciiStream      ║ a Java input stream that delivers the database column value as a stream of one-byte ASCII characters; if the value is SQL NULL, the value returned is null ║\r\n║ Reader       ║ getCharacterStream  ║ a java.io.Reader object that contains the column value; if the value is SQL NULL, the value returned is null in the Java programming language              ║\r\n║ InputStream  ║ getBinaryStream     ║ a Java input stream that delivers the database column value as a stream of uninterpreted bytes; if the value is SQL NULL, the value returned is null       ║\r\n║ &amp;lt;T&amp;gt; T        ║ getObject           ║ an instance of type holding the column value                                                                                                               ║\r\n╚══════════════╩═════════════════════╩════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝\r\n&lt;/pre&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nIs the genernal expectation / practice to call:\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Boolean.class);\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Byte.class);\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Short.class);\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Integer.class);\r\n\r\n    rs.getObject(&quot;COLUMN_NAME&quot;, Long.class);\r\n\r\netc., for all of the primitive types? As everything else returns &lt;code&gt;null&lt;/code&gt; for the instance of &lt;code&gt;SQL NULL&lt;/code&gt;.\r\n\r\nIf so, what&#39;s the point of having all the methods for the different types when the typed Object method is there?\r\n\r\nAlso, what are the pros/cons of each approach?\r\n\r\n1. Using &lt;code&gt;getInt(String columnLabel)&lt;/code&gt;:\r\n\r\n    &lt;pre&gt;&lt;code&gt;Integer resultingActionId = rs.getInt(&quot;RESULTING_ACTION_ID&quot;);\r\n    if (rs.wasNull) {\r\n        resultingActionId = null\r\n    }&lt;/pre&gt;&lt;/code&gt;\r\n\r\n2. Using &lt;code&gt;getObject(String columnLabel)&lt;/code&gt; and casting to &lt;code&gt;Integer&lt;/code&gt;:\r\n\r\n    &lt;pre&gt;&lt;code&gt;Integer resultingActionId = (Integer) rs.getObject(&quot;RESULTING_ACTION_ID&quot;);&lt;/pre&gt;&lt;/code&gt;\r\n\r\n3. Using &lt;code&gt;getObject(String columnLabel, Class&lt;T&gt; type)&lt;/code&gt;:\r\n\r\n    &lt;pre&gt;&lt;code&gt;Integer resultingActionId = rs.getObject(&quot;RESULTING_ACTION_ID&quot;, Integer.class);&lt;/pre&gt;&lt;/code&gt;\r\n\r\n\r\nFor instance, I noticed the [&lt;code&gt;org.springframework.jdbc.core.JdbcTemplate&lt;/code&gt;][4] used to have &lt;s&gt;&lt;code&gt;queryForLong&lt;/code&gt;&lt;/s&gt;, &lt;s&gt;&lt;code&gt;queryForInt&lt;/code&gt;&lt;/s&gt;, etc. methods for getting a single value from a single row query and replaced them all in favor of a typed &lt;code&gt;queryForObject&lt;/code&gt; method.\r\n\r\n\r\nThanks!\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/RowMapper.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\r\n  [3]: http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/RowMapper.html#mapRow-java.sql.ResultSet-int-\r\n  [4]: http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html","title":"Java Spring - RowMapper ResultSet - Integer/null values","body":"<p>I have a Java SE 8 Spring 4.1.6-RELEASE application, where I am implementing the <a href=\"http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/RowMapper.html\" rel=\"noreferrer\"><code>org.springframework.jdbc.core.RowMapper&lt;T&gt;</code></a> interface, and I had some questions about the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"noreferrer\"><code>java.sql.ResultSet</code></a> interface that is passed in its <a href=\"http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/RowMapper.html#mapRow-java.sql.ResultSet-int-\" rel=\"noreferrer\"><code>T mapRow(ResultSet rs, int rowNum)</code></a> method.</p>\n\n<p>When I inspect the <code>ResultSet</code> class, I see a bunch of methods to get column values back:</p>\n\n<pre>\n╔══════════════╦═════════════════════╦════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗\n║ Return Type  ║       Method        ║                                                                   Return (javadoc, se 8)                                                                   ║\n╠══════════════╬═════════════════════╬════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣\n║ String       ║ getString           ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ boolean      ║ getBoolean          ║ the column value; if the value is SQL NULL, the value returned is false                                                                                    ║\n║ byte         ║ getByte             ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ short        ║ getShort            ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ int          ║ getInt              ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ long         ║ getLong             ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ float        ║ getFloat            ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ double       ║ getDouble           ║ the column value; if the value is SQL NULL, the value returned is 0                                                                                        ║\n║ BigDecimal   ║ getBigDecimal       ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ byte[]       ║ getBytes            ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ Date         ║ getDate             ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ Time         ║ getTime             ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ Timestamp    ║ getTimestamp        ║ the column value; if the value is SQL NULL, the value returned is null                                                                                     ║\n║ InputStream  ║ getAsciiStream      ║ a Java input stream that delivers the database column value as a stream of one-byte ASCII characters; if the value is SQL NULL, the value returned is null ║\n║ Reader       ║ getCharacterStream  ║ a java.io.Reader object that contains the column value; if the value is SQL NULL, the value returned is null in the Java programming language              ║\n║ InputStream  ║ getBinaryStream     ║ a Java input stream that delivers the database column value as a stream of uninterpreted bytes; if the value is SQL NULL, the value returned is null       ║\n║ &lt;T&gt; T        ║ getObject           ║ an instance of type holding the column value                                                                                                               ║\n╚══════════════╩═════════════════════╩════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝\n</pre>\n\n<p>Is the genernal expectation / practice to call:</p>\n\n<pre><code>rs.getObject(\"COLUMN_NAME\", Boolean.class);\n\nrs.getObject(\"COLUMN_NAME\", Byte.class);\n\nrs.getObject(\"COLUMN_NAME\", Short.class);\n\nrs.getObject(\"COLUMN_NAME\", Integer.class);\n\nrs.getObject(\"COLUMN_NAME\", Long.class);\n</code></pre>\n\n<p>etc., for all of the primitive types? As everything else returns <code>null</code> for the instance of <code>SQL NULL</code>.</p>\n\n<p>If so, what's the point of having all the methods for the different types when the typed Object method is there?</p>\n\n<p>Also, what are the pros/cons of each approach?</p>\n\n<ol>\n<li><p>Using <code>getInt(String columnLabel)</code>:</p>\n\n<p><pre><code>Integer resultingActionId = rs.getInt(\"RESULTING_ACTION_ID\");\nif (rs.wasNull) {\n    resultingActionId = null\n}</pre></code></p></li>\n<li><p>Using <code>getObject(String columnLabel)</code> and casting to <code>Integer</code>:</p>\n\n<p><pre><code>Integer resultingActionId = (Integer) rs.getObject(\"RESULTING_ACTION_ID\");</pre></code></p></li>\n<li><p>Using <code>getObject(String columnLabel, Class type)</code>:</p>\n\n<p><pre><code>Integer resultingActionId = rs.getObject(\"RESULTING_ACTION_ID\", Integer.class);</pre></code></p></li>\n</ol>\n\n<p>For instance, I noticed the <a href=\"http://docs.spring.io/spring/docs/4.1.6.RELEASE/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"noreferrer\"><code>org.springframework.jdbc.core.JdbcTemplate</code></a> used to have <s><code>queryForLong</code></s>, <s><code>queryForInt</code></s>, etc. methods for getting a single value from a single row query and replaced them all in favor of a typed <code>queryForObject</code> method.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","testing","selenium","automation","selenium-webdriver"],"comments":[{"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"score":0,"creation_date":1368527462,"post_id":12729265,"comment_id":23756791,"body_markdown":"I think 2 tabs are same as 2 windows in most of the cases","body":"I think 2 tabs are same as 2 windows in most of the cases"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1589389783,"post_id":12729265,"comment_id":109277516,"body_markdown":"Please see:  https://riponalwasim.blogspot.com/2020/05/switch-to-another-tab-of-same-browser.html","body":"Please see:  <a href=\"https://riponalwasim.blogspot.com/2020/05/switch-to-another-tab-of-same-browser.html\" rel=\"nofollow noreferrer\">riponalwasim.blogspot.com/2020/05/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1233142,"reputation":5617,"user_id":1197313,"accept_rate":25,"display_name":"Santoshsarma"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1349365409,"creation_date":1349365409,"answer_id":12730918,"question_id":12729265,"body_markdown":"**Work around**\r\n\r\n*Assumption* : By Clicking something on your web page leads to open a new tab.\r\n\r\nUse below logic to switch to second tab.\r\n\r\n    new Actions(driver).sendKeys(driver.findElement(By.tagName(&quot;html&quot;)), Keys.CONTROL).sendKeys(driver.findElement(By.tagName(&quot;html&quot;)),Keys.NUMPAD2).build().perform();\r\n\r\nIn the same manner you can switch back to first tab again.\r\n\r\n    new Actions(driver).sendKeys(driver.findElement(By.tagName(&quot;html&quot;)), Keys.CONTROL).sendKeys(driver.findElement(By.tagName(&quot;html&quot;)),Keys.NUMPAD1).build().perform();\r\n\r\n\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p><strong>Work around</strong></p>\n\n<p><em>Assumption</em> : By Clicking something on your web page leads to open a new tab.</p>\n\n<p>Use below logic to switch to second tab.</p>\n\n<pre><code>new Actions(driver).sendKeys(driver.findElement(By.tagName(\"html\")), Keys.CONTROL).sendKeys(driver.findElement(By.tagName(\"html\")),Keys.NUMPAD2).build().perform();\n</code></pre>\n\n<p>In the same manner you can switch back to first tab again.</p>\n\n<pre><code>new Actions(driver).sendKeys(driver.findElement(By.tagName(\"html\")), Keys.CONTROL).sendKeys(driver.findElement(By.tagName(\"html\")),Keys.NUMPAD1).build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":432592,"reputation":1336,"user_id":817447,"display_name":"Kee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367211629,"creation_date":1367211629,"answer_id":16271460,"question_id":12729265,"body_markdown":"I had a problem recently, the link was opened in a new tab, but selenium focused still on the initial tab.\r\n\r\nI&#39;m using Chromedriver and the only way to focus on a tab was for me to use ``switch_to_window()``.\r\n\r\n\r\nHere&#39;s the Python code:\r\n\r\n    driver.switch_to_window(driver.window_handles[-1])\r\n\r\nSo the tip is to find out the name of the window handle you need, they are stored as list in\r\n\r\n    driver.window_handles","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>I had a problem recently, the link was opened in a new tab, but selenium focused still on the initial tab.</p>\n\n<p>I'm using Chromedriver and the only way to focus on a tab was for me to use <code>switch_to_window()</code>.</p>\n\n<p>Here's the Python code:</p>\n\n<pre><code>driver.switch_to_window(driver.window_handles[-1])\n</code></pre>\n\n<p>So the tip is to find out the name of the window handle you need, they are stored as list in</p>\n\n<pre><code>driver.window_handles\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1590196698,"creation_date":1368530845,"answer_id":16541981,"question_id":12729265,"body_markdown":"This is a simple solution for opening a new tab, changing focus to it, closing the tab and return focus to the old/original tab:\r\n    \r\n\t@Test\r\n\tpublic void testTabs() {\r\n\t\tdriver.get(&quot;https://business.twitter.com/start-advertising&quot;);\r\n\t\tassertStartAdvertising();\r\n\r\n\t\t// considering that there is only one tab opened in that point.\r\n\t\tString oldTab = driver.getWindowHandle();\r\n\t\tdriver.findElement(By.linkText(&quot;Twitter Advertising Blog&quot;)).click();\r\n\t\tArrayList&lt;String&gt; newTab = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\t\tnewTab.remove(oldTab);\r\n\t\t// change focus to new tab\r\n\t\tdriver.switchTo().window(newTab.get(0));\r\n\t\tassertAdvertisingBlog();\r\n\r\n\t\t// Do what you want here, you are in the new tab\r\n\r\n\t\tdriver.close();\r\n\t\t// change focus back to old tab\r\n\t\tdriver.switchTo().window(oldTab);\r\n\t\tassertStartAdvertising();\r\n\r\n\t\t// Do what you want here, you are in the old tab\r\n\t}\r\n    \r\n\tprivate void assertStartAdvertising() {\r\n\t\tassertEquals(&quot;Start Advertising | Twitter for Business&quot;, driver.getTitle());\r\n\t}\r\n\t\r\n    private void assertAdvertisingBlog() {\r\n\t\tassertEquals(&quot;Twitter Advertising&quot;, driver.getTitle());\r\n\t}\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>This is a simple solution for opening a new tab, changing focus to it, closing the tab and return focus to the old/original tab:</p>\n\n<pre><code>@Test\npublic void testTabs() {\n    driver.get(\"https://business.twitter.com/start-advertising\");\n    assertStartAdvertising();\n\n    // considering that there is only one tab opened in that point.\n    String oldTab = driver.getWindowHandle();\n    driver.findElement(By.linkText(\"Twitter Advertising Blog\")).click();\n    ArrayList&lt;String&gt; newTab = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n    newTab.remove(oldTab);\n    // change focus to new tab\n    driver.switchTo().window(newTab.get(0));\n    assertAdvertisingBlog();\n\n    // Do what you want here, you are in the new tab\n\n    driver.close();\n    // change focus back to old tab\n    driver.switchTo().window(oldTab);\n    assertStartAdvertising();\n\n    // Do what you want here, you are in the old tab\n}\n\nprivate void assertStartAdvertising() {\n    assertEquals(\"Start Advertising | Twitter for Business\", driver.getTitle());\n}\n\nprivate void assertAdvertisingBlog() {\n    assertEquals(\"Twitter Advertising\", driver.getTitle());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3943698,"reputation":11,"user_id":3257155,"display_name":"Prashant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391169920,"creation_date":1391168369,"answer_id":21479194,"question_id":12729265,"body_markdown":"Please see below:\r\n\t\t\r\n    WebDriver driver = new FirefoxDriver();\r\n\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://www.irctc.co.in/&quot;);\r\n    String oldTab = driver.getWindowHandle();\r\n\t\t\r\n    //For opening window in New Tab\r\n    String selectLinkOpeninNewTab = Keys.chord(Keys.CONTROL,Keys.RETURN); \r\n    driver.findElement(By.linkText(&quot;Hotels &amp; Lounge&quot;)).sendKeys(selectLinkOpeninNewTab);\r\n\t\t\r\n    // Perform Ctrl + Tab to focus on new Tab window\r\n    new Actions(driver).sendKeys(Keys.chord(Keys.CONTROL, Keys.TAB)).perform();\r\n\r\n    // Switch driver control to focused tab window\r\n    driver.switchTo().window(oldTab);\r\n\t\t\r\n    driver.findElement(By.id(&quot;textfield&quot;)).sendKeys(&quot;bangalore&quot;);\r\n\r\nHope this is helpful!\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Please see below:</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\n\ndriver.manage().window().maximize();\ndriver.get(\"https://www.irctc.co.in/\");\nString oldTab = driver.getWindowHandle();\n\n//For opening window in New Tab\nString selectLinkOpeninNewTab = Keys.chord(Keys.CONTROL,Keys.RETURN); \ndriver.findElement(By.linkText(\"Hotels &amp; Lounge\")).sendKeys(selectLinkOpeninNewTab);\n\n// Perform Ctrl + Tab to focus on new Tab window\nnew Actions(driver).sendKeys(Keys.chord(Keys.CONTROL, Keys.TAB)).perform();\n\n// Switch driver control to focused tab window\ndriver.switchTo().window(oldTab);\n\ndriver.findElement(By.id(\"textfield\")).sendKeys(\"bangalore\");\n</code></pre>\n\n<p>Hope this is helpful!</p>\n"},{"tags":[],"owner":{"account_id":4297516,"reputation":1332,"user_id":3512167,"display_name":"Sireesha Middela"},"down_vote_count":2,"up_vote_count":132,"is_accepted":true,"score":130,"last_activity_date":1681364035,"creation_date":1396978316,"answer_id":22944233,"question_id":12729265,"body_markdown":"        psdbComponent.clickDocumentLink();\r\n    \tArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt; (driver.getWindowHandles());\r\n    \tdriver.switchTo().window(tabs.get(1));\r\n    \tdriver.close();\r\n    \tdriver.switchTo().window(tabs.get(0));\r\n\r\nThis code perfectly worked for me. Try it out. You always need to switch your driver to new tab, before you want to do something on new tab.","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>    psdbComponent.clickDocumentLink();\n    ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt; (driver.getWindowHandles());\n    driver.switchTo().window(tabs.get(1));\n    driver.close();\n    driver.switchTo().window(tabs.get(0));\n</code></pre>\n<p>This code perfectly worked for me. Try it out. You always need to switch your driver to new tab, before you want to do something on new tab.</p>\n"},{"tags":[],"owner":{"account_id":5265340,"reputation":545,"user_id":4205522,"display_name":"Sourabh"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1417100769,"creation_date":1417100769,"answer_id":27173695,"question_id":12729265,"body_markdown":"There is a difference how web driver handles different windows and how it handles different tabs.&lt;br /&gt;&lt;br /&gt;\r\n&lt;strong&gt;Case 1:&lt;/strong&gt;&lt;br /&gt;\r\nIn case there are multiple windows, then the following code can help:\r\n\r\n    //Get the current window handle\r\n    String windowHandle = driver.getWindowHandle();\r\n\r\n    //Get the list of window handles\r\n    ArrayList tabs = new ArrayList (driver.getWindowHandles());\r\n    System.out.println(tabs.size());\r\n    //Use the list of window handles to switch between windows\r\n    driver.switchTo().window(tabs.get(0));\r\n\r\n    //Switch back to original window\r\n    driver.switchTo().window(mainWindowHandle);\r\n&lt;br /&gt;\r\n&lt;strong&gt;Case 2:&lt;/strong&gt;&lt;br /&gt;\r\nIn case there are multiple tabs in the same window, then there is only one window handle. Hence switching between window handles keeps the control in the same tab.&lt;br /&gt; In this case using Ctrl + \\t (Ctrl + Tab) to switch between tabs is more useful.&lt;br /&gt;\r\n\r\n    //Open a new tab using Ctrl + t\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL +&quot;t&quot;);\r\n    //Switch between tabs using Ctrl + \\t\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL +&quot;\\t&quot;);\r\n\r\nDetailed sample code can be found here:&lt;br /&gt;\r\nhttp://design-interviews.blogspot.com/2014/11/switching-between-tabs-in-same-browser-window.html","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>There is a difference how web driver handles different windows and how it handles different tabs.<br /><br />\n<strong>Case 1:</strong><br />\nIn case there are multiple windows, then the following code can help:</p>\n\n<pre><code>//Get the current window handle\nString windowHandle = driver.getWindowHandle();\n\n//Get the list of window handles\nArrayList tabs = new ArrayList (driver.getWindowHandles());\nSystem.out.println(tabs.size());\n//Use the list of window handles to switch between windows\ndriver.switchTo().window(tabs.get(0));\n\n//Switch back to original window\ndriver.switchTo().window(mainWindowHandle);\n</code></pre>\n\n<p><br />\n<strong>Case 2:</strong><br />\nIn case there are multiple tabs in the same window, then there is only one window handle. Hence switching between window handles keeps the control in the same tab.<br /> In this case using Ctrl + \\t (Ctrl + Tab) to switch between tabs is more useful.<br /></p>\n\n<pre><code>//Open a new tab using Ctrl + t\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL +\"t\");\n//Switch between tabs using Ctrl + \\t\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL +\"\\t\");\n</code></pre>\n\n<p>Detailed sample code can be found here:<br />\n<a href=\"http://design-interviews.blogspot.com/2014/11/switching-between-tabs-in-same-browser-window.html\">http://design-interviews.blogspot.com/2014/11/switching-between-tabs-in-same-browser-window.html</a></p>\n"},{"tags":[],"owner":{"account_id":5998544,"reputation":395,"user_id":4712552,"accept_rate":73,"display_name":"Ravi Ubana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428993951,"creation_date":1428992226,"answer_id":29620373,"question_id":12729265,"body_markdown":"It is A very simple process: assume you have two tabs so you need to first close the current tab by using `client.window(callback)` because the switch command &quot;switches to the first available one&quot;. Then you can easily switch tab using `client.switchTab`.","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>It is A very simple process: assume you have two tabs so you need to first close the current tab by using <code>client.window(callback)</code> because the switch command \"switches to the first available one\". Then you can easily switch tab using <code>client.switchTab</code>.</p>\n"},{"tags":[],"owner":{"account_id":4972235,"reputation":89,"user_id":3999615,"accept_rate":70,"display_name":"Vishwak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429859501,"creation_date":1429859501,"answer_id":29840955,"question_id":12729265,"body_markdown":"    String selectLinkOpeninNewTab = Keys.chord(Keys.CONTROL, Keys.RETURN);\r\n\t\tWebElement e = driver.findElement(By\r\n\t\t\t\t.xpath(&quot;html/body/header/div/div[1]/nav/a&quot;));\r\n    e.sendKeys(selectLinkOpeninNewTab);//to open the link in a current page in to the browsers new tab\r\n\t\t\r\n\t\te.sendKeys(Keys.CONTROL + &quot;\\t&quot;);//to move focus to next tab in same browser\r\n\t\ttry {\r\n\t\t\tThread.sleep(8000);\r\n\t\t} catch (InterruptedException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\t//to wait some time in that tab\r\n\t\te.sendKeys(Keys.CONTROL + &quot;\\t&quot;);//to switch the focus to old tab again\r\n\r\nHope it helps to you..","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>String selectLinkOpeninNewTab = Keys.chord(Keys.CONTROL, Keys.RETURN);\n    WebElement e = driver.findElement(By\n            .xpath(\"html/body/header/div/div[1]/nav/a\"));\ne.sendKeys(selectLinkOpeninNewTab);//to open the link in a current page in to the browsers new tab\n\n    e.sendKeys(Keys.CONTROL + \"\\t\");//to move focus to next tab in same browser\n    try {\n        Thread.sleep(8000);\n    } catch (InterruptedException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n    //to wait some time in that tab\n    e.sendKeys(Keys.CONTROL + \"\\t\");//to switch the focus to old tab again\n</code></pre>\n\n<p>Hope it helps to you..</p>\n"},{"tags":[],"owner":{"account_id":6488848,"reputation":86,"user_id":5023536,"display_name":"Stas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461685112,"creation_date":1461330599,"answer_id":36794782,"question_id":12729265,"body_markdown":"A brief example of how to switch between tabs in a browser (in case with one window):\r\n\r\n    // open the first tab\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n    Thread.sleep(2000);\r\n\r\n    // open the second tab\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;t&quot;);\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n    Thread.sleep(2000);\r\n    \r\n    // switch to the previous tab\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;&quot; + Keys.SHIFT + &quot;&quot; + Keys.TAB);\r\n    Thread.sleep(2000);\r\n\r\nI write `Thread.sleep(2000)` just to have a timeout to see switching between the tabs.\r\n\r\nYou can use CTRL+TAB for switching to the next tab and CTRL+SHIFT+TAB for switching to the previous tab.","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>A brief example of how to switch between tabs in a browser (in case with one window):</p>\n\n<pre><code>// open the first tab\ndriver.get(\"https://www.google.com\");\nThread.sleep(2000);\n\n// open the second tab\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"t\");\ndriver.get(\"https://www.google.com\");\nThread.sleep(2000);\n\n// switch to the previous tab\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"\" + Keys.SHIFT + \"\" + Keys.TAB);\nThread.sleep(2000);\n</code></pre>\n\n<p>I write <code>Thread.sleep(2000)</code> just to have a timeout to see switching between the tabs.</p>\n\n<p>You can use CTRL+TAB for switching to the next tab and CTRL+SHIFT+TAB for switching to the previous tab.</p>\n"},{"tags":[],"owner":{"account_id":8241863,"reputation":93,"user_id":6199285,"display_name":"Anand Ramamurthy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461865226,"creation_date":1461863853,"answer_id":36921385,"question_id":12729265,"body_markdown":"    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL,Keys.SHIFT,Keys.TAB);\r\n\r\nThis method helps in switching between multiple windows. The restricting problem with this method is that it can only be used so many times until the required window is reached. Hope it helps.","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL,Keys.SHIFT,Keys.TAB);\n</code></pre>\n\n<p>This method helps in switching between multiple windows. The restricting problem with this method is that it can only be used so many times until the required window is reached. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":8813403,"reputation":23,"user_id":6585691,"display_name":"Charles Woodson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472049491,"creation_date":1472049491,"answer_id":39126326,"question_id":12729265,"body_markdown":"With Selenium 2.53.1 using firefox 47.0.1 as the WebDriver in Java: no matter how many tabs I opened, &quot;driver.getWindowHandles()&quot; would only return one handle so it was impossible to switch between tabs.\r\n\r\nOnce I started using Chrome 51.0, I could get all handles.  The following code show how to access multiple drivers and multiple tabs within each driver.\r\n\r\n    // INITIALIZE TWO DRIVERS (THESE REPRESENT SEPARATE CHROME WINDOWS)\r\n    driver1 = new ChromeDriver();\r\n    driver2 = new ChromeDriver();\r\n\r\n    // LOOP TO OPEN AS MANY TABS AS YOU WISH\r\n    for(int i = 0; i &lt; TAB_NUMBER; i++) {\r\n       driver1.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;t&quot;);\r\n       // SLEEP FOR SPLIT SECOND TO ALLOW DRIVER TIME TO OPEN TAB\r\n       Thread.sleep(100);\r\n\r\n    // STORE TAB HANDLES IN ARRAY LIST FOR EASY ACCESS\r\n    ArrayList tabs1 = new ArrayList&lt;String&gt; (driver1.getWindowHandles());\r\n\r\n    // REPEAT FOR THE SECOND DRIVER (SECOND CHROME BROWSER WINDOW)\r\n\r\n    // LOOP TO OPEN AS MANY TABS AS YOU WISH\r\n    for(int i = 0; i &lt; TAB_NUMBER; i++) {\r\n       driver2.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;t&quot;);\r\n       // SLEEP FOR SPLIT SECOND TO ALLOW DRIVER TIME TO OPEN TAB\r\n       Thread.sleep(100);\r\n\r\n    // STORE TAB HANDLES IN ARRAY LIST FOR EASY ACCESS\r\n    ArrayList tabs2 = new ArrayList&lt;String&gt; (driver1.getWindowHandles());\r\n\r\n    // NOW PERFORM DESIRED TASKS WITH FIRST BROWSER IN ANY TAB\r\n    for(int ii = 0; ii &lt;= TAB_NUMBER; ii++) {\r\n       driver1.switchTo().window(tabs1.get(ii));\r\n       // LOGIC FOR THAT DRIVER&#39;S CURRENT TAB\r\n    }\r\n\r\n    // PERFORM DESIRED TASKS WITH SECOND BROWSER IN ANY TAB\r\n    for(int ii = 0; ii &lt;= TAB_NUMBER; ii++) {\r\n       drvier2.switchTo().window(tabs2.get(ii));\r\n       // LOGIC FOR THAT DRIVER&#39;S CURRENT TAB\r\n    }\r\n\r\nHopefully that gives you a good idea of how to manipulate multiple tabs in multiple browser windows.\r\n\r\n\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>With Selenium 2.53.1 using firefox 47.0.1 as the WebDriver in Java: no matter how many tabs I opened, \"driver.getWindowHandles()\" would only return one handle so it was impossible to switch between tabs.</p>\n\n<p>Once I started using Chrome 51.0, I could get all handles.  The following code show how to access multiple drivers and multiple tabs within each driver.</p>\n\n<pre><code>// INITIALIZE TWO DRIVERS (THESE REPRESENT SEPARATE CHROME WINDOWS)\ndriver1 = new ChromeDriver();\ndriver2 = new ChromeDriver();\n\n// LOOP TO OPEN AS MANY TABS AS YOU WISH\nfor(int i = 0; i &lt; TAB_NUMBER; i++) {\n   driver1.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"t\");\n   // SLEEP FOR SPLIT SECOND TO ALLOW DRIVER TIME TO OPEN TAB\n   Thread.sleep(100);\n\n// STORE TAB HANDLES IN ARRAY LIST FOR EASY ACCESS\nArrayList tabs1 = new ArrayList&lt;String&gt; (driver1.getWindowHandles());\n\n// REPEAT FOR THE SECOND DRIVER (SECOND CHROME BROWSER WINDOW)\n\n// LOOP TO OPEN AS MANY TABS AS YOU WISH\nfor(int i = 0; i &lt; TAB_NUMBER; i++) {\n   driver2.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"t\");\n   // SLEEP FOR SPLIT SECOND TO ALLOW DRIVER TIME TO OPEN TAB\n   Thread.sleep(100);\n\n// STORE TAB HANDLES IN ARRAY LIST FOR EASY ACCESS\nArrayList tabs2 = new ArrayList&lt;String&gt; (driver1.getWindowHandles());\n\n// NOW PERFORM DESIRED TASKS WITH FIRST BROWSER IN ANY TAB\nfor(int ii = 0; ii &lt;= TAB_NUMBER; ii++) {\n   driver1.switchTo().window(tabs1.get(ii));\n   // LOGIC FOR THAT DRIVER'S CURRENT TAB\n}\n\n// PERFORM DESIRED TASKS WITH SECOND BROWSER IN ANY TAB\nfor(int ii = 0; ii &lt;= TAB_NUMBER; ii++) {\n   drvier2.switchTo().window(tabs2.get(ii));\n   // LOGIC FOR THAT DRIVER'S CURRENT TAB\n}\n</code></pre>\n\n<p>Hopefully that gives you a good idea of how to manipulate multiple tabs in multiple browser windows.</p>\n"},{"tags":[],"owner":{"account_id":9155467,"reputation":11,"user_id":6808540,"display_name":"ramy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473333976,"creation_date":1473329549,"answer_id":39388204,"question_id":12729265,"body_markdown":"This will work for the MacOS for Firefox and Chrome:\r\n\r\n    // opens the default browser tab with the first webpage\r\n    driver.get(&quot;the url 1&quot;);\r\n    thread.sleep(2000);\r\n\r\n    // opens the second tab\r\n    driver.findElement(By.cssSelector(&quot;Body&quot;)).sendKeys(Keys.COMMAND + &quot;t&quot;);\r\n    driver.get(&quot;the url 2&quot;);\r\n    Thread.sleep(2000);\r\n\r\n    // comes back to the first tab\r\n    driver.findElement(By.cssSelector(&quot;Body&quot;)).sendKeys(Keys.COMMAND, Keys.SHIFT, &quot;{&quot;);\r\n\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>This will work for the MacOS for Firefox and Chrome:</p>\n\n<pre><code>// opens the default browser tab with the first webpage\ndriver.get(\"the url 1\");\nthread.sleep(2000);\n\n// opens the second tab\ndriver.findElement(By.cssSelector(\"Body\")).sendKeys(Keys.COMMAND + \"t\");\ndriver.get(\"the url 2\");\nThread.sleep(2000);\n\n// comes back to the first tab\ndriver.findElement(By.cssSelector(\"Body\")).sendKeys(Keys.COMMAND, Keys.SHIFT, \"{\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9471556,"reputation":41,"user_id":7042264,"display_name":"Ed Ram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476881730,"creation_date":1476881730,"answer_id":40132018,"question_id":12729265,"body_markdown":"The first thing you need to do is opening a new tab and save it&#39;s handle name. It will be best to do it using javascript and not keys(ctrl+t) since keys aren&#39;t always available on automation servers. example:\r\n\r\n    public static String openNewTab(String url) {\r\n    \texecuteJavaScript(&quot;window.parent = window.open(&#39;parent&#39;);&quot;);\r\n    \tArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(bot.driver.getWindowHandles());\r\n    \tString handleName = tabs.get(1);\r\n    \tbot.driver.switchTo().window(handleName);\r\n    \tSystem.setProperty(&quot;current.window.handle&quot;, handleName);\r\n    \tbot.driver.get(url);\r\n    \treturn handleName;\r\n    }\r\n\r\nThe second thing you need to do is switching between the tabs. Doing it by switch window handles only, will not always work since the tab you&#39;ll work on, won&#39;t always be in focus and Selenium will fail from time to time.\r\nAs I said, it&#39;s a bit problematic to use keys, and javascript doesn&#39;t really support switching tabs, so I used alerts to switch tabs and it worked like a charm:\r\n\t\r\n\r\n    public static void switchTab(int tabNumber, String handleName) {\r\n    \t\tdriver.switchTo().window(handleName);\r\n    \t\tSystem.setProperty(&quot;current.window.handle&quot;, handleName);\r\n    \t\tif (tabNumber==1)\r\n    \t\t\texecuteJavaScript(&quot;alert(\\&quot;alert\\&quot;);&quot;);\r\n    \t\telse\r\n    \t\t\texecuteJavaScript(&quot;parent.alert(\\&quot;alert\\&quot;);&quot;);\r\n    \t\tbot.wait(1000);\r\n    \t\tdriver.switchTo().alert().accept();\r\n    \t}\r\n\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>The first thing you need to do is opening a new tab and save it's handle name. It will be best to do it using javascript and not keys(ctrl+t) since keys aren't always available on automation servers. example:</p>\n\n<pre><code>public static String openNewTab(String url) {\n    executeJavaScript(\"window.parent = window.open('parent');\");\n    ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(bot.driver.getWindowHandles());\n    String handleName = tabs.get(1);\n    bot.driver.switchTo().window(handleName);\n    System.setProperty(\"current.window.handle\", handleName);\n    bot.driver.get(url);\n    return handleName;\n}\n</code></pre>\n\n<p>The second thing you need to do is switching between the tabs. Doing it by switch window handles only, will not always work since the tab you'll work on, won't always be in focus and Selenium will fail from time to time.\nAs I said, it's a bit problematic to use keys, and javascript doesn't really support switching tabs, so I used alerts to switch tabs and it worked like a charm:</p>\n\n<pre><code>public static void switchTab(int tabNumber, String handleName) {\n        driver.switchTo().window(handleName);\n        System.setProperty(\"current.window.handle\", handleName);\n        if (tabNumber==1)\n            executeJavaScript(\"alert(\\\"alert\\\");\");\n        else\n            executeJavaScript(\"parent.alert(\\\"alert\\\");\");\n        bot.wait(1000);\n        driver.switchTo().alert().accept();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9169236,"reputation":786,"user_id":6817487,"display_name":"Ankit Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502261116,"creation_date":1502260574,"answer_id":45583237,"question_id":12729265,"body_markdown":"To get parent window handles.\t\r\n\r\n    String parentHandle = driverObj.getWindowHandle();\r\n\tpublic String switchTab(String parentHandle){\r\n\t\tString currentHandle =&quot;&quot;;\r\n\t\tSet&lt;String&gt; win  = ts.getDriver().getWindowHandles();\t\r\n\r\n\t\tIterator&lt;String&gt; it =  win.iterator();\r\n\t\tif(win.size() &gt; 1){\r\n\t\t\twhile(it.hasNext()){\r\n\t\t\t\tString handle = it.next();\r\n\t\t\t\tif (!handle.equalsIgnoreCase(parentHandle)){\r\n\t\t\t\t\tts.getDriver().switchTo().window(handle);\r\n\t\t\t\t\tcurrentHandle = handle;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Unable to switch&quot;);\r\n\t\t}\r\n\t\treturn currentHandle;\r\n\t}","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>To get parent window handles.   </p>\n\n<pre><code>String parentHandle = driverObj.getWindowHandle();\npublic String switchTab(String parentHandle){\n    String currentHandle =\"\";\n    Set&lt;String&gt; win  = ts.getDriver().getWindowHandles();   \n\n    Iterator&lt;String&gt; it =  win.iterator();\n    if(win.size() &gt; 1){\n        while(it.hasNext()){\n            String handle = it.next();\n            if (!handle.equalsIgnoreCase(parentHandle)){\n                ts.getDriver().switchTo().window(handle);\n                currentHandle = handle;\n            }\n        }\n    }\n    else{\n        System.out.println(\"Unable to switch\");\n    }\n    return currentHandle;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11833250,"reputation":29,"user_id":8659353,"display_name":"Omar Lari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507578753,"creation_date":1507573895,"answer_id":46652865,"question_id":12729265,"body_markdown":"Simple Answer which worked for me:\r\n\r\n    for (String handle1 : driver1.getWindowHandles()) {\r\n    \t\tSystem.out.println(handle1); \r\n            driver1.switchTo().window(handle1);    \t\r\n    }","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Simple Answer which worked for me:</p>\n\n<pre><code>for (String handle1 : driver1.getWindowHandles()) {\n        System.out.println(handle1); \n        driver1.switchTo().window(handle1);     \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519816911,"creation_date":1519816911,"answer_id":49028383,"question_id":12729265,"body_markdown":"The flaw with the selected answer is that it unnecessarily assumes order in `webDriver.getWindowHandles()`.  The `getWindowHandles()` method returns a `Set`, which does not guarantee order. \r\n\r\nI used the following code to change tabs, which does not assume any ordering. \r\n\r\n    String currentTabHandle = driver.getWindowHandle();\r\n    String newTabHandle = driver.getWindowHandles()\r\n           .stream()\r\n           .filter(handle -&gt; !handle.equals(currentTabHandle ))\r\n           .findFirst()\r\n           .get();\r\n    driver.switchTo().window(newTabHandle);","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>The flaw with the selected answer is that it unnecessarily assumes order in <code>webDriver.getWindowHandles()</code>.  The <code>getWindowHandles()</code> method returns a <code>Set</code>, which does not guarantee order. </p>\n\n<p>I used the following code to change tabs, which does not assume any ordering. </p>\n\n<pre><code>String currentTabHandle = driver.getWindowHandle();\nString newTabHandle = driver.getWindowHandles()\n       .stream()\n       .filter(handle -&gt; !handle.equals(currentTabHandle ))\n       .findFirst()\n       .get();\ndriver.switchTo().window(newTabHandle);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9468954,"reputation":41,"user_id":7040324,"display_name":"Rahul Rana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521107131,"creation_date":1521107131,"answer_id":49296045,"question_id":12729265,"body_markdown":"    protected void switchTabsUsingPartOfUrl(String platform) {\r\n        String currentHandle = null;\r\n        try {\r\n            final Set&lt;String&gt; handles = driver.getWindowHandles();\r\n            if (handles.size() &gt; 1) {\r\n                currentHandle = driver.getWindowHandle();\r\n            }\r\n            if (currentHandle != null) {\r\n                for (final String handle : handles) {\r\n                    driver.switchTo().window(handle);\r\n                    if (currentUrl().contains(platform) &amp;&amp; !currentHandle.equals(handle)) {\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                for (final String handle : handles) {\r\n                    driver.switchTo().window(handle);\r\n                    if (currentUrl().contains(platform)) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Switching tabs failed&quot;);\r\n        }\r\n    }\r\n\r\nCall this method and pass parameter a substring of url of the tab you want to switch to","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>protected void switchTabsUsingPartOfUrl(String platform) {\n    String currentHandle = null;\n    try {\n        final Set&lt;String&gt; handles = driver.getWindowHandles();\n        if (handles.size() &gt; 1) {\n            currentHandle = driver.getWindowHandle();\n        }\n        if (currentHandle != null) {\n            for (final String handle : handles) {\n                driver.switchTo().window(handle);\n                if (currentUrl().contains(platform) &amp;&amp; !currentHandle.equals(handle)) {\n                    break;\n                }\n            }\n        } else {\n            for (final String handle : handles) {\n                driver.switchTo().window(handle);\n                if (currentUrl().contains(platform)) {\n                    break;\n                }\n            }\n        }\n    } catch (Exception e) {\n        System.out.println(\"Switching tabs failed\");\n    }\n}\n</code></pre>\n\n<p>Call this method and pass parameter a substring of url of the tab you want to switch to</p>\n"},{"tags":[],"owner":{"account_id":8934088,"reputation":12520,"user_id":6665568,"accept_rate":80,"display_name":"Natesh bhat"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1528606464,"creation_date":1528606464,"answer_id":50780665,"question_id":12729265,"body_markdown":"Since the `driver.window_handles` is not in order , a better solution is this.\r\n\r\n&gt;first switch to the first tab using the shortcut `Control + X` to switch to the &#39;x&#39; th tab in the browser window .\r\n\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;1&quot;);\r\n    # goes to 1st tab\r\n    \r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL + &quot;4&quot;);\r\n    # goes to 4th tab if its exists or goes to last tab.\r\n    ","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Since the <code>driver.window_handles</code> is not in order , a better solution is this.</p>\n\n<blockquote>\n  <p>first switch to the first tab using the shortcut <code>Control + X</code> to switch to the 'x' th tab in the browser window .</p>\n</blockquote>\n\n<pre><code>driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"1\");\n# goes to 1st tab\n\ndriver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL + \"4\");\n# goes to 4th tab if its exists or goes to last tab.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12974868,"reputation":11,"user_id":9379215,"display_name":"Aravind HB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529911707,"creation_date":1529911707,"answer_id":51018247,"question_id":12729265,"body_markdown":"public class TabBrowserDemo {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tSystem.out.println(&quot;Main Started&quot;);\r\n\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;driver//geckodriver.exe&quot;);\r\n\t\tWebDriver driver = new FirefoxDriver();\r\n\t\tdriver.get(&quot;https://www.irctc.co.in/eticketing/userSignUp.jsf&quot;);\r\n\t\tdriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//a[text()=&#39;Flights&#39;]&quot;)).click();\r\n\t\twaitForLoad(driver);\r\n\t\tSet&lt;String&gt; ids = driver.getWindowHandles();\r\n\t\tIterator&lt;String&gt; iterator = ids.iterator();\r\n\t\tString parentID = iterator.next();\r\n\t\tSystem.out.println(&quot;Parent WIn id &quot; + parentID);\r\n\t\tString childID = iterator.next();\r\n\t\tSystem.out.println(&quot;child win id &quot; + childID);\r\n\t\t\r\n\t\tdriver.switchTo().window(childID);\r\n\t\tList&lt;WebElement&gt; hyperlinks = driver.findElements(By.xpath(&quot;//a&quot;));\r\n\t\t\r\n\t\tSystem.out.println(&quot;Total links in tabbed browser &quot; + hyperlinks.size());\r\n\t\r\n\t\tThread.sleep(3000);\r\n\t//\tdriver.close();\r\n\t\tdriver.switchTo().window(parentID);\r\n\t\tList&lt;WebElement&gt; hyperlinksOfParent = driver.findElements(By.xpath(&quot;//a&quot;));\r\n\t\t\r\n\t\tSystem.out.println(&quot;Total links &quot; + hyperlinksOfParent.size());\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void waitForLoad(WebDriver driver) {\r\n        ExpectedCondition&lt;Boolean&gt; pageLoadCondition = new\r\n                ExpectedCondition&lt;Boolean&gt;() {\r\n                    public Boolean apply(WebDriver driver) {\r\n                        return ((JavascriptExecutor)driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\r\n                    }\r\n                };\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n        wait.until(pageLoadCondition);\r\n    }","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>public class TabBrowserDemo {</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    System.out.println(\"Main Started\");\n    System.setProperty(\"webdriver.gecko.driver\", \"driver//geckodriver.exe\");\n    WebDriver driver = new FirefoxDriver();\n    driver.get(\"https://www.irctc.co.in/eticketing/userSignUp.jsf\");\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n\n    driver.findElement(By.xpath(\"//a[text()='Flights']\")).click();\n    waitForLoad(driver);\n    Set&lt;String&gt; ids = driver.getWindowHandles();\n    Iterator&lt;String&gt; iterator = ids.iterator();\n    String parentID = iterator.next();\n    System.out.println(\"Parent WIn id \" + parentID);\n    String childID = iterator.next();\n    System.out.println(\"child win id \" + childID);\n\n    driver.switchTo().window(childID);\n    List&lt;WebElement&gt; hyperlinks = driver.findElements(By.xpath(\"//a\"));\n\n    System.out.println(\"Total links in tabbed browser \" + hyperlinks.size());\n\n    Thread.sleep(3000);\n//  driver.close();\n    driver.switchTo().window(parentID);\n    List&lt;WebElement&gt; hyperlinksOfParent = driver.findElements(By.xpath(\"//a\"));\n\n    System.out.println(\"Total links \" + hyperlinksOfParent.size());\n\n}\n\npublic static void waitForLoad(WebDriver driver) {\n    ExpectedCondition&lt;Boolean&gt; pageLoadCondition = new\n            ExpectedCondition&lt;Boolean&gt;() {\n                public Boolean apply(WebDriver driver) {\n                    return ((JavascriptExecutor)driver).executeScript(\"return document.readyState\").equals(\"complete\");\n                }\n            };\n    WebDriverWait wait = new WebDriverWait(driver, 30);\n    wait.until(pageLoadCondition);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610436453,"creation_date":1593010911,"answer_id":62558061,"question_id":12729265,"body_markdown":"        public void switchToNextTab() {\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(1));\r\n        }\r\n        \r\n        public void closeAndSwitchToNextTab() {\r\n            driver.close();\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(1));\r\n        }\r\n    \r\n        public void switchToPreviousTab() {\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(0));\r\n        }\r\n    \r\n        public void closeTabAndReturn() {\r\n            driver.close();\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(0));\r\n        }\r\n    \r\n        public void switchToPreviousTabAndClose() {\r\n            ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tab.get(1));\r\n            driver.close();\r\n        }","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>    public void switchToNextTab() {\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(1));\n    }\n    \n    public void closeAndSwitchToNextTab() {\n        driver.close();\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(1));\n    }\n\n    public void switchToPreviousTab() {\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(0));\n    }\n\n    public void closeTabAndReturn() {\n        driver.close();\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(0));\n    }\n\n    public void switchToPreviousTabAndClose() {\n        ArrayList&lt;String&gt; tab = new ArrayList&lt;&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tab.get(1));\n        driver.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10338129,"reputation":43,"user_id":7625512,"display_name":"SRM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594408607,"creation_date":1594408607,"answer_id":62840962,"question_id":12729265,"body_markdown":"    Set&lt;String&gt; tabs = driver.getWindowHandles();\r\n    Iterator&lt;String&gt; it = tabs.iterator();\r\n    tab1 = it.next();\r\n    tab2 = it.next();\r\n    driver.switchTo().window(tab1);\r\n    driver.close();\r\n    driver.switchTo().window(tab2);\r\n\r\nTry this. It should work\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>Set&lt;String&gt; tabs = driver.getWindowHandles();\nIterator&lt;String&gt; it = tabs.iterator();\ntab1 = it.next();\ntab2 = it.next();\ndriver.switchTo().window(tab1);\ndriver.close();\ndriver.switchTo().window(tab2);\n</code></pre>\n<p>Try this. It should work</p>\n"},{"tags":[],"owner":{"account_id":23442088,"reputation":11,"user_id":17499453,"display_name":"Александр Соколов"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637842826,"creation_date":1637766094,"answer_id":70098368,"question_id":12729265,"body_markdown":"    WebDriver driver = new FirefoxDriver();\r\n    \r\n    driver.switchTo().window(driver.getWindowHandles().toArray()[numPage].toString());\r\n    \r\n    numPage - int (0,1..)\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<pre><code>WebDriver driver = new FirefoxDriver();\n\ndriver.switchTo().window(driver.getWindowHandles().toArray()[numPage].toString());\n\nnumPage - int (0,1..)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24214933,"reputation":1,"user_id":18170957,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644499505,"creation_date":1644499505,"answer_id":71065918,"question_id":12729265,"body_markdown":"String mainWindow = driver.getWindowHandle();\r\nseleniumHelper.switchToChildWindow();\r\n..\r\n..//your assertion steps\r\n\r\nseleniumHelper.switchToWindow(mainWindow);\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>String mainWindow = driver.getWindowHandle();\nseleniumHelper.switchToChildWindow();\n..\n..//your assertion steps</p>\n<p>seleniumHelper.switchToWindow(mainWindow);</p>\n"},{"tags":[],"owner":{"account_id":21083369,"reputation":1,"user_id":15497133,"display_name":"Luis Dias de Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645033240,"creation_date":1645029029,"answer_id":71145645,"question_id":12729265,"body_markdown":"with Java I used this for switching the selenium focus to the new tab.\r\n\r\n    //Before the action that redirect to the new tab:\r\n    String windHandleCurrent = driver.getWindowHandle();\r\n    // code that click in a btn/link in order to open a new tab goes here\r\n    // now to make selenium move to the new tab \r\n    ArrayList&lt;String&gt; windows = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\t    for(int i =0;i&lt;windows.size();i++ ) {\r\n\t    \tString aWindow = windows.get(i);\r\n\t    \tif(aWindow != windHandleCurrent) {\r\n\t    \t\tdriver.switchTo().window(aWindow);\r\n\t    \t}\r\n\t    }\r\n    // now you can code your AssertJUnit for the new tab.","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>with Java I used this for switching the selenium focus to the new tab.</p>\n<pre><code>//Before the action that redirect to the new tab:\nString windHandleCurrent = driver.getWindowHandle();\n// code that click in a btn/link in order to open a new tab goes here\n// now to make selenium move to the new tab \nArrayList&lt;String&gt; windows = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n    for(int i =0;i&lt;windows.size();i++ ) {\n        String aWindow = windows.get(i);\n        if(aWindow != windHandleCurrent) {\n            driver.switchTo().window(aWindow);\n        }\n    }\n// now you can code your AssertJUnit for the new tab.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023865,"reputation":2105,"user_id":1033591,"accept_rate":77,"display_name":"Alston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654933597,"creation_date":1654933597,"answer_id":72582588,"question_id":12729265,"body_markdown":"Selenium 4 has new features:\r\n\r\n// Opens a new tab and switches to new tab\r\n`driver.switchTo().newWindow(WindowType.TAB);`\r\n\r\n// Opens a new window and switches to new window\r\n`driver.switchTo().newWindow(WindowType.WINDOW);`","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Selenium 4 has new features:</p>\n<p>// Opens a new tab and switches to new tab\n<code>driver.switchTo().newWindow(WindowType.TAB);</code></p>\n<p>// Opens a new window and switches to new window\n<code>driver.switchTo().newWindow(WindowType.WINDOW);</code></p>\n"},{"tags":[],"owner":{"account_id":16502447,"reputation":1,"user_id":11923422,"display_name":"MANJUNATHA M R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658604826,"creation_date":1658604826,"answer_id":73093698,"question_id":12729265,"body_markdown":"**driver.getWindowHandles()** is a Set.I converted it to array of objects  by\r\n  \r\n\r\n    Object[] a=driver.getWindowHandles().toArray;\r\n\r\n \r\nSay you want to switch to 2nd tab then (after conversion) use\r\n  \r\n\r\n    driver.switchTo().windows(a[1].toString());\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p><strong>driver.getWindowHandles()</strong> is a Set.I converted it to array of objects  by</p>\n<pre><code>Object[] a=driver.getWindowHandles().toArray;\n</code></pre>\n<p>Say you want to switch to 2nd tab then (after conversion) use</p>\n<pre><code>driver.switchTo().windows(a[1].toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25173965,"reputation":21,"user_id":19016445,"display_name":"Thư Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678222193,"creation_date":1678222193,"answer_id":75667037,"question_id":12729265,"body_markdown":"Solution with Java\r\n\r\n    Set&lt;String&gt; handles = driver.getWindowHandles();\r\n\tIterator&lt;String&gt; it = handles.iterator();\r\n\tString parentTab = it.next();\r\n    String childTab = it.next();\r\n    // switch to the second tab\r\n    driver.switchTo().window(childTab);\r\n    \r\n    // switch to the first tab\r\n    driver.switchTo().window(parentTab);\r\n\r\n","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Solution with Java</p>\n<pre><code>Set&lt;String&gt; handles = driver.getWindowHandles();\nIterator&lt;String&gt; it = handles.iterator();\nString parentTab = it.next();\nString childTab = it.next();\n// switch to the second tab\ndriver.switchTo().window(childTab);\n\n// switch to the first tab\ndriver.switchTo().window(parentTab);\n</code></pre>\n"}],"owner":{"account_id":1879948,"reputation":1377,"user_id":1700378,"accept_rate":64,"display_name":"Umesh Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401861,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":22944233,"answer_count":27,"score":76,"last_activity_date":1681364035,"creation_date":1349360018,"question_id":12729265,"body_markdown":"Using Selenium WebDriver with Java.\r\nI am trying to automate a functionality where I have to open a new tab do some operations there and come back to previous tab (Parent).\r\nI used switch handle but it&#39;s not working.\r\nAnd one strange thing the two tabs are having same window handle due to which I am not able to switch between tabs.\r\n\r\nHowever when I am trying with different Firefox windows it works, but for tab it&#39;s not working.\r\n\r\nHow can I switch tabs?\r\nOr, how can I switch tabs without using window handle as window handle is same of both tabs in my case?\r\n\r\n(I have observed that when you open different tabs in same window, window handle remains same)","title":"Switch tabs using Selenium WebDriver with Java","body":"<p>Using Selenium WebDriver with Java.\nI am trying to automate a functionality where I have to open a new tab do some operations there and come back to previous tab (Parent).\nI used switch handle but it's not working.\nAnd one strange thing the two tabs are having same window handle due to which I am not able to switch between tabs.</p>\n<p>However when I am trying with different Firefox windows it works, but for tab it's not working.</p>\n<p>How can I switch tabs?\nOr, how can I switch tabs without using window handle as window handle is same of both tabs in my case?</p>\n<p>(I have observed that when you open different tabs in same window, window handle remains same)</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-tv"],"comments":[{"owner":{"account_id":2987459,"reputation":9583,"user_id":2535875,"accept_rate":50,"display_name":"Md Imran Choudhury"},"score":0,"creation_date":1666589043,"post_id":70677685,"comment_id":130964341,"body_markdown":"Does this answer your question? [Android TV RecyclerView focus interaction](https://stackoverflow.com/questions/39247993/android-tv-recyclerview-focus-interaction)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39247993/android-tv-recyclerview-focus-interaction\">Android TV RecyclerView focus interaction</a>"}],"answers":[{"tags":[],"owner":{"account_id":23317933,"reputation":1,"user_id":17398279,"display_name":"silentoz op"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681363654,"creation_date":1681363654,"answer_id":76001929,"question_id":70677685,"body_markdown":"Apply this in your focus Listener\r\n\r\n``` \r\nif(hasFocus){\r\n   if(position == movies_posters.size-1){\r\n    holder.item.nextFocusRight = R.id.item\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nin the above code item is the recycler view id\r\n","title":"Android Tv RecyclerView focus Jumps","body":"<p>Apply this in your focus Listener</p>\n<pre><code>if(hasFocus){\n   if(position == movies_posters.size-1){\n    holder.item.nextFocusRight = R.id.item\n  }\n\n}\n\n</code></pre>\n<p>in the above code item is the recycler view id</p>\n"}],"owner":{"account_id":23823403,"reputation":43,"user_id":17830797,"display_name":"Vitaliy Martynyuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681363654,"creation_date":1641972178,"question_id":70677685,"body_markdown":"I am developing android app for Android Tv. I have a RecyclerView in which there are items that can be iterated over using the remote control (D-pad). When I reach the end of the RecyclerView, the focus (the stroke around the item in the RecyclerView) jumps or flies off the RecyclerView. I want the focus to stop at the end. Thanks in advance\r\n\r\n\r\n\r\n\r\nMy fragment.xml:\r\n\r\n\r\n\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.TV.TvPopularFragment&quot;&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar&quot;\r\n            style=&quot;?android:attr/progressBarStyle&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:indeterminateDrawable=&quot;@drawable/progress_circle_style&quot;/&gt;\r\n    \r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/moviesRecyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:nextFocusDown=&quot;@+id/moviesRecyclerView&quot;\r\n            android:descendantFocusability=&quot;afterDescendants&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\nMy fragment.java\r\n\r\n\r\n\r\n    package org.vitaliy.moziapp.TV;\r\n    \r\n    public class TvPopularFragment extends Fragment {\r\n    \r\n    \r\n        FragmentTvPopularBinding binding;\r\n    \r\n        static public boolean isPopularOnTop = false;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentTvPopularBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n    \r\n            RecyclerView moviesRecycerView = binding.moviesRecyclerView;\r\n            ProgressBar progressBar = binding.progressBar;\r\n    \r\n    \r\n            Display display = getActivity().getWindowManager().getDefaultDisplay();\r\n            DisplayMetrics outMetrics = new DisplayMetrics();\r\n            display.getMetrics(outMetrics);\r\n            float density  = getResources().getDisplayMetrics().density;\r\n            float dpWidth  = outMetrics.widthPixels / density;\r\n            int columns = Math.round(dpWidth/133);\r\n            GridLayoutManager mLayoutManager = new GridLayoutManager(getActivity(),columns);\r\n    \r\n    \r\n    \r\n            moviesRecycerView.setLayoutManager(mLayoutManager);\r\n            PopularAdapter popularAdapter = new PopularAdapter(getActivity(),popular_posters,\r\n                    popular_title, popular_id, popular_categories, popular_votes_pos, popular_votes_neg,\r\n                    popular_last_episode);\r\n    \r\n    \r\n    \r\n            new CountDownTimer(10000, 1000) {\r\n    \r\n                public void onTick(long millisUntilFinished) {\r\n    \r\n                    if(AppActivity.isPopularCategoryLoaded) {\r\n    \r\n                        moviesRecycerView.setAdapter(popularAdapter);\r\n                        progressBar.setVisibility(View.GONE);\r\n                        cancel();\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n                public void onFinish() {\r\n                }\r\n            }.start();\r\n    \r\n    \r\n    \r\n    \r\n            moviesRecycerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n                @Override\r\n                public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n    \r\n                    int totalItemCount = mLayoutManager.getItemCount();\r\n                    int lastVisible = mLayoutManager.findLastVisibleItemPosition();\r\n    \r\n                    boolean endHasBeenReached = lastVisible + 15 &gt;= totalItemCount;\r\n    \r\n                    isPopularOnTop = dy == 0;\r\n    \r\n                    if (totalItemCount &gt; 0 &amp;&amp; endHasBeenReached) {\r\n    \r\n    \r\n                        if(AppActivity.popularHasNextPage) {\r\n    \r\n    \r\n                            AppActivity.popularPage += 1;\r\n                            AppActivity.loadPopularCategory();\r\n    \r\n    \r\n                            new CountDownTimer(5000, 1000) {\r\n    \r\n                                public void onTick(long millisUntilFinished) {\r\n    \r\n                                    if(AppActivity.isPopularCategoryLoaded) {\r\n    \r\n                                        progressBar.setVisibility(View.GONE);\r\n                                        popularAdapter.notifyDataSetChanged();\r\n    \r\n                                    }\r\n    \r\n                                }\r\n    \r\n                                public void onFinish() {\r\n                                }\r\n                            }.start();\r\n    \r\n                            AppActivity.popularHasNextPage = false;\r\n    \r\n                        }\r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n            return root;\r\n        }\r\n    }\r\n\r\n\r\nMy adapter.java:\r\n\r\n\r\n    package org.vitaliy.moziapp.PopularFragment;\r\n    \r\n    public class PopularAdapter extends RecyclerView.Adapter&lt;PopularViewHolder&gt; {\r\n    \r\n    \r\n        static public String current_id;\r\n        static public String current_category;\r\n    \r\n    \r\n        ArrayList&lt;String&gt; movies_posters;\r\n        ArrayList&lt;String&gt; movies_title;\r\n        ArrayList&lt;String&gt; movies_id;\r\n        ArrayList&lt;String&gt; movies_categories;\r\n        ArrayList&lt;String&gt; movies_votes_pos;\r\n        ArrayList&lt;String&gt; movies_votes_neg;\r\n        ArrayList&lt;String&gt; movies_last_episode;\r\n    \r\n    \r\n        LayoutInflater inflater;\r\n        Context context;\r\n    \r\n    \r\n        public PopularAdapter(Context context, ArrayList&lt;String&gt; movies_posters,\r\n                              ArrayList&lt;String&gt; movies_title,\r\n                              ArrayList&lt;String&gt; movies_id,\r\n                              ArrayList&lt;String&gt; movies_categories,\r\n                              ArrayList&lt;String&gt; movies_votes_pos,\r\n                              ArrayList&lt;String&gt; movies_votes_neg,\r\n                              ArrayList&lt;String&gt; movies_last_episode){\r\n    \r\n            this.movies_posters = movies_posters;\r\n            this.movies_title = movies_title;\r\n            this.movies_id = movies_id;\r\n            this.movies_categories = movies_categories;\r\n            this.movies_votes_pos = movies_votes_pos;\r\n            this.movies_votes_neg = movies_votes_neg;\r\n            this.movies_last_episode = movies_last_episode;\r\n    \r\n            this.context = context;\r\n            this.inflater = LayoutInflater.from(context);\r\n    \r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public PopularViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view = inflater.inflate(R.layout.item_movie, parent, false);\r\n            return new PopularViewHolder(view);\r\n    \r\n        }\r\n    \r\n        @SuppressLint({&quot;SetTextI18n&quot;, &quot;NotifyDataSetChanged&quot;})\r\n        @Override\r\n        public void onBindViewHolder(@NonNull PopularViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n            \r\n    \r\n            if(movies_categories.get(position).equals(&quot;s7&quot;)||\r\n                    movies_categories.get(position).equals(&quot;s93&quot;)) {\r\n    \r\n                holder.movie_last_episode.setVisibility(View.VISIBLE);\r\n                holder.movie_last_episode.setText(movies_last_episode.get(position));\r\n    \r\n            } else {\r\n                holder.movie_last_episode.setVisibility(View.GONE);\r\n            }\r\n    \r\n    \r\n    \r\n            Picasso.with(context).load(movies_posters.get(position))\r\n                    .into(holder.movie_poster, new Callback() {\r\n                        @Override\r\n                        public void onSuccess() {\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onError() {\r\n                            holder.movie_icon.setVisibility(View.VISIBLE);\r\n                        }\r\n                    });\r\n    \r\n            holder.movie_title.setText(Html.fromHtml(movies_title.get(position)));\r\n    \r\n            holder.movie_btn.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n                @Override\r\n                public void onFocusChange(View view, boolean b) {\r\n    \r\n                    holder.movie_title.setSelected(b);\r\n    \r\n                }\r\n            });\r\n    \r\n            holder.movie_votes_pos.setText(movies_votes_pos.get(position));\r\n            holder.movie_votes_neg.setText(movies_votes_neg.get(position));\r\n    \r\n    \r\n    \r\n            holder.movie_btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    current_id = movies_id.get(position);\r\n                    current_category = movies_categories.get(position);\r\n    \r\n                    AppActivity.current_id = current_id;\r\n    \r\n                    MovieVideosFragment.category = current_category;\r\n                    VideosAdapter.category = current_category;\r\n    \r\n    \r\n                    if (current_category.equals(&quot;s7&quot;) || current_category.equals(&quot;s93&quot;))\r\n                        AppActivity.loadSeriesAudio(current_id);\r\n                    else\r\n                        AppActivity.loadMoviesAudio(current_id);\r\n    \r\n                    AppActivity.isMoviesLoaded = false;\r\n                    AppActivity.isSeriesLoaded = false;\r\n    \r\n                    MovieFragment.year = null;\r\n                    MovieFragment.actors = null;\r\n                    MovieFragment.genres = null;\r\n                    MovieFragment.countries = null;\r\n                    MovieFragment.short_story = null;\r\n    \r\n    \r\n                    AppActivity.loadMovieDescription(current_id);\r\n                    AppActivity.loadSimilar(current_id);\r\n    \r\n    \r\n                    MovieFragment.poster = movies_posters.get(position);\r\n                    MovieFragment.title = movies_title.get(position);\r\n    \r\n                    context.startActivity(new Intent(context, MovieTab.class));\r\n    \r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return movies_posters.size();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Android Tv RecyclerView focus Jumps","body":"<p>I am developing android app for Android Tv. I have a RecyclerView in which there are items that can be iterated over using the remote control (D-pad). When I reach the end of the RecyclerView, the focus (the stroke around the item in the RecyclerView) jumps or flies off the RecyclerView. I want the focus to stop at the end. Thanks in advance</p>\n<p>My fragment.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.TV.TvPopularFragment&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        style=&quot;?android:attr/progressBarStyle&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:indeterminateDrawable=&quot;@drawable/progress_circle_style&quot;/&gt;\n\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/moviesRecyclerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:nextFocusDown=&quot;@+id/moviesRecyclerView&quot;\n        android:descendantFocusability=&quot;afterDescendants&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>My fragment.java</p>\n<pre><code>package org.vitaliy.moziapp.TV;\n\npublic class TvPopularFragment extends Fragment {\n\n\n    FragmentTvPopularBinding binding;\n\n    static public boolean isPopularOnTop = false;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentTvPopularBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n\n        RecyclerView moviesRecycerView = binding.moviesRecyclerView;\n        ProgressBar progressBar = binding.progressBar;\n\n\n        Display display = getActivity().getWindowManager().getDefaultDisplay();\n        DisplayMetrics outMetrics = new DisplayMetrics();\n        display.getMetrics(outMetrics);\n        float density  = getResources().getDisplayMetrics().density;\n        float dpWidth  = outMetrics.widthPixels / density;\n        int columns = Math.round(dpWidth/133);\n        GridLayoutManager mLayoutManager = new GridLayoutManager(getActivity(),columns);\n\n\n\n        moviesRecycerView.setLayoutManager(mLayoutManager);\n        PopularAdapter popularAdapter = new PopularAdapter(getActivity(),popular_posters,\n                popular_title, popular_id, popular_categories, popular_votes_pos, popular_votes_neg,\n                popular_last_episode);\n\n\n\n        new CountDownTimer(10000, 1000) {\n\n            public void onTick(long millisUntilFinished) {\n\n                if(AppActivity.isPopularCategoryLoaded) {\n\n                    moviesRecycerView.setAdapter(popularAdapter);\n                    progressBar.setVisibility(View.GONE);\n                    cancel();\n\n                }\n\n            }\n\n            public void onFinish() {\n            }\n        }.start();\n\n\n\n\n        moviesRecycerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n\n                int totalItemCount = mLayoutManager.getItemCount();\n                int lastVisible = mLayoutManager.findLastVisibleItemPosition();\n\n                boolean endHasBeenReached = lastVisible + 15 &gt;= totalItemCount;\n\n                isPopularOnTop = dy == 0;\n\n                if (totalItemCount &gt; 0 &amp;&amp; endHasBeenReached) {\n\n\n                    if(AppActivity.popularHasNextPage) {\n\n\n                        AppActivity.popularPage += 1;\n                        AppActivity.loadPopularCategory();\n\n\n                        new CountDownTimer(5000, 1000) {\n\n                            public void onTick(long millisUntilFinished) {\n\n                                if(AppActivity.isPopularCategoryLoaded) {\n\n                                    progressBar.setVisibility(View.GONE);\n                                    popularAdapter.notifyDataSetChanged();\n\n                                }\n\n                            }\n\n                            public void onFinish() {\n                            }\n                        }.start();\n\n                        AppActivity.popularHasNextPage = false;\n\n                    }\n\n                }\n            }\n        });\n\n\n        return root;\n    }\n}\n</code></pre>\n<p>My adapter.java:</p>\n<pre><code>package org.vitaliy.moziapp.PopularFragment;\n\npublic class PopularAdapter extends RecyclerView.Adapter&lt;PopularViewHolder&gt; {\n\n\n    static public String current_id;\n    static public String current_category;\n\n\n    ArrayList&lt;String&gt; movies_posters;\n    ArrayList&lt;String&gt; movies_title;\n    ArrayList&lt;String&gt; movies_id;\n    ArrayList&lt;String&gt; movies_categories;\n    ArrayList&lt;String&gt; movies_votes_pos;\n    ArrayList&lt;String&gt; movies_votes_neg;\n    ArrayList&lt;String&gt; movies_last_episode;\n\n\n    LayoutInflater inflater;\n    Context context;\n\n\n    public PopularAdapter(Context context, ArrayList&lt;String&gt; movies_posters,\n                          ArrayList&lt;String&gt; movies_title,\n                          ArrayList&lt;String&gt; movies_id,\n                          ArrayList&lt;String&gt; movies_categories,\n                          ArrayList&lt;String&gt; movies_votes_pos,\n                          ArrayList&lt;String&gt; movies_votes_neg,\n                          ArrayList&lt;String&gt; movies_last_episode){\n\n        this.movies_posters = movies_posters;\n        this.movies_title = movies_title;\n        this.movies_id = movies_id;\n        this.movies_categories = movies_categories;\n        this.movies_votes_pos = movies_votes_pos;\n        this.movies_votes_neg = movies_votes_neg;\n        this.movies_last_episode = movies_last_episode;\n\n        this.context = context;\n        this.inflater = LayoutInflater.from(context);\n\n    }\n\n\n    @NonNull\n    @Override\n    public PopularViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = inflater.inflate(R.layout.item_movie, parent, false);\n        return new PopularViewHolder(view);\n\n    }\n\n    @SuppressLint({&quot;SetTextI18n&quot;, &quot;NotifyDataSetChanged&quot;})\n    @Override\n    public void onBindViewHolder(@NonNull PopularViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        \n\n        if(movies_categories.get(position).equals(&quot;s7&quot;)||\n                movies_categories.get(position).equals(&quot;s93&quot;)) {\n\n            holder.movie_last_episode.setVisibility(View.VISIBLE);\n            holder.movie_last_episode.setText(movies_last_episode.get(position));\n\n        } else {\n            holder.movie_last_episode.setVisibility(View.GONE);\n        }\n\n\n\n        Picasso.with(context).load(movies_posters.get(position))\n                .into(holder.movie_poster, new Callback() {\n                    @Override\n                    public void onSuccess() {\n\n                    }\n\n                    @Override\n                    public void onError() {\n                        holder.movie_icon.setVisibility(View.VISIBLE);\n                    }\n                });\n\n        holder.movie_title.setText(Html.fromHtml(movies_title.get(position)));\n\n        holder.movie_btn.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n            @Override\n            public void onFocusChange(View view, boolean b) {\n\n                holder.movie_title.setSelected(b);\n\n            }\n        });\n\n        holder.movie_votes_pos.setText(movies_votes_pos.get(position));\n        holder.movie_votes_neg.setText(movies_votes_neg.get(position));\n\n\n\n        holder.movie_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                current_id = movies_id.get(position);\n                current_category = movies_categories.get(position);\n\n                AppActivity.current_id = current_id;\n\n                MovieVideosFragment.category = current_category;\n                VideosAdapter.category = current_category;\n\n\n                if (current_category.equals(&quot;s7&quot;) || current_category.equals(&quot;s93&quot;))\n                    AppActivity.loadSeriesAudio(current_id);\n                else\n                    AppActivity.loadMoviesAudio(current_id);\n\n                AppActivity.isMoviesLoaded = false;\n                AppActivity.isSeriesLoaded = false;\n\n                MovieFragment.year = null;\n                MovieFragment.actors = null;\n                MovieFragment.genres = null;\n                MovieFragment.countries = null;\n                MovieFragment.short_story = null;\n\n\n                AppActivity.loadMovieDescription(current_id);\n                AppActivity.loadSimilar(current_id);\n\n\n                MovieFragment.poster = movies_posters.get(position);\n                MovieFragment.title = movies_title.get(position);\n\n                context.startActivity(new Intent(context, MovieTab.class));\n\n\n            }\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return movies_posters.size();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":2571786,"reputation":1434,"user_id":2230325,"display_name":"rMonteiro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681363502,"creation_date":1681363502,"answer_id":76001912,"question_id":76001878,"body_markdown":" 1. Start with `fileCollectTasklet()`.\r\n 2. If `fileCollectTasklet()` fails (`on(&quot;FAILED&quot;)`), run `writerTasklet()` and fail the job regardless of the outcome of `writerTasklet()` (`.on(&quot;*&quot;).fail()`).\r\n 3. If `fileCollectTasklet()` finishes with any other status, run `writerTasklet()` and complete the job regardless of the outcome of `writerTasklet()` (`.on(&quot;*&quot;).end()`).\r\n\r\n\r\n\r\n```\r\npublic Job testJob() {\r\n    return jobBuilderFactory.get(&quot;test_job&quot;)\r\n            .incrementer(new RunIdIncrementer())\r\n            .preventRestart()\r\n            .start(fileCollectTasklet())\r\n                .on(&quot;FAILED&quot;)\r\n                .to(writerTasklet()).on(&quot;*&quot;).fail()\r\n            .from(fileCollectTasklet())\r\n                .on(&quot;*&quot;)\r\n                .to(writerTasklet())\r\n                .on(&quot;*&quot;)\r\n                .end()\r\n            .end();\r\n}\r\n```","title":"spring batch flow control (My step has all completed but job drops fail status)","body":"<ol>\n<li>Start with <code>fileCollectTasklet()</code>.</li>\n<li>If <code>fileCollectTasklet()</code> fails (<code>on(&quot;FAILED&quot;)</code>), run <code>writerTasklet()</code> and fail the job regardless of the outcome of <code>writerTasklet()</code> (<code>.on(&quot;*&quot;).fail()</code>).</li>\n<li>If <code>fileCollectTasklet()</code> finishes with any other status, run <code>writerTasklet()</code> and complete the job regardless of the outcome of <code>writerTasklet()</code> (<code>.on(&quot;*&quot;).end()</code>).</li>\n</ol>\n<pre><code>public Job testJob() {\n    return jobBuilderFactory.get(&quot;test_job&quot;)\n            .incrementer(new RunIdIncrementer())\n            .preventRestart()\n            .start(fileCollectTasklet())\n                .on(&quot;FAILED&quot;)\n                .to(writerTasklet()).on(&quot;*&quot;).fail()\n            .from(fileCollectTasklet())\n                .on(&quot;*&quot;)\n                .to(writerTasklet())\n                .on(&quot;*&quot;)\n                .end()\n            .end();\n}\n</code></pre>\n"}],"owner":{"account_id":28291182,"reputation":21,"user_id":21631286,"display_name":"주행가 종시기"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681363502,"creation_date":1681363209,"question_id":76001878,"body_markdown":"Hi i&#39;m using spring batch to make some batch product but my logic doesn&#39;t work.\r\nI want to know why!\r\nPlease give some answer\r\n\r\n\r\n\r\nMy logic is like this\r\n\r\n\r\n```java \r\npublic test_job(){\r\n   return jobBuilderFactory.get(&quot;test_job&quot;).incrementer(new RunIdIncrementer()).preventRestart()\r\n          .start(fileCollectTasklet())\r\n             .on(&quot;FAILED&quot;)\r\n             .to(writerTasklet())\r\n             .on(&quot;*&quot;)\r\n             .fail()\r\n          .from(fileCollectTasklet())\r\n             .on(&quot;FAILED&quot;)\r\n             .to(writerTasklet())\r\n             .on(&quot;*&quot;)\r\n             .end()\r\n          .end()\r\n}\r\n```\r\n\r\n\r\nI want to make if fileCollectTasklet() finished with FAILED, then run writerTasklet and make end job with fail status doesn&#39;t matter how writerTasklet end.\r\nAnd if fileCollectTasklet() finished with COMPLETE, then run writerTasklet and make end job with SUCESS status doesn&#39;t matter how writerTasklet end.\r\n\r\nCould you guys help me???? \r\n\r\n","title":"spring batch flow control (My step has all completed but job drops fail status)","body":"<p>Hi i'm using spring batch to make some batch product but my logic doesn't work.\nI want to know why!\nPlease give some answer</p>\n<p>My logic is like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public test_job(){\n   return jobBuilderFactory.get(&quot;test_job&quot;).incrementer(new RunIdIncrementer()).preventRestart()\n          .start(fileCollectTasklet())\n             .on(&quot;FAILED&quot;)\n             .to(writerTasklet())\n             .on(&quot;*&quot;)\n             .fail()\n          .from(fileCollectTasklet())\n             .on(&quot;FAILED&quot;)\n             .to(writerTasklet())\n             .on(&quot;*&quot;)\n             .end()\n          .end()\n}\n</code></pre>\n<p>I want to make if fileCollectTasklet() finished with FAILED, then run writerTasklet and make end job with fail status doesn't matter how writerTasklet end.\nAnd if fileCollectTasklet() finished with COMPLETE, then run writerTasklet and make end job with SUCESS status doesn't matter how writerTasklet end.</p>\n<p>Could you guys help me????</p>\n"},{"tags":["java","spring-boot","ssl","encryption"],"owner":{"account_id":27808633,"reputation":11,"user_id":21231435,"display_name":"ai-rin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681362215,"creation_date":1677217156,"question_id":75552967,"body_markdown":"I developed a simple Rest API controller as springboot.\r\nThe code is as follows.\r\n\r\n```\r\n@RequestMapping(&quot;/v1&quot;)\r\n@RestController\r\npublic class AgentController {\r\n\r\n  @PostMapping(&quot;/api/list&quot;)\r\n  public ResponseEntity&lt;ApiResponse&gt; getList(@RequestBody ApiRequest requestBody, HttpServletRequest request) {\r\n     \r\n      // some codes\r\n      return response;\r\n  }\r\n}\r\n```\r\nMy question is as follows.\r\nI&#39;m going to destroy the encryption key used in TLS communication, but I don&#39;t know how to access it.\r\nI don&#39;t know if it&#39;s possible within the getList() function of the code or if I need to implement another class with the help of springboot.\r\n\r\nI tried the following.\r\n```\r\nHttpSession session = request.getSession(false);\r\nSystem.out.println(&quot;1&quot;);\r\nif (session != null) {\r\n  System.out.println(&quot;2&quot;);\r\n  SSLSession sslSession = (SSLSession) session.getAttribute(&quot;javax.servlet.request.ssl_session&quot;);\r\n\r\n   // Some codes..\r\n}\r\n```\r\nHowever, the value of the &quot;session&quot; variable was always null.\r\nHow do i Destroy the tls encryption key(session key) where https communication has been completed with springboot 2.7.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do i Destroy the tls encryption key(session key) where https communication has been completed with springboot 2.7","body":"<p>I developed a simple Rest API controller as springboot.\nThe code is as follows.</p>\n<pre><code>@RequestMapping(&quot;/v1&quot;)\n@RestController\npublic class AgentController {\n\n  @PostMapping(&quot;/api/list&quot;)\n  public ResponseEntity&lt;ApiResponse&gt; getList(@RequestBody ApiRequest requestBody, HttpServletRequest request) {\n     \n      // some codes\n      return response;\n  }\n}\n</code></pre>\n<p>My question is as follows.\nI'm going to destroy the encryption key used in TLS communication, but I don't know how to access it.\nI don't know if it's possible within the getList() function of the code or if I need to implement another class with the help of springboot.</p>\n<p>I tried the following.</p>\n<pre><code>HttpSession session = request.getSession(false);\nSystem.out.println(&quot;1&quot;);\nif (session != null) {\n  System.out.println(&quot;2&quot;);\n  SSLSession sslSession = (SSLSession) session.getAttribute(&quot;javax.servlet.request.ssl_session&quot;);\n\n   // Some codes..\n}\n</code></pre>\n<p>However, the value of the &quot;session&quot; variable was always null.\nHow do i Destroy the tls encryption key(session key) where https communication has been completed with springboot 2.7.</p>\n"},{"tags":["java","gzip","gzipinputstream"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":2,"creation_date":1681360298,"post_id":76001619,"comment_id":134044540,"body_markdown":"I could be wrong, but isn&#39;t that a base64 encoded string?   Then you&#39;d have to base64 decode it.","body":"I could be wrong, but isn&#39;t that a base64 encoded string?   Then you&#39;d have to base64 decode it."},{"owner":{"account_id":9860685,"reputation":559,"user_id":7303809,"accept_rate":75,"display_name":"SW Williams"},"score":0,"creation_date":1681360882,"post_id":76001619,"comment_id":134044596,"body_markdown":"Sorry bad example, the actual string is very long so I just used the same tool I used to decompress the string to encode &quot;Hello World&quot;, but apparently it also Base64 encodes it. I edited my post to include part of the actual GZIP string","body":"Sorry bad example, the actual string is very long so I just used the same tool I used to decompress the string to encode &quot;Hello World&quot;, but apparently it also Base64 encodes it. I edited my post to include part of the actual GZIP string"},{"owner":{"account_id":9860685,"reputation":559,"user_id":7303809,"accept_rate":75,"display_name":"SW Williams"},"score":0,"creation_date":1681364052,"post_id":76001619,"comment_id":134044903,"body_markdown":"Turns out my original string was indeed base64 encoded. The prefix threw me off. Thanks for the help!","body":"Turns out my original string was indeed base64 encoded. The prefix threw me off. Thanks for the help!"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681360431,"creation_date":1681360431,"answer_id":76001648,"question_id":76001619,"body_markdown":"This:\r\n\r\n&gt; H4sIAAAAAAAACvNIzcnJVwjPL8pJAQBWsRdKCwAAAA==\r\n\r\nIs Base64. Which is an encoding that lets you put bytes in character form, such that the characters survive just about any and all text-only mediums.\r\n\r\nIt is __extremely inefficient__, inflating the size of your data: Every 3 bytes requires 4 characters here (so, at least 4 bytes in transfer).\r\n\r\nWhat you probably have here is data that went through this process:\r\n\r\n* First, GZip this data.\r\n* Second, Base64 the gzipped data.\r\n\r\nWhich is weird - first, efficiently store it, then, send it very inefficiently. It makes sense only if it&#39;s in a medium that can&#39;t handle bytes (such as basic JSON, or HTTP headers), and you might want to think about that medium then.\r\n\r\nAt any rate, to get back to the original data, apply the same steps, in reverse:\r\n\r\n* First, de-base64 that, which gives you a byte array.\r\n* Next, make that the basis for a ByteArrayInputStream and toss it at GZIPInputStream.\r\n\r\nBase64 is [baked into java](https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html).\r\n\r\n```\r\nbyte[] compressedData = Base64.getDecoder().decode(&quot;H4sIAAAAAAAACvNIzcnJVwjPL8pJAQBWsRdKCwAAAA==&quot;));\r\nvar gz = new GZIPInputStream(new ByteArrayInputStream(compressedData));\r\n```\r\n","title":"How to handle a GZIP String from message body API response?","body":"<p>This:</p>\n<blockquote>\n<p>H4sIAAAAAAAACvNIzcnJVwjPL8pJAQBWsRdKCwAAAA==</p>\n</blockquote>\n<p>Is Base64. Which is an encoding that lets you put bytes in character form, such that the characters survive just about any and all text-only mediums.</p>\n<p>It is <strong>extremely inefficient</strong>, inflating the size of your data: Every 3 bytes requires 4 characters here (so, at least 4 bytes in transfer).</p>\n<p>What you probably have here is data that went through this process:</p>\n<ul>\n<li>First, GZip this data.</li>\n<li>Second, Base64 the gzipped data.</li>\n</ul>\n<p>Which is weird - first, efficiently store it, then, send it very inefficiently. It makes sense only if it's in a medium that can't handle bytes (such as basic JSON, or HTTP headers), and you might want to think about that medium then.</p>\n<p>At any rate, to get back to the original data, apply the same steps, in reverse:</p>\n<ul>\n<li>First, de-base64 that, which gives you a byte array.</li>\n<li>Next, make that the basis for a ByteArrayInputStream and toss it at GZIPInputStream.</li>\n</ul>\n<p>Base64 is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">baked into java</a>.</p>\n<pre><code>byte[] compressedData = Base64.getDecoder().decode(&quot;H4sIAAAAAAAACvNIzcnJVwjPL8pJAQBWsRdKCwAAAA==&quot;));\nvar gz = new GZIPInputStream(new ByteArrayInputStream(compressedData));\n</code></pre>\n"}],"owner":{"account_id":9860685,"reputation":559,"user_id":7303809,"accept_rate":75,"display_name":"SW Williams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76001648,"answer_count":1,"score":1,"last_activity_date":1681361277,"creation_date":1681360071,"question_id":76001619,"body_markdown":"I&#39;m working with a system that returns a GZIP **string** (not a binary or stream) in its response. For example, `gzip:H4sIAAAAAAAAALS9665wyXEd9i7zm21U37vnVwwZAREEAZJYgBEjMKq6uiVLNimQlBDRyLtnrX3GD+ACIlEDznyaffbpXV21Vl1W/bdf/vKv/3R/+fWXf/4n17/cX373y/l7/cPfXf+3f/nl1zxWrmW2Vfeev/vlL/p3f/7l1//4f//uF7vvj3+6f/unP/zy63/75T/9p//+CPz97375F/0v//zb3/2q/1X/+sc...` (had to omit the full string as its very long) . I&#39;m able to verify its GZIP compressed since tools such as https://www.multiutil.com/gzip-to-text-decompress/ are returning the expected uncompressed string.\r\n\r\n\r\nHowever I&#39;m stuck trying to find a way to handle this string in Java. \r\n\r\nI&#39;ve tried\r\n\r\n```\r\nfinal GZIPInputStream gzipInput = new GZIPInputStream(new ByteArrayInputStream(compressedString.getBytes()));\r\n```\r\n\r\nbut this line is throwing `java.util.zip.ZipException: Not in GZIP format`.\r\n\r\nI&#39;ve searched around here but the similar posts are regarding when GZIP is in a http response and can be read from the stream. In my case, my GZIP data is already given to me as a string.\r\n\r\nAny pointers would be greatly appreciated, thank you.","title":"How to handle a GZIP String from message body API response?","body":"<p>I'm working with a system that returns a GZIP <strong>string</strong> (not a binary or stream) in its response. For example, <code>gzip:H4sIAAAAAAAAALS9665wyXEd9i7zm21U37vnVwwZAREEAZJYgBEjMKq6uiVLNimQlBDRyLtnrX3GD+ACIlEDznyaffbpXV21Vl1W/bdf/vKv/3R/+fWXf/4n17/cX373y/l7/cPfXf+3f/nl1zxWrmW2Vfeev/vlL/p3f/7l1//4f//uF7vvj3+6f/unP/zy63/75T/9p//+CPz97375F/0v//zb3/2q/1X/+sc...</code> (had to omit the full string as its very long) . I'm able to verify its GZIP compressed since tools such as <a href=\"https://www.multiutil.com/gzip-to-text-decompress/\" rel=\"nofollow noreferrer\">https://www.multiutil.com/gzip-to-text-decompress/</a> are returning the expected uncompressed string.</p>\n<p>However I'm stuck trying to find a way to handle this string in Java.</p>\n<p>I've tried</p>\n<pre><code>final GZIPInputStream gzipInput = new GZIPInputStream(new ByteArrayInputStream(compressedString.getBytes()));\n</code></pre>\n<p>but this line is throwing <code>java.util.zip.ZipException: Not in GZIP format</code>.</p>\n<p>I've searched around here but the similar posts are regarding when GZIP is in a http response and can be read from the stream. In my case, my GZIP data is already given to me as a string.</p>\n<p>Any pointers would be greatly appreciated, thank you.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-data"],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681360653,"creation_date":1681360653,"question_id":76001663,"body_markdown":"Here is my scenario.... I have two tables User Table (which has a composite PK of 3 fields), and OrgFunc Table (which has a composite PK of 2 fields).\r\n\r\nI&#39;m trying to configure the @OneToMany relationship in JPA, and I&#39;m not finding a way.\r\n\r\nthe first class\r\n```java\r\n@Table(name=&quot;user&quot;)\r\n@IdClass(UserPk.class)\r\n...\r\npublic class User implements Serializable {\r\n  @Id\r\n  @column(name=&quot;org&quot;)\r\n  private String org;\r\n\r\n  @Id\r\n  @column(name=&quot;user_id&quot;)\r\n  private String userId;\r\n\r\n  @Id\r\n  @column(name=&quot;user_func&quot;)\r\n  private String userFunc\r\n\r\n  @column=(name = &quot;xyz&quot;)\r\n  private String xyz;\r\n\r\n  @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n  // @MapsId(&quot;OrgFuncPk&quot;)\r\n  @JoinColumns({\r\n        @JoinColumn(name=&quot;org&quot;, referencedColumnName=&quot;org&quot;),\r\n    \t@JoinColumn(name=&quot;user_func&quot;, referencedColumnName=&quot;user_func&quot;)\r\n    })\r\n  private List&lt;CliRole&gt; cliRoles;\r\n}\r\n```\r\n\r\nthe second class\r\n```java\r\n@Table(name=&quot;org_func&quot;)\r\n@IdClass(OrgFuncPk.class)\r\n...\r\npublic class OrgFunc implements Serializable {\r\n  @Id\r\n  @column(name=&quot;org&quot;)\r\n  private String org;\r\n\r\n  @Id\r\n  @column(name=&quot;user_func&quot;)\r\n  private String userFunc\r\n\r\n  @column(name=&quot;abc&quot;)\r\n  private String abc;\r\n}\r\n```\r\n\r\nI&#39;m trying to query the first table with user_id &amp; bring back all the user rows from the two tables combined.\r\n\r\nI&#39;ve tried a lot of variations with no luck, this is the variation the makes most sense to me, but I&#39;m getting the below error at runtime\r\n```\r\nreferencedColumnNames(org, user_func) of OrgFunc referencing User not mapped to a single property\r\n```\r\n\r\nleaving out the `@JoinColumns` and having a `@MapId(&quot;OrgFuncPk&quot;)` instead, does let the application run. but throws an error about `ERROR: relation &quot;user_org_fun&quot; does not exists`.\r\n\r\nnot sure where to go from that point. I think my problem is I&#39;m trying to map a partial composite key from the user to the full composite in the org_func.\r\n\r\nAny Ideas?","title":"JPA relational setup for two classes both with composite keys","body":"<p>Here is my scenario.... I have two tables User Table (which has a composite PK of 3 fields), and OrgFunc Table (which has a composite PK of 2 fields).</p>\n<p>I'm trying to configure the @OneToMany relationship in JPA, and I'm not finding a way.</p>\n<p>the first class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name=&quot;user&quot;)\n@IdClass(UserPk.class)\n...\npublic class User implements Serializable {\n  @Id\n  @column(name=&quot;org&quot;)\n  private String org;\n\n  @Id\n  @column(name=&quot;user_id&quot;)\n  private String userId;\n\n  @Id\n  @column(name=&quot;user_func&quot;)\n  private String userFunc\n\n  @column=(name = &quot;xyz&quot;)\n  private String xyz;\n\n  @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  // @MapsId(&quot;OrgFuncPk&quot;)\n  @JoinColumns({\n        @JoinColumn(name=&quot;org&quot;, referencedColumnName=&quot;org&quot;),\n        @JoinColumn(name=&quot;user_func&quot;, referencedColumnName=&quot;user_func&quot;)\n    })\n  private List&lt;CliRole&gt; cliRoles;\n}\n</code></pre>\n<p>the second class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name=&quot;org_func&quot;)\n@IdClass(OrgFuncPk.class)\n...\npublic class OrgFunc implements Serializable {\n  @Id\n  @column(name=&quot;org&quot;)\n  private String org;\n\n  @Id\n  @column(name=&quot;user_func&quot;)\n  private String userFunc\n\n  @column(name=&quot;abc&quot;)\n  private String abc;\n}\n</code></pre>\n<p>I'm trying to query the first table with user_id &amp; bring back all the user rows from the two tables combined.</p>\n<p>I've tried a lot of variations with no luck, this is the variation the makes most sense to me, but I'm getting the below error at runtime</p>\n<pre><code>referencedColumnNames(org, user_func) of OrgFunc referencing User not mapped to a single property\n</code></pre>\n<p>leaving out the <code>@JoinColumns</code> and having a <code>@MapId(&quot;OrgFuncPk&quot;)</code> instead, does let the application run. but throws an error about <code>ERROR: relation &quot;user_org_fun&quot; does not exists</code>.</p>\n<p>not sure where to go from that point. I think my problem is I'm trying to map a partial composite key from the user to the full composite in the org_func.</p>\n<p>Any Ideas?</p>\n"},{"tags":["java","passwords","bluej"],"comments":[{"owner":{"account_id":1068638,"reputation":3078,"user_id":1068470,"accept_rate":82,"display_name":"ThePerson"},"score":0,"creation_date":1354486632,"post_id":13674449,"comment_id":18770485,"body_markdown":"The first correction to this is that it should be if password.length() &lt;= 8, as it says &quot;at least 8&quot;, which means that 8 is valid.","body":"The first correction to this is that it should be if password.length() &lt;= 8, as it says &quot;at least 8&quot;, which means that 8 is valid."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1354486891,"post_id":13674449,"comment_id":18770556,"body_markdown":"@NutterzUK: So, if 8 is valid, the method should return false if the length is &lt; 8. The OP got it right.","body":"@NutterzUK: So, if 8 is valid, the method should return false if the length is &lt; 8. The OP got it right."},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1354487169,"post_id":13674449,"comment_id":18770642,"body_markdown":"Are you allowed to use regex?","body":"Are you allowed to use regex?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354487067,"creation_date":1354487067,"answer_id":13674591,"question_id":13674449,"body_markdown":"You almost got it. There are some errors though:\r\n\r\n - you&#39;re not iterating over all the chars of the password (`i &lt; password.length() - 1` is wrong)\r\n - you start with a digit count of 1 instead of 0\r\n - you make the check that the count of digits is at least 2 as soon as you meet the first digit, instead of checking it after you have scanned all the characters","title":"Checking Password Code","body":"<p>You almost got it. There are some errors though:</p>\n\n<ul>\n<li>you're not iterating over all the chars of the password (<code>i &lt; password.length() - 1</code> is wrong)</li>\n<li>you start with a digit count of 1 instead of 0</li>\n<li>you make the check that the count of digits is at least 2 as soon as you meet the first digit, instead of checking it after you have scanned all the characters</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1848560,"reputation":1408,"user_id":1675670,"accept_rate":75,"display_name":"istovatis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354488213,"creation_date":1354488213,"answer_id":13674741,"question_id":13674449,"body_markdown":"As previously answered, you should chek all the password characters first. Count your digits and finally check if count is smaller than 2. \r\nHere is the referring code.\r\n\r\n \r\n\r\n    if (password.length() &lt; 8) {   \r\n            return false;  \r\n        } else {      \r\n            char c;  \r\n            int count = 0;   \r\n            for (int i = 0; i &lt; password.length(); i++) {  \r\n                c = password.charAt(i);  \r\n                if (!Character.isLetterOrDigit(c)) {          \r\n                    return false;  \r\n                } else if (Character.isDigit(c)) {  \r\n                    count++;     \r\n                }  \r\n            }  \r\n            if (count &lt; 2)   {     \r\n                return false;  \r\n            }  \r\n        }  \r\n        return true;  \r\n    }  ","title":"Checking Password Code","body":"<p>As previously answered, you should chek all the password characters first. Count your digits and finally check if count is smaller than 2. \nHere is the referring code.</p>\n\n<pre><code>if (password.length() &lt; 8) {   \n        return false;  \n    } else {      \n        char c;  \n        int count = 0;   \n        for (int i = 0; i &lt; password.length(); i++) {  \n            c = password.charAt(i);  \n            if (!Character.isLetterOrDigit(c)) {          \n                return false;  \n            } else if (Character.isDigit(c)) {  \n                count++;     \n            }  \n        }  \n        if (count &lt; 2)   {     \n            return false;  \n        }  \n    }  \n    return true;  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3116198,"reputation":17,"user_id":2636895,"display_name":"Parag Satav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1457263390,"creation_date":1406420201,"answer_id":24976719,"question_id":13674449,"body_markdown":"    package com.parag;\r\n\r\n    /*\r\n     * @author Parag Satav\r\n     */\r\n\tpublic boolean check(String password) {\r\n\r\n\t\tboolean flagUppercase = false;\r\n\t\tboolean flagLowercase = false;\r\n\t\tboolean flagDigit = false;\r\n\t\tboolean flag = false;\r\n\r\n\t\tif (password.length() &gt;= 10) {\r\n\r\n\t\t\tfor (int i = 0; i &lt; password.length(); i++) {\r\n\r\n\t\t\t\tif (!Character.isLetterOrDigit(password.charAt(i))) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Character.isDigit(password.charAt(i)) &amp;&amp; !flagDigit) {\r\n\t\t\t\t\tflagDigit = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Character.isUpperCase(password.charAt(i)) &amp;&amp; !flagUppercase) {\r\n\t\t\t\t\tflagUppercase = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Character.isLowerCase(password.charAt(i)) &amp;&amp; !flagLowercase) {\r\n\t\t\t\t\tflagLowercase = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (flagDigit &amp;&amp; flagUppercase &amp;&amp; flagLowercase) {\r\n\t\t\tflag = true;\r\n\t\t\tSystem.out.println(&quot;Success..&quot;);\r\n\t\t} else\r\n\t\t\tSystem.out.println(&quot;Fail..&quot;);\r\n\r\n\t\treturn flag;\r\n\t}\r\n\r\n","title":"Checking Password Code","body":"<pre><code>package com.parag;\n\n/*\n * @author Parag Satav\n */\npublic boolean check(String password) {\n\n    boolean flagUppercase = false;\n    boolean flagLowercase = false;\n    boolean flagDigit = false;\n    boolean flag = false;\n\n    if (password.length() &gt;= 10) {\n\n        for (int i = 0; i &lt; password.length(); i++) {\n\n            if (!Character.isLetterOrDigit(password.charAt(i))) {\n                return false;\n            }\n\n            if (Character.isDigit(password.charAt(i)) &amp;&amp; !flagDigit) {\n                flagDigit = true;\n\n            }\n\n            if (Character.isUpperCase(password.charAt(i)) &amp;&amp; !flagUppercase) {\n                flagUppercase = true;\n\n            }\n\n            if (Character.isLowerCase(password.charAt(i)) &amp;&amp; !flagLowercase) {\n                flagLowercase = true;\n            }\n        }\n    }\n\n    if (flagDigit &amp;&amp; flagUppercase &amp;&amp; flagLowercase) {\n        flag = true;\n        System.out.println(\"Success..\");\n    } else\n        System.out.println(\"Fail..\");\n\n    return flag;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7888738,"reputation":86,"user_id":5959740,"display_name":"Abdul Hanan Khan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456083528,"creation_date":1456082333,"answer_id":35540783,"question_id":13674449,"body_markdown":"Suppose a valid password has:\r\n\r\n - 8 or more characters, but not more than 16 characters\r\n - one or more uppercase characters\r\n - one or more lowercase characters\r\n - one or more digits\r\n - one or more special characters (like $, @, or !)\r\n\r\nCode:\r\n\r\n    import java.util.Scanner;\r\n    public class Password {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint min =8;\r\n\t\tint max=16;\r\n\t\tint digit=0;\r\n\t\tint special=0;\r\n\t\tint upCount=0;\r\n\t\tint loCount=0;\r\n\t\tString password;\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot; Enter Your Password:&quot;);\r\n\t\t\tpassword = scan.nextLine();\r\n\t\tif(password.length()&gt;=min&amp;&amp;password.length()&lt;=max){\r\n\t\t\tfor(int i =0;i&lt;password.length();i++){\r\n\t\t\t\tchar c = password.charAt(i);\r\n\t\t\t\tif(Character.isUpperCase(c)){\r\n\t\t\t\t\tupCount++;\r\n\t\t\t\t}\r\n\t\t\t\tif(Character.isLowerCase(c)){\r\n\t\t\t\t\tloCount++;\r\n\t\t\t\t}\r\n\t\t\t\tif(Character.isDigit(c)){\r\n\t\t\t\t\tdigit++;\r\n\t\t\t\t}\r\n\t\t\t\tif(c&gt;=33&amp;&amp;c&lt;=46||c==64){\r\n\t\t\t\t\tspecial++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(special&gt;=1&amp;&amp;loCount&gt;=1&amp;&amp;upCount&gt;=1&amp;&amp;digit&gt;=1){\r\n\t\t\t\tSystem.out.println(&quot; Password is good:&quot;);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t}\r\n\t\t\r\n\t\tif(password.length()&lt;min){\r\n\t\t\t \r\n\t\t\tfor(int i =0;i&lt;password.length();i++){\r\n\t\t\t\tchar c = password.charAt(i);\r\n\t\t\t\tif(Character.isLowerCase(c)){\r\n\t\t\t\t\tloCount++;\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tif(loCount&gt;0){\r\n\t\t\t\tSystem.out.println(&quot; Password must be atleat &quot;+min+&quot; characters:&quot;);\r\n\t\t\t\tSystem.out.println(&quot; You need atleast one upper case chracter:&quot;);\r\n\t\t\t\tSystem.out.println(&quot; You need atleast one digit:&quot;);\r\n\t\t\t\tSystem.out.println(&quot; You need atleast one special chracter:&quot;);\r\n\t\t\t \r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t}\r\n\t\telse if(password.length()&lt;min&amp;&amp;upCount&gt;1){\r\n\t\t\tfor(int i =0;i&lt;password.length();i++){\r\n\t\t\tchar c =password.charAt(i);\r\n\t\t\tif(Character.isLowerCase(c)){\r\n\t\t\t\tloCount++;\r\n\t\t\t}\r\n\t\t\t if(Character.isUpperCase(c)){\r\n\t\t\t\tupCount++;\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(loCount&gt;0&amp;&amp;upCount&gt;0){\r\n\t\t\tSystem.out.println(&quot; Password must be atleast &quot;+min+&quot; chracters:&quot;);\r\n\t\t\tSystem.out.println(&quot; You need atleast one digit:&quot;);\r\n\t\t\tSystem.out.println(&quot; You need atleast one special chracter:&quot;);\r\n\t\t}\r\n\t\t}\r\n\t\t if(password.length()&gt;max||password.length()&gt;=max&amp;&amp;upCount&gt;1&amp;&amp;loCount&gt;1&amp;&amp;digit&gt;1){\r\n\t\t\t System.out.println(&quot; Password is too long.Limit is &quot;+max+&quot; chracters:&quot;);\r\n\t\t\t\t\t System.out.println(&quot; You need atleast one special chracter:&quot;);\r\n\t\t\t\t \r\n\t\t\t}\r\n\t\t  if(password.length()&gt;=min&amp;&amp;password.length()&lt;=max&amp;&amp;loCount&gt;0&amp;&amp;upCount&gt;0&amp;&amp;digit&gt;0&amp;&amp;special==0){\r\n\t\t\t System.out.println(&quot; You need atleast a special chracter&quot;);\r\n\t\t }\r\n\t\t  if(password.length()&gt;=min&amp;&amp;password.length()&lt;=max&amp;&amp;loCount&gt;0&amp;&amp;upCount&gt;0&amp;&amp;digit==0&amp;&amp;special==0){\r\n\t\t\t System.out.println(&quot; You need atleast one digit:&quot;);\r\n\t\t\t System.out.println(&quot; You need atleast one special chracter:&quot;);\r\n\t\t }\r\n       }\r\n    }","title":"Checking Password Code","body":"<p>Suppose a valid password has:</p>\n\n<ul>\n<li>8 or more characters, but not more than 16 characters</li>\n<li>one or more uppercase characters</li>\n<li>one or more lowercase characters</li>\n<li>one or more digits</li>\n<li>one or more special characters (like $, @, or !)</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Password {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int min =8;\n    int max=16;\n    int digit=0;\n    int special=0;\n    int upCount=0;\n    int loCount=0;\n    String password;\n    Scanner scan = new Scanner(System.in);\n    System.out.println(\" Enter Your Password:\");\n        password = scan.nextLine();\n    if(password.length()&gt;=min&amp;&amp;password.length()&lt;=max){\n        for(int i =0;i&lt;password.length();i++){\n            char c = password.charAt(i);\n            if(Character.isUpperCase(c)){\n                upCount++;\n            }\n            if(Character.isLowerCase(c)){\n                loCount++;\n            }\n            if(Character.isDigit(c)){\n                digit++;\n            }\n            if(c&gt;=33&amp;&amp;c&lt;=46||c==64){\n                special++;\n            }\n        }\n        if(special&gt;=1&amp;&amp;loCount&gt;=1&amp;&amp;upCount&gt;=1&amp;&amp;digit&gt;=1){\n            System.out.println(\" Password is good:\");\n        }\n\n    }\n\n    if(password.length()&lt;min){\n\n        for(int i =0;i&lt;password.length();i++){\n            char c = password.charAt(i);\n            if(Character.isLowerCase(c)){\n                loCount++;\n            }\n            }\n\n        if(loCount&gt;0){\n            System.out.println(\" Password must be atleat \"+min+\" characters:\");\n            System.out.println(\" You need atleast one upper case chracter:\");\n            System.out.println(\" You need atleast one digit:\");\n            System.out.println(\" You need atleast one special chracter:\");\n\n\n\n    }\n    }\n    else if(password.length()&lt;min&amp;&amp;upCount&gt;1){\n        for(int i =0;i&lt;password.length();i++){\n        char c =password.charAt(i);\n        if(Character.isLowerCase(c)){\n            loCount++;\n        }\n         if(Character.isUpperCase(c)){\n            upCount++;\n        }\n        }\n        if(loCount&gt;0&amp;&amp;upCount&gt;0){\n        System.out.println(\" Password must be atleast \"+min+\" chracters:\");\n        System.out.println(\" You need atleast one digit:\");\n        System.out.println(\" You need atleast one special chracter:\");\n    }\n    }\n     if(password.length()&gt;max||password.length()&gt;=max&amp;&amp;upCount&gt;1&amp;&amp;loCount&gt;1&amp;&amp;digit&gt;1){\n         System.out.println(\" Password is too long.Limit is \"+max+\" chracters:\");\n                 System.out.println(\" You need atleast one special chracter:\");\n\n        }\n      if(password.length()&gt;=min&amp;&amp;password.length()&lt;=max&amp;&amp;loCount&gt;0&amp;&amp;upCount&gt;0&amp;&amp;digit&gt;0&amp;&amp;special==0){\n         System.out.println(\" You need atleast a special chracter\");\n     }\n      if(password.length()&gt;=min&amp;&amp;password.length()&lt;=max&amp;&amp;loCount&gt;0&amp;&amp;upCount&gt;0&amp;&amp;digit==0&amp;&amp;special==0){\n         System.out.println(\" You need atleast one digit:\");\n         System.out.println(\" You need atleast one special chracter:\");\n     }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14635723,"reputation":1,"user_id":10569953,"display_name":"JAML"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540718949,"creation_date":1540718949,"answer_id":53030079,"question_id":13674449,"body_markdown":"    public void run()\r\n    {\r\n        String password= readLine(&quot;Insert Password: &quot;);\r\n        boolean len= true;\r\n        boolean letter= true;\r\n        boolean twodig= true;\r\n           if (password.length() &lt; 8) {   \r\n             len = false;  \r\n        } else {      \r\n            char c;  \r\n            int count = 0;   \r\n            for (int i = 0; i &lt; password.length(); i++) {  \r\n                c = password.charAt(i);  \r\n                if (!Character.isLetterOrDigit(c)) {          \r\n                    letter = false;  \r\n                } else if (Character.isDigit(c)) {  \r\n                    count++;     \r\n                }  \r\n            }  \r\n            if (count &lt; 2)   {     \r\n                twodig = false;  \r\n            }  \r\n        }  \r\n        if(len ==true &amp;&amp; letter == true &amp;&amp; twodig == true)\r\n        {\r\n            System.out.println(&quot;This password is valid &quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;This password is invalid&quot;);\r\n        }\r\n    }","title":"Checking Password Code","body":"<pre><code>public void run()\n{\n    String password= readLine(\"Insert Password: \");\n    boolean len= true;\n    boolean letter= true;\n    boolean twodig= true;\n       if (password.length() &lt; 8) {   \n         len = false;  \n    } else {      \n        char c;  \n        int count = 0;   \n        for (int i = 0; i &lt; password.length(); i++) {  \n            c = password.charAt(i);  \n            if (!Character.isLetterOrDigit(c)) {          \n                letter = false;  \n            } else if (Character.isDigit(c)) {  \n                count++;     \n            }  \n        }  \n        if (count &lt; 2)   {     \n            twodig = false;  \n        }  \n    }  \n    if(len ==true &amp;&amp; letter == true &amp;&amp; twodig == true)\n    {\n        System.out.println(\"This password is valid \");\n    }\n    else\n    {\n        System.out.println(\"This password is invalid\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15509564,"reputation":1,"user_id":11188679,"display_name":"symun moyeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637006638,"creation_date":1552361626,"answer_id":55113739,"question_id":13674449,"body_markdown":"package Method;\r\n\r\n/*\r\n2. Write a Java method to check whether a string is a valid \r\npassword.\r\nPassword rules:\r\nA password must have at least ten characters.\r\nA password consists of only letters and digits.\r\nA password must contain at least two digits.\r\n\r\nExpected Output:\r\n\r\n1. A password must have at least eight characters.                                             \r\n2. A password consists of only letters and digits.                                         \r\n3. A password must contain at least two digits                                        \r\nInput a password (You are agreeing to the above Terms and Conditions.): abcd1234           \r\nPassword is valid: abcd1234\r\n*/\r\n```java\r\npublic class CheckPassword {\r\n\t\r\n\tpublic static String password;\r\n\tpublic static int disitCounter = 0;\r\n\t\r\n\tpublic static boolean isValid(String password) {\r\n\t\t\r\n\t\t\r\n\t\tif (password.length() &gt;= 10 ) {\r\n\t\t\tfor(int index = 0; index &lt; password.length(); index++) {\r\n\t\t\t\tchar passChar = password.charAt(index);\r\n\t\t\t\tif (!Character.isLetterOrDigit(passChar)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (Character.isDigit(passChar)) {\r\n\t\t\t\t\t\tdisitCounter++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tif(disitCounter &lt; 2) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tpassword = &quot;abcdefgh1w3&quot;;\r\n\t\tif(isValid(password)) {\r\n\t\t\tSystem.out.print(&quot;It is a valid password&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.print(&quot;It is a invalid password&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Checking Password Code","body":"<p>package Method;</p>\n<p>/*\n2. Write a Java method to check whether a string is a valid\npassword.\nPassword rules:\nA password must have at least ten characters.\nA password consists of only letters and digits.\nA password must contain at least two digits.</p>\n<p>Expected Output:</p>\n<ol>\n<li>A password must have at least eight characters.</li>\n<li>A password consists of only letters and digits.</li>\n<li>A password must contain at least two digits<br />\nInput a password (You are agreeing to the above Terms and Conditions.): abcd1234<br />\nPassword is valid: abcd1234\n*/</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class CheckPassword {\n    \n    public static String password;\n    public static int disitCounter = 0;\n    \n    public static boolean isValid(String password) {\n        \n        \n        if (password.length() &gt;= 10 ) {\n            for(int index = 0; index &lt; password.length(); index++) {\n                char passChar = password.charAt(index);\n                if (!Character.isLetterOrDigit(passChar)) {\n                    return false;\n                }\n                else {\n                    if (Character.isDigit(passChar)) {\n                        disitCounter++;\n                    }\n                }\n                \n            }\n            \n        }\n        if(disitCounter &lt; 2) {\n            return false;\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        password = &quot;abcdefgh1w3&quot;;\n        if(isValid(password)) {\n            System.out.print(&quot;It is a valid password&quot;);\n        }\n        else {\n            System.out.print(&quot;It is a invalid password&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26770224,"reputation":1,"user_id":20366729,"display_name":"REDFUN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681360526,"creation_date":1681360526,"answer_id":76001655,"question_id":13674449,"body_markdown":"    public static String getValid(String password) {\r\n        int min = 5;\r\n        int max = 16;\r\n        int digit = 0;\r\n        int special = 0;\r\n        int upCount = 0;\r\n        int loCount = 0;\r\n        String otv = &quot;&quot;;\r\n        if (password.length() &gt;= min &amp;&amp; password.length() &lt;= max) {\r\n            for (int i = 0; i &lt; password.length(); i++) {\r\n                char c = password.charAt(i);\r\n                if (Character.isUpperCase(c)) {\r\n                    upCount++;\r\n                }\r\n                if (Character.isLowerCase(c)) {\r\n                    loCount++;\r\n                }\r\n                if (Character.isDigit(c)) {\r\n                    digit++;\r\n                }\r\n                if (c &gt;= 33 &amp;&amp; c &lt;= 46 || c == 64) {\r\n                    special++;\r\n                }\r\n            }\r\n            if (special &gt;= 1 &amp;&amp; loCount &gt;= 1 &amp;&amp; upCount &gt;= 1 &amp;&amp; digit &gt;= 1) {\r\n                return &quot;Подходящий пароль&quot;;\r\n            }\r\n            if (loCount == 0) {\r\n                otv += &quot;• Вам нужен по крайней мере один символ нижнего регистра&quot; + &quot;\\n&quot;;\r\n            }\r\n            if (upCount == 0) {\r\n                otv += &quot;• Вам нужен по крайней мере один символ верхнего регистра&quot; + &quot;\\n&quot;;\r\n            }\r\n            if (digit == 0) {\r\n                otv += &quot;• Вам нужна хотя бы одна цифра&quot; + &quot;\\n&quot;;\r\n            }\r\n            if (special == 0) {\r\n                otv += &quot;• Вам нужен по крайней мере один особый символ&quot; + &quot;\\n&quot;;\r\n            }\r\n        }\r\n        else if (password.length() &lt; min) {\r\n            otv += &quot;• Пароль должен содержать не менее &quot; + min + &quot; символов&quot; + &quot;\\n&quot;;\r\n        }\r\n        else if (password.length() &gt; max) {\r\n            otv += &quot;• Проль слишком большой, максимальная длина: &quot; + max + &quot; символов&quot; + &quot;\\n&quot;;\r\n        }\r\n        return otv;\r\n    }","title":"Checking Password Code","body":"<pre><code>public static String getValid(String password) {\n    int min = 5;\n    int max = 16;\n    int digit = 0;\n    int special = 0;\n    int upCount = 0;\n    int loCount = 0;\n    String otv = &quot;&quot;;\n    if (password.length() &gt;= min &amp;&amp; password.length() &lt;= max) {\n        for (int i = 0; i &lt; password.length(); i++) {\n            char c = password.charAt(i);\n            if (Character.isUpperCase(c)) {\n                upCount++;\n            }\n            if (Character.isLowerCase(c)) {\n                loCount++;\n            }\n            if (Character.isDigit(c)) {\n                digit++;\n            }\n            if (c &gt;= 33 &amp;&amp; c &lt;= 46 || c == 64) {\n                special++;\n            }\n        }\n        if (special &gt;= 1 &amp;&amp; loCount &gt;= 1 &amp;&amp; upCount &gt;= 1 &amp;&amp; digit &gt;= 1) {\n            return &quot;Подходящий пароль&quot;;\n        }\n        if (loCount == 0) {\n            otv += &quot;• Вам нужен по крайней мере один символ нижнего регистра&quot; + &quot;\\n&quot;;\n        }\n        if (upCount == 0) {\n            otv += &quot;• Вам нужен по крайней мере один символ верхнего регистра&quot; + &quot;\\n&quot;;\n        }\n        if (digit == 0) {\n            otv += &quot;• Вам нужна хотя бы одна цифра&quot; + &quot;\\n&quot;;\n        }\n        if (special == 0) {\n            otv += &quot;• Вам нужен по крайней мере один особый символ&quot; + &quot;\\n&quot;;\n        }\n    }\n    else if (password.length() &lt; min) {\n        otv += &quot;• Пароль должен содержать не менее &quot; + min + &quot; символов&quot; + &quot;\\n&quot;;\n    }\n    else if (password.length() &gt; max) {\n        otv += &quot;• Проль слишком большой, максимальная длина: &quot; + max + &quot; символов&quot; + &quot;\\n&quot;;\n    }\n    return otv;\n}\n</code></pre>\n"}],"owner":{"account_id":2099609,"reputation":23,"user_id":1867612,"accept_rate":100,"display_name":"hanyouchris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113288,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":13674591,"answer_count":7,"score":0,"last_activity_date":1681360526,"creation_date":1354486175,"question_id":13674449,"body_markdown":"Problem Description:\r\n\r\nSome Websites impose certain rules for passwords. Write a method that checks whether a string is a valid password. Suppose the password rule is as follows:\r\n\r\n-\tA password must have at least eight characters.\r\n-\tA password consists of only letters and digits.\r\n-\tA password must contain at least two digits.\r\n\r\nWrite a program that prompts the user to enter a password and displays &quot;valid password&quot; if the rule is followed or &quot;invalid password&quot; otherwise.\r\n\r\nThis is what I have so far:\r\n\r\n    import java.util.*;  \r\n    import java.lang.String;  \r\n    import java.lang.Character;  \r\n\r\n    /**\r\n     * @author CD\r\n     * 12/2/2012\r\n     * This class will check your password to make sure it fits the minimum set     requirements.\r\n     */\r\n    public class CheckingPassword {  \r\n\r\n        public static void main(String[] args) {  \r\n            Scanner input = new Scanner(System.in);  \r\n            System.out.print(&quot;Please enter a Password: &quot;);  \r\n            String password = input.next();  \r\n            if (isValid(password)) {  \r\n                System.out.println(&quot;Valid Password&quot;);  \r\n            } else {  \r\n                System.out.println(&quot;Invalid Password&quot;);  \r\n            }  \r\n        }  \r\n\r\n        public static boolean isValid(String password) {  \r\n            //return true if and only if password:\r\n            //1. have at least eight characters.\r\n            //2. consists of only letters and digits.\r\n            //3. must contain at least two digits.\r\n            if (password.length() &lt; 8) {   \r\n                return false;  \r\n            } else {      \r\n                char c;  \r\n                int count = 1;   \r\n                for (int i = 0; i &lt; password.length() - 1; i++) {  \r\n                    c = password.charAt(i);  \r\n                    if (!Character.isLetterOrDigit(c)) {          \r\n                        return false;  \r\n                    } else if (Character.isDigit(c)) {  \r\n                        count++;  \r\n                        if (count &lt; 2)   {     \r\n                            return false;  \r\n                        }     \r\n                    }  \r\n                }  \r\n            }  \r\n            return true;  \r\n        }  \r\n    }\r\n\r\nWhen I run the program it only checks for the length of the password, I cannot figure out how to make sure it is checking for both letters and digits, and to have at least two digits in the password.","title":"Checking Password Code","body":"<p>Problem Description:</p>\n\n<p>Some Websites impose certain rules for passwords. Write a method that checks whether a string is a valid password. Suppose the password rule is as follows:</p>\n\n<ul>\n<li>A password must have at least eight characters.</li>\n<li>A password consists of only letters and digits.</li>\n<li>A password must contain at least two digits.</li>\n</ul>\n\n<p>Write a program that prompts the user to enter a password and displays \"valid password\" if the rule is followed or \"invalid password\" otherwise.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>import java.util.*;  \nimport java.lang.String;  \nimport java.lang.Character;  \n\n/**\n * @author CD\n * 12/2/2012\n * This class will check your password to make sure it fits the minimum set     requirements.\n */\npublic class CheckingPassword {  \n\n    public static void main(String[] args) {  \n        Scanner input = new Scanner(System.in);  \n        System.out.print(\"Please enter a Password: \");  \n        String password = input.next();  \n        if (isValid(password)) {  \n            System.out.println(\"Valid Password\");  \n        } else {  \n            System.out.println(\"Invalid Password\");  \n        }  \n    }  \n\n    public static boolean isValid(String password) {  \n        //return true if and only if password:\n        //1. have at least eight characters.\n        //2. consists of only letters and digits.\n        //3. must contain at least two digits.\n        if (password.length() &lt; 8) {   \n            return false;  \n        } else {      \n            char c;  \n            int count = 1;   \n            for (int i = 0; i &lt; password.length() - 1; i++) {  \n                c = password.charAt(i);  \n                if (!Character.isLetterOrDigit(c)) {          \n                    return false;  \n                } else if (Character.isDigit(c)) {  \n                    count++;  \n                    if (count &lt; 2)   {     \n                        return false;  \n                    }     \n                }  \n            }  \n        }  \n        return true;  \n    }  \n}\n</code></pre>\n\n<p>When I run the program it only checks for the length of the password, I cannot figure out how to make sure it is checking for both letters and digits, and to have at least two digits in the password.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681314396,"post_id":75994144,"comment_id":134037352,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681358141,"creation_date":1681304651,"answer_id":75995806,"question_id":75994144,"body_markdown":"You need to use the `setOnKeyListener` event instead of the `addTextChangedListener` event.\r\n\r\nYou can do something like this:\r\n\r\n     final EditText edittext = (EditText) findViewById(R.id.edittext);\r\n     edittext.setOnKeyListener(new OnKeyListener() {\r\n      public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n          // If the event is a key-down event on the &quot;enter&quot; button\r\n          if ((event.getAction() == KeyEvent.ACTION_DOWN) &amp;&amp;\r\n              (keyCode == KeyEvent.KEYCODE_ENTER)) {\r\n              // Perform your action and get the text \r\n              String strInput = edittext.getText().toString();\r\n              if (strInput != null &amp;&amp; strInput.trim().equals(&quot;&quot;)) {\r\n                 Toast.makeText(this, &quot;Please enter a value&quot;, \r\n                 Toast.LENGTH_SHORT).show();\r\n                return;\r\n              }        \r\n             return true;\r\n          }\r\n         return false;\r\n      }\r\n    });\r\n\r\nReference doc: [Android View OnKeyListener][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View.OnKeyListener\r\n\r\n**UPDATE**\r\n\r\nOne more way is to add the `imeOptions` as a part of the `EditText` and use the following code to get the string entered by the user.\r\n\r\n    final EditText editText = (EditText) findViewById(R.id.edittext);\r\n    editText.setOnEditorActionListener(new \r\n    EditText.OnEditorActionListener() {\r\n       @Override\r\n        public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n        if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n          //do here your stuff here\r\n          return true;\r\n        }\r\n        return false;\r\n       } \r\n    });\r\n\r\nIn your XML file, add the following properties to `EditText`:\r\n\r\n    &lt;EditText\r\n      ...\r\n      android:inputType=&quot;text&quot;\r\n      android:imeOptions=&quot;actionDone&quot;/&gt;\r\n","title":"How to get string from EditText on clicking ok on android keyboard?","body":"<p>You need to use the <code>setOnKeyListener</code> event instead of the <code>addTextChangedListener</code> event.</p>\n<p>You can do something like this:</p>\n<pre><code> final EditText edittext = (EditText) findViewById(R.id.edittext);\n edittext.setOnKeyListener(new OnKeyListener() {\n  public boolean onKey(View v, int keyCode, KeyEvent event) {\n      // If the event is a key-down event on the &quot;enter&quot; button\n      if ((event.getAction() == KeyEvent.ACTION_DOWN) &amp;&amp;\n          (keyCode == KeyEvent.KEYCODE_ENTER)) {\n          // Perform your action and get the text \n          String strInput = edittext.getText().toString();\n          if (strInput != null &amp;&amp; strInput.trim().equals(&quot;&quot;)) {\n             Toast.makeText(this, &quot;Please enter a value&quot;, \n             Toast.LENGTH_SHORT).show();\n            return;\n          }        \n         return true;\n      }\n     return false;\n  }\n});\n</code></pre>\n<p>Reference doc: <a href=\"https://developer.android.com/reference/android/view/View.OnKeyListener\" rel=\"nofollow noreferrer\">Android View OnKeyListener</a></p>\n<p><strong>UPDATE</strong></p>\n<p>One more way is to add the <code>imeOptions</code> as a part of the <code>EditText</code> and use the following code to get the string entered by the user.</p>\n<pre><code>final EditText editText = (EditText) findViewById(R.id.edittext);\neditText.setOnEditorActionListener(new \nEditText.OnEditorActionListener() {\n   @Override\n    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n    if (actionId == EditorInfo.IME_ACTION_DONE) {\n      //do here your stuff here\n      return true;\n    }\n    return false;\n   } \n});\n</code></pre>\n<p>In your XML file, add the following properties to <code>EditText</code>:</p>\n<pre><code>&lt;EditText\n  ...\n  android:inputType=&quot;text&quot;\n  android:imeOptions=&quot;actionDone&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":28283692,"reputation":13,"user_id":21624958,"display_name":"Trottenheimer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75995806,"answer_count":1,"score":1,"last_activity_date":1681358141,"creation_date":1681293421,"question_id":75994144,"body_markdown":"How do i get string from EditText field after clicking on android virtual keyboard? \r\n\r\nI used addTextChangedListener, but it looks like i&#39;m getting text right after i type a symbol in the text field. I expected it to get full string, not everytime i type something","title":"How to get string from EditText on clicking ok on android keyboard?","body":"<p>How do i get string from EditText field after clicking on android virtual keyboard?</p>\n<p>I used addTextChangedListener, but it looks like i'm getting text right after i type a symbol in the text field. I expected it to get full string, not everytime i type something</p>\n"},{"tags":["java","spring-boot","spring-cloud","spring-cloud-sleuth"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1630491555,"creation_date":1630491555,"answer_id":69011908,"question_id":69011506,"body_markdown":"You need to configure Brave to perform flush on update - https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/html/project-features.html#features-baggage\r\n\r\n\r\n\r\n    @Bean\r\n    ScopeDecorator mdcScopeDecorator() {\r\n        return MDCScopeDecorator.newBuilder()\r\n                .clear()\r\n                .add(SingleCorrelationField.newBuilder(BaggageField.create(&quot;Correlation-Id&quot;))\r\n                        .flushOnUpdate()\r\n                        .build())\r\n                .build();\r\n    }\r\n\r\n","title":"Spring Sleuth - Correlation Id not logging","body":"<p>You need to configure Brave to perform flush on update - <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/html/project-features.html#features-baggage\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/html/project-features.html#features-baggage</a></p>\n<pre><code>@Bean\nScopeDecorator mdcScopeDecorator() {\n    return MDCScopeDecorator.newBuilder()\n            .clear()\n            .add(SingleCorrelationField.newBuilder(BaggageField.create(&quot;Correlation-Id&quot;))\n                    .flushOnUpdate()\n                    .build())\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":2651999,"reputation":7958,"user_id":3145373,"accept_rate":77,"display_name":"user3145373 ツ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69011908,"answer_count":1,"score":1,"last_activity_date":1681357910,"creation_date":1630489942,"question_id":69011506,"body_markdown":"Current flow:\r\n*SchedulerA -&gt; ServiceA -&gt; FeignOfB (Other ServiceB) -&gt; ControllerB*\r\n\r\n**log.xml**\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %d{yyyy-MM-dd HH:mm:ss,SS} [%thread] %-5level %logger{36} -\r\n                %msg\r\n                ${appName:-}, %X{Correlation-Id:-}, %X{traceId:-}, %X{spanId:-}%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n**application.yml**\r\n\r\n    spring:\r\n       sleuth:\r\n         baggage:\r\n           correlation-enabled: true\r\n           correlation-fields:\r\n             - Correlation-Id\r\n           remote-fields:\r\n             - Correlation-Id\r\n\r\n**Scheduler Code:**\r\n\r\n    public void scheduleFixedDelayTask() {\r\n        String cId = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n        BaggageField bField = BaggageField.getByName(&quot;Correlation-Id&quot;);\r\n        if (bField != null) {\r\n            bField.updateValue(tracer.currentSpan().context(), cId);\r\n        }\r\n        //MDC.put(&quot;Correlation-Id&quot;, cId);\r\n        log.info(&quot;scheduleFixedDelayTask, {}&quot;, new Date());\r\n        List&lt;Foo&gt; foos = this.feignService.getData(&quot;foo&quot;);\r\n        log.info(&quot;scheduleFixedDelayTask - completed&quot;, new Date());\r\n    }\r\n\r\nGenerating **UUID** and setting **BaggageField** value. **Correlation-Id** value prints in **ServiceB** controller but in scheduler log of serviceA from where request originate, it does not print **Correlation-Id**. It prints spanId and traceId in both of the services(self generated).\r\n\r\nIf I manually set value using **MDC**(the commented line) then it prints.\r\nIs this a right way to manually set the value ?","title":"Spring Sleuth - Correlation Id not logging","body":"<p>Current flow:\n<em>SchedulerA -&gt; ServiceA -&gt; FeignOfB (Other ServiceB) -&gt; ControllerB</em></p>\n<p><strong>log.xml</strong></p>\n<pre><code>&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n        &lt;Pattern&gt;\n            %d{yyyy-MM-dd HH:mm:ss,SS} [%thread] %-5level %logger{36} -\n            %msg\n            ${appName:-}, %X{Correlation-Id:-}, %X{traceId:-}, %X{spanId:-}%n\n        &lt;/Pattern&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>spring:\n   sleuth:\n     baggage:\n       correlation-enabled: true\n       correlation-fields:\n         - Correlation-Id\n       remote-fields:\n         - Correlation-Id\n</code></pre>\n<p><strong>Scheduler Code:</strong></p>\n<pre><code>public void scheduleFixedDelayTask() {\n    String cId = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\n    BaggageField bField = BaggageField.getByName(&quot;Correlation-Id&quot;);\n    if (bField != null) {\n        bField.updateValue(tracer.currentSpan().context(), cId);\n    }\n    //MDC.put(&quot;Correlation-Id&quot;, cId);\n    log.info(&quot;scheduleFixedDelayTask, {}&quot;, new Date());\n    List&lt;Foo&gt; foos = this.feignService.getData(&quot;foo&quot;);\n    log.info(&quot;scheduleFixedDelayTask - completed&quot;, new Date());\n}\n</code></pre>\n<p>Generating <strong>UUID</strong> and setting <strong>BaggageField</strong> value. <strong>Correlation-Id</strong> value prints in <strong>ServiceB</strong> controller but in scheduler log of serviceA from where request originate, it does not print <strong>Correlation-Id</strong>. It prints spanId and traceId in both of the services(self generated).</p>\n<p>If I manually set value using <strong>MDC</strong>(the commented line) then it prints.\nIs this a right way to manually set the value ?</p>\n"},{"tags":["java","eclipse","oracle","jar"],"answers":[{"tags":[],"owner":{"account_id":92026,"reputation":35050,"user_id":1977903,"accept_rate":96,"display_name":"bragboy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477395675,"creation_date":1278498633,"answer_id":3193893,"question_id":3193849,"body_markdown":"You will have to add the jar to your Classpath. You can do that in eclipse by right clicking on the Project --&gt; Build Path --&gt; Configure Build Path\r\n\r\nUnder Libraries tab, click Add Jars and give the Jar (oracle jdbc driver).\r\n\r\nOracle JDBC Driver download [here][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/otn/utilities_drivers/jdbc/10204/ojdbc14.jar","title":"How to add the ojdbc jar to my project and use it","body":"<p>You will have to add the jar to your Classpath. You can do that in eclipse by right clicking on the Project --> Build Path --> Configure Build Path</p>\n\n<p>Under Libraries tab, click Add Jars and give the Jar (oracle jdbc driver).</p>\n\n<p>Oracle JDBC Driver download <a href=\"http://download.oracle.com/otn/utilities_drivers/jdbc/10204/ojdbc14.jar\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278498932,"creation_date":1278498932,"answer_id":3193923,"question_id":3193849,"body_markdown":"In my Java projects, I create a `/lib` directory at the same level as `/src` and `/bin`. I throw any library jars in there and then right-click on the `.jar` file and do &quot;Build Path | Add to Build Path.&quot;","title":"How to add the ojdbc jar to my project and use it","body":"<p>In my Java projects, I create a <code>/lib</code> directory at the same level as <code>/src</code> and <code>/bin</code>. I throw any library jars in there and then right-click on the <code>.jar</code> file and do \"Build Path | Add to Build Path.\"</p>\n"},{"tags":[],"owner":{"account_id":126792,"reputation":479,"user_id":323530,"accept_rate":45,"display_name":"Elad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1278500595,"creation_date":1278500595,"answer_id":3194066,"question_id":3193849,"body_markdown":"Ok. finally The solution is to add the jar file into the Web-Inf/lib directory because I have a Dynamic web application.\r\nThank you all.","title":"How to add the ojdbc jar to my project and use it","body":"<p>Ok. finally The solution is to add the jar file into the Web-Inf/lib directory because I have a Dynamic web application.\nThank you all.</p>\n"},{"tags":[],"owner":{"account_id":9844640,"reputation":11,"user_id":7292611,"display_name":"Dayanand Gaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481655357,"creation_date":1481655357,"answer_id":41128548,"question_id":3193849,"body_markdown":"**To Add ojdbc14.jar file into the project**\r\nIn Eclipse under project folder-&gt;WEB-INF-&gt;lib then Right click lib folder-&gt; Build Path-&gt;Configure Build Path-&gt;Under Libraries-&gt;Click on Add External Jars-&gt;Computer-&gt;Local Disk (C:)-&gt;oraclexe-&gt;app-&gt;oracle-&gt;product-&gt;10.2.0-&gt;server-&gt;jdbc-&gt;lib-&gt;now select ojdbc14.jar\r\n\r\nDirectly the path is C:\\oraclexe\\app\\oracle\\product\\10.2.0\\server\\jdbc\\lib C:\\oraclexe\\app\\oracle\\product\\10.2.0\\server\\jdbc\\lib\\ojdbc14.jar","title":"How to add the ojdbc jar to my project and use it","body":"<p><strong>To Add ojdbc14.jar file into the project</strong>\nIn Eclipse under project folder->WEB-INF->lib then Right click lib folder-> Build Path->Configure Build Path->Under Libraries->Click on Add External Jars->Computer->Local Disk (C:)->oraclexe->app->oracle->product->10.2.0->server->jdbc->lib->now select ojdbc14.jar</p>\n\n<p>Directly the path is C:\\oraclexe\\app\\oracle\\product\\10.2.0\\server\\jdbc\\lib C:\\oraclexe\\app\\oracle\\product\\10.2.0\\server\\jdbc\\lib\\ojdbc14.jar</p>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482308908,"creation_date":1482308908,"answer_id":41258278,"question_id":3193849,"body_markdown":"Always use the latest JDBC driver.  \r\n\r\nRefer to this [link][1]  where all Java developer tools are described on how to choose the JDBC drivers. \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/database/application-development/jdbc/index-3093936.html","title":"How to add the ojdbc jar to my project and use it","body":"<p>Always use the latest JDBC driver.  </p>\n\n<p>Refer to this <a href=\"http://www.oracle.com/technetwork/database/application-development/jdbc/index-3093936.html\" rel=\"nofollow noreferrer\">link</a>  where all Java developer tools are described on how to choose the JDBC drivers. </p>\n"}],"owner":{"account_id":126792,"reputation":479,"user_id":323530,"accept_rate":45,"display_name":"Elad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52667,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1681357111,"creation_date":1278498126,"question_id":3193849,"body_markdown":"I need some help with the eclipse.\r\n\r\nI have a project which need to connect to oracle databases so i have the ojdbc jar file and a simple project.\r\n\r\n\r\n    try {\r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\t\tConnection conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@&quot;+this.host+&quot;:&quot;+this.port+&quot;:&quot;+this.db,this.user,this.pass);\r\n\t\t\tStatement stmt = conn.createStatement();\r\n\t\t\tResultSet rset = stmt.executeQuery(query);\r\n\t\t\t\r\n\t\t\twhile (rset.next())\r\n\t        {\r\n\t\t\t\tretStr += rset.getString(1) + &#39;,&#39;;\r\n\t        }\r\n\t\t\tstmt.close();\r\n\t\t\tconn.close();\r\n\t\t}\r\n\r\nand I got an exception that the `oracle.jdbc.driver.OracleDriver` is not exists.\r\nhow do I add the jar to my project and use it?\r\n\r\nI did this step and I still get the exception.\r\nYou will have to add the jar to your Classpath. You can do that in eclipse by right clicking on the Project --&gt; Build Path --&gt; Configure Build Path","title":"How to add the ojdbc jar to my project and use it","body":"<p>I need some help with the eclipse.</p>\n\n<p>I have a project which need to connect to oracle databases so i have the ojdbc jar file and a simple project.</p>\n\n<pre><code>try {\n        Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n        Connection conn = DriverManager.getConnection(\"jdbc:oracle:thin:@\"+this.host+\":\"+this.port+\":\"+this.db,this.user,this.pass);\n        Statement stmt = conn.createStatement();\n        ResultSet rset = stmt.executeQuery(query);\n\n        while (rset.next())\n        {\n            retStr += rset.getString(1) + ',';\n        }\n        stmt.close();\n        conn.close();\n    }\n</code></pre>\n\n<p>and I got an exception that the <code>oracle.jdbc.driver.OracleDriver</code> is not exists.\nhow do I add the jar to my project and use it?</p>\n\n<p>I did this step and I still get the exception.\nYou will have to add the jar to your Classpath. You can do that in eclipse by right clicking on the Project --> Build Path --> Configure Build Path</p>\n"},{"tags":["java","r","excel"],"comments":[{"owner":{"account_id":7273794,"reputation":1924,"user_id":5545882,"accept_rate":50,"display_name":"Zac"},"score":0,"creation_date":1501511515,"post_id":45418555,"comment_id":77798081,"body_markdown":"I&#39;ve never used R so not sure how you save these reports. But if R anything like VBA (or if you are creating an excel instance), you have an option to add password to a workbook when you save it. Is that not an option?","body":"I&#39;ve never used R so not sure how you save these reports. But if R anything like VBA (or if you are creating an excel instance), you have an option to add password to a workbook when you save it. Is that not an option?"},{"owner":{"account_id":7637260,"reputation":1013,"user_id":5790454,"accept_rate":50,"display_name":"s.brunel"},"score":4,"creation_date":1501511701,"post_id":45418555,"comment_id":77798221,"body_markdown":"the solution is here https://stackoverflow.com/questions/37991389/r-save-a-excel-workbook-with-password-protection","body":"the solution is here <a href=\"https://stackoverflow.com/questions/37991389/r-save-a-excel-workbook-with-password-protection\" title=\"r save a excel workbook with password protection\">stackoverflow.com/questions/37991389/&hellip;</a>"},{"owner":{"account_id":7500916,"reputation":1,"user_id":5699323,"display_name":"Michael Ricci"},"score":0,"creation_date":1501521649,"post_id":45418555,"comment_id":77804715,"body_markdown":"That solution only works with the xlsx package and I have a lengthy script written with the openxlsx package. I was aware of that solution and I am searching for a different one","body":"That solution only works with the xlsx package and I have a lengthy script written with the openxlsx package. I was aware of that solution and I am searching for a different one"}],"answers":[{"tags":[],"owner":{"account_id":12727747,"reputation":1955,"user_id":9245623,"display_name":"Emmanuel Hamel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681356688,"creation_date":1681356688,"answer_id":76001400,"question_id":45418555,"body_markdown":"You can use the following approach to add a password to an Excel file. This approach only works on Windows.\r\n\r\n```\r\nlibrary(RDCOMClient)\r\n\r\npath_Excel_File1 &lt;- &quot;D:\\\\file_No_Password.xlsx&quot;\r\npath_Excel_File2 &lt;- &quot;D:\\\\file_With_Password.xlsx&quot;\r\n\r\nxlApp &lt;- COMCreate(&quot;Excel.Application&quot;)\r\nxlApp[[&quot;Visible&quot;]] &lt;- TRUE\r\nxlWbk &lt;- xlApp$Workbooks()$Open(path_Excel_File1)\r\n\r\nxlWbk$SaveAs(path_Excel_File2, password = &quot;hi 123&quot;)\r\nxlWbk$Close()\r\n```","title":"Save password Protected Excel File with R","body":"<p>You can use the following approach to add a password to an Excel file. This approach only works on Windows.</p>\n<pre><code>library(RDCOMClient)\n\npath_Excel_File1 &lt;- &quot;D:\\\\file_No_Password.xlsx&quot;\npath_Excel_File2 &lt;- &quot;D:\\\\file_With_Password.xlsx&quot;\n\nxlApp &lt;- COMCreate(&quot;Excel.Application&quot;)\nxlApp[[&quot;Visible&quot;]] &lt;- TRUE\nxlWbk &lt;- xlApp$Workbooks()$Open(path_Excel_File1)\n\nxlWbk$SaveAs(path_Excel_File2, password = &quot;hi 123&quot;)\nxlWbk$Close()\n</code></pre>\n"}],"owner":{"account_id":7500916,"reputation":1,"user_id":5699323,"display_name":"Michael Ricci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681356688,"creation_date":1501511095,"question_id":45418555,"body_markdown":"Is there a way to password protect a a group of excel files.\r\n\r\nI have written an R script that generates about 50 excel reports. They contain sensitive information and need to be password protected before I can them to customers.\r\n\r\nHow can I automate the password protection?\r\nan R solution would be preferable but I will try anything.","title":"Save password Protected Excel File with R","body":"<p>Is there a way to password protect a a group of excel files.</p>\n\n<p>I have written an R script that generates about 50 excel reports. They contain sensitive information and need to be password protected before I can them to customers.</p>\n\n<p>How can I automate the password protection?\nan R solution would be preferable but I will try anything.</p>\n"},{"tags":["java","spring-boot","smtp","spring-cloud","hystrix"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680534297,"post_id":75918788,"comment_id":133910656,"body_markdown":"Usually your mail server should handle this for you. It should query the DNS for the [mx records](https://en.wikipedia.org/wiki/MX_record) for the given recipient domain, and send according to their priority. It should retry as needed, or eventually bounce emails it cannot deliver. You can probably implement this on your own, but you may be reinventing the wheel.","body":"Usually your mail server should handle this for you. It should query the DNS for the <a href=\"https://en.wikipedia.org/wiki/MX_record\" rel=\"nofollow noreferrer\">mx records</a> for the given recipient domain, and send according to their priority. It should retry as needed, or eventually bounce emails it cannot deliver. You can probably implement this on your own, but you may be reinventing the wheel."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1680536905,"post_id":75918788,"comment_id":133911361,"body_markdown":"@Robert agree with you in general but what if my main smtp server is down ?","body":"@Robert agree with you in general but what if my main smtp server is down ?"},{"owner":{"account_id":26544556,"reputation":190,"user_id":20174801,"display_name":"Synopsis"},"score":1,"creation_date":1680800658,"post_id":75918788,"comment_id":133962734,"body_markdown":"if you have multiple smtp hosts, surely your network guys can supply you with some loadbalancer in failover configuration providing serveral hosts to allways be reachable via the same ip.","body":"if you have multiple smtp hosts, surely your network guys can supply you with some loadbalancer in failover configuration providing serveral hosts to allways be reachable via the same ip."}],"answers":[{"tags":[],"owner":{"account_id":14128915,"reputation":143,"user_id":10207369,"display_name":"&#220;same Tekinkaya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680816295,"creation_date":1680816295,"answer_id":75953908,"question_id":75918788,"body_markdown":"It would better to handle multiple SMTP hosts managed by a load balancer however you can manage in your application code as well.\r\n```\r\npublic class EmailService {\r\n    private static final int MAX_RETRIES = 3;\r\n    private final List&lt;String&gt; smtpServers;\r\n\r\n    public EmailService(List&lt;String&gt; smtpServers) {\r\n        this.smtpServers = smtpServers;\r\n    }\r\n\r\n    @Override\r\n    public SendEmailResponse sendEmail(DtoEmailMessage dtoEmailMessage) {\r\n        for (String smtpServer : smtpServers) {\r\n            try {\r\n                // create the email message\r\n                MimeMessage mimeMessage = mimeMessageCreator.createMessage(dtoEmailMessage);\r\n                JavaMailSenderImpl mailSender = new JavaMailSenderImpl()\r\n                mailSender.setHostName(smtpServer);\r\n                mailSender.setPort(587);\r\n                mailSender.setUsername(&quot;myusername&quot;);\r\n                mailSender.setPassword(&quot;mypassword&quot;);\r\n                // send the email message with automatic retry\r\n                RetryExecutor executor = new RetryExecutor()\r\n                    .withMaxRetries(MAX_RETRIES)\r\n                    .withWaitStrategy(WaitStrategies.fixedWait(1, TimeUnit.SECONDS));\r\n                executor.retry(() -&gt; mailSender.send(mimeMessage));\r\n\r\n                return SendEmailResponse.ok(channelEmailMessage.getEmailNotification().getTo(), mimeMessage.getMessageID());\r\n            } catch (EmailException e) {\r\n                // log the error and try the next SMTP server\r\n            }\r\n        }\r\n        // all SMTP servers failed\r\n        throw new RuntimeException(&quot;Failed to send email message to any SMTP server&quot;);\r\n    }\r\n}\r\n\r\n```","title":"How to support list of standby smtp servers?","body":"<p>It would better to handle multiple SMTP hosts managed by a load balancer however you can manage in your application code as well.</p>\n<pre><code>public class EmailService {\n    private static final int MAX_RETRIES = 3;\n    private final List&lt;String&gt; smtpServers;\n\n    public EmailService(List&lt;String&gt; smtpServers) {\n        this.smtpServers = smtpServers;\n    }\n\n    @Override\n    public SendEmailResponse sendEmail(DtoEmailMessage dtoEmailMessage) {\n        for (String smtpServer : smtpServers) {\n            try {\n                // create the email message\n                MimeMessage mimeMessage = mimeMessageCreator.createMessage(dtoEmailMessage);\n                JavaMailSenderImpl mailSender = new JavaMailSenderImpl()\n                mailSender.setHostName(smtpServer);\n                mailSender.setPort(587);\n                mailSender.setUsername(&quot;myusername&quot;);\n                mailSender.setPassword(&quot;mypassword&quot;);\n                // send the email message with automatic retry\n                RetryExecutor executor = new RetryExecutor()\n                    .withMaxRetries(MAX_RETRIES)\n                    .withWaitStrategy(WaitStrategies.fixedWait(1, TimeUnit.SECONDS));\n                executor.retry(() -&gt; mailSender.send(mimeMessage));\n\n                return SendEmailResponse.ok(channelEmailMessage.getEmailNotification().getTo(), mimeMessage.getMessageID());\n            } catch (EmailException e) {\n                // log the error and try the next SMTP server\n            }\n        }\n        // all SMTP servers failed\n        throw new RuntimeException(&quot;Failed to send email message to any SMTP server&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6036765,"reputation":49,"user_id":7105445,"display_name":"Alexander  Kutsy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681168148,"creation_date":1681168148,"answer_id":75981356,"question_id":75918788,"body_markdown":"Better to use SMTP Connection Pool with all pool features (https://github.com/nithril/smtp-connection-pool).","title":"How to support list of standby smtp servers?","body":"<p>Better to use SMTP Connection Pool with all pool features (<a href=\"https://github.com/nithril/smtp-connection-pool\" rel=\"nofollow noreferrer\">https://github.com/nithril/smtp-connection-pool</a>).</p>\n"},{"tags":[],"owner":{"account_id":6531900,"reputation":58,"user_id":5052801,"display_name":"Zakariae BEN ALLAL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681356422,"creation_date":1681356422,"answer_id":76001382,"question_id":75918788,"body_markdown":"For me you have to implement circuit breaker design pattern. \r\n\r\nI recommand&#233; resilience4j :https://resilience4j.readme.io/docs.\r\n\r\nHystrix it no more supported, it&#39;s deprecated.","title":"How to support list of standby smtp servers?","body":"<p>For me you have to implement circuit breaker design pattern.</p>\n<p>I recommandé resilience4j :<a href=\"https://resilience4j.readme.io/docs\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs</a>.</p>\n<p>Hystrix it no more supported, it's deprecated.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1681356422,"creation_date":1680519969,"question_id":75918788,"body_markdown":"Currently our code for sending email messages looks like this:\r\n\r\n    @Override\r\n    public SendEmailResponse sendEmail(DtoEmailMessage dtoEmailMessage) {\r\n        try {\r\n            MimeMessage mimeMessage = mimeMessageCreator.createMessage(dtoEmailMessage);\r\n            javaMailSender.send(mimeMessage);\r\n            return SendEmailResponse.ok(channelEmailMessage.getEmailNotification().getTo(), mimeMessage.getMessageID());\r\n        } catch (UnsupportedEncodingException | MessagingException | RuntimeException e) {\r\n           ...\r\n        }\r\n    }\r\n\r\n**What has to be improved ?**\r\n\r\nI want to support a list of reserved smtp servers. So in case if **server_1** is failed for 2 or 3 times I wan to try with **server_2**. In case if **server_2** is failed - **server_3** is used etc.\r\n\r\nI know about `spring-retry` and `spring-hystrix` but looks like they are not applicable for current task.\r\n\r\nIs there any production ready solution for my task or it is better implement it on my own?","title":"How to support list of standby smtp servers?","body":"<p>Currently our code for sending email messages looks like this:</p>\n<pre><code>@Override\npublic SendEmailResponse sendEmail(DtoEmailMessage dtoEmailMessage) {\n    try {\n        MimeMessage mimeMessage = mimeMessageCreator.createMessage(dtoEmailMessage);\n        javaMailSender.send(mimeMessage);\n        return SendEmailResponse.ok(channelEmailMessage.getEmailNotification().getTo(), mimeMessage.getMessageID());\n    } catch (UnsupportedEncodingException | MessagingException | RuntimeException e) {\n       ...\n    }\n}\n</code></pre>\n<p><strong>What has to be improved ?</strong></p>\n<p>I want to support a list of reserved smtp servers. So in case if <strong>server_1</strong> is failed for 2 or 3 times I wan to try with <strong>server_2</strong>. In case if <strong>server_2</strong> is failed - <strong>server_3</strong> is used etc.</p>\n<p>I know about <code>spring-retry</code> and <code>spring-hystrix</code> but looks like they are not applicable for current task.</p>\n<p>Is there any production ready solution for my task or it is better implement it on my own?</p>\n"},{"tags":["java","maven","openai-api"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679070380,"post_id":75769904,"comment_id":133660747,"body_markdown":"The latest version of com.theokanning.openai-gpt3-java:client is [0.11.1](https://central.sonatype.com/artifact/com.theokanning.openai-gpt3-java/client/0.11.1), not 1.0.0. There is no ai.openai:openai-api (at least, not on Maven Central), why do you think such an artifact exists?","body":"The latest version of com.theokanning.openai-gpt3-java:client is <a href=\"https://central.sonatype.com/artifact/com.theokanning.openai-gpt3-java/client/0.11.1\" rel=\"nofollow noreferrer\">0.11.1</a>, not 1.0.0. There is no ai.openai:openai-api (at least, not on Maven Central), why do you think such an artifact exists?"},{"owner":{"account_id":28044094,"reputation":11,"user_id":21421174,"display_name":"gitdogee"},"score":0,"creation_date":1679071143,"post_id":75769904,"comment_id":133660974,"body_markdown":"Yes, sorry. that still doesn&#39;t work with 0.11.1 version","body":"Yes, sorry. that still doesn&#39;t work with 0.11.1 version"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1679085854,"post_id":75769904,"comment_id":133664345,"body_markdown":"@gitdogee Why do you think it should work? Where did you get the name of the artifact from?","body":"@gitdogee Why do you think it should work? Where did you get the name of the artifact from?"},{"owner":{"account_id":28044094,"reputation":11,"user_id":21421174,"display_name":"gitdogee"},"score":0,"creation_date":1679157206,"post_id":75769904,"comment_id":133672890,"body_markdown":"@J Fabian Meier Chat GPT","body":"@J Fabian Meier Chat GPT"}],"owner":{"account_id":28044094,"reputation":11,"user_id":21421174,"display_name":"gitdogee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681356239,"creation_date":1679069873,"question_id":75769904,"body_markdown":"I&#39;m trying to integrate OpenAI into my Telegram Bot. but I can&#39;t download the API with Maven\r\n\r\nI tried to insert the Maven section into my pom.xml file, but I get an error\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.theokanning.openai-gpt3-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;       \r\n&lt;/dependency&gt;\r\n```\r\n\r\nand I tried this\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;ai.openai&lt;/groupId&gt;\r\n  &lt;artifactId&gt;openai-api&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nERROR:\r\nCould not find artifact ai.openai:openai-api:pom:1.0.0 in central (https://repo.maven.apache.org/maven2)\r\n\r\nmaybe this link could help: https://github.com/TheoKanning/openai-java","title":"How can I use OpenAI API in my Maven Project","body":"<p>I'm trying to integrate OpenAI into my Telegram Bot. but I can't download the API with Maven</p>\n<p>I tried to insert the Maven section into my pom.xml file, but I get an error</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.theokanning.openai-gpt3-java&lt;/groupId&gt;\n    &lt;artifactId&gt;client&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;       \n&lt;/dependency&gt;\n</code></pre>\n<p>and I tried this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;ai.openai&lt;/groupId&gt;\n  &lt;artifactId&gt;openai-api&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>ERROR:\nCould not find artifact ai.openai:openai-api:pom:1.0.0 in central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n<p>maybe this link could help: <a href=\"https://github.com/TheoKanning/openai-java\" rel=\"nofollow noreferrer\">https://github.com/TheoKanning/openai-java</a></p>\n"},{"tags":["java","mysql","spring-boot","debezium"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681353424,"post_id":76001115,"comment_id":134043847,"body_markdown":"If you &quot;USE&quot; you &quot;use database-name&quot; then you create tables in the database &quot;with&quot; columns &quot;with&quot; assigned &quot;data types&quot; for the data that will be placed in the column row. See your db manual and Google some tutorials for your db type.","body":"If you &quot;USE&quot; you &quot;use database-name&quot; then you create tables in the database &quot;with&quot; columns &quot;with&quot; assigned &quot;data types&quot; for the data that will be placed in the column row. See your db manual and Google some tutorials for your db type."},{"owner":{"account_id":5637588,"reputation":13,"user_id":4462610,"display_name":"arsenics"},"score":0,"creation_date":1681354140,"post_id":76001115,"comment_id":134043926,"body_markdown":"I guess I can use a clearer explanation","body":"I guess I can use a clearer explanation"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681354217,"post_id":76001115,"comment_id":134043937,"body_markdown":"Yup, it&#39;s called a tutorial and manual for your database and version!","body":"Yup, it&#39;s called a tutorial and manual for your database and version!"},{"owner":{"account_id":5637588,"reputation":13,"user_id":4462610,"display_name":"arsenics"},"score":0,"creation_date":1681354355,"post_id":76001115,"comment_id":134043945,"body_markdown":"Very unhelpful. But thanks!","body":"Very unhelpful. But thanks!"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681356565,"post_id":76001115,"comment_id":134044122,"body_markdown":"This tutorial site is good for beginners.  https://www.w3schools.com/mysql/mysql_create_db.asp","body":"This tutorial site is good for beginners.  <a href=\"https://www.w3schools.com/mysql/mysql_create_db.asp\" rel=\"nofollow noreferrer\">w3schools.com/mysql/mysql_create_db.asp</a>"},{"owner":{"account_id":5637588,"reputation":13,"user_id":4462610,"display_name":"arsenics"},"score":0,"creation_date":1681357592,"post_id":76001115,"comment_id":134044216,"body_markdown":"Well, I don&#39;t have any tutorial suggestions for you on how read and understand a question","body":"Well, I don&#39;t have any tutorial suggestions for you on how read and understand a question"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681357809,"post_id":76001115,"comment_id":134044238,"body_markdown":"You got a point there. It is better now to read if not exists , if exists. AFAIK any JDBC connection must have a dbname in it&#39;s url.","body":"You got a point there. It is better now to read if not exists , if exists. AFAIK any JDBC connection must have a dbname in it&#39;s url."}],"owner":{"account_id":5637588,"reputation":13,"user_id":4462610,"display_name":"arsenics"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681355229,"creation_date":1681351869,"question_id":76001115,"body_markdown":"I created a database replicator (MySQL) application (Spring boot) using Debezium. Debezium listens to any SQL running in the source database by reading binlogs. As the application receives all the DDLs and DMLs from the debezium connector, it executes them on the target database. MySQL doesn&#39;t store DDLs in the binlog in their original format. They are converted from below SQL\r\n```sql\r\nCREATE TABLE A.B;\r\ninto\r\nUSE A;\r\nCREATE TABLE B;\r\n```\r\ni.e. it converts it into 2 statements. But when I run these statements separately on the target database:\r\n```\r\njdbcTemplate.execute(&quot;USE A&quot;);\r\njdbcTemplate.execute(&quot;CREATE TABLE B&quot;);\r\n```\r\nit gives me\r\n```none\r\nSQL state [3D000]; error code [1046]; No database selected;\r\nnested exception is java.sql.SQLException: No database selected\r\n```\r\nNote: I didn&#39;t want to include the schema name in my JDBC [URL = `jdbc:mysql://localhost:3308`] for the target database as I can receive drop database commands too.\r\n\r\nHow can I possibly solve this?\r\n\r\nEdit: I would want to avoid modifying the DDL to include a database qualifier.\r\n","title":"&quot;Error code [1046]; No database selected;&quot; while executing DDL using jdbcTemplate from Spring boot app","body":"<p>I created a database replicator (MySQL) application (Spring boot) using Debezium. Debezium listens to any SQL running in the source database by reading binlogs. As the application receives all the DDLs and DMLs from the debezium connector, it executes them on the target database. MySQL doesn't store DDLs in the binlog in their original format. They are converted from below SQL</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE A.B;\ninto\nUSE A;\nCREATE TABLE B;\n</code></pre>\n<p>i.e. it converts it into 2 statements. But when I run these statements separately on the target database:</p>\n<pre><code>jdbcTemplate.execute(&quot;USE A&quot;);\njdbcTemplate.execute(&quot;CREATE TABLE B&quot;);\n</code></pre>\n<p>it gives me</p>\n<pre class=\"lang-none prettyprint-override\"><code>SQL state [3D000]; error code [1046]; No database selected;\nnested exception is java.sql.SQLException: No database selected\n</code></pre>\n<p>Note: I didn't want to include the schema name in my JDBC [URL = <code>jdbc:mysql://localhost:3308</code>] for the target database as I can receive drop database commands too.</p>\n<p>How can I possibly solve this?</p>\n<p>Edit: I would want to avoid modifying the DDL to include a database qualifier.</p>\n"},{"tags":["java","logback","google-cloud-run","google-cloud-logging","logback-classic"],"comments":[{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1681365690,"post_id":76001247,"comment_id":134045144,"body_markdown":"Have you deployed your app on Google Cloud Run?","body":"Have you deployed your app on Google Cloud Run?"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1681380041,"post_id":76001247,"comment_id":134048225,"body_markdown":"You rarely need a service account JSON file. Most of the time it works without (thanks to ADC mechanism). Have a try without that tag, it should magically work out of the box!","body":"You rarely need a service account JSON file. Most of the time it works without (thanks to ADC mechanism). Have a try without that tag, it should magically work out of the box!"},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1681384872,"post_id":76001247,"comment_id":134049320,"body_markdown":"Yeah, cloud-run crashes with SEGV at startup when this appender is active.  Currently trying to reproduce the crash locally which led to this.  (Crash may or may not be related to having credentials but it&#39;s definitely the appender.)","body":"Yeah, cloud-run crashes with SEGV at startup when this appender is active.  Currently trying to reproduce the crash locally which led to this.  (Crash may or may not be related to having credentials but it&#39;s definitely the appender.)"},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1681440686,"post_id":76001247,"comment_id":134060233,"body_markdown":"The SEGV was due to an [incompatibility with Alpine Linux](https://github.com/googleapis/java-logging-logback/issues/1055) and not related to the credentials in any way.  Logging works without them from Cloud-Run.  However, it would still be useful to know, for testing reasons, if it is possible to load them from a Java resource.","body":"The SEGV was due to an <a href=\"https://github.com/googleapis/java-logging-logback/issues/1055\" rel=\"nofollow noreferrer\">incompatibility with Alpine Linux</a> and not related to the credentials in any way.  Logging works without them from Cloud-Run.  However, it would still be useful to know, for testing reasons, if it is possible to load them from a Java resource."}],"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681354052,"creation_date":1681354052,"question_id":76001247,"body_markdown":"I have a `logback.xml` configuration with an appender like this:\r\n\r\n```\r\n&lt;appender name=&quot;cloud&quot; class=&quot;com.google.cloud.logging.logback.LoggingAppender&quot;&gt;\r\n    &lt;projectId&gt;myproject&lt;/projectId&gt;\r\n    &lt;credentialsFile&gt;src/jvmMain/resources/secrets/logging-access.json&lt;/credentialsFile&gt;\r\n    &lt;log&gt;projects/myproject/logs/backend&lt;/log&gt;\r\n    &lt;flushLevel&gt;WARN&lt;/flushLevel&gt;\r\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n        &lt;level&gt;INFO&lt;/level&gt;\r\n    &lt;/filter&gt;\r\n&lt;/appender&gt;\r\n```\r\n\r\nThis works great when I&#39;m running via the IDE which can find the `credentialsFile` at its original location on the filesystem.\r\n\r\nHowever, once I build the app, the resources are compiled in to the jars somewhere instead of being raw files.  (At least, I can&#39;t find the raw files anywhere.)\r\n\r\n_How can I tell `logback.xml` to fetch the credentials from the compiled resources?_\r\n","title":"How To Provide Credentials To Google&#39;s LoggingAppender via logback.xml?","body":"<p>I have a <code>logback.xml</code> configuration with an appender like this:</p>\n<pre><code>&lt;appender name=&quot;cloud&quot; class=&quot;com.google.cloud.logging.logback.LoggingAppender&quot;&gt;\n    &lt;projectId&gt;myproject&lt;/projectId&gt;\n    &lt;credentialsFile&gt;src/jvmMain/resources/secrets/logging-access.json&lt;/credentialsFile&gt;\n    &lt;log&gt;projects/myproject/logs/backend&lt;/log&gt;\n    &lt;flushLevel&gt;WARN&lt;/flushLevel&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>This works great when I'm running via the IDE which can find the <code>credentialsFile</code> at its original location on the filesystem.</p>\n<p>However, once I build the app, the resources are compiled in to the jars somewhere instead of being raw files.  (At least, I can't find the raw files anywhere.)</p>\n<p><em>How can I tell <code>logback.xml</code> to fetch the credentials from the compiled resources?</em></p>\n"},{"tags":["java","internationalization","resourcebundle"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681353343,"creation_date":1681353343,"answer_id":76001207,"question_id":76001111,"body_markdown":"Using resource classes:\r\n\r\n - Default: `src/main/java/my/app/MyResources.java`\r\n   - `class MyResources extends ResourceBundle`\r\n - English: `src/main/java/my/app/MyResources_en.java`\r\n   - `class MyResources_en extends MyResources`\r\n - French: `src/main/java/my/app/MyResources_fr.java`\r\n   - `class MyResources_fr extends MyResources`\r\n - German: `src/main/java/my/app/MyResources_de.java`\r\n   - `class MyResources_de extends MyResources`\r\n\r\n\r\nUsing property files:\r\n\r\n - Default: `src/main/resources/my/app/MyResources.properties`\r\n - English: `src/main/resources/my/app/MyResources_en.properties`\r\n - French: `src/main/resources/my/app/MyResources_fr.properties`\r\n - German: `src/main/resources/my/app/MyResources_de.properties`\r\n\r\nAnd then reference it with the fully qualified resource name in your code `ResourceBundle.getBundle(&quot;my.app.MyResources&quot;);`. The default Locale will be used.","title":"What is the syntax for accessing internationalization resource bundles inside a package in Java?","body":"<p>Using resource classes:</p>\n<ul>\n<li>Default: <code>src/main/java/my/app/MyResources.java</code>\n<ul>\n<li><code>class MyResources extends ResourceBundle</code></li>\n</ul>\n</li>\n<li>English: <code>src/main/java/my/app/MyResources_en.java</code>\n<ul>\n<li><code>class MyResources_en extends MyResources</code></li>\n</ul>\n</li>\n<li>French: <code>src/main/java/my/app/MyResources_fr.java</code>\n<ul>\n<li><code>class MyResources_fr extends MyResources</code></li>\n</ul>\n</li>\n<li>German: <code>src/main/java/my/app/MyResources_de.java</code>\n<ul>\n<li><code>class MyResources_de extends MyResources</code></li>\n</ul>\n</li>\n</ul>\n<p>Using property files:</p>\n<ul>\n<li>Default: <code>src/main/resources/my/app/MyResources.properties</code></li>\n<li>English: <code>src/main/resources/my/app/MyResources_en.properties</code></li>\n<li>French: <code>src/main/resources/my/app/MyResources_fr.properties</code></li>\n<li>German: <code>src/main/resources/my/app/MyResources_de.properties</code></li>\n</ul>\n<p>And then reference it with the fully qualified resource name in your code <code>ResourceBundle.getBundle(&quot;my.app.MyResources&quot;);</code>. The default Locale will be used.</p>\n"}],"owner":{"account_id":21429973,"reputation":21,"user_id":15786601,"display_name":"Daniel McEnnis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76001207,"answer_count":1,"score":-1,"last_activity_date":1681353343,"creation_date":1681351810,"question_id":76001111,"body_markdown":"I&#39;m looking for help on internationalization of a Java app in semeru-18 SDK in IntelliJ 2023.1\r\n\r\nFollowing tutorials and others (only utilizing the default package for all internationalizations), I&#39;ve added a resource bundle for Java in my favorite IDE and attempted to load it for internationalized strings.\r\n\r\n```\r\nstatic ResourceBundle messages = ResourceBundle.getBundle(&quot;&lt;Program&gt;Strings&quot;, Locale.getDefault());\r\n```\r\n\r\n\r\n`java.util.MissingResourceException: Can&#39;t find resource for bundle java.util.PropertyResourceBundle` Exception\r\n\r\n\r\n\r\nThe output directory has the app launching with the bundle at the root of the class directory, but the IDE uses a &#39;resources&#39; tag preset in some, but not all examples. Also an error.\r\n\r\nShifting back to repeating the demo, I move the Java file to the root directory.\r\n\r\n```\r\nResourceBundle messages = ResourceBundle.getBundle(&quot;&lt;Program&gt;Strings&quot;, Locale.getDefault());\r\nSystem.out.println(&quot;ProgramName&quot;);\r\n```\r\n\r\nThe output duplicates the demo. Creating parallel resource files in the resources directory mirroring my package directory structure for every package I now get the error\r\n\r\n```\r\njava.util.MissingResourceException: Can&#39;t find bundle for base name ProgramStrings, locale en_US\r\n```\r\nthough the resource is present, confirmed checking the target directory manually with a file editor.\r\n\r\nI have multiple packages types with only a few per item and want the convenience of a global translatable file and using packages are essential. Assuming the problem is the resource path is relative to the current package, what is the syntax to correct the difference in accessing a resource bundle between my relative package location/resource file location and the default package tutorial?\r\n\r\nThe same error occurs when placing the resource in the source directory, but the resource files are not copied across to the target folder and have to be inserted manually in that case.","title":"What is the syntax for accessing internationalization resource bundles inside a package in Java?","body":"<p>I'm looking for help on internationalization of a Java app in semeru-18 SDK in IntelliJ 2023.1</p>\n<p>Following tutorials and others (only utilizing the default package for all internationalizations), I've added a resource bundle for Java in my favorite IDE and attempted to load it for internationalized strings.</p>\n<pre><code>static ResourceBundle messages = ResourceBundle.getBundle(&quot;&lt;Program&gt;Strings&quot;, Locale.getDefault());\n</code></pre>\n<p><code>java.util.MissingResourceException: Can't find resource for bundle java.util.PropertyResourceBundle</code> Exception</p>\n<p>The output directory has the app launching with the bundle at the root of the class directory, but the IDE uses a 'resources' tag preset in some, but not all examples. Also an error.</p>\n<p>Shifting back to repeating the demo, I move the Java file to the root directory.</p>\n<pre><code>ResourceBundle messages = ResourceBundle.getBundle(&quot;&lt;Program&gt;Strings&quot;, Locale.getDefault());\nSystem.out.println(&quot;ProgramName&quot;);\n</code></pre>\n<p>The output duplicates the demo. Creating parallel resource files in the resources directory mirroring my package directory structure for every package I now get the error</p>\n<pre><code>java.util.MissingResourceException: Can't find bundle for base name ProgramStrings, locale en_US\n</code></pre>\n<p>though the resource is present, confirmed checking the target directory manually with a file editor.</p>\n<p>I have multiple packages types with only a few per item and want the convenience of a global translatable file and using packages are essential. Assuming the problem is the resource path is relative to the current package, what is the syntax to correct the difference in accessing a resource bundle between my relative package location/resource file location and the default package tutorial?</p>\n<p>The same error occurs when placing the resource in the source directory, but the resource files are not copied across to the target folder and have to be inserted manually in that case.</p>\n"},{"tags":["java","ant","jnetpcap"],"comments":[{"owner":{"account_id":12663088,"reputation":601,"user_id":9203315,"display_name":"Roshan Khadka"},"score":0,"creation_date":1681326589,"post_id":75998963,"comment_id":134040136,"body_markdown":"I am not a subject matter expert here but try these steps and see if it helps:\nThe following line seems to be incorrect and should be removed:\n&lt;pathelement path=&quot;${lib}/*.jar&quot; /&gt;\n\nCorrect way to do it as you’ve already done it on the upper lines:\n&lt;fileset dir=&quot;${lib}&quot;&gt;\n  &lt;include name=&quot;*.jar&quot; /&gt;\n  &lt;include name=&quot;*.zip&quot; /&gt;\n&lt;/fileset&gt;\n\n1. Download the jNetPcap JAR file and place it in your project&#39;s &quot;lib&quot; directory.\n2. Check your build.xml file to ensure it&#39;s including JAR files from the &quot;lib&quot; directory in the classpath.","body":"I am not a subject matter expert here but try these steps and see if it helps: The following line seems to be incorrect and should be removed: &lt;pathelement path=&quot;${lib}/*.jar&quot; /&gt;  Correct way to do it as you’ve already done it on the upper lines: &lt;fileset dir=&quot;${lib}&quot;&gt;   &lt;include name=&quot;<i>.jar&quot; /&gt;   &lt;include name=&quot;</i>.zip&quot; /&gt; &lt;/fileset&gt;  1. Download the jNetPcap JAR file and place it in your project&#39;s &quot;lib&quot; directory. 2. Check your build.xml file to ensure it&#39;s including JAR files from the &quot;lib&quot; directory in the classpath."},{"owner":{"account_id":19644639,"reputation":73,"user_id":14379956,"display_name":"SanjiSqurt"},"score":0,"creation_date":1681327355,"post_id":75998963,"comment_id":134040295,"body_markdown":"I removed the line as you say, I have already the jar in my lib directory as I show in the architecture of my project. I think it is including it here : &lt;classpath&gt;\n        &lt;fileset dir=&quot;${lib}&quot;&gt;\n          &lt;include name=&quot;*.jar&quot; /&gt;\n          &lt;include name=&quot;*.zip&quot; /&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt; But I still have the error","body":"I removed the line as you say, I have already the jar in my lib directory as I show in the architecture of my project. I think it is including it here : &lt;classpath&gt;         &lt;fileset dir=&quot;${lib}&quot;&gt;           &lt;include name=&quot;<i>.jar&quot; /&gt;           &lt;include name=&quot;</i>.zip&quot; /&gt;         &lt;/fileset&gt;       &lt;/classpath&gt; But I still have the error"},{"owner":{"account_id":12663088,"reputation":601,"user_id":9203315,"display_name":"Roshan Khadka"},"score":0,"creation_date":1681352570,"post_id":75998963,"comment_id":134043771,"body_markdown":"I&#39;ve just wrote an answer, not sure if it would help but please try. Good Luck!","body":"I&#39;ve just wrote an answer, not sure if it would help but please try. Good Luck!"}],"answers":[{"tags":[],"owner":{"account_id":12663088,"reputation":601,"user_id":9203315,"display_name":"Roshan Khadka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681352539,"creation_date":1681352539,"answer_id":76001152,"question_id":75998963,"body_markdown":"Maybe worth a shot if you haven&#39;t already tried yet. Please replace you java file to something similar.\r\n\r\nimport org.jnetpcap.Pcap;\r\nimport org.jnetpcap.packet.PcapPacket;\r\n\r\npublic class PcapReader {\r\n\r\n    public static void main(String[] args) {\r\n        // Specify the pcap file to read\r\n        String pcapFilePath = &quot;./capture.pcap&quot;;\r\n\r\n        // Open the pcap file for reading\r\n        StringBuilder errorMessage = new StringBuilder();\r\n        Pcap pcap = Pcap.openOffline(pcapFilePath, errorMessage);\r\n\r\n        // Check if there was an error while opening the pcap file\r\n        if (pcap == null) {\r\n            System.err.println(&quot;Error while opening pcap file: &quot; + errorMessage);\r\n            return;\r\n        }\r\n\r\n        // Loop through all packets in the file and print out their data\r\n        PcapPacket packet = new PcapPacket();\r\n        while (pcap.nextEx(packet) == Pcap.NEXT_EX_OK) {\r\n            System.out.println(packet);\r\n        }\r\n\r\n        // Close the pcap file\r\n        pcap.close();\r\n    }\r\n}\r\n","title":"Use JNetPcap with Ant","body":"<p>Maybe worth a shot if you haven't already tried yet. Please replace you java file to something similar.</p>\n<p>import org.jnetpcap.Pcap;\nimport org.jnetpcap.packet.PcapPacket;</p>\n<p>public class PcapReader {</p>\n<pre><code>public static void main(String[] args) {\n    // Specify the pcap file to read\n    String pcapFilePath = &quot;./capture.pcap&quot;;\n\n    // Open the pcap file for reading\n    StringBuilder errorMessage = new StringBuilder();\n    Pcap pcap = Pcap.openOffline(pcapFilePath, errorMessage);\n\n    // Check if there was an error while opening the pcap file\n    if (pcap == null) {\n        System.err.println(&quot;Error while opening pcap file: &quot; + errorMessage);\n        return;\n    }\n\n    // Loop through all packets in the file and print out their data\n    PcapPacket packet = new PcapPacket();\n    while (pcap.nextEx(packet) == Pcap.NEXT_EX_OK) {\n        System.out.println(packet);\n    }\n\n    // Close the pcap file\n    pcap.close();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":19644639,"reputation":73,"user_id":14379956,"display_name":"SanjiSqurt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681352539,"creation_date":1681326226,"question_id":75998963,"body_markdown":"I have an ant project, Here is the build.xml\r\n\r\n```xml\r\n&lt;project name=&quot;NAME&quot; default=&quot;compile&quot; basedir=&quot;.&quot;&gt;\r\n\r\n  &lt;!-- set global properties for this build --&gt;\r\n  &lt;property name=&quot;src&quot; value=&quot;src/main/java&quot; /&gt;\r\n  &lt;property name=&quot;src-test&quot; value=&quot;src/test/java&quot; /&gt;\r\n  &lt;property name=&quot;lib&quot; value=&quot;lib&quot; /&gt;\r\n  &lt;property name=&quot;build&quot; value=&quot;build&quot; /&gt;\r\n  &lt;property name=&quot;dist&quot; value=&quot;dist&quot; /&gt;\r\n\r\n  &lt;!-- general classpath definition, incl. CLASSPATH env. variable,\r\n   // but jars in lib directory have precedence over the CLASSPATH variable --&gt;\r\n  &lt;path id=&quot;project.class.path&quot;&gt;\r\n    &lt;fileset dir=&quot;${lib}&quot;&gt;\r\n      &lt;include name=&quot;*.jar&quot; /&gt;\r\n      &lt;include name=&quot;*.zip&quot; /&gt;\r\n    &lt;/fileset&gt;\r\n    &lt;pathelement location=&quot;${build}/classes&quot; /&gt;\r\n    &lt;pathelement location=&quot;${build}/testcases&quot; /&gt;\r\n    &lt;pathelement path=&quot;${java.class.path}&quot; /&gt;\r\n    &lt;!-- Import all dependencies --&gt;\r\n    &lt;pathelement path=&quot;${lib}/*.jar&quot; /&gt;\r\n  &lt;/path&gt;\r\n  &lt;target name=&quot;compile&quot; depends=&quot;init_compile&quot;\r\n    description=&quot;Compile package and deposit class files in build/classes&quot;&gt;\r\n    &lt;javac includeantruntime=&quot;false&quot; srcdir=&quot;${src}&quot;\r\n      fork=&quot;yes&quot; memoryMaximumSize=&quot;${javac_max_memory}&quot;\r\n      destdir=&quot;${build}/classes&quot;\r\n      optimize=&quot;${optimization}&quot;\r\n      debug=&quot;${debug}&quot;\r\n      deprecation=&quot;${deprecation}&quot;\r\n      source=&quot;11&quot; target=&quot;11&quot;&gt;\r\n      &lt;!-- Import lib dependencies --&gt;\r\n      &lt;classpath&gt;\r\n        &lt;fileset dir=&quot;${lib}&quot;&gt;\r\n          &lt;include name=&quot;*.jar&quot; /&gt;\r\n          &lt;include name=&quot;*.zip&quot; /&gt;\r\n        &lt;/fileset&gt;\r\n      &lt;/classpath&gt;\r\n    &lt;/javac&gt;\r\n    &lt;copy todir=&quot;${build}/classes&quot;&gt;\r\n      &lt;fileset dir=&quot;${src}&quot;&gt;\r\n        &lt;include name=&quot;**/*.txt&quot; /&gt;\r\n        &lt;include name=&quot;**/*.xml&quot; /&gt;\r\n      &lt;/fileset&gt;\r\n    &lt;/copy&gt;\r\n  &lt;/target&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is the Java Code:\r\n```java\r\npublic static void main(String[] args) {\r\n        // Specify the pcap file to read\r\n        String pcapFilePath = &quot;./capture.pcap&quot;;\r\n\r\n        // Open the pcap file for reading\r\n        Pcap pcap = Pcap.openOffline(pcapFilePath, new StringBuilder());\r\n\r\n        // Loop through all packets in the file and print out their data\r\n        PcapPacket packet = new PcapPacket();\r\n        while (pcap.nextEx(packet) == Pcap.NEXT_EX_OK) {\r\n            System.out.println(packet);\r\n        }\r\n\r\n        // Close the pcap file\r\n        pcap.close();\r\n    }\r\n```\r\n\r\nAnd my architecture look like that :\r\n```\r\n├── build.xml\r\n├── lib\r\n│&#160;&#160; ├── all-1.1.2.pom\r\n│&#160;&#160; ├── jnetpcap.jar\r\n├── pom.xml\r\n└── src\r\n    ├── main\r\n    │&#160;&#160; └── java\r\n    │&#160;&#160;     └── project\r\n    │&#160;&#160;         └── NAME.java\r\n    └── test ...\r\n```\r\n\r\nBut when I go for ant compile, here is the error message:\r\n\r\nerror: cannot find symbol Pcap\r\n\r\nI use java11 and I downloaded the jnetpcap jar on their github but ant can&#39;t seem to find it .\r\nIf someone knows what&#39;s wrong with my project it could be a nice help","title":"Use JNetPcap with Ant","body":"<p>I have an ant project, Here is the build.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project name=&quot;NAME&quot; default=&quot;compile&quot; basedir=&quot;.&quot;&gt;\n\n  &lt;!-- set global properties for this build --&gt;\n  &lt;property name=&quot;src&quot; value=&quot;src/main/java&quot; /&gt;\n  &lt;property name=&quot;src-test&quot; value=&quot;src/test/java&quot; /&gt;\n  &lt;property name=&quot;lib&quot; value=&quot;lib&quot; /&gt;\n  &lt;property name=&quot;build&quot; value=&quot;build&quot; /&gt;\n  &lt;property name=&quot;dist&quot; value=&quot;dist&quot; /&gt;\n\n  &lt;!-- general classpath definition, incl. CLASSPATH env. variable,\n   // but jars in lib directory have precedence over the CLASSPATH variable --&gt;\n  &lt;path id=&quot;project.class.path&quot;&gt;\n    &lt;fileset dir=&quot;${lib}&quot;&gt;\n      &lt;include name=&quot;*.jar&quot; /&gt;\n      &lt;include name=&quot;*.zip&quot; /&gt;\n    &lt;/fileset&gt;\n    &lt;pathelement location=&quot;${build}/classes&quot; /&gt;\n    &lt;pathelement location=&quot;${build}/testcases&quot; /&gt;\n    &lt;pathelement path=&quot;${java.class.path}&quot; /&gt;\n    &lt;!-- Import all dependencies --&gt;\n    &lt;pathelement path=&quot;${lib}/*.jar&quot; /&gt;\n  &lt;/path&gt;\n  &lt;target name=&quot;compile&quot; depends=&quot;init_compile&quot;\n    description=&quot;Compile package and deposit class files in build/classes&quot;&gt;\n    &lt;javac includeantruntime=&quot;false&quot; srcdir=&quot;${src}&quot;\n      fork=&quot;yes&quot; memoryMaximumSize=&quot;${javac_max_memory}&quot;\n      destdir=&quot;${build}/classes&quot;\n      optimize=&quot;${optimization}&quot;\n      debug=&quot;${debug}&quot;\n      deprecation=&quot;${deprecation}&quot;\n      source=&quot;11&quot; target=&quot;11&quot;&gt;\n      &lt;!-- Import lib dependencies --&gt;\n      &lt;classpath&gt;\n        &lt;fileset dir=&quot;${lib}&quot;&gt;\n          &lt;include name=&quot;*.jar&quot; /&gt;\n          &lt;include name=&quot;*.zip&quot; /&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt;\n    &lt;/javac&gt;\n    &lt;copy todir=&quot;${build}/classes&quot;&gt;\n      &lt;fileset dir=&quot;${src}&quot;&gt;\n        &lt;include name=&quot;**/*.txt&quot; /&gt;\n        &lt;include name=&quot;**/*.xml&quot; /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n  &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is the Java Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        // Specify the pcap file to read\n        String pcapFilePath = &quot;./capture.pcap&quot;;\n\n        // Open the pcap file for reading\n        Pcap pcap = Pcap.openOffline(pcapFilePath, new StringBuilder());\n\n        // Loop through all packets in the file and print out their data\n        PcapPacket packet = new PcapPacket();\n        while (pcap.nextEx(packet) == Pcap.NEXT_EX_OK) {\n            System.out.println(packet);\n        }\n\n        // Close the pcap file\n        pcap.close();\n    }\n</code></pre>\n<p>And my architecture look like that :</p>\n<pre><code>├── build.xml\n├── lib\n│   ├── all-1.1.2.pom\n│   ├── jnetpcap.jar\n├── pom.xml\n└── src\n    ├── main\n    │   └── java\n    │       └── project\n    │           └── NAME.java\n    └── test ...\n</code></pre>\n<p>But when I go for ant compile, here is the error message:</p>\n<p>error: cannot find symbol Pcap</p>\n<p>I use java11 and I downloaded the jnetpcap jar on their github but ant can't seem to find it .\nIf someone knows what's wrong with my project it could be a nice help</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":1505657,"reputation":1055,"user_id":1409074,"accept_rate":46,"display_name":"Michael Sobczak"},"score":0,"creation_date":1452644293,"post_id":34687363,"comment_id":134074070,"body_markdown":"Sorry about the duplicate post! I resolved the issue by recreating the CSV file. Instead of using the SQL Server Export wizard, I copied the contents of the view to an Excel spreadsheet, then saved as CSV. Excel added the necessary double quotes necessary for opencsv to recognize the data correctly. I&#39;m surprised the SQL Server Export wizard doesn&#39;t have a proper CSV option, but then again this is Microsoft I&#39;m talking about.","body":"Sorry about the duplicate post! I resolved the issue by recreating the CSV file. Instead of using the SQL Server Export wizard, I copied the contents of the view to an Excel spreadsheet, then saved as CSV. Excel added the necessary double quotes necessary for opencsv to recognize the data correctly. I&#39;m surprised the SQL Server Export wizard doesn&#39;t have a proper CSV option, but then again this is Microsoft I&#39;m talking about."}],"answers":[{"tags":[],"owner":{"account_id":4836940,"reputation":985,"user_id":3903279,"display_name":"Scott Conway"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681352482,"creation_date":1452626138,"answer_id":34751985,"question_id":34687363,"body_markdown":"Your issue is that in the middle of your field you have an unescaped double quote in the middle of the field which is throwing everything off.\r\n\r\nTry toggling the value of `strictQuotes` you are passing into the `CSVReader` but if that does not work you will have to escape the quote in the file either with the escape character (`\\` by default) or another double quote.","title":"opencsv not recognizing all columns in line","body":"<p>Your issue is that in the middle of your field you have an unescaped double quote in the middle of the field which is throwing everything off.</p>\n<p>Try toggling the value of <code>strictQuotes</code> you are passing into the <code>CSVReader</code> but if that does not work you will have to escape the quote in the file either with the escape character (<code>\\</code> by default) or another double quote.</p>\n"}],"owner":{"account_id":1505657,"reputation":1055,"user_id":1409074,"accept_rate":46,"display_name":"Michael Sobczak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1681383835,"answer_count":1,"score":2,"last_activity_date":1681352482,"creation_date":1452293161,"question_id":34687363,"body_markdown":"I&#39;m using opencsv 2.3 for Java.  I set up my CSVReader object like this to handle \r\n\r\n    CSVReader reader = new CSVReader(new FileReader(file.getAbsolutePath()));\r\n\r\nIn my file, I have the following lines:\r\n\r\n    &quot;001-07110-004&quot;,&quot;BLOWER KEY&quot;,&quot;York&quot;\r\n    &quot;032MF&quot;,&quot;Liquid Line Filter Drier, 1/4&quot; FEMALE X MALE, 3CU&quot;,&quot;Parker Hannifin&quot;\r\n\r\nThe data was exported from a SQL Server table to a CSV file.\r\n\r\nOpenCSV correctly recognizes three columns for the first line, but only two for the second line.\r\n\r\nHow would I configure OpenCSV to recognize three columns of data for the second line?","title":"opencsv not recognizing all columns in line","body":"<p>I'm using opencsv 2.3 for Java.  I set up my CSVReader object like this to handle </p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(file.getAbsolutePath()));\n</code></pre>\n\n<p>In my file, I have the following lines:</p>\n\n<pre><code>\"001-07110-004\",\"BLOWER KEY\",\"York\"\n\"032MF\",\"Liquid Line Filter Drier, 1/4\" FEMALE X MALE, 3CU\",\"Parker Hannifin\"\n</code></pre>\n\n<p>The data was exported from a SQL Server table to a CSV file.</p>\n\n<p>OpenCSV correctly recognizes three columns for the first line, but only two for the second line.</p>\n\n<p>How would I configure OpenCSV to recognize three columns of data for the second line?</p>\n"},{"tags":["java","arrays","string","split"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681186164,"post_id":75982147,"comment_id":134011806,"body_markdown":"Please show some examples of input and what you expect to get from that.","body":"Please show some examples of input and what you expect to get from that."},{"owner":{"account_id":17096208,"reputation":15,"user_id":12371145,"display_name":"wang junweiiii"},"score":0,"creation_date":1681192166,"post_id":75982147,"comment_id":134012375,"body_markdown":"I edited it, i give some input examples in the last, I expect to get pojo of `Project`  by parse text, BTW,  the parse method also compatible with previous content.","body":"I edited it, i give some input examples in the last, I expect to get pojo of <code>Project</code>  by parse text, BTW,  the parse method also compatible with previous content."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681207959,"post_id":75982147,"comment_id":134015642,"body_markdown":"What *exactly* do you want to happen when the input is `202304110940436402@JCSH001,202304110940477328@CGXZ01@8,202304110940494662@@46,202304111152056491@CGXZ01@8@REPEAT, 202304101953270605@XCG@23@`? Please be as specific as possible. Ideally create a [mcve] somewhere like http://ideone.com","body":"What <i>exactly</i> do you want to happen when the input is <code>202304110940436402@JCSH001,202304110940477328@CGXZ01@8,20230&zwnj;&#8203;4110940494662@@46,20&zwnj;&#8203;2304111152056491@CGX&zwnj;&#8203;Z01@8@REPEAT, 202304101953270605@XCG@23@</code>? Please be as specific as possible. Ideally create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> somewhere like <a href=\"http://ideone.com\" rel=\"nofollow noreferrer\">ideone.com</a>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681256546,"post_id":75982147,"comment_id":134026518,"body_markdown":"What is the project &quot;code&quot; and &quot;name&quot; from each project in `202304110940436402@JCSH001,202304110940477328@CGXZ01@8,202304110940494662@@46,202304111152056491@CGXZ01@8@REPEAT, 202304101953270605@XCG@23@`?","body":"What is the project &quot;code&quot; and &quot;name&quot; from each project in <code>202304110940436402@JCSH001,202304110940477328@CGXZ01@8,20230&zwnj;&#8203;4110940494662@@46,20&zwnj;&#8203;2304111152056491@CGX&zwnj;&#8203;Z01@8@REPEAT, 202304101953270605@XCG@23@</code>?"},{"owner":{"account_id":17096208,"reputation":15,"user_id":12371145,"display_name":"wang junweiiii"},"score":0,"creation_date":1681266304,"post_id":75982147,"comment_id":134027430,"body_markdown":"The text formatter is like `CODE@NAME@TYPE@MODEL`,  then `202304110940436402@JCSH001` will parse &quot;code&quot; and &quot;name&quot;, `202304110940477328@CGXZ01@8` will parse &quot;code&quot;,&quot;name&quot; and &quot;type&quot;, and so on.","body":"The text formatter is like <code>CODE@NAME@TYPE@MODEL</code>,  then <code>202304110940436402@JCSH001</code> will parse &quot;code&quot; and &quot;name&quot;, <code>202304110940477328@CGXZ01@8</code> will parse &quot;code&quot;,&quot;name&quot; and &quot;type&quot;, and so on."}],"answers":[{"tags":[],"owner":{"account_id":13284784,"reputation":61,"user_id":9591245,"display_name":"Nina Koninckx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681193317,"creation_date":1681193317,"answer_id":75982837,"question_id":75982147,"body_markdown":"I think you are on the right path already and are probably overthinking things.\r\n\r\nIf I understand it correctly you want to parse a comma seperated array into a list of String and parse said Strings into @ seperated Strings.\r\n\r\nIn the original version we have the CODE@NAME String, later there was a change where it was CODE@NAME@TYPE@MODEL. \r\n\r\nYou already have the data to get where you need to go, namely your split on @. You need to check how many Strings come out of that split and than assign your values to the Project object.\r\n\r\nWhat I would do is this:\r\n\r\n    Optional&lt;List&lt;Project&gt;&gt; optional = Optional.of(text)\r\n                .map(s -&gt; s.split(COMMA))\r\n                .map(list -&gt; {\r\n                    List&lt;Project&gt; projects = new ArrayList&lt;&gt;();\r\n                    for (String s: list) {\r\n                        String[] split = s.split(AT);\r\n                        Project project = null;\r\n                        if (split.length == 2) {\r\n                            project = new Project();\r\n                            project.setCode(split[0]);\r\n                            project.setName(split[1]);\r\n                        } else if (split.length == 4) {\r\n                            project = new Project();\r\n                            project.setCode(split[0]);\r\n                            project.setName(split[1]);\r\n                            project.setType(split[2]);\r\n                            project.setModel(split[3]);\r\n                        }\r\n                        if(project != null) projects.add(project);\r\n                    }\r\nThere are more efficient and prettier code paths to take but I think what you need right now is verbosity since you are still learning. Hope this can help!\r\n","title":"How to convert text to pojo by SEPARATOR","body":"<p>I think you are on the right path already and are probably overthinking things.</p>\n<p>If I understand it correctly you want to parse a comma seperated array into a list of String and parse said Strings into @ seperated Strings.</p>\n<p>In the original version we have the CODE@NAME String, later there was a change where it was CODE@NAME@TYPE@MODEL.</p>\n<p>You already have the data to get where you need to go, namely your split on @. You need to check how many Strings come out of that split and than assign your values to the Project object.</p>\n<p>What I would do is this:</p>\n<pre><code>Optional&lt;List&lt;Project&gt;&gt; optional = Optional.of(text)\n            .map(s -&gt; s.split(COMMA))\n            .map(list -&gt; {\n                List&lt;Project&gt; projects = new ArrayList&lt;&gt;();\n                for (String s: list) {\n                    String[] split = s.split(AT);\n                    Project project = null;\n                    if (split.length == 2) {\n                        project = new Project();\n                        project.setCode(split[0]);\n                        project.setName(split[1]);\n                    } else if (split.length == 4) {\n                        project = new Project();\n                        project.setCode(split[0]);\n                        project.setName(split[1]);\n                        project.setType(split[2]);\n                        project.setModel(split[3]);\n                    }\n                    if(project != null) projects.add(project);\n                }\n</code></pre>\n<p>There are more efficient and prettier code paths to take but I think what you need right now is verbosity since you are still learning. Hope this can help!</p>\n"},{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681205376,"creation_date":1681205376,"answer_id":75984347,"question_id":75982147,"body_markdown":"You can also use Regular Expression matching to extract values.  E.g.\r\n\r\n```\r\n\t\tfinal Pattern p = Pattern.compile(&quot;^([^@]*)(?:(?:@([^@]*))?(?:(?:@([^@]*))?(?:(?:@([^@]*))?)))$&quot;);\r\n\r\n\t\tString text = &quot;202304110940436402@JCSH001,202304110940477328@CGXZ01@8,202304110940494662@@46,202304111152056491@CGXZ01@8@REPEAT, 202304101953270605@XCG@23@&quot;;\r\n\t\tList&lt;Project&gt; projects = Stream.of(Optional.of(text).orElse(&quot;&quot;).split(&quot;,&quot;)).map(s -&gt; {\r\n\t\t\tMatcher m = p.matcher(s);\r\n\t\t\tif (m.find()) {\r\n\t\t\t\tProject proj = new Project();\r\n\t\t\t\tproj.code = m.group(1);  //Assuming code will always be there\r\n\t\t\t\tproj.name = m.group(2);  //Assuming name will always be there\r\n\t\t\t\tif (m.groupCount() &gt; 2) {\r\n\t\t\t\t\tproj.type = m.group(3);\r\n\t\t\t\t\tif (m.groupCount() &gt; 3) {\r\n\t\t\t\t\t\tproj.model = m.group(4);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn proj;\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}).filter(Objects::nonNull).toList();\r\n```\r\n\r\nThis results in something like this - Converted Project into a JSON object:\r\n```\r\n[\r\n\t{\r\n\t\t&quot;code&quot;: &quot;202304110940436402&quot;,\r\n\t\t&quot;name&quot;: &quot;JCSH001&quot;,\r\n\t\t&quot;type&quot;: &quot;null&quot;,\r\n\t\t&quot;model&quot;: &quot;null&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;code&quot;: &quot;202304110940477328&quot;,\r\n\t\t&quot;name&quot;: &quot;CGXZ01&quot;,\r\n\t\t&quot;type&quot;: &quot;8&quot;,\r\n\t\t&quot;model&quot;: &quot;null&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;code&quot;: &quot;202304110940494662&quot;,\r\n\t\t&quot;name&quot;: &quot;&quot;,\r\n\t\t&quot;type&quot;: &quot;46&quot;,\r\n\t\t&quot;model&quot;: &quot;null&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;code&quot;: &quot;202304111152056491&quot;,\r\n\t\t&quot;name&quot;: &quot;CGXZ01&quot;,\r\n\t\t&quot;type&quot;: &quot;8&quot;,\r\n\t\t&quot;model&quot;: &quot;REPEAT&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;code&quot;: &quot; 202304101953270605&quot;,\r\n\t\t&quot;name&quot;: &quot;XCG&quot;,\r\n\t\t&quot;type&quot;: &quot;23&quot;,\r\n\t\t&quot;model&quot;: &quot;&quot;\r\n\t}\r\n]\r\n```\r\n\r\nYou can enhance further.","title":"How to convert text to pojo by SEPARATOR","body":"<p>You can also use Regular Expression matching to extract values.  E.g.</p>\n<pre><code>        final Pattern p = Pattern.compile(&quot;^([^@]*)(?:(?:@([^@]*))?(?:(?:@([^@]*))?(?:(?:@([^@]*))?)))$&quot;);\n\n        String text = &quot;202304110940436402@JCSH001,202304110940477328@CGXZ01@8,202304110940494662@@46,202304111152056491@CGXZ01@8@REPEAT, 202304101953270605@XCG@23@&quot;;\n        List&lt;Project&gt; projects = Stream.of(Optional.of(text).orElse(&quot;&quot;).split(&quot;,&quot;)).map(s -&gt; {\n            Matcher m = p.matcher(s);\n            if (m.find()) {\n                Project proj = new Project();\n                proj.code = m.group(1);  //Assuming code will always be there\n                proj.name = m.group(2);  //Assuming name will always be there\n                if (m.groupCount() &gt; 2) {\n                    proj.type = m.group(3);\n                    if (m.groupCount() &gt; 3) {\n                        proj.model = m.group(4);\n                    }\n                }\n                return proj;\n            } else {\n                return null;\n            }\n        }).filter(Objects::nonNull).toList();\n</code></pre>\n<p>This results in something like this - Converted Project into a JSON object:</p>\n<pre><code>[\n    {\n        &quot;code&quot;: &quot;202304110940436402&quot;,\n        &quot;name&quot;: &quot;JCSH001&quot;,\n        &quot;type&quot;: &quot;null&quot;,\n        &quot;model&quot;: &quot;null&quot;\n    },\n    {\n        &quot;code&quot;: &quot;202304110940477328&quot;,\n        &quot;name&quot;: &quot;CGXZ01&quot;,\n        &quot;type&quot;: &quot;8&quot;,\n        &quot;model&quot;: &quot;null&quot;\n    },\n    {\n        &quot;code&quot;: &quot;202304110940494662&quot;,\n        &quot;name&quot;: &quot;&quot;,\n        &quot;type&quot;: &quot;46&quot;,\n        &quot;model&quot;: &quot;null&quot;\n    },\n    {\n        &quot;code&quot;: &quot;202304111152056491&quot;,\n        &quot;name&quot;: &quot;CGXZ01&quot;,\n        &quot;type&quot;: &quot;8&quot;,\n        &quot;model&quot;: &quot;REPEAT&quot;\n    },\n    {\n        &quot;code&quot;: &quot; 202304101953270605&quot;,\n        &quot;name&quot;: &quot;XCG&quot;,\n        &quot;type&quot;: &quot;23&quot;,\n        &quot;model&quot;: &quot;&quot;\n    }\n]\n</code></pre>\n<p>You can enhance further.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681350668,"creation_date":1681310645,"answer_id":75996830,"question_id":75982147,"body_markdown":"Use a `switch` on the length:\r\n\r\n```\r\nList&lt;Project&gt; projects = Arrays.stream(text.split(COMMA))\r\n  .map(s -&gt; s.split(AT))\r\n  .map(arr -&gt; {\r\n    Project project = new Project();\r\n    switch (arr.length) {\r\n        case 4: project.setModel(arr[3]);\r\n        case 3: project.setType(arr[2]);\r\n        case 2: project.setName(arr[1]);\r\n        case 1: project.setCode(arr[0]);\r\n    }\r\n    return project;\r\n  })\r\n  .collect(toList());\r\n```\r\n\r\nThis makes good use of the [*fall through*][1] behaviour of the switch.\r\n\r\nYou don&#39;t need `Optional` - the resulting list will be empty if there are no items.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/fall-through-in-java","title":"How to convert text to pojo by SEPARATOR","body":"<p>Use a <code>switch</code> on the length:</p>\n<pre><code>List&lt;Project&gt; projects = Arrays.stream(text.split(COMMA))\n  .map(s -&gt; s.split(AT))\n  .map(arr -&gt; {\n    Project project = new Project();\n    switch (arr.length) {\n        case 4: project.setModel(arr[3]);\n        case 3: project.setType(arr[2]);\n        case 2: project.setName(arr[1]);\n        case 1: project.setCode(arr[0]);\n    }\n    return project;\n  })\n  .collect(toList());\n</code></pre>\n<p>This makes good use of the <a href=\"https://www.javatpoint.com/fall-through-in-java\" rel=\"nofollow noreferrer\"><em>fall through</em></a> behaviour of the switch.</p>\n<p>You don't need <code>Optional</code> - the resulting list will be empty if there are no items.</p>\n"}],"owner":{"account_id":17096208,"reputation":15,"user_id":12371145,"display_name":"wang junweiiii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75996830,"answer_count":3,"score":0,"last_activity_date":1681350668,"creation_date":1681182782,"question_id":75982147,"body_markdown":"I have a string text, the formatter like `CODE@NAME`, and the `NAME` maybe a null value, just like below text:\r\n```\r\n202304110940436402@SHX01,202304110940477328@,202304110940494662@SHXZ20\r\n```\r\n\r\nThe pojo:\r\n```java\r\npublic class Project {\r\n    String code;\r\n    String name;\r\n    String type;\r\n    String model;\r\n// other property\r\n// getter and setter\r\n}\r\n```\r\n\r\nI convert string to &#39;Project&#39; like this:\r\n```java\r\nString text = &quot;202304110940436402@SHX01,202304110940477328@,202304110940494662@SHXZ20&quot;;\r\nOptional&lt;List&lt;Project&gt;&gt; optional = Optional.of(text)\r\n        .map(s -&gt; s.split(COMMA))\r\n        .map(list -&gt; {\r\n            List&lt;Project&gt; projects = new ArrayList&lt;&gt;(list.length);\r\n            for (String pojo : list) {\r\n                String[] split = pojo.split(AT, -1);\r\n                Project project = new Project();\r\n                project.code = split[0];\r\n                project.name = split[1];\r\n                projects.add(project);\r\n            }\r\n            return projects;\r\n        });\r\nList&lt;Project&gt; projects = optional.orElse(null);\r\n```\r\n\r\nThe question is that the string text changed now(such like `CODE@NAME@TYPE@MODEL`).\r\n\r\nNow the text like this:\r\n```\r\n202304110940436402@JCSH001,202304110940477328@CGXZ01@8,202304110940494662@@46,202304111152056491@CGXZ01@8@REPEAT, 202304101953270605@XCG@23@\r\n```\r\n\r\nI want to parse it like:\r\n```\r\n202304110940436402@JCSH001  -&gt; code:202304110940436402,name:JCSH001 \r\n202304110940477328@CGXZ01@8  -&gt; code:202304110940477328,name:CGXZ01,type:8\r\n202304110940494662@@46  -&gt; code:202304110940494662,name:,type:46\r\n202304111152056491@CGXZ01@8@REPEAT -&gt; code:202304111152056491,name:CGXZ01,type:8, model:REPEAT\r\n```\r\n\r\nI have no clue to solve it,so is there have any simple way to convert it and also **compatible with previous content**?","title":"How to convert text to pojo by SEPARATOR","body":"<p>I have a string text, the formatter like <code>CODE@NAME</code>, and the <code>NAME</code> maybe a null value, just like below text:</p>\n<pre><code>202304110940436402@SHX01,202304110940477328@,202304110940494662@SHXZ20\n</code></pre>\n<p>The pojo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Project {\n    String code;\n    String name;\n    String type;\n    String model;\n// other property\n// getter and setter\n}\n</code></pre>\n<p>I convert string to 'Project' like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;202304110940436402@SHX01,202304110940477328@,202304110940494662@SHXZ20&quot;;\nOptional&lt;List&lt;Project&gt;&gt; optional = Optional.of(text)\n        .map(s -&gt; s.split(COMMA))\n        .map(list -&gt; {\n            List&lt;Project&gt; projects = new ArrayList&lt;&gt;(list.length);\n            for (String pojo : list) {\n                String[] split = pojo.split(AT, -1);\n                Project project = new Project();\n                project.code = split[0];\n                project.name = split[1];\n                projects.add(project);\n            }\n            return projects;\n        });\nList&lt;Project&gt; projects = optional.orElse(null);\n</code></pre>\n<p>The question is that the string text changed now(such like <code>CODE@NAME@TYPE@MODEL</code>).</p>\n<p>Now the text like this:</p>\n<pre><code>202304110940436402@JCSH001,202304110940477328@CGXZ01@8,202304110940494662@@46,202304111152056491@CGXZ01@8@REPEAT, 202304101953270605@XCG@23@\n</code></pre>\n<p>I want to parse it like:</p>\n<pre><code>202304110940436402@JCSH001  -&gt; code:202304110940436402,name:JCSH001 \n202304110940477328@CGXZ01@8  -&gt; code:202304110940477328,name:CGXZ01,type:8\n202304110940494662@@46  -&gt; code:202304110940494662,name:,type:46\n202304111152056491@CGXZ01@8@REPEAT -&gt; code:202304111152056491,name:CGXZ01,type:8, model:REPEAT\n</code></pre>\n<p>I have no clue to solve it,so is there have any simple way to convert it and also <strong>compatible with previous content</strong>?</p>\n"},{"tags":["java","jms","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":2,"creation_date":1681351186,"post_id":76000928,"comment_id":134043654,"body_markdown":"I don&#39;t believe there is a way with the JMS API. Is there a reason not to use the topic string?","body":"I don&#39;t believe there is a way with the JMS API. Is there a reason not to use the topic string?"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1681360891,"post_id":76000928,"comment_id":134044598,"body_markdown":"No, there is no JMS API that takes topic name. You will have to use topic string.","body":"No, there is no JMS API that takes topic name. You will have to use topic string."}],"owner":{"account_id":11422679,"reputation":143,"user_id":16186987,"display_name":"user8779054"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681348537,"creation_date":1681348537,"question_id":76000928,"body_markdown":"Sample below - The topic name is TEST_TOP. But seems like the following method is for topic string instead of topic name. Wanted to check if i can use topic name instead of topic string? Thanks!\r\n\r\n```\r\n\r\n    public String sendTopic()\r\n    {\r\n        try {\r\n            log.info(&quot;Send message to topic&quot;);\r\n            jmsTemplate.convertAndSend(&quot;TEST_TOP&quot;,&quot;TEST SEND TO TOPIC&quot;);\r\n            log.info(&quot;Message sent to topic&quot;);\r\n            return &quot;SEND OK&quot;;\r\n        } catch(JmsException ex){\r\n            ex.printStackTrace();\r\n            return &quot;SEND FAIL&quot;;\r\n        }\r\n    }\r\n```","title":"Connecting to IBM MQ using topic name instead of topic string","body":"<p>Sample below - The topic name is TEST_TOP. But seems like the following method is for topic string instead of topic name. Wanted to check if i can use topic name instead of topic string? Thanks!</p>\n<pre><code>\n    public String sendTopic()\n    {\n        try {\n            log.info(&quot;Send message to topic&quot;);\n            jmsTemplate.convertAndSend(&quot;TEST_TOP&quot;,&quot;TEST SEND TO TOPIC&quot;);\n            log.info(&quot;Message sent to topic&quot;);\n            return &quot;SEND OK&quot;;\n        } catch(JmsException ex){\n            ex.printStackTrace();\n            return &quot;SEND FAIL&quot;;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","http","url"],"comments":[{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":0,"creation_date":1404997207,"post_id":24520528,"comment_id":38260185,"body_markdown":"This is very similar to http://stackoverflow.com/questions/2082057/java-outputstream-java-lang-outofmemoryerror-java-heap-space","body":"This is very similar to <a href=\"http://stackoverflow.com/questions/2082057/java-outputstream-java-lang-outofmemoryerror-java-heap-space\" title=\"java outputstream java lang outofmemoryerror java heap space\">stackoverflow.com/questions/2082057/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404997173,"creation_date":1404260334,"answer_id":24521091,"question_id":24520528,"body_markdown":"&gt; For example, I can&#39;t tell if &quot;writeBytes&quot; actually sends the data or\r\n&gt; &quot;close.&quot;\r\n\r\nThis is purposefully ambiguous to give implementations leeway. \r\n\r\nThe issue is whether or not fixed length or chunked requests will be used. It appears that fixed length requests are being used by default, though it does not appear that is required by the spec. The behavior can be controlled by methods on the HttpURLConnection. To specify use of chunked, you can call [setChunkedStreamingMode][1]. You can also call [setFixedLengthStreamingMode][2] to define the fixed length of the request. Even in this case, the implementation /could/ choose to start sending data early, as the total length is known and so can be set in the request header correctly.\r\n\r\nPractically speaking, calling `writeBytes` will (generally) cause data to buffer until some threshold is reached. At that time the buffered data will be actually written and the process will repeat. When you call `close`, any buffered data will be written as well as the necessary bytes to signify the end of the http request.\r\n\r\nExplicit calls to `flush` will also usually cause any buffered data to be written out.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html#setChunkedStreamingMode(int)\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html#setFixedLengthStreamingMode(long)","title":"What method call in HttpsURLConnection actually sends the HTTP request?","body":"<blockquote>\n  <p>For example, I can't tell if \"writeBytes\" actually sends the data or\n  \"close.\"</p>\n</blockquote>\n\n<p>This is purposefully ambiguous to give implementations leeway. </p>\n\n<p>The issue is whether or not fixed length or chunked requests will be used. It appears that fixed length requests are being used by default, though it does not appear that is required by the spec. The behavior can be controlled by methods on the HttpURLConnection. To specify use of chunked, you can call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html#setChunkedStreamingMode%28int%29\" rel=\"nofollow\">setChunkedStreamingMode</a>. You can also call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html#setFixedLengthStreamingMode%28long%29\" rel=\"nofollow\">setFixedLengthStreamingMode</a> to define the fixed length of the request. Even in this case, the implementation /could/ choose to start sending data early, as the total length is known and so can be set in the request header correctly.</p>\n\n<p>Practically speaking, calling <code>writeBytes</code> will (generally) cause data to buffer until some threshold is reached. At that time the buffered data will be actually written and the process will repeat. When you call <code>close</code>, any buffered data will be written as well as the necessary bytes to signify the end of the http request.</p>\n\n<p>Explicit calls to <code>flush</code> will also usually cause any buffered data to be written out.</p>\n"},{"tags":[],"owner":{"account_id":2173447,"reputation":9226,"user_id":2423194,"accept_rate":88,"display_name":"Rock Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404263507,"creation_date":1404261382,"answer_id":24521228,"question_id":24520528,"body_markdown":"I finally figured it out. The &quot;getResponseCode()&quot; method is the straw that breaks the camel&#39;s back (so to speak). Because when I commented out stuff, it was when I commented that part out it didn&#39;t &quot;echo&quot; my response on the echo server I was using (and printing the received requests to the terminal).\r\n\r\nNote: I used a nearly-identical HttpClient class because otherwise the echo server would print out encrypted code like this:\r\n\r\n&gt; ����5D��s����l!���RMav*X?�+gJ.�+�/ �\t�����32E98�/A5� P\r\n&gt;    \tlocalhost�  \r\n\r\n\r\nWhen I ran this code as a Java application, the server did not print anything to the terminal:\r\n(notice the commented out parts)\r\n\r\n    static NetworkReturn sendHttpPost(String urlString, String postData)\r\n    \t{\r\n    \t\tURL url;\r\n    \t\tHttpURLConnection con = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\turl = new URL(urlString);\r\n    \t\t\tcon = (HttpURLConnection) url.openConnection();\r\n    \r\n    \t\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n    \t\t\tcon.setRequestProperty(&quot;Content-length&quot;, String.valueOf(postData.length()));\r\n    \t\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\tcon.setDoOutput(true);\r\n    \t\t\t\r\n    \t\t\tDataOutputStream output = new DataOutputStream(con.getOutputStream());\r\n    \t\t\toutput.writeBytes(postData);\r\n    \t\t\t\r\n    \t\t\toutput.close();\r\n    \t\t\t\r\n    \t\t\t//StringBuilder result = new StringBuilder(), error = new StringBuilder();\r\n    \r\n    \t\t\t//int responseCode = con.getResponseCode();\r\n    \t\t\t/*\r\n    \t\t\tif (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) \r\n    \t\t\t{\r\n    \t\t\t\tif (con.getInputStream() != null) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tInputStream in = new BufferedInputStream(con.getInputStream());\r\n    \t\t\t\t\tint length;\r\n    \t\t\t\t\twhile ((length = in.read(buffer)) != -1) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tresult.append(new String(buffer, 0, length));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse \r\n    \t\t\t{\r\n    \t\t\t\tif (con.getErrorStream() != null) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tInputStream in = new BufferedInputStream(con.getErrorStream());\r\n    \t\t\t\t\tint length;\r\n    \t\t\t\t\twhile ((length = in.read(buffer)) != -1) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\terror.append(new String(buffer, 0, length));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn new NetworkReturn(responseCode, result.toString(), error.toString());\r\n    \t\t\t*/\r\n    \t\t\treturn new NetworkReturn();\r\n    \r\n    \t\t}\r\n    \t\tcatch (MalformedURLException e) {\r\n    \t\t\treturn new NetworkReturn(-1, &quot;&quot;, &quot;MalformedURLException: &quot; + e.getLocalizedMessage());\r\n    \t\t}\r\n    \t\tcatch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn new NetworkReturn(-1, &quot;&quot;, &quot;IOEXCEPTION: &quot; + e.getLocalizedMessage());\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif (con != null)\r\n    \t\t\t\tcon.disconnect();\r\n    \t\t}\r\n    \t}\r\n\r\nHowever, this code DID make the server print to the terminal:\r\n\r\n    static NetworkReturn sendHttpPost(String urlString, String postData)\r\n    \t{\r\n    \t\tURL url;\r\n    \t\tHttpURLConnection con = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\turl = new URL(urlString);\r\n    \t\t\tcon = (HttpURLConnection) url.openConnection();\r\n    \r\n    \t\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n    \t\t\tcon.setRequestProperty(&quot;Content-length&quot;, String.valueOf(postData.length()));\r\n    \t\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\tcon.setDoOutput(true);\r\n    \t\t\t\r\n    \t\t\tDataOutputStream output = new DataOutputStream(con.getOutputStream());\r\n    \t\t\toutput.writeBytes(postData);\r\n    \t\t\t\r\n    \t\t\toutput.close();\r\n    \t\t\t\r\n    \t\t\t//StringBuilder result = new StringBuilder(), error = new StringBuilder();\r\n    \r\n    \t\t\tint responseCode = con.getResponseCode();\r\n    \t\t\t/*\r\n    \t\t\tif (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) \r\n    \t\t\t{\r\n    \t\t\t\tif (con.getInputStream() != null) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tInputStream in = new BufferedInputStream(con.getInputStream());\r\n    \t\t\t\t\tint length;\r\n    \t\t\t\t\twhile ((length = in.read(buffer)) != -1) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tresult.append(new String(buffer, 0, length));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse \r\n    \t\t\t{\r\n    \t\t\t\tif (con.getErrorStream() != null) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tInputStream in = new BufferedInputStream(con.getErrorStream());\r\n    \t\t\t\t\tint length;\r\n    \t\t\t\t\twhile ((length = in.read(buffer)) != -1) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\terror.append(new String(buffer, 0, length));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn new NetworkReturn(responseCode, result.toString(), error.toString());\r\n    \t\t\t*/\r\n    \t\t\treturn new NetworkReturn();\r\n    \r\n    \t\t}\r\n    \t\tcatch (MalformedURLException e) {\r\n    \t\t\treturn new NetworkReturn(-1, &quot;&quot;, &quot;MalformedURLException: &quot; + e.getLocalizedMessage());\r\n    \t\t}\r\n    \t\tcatch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn new NetworkReturn(-1, &quot;&quot;, &quot;IOEXCEPTION: &quot; + e.getLocalizedMessage());\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif (con != null)\r\n    \t\t\t\tcon.disconnect();\r\n    \t\t}\r\n    \t}\r\n\r\nand the terminal output was this (an echo server, so this is what the request must have looked like):\r\n\r\n&gt;     POST / HTTP/1.1\r\n&gt;     Content-Type: application/json\r\n&gt;     User-Agent: Java/1.7.0_60\r\n&gt;     Host: localhost:3000\r\n&gt;     Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\n&gt;     Connection: keep-alive\r\n&gt;     Content-Length: 16\r\n&gt;     \r\n&gt;     blah blah blah\r\n\r\n\r\nThis was the method call I did:\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tNetworkReturn result = HttpClient.sendHttpPost(&quot;http://localhost:3000/&quot;, &quot;blah blah blah\\n\\n&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n**Edit:**\r\nI tried Brett&#39;s suggestion by calling flush to the output stream (getResponseCode() is still commented out, so now I&#39;m seeing if flush will make it work):\r\n\r\n    ...\r\n    \t\r\n    \t\t\tDataOutputStream output = new DataOutputStream(con.getOutputStream());\r\n    \t\t\toutput.writeBytes(postData);\r\n    \t\t\toutput.flush(); //&lt;------------here\r\n    \t\t\t\r\n    \t\t\toutput.close();\r\n    \t\t\t\r\n    \t\t\t//StringBuilder result = new StringBuilder(), error = new StringBuilder();\r\n    \r\n    \t\t\t//int responseCode = con.getResponseCode();\r\n    \t\t\t/*\r\n    \t\t\tif (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) \r\n    \t\t\t{\r\n    \t\t\t\tif\r\n    ...\r\n\r\n\r\nBut my echo server didn&#39;t print anything. It makes sense, now that I think about it, because &quot;output.close();&quot; probably calls &quot;flush()&quot; already. If flush() worked, then my first code snippet (with getResponseCode() commented out) would have probably worked.\r\n\r\n\r\n**Edit:** Tried to see if a 512 kilobyte request body would make the difference and cause the request to be sent, but it didn&#39;t work when `getResponseCode()` was commented out. I verified that it worked when I uncommented `getResponseCode()`.\r\n\r\nMy new main method for testing a large &quot;file&quot;, assuming a char is 1 byte so it should be over 512 kilobytes:\r\n\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tStringBuilder largeString = new StringBuilder();\r\n    \t\tfor (int i = 0; i &lt; 524288; i++)\r\n    \t\t{\r\n    \t\t\tlargeString.append(&#39;a&#39;);\r\n    \t\t}\r\n    \t\tlargeString.append(&quot;\\n\\n&quot;);\r\n    \t\tNetworkReturn result = HttpClient.sendHttpPost(&quot;http://localhost:3000/&quot;, largeString.toString());\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"What method call in HttpsURLConnection actually sends the HTTP request?","body":"<p>I finally figured it out. The \"getResponseCode()\" method is the straw that breaks the camel's back (so to speak). Because when I commented out stuff, it was when I commented that part out it didn't \"echo\" my response on the echo server I was using (and printing the received requests to the terminal).</p>\n\n<p>Note: I used a nearly-identical HttpClient class because otherwise the echo server would print out encrypted code like this:</p>\n\n<blockquote>\n  <p>����5D��s����l!���RMav*X?�+gJ.�+�/ �  �����32E98�/A5� P\n        localhost�  </p>\n</blockquote>\n\n<p>When I ran this code as a Java application, the server did not print anything to the terminal:\n(notice the commented out parts)</p>\n\n<pre><code>static NetworkReturn sendHttpPost(String urlString, String postData)\n    {\n        URL url;\n        HttpURLConnection con = null;\n\n        try {\n            url = new URL(urlString);\n            con = (HttpURLConnection) url.openConnection();\n\n            con.setRequestMethod(\"POST\");\n            con.setRequestProperty(\"Content-length\", String.valueOf(postData.length()));\n            con.setRequestProperty(\"Content-Type\", \"application/json\");\n            con.setDoOutput(true);\n\n            DataOutputStream output = new DataOutputStream(con.getOutputStream());\n            output.writeBytes(postData);\n\n            output.close();\n\n            //StringBuilder result = new StringBuilder(), error = new StringBuilder();\n\n            //int responseCode = con.getResponseCode();\n            /*\n            if (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) \n            {\n                if (con.getInputStream() != null) \n                {\n                    InputStream in = new BufferedInputStream(con.getInputStream());\n                    int length;\n                    while ((length = in.read(buffer)) != -1) \n                    {\n                        result.append(new String(buffer, 0, length));\n                    }\n                }\n            }\n            else \n            {\n                if (con.getErrorStream() != null) \n                {\n                    InputStream in = new BufferedInputStream(con.getErrorStream());\n                    int length;\n                    while ((length = in.read(buffer)) != -1) \n                    {\n                        error.append(new String(buffer, 0, length));\n                    }\n                }\n            }\n            return new NetworkReturn(responseCode, result.toString(), error.toString());\n            */\n            return new NetworkReturn();\n\n        }\n        catch (MalformedURLException e) {\n            return new NetworkReturn(-1, \"\", \"MalformedURLException: \" + e.getLocalizedMessage());\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n            return new NetworkReturn(-1, \"\", \"IOEXCEPTION: \" + e.getLocalizedMessage());\n        }\n        finally {\n            if (con != null)\n                con.disconnect();\n        }\n    }\n</code></pre>\n\n<p>However, this code DID make the server print to the terminal:</p>\n\n<pre><code>static NetworkReturn sendHttpPost(String urlString, String postData)\n    {\n        URL url;\n        HttpURLConnection con = null;\n\n        try {\n            url = new URL(urlString);\n            con = (HttpURLConnection) url.openConnection();\n\n            con.setRequestMethod(\"POST\");\n            con.setRequestProperty(\"Content-length\", String.valueOf(postData.length()));\n            con.setRequestProperty(\"Content-Type\", \"application/json\");\n            con.setDoOutput(true);\n\n            DataOutputStream output = new DataOutputStream(con.getOutputStream());\n            output.writeBytes(postData);\n\n            output.close();\n\n            //StringBuilder result = new StringBuilder(), error = new StringBuilder();\n\n            int responseCode = con.getResponseCode();\n            /*\n            if (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) \n            {\n                if (con.getInputStream() != null) \n                {\n                    InputStream in = new BufferedInputStream(con.getInputStream());\n                    int length;\n                    while ((length = in.read(buffer)) != -1) \n                    {\n                        result.append(new String(buffer, 0, length));\n                    }\n                }\n            }\n            else \n            {\n                if (con.getErrorStream() != null) \n                {\n                    InputStream in = new BufferedInputStream(con.getErrorStream());\n                    int length;\n                    while ((length = in.read(buffer)) != -1) \n                    {\n                        error.append(new String(buffer, 0, length));\n                    }\n                }\n            }\n            return new NetworkReturn(responseCode, result.toString(), error.toString());\n            */\n            return new NetworkReturn();\n\n        }\n        catch (MalformedURLException e) {\n            return new NetworkReturn(-1, \"\", \"MalformedURLException: \" + e.getLocalizedMessage());\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n            return new NetworkReturn(-1, \"\", \"IOEXCEPTION: \" + e.getLocalizedMessage());\n        }\n        finally {\n            if (con != null)\n                con.disconnect();\n        }\n    }\n</code></pre>\n\n<p>and the terminal output was this (an echo server, so this is what the request must have looked like):</p>\n\n<blockquote>\n<pre><code>POST / HTTP/1.1\nContent-Type: application/json\nUser-Agent: Java/1.7.0_60\nHost: localhost:3000\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\nConnection: keep-alive\nContent-Length: 16\n\nblah blah blah\n</code></pre>\n</blockquote>\n\n<p>This was the method call I did:</p>\n\n<pre><code>public class Main\n{\n    public static void main(String[] args)\n    {\n        NetworkReturn result = HttpClient.sendHttpPost(\"http://localhost:3000/\", \"blah blah blah\\n\\n\");\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong>\nI tried Brett's suggestion by calling flush to the output stream (getResponseCode() is still commented out, so now I'm seeing if flush will make it work):</p>\n\n<pre><code>...\n\n            DataOutputStream output = new DataOutputStream(con.getOutputStream());\n            output.writeBytes(postData);\n            output.flush(); //&lt;------------here\n\n            output.close();\n\n            //StringBuilder result = new StringBuilder(), error = new StringBuilder();\n\n            //int responseCode = con.getResponseCode();\n            /*\n            if (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) \n            {\n                if\n...\n</code></pre>\n\n<p>But my echo server didn't print anything. It makes sense, now that I think about it, because \"output.close();\" probably calls \"flush()\" already. If flush() worked, then my first code snippet (with getResponseCode() commented out) would have probably worked.</p>\n\n<p><strong>Edit:</strong> Tried to see if a 512 kilobyte request body would make the difference and cause the request to be sent, but it didn't work when <code>getResponseCode()</code> was commented out. I verified that it worked when I uncommented <code>getResponseCode()</code>.</p>\n\n<p>My new main method for testing a large \"file\", assuming a char is 1 byte so it should be over 512 kilobytes:</p>\n\n<pre><code>public class Main\n{\n    public static void main(String[] args)\n    {\n        StringBuilder largeString = new StringBuilder();\n        for (int i = 0; i &lt; 524288; i++)\n        {\n            largeString.append('a');\n        }\n        largeString.append(\"\\n\\n\");\n        NetworkReturn result = HttpClient.sendHttpPost(\"http://localhost:3000/\", largeString.toString());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681347886,"creation_date":1404262930,"answer_id":24521388,"question_id":24520528,"body_markdown":"The first method you call that gets input from the server will set the content-length header and write the output. That could be` getResponseCode()` or `getInputStream()`, or maybe `getErrorStream()`.\r\n\r\nIf you&#39;re using fixed-length or chunked transfer mode, writing is direct.","title":"What method call in HttpsURLConnection actually sends the HTTP request?","body":"<p>The first method you call that gets input from the server will set the content-length header and write the output. That could be<code> getResponseCode()</code> or <code>getInputStream()</code>, or maybe <code>getErrorStream()</code>.</p>\n<p>If you're using fixed-length or chunked transfer mode, writing is direct.</p>\n"}],"owner":{"account_id":2173447,"reputation":9226,"user_id":2423194,"accept_rate":88,"display_name":"Rock Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2337,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24521388,"answer_count":3,"score":3,"last_activity_date":1681347886,"creation_date":1404255057,"question_id":24520528,"body_markdown":"**EDIT:** Now that I&#39;ve figured out some behavior, I&#39;m wondering, *why* does it not send the request as soon as I call `flush()`? or `close()`? Why does it wait until I call `getResponseCode()`?\r\n\r\n----------\r\n**Original question:**\r\n\r\nI am new to the HttpsURLConnection class in java, and looked on the doc and found it not very enlightening. I have inherited this code on a project I am working on (I did not write it myself) and wondered what it&#39;s doing, and how it can be improved.  For example, I can&#39;t tell if &quot;writeBytes&quot; actually sends the data or &quot;close.&quot; I&#39;ve looked at many javadocs and found them to be ambiguous, and haven&#39;t found any good resources for this topic in books or blog posts online. Could someone please enlighten me, or point me to some good resources?\r\n\r\nBy the way, this code is for an android SDK library I am working on.\r\n\r\n**Note**: I understand the theory of HTTP requests very well. I took a class on it. I know all about URL parameters (using the ?name=value) and cookies and RESTful services and TCP and IP... etc. Just struggling to find good docs so I know how to use the java libraries.\r\n\r\n    \r\n**Edit:** Changed this to the HttpClient code because it turns out I couldn&#39;t use Https and still see the request from the echo server. It has the same idea though.\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    public class HttpClient\r\n    {\r\n    \tpublic static final String DEBUG_URL = &quot;http://10.20.1.61:8001/api/ad/v5/&quot;;\r\n    \tpublic static final String MAPPED_KEYWORDS = &quot;get_mapped_keywords/&quot;;\r\n    \r\n    \tprivate static byte[] buffer = new byte[1024];\r\n    \r\n    \tstatic NetworkReturn sendHttpPost(String urlString, String postData)\r\n    \t{\r\n    \t\tURL url;\r\n    \t\tHttpURLConnection con = null;\r\n    \r\n    \t\ttry {\r\n    \t\t\turl = new URL(urlString);\r\n    \t\t\tcon = (HttpURLConnection) url.openConnection();\r\n    \r\n    \t\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n    \t\t\tcon.setRequestProperty(&quot;Content-length&quot;, String.valueOf(postData.length()));\r\n    \t\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\tcon.setDoOutput(true);\r\n    \t\t\t\r\n    \t\t\tDataOutputStream output = new DataOutputStream(con.getOutputStream());\r\n    \t\t\t\r\n    \t\t\toutput.writeBytes(postData);\r\n    \t\t\toutput.close();\r\n    \r\n    \t\t\tStringBuilder result = new StringBuilder(), error = new StringBuilder();\r\n    \r\n    \t\t\tint responseCode = con.getResponseCode();\r\n    \t\t\tif (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) \r\n    \t\t\t{\r\n    \t\t\t\tif (con.getInputStream() != null) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tInputStream in = new BufferedInputStream(con.getInputStream());\r\n    \t\t\t\t\tint length;\r\n    \t\t\t\t\twhile ((length = in.read(buffer)) != -1) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tresult.append(new String(buffer, 0, length));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse \r\n    \t\t\t{\r\n    \t\t\t\tif (con.getErrorStream() != null) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tInputStream in = new BufferedInputStream(con.getErrorStream());\r\n    \t\t\t\t\tint length;\r\n    \t\t\t\t\twhile ((length = in.read(buffer)) != -1) \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\terror.append(new String(buffer, 0, length));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn new NetworkReturn(responseCode, result.toString(), error.toString());\r\n    \r\n    \t\t}\r\n    \t\tcatch (MalformedURLException e) {\r\n    \t\t\treturn new NetworkReturn(-1, &quot;&quot;, &quot;MalformedURLException: &quot; + e.getLocalizedMessage());\r\n    \t\t}\r\n    \t\tcatch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn new NetworkReturn(-1, &quot;&quot;, &quot;IOEXCEPTION: &quot; + e.getLocalizedMessage());\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif (con != null)\r\n    \t\t\t\tcon.disconnect();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"What method call in HttpsURLConnection actually sends the HTTP request?","body":"<p><strong>EDIT:</strong> Now that I've figured out some behavior, I'm wondering, <em>why</em> does it not send the request as soon as I call <code>flush()</code>? or <code>close()</code>? Why does it wait until I call <code>getResponseCode()</code>?</p>\n\n<hr>\n\n<p><strong>Original question:</strong></p>\n\n<p>I am new to the HttpsURLConnection class in java, and looked on the doc and found it not very enlightening. I have inherited this code on a project I am working on (I did not write it myself) and wondered what it's doing, and how it can be improved.  For example, I can't tell if \"writeBytes\" actually sends the data or \"close.\" I've looked at many javadocs and found them to be ambiguous, and haven't found any good resources for this topic in books or blog posts online. Could someone please enlighten me, or point me to some good resources?</p>\n\n<p>By the way, this code is for an android SDK library I am working on.</p>\n\n<p><strong>Note</strong>: I understand the theory of HTTP requests very well. I took a class on it. I know all about URL parameters (using the ?name=value) and cookies and RESTful services and TCP and IP... etc. Just struggling to find good docs so I know how to use the java libraries.</p>\n\n<p><strong>Edit:</strong> Changed this to the HttpClient code because it turns out I couldn't use Https and still see the request from the echo server. It has the same idea though.</p>\n\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class HttpClient\n{\n    public static final String DEBUG_URL = \"http://10.20.1.61:8001/api/ad/v5/\";\n    public static final String MAPPED_KEYWORDS = \"get_mapped_keywords/\";\n\n    private static byte[] buffer = new byte[1024];\n\n    static NetworkReturn sendHttpPost(String urlString, String postData)\n    {\n        URL url;\n        HttpURLConnection con = null;\n\n        try {\n            url = new URL(urlString);\n            con = (HttpURLConnection) url.openConnection();\n\n            con.setRequestMethod(\"POST\");\n            con.setRequestProperty(\"Content-length\", String.valueOf(postData.length()));\n            con.setRequestProperty(\"Content-Type\", \"application/json\");\n            con.setDoOutput(true);\n\n            DataOutputStream output = new DataOutputStream(con.getOutputStream());\n\n            output.writeBytes(postData);\n            output.close();\n\n            StringBuilder result = new StringBuilder(), error = new StringBuilder();\n\n            int responseCode = con.getResponseCode();\n            if (responseCode &gt;= 200 &amp;&amp; responseCode &lt; 300) \n            {\n                if (con.getInputStream() != null) \n                {\n                    InputStream in = new BufferedInputStream(con.getInputStream());\n                    int length;\n                    while ((length = in.read(buffer)) != -1) \n                    {\n                        result.append(new String(buffer, 0, length));\n                    }\n                }\n            }\n            else \n            {\n                if (con.getErrorStream() != null) \n                {\n                    InputStream in = new BufferedInputStream(con.getErrorStream());\n                    int length;\n                    while ((length = in.read(buffer)) != -1) \n                    {\n                        error.append(new String(buffer, 0, length));\n                    }\n                }\n            }\n            return new NetworkReturn(responseCode, result.toString(), error.toString());\n\n        }\n        catch (MalformedURLException e) {\n            return new NetworkReturn(-1, \"\", \"MalformedURLException: \" + e.getLocalizedMessage());\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n            return new NetworkReturn(-1, \"\", \"IOEXCEPTION: \" + e.getLocalizedMessage());\n        }\n        finally {\n            if (con != null)\n                con.disconnect();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments","linked-list","android-listview"],"answers":[{"tags":[],"owner":{"account_id":25871104,"reputation":51,"user_id":19601969,"display_name":"phanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681346504,"creation_date":1681346504,"answer_id":76000834,"question_id":76000723,"body_markdown":"Your app crash seems to be from getList() value.\r\n\r\nIt seems to return null at the beginning.\r\n\r\nPlease try to setup callback method to notify ListviewFragment class when alist value is not null value.\r\n\r\n","title":"Android app crashing when attempting to pass linkedlist to fragment and do anything with it","body":"<p>Your app crash seems to be from getList() value.</p>\n<p>It seems to return null at the beginning.</p>\n<p>Please try to setup callback method to notify ListviewFragment class when alist value is not null value.</p>\n"}],"owner":{"account_id":16544414,"reputation":5,"user_id":11954318,"display_name":"deeko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681346504,"creation_date":1681344688,"question_id":76000723,"body_markdown":"I am trying to display fields of these objects in a listview which I have working and is in a fragment. My issue is with any example I have that is working it appears to be for arraylists not linkedlists. I will then convert to arraylist to puplate listview or find a way of using linkedlist.\r\n\r\nIn my code I create a new linked list and populate it in mainactivity with objects. I have a getter within mainactivity to retrieve the list. I have a fragment listview (created after parsing data and populating linkedlist). I am trying to populate the listview items with fields of these objects but cant figure out how to do this. I am at a stage where before i even attempt to do anything with the linked list I am unable to access it in any way without my app crashing. \r\n\r\nAs below I am creating and populating my linked list etc. and then in listviewfragment trying to access it and eventually afterwards use/change it to populate my listview. Please excuse the mess of code I have been trying multiple different ways to do this and have the same issue every time of crashing upon startup with no error messages.\r\n\r\nFrom what I understand I am creating a list of items within my fragment which is being set to the returned list from main activity and I have tried a simple for each loop to get the description but no matter what changes i make to any piece of code the app crashes instantly on startup without any error message.\r\n\r\n\r\n**MainActivity**\r\n    public class MainActivity extends AppCompatActivity implements OnClickListener\r\n{\r\n    private TextView rawDataDisplay;\r\n\r\n    private Button startButton;\r\n    private String result = &quot;&quot;;\r\n    private String url1=&quot;http://www.bgs.ac.uk/images/logos/bgs_c_w_227x50.gif&quot;;\r\n    private String[] items;\r\n    Map&lt;String, List&lt;ItemClass&gt;&gt; mylist;\r\n    LinkedList &lt;ItemClass&gt; alist = null;\r\n    ItemClass[] arrayofitems = null;\r\n    List &lt;ItemClass&gt; Testlist = null;\r\n    List&lt;ItemClass&gt; list = null;\r\n    ItemClass item = null;\r\n    private String urlSource=&quot;http://quakes.bgs.ac.uk/feeds/MhSeismology.xml&quot;;\r\n    private IncidentFragment incidentfragment;\r\n    private DateRefineFragment daterefinefragment;\r\n    private SearchFragment searchfragment;\r\n    private ViewFragment viewfragment;\r\n    //private LogoFragment logofragment;\r\n    private ListviewFragment listviewfragment;\r\n    private ListtextviewFragment listtextviewfragment;\r\n    private BtntextviewFragment btntextviewfragment;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        LinkedList &lt;ItemClass&gt; alist = null;\r\n        items = new String[50];\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        startProgress();//Parse data and prepare for user selection on startup of app\r\n        // Set up the raw links to the graphical components\r\n        daterefinefragment = new DateRefineFragment();\r\n        searchfragment = new SearchFragment();\r\n        viewfragment = new ViewFragment();\r\n        listviewfragment = new ListviewFragment();\r\n        listtextviewfragment = new ListtextviewFragment();\r\n        btntextviewfragment = new BtntextviewFragment();\r\n\r\n\r\n        //fragments\r\n        FragmentManager manager1 = getSupportFragmentManager();\r\n        FragmentTransaction transaction1 = manager1.beginTransaction();\r\n        transaction1.replace(R.id.listtextviewFragment, listtextviewfragment);\r\n        transaction1.commit();\r\n\r\n        FragmentManager manager2 = getSupportFragmentManager();\r\n        FragmentTransaction transaction2 = manager2.beginTransaction();\r\n        transaction2.replace(R.id.btntextviewFragment, btntextviewfragment);\r\n        transaction2.commit();\r\n\r\n        FragmentManager manager3 = getSupportFragmentManager();\r\n        FragmentTransaction transaction3 = manager3.beginTransaction();\r\n        transaction3.replace(R.id.daterefineFragment, daterefinefragment);\r\n        transaction3.commit();\r\n\r\n        FragmentManager manager4 = getSupportFragmentManager();\r\n        FragmentTransaction transaction4 = manager4.beginTransaction();\r\n        transaction4.replace(R.id.searchFragment, searchfragment);\r\n        transaction4.commit();\r\n\r\n        FragmentManager manager5 = getSupportFragmentManager();\r\n        FragmentTransaction transaction5 = manager5.beginTransaction();\r\n        transaction5.replace(R.id.viewFragment, viewfragment);\r\n        transaction5.commit();\r\n\r\n        FragmentManager manager6 = getSupportFragmentManager();\r\n        FragmentTransaction transaction6 = manager6.beginTransaction();\r\n        transaction6.replace(R.id.listviewFragment, listviewfragment);\r\n        transaction6.commit();\r\n\r\n        // More Code goes here\r\n    }\r\n\r\n    public void onClick(View aview) //probs dont need this with button fragments\r\n    {\r\n        //startProgress();\r\n    }\r\n\r\n    public void startProgress()\r\n    {\r\n        // Run network access on a separate thread;\r\n        new Thread(new Task()).start();\r\n\r\n    } //\r\n\r\n\r\n\r\n    // Need separate thread to access the internet resource over network\r\n    // Other neater solutions should be adopted in later iterations.\r\n    private class Task implements Runnable\r\n    {\r\n        @Override\r\n            public void run()\r\n            {\r\n\r\n                AccessWeb aw = new AccessWeb();//Create object to make use of class\r\n                result = aw.getResult(urlSource);//Runs code within class to retrieve resulting string of data\r\n                new Thread(new dataparsing()).start();//runs parsing of data on seperate thread\r\n            }\r\n\r\n            }\r\n\r\n    public class dataparsing implements Runnable\r\n    {\r\n        @RequiresApi(api = Build.VERSION_CODES.N)\r\n        @Override\r\n        public void run() { //creates new ParseData object and sets alist to returned templist.\r\n            ParseData dp = new ParseData();\r\n            alist = dp.parseData(result);\r\n            //arrayofitems = alist.toArray();\r\n            list = new ArrayList&lt;ItemClass&gt;(alist);\r\n            //Log.d(&quot;UI thread&quot;, &quot;ARRAYOFITEMS &quot; +  arrayofitems[0].);\r\n             mylist = alist.stream().collect(Collectors.groupingBy(ItemClass::getlocation)); //Set mylist to returned list grouped by location\r\n            Testlist = mylist.get(&quot;HIGHLAND&quot;);//set test list to list  returned by get with location of passed string (&quot;GWENT&quot;)\r\n            item = Testlist.get(1); //set item to object returned in first index of previously returned list (Testlist)\r\n             Log.d(&quot;UI thread&quot;, &quot;List test = &quot; + list.get(0) + &quot; &quot; + item.getdescription());//prints location of first item in\r\n            // previously returned list\r\n        }\r\n    }\r\n\r\n\r\n    public  void loggingMethod()  //Method used for logging information.\r\n    {\r\n\r\n            Log.d(&quot;UI thread&quot;, &quot;I am the UI thread&quot;);\r\n            //rawDataDisplay.setText(result); doesnt work as its not being run in main thread\r\n            Log.d(&quot;UI thread&quot;, &quot;first in list printed is &quot; + alist.getFirst() + &quot; and last in list printed is &quot; + alist.getLast());\r\n//          Log.d(&quot;UI thread&quot;, &quot;url1 is &quot; + url1); FUUUUUCK THIS! CREATE A NEW PROJECT TO GET THIS WORKING MAN\r\n    }\r\n\r\n    public List&lt;ItemClass&gt; getList() {\r\n        return alist;\r\n    }\r\n\r\n\r\n\r\n\r\n**Listview Fragment**\r\n    public class ListviewFragment extends Fragment implements AdapterView.OnItemClickListener, View.OnClickListener\r\n{\r\n\r\n\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    )\r\n    {\r\n\r\n\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.frag_listviewfragment, container, false);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        return v;\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState)\r\n    {\r\n\r\n\r\n        super.onViewCreated(view, savedInstanceState);\r\n        ListView listView = (ListView) view.findViewById(R.id.list);\r\n        listView.setOnItemClickListener((AdapterView.OnItemClickListener) this);\r\n\r\n        List&lt;ItemClass&gt; items = ((MainActivity)getActivity()).getList();\r\n\r\n        for(ItemClass i : items){\r\n            Log.d(&quot;UI thread&quot;, &quot;I am the UI thread &quot; + i.getdescription());\r\n        }\r\n        //UserAdapter&lt;ItemClass&gt; adapter = new UserAdapter&lt;ItemClass&gt;(users);\r\n\r\n\r\n\r\n    }\r\n\r\n ","title":"Android app crashing when attempting to pass linkedlist to fragment and do anything with it","body":"<p>I am trying to display fields of these objects in a listview which I have working and is in a fragment. My issue is with any example I have that is working it appears to be for arraylists not linkedlists. I will then convert to arraylist to puplate listview or find a way of using linkedlist.</p>\n<p>In my code I create a new linked list and populate it in mainactivity with objects. I have a getter within mainactivity to retrieve the list. I have a fragment listview (created after parsing data and populating linkedlist). I am trying to populate the listview items with fields of these objects but cant figure out how to do this. I am at a stage where before i even attempt to do anything with the linked list I am unable to access it in any way without my app crashing.</p>\n<p>As below I am creating and populating my linked list etc. and then in listviewfragment trying to access it and eventually afterwards use/change it to populate my listview. Please excuse the mess of code I have been trying multiple different ways to do this and have the same issue every time of crashing upon startup with no error messages.</p>\n<p>From what I understand I am creating a list of items within my fragment which is being set to the returned list from main activity and I have tried a simple for each loop to get the description but no matter what changes i make to any piece of code the app crashes instantly on startup without any error message.</p>\n<p><strong>MainActivity</strong>\npublic class MainActivity extends AppCompatActivity implements OnClickListener\n{\nprivate TextView rawDataDisplay;</p>\n<pre><code>private Button startButton;\nprivate String result = &quot;&quot;;\nprivate String url1=&quot;http://www.bgs.ac.uk/images/logos/bgs_c_w_227x50.gif&quot;;\nprivate String[] items;\nMap&lt;String, List&lt;ItemClass&gt;&gt; mylist;\nLinkedList &lt;ItemClass&gt; alist = null;\nItemClass[] arrayofitems = null;\nList &lt;ItemClass&gt; Testlist = null;\nList&lt;ItemClass&gt; list = null;\nItemClass item = null;\nprivate String urlSource=&quot;http://quakes.bgs.ac.uk/feeds/MhSeismology.xml&quot;;\nprivate IncidentFragment incidentfragment;\nprivate DateRefineFragment daterefinefragment;\nprivate SearchFragment searchfragment;\nprivate ViewFragment viewfragment;\n//private LogoFragment logofragment;\nprivate ListviewFragment listviewfragment;\nprivate ListtextviewFragment listtextviewfragment;\nprivate BtntextviewFragment btntextviewfragment;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    LinkedList &lt;ItemClass&gt; alist = null;\n    items = new String[50];\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    startProgress();//Parse data and prepare for user selection on startup of app\n    // Set up the raw links to the graphical components\n    daterefinefragment = new DateRefineFragment();\n    searchfragment = new SearchFragment();\n    viewfragment = new ViewFragment();\n    listviewfragment = new ListviewFragment();\n    listtextviewfragment = new ListtextviewFragment();\n    btntextviewfragment = new BtntextviewFragment();\n\n\n    //fragments\n    FragmentManager manager1 = getSupportFragmentManager();\n    FragmentTransaction transaction1 = manager1.beginTransaction();\n    transaction1.replace(R.id.listtextviewFragment, listtextviewfragment);\n    transaction1.commit();\n\n    FragmentManager manager2 = getSupportFragmentManager();\n    FragmentTransaction transaction2 = manager2.beginTransaction();\n    transaction2.replace(R.id.btntextviewFragment, btntextviewfragment);\n    transaction2.commit();\n\n    FragmentManager manager3 = getSupportFragmentManager();\n    FragmentTransaction transaction3 = manager3.beginTransaction();\n    transaction3.replace(R.id.daterefineFragment, daterefinefragment);\n    transaction3.commit();\n\n    FragmentManager manager4 = getSupportFragmentManager();\n    FragmentTransaction transaction4 = manager4.beginTransaction();\n    transaction4.replace(R.id.searchFragment, searchfragment);\n    transaction4.commit();\n\n    FragmentManager manager5 = getSupportFragmentManager();\n    FragmentTransaction transaction5 = manager5.beginTransaction();\n    transaction5.replace(R.id.viewFragment, viewfragment);\n    transaction5.commit();\n\n    FragmentManager manager6 = getSupportFragmentManager();\n    FragmentTransaction transaction6 = manager6.beginTransaction();\n    transaction6.replace(R.id.listviewFragment, listviewfragment);\n    transaction6.commit();\n\n    // More Code goes here\n}\n\npublic void onClick(View aview) //probs dont need this with button fragments\n{\n    //startProgress();\n}\n\npublic void startProgress()\n{\n    // Run network access on a separate thread;\n    new Thread(new Task()).start();\n\n} //\n\n\n\n// Need separate thread to access the internet resource over network\n// Other neater solutions should be adopted in later iterations.\nprivate class Task implements Runnable\n{\n    @Override\n        public void run()\n        {\n\n            AccessWeb aw = new AccessWeb();//Create object to make use of class\n            result = aw.getResult(urlSource);//Runs code within class to retrieve resulting string of data\n            new Thread(new dataparsing()).start();//runs parsing of data on seperate thread\n        }\n\n        }\n\npublic class dataparsing implements Runnable\n{\n    @RequiresApi(api = Build.VERSION_CODES.N)\n    @Override\n    public void run() { //creates new ParseData object and sets alist to returned templist.\n        ParseData dp = new ParseData();\n        alist = dp.parseData(result);\n        //arrayofitems = alist.toArray();\n        list = new ArrayList&lt;ItemClass&gt;(alist);\n        //Log.d(&quot;UI thread&quot;, &quot;ARRAYOFITEMS &quot; +  arrayofitems[0].);\n         mylist = alist.stream().collect(Collectors.groupingBy(ItemClass::getlocation)); //Set mylist to returned list grouped by location\n        Testlist = mylist.get(&quot;HIGHLAND&quot;);//set test list to list  returned by get with location of passed string (&quot;GWENT&quot;)\n        item = Testlist.get(1); //set item to object returned in first index of previously returned list (Testlist)\n         Log.d(&quot;UI thread&quot;, &quot;List test = &quot; + list.get(0) + &quot; &quot; + item.getdescription());//prints location of first item in\n        // previously returned list\n    }\n}\n\n\npublic  void loggingMethod()  //Method used for logging information.\n{\n\n        Log.d(&quot;UI thread&quot;, &quot;I am the UI thread&quot;);\n        //rawDataDisplay.setText(result); doesnt work as its not being run in main thread\n        Log.d(&quot;UI thread&quot;, &quot;first in list printed is &quot; + alist.getFirst() + &quot; and last in list printed is &quot; + alist.getLast());\n</code></pre>\n<p>//          Log.d(&quot;UI thread&quot;, &quot;url1 is &quot; + url1); FUUUUUCK THIS! CREATE A NEW PROJECT TO GET THIS WORKING MAN\n}</p>\n<pre><code>public List&lt;ItemClass&gt; getList() {\n    return alist;\n}\n</code></pre>\n<p><strong>Listview Fragment</strong>\npublic class ListviewFragment extends Fragment implements AdapterView.OnItemClickListener, View.OnClickListener\n{</p>\n<pre><code>@Override\npublic View onCreateView(\n        LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState\n)\n{\n\n\n    // Inflate the layout for this fragment\n    View v = inflater.inflate(R.layout.frag_listviewfragment, container, false);\n\n\n\n\n\n\n\n\n    return v;\n}\n\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState)\n{\n\n\n    super.onViewCreated(view, savedInstanceState);\n    ListView listView = (ListView) view.findViewById(R.id.list);\n    listView.setOnItemClickListener((AdapterView.OnItemClickListener) this);\n\n    List&lt;ItemClass&gt; items = ((MainActivity)getActivity()).getList();\n\n    for(ItemClass i : items){\n        Log.d(&quot;UI thread&quot;, &quot;I am the UI thread &quot; + i.getdescription());\n    }\n    //UserAdapter&lt;ItemClass&gt; adapter = new UserAdapter&lt;ItemClass&gt;(users);\n\n\n\n}\n</code></pre>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1676141346,"post_id":75420434,"comment_id":133079600,"body_markdown":"Try looking at [Remove a marker from a GoogleMap](https://stackoverflow.com/questions/13692398/remove-a-marker-from-a-googlemap).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/13692398/remove-a-marker-from-a-googlemap\">Remove a marker from a GoogleMap</a>."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681345297,"creation_date":1681345297,"answer_id":76000763,"question_id":75420434,"body_markdown":"It looks like you forgot to make your marker draggable\r\n\r\n\r\n    private void zoomToUserLocation() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        Task&lt;Location&gt; locationTask = fusedLocationProviderClient.getLastLocation();\r\n        locationTask.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 20));\r\n                mMap.addMarker(new MarkerOptions().position(latLng)); //HERE!!!!!!!!!!!!!!\r\n            }\r\n        });\r\n    }\r\n\r\nFor that last line you&#39;ll want something like: \r\n\r\n    mMap.addMarker(new MarkerOptions().position(latLng)).draggable(true);\r\n\r\n","title":"Draggable marker for android studio","body":"<p>It looks like you forgot to make your marker draggable</p>\n<pre><code>private void zoomToUserLocation() {\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // TODO: Consider calling\n        //    ActivityCompat#requestPermissions\n        // here to request the missing permissions, and then overriding\n        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n        //                                          int[] grantResults)\n        // to handle the case where the user grants the permission. See the documentation\n        // for ActivityCompat#requestPermissions for more details.\n        return;\n    }\n    Task&lt;Location&gt; locationTask = fusedLocationProviderClient.getLastLocation();\n    locationTask.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n        @Override\n        public void onSuccess(Location location) {\n            LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 20));\n            mMap.addMarker(new MarkerOptions().position(latLng)); //HERE!!!!!!!!!!!!!!\n        }\n    });\n}\n</code></pre>\n<p>For that last line you'll want something like:</p>\n<pre><code>mMap.addMarker(new MarkerOptions().position(latLng)).draggable(true);\n</code></pre>\n"}],"owner":{"account_id":27585519,"reputation":17,"user_id":21053785,"display_name":"G PAC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681345297,"creation_date":1676121153,"question_id":75420434,"body_markdown":"I need to use google map in android app to get the address from the users. The customer can drag the marker to anywhere in the map and need to select continue.\r\n\r\nBut my code is working like already there a marker and if you long pressed then a new marker will come and you can drag and drop anywhere, but I need to remove the first marker.\r\n\r\n\r\n\r\n\r\n\r\n\r\n    package com.restaurant.grillizadmin;\r\n    \r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.fragment.app.FragmentActivity;\r\n    \r\n    import android.Manifest;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.location.Address;\r\n    import android.location.Geocoder;\r\n    import android.location.Location;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.gms.location.FusedLocationProviderClient;\r\n    import com.google.android.gms.location.LocationServices;\r\n    import com.google.android.gms.maps.CameraUpdateFactory;\r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.SupportMapFragment;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.Marker;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.firestore.DocumentReference;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.restaurant.grillizadmin.Domain.Items;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class MapsActivity extends FragmentActivity implements OnMapReadyCallback, GoogleMap.OnMapLongClickListener, GoogleMap.OnMarkerDragListener {\r\n    \r\n        private static final String TAG = &quot;MapsActivity&quot;;\r\n        private GoogleMap mMap;\r\n        private Geocoder geocoder;\r\n        private int ACCESS_LOCATION_REQUEST_CODE = 10001;\r\n        FusedLocationProviderClient fusedLocationProviderClient;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_maps);\r\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                    .findFragmentById(R.id.map);\r\n            mapFragment.getMapAsync(this);\r\n            geocoder = new Geocoder(this);\r\n            fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n        }\r\n    \r\n        /**\r\n         * Manipulates the map once available.\r\n         * This callback is triggered when the map is ready to be used.\r\n         * This is where we can add markers or lines, add listeners or move the camera. In this case,\r\n         * we just add a marker near Sydney, Australia.\r\n         * If Google Play services is not installed on the device, the user will be prompted to install\r\n         * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n         * installed Google Play services and returned to the app.\r\n         */\r\n        @Override\r\n        public void onMapReady(GoogleMap googleMap) {\r\n            mMap = googleMap;\r\n    \r\n            mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n    \r\n            mMap.setOnMapLongClickListener(this);\r\n            mMap.setOnMarkerDragListener(this);\r\n    \r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                enableUserLocation();\r\n                zoomToUserLocation();\r\n            } else {\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                    //We can show user a dialog why this permission is necessary\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, ACCESS_LOCATION_REQUEST_CODE);\r\n                } else {\r\n                    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, ACCESS_LOCATION_REQUEST_CODE);\r\n                }\r\n    \r\n            }\r\n    \r\n            // Add a marker at Taj Mahal and move the camera\r\n    //        LatLng latLng = new LatLng(27.1751, 78.0421);\r\n    //        MarkerOptions markerOptions = new MarkerOptions()\r\n    //                                            .position(latLng)\r\n    //                                            .title(&quot;Taj Mahal&quot;)\r\n    //                                            .snippet(&quot;Wonder of the world!&quot;);\r\n    //        mMap.addMarker(markerOptions);\r\n    //        CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(latLng, 16);\r\n    //        mMap.animateCamera(cameraUpdate);\r\n    \r\n            try {\r\n                List&lt;Address&gt; addresses = geocoder.getFromLocationName(&quot;uae&quot;, 1);\r\n                if (addresses.size() &gt; 0) {\r\n                    Address address = addresses.get(0);\r\n                    LatLng london = new LatLng(address.getLatitude(), address.getLongitude());\r\n                    MarkerOptions markerOptions = new MarkerOptions()\r\n                            .position(london)\r\n                            .title(address.getLocality());\r\n                    mMap.addMarker(markerOptions);\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(london, 16));\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void enableUserLocation() {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            mMap.setMyLocationEnabled(true);\r\n        }\r\n    \r\n        private void zoomToUserLocation() {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            Task&lt;Location&gt; locationTask = fusedLocationProviderClient.getLastLocation();\r\n            locationTask.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 20));\r\n                    mMap.addMarker(new MarkerOptions().position(latLng));\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onMapLongClick(LatLng latLng) {\r\n            Log.d(TAG, &quot;onMapLongClick: &quot; + latLng.toString());\r\n            try {\r\n                List&lt;Address&gt; addresses = geocoder.getFromLocation(latLng.latitude, latLng.longitude, 1);\r\n                if (addresses.size() &gt; 0) {\r\n                    Address address = addresses.get(0);\r\n                    String streetAddress = address.getAddressLine(0);\r\n                    mMap.addMarker(new MarkerOptions()\r\n                            .position(latLng)\r\n                            .title(streetAddress)\r\n                            .draggable(true)\r\n                    );\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onMarkerDragStart(Marker marker) {\r\n            Log.d(TAG, &quot;onMarkerDragStart: &quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onMarkerDrag(Marker marker) {\r\n            Log.d(TAG, &quot;onMarkerDrag: &quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onMarkerDragEnd(Marker marker) {\r\n            Log.d(TAG, &quot;onMarkerDragEnd: &quot;);\r\n            LatLng latLng = marker.getPosition();\r\n            try {\r\n                List&lt;Address&gt; addresses = geocoder.getFromLocation(latLng.latitude, latLng.longitude, 1);\r\n                if (addresses.size() &gt; 0) {\r\n                    Address address = addresses.get(0);\r\n                    String streetAddress = address.getAddressLine(0);\r\n                    marker.setTitle(streetAddress);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == ACCESS_LOCATION_REQUEST_CODE) {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    enableUserLocation();\r\n                    zoomToUserLocation();\r\n                } else {\r\n                    //We can show a dialog that permission is not granted...\r\n                }\r\n            }\r\n        }\r\n    }","title":"Draggable marker for android studio","body":"<p>I need to use google map in android app to get the address from the users. The customer can drag the marker to anywhere in the map and need to select continue.</p>\n<p>But my code is working like already there a marker and if you long pressed then a new marker will come and you can drag and drop anywhere, but I need to remove the first marker.</p>\n<pre><code>package com.restaurant.grillizadmin;\n\n\nimport androidx.annotation.NonNull;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.FragmentActivity;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.Marker;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.restaurant.grillizadmin.Domain.Items;\n\nimport java.io.IOException;\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback, GoogleMap.OnMapLongClickListener, GoogleMap.OnMarkerDragListener {\n\n    private static final String TAG = &quot;MapsActivity&quot;;\n    private GoogleMap mMap;\n    private Geocoder geocoder;\n    private int ACCESS_LOCATION_REQUEST_CODE = 10001;\n    FusedLocationProviderClient fusedLocationProviderClient;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n        geocoder = new Geocoder(this);\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n    }\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n\n        mMap.setOnMapLongClickListener(this);\n        mMap.setOnMarkerDragListener(this);\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            enableUserLocation();\n            zoomToUserLocation();\n        } else {\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n                //We can show user a dialog why this permission is necessary\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, ACCESS_LOCATION_REQUEST_CODE);\n            } else {\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, ACCESS_LOCATION_REQUEST_CODE);\n            }\n\n        }\n\n        // Add a marker at Taj Mahal and move the camera\n//        LatLng latLng = new LatLng(27.1751, 78.0421);\n//        MarkerOptions markerOptions = new MarkerOptions()\n//                                            .position(latLng)\n//                                            .title(&quot;Taj Mahal&quot;)\n//                                            .snippet(&quot;Wonder of the world!&quot;);\n//        mMap.addMarker(markerOptions);\n//        CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(latLng, 16);\n//        mMap.animateCamera(cameraUpdate);\n\n        try {\n            List&lt;Address&gt; addresses = geocoder.getFromLocationName(&quot;uae&quot;, 1);\n            if (addresses.size() &gt; 0) {\n                Address address = addresses.get(0);\n                LatLng london = new LatLng(address.getLatitude(), address.getLongitude());\n                MarkerOptions markerOptions = new MarkerOptions()\n                        .position(london)\n                        .title(address.getLocality());\n                mMap.addMarker(markerOptions);\n                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(london, 16));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void enableUserLocation() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        mMap.setMyLocationEnabled(true);\n    }\n\n    private void zoomToUserLocation() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        Task&lt;Location&gt; locationTask = fusedLocationProviderClient.getLastLocation();\n        locationTask.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\n                mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 20));\n                mMap.addMarker(new MarkerOptions().position(latLng));\n            }\n        });\n    }\n\n    @Override\n    public void onMapLongClick(LatLng latLng) {\n        Log.d(TAG, &quot;onMapLongClick: &quot; + latLng.toString());\n        try {\n            List&lt;Address&gt; addresses = geocoder.getFromLocation(latLng.latitude, latLng.longitude, 1);\n            if (addresses.size() &gt; 0) {\n                Address address = addresses.get(0);\n                String streetAddress = address.getAddressLine(0);\n                mMap.addMarker(new MarkerOptions()\n                        .position(latLng)\n                        .title(streetAddress)\n                        .draggable(true)\n                );\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onMarkerDragStart(Marker marker) {\n        Log.d(TAG, &quot;onMarkerDragStart: &quot;);\n    }\n\n    @Override\n    public void onMarkerDrag(Marker marker) {\n        Log.d(TAG, &quot;onMarkerDrag: &quot;);\n    }\n\n    @Override\n    public void onMarkerDragEnd(Marker marker) {\n        Log.d(TAG, &quot;onMarkerDragEnd: &quot;);\n        LatLng latLng = marker.getPosition();\n        try {\n            List&lt;Address&gt; addresses = geocoder.getFromLocation(latLng.latitude, latLng.longitude, 1);\n            if (addresses.size() &gt; 0) {\n                Address address = addresses.get(0);\n                String streetAddress = address.getAddressLine(0);\n                marker.setTitle(streetAddress);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == ACCESS_LOCATION_REQUEST_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                enableUserLocation();\n                zoomToUserLocation();\n            } else {\n                //We can show a dialog that permission is not granted...\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681344633,"creation_date":1681344633,"question_id":76000718,"body_markdown":"I get the texts from all the TextView, add them to a list and then get them with textViewNodes.size() - 3 ).getText() which is the last message sent or received.\r\nI have two problems:\r\n1st - Due to the use of the TYPE_WINDOW_CONTENT_CHANGED event, any change that occurs on the screen runs the code again and I get the same list containing the texts several times.\r\n2nd When scrolling the scrollview of the message screen, the code is executed again and I get the same list of texts several times.\r\nMy idea is to get only once the last messages that are received or sent.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n    package com.system.wifi.service;\r\n    \r\n    import android.accessibilityservice.AccessibilityService;\r\n    import android.util.Log;\r\n    import android.view.accessibility.AccessibilityEvent;\r\n    import android.view.accessibility.AccessibilityNodeInfo;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class MyAccessibilityService extends AccessibilityService {\r\n    \r\n        List&lt;AccessibilityNodeInfo&gt; textViewNodes;\r\n    \r\n        @Override\r\n        protected void onServiceConnected() {\r\n            super.onServiceConnected();\r\n            Log.d(&quot;TAG&quot;, &quot;onServiceConnected................................................&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onAccessibilityEvent(AccessibilityEvent event) {\r\n            Log.d(&quot;TAG&quot;, &quot;onAccessibilityEvent..............................................&quot;);\r\n    \r\n            textViewNodes = new ArrayList&lt;AccessibilityNodeInfo&gt;();\r\n      \r\n            \r\n            AccessibilityNodeInfo rootNode = getRootInActiveWindow();\r\n       \r\n            \r\n            if(AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED == event.getEventType()) {\r\n                Log.e(&quot;TAG&quot;, &quot;TYPE_WINDOW_STATE_CHANGED.....................................&quot;);\r\n                    \r\n                AccessibilityNodeInfo resultFindNameInterlocutor = findNameInterlocutor(rootNode, &quot;com.gbwhatsapp:id/conversation_contact_name&quot;);\r\n                \r\n                if(resultFindNameInterlocutor != null){\r\n                    Log.d(&quot;TAG&quot;, &quot;Interlocutor....................&quot; + resultFindNameInterlocutor.getText());\r\n                }\r\n    \r\n            }\r\n    \r\n    \r\n            if(AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED == event.getEventType()) {\r\n                Log.e(&quot;TAG&quot;, &quot;TYPE_WINDOW_CONTENT_CHANGED.....................................&quot;);\r\n    \r\n                if (rootNode == null) {\r\n                    Log.d(&quot;TAG&quot;, &quot;source &#233; nulo................... .........................&quot;);\r\n                    return;\r\n                }\r\n    \r\n    \r\n    \r\n                AccessibilityNodeInfo resultFindBoxMessage = findBoxMessage(rootNode, &quot;com.gbwhatsapp:id/entry&quot;);\r\n                \r\n                if(resultFindBoxMessage != null){\r\n                        \r\n                    findChildViews(rootNode);\r\n                            \r\n                    if(!textViewNodes.isEmpty()){\r\n                            \r\n                        if(textViewNodes.get( textViewNodes.size() - 3 ).getText() != null){\r\n                                \r\n                            Log.d(&quot;TAG&quot;, textViewNodes.get( textViewNodes.size() - 3 ).getText().toString());\r\n                            \r\n                            Log.d(&quot;TAG&quot;, textViewNodes.get( textViewNodes.size() - 2 ).getText().toString());\r\n    \r\n                        }\r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            rootNode.recycle();\r\n    \r\n        }\r\n    \r\n        \r\n    \r\n        \r\n        private static AccessibilityNodeInfo findNameInterlocutor(AccessibilityNodeInfo nodeInfo, String id){\r\n    \r\n            if (nodeInfo == null || nodeInfo.getClassName() == null) {\r\n                return nodeInfo;\r\n            }\r\n    \r\n            List&lt;AccessibilityNodeInfo&gt; nodeInfos = nodeInfo.findAccessibilityNodeInfosByViewId(id);\r\n    \r\n            if(nodeInfos.size() == 0){\r\n                return null;\r\n            }\r\n            return nodeInfo.findAccessibilityNodeInfosByViewId(id).get(0);\r\n    \r\n        }\r\n    \r\n        \r\n        private static AccessibilityNodeInfo findBoxMessage(AccessibilityNodeInfo nodeInfo, String id){\r\n    \r\n            if (nodeInfo == null || nodeInfo.getClassName() == null) {\r\n                return nodeInfo;\r\n            }\r\n    \r\n            List&lt;AccessibilityNodeInfo&gt; nodeInfos = nodeInfo.findAccessibilityNodeInfosByViewId(id);\r\n    \r\n            if(nodeInfos.size() == 0){\r\n                return null;\r\n            }\r\n            return nodeInfo.findAccessibilityNodeInfosByViewId(id).get(0);\r\n        }\r\n    \r\n    \r\n        \r\n        private AccessibilityNodeInfo findChildViews(AccessibilityNodeInfo parentView) {\r\n    \r\n    \r\n            if (parentView == null || parentView.getClassName() == null) {\r\n                return parentView;\r\n            }\r\n    \r\n            int childCount = parentView.getChildCount();\r\n    \r\n            if (childCount == 0 &amp;&amp; (parentView.getClassName().toString().contentEquals(&quot;android.widget.TextView&quot;))) {\r\n    \r\n                \r\n                textViewNodes.add(parentView);\r\n    \r\n            } else {\r\n                for (int i = 0; i &lt; childCount; i++) {\r\n                    findChildViews(parentView.getChild(i));\r\n                }\r\n            }\r\n            return parentView;\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onInterrupt() {\r\n            Log.d(&quot;TAG&quot;, &quot;onInterrupt.......................................................&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NbZJh.png\r\n  [2]: https://i.stack.imgur.com/uOpfm.png","title":"Get only the last text from a TextView list using accessibility","body":"<p>I get the texts from all the TextView, add them to a list and then get them with textViewNodes.size() - 3 ).getText() which is the last message sent or received.\nI have two problems:\n1st - Due to the use of the TYPE_WINDOW_CONTENT_CHANGED event, any change that occurs on the screen runs the code again and I get the same list containing the texts several times.\n2nd When scrolling the scrollview of the message screen, the code is executed again and I get the same list of texts several times.\nMy idea is to get only once the last messages that are received or sent.</p>\n<p><a href=\"https://i.stack.imgur.com/NbZJh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NbZJh.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/uOpfm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uOpfm.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.system.wifi.service;\n\nimport android.accessibilityservice.AccessibilityService;\nimport android.util.Log;\nimport android.view.accessibility.AccessibilityEvent;\nimport android.view.accessibility.AccessibilityNodeInfo;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class MyAccessibilityService extends AccessibilityService {\n\n    List&lt;AccessibilityNodeInfo&gt; textViewNodes;\n\n    @Override\n    protected void onServiceConnected() {\n        super.onServiceConnected();\n        Log.d(&quot;TAG&quot;, &quot;onServiceConnected................................................&quot;);\n    }\n\n    @Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\n        Log.d(&quot;TAG&quot;, &quot;onAccessibilityEvent..............................................&quot;);\n\n        textViewNodes = new ArrayList&lt;AccessibilityNodeInfo&gt;();\n  \n        \n        AccessibilityNodeInfo rootNode = getRootInActiveWindow();\n   \n        \n        if(AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED == event.getEventType()) {\n            Log.e(&quot;TAG&quot;, &quot;TYPE_WINDOW_STATE_CHANGED.....................................&quot;);\n                \n            AccessibilityNodeInfo resultFindNameInterlocutor = findNameInterlocutor(rootNode, &quot;com.gbwhatsapp:id/conversation_contact_name&quot;);\n            \n            if(resultFindNameInterlocutor != null){\n                Log.d(&quot;TAG&quot;, &quot;Interlocutor....................&quot; + resultFindNameInterlocutor.getText());\n            }\n\n        }\n\n\n        if(AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED == event.getEventType()) {\n            Log.e(&quot;TAG&quot;, &quot;TYPE_WINDOW_CONTENT_CHANGED.....................................&quot;);\n\n            if (rootNode == null) {\n                Log.d(&quot;TAG&quot;, &quot;source é nulo................... .........................&quot;);\n                return;\n            }\n\n\n\n            AccessibilityNodeInfo resultFindBoxMessage = findBoxMessage(rootNode, &quot;com.gbwhatsapp:id/entry&quot;);\n            \n            if(resultFindBoxMessage != null){\n                    \n                findChildViews(rootNode);\n                        \n                if(!textViewNodes.isEmpty()){\n                        \n                    if(textViewNodes.get( textViewNodes.size() - 3 ).getText() != null){\n                            \n                        Log.d(&quot;TAG&quot;, textViewNodes.get( textViewNodes.size() - 3 ).getText().toString());\n                        \n                        Log.d(&quot;TAG&quot;, textViewNodes.get( textViewNodes.size() - 2 ).getText().toString());\n\n                    }\n                }\n            }\n\n        }\n\n        rootNode.recycle();\n\n    }\n\n    \n\n    \n    private static AccessibilityNodeInfo findNameInterlocutor(AccessibilityNodeInfo nodeInfo, String id){\n\n        if (nodeInfo == null || nodeInfo.getClassName() == null) {\n            return nodeInfo;\n        }\n\n        List&lt;AccessibilityNodeInfo&gt; nodeInfos = nodeInfo.findAccessibilityNodeInfosByViewId(id);\n\n        if(nodeInfos.size() == 0){\n            return null;\n        }\n        return nodeInfo.findAccessibilityNodeInfosByViewId(id).get(0);\n\n    }\n\n    \n    private static AccessibilityNodeInfo findBoxMessage(AccessibilityNodeInfo nodeInfo, String id){\n\n        if (nodeInfo == null || nodeInfo.getClassName() == null) {\n            return nodeInfo;\n        }\n\n        List&lt;AccessibilityNodeInfo&gt; nodeInfos = nodeInfo.findAccessibilityNodeInfosByViewId(id);\n\n        if(nodeInfos.size() == 0){\n            return null;\n        }\n        return nodeInfo.findAccessibilityNodeInfosByViewId(id).get(0);\n    }\n\n\n    \n    private AccessibilityNodeInfo findChildViews(AccessibilityNodeInfo parentView) {\n\n\n        if (parentView == null || parentView.getClassName() == null) {\n            return parentView;\n        }\n\n        int childCount = parentView.getChildCount();\n\n        if (childCount == 0 &amp;&amp; (parentView.getClassName().toString().contentEquals(&quot;android.widget.TextView&quot;))) {\n\n            \n            textViewNodes.add(parentView);\n\n        } else {\n            for (int i = 0; i &lt; childCount; i++) {\n                findChildViews(parentView.getChild(i));\n            }\n        }\n        return parentView;\n    }\n\n\n\n    @Override\n    public void onInterrupt() {\n        Log.d(&quot;TAG&quot;, &quot;onInterrupt.......................................................&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","variables"],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681344445,"creation_date":1681344445,"answer_id":76000703,"question_id":76000635,"body_markdown":"I&#39;d follow a pattern more like this:\r\n\r\n    char answer;\r\n    boolean invalid;    \r\n    do {\r\n      System.out.print(&quot;Operation: &quot;);\r\n      answer = input.nextLine().charAt(0);\r\n      invalid = (answer != &#39;*&#39; &amp;&amp; answer != &#39;/&#39; &amp;&amp; answer != &#39;+&#39; &amp;&amp; answer != &#39;-&#39;);\r\n      if (invalid) {\r\n        System.out.println(&quot;Invalid operation. Please re-enter!&quot;);\r\n      }\r\n    } while (invalid);\r\n    \r\n    // ... do something with &quot;answer&quot; here ...\r\n","title":"how can i use an inputed variable from user in a loop and outside the loop","body":"<p>I'd follow a pattern more like this:</p>\n<pre><code>char answer;\nboolean invalid;    \ndo {\n  System.out.print(&quot;Operation: &quot;);\n  answer = input.nextLine().charAt(0);\n  invalid = (answer != '*' &amp;&amp; answer != '/' &amp;&amp; answer != '+' &amp;&amp; answer != '-');\n  if (invalid) {\n    System.out.println(&quot;Invalid operation. Please re-enter!&quot;);\n  }\n} while (invalid);\n\n// ... do something with &quot;answer&quot; here ...\n</code></pre>\n"}],"owner":{"account_id":24478126,"reputation":3,"user_id":18396923,"display_name":"Hussein Darwish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76000703,"answer_count":1,"score":-1,"last_activity_date":1681344445,"creation_date":1681343253,"question_id":76000635,"body_markdown":"```\r\nchar answer = input.next().charAt(0);\r\n     for (int i =1 ;i!=0 ; ) {\r\n    \t \r\n    \t\r\n    \t int j = 0 ; \r\n    if ( answer==&#39;*&#39; ||  answer==&#39;/&#39; || answer==&#39;+&#39; || answer==&#39;-&#39;) {\r\n    \ti= 0 ; \r\n    }\r\n    else \r\n \t{\r\n \t\ti=1; \r\n \t\t\r\n \t\twhile ( j&lt;i) {\r\n \t\t\tSystem.out.println( &quot; please reenter the operation &quot;) ; \r\n \t\t\t//answer=input.next().charAt(0) ; \r\n \t\t\tj++ ; \r\n \t\t}\r\n \t\t\r\n     }\r\n  \r\n}\r\n```\r\n\r\nin this code i declared the variable answer outside the loop to run the code \r\nbut in my main code i tried to put the variable inside the loop \r\nas here for example \r\n \r\n```\r\n     for (int i =1 ;i!=0 ; ) {\r\n    \tchar answer = input.next().charAt(0)  ; \r\n}\r\n```\r\n .......\r\n \r\n so the variable outside the loop  can&#39;t be used ","title":"how can i use an inputed variable from user in a loop and outside the loop","body":"<pre><code>char answer = input.next().charAt(0);\n     for (int i =1 ;i!=0 ; ) {\n         \n        \n         int j = 0 ; \n    if ( answer=='*' ||  answer=='/' || answer=='+' || answer=='-') {\n        i= 0 ; \n    }\n    else \n    {\n        i=1; \n        \n        while ( j&lt;i) {\n            System.out.println( &quot; please reenter the operation &quot;) ; \n            //answer=input.next().charAt(0) ; \n            j++ ; \n        }\n        \n     }\n  \n}\n</code></pre>\n<p>in this code i declared the variable answer outside the loop to run the code\nbut in my main code i tried to put the variable inside the loop\nas here for example</p>\n<pre><code>     for (int i =1 ;i!=0 ; ) {\n        char answer = input.next().charAt(0)  ; \n}\n</code></pre>\n<p>.......</p>\n<p>so the variable outside the loop  can't be used</p>\n"},{"tags":["java","modelmapper"],"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":1,"creation_date":1501076091,"post_id":45328390,"comment_id":77618676,"body_markdown":"Here you don&#39;t map. You hardcode a value in the target object. Why using model mapper for this ? It seems more intricate as needed.","body":"Here you don&#39;t map. You hardcode a value in the target object. Why using model mapper for this ? It seems more intricate as needed."},{"owner":{"account_id":942379,"reputation":1439,"user_id":970229,"display_name":"Marcio Jasinski"},"score":0,"creation_date":1501181568,"post_id":45328390,"comment_id":77679149,"body_markdown":"Yeah, maybe it is more intricate that it should be... But I&#39;ve decided to ask since I did such mistake and 2 days later another dev asked me about the same thing... So the idea of keep static values on the mapper (instead of entity/dto) seems to be the preferred way for some devs.","body":"Yeah, maybe it is more intricate that it should be... But I&#39;ve decided to ask since I did such mistake and 2 days later another dev asked me about the same thing... So the idea of keep static values on the mapper (instead of entity/dto) seems to be the preferred way for some devs."}],"answers":[{"tags":[],"owner":{"account_id":2316300,"reputation":2738,"user_id":2033294,"accept_rate":86,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681343954,"creation_date":1681343954,"answer_id":76000680,"question_id":45328390,"body_markdown":"This is super old, but...\r\n\r\nThis worked for me:\r\n\r\n    this.mapper.typeMap(MyEntity.class, MyDTO.class)\r\n            .addMapping(src -&gt; &quot;ACTIVE&quot;, MyDTO::setStatus);\r\n\r\n*Note: addMapping VS addMappings*","title":"Mapping a hardcoded value with ModelMapper","body":"<p>This is super old, but...</p>\n<p>This worked for me:</p>\n<pre><code>this.mapper.typeMap(MyEntity.class, MyDTO.class)\n        .addMapping(src -&gt; &quot;ACTIVE&quot;, MyDTO::setStatus);\n</code></pre>\n<p><em>Note: addMapping VS addMappings</em></p>\n"}],"owner":{"account_id":942379,"reputation":1439,"user_id":970229,"display_name":"Marcio Jasinski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2730,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1681343954,"creation_date":1501075624,"question_id":45328390,"body_markdown":"I&#39;m evaluating the [ModelMapper library][1] to map a project DTOs and Entities. Although the library is quite powerful, I could not find a way to map a hardcoded value from on Entity to its DTO representation.\r\n\r\nThe ModelMapper, maps a method from source class to a method on destination class. For example:\r\n\r\n    modelMapper.createTypeMap(MyEntity.class, MyDTO.class)\r\n        .addMappings(mapper -&gt; mapper.map(MyEntity::getName, MyDTO::setFirstName))\r\n        .addMappings(mapper -&gt; mapper.map(MyEntity::getSurname, MyDTO::setLastName))\r\n\r\nBut I&#39;ve an attribute on DTO which is not present on the entity side yet. Using a Spring converter class, this mapping was always done by a hardcoded value like this `dto.setStatus(&quot;ACTIVE&quot;);`. But using ModelMapper I can&#39;t figure out how to do it properly. My first attempt was something like that:\r\n\r\n        .addMappings(mapper -&gt; mapper.map(s -&gt; {return &quot;ACTIVE&quot;;}, MyDTO::setStatus))\r\n\r\nHowever, the mapping above does not work since ModelMapper expects to map a `get` method from the source. Thus, a return has no effect and in fact the code above results in runtime error.\r\n\r\nA possible solution, which is quite ugly is to force the desired result with `using` helper like this:\r\n\r\n    addMappings(mapper -&gt; mapper.using(c -&gt; &quot;ACTIVE&quot;).map(MyEntity::getName, MyDTO::setStatus)); \r\n\r\nIn this case, the `getName` method is used just to provide a `get` method while the real value will be replaced by `ACTIVE`. But since this is a unclear solution, I would like to understand whether there is a better solution to solve this **using ModelMapper**. \r\n\r\nAnother solution is add to my entity/dto a method `public String getStatus() { return &quot;ACTIVE&quot;; }`. But I really would like to keep all hardcoded values on mappers.\r\n\r\n\r\n  [1]: http://modelmapper.org/","title":"Mapping a hardcoded value with ModelMapper","body":"<p>I'm evaluating the <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper library</a> to map a project DTOs and Entities. Although the library is quite powerful, I could not find a way to map a hardcoded value from on Entity to its DTO representation.</p>\n\n<p>The ModelMapper, maps a method from source class to a method on destination class. For example:</p>\n\n<pre><code>modelMapper.createTypeMap(MyEntity.class, MyDTO.class)\n    .addMappings(mapper -&gt; mapper.map(MyEntity::getName, MyDTO::setFirstName))\n    .addMappings(mapper -&gt; mapper.map(MyEntity::getSurname, MyDTO::setLastName))\n</code></pre>\n\n<p>But I've an attribute on DTO which is not present on the entity side yet. Using a Spring converter class, this mapping was always done by a hardcoded value like this <code>dto.setStatus(\"ACTIVE\");</code>. But using ModelMapper I can't figure out how to do it properly. My first attempt was something like that:</p>\n\n<pre><code>    .addMappings(mapper -&gt; mapper.map(s -&gt; {return \"ACTIVE\";}, MyDTO::setStatus))\n</code></pre>\n\n<p>However, the mapping above does not work since ModelMapper expects to map a <code>get</code> method from the source. Thus, a return has no effect and in fact the code above results in runtime error.</p>\n\n<p>A possible solution, which is quite ugly is to force the desired result with <code>using</code> helper like this:</p>\n\n<pre><code>addMappings(mapper -&gt; mapper.using(c -&gt; \"ACTIVE\").map(MyEntity::getName, MyDTO::setStatus)); \n</code></pre>\n\n<p>In this case, the <code>getName</code> method is used just to provide a <code>get</code> method while the real value will be replaced by <code>ACTIVE</code>. But since this is a unclear solution, I would like to understand whether there is a better solution to solve this <strong>using ModelMapper</strong>. </p>\n\n<p>Another solution is add to my entity/dto a method <code>public String getStatus() { return \"ACTIVE\"; }</code>. But I really would like to keep all hardcoded values on mappers.</p>\n"},{"tags":["java","hibernate","jpa","orm","hibernate-mapping"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1681690297,"post_id":75999584,"comment_id":134092512,"body_markdown":"please have a look.\nhttps://vladmihalcea.com/orphanremoval-jpa-hibernate/","body":"please have a look. <a href=\"https://vladmihalcea.com/orphanremoval-jpa-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/orphanremoval-jpa-hibernate</a>"}],"answers":[{"tags":[],"owner":{"account_id":28217300,"reputation":11,"user_id":21568607,"display_name":"Khojimurod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681343924,"creation_date":1681343924,"answer_id":76000675,"question_id":75999584,"body_markdown":"    private static ArrayList&lt;Tag&gt; tag = new ArrayList&lt;Tag&gt;();\r\n    public void removeTag() {\r\n        for (int i = 0; i &lt; tag.size(); i++) {\r\n                System.out.println(i + &quot; &quot; + tag.get(i));\r\n            }\r\n            int removeTag = scanner.nextInt();\r\n            if (removeTag &lt;= tag.size()) {\r\n                tag.remove(removeTag - 1);\r\n            }\r\n        }\r\n\r\nTry this. I immediately say that I&#39;m still studying and I don&#39;t know if my answer is correct..","title":"How to automatically delete orphan children when the parent is deleted from a many-to-many relationship (with an extra column) with JPA annotations","body":"<pre><code>private static ArrayList&lt;Tag&gt; tag = new ArrayList&lt;Tag&gt;();\npublic void removeTag() {\n    for (int i = 0; i &lt; tag.size(); i++) {\n            System.out.println(i + &quot; &quot; + tag.get(i));\n        }\n        int removeTag = scanner.nextInt();\n        if (removeTag &lt;= tag.size()) {\n            tag.remove(removeTag - 1);\n        }\n    }\n</code></pre>\n<p>Try this. I immediately say that I'm still studying and I don't know if my answer is correct..</p>\n"}],"owner":{"account_id":28287998,"reputation":1,"user_id":21628612,"display_name":"Bogdan Constantin Popovici"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681343924,"creation_date":1681331416,"question_id":75999584,"body_markdown":"I have 2 entities (Post and Tag) mapped to a many-to-many relationship using an intermediary entity(PostTag) for the join table (to be able to map an additional column to the join table).\r\n\r\n    Post\r\n    +----+--------+\r\n    | id | name   |\r\n    +----+--------+\r\n    |  1 | Post 1 |\r\n    |  2 | Post 2 |\r\n    +----+--------+\r\n    \r\n    Tag\r\n    +----+--------+\r\n    | id | name   |\r\n    +----+--------+\r\n    |  1 | Tag  1 |\r\n    |  2 | Tag  2 |\r\n    +----+--------+\r\n    \r\n    Post_Tag\r\n    +----+-----------------------+---------+--------+\r\n    | end_date                   | post_id | tag_id |\r\n    +----+-----------------------+---------+--------+\r\n    | 2020-10-27 13:44:17.045000 |       1 |      1 |\r\n    | 2020-10-27 13:44:17.045000 |       2 |      1 |\r\n    | 2020-10-27 13:44:17.057000 |       2 |      2 |\r\n    +----+-----------------------+---------+--------+\r\n\r\nCase 1:\r\nIs there a way to automatically delete tag(id=2) from Tag table when post(id=2) is deleted from Post table?\r\ntag(id=1) from Tag table should not be deleted.\r\n\r\nCase 2:\r\nIs there a way to automatically delete tag(id=2) from Tag table when the association between tag(id=2) and post(id=2) is deleted?\r\n\r\n\r\n```\r\n@Entity()\r\n@Table(name = &quot;post&quot;)\r\npublic class Post {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private UUID id;\r\n\r\n    private String title;\r\n\r\n    @OneToMany(\r\n            mappedBy = &quot;post&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    private Set&lt;PostTag&gt; tags = new HashSet&lt;&gt;();\r\n\r\n    public Post() {\r\n    }\r\n\r\n    public Post(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    //Getters and setters omitted for brevity\r\n\r\n    public void addTag(Tag tag, ZonedDateTime zonedDateTime) {\r\n        PostTag postTag = new PostTag(this, tag);\r\n        postTag.setEndDate(zonedDateTime);\r\n        tags.add(postTag);\r\n    }\r\n\r\n    public void removeTag(Tag tag) {\r\n        for (Iterator&lt;PostTag&gt; iterator = tags.iterator();\r\n             iterator.hasNext(); ) {\r\n            PostTag postTag = iterator.next();\r\n\r\n            if (postTag.getPost().equals(this) &amp;&amp;\r\n                    postTag.getTag().equals(tag)) {\r\n                iterator.remove();\r\n                postTag.setPost(null);\r\n                postTag.setTag(null);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n@Entity()\r\n@Table(name = &quot;tag&quot;)\r\npublic class Tag {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID id;\r\n\r\n    private String name;\r\n\r\n    public Tag() {\r\n    }\r\n\r\n    public Tag(UUID id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    //Getters and setters omitted for brevity\r\n}\r\n\r\n@Embeddable\r\npublic class PostTagId implements Serializable {\r\n\r\n    @Column(name = &quot;post_id&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID postId;\r\n\r\n    @Column(name = &quot;tag_id&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID tagId;\r\n\r\n    PostTagId() {}\r\n\r\n    public PostTagId(UUID postId, UUID tagId) {\r\n        this.postId = postId;\r\n        this.tagId = tagId;\r\n    }\r\n    //Getters and setters omitted for brevity\r\n}\r\n\r\n@Entity()\r\n@Table(name = &quot;post_tag&quot;)\r\npublic class PostTag {\r\n    @EmbeddedId\r\n    private PostTagId id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;postId&quot;)\r\n    private Post post;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;tagId&quot;)\r\n    private Tag tag;\r\n\r\n    // extra column\r\n    @Column(name = &quot;end_date&quot;)\r\n    private ZonedDateTime endDate;\r\n\r\n    PostTag() {}\r\n\r\n    public PostTag(Post post, Tag tag) {\r\n        this.post = post;\r\n        this.tag = tag;\r\n        this.id = new PostTagId(post.getId(), tag.getId());\r\n    }\r\n\r\n    public PostTagId getId() {\r\n        return id;\r\n    }\r\n    //Getters and setters omitted for brevity\r\n}\r\n\r\nCase 1:\r\npublic void deletePost(Post post) {\r\n        postRepository.delete(post);\r\n    }\r\n\r\nCase 2:\r\npublic void removeTag(Post post, Tag tag) {\r\n        post.removeTag(tag);\r\n        postRepository.save(post);\r\n    }\r\n```","title":"How to automatically delete orphan children when the parent is deleted from a many-to-many relationship (with an extra column) with JPA annotations","body":"<p>I have 2 entities (Post and Tag) mapped to a many-to-many relationship using an intermediary entity(PostTag) for the join table (to be able to map an additional column to the join table).</p>\n<pre><code>Post\n+----+--------+\n| id | name   |\n+----+--------+\n|  1 | Post 1 |\n|  2 | Post 2 |\n+----+--------+\n\nTag\n+----+--------+\n| id | name   |\n+----+--------+\n|  1 | Tag  1 |\n|  2 | Tag  2 |\n+----+--------+\n\nPost_Tag\n+----+-----------------------+---------+--------+\n| end_date                   | post_id | tag_id |\n+----+-----------------------+---------+--------+\n| 2020-10-27 13:44:17.045000 |       1 |      1 |\n| 2020-10-27 13:44:17.045000 |       2 |      1 |\n| 2020-10-27 13:44:17.057000 |       2 |      2 |\n+----+-----------------------+---------+--------+\n</code></pre>\n<p>Case 1:\nIs there a way to automatically delete tag(id=2) from Tag table when post(id=2) is deleted from Post table?\ntag(id=1) from Tag table should not be deleted.</p>\n<p>Case 2:\nIs there a way to automatically delete tag(id=2) from Tag table when the association between tag(id=2) and post(id=2) is deleted?</p>\n<pre><code>@Entity()\n@Table(name = &quot;post&quot;)\npublic class Post {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\n    private UUID id;\n\n    private String title;\n\n    @OneToMany(\n            mappedBy = &quot;post&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private Set&lt;PostTag&gt; tags = new HashSet&lt;&gt;();\n\n    public Post() {\n    }\n\n    public Post(String title) {\n        this.title = title;\n    }\n\n    //Getters and setters omitted for brevity\n\n    public void addTag(Tag tag, ZonedDateTime zonedDateTime) {\n        PostTag postTag = new PostTag(this, tag);\n        postTag.setEndDate(zonedDateTime);\n        tags.add(postTag);\n    }\n\n    public void removeTag(Tag tag) {\n        for (Iterator&lt;PostTag&gt; iterator = tags.iterator();\n             iterator.hasNext(); ) {\n            PostTag postTag = iterator.next();\n\n            if (postTag.getPost().equals(this) &amp;&amp;\n                    postTag.getTag().equals(tag)) {\n                iterator.remove();\n                postTag.setPost(null);\n                postTag.setTag(null);\n            }\n        }\n    }\n}\n\n@Entity()\n@Table(name = &quot;tag&quot;)\npublic class Tag {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID id;\n\n    private String name;\n\n    public Tag() {\n    }\n\n    public Tag(UUID id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    //Getters and setters omitted for brevity\n}\n\n@Embeddable\npublic class PostTagId implements Serializable {\n\n    @Column(name = &quot;post_id&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID postId;\n\n    @Column(name = &quot;tag_id&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID tagId;\n\n    PostTagId() {}\n\n    public PostTagId(UUID postId, UUID tagId) {\n        this.postId = postId;\n        this.tagId = tagId;\n    }\n    //Getters and setters omitted for brevity\n}\n\n@Entity()\n@Table(name = &quot;post_tag&quot;)\npublic class PostTag {\n    @EmbeddedId\n    private PostTagId id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;postId&quot;)\n    private Post post;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;tagId&quot;)\n    private Tag tag;\n\n    // extra column\n    @Column(name = &quot;end_date&quot;)\n    private ZonedDateTime endDate;\n\n    PostTag() {}\n\n    public PostTag(Post post, Tag tag) {\n        this.post = post;\n        this.tag = tag;\n        this.id = new PostTagId(post.getId(), tag.getId());\n    }\n\n    public PostTagId getId() {\n        return id;\n    }\n    //Getters and setters omitted for brevity\n}\n\nCase 1:\npublic void deletePost(Post post) {\n        postRepository.delete(post);\n    }\n\nCase 2:\npublic void removeTag(Post post, Tag tag) {\n        post.removeTag(tag);\n        postRepository.save(post);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681323685,"post_id":75998603,"comment_id":134039523,"body_markdown":"what url do you call? does it hit a breakpoint in index() at return &quot;login&quot;;?","body":"what url do you call? does it hit a breakpoint in index() at return &quot;login&quot;;?"},{"owner":{"account_id":47434,"reputation":5531,"user_id":140467,"display_name":"Mikael Gueck"},"score":0,"creation_date":1681325022,"post_id":75998603,"comment_id":134039808,"body_markdown":"You would make providing you answers so much easier if you created a public GitHub repository with your complete, runnable test project.","body":"You would make providing you answers so much easier if you created a public GitHub repository with your complete, runnable test project."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1681343336,"post_id":75998603,"comment_id":134042877,"body_markdown":"404 means the URL you used is incorrect.","body":"404 means the URL you used is incorrect."}],"answers":[{"tags":[],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681332177,"creation_date":1681332177,"answer_id":75999663,"question_id":75998603,"body_markdown":"Add this dependency to your pom.xml\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Why is Spring Boot not rendering my view and instead showing a 404 error?","body":"<p>Add this dependency to your pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27882155,"reputation":1,"user_id":21290389,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681343021,"creation_date":1681323060,"question_id":75998603,"body_markdown":"I just started working with Spring Boot, and I&#39;m trying to develop a very simple web application. I made a view to display a form and I&#39;m trying to render it through a controller. However, when I open my page on localhost, it displays a Whitelabel Error Page with the error 404. I&#39;ve looked for multiple things but I don&#39;t know where I went wrong.\r\n\r\nThis is my controller\r\n```\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class UserController {\r\n\r\n  @GetMapping\r\n  public String index() {\r\n    return &quot;login&quot;;\r\n  }\r\n\r\n}\r\n```\r\n\r\nThis is the main file\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd finally this is my view &quot;login.html&quot;. It&#39;s located at src/main/resources/templates:\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt; \r\n    &lt;title&gt;Getting Started: Handling Form Submission&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;Form&lt;/h1&gt;\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\r\n    \t&lt;p&gt;Id: &lt;input type=&quot;text&quot; th:field=&quot;*{id}&quot; /&gt;&lt;/p&gt;\r\n        &lt;p&gt;Message: &lt;input type=&quot;text&quot; th:field=&quot;*{content}&quot; /&gt;&lt;/p&gt;\r\n        &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI expected this to work and I see no other error apart from the 404, and I don&#39;t know where I messed up. I thought it was okay but it clearly isn&#39;t. I&#39;d like to know what I did wrong so I can correct it.","title":"Why is Spring Boot not rendering my view and instead showing a 404 error?","body":"<p>I just started working with Spring Boot, and I'm trying to develop a very simple web application. I made a view to display a form and I'm trying to render it through a controller. However, when I open my page on localhost, it displays a Whitelabel Error Page with the error 404. I've looked for multiple things but I don't know where I went wrong.</p>\n<p>This is my controller</p>\n<pre><code>package com.example.demo.user;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class UserController {\n\n  @GetMapping\n  public String index() {\n    return &quot;login&quot;;\n  }\n\n}\n</code></pre>\n<p>This is the main file</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>And finally this is my view &quot;login.html&quot;. It's located at src/main/resources/templates:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt; \n    &lt;title&gt;Getting Started: Handling Form Submission&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Form&lt;/h1&gt;\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\n        &lt;p&gt;Id: &lt;input type=&quot;text&quot; th:field=&quot;*{id}&quot; /&gt;&lt;/p&gt;\n        &lt;p&gt;Message: &lt;input type=&quot;text&quot; th:field=&quot;*{content}&quot; /&gt;&lt;/p&gt;\n        &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;input type=&quot;reset&quot; value=&quot;Reset&quot; /&gt;&lt;/p&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I expected this to work and I see no other error apart from the 404, and I don't know where I messed up. I thought it was okay but it clearly isn't. I'd like to know what I did wrong so I can correct it.</p>\n"},{"tags":["java","multithreading","deadlock","semaphore"],"comments":[{"owner":{"account_id":1622656,"reputation":1043,"user_id":1498904,"accept_rate":100,"display_name":"nomoa"},"score":1,"creation_date":1681330034,"post_id":75998943,"comment_id":134040889,"body_markdown":"Taking a stackdump of the process when it&#39;s stuck would be helpful, at a glance I can&#39;t see where the deadlock happens (perhaps if one thread dies between the two try stmts?). But generally it&#39;s not ideal to use 2 semaphores, one semaphore is meant to protect one resource from getting accessed by a certain number of processes. I&#39;m suspecting that what you want to do would be better done with Lock and Condition (see the example here https://devdocs.io/openjdk~19/java.base/java/util/concurrent/locks/condition)","body":"Taking a stackdump of the process when it&#39;s stuck would be helpful, at a glance I can&#39;t see where the deadlock happens (perhaps if one thread dies between the two try stmts?). But generally it&#39;s not ideal to use 2 semaphores, one semaphore is meant to protect one resource from getting accessed by a certain number of processes. I&#39;m suspecting that what you want to do would be better done with Lock and Condition (see the example here <a href=\"https://devdocs.io/openjdk~19/java.base/java/util/concurrent/locks/condition\" rel=\"nofollow noreferrer\">devdocs.io/openjdk~19/java.base/java/util/concurrent/locks/&hellip;</a>&zwnj;&#8203;)"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1681332585,"post_id":75998943,"comment_id":134041406,"body_markdown":"Why do you think that there is a deadlock? There is no deadlock when I run your program. The program terminates normally...","body":"Why do you think that there is a deadlock? There is no deadlock when I run your program. The program terminates normally..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1681332672,"post_id":75998943,"comment_id":134041423,"body_markdown":"...After printing _one line of output._ If I change `sleep(10)` to `sleep(100)` then it prints many lines of output. Maybe a ten millisecond sleep is not long enough to allow the threads to get started and do quite as much work as you were expecting them to do.","body":"...After printing <i>one line of output.</i> If I change <code>sleep(10)</code> to <code>sleep(100)</code> then it prints many lines of output. Maybe a ten millisecond sleep is not long enough to allow the threads to get started and do quite as much work as you were expecting them to do."},{"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"score":0,"creation_date":1681333009,"post_id":75998943,"comment_id":134041495,"body_markdown":"@SolomonSlow there is a deadlock... run the program more than once there is a case where the program never ends... stack trace shows it occurs when producer try to acquire the permit at semProd.acquire();","body":"@SolomonSlow there is a deadlock... run the program more than once there is a case where the program never ends... stack trace shows it occurs when producer try to acquire the permit at semProd.acquire();"},{"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"score":1,"creation_date":1681333245,"post_id":75998943,"comment_id":134041544,"body_markdown":"@SolomonSlow lol after changing to sleep(100), there is a deadlock due to consumer at semCon.acquire()... Maybe the reason is I make the flag &quot;check&quot; after Thread.sleep() as false and the thread waits forever to acquire the permit...","body":"@SolomonSlow lol after changing to sleep(100), there is a deadlock due to consumer at semCon.acquire()... Maybe the reason is I make the flag &quot;check&quot; after Thread.sleep() as false and the thread waits forever to acquire the permit..."},{"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"score":1,"creation_date":1681333584,"post_id":75998943,"comment_id":134041620,"body_markdown":"@nomoa yes its great using lock and condition.. I just wanted to experiment with Semaphore","body":"@nomoa yes its great using lock and condition.. I just wanted to experiment with Semaphore"},{"owner":{"account_id":1622656,"reputation":1043,"user_id":1498904,"accept_rate":100,"display_name":"nomoa"},"score":0,"creation_date":1681334977,"post_id":75998943,"comment_id":134041886,"body_markdown":"if the producer or the consumer never enter the while loop you&#39;ll get a deadlock, this is possible if check is set to false before the while loop is reached. You must set the check flag to false only after you are sure that the producer has produced something or that the consumer has effectively entered the loop.","body":"if the producer or the consumer never enter the while loop you&#39;ll get a deadlock, this is possible if check is set to false before the while loop is reached. You must set the check flag to false only after you are sure that the producer has produced something or that the consumer has effectively entered the loop."},{"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"score":0,"creation_date":1681335291,"post_id":75998943,"comment_id":134041950,"body_markdown":"@nomoa yes you are right but the code is getting stuck at semCon.acquire() as the stacktrace in DEBUG window shows=&gt;Thread [c1] (Running).. plus it is after the while loop has entered.. even the flag is false the permit should be available but it isn&#39;t","body":"@nomoa yes you are right but the code is getting stuck at semCon.acquire() as the stacktrace in DEBUG window shows=&gt;Thread [c1] (Running).. plus it is after the while loop has entered.. even the flag is false the permit should be available but it isn&#39;t"},{"owner":{"account_id":1622656,"reputation":1043,"user_id":1498904,"accept_rate":100,"display_name":"nomoa"},"score":0,"creation_date":1681337643,"post_id":75998943,"comment_id":134042317,"body_markdown":"Similarly when the loop ends, e.g. right after semProd.release(); if p1 loops twice (first iteration it&#39;ll produce, second it&#39;ll wait on semProd.acquire()), then check is set to false, c1 exits but p1 remains stuck.","body":"Similarly when the loop ends, e.g. right after semProd.release(); if p1 loops twice (first iteration it&#39;ll produce, second it&#39;ll wait on semProd.acquire()), then check is set to false, c1 exits but p1 remains stuck."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681338543,"creation_date":1681338201,"answer_id":76000266,"question_id":75998943,"body_markdown":"Extended comment, not an answer.\r\n\r\nNomoa said, &quot;if the producer or the consumer never enter the while loop you&#39;ll get a deadlock...&quot;\r\n\r\nYou replied, &quot;yes you are right but the code is getting stuck at semCon.acquire()&quot;\r\n\r\nSure. Here&#39;s how that can happen:\r\n\r\n```\r\nProducer          Consumer          Main\r\n--------------    --------------    -----------\r\n                  test flag\r\n                  (it&#39;s true)\r\n                                    flag=false\r\ntest flag\r\n(it&#39;s false)\r\nreturn\r\n                  semCon.acquire()\r\n```\r\n\r\nThe `semCon` semaphore was initialized to zero, and no permit is ever released to it. The consumer hangs.\r\n\r\nFor the producer to hang on startup, it&#39;s a little bit tricker, but it can happen like this:\r\n\r\n```\r\nProducer           Consumer          Main\r\n--------------     --------------    -----------\r\ntest flag\r\n(it&#39;s true)\r\nsemProd.acquire()\r\nsemCon.release()\r\ntest flag\r\n(it&#39;s true)\r\n                                     flag=false\r\n                   test flag\r\n                   (it&#39;s false)\r\n                   return\r\nsemProd.acquire()\r\n```\r\n\r\nThe longer you make the main thread `sleep` before it sets `check=false`, the less likely that either of these two scenarios can happen.","title":"Java Semaphore methods not working as expected","body":"<p>Extended comment, not an answer.</p>\n<p>Nomoa said, &quot;if the producer or the consumer never enter the while loop you'll get a deadlock...&quot;</p>\n<p>You replied, &quot;yes you are right but the code is getting stuck at semCon.acquire()&quot;</p>\n<p>Sure. Here's how that can happen:</p>\n<pre><code>Producer          Consumer          Main\n--------------    --------------    -----------\n                  test flag\n                  (it's true)\n                                    flag=false\ntest flag\n(it's false)\nreturn\n                  semCon.acquire()\n</code></pre>\n<p>The <code>semCon</code> semaphore was initialized to zero, and no permit is ever released to it. The consumer hangs.</p>\n<p>For the producer to hang on startup, it's a little bit tricker, but it can happen like this:</p>\n<pre><code>Producer           Consumer          Main\n--------------     --------------    -----------\ntest flag\n(it's true)\nsemProd.acquire()\nsemCon.release()\ntest flag\n(it's true)\n                                     flag=false\n                   test flag\n                   (it's false)\n                   return\nsemProd.acquire()\n</code></pre>\n<p>The longer you make the main thread <code>sleep</code> before it sets <code>check=false</code>, the less likely that either of these two scenarios can happen.</p>\n"},{"tags":[],"owner":{"account_id":1622656,"reputation":1043,"user_id":1498904,"accept_rate":100,"display_name":"nomoa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681340836,"creation_date":1681340836,"answer_id":76000469,"question_id":75998943,"body_markdown":"Your problem is I think the lack of synchronization around the `check` flag that allows your loop to start or end.\r\n\r\nIt is possible for instance that the producer starts the loop and waits for `semProd.acquire()` (on its second iteration) but the consumer never actually started because the `check` flag was evaluated to false.\r\n\r\nWhen the loops end, both the consumer and the producer must end at the right time or a deadlock can occur when you consider the sequence of events:\r\n\r\n```\r\nC1:   semProd.release()\r\nP1:   semProd.acquire() -&gt; OK\r\nP1:   q.add()\r\nP1:   semCon.release()\r\nP1: while(check) -&gt; IN\r\nP1:   semProd.acquire() -&gt; wait\r\nMAIN: check &lt;- false\r\nC1: while(check) -&gt; OUT\r\nC1: stops\r\nP1: deadlocked\r\n```\r\n\r\nSame applies the other way around if C1 is trying to acquire `semCon` . ","title":"Java Semaphore methods not working as expected","body":"<p>Your problem is I think the lack of synchronization around the <code>check</code> flag that allows your loop to start or end.</p>\n<p>It is possible for instance that the producer starts the loop and waits for <code>semProd.acquire()</code> (on its second iteration) but the consumer never actually started because the <code>check</code> flag was evaluated to false.</p>\n<p>When the loops end, both the consumer and the producer must end at the right time or a deadlock can occur when you consider the sequence of events:</p>\n<pre><code>C1:   semProd.release()\nP1:   semProd.acquire() -&gt; OK\nP1:   q.add()\nP1:   semCon.release()\nP1: while(check) -&gt; IN\nP1:   semProd.acquire() -&gt; wait\nMAIN: check &lt;- false\nC1: while(check) -&gt; OUT\nC1: stops\nP1: deadlocked\n</code></pre>\n<p>Same applies the other way around if C1 is trying to acquire <code>semCon</code> .</p>\n"}],"owner":{"account_id":22312102,"reputation":13,"user_id":16535955,"display_name":"Chetan Sharma 417"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76000469,"answer_count":2,"score":0,"last_activity_date":1681340836,"creation_date":1681326066,"question_id":75998943,"body_markdown":"I am new to the consumer producer problem and the Semaphore.\r\nThe following code is getting Deadlocked in the condition that Producer thread gets stuck when it is acquiring the permit again just after adding in the queue..\r\n\r\nOnly this is the case when program is deadlocked.\r\n\r\n\r\n    public class UsingSemaphore {\r\n\r\n    \tvolatile static boolean check = true;\r\n    \r\n    \tpublic static void main(String args[]) throws InterruptedException {\r\n    \r\n    \t\tSemaphore semCon = new Semaphore(0);\r\n    \r\n    \t\tSemaphore semProd = new Semaphore(1);\r\n    \r\n    \t\tQueue&lt;Integer&gt; q = new LinkedList&lt;&gt;();\r\n    \r\n    \r\n    \t\t// Producer lambda\r\n    \t\tRunnable producer = () -&gt; {\r\n    \t\t\twhile (check) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tsemProd.acquire();\r\n    \r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tRandom rand = new Random();\r\n    \t\t\t\t\tq.add(rand.nextInt(10));\t\r\n    \t\t\t\t}finally {\r\n    \t\t\t\t\tsemCon.release();\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\t\r\n    \t\t};\r\n                    //Consumer lambda\r\n    \t\tRunnable consumer = () -&gt; {\r\n    \t\t\twhile (check) {\r\n    \t\t\t\ttry {\r\n    \r\n    \t\t\t\t\tsemCon.acquire();\r\n    \r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSystem.out.println(&quot;Consumer item &quot; + q.remove());\r\n    \t\t\t\t\r\n    \t\t\t\t}finally {\r\n    \t\t\t\t\tsemProd.release();\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\t\r\n    \t\t\r\n    \t\tThreadGroup pg = new ThreadGroup(&quot;PG&quot;);\r\n    \t\tThreadGroup cg = new ThreadGroup(&quot;CG&quot;);\r\n    \r\n    \t\tThread p1 = new Thread(pg, producer, &quot;p1&quot;);\r\n    \r\n    \t\tThread c1 = new Thread(cg, consumer, &quot;c1&quot;);\r\n    \r\n    \r\n    \t\tp1.start();\r\n    \r\n    \t\tc1.start();\r\n    \r\n    \t\tThread.sleep(10);\r\n    \t\tcheck = false;\r\n    \t}\r\n    }\r\n\r\nThe consumer thread does not run in the test case where producer goes to acquire permit... please somebody help \r\n\r\n","title":"Java Semaphore methods not working as expected","body":"<p>I am new to the consumer producer problem and the Semaphore.\nThe following code is getting Deadlocked in the condition that Producer thread gets stuck when it is acquiring the permit again just after adding in the queue..</p>\n<p>Only this is the case when program is deadlocked.</p>\n<pre><code>public class UsingSemaphore {\n\n    volatile static boolean check = true;\n\n    public static void main(String args[]) throws InterruptedException {\n\n        Semaphore semCon = new Semaphore(0);\n\n        Semaphore semProd = new Semaphore(1);\n\n        Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();\n\n\n        // Producer lambda\n        Runnable producer = () -&gt; {\n            while (check) {\n                try {\n                    semProd.acquire();\n\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                try {\n                    \n                    Random rand = new Random();\n                    q.add(rand.nextInt(10));    \n                }finally {\n                    semCon.release();\n\n                }\n            }   \n        };\n                //Consumer lambda\n        Runnable consumer = () -&gt; {\n            while (check) {\n                try {\n\n                    semCon.acquire();\n\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                try {\n                    System.out.println(&quot;Consumer item &quot; + q.remove());\n                \n                }finally {\n                    semProd.release();\n\n                }\n            }\n        };  \n        \n        ThreadGroup pg = new ThreadGroup(&quot;PG&quot;);\n        ThreadGroup cg = new ThreadGroup(&quot;CG&quot;);\n\n        Thread p1 = new Thread(pg, producer, &quot;p1&quot;);\n\n        Thread c1 = new Thread(cg, consumer, &quot;c1&quot;);\n\n\n        p1.start();\n\n        c1.start();\n\n        Thread.sleep(10);\n        check = false;\n    }\n}\n</code></pre>\n<p>The consumer thread does not run in the test case where producer goes to acquire permit... please somebody help</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin","build.gradle"],"owner":{"account_id":28272058,"reputation":1,"user_id":21615084,"display_name":"Aryan Randeriya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681340766,"creation_date":1681195062,"question_id":75983026,"body_markdown":"I cannot build my android application and run it. I&#39;m getting the following errors:\r\n\r\n```\r\n\r\n\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n\r\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n\r\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n\r\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n\r\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n\r\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n\r\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n```\r\n\r\nI cloned the entire project, solved all errors and tried editing my build files with the following:\r\n\r\n`implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))`\r\n\r\nAfter adding this line i get the error of:\r\n\r\n```\r\nAndroid resource linking failed\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:3: error: resource android:color/system_background_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:4: error: resource android:color/system_error_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:5: error: resource android:color/system_error_container_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:6: error: resource android:color/system_on_surface_light not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:7: error: resource android:color/system_primary_light not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:8: error: resource android:color/system_surface_light not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:9: error: resource android:color/system_on_background_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:10: error: resource android:color/system_on_error_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:11: error: resource android:color/system_on_error_container_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:12: error: resource android:color/system_on_primary_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:13: error: resource android:color/system_on_primary_container_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:14: error: resource android:color/system_on_secondary_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:15: error: resource android:color/system_on_secondary_container_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:16: error: resource android:color/system_on_surface_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:17: error: resource android:color/system_on_surface_variant_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:18: error: resource android:color/system_on_tertiary_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:19: error: resource android:color/system_on_tertiary_container_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:20: error: resource android:color/system_outline_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:21: error: resource android:color/system_primary_dark not found.\r\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:22: error: resource android:color/system_primary_container_dark not found.\r\n```\r\n\r\nHere are all my build files:\r\n\r\nbuild.gradle(Project):\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.0&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n    }\r\n}\r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nbuild.gradle(App) Before creating new project :\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.reglogin_ticketbus&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.reglogin_ticketbus&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.4.5&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-perf:20.3.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-buildtools:2.9.4&#39;\r\n    implementation &#39;com.google.android.gms:play-services-cast-framework:21.3.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:4.9.1&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.15.1&#39;\r\n    implementation &#39;com.orhanobut:dialogplus:1.11@aar&#39;\r\n    implementation &quot;ru.tinkoff.scrollingpagerindicator:scrollingpagerindicator:1.2.4&quot;\r\n    implementation &quot;androidx.viewpager:viewpager:x.x.x&quot;\r\n    implementation(&quot;com.tbuonomo:dotsindicator:4.3&quot;)\r\n}\r\n```\r\n\r\nbuild.gradle(App) After creating new project and getting errors of values (added implementation):\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.aryanticketbus&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    configurations {\r\n        compile.exclude group: &quot;org.jetbrains.kotlin&quot;, module: &quot;kotlin-stdlib-jdk7&quot;\r\n        compile.exclude group: &quot;org.jetbrains.kotlin&quot;, module: &quot;kotlin-stdlib-jdk8&quot;\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.4.5&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-perf:20.3.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-buildtools:2.9.4&#39;\r\n    implementation &#39;com.google.android.gms:play-services-cast-framework:21.3.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:4.9.1&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.10.0-alpha01&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.15.1&#39;\r\n    implementation &#39;com.orhanobut:dialogplus:1.11@aar&#39;\r\n    implementation &quot;ru.tinkoff.scrollingpagerindicator:scrollingpagerindicator:1.2.4&quot;\r\n    implementation &quot;androidx.viewpager:viewpager:x.x.x&quot;\r\n    implementation(&quot;com.tbuonomo:dotsindicator:4.3&quot;)\r\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n}\r\n```","title":"I cannot build my android application. Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules","body":"<p>I cannot build my android application and run it. I'm getting the following errors:</p>\n<pre><code>\n\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n</code></pre>\n<p>I cloned the entire project, solved all errors and tried editing my build files with the following:</p>\n<p><code>implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))</code></p>\n<p>After adding this line i get the error of:</p>\n<pre><code>Android resource linking failed\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:3: error: resource android:color/system_background_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:4: error: resource android:color/system_error_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:5: error: resource android:color/system_error_container_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:6: error: resource android:color/system_on_surface_light not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:7: error: resource android:color/system_primary_light not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:8: error: resource android:color/system_surface_light not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:9: error: resource android:color/system_on_background_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:10: error: resource android:color/system_on_error_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:11: error: resource android:color/system_on_error_container_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:12: error: resource android:color/system_on_primary_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:13: error: resource android:color/system_on_primary_container_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:14: error: resource android:color/system_on_secondary_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:15: error: resource android:color/system_on_secondary_container_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:16: error: resource android:color/system_on_surface_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:17: error: resource android:color/system_on_surface_variant_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:18: error: resource android:color/system_on_tertiary_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:19: error: resource android:color/system_on_tertiary_container_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:20: error: resource android:color/system_outline_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:21: error: resource android:color/system_primary_dark not found.\ncom.example.aryanticketbus.app-mergeDebugResources-55:/values-v34/values-v34.xml:22: error: resource android:color/system_primary_container_dark not found.\n</code></pre>\n<p>Here are all my build files:</p>\n<p>build.gradle(Project):</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.0'\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.2.1' apply false\n    id 'com.android.library' version '7.2.1' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>build.gradle(App) Before creating new project :</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.reglogin_ticketbus'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.reglogin_ticketbus&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth:21.2.0'\n    implementation 'com.google.firebase:firebase-firestore:24.4.5'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    implementation 'com.google.firebase:firebase-perf:20.3.1'\n    implementation 'com.google.firebase:firebase-crashlytics-buildtools:2.9.4'\n    implementation 'com.google.android.gms:play-services-cast-framework:21.3.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1'\n    implementation 'com.squareup.okhttp3:okhttp:4.9.1'\n    implementation 'com.google.code.gson:gson:2.9.0'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.github.bumptech.glide:glide:4.15.1'\n    implementation 'com.orhanobut:dialogplus:1.11@aar'\n    implementation &quot;ru.tinkoff.scrollingpagerindicator:scrollingpagerindicator:1.2.4&quot;\n    implementation &quot;androidx.viewpager:viewpager:x.x.x&quot;\n    implementation(&quot;com.tbuonomo:dotsindicator:4.3&quot;)\n}\n</code></pre>\n<p>build.gradle(App) After creating new project and getting errors of values (added implementation):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.aryanticketbus&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    configurations {\n        compile.exclude group: &quot;org.jetbrains.kotlin&quot;, module: &quot;kotlin-stdlib-jdk7&quot;\n        compile.exclude group: &quot;org.jetbrains.kotlin&quot;, module: &quot;kotlin-stdlib-jdk8&quot;\n    }\n\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth:21.2.0'\n    implementation 'com.google.firebase:firebase-firestore:24.4.5'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    implementation 'com.google.firebase:firebase-perf:20.3.1'\n    implementation 'com.google.firebase:firebase-crashlytics-buildtools:2.9.4'\n    implementation 'com.google.android.gms:play-services-cast-framework:21.3.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1'\n    implementation 'com.squareup.okhttp3:okhttp:4.9.1'\n    implementation 'com.google.code.gson:gson:2.9.0'\n    implementation 'com.google.android.material:material:1.10.0-alpha01'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.github.bumptech.glide:glide:4.15.1'\n    implementation 'com.orhanobut:dialogplus:1.11@aar'\n    implementation &quot;ru.tinkoff.scrollingpagerindicator:scrollingpagerindicator:1.2.4&quot;\n    implementation &quot;androidx.viewpager:viewpager:x.x.x&quot;\n    implementation(&quot;com.tbuonomo:dotsindicator:4.3&quot;)\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n}\n</code></pre>\n"},{"tags":["java","swing","colors","jtextpane","swing-highlighter"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1380572599,"creation_date":1380572599,"answer_id":19103149,"question_id":19098936,"body_markdown":"It sounds like you may be using something other than a font family name. I re-factored this [example][1] to use `JTextPane` and saw the expected result. As noted there, the actions require a font family name, e.g. the default or `face=SansSerif`, as specified by the [`FontFamilyAction`][2] class nested in `StyledEditorKit`.\r\n\r\n![image][3]\r\n\r\n    JTextPane textPane = new JTextPane();\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8534162/230513\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/text/StyledEditorKit.FontFamilyAction.html\r\n  [3]: http://i.stack.imgur.com/ROOAo.png","title":"Changing color of selected text in jTextPane","body":"<p>It sounds like you may be using something other than a font family name. I re-factored this <a href=\"https://stackoverflow.com/a/8534162/230513\">example</a> to use <code>JTextPane</code> and saw the expected result. As noted there, the actions require a font family name, e.g. the default or <code>face=SansSerif</code>, as specified by the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/StyledEditorKit.FontFamilyAction.html\" rel=\"nofollow noreferrer\"><code>FontFamilyAction</code></a> class nested in <code>StyledEditorKit</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ROOAo.png\" alt=\"image\"></p>\n\n<pre><code>JTextPane textPane = new JTextPane();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380695918,"creation_date":1380605183,"answer_id":19108587,"question_id":19098936,"body_markdown":"Take a look at the `DefaultHighlightPainter` inner class of `DefaultHighlighter`.\r\n\r\nThe method \r\n\r\n        public void paint(Graphics g, int offs0, int offs1, Shape bounds, JTextComponent c) {\r\n            Rectangle alloc = bounds.getBounds();\r\n            try {\r\n                // --- determine locations ---\r\n                TextUI mapper = c.getUI();\r\n                Rectangle p0 = mapper.modelToView(c, offs0);\r\n                Rectangle p1 = mapper.modelToView(c, offs1);\r\n\r\n                // --- render ---\r\n                Color color = getColor();\r\n\r\n                if (color == null) {\r\n                    g.setColor(c.getSelectionColor());\r\n                }\r\n                else {\r\n                    g.setColor(color);\r\n                }\r\n\r\nAs you can see it uses either `getColor()` or `getSelectionColor()`. You can extend the class and adapt the highlight painting.\r\n\r\nOr use a simpler approach to override your `JTextPane`&#39;s `getSelectionColor()`. In the method just check whether text is selected and use attributes of selected elements to get desired ccolor. If nothing is selected just return `super.getSelectedColor()`\r\n\r\nUPDATE:\r\nActually applying colors for selection is used on low level GlyphView&#39;s\r\n    public void paint(Graphics g, Shape a) {\r\n    ...\r\n           JTextComponent tc = (JTextComponent) c;\r\n            Color selFG = tc.getSelectedTextColor();\r\n\r\n            if (// there&#39;s a highlighter (bug 4532590), and\r\n                (tc.getHighlighter() != null) &amp;&amp;\r\n                // selected text color is different from regular foreground\r\n                (selFG != null) &amp;&amp; !selFG.equals(fg)) {\r\n\r\n                Highlighter.Highlight[] h = tc.getHighlighter().getHighlights();\r\n                if(h.length != 0) {\r\n                    boolean initialized = false;\r\n                    int viewSelectionCount = 0;\r\n                    for (int i = 0; i &lt; h.length; i++) {\r\n                        Highlighter.Highlight highlight = h[i];\r\n                        int hStart = highlight.getStartOffset();\r\n                        int hEnd = highlight.getEndOffset();\r\n                        if (hStart &gt; p1 || hEnd &lt; p0) {\r\n                            // the selection is out of this view\r\n                            continue;\r\n                        }\r\n                        if (!SwingUtilities2.useSelectedTextColor(highlight, tc)) {\r\n                            continue;\r\n                        }\r\n  ...\r\n\r\nAs you can see applying selection color vs default color of the view is defined in the SwingUtilities2.useSelectedTextColor(highlight, tc)\r\n\r\nIn the sources http://kickjava.com/src/com/sun/java/swing/SwingUtilities2.java.htm\r\n\r\n     public static boolean useSelectedTextColor(Highlighter.Highlight  JavaDoc h, JTextComponent  JavaDoc c) {\r\n         Highlighter.HighlightPainter  JavaDoc painter = h.getPainter();\r\n         String  JavaDoc painterClass = painter.getClass().getName();\r\n         if (painterClass.indexOf(&quot;javax.swing.text.DefaultHighlighter&quot;) != 0 &amp;&amp;\r\n                 painterClass.indexOf(&quot;com.sun.java.swing.plaf.windows.WindowsTextUI&quot;) != 0) {\r\n             return false;\r\n         }\r\n         try {\r\n             DefaultHighlighter.DefaultHighlightPainter  JavaDoc defPainter =\r\n                     (DefaultHighlighter.DefaultHighlightPainter  JavaDoc) painter;\r\n             if (defPainter.getColor() != null &amp;&amp;\r\n                     !defPainter.getColor().equals(c.getSelectionColor())) {\r\n                 return false;\r\n             }\r\n         } catch (ClassCastException  JavaDoc e) {\r\n             return false;\r\n         }\r\n         return true;\r\n     }\r\n\r\nSo using the color depends on L&amp;F and painter.  If you define your onw painter the color won&#39;t be used.","title":"Changing color of selected text in jTextPane","body":"<p>Take a look at the <code>DefaultHighlightPainter</code> inner class of <code>DefaultHighlighter</code>.</p>\n\n<p>The method </p>\n\n<pre><code>    public void paint(Graphics g, int offs0, int offs1, Shape bounds, JTextComponent c) {\n        Rectangle alloc = bounds.getBounds();\n        try {\n            // --- determine locations ---\n            TextUI mapper = c.getUI();\n            Rectangle p0 = mapper.modelToView(c, offs0);\n            Rectangle p1 = mapper.modelToView(c, offs1);\n\n            // --- render ---\n            Color color = getColor();\n\n            if (color == null) {\n                g.setColor(c.getSelectionColor());\n            }\n            else {\n                g.setColor(color);\n            }\n</code></pre>\n\n<p>As you can see it uses either <code>getColor()</code> or <code>getSelectionColor()</code>. You can extend the class and adapt the highlight painting.</p>\n\n<p>Or use a simpler approach to override your <code>JTextPane</code>'s <code>getSelectionColor()</code>. In the method just check whether text is selected and use attributes of selected elements to get desired ccolor. If nothing is selected just return <code>super.getSelectedColor()</code></p>\n\n<p>UPDATE:\nActually applying colors for selection is used on low level GlyphView's\n    public void paint(Graphics g, Shape a) {\n    ...\n           JTextComponent tc = (JTextComponent) c;\n            Color selFG = tc.getSelectedTextColor();</p>\n\n<pre><code>        if (// there's a highlighter (bug 4532590), and\n            (tc.getHighlighter() != null) &amp;&amp;\n            // selected text color is different from regular foreground\n            (selFG != null) &amp;&amp; !selFG.equals(fg)) {\n\n            Highlighter.Highlight[] h = tc.getHighlighter().getHighlights();\n            if(h.length != 0) {\n                boolean initialized = false;\n                int viewSelectionCount = 0;\n                for (int i = 0; i &lt; h.length; i++) {\n                    Highlighter.Highlight highlight = h[i];\n                    int hStart = highlight.getStartOffset();\n                    int hEnd = highlight.getEndOffset();\n                    if (hStart &gt; p1 || hEnd &lt; p0) {\n                        // the selection is out of this view\n                        continue;\n                    }\n                    if (!SwingUtilities2.useSelectedTextColor(highlight, tc)) {\n                        continue;\n                    }\n</code></pre>\n\n<p>...</p>\n\n<p>As you can see applying selection color vs default color of the view is defined in the SwingUtilities2.useSelectedTextColor(highlight, tc)</p>\n\n<p>In the sources <a href=\"http://kickjava.com/src/com/sun/java/swing/SwingUtilities2.java.htm\" rel=\"nofollow\">http://kickjava.com/src/com/sun/java/swing/SwingUtilities2.java.htm</a></p>\n\n<pre><code> public static boolean useSelectedTextColor(Highlighter.Highlight  JavaDoc h, JTextComponent  JavaDoc c) {\n     Highlighter.HighlightPainter  JavaDoc painter = h.getPainter();\n     String  JavaDoc painterClass = painter.getClass().getName();\n     if (painterClass.indexOf(\"javax.swing.text.DefaultHighlighter\") != 0 &amp;&amp;\n             painterClass.indexOf(\"com.sun.java.swing.plaf.windows.WindowsTextUI\") != 0) {\n         return false;\n     }\n     try {\n         DefaultHighlighter.DefaultHighlightPainter  JavaDoc defPainter =\n                 (DefaultHighlighter.DefaultHighlightPainter  JavaDoc) painter;\n         if (defPainter.getColor() != null &amp;&amp;\n                 !defPainter.getColor().equals(c.getSelectionColor())) {\n             return false;\n         }\n     } catch (ClassCastException  JavaDoc e) {\n         return false;\n     }\n     return true;\n }\n</code></pre>\n\n<p>So using the color depends on L&amp;F and painter.  If you define your onw painter the color won't be used.</p>\n"},{"tags":[],"owner":{"account_id":7733723,"reputation":450,"user_id":5855946,"display_name":"Ganesh Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500036584,"creation_date":1500036584,"answer_id":45103451,"question_id":19098936,"body_markdown":"   Simplest way to change the color of selected Text :\r\n \r\n    int start = textPane.getSelectionStart();\r\n    int end = textPane.getSelectionEnd();\r\n    int selectedLength = end - start;\r\n    StyleDocument style = pane.getStyledDocument();\r\n\r\n\t//this give your attribute set of selected Text. \r\n    AttributeSet oldSet = style.getCharacterElement(end-1).getAttributes();\r\n\r\n    //StyleContext for creating attribute set\r\n    StyleContext sc = StyleContext.getDefaultStyleContext();\r\n\r\n    // Attribute set which contains new color with old attributes\r\n    AttributeSet s = sc.addAttribute(oldSet, StyleConstants.Foreground, Color.RED);\r\n    //This set the color of the Text\r\n    style.setCharacterAttributes(start, selectedLength, s, true);","title":"Changing color of selected text in jTextPane","body":"<p>Simplest way to change the color of selected Text :</p>\n\n<pre><code>int start = textPane.getSelectionStart();\nint end = textPane.getSelectionEnd();\nint selectedLength = end - start;\nStyleDocument style = pane.getStyledDocument();\n\n//this give your attribute set of selected Text. \nAttributeSet oldSet = style.getCharacterElement(end-1).getAttributes();\n\n//StyleContext for creating attribute set\nStyleContext sc = StyleContext.getDefaultStyleContext();\n\n// Attribute set which contains new color with old attributes\nAttributeSet s = sc.addAttribute(oldSet, StyleConstants.Foreground, Color.RED);\n//This set the color of the Text\nstyle.setCharacterAttributes(start, selectedLength, s, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607347180,"creation_date":1607347180,"answer_id":65182478,"question_id":19098936,"body_markdown":"Adding my view.  This could be further simple then above approaches.\r\n\r\n        JEditorPane ep = new JEditorPane() {\r\n            @Override\r\n            public Color getSelectionColor() {\r\n                return COLOR_YOU_WANT;\r\n            }\r\n\r\n            @Override\r\n            public Color getSelectedTextColor() {\r\n                return COLOR_YOU_WANT;\r\n            }\r\n        };\r\n","title":"Changing color of selected text in jTextPane","body":"<p>Adding my view.  This could be further simple then above approaches.</p>\n<pre><code>    JEditorPane ep = new JEditorPane() {\n        @Override\n        public Color getSelectionColor() {\n            return COLOR_YOU_WANT;\n        }\n\n        @Override\n        public Color getSelectedTextColor() {\n            return COLOR_YOU_WANT;\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262389,"reputation":135,"user_id":2747692,"display_name":"Magyar D&#225;vid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681340274,"creation_date":1681340274,"answer_id":76000421,"question_id":19098936,"body_markdown":"I think you are after what I&#39;m looking for here 9 years after your question; basically not to have a `selectedTextColor`. I&#39;ve found the solution nowhere, but in my desperation I tried the following:\r\n```java\r\nJTextPane thePane = ...;\r\nthePane.setSelectedTextColor(null);\r\n```\r\nAnd it just works! Selected text has its background changed to `selectionColor`, but the text letters retain their original foreground color. I&#39;m writing a custom code highlighter, hence I needed this to retain the highlights (applied through HTMLDocument spans with CSS class). It looks like this:\r\n[![JTextPane with selection retaining its foreground color][1]][1]\r\n\r\nInstead of something like this:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zH6iq.png\r\n  [2]: https://i.stack.imgur.com/jpaKf.png","title":"Changing color of selected text in jTextPane","body":"<p>I think you are after what I'm looking for here 9 years after your question; basically not to have a <code>selectedTextColor</code>. I've found the solution nowhere, but in my desperation I tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JTextPane thePane = ...;\nthePane.setSelectedTextColor(null);\n</code></pre>\n<p>And it just works! Selected text has its background changed to <code>selectionColor</code>, but the text letters retain their original foreground color. I'm writing a custom code highlighter, hence I needed this to retain the highlights (applied through HTMLDocument spans with CSS class). It looks like this:\n<a href=\"https://i.stack.imgur.com/zH6iq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zH6iq.png\" alt=\"JTextPane with selection retaining its foreground color\" /></a></p>\n<p>Instead of something like this:\n<a href=\"https://i.stack.imgur.com/jpaKf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jpaKf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3320797,"reputation":91,"user_id":2792034,"accept_rate":0,"display_name":"smith8ar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3642,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1681340274,"creation_date":1380557584,"question_id":19098936,"body_markdown":"I am creating a text editor using a JTextPane that allows the user to change the color of selected text. But when the user selects the text, then chooses the option to change the color (say, to red) the text does not appear as red until the text is unselected. I tried using setSelectedTextColor to change the color of the selected text, but that doesn&#39;t work since that changes the text to red anytime text is selected afterwards. Is there a way to have selected text show up as it&#39;s actual color? Or like the way it works in Word where it&#39;s not the actual color of the text, but when text of different colors are selected they show up as different colors even when selected. \r\n\r\nI use the following code to set up the JTextPane and button that changes the selected text to red:\r\n\r\n    JButton redButton = new JButton(new StyledEditorKit.ForegroundAction(&quot;red&quot;, Color.RED));\r\n    redButton.setFocusable(false);\r\n    buttonPanel.add(redButton);\r\n\r\nThe JTextPane is set up as with content type HTML and uses the HTMLEditorKit:\r\n\r\n    p=new JTextPane();\r\n    p.setSize(300, 300);\r\n    kit = new HTMLEditorKit();\r\n    p.setEditorKit(kit);\r\n    p.setDocument(kit.createDefaultDocument());\r\n    \t\r\n    p.setContentType(&quot;text/html&quot;);\r\n    p.setEditable(true);\r\n\r\nLet me know if you need more source code to understand the question. Thank You!\r\n\r\n","title":"Changing color of selected text in jTextPane","body":"<p>I am creating a text editor using a JTextPane that allows the user to change the color of selected text. But when the user selects the text, then chooses the option to change the color (say, to red) the text does not appear as red until the text is unselected. I tried using setSelectedTextColor to change the color of the selected text, but that doesn't work since that changes the text to red anytime text is selected afterwards. Is there a way to have selected text show up as it's actual color? Or like the way it works in Word where it's not the actual color of the text, but when text of different colors are selected they show up as different colors even when selected. </p>\n\n<p>I use the following code to set up the JTextPane and button that changes the selected text to red:</p>\n\n<pre><code>JButton redButton = new JButton(new StyledEditorKit.ForegroundAction(\"red\", Color.RED));\nredButton.setFocusable(false);\nbuttonPanel.add(redButton);\n</code></pre>\n\n<p>The JTextPane is set up as with content type HTML and uses the HTMLEditorKit:</p>\n\n<pre><code>p=new JTextPane();\np.setSize(300, 300);\nkit = new HTMLEditorKit();\np.setEditorKit(kit);\np.setDocument(kit.createDefaultDocument());\n\np.setContentType(\"text/html\");\np.setEditable(true);\n</code></pre>\n\n<p>Let me know if you need more source code to understand the question. Thank You!</p>\n"},{"tags":["java","oauth-2.0","ebay-api","ebay-sdk"],"answers":[{"tags":[],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681340190,"creation_date":1681340190,"answer_id":76000409,"question_id":76000323,"body_markdown":"Figured it out. Redirect uri isn&#39;t really a uri, it expects a ebay RuName id:\r\nin the case below mine is Jaime_Moncayo-blabalablabla\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xP0mm.png\r\n\r\ntherefore the authlink would be `https://auth.sandbox.ebay.com/oauth2/authorize?client_id=blabla-blabla-blabla-blabla-blabla&amp;response_type=code&amp;redirect_uri=jaime_moncayo-balbla&amp;scope=https://api.ebay.com/oauth/api_scope/buy.order.readonly&amp;state=randomString&amp;client_secret=blabla-blablabla`","title":"eBay OAuth Authorize Grant Flow Invalid Parameters","body":"<p>Figured it out. Redirect uri isn't really a uri, it expects a ebay RuName id:\nin the case below mine is Jaime_Moncayo-blabalablabla</p>\n<p><a href=\"https://i.stack.imgur.com/xP0mm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xP0mm.png\" alt=\"enter image description here\" /></a></p>\n<p>therefore the authlink would be <code>https://auth.sandbox.ebay.com/oauth2/authorize?client_id=blabla-blabla-blabla-blabla-blabla&amp;response_type=code&amp;redirect_uri=jaime_moncayo-balbla&amp;scope=https://api.ebay.com/oauth/api_scope/buy.order.readonly&amp;state=randomString&amp;client_secret=blabla-blablabla</code></p>\n"}],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76000409,"answer_count":1,"score":0,"last_activity_date":1681340190,"creation_date":1681338988,"question_id":76000323,"body_markdown":"I&#39;m using the ebay-oauth-java-client to get an authorization url, however, this seems to not be working and complaining\r\n**Error message:**\r\n```\r\n{&quot;error_id&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Input request parameters are invalid.&quot;,&quot;http_status_code&quot;:400}\r\n```\r\n\r\nauth url with client secret added to end:\r\n```\r\nhttps://auth.sandbox.ebay.com/oauth2/authorize?client_id=blabla-blabla-blabla-blabla-blabla&amp;response_type=code&amp;redirect_uri=http://localhost:8080/callback&amp;scope=https://api.ebay.com/oauth/api_scope/buy.order.readonly&amp;state=randomString&amp;client_secret=blabla-blablabla\r\n```\r\n\r\nCode:\r\n```\r\n        OAuth2Api oauth2Api = new OAuth2Api();\r\n        String state = &quot;randomString&quot;; // Optional state parameter for CSRF protection\r\n        String authorizationUrl = oauth2Api.generateUserAuthorizationUrl(Environment.SANDBOX, SCOPES, Optional.of(state));\r\n        return Mono.just(ResponseEntity.status(HttpStatus.FOUND)\r\n                .headers(httpHeaders -&gt; httpHeaders.add(HttpHeaders.LOCATION, authorizationUrl))\r\n                .build());\r\n```\r\n\r\nAny ideas as to what i could be doing wrong?","title":"eBay OAuth Authorize Grant Flow Invalid Parameters","body":"<p>I'm using the ebay-oauth-java-client to get an authorization url, however, this seems to not be working and complaining\n<strong>Error message:</strong></p>\n<pre><code>{&quot;error_id&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Input request parameters are invalid.&quot;,&quot;http_status_code&quot;:400}\n</code></pre>\n<p>auth url with client secret added to end:</p>\n<pre><code>https://auth.sandbox.ebay.com/oauth2/authorize?client_id=blabla-blabla-blabla-blabla-blabla&amp;response_type=code&amp;redirect_uri=http://localhost:8080/callback&amp;scope=https://api.ebay.com/oauth/api_scope/buy.order.readonly&amp;state=randomString&amp;client_secret=blabla-blablabla\n</code></pre>\n<p>Code:</p>\n<pre><code>        OAuth2Api oauth2Api = new OAuth2Api();\n        String state = &quot;randomString&quot;; // Optional state parameter for CSRF protection\n        String authorizationUrl = oauth2Api.generateUserAuthorizationUrl(Environment.SANDBOX, SCOPES, Optional.of(state));\n        return Mono.just(ResponseEntity.status(HttpStatus.FOUND)\n                .headers(httpHeaders -&gt; httpHeaders.add(HttpHeaders.LOCATION, authorizationUrl))\n                .build());\n</code></pre>\n<p>Any ideas as to what i could be doing wrong?</p>\n"},{"tags":["java","aes"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1681342401,"post_id":76000288,"comment_id":134042796,"body_markdown":"Always, always, always specify a Charset when constructing a String from bytes or when calling a String’s `getBytes()` method.  Your encrypt and decrypt methods both call `new String` without specifying a Charset.  Your encrypt method has `data.getBytes()` (which is strange, considering just two lines earlier, you correctly passed a Charset to getBytes).","body":"Always, always, always specify a Charset when constructing a String from bytes or when calling a String’s <code>getBytes()</code> method.  Your encrypt and decrypt methods both call <code>new String</code> without specifying a Charset.  Your encrypt method has <code>data.getBytes()</code> (which is strange, considering just two lines earlier, you correctly passed a Charset to getBytes)."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1681354687,"post_id":76000288,"comment_id":134043982,"body_markdown":"On Windows the standard character set is actually Windows1252, which only allows for single byte encoding. Note that your key is not fully hex, not sure what you are doing there. Don&#39;t know why you&#39;d use bit padding and especially why you would implement it the way you&#39;re doing now, with horrid buffer handling. Don&#39;t know why &quot;MAC&quot; exception handling is in there, while there is no MAC. Don&#39;t know why you are explicitly using a provider. The whole question to me is one big **why???**.","body":"On Windows the standard character set is actually Windows1252, which only allows for single byte encoding. Note that your key is not fully hex, not sure what you are doing there. Don&#39;t know why you&#39;d use bit padding and especially why you would implement it the way you&#39;re doing now, with horrid buffer handling. Don&#39;t know why &quot;MAC&quot; exception handling is in there, while there is no MAC. Don&#39;t know why you are explicitly using a provider. The whole question to me is one big <b>why???</b>."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1681379376,"post_id":76000288,"comment_id":134048051,"body_markdown":"FYI: Your padding ([ISO 7816-4](https://en.wikipedia.org/wiki/Padding_(cryptography)#ISO/IEC_7816-4)) is supported by BouncyCastle: `AES/CBC/ISO7816-4Padding`. Note that a static IV (unless only for testing purposes) is a vulnerability.","body":"FYI: Your padding (<a href=\"https://en.wikipedia.org/wiki/Padding_(cryptography)#ISO/IEC_7816-4\" rel=\"nofollow noreferrer\">ISO 7816-4</a>) is supported by BouncyCastle: <code>AES&#47;CBC&#47;ISO7816-4Padding</code>. Note that a static IV (unless only for testing purposes) is a vulnerability."}],"owner":{"account_id":22490632,"reputation":1,"user_id":21629421,"display_name":"wepdev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681338559,"creation_date":1681338401,"question_id":76000288,"body_markdown":"during the encryption process I already noticed the error when putting characters like these here in a string &#128176; ღ♉✘⊗&#127367;♤⚅♥☻�&#164;&#129313;, the data is encrypted, but when trying to decrypt the data, it is not possible .\r\n\r\nwith this error when trying to create a json in the fields where it has the characters, or is missing &quot; or ,\r\n\r\n\r\n\r\n```\r\nprivate static final String KEY = &quot;34753668217A25432A462W4A614E6451&quot;;\r\n\r\n\tprivate static final byte[] NULL_BYTES_16 = new byte[] { 0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00,\r\n\t        0x00 };\r\n\r\n\r\n\r\n\tpublic static String encrypt(final String data) {\r\n\t\tfinal byte[] keyBytes = Hex.decode(KEY);\r\n\t\tString dataCrypto = &quot;&quot;;\r\n\t\tfinal SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n\r\n\t\tbyte[] d = data.getBytes(StandardCharsets.UTF_8);\r\n\t\tfinal int blockSize = 16;\r\n\t\td = padding(data.getBytes(), blockSize);\r\n\t\tdataCrypto = new String(Hex.encode(encrypt(key, d, NULL_BYTES_16, &quot;AES/CBC/NoPadding&quot;)));\r\n\t\treturn dataCrypto;\r\n\t}\r\n\r\n\r\n\t\r\n\tpublic static String decrypt(final String data) {\r\n\t\tfinal byte[] keyBytes = Hex.decode(KEY);\r\n\t\tString dataDecrypto = &quot;&quot;;\r\n\t\tfinal SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n\t\tfinal byte[] d = Hex.decode(data);\r\n\t\tdataDecrypto = new String(decrypt(key, d, NULL_BYTES_16, &quot;AES/CBC/NoPadding&quot;));\r\n\t\treturn dataDecrypto;\r\n\t}\r\n\r\n\tprivate static byte[]\r\n\t        encrypt(final Key key, final byte[] text, final byte[] iv, final String encryptionAlgorithmValue) {\r\n\t\ttry {\r\n\t\t\tfinal Provider provider = Security.getProvider(&quot;SunJCE&quot;);\r\n\t\t\tfinal Cipher cipher = Cipher.getInstance(encryptionAlgorithmValue, provider);\r\n\t\t\tcipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\r\n\t\t\tfinal byte[] res = cipher.doFinal(text);\r\n\t\t\treturn res;\r\n\t\t} catch (final Exception e) {\r\n\t\t\tthrow new RuntimeException(&quot;MAC computation failed.&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static byte[]\r\n\t        decrypt(final Key key, final byte[] text, final byte[] iv, final String encryptionAlgorithmValue) {\r\n\t\ttry {\r\n\t\t\tfinal Provider provider = Security.getProvider(&quot;SunJCE&quot;);\r\n\t\t\tfinal Cipher cipher = Cipher.getInstance(encryptionAlgorithmValue, provider);\r\n\t\t\tcipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\r\n\t\t\tfinal byte[] res = cipher.doFinal(text);\r\n\t\t\treturn res;\r\n\t\t} catch (final Exception e) {\r\n\t\t\tthrow new RuntimeException(&quot;MAC computation failed.&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;all&quot;)\r\n\tprivate static byte[] padding(byte[] data, final Integer blockSize) {\r\n\t\t// Blocksize de 16 para AES e de 8 para TDES\r\n\t\tdata = concat(data, new byte[] { (byte) 0x80 });\r\n\t\tif (data.length % blockSize == 0) {\r\n\t\t\treturn data;\r\n\t\t}\r\n\t\tfinal byte[] paddedData = Arrays.copyOf(data, data.length + blockSize - data.length % blockSize);\r\n\t\treturn paddedData;\r\n\t}\r\n```\r\n\r\n\r\ndata to be encrypted\r\n\r\n\r\n```\r\n{\r\n    &quot;requestId&quot;: &quot;waldir_104-010102993851&quot;,\r\n    &quot;issuerId&quot;: &quot;22&quot;,\r\n    &quot;tokenRequestorId&quot;: &quot;12300000001&quot;,\r\n    &quot;schemeId&quot;: &quot;Elo&quot;,\r\n    &quot;panHash&quot;: &quot;AEF2397762DC8226FD4786E05A1392D47FA621345C3E4BE674B61400C23F5609&quot;,\r\n    &quot;cardEncryptionInfo&quot;: {\r\n        &quot;cardSensitiveData&quot;: &quot;3772D0FCCD1CE987872F7B7D41F2F3CF1C4C9F0A9F1A6F5C2C6C6B7B05DDEBDA13CAE351234C4DD69C317D278219D1403D1B350673D73E62D9D5418167BC7AF1157B928AC1780FCE406AA2D9C815E35B2A844F0D9EAD82C9EEECC9C315C688CD675A7D1D6CFF7FA51EBB63A7C86DDB137C7F66FEDA55AF969158D90023FFB0BF&quot;,\r\n        &quot;cardSensitiveDataFormat&quot;: &quot;CardData&quot;,\r\n        &quot;encryptionReference&quot;: &quot;BRADESCO.TRANS.02&quot;,\r\n        &quot;encryptionIV&quot;: &quot;6071656686361687&quot;    },\r\n    &quot;accountRiskData&quot;: {\r\n        &quot;clientType&quot;: &quot;76&quot;,\r\n        &quot;accountScore&quot;: 1,\r\n        &quot;accountScoringAlgorithm&quot;: &quot;10&quot;,\r\n        &quot;accountScoringAlgoVersion&quot;: &quot;10&quot;,\r\n        &quot;accountCreationPeriod&quot;: 0,\r\n        &quot;cpf&quot;: &quot;1234567890111&quot;,\r\n        &quot;userEmail&quot;: &quot;user@domain.com.br&quot;,\r\n        &quot;address&quot;: &quot;TESTEChac&#225;ra Pra&#231;a Esta&#231;&#227;o &#193;rea Col&#244;nia, 1200 - N&#250;cleo &#39;&#39;&#39;&#39;&#39;&#39; &#128176; ღ♉✘⊗&#127367;♤⚅♥☻�&#164;&#129313;&quot;,\r\n        &quot;zip&quot;: &quot;06455-914&quot;,\r\n        &quot;accountId&quot;: &quot;fc440120-6f0b-11ea-bdb8-398790b53374&quot;,\r\n        &quot;simSwapTimePeriodIndication&quot;: &quot;A&quot;    },\r\n    &quot;deviceRiskData&quot;: {\r\n        &quot;phoneNumberScore&quot;: &quot;5&quot;,\r\n        &quot;phoneNumber&quot;: &quot;+55119876543210&quot;,\r\n        &quot;fullDeviceNumber&quot;: &quot;119123412342&quot;,\r\n        &quot;color&quot;: &quot;green2&quot;,\r\n        &quot;deviceScore&quot;: 1,\r\n        &quot;deviceScoringAlgorithm&quot;: &quot;10&quot;,\r\n        &quot;deviceScoringAlgoVersion&quot;: &quot;10&quot;,\r\n        &quot;deviceCountry&quot;: &quot;BR&quot;,\r\n        &quot;deviceID&quot;: &quot;1234567891&quot;,\r\n        &quot;ipv4&quot;: &quot;10.82.2.222&quot;,\r\n        &quot;manufacturer&quot;: &quot;Apple&quot;,\r\n        &quot;brand&quot;: &quot;Apple&quot;,\r\n        &quot;model&quot;: &quot;A1549&quot;,\r\n        &quot;name&quot;:&quot;Paiva du corte ߒ蜢,&quot;,\r\n        &quot;networkOperator&quot;: &quot;testeMaia&quot;,\r\n        &quot;networkType&quot;: &quot;GSM&quot;,\r\n        &quot;osType&quot;: &quot;Android&quot;,\r\n        &quot;osVersion&quot;: &quot;10&quot;,\r\n        &quot;timeZoneManager&quot;: &quot;CARRIER&quot;,\r\n        &quot;deviceType&quot;: &quot;SMARTPHONE&quot;    },\r\n    &quot;walletRiskData&quot;: {\r\n        &quot;recommendation&quot;: &quot;aprovar2&quot;,\r\n        &quot;walletId&quot;: &quot;1fc3f7a0-3176-11ea-b2e4-15074b0e5031&quot;,\r\n        &quot;cardTenurePeriod&quot;: 0,\r\n        &quot;walletCreationPeriod&quot;: 0,\r\n        &quot;walletCardholderNameMatches&quot;: true,\r\n        &quot;tokensOnDevice&quot;: 1,\r\n        &quot;cardInputMethod&quot;: &quot;teste&quot;,\r\n        &quot;flowIndication&quot;: &quot;GREEN&quot;,\r\n        &quot;flowAlgorithm&quot;: &quot;10&quot;,\r\n        &quot;flowAlgorithmVersion&quot;: &quot;10&quot;    }\r\n}\r\n```\r\n","title":"Broken encryption when entering characters","body":"<p>during the encryption process I already noticed the error when putting characters like these here in a string 💰 ღ♉✘⊗🆇♤⚅♥☻�¤🤡, the data is encrypted, but when trying to decrypt the data, it is not possible .</p>\n<p>with this error when trying to create a json in the fields where it has the characters, or is missing &quot; or ,</p>\n<pre><code>private static final String KEY = &quot;34753668217A25432A462W4A614E6451&quot;;\n\n    private static final byte[] NULL_BYTES_16 = new byte[] { 0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00,\n            0x00 };\n\n\n\n    public static String encrypt(final String data) {\n        final byte[] keyBytes = Hex.decode(KEY);\n        String dataCrypto = &quot;&quot;;\n        final SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n\n        byte[] d = data.getBytes(StandardCharsets.UTF_8);\n        final int blockSize = 16;\n        d = padding(data.getBytes(), blockSize);\n        dataCrypto = new String(Hex.encode(encrypt(key, d, NULL_BYTES_16, &quot;AES/CBC/NoPadding&quot;)));\n        return dataCrypto;\n    }\n\n\n    \n    public static String decrypt(final String data) {\n        final byte[] keyBytes = Hex.decode(KEY);\n        String dataDecrypto = &quot;&quot;;\n        final SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        final byte[] d = Hex.decode(data);\n        dataDecrypto = new String(decrypt(key, d, NULL_BYTES_16, &quot;AES/CBC/NoPadding&quot;));\n        return dataDecrypto;\n    }\n\n    private static byte[]\n            encrypt(final Key key, final byte[] text, final byte[] iv, final String encryptionAlgorithmValue) {\n        try {\n            final Provider provider = Security.getProvider(&quot;SunJCE&quot;);\n            final Cipher cipher = Cipher.getInstance(encryptionAlgorithmValue, provider);\n            cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\n            final byte[] res = cipher.doFinal(text);\n            return res;\n        } catch (final Exception e) {\n            throw new RuntimeException(&quot;MAC computation failed.&quot;, e);\n        }\n    }\n\n    private static byte[]\n            decrypt(final Key key, final byte[] text, final byte[] iv, final String encryptionAlgorithmValue) {\n        try {\n            final Provider provider = Security.getProvider(&quot;SunJCE&quot;);\n            final Cipher cipher = Cipher.getInstance(encryptionAlgorithmValue, provider);\n            cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\n            final byte[] res = cipher.doFinal(text);\n            return res;\n        } catch (final Exception e) {\n            throw new RuntimeException(&quot;MAC computation failed.&quot;, e);\n        }\n    }\n\n    @SuppressWarnings(&quot;all&quot;)\n    private static byte[] padding(byte[] data, final Integer blockSize) {\n        // Blocksize de 16 para AES e de 8 para TDES\n        data = concat(data, new byte[] { (byte) 0x80 });\n        if (data.length % blockSize == 0) {\n            return data;\n        }\n        final byte[] paddedData = Arrays.copyOf(data, data.length + blockSize - data.length % blockSize);\n        return paddedData;\n    }\n</code></pre>\n<p>data to be encrypted</p>\n<pre><code>{\n    &quot;requestId&quot;: &quot;waldir_104-010102993851&quot;,\n    &quot;issuerId&quot;: &quot;22&quot;,\n    &quot;tokenRequestorId&quot;: &quot;12300000001&quot;,\n    &quot;schemeId&quot;: &quot;Elo&quot;,\n    &quot;panHash&quot;: &quot;AEF2397762DC8226FD4786E05A1392D47FA621345C3E4BE674B61400C23F5609&quot;,\n    &quot;cardEncryptionInfo&quot;: {\n        &quot;cardSensitiveData&quot;: &quot;3772D0FCCD1CE987872F7B7D41F2F3CF1C4C9F0A9F1A6F5C2C6C6B7B05DDEBDA13CAE351234C4DD69C317D278219D1403D1B350673D73E62D9D5418167BC7AF1157B928AC1780FCE406AA2D9C815E35B2A844F0D9EAD82C9EEECC9C315C688CD675A7D1D6CFF7FA51EBB63A7C86DDB137C7F66FEDA55AF969158D90023FFB0BF&quot;,\n        &quot;cardSensitiveDataFormat&quot;: &quot;CardData&quot;,\n        &quot;encryptionReference&quot;: &quot;BRADESCO.TRANS.02&quot;,\n        &quot;encryptionIV&quot;: &quot;6071656686361687&quot;    },\n    &quot;accountRiskData&quot;: {\n        &quot;clientType&quot;: &quot;76&quot;,\n        &quot;accountScore&quot;: 1,\n        &quot;accountScoringAlgorithm&quot;: &quot;10&quot;,\n        &quot;accountScoringAlgoVersion&quot;: &quot;10&quot;,\n        &quot;accountCreationPeriod&quot;: 0,\n        &quot;cpf&quot;: &quot;1234567890111&quot;,\n        &quot;userEmail&quot;: &quot;user@domain.com.br&quot;,\n        &quot;address&quot;: &quot;TESTEChacára Praça Estação Área Colônia, 1200 - Núcleo '''''' 💰 ღ♉✘⊗🆇♤⚅♥☻�¤🤡&quot;,\n        &quot;zip&quot;: &quot;06455-914&quot;,\n        &quot;accountId&quot;: &quot;fc440120-6f0b-11ea-bdb8-398790b53374&quot;,\n        &quot;simSwapTimePeriodIndication&quot;: &quot;A&quot;    },\n    &quot;deviceRiskData&quot;: {\n        &quot;phoneNumberScore&quot;: &quot;5&quot;,\n        &quot;phoneNumber&quot;: &quot;+55119876543210&quot;,\n        &quot;fullDeviceNumber&quot;: &quot;119123412342&quot;,\n        &quot;color&quot;: &quot;green2&quot;,\n        &quot;deviceScore&quot;: 1,\n        &quot;deviceScoringAlgorithm&quot;: &quot;10&quot;,\n        &quot;deviceScoringAlgoVersion&quot;: &quot;10&quot;,\n        &quot;deviceCountry&quot;: &quot;BR&quot;,\n        &quot;deviceID&quot;: &quot;1234567891&quot;,\n        &quot;ipv4&quot;: &quot;10.82.2.222&quot;,\n        &quot;manufacturer&quot;: &quot;Apple&quot;,\n        &quot;brand&quot;: &quot;Apple&quot;,\n        &quot;model&quot;: &quot;A1549&quot;,\n        &quot;name&quot;:&quot;Paiva du corte ߒ蜢,&quot;,\n        &quot;networkOperator&quot;: &quot;testeMaia&quot;,\n        &quot;networkType&quot;: &quot;GSM&quot;,\n        &quot;osType&quot;: &quot;Android&quot;,\n        &quot;osVersion&quot;: &quot;10&quot;,\n        &quot;timeZoneManager&quot;: &quot;CARRIER&quot;,\n        &quot;deviceType&quot;: &quot;SMARTPHONE&quot;    },\n    &quot;walletRiskData&quot;: {\n        &quot;recommendation&quot;: &quot;aprovar2&quot;,\n        &quot;walletId&quot;: &quot;1fc3f7a0-3176-11ea-b2e4-15074b0e5031&quot;,\n        &quot;cardTenurePeriod&quot;: 0,\n        &quot;walletCreationPeriod&quot;: 0,\n        &quot;walletCardholderNameMatches&quot;: true,\n        &quot;tokensOnDevice&quot;: 1,\n        &quot;cardInputMethod&quot;: &quot;teste&quot;,\n        &quot;flowIndication&quot;: &quot;GREEN&quot;,\n        &quot;flowAlgorithm&quot;: &quot;10&quot;,\n        &quot;flowAlgorithmVersion&quot;: &quot;10&quot;    }\n}\n</code></pre>\n"},{"tags":["java","spring","security","registration","spring-bean"],"comments":[{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1681340442,"post_id":75999622,"comment_id":134042598,"body_markdown":"what `@ EntityScan` are you using? can you add full import for it","body":"what <code>@ EntityScan</code> are you using? can you add full import for it"}],"answers":[{"tags":[],"owner":{"account_id":10466881,"reputation":166,"user_id":7716050,"display_name":"hugoalexandremf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681333844,"creation_date":1681333844,"answer_id":75999878,"question_id":75999622,"body_markdown":"In `AppUserService` the field `AppUserRepository` should be marked as `@Autowired` as in:\r\n```java\r\n@Autowired\r\nprivate AppUserRepository appUserRepository;\r\n```\r\n\r\nHope it helps.","title":"Error creating bean with name &#39;appUserService&#39; defined in class path resource: Unsatisfied dependency expressed through constructor parameter 0","body":"<p>In <code>AppUserService</code> the field <code>AppUserRepository</code> should be marked as <code>@Autowired</code> as in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate AppUserRepository appUserRepository;\n</code></pre>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":24208924,"reputation":1,"user_id":18165723,"display_name":"OłJeż"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681338530,"creation_date":1681338530,"answer_id":76000294,"question_id":75999622,"body_markdown":"```\r\npackage com.example.chessge.security.config;\r\n\r\nimport com.example.chessge.appuser.AppUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private final AppUserService appUserService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        //http.authorizeRequests().antMatchers(&quot;/api/v*/registration/**&quot;).permitAll().anyRequest().authenticated();\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer(AuthenticationManagerBuilder auth) throws Exception {\r\n        return (web) -&gt; auth.authenticationProvider(daoAuthenticationProvider());\r\n    }\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(appUserService);\r\n        return provider;\r\n    }\r\n}\r\n```","title":"Error creating bean with name &#39;appUserService&#39; defined in class path resource: Unsatisfied dependency expressed through constructor parameter 0","body":"<pre><code>package com.example.chessge.security.config;\n\nimport com.example.chessge.appuser.AppUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        //http.authorizeRequests().antMatchers(&quot;/api/v*/registration/**&quot;).permitAll().anyRequest().authenticated();\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\n                .anyRequest().authenticated();\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer(AuthenticationManagerBuilder auth) throws Exception {\n        return (web) -&gt; auth.authenticationProvider(daoAuthenticationProvider());\n    }\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider(){\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(appUserService);\n        return provider;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24208924,"reputation":1,"user_id":18165723,"display_name":"OłJeż"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681338530,"creation_date":1681331693,"question_id":75999622,"body_markdown":"When I compile my spring project, I got the following error.\r\n\r\n&gt; Error creating bean with name &#39;appUserService&#39; defined in file [K:\\ChessGE JAVA\\ChessGe\\target\\classes\\com\\example\\chessge\\appuser\\AppUserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;appUserRepository&#39; defined in com.example.chessge.appuser.AppUserRepository defined in @EnableJpaRepositories declared on ChessGeApplication: Not a managed type: class com.example.chessge.appuser.AppUser\r\n\r\nThere is my code:\r\nAppUser:\r\n```\r\n\r\npackage com.example.chessge.appuser;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport javax.persistence.*;\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\npublic class AppUser implements UserDetails {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String password;\r\n    @Enumerated(EnumType.STRING)\r\n    private AppUserRole appUserRole;\r\n    private Boolean locked = false;\r\n    private Boolean enabled = false;\r\n\r\n    public AppUser(String firstName,\r\n                   String lastName,\r\n                   String email,\r\n                   String password,\r\n                   AppUserRole appUserRole) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.appUserRole = appUserRole;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        SimpleGrantedAuthority authority =\r\n                new SimpleGrantedAuthority(appUserRole.name());\r\n        return Collections.singletonList(authority);\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return !locked;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return enabled;\r\n    }\r\n}\r\n\r\n```\r\nAppUserRepository:\r\n```\r\npackage com.example.chessge.appuser;\r\n\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\n@Transactional(readOnly = true)\r\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, Long&gt; {\r\n    Optional&lt;AppUser&gt; findByEmail(String email);\r\n}\r\n\r\n```\r\n\r\nAppUserService:\r\n\r\n```\r\npackage com.example.chessge.appuser;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class AppUserService implements UserDetailsService {\r\n\r\n    private final static String USER_NOT_FOUND_MESSAGE = &quot;User %s not found&quot;;\r\n    private final AppUserRepository appUserRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email)\r\n            throws UsernameNotFoundException {\r\n        return appUserRepository.findByEmail(email).orElseThrow(()-&gt;\r\n                new UsernameNotFoundException(String.format(USER_NOT_FOUND_MESSAGE,email)));\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve already tried to add \r\n\r\n```\r\n@EntityScan(basePackages = &quot;com.example.chessge.appuser&quot;)\r\n@EnableJpaRepositories(basePackages = &quot;com.example.chessge.appuser&quot;)\r\n```\r\nto the ChessGeApplication but it didn&#39;t help.\r\n","title":"Error creating bean with name &#39;appUserService&#39; defined in class path resource: Unsatisfied dependency expressed through constructor parameter 0","body":"<p>When I compile my spring project, I got the following error.</p>\n<blockquote>\n<p>Error creating bean with name 'appUserService' defined in file [K:\\ChessGE JAVA\\ChessGe\\target\\classes\\com\\example\\chessge\\appuser\\AppUserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'appUserRepository' defined in com.example.chessge.appuser.AppUserRepository defined in @EnableJpaRepositories declared on ChessGeApplication: Not a managed type: class com.example.chessge.appuser.AppUser</p>\n</blockquote>\n<p>There is my code:\nAppUser:</p>\n<pre><code>\npackage com.example.chessge.appuser;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport javax.persistence.*;\nimport java.util.Collection;\nimport java.util.Collections;\n\n@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\npublic class AppUser implements UserDetails {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;student_sequence&quot;\n    )\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String password;\n    @Enumerated(EnumType.STRING)\n    private AppUserRole appUserRole;\n    private Boolean locked = false;\n    private Boolean enabled = false;\n\n    public AppUser(String firstName,\n                   String lastName,\n                   String email,\n                   String password,\n                   AppUserRole appUserRole) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.password = password;\n        this.appUserRole = appUserRole;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        SimpleGrantedAuthority authority =\n                new SimpleGrantedAuthority(appUserRole.name());\n        return Collections.singletonList(authority);\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !locked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n}\n\n</code></pre>\n<p>AppUserRepository:</p>\n<pre><code>package com.example.chessge.appuser;\n\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.Optional;\n\n@Repository\n@Transactional(readOnly = true)\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, Long&gt; {\n    Optional&lt;AppUser&gt; findByEmail(String email);\n}\n\n</code></pre>\n<p>AppUserService:</p>\n<pre><code>package com.example.chessge.appuser;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\n@Service\n@AllArgsConstructor\npublic class AppUserService implements UserDetailsService {\n\n    private final static String USER_NOT_FOUND_MESSAGE = &quot;User %s not found&quot;;\n    private final AppUserRepository appUserRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String email)\n            throws UsernameNotFoundException {\n        return appUserRepository.findByEmail(email).orElseThrow(()-&gt;\n                new UsernameNotFoundException(String.format(USER_NOT_FOUND_MESSAGE,email)));\n    }\n}\n\n</code></pre>\n<p>I've already tried to add</p>\n<pre><code>@EntityScan(basePackages = &quot;com.example.chessge.appuser&quot;)\n@EnableJpaRepositories(basePackages = &quot;com.example.chessge.appuser&quot;)\n</code></pre>\n<p>to the ChessGeApplication but it didn't help.</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":15825726,"reputation":31,"user_id":11418660,"display_name":"shivam pawar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681338335,"creation_date":1681332354,"question_id":75999681,"body_markdown":"On trying to hit login button, below exception is thrown.\r\nI used java script executor as well as action class button but none of these works.\r\n\r\n\tpublic void LoginApplication(String username, String password) throws Exception {\r\n\t\t\r\n\t\tSystem.out.println(LoginPageLocators.userEmail);\r\n\t\twaitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.userEmail);\r\n\t\tLoginPageLocators.userEmail.sendKeys(username);\r\n\t\twaitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.userLogin);\r\n\t\tLoginPageLocators.userLogin.click();\r\n\t\twaitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.enterPass);\r\n\t\t//LoginPageLocators.enterPass.sendKeys(password);\r\n\t\tactionEnterText(driver, LoginPageLocators.enterPass, 5, password);\r\n\t\twaitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.loginApp);\r\n\t\tjsClick(driver, LoginPageLocators.loginApp); // Error\r\n\t}\r\n\r\nLocator : \t@FindBy(css=&quot;input#okta-signin-submit&quot;)\r\n\tpublic static WebElement loginApp;\r\n\r\n&gt; org.openqa.selenium.interactions.MoveTargetOutOfBoundsException:\r\n&gt; Origin element is not displayed Build info: version: &#39;4.8.1&#39;,\r\n&gt; revision: &#39;8ebccac989&#39; System info: os.name: &#39;Windows 10&#39;, os.arch:\r\n&gt; &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19&#39; Driver info:\r\n&gt; org.openqa.selenium.firefox.FirefoxDriver Command:\r\n&gt; [0bedc7c0-68f4-49d8-a6c4-ffc811d06322, actions\r\n&gt; {actions=[org.openqa.selenium.interactions.Sequence@8a62297]}]\r\n&gt; Capabilities {acceptInsecureCerts: true, browserName: firefox,\r\n&gt; browserVersion: 112.0, moz:accessibilityChecks: false, moz:buildID:\r\n&gt; 20230406114409, moz:debuggerAddress: 127.0.0.1:45356,\r\n&gt; moz:geckodriverVersion: 0.33.0, moz:headless: false,\r\n&gt; moz:platformVersion: 10.0, moz:processID: 21252, moz:profile:\r\n&gt; C:\\Users\\shipawar\\AppData\\L..., moz:shutdownTimeout: 60000,\r\n&gt; moz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true,\r\n&gt; moz:windowless: false, pageLoadStrategy: normal, platformName:\r\n&gt; WINDOWS, proxy: Proxy(), se:cdp: ws://127.0.0.1:45356/devtoo...,\r\n&gt; se:cdpVersion: 85.0, setWindowRect: true, strictFileInteractability:\r\n&gt; false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000},\r\n&gt; unhandledPromptBehavior: dismiss and notify} Session ID:\r\n&gt; 0bedc7c0-68f4-49d8-a6c4-ffc811d06322 \tat\r\n&gt; java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n&gt; \tat\r\n&gt; java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n&gt; \tat\r\n&gt; java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.remote.RemoteWebDriver.perform(RemoteWebDriver.java:611)\r\n&gt; \tat\r\n&gt; org.openqa.selenium.interactions.Actions$BuiltAction.perform(Actions.java:567)\r\n&gt; \tat org.openqa.selenium.interactions.Actions.perform(Actions.java:536)\r\n&gt; \tat POM.SeleniumUtlities.actionEnterText(SeleniumUtlities.java:65) \tat\r\n&gt; POM.WebElementsQuoting.LoginApplication(WebElementsQuoting.java:38)\r\n&gt; \tat\r\n&gt; stepDefinition.MyStepDefinitions.user_login_into_application_with_username_and_password(MyStepDefinitions.java:39)\r\n&gt; \tat ✽.user login into application with &quot;maria.roark@aos5.com&quot; and\r\n&gt; &quot;Cisco@2423&quot;(file:///C:/Users/shipawar/eclipse-workspace/Automation/src/test/java/features/Login.feature:5)\r\n\r\n","title":"Selenium | Not able to click on button, exception as org.openqa.selenium.interactions.MoveTargetOutOfBoundsException:Origin element is not displayed","body":"<p>On trying to hit login button, below exception is thrown.\nI used java script executor as well as action class button but none of these works.</p>\n<pre><code>public void LoginApplication(String username, String password) throws Exception {\n    \n    System.out.println(LoginPageLocators.userEmail);\n    waitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.userEmail);\n    LoginPageLocators.userEmail.sendKeys(username);\n    waitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.userLogin);\n    LoginPageLocators.userLogin.click();\n    waitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.enterPass);\n    //LoginPageLocators.enterPass.sendKeys(password);\n    actionEnterText(driver, LoginPageLocators.enterPass, 5, password);\n    waitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.loginApp);\n    jsClick(driver, LoginPageLocators.loginApp); // Error\n}\n</code></pre>\n<p>Locator :   @FindBy(css=&quot;input#okta-signin-submit&quot;)\npublic static WebElement loginApp;</p>\n<blockquote>\n<p>org.openqa.selenium.interactions.MoveTargetOutOfBoundsException:\nOrigin element is not displayed Build info: version: '4.8.1',\nrevision: '8ebccac989' System info: os.name: 'Windows 10', os.arch:\n'amd64', os.version: '10.0', java.version: '19' Driver info:\norg.openqa.selenium.firefox.FirefoxDriver Command:\n[0bedc7c0-68f4-49d8-a6c4-ffc811d06322, actions\n{actions=[org.openqa.selenium.interactions.Sequence@8a62297]}]\nCapabilities {acceptInsecureCerts: true, browserName: firefox,\nbrowserVersion: 112.0, moz:accessibilityChecks: false, moz:buildID:\n20230406114409, moz:debuggerAddress: 127.0.0.1:45356,\nmoz:geckodriverVersion: 0.33.0, moz:headless: false,\nmoz:platformVersion: 10.0, moz:processID: 21252, moz:profile:\nC:\\Users\\shipawar\\AppData\\L..., moz:shutdownTimeout: 60000,\nmoz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true,\nmoz:windowless: false, pageLoadStrategy: normal, platformName:\nWINDOWS, proxy: Proxy(), se:cdp: ws://127.0.0.1:45356/devtoo...,\nse:cdpVersion: 85.0, setWindowRect: true, strictFileInteractability:\nfalse, timeouts: {implicit: 0, pageLoad: 300000, script: 30000},\nunhandledPromptBehavior: dismiss and notify} Session ID:\n0bedc7c0-68f4-49d8-a6c4-ffc811d06322  at\njava.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\nat\njava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\nat\njava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\nat\norg.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\nat\norg.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\nat\norg.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\nat\norg.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\nat\norg.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\nat\norg.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\nat\norg.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\nat\norg.openqa.selenium.remote.RemoteWebDriver.perform(RemoteWebDriver.java:611)\nat\norg.openqa.selenium.interactions.Actions$BuiltAction.perform(Actions.java:567)\nat org.openqa.selenium.interactions.Actions.perform(Actions.java:536)\nat POM.SeleniumUtlities.actionEnterText(SeleniumUtlities.java:65)   at\nPOM.WebElementsQuoting.LoginApplication(WebElementsQuoting.java:38)\nat\nstepDefinition.MyStepDefinitions.user_login_into_application_with_username_and_password(MyStepDefinitions.java:39)\nat ✽.user login into application with &quot;maria.roark@aos5.com&quot; and\n&quot;Cisco@2423&quot;(file:///C:/Users/shipawar/eclipse-workspace/Automation/src/test/java/features/Login.feature:5)</p>\n</blockquote>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1681181467,"post_id":75982056,"comment_id":134011335,"body_markdown":"You need to invoke repaint() after the revalidate(). Why does your main() method create two instances of the GridGUI? Also, you should not be using a KeyListener. Instead you should be using `Key Bindings`. See: [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/) for more information and examples.","body":"You need to invoke repaint() after the revalidate(). Why does your main() method create two instances of the GridGUI? Also, you should not be using a KeyListener. Instead you should be using <code>Key Bindings</code>. See: <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a> for more information and examples."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681182480,"post_id":75982056,"comment_id":134011431,"body_markdown":"Two words - &quot;Key bindings&quot; - solve all you focus related issues","body":"Two words - &quot;Key bindings&quot; - solve all you focus related issues"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681182898,"post_id":75982056,"comment_id":134011475,"body_markdown":"&quot;revalidate()&quot; == &quot;some component has changed size, check with Layout Manager&quot;  &quot;repaint()&quot; == &quot;some component has changed look, redraw everything.&quot;  You should only need to call one of those two, but if `revalidate()` isn&#39;t working you probably need `repaint()` instead.","body":"&quot;revalidate()&quot; == &quot;some component has changed size, check with Layout Manager&quot;  &quot;repaint()&quot; == &quot;some component has changed look, redraw everything.&quot;  You should only need to call one of those two, but if <code>revalidate()</code> isn&#39;t working you probably need <code>repaint()</code> instead."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681183242,"post_id":75982056,"comment_id":134011522,"body_markdown":"Note the repaint() needs to be done on the &quot;gridPanel&quot;, so you need to make that an instance variable.","body":"Note the repaint() needs to be done on the &quot;gridPanel&quot;, so you need to make that an instance variable."}],"owner":{"account_id":26812601,"reputation":11,"user_id":20402976,"display_name":"HHEA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681337875,"creation_date":1681181221,"question_id":75982056,"body_markdown":"I&#39;m creating a small game for a school project, but I&#39;ve encountered an issue. A red square is supposed to move using the WASD keys. At first I thought it didn&#39;t move but once you resize or maximise the window, you&#39;ll see that the square does move but only when the window is resized.\r\n\r\nHere is my code:\r\n\r\n```\r\npackage Mini_Game;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class GridGUI extends JFrame implements KeyListener {\r\n\tprivate JPanel[][] squarePanels;\r\n\tprivate JPanel redDot;\r\n\tprivate int redDotRow;\r\n\tprivate int redDotCol;\r\n\r\n\tpublic GridGUI() {\r\n\t\tsetTitle(&quot;10x10 Grid&quot;);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t\tJPanel gridPanel = new JPanel(new GridLayout(11, 11)); // create a panel with 11x11 grid layout (including labels)\r\n\r\n\t\t// add labels for x-axis numbers\r\n\t\tgridPanel.add(new JLabel(&quot;&quot;)); // empty label for top-left corner\r\n\t\tfor (int i = 1; i &lt;= 10; i++) {\r\n\t\t\tJLabel label = new JLabel(Integer.toString(i), SwingConstants.CENTER);\r\n\t\t\tgridPanel.add(label);\r\n\t\t}\r\n\r\n\t\t// add labels for y-axis numbers and grid squares\r\n\t\tsquarePanels = new JPanel[10][10];\r\n\t\tfor (int i = 1; i &lt;= 10; i++) {\r\n\t\t\tJLabel label = new JLabel(Integer.toString(i), SwingConstants.CENTER);\r\n\t\t\tgridPanel.add(label); // add y-axis label\r\n\t\t\tfor (int j = 1; j &lt;= 10; j++) {\r\n\t\t\t\tJPanel squarePanel = new JPanel(new BorderLayout()); // create a panel for each grid square\r\n\t\t\t\tsquarePanel.setBorder(BorderFactory.createLineBorder(Color.BLACK)); // add a border to the square\r\n\t\t\t\tsquarePanel.add(new JLabel(), BorderLayout.CENTER); // add an empty label to center the number\r\n\t\t\t\tgridPanel.add(squarePanel); // add the square panel to the grid\r\n\t\t\t\tsquarePanels[i-1][j-1] = squarePanel; // add the square panel to the 2D array\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// create the red dot component and add it to the top-left square panel\r\n\t\tredDot = new JPanel();\r\n\t\tredDot.setPreferredSize(new Dimension(10, 10));\r\n\t\tredDot.setBackground(Color.RED);\r\n\t\tsquarePanels[4][4].add(redDot);\r\n\t\tredDotRow = 4;\r\n\t\tredDotCol = 4;\r\n\r\n\t\t// create the blue square component and add it to a square panel\r\n\t\tJPanel blueSquare = new JPanel();\r\n\t\tblueSquare.setPreferredSize(new Dimension(20, 20));\r\n\t\tblueSquare.setBackground(Color.BLUE);\r\n\t\tsquarePanels[4][5].add(blueSquare);\r\n\t\tsquarePanels[4][5].revalidate(); // repaint the panel\r\n\r\n\t\tadd(gridPanel); // add the grid panel to the frame\r\n\t\tgridPanel.addKeyListener(this);\r\n\r\n\t\tpack(); // resize the frame to fit the grid\r\n\t\tsetLocationRelativeTo(null); // center the frame on the screen\r\n\t\tsetVisible(true); // make the frame visible\r\n\t\tgridPanel.requestFocus(); // give focus to the panel\r\n\r\n\t\taddKeyListener(this); // add the key listener to the frame\r\n\t\tsetFocusable(true);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\tint keyCode = e.getKeyCode();\r\n\t\tSystem.out.println(&quot;Key pressed: &quot; + keyCode);\r\n\t\tif (keyCode == KeyEvent.VK_W) {\r\n\t\t\tif (redDotRow &gt; 0) { // check if the red dot can move up\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].remove(redDot); // remove the red dot from the current panel\r\n\t\t\t\tredDotRow--; // decrement the row of the red dot\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].add(redDot); // add the red dot to the new panel\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].revalidate(); // repaint the new panel\r\n\t\t\t}\r\n\t\t} \r\n\t\telse if (keyCode == KeyEvent.VK_S) {\r\n\t\t\tif (redDotRow &lt; 9) { // check if the red dot can move down\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].remove(redDot); // remove the red dot from the current panel\r\n\t\t\t\tredDotRow++; // increment the row of the red dot\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].add(redDot); // add the red dot to the new panel\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].revalidate(); // repaint the new panel\r\n\t\t\t}\r\n\t\t} \r\n\t\telse if (keyCode == KeyEvent.VK_A) {\r\n\t\t\tif (redDotCol &gt; 0) { // check if the red dot can move left\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].remove(redDot); // remove the red dot from the current panel\r\n\t\t\t\tredDotCol--; // decrement the column of the red dot\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].add(redDot); // add the red dot to the new panel\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].revalidate(); // repaint the new panel\r\n\t\t\t}\r\n\t\t} \r\n\t\telse if (keyCode == KeyEvent.VK_D) {\r\n\t\t\tif (redDotCol &lt; 9) { // check if the red dot can move right\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].remove(redDot); // remove the red dot from the current panel\r\n\t\t\t\tredDotCol++; // increment the column of the red dot\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].add(redDot); // add the red dot to the new panel\r\n\t\t\t\tsquarePanels[redDotRow][redDotCol].revalidate(); // repaint the new panel\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t// do nothing\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\t// do nothing\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew GridGUI();\r\n\t\tGridGUI gridGUI = new GridGUI();\r\n\t\tgridGUI.requestFocusInWindow();\r\n\r\n\t}\r\n}\r\n```","title":"My JFrame isn&#39;t updating unless I maximise/resize my window","body":"<p>I'm creating a small game for a school project, but I've encountered an issue. A red square is supposed to move using the WASD keys. At first I thought it didn't move but once you resize or maximise the window, you'll see that the square does move but only when the window is resized.</p>\n<p>Here is my code:</p>\n<pre><code>package Mini_Game;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class GridGUI extends JFrame implements KeyListener {\n    private JPanel[][] squarePanels;\n    private JPanel redDot;\n    private int redDotRow;\n    private int redDotCol;\n\n    public GridGUI() {\n        setTitle(&quot;10x10 Grid&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel gridPanel = new JPanel(new GridLayout(11, 11)); // create a panel with 11x11 grid layout (including labels)\n\n        // add labels for x-axis numbers\n        gridPanel.add(new JLabel(&quot;&quot;)); // empty label for top-left corner\n        for (int i = 1; i &lt;= 10; i++) {\n            JLabel label = new JLabel(Integer.toString(i), SwingConstants.CENTER);\n            gridPanel.add(label);\n        }\n\n        // add labels for y-axis numbers and grid squares\n        squarePanels = new JPanel[10][10];\n        for (int i = 1; i &lt;= 10; i++) {\n            JLabel label = new JLabel(Integer.toString(i), SwingConstants.CENTER);\n            gridPanel.add(label); // add y-axis label\n            for (int j = 1; j &lt;= 10; j++) {\n                JPanel squarePanel = new JPanel(new BorderLayout()); // create a panel for each grid square\n                squarePanel.setBorder(BorderFactory.createLineBorder(Color.BLACK)); // add a border to the square\n                squarePanel.add(new JLabel(), BorderLayout.CENTER); // add an empty label to center the number\n                gridPanel.add(squarePanel); // add the square panel to the grid\n                squarePanels[i-1][j-1] = squarePanel; // add the square panel to the 2D array\n            }\n        }\n\n        // create the red dot component and add it to the top-left square panel\n        redDot = new JPanel();\n        redDot.setPreferredSize(new Dimension(10, 10));\n        redDot.setBackground(Color.RED);\n        squarePanels[4][4].add(redDot);\n        redDotRow = 4;\n        redDotCol = 4;\n\n        // create the blue square component and add it to a square panel\n        JPanel blueSquare = new JPanel();\n        blueSquare.setPreferredSize(new Dimension(20, 20));\n        blueSquare.setBackground(Color.BLUE);\n        squarePanels[4][5].add(blueSquare);\n        squarePanels[4][5].revalidate(); // repaint the panel\n\n        add(gridPanel); // add the grid panel to the frame\n        gridPanel.addKeyListener(this);\n\n        pack(); // resize the frame to fit the grid\n        setLocationRelativeTo(null); // center the frame on the screen\n        setVisible(true); // make the frame visible\n        gridPanel.requestFocus(); // give focus to the panel\n\n        addKeyListener(this); // add the key listener to the frame\n        setFocusable(true);\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        int keyCode = e.getKeyCode();\n        System.out.println(&quot;Key pressed: &quot; + keyCode);\n        if (keyCode == KeyEvent.VK_W) {\n            if (redDotRow &gt; 0) { // check if the red dot can move up\n                squarePanels[redDotRow][redDotCol].remove(redDot); // remove the red dot from the current panel\n                redDotRow--; // decrement the row of the red dot\n                squarePanels[redDotRow][redDotCol].add(redDot); // add the red dot to the new panel\n                squarePanels[redDotRow][redDotCol].revalidate(); // repaint the new panel\n            }\n        } \n        else if (keyCode == KeyEvent.VK_S) {\n            if (redDotRow &lt; 9) { // check if the red dot can move down\n                squarePanels[redDotRow][redDotCol].remove(redDot); // remove the red dot from the current panel\n                redDotRow++; // increment the row of the red dot\n                squarePanels[redDotRow][redDotCol].add(redDot); // add the red dot to the new panel\n                squarePanels[redDotRow][redDotCol].revalidate(); // repaint the new panel\n            }\n        } \n        else if (keyCode == KeyEvent.VK_A) {\n            if (redDotCol &gt; 0) { // check if the red dot can move left\n                squarePanels[redDotRow][redDotCol].remove(redDot); // remove the red dot from the current panel\n                redDotCol--; // decrement the column of the red dot\n                squarePanels[redDotRow][redDotCol].add(redDot); // add the red dot to the new panel\n                squarePanels[redDotRow][redDotCol].revalidate(); // repaint the new panel\n            }\n        } \n        else if (keyCode == KeyEvent.VK_D) {\n            if (redDotCol &lt; 9) { // check if the red dot can move right\n                squarePanels[redDotRow][redDotCol].remove(redDot); // remove the red dot from the current panel\n                redDotCol++; // increment the column of the red dot\n                squarePanels[redDotRow][redDotCol].add(redDot); // add the red dot to the new panel\n                squarePanels[redDotRow][redDotCol].revalidate(); // repaint the new panel\n            }\n        }\n    }\n\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // do nothing\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // do nothing\n    }\n\n    public static void main(String[] args) {\n        new GridGUI();\n        GridGUI gridGUI = new GridGUI();\n        gridGUI.requestFocusInWindow();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","stripe-payments"],"comments":[{"owner":{"account_id":23019137,"reputation":322,"user_id":17140396,"display_name":"Anmol Mishra"},"score":0,"creation_date":1643027597,"post_id":70833678,"comment_id":125222855,"body_markdown":"https://githubmemory.com/repo/flutter-stripe/flutter_stripe/issues/68","body":"<a href=\"https://githubmemory.com/repo/flutter-stripe/flutter_stripe/issues/68\" rel=\"nofollow noreferrer\">githubmemory.com/repo/flutter-stripe/flutter_stripe/issues/6&zwnj;&#8203;8</a>"},{"owner":{"account_id":22110000,"reputation":21,"user_id":16365039,"display_name":"MarsMan"},"score":0,"creation_date":1643028947,"post_id":70833678,"comment_id":125223386,"body_markdown":"I think there is no answer for me in there.","body":"I think there is no answer for me in there."},{"owner":{"account_id":17230050,"reputation":6368,"user_id":12474862,"display_name":"Nolan H"},"score":0,"creation_date":1643051815,"post_id":70833678,"comment_id":125232718,"body_markdown":"You should file an issue with the `flutter_stripe` team to see if/how this is supportable.","body":"You should file an issue with the <code>flutter_stripe</code> team to see if/how this is supportable."}],"answers":[{"tags":[],"owner":{"account_id":24054569,"reputation":11,"user_id":18032575,"display_name":"Chimeni Ozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681337735,"creation_date":1643150303,"answer_id":70856596,"question_id":70833678,"body_markdown":"go to android/app/src/main/kotlin/com/example/MainActivity.kt\r\n\r\n```kotlin\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.android.FlutterFragmentActivity\r\n    \r\nclass MainActivity: FlutterFragmentActivity() {\r\n}\r\n```","title":"Flutter cannot initialize Stripe plugin because I am using Java custom code","body":"<p>go to android/app/src/main/kotlin/com/example/MainActivity.kt</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.android.FlutterFragmentActivity\n    \nclass MainActivity: FlutterFragmentActivity() {\n}\n</code></pre>\n"}],"owner":{"account_id":22110000,"reputation":21,"user_id":16365039,"display_name":"MarsMan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681337735,"creation_date":1643026311,"question_id":70833678,"body_markdown":"I am trying to initialize the Stripe plugin but I get the following error.\r\nI am using the MainActivity.java but Stripe extends ```class MainActivity: FlutterFragmentActivity() {\r\n}``` in the MainActivity.kt.\r\n\r\n\r\n    E/MethodChannel#flutter/platform_views(26244): Failed to handle method call\r\n    E/MethodChannel#flutter/platform_views(26244): kotlin.UninitializedPropertyAccessException: lateinit property stripeSdk has not been initialized\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.flutter.stripe.StripeAndroidPlugin.getStripeSdk(StripeAndroidPlugin.kt:34)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.flutter.stripe.StripeAndroidPlugin$onAttachedToEngine$1.invoke(StripeAndroidPlugin.kt:57)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.flutter.stripe.StripeAndroidPlugin$onAttachedToEngine$1.invoke(StripeAndroidPlugin.kt:57)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.facebook.react.uimanager.ThemedReactContext.getNativeModule(ThemedReactContext.kt:17)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.reactnativestripesdk.StripeSdkCardViewManager.createViewInstance(StripeSdkCardViewManager.kt:57)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.flutter.stripe.StripeSdkCardPlatformView.&lt;init&gt;(StripeSdkCardPlatformView.kt:33)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.flutter.stripe.StripeSdkCardPlatformViewFactory.create(StripeSdkCardPlatformViewFactory.kt:21)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat io.flutter.plugin.platform.PlatformViewsController$1.createAndroidViewForPlatformView(PlatformViewsController.java:151)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:104)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:59)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:262)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:178)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat io.flutter.embedding.engine.dart.DartMessenger.lambda$handleMessageFromDart$0$DartMessenger(DartMessenger.java:206)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat io.flutter.embedding.engine.dart.-$$Lambda$DartMessenger$6ZD1MYkhaLxyPjtoFDxe45u43DI.run(Unknown Source:12)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat android.os.Handler.handleCallback(Handler.java:938)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat android.os.Looper.loop(Looper.java:223)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat android.app.ActivityThread.main(ActivityThread.java:7656)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat java.lang.reflect.Method.invoke(Native Method)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n    E/MethodChannel#flutter/platform_views(26244): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n    E/flutter (26244): [ERROR:flutter/lib/ui/ui_dart_state.cc(209)] Unhandled Exception: PlatformException(error, lateinit property stripeSdk has not been initialized, null, kotlin.UninitializedPropertyAccessException: lateinit property stripeSdk has not been initialized","title":"Flutter cannot initialize Stripe plugin because I am using Java custom code","body":"<p>I am trying to initialize the Stripe plugin but I get the following error.\nI am using the MainActivity.java but Stripe extends <code>class MainActivity: FlutterFragmentActivity() { }</code> in the MainActivity.kt.</p>\n<pre><code>E/MethodChannel#flutter/platform_views(26244): Failed to handle method call\nE/MethodChannel#flutter/platform_views(26244): kotlin.UninitializedPropertyAccessException: lateinit property stripeSdk has not been initialized\nE/MethodChannel#flutter/platform_views(26244):  at com.flutter.stripe.StripeAndroidPlugin.getStripeSdk(StripeAndroidPlugin.kt:34)\nE/MethodChannel#flutter/platform_views(26244):  at com.flutter.stripe.StripeAndroidPlugin$onAttachedToEngine$1.invoke(StripeAndroidPlugin.kt:57)\nE/MethodChannel#flutter/platform_views(26244):  at com.flutter.stripe.StripeAndroidPlugin$onAttachedToEngine$1.invoke(StripeAndroidPlugin.kt:57)\nE/MethodChannel#flutter/platform_views(26244):  at com.facebook.react.uimanager.ThemedReactContext.getNativeModule(ThemedReactContext.kt:17)\nE/MethodChannel#flutter/platform_views(26244):  at com.reactnativestripesdk.StripeSdkCardViewManager.createViewInstance(StripeSdkCardViewManager.kt:57)\nE/MethodChannel#flutter/platform_views(26244):  at com.flutter.stripe.StripeSdkCardPlatformView.&lt;init&gt;(StripeSdkCardPlatformView.kt:33)\nE/MethodChannel#flutter/platform_views(26244):  at com.flutter.stripe.StripeSdkCardPlatformViewFactory.create(StripeSdkCardPlatformViewFactory.kt:21)\nE/MethodChannel#flutter/platform_views(26244):  at io.flutter.plugin.platform.PlatformViewsController$1.createAndroidViewForPlatformView(PlatformViewsController.java:151)\nE/MethodChannel#flutter/platform_views(26244):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:104)\nE/MethodChannel#flutter/platform_views(26244):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:59)\nE/MethodChannel#flutter/platform_views(26244):  at io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:262)\nE/MethodChannel#flutter/platform_views(26244):  at io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:178)\nE/MethodChannel#flutter/platform_views(26244):  at io.flutter.embedding.engine.dart.DartMessenger.lambda$handleMessageFromDart$0$DartMessenger(DartMessenger.java:206)\nE/MethodChannel#flutter/platform_views(26244):  at io.flutter.embedding.engine.dart.-$$Lambda$DartMessenger$6ZD1MYkhaLxyPjtoFDxe45u43DI.run(Unknown Source:12)\nE/MethodChannel#flutter/platform_views(26244):  at android.os.Handler.handleCallback(Handler.java:938)\nE/MethodChannel#flutter/platform_views(26244):  at android.os.Handler.dispatchMessage(Handler.java:99)\nE/MethodChannel#flutter/platform_views(26244):  at android.os.Looper.loop(Looper.java:223)\nE/MethodChannel#flutter/platform_views(26244):  at android.app.ActivityThread.main(ActivityThread.java:7656)\nE/MethodChannel#flutter/platform_views(26244):  at java.lang.reflect.Method.invoke(Native Method)\nE/MethodChannel#flutter/platform_views(26244):  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nE/MethodChannel#flutter/platform_views(26244):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nE/flutter (26244): [ERROR:flutter/lib/ui/ui_dart_state.cc(209)] Unhandled Exception: PlatformException(error, lateinit property stripeSdk has not been initialized, null, kotlin.UninitializedPropertyAccessException: lateinit property stripeSdk has not been initialized\n</code></pre>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":12144127,"reputation":2141,"user_id":8867002,"accept_rate":60,"display_name":"Jyoti JK"},"score":1,"creation_date":1524900019,"post_id":50073952,"comment_id":87164259,"body_markdown":"use margins for linearlayout","body":"use margins for linearlayout"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524900114,"post_id":50073952,"comment_id":87164284,"body_markdown":"but i want to center crop image which is in linear layout","body":"but i want to center crop image which is in linear layout"},{"owner":{"account_id":12144127,"reputation":2141,"user_id":8867002,"accept_rate":60,"display_name":"Jyoti JK"},"score":0,"creation_date":1524900308,"post_id":50073952,"comment_id":87164336,"body_markdown":"Use another linearlayout as a parent and use padding for that. For background , You cant use those image properties.","body":"Use another linearlayout as a parent and use padding for that. For background , You cant use those image properties."},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524900551,"post_id":50073952,"comment_id":87164387,"body_markdown":"but even if i use padding using another linear layout that doesnt solve the problem of cropping","body":"but even if i use padding using another linear layout that doesnt solve the problem of cropping"},{"owner":{"account_id":12144127,"reputation":2141,"user_id":8867002,"accept_rate":60,"display_name":"Jyoti JK"},"score":0,"creation_date":1524901337,"post_id":50073952,"comment_id":87164576,"body_markdown":"can you post screenshot what you expect and you got ?","body":"can you post screenshot what you expect and you got ?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524901927,"post_id":50073952,"comment_id":87164730,"body_markdown":"Hi @Jyoti Jk i solved the issue but i&#39;ve another issue can you help me out","body":"Hi @Jyoti Jk i solved the issue but i&#39;ve another issue can you help me out"},{"owner":{"account_id":12144127,"reputation":2141,"user_id":8867002,"accept_rate":60,"display_name":"Jyoti JK"},"score":0,"creation_date":1524901992,"post_id":50073952,"comment_id":87164749,"body_markdown":"yeah sure, What is the problem?","body":"yeah sure, What is the problem?"},{"owner":{"display_name":"user9550968"},"score":0,"creation_date":1524902166,"post_id":50073952,"comment_id":87164790,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/169979/discussion-between-smith-and-jyoti-jk).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/169979/discussion-between-smith-and-jyoti-jk\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":10133216,"reputation":1629,"user_id":7485785,"accept_rate":80,"display_name":"Elsunhoty"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1524902244,"creation_date":1524902244,"answer_id":50074249,"question_id":50073952,"body_markdown":"If you Want to control The Image View Scale \r\n\r\nyou need to put it in ImageView As Src Not Background \r\n\r\nYou can use Frame layout To Achieve it\r\n\r\n    &lt;android.support.v7.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/primary_card&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;19dp&quot;\r\n        android:layout_marginRight=&quot;19dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        app:cardCornerRadius=&quot;115dp&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/background_image_layout&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:adjustViewBounds=&quot;true&quot;\r\n            android:visibility=&quot;gone&quot; /&gt;\r\n        &lt;FrameLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;210dp&quot;&gt;\r\n            &lt;ImageView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:src=&quot;@mipmap/ic_launcher&quot;\r\n                android:layout_height=&quot;match_parent&quot; /&gt;\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/background_image&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;210dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                &gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/profile_image&quot;\r\n                        android:layout_width=&quot;56dp&quot;\r\n                        android:layout_height=&quot;56dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:src=&quot;@drawable/playstore_icon&quot; /&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:orientation=&quot;horizontal&quot;\r\n                            android:padding=&quot;5dp&quot;&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/first_text&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;18dp&quot;\r\n                                android:padding=&quot;5dp&quot;\r\n                                android:text=&quot;John Doe&quot;\r\n                                android:textSize=&quot;15sp&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/second_text&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;18dp&quot;\r\n                                android:padding=&quot;5dp&quot;\r\n                                android:text=&quot;checked in to&quot;\r\n                                android:textSize=&quot;10sp&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/third_text&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;18dp&quot;\r\n                                android:padding=&quot;5dp&quot;\r\n                                android:text=&quot;W south&quot;\r\n                                android:textSize=&quot;15sp&quot; /&gt;\r\n    \r\n                        &lt;/LinearLayout&gt;\r\n    \r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/fourth_text&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginRight=&quot;9dp&quot;\r\n                                android:text=&quot;beach mumbai&quot;\r\n                                android:textSize=&quot;15sp&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/fifth_text&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_below=&quot;@+id/second_text&quot;\r\n                                android:layout_toRightOf=&quot;@+id/fourth_text&quot;\r\n                                android:text=&quot;30 mins ago.&quot;\r\n                                android:textSize=&quot;10sp&quot; /&gt;\r\n                        &lt;/LinearLayout&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;85dp&quot;&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/sixth_text&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignParentLeft=&quot;true&quot;\r\n                        android:layout_centerInParent=&quot;true&quot;\r\n                        android:padding=&quot;10dp&quot;\r\n                        android:text=&quot;reply to abc............&quot;\r\n                        android:textColor=&quot;@color/white&quot; /&gt;\r\n    \r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_centerInParent=&quot;true&quot;&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/favourite_image&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginRight=&quot;5dp&quot;\r\n                            android:adjustViewBounds=&quot;true&quot;\r\n                            android:scaleType=&quot;fitXY&quot;\r\n                            android:src=&quot;@drawable/ic_close&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/seventh_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginRight=&quot;15dp&quot;\r\n                            android:text=&quot;40 likes&quot;\r\n                            android:textColor=&quot;@color/white&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                &lt;/RelativeLayout&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/FrameLayout&gt;\r\n    &lt;/android.support.v7.widget.CardView&gt;","title":"how to center crop a background image of linear layout?","body":"<p>If you Want to control The Image View Scale </p>\n\n<p>you need to put it in ImageView As Src Not Background </p>\n\n<p>You can use Frame layout To Achieve it</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/primary_card\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"19dp\"\n    android:layout_marginRight=\"19dp\"\n    android:layout_marginTop=\"15dp\"\n    app:cardCornerRadius=\"115dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/background_image_layout\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:adjustViewBounds=\"true\"\n        android:visibility=\"gone\" /&gt;\n    &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"210dp\"&gt;\n        &lt;ImageView\n            android:layout_width=\"match_parent\"\n            android:src=\"@mipmap/ic_launcher\"\n            android:layout_height=\"match_parent\" /&gt;\n        &lt;LinearLayout\n            android:id=\"@+id/background_image\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"210dp\"\n            android:orientation=\"vertical\"\n            &gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"&gt;\n\n                &lt;ImageView\n                    android:id=\"@+id/profile_image\"\n                    android:layout_width=\"56dp\"\n                    android:layout_height=\"56dp\"\n                    android:layout_marginLeft=\"10dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:src=\"@drawable/playstore_icon\" /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:orientation=\"vertical\"&gt;\n\n\n                    &lt;LinearLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:orientation=\"horizontal\"\n                        android:padding=\"5dp\"&gt;\n\n                        &lt;TextView\n                            android:id=\"@+id/first_text\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"18dp\"\n                            android:padding=\"5dp\"\n                            android:text=\"John Doe\"\n                            android:textSize=\"15sp\" /&gt;\n\n                        &lt;TextView\n                            android:id=\"@+id/second_text\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"18dp\"\n                            android:padding=\"5dp\"\n                            android:text=\"checked in to\"\n                            android:textSize=\"10sp\" /&gt;\n\n                        &lt;TextView\n                            android:id=\"@+id/third_text\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"18dp\"\n                            android:padding=\"5dp\"\n                            android:text=\"W south\"\n                            android:textSize=\"15sp\" /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginLeft=\"10dp\"\n                        android:orientation=\"horizontal\"&gt;\n\n                        &lt;TextView\n                            android:id=\"@+id/fourth_text\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginRight=\"9dp\"\n                            android:text=\"beach mumbai\"\n                            android:textSize=\"15sp\" /&gt;\n\n                        &lt;TextView\n                            android:id=\"@+id/fifth_text\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_below=\"@+id/second_text\"\n                            android:layout_toRightOf=\"@+id/fourth_text\"\n                            android:text=\"30 mins ago.\"\n                            android:textSize=\"10sp\" /&gt;\n                    &lt;/LinearLayout&gt;\n                &lt;/LinearLayout&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"85dp\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/sixth_text\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentLeft=\"true\"\n                    android:layout_centerInParent=\"true\"\n                    android:padding=\"10dp\"\n                    android:text=\"reply to abc............\"\n                    android:textColor=\"@color/white\" /&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_centerInParent=\"true\"&gt;\n\n                    &lt;ImageView\n                        android:id=\"@+id/favourite_image\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginRight=\"5dp\"\n                        android:adjustViewBounds=\"true\"\n                        android:scaleType=\"fitXY\"\n                        android:src=\"@drawable/ic_close\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/seventh_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginRight=\"15dp\"\n                        android:text=\"40 likes\"\n                        android:textColor=\"@color/white\" /&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/RelativeLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1530469,"reputation":3134,"user_id":1427776,"accept_rate":73,"display_name":"Deven"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524902534,"creation_date":1524902534,"answer_id":50074291,"question_id":50073952,"body_markdown":"You can&#39;t center crop a background image of linear layout,\r\nBut you can achieve the same using these changes:\r\n\r\n1. Replace you LinearLayout with RelativeLayout\r\n2. Place a ImageView as a first child inside relative layout and use property for center crop. \r\n\r\n\r\n        &lt;RelativeLayout\r\n\t\tandroid:id=&quot;@+id/background_image&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;210dp&quot;\r\n\t\tandroid:orientation=&quot;vertical&quot;&gt;\r\n\r\n\t\t    &lt;ImageView\r\n\t\t\tandroid:scaleType=&quot;centerCrop&quot;\r\n\t\t\tandroid:src=&quot;@drawable/club1&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;match_parent&quot; /&gt;\r\n\t\t.....\r\n\t\t......\r\n\t    &lt;/RelativeLayout&gt;\r\n\r\n","title":"how to center crop a background image of linear layout?","body":"<p>You can't center crop a background image of linear layout,\nBut you can achieve the same using these changes:</p>\n\n<ol>\n<li>Replace you LinearLayout with RelativeLayout</li>\n<li><p>Place a ImageView as a first child inside relative layout and use property for center crop. </p>\n\n<pre><code>&lt;RelativeLayout\nandroid:id=\"@+id/background_image\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"210dp\"\nandroid:orientation=\"vertical\"&gt;\n\n    &lt;ImageView\n    android:scaleType=\"centerCrop\"\n    android:src=\"@drawable/club1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n.....\n......\n&lt;/RelativeLayout&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13819119,"reputation":1911,"user_id":9975029,"display_name":"Dyno Cris"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564817876,"creation_date":1564817876,"answer_id":57336407,"question_id":50073952,"body_markdown":"If you use CoordinatorLayout, then just to put your ImageView with centerCrop parameter to top.\r\n\r\n    &lt;CoordinatorLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:background=&quot;@drawable/background_main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n        app:elevation=&quot;0dp&quot;&gt;\r\n\r\n        &lt;include layout=&quot;@layout/header_main&quot; /&gt;\r\n\r\n        &lt;TabLayout\r\n            android:id=&quot;@+id/tabs&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:tabIndicatorColor=&quot;@android:color/white&quot;\r\n            android:background=&quot;@drawable/white_border_background&quot;\r\n            app:tabIndicatorHeight=&quot;3dp&quot;/&gt;\r\n\r\n    &lt;/AppBarLayout&gt;\r\n\r\n    &lt;ViewPager\r\n        android:id=&quot;@+id/view_pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n    &lt;/CoordinatorLayout&gt;","title":"how to center crop a background image of linear layout?","body":"<p>If you use CoordinatorLayout, then just to put your ImageView with centerCrop parameter to top.</p>\n\n<pre><code>&lt;CoordinatorLayout\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;ImageView\n    android:scaleType=\"centerCrop\"\n    android:background=\"@drawable/background_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@android:color/transparent\"\n    android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n    app:elevation=\"0dp\"&gt;\n\n    &lt;include layout=\"@layout/header_main\" /&gt;\n\n    &lt;TabLayout\n        android:id=\"@+id/tabs\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:tabIndicatorColor=\"@android:color/white\"\n        android:background=\"@drawable/white_border_background\"\n        app:tabIndicatorHeight=\"3dp\"/&gt;\n\n&lt;/AppBarLayout&gt;\n\n&lt;ViewPager\n    android:id=\"@+id/view_pager\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n&lt;/CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619462444,"creation_date":1619462444,"answer_id":67272101,"question_id":50073952,"body_markdown":"CenterCrop logic is baked inside `ImageView`. The correct solution is to extract it into [a Drawable](https://gist.github.com/korniltsev/498d7b0687dfced86964ba6e232dee54) which wraps another Drawable and centerCrops it.","title":"how to center crop a background image of linear layout?","body":"<p>CenterCrop logic is baked inside <code>ImageView</code>. The correct solution is to extract it into <a href=\"https://gist.github.com/korniltsev/498d7b0687dfced86964ba6e232dee54\" rel=\"nofollow noreferrer\">a Drawable</a> which wraps another Drawable and centerCrops it.</p>\n"},{"tags":[],"owner":{"account_id":26576812,"reputation":1,"user_id":20202033,"display_name":"hariom vishwakarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681337724,"creation_date":1680791647,"answer_id":75950753,"question_id":50073952,"body_markdown":"You can add a `cardView` with `layout_height` and `layout_width` equal to `match_parent` and then add the `imageView` in it with `layout_height` and `layout_width` equals to `match_parent` then add your code after the image view in the card view with this you can use background centered crop image view without the needing of a relative layout, your code will looks like the following:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Yoga&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:src=&quot;@drawable/yoga&quot;\r\n            android:scaleType=&quot;centerCrop&quot;&gt;&lt;/ImageView&gt;\r\n\r\n   &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/LinearLayout&gt;\r\n```","title":"how to center crop a background image of linear layout?","body":"<p>You can add a <code>cardView</code> with <code>layout_height</code> and <code>layout_width</code> equal to <code>match_parent</code> and then add the <code>imageView</code> in it with <code>layout_height</code> and <code>layout_width</code> equals to <code>match_parent</code> then add your code after the image view in the card view with this you can use background centered crop image view without the needing of a relative layout, your code will looks like the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Yoga&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:src=&quot;@drawable/yoga&quot;\n            android:scaleType=&quot;centerCrop&quot;&gt;&lt;/ImageView&gt;\n\n   &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"display_name":"user9550968"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3546,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1681337724,"creation_date":1524899849,"question_id":50073952,"body_markdown":"Hi i had to make a layout with card with recyclerview so for that i set an image as a background to linear layout but now i&#39;m unable to center crop that image\r\nMy problem is that i cannot use imageview because using that the height of card increases as well and i don&#39;t want that so please if someone can assit me..\r\nmy xml\r\n\r\n    &lt;android.support.v7.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/primary_card&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;19dp&quot;\r\n        android:layout_marginRight=&quot;19dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        app:cardCornerRadius=&quot;115dp&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/background_image_layout&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:adjustViewBounds=&quot;true&quot;\r\n            android:visibility=&quot;gone&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/background_image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;210dp&quot;\r\n            android:background=&quot;@drawable/club1&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            &gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                    android:id=&quot;@+id/profile_image&quot;\r\n                    android:layout_width=&quot;56dp&quot;\r\n                    android:layout_height=&quot;56dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:src=&quot;@drawable/ellipse&quot; /&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot;\r\n                        android:padding=&quot;5dp&quot;&gt;\r\n    \r\n                        &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\r\n                            android:id=&quot;@+id/first_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginTop=&quot;18dp&quot;\r\n                            android:padding=&quot;5dp&quot;\r\n                            android:text=&quot;John Doe&quot;\r\n                            android:textColor=&quot;@color/White&quot;\r\n                            android:textSize=&quot;15sp&quot; /&gt;\r\n    \r\n                        &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\r\n                            android:id=&quot;@+id/second_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginTop=&quot;18dp&quot;\r\n                            android:padding=&quot;5dp&quot;\r\n                            android:text=&quot;checked in to&quot;\r\n                            android:textColor=&quot;@color/White&quot;\r\n                            android:textSize=&quot;10sp&quot; /&gt;\r\n    \r\n                        &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\r\n                            android:id=&quot;@+id/third_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginTop=&quot;18dp&quot;\r\n                            android:padding=&quot;5dp&quot;\r\n                            android:text=&quot;W south&quot;\r\n                            android:textColor=&quot;@color/White&quot;\r\n                            android:textSize=&quot;15sp&quot; /&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n                        &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\r\n                            android:id=&quot;@+id/fourth_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginRight=&quot;9dp&quot;\r\n                            android:text=&quot;beach mumbai&quot;\r\n                            android:textColor=&quot;@color/White&quot;\r\n                            android:textSize=&quot;15sp&quot; /&gt;\r\n    \r\n                        &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\r\n                            android:id=&quot;@+id/fifth_text&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_below=&quot;@+id/second_text&quot;\r\n                            android:layout_toRightOf=&quot;@+id/fourth_text&quot;\r\n                            android:text=&quot;30 mins ago.&quot;\r\n                            android:textColor=&quot;@color/White&quot;\r\n                            android:textSize=&quot;10sp&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                &lt;/LinearLayout&gt;\r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;85dp&quot;&gt;\r\n    \r\n                &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\r\n                    android:id=&quot;@+id/sixth_text&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_centerInParent=&quot;true&quot;\r\n                    android:padding=&quot;10dp&quot;\r\n                    android:text=&quot;reply to abc............&quot;\r\n                    android:textColor=&quot;@color/White&quot; /&gt;\r\n    \r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignParentRight=&quot;true&quot;\r\n                    android:layout_centerInParent=&quot;true&quot;&gt;\r\n    \r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/favourite_image&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginRight=&quot;5dp&quot;\r\n                        android:adjustViewBounds=&quot;true&quot;\r\n                        android:scaleType=&quot;fitXY&quot;\r\n                        android:src=&quot;@drawable/ic_favorite_border_black_24dp&quot; /&gt;\r\n    \r\n                    &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\r\n                        android:id=&quot;@+id/seventh_text&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginRight=&quot;15dp&quot;\r\n                        android:text=&quot;40 likes&quot;\r\n                        android:textColor=&quot;@color/White&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/RelativeLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/android.support.v7.widget.CardView&gt;","title":"how to center crop a background image of linear layout?","body":"<p>Hi i had to make a layout with card with recyclerview so for that i set an image as a background to linear layout but now i'm unable to center crop that image\nMy problem is that i cannot use imageview because using that the height of card increases as well and i don't want that so please if someone can assit me..\nmy xml</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/primary_card\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"19dp\"\n    android:layout_marginRight=\"19dp\"\n    android:layout_marginTop=\"15dp\"\n    app:cardCornerRadius=\"115dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/background_image_layout\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:adjustViewBounds=\"true\"\n        android:visibility=\"gone\" /&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/background_image\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"210dp\"\n        android:background=\"@drawable/club1\"\n        android:orientation=\"vertical\"\n        &gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;de.hdodenhof.circleimageview.CircleImageView\n                android:id=\"@+id/profile_image\"\n                android:layout_width=\"56dp\"\n                android:layout_height=\"56dp\"\n                android:layout_marginLeft=\"10dp\"\n                android:layout_marginTop=\"20dp\"\n                android:src=\"@drawable/ellipse\" /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:orientation=\"horizontal\"\n                    android:padding=\"5dp\"&gt;\n\n                    &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\n                        android:id=\"@+id/first_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginTop=\"18dp\"\n                        android:padding=\"5dp\"\n                        android:text=\"John Doe\"\n                        android:textColor=\"@color/White\"\n                        android:textSize=\"15sp\" /&gt;\n\n                    &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\n                        android:id=\"@+id/second_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginTop=\"18dp\"\n                        android:padding=\"5dp\"\n                        android:text=\"checked in to\"\n                        android:textColor=\"@color/White\"\n                        android:textSize=\"10sp\" /&gt;\n\n                    &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\n                        android:id=\"@+id/third_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginTop=\"18dp\"\n                        android:padding=\"5dp\"\n                        android:text=\"W south\"\n                        android:textColor=\"@color/White\"\n                        android:textSize=\"15sp\" /&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginLeft=\"10dp\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\n                        android:id=\"@+id/fourth_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginRight=\"9dp\"\n                        android:text=\"beach mumbai\"\n                        android:textColor=\"@color/White\"\n                        android:textSize=\"15sp\" /&gt;\n\n                    &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\n                        android:id=\"@+id/fifth_text\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_below=\"@+id/second_text\"\n                        android:layout_toRightOf=\"@+id/fourth_text\"\n                        android:text=\"30 mins ago.\"\n                        android:textColor=\"@color/White\"\n                        android:textSize=\"10sp\" /&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"85dp\"&gt;\n\n            &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\n                android:id=\"@+id/sixth_text\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_centerInParent=\"true\"\n                android:padding=\"10dp\"\n                android:text=\"reply to abc............\"\n                android:textColor=\"@color/White\" /&gt;\n\n\n            &lt;LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentRight=\"true\"\n                android:layout_centerInParent=\"true\"&gt;\n\n                &lt;ImageView\n                    android:id=\"@+id/favourite_image\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"5dp\"\n                    android:adjustViewBounds=\"true\"\n                    android:scaleType=\"fitXY\"\n                    android:src=\"@drawable/ic_favorite_border_black_24dp\" /&gt;\n\n                &lt;com.ct.listrtrial.Custom.CustomTextViewMedium\n                    android:id=\"@+id/seventh_text\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginRight=\"15dp\"\n                    android:text=\"40 likes\"\n                    android:textColor=\"@color/White\" /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/RelativeLayout&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1681330769,"post_id":75999471,"comment_id":134041031,"body_markdown":"which OS are you using?","body":"which OS are you using?"},{"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"score":0,"creation_date":1681335453,"post_id":75999471,"comment_id":134041977,"body_markdown":"@cyberbrain I&#39;m using MacOS. I&#39;ll update that in my description.","body":"@cyberbrain I&#39;m using MacOS. I&#39;ll update that in my description."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681332548,"creation_date":1681332548,"answer_id":75999709,"question_id":75999471,"body_markdown":"On most OSes, environment properties aren&#39;t global; instead, each process has their own table, but whenever a new process is spawned, some other process is its spawner (for example, if you run stuff on the terminal, the shell spawns these processes; if you use `ProcessBuilder` in java, the JVM process spawns it, and so on. Only the system init launcher has no spawner, and all system services are spawned by the init process) - and any newly spawned process gets a clone of the environment table as it was in the spawning process as it is launched.\r\n\r\nIn addition, when launching, you _can_ make a change to that if you want. In java, `ProcessBuilder` has method calls if you want to do that.\r\n\r\nA shell application (that big black box thing is nothing magical, it&#39;s just an app) has tools for this too. For example, on most shells, you can do this:\r\n\r\n```\r\nMYPROPERTY=foo java -jar whatever.jar\r\n```\r\n\r\nAt which point `System.getenv(&quot;MYPROPERTY&quot;)` inside that java process would return `FOO`. (bash knows that `MYPROPERTY=foo` is not itself an executable file to run, because of the `=` sign.\r\n\r\nYou can put multiple strings in there if you like:\r\n\r\n```\r\nPROP1=foo PROP2=bar java -jar ....\r\n```\r\n\r\nworks fine. The other option is to first set these things, then spawn. But on most shells, you have to use `export`:\r\n\r\n```\r\nexport PROP1=foo\r\nexport PROP2=bar\r\njava -jar ...\r\n```\r\n\r\nBecause without `export` those things aren&#39;t provided to the newly spawned process.\r\n","title":"Load environment properties before running an application jar file","body":"<p>On most OSes, environment properties aren't global; instead, each process has their own table, but whenever a new process is spawned, some other process is its spawner (for example, if you run stuff on the terminal, the shell spawns these processes; if you use <code>ProcessBuilder</code> in java, the JVM process spawns it, and so on. Only the system init launcher has no spawner, and all system services are spawned by the init process) - and any newly spawned process gets a clone of the environment table as it was in the spawning process as it is launched.</p>\n<p>In addition, when launching, you <em>can</em> make a change to that if you want. In java, <code>ProcessBuilder</code> has method calls if you want to do that.</p>\n<p>A shell application (that big black box thing is nothing magical, it's just an app) has tools for this too. For example, on most shells, you can do this:</p>\n<pre><code>MYPROPERTY=foo java -jar whatever.jar\n</code></pre>\n<p>At which point <code>System.getenv(&quot;MYPROPERTY&quot;)</code> inside that java process would return <code>FOO</code>. (bash knows that <code>MYPROPERTY=foo</code> is not itself an executable file to run, because of the <code>=</code> sign.</p>\n<p>You can put multiple strings in there if you like:</p>\n<pre><code>PROP1=foo PROP2=bar java -jar ....\n</code></pre>\n<p>works fine. The other option is to first set these things, then spawn. But on most shells, you have to use <code>export</code>:</p>\n<pre><code>export PROP1=foo\nexport PROP2=bar\njava -jar ...\n</code></pre>\n<p>Because without <code>export</code> those things aren't provided to the newly spawned process.</p>\n"}],"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681335467,"creation_date":1681330494,"question_id":75999471,"body_markdown":"I usually ran my application simply by using `java -jar path/to/app.jar` command on the Terminal on my MacOS. However, one dependency is forcing me to read some properties from the System properties so those need to be present in the runtime as env variables. \r\n\r\nI&#39;m able to run the application in IntelliJ by adding all those properties in a file in my project resource directory and use [EnvFile][1] plugin. This didn&#39;t require any modifications to the way I used to run the application on IntelliJ.\r\n\r\nHowever, when it comes to running the application on console, I can&#39;t find a better way to run it using the above `java -jar path/to/app.jar` file. \r\n\r\nPlease note, I can&#39;t pass those properties as `-DpropertyName=value` to the above command as those will be accessed by `System.getProperty()` in the application. I&#39;m referring to feeding the properties into the environment because the dependency will access those by `System.getenv().get()` command. \r\n\r\nOne way I can think of to use a shell script to load these properties into the environment followed by the `java -jar path/to/app.jar` command. Please let me know if there&#39;s a better way to achieve this.\r\n\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7861-envfile","title":"Load environment properties before running an application jar file","body":"<p>I usually ran my application simply by using <code>java -jar path/to/app.jar</code> command on the Terminal on my MacOS. However, one dependency is forcing me to read some properties from the System properties so those need to be present in the runtime as env variables.</p>\n<p>I'm able to run the application in IntelliJ by adding all those properties in a file in my project resource directory and use <a href=\"https://plugins.jetbrains.com/plugin/7861-envfile\" rel=\"nofollow noreferrer\">EnvFile</a> plugin. This didn't require any modifications to the way I used to run the application on IntelliJ.</p>\n<p>However, when it comes to running the application on console, I can't find a better way to run it using the above <code>java -jar path/to/app.jar</code> file.</p>\n<p>Please note, I can't pass those properties as <code>-DpropertyName=value</code> to the above command as those will be accessed by <code>System.getProperty()</code> in the application. I'm referring to feeding the properties into the environment because the dependency will access those by <code>System.getenv().get()</code> command.</p>\n<p>One way I can think of to use a shell script to load these properties into the environment followed by the <code>java -jar path/to/app.jar</code> command. Please let me know if there's a better way to achieve this.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","bcrypt"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1648160640,"post_id":71607125,"comment_id":126561414,"body_markdown":"please enable spring security debug logs and post your full logs here pls","body":"please enable spring security debug logs and post your full logs here pls"},{"owner":{"account_id":14339763,"reputation":61,"user_id":10358271,"display_name":"ngTouthang"},"score":0,"creation_date":1648218125,"post_id":71607125,"comment_id":126575745,"body_markdown":"does the order matter in the HttpSecurity configure chain","body":"does the order matter in the HttpSecurity configure chain"}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648147871,"creation_date":1648147871,"answer_id":71607964,"question_id":71607125,"body_markdown":"You can use a more component-based approach to do that since the `WebSecurityConfigurerAdapter` has been deprecated in `5.7.0-M2`.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SpringSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain appSecurity(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .httpBasic();\r\n        return http.build()\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(PasswordEncoder encoder) {\r\n        User admin = User.withUsername(&quot;admin&quot;)\r\n            .password(encoder.encode(&quot;password&quot;))\r\n            .roles(&quot;USER&quot;).build();\r\n        return new InMemoryUserDetailsManager(admin);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nThis way, you have in-memory authentication by providing a `InMemoryUserDetailsManager` as the implementation of `UserDetailsService`, and this bean is dependent on the `PasswordEncoder`.\r\n\r\nYou can find more detail on the [reference docs][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.7.0-M3/servlet/authentication/passwords/in-memory.html","title":"Error creating bean with name &#39;springSecurityConfig&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?","body":"<p>You can use a more component-based approach to do that since the <code>WebSecurityConfigurerAdapter</code> has been deprecated in <code>5.7.0-M2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain appSecurity(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic();\n        return http.build()\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(PasswordEncoder encoder) {\n        User admin = User.withUsername(&quot;admin&quot;)\n            .password(encoder.encode(&quot;password&quot;))\n            .roles(&quot;USER&quot;).build();\n        return new InMemoryUserDetailsManager(admin);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n\n}\n</code></pre>\n<p>This way, you have in-memory authentication by providing a <code>InMemoryUserDetailsManager</code> as the implementation of <code>UserDetailsService</code>, and this bean is dependent on the <code>PasswordEncoder</code>.</p>\n<p>You can find more detail on the <a href=\"https://docs.spring.io/spring-security/reference/5.7.0-M3/servlet/authentication/passwords/in-memory.html\" rel=\"nofollow noreferrer\">reference docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":14981011,"reputation":146,"user_id":10815006,"display_name":"jugalmadhavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681333956,"creation_date":1681333956,"answer_id":75999892,"question_id":71607125,"body_markdown":"Create a separate configuration class and move passwordEncoder() method to it.\r\n\r\nExample:\r\n\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n    @Configuration\r\n    public class PasswordEncoderConfig {\r\n\r\n        @Bean\r\n        PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n    }\r\n\r\nAnd then modify SpringSecurityConfig as below:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n     @Autowired\r\n     private PasswordEncoder passwordEncoder; //new line\r\n\r\n     @Autowired\r\n     public void configureGlobal(AuthenticationManagerBuilder authentication) throws Exception {\r\n        authentication.inMemoryAuthentication()\r\n          .withUser(&quot;admin&quot;)\r\n          .password(passwordEncoder.encode(&quot;password&quot;)) //update line\r\n          .roles(&quot;USER&quot;);\r\n        }\r\n    }","title":"Error creating bean with name &#39;springSecurityConfig&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?","body":"<p>Create a separate configuration class and move passwordEncoder() method to it.</p>\n<p>Example:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\npublic class PasswordEncoderConfig {\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p>And then modify SpringSecurityConfig as below:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\n\n @Autowired\n private PasswordEncoder passwordEncoder; //new line\n\n @Autowired\n public void configureGlobal(AuthenticationManagerBuilder authentication) throws Exception {\n    authentication.inMemoryAuthentication()\n      .withUser(&quot;admin&quot;)\n      .password(passwordEncoder.encode(&quot;password&quot;)) //update line\n      .roles(&quot;USER&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14339763,"reputation":61,"user_id":10358271,"display_name":"ngTouthang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681333956,"creation_date":1648143724,"question_id":71607125,"body_markdown":"I got error in encoding my inMemory User password using BCryptPasswordEncoder\r\n\r\nhere is my springsecurityconfig file\r\n\r\n# SpringSecurityConfig class\r\n\r\n```\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(&quot;admin&quot;)\r\n                .password(passwordEncoder().encode(&quot;password&quot;))\r\n                .roles(&quot;USER&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nHow can i properly encode the password without getting bean creation error","title":"Error creating bean with name &#39;springSecurityConfig&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?","body":"<p>I got error in encoding my inMemory User password using BCryptPasswordEncoder</p>\n<p>here is my springsecurityconfig file</p>\n<h1>SpringSecurityConfig class</h1>\n<pre><code>import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic();\n    }\n\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(&quot;admin&quot;)\n                .password(passwordEncoder().encode(&quot;password&quot;))\n                .roles(&quot;USER&quot;);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n\n}\n</code></pre>\n<p>How can i properly encode the password without getting bean creation error</p>\n"},{"tags":["java","rabbitmq","queue","priority-queue","messagebroker"],"owner":{"account_id":26496063,"reputation":11,"user_id":20133800,"display_name":"hepta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681333788,"creation_date":1681333788,"question_id":75999867,"body_markdown":"I have a microservice that is processing messages of different types. One of these types(A) needs to be processed ahead of the others. So that if the queue has 1000 entries of type B and a message of type A enters the queue, then that messages is consumed before the other 1000.\r\n\r\nWe planned on using a priority queue but found that they were not supported for a Quorum type queue. We thought about reverting to using a Classic queue but we don&#39;t want to be kept from upgrading to newer versions of RabbitMq in the future.\r\n\r\n\r\nOne thought I had was to have 2 queues. One for type A messages and one for the others. Then we have a &quot;funnel&quot; service that would read from both preferring the A queue. This service would then move the messages to the main processing queue such that A messages would go first. The key to that would be to not overwhelm the main processing queue such that there would be thousands of messages backlogged. Is there some way to meter messages to prevent this? Or does anyone have another better idea to implement what we are trying to do?","title":"Is there any way to consume messages from RabbitMq reading from multiple queues where one has a higher priority than the other?","body":"<p>I have a microservice that is processing messages of different types. One of these types(A) needs to be processed ahead of the others. So that if the queue has 1000 entries of type B and a message of type A enters the queue, then that messages is consumed before the other 1000.</p>\n<p>We planned on using a priority queue but found that they were not supported for a Quorum type queue. We thought about reverting to using a Classic queue but we don't want to be kept from upgrading to newer versions of RabbitMq in the future.</p>\n<p>One thought I had was to have 2 queues. One for type A messages and one for the others. Then we have a &quot;funnel&quot; service that would read from both preferring the A queue. This service would then move the messages to the main processing queue such that A messages would go first. The key to that would be to not overwhelm the main processing queue such that there would be thousands of messages backlogged. Is there some way to meter messages to prevent this? Or does anyone have another better idea to implement what we are trying to do?</p>\n"},{"tags":["java","amazon-web-services","tomcat","war"],"owner":{"account_id":28288708,"reputation":1,"user_id":21629212,"display_name":"James80"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681333382,"creation_date":1681333382,"question_id":75999818,"body_markdown":"I am bundling multiple war files in a zip file for tomcat env using elastic beanstalk.\r\nInstead of &#39;webapps&#39; folder, the zip file is actually getting deployed inside &#39;webapps/ROOT&#39; folder.\r\n\r\nhttps://docs.aws.amazon.com/elasticbeanstalk/latest/dg/java-tomcat-multiple-war-files.html\r\n\r\nMyServices.zip\r\n  - service1.war\r\n  - ROOT.war\r\n\r\nI would expect MyServices.zip to be deployed in &#39;/usr/share/tomcat/webapps&#39; folder, as per the documentation.\r\nInstead, the zip file is copied to the ROOT directory as: &#39;/usr/share/tomcat/webapps/ROOT/MyServices.zip&#39;\r\n\r\nIs there a setting/config that needs to change to enable correct deployment?\r\n\r\nI expect the zip file to be deployed in &#39;/usr/share/tomcat/webapps/&#39;\r\ninstead, it is copied in &#39;/usr/share/tomcat/webapps/ROOT&#39; directory","title":"mutliple war files getting deployed in wrong directory","body":"<p>I am bundling multiple war files in a zip file for tomcat env using elastic beanstalk.\nInstead of 'webapps' folder, the zip file is actually getting deployed inside 'webapps/ROOT' folder.</p>\n<p><a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/java-tomcat-multiple-war-files.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/java-tomcat-multiple-war-files.html</a></p>\n<p>MyServices.zip</p>\n<ul>\n<li>service1.war</li>\n<li>ROOT.war</li>\n</ul>\n<p>I would expect MyServices.zip to be deployed in '/usr/share/tomcat/webapps' folder, as per the documentation.\nInstead, the zip file is copied to the ROOT directory as: '/usr/share/tomcat/webapps/ROOT/MyServices.zip'</p>\n<p>Is there a setting/config that needs to change to enable correct deployment?</p>\n<p>I expect the zip file to be deployed in '/usr/share/tomcat/webapps/'\ninstead, it is copied in '/usr/share/tomcat/webapps/ROOT' directory</p>\n"},{"tags":["java","authentication","spring-security"],"comments":[{"owner":{"account_id":17858216,"reputation":11,"user_id":21622981,"display_name":"Goldo lov"},"score":0,"creation_date":1681300627,"post_id":75992273,"comment_id":134033607,"body_markdown":"@Z-100 it seems like yes, the default mechanism, although I can&#39;t be sure that I understand correctly.  outputs nothing to the console.  just sends back to login page with url: login?error","body":"@Z-100 it seems like yes, the default mechanism, although I can&#39;t be sure that I understand correctly.  outputs nothing to the console.  just sends back to login page with url: login?error"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1681314675,"post_id":75992273,"comment_id":134037426,"body_markdown":"`@SpringBootApplication: exclude = SecurityAutoConfiguration.class` is not a good choice as this will disable the default security configurations that you get with proper security headers etc. Do not add this.","body":"<code>@SpringBootApplication: exclude = SecurityAutoConfiguration.class</code> is not a good choice as this will disable the default security configurations that you get with proper security headers etc. Do not add this."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1681331610,"post_id":75992273,"comment_id":134041190,"body_markdown":"@Goldolov Your logs ar about loading the login page, but not about submitting username and password. So my guess is, your HTML page doesn&#39;t submit anything. Show your source code of your login page.","body":"@Goldolov Your logs ar about loading the login page, but not about submitting username and password. So my guess is, your HTML page doesn&#39;t submit anything. Show your source code of your login page."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1681379529,"post_id":75992273,"comment_id":134048093,"body_markdown":"i dont see any `POST` to `/login` in the logs so what actually happens when you push the login button? is there any request being even made? have you looked in the F12 console of the browser?","body":"i dont see any <code>POST</code> to <code>&#47;login</code> in the logs so what actually happens when you push the login button? is there any request being even made? have you looked in the F12 console of the browser?"},{"owner":{"account_id":17858216,"reputation":11,"user_id":21622981,"display_name":"Goldo lov"},"score":0,"creation_date":1681421867,"post_id":75992273,"comment_id":134058162,"body_markdown":"@Toerktumlare There are no messages in the console, the conI did not find any information about the post request, which is strange. I traced the path through breakpoints, I saw that it takes the login and password and in one function it sets that it is not authenticated (perhaps because of the role)sole level is detailed.","body":"@Toerktumlare There are no messages in the console, the conI did not find any information about the post request, which is strange. I traced the path through breakpoints, I saw that it takes the login and password and in one function it sets that it is not authenticated (perhaps because of the role)sole level is detailed."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1681452373,"post_id":75992273,"comment_id":134061449,"body_markdown":"You are giving us contradicting information. You say you dont find any information about the request in the browser, yet you say that you can debug with breakpoints in the backend. If there is no request from the frontend how can you debug the backend. This commentsection is getting too long. Stack overflow is not a forum. Good luck","body":"You are giving us contradicting information. You say you dont find any information about the request in the browser, yet you say that you can debug with breakpoints in the backend. If there is no request from the frontend how can you debug the backend. This commentsection is getting too long. Stack overflow is not a forum. Good luck"}],"owner":{"account_id":17858216,"reputation":11,"user_id":21622981,"display_name":"Goldo lov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681333327,"creation_date":1681278575,"question_id":75992273,"body_markdown":"The user is not authorized when entering the correct login (in my case, mail) and password. \r\nI tried to check what the error is through a breakpoint, but it doesn&#39;t even enter `loadUserByUsername`. \r\nRegistration is working properly. Due to the fact that I tried not to use the `WebSecurityConfigurerAdapter`, \r\nit turned out that I could not find very much information. Lack of experience.I set a breakpoint in the `authenticate()` method, I expected that I would see the login and password there, but the principal = &quot;&quot; and credentials = &quot;123&quot; (I used the values dm@gmail.com and password 123 as input).I figured out the output of username in `authenticate ()`, in the form there was name = &quot;email&quot;.\r\n\r\nFollowing the actions of the program, I noticed that in the `UsernamePasswordAuthenticationToken` class it enters the `UsernamePasswordAuthenticationToken(Object principal, Object credentials)` method, but not in `UsernamePasswordAuthenticationToken(Object principal, Object credentials, Collection&lt;? extends GrantedAuthentication&gt; authorities)` where authorization would be set to true. Based on this, I think there is an error in the user class where `getAuthorities` returns a collection (it was assumed that one user can only be assigned one role)\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .authorizeHttpRequests((requests)-&gt;requests\r\n                        .requestMatchers(&quot;/login&quot;,&quot;/static/**&quot;,&quot;/registration&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form)-&gt;form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout)-&gt;logout.permitAll());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n...\r\n\r\n    @Configuration\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/static/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/&quot;);\r\n        }\r\n        public void addViewControllers(ViewControllerRegistry registry){\r\n            registry.addViewController(&quot;/main&quot;).setViewName(&quot;main&quot;);\r\n            registry.addViewController(&quot;/&quot;).setViewName(&quot;main&quot;);\r\n            registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\r\n            registry.addViewController(&quot;/registration&quot;).setViewName(&quot;registration&quot;);\r\n        }\r\n    }\r\n\r\n...\r\n\r\n    @Controller\r\n    @RequiredArgsConstructor\r\n    public class RegistrationController {\r\n        @Autowired\r\n        private UserService userService;\r\n        @GetMapping(&quot;/registration&quot;)\r\n        public String showRegistrationForm(Model model) {\r\n            model.addAttribute(&quot;user&quot;, new User());\r\n            return &quot;registration&quot;;\r\n        }\r\n        @GetMapping(&quot;/login&quot;)\r\n        String login(){\r\n            return &quot;login&quot;;\r\n        }\r\n        @PostMapping(&quot;/registration&quot;)\r\n        public String processRegistrationForm(@ModelAttribute(&quot;user&quot;) @Valid User registrationForm,\r\n                                              BindingResult bindingResult, Model model) {\r\n            if (bindingResult.hasErrors()) {\r\n                return &quot;registration&quot;;\r\n            }\r\n            if (!registrationForm.getPassword().equals(registrationForm.getPassword())) {\r\n                model.addAttribute(&quot;errorMessage&quot;, &quot;Пароли не совпадают&quot;);\r\n                return &quot;registration&quot;;\r\n            }\r\n            if (!userService.saveUser(registrationForm)){\r\n                model.addAttribute(&quot;errorMessage&quot;, &quot;Пользователь с таким именем уже существует&quot;);\r\n                return &quot;registration&quot;;\r\n            }\r\n            return &quot;redirect:/login&quot;;\r\n        }\r\n    }\r\n\r\n...\r\n\r\n```\r\n@Service\r\npublic class UserService implements UserDetailsService {\r\n@PersistenceContext\r\n    private EntityManager em;\r\n@Autowired\r\n    UserRepository userRepository;\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        User user = userRepository.findByEmail(email);\r\n\r\n        if(user == null){\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        return user;\r\n    }\r\n    public User findByUser(String name){\r\n        return userRepository.findByEmail(name);\r\n    }\r\n    public List&lt;User&gt; allUser(){\r\n        return userRepository.findAll();\r\n    }\r\n    public boolean saveUser(User user){\r\n        User userFromDb = userRepository.findByEmail(user.getUsername());\r\n        Role userRole = roleRepository.findByName(&quot;ROLE_ADMIN&quot;);\r\n        String email = user.getEmail();\r\n        if(userRole == null){\r\n            userRole = roleRepository.findByName(&quot;ROLE_USER&quot;);\r\n            if(userRole == null)    {\r\n                Role role = new Role(&quot;ROLE_USER&quot;);\r\n            roleRepository.save(role);\r\n            }\r\n        }\r\n        if(userFromDb != null) {\r\n            return false;\r\n        }\r\n\r\n        user.setRole(userRole);\r\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\r\n        userRepository.save(user);\r\n        return true;\r\n    }\r\n    public boolean deleteUser(Long userId){\r\n        if(userRepository.findById(userId).isPresent()){\r\n            userRepository.deleteById(userId);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    public List&lt;User&gt; usergtList(List idMin){\r\n        return em.createQuery(&quot;SELECT u FROM User u WHERE u.id &gt; :paramId&quot;, User.class)\r\n                .setParameter(&quot;paramId&quot;, idMin).getResultList();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;user&quot;)\r\npublic class User implements UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;firstName&quot;)\r\n    private String firstName;\r\n    @Column(name = &quot;lastName&quot;)\r\n    private String lastName;\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n    @Transient\r\n    private String confirmPassword;\r\n    @ManyToOne(cascade = CascadeType.REFRESH,fetch = FetchType.LAZY)\r\n    private Role role;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return Collections.singletonList(new SimpleGrantedAuthority(role.getName()));\r\n    }\r\n\r\n    @Override\r\n    public String getUsername(){\r\n        return email;\r\n    }\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return false;\r\n    }\r\n}\r\n```\r\n...\r\n\r\n        @Entity\r\n    @Data\r\n    @Table(name = &quot;role&quot;)\r\n    public class Role implements GrantedAuthority {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n        @Transient\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;role&quot;)\r\n        private Set&lt;User&gt; users;\r\n        public Role(){\r\n    \r\n        }\r\n        public Role(String name){\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public String getAuthority() {\r\n            return getName();\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n...\r\n\r\n    2023-04-12T17:28:44.303+03:00  INFO 23948 --- [main] com.doc.point.PointApplication           : Starting PointApplication using Java 18.0.2 with PID 23948 (C:\\Users\\Goldo\\OneDrive\\Рабочий стол\\TestSequrity\\point\\target\\classes started by Goldo in C:\\Users\\Goldo\\OneDrive\\Рабочий стол\\TestSequrity)\r\n    2023-04-12T17:28:44.304+03:00  INFO 23948 --- [main] com.doc.point.PointApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-04-12T17:28:44.792+03:00  INFO 23948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-04-12T17:28:44.827+03:00  INFO 23948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.\r\n    2023-04-12T17:28:45.135+03:00  INFO 23948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-04-12T17:28:45.141+03:00  INFO 23948 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-04-12T17:28:45.141+03:00  INFO 23948 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n    2023-04-12T17:28:45.199+03:00  INFO 23948 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-04-12T17:28:45.199+03:00  INFO 23948 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 871 ms\r\n    2023-04-12T17:28:45.281+03:00 DEBUG 23948 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter &#39;serverHttpObservationFilter&#39; configured for use\r\n    2023-04-12T17:28:45.338+03:00  INFO 23948 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-04-12T17:28:45.370+03:00  INFO 23948 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n    2023-04-12T17:28:45.538+03:00  INFO 23948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-04-12T17:28:45.620+03:00  INFO 23948 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@37a3ec27\r\n    2023-04-12T17:28:45.621+03:00  INFO 23948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-04-12T17:28:45.650+03:00  INFO 23948 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    2023-04-12T17:28:46.107+03:00  INFO 23948 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-04-12T17:28:46.113+03:00  INFO 23948 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-04-12T17:28:46.321+03:00  WARN 23948 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-04-12T17:28:46.404+03:00 DEBUG 23948 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in &#39;requestMappingHandlerMapping&#39;\r\n    2023-04-12T17:28:46.407+03:00 DEBUG 23948 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /main, /login, /registration] in &#39;viewControllerHandlerMapping&#39;\r\n    2023-04-12T17:28:46.445+03:00 DEBUG 23948 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /static/**] in &#39;resourceHandlerMapping&#39;\r\n    2023-04-12T17:28:46.509+03:00  INFO 23948 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n    2023-04-12T17:28:46.536+03:00  INFO 23948 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3bdc8975, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27ea552d, org.springframework.security.web.context.SecurityContextHolderFilter@3d67e3d3, org.springframework.security.web.header.HeaderWriterFilter@1c76b2fe, org.springframework.security.web.csrf.CsrfFilter@4197e859, org.springframework.security.web.authentication.logout.LogoutFilter@1d7f0cd0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@198a0416, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@795949fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75caecf7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a57c5d9, org.springframework.security.web.access.ExceptionTranslationFilter@5abc488d, org.springframework.security.web.access.intercept.AuthorizationFilter@5058fefb]\r\n    2023-04-12T17:28:46.544+03:00  WARN 23948 --- [main] o.s.security.core.userdetails.User       : User.withDefaultPasswordEncoder() is considered unsafe for production and is only intended for sample applications.\r\n    2023-04-12T17:28:46.640+03:00 DEBUG 23948 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\r\n    2023-04-12T17:28:46.663+03:00 DEBUG 23948 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\r\n    2023-04-12T17:28:46.804+03:00  INFO 23948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-04-12T17:28:46.812+03:00  INFO 23948 --- [main] com.doc.point.PointApplication           : Started PointApplication in 2.766 seconds (process running for 3.161)\r\n    2023-04-12T17:28:47.382+03:00  INFO 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-04-12T17:28:47.382+03:00  INFO 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-04-12T17:28:47.382+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\r\n    2023-04-12T17:28:47.382+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\r\n    2023-04-12T17:28:47.382+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\r\n    2023-04-12T17:28:47.383+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2ca464bb\r\n    2023-04-12T17:28:47.383+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5de14222\r\n    2023-04-12T17:28:47.383+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n    2023-04-12T17:28:47.383+03:00  INFO 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2023-04-12T17:28:55.218+03:00 DEBUG 23948 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/login?error&quot;, parameters={masked}\r\n    2023-04-12T17:28:55.224+03:00 DEBUG 23948 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.doc.point.Controllers.RegistrationController#login()\r\n    2023-04-12T17:28:55.234+03:00 DEBUG 23948 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n    2023-04-12T17:28:55.448+03:00 DEBUG 23948 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2023-04-12T17:28:55.464+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:28:55.464+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:28:55.465+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/static/css/styleSignIn.css&quot;, parameters={}\r\n    2023-04-12T17:28:55.465+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:28:55.470+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2023-04-12T17:29:00.149+03:00 DEBUG 23948 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n    2023-04-12T17:29:00.149+03:00 DEBUG 23948 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.doc.point.Controllers.RegistrationController#login()\r\n    2023-04-12T17:29:00.150+03:00 DEBUG 23948 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n    2023-04-12T17:29:00.151+03:00 DEBUG 23948 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2023-04-12T17:29:00.170+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:29:00.170+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:29:00.170+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/static/css/styleSignIn.css&quot;, parameters={}\r\n    2023-04-12T17:29:00.171+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:29:00.173+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2023-04-12T17:29:10.591+03:00 DEBUG 23948 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET &quot;/login?error&quot;, parameters={masked}\r\n    2023-04-12T17:29:10.592+03:00 DEBUG 23948 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.doc.point.Controllers.RegistrationController#login()\r\n    2023-04-12T17:29:10.593+03:00 DEBUG 23948 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n    2023-04-12T17:29:10.594+03:00 DEBUG 23948 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2023-04-12T17:29:10.608+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:29:10.609+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:29:10.609+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/static/css/styleSignIn.css&quot;, parameters={}\r\n    2023-04-12T17:29:10.609+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\n    2023-04-12T17:29:10.610+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2023-04-12T17:29:18.288+03:00  INFO 23948 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-04-12T17:29:18.289+03:00  INFO 23948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-04-12T17:29:18.293+03:00  INFO 23948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n...\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;Вход&lt;/title&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&gt;\r\n      &lt;link rel=&quot;script&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js&quot;&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;static/css/styleSignIn.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body class=&quot;text-center&quot;&gt;\r\n    &lt;div&gt;\r\n      &lt;header&gt;\r\n        &lt;a href=&quot;/&quot; class=&quot;d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none&quot;&gt;\r\n          &lt;svg class=&quot;bi me-2&quot; width=&quot;40&quot; height=&quot;32&quot;&gt;&lt;use xlink:href=&quot;#bootstrap&quot;/&gt;&lt;/svg&gt;\r\n          &lt;span class=&quot;fs-4&quot;&gt;Simple header&lt;/span&gt;\r\n        &lt;/a&gt;\r\n    \r\n        &lt;ul class=&quot;nav nav-pills&quot;&gt;\r\n          &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link active&quot; aria-current=&quot;page&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;Features&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;Pricing&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;FAQs&lt;/a&gt;&lt;/li&gt;\r\n          &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/header&gt;\r\n    &lt;/div&gt;\r\n      &lt;main class=&quot;form-signin w-100 m-auto&quot;&gt;\r\n        &lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\r\n          &lt;h1 class=&quot;h3 mb-3 fw-normal&quot;&gt;log in&lt;/h1&gt;\r\n          &lt;div class=&quot;form-floating&quot;&gt;\r\n            &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;floatingInput&quot; name=&quot;username&quot; placeholder=&quot;name@example.com&quot;&gt;\r\n            &lt;label for=&quot;floatingInput&quot;&gt;Email address&lt;/label&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-floating&quot;&gt;\r\n            &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;floatingPassword&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\r\n            &lt;label for=&quot;floatingPassword&quot;&gt;Password&lt;/label&gt;\r\n          &lt;/div&gt;\r\n          &lt;div th:if=&quot;${param.error}&quot;&gt;\r\n            Invalid username and password.\r\n          &lt;/div&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;_csrf&quot; value=&quot;${_csrf.token}&quot;/&gt;\r\n          &lt;button class=&quot;w-100 btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Вход&lt;/button&gt;\r\n          &lt;a th:href=&quot;@{/registration}&quot;&gt;Registration&lt;/a&gt;\r\n          &lt;p class=&quot;mt-2 mb-2 text-muted&quot;&gt;&#169;2023&lt;/p&gt;\r\n        &lt;/form&gt;\r\n      &lt;/main&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Unable to implement authorization in spring security","body":"<p>The user is not authorized when entering the correct login (in my case, mail) and password.\nI tried to check what the error is through a breakpoint, but it doesn't even enter <code>loadUserByUsername</code>.\nRegistration is working properly. Due to the fact that I tried not to use the <code>WebSecurityConfigurerAdapter</code>,\nit turned out that I could not find very much information. Lack of experience.I set a breakpoint in the <code>authenticate()</code> method, I expected that I would see the login and password there, but the principal = &quot;&quot; and credentials = &quot;123&quot; (I used the values dm@gmail.com and password 123 as input).I figured out the output of username in <code>authenticate ()</code>, in the form there was name = &quot;email&quot;.</p>\n<p>Following the actions of the program, I noticed that in the <code>UsernamePasswordAuthenticationToken</code> class it enters the <code>UsernamePasswordAuthenticationToken(Object principal, Object credentials)</code> method, but not in <code>UsernamePasswordAuthenticationToken(Object principal, Object credentials, Collection&lt;? extends GrantedAuthentication&gt; authorities)</code> where authorization would be set to true. Based on this, I think there is an error in the user class where <code>getAuthorities</code> returns a collection (it was assumed that one user can only be assigned one role)</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n    @Autowired\n    private UserService userService;\n\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder());\n    }\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        http\n                .authorizeHttpRequests((requests)-&gt;requests\n                        .requestMatchers(&quot;/login&quot;,&quot;/static/**&quot;,&quot;/registration&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form)-&gt;form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                )\n                .logout((logout)-&gt;logout.permitAll());\n        return http.build();\n    }\n}\n</code></pre>\n<p>...</p>\n<pre><code>@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/static/**&quot;)\n                .addResourceLocations(&quot;classpath:/static/&quot;);\n    }\n    public void addViewControllers(ViewControllerRegistry registry){\n        registry.addViewController(&quot;/main&quot;).setViewName(&quot;main&quot;);\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;main&quot;);\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\n        registry.addViewController(&quot;/registration&quot;).setViewName(&quot;registration&quot;);\n    }\n}\n</code></pre>\n<p>...</p>\n<pre><code>@Controller\n@RequiredArgsConstructor\npublic class RegistrationController {\n    @Autowired\n    private UserService userService;\n    @GetMapping(&quot;/registration&quot;)\n    public String showRegistrationForm(Model model) {\n        model.addAttribute(&quot;user&quot;, new User());\n        return &quot;registration&quot;;\n    }\n    @GetMapping(&quot;/login&quot;)\n    String login(){\n        return &quot;login&quot;;\n    }\n    @PostMapping(&quot;/registration&quot;)\n    public String processRegistrationForm(@ModelAttribute(&quot;user&quot;) @Valid User registrationForm,\n                                          BindingResult bindingResult, Model model) {\n        if (bindingResult.hasErrors()) {\n            return &quot;registration&quot;;\n        }\n        if (!registrationForm.getPassword().equals(registrationForm.getPassword())) {\n            model.addAttribute(&quot;errorMessage&quot;, &quot;Пароли не совпадают&quot;);\n            return &quot;registration&quot;;\n        }\n        if (!userService.saveUser(registrationForm)){\n            model.addAttribute(&quot;errorMessage&quot;, &quot;Пользователь с таким именем уже существует&quot;);\n            return &quot;registration&quot;;\n        }\n        return &quot;redirect:/login&quot;;\n    }\n}\n</code></pre>\n<p>...</p>\n<pre><code>@Service\npublic class UserService implements UserDetailsService {\n@PersistenceContext\n    private EntityManager em;\n@Autowired\n    UserRepository userRepository;\n    @Autowired\n    private RoleRepository roleRepository;\n\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = userRepository.findByEmail(email);\n\n        if(user == null){\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return user;\n    }\n    public User findByUser(String name){\n        return userRepository.findByEmail(name);\n    }\n    public List&lt;User&gt; allUser(){\n        return userRepository.findAll();\n    }\n    public boolean saveUser(User user){\n        User userFromDb = userRepository.findByEmail(user.getUsername());\n        Role userRole = roleRepository.findByName(&quot;ROLE_ADMIN&quot;);\n        String email = user.getEmail();\n        if(userRole == null){\n            userRole = roleRepository.findByName(&quot;ROLE_USER&quot;);\n            if(userRole == null)    {\n                Role role = new Role(&quot;ROLE_USER&quot;);\n            roleRepository.save(role);\n            }\n        }\n        if(userFromDb != null) {\n            return false;\n        }\n\n        user.setRole(userRole);\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\n        userRepository.save(user);\n        return true;\n    }\n    public boolean deleteUser(Long userId){\n        if(userRepository.findById(userId).isPresent()){\n            userRepository.deleteById(userId);\n            return true;\n        }\n        return false;\n    }\n    public List&lt;User&gt; usergtList(List idMin){\n        return em.createQuery(&quot;SELECT u FROM User u WHERE u.id &gt; :paramId&quot;, User.class)\n                .setParameter(&quot;paramId&quot;, idMin).getResultList();\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;user&quot;)\npublic class User implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @Column(name = &quot;firstName&quot;)\n    private String firstName;\n    @Column(name = &quot;lastName&quot;)\n    private String lastName;\n    @Column(name = &quot;email&quot;)\n    private String email;\n    @Column(name = &quot;password&quot;)\n    private String password;\n    @Transient\n    private String confirmPassword;\n    @ManyToOne(cascade = CascadeType.REFRESH,fetch = FetchType.LAZY)\n    private Role role;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return Collections.singletonList(new SimpleGrantedAuthority(role.getName()));\n    }\n\n    @Override\n    public String getUsername(){\n        return email;\n    }\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return false;\n    }\n}\n</code></pre>\n<p>...</p>\n<pre><code>    @Entity\n@Data\n@Table(name = &quot;role&quot;)\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Transient\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;role&quot;)\n    private Set&lt;User&gt; users;\n    public Role(){\n\n    }\n    public Role(String name){\n        this.name = name;\n    }\n\n    @Override\n    public String getAuthority() {\n        return getName();\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>...</p>\n<pre><code>2023-04-12T17:28:44.303+03:00  INFO 23948 --- [main] com.doc.point.PointApplication           : Starting PointApplication using Java 18.0.2 with PID 23948 (C:\\Users\\Goldo\\OneDrive\\Рабочий стол\\TestSequrity\\point\\target\\classes started by Goldo in C:\\Users\\Goldo\\OneDrive\\Рабочий стол\\TestSequrity)\n2023-04-12T17:28:44.304+03:00  INFO 23948 --- [main] com.doc.point.PointApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-12T17:28:44.792+03:00  INFO 23948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-12T17:28:44.827+03:00  INFO 23948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.\n2023-04-12T17:28:45.135+03:00  INFO 23948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-12T17:28:45.141+03:00  INFO 23948 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-12T17:28:45.141+03:00  INFO 23948 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-04-12T17:28:45.199+03:00  INFO 23948 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-12T17:28:45.199+03:00  INFO 23948 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 871 ms\n2023-04-12T17:28:45.281+03:00 DEBUG 23948 --- [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'serverHttpObservationFilter' configured for use\n2023-04-12T17:28:45.338+03:00  INFO 23948 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-12T17:28:45.370+03:00  INFO 23948 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-12T17:28:45.538+03:00  INFO 23948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-12T17:28:45.620+03:00  INFO 23948 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@37a3ec27\n2023-04-12T17:28:45.621+03:00  INFO 23948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-12T17:28:45.650+03:00  INFO 23948 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2023-04-12T17:28:46.107+03:00  INFO 23948 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-12T17:28:46.113+03:00  INFO 23948 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-12T17:28:46.321+03:00  WARN 23948 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-12T17:28:46.404+03:00 DEBUG 23948 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in 'requestMappingHandlerMapping'\n2023-04-12T17:28:46.407+03:00 DEBUG 23948 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/, /main, /login, /registration] in 'viewControllerHandlerMapping'\n2023-04-12T17:28:46.445+03:00 DEBUG 23948 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /static/**] in 'resourceHandlerMapping'\n2023-04-12T17:28:46.509+03:00  INFO 23948 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n2023-04-12T17:28:46.536+03:00  INFO 23948 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3bdc8975, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27ea552d, org.springframework.security.web.context.SecurityContextHolderFilter@3d67e3d3, org.springframework.security.web.header.HeaderWriterFilter@1c76b2fe, org.springframework.security.web.csrf.CsrfFilter@4197e859, org.springframework.security.web.authentication.logout.LogoutFilter@1d7f0cd0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@198a0416, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@795949fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75caecf7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a57c5d9, org.springframework.security.web.access.ExceptionTranslationFilter@5abc488d, org.springframework.security.web.access.intercept.AuthorizationFilter@5058fefb]\n2023-04-12T17:28:46.544+03:00  WARN 23948 --- [main] o.s.security.core.userdetails.User       : User.withDefaultPasswordEncoder() is considered unsafe for production and is only intended for sample applications.\n2023-04-12T17:28:46.640+03:00 DEBUG 23948 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\n2023-04-12T17:28:46.663+03:00 DEBUG 23948 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\n2023-04-12T17:28:46.804+03:00  INFO 23948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-04-12T17:28:46.812+03:00  INFO 23948 --- [main] com.doc.point.PointApplication           : Started PointApplication in 2.766 seconds (process running for 3.161)\n2023-04-12T17:28:47.382+03:00  INFO 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-04-12T17:28:47.382+03:00  INFO 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-04-12T17:28:47.382+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\n2023-04-12T17:28:47.382+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\n2023-04-12T17:28:47.382+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\n2023-04-12T17:28:47.383+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2ca464bb\n2023-04-12T17:28:47.383+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5de14222\n2023-04-12T17:28:47.383+03:00 DEBUG 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-04-12T17:28:47.383+03:00  INFO 23948 --- [RMI TCP Connection(3)-26.13.229.161] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-04-12T17:28:55.218+03:00 DEBUG 23948 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/login?error&quot;, parameters={masked}\n2023-04-12T17:28:55.224+03:00 DEBUG 23948 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.doc.point.Controllers.RegistrationController#login()\n2023-04-12T17:28:55.234+03:00 DEBUG 23948 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-04-12T17:28:55.448+03:00 DEBUG 23948 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2023-04-12T17:28:55.464+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:28:55.464+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:28:55.465+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/static/css/styleSignIn.css&quot;, parameters={}\n2023-04-12T17:28:55.465+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:28:55.470+03:00 DEBUG 23948 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2023-04-12T17:29:00.149+03:00 DEBUG 23948 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-04-12T17:29:00.149+03:00 DEBUG 23948 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.doc.point.Controllers.RegistrationController#login()\n2023-04-12T17:29:00.150+03:00 DEBUG 23948 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-04-12T17:29:00.151+03:00 DEBUG 23948 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2023-04-12T17:29:00.170+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:29:00.170+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:29:00.170+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/static/css/styleSignIn.css&quot;, parameters={}\n2023-04-12T17:29:00.171+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:29:00.173+03:00 DEBUG 23948 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2023-04-12T17:29:10.591+03:00 DEBUG 23948 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET &quot;/login?error&quot;, parameters={masked}\n2023-04-12T17:29:10.592+03:00 DEBUG 23948 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.doc.point.Controllers.RegistrationController#login()\n2023-04-12T17:29:10.593+03:00 DEBUG 23948 --- [http-nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-04-12T17:29:10.594+03:00 DEBUG 23948 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2023-04-12T17:29:10.608+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:29:10.609+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:29:10.609+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/static/css/styleSignIn.css&quot;, parameters={}\n2023-04-12T17:29:10.609+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]\n2023-04-12T17:29:10.610+03:00 DEBUG 23948 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2023-04-12T17:29:18.288+03:00  INFO 23948 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-12T17:29:18.289+03:00  INFO 23948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-12T17:29:18.293+03:00  INFO 23948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>...</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;https://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Вход&lt;/title&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&gt;\n  &lt;link rel=&quot;script&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js&quot;&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;static/css/styleSignIn.css&quot;&gt;\n&lt;/head&gt;\n&lt;body class=&quot;text-center&quot;&gt;\n&lt;div&gt;\n  &lt;header&gt;\n    &lt;a href=&quot;/&quot; class=&quot;d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none&quot;&gt;\n      &lt;svg class=&quot;bi me-2&quot; width=&quot;40&quot; height=&quot;32&quot;&gt;&lt;use xlink:href=&quot;#bootstrap&quot;/&gt;&lt;/svg&gt;\n      &lt;span class=&quot;fs-4&quot;&gt;Simple header&lt;/span&gt;\n    &lt;/a&gt;\n\n    &lt;ul class=&quot;nav nav-pills&quot;&gt;\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link active&quot; aria-current=&quot;page&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;Features&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;Pricing&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;FAQs&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/header&gt;\n&lt;/div&gt;\n  &lt;main class=&quot;form-signin w-100 m-auto&quot;&gt;\n    &lt;form th:action=&quot;@{/login}&quot; method=&quot;post&quot;&gt;\n      &lt;h1 class=&quot;h3 mb-3 fw-normal&quot;&gt;log in&lt;/h1&gt;\n      &lt;div class=&quot;form-floating&quot;&gt;\n        &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;floatingInput&quot; name=&quot;username&quot; placeholder=&quot;name@example.com&quot;&gt;\n        &lt;label for=&quot;floatingInput&quot;&gt;Email address&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;form-floating&quot;&gt;\n        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;floatingPassword&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\n        &lt;label for=&quot;floatingPassword&quot;&gt;Password&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div th:if=&quot;${param.error}&quot;&gt;\n        Invalid username and password.\n      &lt;/div&gt;\n      &lt;input type=&quot;hidden&quot; name=&quot;_csrf&quot; value=&quot;${_csrf.token}&quot;/&gt;\n      &lt;button class=&quot;w-100 btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Вход&lt;/button&gt;\n      &lt;a th:href=&quot;@{/registration}&quot;&gt;Registration&lt;/a&gt;\n      &lt;p class=&quot;mt-2 mb-2 text-muted&quot;&gt;©2023&lt;/p&gt;\n    &lt;/form&gt;\n  &lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","timezone","date-format","timezone-offset","datetimeformatter"],"comments":[{"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"score":0,"creation_date":1681278237,"post_id":75992230,"comment_id":134028635,"body_markdown":"Of course I could manually hard code and append +00:00","body":"Of course I could manually hard code and append +00:00"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1681279933,"post_id":75992230,"comment_id":134028892,"body_markdown":"using the offset O says this in the java doc, `Four letters outputs the full form, which is localized offset text, such as &#39;GMT, with 2-digit hour and minute field, optional second field if non-zero, and colon, for example &#39;GMT+08:00&#39;` so since its zero, the +00:00 is not going to be output, since its optional. This should also apply to using O once only","body":"using the offset O says this in the java doc, <code>Four letters outputs the full form, which is localized offset text, such as &#39;GMT, with 2-digit hour and minute field, optional second field if non-zero, and colon, for example &#39;GMT+08:00&#39;</code> so since its zero, the +00:00 is not going to be output, since its optional. This should also apply to using O once only"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1681286325,"post_id":75992230,"comment_id":134030291,"body_markdown":"Do you understand that having `GMT` *and* `+00:00` is redundant?","body":"Do you understand that having <code>GMT</code> <i>and</i> <code>+00:00</code> is redundant?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1681286469,"post_id":75992230,"comment_id":134030324,"body_markdown":"If I use `DateTimeFormatter.ofPattern(&quot;E MMM d u H:m:s &#39;GMT&#39;xxx&quot;, Locale.ENGLISH)` in conjunction with `OffsetDateTime.ofInstant(date.toInstant(), ZoneOffset.UTC)`, I get `Fri Feb 24 2023 13:57:11 GMT+00:00`.","body":"If I use <code>DateTimeFormatter.ofPattern(&quot;E MMM d u H:m:s &#39;GMT&#39;xxx&quot;, Locale.ENGLISH)</code> in conjunction with <code>OffsetDateTime.ofInstant(date.toInstant(), ZoneOffset.UTC)</code>, I get <code>Fri Feb 24 2023 13:57:11 GMT+00:00</code>."},{"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"score":0,"creation_date":1681288128,"post_id":75992230,"comment_id":134030710,"body_markdown":"@BasilBourque yes, but downstream needs it this way :)","body":"@BasilBourque yes, but downstream needs it this way :)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681289527,"post_id":75992230,"comment_id":134031028,"body_markdown":"@experimentunit1998X Thanks for referring to [the docs](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatter.html). I believe the relevant sentence from that paragraph is: *If the offset is zero, only localized text is output.*","body":"@experimentunit1998X Thanks for referring to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">the docs</a>. I believe the relevant sentence from that paragraph is: <i>If the offset is zero, only localized text is output.</i>"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1681304176,"post_id":75992230,"comment_id":134034428,"body_markdown":"I agree with @BasilBourque and I also [commented the same](https://stackoverflow.com/questions/75992230/print-gmt0000-in-datetimeformatter/75993831#comment134032792_75993831) but I missed to see his comment earlier. `GMT+00:00` is not a standard way and to accommodate this requirement, we can customise the pattern (by adding `xxx` or `XXX`) as I have done in my answer.","body":"I agree with @BasilBourque and I also <a href=\"https://stackoverflow.com/questions/75992230/print-gmt0000-in-datetimeformatter/75993831#comment134032792_75993831\">commented the same</a> but I missed to see his comment earlier. <code>GMT+00:00</code> is not a standard way and to accommodate this requirement, we can customise the pattern (by adding <code>xxx</code> or <code>XXX</code>) as I have done in my answer."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1681304306,"post_id":75992230,"comment_id":134034470,"body_markdown":"I suggest you educate those “downstream” folks about [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).","body":"I suggest you educate those “downstream” folks about <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681291213,"creation_date":1681291213,"answer_id":75993831,"question_id":75992230,"body_markdown":"Avoid hardcoding localized zone-offset\r\n--\r\n\r\nAvoid hardcoding localized zone-offset (e.g. &#39;GMT&#39;). The [`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) already provides you with pattern `O` to deal with localized zone-offset.\r\n\r\n**Demo:**\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.set(2023, 1, 24, 13, 57, 11);\r\n    \t\tDate date = calendar.getTime();\r\n    \r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;E MMM d u H:m:s Oxxx&quot;, Locale.ENGLISH);\r\n    \t\tZonedDateTime zdt = ZonedDateTime.ofInstant(date.toInstant(), ZoneOffset.UTC);\r\n    \t\tString strDate = zdt.format(dtf);\r\n    \t\tSystem.out.println(strDate);\r\n    \t}\r\n    }\r\n\r\n**Output**:\r\n\r\n    Fri Feb 24 2023 13:57:11 GMT+00:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/wQPGv1)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n","title":"Print GMT+00:00 in DateTimeFormatter","body":"<h2>Avoid hardcoding localized zone-offset</h2>\n<p>Avoid hardcoding localized zone-offset (e.g. 'GMT'). The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> already provides you with pattern <code>O</code> to deal with localized zone-offset.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(2023, 1, 24, 13, 57, 11);\n        Date date = calendar.getTime();\n\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;E MMM d u H:m:s Oxxx&quot;, Locale.ENGLISH);\n        ZonedDateTime zdt = ZonedDateTime.ofInstant(date.toInstant(), ZoneOffset.UTC);\n        String strDate = zdt.format(dtf);\n        System.out.println(strDate);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Fri Feb 24 2023 13:57:11 GMT+00:00\n</code></pre>\n<p><a href=\"https://ideone.com/wQPGv1\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681296613,"creation_date":1681292663,"answer_id":75994032,"question_id":75992230,"body_markdown":"According to the [documentation][1], `O` is `localized zone-offset`. If you take a look into the `DateTimeFormatterBuilder`, you can find that the `O` option is mapped to a parser called `LocalizedOffsetIdPrinterParser`. Here is the part of the code that makes `GMT` printed without a zone offset:\r\n```\r\nif (totalSecs != 0) {\r\n    ...\r\n}\r\nreturn true;\r\n```\r\nSince `+00:00` has a `0` total different seconds, this code block is not executed.\r\n\r\nHere is an example of how you can use [`DateTimeFormatterBuilder#appendOffset(pattern, noOffsetText)`][2] to force printing the zone offset even if it&#39;s `00:00`:\r\n```\r\nDateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\r\n                .parseCaseInsensitive()\r\n                .append(DateTimeFormatter.ofPattern(&quot;E MMM d u H:m:s &#39;GMT&#39;&quot;))\r\n                .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;);  // +HH:MM - hour and minute, ignoring second, with colon\r\nDateTimeFormatter formatter = dateTimeFormatterBuilder.toFormatter(Locale.ENGLISH);\r\nSystem.out.println(odt.format(formatter));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendOffset-java.lang.String-java.lang.String-","title":"Print GMT+00:00 in DateTimeFormatter","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">documentation</a>, <code>O</code> is <code>localized zone-offset</code>. If you take a look into the <code>DateTimeFormatterBuilder</code>, you can find that the <code>O</code> option is mapped to a parser called <code>LocalizedOffsetIdPrinterParser</code>. Here is the part of the code that makes <code>GMT</code> printed without a zone offset:</p>\n<pre><code>if (totalSecs != 0) {\n    ...\n}\nreturn true;\n</code></pre>\n<p>Since <code>+00:00</code> has a <code>0</code> total different seconds, this code block is not executed.</p>\n<p>Here is an example of how you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendOffset-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>DateTimeFormatterBuilder#appendOffset(pattern, noOffsetText)</code></a> to force printing the zone offset even if it's <code>00:00</code>:</p>\n<pre><code>DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()\n                .append(DateTimeFormatter.ofPattern(&quot;E MMM d u H:m:s 'GMT'&quot;))\n                .appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;);  // +HH:MM - hour and minute, ignoring second, with colon\nDateTimeFormatter formatter = dateTimeFormatterBuilder.toFormatter(Locale.ENGLISH);\nSystem.out.println(odt.format(formatter));\n</code></pre>\n"}],"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681331253,"creation_date":1681278078,"question_id":75992230,"body_markdown":"I need to print the date something like `&quot;Fri Feb 24 2023 13:57:11 GMT+00:00&quot;`\r\nwith\r\n```\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;E MMM d u H:m:s O&quot;, Locale.ENGLISH);\r\nOffsetDateTime odt = OffsetDateTime.ofInstant(date.toInstant(), ZoneOffset.of(&quot;+05:30&quot;));\r\nString strDate = odt.format(dtf);\r\n```\r\nI can print it like `&quot;Fri Feb 24 2023 19:27:11 GMT+5:30&quot;.`\r\n\r\nBut if I use \r\n```\r\nOffsetDateTime odt = OffsetDateTime.ofInstant(date.toInstant(), ZoneOffset.of(&quot;+00:00&quot;));\r\n```\r\nit prints as `&quot;Fri Feb 24 2023 13:57:11 GMT&quot;` without the `+00:00`\r\nHow could I add that in java?","title":"Print GMT+00:00 in DateTimeFormatter","body":"<p>I need to print the date something like <code>&quot;Fri Feb 24 2023 13:57:11 GMT+00:00&quot;</code>\nwith</p>\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;E MMM d u H:m:s O&quot;, Locale.ENGLISH);\nOffsetDateTime odt = OffsetDateTime.ofInstant(date.toInstant(), ZoneOffset.of(&quot;+05:30&quot;));\nString strDate = odt.format(dtf);\n</code></pre>\n<p>I can print it like <code>&quot;Fri Feb 24 2023 19:27:11 GMT+5:30&quot;.</code></p>\n<p>But if I use</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.ofInstant(date.toInstant(), ZoneOffset.of(&quot;+00:00&quot;));\n</code></pre>\n<p>it prints as <code>&quot;Fri Feb 24 2023 13:57:11 GMT&quot;</code> without the <code>+00:00</code>\nHow could I add that in java?</p>\n"},{"tags":["java","graph"],"comments":[{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1681309501,"post_id":75992028,"comment_id":134035971,"body_markdown":"this is a bit too much code to ask people to read here. I would recommend adding some print commands showing current state in various places in your code to try to visualize what&#39;s happening, and see where it goes wrong. Isolate the problem to a particular spot. My guess is you will find your solution this way.","body":"this is a bit too much code to ask people to read here. I would recommend adding some print commands showing current state in various places in your code to try to visualize what&#39;s happening, and see where it goes wrong. Isolate the problem to a particular spot. My guess is you will find your solution this way."},{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1681309571,"post_id":75992028,"comment_id":134035994,"body_markdown":"For example, at each node visit, print the node you are visiting and the entire graph, and print visited nodes and unvisited nodes. Do this for a short graph which produces the wrong result and see what&#39;s up","body":"For example, at each node visit, print the node you are visiting and the entire graph, and print visited nodes and unvisited nodes. Do this for a short graph which produces the wrong result and see what&#39;s up"},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1681309722,"post_id":75992028,"comment_id":134036043,"body_markdown":"&quot; Map&lt;Node, Node&gt; predecessors = new HashMap&lt;&gt;(); // predecessors of each node in the shortest path&quot;  This looks wrong.  Each node has only one predecessor, the previous node on the shortest path so far found to the node.","body":"&quot; Map&lt;Node, Node&gt; predecessors = new HashMap&lt;&gt;(); // predecessors of each node in the shortest path&quot;  This looks wrong.  Each node has only one predecessor, the previous node on the shortest path so far found to the node."}],"owner":{"account_id":28281422,"reputation":1,"user_id":21623006,"display_name":"Billy Cane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681330874,"creation_date":1681275500,"question_id":75992028,"body_markdown":"```\r\n\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.PriorityQueue;\r\nimport java.util.Set;\r\n\r\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Edge;\r\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Graph;\r\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Node;\r\n\r\npublic class GraphShortestPath implements PathFinder {\r\n    private Graph graph;\r\n    Map&lt;Node, Double&gt; distances = new HashMap&lt;&gt;(); // tentative distances from start node to each node\r\n    Map&lt;Node, Node&gt; predecessors = new HashMap&lt;&gt;(); // predecessors of each node in the shortest path\r\n    \r\n    public GraphShortestPath(Graph graph) {\r\n        this.graph = graph;\r\n    }\r\n    \r\n    @Override\r\n    public List&lt;Node&gt; findPath(Node start, Node end) {\r\n        \r\n\r\n        PriorityQueue&lt;Node&gt; unvisitedNodes = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(distances::get)); // nodes not visited yet\r\n        Set&lt;Node&gt; visitedNodes = new HashSet&lt;&gt;(); // visited nodes\r\n        \r\n        // initialize tentative distances and add all nodes to unvisited nodes\r\n        for (Node node : graph.getNodesList()) {\r\n            if (node.equals(start)) {\r\n                distances.put(node, 0.0);\r\n            } else {\r\n                distances.put(node, Double.POSITIVE_INFINITY);\r\n            }\r\n            unvisitedNodes.offer(node);\r\n        }\r\n        \r\n        // loop until we reach the end node or there are no more nodes to visit\r\n        while (!unvisitedNodes.isEmpty()) {\r\n            Node current = unvisitedNodes.poll();\r\n            \r\n            \r\n            if (current.equals(end)) {\r\n\r\n                // we have found the shortest path, reconstruct it using predecessors and return it\r\n                List&lt;Node&gt; shortestPath = new ArrayList&lt;&gt;();\r\n                Node node = end;\r\n                System.out.println(predecessors.size());\r\n                System.out.println();\r\n                while (node != null) {\r\n                    System.out.println(node.getId());\r\n                    shortestPath.add(0, node);\r\n                    node = predecessors.get(node);\r\n                    \r\n                }\r\n                return shortestPath;\r\n            }\r\n            visitedNodes.add(current);\r\n            for (Edge edge : current.getOutEdges()) {\r\n                Node neighbor = edge.getDestination();\r\n                if (visitedNodes.contains(neighbor)) {\r\n                    continue;\r\n                }\r\n                double tentativeDistance = distances.get(current) + edge.getWeight();\r\n                if (tentativeDistance &lt; distances.get(neighbor)) {\r\n                    distances.put(neighbor, tentativeDistance);\r\n                    predecessors.put(neighbor, current);\r\n                    unvisitedNodes.remove(neighbor);\r\n                    unvisitedNodes.offer(neighbor);\r\n                }\r\n            }\r\n        }\r\n        \r\n        // end node is not reachable from start node\r\n        System.out.println(&quot;no path was found&quot;);\r\n        return null;\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n this data structure for finding the shortest path will sometimes not construct the path correctly, after it throws the end node in to the shortest path array list, where it does &#39;node = predesccors.get(node)&#39; it returns null when there should be a predesccor b4 it, how to fix this? this doesnt happen all the time, for example when I manually create a graph like the following: \r\n\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Graph;\r\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Node;\r\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.path.GraphShortestPath;\r\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.path.PathFinder;\r\n\r\npublic class Main {\r\n    \r\n\r\n    public static void main(String[] args) {\r\n        \r\n        Graph graph = new Graph();\r\n\r\n        graph.addNode(0);\r\n        graph.addNode(1);\r\n        graph.addNode(2);\r\n        graph.addNode(3);\r\n        graph.addNode(4);\r\n        graph.addNode(5);\r\n        graph.addNode(6);\r\n        graph.addNode(7);\r\n        graph.addNode(8);\r\n        graph.addNode(9);\r\n        graph.addNode(10);\r\n        graph.addNode(11);\r\n        graph.addNode(12);\r\n        graph.addNode(13);\r\n        graph.addNode(14);\r\n        graph.addNode(15);\r\n        graph.addNode(16);\r\n        graph.addNode(17);\r\n        graph.addNode(18);\r\n        graph.addNode(19);\r\n        graph.addNode(20);\r\n        \r\n        graph.addEdge(graph.getNode(0), graph.getNode(1));\r\n        graph.addEdge(graph.getNode(0), graph.getNode(7));\r\n\r\n        graph.addEdge(graph.getNode(1), graph.getNode(0));\r\n        graph.addEdge(graph.getNode(1), graph.getNode(7));\r\n        graph.addEdge(graph.getNode(1), graph.getNode(2));\r\n        graph.addEdge(graph.getNode(1), graph.getNode(8));\r\n\r\n        graph.addEdge(graph.getNode(2), graph.getNode(1));\r\n        graph.addEdge(graph.getNode(2), graph.getNode(8));\r\n        graph.addEdge(graph.getNode(2), graph.getNode(9));\r\n        graph.addEdge(graph.getNode(2), graph.getNode(3));\r\n\r\n        graph.addEdge(graph.getNode(3), graph.getNode(2));\r\n        graph.addEdge(graph.getNode(3), graph.getNode(9));\r\n        graph.addEdge(graph.getNode(3), graph.getNode(4));\r\n        graph.addEdge(graph.getNode(3), graph.getNode(10));\r\n\r\n        graph.addEdge(graph.getNode(4), graph.getNode(3));\r\n        graph.addEdge(graph.getNode(4), graph.getNode(10));\r\n        graph.addEdge(graph.getNode(4), graph.getNode(11));\r\n        graph.addEdge(graph.getNode(4), graph.getNode(5));\r\n\r\n        graph.addEdge(graph.getNode(5), graph.getNode(4));\r\n        graph.addEdge(graph.getNode(5), graph.getNode(11));\r\n        graph.addEdge(graph.getNode(5), graph.getNode(12));\r\n        graph.addEdge(graph.getNode(5), graph.getNode(6));\r\n\r\n        graph.addEdge(graph.getNode(6), graph.getNode(5));\r\n        graph.addEdge(graph.getNode(6), graph.getNode(12));\r\n\r\n        graph.addEdge(graph.getNode(8), graph.getNode(1));\r\n        graph.addEdge(graph.getNode(8), graph.getNode(2));\r\n        graph.addEdge(graph.getNode(8), graph.getNode(9));\r\n        graph.addEdge(graph.getNode(8), graph.getNode(16));\r\n        graph.addEdge(graph.getNode(8), graph.getNode(15));\r\n        graph.addEdge(graph.getNode(8), graph.getNode(14));\r\n        graph.addEdge(graph.getNode(8), graph.getNode(7));\r\n\r\n        PathFinder path = new GraphShortestPath(graph);\r\n        List&lt;Node&gt; l = path.findPath(graph.getNode(0), graph.getNode(6));\r\n\r\n        for(Node n: l){\r\n            System.out.println(n.getId());\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nthis will provide me with the correct shortest path, but sometimes im finding an issue where the shortest path returned to me is just the destination node and Im not quite sure why that is happening\r\n\r\n\r\n\r\nI tried to add the predesccor node manually when reaching the end node but that didnt work.","title":"Shortest Path algorithm isnt working as intended","body":"<pre><code>\n\n\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.PriorityQueue;\nimport java.util.Set;\n\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Edge;\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Graph;\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Node;\n\npublic class GraphShortestPath implements PathFinder {\n    private Graph graph;\n    Map&lt;Node, Double&gt; distances = new HashMap&lt;&gt;(); // tentative distances from start node to each node\n    Map&lt;Node, Node&gt; predecessors = new HashMap&lt;&gt;(); // predecessors of each node in the shortest path\n    \n    public GraphShortestPath(Graph graph) {\n        this.graph = graph;\n    }\n    \n    @Override\n    public List&lt;Node&gt; findPath(Node start, Node end) {\n        \n\n        PriorityQueue&lt;Node&gt; unvisitedNodes = new PriorityQueue&lt;&gt;(Comparator.comparingDouble(distances::get)); // nodes not visited yet\n        Set&lt;Node&gt; visitedNodes = new HashSet&lt;&gt;(); // visited nodes\n        \n        // initialize tentative distances and add all nodes to unvisited nodes\n        for (Node node : graph.getNodesList()) {\n            if (node.equals(start)) {\n                distances.put(node, 0.0);\n            } else {\n                distances.put(node, Double.POSITIVE_INFINITY);\n            }\n            unvisitedNodes.offer(node);\n        }\n        \n        // loop until we reach the end node or there are no more nodes to visit\n        while (!unvisitedNodes.isEmpty()) {\n            Node current = unvisitedNodes.poll();\n            \n            \n            if (current.equals(end)) {\n\n                // we have found the shortest path, reconstruct it using predecessors and return it\n                List&lt;Node&gt; shortestPath = new ArrayList&lt;&gt;();\n                Node node = end;\n                System.out.println(predecessors.size());\n                System.out.println();\n                while (node != null) {\n                    System.out.println(node.getId());\n                    shortestPath.add(0, node);\n                    node = predecessors.get(node);\n                    \n                }\n                return shortestPath;\n            }\n            visitedNodes.add(current);\n            for (Edge edge : current.getOutEdges()) {\n                Node neighbor = edge.getDestination();\n                if (visitedNodes.contains(neighbor)) {\n                    continue;\n                }\n                double tentativeDistance = distances.get(current) + edge.getWeight();\n                if (tentativeDistance &lt; distances.get(neighbor)) {\n                    distances.put(neighbor, tentativeDistance);\n                    predecessors.put(neighbor, current);\n                    unvisitedNodes.remove(neighbor);\n                    unvisitedNodes.offer(neighbor);\n                }\n            }\n        }\n        \n        // end node is not reachable from start node\n        System.out.println(&quot;no path was found&quot;);\n        return null;\n\n\n\n    }\n}\n</code></pre>\n<p>this data structure for finding the shortest path will sometimes not construct the path correctly, after it throws the end node in to the shortest path array list, where it does 'node = predesccors.get(node)' it returns null when there should be a predesccor b4 it, how to fix this? this doesnt happen all the time, for example when I manually create a graph like the following:</p>\n<pre><code>import java.util.List;\n\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Graph;\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.graph.Node;\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.path.GraphShortestPath;\nimport ca.mcmaster.cas.se2aa4.a4.pathfinder.path.PathFinder;\n\npublic class Main {\n    \n\n    public static void main(String[] args) {\n        \n        Graph graph = new Graph();\n\n        graph.addNode(0);\n        graph.addNode(1);\n        graph.addNode(2);\n        graph.addNode(3);\n        graph.addNode(4);\n        graph.addNode(5);\n        graph.addNode(6);\n        graph.addNode(7);\n        graph.addNode(8);\n        graph.addNode(9);\n        graph.addNode(10);\n        graph.addNode(11);\n        graph.addNode(12);\n        graph.addNode(13);\n        graph.addNode(14);\n        graph.addNode(15);\n        graph.addNode(16);\n        graph.addNode(17);\n        graph.addNode(18);\n        graph.addNode(19);\n        graph.addNode(20);\n        \n        graph.addEdge(graph.getNode(0), graph.getNode(1));\n        graph.addEdge(graph.getNode(0), graph.getNode(7));\n\n        graph.addEdge(graph.getNode(1), graph.getNode(0));\n        graph.addEdge(graph.getNode(1), graph.getNode(7));\n        graph.addEdge(graph.getNode(1), graph.getNode(2));\n        graph.addEdge(graph.getNode(1), graph.getNode(8));\n\n        graph.addEdge(graph.getNode(2), graph.getNode(1));\n        graph.addEdge(graph.getNode(2), graph.getNode(8));\n        graph.addEdge(graph.getNode(2), graph.getNode(9));\n        graph.addEdge(graph.getNode(2), graph.getNode(3));\n\n        graph.addEdge(graph.getNode(3), graph.getNode(2));\n        graph.addEdge(graph.getNode(3), graph.getNode(9));\n        graph.addEdge(graph.getNode(3), graph.getNode(4));\n        graph.addEdge(graph.getNode(3), graph.getNode(10));\n\n        graph.addEdge(graph.getNode(4), graph.getNode(3));\n        graph.addEdge(graph.getNode(4), graph.getNode(10));\n        graph.addEdge(graph.getNode(4), graph.getNode(11));\n        graph.addEdge(graph.getNode(4), graph.getNode(5));\n\n        graph.addEdge(graph.getNode(5), graph.getNode(4));\n        graph.addEdge(graph.getNode(5), graph.getNode(11));\n        graph.addEdge(graph.getNode(5), graph.getNode(12));\n        graph.addEdge(graph.getNode(5), graph.getNode(6));\n\n        graph.addEdge(graph.getNode(6), graph.getNode(5));\n        graph.addEdge(graph.getNode(6), graph.getNode(12));\n\n        graph.addEdge(graph.getNode(8), graph.getNode(1));\n        graph.addEdge(graph.getNode(8), graph.getNode(2));\n        graph.addEdge(graph.getNode(8), graph.getNode(9));\n        graph.addEdge(graph.getNode(8), graph.getNode(16));\n        graph.addEdge(graph.getNode(8), graph.getNode(15));\n        graph.addEdge(graph.getNode(8), graph.getNode(14));\n        graph.addEdge(graph.getNode(8), graph.getNode(7));\n\n        PathFinder path = new GraphShortestPath(graph);\n        List&lt;Node&gt; l = path.findPath(graph.getNode(0), graph.getNode(6));\n\n        for(Node n: l){\n            System.out.println(n.getId());\n        }\n\n\n\n\n    }\n\n}\n</code></pre>\n<p>this will provide me with the correct shortest path, but sometimes im finding an issue where the shortest path returned to me is just the destination node and Im not quite sure why that is happening</p>\n<p>I tried to add the predesccor node manually when reaching the end node but that didnt work.</p>\n"},{"tags":["java","arrays","json","gson"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1421019113,"post_id":27893342,"comment_id":44187917,"body_markdown":"The JSON you have shown is not a JSON array it is a JSON object.","body":"The JSON you have shown is not a JSON array it is a JSON object."},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":1,"creation_date":1421019142,"post_id":27893342,"comment_id":44187928,"body_markdown":"oops sorry, yes it is JSON Object. Let me rephrase the question.","body":"oops sorry, yes it is JSON Object. Let me rephrase the question."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1421019439,"creation_date":1421019439,"answer_id":27893385,"question_id":27893342,"body_markdown":"If `response` in your `marshal` method is a `DataResponse`, then that&#39;s what you should be serializing. \r\n\r\n    Gson gson = new Gson();\r\n    gson.toJson(response);\r\n\r\nThat will give you the JSON output you are looking for.","title":"How to convert List to a JSON Object using GSON?","body":"<p>If <code>response</code> in your <code>marshal</code> method is a <code>DataResponse</code>, then that's what you should be serializing. </p>\n\n<pre><code>Gson gson = new Gson();\ngson.toJson(response);\n</code></pre>\n\n<p>That will give you the JSON output you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"down_vote_count":2,"up_vote_count":93,"is_accepted":false,"score":91,"last_activity_date":1494232359,"creation_date":1421019501,"answer_id":27893392,"question_id":27893342,"body_markdown":"There is a sample from google gson [documentation][1] on how to actually convert the list to json string:\r\n\r\n    Type listType = new TypeToken&lt;List&lt;String&gt;&gt;() {}.getType();\r\n     List&lt;String&gt; target = new LinkedList&lt;String&gt;();\r\n     target.add(&quot;blah&quot;);\r\n    \r\n     Gson gson = new Gson();\r\n     String json = gson.toJson(target, listType);\r\n     List&lt;String&gt; target2 = gson.fromJson(json, listType);\r\n\r\n\r\n  [1]: https://sites.google.com/site/gson/gson-user-guide#TOC-Collections-Examples\r\n\r\nYou need to set the type of list in `toJson` method and pass the list object to convert it to json string or vice versa.","title":"How to convert List to a JSON Object using GSON?","body":"<p>There is a sample from google gson <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Collections-Examples\" rel=\"noreferrer\">documentation</a> on how to actually convert the list to json string:</p>\n\n<pre><code>Type listType = new TypeToken&lt;List&lt;String&gt;&gt;() {}.getType();\n List&lt;String&gt; target = new LinkedList&lt;String&gt;();\n target.add(\"blah\");\n\n Gson gson = new Gson();\n String json = gson.toJson(target, listType);\n List&lt;String&gt; target2 = gson.fromJson(json, listType);\n</code></pre>\n\n<p>You need to set the type of list in <code>toJson</code> method and pass the list object to convert it to json string or vice versa.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1421019632,"creation_date":1421019632,"answer_id":27893403,"question_id":27893342,"body_markdown":"Assuming you also want to get json in format \r\n\r\n    {\r\n      &quot;apps&quot;: [\r\n        {\r\n          &quot;mean&quot;: 1.2,\r\n          &quot;deviation&quot;: 1.3,\r\n          &quot;code&quot;: 100,\r\n          &quot;pack&quot;: &quot;hello&quot;,\r\n          &quot;version&quot;: 1\r\n        },\r\n        {\r\n          &quot;mean&quot;: 1.5,\r\n          &quot;deviation&quot;: 1.1,\r\n          &quot;code&quot;: 200,\r\n          &quot;pack&quot;: &quot;world&quot;,\r\n          &quot;version&quot;: 2\r\n        }\r\n      ]\r\n    }\r\n\r\ninstead of \r\n\r\n    {&quot;apps&quot;:[{&quot;mean&quot;:1.2,&quot;deviation&quot;:1.3,&quot;code&quot;:100,&quot;pack&quot;:&quot;hello&quot;,&quot;version&quot;:1},{&quot;mean&quot;:1.5,&quot;deviation&quot;:1.1,&quot;code&quot;:200,&quot;pack&quot;:&quot;world&quot;,&quot;version&quot;:2}]}\r\n\r\nyou can use *pretty printing*. To do so use \r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    String json = gson.toJson(dataResponse);\r\n\r\n","title":"How to convert List to a JSON Object using GSON?","body":"<p>Assuming you also want to get json in format </p>\n\n<pre><code>{\n  \"apps\": [\n    {\n      \"mean\": 1.2,\n      \"deviation\": 1.3,\n      \"code\": 100,\n      \"pack\": \"hello\",\n      \"version\": 1\n    },\n    {\n      \"mean\": 1.5,\n      \"deviation\": 1.1,\n      \"code\": 200,\n      \"pack\": \"world\",\n      \"version\": 2\n    }\n  ]\n}\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>{\"apps\":[{\"mean\":1.2,\"deviation\":1.3,\"code\":100,\"pack\":\"hello\",\"version\":1},{\"mean\":1.5,\"deviation\":1.1,\"code\":200,\"pack\":\"world\",\"version\":2}]}\n</code></pre>\n\n<p>you can use <em>pretty printing</em>. To do so use </p>\n\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().create();\nString json = gson.toJson(dataResponse);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9617421,"reputation":1,"user_id":7139706,"display_name":"Subham Kumar"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1531215085,"creation_date":1531215085,"answer_id":51261760,"question_id":27893342,"body_markdown":"We can also use another workaround by first creating an array of myObject then convert them into list.\r\n\r\n    final Optional&lt;List&lt;MyObject&gt;&gt; sortInput = Optional.ofNullable(jsonArgument)\r\n                    .map(jsonArgument -&gt; GSON.toJson(jsonArgument, ArrayList.class))\r\n                    .map(gson -&gt; GSON.fromJson(gson, MyObject[].class))\r\n                    .map(myObjectArray -&gt; Arrays.asList(myObjectArray));\r\n\r\nBenifits:\r\n\r\n* we are not using reflection here. :)","title":"How to convert List to a JSON Object using GSON?","body":"<p>We can also use another workaround by first creating an array of myObject then convert them into list.</p>\n\n<pre><code>final Optional&lt;List&lt;MyObject&gt;&gt; sortInput = Optional.ofNullable(jsonArgument)\n                .map(jsonArgument -&gt; GSON.toJson(jsonArgument, ArrayList.class))\n                .map(gson -&gt; GSON.fromJson(gson, MyObject[].class))\n                .map(myObjectArray -&gt; Arrays.asList(myObjectArray));\n</code></pre>\n\n<p>Benifits:</p>\n\n<ul>\n<li>we are not using reflection here. :)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14856416,"reputation":19,"user_id":10728785,"display_name":"Mahdi Parastesh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681330657,"creation_date":1639903810,"answer_id":70410022,"question_id":27893342,"body_markdown":"Make sure to convert your collection to an Array first:\r\n\r\n    Gson().toJson(objectsList.toTypedArray(), Array&lt;CustomObject&gt;::class.java)","title":"How to convert List to a JSON Object using GSON?","body":"<p>Make sure to convert your collection to an Array first:</p>\n<pre><code>Gson().toJson(objectsList.toTypedArray(), Array&lt;CustomObject&gt;::class.java)\n</code></pre>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113360,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":27893385,"answer_count":5,"score":47,"last_activity_date":1681330657,"creation_date":1421019069,"question_id":27893342,"body_markdown":"I have a List which I need to convert into JSON Object using GSON. My JSON Object has JSON Array in it. \r\n\r\n\tpublic class DataResponse {\r\n\r\n\t\tprivate List&lt;ClientResponse&gt; apps;\r\n\r\n\t\t// getters and setters\r\n\t\t\r\n\t\tpublic static class ClientResponse {\r\n\t\t\tprivate double mean;\r\n\t\t\tprivate double deviation;\r\n\t\t\tprivate int code;\r\n\t\t\tprivate String pack;\r\n\t\t\tprivate int version;\r\n\r\n\t\t\t// getters and setters\r\n\t\t}\r\n\t}\r\n\r\nBelow is my code in which I need to convert my List to JSON Object which has JSON Array in it - \r\n\r\n    public void marshal(Object response) {\r\n\r\n\t\tList&lt;DataResponse.ClientResponse&gt; clientResponse = ((DataResponse) response).getClientResponse();\r\n\t\t\r\n\t\t// now how do I convert clientResponse list to JSON Object which has JSON Array in it using GSON?\r\n\r\n\t\t// String jsonObject = ??\r\n    }\r\n\t\r\nAs of now, I only have two items in List - So I need my JSON Object like this - \r\n\r\n\t{  \r\n\t   &quot;apps&quot;:[  \r\n\t\t  {  \r\n\t\t\t &quot;mean&quot;:1.2,\r\n\t\t\t &quot;deviation&quot;:1.3\r\n\t\t\t &quot;code&quot;:100,\r\n\t\t\t &quot;pack&quot;:&quot;hello&quot;,\r\n\t\t\t &quot;version&quot;:1\r\n\t\t  },\r\n\t\t  {  \r\n\t\t\t &quot;mean&quot;:1.5,\r\n\t\t\t &quot;deviation&quot;:1.1\r\n\t\t\t &quot;code&quot;:200,\r\n\t\t\t &quot;pack&quot;:&quot;world&quot;,\r\n\t\t\t &quot;version&quot;:2\r\n\t\t  }\r\n\t   ]\r\n\t}\r\n\t\r\nWhat is the best way to do this?","title":"How to convert List to a JSON Object using GSON?","body":"<p>I have a List which I need to convert into JSON Object using GSON. My JSON Object has JSON Array in it. </p>\n\n<pre><code>public class DataResponse {\n\n    private List&lt;ClientResponse&gt; apps;\n\n    // getters and setters\n\n    public static class ClientResponse {\n        private double mean;\n        private double deviation;\n        private int code;\n        private String pack;\n        private int version;\n\n        // getters and setters\n    }\n}\n</code></pre>\n\n<p>Below is my code in which I need to convert my List to JSON Object which has JSON Array in it - </p>\n\n<pre><code>public void marshal(Object response) {\n\n    List&lt;DataResponse.ClientResponse&gt; clientResponse = ((DataResponse) response).getClientResponse();\n\n    // now how do I convert clientResponse list to JSON Object which has JSON Array in it using GSON?\n\n    // String jsonObject = ??\n}\n</code></pre>\n\n<p>As of now, I only have two items in List - So I need my JSON Object like this - </p>\n\n<pre><code>{  \n   \"apps\":[  \n      {  \n         \"mean\":1.2,\n         \"deviation\":1.3\n         \"code\":100,\n         \"pack\":\"hello\",\n         \"version\":1\n      },\n      {  \n         \"mean\":1.5,\n         \"deviation\":1.1\n         \"code\":200,\n         \"pack\":\"world\",\n         \"version\":2\n      }\n   ]\n}\n</code></pre>\n\n<p>What is the best way to do this?</p>\n"},{"tags":["java","android","deployment","keystore","fastlane"],"comments":[{"owner":{"account_id":6549640,"reputation":279,"user_id":5064470,"display_name":"jordiz"},"score":0,"creation_date":1569229686,"post_id":57793148,"comment_id":102515118,"body_markdown":"The gradle search the &quot;android.injected.signing.store.file&quot; =&gt; &quot;keystore.jks&quot;, in app/keystore.jks","body":"The gradle search the &quot;android.injected.signing.store.file&quot; =&gt; &quot;keystore.jks&quot;, in app/keystore.jks"},{"owner":{"account_id":2929491,"reputation":624,"user_id":2510116,"accept_rate":62,"display_name":"Rooh Al-mahaba"},"score":1,"creation_date":1569245494,"post_id":57793148,"comment_id":102523531,"body_markdown":"@jordiz yes I solve it by adding the hole path","body":"@jordiz yes I solve it by adding the hole path"}],"answers":[{"tags":[],"owner":{"account_id":6549640,"reputation":279,"user_id":5064470,"display_name":"jordiz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1569255611,"creation_date":1569255611,"answer_id":58066454,"question_id":57793148,"body_markdown":"INFO: For other users:\r\n\r\nYou can create several ENV variables, this is useful for CI.\r\n\r\n    build_android_app(\r\n          task: &quot;assemble&quot;, \r\n          build_type: &quot;Release&quot;, \r\n          flavor: &quot;development&quot;,\r\n          flags: &quot;--stacktrace&quot;,\r\n          print_command: false,\r\n          properties:{\r\n            &quot;android.injected.signing.store.file&quot; =&gt; ENV[&#39;KEYSTORE_PATH&#39;],\r\n            &quot;android.injected.signing.store.password&quot; =&gt; ENV[&#39;STORE_PASSWORD&#39;],\r\n            &quot;android.injected.signing.key.alias&quot; =&gt; ENV[&#39;KEY_ALIAS&#39;],\r\n            &quot;android.injected.signing.key.password&quot; =&gt; ENV[&#39;KEY_PASSWORD&#39;],\r\n            &quot;org.gradle.java.home&quot; =&gt; ENV[&#39;JAVA_HOME&#39;]\r\n          })\r\n\r\nLater you need to modify .bash_profile and add the ENV variables.","title":"how to fix fastlane error: Keystore file &#39;keystore.jks&#39; not found for signing config &#39;externalOverride&#39;.?","body":"<p>INFO: For other users:</p>\n\n<p>You can create several ENV variables, this is useful for CI.</p>\n\n<pre><code>build_android_app(\n      task: \"assemble\", \n      build_type: \"Release\", \n      flavor: \"development\",\n      flags: \"--stacktrace\",\n      print_command: false,\n      properties:{\n        \"android.injected.signing.store.file\" =&gt; ENV['KEYSTORE_PATH'],\n        \"android.injected.signing.store.password\" =&gt; ENV['STORE_PASSWORD'],\n        \"android.injected.signing.key.alias\" =&gt; ENV['KEY_ALIAS'],\n        \"android.injected.signing.key.password\" =&gt; ENV['KEY_PASSWORD'],\n        \"org.gradle.java.home\" =&gt; ENV['JAVA_HOME']\n      })\n</code></pre>\n\n<p>Later you need to modify .bash_profile and add the ENV variables.</p>\n"},{"tags":[],"owner":{"account_id":1996637,"reputation":2820,"user_id":1789466,"accept_rate":60,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1626994862,"creation_date":1626994862,"answer_id":68492322,"question_id":57793148,"body_markdown":"As @Rooh Al-mahaba says, I had to supply the **complete filepath** as the value for `&quot;android.injected.signing.store.file&quot;`.\r\n\r\nAlso, `~/` didn&#39;t work; I needed to explicitly spell out the full filepath.","title":"how to fix fastlane error: Keystore file &#39;keystore.jks&#39; not found for signing config &#39;externalOverride&#39;.?","body":"<p>As @Rooh Al-mahaba says, I had to supply the <strong>complete filepath</strong> as the value for <code>&quot;android.injected.signing.store.file&quot;</code>.</p>\n<p>Also, <code>~/</code> didn't work; I needed to explicitly spell out the full filepath.</p>\n"},{"tags":[],"owner":{"account_id":7302827,"reputation":387,"user_id":7857364,"display_name":"TheFabbius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667140998,"creation_date":1640350880,"answer_id":70473187,"question_id":57793148,"body_markdown":"**Flutter + Fastlane + GitHub Actions**\r\n\r\nI had the same issue and, in my case, I was able to make it work by placing the keystore file in both `./android/fastlane/` and `./android/app/fastlane/` folders.\r\n\r\nThat is because I had my Fastlane configuration inside the `./android/fastlane/` folder, however, when you run **build_android_app** / **gradle** task it will try to fetch the keystore file in the `./android/app/` folder by default, and you **cannot** tell it to do otherwise unless you use an absolute path (not a good practice) since Fastlane tasks can&#39;t parse relative paths. Moreover, if I were to remove the keystore file from the `./android/fastlane/` folder, it would complain, even if it was present in `./android/app/fastlane/`.","title":"how to fix fastlane error: Keystore file &#39;keystore.jks&#39; not found for signing config &#39;externalOverride&#39;.?","body":"<p><strong>Flutter + Fastlane + GitHub Actions</strong></p>\n<p>I had the same issue and, in my case, I was able to make it work by placing the keystore file in both <code>./android/fastlane/</code> and <code>./android/app/fastlane/</code> folders.</p>\n<p>That is because I had my Fastlane configuration inside the <code>./android/fastlane/</code> folder, however, when you run <strong>build_android_app</strong> / <strong>gradle</strong> task it will try to fetch the keystore file in the <code>./android/app/</code> folder by default, and you <strong>cannot</strong> tell it to do otherwise unless you use an absolute path (not a good practice) since Fastlane tasks can't parse relative paths. Moreover, if I were to remove the keystore file from the <code>./android/fastlane/</code> folder, it would complain, even if it was present in <code>./android/app/fastlane/</code>.</p>\n"}],"owner":{"account_id":2929491,"reputation":624,"user_id":2510116,"accept_rate":62,"display_name":"Rooh Al-mahaba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5682,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":68492322,"answer_count":3,"score":12,"last_activity_date":1681330573,"creation_date":1567617645,"question_id":57793148,"body_markdown":"Am new to fastlane, when I write the command for deploy the app to internal test its show me the following error:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:validateSigningRelease&#39;.\r\n&gt; Keystore file &#39;/Users/rooh/.gradle/daemon/5.1.1/keystore.jks&#39; not found for signing config &#39;externalOverride&#39;.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/5.1.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n```\r\n\r\n\r\nIt seems that the error because the location of the keystore, I already put the keystore in app file of the project, I did that in other project and its work fine, but in this I dont know why its not working\r\n\r\nI also tried to change the keystore location but still\r\n\r\nthis lane in fastfile:\r\n\r\n    desc &quot;Deploy a new internal version to the Google Play Store&quot;\r\n    lane :internal do\r\n    gradle(task: &quot;clean&quot;)\r\n\r\n\r\n    gradle(\r\n      task: &quot;assemble&quot;,\r\n      build_type: &quot;Release&quot;,\r\n      print_command: false,\r\n      properties: {\r\n        &quot;android.injected.signing.store.file&quot; =&gt; &quot;keystore.jks&quot;,\r\n        &quot;android.injected.signing.store.password&quot; =&gt; &quot;*****&quot;,\r\n        &quot;android.injected.signing.key.alias&quot; =&gt; &quot;alias&quot;,\r\n        &quot;android.injected.signing.key.password&quot; =&gt; &quot;*****&quot;\r\n        }\r\n\r\n    )\r\n\r\n    changelog = prompt(\r\n    text: &quot;Changelog: &quot;,\r\n    multi_line_end_keyword: &quot;END&quot;\r\n    )\r\n\r\n   \r\n    supply(\r\n      track: &quot;internal&quot;,\r\n      apk: lane_context[SharedValues::GRADLE_APK_OUTPUT_PATH].to_s\r\n    )\r\n    upload_to_play_store(track: &quot;internal&quot;)\r\n    end","title":"how to fix fastlane error: Keystore file &#39;keystore.jks&#39; not found for signing config &#39;externalOverride&#39;.?","body":"<p>Am new to fastlane, when I write the command for deploy the app to internal test its show me the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:validateSigningRelease'.\n&gt; Keystore file '/Users/rooh/.gradle/daemon/5.1.1/keystore.jks' not found for signing config 'externalOverride'.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.1.1/userguide/command_line_interface.html#sec:command_line_warnings\n</code></pre>\n<p>It seems that the error because the location of the keystore, I already put the keystore in app file of the project, I did that in other project and its work fine, but in this I dont know why its not working</p>\n<p>I also tried to change the keystore location but still</p>\n<p>this lane in fastfile:</p>\n<pre><code>desc &quot;Deploy a new internal version to the Google Play Store&quot;\nlane :internal do\ngradle(task: &quot;clean&quot;)\n\n\ngradle(\n  task: &quot;assemble&quot;,\n  build_type: &quot;Release&quot;,\n  print_command: false,\n  properties: {\n    &quot;android.injected.signing.store.file&quot; =&gt; &quot;keystore.jks&quot;,\n    &quot;android.injected.signing.store.password&quot; =&gt; &quot;*****&quot;,\n    &quot;android.injected.signing.key.alias&quot; =&gt; &quot;alias&quot;,\n    &quot;android.injected.signing.key.password&quot; =&gt; &quot;*****&quot;\n    }\n\n)\n\nchangelog = prompt(\ntext: &quot;Changelog: &quot;,\nmulti_line_end_keyword: &quot;END&quot;\n)\n\n\nsupply(\n  track: &quot;internal&quot;,\n  apk: lane_context[SharedValues::GRADLE_APK_OUTPUT_PATH].to_s\n)\nupload_to_play_store(track: &quot;internal&quot;)\nend\n</code></pre>\n"},{"tags":["java","tomcat","tomcat9"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1597430038,"post_id":63418186,"comment_id":112140338,"body_markdown":"Use an older JDK for now.","body":"Use an older JDK for now."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1597434144,"post_id":63418186,"comment_id":112141928,"body_markdown":"Do you get this when running Tomcat itself, or do you get this when launching Tomcat from something else (eg Eclipse)? In that case, it might be a duplicate of [How to fix -Djava.endorsed.dirs not supported, that emerged after installing WTP in Eclipse?](https://stackoverflow.com/questions/49819110/how-to-fix-djava-endorsed-dirs-not-supported-that-emerged-after-installing-wtp)","body":"Do you get this when running Tomcat itself, or do you get this when launching Tomcat from something else (eg Eclipse)? In that case, it might be a duplicate of <a href=\"https://stackoverflow.com/questions/49819110/how-to-fix-djava-endorsed-dirs-not-supported-that-emerged-after-installing-wtp\">How to fix -Djava.endorsed.dirs not supported, that emerged after installing WTP in Eclipse?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1529851,"reputation":1106,"user_id":9486645,"display_name":"Supercoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654633681,"creation_date":1614784658,"answer_id":66459887,"question_id":63418186,"body_markdown":"I just had the same problem.  To resolve it, just remove the line &quot;-Djava.endorsed.dirs=C:\\...&quot; from the Tomcat9 Properties in &quot;Java Options&quot; under Java Tab then \r\nrestart tomcat\r\n[![Remove the -Djava.endorsed line][1]][1]\r\n\r\nSteps to fix it follows:\r\n\r\n    -Open Tomcat9.exe from the tomcat lib folder\r\n    -From the Tomcat9 Properties screen, select the Java Tab\r\n    -Remove the line &quot;-Djava.endorsed.dirs=...&quot; then\r\n    -Select the General Tab and click on the Start button to Restart Tomcat \r\n\r\n  [1]: https://i.stack.imgur.com/VTRlK.png\r\n","title":"Could not create Java virtual machine and it says that endorsed is not supported","body":"<p>I just had the same problem.  To resolve it, just remove the line &quot;-Djava.endorsed.dirs=C:...&quot; from the Tomcat9 Properties in &quot;Java Options&quot; under Java Tab then\nrestart tomcat\n<a href=\"https://i.stack.imgur.com/VTRlK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VTRlK.png\" alt=\"Remove the -Djava.endorsed line\" /></a></p>\n<p>Steps to fix it follows:</p>\n<pre><code>-Open Tomcat9.exe from the tomcat lib folder\n-From the Tomcat9 Properties screen, select the Java Tab\n-Remove the line &quot;-Djava.endorsed.dirs=...&quot; then\n-Select the General Tab and click on the Start button to Restart Tomcat \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4495546,"reputation":139,"user_id":3655403,"display_name":"maddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681328060,"creation_date":1681328060,"answer_id":75999165,"question_id":63418186,"body_markdown":"Also you can go to open run configuration -&gt; click tomcat server -&gt; click arguments  \r\n\r\nUnder Vm arguments section remover -Djava.endrosed.dirs property\r\n\r\n\r\n","title":"Could not create Java virtual machine and it says that endorsed is not supported","body":"<p>Also you can go to open run configuration -&gt; click tomcat server -&gt; click arguments</p>\n<p>Under Vm arguments section remover -Djava.endrosed.dirs property</p>\n"}],"owner":{"account_id":19261081,"reputation":61,"user_id":14076973,"display_name":"Santiago Calvo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10012,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1681328060,"creation_date":1597429513,"question_id":63418186,"body_markdown":"&gt; -Djava.endorsed.dirs=C:\\Apache\\apache-tomcat-9.0.37\\endorsed is not supported. Endorsed standards and standalone APIs in modular form will\r\n&gt; be supported via the concept of upgradeable modules.\r\n\r\n","title":"Could not create Java virtual machine and it says that endorsed is not supported","body":"<blockquote>\n<p>-Djava.endorsed.dirs=C:\\Apache\\apache-tomcat-9.0.37\\endorsed is not supported. Endorsed standards and standalone APIs in modular form will\nbe supported via the concept of upgradeable modules.</p>\n</blockquote>\n"},{"tags":["java","sockets","http","get"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1439958710,"post_id":32086560,"comment_id":52068927,"body_markdown":"Do you have any error output?","body":"Do you have any error output?"}],"answers":[{"tags":[],"owner":{"account_id":474021,"reputation":409,"user_id":883444,"display_name":"Nightw0rk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439959054,"creation_date":1439959054,"answer_id":32086663,"question_id":32086560,"body_markdown":"you need open Socket to url without path e.g.  \r\n\r\n    Socket(&quot;www.badunetworks.com&quot;, port);\r\n\r\nand after send command GET /{path} HTTP/1.1 e.g.\r\n\r\n    GET /about HTTP/1.1\r\n\r\n... other header...","title":"GET request with Java sockets","body":"<p>you need open Socket to url without path e.g.  </p>\n\n<pre><code>Socket(\"www.badunetworks.com\", port);\n</code></pre>\n\n<p>and after send command GET /{path} HTTP/1.1 e.g.</p>\n\n<pre><code>GET /about HTTP/1.1\n</code></pre>\n\n<p>... other header...</p>\n"},{"tags":[],"owner":{"account_id":6708129,"reputation":1468,"user_id":5172345,"accept_rate":100,"display_name":"RAJKUMAR NAGARETHINAM"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1532490004,"creation_date":1439959173,"answer_id":32086684,"question_id":32086560,"body_markdown":"if the about page link is about.html ,then you have change this line `wtr.println(&quot;GET / HTTP/1.1&quot;)` into `wtr.println(&quot;GET /about.html HTTP/1.1&quot;).`\r\n\r\nin socket creation remove the /about\r\n\r\n`wtr.println(&quot;GET / HTTP/1.1&quot;);`---&gt;this line call the home page of the host you specified.","title":"GET request with Java sockets","body":"<p>if the about page link is about.html ,then you have change this line <code>wtr.println(\"GET / HTTP/1.1\")</code> into <code>wtr.println(\"GET /about.html HTTP/1.1\").</code></p>\n\n<p>in socket creation remove the /about</p>\n\n<p><code>wtr.println(\"GET / HTTP/1.1\");</code>--->this line call the home page of the host you specified.</p>\n"},{"tags":[],"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439959653,"creation_date":1439959653,"answer_id":32086758,"question_id":32086560,"body_markdown":"When you&#39;re doing such a low-level access to a webserver, you should understand the [7 OSI layers][1]. Socket is on layer 5 and HTTP on layer 7. That&#39;s also the reason, why [java.net.Socket][2] only accepts host names or InetAddr and no URLs.\r\nTo do it with sockets, you have to implement the HTTP protocol properly, that is\r\n\r\n - Create a socket connection to the *host* and *port*, i.e. `www.badunetworks.com` and `80`\r\n - Send a HTTP packet to the outputstream containing, method, resource by *path* and protocol version, i.e. `GET /about/ HTTP/1.1`\r\n - Read and interpret the response properly (headers and body)\r\n \r\nBut I wonder why you&#39;re doing it this complicated, there are a lot of alternatives to implementing low-level http clients yourself:\r\n\r\n - good old [java.net.URL][3], as deprecated as its handling is, it&#39;s still one of the easiest way to read a resource, just call `openStream()` to read it\r\n - [Apache HTTP Client][4] is one of the most widely used http client implementation for java, which is quite easy to use and more flexible than the reading via URL\r\n - [javax.ws.rs][5] has a good builder api for creating web clients\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OSI_model\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/net/URL.html\r\n  [4]: http://hc.apache.org/httpcomponents-client-ga/\r\n  [5]: https://docs.oracle.com/javaee/7/api/javax/ws/rs/client/package-summary.html","title":"GET request with Java sockets","body":"<p>When you're doing such a low-level access to a webserver, you should understand the <a href=\"https://en.wikipedia.org/wiki/OSI_model\" rel=\"nofollow\">7 OSI layers</a>. Socket is on layer 5 and HTTP on layer 7. That's also the reason, why <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\" rel=\"nofollow\">java.net.Socket</a> only accepts host names or InetAddr and no URLs.\nTo do it with sockets, you have to implement the HTTP protocol properly, that is</p>\n\n<ul>\n<li>Create a socket connection to the <em>host</em> and <em>port</em>, i.e. <code>www.badunetworks.com</code> and <code>80</code></li>\n<li>Send a HTTP packet to the outputstream containing, method, resource by <em>path</em> and protocol version, i.e. <code>GET /about/ HTTP/1.1</code></li>\n<li>Read and interpret the response properly (headers and body)</li>\n</ul>\n\n<p>But I wonder why you're doing it this complicated, there are a lot of alternatives to implementing low-level http clients yourself:</p>\n\n<ul>\n<li>good old <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URL.html\" rel=\"nofollow\">java.net.URL</a>, as deprecated as its handling is, it's still one of the easiest way to read a resource, just call <code>openStream()</code> to read it</li>\n<li><a href=\"http://hc.apache.org/httpcomponents-client-ga/\" rel=\"nofollow\">Apache HTTP Client</a> is one of the most widely used http client implementation for java, which is quite easy to use and more flexible than the reading via URL</li>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/client/package-summary.html\" rel=\"nofollow\">javax.ws.rs</a> has a good builder api for creating web clients</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22756559,"reputation":1,"user_id":16915947,"display_name":"Andrey_developer2003"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681327482,"creation_date":1681327482,"answer_id":75999100,"question_id":32086560,"body_markdown":" When you send a response add \\n in the end\r\n\r\n        public static void main(String[] args) throws IOException {\r\n        try (Socket socket = new Socket(&quot;192.168.0.105&quot;, 8080);\r\n             PrintStream writer = new PrintStream(socket.getOutputStream());\r\n             BufferedReader reader = new BufferedReader(new \r\n             InputStreamReader(socket.getInputStream()));\r\n\r\n        )  {\r\n            writer.println(&quot;GET / HTTP/1.0\\n&quot;);\r\n            String str;\r\n            while ((str = reader.readLine()) != null) {\r\n                System.out.println(str);\r\n            }\r\n        }\r\n    }","title":"GET request with Java sockets","body":"<p>When you send a response add \\n in the end</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n    try (Socket socket = new Socket(&quot;192.168.0.105&quot;, 8080);\n         PrintStream writer = new PrintStream(socket.getOutputStream());\n         BufferedReader reader = new BufferedReader(new \n         InputStreamReader(socket.getInputStream()));\n\n    )  {\n        writer.println(&quot;GET / HTTP/1.0\\n&quot;);\n        String str;\n        while ((str = reader.readLine()) != null) {\n            System.out.println(str);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3911664,"reputation":578,"user_id":3236794,"accept_rate":50,"display_name":"user3236794"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23843,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":32086684,"answer_count":4,"score":10,"last_activity_date":1681327482,"creation_date":1439958297,"question_id":32086560,"body_markdown":"I am writing a simple program to send a get request to a specific url &quot;http://badunetworks.com/about/&quot;. The request works if I send it to &quot;http://badunetworks.com&quot; but I need to send it to the about page. \r\n\r\n    package badunetworks;\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    public class GetRequest {\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t\r\n    \t\tGetRequest getReq = new GetRequest();\r\n    \t\t\r\n    \t\t//Runs SendReq passing in the url and port from the command line\r\n    \t\tgetReq.SendReq(&quot;www.badunetworks.com/about/&quot;, 80);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void SendReq(String url, int port) throws Exception {\r\n    \t\t\r\n    \t\t//Instantiate a new socket\r\n    \t\tSocket s = new Socket(&quot;www.badunetworks.com/about/&quot;, port);\r\n    \t\t\r\n    \t\t//Instantiates a new PrintWriter passing in the sockets output stream\r\n    \t\tPrintWriter wtr = new PrintWriter(s.getOutputStream());\r\n    \t\t\r\n    \t\t//Prints the request string to the output stream\r\n    \t\twtr.println(&quot;GET / HTTP/1.1&quot;);\r\n    \t\twtr.println(&quot;Host: www.badunetworks.com&quot;);\r\n    \t\twtr.println(&quot;&quot;);\r\n    \t\twtr.flush();\r\n    \t\t\r\n    \t\t//Creates a BufferedReader that contains the server response\r\n    \t\tBufferedReader bufRead = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n    \t\tString outStr;\r\n    \t\t\r\n    \t\t//Prints each line of the response \r\n    \t\twhile((outStr = bufRead.readLine()) != null){\r\n    \t\t\tSystem.out.println(outStr);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t//Closes out buffer and writer\r\n    \t\tbufRead.close();\r\n    \t\twtr.close();\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"GET request with Java sockets","body":"<p>I am writing a simple program to send a get request to a specific url \"<a href=\"http://badunetworks.com/about/\" rel=\"noreferrer\">http://badunetworks.com/about/</a>\". The request works if I send it to \"<a href=\"http://badunetworks.com\" rel=\"noreferrer\">http://badunetworks.com</a>\" but I need to send it to the about page. </p>\n\n<pre><code>package badunetworks;\nimport java.io.*;\nimport java.net.*;\n\npublic class GetRequest {\n\n\n    public static void main(String[] args) throws Exception {\n\n        GetRequest getReq = new GetRequest();\n\n        //Runs SendReq passing in the url and port from the command line\n        getReq.SendReq(\"www.badunetworks.com/about/\", 80);\n\n\n    }\n\n    public void SendReq(String url, int port) throws Exception {\n\n        //Instantiate a new socket\n        Socket s = new Socket(\"www.badunetworks.com/about/\", port);\n\n        //Instantiates a new PrintWriter passing in the sockets output stream\n        PrintWriter wtr = new PrintWriter(s.getOutputStream());\n\n        //Prints the request string to the output stream\n        wtr.println(\"GET / HTTP/1.1\");\n        wtr.println(\"Host: www.badunetworks.com\");\n        wtr.println(\"\");\n        wtr.flush();\n\n        //Creates a BufferedReader that contains the server response\n        BufferedReader bufRead = new BufferedReader(new InputStreamReader(s.getInputStream()));\n        String outStr;\n\n        //Prints each line of the response \n        while((outStr = bufRead.readLine()) != null){\n            System.out.println(outStr);\n        }\n\n\n        //Closes out buffer and writer\n        bufRead.close();\n        wtr.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","java-17","fasterxml"],"answers":[{"tags":[],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681327439,"creation_date":1681327439,"answer_id":75999096,"question_id":75995567,"body_markdown":"I don’t think that it’s a good solution. But it looks like it’s working.\r\n\r\nI added `@JsonDeserialize(using = EventDeserializer.class)` to **EventDto**\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @JsonDeserialize(using = EventDeserializer.class)\r\n    public class EventDto {\r\n      private IncomingEventsTypeEnum eventType;\r\n      private Event eventData;\r\n    }\r\n\r\n\r\nAnd created **EventDeserializer.class**\r\n\r\n    @Slf4j\r\n    public class EventDeserializer extends JsonDeserializer&lt;EventDto&gt; {\r\n      @Override\r\n      public EventDto deserialize(JsonParser p, DeserializationContext deserializationContext) throws IOException {\r\n        JsonNode node = p.getCodec().readTree(p);\r\n        IncomingEventsTypeEnum eventType = IncomingEventsTypeEnum.valueOf(node.get(&quot;eventType&quot;).asText());\r\n        Event eventData = switch (eventType) {\r\n          case PRINT_FAILED, PRINT_SUBMITTED -&gt; p.getCodec().treeToValue(node.get(&quot;eventData&quot;), PrintEvent.class);\r\n        };\r\n    \r\n        return EventDto.builder()\r\n            .eventType(eventType)\r\n            .eventData(eventData)\r\n            .build();\r\n      }\r\n    }\r\n\r\nThen removed **objectMapper** from handle methods and just cast to my type.\r\n\r\n    @Override\r\n    public void handle(Event eventData) {\r\n      PrintEvent pojo = (PrintEvent) eventData;\r\n      Long id = pojo.getId();\r\n      String statusMessage = pojo.getStatusMessage();\r\n      printerService.updateStatus(id, PrinterTaskStatusEnum.SUBMITTED, statusMessage);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void handle(Event eventData) {\r\n      PrintEvent pojo = (PrintEvent) eventData;\r\n      Long id = pojo.getId();\r\n      String statusMessage = pojo.getStatusMessage();\r\n      printerService.updateStatus(id, PrinterTaskStatusEnum.FAILED, statusMessage);\r\n    }\r\n\r\nIf anyone has a better solution, I&#39;d love to hear it.\r\n\r\n","title":"How to use an interface type instead of Object? Converting problem","body":"<p>I don’t think that it’s a good solution. But it looks like it’s working.</p>\n<p>I added <code>@JsonDeserialize(using = EventDeserializer.class)</code> to <strong>EventDto</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@JsonDeserialize(using = EventDeserializer.class)\npublic class EventDto {\n  private IncomingEventsTypeEnum eventType;\n  private Event eventData;\n}\n</code></pre>\n<p>And created <strong>EventDeserializer.class</strong></p>\n<pre><code>@Slf4j\npublic class EventDeserializer extends JsonDeserializer&lt;EventDto&gt; {\n  @Override\n  public EventDto deserialize(JsonParser p, DeserializationContext deserializationContext) throws IOException {\n    JsonNode node = p.getCodec().readTree(p);\n    IncomingEventsTypeEnum eventType = IncomingEventsTypeEnum.valueOf(node.get(&quot;eventType&quot;).asText());\n    Event eventData = switch (eventType) {\n      case PRINT_FAILED, PRINT_SUBMITTED -&gt; p.getCodec().treeToValue(node.get(&quot;eventData&quot;), PrintEvent.class);\n    };\n\n    return EventDto.builder()\n        .eventType(eventType)\n        .eventData(eventData)\n        .build();\n  }\n}\n</code></pre>\n<p>Then removed <strong>objectMapper</strong> from handle methods and just cast to my type.</p>\n<pre><code>@Override\npublic void handle(Event eventData) {\n  PrintEvent pojo = (PrintEvent) eventData;\n  Long id = pojo.getId();\n  String statusMessage = pojo.getStatusMessage();\n  printerService.updateStatus(id, PrinterTaskStatusEnum.SUBMITTED, statusMessage);\n}\n\n\n@Override\npublic void handle(Event eventData) {\n  PrintEvent pojo = (PrintEvent) eventData;\n  Long id = pojo.getId();\n  String statusMessage = pojo.getStatusMessage();\n  printerService.updateStatus(id, PrinterTaskStatusEnum.FAILED, statusMessage);\n}\n</code></pre>\n<p>If anyone has a better solution, I'd love to hear it.</p>\n"}],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681327439,"creation_date":1681303323,"question_id":75995567,"body_markdown":"I want to use Event interface type for eventData field in EventDto class.\r\nI also have impl of Event its PrintEvent.\r\n\r\nBefore that I used Object instead of Event for eventData field and everything worked fine.\r\nBut when I choose to use Event instead of Object for eventData it’s start throwing an exception.\r\n\r\nI don’t want to use Object because it’s unclear for code readability.\r\n\r\n**Error:**\r\n\r\norg.springframework.http.converter.HttpMessageConversionException:    Type definition error: [simple type, class com.app.dto.Event]; nested    exception is    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot    construct instance of `com.app.dto.Event` (no Creators, like default    constructor, exist): abstract types either need to be mapped to    concrete types, have custom deserializer, or contain additional type    information at [Source:    (org.springframework.util.StreamUtils$NonClosingInputStream); line:    5, column: 26] (through reference chain:    com.app.dto.SubmitEventsRequest[&quot;events&quot;]-&gt;java.util.ArrayList[0]-&gt;com.app.dto.EventDto[&quot;eventData&quot;])\r\n\r\n------------------------------------------------------------------------\r\n\r\n    public interface Event {\r\n    }\r\n    \r\n    @Data\r\n    @Builder\r\n    public class EventDto {\r\n      private IncomingEventsTypeEnum eventType;\r\n      private Event eventData;\r\n    }\r\n    \r\n    \r\n    @Data\r\n    public class PrintEvent implements Event {\r\n      private Long id;\r\n      private String printerIp;\r\n      private String port;\r\n      private PrinterTaskStatusEnum status;\r\n      private String zpl;\r\n      private String statusMessage;\r\n    }\r\n    \r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    public class SubmitEventsRequest {\r\n      @NotNull\r\n      private List&lt;EventDto&gt; events;\r\n    }\r\n    \r\n    @PostMapping(&quot;/events&quot;)\r\n    public ResponseEntity&lt;ResponseStatus&gt; submitEvents(@RequestParam String token,\r\n                                                       @RequestBody SubmitEventsRequest request) {\r\n      return eventsService.submitEvents(token, request);\r\n    }\r\n    \r\n    @Component\r\n    public class CommunicationAwareServiceReceiveRegistryImpl implements CommunicationAwareServiceReceiveRegistry {\r\n      private final Map&lt;IncomingEventsTypeEnum, EventHandler&gt; eventHandlers = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n      @Override\r\n      public void submit(IncomingEventsTypeEnum eventType, Event eventData) {\r\n        EventHandler eventHandler = eventHandlers.get(eventType);\r\n        if (eventHandler != null) {\r\n          eventHandler.handle(eventData);\r\n        } else {\r\n          throw new IllegalArgumentException(&quot;Unknown event type: &quot; + eventType);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void registerEventHandler(IncomingEventsTypeEnum eventType, EventHandler eventHandler) {\r\n        eventHandlers.put(eventType, eventHandler);\r\n      }\r\n    }\r\n    \r\n    \r\n    public interface CommunicationAwareServiceReceiveRegistry {\r\n      void submit(IncomingEventsTypeEnum eventType, Event eventData);\r\n    \r\n      void registerEventHandler(IncomingEventsTypeEnum eventType, EventHandler eventHandler);\r\n    }\r\n    \r\n    \r\n    @Component\r\n    @AllArgsConstructor\r\n    public class PrintSubmittedEventHandler implements EventHandler {\r\n    \r\n      private final PrinterService printerService;\r\n      private final CommunicationAwareServiceReceiveRegistry communicationReceiveRegistry;\r\n      private final ObjectMapper objectMapper;\r\n    \r\n      @PostConstruct\r\n      public void init() {\r\n        communicationReceiveRegistry.registerEventHandler(IncomingEventsTypeEnum.PRINT_SUBMITTED, this);\r\n      }\r\n    \r\n      @Override\r\n      public void handle(Event eventData) {\r\n        PrintEvent pojo = objectMapper.convertValue(eventData, PrintEvent.class);\r\n        Long id = pojo.getId();\r\n        String statusMessage = pojo.getStatusMessage();\r\n        printerService.updateStatus(id, PrinterTaskStatusEnum.SUBMITTED, statusMessage);\r\n      }\r\n    }\r\n    \r\n    \r\n    @Component\r\n    @AllArgsConstructor\r\n    public class PrintFailedEventHandler implements EventHandler {\r\n    \r\n      private final PrinterService printerService;\r\n      private final CommunicationAwareServiceReceiveRegistry communicationReceiveRegistry;\r\n      private final ObjectMapper objectMapper;\r\n    \r\n      @PostConstruct\r\n      public void init() {\r\n        communicationReceiveRegistry.registerEventHandler(IncomingEventsTypeEnum.PRINT_FAILED, this);\r\n      }\r\n    \r\n      @Override\r\n      public void handle(Event eventData) {\r\n        PrintEvent pojo = objectMapper.convertValue(eventData, PrintEvent.class);\r\n        Long id = pojo.getId();\r\n        String statusMessage = pojo.getStatusMessage();\r\n        printerService.updateStatus(id, PrinterTaskStatusEnum.FAILED, statusMessage);\r\n      }\r\n    }\r\n\r\n    curl --location --request POST &#39;http://localhost:8080/api/events?token=502423b8990942c7a3f470a382d25658&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;{\r\n        &quot;events&quot;: [\r\n            {\r\n                &quot;eventType&quot;: &quot;PRINT_SUBMITTED&quot;,\r\n                &quot;eventData&quot;: {\r\n                    &quot;id&quot;: 7,\r\n                    &quot;statusMessage&quot; : &quot;OK&quot;\r\n                }\r\n            }\r\n        ]\r\n    }&#39;","title":"How to use an interface type instead of Object? Converting problem","body":"<p>I want to use Event interface type for eventData field in EventDto class.\nI also have impl of Event its PrintEvent.</p>\n<p>Before that I used Object instead of Event for eventData field and everything worked fine.\nBut when I choose to use Event instead of Object for eventData it’s start throwing an exception.</p>\n<p>I don’t want to use Object because it’s unclear for code readability.</p>\n<p><strong>Error:</strong></p>\n<p>org.springframework.http.converter.HttpMessageConversionException:    Type definition error: [simple type, class com.app.dto.Event]; nested    exception is    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot    construct instance of <code>com.app.dto.Event</code> (no Creators, like default    constructor, exist): abstract types either need to be mapped to    concrete types, have custom deserializer, or contain additional type    information at [Source:    (org.springframework.util.StreamUtils$NonClosingInputStream); line:    5, column: 26] (through reference chain:    com.app.dto.SubmitEventsRequest[&quot;events&quot;]-&gt;java.util.ArrayList[0]-&gt;com.app.dto.EventDto[&quot;eventData&quot;])</p>\n<hr />\n<pre><code>public interface Event {\n}\n\n@Data\n@Builder\npublic class EventDto {\n  private IncomingEventsTypeEnum eventType;\n  private Event eventData;\n}\n\n\n@Data\npublic class PrintEvent implements Event {\n  private Long id;\n  private String printerIp;\n  private String port;\n  private PrinterTaskStatusEnum status;\n  private String zpl;\n  private String statusMessage;\n}\n\n\n@Data\n@NoArgsConstructor\npublic class SubmitEventsRequest {\n  @NotNull\n  private List&lt;EventDto&gt; events;\n}\n\n@PostMapping(&quot;/events&quot;)\npublic ResponseEntity&lt;ResponseStatus&gt; submitEvents(@RequestParam String token,\n                                                   @RequestBody SubmitEventsRequest request) {\n  return eventsService.submitEvents(token, request);\n}\n\n@Component\npublic class CommunicationAwareServiceReceiveRegistryImpl implements CommunicationAwareServiceReceiveRegistry {\n  private final Map&lt;IncomingEventsTypeEnum, EventHandler&gt; eventHandlers = new ConcurrentHashMap&lt;&gt;();\n\n  @Override\n  public void submit(IncomingEventsTypeEnum eventType, Event eventData) {\n    EventHandler eventHandler = eventHandlers.get(eventType);\n    if (eventHandler != null) {\n      eventHandler.handle(eventData);\n    } else {\n      throw new IllegalArgumentException(&quot;Unknown event type: &quot; + eventType);\n    }\n  }\n\n  @Override\n  public void registerEventHandler(IncomingEventsTypeEnum eventType, EventHandler eventHandler) {\n    eventHandlers.put(eventType, eventHandler);\n  }\n}\n\n\npublic interface CommunicationAwareServiceReceiveRegistry {\n  void submit(IncomingEventsTypeEnum eventType, Event eventData);\n\n  void registerEventHandler(IncomingEventsTypeEnum eventType, EventHandler eventHandler);\n}\n\n\n@Component\n@AllArgsConstructor\npublic class PrintSubmittedEventHandler implements EventHandler {\n\n  private final PrinterService printerService;\n  private final CommunicationAwareServiceReceiveRegistry communicationReceiveRegistry;\n  private final ObjectMapper objectMapper;\n\n  @PostConstruct\n  public void init() {\n    communicationReceiveRegistry.registerEventHandler(IncomingEventsTypeEnum.PRINT_SUBMITTED, this);\n  }\n\n  @Override\n  public void handle(Event eventData) {\n    PrintEvent pojo = objectMapper.convertValue(eventData, PrintEvent.class);\n    Long id = pojo.getId();\n    String statusMessage = pojo.getStatusMessage();\n    printerService.updateStatus(id, PrinterTaskStatusEnum.SUBMITTED, statusMessage);\n  }\n}\n\n\n@Component\n@AllArgsConstructor\npublic class PrintFailedEventHandler implements EventHandler {\n\n  private final PrinterService printerService;\n  private final CommunicationAwareServiceReceiveRegistry communicationReceiveRegistry;\n  private final ObjectMapper objectMapper;\n\n  @PostConstruct\n  public void init() {\n    communicationReceiveRegistry.registerEventHandler(IncomingEventsTypeEnum.PRINT_FAILED, this);\n  }\n\n  @Override\n  public void handle(Event eventData) {\n    PrintEvent pojo = objectMapper.convertValue(eventData, PrintEvent.class);\n    Long id = pojo.getId();\n    String statusMessage = pojo.getStatusMessage();\n    printerService.updateStatus(id, PrinterTaskStatusEnum.FAILED, statusMessage);\n  }\n}\n\ncurl --location --request POST 'http://localhost:8080/api/events?token=502423b8990942c7a3f470a382d25658' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;events&quot;: [\n        {\n            &quot;eventType&quot;: &quot;PRINT_SUBMITTED&quot;,\n            &quot;eventData&quot;: {\n                &quot;id&quot;: 7,\n                &quot;statusMessage&quot; : &quot;OK&quot;\n            }\n        }\n    ]\n}'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20058597,"reputation":11,"user_id":14705777,"display_name":"blqck"},"score":0,"creation_date":1681327377,"post_id":75998968,"comment_id":134040302,"body_markdown":"have the same topic, you can read the answer [here](https://stackoverflow.com/a/25652826/14705777)","body":"have the same topic, you can read the answer <a href=\"https://stackoverflow.com/a/25652826/14705777\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681326731,"creation_date":1681326731,"answer_id":75999023,"question_id":75998968,"body_markdown":"You have four issues in your code. First, valid array indices are `0` to `array.length - 1` so you need `&lt;` not `&lt;=` in your loop. Second, you already have a `Random` instance use it; never create new `Random` instances in a loop they are likely to reseed with the same value on multiple iterations. Third, the call `Random#nextBytes(byte[])` fills the array - it doesn&#39;t return a single `byte`. Fourth, arrays don&#39;t override `Object#toString()` so you can&#39;t print it like that (use `Arrays.deepToString`). Putting that all together, should look something like\r\n\r\n\tScanner sc = new Scanner(System.in);\r\n\tRandom rand = new Random();\r\n\tSystem.out.println(&quot;enter the vertical and horizontal length of the matrix:&quot;);\r\n\tint m = sc.nextInt();\r\n\tint n = sc.nextInt();\r\n\tbyte[][] array = new byte[n][m];\r\n\tfor (int i = 0; i &lt; n; i++) {\r\n\t\trand.nextBytes(array[i]);\r\n\t}\r\n\tSystem.out.println(Arrays.deepToString(array));\r\n\r\n","title":"2D byte array in java","body":"<p>You have four issues in your code. First, valid array indices are <code>0</code> to <code>array.length - 1</code> so you need <code>&lt;</code> not <code>&lt;=</code> in your loop. Second, you already have a <code>Random</code> instance use it; never create new <code>Random</code> instances in a loop they are likely to reseed with the same value on multiple iterations. Third, the call <code>Random#nextBytes(byte[])</code> fills the array - it doesn't return a single <code>byte</code>. Fourth, arrays don't override <code>Object#toString()</code> so you can't print it like that (use <code>Arrays.deepToString</code>). Putting that all together, should look something like</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nRandom rand = new Random();\nSystem.out.println(&quot;enter the vertical and horizontal length of the matrix:&quot;);\nint m = sc.nextInt();\nint n = sc.nextInt();\nbyte[][] array = new byte[n][m];\nfor (int i = 0; i &lt; n; i++) {\n    rand.nextBytes(array[i]);\n}\nSystem.out.println(Arrays.deepToString(array));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681327002,"creation_date":1681327002,"answer_id":75999049,"question_id":75998968,"body_markdown":"&gt; 2d byte array of numbers\r\n\r\nThis is not possible; in java, arrays are not extensible (you can&#39;t &#39;make your own array&#39; or e.g. write `class MyArray extends int[]` or some such, nor can you make a custom definition of what the `foo[x]` operator does), and arrays are strictly 1 dimensional.\r\n\r\nHowever, you can, of course, make an array whose component type is _itself_ an array. Imagine one of those tool boxes that contains lots of boxes. A box of boxes.\r\n\r\nThere is, for example, absolutely no need in java for these &#39;component arrays&#39; to be the same size. Whereas with a 2D array, they&#39;d have to be the same size:\r\n\r\n```\r\nint[][] x = new int[5][];\r\nx[0] = new int[10];\r\nx[1] = new int[20];\r\n```\r\n\r\nIn that code, we have a big box that has room for 5 little boxes. The first little box is a smaller one capable of holding 10 screws. The second box is a larger one, with room for 20 screws. The spots where box 3, 4, and 5 go, are empty.\r\n\r\nThis boxes-in-boxes arrangement, which does have some syntactic sugar support in java, is sometimes called &#39;2D arrays&#39; as a slang term. But, __that is a fake term__ and it will lead you astray if you think of `int[][]` as a &#39;2d array&#39;. It&#39;s an array of int arrays.\r\n\r\nSimple example:\r\n\r\n```\r\nint[][] x = new int[10][5]; // this works, is syntax sugar.\r\nx.getClass().getComponentType() == int[].class; // this is true.\r\n```\r\n\r\nif you think about `x` as a 2D array you&#39;d think its component type is `int`. But it&#39;s not a 2D array, it&#39;s an array of int arrays, so its component type is &quot;int array&quot;.\r\n\r\nThe specific problem you&#39;re running into, is that you&#39;re setting an individual screw location (`array[i][j]` means: Open the big box, and go to the i-th spot for a little box. Then open _that_ box, and go to the j-th spot where screws can go).. and then you&#39;re trying to put an entire box of screws down in the spot where only a single screw can go.\r\n\r\n`nextBytes` doesn&#39;t return a byte array either, it returns nothing; instead, you pass it a byte array (and not an array of byte arrays, not a single byte!) and it fills it up with random data. You also already made an instance of Random. There is no need to make more.\r\n\r\nThus, replace:\r\n\r\n&gt; `array[i][j] = new Random().nextBytes(array);`\r\n\r\nwith:\r\n\r\n&gt; `rnd.nextBytes(array[i]);`\r\n\r\nand, entirely remove the `for (int j = 0` loop.\r\n\r\nAlternatively, you can keep it all, and replace the line with:\r\n\r\n```\r\narray[i][j] = (byte) rnd.nextInt(256);\r\n```\r\n\r\nHere you&#39;re generating the bytes yourself, one at a time, instead of using `nextBytes` which does some of that for you.\r\n","title":"2D byte array in java","body":"<blockquote>\n<p>2d byte array of numbers</p>\n</blockquote>\n<p>This is not possible; in java, arrays are not extensible (you can't 'make your own array' or e.g. write <code>class MyArray extends int[]</code> or some such, nor can you make a custom definition of what the <code>foo[x]</code> operator does), and arrays are strictly 1 dimensional.</p>\n<p>However, you can, of course, make an array whose component type is <em>itself</em> an array. Imagine one of those tool boxes that contains lots of boxes. A box of boxes.</p>\n<p>There is, for example, absolutely no need in java for these 'component arrays' to be the same size. Whereas with a 2D array, they'd have to be the same size:</p>\n<pre><code>int[][] x = new int[5][];\nx[0] = new int[10];\nx[1] = new int[20];\n</code></pre>\n<p>In that code, we have a big box that has room for 5 little boxes. The first little box is a smaller one capable of holding 10 screws. The second box is a larger one, with room for 20 screws. The spots where box 3, 4, and 5 go, are empty.</p>\n<p>This boxes-in-boxes arrangement, which does have some syntactic sugar support in java, is sometimes called '2D arrays' as a slang term. But, <strong>that is a fake term</strong> and it will lead you astray if you think of <code>int[][]</code> as a '2d array'. It's an array of int arrays.</p>\n<p>Simple example:</p>\n<pre><code>int[][] x = new int[10][5]; // this works, is syntax sugar.\nx.getClass().getComponentType() == int[].class; // this is true.\n</code></pre>\n<p>if you think about <code>x</code> as a 2D array you'd think its component type is <code>int</code>. But it's not a 2D array, it's an array of int arrays, so its component type is &quot;int array&quot;.</p>\n<p>The specific problem you're running into, is that you're setting an individual screw location (<code>array[i][j]</code> means: Open the big box, and go to the i-th spot for a little box. Then open <em>that</em> box, and go to the j-th spot where screws can go).. and then you're trying to put an entire box of screws down in the spot where only a single screw can go.</p>\n<p><code>nextBytes</code> doesn't return a byte array either, it returns nothing; instead, you pass it a byte array (and not an array of byte arrays, not a single byte!) and it fills it up with random data. You also already made an instance of Random. There is no need to make more.</p>\n<p>Thus, replace:</p>\n<blockquote>\n<p><code>array[i][j] = new Random().nextBytes(array);</code></p>\n</blockquote>\n<p>with:</p>\n<blockquote>\n<p><code>rnd.nextBytes(array[i]);</code></p>\n</blockquote>\n<p>and, entirely remove the <code>for (int j = 0</code> loop.</p>\n<p>Alternatively, you can keep it all, and replace the line with:</p>\n<pre><code>array[i][j] = (byte) rnd.nextInt(256);\n</code></pre>\n<p>Here you're generating the bytes yourself, one at a time, instead of using <code>nextBytes</code> which does some of that for you.</p>\n"}],"owner":{"account_id":28287918,"reputation":3,"user_id":21628541,"display_name":"Nazar Chernigovskiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75999023,"answer_count":2,"score":0,"last_activity_date":1681327002,"creation_date":1681326278,"question_id":75998968,"body_markdown":"I&#39;m just starting to learn programming and I can&#39;t solve the problem, I need to create a 2d byte array of numbers, and the number of rows and columns is set by the user.\r\nThanks in advance!\r\n\r\n\r\n```\r\nimport java.util.*;\r\nclass Simple{\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        Random rand = new Random();\r\n        System.out.println(&quot;enter the vertical and horizontal length of the matrix:&quot;);\r\n        int m = sc.nextInt();\r\n        int n = sc.nextInt();\r\n        byte[][] array = new byte[n][m];\r\n        for(int i=0;i&lt;=n;i++){\r\n            for(int j=0;j&lt;=m;j++){\r\n                array[i][j] = new Random().nextBytes(array);\r\n            }\r\n        }\r\n        System.out.println(array);\r\n        }\r\n    }\r\n```\r\nhere is my effort. I tried to do the same as with whole numbers, but it doesn&#39;t work, I couldn&#39;t find other options anywhere.","title":"2D byte array in java","body":"<p>I'm just starting to learn programming and I can't solve the problem, I need to create a 2d byte array of numbers, and the number of rows and columns is set by the user.\nThanks in advance!</p>\n<pre><code>import java.util.*;\nclass Simple{\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        Random rand = new Random();\n        System.out.println(&quot;enter the vertical and horizontal length of the matrix:&quot;);\n        int m = sc.nextInt();\n        int n = sc.nextInt();\n        byte[][] array = new byte[n][m];\n        for(int i=0;i&lt;=n;i++){\n            for(int j=0;j&lt;=m;j++){\n                array[i][j] = new Random().nextBytes(array);\n            }\n        }\n        System.out.println(array);\n        }\n    }\n</code></pre>\n<p>here is my effort. I tried to do the same as with whole numbers, but it doesn't work, I couldn't find other options anywhere.</p>\n"},{"tags":["java","eclipse","plugins","import","jar"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1515505311,"post_id":48169471,"comment_id":83318226,"body_markdown":"Plugins generally don&#39;t use external jars. Any code you want to use should be in the plugin (or another plugin). You can include extra jars in a plugin - is that what you want to do?","body":"Plugins generally don&#39;t use external jars. Any code you want to use should be in the plugin (or another plugin). You can include extra jars in a plugin - is that what you want to do?"},{"owner":{"account_id":11712371,"reputation":19,"user_id":8573939,"display_name":"Redbeard"},"score":0,"creation_date":1515505591,"post_id":48169471,"comment_id":83318398,"body_markdown":"I want to export a JAR which I then want to include (import) in my Plug-In project","body":"I want to export a JAR which I then want to include (import) in my Plug-In project"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1515506142,"post_id":48169471,"comment_id":83318750,"body_markdown":"If  you mean the jar will not be available when the plugin is loaded you will have to use `URLClassLoader` to load the jar dynamically","body":"If  you mean the jar will not be available when the plugin is loaded you will have to use <code>URLClassLoader</code> to load the jar dynamically"}],"owner":{"account_id":11712371,"reputation":19,"user_id":8573939,"display_name":"Redbeard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681326801,"creation_date":1515505196,"question_id":48169471,"body_markdown":"I am trying to write a plug-in or Eclipse, that creates a view with a couple of buttons which I want to trigger methods in JAR-Files.\r\n\r\nI have tried for days now and I read a lot about the topic on the net, but so far nothing worked for me.\r\n\r\nNo matter, what I do, I always come up with a Class Definition not found error.\r\n\r\nCan anybody please explain the steps I have to take to make for example a little Plugin (using the view example) that calls an external JAR with one Method to write &quot;Hello World&quot; to the console?\r\n\r\nWhy is this so hard to get to work. Do I miss anything here? Is there maybe a good tutorial I didn&#39;t find. \r\n\r\nAny help would be great, thanks!","title":"Creating Plug-In for Eclipse and utilizing external JAR-File","body":"<p>I am trying to write a plug-in or Eclipse, that creates a view with a couple of buttons which I want to trigger methods in JAR-Files.</p>\n<p>I have tried for days now and I read a lot about the topic on the net, but so far nothing worked for me.</p>\n<p>No matter, what I do, I always come up with a Class Definition not found error.</p>\n<p>Can anybody please explain the steps I have to take to make for example a little Plugin (using the view example) that calls an external JAR with one Method to write &quot;Hello World&quot; to the console?</p>\n<p>Why is this so hard to get to work. Do I miss anything here? Is there maybe a good tutorial I didn't find.</p>\n<p>Any help would be great, thanks!</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1681324509,"post_id":75998701,"comment_id":134039699,"body_markdown":"LoginPageLocators constructor takes a webdriver... you don&#39;t show code that creates a new instance of it...   i.e.: new LoginPageLocators(driver);... are you seeing any exceptions? if so, include them in your post.","body":"LoginPageLocators constructor takes a webdriver... you don&#39;t show code that creates a new instance of it...   i.e.: new LoginPageLocators(driver);... are you seeing any exceptions? if so, include them in your post."},{"owner":{"account_id":15825726,"reputation":31,"user_id":11418660,"display_name":"shivam pawar"},"score":0,"creation_date":1681325917,"post_id":75998701,"comment_id":134039998,"body_markdown":"HI pcalkins, it worked, I forgot to create instance, pls check below code and suggest modifications.","body":"HI pcalkins, it worked, I forgot to create instance, pls check below code and suggest modifications."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681326771,"post_id":75998701,"comment_id":134040179,"body_markdown":"You are not following the page object model correctly. The locators and methods for the login page should all be in the same class.","body":"You are not following the page object model correctly. The locators and methods for the login page should all be in the same class."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681326828,"post_id":75998701,"comment_id":134040197,"body_markdown":"Also, since your code is working, SO is not the appropriate site for your question. This should be asked on https://codereview.stackexchange.com but you should carefully read their question posting rules before posting there.","body":"Also, since your code is working, SO is not the appropriate site for your question. This should be asked on <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a> but you should carefully read their question posting rules before posting there."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681326879,"post_id":75998701,"comment_id":134040208,"body_markdown":"I’m voting to close this question because it should be on https://codereview.stackexchange.com","body":"I’m voting to close this question because it should be on <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a>"},{"owner":{"account_id":1718899,"reputation":8227,"user_id":1575353,"accept_rate":88,"display_name":"Sᴀᴍ Onᴇᴌᴀ"},"score":0,"creation_date":1681328497,"post_id":75998701,"comment_id":134040527,"body_markdown":"@JeffC in the future, please don&#39;t use the existence of the Code Review site as a reason to close a question. Evaluate the request and use a reason like *Not reproducible or was caused by a typo*. Then you can mention to the OP that it can be posted on Code Review if it is [on-topic](https://codereview.stackexchange.com/help/on-topic). Please see [_Does being on-topic at another Stack Exchange site automatically make a question off-topic for Stack Overflow?_](https://meta.stackoverflow.com/q/287400/1575353).","body":"@JeffC in the future, please don&#39;t use the existence of the Code Review site as a reason to close a question. Evaluate the request and use a reason like <i>Not reproducible or was caused by a typo</i>. Then you can mention to the OP that it can be posted on Code Review if it is <a href=\"https://codereview.stackexchange.com/help/on-topic\">on-topic</a>. Please see <a href=\"https://meta.stackoverflow.com/q/287400/1575353\"><i>Does being on-topic at another Stack Exchange site automatically make a question off-topic for Stack Overflow?</i></a>."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681328646,"post_id":75998701,"comment_id":134040560,"body_markdown":"@SᴀᴍOnᴇᴌᴀ `HI pcalkins, it worked`. Second comment on this question. Also, in a previous version of the question OP asked, &quot;is it a correct way to call WebElements from other class?&quot; which is not a valid question on SO but is for code review. Working questions aren&#39;t on topic for SO thus it should be moved to code review.","body":"@SᴀᴍOnᴇᴌᴀ <code>HI pcalkins, it worked</code>. Second comment on this question. Also, in a previous version of the question OP asked, &quot;is it a correct way to call WebElements from other class?&quot; which is not a valid question on SO but is for code review. Working questions aren&#39;t on topic for SO thus it should be moved to code review."},{"owner":{"account_id":1718899,"reputation":8227,"user_id":1575353,"accept_rate":88,"display_name":"Sᴀᴍ Onᴇᴌᴀ"},"score":0,"creation_date":1681328819,"post_id":75998701,"comment_id":134040602,"body_markdown":"The OP could post there after reading [the Help Center page _What topics can I ask about here?_](https://codereview.stackexchange.com/help/on-topic) however in the current form the post should not be migrated. Thus it should not be migrated and as such we should use a different reason to close it","body":"The OP could post there after reading <a href=\"https://codereview.stackexchange.com/help/on-topic\">the Help Center page <i>What topics can I ask about here?</i></a> however in the current form the post should not be migrated. Thus it should not be migrated and as such we should use a different reason to close it"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681328925,"post_id":75998701,"comment_id":134040624,"body_markdown":"@SᴀᴍOnᴇᴌᴀ Did you actually read any of the comments? There were only 5 when you started commenting. You missed the statement where OP said the code is working. You missed my second comment where I stated, &quot;This should be asked on codereview.stackexchange.com **but you should carefully read their question posting rules before posting there.**&quot; Perhaps you should spend a little more time reading comments carefully before telling people they are using the site(s) wrong.","body":"@SᴀᴍOnᴇᴌᴀ Did you actually read any of the comments? There were only 5 when you started commenting. You missed the statement where OP said the code is working. You missed my second comment where I stated, &quot;This should be asked on codereview.stackexchange.com <b>but you should carefully read their question posting rules before posting there.</b>&quot; Perhaps you should spend a little more time reading comments carefully before telling people they are using the site(s) wrong."},{"owner":{"account_id":1718899,"reputation":8227,"user_id":1575353,"accept_rate":88,"display_name":"Sᴀᴍ Onᴇᴌᴀ"},"score":0,"creation_date":1681329430,"post_id":75998701,"comment_id":134040759,"body_markdown":"Sorry for not reading all of the comments thoroughly before making comments. As one can tell I&#39;ve modified some of them. We often see OPs quickly repost on CR without reading the help center pages even though they are recommended to do so. I too once voted to close as off-topic because a post seemed on-topic and was requested to read posts like [the accepted answer](https://meta.stackoverflow.com/a/287401/1575353) to the meta question I linked in my first comment.","body":"Sorry for not reading all of the comments thoroughly before making comments. As one can tell I&#39;ve modified some of them. We often see OPs quickly repost on CR without reading the help center pages even though they are recommended to do so. I too once voted to close as off-topic because a post seemed on-topic and was requested to read posts like <a href=\"https://meta.stackoverflow.com/a/287401/1575353\">the accepted answer</a> to the meta question I linked in my first comment."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1681330267,"post_id":75998701,"comment_id":134040944,"body_markdown":"I think the confusion came when the OP added code to their original question...  instead of doing that they might have posted an answer to their own question, and/or begun a new post/question.","body":"I think the confusion came when the OP added code to their original question...  instead of doing that they might have posted an answer to their own question, and/or begun a new post/question."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681330540,"post_id":75998701,"comment_id":134040993,"body_markdown":"@pcalkins I think your first comment made them realize their mistake. They edited the question with the updated code and then asked if that was the correct way to do it. I came in at that point and voted to close the question because in its current form it belongs more on Code Review than SO.","body":"@pcalkins I think your first comment made them realize their mistake. They edited the question with the updated code and then asked if that was the correct way to do it. I came in at that point and voted to close the question because in its current form it belongs more on Code Review than SO."}],"owner":{"account_id":15825726,"reputation":31,"user_id":11418660,"display_name":"shivam pawar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681570864,"answer_count":0,"score":1,"last_activity_date":1681326741,"creation_date":1681323951,"question_id":75998701,"body_markdown":"Here I am trying to access WebElements from `LoginPageLocators` class to `WebElementsQuoting`. Locators do not seem to be initialized.\r\n\r\nLocator class\r\n\r\n    public class LoginPageLocators {\r\n    \t\r\n    \tWebDriver driver;\r\n    \t\r\n    \tpublic LoginPageLocators(WebDriver driver) {\r\n    \t\tthis.driver = driver;\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t}\r\n    \t\r\n    \t@FindBy(id=&quot;userInput&quot;)\r\n    \tpublic static WebElement userEmail;\r\n    \t\r\n    \t@FindBy(id=&quot;login-button&quot;)\r\n    \tpublic static WebElement userLogin;\r\n    \t\r\n    \t@FindBy(id=&quot;okta-signin-password&quot;)\r\n    \tpublic static WebElement enterPass;\r\n    \t\r\n    \t@FindBy(css=&quot;input#okta-signin-submit&quot;)\r\n    \tpublic static WebElement loginApp;\r\n    \t\r\n    \tpublic static int i = 10;\r\n    \tpublic void locatio() {\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    }\r\n\r\nCalling class\r\n\r\n    public class WebElementsQuoting extends SeleniumUtlities{\r\n    \t\r\n    \tWebDriver driver;\r\n    \tLoginPageLocators locators;\r\n    \t\r\n    \tpublic WebElementsQuoting(WebDriver driver) {\r\n    \t\tsuper(driver);\r\n    \t\tthis.driver = driver;\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t\tlocators = new LoginPageLocators(driver);\r\n    \t}\r\n    \t\r\n    \tpublic void LoginApplication(String username, String password) {\r\n    \t\tSystem.out.println(LoginPageLocators.userEmail);\r\n    \t\twaitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.userEmail);\r\n    \t\tLoginPageLocators.userEmail.sendKeys(username);\r\n    \t\twaitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.userLogin);\r\n    \t\tLoginPageLocators.userLogin.click();\r\n    \t\twaitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.enterPass);\r\n    \t\tLoginPageLocators.enterPass.sendKeys(password);\r\n    \t\twaitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.loginApp);\r\n    \t\tActions action  = new Actions(driver);\r\n    \t\taction.moveToElement(LoginPageLocators.loginApp).click().perform();\t\r\n    \t}\r\n    }","title":"Not able to access @findby WebElements from one class to another class","body":"<p>Here I am trying to access WebElements from <code>LoginPageLocators</code> class to <code>WebElementsQuoting</code>. Locators do not seem to be initialized.</p>\n<p>Locator class</p>\n<pre><code>public class LoginPageLocators {\n    \n    WebDriver driver;\n    \n    public LoginPageLocators(WebDriver driver) {\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n    \n    @FindBy(id=&quot;userInput&quot;)\n    public static WebElement userEmail;\n    \n    @FindBy(id=&quot;login-button&quot;)\n    public static WebElement userLogin;\n    \n    @FindBy(id=&quot;okta-signin-password&quot;)\n    public static WebElement enterPass;\n    \n    @FindBy(css=&quot;input#okta-signin-submit&quot;)\n    public static WebElement loginApp;\n    \n    public static int i = 10;\n    public void locatio() {\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Calling class</p>\n<pre><code>public class WebElementsQuoting extends SeleniumUtlities{\n    \n    WebDriver driver;\n    LoginPageLocators locators;\n    \n    public WebElementsQuoting(WebDriver driver) {\n        super(driver);\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n        locators = new LoginPageLocators(driver);\n    }\n    \n    public void LoginApplication(String username, String password) {\n        System.out.println(LoginPageLocators.userEmail);\n        waitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.userEmail);\n        LoginPageLocators.userEmail.sendKeys(username);\n        waitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.userLogin);\n        LoginPageLocators.userLogin.click();\n        waitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.enterPass);\n        LoginPageLocators.enterPass.sendKeys(password);\n        waitForElementToBeClickable(driver, Duration.ofSeconds(10), LoginPageLocators.loginApp);\n        Actions action  = new Actions(driver);\n        action.moveToElement(LoginPageLocators.loginApp).click().perform(); \n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting","matrix"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1681324525,"post_id":75998726,"comment_id":134039704,"body_markdown":"Have you looked at the answers to the linked question?  Choose one or more of those to study.  Figure out (it shouldn&#39;t be hard) where and how they choose the first elements of the member arrays to use for sorting.  Modify that to choose the second element instead.","body":"Have you looked at the answers to the linked question?  Choose one or more of those to study.  Figure out (it shouldn&#39;t be hard) where and how they choose the first elements of the member arrays to use for sorting.  Modify that to choose the second element instead."},{"owner":{"account_id":28287794,"reputation":1,"user_id":21628431,"display_name":"CourierDude"},"score":0,"creation_date":1681325337,"post_id":75998726,"comment_id":134039881,"body_markdown":"Ayt I&#39;mma be real with you, i am way too sleep deprived that while i was messing with the answers from the linked thread, i didn&#39;t realize that i already had the code correct and brushed it off. Sorry for wasting time but thank you so much for answering and making me realize. Have a good day m8","body":"Ayt I&#39;mma be real with you, i am way too sleep deprived that while i was messing with the answers from the linked thread, i didn&#39;t realize that i already had the code correct and brushed it off. Sorry for wasting time but thank you so much for answering and making me realize. Have a good day m8"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681326165,"creation_date":1681326165,"answer_id":75998957,"question_id":75998726,"body_markdown":"Use Overloaded `Arrays#Sort(T[] a, Comparator c)` which takes Comparator as the second argument.\r\n\r\n    double[][] array= {\r\n    {1, 5},\r\n    {13, 1.55},\r\n    {12, 100.6},\r\n    {12.1, .85} };\r\n    \r\n    java.util.Arrays.sort(array, new java.util.Comparator&lt;double[]&gt;() {\r\n        public int compare(double[] a, double[] b) {\r\n            return Double.compare(a[1], b[1]); // only diff with linked answer\r\n        }\r\n    });\r\n\r\n","title":"java Arrays.sort 2d Array but using 2nd column?","body":"<p>Use Overloaded <code>Arrays#Sort(T[] a, Comparator c)</code> which takes Comparator as the second argument.</p>\n<pre><code>double[][] array= {\n{1, 5},\n{13, 1.55},\n{12, 100.6},\n{12.1, .85} };\n\njava.util.Arrays.sort(array, new java.util.Comparator&lt;double[]&gt;() {\n    public int compare(double[] a, double[] b) {\n        return Double.compare(a[1], b[1]); // only diff with linked answer\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":28287794,"reputation":1,"user_id":21628431,"display_name":"CourierDude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681326165,"creation_date":1681324155,"question_id":75998726,"body_markdown":"My question is similar to [this one](https://stackoverflow.com/questions/15452429/java-arrays-sort-2d-array) except instead of sorting by the first column, I&#39;d like to be able to sort via the 2nd column.\r\n\r\n\r\n```\r\ndouble[][] myArr = new double[mySize][2];\r\n```\r\n\r\n\r\nThe contents of the array would be:\r\n\r\n\r\n```\r\n1      5\r\n13     1.55\r\n12     100.6\r\n12.1   .85\r\n\r\n```\r\n\r\nAnd what it should be after is:\r\n\r\n\r\n```\r\n12.1   .85\r\n13     1.55\r\n1      5\r\n12     100.6\r\n```\r\n\r\nHow would one go about doing that?","title":"java Arrays.sort 2d Array but using 2nd column?","body":"<p>My question is similar to <a href=\"https://stackoverflow.com/questions/15452429/java-arrays-sort-2d-array\">this one</a> except instead of sorting by the first column, I'd like to be able to sort via the 2nd column.</p>\n<pre><code>double[][] myArr = new double[mySize][2];\n</code></pre>\n<p>The contents of the array would be:</p>\n<pre><code>1      5\n13     1.55\n12     100.6\n12.1   .85\n\n</code></pre>\n<p>And what it should be after is:</p>\n<pre><code>12.1   .85\n13     1.55\n1      5\n12     100.6\n</code></pre>\n<p>How would one go about doing that?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681325872,"post_id":75996128,"comment_id":134039989,"body_markdown":"You could use `Message` object, then extract key from that, and ignore value, rather than having two parameters","body":"You could use <code>Message</code> object, then extract key from that, and ignore value, rather than having two parameters"},{"owner":{"account_id":5595244,"reputation":355,"user_id":4433222,"display_name":"Konrad"},"score":0,"creation_date":1681385046,"post_id":75996128,"comment_id":134049353,"body_markdown":"`org.springframework.messaging.Message`? If so, it contains the payload and I&#39;ve deliberately used a set of arguments that does not contain a payload.","body":"<code>org.springframework.messaging.Message</code>? If so, it contains the payload and I&#39;ve deliberately used a set of arguments that does not contain a payload."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681389865,"post_id":75996128,"comment_id":134050642,"body_markdown":"Yes. As answered, though, you&#39;ll always get the whole payload from Kafka API. Whether Spring decomposes that or not into extra parameters, is a separate issue","body":"Yes. As answered, though, you&#39;ll always get the whole payload from Kafka API. Whether Spring decomposes that or not into extra parameters, is a separate issue"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681308308,"creation_date":1681308308,"answer_id":75996420,"question_id":75996128,"body_markdown":"The `kafka-clients` API provides no way to avoid the record `value()` being passed over the network.\r\n\r\nYou can minimize the local overhead by using a `ByteArrayDeserializer` for the value deserializer to avoid performing any transformation after receipt.","title":"In spring-kafka how to set up a kafka listener to only receive key and metadata, but without a payload?","body":"<p>The <code>kafka-clients</code> API provides no way to avoid the record <code>value()</code> being passed over the network.</p>\n<p>You can minimize the local overhead by using a <code>ByteArrayDeserializer</code> for the value deserializer to avoid performing any transformation after receipt.</p>\n"}],"owner":{"account_id":5595244,"reputation":355,"user_id":4433222,"display_name":"Konrad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75996420,"answer_count":1,"score":0,"last_activity_date":1681325847,"creation_date":1681306611,"question_id":75996128,"body_markdown":"Is it possible to &quot;tell&quot; Kafka broker to not send the payload of a record at all to the client? I know you can configure the listener to not receive it by not listing as an argument:\r\n\r\n```\r\n    @KafkaListener(\r\n            topics = &quot;myTopic&quot;,\r\n            groupId = &quot;groupId&quot;\r\n    )\r\n    public void listen(\r\n            @Header(name = KafkaHeaders.RECEIVED_MESSAGE_KEY, required = true) String key,\r\n            ConsumerRecordMetadata meta)\r\n    {\r\n    }\r\n```\r\n\r\nHowever the performance measurements I did with and without the `@Payload` argument did not differ much, therefore I assume the consumer application is still getting an entire payload over the network, but just not sending it to the method annotated with `@KafkaListener`.\r\n\r\nI would only like to get the metadata, including the key.","title":"In spring-kafka how to set up a kafka listener to only receive key and metadata, but without a payload?","body":"<p>Is it possible to &quot;tell&quot; Kafka broker to not send the payload of a record at all to the client? I know you can configure the listener to not receive it by not listing as an argument:</p>\n<pre><code>    @KafkaListener(\n            topics = &quot;myTopic&quot;,\n            groupId = &quot;groupId&quot;\n    )\n    public void listen(\n            @Header(name = KafkaHeaders.RECEIVED_MESSAGE_KEY, required = true) String key,\n            ConsumerRecordMetadata meta)\n    {\n    }\n</code></pre>\n<p>However the performance measurements I did with and without the <code>@Payload</code> argument did not differ much, therefore I assume the consumer application is still getting an entire payload over the network, but just not sending it to the method annotated with <code>@KafkaListener</code>.</p>\n<p>I would only like to get the metadata, including the key.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":263214,"reputation":2223,"user_id":1152570,"accept_rate":83,"display_name":"ali akbar azizkhani"},"score":2,"creation_date":1512848705,"post_id":32205657,"comment_id":82425430,"body_markdown":"are u solve this problem?","body":"are u solve this problem?"},{"owner":{"account_id":125163,"reputation":2985,"user_id":320761,"display_name":"Lukasz Frankowski"},"score":1,"creation_date":1529158928,"post_id":32205657,"comment_id":88778689,"body_markdown":"This works https://stackoverflow.com/a/32230857/320761","body":"This works <a href=\"https://stackoverflow.com/a/32230857/320761\">stackoverflow.com/a/32230857/320761</a>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1658320231,"post_id":32205657,"comment_id":129021646,"body_markdown":"Does this answer your question? [Access to Session using Spring JPA and Hibernate in order to enable filters](https://stackoverflow.com/questions/32228031/access-to-session-using-spring-jpa-and-hibernate-in-order-to-enable-filters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32228031/access-to-session-using-spring-jpa-and-hibernate-in-order-to-enable-filters\">Access to Session using Spring JPA and Hibernate in order to enable filters</a>"}],"owner":{"account_id":557859,"reputation":5979,"user_id":920457,"accept_rate":100,"display_name":"francis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3791,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":0,"score":12,"last_activity_date":1681325761,"creation_date":1440510139,"question_id":32205657,"body_markdown":"I&#39;m attempting to use [Hibernate 4&#39;s Entity level `@Filter`&#39;s][1] with Spring data repositories inside of a Spring Boot project. My end goal is to implement a generic soft delete with something a bit more flexible then Hibernate&#39;s `@Where` annotation.\r\n\r\nAfter a bit of a struggle I&#39;ve come to the possibly naive solution that this could be handled using an `@Aspect`\r\n\r\nI set up a Spring managed aspect with the aim to intercept calls to the shared `EntityManager` and enable the appropriate filter.\r\n\r\nI played around with a few different pointcuts and it looks like `execution(public * javax.persistence.EntityManager.find(..))` is an ok place to bind this advice.\r\n\r\n\r\n\r\n    @Aspect\r\n    @Component\r\n    public class HibernateFilterInterceptor {\r\n\r\n        private final EntityManager entityManager;\r\n        private final PlatformTransactionManager platformTransactionManager;\r\n\r\n        @Autowired\r\n        public HibernateFilterInterceptor(EntityManager entityManager, PlatformTransactionManager platformTransactionManager) {\r\n            this.entityManager = entityManager;\r\n            this.platformTransactionManager = platformTransactionManager;\r\n        }\r\n\r\n        @Before(&quot;execution(public * javax.persistence.EntityManager.find(..))&quot;)\r\n        public void beforeFind(){\r\n\r\n        }\r\n\r\nFrom the Hibernate docs/examples it seems like I should be able to enable the filter using something like `entityManager.unwrap(Session.class).enableFilter(&quot;filter&quot;).setParameter(&quot;foo&quot;, 1);`\r\n\r\nSo to test I defined a simple filter on a single entity.\r\n\r\n    @FilterDef(name = &quot;status&quot;, parameters = @ParamDef(name = &quot;status&quot;, type = &quot;integer&quot;))\r\n    @Filters(\r\n        @Filter(name = &quot;status&quot;, condition = &quot;:status = status&quot;)\r\n    )\r\n    public class Entity{\r\n\r\nAnd enabled it in my advice\r\n\r\n    @Before(&quot;execution(public * javax.persistence.EntityManager.find(..))&quot;)\r\n    public void beforeFind(){\r\n     entityManager.unwrap(Session.class).enableFilter(&quot;status&quot;).setParameter(&quot;status&quot;, 1);\r\n    }\r\n\r\nAnd the filter is not applied.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch19.html","title":"Hibernate entity filters with Spring data repositories","body":"<p>I'm attempting to use <a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch19.html\" rel=\"noreferrer\">Hibernate 4's Entity level <code>@Filter</code>'s</a> with Spring data repositories inside of a Spring Boot project. My end goal is to implement a generic soft delete with something a bit more flexible then Hibernate's <code>@Where</code> annotation.</p>\n\n<p>After a bit of a struggle I've come to the possibly naive solution that this could be handled using an <code>@Aspect</code></p>\n\n<p>I set up a Spring managed aspect with the aim to intercept calls to the shared <code>EntityManager</code> and enable the appropriate filter.</p>\n\n<p>I played around with a few different pointcuts and it looks like <code>execution(public * javax.persistence.EntityManager.find(..))</code> is an ok place to bind this advice.</p>\n\n<pre><code>@Aspect\n@Component\npublic class HibernateFilterInterceptor {\n\n    private final EntityManager entityManager;\n    private final PlatformTransactionManager platformTransactionManager;\n\n    @Autowired\n    public HibernateFilterInterceptor(EntityManager entityManager, PlatformTransactionManager platformTransactionManager) {\n        this.entityManager = entityManager;\n        this.platformTransactionManager = platformTransactionManager;\n    }\n\n    @Before(\"execution(public * javax.persistence.EntityManager.find(..))\")\n    public void beforeFind(){\n\n    }\n</code></pre>\n\n<p>From the Hibernate docs/examples it seems like I should be able to enable the filter using something like <code>entityManager.unwrap(Session.class).enableFilter(\"filter\").setParameter(\"foo\", 1);</code></p>\n\n<p>So to test I defined a simple filter on a single entity.</p>\n\n<pre><code>@FilterDef(name = \"status\", parameters = @ParamDef(name = \"status\", type = \"integer\"))\n@Filters(\n    @Filter(name = \"status\", condition = \":status = status\")\n)\npublic class Entity{\n</code></pre>\n\n<p>And enabled it in my advice</p>\n\n<pre><code>@Before(\"execution(public * javax.persistence.EntityManager.find(..))\")\npublic void beforeFind(){\n entityManager.unwrap(Session.class).enableFilter(\"status\").setParameter(\"status\", 1);\n}\n</code></pre>\n\n<p>And the filter is not applied.</p>\n"},{"tags":["java","arrays","netbeans"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681321766,"post_id":75998430,"comment_id":134039119,"body_markdown":"You can&#39;t because it&#39;s a local variable.  Local variables are restricted to their local method.  You&#39;d have to use an instance variable or similar to get access to it.","body":"You can&#39;t because it&#39;s a local variable.  Local variables are restricted to their local method.  You&#39;d have to use an instance variable or similar to get access to it."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681325167,"creation_date":1681321992,"answer_id":75998479,"question_id":75998430,"body_markdown":"You need to use an instance variable for this.  Probably you should supply a &quot;getter&quot; for the variable for better encapsulation.\r\n\r\n    package DB;\r\n    \r\n    public class Db {\r\n    \r\n      private String[] title = new String[16];\r\n    \r\n      public String[] getTitles() {\r\n        return title;\r\n      }\r\n    \r\n      public void db_access() {\r\n         title[0] = &quot;ID&quot;;\r\n         title[1] = &quot;Name&quot;;\r\n         // etc.\r\n         // Note I do not re-declare &quot;title&quot; with &quot;String []&quot;\r\n         // this uses the existing &quot;title&quot; already declared above\r\n       }\r\n    }\r\n\r\nFrom another package, you&#39;d:\r\n\r\n    package other;\r\n    \r\n    import DB.Db;\r\n    \r\n    public class Another {\r\n      public static void main( String... args ) {\r\n        Db db = new Db();\r\n        db.access_db();\r\n        String title2 = db.getTitles()[1];  // == &quot;Name&quot;\r\n      }\r\n    }\r\n\r\n","title":"How can i call and print an array from another Package on Java?","body":"<p>You need to use an instance variable for this.  Probably you should supply a &quot;getter&quot; for the variable for better encapsulation.</p>\n<pre><code>package DB;\n\npublic class Db {\n\n  private String[] title = new String[16];\n\n  public String[] getTitles() {\n    return title;\n  }\n\n  public void db_access() {\n     title[0] = &quot;ID&quot;;\n     title[1] = &quot;Name&quot;;\n     // etc.\n     // Note I do not re-declare &quot;title&quot; with &quot;String []&quot;\n     // this uses the existing &quot;title&quot; already declared above\n   }\n}\n</code></pre>\n<p>From another package, you'd:</p>\n<pre><code>package other;\n\nimport DB.Db;\n\npublic class Another {\n  public static void main( String... args ) {\n    Db db = new Db();\n    db.access_db();\n    String title2 = db.getTitles()[1];  // == &quot;Name&quot;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20058597,"reputation":11,"user_id":14705777,"display_name":"blqck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681322788,"creation_date":1681322788,"answer_id":75998575,"question_id":75998430,"body_markdown":"db_access() is a method, You need to use an instance variable for call this\r\n\r\n    db db_v = new db();\r\n\tdb_v.db_access();\r\nif you want call only &quot;title&quot;\r\n\r\n    public String[] db_access() throws ClassNotFoundException, SQLException {\r\n\t    // Declaring variables for used by :\r\n\t    int id[] = new int[15];\r\n\t    String[] title = new String[16];\r\n\t    String genre[] = new String[16];\r\n\t    BigDecimal price[] = new BigDecimal[16];\r\n\t    return title;\r\n\t  }\r\n\t\r\n\t}\r\nand in main class\r\n\r\n    db db_v = new db();\r\n\tString title[]  = db_v.db_access();","title":"How can i call and print an array from another Package on Java?","body":"<p>db_access() is a method, You need to use an instance variable for call this</p>\n<pre><code>db db_v = new db();\ndb_v.db_access();\n</code></pre>\n<p>if you want call only &quot;title&quot;</p>\n<pre><code>public String[] db_access() throws ClassNotFoundException, SQLException {\n    // Declaring variables for used by :\n    int id[] = new int[15];\n    String[] title = new String[16];\n    String genre[] = new String[16];\n    BigDecimal price[] = new BigDecimal[16];\n    return title;\n  }\n\n}\n</code></pre>\n<p>and in main class</p>\n<pre><code>db db_v = new db();\nString title[]  = db_v.db_access();\n</code></pre>\n"}],"owner":{"account_id":19757022,"reputation":1,"user_id":14467076,"display_name":"Rizki Aswangga Adiluhur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681325167,"creation_date":1681321453,"question_id":75998430,"body_markdown":"\r\n\r\n    public void db_access() throws ClassNotFoundException, SQLException {\r\n        // Declaring variables for used by :\r\n        int id[] = new int[15];\r\n        String[] title = new String[16];\r\n        String genre[] = new String[16];\r\n        BigDecimal price[] = new BigDecimal[16];\r\n      }}\r\nthe code above is from a Package &quot;db&quot; on class &quot;db&quot;. how can i (for example) print the second array of &quot;title&quot; on a package called &quot;main&quot; and a class called &quot;start&quot; below?\r\n\r\n        public Start() {\r\n        initComponents();\r\n        db_connect();\r\n    }\r\ni have already import the package using &quot;import db.db;&quot;","title":"How can i call and print an array from another Package on Java?","body":"<pre><code>public void db_access() throws ClassNotFoundException, SQLException {\n    // Declaring variables for used by :\n    int id[] = new int[15];\n    String[] title = new String[16];\n    String genre[] = new String[16];\n    BigDecimal price[] = new BigDecimal[16];\n  }}\n</code></pre>\n<p>the code above is from a Package &quot;db&quot; on class &quot;db&quot;. how can i (for example) print the second array of &quot;title&quot; on a package called &quot;main&quot; and a class called &quot;start&quot; below?</p>\n<pre><code>    public Start() {\n    initComponents();\n    db_connect();\n}\n</code></pre>\n<p>i have already import the package using &quot;import db.db;&quot;</p>\n"},{"tags":["java","spring","docker","maven"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1681325728,"post_id":75998832,"comment_id":134039959,"body_markdown":"it fails to execute `SpringApplication.run(...)` because there&#39;s probably no spring boot in your jar. How did you build the jar? https://docs.spring.io/spring-boot/docs/3.1.x/maven-plugin/reference/htmlsingle/#packaging docs have some bits about `repackage` in there that may be needed. Would Ideally start out with a sample generated by https://start.spring.io/ - those samples have the right setup to generate a working jar if you select jar packaging. For docker there&#39;s also https://spring.io/guides/topicals/spring-boot-docker/ - if it works you don&#39;t have add files yourself as well","body":"it fails to execute <code>SpringApplication.run(...)</code> because there&#39;s probably no spring boot in your jar. How did you build the jar? <a href=\"https://docs.spring.io/spring-boot/docs/3.1.x/maven-plugin/reference/htmlsingle/#packaging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/3.1.x/maven-plugin/reference&zwnj;&#8203;/&hellip;</a> docs have some bits about <code>repackage</code> in there that may be needed. Would Ideally start out with a sample generated by <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> - those samples have the right setup to generate a working jar if you select jar packaging. For docker there&#39;s also <a href=\"https://spring.io/guides/topicals/spring-boot-docker/\" rel=\"nofollow noreferrer\">spring.io/guides/topicals/spring-boot-docker</a> - if it works you don&#39;t have add files yourself as well"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1681325979,"post_id":75998832,"comment_id":134040007,"body_markdown":"Also, using the parent `2.6.2` would try to include spring-boot 2.6.2, if you combine that with dependencies from 3.x manually (the parent contains all the recommended versions) that might not work. See generated samples, they only version it contains is the version of the parent, the rest needs no explicit version (unless you really want to use something not recommended by the parent pom)","body":"Also, using the parent <code>2.6.2</code> would try to include spring-boot 2.6.2, if you combine that with dependencies from 3.x manually (the parent contains all the recommended versions) that might not work. See generated samples, they only version it contains is the version of the parent, the rest needs no explicit version (unless you really want to use something not recommended by the parent pom)"},{"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"score":0,"creation_date":1681326022,"post_id":75998832,"comment_id":134040012,"body_markdown":"It was a project created in spring.io. I don&#39;t know much about jar building I just followed a tutorial that told me to use &quot;install&quot; option in maven, I did and .jar file was created in target","body":"It was a project created in spring.io. I don&#39;t know much about jar building I just followed a tutorial that told me to use &quot;install&quot; option in maven, I did and .jar file was created in target"}],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681325121,"creation_date":1681325121,"question_id":75998832,"body_markdown":"I&#39;m trying to create a docker container from &quot;apka:apka&quot; image using Dockerfile file in docker-compose.yml. Created container does not run in docker desktop beacuse I&#39;m getting:\r\n```\r\n21:42 Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\r\nat ZadanieRekrutacyjne.ZadanieRekrutacyjne.ZadanieRekrutacyjneApplication.main(ZadanieRekrutacyjneApplication.java:16)\r\n Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n 1 more\r\n```\r\nWhat is th problem? I&#39;ve read that it may be caused by spring boot verion not being compatibile with sone dependencies but I tried to change versions and it did nothing. Why it doesn&#39;t work?\r\n\r\nps. for some reason I had to manually add MANIFEST-INF directory with MANIFEST.FM file in it to the resource directory.\r\n\r\npom\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;ZadanieRekrutacyjne&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ZadanieRekrutacyjne&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ZadanieRekrutacyjne&lt;/name&gt;\r\n    &lt;description&gt;Plants&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.32&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;\r\n                                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                    &lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\ndockerfile\r\n```\r\nFROM openjdk:17\r\nADD target/ZadanieRekrutacyjne-0.0.1-SNAPSHOT.jar ZadanieRekrutacyjne-0.0.1-SNAPSHOT.jar\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/ZadanieRekrutacyjne-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\ndocker-compose.yml\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n  sql-test:\r\n    container_name: sql-test\r\n    image: mysql:5.7\r\n    environment:\r\n      MYSQL_DATABASE: zadanierekrutacyjne\r\n      MYSQL_USER: recruit\r\n      MYSQL_PASSWORD: recruit\r\n      MYSQL_ROOT_PASSWORD: Krzysiek123qweasd,./\r\n    volumes:\r\n      - &quot;./sql-test:/data/mysqldb&quot;\r\n    expose:\r\n      - &quot;3306&quot;\r\n    ports:\r\n      - &quot;3307:3306&quot;\r\n    #    command: -p 3306\r\n    restart: always\r\n\r\n\r\n  apka:\r\n    container_name: apka\r\n    image: apka:apka\r\n    build: .\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    environment:\r\n      - spring.profiles.active=\r\n    depends_on:\r\n      - sql-test\r\n```\r\n\r\nmain class\r\n\r\n```\r\npackage ZadanieRekrutacyjne.ZadanieRekrutacyjne;\r\n\r\nimport ZadanieRekrutacyjne.ZadanieRekrutacyjne.Security.Security;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.Import;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EntityScan(&quot;ZadanieRekrutacyjne.ZadanieRekrutacyjne.Entity&quot;)\r\n@EnableJpaRepositories(&quot;ZadanieRekrutacyjne.ZadanieRekrutacyjne.Repositories&quot;)\r\n@Import(Security.class)\r\npublic class ZadanieRekrutacyjneApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ZadanieRekrutacyjneApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nmanifest.fm\r\n\r\n```\r\nManifest-Version: 1.0\r\nBuild-Jdk: 17.0.5\r\nMain-Class: ZadanieRekrutacyjne.ZadanieRekrutacyjne.ZadanieRekrutacyjneApplication\r\n\r\n```\r\n\r\napplication.properties\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\n#spring.datasource.url=jdbc:mysql://127.0.0.1:3306/zadanierekrutacyjne\r\nspring.datasource.url=jdbc:mysql://host.docker.internal:3307/zadanierekrutacyjne?useSSL=false&amp;serverTimezone=UTC&amp;useLegacyDatetimeCode=false\r\nspring.datasource.username=recruit\r\nspring.datasource.password=recruit\r\n#spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\n```\r\n\r\n\r\npath to class with main method:\r\nZadanieRekrutacyjne.ZadanieRekrutacyjne.ZadanieRekrutacyjneApplication","title":"Getting: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError, can&#39;t find main method","body":"<p>I'm trying to create a docker container from &quot;apka:apka&quot; image using Dockerfile file in docker-compose.yml. Created container does not run in docker desktop beacuse I'm getting:</p>\n<pre><code>21:42 Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\nat ZadanieRekrutacyjne.ZadanieRekrutacyjne.ZadanieRekrutacyjneApplication.main(ZadanieRekrutacyjneApplication.java:16)\n Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n 1 more\n</code></pre>\n<p>What is th problem? I've read that it may be caused by spring boot verion not being compatibile with sone dependencies but I tried to change versions and it did nothing. Why it doesn't work?</p>\n<p>ps. for some reason I had to manually add MANIFEST-INF directory with MANIFEST.FM file in it to the resource directory.</p>\n<p>pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;ZadanieRekrutacyjne&lt;/groupId&gt;\n    &lt;artifactId&gt;ZadanieRekrutacyjne&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ZadanieRekrutacyjne&lt;/name&gt;\n    &lt;description&gt;Plants&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;configuration&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;\n                                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                    &lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>dockerfile</p>\n<pre><code>FROM openjdk:17\nADD target/ZadanieRekrutacyjne-0.0.1-SNAPSHOT.jar ZadanieRekrutacyjne-0.0.1-SNAPSHOT.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/ZadanieRekrutacyjne-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: '3.8'\n\nservices:\n  sql-test:\n    container_name: sql-test\n    image: mysql:5.7\n    environment:\n      MYSQL_DATABASE: zadanierekrutacyjne\n      MYSQL_USER: recruit\n      MYSQL_PASSWORD: recruit\n      MYSQL_ROOT_PASSWORD: Krzysiek123qweasd,./\n    volumes:\n      - &quot;./sql-test:/data/mysqldb&quot;\n    expose:\n      - &quot;3306&quot;\n    ports:\n      - &quot;3307:3306&quot;\n    #    command: -p 3306\n    restart: always\n\n\n  apka:\n    container_name: apka\n    image: apka:apka\n    build: .\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      - spring.profiles.active=\n    depends_on:\n      - sql-test\n</code></pre>\n<p>main class</p>\n<pre><code>package ZadanieRekrutacyjne.ZadanieRekrutacyjne;\n\nimport ZadanieRekrutacyjne.ZadanieRekrutacyjne.Security.Security;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EntityScan(&quot;ZadanieRekrutacyjne.ZadanieRekrutacyjne.Entity&quot;)\n@EnableJpaRepositories(&quot;ZadanieRekrutacyjne.ZadanieRekrutacyjne.Repositories&quot;)\n@Import(Security.class)\npublic class ZadanieRekrutacyjneApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ZadanieRekrutacyjneApplication.class, args);\n    }\n}\n</code></pre>\n<p>manifest.fm</p>\n<pre><code>Manifest-Version: 1.0\nBuild-Jdk: 17.0.5\nMain-Class: ZadanieRekrutacyjne.ZadanieRekrutacyjne.ZadanieRekrutacyjneApplication\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n#spring.datasource.url=jdbc:mysql://127.0.0.1:3306/zadanierekrutacyjne\nspring.datasource.url=jdbc:mysql://host.docker.internal:3307/zadanierekrutacyjne?useSSL=false&amp;serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.datasource.username=recruit\nspring.datasource.password=recruit\n#spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p>path to class with main method:\nZadanieRekrutacyjne.ZadanieRekrutacyjne.ZadanieRekrutacyjneApplication</p>\n"},{"tags":["java","mysql","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1681296875,"post_id":75993361,"comment_id":134032760,"body_markdown":"Your `docker-compose.yml` file only includes the database.  Are you also running the application in Docker, or directly on the host?  (This is unfortunately almost certainly a duplicate, these sorts of connectivity questions get asked daily if not more.)","body":"Your <code>docker-compose.yml</code> file only includes the database.  Are you also running the application in Docker, or directly on the host?  (This is unfortunately almost certainly a duplicate, these sorts of connectivity questions get asked daily if not more.)"},{"owner":{"account_id":7463612,"reputation":344,"user_id":5674061,"accept_rate":100,"display_name":"Eddy"},"score":0,"creation_date":1681298934,"post_id":75993361,"comment_id":134033189,"body_markdown":"@DavidMaze on docker","body":"@DavidMaze on docker"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1681305352,"post_id":75993361,"comment_id":134034766,"body_markdown":"How are you launching that container?","body":"How are you launching that container?"},{"owner":{"account_id":7463612,"reputation":344,"user_id":5674061,"accept_rate":100,"display_name":"Eddy"},"score":0,"creation_date":1681310412,"post_id":75993361,"comment_id":134036247,"body_markdown":"docker-compose up","body":"docker-compose up"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681297085,"creation_date":1681297085,"answer_id":75994666,"question_id":75993361,"body_markdown":"First, remove the whole network configuration, it&#39;s unnecessary:\r\n```yaml\r\nversion: &quot;3.8&quot;\r\n\r\nservices:\r\n  mysql-db:\r\n    image: mysql\r\n    container_name: mysqldb\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: root\r\n      MYSQL_DATABASE: employeedb\r\n      MYSQL_HOST: mysql-db\r\n      MYSQL_PORT: 3306\r\n```\r\n\r\nYou should use the container name `mysqldb` as hostname if your Spring Boot application is started with Docker Compose as well:\r\n```yaml\r\nspring:\r\n datasource:\r\n  url: jdbc:mysql://mysqldb:3306/employeedb\r\n```\r\n\r\nThe [documentation][1] states:\r\n&gt; By default Compose sets up a single network for your app. Each container for a service joins the default network and is both reachable by other containers on that network, and discoverable by them at a hostname identical to the container name.\r\n\r\nIf you start your Spring Boot app from your IDE, you need to use localhost as hostname because the app won&#39;t be in the same network as the Docker container and won&#39;t therefore not be able to resolve the hostname `mysqldb`:\r\n```yaml\r\nspring:\r\n datasource:\r\n  url: jdbc:mysql://localhost:3306/employeedb\r\n```\r\n\r\n  [1]: https://docs.docker.com/compose/networking/","title":"Communication Link Failure after Running MySQL and Spring Application in Docker","body":"<p>First, remove the whole network configuration, it's unnecessary:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3.8&quot;\n\nservices:\n  mysql-db:\n    image: mysql\n    container_name: mysqldb\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: employeedb\n      MYSQL_HOST: mysql-db\n      MYSQL_PORT: 3306\n</code></pre>\n<p>You should use the container name <code>mysqldb</code> as hostname if your Spring Boot application is started with Docker Compose as well:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n datasource:\n  url: jdbc:mysql://mysqldb:3306/employeedb\n</code></pre>\n<p>The <a href=\"https://docs.docker.com/compose/networking/\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n<blockquote>\n<p>By default Compose sets up a single network for your app. Each container for a service joins the default network and is both reachable by other containers on that network, and discoverable by them at a hostname identical to the container name.</p>\n</blockquote>\n<p>If you start your Spring Boot app from your IDE, you need to use localhost as hostname because the app won't be in the same network as the Docker container and won't therefore not be able to resolve the hostname <code>mysqldb</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n datasource:\n  url: jdbc:mysql://localhost:3306/employeedb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7463612,"reputation":344,"user_id":5674061,"accept_rate":100,"display_name":"Eddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681324938,"creation_date":1681298367,"answer_id":75994859,"question_id":75993361,"body_markdown":"There was something wrong with mysql container I guess it was not starting properly.\r\n\r\nSo I added HealthCheck in docker compose and now after i run `docker-compose up` the mysql container starts and after that it stops for few second. After few seconds my spring application starts working without giving me error : Communication Link Failure.\r\n\r\nEDIT:\r\n\r\nUsually whats happening is that until MySQL container is not in healthy state it will re-run it as many times which is given in docker-compose yaml file. And when the container is healthy it executes Spring Application container.\r\n\r\nBelow is my docker-compose.yml file,\r\n\r\n        version: &quot;3.8&quot;\r\n    \r\n    services:\r\n      spring-scon:\r\n        container_name: scon\r\n        build:\r\n          context: ./\r\n          dockerfile: Dockerfile\r\n        ports:\r\n          - 9090:8080\r\n        depends_on: \r\n          mysqldb:\r\n            condition: service_healthy\r\n        networks:\r\n          - spring-network\r\n        restart: always\r\n    \r\n      mysqldb:\r\n        image: mysql\r\n        container_name: mysql\r\n    \r\n        environment:\r\n          MYSQL_ROOT_PASSWORD: root\r\n          MYSQL_DATABASE: employeedb\r\n          MYSQL_HOST: mysqldb\r\n          MYSQL_PORT: 3306\r\n    \r\n        ports:\r\n          - &quot;127.0.1.1:3306:3306&quot;\r\n    \r\n    \r\n        healthcheck:\r\n          test: [&quot;CMD-SHELL&quot;, &#39;mysqladmin ping&#39;]\r\n          interval: 10s\r\n          timeout: 2s\r\n          retries: 10\r\n    \r\n    \r\n        volumes:\r\n          - dbdata:/usr/app\r\n    \r\n        networks:\r\n         - spring-network\r\n    \r\n    volumes:\r\n      dbdata:\r\n        external: true\r\n    \r\n    networks:\r\n      spring-network:\r\n        driver: bridge\r\n\r\nHere, I don&#39;t know about IP &quot;127.0.1.1&quot; but I read somewhere we can configure port number with IP like I did in my docker-compose.yml. If someone knows what that IP means please explain it.\r\n\r\nI use that IP to connect Dockerized MySQL Server with my local MySQL Workbench.\r\n\r\nThanks Once Again.","title":"Communication Link Failure after Running MySQL and Spring Application in Docker","body":"<p>There was something wrong with mysql container I guess it was not starting properly.</p>\n<p>So I added HealthCheck in docker compose and now after i run <code>docker-compose up</code> the mysql container starts and after that it stops for few second. After few seconds my spring application starts working without giving me error : Communication Link Failure.</p>\n<p>EDIT:</p>\n<p>Usually whats happening is that until MySQL container is not in healthy state it will re-run it as many times which is given in docker-compose yaml file. And when the container is healthy it executes Spring Application container.</p>\n<p>Below is my docker-compose.yml file,</p>\n<pre><code>    version: &quot;3.8&quot;\n\nservices:\n  spring-scon:\n    container_name: scon\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    ports:\n      - 9090:8080\n    depends_on: \n      mysqldb:\n        condition: service_healthy\n    networks:\n      - spring-network\n    restart: always\n\n  mysqldb:\n    image: mysql\n    container_name: mysql\n\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: employeedb\n      MYSQL_HOST: mysqldb\n      MYSQL_PORT: 3306\n\n    ports:\n      - &quot;127.0.1.1:3306:3306&quot;\n\n\n    healthcheck:\n      test: [&quot;CMD-SHELL&quot;, 'mysqladmin ping']\n      interval: 10s\n      timeout: 2s\n      retries: 10\n\n\n    volumes:\n      - dbdata:/usr/app\n\n    networks:\n     - spring-network\n\nvolumes:\n  dbdata:\n    external: true\n\nnetworks:\n  spring-network:\n    driver: bridge\n</code></pre>\n<p>Here, I don't know about IP &quot;127.0.1.1&quot; but I read somewhere we can configure port number with IP like I did in my docker-compose.yml. If someone knows what that IP means please explain it.</p>\n<p>I use that IP to connect Dockerized MySQL Server with my local MySQL Workbench.</p>\n<p>Thanks Once Again.</p>\n"}],"owner":{"account_id":7463612,"reputation":344,"user_id":5674061,"accept_rate":100,"display_name":"Eddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75994859,"answer_count":2,"score":0,"last_activity_date":1681324938,"creation_date":1681287756,"question_id":75993361,"body_markdown":"I&#39;m trying to run my spring boot application on docker with mysql.\r\nEverything is working fine, MySQL DB starts successfully and after that spring application is deployed in container and I end up getting this error :\r\n\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThis is my docker compose yaml file content:\r\n\r\n    version: &quot;3.8&quot;\r\n\r\n    services:\r\n      mysql-db:\r\n        image: mysql\r\n        container_name: mysqldb\r\n        environment:\r\n          MYSQL_ROOT_PASSWORD: root\r\n          MYSQL_DATABASE: employeedb\r\n          MYSQL_HOST: mysql-db\r\n          MYSQL_PORT: 3306\r\n        networks:\r\n          - mt-network\r\n\r\n    networks:\r\n      mt-network:\r\n        driver: bridge\r\n\r\nAnd my application-properties.yml file content:\r\n\r\n    spring:\r\n     datasource:\r\n      password: root\r\n      url: jdbc:mysql://mysql-db:3306/employeedb\r\n      username: root\r\n      driver-class-name: com.mysql.cj.jdbc.Driver\r\n     jpa:\r\n      hibernate:\r\n       ddl-auto: update\r\n\r\nI tried all ways to fix this but I&#39;m still facing this issue. Please don&#39;t put this question as Duplicate Question.\r\n\r\nThank you in advance.\r\n      ","title":"Communication Link Failure after Running MySQL and Spring Application in Docker","body":"<p>I'm trying to run my spring boot application on docker with mysql.\nEverything is working fine, MySQL DB starts successfully and after that spring application is deployed in container and I end up getting this error :</p>\n<p>Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure</p>\n<p>This is my docker compose yaml file content:</p>\n<pre><code>version: &quot;3.8&quot;\n\nservices:\n  mysql-db:\n    image: mysql\n    container_name: mysqldb\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: employeedb\n      MYSQL_HOST: mysql-db\n      MYSQL_PORT: 3306\n    networks:\n      - mt-network\n\nnetworks:\n  mt-network:\n    driver: bridge\n</code></pre>\n<p>And my application-properties.yml file content:</p>\n<pre><code>spring:\n datasource:\n  password: root\n  url: jdbc:mysql://mysql-db:3306/employeedb\n  username: root\n  driver-class-name: com.mysql.cj.jdbc.Driver\n jpa:\n  hibernate:\n   ddl-auto: update\n</code></pre>\n<p>I tried all ways to fix this but I'm still facing this issue. Please don't put this question as Duplicate Question.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","multithreading","asynchronous","completable-future"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681324871,"creation_date":1681324871,"answer_id":75998805,"question_id":75998718,"body_markdown":"This code kicks off background tasks for both sets so they are in progress at same time:\r\n\r\n    CompletableFuture&lt;Void&gt; firstFuture = getFuture(firstSet);\r\n    CompletableFuture&lt;Void&gt; secondFuture = getFuture(secondSet);\r\n\r\nAn easy way to ensure first / second order just switch these lines to:\r\n\r\n    CompletableFuture&lt;Void&gt; firstFuture = getFuture(firstSet);\r\n    firstFuture.join();\r\n\r\n    CompletableFuture&lt;Void&gt; secondFuture = getFuture(secondSet);\r\n    secondFuture.join();","title":"CompletableFuture join() doesn&#39;t seem to wait for completion","body":"<p>This code kicks off background tasks for both sets so they are in progress at same time:</p>\n<pre><code>CompletableFuture&lt;Void&gt; firstFuture = getFuture(firstSet);\nCompletableFuture&lt;Void&gt; secondFuture = getFuture(secondSet);\n</code></pre>\n<p>An easy way to ensure first / second order just switch these lines to:</p>\n<pre><code>CompletableFuture&lt;Void&gt; firstFuture = getFuture(firstSet);\nfirstFuture.join();\n\nCompletableFuture&lt;Void&gt; secondFuture = getFuture(secondSet);\nsecondFuture.join();\n</code></pre>\n"}],"owner":{"account_id":7176688,"reputation":681,"user_id":5482356,"accept_rate":41,"display_name":"user313"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75998805,"answer_count":1,"score":0,"last_activity_date":1681324871,"creation_date":1681324118,"question_id":75998718,"body_markdown":"I am facing an issue where I am executing two CompletableFuture objects sequentially. My intent is for the first one to complete, and only after that to begin executing the second one. So in other words, the second is dependent on completion of the first. \r\n\r\nI cannot share the exact code, but here is a simplified version of what I&#39;m doing:\r\n```\r\npublic static void main() {\r\n    Set&lt;Object&gt; firstSet = /* ... */\r\n    Set&lt;Object&gt; secondSet = /* ... */\r\n\r\n    CompletableFuture&lt;Void&gt; firstFuture = getFuture(firstSet);\r\n    CompletableFuture&lt;Void&gt; secondFuture = getFuture(secondSet);\r\n\r\n    // Want to ensure that secondFuture does not begin executing until \r\n    // all of the futures in firstFuture have completed \r\n    firstFuture.join();\r\n    secondFuture.join();\r\n}\r\n\r\nCompletableFuture&lt;Void&gt; getFuture(Set&lt;Object&gt; listOfObjects) {\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = listOfObjects\r\n    .stream()\r\n    .map(object -&gt; CompletableFuture.runAsync(getRunnableForObject(object), executorService))\r\n    .collect(Collectors.toList());\r\n\r\n    CompletableFuture&lt;Void&gt; future = CompletableFuture.allOf(futures.toArray(new CompletableFuture[futures.size()]));\r\n    return future;\r\n}\r\n\r\nRunnable getRunnableForObject(Object obj) {\r\n   // assume this returns a custom runnable whose execution behavior depend on the object parameter\r\n}\r\n```\r\n\r\nWhen running the code, I see that sometimes logs printed during execution of firstFuture.join() have a timestamp that is later than some logs printed during secondFuture.join(). My expectation is that we should never see any logs printed during secondFuture come before any logs printed during firstFuture.\r\n\r\nI thought firstFuture.join() ensures the future completes in its entirety before synchronously moving onto secondFuture.join(), but maybe I am understanding wrong. Can anyone advise?","title":"CompletableFuture join() doesn&#39;t seem to wait for completion","body":"<p>I am facing an issue where I am executing two CompletableFuture objects sequentially. My intent is for the first one to complete, and only after that to begin executing the second one. So in other words, the second is dependent on completion of the first.</p>\n<p>I cannot share the exact code, but here is a simplified version of what I'm doing:</p>\n<pre><code>public static void main() {\n    Set&lt;Object&gt; firstSet = /* ... */\n    Set&lt;Object&gt; secondSet = /* ... */\n\n    CompletableFuture&lt;Void&gt; firstFuture = getFuture(firstSet);\n    CompletableFuture&lt;Void&gt; secondFuture = getFuture(secondSet);\n\n    // Want to ensure that secondFuture does not begin executing until \n    // all of the futures in firstFuture have completed \n    firstFuture.join();\n    secondFuture.join();\n}\n\nCompletableFuture&lt;Void&gt; getFuture(Set&lt;Object&gt; listOfObjects) {\n\n    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = listOfObjects\n    .stream()\n    .map(object -&gt; CompletableFuture.runAsync(getRunnableForObject(object), executorService))\n    .collect(Collectors.toList());\n\n    CompletableFuture&lt;Void&gt; future = CompletableFuture.allOf(futures.toArray(new CompletableFuture[futures.size()]));\n    return future;\n}\n\nRunnable getRunnableForObject(Object obj) {\n   // assume this returns a custom runnable whose execution behavior depend on the object parameter\n}\n</code></pre>\n<p>When running the code, I see that sometimes logs printed during execution of firstFuture.join() have a timestamp that is later than some logs printed during secondFuture.join(). My expectation is that we should never see any logs printed during secondFuture come before any logs printed during firstFuture.</p>\n<p>I thought firstFuture.join() ensures the future completes in its entirety before synchronously moving onto secondFuture.join(), but maybe I am understanding wrong. Can anyone advise?</p>\n"},{"tags":["java","xml","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1624280940,"post_id":68067997,"comment_id":120307968,"body_markdown":"What happens if you add `th:` to the `value` attribute: `th:value=&quot;${argument}&quot;`? Also, does your template have that extra `&quot;` at the end, after the final `&gt;`, as shown in the question, or is that just a copy/paste issue?","body":"What happens if you add <code>th:</code> to the <code>value</code> attribute: <code>th:value=&quot;${argument}&quot;</code>? Also, does your template have that extra <code>&quot;</code> at the end, after the final <code>&gt;</code>, as shown in the question, or is that just a copy/paste issue?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1624280944,"post_id":68067997,"comment_id":120307969,"body_markdown":"See also the note in [this section](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#a-multi-language-welcome) of the guide about adding a namespace to your template: `xmlns:th=&quot;http://www.thymeleaf.org&quot;` - which &quot;_works as an incantation_&quot;.","body":"See also the note in <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#a-multi-language-welcome\" rel=\"nofollow noreferrer\">this section</a> of the guide about adding a namespace to your template: <code>xmlns:th=&quot;http:&#47;&#47;www.thymeleaf.org&quot;</code> - which &quot;<i>works as an incantation</i>&quot;."},{"owner":{"account_id":15769506,"reputation":15,"user_id":11378948,"display_name":"clmnt_sg"},"score":0,"creation_date":1624281750,"post_id":68067997,"comment_id":120308354,"body_markdown":"@andrewjames The &quot;th:&quot; did the trick! Thank you so much!","body":"@andrewjames The &quot;th:&quot; did the trick! Thank you so much!"}],"answers":[{"tags":[],"owner":{"account_id":18318561,"reputation":86,"user_id":13339836,"display_name":"Khaled Algelowb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681324671,"creation_date":1681324671,"answer_id":75998785,"question_id":68067997,"body_markdown":"works for me when I change the template mode to TEXT\r\n\r\n    resolver.setTemplateMode(TemplateMode.TEXT);","title":"Thymeleaf not replacing variable for XML template","body":"<p>works for me when I change the template mode to TEXT</p>\n<pre><code>resolver.setTemplateMode(TemplateMode.TEXT);\n</code></pre>\n"}],"owner":{"account_id":15769506,"reputation":15,"user_id":11378948,"display_name":"clmnt_sg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681324671,"creation_date":1624278704,"question_id":68067997,"body_markdown":"This is the first time I&#39;m using Thymeleaf, I want to replace variables in an XML template and return the content as a String. I am able to load the template, but Thymeleaf does not replace variables.\r\nHere is an example of a variable: \r\n```&lt;arc:set attr=&quot;CountryCode&quot; value=&quot;${argument}&quot;/&gt;&quot;```\r\n\r\nAnd here is the Java part:\r\n```\r\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n        resolver.setApplicationContext(new AnnotationConfigApplicationContext());\r\n        resolver.setPrefix(&quot;templates/&quot;);\r\n        resolver.setSuffix(&quot;.xml&quot;);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        resolver.setTemplateMode(TemplateMode.XML);\r\n\r\n        SpringTemplateEngine engine = new SpringTemplateEngine();\r\n        engine.setTemplateResolver(resolver);\r\n\r\n        Context ctx = new Context();\r\n        ctx.setVariable(&quot;argument&quot;, &quot;fr&quot;);\r\n        String xml = engine.process(&quot;Checker&quot;, ctx);\r\n```\r\nThe variable is not replaced if I print the content of &quot;xml&quot;. I tried to surround the variable with [[]] but it did not work.\r\nAm I missing something here?\r\n\r\nThanks!","title":"Thymeleaf not replacing variable for XML template","body":"<p>This is the first time I'm using Thymeleaf, I want to replace variables in an XML template and return the content as a String. I am able to load the template, but Thymeleaf does not replace variables.\nHere is an example of a variable:\n<code>&lt;arc:set attr=&quot;CountryCode&quot; value=&quot;${argument}&quot;/&gt;&quot;</code></p>\n<p>And here is the Java part:</p>\n<pre><code>        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setApplicationContext(new AnnotationConfigApplicationContext());\n        resolver.setPrefix(&quot;templates/&quot;);\n        resolver.setSuffix(&quot;.xml&quot;);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setTemplateMode(TemplateMode.XML);\n\n        SpringTemplateEngine engine = new SpringTemplateEngine();\n        engine.setTemplateResolver(resolver);\n\n        Context ctx = new Context();\n        ctx.setVariable(&quot;argument&quot;, &quot;fr&quot;);\n        String xml = engine.process(&quot;Checker&quot;, ctx);\n</code></pre>\n<p>The variable is not replaced if I print the content of &quot;xml&quot;. I tried to surround the variable with [[]] but it did not work.\nAm I missing something here?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681322839,"post_id":75997252,"comment_id":134039352,"body_markdown":"You must upgrade **all** Spring dependencies **never** mix jars from different versions of a framework, that is trouble waiting to happen and hardly will ever work. This does not only apply to your Spring dependencies but your Hibernate dependencies as well.","body":"You must upgrade <b>all</b> Spring dependencies <b>never</b> mix jars from different versions of a framework, that is trouble waiting to happen and hardly will ever work. This does not only apply to your Spring dependencies but your Hibernate dependencies as well."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681324377,"creation_date":1681324377,"answer_id":75998756,"question_id":75997252,"body_markdown":"1. Never mix jars from different versions of a framework be it Spring, Hibernate or something else.\r\n2. Spring Framework and Spring Security have different versioning schemes and release cadances don&#39;t match those version numbers\r\n3. Use the springframework bom to manage the dependencies. \r\n\r\nWith that in mind cleanup your dependencies\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.name&lt;/groupId&gt;\r\n    &lt;artifactId&gt;app-parent&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;app Parent&lt;/name&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;..\\app&lt;/module&gt;\r\n        &lt;module&gt;..\\app-application&lt;/module&gt;     \r\n    &lt;/modules&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;inherited&gt;true&lt;/inherited&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                        &lt;forkMode&gt;once&lt;/forkMode&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;**/*DbUnitTest.java&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.13.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                        &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\r\n                        &lt;aspectLibraries&gt;\r\n                            &lt;aspectLibrary&gt;\r\n                                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                            &lt;/aspectLibrary&gt;\r\n                        &lt;/aspectLibraries&gt;\r\n                        &lt;aspectDirectory&gt;src/main/java&lt;/aspectDirectory&gt;\r\n                        &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sql-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;!-- The oracle JDBC driver --&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\r\n                        &lt;url&gt;jdbc:oracle:thin:@localhost:1521:NGC&lt;/url&gt;\r\n                        &lt;username&gt;ngc_user&lt;/username&gt;\r\n                        &lt;password&gt;ngc&lt;/password&gt;\r\n                        &lt;onError&gt;continue&lt;/onError&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;!-- The oracle JDBC driver --&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test-jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.1&lt;/version&gt; \r\n                &lt;configuration&gt;\r\n                    &lt;dependencyLocationsEnabled&gt;false&lt;/dependencyLocationsEnabled&gt;\r\n                    &lt;dependencyDetailsEnabled&gt;false&lt;/dependencyDetailsEnabled&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.20.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.13.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;        \r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;       \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- could only update this to 1.8 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.17.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- upgraded to 5.6.15 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.17.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.21.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.17.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;     \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.directwebremoting&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dwr&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n            &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;c3p0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.15&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- only able to update to 4.0.0 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0.10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n              &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\r\n              &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nNot sure if this works but at least has proper Spring and Spring Security versions. For other versions I did some checking in the Spring sources. \r\n\r\nHowever instead of jumping from 3.0.x to 5.1.x (although I would suggest to go to 5.3). I would suggest to take small steps. Go from 3.0 -&gt; 3.1 -&gt; 3.2 etc. That way the changes you need to make are small. Now you are jumping ahead 8 (at least) versions with all the differences and some dropped support for frameworks or certain library versions. Now when things start to break it can be a lot of things instead of a small change.  \r\n\r\nSo keep things small and managable. I wrote about that a couple of years ago on [my blog][1].  \r\n\r\n[1]: https://deinum.biz/2019-06-21-Upgrade-Spring-Framework-In-Existing-Application/","title":"Error configuring application listener of class [org.springframework.web.context.ContextLoaderListener]","body":"<ol>\n<li>Never mix jars from different versions of a framework be it Spring, Hibernate or something else.</li>\n<li>Spring Framework and Spring Security have different versioning schemes and release cadances don't match those version numbers</li>\n<li>Use the springframework bom to manage the dependencies.</li>\n</ol>\n<p>With that in mind cleanup your dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.name&lt;/groupId&gt;\n    &lt;artifactId&gt;app-parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;app Parent&lt;/name&gt;\n    &lt;modules&gt;\n        &lt;module&gt;..\\app&lt;/module&gt;\n        &lt;module&gt;..\\app-application&lt;/module&gt;     \n    &lt;/modules&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;11&lt;/source&gt;\n                        &lt;target&gt;11&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;inherited&gt;true&lt;/inherited&gt;\n                    &lt;configuration&gt;\n                        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                        &lt;forkMode&gt;once&lt;/forkMode&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;**/*DbUnitTest.java&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.13.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;11&lt;/source&gt;\n                        &lt;target&gt;11&lt;/target&gt;\n                        &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\n                        &lt;aspectLibraries&gt;\n                            &lt;aspectLibrary&gt;\n                                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                            &lt;/aspectLibrary&gt;\n                        &lt;/aspectLibraries&gt;\n                        &lt;aspectDirectory&gt;src/main/java&lt;/aspectDirectory&gt;\n                        &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;sql-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.4&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;!-- The oracle JDBC driver --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                    &lt;configuration&gt;\n                        &lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\n                        &lt;url&gt;jdbc:oracle:thin:@localhost:1521:NGC&lt;/url&gt;\n                        &lt;username&gt;ngc_user&lt;/username&gt;\n                        &lt;password&gt;ngc&lt;/password&gt;\n                        &lt;onError&gt;continue&lt;/onError&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.4&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;!-- The oracle JDBC driver --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test-jar&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1.1&lt;/version&gt; \n                &lt;configuration&gt;\n                    &lt;dependencyLocationsEnabled&gt;false&lt;/dependencyLocationsEnabled&gt;\n                    &lt;dependencyDetailsEnabled&gt;false&lt;/dependencyDetailsEnabled&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.1.20.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-bom&lt;/artifactId&gt;\n                &lt;version&gt;5.1.13.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;        \n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- could only update this to 1.8 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.1.17.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- upgraded to 5.6.15 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n            &lt;version&gt;5.1.17.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.21.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.1.17.Final&lt;/version&gt;\n        &lt;/dependency&gt;     \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.12.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.directwebremoting&lt;/groupId&gt;\n            &lt;artifactId&gt;dwr&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n            &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n            &lt;version&gt;2.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n            &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\n            &lt;version&gt;3.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;c3p0&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;1.9.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- only able to update to 4.0.0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n              &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\n              &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\n              &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Not sure if this works but at least has proper Spring and Spring Security versions. For other versions I did some checking in the Spring sources.</p>\n<p>However instead of jumping from 3.0.x to 5.1.x (although I would suggest to go to 5.3). I would suggest to take small steps. Go from 3.0 -&gt; 3.1 -&gt; 3.2 etc. That way the changes you need to make are small. Now you are jumping ahead 8 (at least) versions with all the differences and some dropped support for frameworks or certain library versions. Now when things start to break it can be a lot of things instead of a small change.</p>\n<p>So keep things small and managable. I wrote about that a couple of years ago on <a href=\"https://deinum.biz/2019-06-21-Upgrade-Spring-Framework-In-Existing-Application/\" rel=\"nofollow noreferrer\">my blog</a>.</p>\n"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75998756,"answer_count":1,"score":0,"last_activity_date":1681324377,"creation_date":1681313111,"question_id":75997252,"body_markdown":"**Upgrading to spring 5 from spring 3**\r\n\r\nI am currently trying to upgrade a systems tech stack. I have made the jump from java 8 to java 11 and now trying to upgrade spring. I have set the spring version to 5.1... in my pom and it builds successfully but i am hit with the error noted below when running on tomcat. \r\n\r\nTomcat version: 9\r\n\r\nJava version: 11\r\n\r\nSpring version: 5\r\n\r\nHere is the full error below.\r\n\r\n```\r\n12-Apr-2023 14:42:12.514 SEVERE [main] org.apache.catalina.core.StandardContext.listenerStart Error configuring application listener of class [org.springframework.web.context.ContextLoaderListener]\r\n\tjava.lang.NoClassDefFoundError: Lorg/springframework/beans/factory/access/BeanFactoryReference;\r\n\t\tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n\t\tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3061)\r\n\t\tat java.base/java.lang.Class.getDeclaredFields(Class.java:2248)\r\n\t\tat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\r\n\t\tat org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:397)\r\n\t\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:172)\r\n\t\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:150)\r\n\t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4691)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\tCaused by: java.lang.ClassNotFoundException: org.springframework.beans.factory.access.BeanFactoryReference\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t\t... 48 more\r\n12-Apr-2023 14:42:12.690 SEVERE [main] org.apache.catalina.core.StandardContext.listenerStart Skipped installing application listeners due to previous error(s)\r\n```\r\n\r\nHere is my pom file. The only spring dependency i have upgraded so far is spring-context. If i try any others, it does not build. \r\n\r\nignore the cant upgrade comments - i was trying to get all the dependencies to the max version before upgrading to java 11. \r\n\r\n\r\n``` \r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.name&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;app-parent&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;app Parent&lt;/name&gt;\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;..\\app&lt;/module&gt;\r\n\t\t&lt;module&gt;..\\app-application&lt;/module&gt;\t\t\r\n\t&lt;/modules&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t\t&lt;forkMode&gt;once&lt;/forkMode&gt;\r\n\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;**/*DbUnitTest.java&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t\t\t&lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\r\n\t\t\t\t\t\t&lt;aspectLibraries&gt;\r\n\t\t\t\t\t\t\t&lt;aspectLibrary&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;/aspectLibrary&gt;\r\n\t\t\t\t\t\t&lt;/aspectLibraries&gt;\r\n\t\t\t\t\t\t&lt;aspectDirectory&gt;src/main/java&lt;/aspectDirectory&gt;\r\n\t\t\t\t\t\t&lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;sql-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t&lt;!-- The oracle JDBC driver --&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;12.2.0.1&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\r\n\t\t\t\t\t\t&lt;url&gt;jdbc:oracle:thin:@localhost:1521:NGC&lt;/url&gt;\r\n\t\t\t\t\t\t&lt;username&gt;ngc_user&lt;/username&gt;\r\n\t\t\t\t\t\t&lt;password&gt;ngc&lt;/password&gt;\r\n\t\t\t\t\t\t&lt;onError&gt;continue&lt;/onError&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;!-- The oracle JDBC driver --&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;test-jar&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;reporting&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.1.1&lt;/version&gt; \r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;dependencyLocationsEnabled&gt;false&lt;/dependencyLocationsEnabled&gt;\r\n\t\t\t\t\t&lt;dependencyDetailsEnabled&gt;false&lt;/dependencyDetailsEnabled&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/reporting&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- cant upgrade this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- cant upgrade this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant upgrade this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant upgrade this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant upgrade this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant upgrade this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant upgrade this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- upgraded to 4.0.0 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- could only update this to 1.8 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-cglib-repack&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1_3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;  \r\n\t\t&lt;!-- upgraded to 5.6.15 --&gt;\r\n\t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- upgraded to 6.0.0 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- upgraded to 5.0.0 --&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;     \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;     \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.directwebremoting&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dwr&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ognl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ognl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;c3p0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t    &lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;12.2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;!-- only able to update to 4.0.0 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  \t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n\t\t  \t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n\t\t  \t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.0.10&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWeb.xml \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app version=&quot;2.5&quot; \r\n\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \r\n\thttp://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n  \r\n\t&lt;!--  Spring context --&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\tclasspath*:/com/name/**/*-config.xml\r\n\t\t\t/WEB-INF/spring/**/*-config.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n\t&lt;!-- Spring security --&gt;\r\n\t&lt;listener&gt;\r\n     \t&lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\r\n \t&lt;/listener&gt;\r\n\t&lt;filter&gt;\r\n\t  \t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t  \t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\t  \r\n\t&lt;filter-mapping&gt;\r\n\t  \t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t  \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt; \r\n\t\r\n\t&lt;!-- Spring servlets --&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;public&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/public-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;public&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/public/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/spring/secure-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/secure/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\t\r\n\r\n\t&lt;!-- Other tomcat options --&gt;\r\n\t&lt;welcome-file-list&gt;\r\n\t\t&lt;welcome-file&gt;/index.jsp&lt;/welcome-file&gt;\r\n\t&lt;/welcome-file-list&gt;\r\n\t\r\n\t&lt;error-page&gt;\r\n\t\t&lt;error-code&gt;500&lt;/error-code&gt;\r\n\t\t&lt;location&gt;/public/error&lt;/location&gt;\r\n\t&lt;/error-page&gt;\r\n\t\r\n\t&lt;error-page&gt;\r\n\t\t&lt;error-code&gt;403&lt;/error-code&gt;\r\n\t\t&lt;location&gt;/public/forbidden&lt;/location&gt;\r\n\t&lt;/error-page&gt;\r\n\t\r\n\t&lt;error-page&gt;\r\n\t\t&lt;exception-type&gt;java.lang.exception&lt;/exception-type&gt;\r\n\t\t&lt;location&gt;/public/error&lt;/location&gt;\r\n\t&lt;/error-page&gt;\r\n\t\r\n&lt;/web-app&gt;\r\n```\r\n","title":"Error configuring application listener of class [org.springframework.web.context.ContextLoaderListener]","body":"<p><strong>Upgrading to spring 5 from spring 3</strong></p>\n<p>I am currently trying to upgrade a systems tech stack. I have made the jump from java 8 to java 11 and now trying to upgrade spring. I have set the spring version to 5.1... in my pom and it builds successfully but i am hit with the error noted below when running on tomcat.</p>\n<p>Tomcat version: 9</p>\n<p>Java version: 11</p>\n<p>Spring version: 5</p>\n<p>Here is the full error below.</p>\n<pre><code>12-Apr-2023 14:42:12.514 SEVERE [main] org.apache.catalina.core.StandardContext.listenerStart Error configuring application listener of class [org.springframework.web.context.ContextLoaderListener]\n    java.lang.NoClassDefFoundError: Lorg/springframework/beans/factory/access/BeanFactoryReference;\n        at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n        at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3061)\n        at java.base/java.lang.Class.getDeclaredFields(Class.java:2248)\n        at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\n        at org.apache.catalina.core.DefaultInstanceManager.populateAnnotationsCache(DefaultInstanceManager.java:397)\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:172)\n        at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:150)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4691)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n    Caused by: java.lang.ClassNotFoundException: org.springframework.beans.factory.access.BeanFactoryReference\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n        ... 48 more\n12-Apr-2023 14:42:12.690 SEVERE [main] org.apache.catalina.core.StandardContext.listenerStart Skipped installing application listeners due to previous error(s)\n</code></pre>\n<p>Here is my pom file. The only spring dependency i have upgraded so far is spring-context. If i try any others, it does not build.</p>\n<p>ignore the cant upgrade comments - i was trying to get all the dependencies to the max version before upgrading to java 11.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.name&lt;/groupId&gt;\n    &lt;artifactId&gt;app-parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;app Parent&lt;/name&gt;\n    &lt;modules&gt;\n        &lt;module&gt;..\\app&lt;/module&gt;\n        &lt;module&gt;..\\app-application&lt;/module&gt;     \n    &lt;/modules&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;11&lt;/source&gt;\n                        &lt;target&gt;11&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;inherited&gt;true&lt;/inherited&gt;\n                    &lt;configuration&gt;\n                        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                        &lt;forkMode&gt;once&lt;/forkMode&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;**/*DbUnitTest.java&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.13.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;11&lt;/source&gt;\n                        &lt;target&gt;11&lt;/target&gt;\n                        &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\n                        &lt;aspectLibraries&gt;\n                            &lt;aspectLibrary&gt;\n                                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                            &lt;/aspectLibrary&gt;\n                        &lt;/aspectLibraries&gt;\n                        &lt;aspectDirectory&gt;src/main/java&lt;/aspectDirectory&gt;\n                        &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;sql-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.4&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;!-- The oracle JDBC driver --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                    &lt;configuration&gt;\n                        &lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\n                        &lt;url&gt;jdbc:oracle:thin:@localhost:1521:NGC&lt;/url&gt;\n                        &lt;username&gt;ngc_user&lt;/username&gt;\n                        &lt;password&gt;ngc&lt;/password&gt;\n                        &lt;onError&gt;continue&lt;/onError&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.4&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;!-- The oracle JDBC driver --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test-jar&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1.1&lt;/version&gt; \n                &lt;configuration&gt;\n                    &lt;dependencyLocationsEnabled&gt;false&lt;/dependencyLocationsEnabled&gt;\n                    &lt;dependencyDetailsEnabled&gt;false&lt;/dependencyDetailsEnabled&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n    &lt;dependencies&gt;\n        &lt;!-- cant upgrade this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- cant upgrade this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant upgrade this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant upgrade this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant upgrade this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant upgrade this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant upgrade this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- upgraded to 4.0.0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- could only update this to 1.8 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;3.6.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-cglib-repack&lt;/artifactId&gt;\n            &lt;version&gt;2.1_3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;  \n        &lt;!-- upgraded to 5.6.15 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n            &lt;version&gt;5.6.15.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- upgraded to 6.0.0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- upgraded to 5.0.0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;     \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;     \n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.12.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.directwebremoting&lt;/groupId&gt;\n            &lt;artifactId&gt;dwr&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n            &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n            &lt;version&gt;2.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n            &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\n            &lt;version&gt;3.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;c3p0&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;1.9.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- only able to update to 4.0.0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n              &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\n              &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\n              &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.5&quot; \n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \n    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n  \n    &lt;!--  Spring context --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath*:/com/name/**/*-config.xml\n            /WEB-INF/spring/**/*-config.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n    \n    &lt;!-- Spring security --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;     \n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt; \n    \n    &lt;!-- Spring servlets --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;public&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/public-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;public&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/public/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    \n    &lt;servlet&gt;\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/secure-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;secure&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/secure/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;  \n\n    &lt;!-- Other tomcat options --&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;/index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n    \n    &lt;error-page&gt;\n        &lt;error-code&gt;500&lt;/error-code&gt;\n        &lt;location&gt;/public/error&lt;/location&gt;\n    &lt;/error-page&gt;\n    \n    &lt;error-page&gt;\n        &lt;error-code&gt;403&lt;/error-code&gt;\n        &lt;location&gt;/public/forbidden&lt;/location&gt;\n    &lt;/error-page&gt;\n    \n    &lt;error-page&gt;\n        &lt;exception-type&gt;java.lang.exception&lt;/exception-type&gt;\n        &lt;location&gt;/public/error&lt;/location&gt;\n    &lt;/error-page&gt;\n    \n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","maven","build","multi-module"],"comments":[{"owner":{"account_id":8060240,"reputation":1326,"user_id":6075989,"display_name":"JMSilla"},"score":0,"creation_date":1680509130,"post_id":75916464,"comment_id":133904388,"body_markdown":"Please, can you post the complete maven output of compilation from the parent?. I think there could be some problems with the `${project.version}` resolution.","body":"Please, can you post the complete maven output of compilation from the parent?. I think there could be some problems with the <code>${project.version}</code> resolution."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1680510831,"post_id":75916464,"comment_id":133904735,"body_markdown":"@JMSilla I&#39;ve updated the full console output of the `maven clean install` on the parent module.","body":"@JMSilla I&#39;ve updated the full console output of the <code>maven clean install</code> on the parent module."},{"owner":{"account_id":8060240,"reputation":1326,"user_id":6075989,"display_name":"JMSilla"},"score":0,"creation_date":1680512599,"post_id":75916464,"comment_id":133905103,"body_markdown":"It seems like you are using a Java version in the IDE and another version with Maven. You must assure that you are using Java 11 (the Java version defined on the project) on both parts. Check `JAVA_HOME` value before doing `mvn clean install`, it must reference a JDK 11 directory.","body":"It seems like you are using a Java version in the IDE and another version with Maven. You must assure that you are using Java 11 (the Java version defined on the project) on both parts. Check <code>JAVA_HOME</code> value before doing <code>mvn clean install</code>, it must reference a JDK 11 directory."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1680513776,"post_id":75916464,"comment_id":133905377,"body_markdown":"@JMSilla the versions in both IDE and the maven is the same.  The `JAVA_HOME` is pointing towards the JDK11 location itself. My other projects are having no such issue with the JDK version. Also, if it is a version issue why that error is occurring only when I use `common-service` classes and not the `account-service` classes? You can see at the bottom of my question I&#39;ve mentioned the same.","body":"@JMSilla the versions in both IDE and the maven is the same.  The <code>JAVA_HOME</code> is pointing towards the JDK11 location itself. My other projects are having no such issue with the JDK version. Also, if it is a version issue why that error is occurring only when I use <code>common-service</code> classes and not the <code>account-service</code> classes? You can see at the bottom of my question I&#39;ve mentioned the same."},{"owner":{"account_id":8060240,"reputation":1326,"user_id":6075989,"display_name":"JMSilla"},"score":0,"creation_date":1680518039,"post_id":75916464,"comment_id":133906368,"body_markdown":"You can try some things that can help you to detect the problem:\n- You can try to change the project version and recompile from parent, checking if all the files are copied in the .m2 directory.\n- You can try to make independent projects (with no parent) and compile them in the right order.","body":"You can try some things that can help you to detect the problem: - You can try to change the project version and recompile from parent, checking if all the files are copied in the .m2 directory. - You can try to make independent projects (with no parent) and compile them in the right order."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1681222294,"post_id":75916464,"comment_id":134019368,"body_markdown":"i would first go into the .m2 folder and find common-service, application-service, account service and delete thos so that maven doesn&#39;t use them. I would then instead build with `mvn clean package` this will compile and package your application and not install (copy) the jars to your .m2 folder so that we can eliminate some sort of caching issue.","body":"i would first go into the .m2 folder and find common-service, application-service, account service and delete thos so that maven doesn&#39;t use them. I would then instead build with <code>mvn clean package</code> this will compile and package your application and not install (copy) the jars to your .m2 folder so that we can eliminate some sort of caching issue."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1681223030,"post_id":75916464,"comment_id":134019607,"body_markdown":"second is to declare a baseline `pluginManagement` section in the base `pom.xml` declaring the compiler plugin with a base compiler version so that all modules use the same compiler and version to build all modules https://www.baeldung.com/maven-plugin-management#core-plugins","body":"second is to declare a baseline <code>pluginManagement</code> section in the base <code>pom.xml</code> declaring the compiler plugin with a base compiler version so that all modules use the same compiler and version to build all modules <a href=\"https://www.baeldung.com/maven-plugin-management#core-plugins\" rel=\"nofollow noreferrer\">baeldung.com/maven-plugin-management#core-plugins</a>"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681223300,"post_id":75916464,"comment_id":134019683,"body_markdown":"third is to start building projects part by part, start with building common separate, then account, then application using the command stated here https://stackoverflow.com/a/57186296/1840146 so for example `mvn --projects account-service --also-make clean package`","body":"third is to start building projects part by part, start with building common separate, then account, then application using the command stated here <a href=\"https://stackoverflow.com/a/57186296/1840146\">stackoverflow.com/a/57186296/1840146</a> so for example <code>mvn --projects account-service --also-make clean package</code>"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1681234406,"post_id":75916464,"comment_id":134022589,"body_markdown":"@Toerktumlare, I&#39;ve tried your methods but it is still failing. I&#39;ve updated my efforts in the question.","body":"@Toerktumlare, I&#39;ve tried your methods but it is still failing. I&#39;ve updated my efforts in the question."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681234845,"post_id":75916464,"comment_id":134022668,"body_markdown":"then you need to get a minimal reproducible example up on github or something for us to pull home and try for ourselfes","body":"then you need to get a minimal reproducible example up on github or something for us to pull home and try for ourselfes"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1681304919,"post_id":75916464,"comment_id":134034646,"body_markdown":"@Toerktumlare, I&#39;ve added the Git link.","body":"@Toerktumlare, I&#39;ve added the Git link."}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681323176,"creation_date":1681317372,"answer_id":75997877,"question_id":75916464,"body_markdown":"After a test application was provided i managed to build the project after i applied what i recommended as a second course of action in the comments above which had not been implemented.\r\n\r\nSo by adding the following in the pom.xml i managed to compile the project\r\n\r\nhh/pom.xml\r\n```\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt; &lt;!-- this line here --&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt; &lt;!-- and this line here --&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nyou can read more about `pluginManagement`in the following links:\r\n\r\n[plugin management baeldung][1]\r\n\r\n[what is plugin management][2]\r\n\r\n[difference between plugins and pluginmanagement tag in maven pom xml][3]\r\n\r\n\r\n  [1]: https://www.baeldung.com/maven-plugin-management\r\n  [2]: https://stackoverflow.com/questions/10483180/what-is-pluginmanagement-in-mavens-pom-xml\r\n  [3]: https://stackoverflow.com/questions/26736876/difference-between-plugins-and-pluginmanagement-tag-in-maven-pom-xml","title":"Spring Boot Multi module project - Build issues due to compilation issues for imports from different module","body":"<p>After a test application was provided i managed to build the project after i applied what i recommended as a second course of action in the comments above which had not been implemented.</p>\n<p>So by adding the following in the pom.xml i managed to compile the project</p>\n<p>hh/pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt; &lt;!-- this line here --&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt; &lt;!-- and this line here --&gt;\n&lt;/build&gt;\n</code></pre>\n<p>you can read more about <code>pluginManagement</code>in the following links:</p>\n<p><a href=\"https://www.baeldung.com/maven-plugin-management\" rel=\"nofollow noreferrer\">plugin management baeldung</a></p>\n<p><a href=\"https://stackoverflow.com/questions/10483180/what-is-pluginmanagement-in-mavens-pom-xml\">what is plugin management</a></p>\n<p><a href=\"https://stackoverflow.com/questions/26736876/difference-between-plugins-and-pluginmanagement-tag-in-maven-pom-xml\">difference between plugins and pluginmanagement tag in maven pom xml</a></p>\n"}],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75997877,"answer_count":1,"score":1,"last_activity_date":1681323176,"creation_date":1680502308,"question_id":75916464,"body_markdown":"We have a multi-module Spring boot project starting from scratch, the hierarchy is like this\r\n\r\n    [INFO] Reactor Build Order:\r\n    [INFO] \r\n    [INFO] hh                                                                 [pom]\r\n    [INFO] common-service                                                     [jar]\r\n    [INFO] account-service                                                    [jar]\r\n    [INFO] product-service                                                    [jar]\r\n    [INFO] auth-service                                                       [jar]\r\n    [INFO] application-service                                                [war]\r\n\r\n**This is the pom.xml of the `account-service`.**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.hh.sukku&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hh&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;artifactId&gt;account-service&lt;/artifactId&gt;\r\n    \t&lt;name&gt;account-service&lt;/name&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\t&lt;!-- Project module dependencies start --&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.hh.sukku&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;common-service&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- Project module dependencies end --&gt;\r\n    \t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**This is the parent module pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;groupId&gt;com.hh.sukku&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hh&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;name&gt;hh&lt;/name&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;application-service&lt;/module&gt;\r\n    \t\t&lt;module&gt;common-service&lt;/module&gt;\r\n    \t\t&lt;module&gt;account-service&lt;/module&gt;\r\n    \t\t&lt;module&gt;product-service&lt;/module&gt;\r\n    \t\t&lt;module&gt;auth-service&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.kaczmarzyk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;specification-arg-resolver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nThe problem comes with the Controller in the `account-service`, the response bean and the error code of the API come from the `common-service`. Initially while importing it showed compilation issues for both but after doing a `maven-update` there were no errors. \r\n\r\n**This is the controller**\r\n\r\n    package com.hh.sukku.account.controller;\r\n    \r\n    import static com.hh.sukku.common.util.ErrorCodes.SUCCESS;\r\n    \r\n    import javax.validation.Valid;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.hh.sukku.account.dto.UserDTO;\r\n    import com.hh.sukku.account.service.UserService;\r\n    import com.hh.sukku.common.beans.Response;\r\n    \r\n    /**\r\n     * \r\n     * @author arun.sudhakaran\r\n     *\r\n     * 02-Apr-2023 11:14:15 pm\r\n     */\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;v1/user&quot;)\r\n    public class UserController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserService userService;\r\n    \r\n    \t@PostMapping(path = &quot;&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;Response&gt; create(@Valid @RequestBody UserDTO request) {\r\n    \t\t\r\n    \t\tuserService.create(request);\r\n    \t\t\r\n    \t\tResponse response = new Response(SUCCESS, &quot;Success&quot;);\r\n    \t\t\r\n    \t\treturn new ResponseEntity&lt;Response&gt;(response, HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nThe problem starts when we try to do a `maven clean install` on the parent module, it fails with this error\r\n\r\n**Console output of Maven clean install**\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Build Order:\r\n    [INFO] \r\n    [INFO] hh                                                                 [pom]\r\n    [INFO] common-service                                                     [jar]\r\n    [INFO] account-service                                                    [jar]\r\n    [INFO] product-service                                                    [jar]\r\n    [INFO] auth-service                                                       [jar]\r\n    [INFO] application-service                                                [war]\r\n    [INFO] \r\n    [INFO] --------------------------&lt; com.hh.sukku:hh &gt;---------------------------\r\n    [INFO] Building hh 1.0.0                                                  [1/6]\r\n    [INFO] --------------------------------[ pom ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ hh ---\r\n    [INFO] Deleting D:\\hh\\haraji\\workspace\\hh\\target\r\n    [INFO] \r\n    [INFO] --- spring-boot-maven-plugin:2.3.4.RELEASE:repackage (repackage) @ hh ---\r\n    [INFO] \r\n    [INFO] --------------------&lt; com.hh.sukku:common-service &gt;---------------------\r\n    [INFO] Building common-service 1.0.0                                      [2/6]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ common-service ---\r\n    [INFO] Deleting D:\\hh\\haraji\\workspace\\hh\\common-service\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ common-service ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ common-service ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 9 source files to D:\\hh\\haraji\\workspace\\hh\\common-service\\target\\classes\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ common-service ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ common-service ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ common-service ---\r\n    [INFO] \r\n    [INFO] --- maven-jar-plugin:3.1.1:jar (default-jar) @ common-service ---\r\n    [INFO] Building jar: D:\\hh\\haraji\\workspace\\hh\\common-service\\target\\common-service-1.0.0.jar\r\n    [INFO] \r\n    [INFO] --- spring-boot-maven-plugin:2.3.4.RELEASE:repackage (repackage) @ common-service ---\r\n    [INFO] Replacing main artifact with repackaged archive\r\n    [INFO] \r\n    [INFO] --------------------&lt; com.hh.sukku:account-service &gt;--------------------\r\n    [INFO] Building account-service 1.0.0                                     [3/6]\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ account-service ---\r\n    [INFO] Deleting D:\\hh\\haraji\\workspace\\hh\\account-service\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ account-service ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ account-service ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 17 source files to D:\\hh\\haraji\\workspace\\hh\\account-service\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[21,37] package com.hh.sukku.common.exception does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[22,34] package com.hh.sukku.common.params does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[23,32] package com.hh.sukku.common.util does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[47,17] cannot find symbol\r\n      symbol:   class ParamsFileOperations\r\n      location: class com.hh.sukku.account.service.FileUploadService\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[3,39] package com.hh.sukku.common.util does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[3,1] static import only from classes and interfaces\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[25,33] package com.hh.sukku.common.beans does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[26,33] package com.hh.sukku.common.beans does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[27,32] package com.hh.sukku.common.util does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[19,33] package com.hh.sukku.common.beans does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[20,37] package com.hh.sukku.common.exception does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[50,31] cannot find symbol\r\n      symbol:   class Response\r\n      location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[60,16] cannot find symbol\r\n      symbol:   class PagedResponse\r\n      location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[59,16] cannot find symbol\r\n      symbol:   class PagedResponse\r\n      location: class com.hh.sukku.account.service.UserService\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[61,70] cannot find symbol\r\n      symbol:   variable Constants\r\n      location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[62,70] cannot find symbol\r\n      symbol:   variable Constants\r\n      location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[64,71] cannot find symbol\r\n      symbol:   variable Constants\r\n      location: class com.hh.sukku.account.controller.UserController\r\n    [INFO] 17 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary:\r\n    [INFO] \r\n    [INFO] hh 1.0.0 ........................................... SUCCESS [  2.689 s]\r\n    [INFO] common-service ..................................... SUCCESS [  8.217 s]\r\n    [INFO] account-service .................................... FAILURE [  3.859 s]\r\n    [INFO] product-service .................................... SKIPPED\r\n    [INFO] auth-service ....................................... SKIPPED\r\n    [INFO] application-service 1.0.0 .......................... SKIPPED\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 16.033 s\r\n    [INFO] Finished at: 2023-04-11T22:39:59+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project account-service: Compilation failure: Compilation failure: \r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[21,37] package com.hh.sukku.common.exception does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[22,34] package com.hh.sukku.common.params does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[23,32] package com.hh.sukku.common.util does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[47,17] cannot find symbol\r\n    [ERROR]   symbol:   class ParamsFileOperations\r\n    [ERROR]   location: class com.hh.sukku.account.service.FileUploadService\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[3,39] package com.hh.sukku.common.util does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[3,1] static import only from classes and interfaces\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[25,33] package com.hh.sukku.common.beans does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[26,33] package com.hh.sukku.common.beans does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[27,32] package com.hh.sukku.common.util does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[19,33] package com.hh.sukku.common.beans does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[20,37] package com.hh.sukku.common.exception does not exist\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[50,31] cannot find symbol\r\n    [ERROR]   symbol:   class Response\r\n    [ERROR]   location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[60,16] cannot find symbol\r\n    [ERROR]   symbol:   class PagedResponse\r\n    [ERROR]   location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[59,16] cannot find symbol\r\n    [ERROR]   symbol:   class PagedResponse\r\n    [ERROR]   location: class com.hh.sukku.account.service.UserService\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[61,70] cannot find symbol\r\n    [ERROR]   symbol:   variable Constants\r\n    [ERROR]   location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[62,70] cannot find symbol\r\n    [ERROR]   symbol:   variable Constants\r\n    [ERROR]   location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[64,71] cannot find symbol\r\n    [ERROR]   symbol:   variable Constants\r\n    [ERROR]   location: class com.hh.sukku.account.controller.UserController\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    [ERROR] \r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;goals&gt; -rf :account-service\r\n\r\n\r\nWe even tried `maven clean install -X` and `maven install` individually on the `account-service`. All attempts failed with the same error.\r\n\r\nThe fun fact is that the application can be started successfully but when we try to hit the API we are getting `404`. What could be missing? There are no visible compilation errors.\r\n\r\nThe other interesting fact is that when we tried to import the controller from the `account-service` into the `application-service` and tried to build `application-service` it was a success. But when we tried to import a bean from the `common-service` the same got failed, so we can narrow down that the issue is with the `common-service`.\r\n\r\nBut at some point when we started the `application-service` we were able to process the request and insert data into the table, so we tried to build the parent pom, but again it failed. Later the application started giving 404 again for the same request.\r\n\r\n**Major changes with initial edit**\r\n\r\n 1. One thing we found was that the `groupId` of the modules was not the same as the parent, so we created a new one with all of them having the same `groupId`. The issue remained the same.\r\n 2. We hardcoded the parent versions to every module and their dependencies, but the issue remained the same.\r\n 3. We tried to import the `Response` bean from the `Fix project setup...` option and locate the bean in the popup. The issue remained the same.\r\n 4. We newly created the same project and added the new modules by checking the options `Create a simple project (skip archetype selection)` and `Add project(s) to the working set`, but the issue remained the same.\r\n 5. There was a warning with the parent pom.xml, so we removed the `pom` from the profile section in the run configuration ([reference][1]), but the issue remained the same.\r\n 6. We even tried `compile package`, which was successful, and two war files were generated `application-service-1.0.0.war` and `hh-1.0.0.war`. But the deployment was not fine, there were no logs of a spring boot application startup and requests were giving `404`.\r\n\r\n**Major changes with @Toerktumlare&#39;s suggestions**\r\n\r\n 1. Removed the child modules from the `.m2`, and performed `mvn clean package` the result was the same failure.\r\n\r\n 2. Added the compiler plugin and performed step-1, failed again.\r\n\r\n 3. Tried running this command `--projects account-service --also-make clean package` for individual modules. First was `common-service` and it was successful, but with `account-service` it failed saying\r\n\r\n    ```[ERROR] Failed to execute goal on project account-service: Could not resolve dependencies for project com.hh.sukku:account-service:jar:1.0.0: Could not find artifact com.hh.sukku:common-service:jar:1.0.0 in central (https://repo.maven.apache.org/maven2)```\r\n\r\nProject URL : https://github.com/Arun-Sudhakaran/hh\r\n\r\n  [1]: https://stackoverflow.com/a/29756741/7218656","title":"Spring Boot Multi module project - Build issues due to compilation issues for imports from different module","body":"<p>We have a multi-module Spring boot project starting from scratch, the hierarchy is like this</p>\n<pre><code>[INFO] Reactor Build Order:\n[INFO] \n[INFO] hh                                                                 [pom]\n[INFO] common-service                                                     [jar]\n[INFO] account-service                                                    [jar]\n[INFO] product-service                                                    [jar]\n[INFO] auth-service                                                       [jar]\n[INFO] application-service                                                [war]\n</code></pre>\n<p><strong>This is the pom.xml of the <code>account-service</code>.</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    \n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.hh.sukku&lt;/groupId&gt;\n        &lt;artifactId&gt;hh&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;account-service&lt;/artifactId&gt;\n    &lt;name&gt;account-service&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n    \n        &lt;!-- Project module dependencies start --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hh.sukku&lt;/groupId&gt;\n            &lt;artifactId&gt;common-service&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Project module dependencies end --&gt;\n    \n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>This is the parent module pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.hh.sukku&lt;/groupId&gt;\n    &lt;artifactId&gt;hh&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;hh&lt;/name&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;application-service&lt;/module&gt;\n        &lt;module&gt;common-service&lt;/module&gt;\n        &lt;module&gt;account-service&lt;/module&gt;\n        &lt;module&gt;product-service&lt;/module&gt;\n        &lt;module&gt;auth-service&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n            &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.kaczmarzyk&lt;/groupId&gt;\n            &lt;artifactId&gt;specification-arg-resolver&lt;/artifactId&gt;\n            &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The problem comes with the Controller in the <code>account-service</code>, the response bean and the error code of the API come from the <code>common-service</code>. Initially while importing it showed compilation issues for both but after doing a <code>maven-update</code> there were no errors.</p>\n<p><strong>This is the controller</strong></p>\n<pre><code>package com.hh.sukku.account.controller;\n\nimport static com.hh.sukku.common.util.ErrorCodes.SUCCESS;\n\nimport javax.validation.Valid;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.hh.sukku.account.dto.UserDTO;\nimport com.hh.sukku.account.service.UserService;\nimport com.hh.sukku.common.beans.Response;\n\n/**\n * \n * @author arun.sudhakaran\n *\n * 02-Apr-2023 11:14:15 pm\n */\n\n@RestController\n@RequestMapping(&quot;v1/user&quot;)\npublic class UserController {\n    \n    @Autowired\n    private UserService userService;\n\n    @PostMapping(path = &quot;&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Response&gt; create(@Valid @RequestBody UserDTO request) {\n        \n        userService.create(request);\n        \n        Response response = new Response(SUCCESS, &quot;Success&quot;);\n        \n        return new ResponseEntity&lt;Response&gt;(response, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>The problem starts when we try to do a <code>maven clean install</code> on the parent module, it fails with this error</p>\n<p><strong>Console output of Maven clean install</strong></p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] hh                                                                 [pom]\n[INFO] common-service                                                     [jar]\n[INFO] account-service                                                    [jar]\n[INFO] product-service                                                    [jar]\n[INFO] auth-service                                                       [jar]\n[INFO] application-service                                                [war]\n[INFO] \n[INFO] --------------------------&lt; com.hh.sukku:hh &gt;---------------------------\n[INFO] Building hh 1.0.0                                                  [1/6]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ hh ---\n[INFO] Deleting D:\\hh\\haraji\\workspace\\hh\\target\n[INFO] \n[INFO] --- spring-boot-maven-plugin:2.3.4.RELEASE:repackage (repackage) @ hh ---\n[INFO] \n[INFO] --------------------&lt; com.hh.sukku:common-service &gt;---------------------\n[INFO] Building common-service 1.0.0                                      [2/6]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ common-service ---\n[INFO] Deleting D:\\hh\\haraji\\workspace\\hh\\common-service\\target\n[INFO] \n[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ common-service ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ common-service ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 9 source files to D:\\hh\\haraji\\workspace\\hh\\common-service\\target\\classes\n[INFO] \n[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ common-service ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ common-service ---\n[INFO] Changes detected - recompiling the module!\n[INFO] \n[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ common-service ---\n[INFO] \n[INFO] --- maven-jar-plugin:3.1.1:jar (default-jar) @ common-service ---\n[INFO] Building jar: D:\\hh\\haraji\\workspace\\hh\\common-service\\target\\common-service-1.0.0.jar\n[INFO] \n[INFO] --- spring-boot-maven-plugin:2.3.4.RELEASE:repackage (repackage) @ common-service ---\n[INFO] Replacing main artifact with repackaged archive\n[INFO] \n[INFO] --------------------&lt; com.hh.sukku:account-service &gt;--------------------\n[INFO] Building account-service 1.0.0                                     [3/6]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ account-service ---\n[INFO] Deleting D:\\hh\\haraji\\workspace\\hh\\account-service\\target\n[INFO] \n[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ account-service ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ account-service ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 17 source files to D:\\hh\\haraji\\workspace\\hh\\account-service\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[21,37] package com.hh.sukku.common.exception does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[22,34] package com.hh.sukku.common.params does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[23,32] package com.hh.sukku.common.util does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[47,17] cannot find symbol\n  symbol:   class ParamsFileOperations\n  location: class com.hh.sukku.account.service.FileUploadService\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[3,39] package com.hh.sukku.common.util does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[3,1] static import only from classes and interfaces\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[25,33] package com.hh.sukku.common.beans does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[26,33] package com.hh.sukku.common.beans does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[27,32] package com.hh.sukku.common.util does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[19,33] package com.hh.sukku.common.beans does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[20,37] package com.hh.sukku.common.exception does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[50,31] cannot find symbol\n  symbol:   class Response\n  location: class com.hh.sukku.account.controller.UserController\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[60,16] cannot find symbol\n  symbol:   class PagedResponse\n  location: class com.hh.sukku.account.controller.UserController\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[59,16] cannot find symbol\n  symbol:   class PagedResponse\n  location: class com.hh.sukku.account.service.UserService\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[61,70] cannot find symbol\n  symbol:   variable Constants\n  location: class com.hh.sukku.account.controller.UserController\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[62,70] cannot find symbol\n  symbol:   variable Constants\n  location: class com.hh.sukku.account.controller.UserController\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[64,71] cannot find symbol\n  symbol:   variable Constants\n  location: class com.hh.sukku.account.controller.UserController\n[INFO] 17 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] hh 1.0.0 ........................................... SUCCESS [  2.689 s]\n[INFO] common-service ..................................... SUCCESS [  8.217 s]\n[INFO] account-service .................................... FAILURE [  3.859 s]\n[INFO] product-service .................................... SKIPPED\n[INFO] auth-service ....................................... SKIPPED\n[INFO] application-service 1.0.0 .......................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 16.033 s\n[INFO] Finished at: 2023-04-11T22:39:59+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project account-service: Compilation failure: Compilation failure: \n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[21,37] package com.hh.sukku.common.exception does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[22,34] package com.hh.sukku.common.params does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[23,32] package com.hh.sukku.common.util does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/FileUploadService.java:[47,17] cannot find symbol\n[ERROR]   symbol:   class ParamsFileOperations\n[ERROR]   location: class com.hh.sukku.account.service.FileUploadService\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[3,39] package com.hh.sukku.common.util does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[3,1] static import only from classes and interfaces\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[25,33] package com.hh.sukku.common.beans does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[26,33] package com.hh.sukku.common.beans does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[27,32] package com.hh.sukku.common.util does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[19,33] package com.hh.sukku.common.beans does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[20,37] package com.hh.sukku.common.exception does not exist\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[50,31] cannot find symbol\n[ERROR]   symbol:   class Response\n[ERROR]   location: class com.hh.sukku.account.controller.UserController\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[60,16] cannot find symbol\n[ERROR]   symbol:   class PagedResponse\n[ERROR]   location: class com.hh.sukku.account.controller.UserController\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/service/UserService.java:[59,16] cannot find symbol\n[ERROR]   symbol:   class PagedResponse\n[ERROR]   location: class com.hh.sukku.account.service.UserService\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[61,70] cannot find symbol\n[ERROR]   symbol:   variable Constants\n[ERROR]   location: class com.hh.sukku.account.controller.UserController\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[62,70] cannot find symbol\n[ERROR]   symbol:   variable Constants\n[ERROR]   location: class com.hh.sukku.account.controller.UserController\n[ERROR] /D:/hh/haraji/workspace/hh/account-service/src/main/java/com/hh/sukku/account/controller/UserController.java:[64,71] cannot find symbol\n[ERROR]   symbol:   variable Constants\n[ERROR]   location: class com.hh.sukku.account.controller.UserController\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :account-service\n</code></pre>\n<p>We even tried <code>maven clean install -X</code> and <code>maven install</code> individually on the <code>account-service</code>. All attempts failed with the same error.</p>\n<p>The fun fact is that the application can be started successfully but when we try to hit the API we are getting <code>404</code>. What could be missing? There are no visible compilation errors.</p>\n<p>The other interesting fact is that when we tried to import the controller from the <code>account-service</code> into the <code>application-service</code> and tried to build <code>application-service</code> it was a success. But when we tried to import a bean from the <code>common-service</code> the same got failed, so we can narrow down that the issue is with the <code>common-service</code>.</p>\n<p>But at some point when we started the <code>application-service</code> we were able to process the request and insert data into the table, so we tried to build the parent pom, but again it failed. Later the application started giving 404 again for the same request.</p>\n<p><strong>Major changes with initial edit</strong></p>\n<ol>\n<li>One thing we found was that the <code>groupId</code> of the modules was not the same as the parent, so we created a new one with all of them having the same <code>groupId</code>. The issue remained the same.</li>\n<li>We hardcoded the parent versions to every module and their dependencies, but the issue remained the same.</li>\n<li>We tried to import the <code>Response</code> bean from the <code>Fix project setup...</code> option and locate the bean in the popup. The issue remained the same.</li>\n<li>We newly created the same project and added the new modules by checking the options <code>Create a simple project (skip archetype selection)</code> and <code>Add project(s) to the working set</code>, but the issue remained the same.</li>\n<li>There was a warning with the parent pom.xml, so we removed the <code>pom</code> from the profile section in the run configuration (<a href=\"https://stackoverflow.com/a/29756741/7218656\">reference</a>), but the issue remained the same.</li>\n<li>We even tried <code>compile package</code>, which was successful, and two war files were generated <code>application-service-1.0.0.war</code> and <code>hh-1.0.0.war</code>. But the deployment was not fine, there were no logs of a spring boot application startup and requests were giving <code>404</code>.</li>\n</ol>\n<p><strong>Major changes with @Toerktumlare's suggestions</strong></p>\n<ol>\n<li><p>Removed the child modules from the <code>.m2</code>, and performed <code>mvn clean package</code> the result was the same failure.</p>\n</li>\n<li><p>Added the compiler plugin and performed step-1, failed again.</p>\n</li>\n<li><p>Tried running this command <code>--projects account-service --also-make clean package</code> for individual modules. First was <code>common-service</code> and it was successful, but with <code>account-service</code> it failed saying</p>\n<p><code>[ERROR] Failed to execute goal on project account-service: Could not resolve dependencies for project com.hh.sukku:account-service:jar:1.0.0: Could not find artifact com.hh.sukku:common-service:jar:1.0.0 in central (https://repo.maven.apache.org/maven2)</code></p>\n</li>\n</ol>\n<p>Project URL : <a href=\"https://github.com/Arun-Sudhakaran/hh\" rel=\"nofollow noreferrer\">https://github.com/Arun-Sudhakaran/hh</a></p>\n"},{"tags":["java","azure-keyvault","private-key","pkcs#12","akv2k8s"],"answers":[{"tags":[],"owner":{"account_id":23058397,"reputation":259,"user_id":17174122,"display_name":"Esta Nagy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681322471,"creation_date":1681322471,"answer_id":75998541,"question_id":75998478,"body_markdown":"This is an example dealing with exactly the case you mentioned: https://github.com/nagyesta/lowkey-vault-example/blob/main/src/main/java/com/github/nagyesta/lowkeyvault/example/impl/AzureCertificateRepositoryImpl.java#L38-L59\r\n\r\nThe example is dealing with an EC key, but you can simply cast it to the RSA specific class the same way.","title":"How to access private key as PrivateKey object from a pfx certificate stored in Azure key vault using Java?","body":"<p>This is an example dealing with exactly the case you mentioned: <a href=\"https://github.com/nagyesta/lowkey-vault-example/blob/main/src/main/java/com/github/nagyesta/lowkeyvault/example/impl/AzureCertificateRepositoryImpl.java#L38-L59\" rel=\"nofollow noreferrer\">https://github.com/nagyesta/lowkey-vault-example/blob/main/src/main/java/com/github/nagyesta/lowkeyvault/example/impl/AzureCertificateRepositoryImpl.java#L38-L59</a></p>\n<p>The example is dealing with an EC key, but you can simply cast it to the RSA specific class the same way.</p>\n"}],"owner":{"account_id":9718967,"reputation":3,"user_id":7791412,"display_name":"Kratika Kapoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75998541,"answer_count":1,"score":-1,"last_activity_date":1681322471,"creation_date":1681321977,"question_id":75998478,"body_markdown":"CertificateClient certificateClient = new CertificateClientBuilder().vaultUrl(&lt;vaultUrl&gt;).credential(new DefaultAzureCredentialBuilder().build()).buildClient();\r\nKeyVaultCertificateWithPolicy certificate = certificateClient.getCertificate(&quot;certificateName&quot;)","title":"How to access private key as PrivateKey object from a pfx certificate stored in Azure key vault using Java?","body":"<p>CertificateClient certificateClient = new CertificateClientBuilder().vaultUrl().credential(new DefaultAzureCredentialBuilder().build()).buildClient();\nKeyVaultCertificateWithPolicy certificate = certificateClient.getCertificate(&quot;certificateName&quot;)</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1681321826,"post_id":75998439,"comment_id":134039136,"body_markdown":"Look at the `for` loop bounds (i.e., consider the range of `i`). Then think about what the maximum index is for an array of length `n`.","body":"Look at the <code>for</code> loop bounds (i.e., consider the range of <code>i</code>). Then think about what the maximum index is for an array of length <code>n</code>."}],"answers":[{"tags":[],"owner":{"account_id":14458155,"reputation":16,"user_id":10443732,"display_name":"Remus Mocanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681321952,"creation_date":1681321952,"answer_id":75998472,"question_id":75998439,"body_markdown":"You are initiating an array of size n, meaning the indices go from 0 to n-1.\r\nYour `for` loop starts from 0 and is &lt;= n meaning it includes n.\r\nThe last element will try to go at index n, but that it not possible as the last index is n-1.\r\nPossible fix for that line is using &lt; n instead of &lt;= n\r\n","title":"java.lang.ArrayIndexOutOfBoundsException how do I prevent it and what causes it","body":"<p>You are initiating an array of size n, meaning the indices go from 0 to n-1.\nYour <code>for</code> loop starts from 0 and is &lt;= n meaning it includes n.\nThe last element will try to go at index n, but that it not possible as the last index is n-1.\nPossible fix for that line is using &lt; n instead of &lt;= n</p>\n"}],"owner":{"account_id":26693514,"reputation":1,"user_id":20301733,"display_name":"Shahd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681322031,"answer_count":1,"score":-1,"last_activity_date":1681321952,"creation_date":1681321684,"question_id":75998439,"body_markdown":"    static void knapsack(int n, int\\[\\] weight, int\\[\\] profit, int capacity){\r\n        int x\\[\\] = new int\\[n\\] ;\r\n        int tp=0; //total profit\r\n        int i;\r\n\r\n        for( i = 0; i &lt; n; i++){\r\n            x[i] = 0;\r\n        }\r\n        \r\n        for( i = 0; i &lt; n; i++){\r\n            \r\n            if(weight[i] &gt; capacity){\r\n                x[i] = 0;\r\n            }\r\n            else{\r\n                x[i] = 1;\r\n                tp = tp + profit[i];\r\n                capacity = capacity - weight[i];\r\n            }\r\n        }\r\n        tp = tp + (x[i] * profit[i]);\r\n        System.out.print(&quot;The vectors:&quot;);\r\n        for(i = 0; i &lt; n; i++){\r\n            System.out.print(&quot;[&quot; + x[i] + &quot;]&quot;);\r\n        }\r\n        System.out.println(&quot;The maximum profit is:&quot; + tp);\r\n        \r\n    }\r\n    // Driver code\r\n    public static void main(String args[])\r\n    {\r\n        int profit[] = new int[] { 4, 2, 1, 10, 2 };\r\n        int weight[] = new int[] { 11, 2, 1, 4, 1 };\r\n        int W = 15;\r\n        int n = profit.length;\r\n        knapsack(n , weight, profit, W);\r\n    }\r\n    \r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5 line 21 awhere it says tp = tp + (x[i] * profit[i]); how could i solve this \r\n","title":"java.lang.ArrayIndexOutOfBoundsException how do I prevent it and what causes it","body":"<pre><code>static void knapsack(int n, int\\[\\] weight, int\\[\\] profit, int capacity){\n    int x\\[\\] = new int\\[n\\] ;\n    int tp=0; //total profit\n    int i;\n\n    for( i = 0; i &lt; n; i++){\n        x[i] = 0;\n    }\n    \n    for( i = 0; i &lt; n; i++){\n        \n        if(weight[i] &gt; capacity){\n            x[i] = 0;\n        }\n        else{\n            x[i] = 1;\n            tp = tp + profit[i];\n            capacity = capacity - weight[i];\n        }\n    }\n    tp = tp + (x[i] * profit[i]);\n    System.out.print(&quot;The vectors:&quot;);\n    for(i = 0; i &lt; n; i++){\n        System.out.print(&quot;[&quot; + x[i] + &quot;]&quot;);\n    }\n    System.out.println(&quot;The maximum profit is:&quot; + tp);\n    \n}\n// Driver code\npublic static void main(String args[])\n{\n    int profit[] = new int[] { 4, 2, 1, 10, 2 };\n    int weight[] = new int[] { 11, 2, 1, 4, 1 };\n    int W = 15;\n    int n = profit.length;\n    knapsack(n , weight, profit, W);\n}\n</code></pre>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5 line 21 awhere it says tp = tp + (x[i] * profit[i]); how could i solve this</p>\n"},{"tags":["java","oracle","scala","jdbc","oracle11g"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1681233290,"post_id":75988458,"comment_id":134022324,"body_markdown":"and where is your [mcve]?","body":"and where is your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":28203986,"reputation":1,"user_id":21557366,"display_name":"Stuckoverflow"},"score":0,"creation_date":1681234093,"post_id":75988458,"comment_id":134022510,"body_markdown":"Added the code sample, like I said the query is working fine. It’s specifically when closing that I’m having the error. This doesn’t allow me to use Spark to load the tables since Spark internally calls the close function which fails.","body":"Added the code sample, like I said the query is working fine. It’s specifically when closing that I’m having the error. This doesn’t allow me to use Spark to load the tables since Spark internally calls the close function which fails."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1681234294,"post_id":75988458,"comment_id":134022561,"body_markdown":"and where is the query?","body":"and where is the query?"},{"owner":{"account_id":28203986,"reputation":1,"user_id":21557366,"display_name":"Stuckoverflow"},"score":0,"creation_date":1681234346,"post_id":75988458,"comment_id":134022578,"body_markdown":"The query is a simple select “SELECT * FROM table WHERE ROWNUM &lt;= 1000”","body":"The query is a simple select “SELECT * FROM table WHERE ROWNUM &lt;= 1000”"},{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":3,"creation_date":1681240706,"post_id":75988458,"comment_id":134023983,"body_markdown":"`ORA-06512` is PL/SQL error which is raised by some callable unit (function/procedure/trigger) in the database. Do you have any PL/SQL code involved in your actual statement? Does it run fine in SQL IDE/console (for example, SQL Developer)?","body":"<code>ORA-06512</code> is PL/SQL error which is raised by some callable unit (function/procedure/trigger) in the database. Do you have any PL/SQL code involved in your actual statement? Does it run fine in SQL IDE/console (for example, SQL Developer)?"},{"owner":{"account_id":28203986,"reputation":1,"user_id":21557366,"display_name":"Stuckoverflow"},"score":0,"creation_date":1681241007,"post_id":75988458,"comment_id":134024049,"body_markdown":"No, I’m only running that select. It works fine when I was using cx_oracle with python. It seems to be an issue specific to jdbc. When connecting to a SQL Server db I don’t have this issue either.","body":"No, I’m only running that select. It works fine when I was using cx_oracle with python. It seems to be an issue specific to jdbc. When connecting to a SQL Server db I don’t have this issue either."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1681252557,"post_id":75988458,"comment_id":134026073,"body_markdown":"Shot in the dark, perhaps: does it help if you try disabling auto-commit by using  `conn.setAutoCommit(false);` ?","body":"Shot in the dark, perhaps: does it help if you try disabling auto-commit by using  <code>conn.setAutoCommit(false);</code> ?"},{"owner":{"account_id":6242120,"reputation":642,"user_id":4855385,"display_name":"Douglas Surber"},"score":0,"creation_date":1683039200,"post_id":75988458,"comment_id":134303568,"body_markdown":"Obviously this general code path is heavily tested and works. For it to fail in your case means there&#39;s something unusual happening. The only way anyone is going to be able to help you is to have a complete reproducible test case so that we can see all the details. The generic code you&#39;ve given obviously works so its the devil is in the details. To get an answer you need to provide all the details, a complete reproducible test case.","body":"Obviously this general code path is heavily tested and works. For it to fail in your case means there&#39;s something unusual happening. The only way anyone is going to be able to help you is to have a complete reproducible test case so that we can see all the details. The generic code you&#39;ve given obviously works so its the devil is in the details. To get an answer you need to provide all the details, a complete reproducible test case."}],"answers":[{"tags":[],"owner":{"account_id":6991969,"reputation":181,"user_id":5360916,"display_name":"ddkr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681320827,"creation_date":1681320827,"answer_id":75998347,"question_id":75988458,"body_markdown":"How about trying this \r\n```\r\nval conn = DriverManager.getConnection(oracleURL, oracleUser, oraclePassword)\r\ntry {\r\n  val statement = conn.createStatement()\r\n  val results = statement.executeQuery(query)\r\ncatch { case e =&gt; log or something }\r\nfinally {\r\n  statement.close()\r\n  conn.close()\r\n}","title":"Cannot close oracle database connection successfully using jdbc","body":"<p>How about trying this</p>\n<pre><code>val conn = DriverManager.getConnection(oracleURL, oracleUser, oraclePassword)\ntry {\n  val statement = conn.createStatement()\n  val results = statement.executeQuery(query)\ncatch { case e =&gt; log or something }\nfinally {\n  statement.close()\n  conn.close()\n}\n</code></pre>\n"}],"owner":{"account_id":28203986,"reputation":1,"user_id":21557366,"display_name":"Stuckoverflow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681320827,"creation_date":1681232690,"question_id":75988458,"body_markdown":"I’m able to connect to an oracle database through scala with ojdbc but and have no problems running queries but when closing the connection I get a SQLException that mentioned three different errors\r\n\r\n“ORA-00604: error occurred at recursive SQL level 1”\r\n\r\n“ORA-01422: exact fetch returns more than requested number of rows”\r\n\r\n“ORA-06512: at line 6”\r\n\r\nI opened a connection, ran a query successfully, then tried to close the connection but I got that error. I’ve tried different versions of the ojdbc driver but with no success. \r\n\r\n \r\n\r\n    val conn = DriverManager.getConnection(oracleURL, oracleUser, oraclePassword)\r\n    val statement = conn.createStatement()\r\n    val results = statement.executeQuery(query)\r\n    statement.close()\r\n    conn.close()\r\n\r\nThe line conn.close() is the one failing.\r\n","title":"Cannot close oracle database connection successfully using jdbc","body":"<p>I’m able to connect to an oracle database through scala with ojdbc but and have no problems running queries but when closing the connection I get a SQLException that mentioned three different errors</p>\n<p>“ORA-00604: error occurred at recursive SQL level 1”</p>\n<p>“ORA-01422: exact fetch returns more than requested number of rows”</p>\n<p>“ORA-06512: at line 6”</p>\n<p>I opened a connection, ran a query successfully, then tried to close the connection but I got that error. I’ve tried different versions of the ojdbc driver but with no success.</p>\n<pre><code>val conn = DriverManager.getConnection(oracleURL, oracleUser, oraclePassword)\nval statement = conn.createStatement()\nval results = statement.executeQuery(query)\nstatement.close()\nconn.close()\n</code></pre>\n<p>The line conn.close() is the one failing.</p>\n"},{"tags":["java","javafx","fxml","scenebuilder","2d-games"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1681321131,"post_id":75998329,"comment_id":134038977,"body_markdown":"You’ll need a private field that holds the current state of the game:  started, or not yet started.  Also, a JavaFX application has one and only one class that extends Application.  It is not correct to have more than one class extending Application.","body":"You’ll need a private field that holds the current state of the game:  started, or not yet started.  Also, a JavaFX application has one and only one class that extends Application.  It is not correct to have more than one class extending Application."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1681321237,"post_id":75998329,"comment_id":134039007,"body_markdown":"Why does your application have two `Application` classes? One of them (`SpaceApp`) has the `start()` method as a no-op, so it won&#39;t do anything when you run it.","body":"Why does your application have two <code>Application</code> classes? One of them (<code>SpaceApp</code>) has the <code>start()</code> method as a no-op, so it won&#39;t do anything when you run it."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1681324901,"post_id":75998329,"comment_id":134039779,"body_markdown":"I started on [this](https://github.com/sedj601/SpaceInvadersFX) a while back. It&#39;s full of issues, but maybe it can help you start.","body":"I started on <a href=\"https://github.com/sedj601/SpaceInvadersFX\" rel=\"nofollow noreferrer\">this</a> a while back. It&#39;s full of issues, but maybe it can help you start."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1681334673,"post_id":75998329,"comment_id":134041826,"body_markdown":"Note: In JavaFX, you should only have one class extend `Application`. The application class represents the entire application and its lifecycle. It virtually never makes sense to have more than one. You don&#39;t have two applications. You have one application with multiple views, and you should write your code accordingly. Additionally, you may only call `launch` once per _JVM instance_ (i.e., only once per execution of your program).","body":"Note: In JavaFX, you should only have one class extend <code>Application</code>. The application class represents the entire application and its lifecycle. It virtually never makes sense to have more than one. You don&#39;t have two applications. You have one application with multiple views, and you should write your code accordingly. Additionally, you may only call <code>launch</code> once per <i>JVM instance</i> (i.e., only once per execution of your program)."}],"owner":{"account_id":28287405,"reputation":1,"user_id":21628122,"display_name":"Chris Vaffel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681320737,"creation_date":1681320737,"question_id":75998329,"body_markdown":"I followed a guide to make the space invaders game application but i also have a main menu that i created. I know how to make buttons switch FXML files but the application with the game has no clear FXML file\r\n\r\n\r\n```\r\npackage SpaceInvaders;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Node;\r\n\r\npublic class MenuController {\r\n    private Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n\r\n    public void start(ActionEvent event) throws IOException{\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;SpaceGame.fxml&quot;));\r\n        Parent gameRoot = loader.load();\r\n\r\n        Scene gameScene = new Scene(gameRoot);\r\n\r\n        Stage gameStage = new Stage();\r\n        gameStage.setScene(gameScene);\r\n        gameStage.show();\r\n    }\r\n\r\n    public void showHighscore(ActionEvent event) throws IOException{\r\n        root = FXMLLoader.load(getClass().getResource(&quot;SpaceHighscore.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    @FXML void quitGame(){\r\n        Platform.exit();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is my MenuController that i controlls the FXML i start by running this:\r\n\r\n\r\n```\r\npackage SpaceInvaders;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n\r\npublic class SpaceApp extends Application{\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {  \r\n     \r\n        \r\n    }\r\n    public static void main(String[] args) {\r\n        Application.launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd i want this game file to load when i press start:\r\n\r\n\r\n```\r\npackage SpaceInvaders;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\n\r\npublic class BedreSpaceApp extends Application {\r\n    private Pane root = new Pane();\r\n\r\n    \r\n    \r\n    private double time = 0;\r\n    \r\n    private double tick = 0.016;\r\n\r\n    private GameObject player = new GameObject(300, 750, 40, 40, &quot;player&quot;, 3, Color.BLUE);\r\n    public Parent createContent() {\r\n        root.setPrefSize(600, 800);\r\n\r\n        root.getChildren().add(player);\r\n        AnimationTimer timer = new AnimationTimer() {\r\n\r\n            @Override\r\n            public void handle(long now) {\r\n                update();\r\n            }\r\n            \r\n        };\r\n        timer.start();\r\n        newInvaders();\r\n    \r\n        return root;\r\n    }\r\n    \r\n    \r\n\r\n    private void newInvaders() {\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            if (i == 0) {\r\n                for (int j = 0; j &lt; 11; j++) {\r\n                    GameObject invader = new GameObject(40 + j * 50, 30, 20, 20, &quot;invader&quot;, 30, Color.PURPLE);\r\n                    root.getChildren().add(invader);\r\n                }\r\n            }\r\n            else if (i &gt; 0 &amp;&amp; i &lt; 3) {\r\n                for (int j = 0; j &lt; 11; j++) {\r\n                    GameObject invader = new GameObject(40 + j * 50, 30 + i * 30, 20, 20, &quot;invader&quot;, 20, Color.CRIMSON);\r\n                    root.getChildren().add(invader);\r\n            }\r\n            }\r\n            else {\r\n                for (int j = 0; j &lt; 11; j++) {\r\n                    GameObject invader = new GameObject(40 + j * 50, 30 + i * 30, 20, 20, &quot;invader&quot;, 10, Color.HOTPINK);\r\n                    root.getChildren().add(invader);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public List&lt;GameObject&gt; objects() {\r\n\t\treturn root.getChildren().stream().map(e -&gt; (GameObject)e).collect(Collectors.toList());\r\n    }\r\n        \r\n    public void shoot(GameObject shooter){\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            bullet(shooter);\r\n        }\r\n    }\r\n\r\n    private void update(){\r\n        time += tick;\r\n\r\n        objects().forEach(item -&gt; {\r\n            switch (item.getType()){\r\n\r\n                case &quot;invaderbullet&quot;:\r\n                    item.down();\r\n\r\n                    if(item.getBoundsInParent().intersects(player.getBoundsInParent())){\r\n                        player.injure(1);\r\n                        item.alive = false;\r\n                    }\r\n                break;\r\n                \r\n                case &quot;playerbullet&quot;:\r\n                    item.up();\r\n\r\n                    objects().stream().filter(f -&gt; f.getType().equals(&quot;invader&quot;)).forEach(invader -&gt; {\r\n                        if (item.getBoundsInParent().intersects(invader.getBoundsInParent())) {\r\n                            invader.injure(10);\r\n                            item.alive = false;\r\n                        }\r\n                    });\r\n                    break;\r\n\r\n                case &quot;invader&quot;:\r\n                    if (time &gt; 2) {\r\n                        if (Math.random() &lt; 0.1) {\r\n                            bullet(item);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n        root.getChildren().removeIf(n -&gt; {\r\n            GameObject item = (GameObject) n;\r\n            return !item.isAlive();\r\n        });\r\n\r\n        if (time &gt; 2) {\r\n            time = 0;\r\n        }\r\n    }\r\n    public void bullet(GameObject shooter) {\r\n        GameObject bullet = new GameObject(shooter.getTranslateX() + 20, shooter.getTranslateY(), 10, 5, shooter.getType() + &quot;bullet&quot;, 1, Color.PEACHPUFF);\r\n        root.getChildren().add(bullet);\r\n    }\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Scene scene = new Scene(createContent());\r\n        \r\n        scene.setOnKeyPressed(e -&gt; {\r\n            switch (e.getCode()) {\r\n                case A:\r\n                    player.left();\r\n                    break;\r\n                case D:\r\n                    player.right();\r\n                    break;\r\n                case SPACE:\r\n                    shoot(player);\r\n                    break;\r\n            }\r\n        });\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n","title":"Trying to recreate Space Invaders in Java and I don&#39;t understand how to make my Start Button work","body":"<p>I followed a guide to make the space invaders game application but i also have a main menu that i created. I know how to make buttons switch FXML files but the application with the game has no clear FXML file</p>\n<pre><code>package SpaceInvaders;\n\nimport java.io.IOException;\n\nimport javafx.application.Platform;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport javafx.scene.Node;\n\npublic class MenuController {\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n\n    public void start(ActionEvent event) throws IOException{\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;SpaceGame.fxml&quot;));\n        Parent gameRoot = loader.load();\n\n        Scene gameScene = new Scene(gameRoot);\n\n        Stage gameStage = new Stage();\n        gameStage.setScene(gameScene);\n        gameStage.show();\n    }\n\n    public void showHighscore(ActionEvent event) throws IOException{\n        root = FXMLLoader.load(getClass().getResource(&quot;SpaceHighscore.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    @FXML void quitGame(){\n        Platform.exit();\n    }\n}\n</code></pre>\n<p>This is my MenuController that i controlls the FXML i start by running this:</p>\n<pre><code>package SpaceInvaders;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class SpaceApp extends Application{\n\n\n    @Override\n    public void start(Stage stage) throws IOException {  \n     \n        \n    }\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n<p>And i want this game file to load when i press start:</p>\n<pre><code>package SpaceInvaders;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\n\npublic class BedreSpaceApp extends Application {\n    private Pane root = new Pane();\n\n    \n    \n    private double time = 0;\n    \n    private double tick = 0.016;\n\n    private GameObject player = new GameObject(300, 750, 40, 40, &quot;player&quot;, 3, Color.BLUE);\n    public Parent createContent() {\n        root.setPrefSize(600, 800);\n\n        root.getChildren().add(player);\n        AnimationTimer timer = new AnimationTimer() {\n\n            @Override\n            public void handle(long now) {\n                update();\n            }\n            \n        };\n        timer.start();\n        newInvaders();\n    \n        return root;\n    }\n    \n    \n\n    private void newInvaders() {\n        for (int i = 0; i &lt; 5; i++) {\n            if (i == 0) {\n                for (int j = 0; j &lt; 11; j++) {\n                    GameObject invader = new GameObject(40 + j * 50, 30, 20, 20, &quot;invader&quot;, 30, Color.PURPLE);\n                    root.getChildren().add(invader);\n                }\n            }\n            else if (i &gt; 0 &amp;&amp; i &lt; 3) {\n                for (int j = 0; j &lt; 11; j++) {\n                    GameObject invader = new GameObject(40 + j * 50, 30 + i * 30, 20, 20, &quot;invader&quot;, 20, Color.CRIMSON);\n                    root.getChildren().add(invader);\n            }\n            }\n            else {\n                for (int j = 0; j &lt; 11; j++) {\n                    GameObject invader = new GameObject(40 + j * 50, 30 + i * 30, 20, 20, &quot;invader&quot;, 10, Color.HOTPINK);\n                    root.getChildren().add(invader);\n                }\n            }\n        }\n    }\n\n    public List&lt;GameObject&gt; objects() {\n        return root.getChildren().stream().map(e -&gt; (GameObject)e).collect(Collectors.toList());\n    }\n        \n    public void shoot(GameObject shooter){\n        for (int i = 0; i &lt; 5; i++) {\n            bullet(shooter);\n        }\n    }\n\n    private void update(){\n        time += tick;\n\n        objects().forEach(item -&gt; {\n            switch (item.getType()){\n\n                case &quot;invaderbullet&quot;:\n                    item.down();\n\n                    if(item.getBoundsInParent().intersects(player.getBoundsInParent())){\n                        player.injure(1);\n                        item.alive = false;\n                    }\n                break;\n                \n                case &quot;playerbullet&quot;:\n                    item.up();\n\n                    objects().stream().filter(f -&gt; f.getType().equals(&quot;invader&quot;)).forEach(invader -&gt; {\n                        if (item.getBoundsInParent().intersects(invader.getBoundsInParent())) {\n                            invader.injure(10);\n                            item.alive = false;\n                        }\n                    });\n                    break;\n\n                case &quot;invader&quot;:\n                    if (time &gt; 2) {\n                        if (Math.random() &lt; 0.1) {\n                            bullet(item);\n                        }\n                    }\n                    break;\n            }\n        });\n        root.getChildren().removeIf(n -&gt; {\n            GameObject item = (GameObject) n;\n            return !item.isAlive();\n        });\n\n        if (time &gt; 2) {\n            time = 0;\n        }\n    }\n    public void bullet(GameObject shooter) {\n        GameObject bullet = new GameObject(shooter.getTranslateX() + 20, shooter.getTranslateY(), 10, 5, shooter.getType() + &quot;bullet&quot;, 1, Color.PEACHPUFF);\n        root.getChildren().add(bullet);\n    }\n    @Override\n    public void start(Stage stage) throws Exception {\n        Scene scene = new Scene(createContent());\n        \n        scene.setOnKeyPressed(e -&gt; {\n            switch (e.getCode()) {\n                case A:\n                    player.left();\n                    break;\n                case D:\n                    player.right();\n                    break;\n                case SPACE:\n                    shoot(player);\n                    break;\n            }\n        });\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    \n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9488,"page":504,"page_size":100}
