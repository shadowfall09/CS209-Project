{"items":[{"tags":["python","java","pyspark"],"owner":{"account_id":28065617,"reputation":33,"user_id":21439055,"display_name":"Jade Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679637382,"creation_date":1679578024,"question_id":75823614,"body_markdown":"I&#39;am trying to writing a dataframe to parquet use \r\n`df.write.parquet(&quot;tmp&quot;, mode=&quot;append&quot;)`\r\nBecause I have lots 7z files to read and extract data,so I call this code every time I got the data I want.It runs successfully sometimes,but sometimes this error occurs:\r\n\r\n```\r\n df.write.parquet(&quot;tmp&quot;, mode=&quot;append&quot;)\r\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/pyspark/sql/readwriter.py&quot;, line 1140, in parquet\r\n    self._jwrite.parquet(path)\r\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\r\n    return_value = get_return_value(\r\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\r\n    return f(*a, **kw)\r\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\r\n    raise Py4JJavaError(\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o356.parquet.\r\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 922 in stage 29.0 failed 1 times, most recent failure: Lost task 922.0 in stage 29.0 (TID 8684) (10.77.50.130 executor driver): java.net.SocketException: Connection reset\r\n```\r\nI searched the internet and in vain,I also asked chatgpt,it said due to internet connection.So what actually causes this?\r\nMy spark version is spark-3.3.2,and my java version is jdk-11.0.18\r\n\r\nexpecting a solution","title":"Py4JJavaError When writing dataframe to parquet","body":"<p>I'am trying to writing a dataframe to parquet use\n<code>df.write.parquet(&quot;tmp&quot;, mode=&quot;append&quot;)</code>\nBecause I have lots 7z files to read and extract data,so I call this code every time I got the data I want.It runs successfully sometimes,but sometimes this error occurs:</p>\n<pre><code> df.write.parquet(&quot;tmp&quot;, mode=&quot;append&quot;)\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/pyspark/sql/readwriter.py&quot;, line 1140, in parquet\n    self._jwrite.parquet(path)\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\n    return_value = get_return_value(\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\n    return f(*a, **kw)\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\n    raise Py4JJavaError(\npy4j.protocol.Py4JJavaError: An error occurred while calling o356.parquet.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 922 in stage 29.0 failed 1 times, most recent failure: Lost task 922.0 in stage 29.0 (TID 8684) (10.77.50.130 executor driver): java.net.SocketException: Connection reset\n</code></pre>\n<p>I searched the internet and in vain,I also asked chatgpt,it said due to internet connection.So what actually causes this?\nMy spark version is spark-3.3.2,and my java version is jdk-11.0.18</p>\n<p>expecting a solution</p>\n"},{"tags":["java","spring-boot","prometheus","spring-boot-actuator"],"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679637228,"creation_date":1676400880,"question_id":75452165,"body_markdown":"I&#39;ve been working with spring boot 2.7 and its tomcat server. Today, I&#39;m trying out spring 3 with webflux and netty. As always I want to add the prometheus endpoint but I can&#39;t seem to make it work. Here&#39;s what I did:\r\n\r\nI added the following dependencies:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- Required for the prometheus actuator endpoint --&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI have done the following configuration:\r\n```\r\nmanagement:\r\n  endpoint:\r\n    metrics.enabled: true\r\n    prometheus.enabled: true\r\n  endpoints.web:\r\n    # Removing /actuator from all paths\r\n    base-path: /\r\n    path-mapping:\r\n      prometheus: metrics\r\n    exposure.include: health,prometheus\r\n```\r\n\r\nBut whenever I call `/metrics` that usually works on all my other projects I get a 404. I&#39;ve tried removing all the specificities like the path-mapping or the base-path change to no avail.\r\n\r\nI&#39;m kinda stuck at this point.\r\n**What am I missing here?**","title":"How can I get my prometheus endpoint with spring boot 3.0 and webflux?","body":"<p>I've been working with spring boot 2.7 and its tomcat server. Today, I'm trying out spring 3 with webflux and netty. As always I want to add the prometheus endpoint but I can't seem to make it work. Here's what I did:</p>\n<p>I added the following dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;!-- Required for the prometheus actuator endpoint --&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have done the following configuration:</p>\n<pre><code>management:\n  endpoint:\n    metrics.enabled: true\n    prometheus.enabled: true\n  endpoints.web:\n    # Removing /actuator from all paths\n    base-path: /\n    path-mapping:\n      prometheus: metrics\n    exposure.include: health,prometheus\n</code></pre>\n<p>But whenever I call <code>/metrics</code> that usually works on all my other projects I get a 404. I've tried removing all the specificities like the path-mapping or the base-path change to no avail.</p>\n<p>I'm kinda stuck at this point.\n<strong>What am I missing here?</strong></p>\n"},{"tags":["java","android-studio","kotlin","intellij-idea","suppress-warnings"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1679401543,"post_id":75800799,"comment_id":133711836,"body_markdown":"Just ignoring all warnings on a certain piece of code might also not be the best option as this could swallow warnings you would care about. Don&#39;t the logs or error messages tell you which exact warning it would be?","body":"Just ignoring all warnings on a certain piece of code might also not be the best option as this could swallow warnings you would care about. Don&#39;t the logs or error messages tell you which exact warning it would be?"},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1679403199,"post_id":75800799,"comment_id":133712375,"body_markdown":"@Thomas The premise is that you know that this warning is an IDE error or other reasons, which means that this is actually a wrong warning. IDEA prompts an error, but does not provide a value for `@Suppress`","body":"@Thomas The premise is that you know that this warning is an IDE error or other reasons, which means that this is actually a wrong warning. IDEA prompts an error, but does not provide a value for <code>@Suppress</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679403640,"post_id":75800799,"comment_id":133712524,"body_markdown":"The issue may be that IDEs have their own sets of checks and configurations on how to handle those. `@SuppressWarnings` is normally understood by the compiler or libraries that are working on the code. IDE-specific warnings would normally be disabled in the project settings and not the code itself (or it would be done via IDE-specific values or approaches which could be something other than `@SupressWarnings`)","body":"The issue may be that IDEs have their own sets of checks and configurations on how to handle those. <code>@SuppressWarnings</code> is normally understood by the compiler or libraries that are working on the code. IDE-specific warnings would normally be disabled in the project settings and not the code itself (or it would be done via IDE-specific values or approaches which could be something other than <code>@SupressWarnings</code>)"},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1679403802,"post_id":75800799,"comment_id":133712559,"body_markdown":"@Thomas Maybe the library is causing it, but I&#39;m not really concerned about where the errors come from, I just want to know how to eliminate them.","body":"@Thomas Maybe the library is causing it, but I&#39;m not really concerned about where the errors come from, I just want to know how to eliminate them."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679404095,"post_id":75800799,"comment_id":133712649,"body_markdown":"I think you misunderstood me: I didn&#39;t refer to causes but who&#39;s able to understand the annotations or who is able to detect certain conditions. So if a certain IDE or any other tool is detecting warnings I&#39;d not suppress those right in the code as this might be a very specific setting for that tool or IDE only. Instead, you might need to look into the tool&#39;s/IDE&#39;s settings. If you just compile on the command line do you get that warning as well?","body":"I think you misunderstood me: I didn&#39;t refer to causes but who&#39;s able to understand the annotations or who is able to detect certain conditions. So if a certain IDE or any other tool is detecting warnings I&#39;d not suppress those right in the code as this might be a very specific setting for that tool or IDE only. Instead, you might need to look into the tool&#39;s/IDE&#39;s settings. If you just compile on the command line do you get that warning as well?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679404262,"post_id":75800799,"comment_id":133712699,"body_markdown":"Btw, &quot;it is difficult for you not to notice it, so it is necessary to eliminate this warning, maybe I have a little obsessive-compulsive disorder&quot; - I totally agree with you. I wouldn&#39;t call this OCD but it&#39;s actually imperative to eliminate errors and warnings as much as possible. The intent of warnings and errors is to draw your attention so you need to avoid becoming numb to those. Hence, removing false positives and fixing errors/warnings is a must.","body":"Btw, &quot;it is difficult for you not to notice it, so it is necessary to eliminate this warning, maybe I have a little obsessive-compulsive disorder&quot; - I totally agree with you. I wouldn&#39;t call this OCD but it&#39;s actually imperative to eliminate errors and warnings as much as possible. The intent of warnings and errors is to draw your attention so you need to avoid becoming numb to those. Hence, removing false positives and fixing errors/warnings is a must."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1679405455,"post_id":75800799,"comment_id":133713106,"body_markdown":"@Thomas I understand your concern, I also know the need for a warning, But that&#39;s not what I&#39;m talking about in this question. Sorry I didn&#39;t mention it earlier, this isn&#39;t actually a error, code works fine.","body":"@Thomas I understand your concern, I also know the need for a warning, But that&#39;s not what I&#39;m talking about in this question. Sorry I didn&#39;t mention it earlier, this isn&#39;t actually a error, code works fine."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679406115,"post_id":75800799,"comment_id":133713322,"body_markdown":"No, I think I get you but we still may have a misunderstanding. As I said this may be a a false positive which is only reported by the IDE (and not the compiler or any library) so it may have to be the IDE that is told to ignore this error. I wouldn&#39;t ignore all errors/warnings just because you don&#39;t know the name (and you don&#39;t even know the IDE would use the annotation for this, do you?) - so if this is specific to a certain IDE then look for a IDE-specific solution.","body":"No, I think I get you but we still may have a misunderstanding. As I said this may be a a false positive which is only reported by the IDE (and not the compiler or any library) so it may have to be the IDE that is told to ignore this error. I wouldn&#39;t ignore all errors/warnings just because you don&#39;t know the name (and you don&#39;t even know the IDE would use the annotation for this, do you?) - so if this is specific to a certain IDE then look for a IDE-specific solution."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1679406637,"post_id":75800799,"comment_id":133713497,"body_markdown":"@Thomas I don&#39;t know whether it is Gradle or the IDE caused the error. It seems that there is no clear answer in the issue link. I only know that this error will appear in `IDEA` and `Android Studio`, I haven&#39;t tested other IDEs, in a way this may be considered `a IDE-specific`.","body":"@Thomas I don&#39;t know whether it is Gradle or the IDE caused the error. It seems that there is no clear answer in the issue link. I only know that this error will appear in <code>IDEA</code> and <code>Android Studio</code>, I haven&#39;t tested other IDEs, in a way this may be considered <code>a IDE-specific</code>."}],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679637181,"creation_date":1679399370,"question_id":75800799,"body_markdown":"I recently ran into a compilation error that was red flagging files as well.\r\n```kotlin\r\n@Suppress(&quot;DSL_SCOPE_VIOLATION&quot;)\r\nplugins {\r\n    alias(libs.plugins.spring.framework.boot) apply false\r\n}\r\n```\r\nI know IDEA will suggest what the error type is, but it might not. The example above is caused by a bug in `Android Studio`.\r\n\r\nI don&#39;t want to waste time trying to figure out which type error it is. After all, if you are lucky you will find it. If you are unlucky, it will take a lot of time, which I think is unnecessary.\r\n\r\nBut this kind of compilation warning marks the file name in red, and it is difficult for you not to notice it, so it is necessary to eliminate this warning, maybe I have a little obsessive-compulsive disorder.\r\n\r\nI&#39;m wondering how to ignore the warning without knowing what the concrete type is, Can you tell me a solution?\r\n1. It is acceptable to ignore warnings using IDE, either `Android Studio` or `IDEA`, because in my opinion these two IDEs have great similarities.\r\n2. It is also acceptable to use `java` language annotations or `kotlin` language annotations\r\n3. It is unacceptable to simply ignore all compilation warnings for the entire project.\r\n\r\n##### first edit 2023-3-21\r\nI&#39;m pretty sure this isn&#39;t actually a error, if you want you can check [this](https://youtrack.jetbrains.com/issue/KTIJ-19369) out for more on this example.","title":"How to use suppress warnings without knowing the specific error type?","body":"<p>I recently ran into a compilation error that was red flagging files as well.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Suppress(&quot;DSL_SCOPE_VIOLATION&quot;)\nplugins {\n    alias(libs.plugins.spring.framework.boot) apply false\n}\n</code></pre>\n<p>I know IDEA will suggest what the error type is, but it might not. The example above is caused by a bug in <code>Android Studio</code>.</p>\n<p>I don't want to waste time trying to figure out which type error it is. After all, if you are lucky you will find it. If you are unlucky, it will take a lot of time, which I think is unnecessary.</p>\n<p>But this kind of compilation warning marks the file name in red, and it is difficult for you not to notice it, so it is necessary to eliminate this warning, maybe I have a little obsessive-compulsive disorder.</p>\n<p>I'm wondering how to ignore the warning without knowing what the concrete type is, Can you tell me a solution?</p>\n<ol>\n<li>It is acceptable to ignore warnings using IDE, either <code>Android Studio</code> or <code>IDEA</code>, because in my opinion these two IDEs have great similarities.</li>\n<li>It is also acceptable to use <code>java</code> language annotations or <code>kotlin</code> language annotations</li>\n<li>It is unacceptable to simply ignore all compilation warnings for the entire project.</li>\n</ol>\n<h5>first edit 2023-3-21</h5>\n<p>I'm pretty sure this isn't actually a error, if you want you can check <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-19369\" rel=\"nofollow noreferrer\">this</a> out for more on this example.</p>\n"},{"tags":["java","android","flutter","keystore"],"comments":[{"owner":{"account_id":6704249,"reputation":1419,"user_id":8364900,"accept_rate":69,"display_name":"ThinkAndCode"},"score":0,"creation_date":1626247927,"post_id":67631927,"comment_id":120838772,"body_markdown":"This solution solved my issue -- https://github.com/flutter/website/issues/5871#issuecomment-855597669","body":"This solution solved my issue -- <a href=\"https://github.com/flutter/website/issues/5871#issuecomment-855597669\" rel=\"nofollow noreferrer\">github.com/flutter/website/issues/5871#issuecomment-85559766&zwnj;&#8203;9</a>"},{"owner":{"account_id":9945900,"reputation":3598,"user_id":8164116,"display_name":"Daksh Gargas"},"score":0,"creation_date":1642116201,"post_id":67631927,"comment_id":124993276,"body_markdown":"Mark this as &quot;answered&quot; pls: https://stackoverflow.com/a/68773266/8164116","body":"Mark this as &quot;answered&quot; pls: <a href=\"https://stackoverflow.com/a/68773266/8164116\">stackoverflow.com/a/68773266/8164116</a>"}],"answers":[{"tags":[],"owner":{"account_id":16121949,"reputation":1453,"user_id":11637725,"display_name":"Jason Perfetto"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1621579867,"creation_date":1621579867,"answer_id":67632064,"question_id":67631927,"body_markdown":"It turns out i was generating my signing key using a different Java Version than my app was using to build the app. You can check this by running flutter doctor -v and seeing where the Java binary is located, and comparing it to when you run &quot;which java&quot;.\r\n\r\nThe solution is to run your keygen command prefixed with the location of the Java bin found in the flutter doctor output like so:\r\n\r\n    /Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/keytool -genkey -v -keystore ~/pc-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias pckey\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>It turns out i was generating my signing key using a different Java Version than my app was using to build the app. You can check this by running flutter doctor -v and seeing where the Java binary is located, and comparing it to when you run &quot;which java&quot;.</p>\n<p>The solution is to run your keygen command prefixed with the location of the Java bin found in the flutter doctor output like so:</p>\n<pre><code>/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/keytool -genkey -v -keystore ~/pc-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias pckey\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22180724,"reputation":19,"user_id":16424480,"display_name":"Ahmed Maher"},"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1645451233,"creation_date":1625996020,"answer_id":68334980,"question_id":67631927,"body_markdown":"in `android` &gt; `app` folder, open `build.gradle` and make sure to keep\r\n\r\n```\r\nbuildTypes {\r\n    release {\r\n        signingConfig signingConfigs.debug\r\n    }\r\n}\r\n```\r\n\r\nand before building release bundle, change it to\r\n\r\n```\r\nbuildTypes {\r\n    release {\r\n        signingConfig signingConfigs.release\r\n    }\r\n}\r\n```","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>in <code>android</code> &gt; <code>app</code> folder, open <code>build.gradle</code> and make sure to keep</p>\n<pre><code>buildTypes {\n    release {\n        signingConfig signingConfigs.debug\n    }\n}\n</code></pre>\n<p>and before building release bundle, change it to</p>\n<pre><code>buildTypes {\n    release {\n        signingConfig signingConfigs.release\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5763632,"reputation":2744,"user_id":4549220,"accept_rate":80,"display_name":"Md Tariqul Islam"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1626356533,"creation_date":1626356533,"answer_id":68394992,"question_id":67631927,"body_markdown":"It solves me when I remove debug.keystore from the bellow directory. \r\n\r\n/Users/tariqul/.android/debug.keystore\r\n\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>It solves me when I remove debug.keystore from the bellow directory.</p>\n<p>/Users/tariqul/.android/debug.keystore</p>\n"},{"tags":[],"owner":{"account_id":16811033,"reputation":2119,"user_id":12154054,"display_name":"Azhar Ali"},"down_vote_count":0,"up_vote_count":135,"is_accepted":false,"score":135,"last_activity_date":1631847164,"creation_date":1628861647,"answer_id":68773266,"question_id":67631927,"body_markdown":"I was getting the same error, I try this command\r\n\r\n    keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n\r\nwith extra attribute\r\n\r\n    -storetype JKS\r\n\r\nit helps me to solve my problem and successfully create bundle.\r\n\r\nThe -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12.\r\n\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I was getting the same error, I try this command</p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n</code></pre>\n<p>with extra attribute</p>\n<pre><code>-storetype JKS\n</code></pre>\n<p>it helps me to solve my problem and successfully create bundle.</p>\n<p>The -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12.</p>\n"},{"tags":[],"owner":{"account_id":11326829,"reputation":2754,"user_id":8305467,"display_name":"Ryosuke Hujisawa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629353240,"creation_date":1629353240,"answer_id":68842797,"question_id":67631927,"body_markdown":"I don&#39;t know if the way I solved the problem is the right way, and I don&#39;t know if others will solve it this way, but I think I would have solved it if I had done a lot of things.\r\n\r\nI adapted JAVA_HOME to the form of the java binary that came up with `flutter doctor -v`  like this\r\n\r\n```\r\n% flutter doctor -v                            \r\n[✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n.\r\n.\r\n.\r\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\r\n\r\n```\r\n\r\nand set `JAVA_HOME` to `.zshrc`\r\n\r\n```\r\n% cd ~\r\n% vi .zshrc\r\n\r\n```\r\n\r\n```\r\nexport JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home&quot;\r\n```\r\n\r\n```\r\n% echo $JAVA_HOME\r\n/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home\r\n```\r\n\r\nand \r\n\r\n```\r\n% flutter clean\r\n% flutter build appbundle\r\n```\r\n\r\nand that works\r\n\r\n```\r\n% flutter build appbundle\r\n\r\n&#128170; Building with sound null safety &#128170;\r\n\r\nRunning Gradle task &#39;bundleRelease&#39;...                                  \r\nRunning Gradle task &#39;bundleRelease&#39;... Done                         4.1s\r\n✓ Built build/app/outputs/bundle/release/app-release.aab (21.2MB).\r\n\r\n```","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I don't know if the way I solved the problem is the right way, and I don't know if others will solve it this way, but I think I would have solved it if I had done a lot of things.</p>\n<p>I adapted JAVA_HOME to the form of the java binary that came up with <code>flutter doctor -v</code>  like this</p>\n<pre><code>% flutter doctor -v                            \n[✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n.\n.\n.\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\n\n</code></pre>\n<p>and set <code>JAVA_HOME</code> to <code>.zshrc</code></p>\n<pre><code>% cd ~\n% vi .zshrc\n\n</code></pre>\n<pre><code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home&quot;\n</code></pre>\n<pre><code>% echo $JAVA_HOME\n/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home\n</code></pre>\n<p>and</p>\n<pre><code>% flutter clean\n% flutter build appbundle\n</code></pre>\n<p>and that works</p>\n<pre><code>% flutter build appbundle\n\n💪 Building with sound null safety 💪\n\nRunning Gradle task 'bundleRelease'...                                  \nRunning Gradle task 'bundleRelease'... Done                         4.1s\n✓ Built build/app/outputs/bundle/release/app-release.aab (21.2MB).\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8090239,"reputation":43,"user_id":6096392,"display_name":"Shirish Koirala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632685927,"creation_date":1632685495,"answer_id":69338398,"question_id":67631927,"body_markdown":"I got the same issue yesterday. I deleted my old debug key, which is located at `/Users/&lt;username&gt;/.android/debug.keystore`. I think this is the simplest way to handle this problem for a Newbie like me.\r\n\r\nP.S. Not sure about the &quot;release&quot; mode. This just works for &quot;debug&quot; mode.\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I got the same issue yesterday. I deleted my old debug key, which is located at <code>/Users/&lt;username&gt;/.android/debug.keystore</code>. I think this is the simplest way to handle this problem for a Newbie like me.</p>\n<p>P.S. Not sure about the &quot;release&quot; mode. This just works for &quot;debug&quot; mode.</p>\n"},{"tags":[],"owner":{"account_id":14685171,"reputation":1167,"user_id":10605394,"display_name":"Tokiniaina Eddy Andriamiandris"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1633899564,"creation_date":1633898959,"answer_id":69518880,"question_id":67631927,"body_markdown":"Note:\r\nThe keytool command might not be in your path—it’s part of Java, which is installed as part of Android Studio. For the concrete path, run flutter doctor -v and locate the path printed after ‘Java binary at:’. Then use that fully qualified path replacing java (at the end) with keytool. If your path includes space-separated names, such as Program Files, use platform-appropriate notation for the names. For example, on Mac/Linux use Program\\ Files, and on Windows use &quot;Program Files&quot;.\r\nThe -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12\r\n\r\n**1- remove upload-keystore.jks** \r\n\r\n    a-  /android/app/upload-keystore.jks\r\n    b- /home/user/upload-keystore.jks\r\n\r\n2- **Regenerate file :**\r\n\r\n    keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n\r\n3- copy file /home/user/**upload-keystore.jks** to android/app/\r\n\r\n4- `flutter clean`\r\n\r\n5- `Flutter build appbundle` \r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Note:\nThe keytool command might not be in your path—it’s part of Java, which is installed as part of Android Studio. For the concrete path, run flutter doctor -v and locate the path printed after ‘Java binary at:’. Then use that fully qualified path replacing java (at the end) with keytool. If your path includes space-separated names, such as Program Files, use platform-appropriate notation for the names. For example, on Mac/Linux use Program\\ Files, and on Windows use &quot;Program Files&quot;.\nThe -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12</p>\n<p><strong>1- remove upload-keystore.jks</strong></p>\n<pre><code>a-  /android/app/upload-keystore.jks\nb- /home/user/upload-keystore.jks\n</code></pre>\n<p>2- <strong>Regenerate file :</strong></p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n</code></pre>\n<p>3- copy file /home/user/<strong>upload-keystore.jks</strong> to android/app/</p>\n<p>4- <code>flutter clean</code></p>\n<p>5- <code>Flutter build appbundle</code></p>\n"},{"tags":[],"owner":{"account_id":1145147,"reputation":89,"user_id":5958045,"display_name":"organicnz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635087160,"creation_date":1635087160,"answer_id":69697914,"question_id":67631927,"body_markdown":"This works fine for me :)\r\n\r\n    /Users/macbookpro/Library/Java/JavaVirtualMachines/openjdk-16.0.1/Contents/Home/bin/keytool -genkey -v -keystore android/app/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>This works fine for me :)</p>\n<pre><code>/Users/macbookpro/Library/Java/JavaVirtualMachines/openjdk-16.0.1/Contents/Home/bin/keytool -genkey -v -keystore android/app/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9224544,"reputation":1014,"user_id":6852754,"display_name":"Graciela Carrillo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1636212917,"creation_date":1636212917,"answer_id":69865393,"question_id":67631927,"body_markdown":"**IF YOU CAN&#39;T/DON&#39;T WANT TO GENERATE NEW KEYS\r\n.**\r\n\r\nGenerating new keys was not an option for me because our app is already in production and contacting google was such a hassle. As others have pointed out, the build fails because the app was signed with a java version higher than Java 11. But the HmacPBESHA256 algorithm is not available in java 11 which is shipped with Android Studio. That is, Android Studio is trying to build your app with Java 11.\r\n\r\nSo the solution for me was to get Android Studio to build the aab with my local java version, not java 11. To tell Android Studio which JDK version to use, in `gradle.properties`, I added: \r\n\r\n`org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-15.0.2.jdk/Contents/Home`\r\n\r\nAfter this, I was able to build my aab without any issues with the keys I already had.","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p><strong>IF YOU CAN'T/DON'T WANT TO GENERATE NEW KEYS\n.</strong></p>\n<p>Generating new keys was not an option for me because our app is already in production and contacting google was such a hassle. As others have pointed out, the build fails because the app was signed with a java version higher than Java 11. But the HmacPBESHA256 algorithm is not available in java 11 which is shipped with Android Studio. That is, Android Studio is trying to build your app with Java 11.</p>\n<p>So the solution for me was to get Android Studio to build the aab with my local java version, not java 11. To tell Android Studio which JDK version to use, in <code>gradle.properties</code>, I added:</p>\n<p><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-15.0.2.jdk/Contents/Home</code></p>\n<p>After this, I was able to build my aab without any issues with the keys I already had.</p>\n"},{"tags":[],"owner":{"account_id":14765604,"reputation":1,"user_id":10663746,"display_name":"Waleed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637368778,"creation_date":1637368778,"answer_id":70042341,"question_id":67631927,"body_markdown":"I found this problem befor and i solve it when i change the JDK from 11 version to 16 version in windows 10 64bit","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I found this problem befor and i solve it when i change the JDK from 11 version to 16 version in windows 10 64bit</p>\n"},{"tags":[],"owner":{"account_id":186196,"reputation":105,"user_id":423405,"display_name":"Jim Jenkins"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639410670,"creation_date":1639410670,"answer_id":70337364,"question_id":67631927,"body_markdown":"Like Graciela, I am unable to recreate the certificate. However, I using Java 12+ in Android Studio isn&#39;t a good fix for me. Using an updated Java version works for deploying from my machine, but not from the CI server.\r\n\r\nInstead, I exported and imported the certificate to change the signing algorithm. \r\n\r\nHere are the steps I used:\r\n\r\nExport the certificate to PKCS12 using Java v12+:\r\n\r\n    keytool -importkeystore -srckeystore ./upload-keystore.jks -destkeystore ./pcstore.p12 -deststoretype PKCS12\r\n\r\nUsing openssl, export the key as .pem\r\n\r\n    openssl pkcs12 -nodes -in pcstore.p12 -out keystore.pem\r\n\r\nCreate a new .p12 store using openssl\r\n\r\n    openssl pkcs12 -export -in keystore.pem -out new-pcstore.p12 -name upload\r\n\r\nCreate a new jks store using the Android Studio version of Java (Java 11) by importing the .p12 store:\r\n\r\n    /Applications/Android\\ Studio.app/Contents/jre/Contents/Home/bin/keytool -importkeystore -srckeystore ./new-pcstore.p12 -destkeystore ./new-upload-keystore.jks -deststoretype jks\r\n\r\nNow the keystore works with Java 11 and it&#39;s using the same certificate I signed the app with before.","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Like Graciela, I am unable to recreate the certificate. However, I using Java 12+ in Android Studio isn't a good fix for me. Using an updated Java version works for deploying from my machine, but not from the CI server.</p>\n<p>Instead, I exported and imported the certificate to change the signing algorithm.</p>\n<p>Here are the steps I used:</p>\n<p>Export the certificate to PKCS12 using Java v12+:</p>\n<pre><code>keytool -importkeystore -srckeystore ./upload-keystore.jks -destkeystore ./pcstore.p12 -deststoretype PKCS12\n</code></pre>\n<p>Using openssl, export the key as .pem</p>\n<pre><code>openssl pkcs12 -nodes -in pcstore.p12 -out keystore.pem\n</code></pre>\n<p>Create a new .p12 store using openssl</p>\n<pre><code>openssl pkcs12 -export -in keystore.pem -out new-pcstore.p12 -name upload\n</code></pre>\n<p>Create a new jks store using the Android Studio version of Java (Java 11) by importing the .p12 store:</p>\n<pre><code>/Applications/Android\\ Studio.app/Contents/jre/Contents/Home/bin/keytool -importkeystore -srckeystore ./new-pcstore.p12 -destkeystore ./new-upload-keystore.jks -deststoretype jks\n</code></pre>\n<p>Now the keystore works with Java 11 and it's using the same certificate I signed the app with before.</p>\n"},{"tags":[],"owner":{"account_id":19694914,"reputation":11,"user_id":14418985,"display_name":"njpollob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639450936,"creation_date":1639450590,"answer_id":70343270,"question_id":67631927,"body_markdown":"For my case, I have used gradle 7.3 build tool to compile the source. it is worked without any problem.\r\n\r\nFirst, download gradle from this link: https://gradle.org/releases/\r\n\r\nUnzip it in your preferred location\r\n\r\nThan run this command: `export PATH=$PATH:/gradle_bin_path`\r\n\r\nThis will add gradle binary for current terminal session only. If you want to add this path for permanent, you need to follow extra step:\r\n\r\n\r\nfirst run this command to get what terminal you are using:\r\n\r\n    echo $SHELL\r\n\r\nI am using zsh as shell, so if the output is /bin/zsh than run this following commands:\r\n\r\n    sudo -s\r\n    cd /users/username\r\n    ls\r\n    vim .zshrc\r\n\r\nBefore editing the .zshrc file, be sure to have a backup of this file\r\n\r\nAnd than add following line to this file: `export PATH=$PATH:/gradle_bin_path`\r\n\r\n\r\nSave and quit the editor.\r\n\r\nThan run this command: `source .zshrc`\r\n\r\nThe path list now updated. Let&#39;s run this command:\r\n\r\n    gradle --version\r\n\r\nIt should show current gradle version.\r\n\r\nNow, time to compile the app. lets cd to directory where your project is. \r\n\r\nThen, run this command: `gradle clean`\r\n\r\nWait till gradle finish sync your project. once finish sync, run this command:\r\n\r\n    gradle build\r\n\r\n\r\nFinally, you will be able to solve your problem.\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>For my case, I have used gradle 7.3 build tool to compile the source. it is worked without any problem.</p>\n<p>First, download gradle from this link: <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">https://gradle.org/releases/</a></p>\n<p>Unzip it in your preferred location</p>\n<p>Than run this command: <code>export PATH=$PATH:/gradle_bin_path</code></p>\n<p>This will add gradle binary for current terminal session only. If you want to add this path for permanent, you need to follow extra step:</p>\n<p>first run this command to get what terminal you are using:</p>\n<pre><code>echo $SHELL\n</code></pre>\n<p>I am using zsh as shell, so if the output is /bin/zsh than run this following commands:</p>\n<pre><code>sudo -s\ncd /users/username\nls\nvim .zshrc\n</code></pre>\n<p>Before editing the .zshrc file, be sure to have a backup of this file</p>\n<p>And than add following line to this file: <code>export PATH=$PATH:/gradle_bin_path</code></p>\n<p>Save and quit the editor.</p>\n<p>Than run this command: <code>source .zshrc</code></p>\n<p>The path list now updated. Let's run this command:</p>\n<pre><code>gradle --version\n</code></pre>\n<p>It should show current gradle version.</p>\n<p>Now, time to compile the app. lets cd to directory where your project is.</p>\n<p>Then, run this command: <code>gradle clean</code></p>\n<p>Wait till gradle finish sync your project. once finish sync, run this command:</p>\n<pre><code>gradle build\n</code></pre>\n<p>Finally, you will be able to solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":16339535,"reputation":553,"user_id":11800750,"display_name":"Muhamad Haydar Jawad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644148818,"creation_date":1644148818,"answer_id":71006914,"question_id":67631927,"body_markdown":"AS I lost my Keystore, and was unable to return it back, read google documentation about getting a new key.\r\n\r\nGoogle: If you’ve lost your private upload key or it’s been compromised, you can create a new one, and then ask your account owner to contact support to reset the key. When contacting support, make sure your account owner attaches the upload_certificate.pem file.\r\n\r\nI emailed google at the following link:\r\nhttps://support.google.com/googleplay/android-developer/contact/key\r\n\r\nThey sent me the following commands to re-generate keystore and certificate.pem:\r\n\r\nHere’s how to generate and register a new upload key:\r\n\r\nFollow the instructions in the Android Studio Help Center to generate a new key. It must be different from any previous keys. Alternatively, you can use the following command line to generate a new key:\r\n\r\n**keytool -genkeypair -alias upload -keyalg RSA -keysize 2048 -validity 9125 -keystore keystore.jks**\r\n\r\nThis key must be a 2048 bit RSA key and have 25-year validity.\r\nExport the certificate for that key to PEM format:\r\n\r\n**keytool -export -rfc -alias upload -file upload_certificate.pem -keystore keystore.jks** \r\n\r\nReply to this email and attach the upload_certificate.pem file, after replying, they will send an email mentioning your key store will be updated after 2 days, \r\n\r\nnow you have a new key store, in order to generate a signed bundle keys, you must do the following: \r\n\r\n1- Go to the android side in your flutter (2.8.1) project. \r\n2- go to settings&gt; Build, Execution ..&gt; Gradle&gt; \r\n3- change gradle JDK to something between 16 and 11, **JDK 15 worked for me.\r\n\r\n \r\n**note: if you don&#39;t have jdk, you can download it in same place Gradle JDK with jdk \r\ndownload option. \r\nnote: you must build your signed app bundle within android only not inside flutter framework.**  \r\n\r\n\r\n\r\n ","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>AS I lost my Keystore, and was unable to return it back, read google documentation about getting a new key.</p>\n<p>Google: If you’ve lost your private upload key or it’s been compromised, you can create a new one, and then ask your account owner to contact support to reset the key. When contacting support, make sure your account owner attaches the upload_certificate.pem file.</p>\n<p>I emailed google at the following link:\n<a href=\"https://support.google.com/googleplay/android-developer/contact/key\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/contact/key</a></p>\n<p>They sent me the following commands to re-generate keystore and certificate.pem:</p>\n<p>Here’s how to generate and register a new upload key:</p>\n<p>Follow the instructions in the Android Studio Help Center to generate a new key. It must be different from any previous keys. Alternatively, you can use the following command line to generate a new key:</p>\n<p><strong>keytool -genkeypair -alias upload -keyalg RSA -keysize 2048 -validity 9125 -keystore keystore.jks</strong></p>\n<p>This key must be a 2048 bit RSA key and have 25-year validity.\nExport the certificate for that key to PEM format:</p>\n<p><strong>keytool -export -rfc -alias upload -file upload_certificate.pem -keystore keystore.jks</strong></p>\n<p>Reply to this email and attach the upload_certificate.pem file, after replying, they will send an email mentioning your key store will be updated after 2 days,</p>\n<p>now you have a new key store, in order to generate a signed bundle keys, you must do the following:</p>\n<p>1- Go to the android side in your flutter (2.8.1) project.\n2- go to settings&gt; Build, Execution ..&gt; Gradle&gt;\n3- change gradle JDK to something between 16 and 11, **JDK 15 worked for me.</p>\n<p><strong>note: if you don't have jdk, you can download it in same place Gradle JDK with jdk\ndownload option.\nnote: you must build your signed app bundle within android only not inside flutter framework.</strong></p>\n"},{"tags":[],"owner":{"account_id":14016376,"reputation":1,"user_id":10123785,"display_name":"Shahid Bangash"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1645211291,"creation_date":1645211291,"answer_id":71178677,"question_id":67631927,"body_markdown":"Command \r\n\r\n    keytool -genkey -v -keystore ~/upload-keystore.jks -deststoretype JKS  -keyalg RSA -keysize 2048 -validity 10000 -alias upload \r\n    \r\nworked for me on my mac m1.\r\n\r\ni was using java version 17 and everytime i try to build appbundle i would get error \r\n\r\n&gt; Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\r\n\r\nTo solve this i added \r\n\r\n&gt; -deststoretype JKS\r\nin keytool command and it worked for me .\r\n\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Command</p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -deststoretype JKS  -keyalg RSA -keysize 2048 -validity 10000 -alias upload \n</code></pre>\n<p>worked for me on my mac m1.</p>\n<p>i was using java version 17 and everytime i try to build appbundle i would get error</p>\n<blockquote>\n<p>Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available</p>\n</blockquote>\n<p>To solve this i added</p>\n<blockquote>\n<p>-deststoretype JKS\nin keytool command and it worked for me .</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1647013742,"creation_date":1647013742,"answer_id":71441141,"question_id":67631927,"body_markdown":"Solution is very simple. Just delete your file mentioned in the error log.\r\nFor example in my case the path was shown below.\r\n\r\n    C:\\Users\\kattie\\.android\\debug.keystore.jks\r\n\r\nDelete this debug.keystore.jks file and make sure you close android studio or OpenJDK process from task manager.","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Solution is very simple. Just delete your file mentioned in the error log.\nFor example in my case the path was shown below.</p>\n<pre><code>C:\\Users\\kattie\\.android\\debug.keystore.jks\n</code></pre>\n<p>Delete this debug.keystore.jks file and make sure you close android studio or OpenJDK process from task manager.</p>\n"},{"tags":[],"owner":{"account_id":16246083,"reputation":758,"user_id":11731185,"display_name":"Ali Solanki"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1650547458,"creation_date":1650547458,"answer_id":71955263,"question_id":67631927,"body_markdown":"**If you haven&#39;t already created a keystore file:**\r\n1. Mac:\r\n```\r\nkeytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n```\r\n\r\n2. Windows (change USER_NAME):\r\n```\r\nkeytool -genkey -v -keystore &quot;c:\\Users\\USER_NAME\\upload-keystore.jks&quot; -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\r\n```\r\n\r\n**If you have already created a keystore file before:**\r\n```\r\nkeytool -importkeystore -srckeystore &quot;path/to/upload-keystore.jks&quot; -destkeystore &quot;path/to/new-upload-keystore.jks&quot; -deststoretype JKS\r\n```","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p><strong>If you haven't already created a keystore file:</strong></p>\n<ol>\n<li>Mac:</li>\n</ol>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n</code></pre>\n<ol start=\"2\">\n<li>Windows (change USER_NAME):</li>\n</ol>\n<pre><code>keytool -genkey -v -keystore &quot;c:\\Users\\USER_NAME\\upload-keystore.jks&quot; -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n<p><strong>If you have already created a keystore file before:</strong></p>\n<pre><code>keytool -importkeystore -srckeystore &quot;path/to/upload-keystore.jks&quot; -destkeystore &quot;path/to/new-upload-keystore.jks&quot; -deststoretype JKS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7832532,"reputation":1060,"user_id":5921933,"accept_rate":38,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658337076,"creation_date":1658337076,"answer_id":73055680,"question_id":67631927,"body_markdown":"The @azhar-ali answer does not work for me on Ubuntu 2020.04. And I found this [answer][1] that worked.\r\n\r\n**Commands:**\r\n\r\n```sh\r\nkeytool -genkey -v -keystore upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n\r\nkeytool -importkeystore -srckeystore upload-keystore.jks -destkeystore upload-keystore.p12 -deststoretype PKCS12\r\n\r\nopenssl pkcs12 -nodes -in upload-keystore.p12 -out upload-keystore.pem\r\n\r\nopenssl pkcs12 -export -in upload-keystore.pem -out new-upload-keystore.p12 -name upload\r\n```\r\n\r\n(Using p12 key instead of jks key)\r\n\r\n**key.properties:**\r\n```\r\nstoreFile=/home/admin/Documents/Working/projects/new-upload-keystore.p12\r\n```\r\n\r\n\r\n**Result:**\r\n\r\n```sh\r\nflutter build appbundle\r\n\r\n&#128170; Building with sound null safety &#128170;\r\n\r\nRunning Gradle task &#39;bundleRelease&#39;...                           2,422ms\r\n✓ Built build/app/outputs/bundle/release/app-release.aab (16.6MB).\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/70337364/5921933","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>The @azhar-ali answer does not work for me on Ubuntu 2020.04. And I found this <a href=\"https://stackoverflow.com/a/70337364/5921933\">answer</a> that worked.</p>\n<p><strong>Commands:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -genkey -v -keystore upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n\nkeytool -importkeystore -srckeystore upload-keystore.jks -destkeystore upload-keystore.p12 -deststoretype PKCS12\n\nopenssl pkcs12 -nodes -in upload-keystore.p12 -out upload-keystore.pem\n\nopenssl pkcs12 -export -in upload-keystore.pem -out new-upload-keystore.p12 -name upload\n</code></pre>\n<p>(Using p12 key instead of jks key)</p>\n<p><strong>key.properties:</strong></p>\n<pre><code>storeFile=/home/admin/Documents/Working/projects/new-upload-keystore.p12\n</code></pre>\n<p><strong>Result:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>flutter build appbundle\n\n💪 Building with sound null safety 💪\n\nRunning Gradle task 'bundleRelease'...                           2,422ms\n✓ Built build/app/outputs/bundle/release/app-release.aab (16.6MB).\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27372025,"reputation":51,"user_id":20877921,"display_name":"Jatin Tiwari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672818562,"creation_date":1672769251,"answer_id":74997091,"question_id":67631927,"body_markdown":"Add this in last of your command \r\n\r\n*-storetype JKS*\r\n\r\nLike,\r\n\r\n&gt;keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Add this in last of your command</p>\n<p><em>-storetype JKS</em></p>\n<p>Like,</p>\n<blockquote>\n<p>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS</p>\n</blockquote>\n"}],"owner":{"account_id":16121949,"reputation":1453,"user_id":11637725,"display_name":"Jason Perfetto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45276,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"answer_count":18,"score":73,"last_activity_date":1679637109,"creation_date":1621579057,"question_id":67631927,"body_markdown":"I am trying to build an AAB for my flutter app. I generated the keystore using the following below command:\r\n \r\n\r\n    keytool -genkey -v -keystore ~/pc-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias pckey\r\n\r\nI have a *key.properties* file, and I have referenced it using the provided code in the flutter docs. How can I solve this Java related issue?  My program throws the following exception                                                                       \r\n                                                                            \r\n    * What went wrong:                                                      \r\n    Execution failed for task &#39;:app:signReleaseBundle&#39;.                     \r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n       &gt; Failed to read key pckey from store &quot;/Users/jrperfetto/pc-keystore.jks&quot;: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\r\n                                                       ","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I am trying to build an AAB for my flutter app. I generated the keystore using the following below command:</p>\n<pre><code>keytool -genkey -v -keystore ~/pc-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias pckey\n</code></pre>\n<p>I have a <em>key.properties</em> file, and I have referenced it using the provided code in the flutter docs. How can I solve this Java related issue?  My program throws the following exception</p>\n<pre><code>* What went wrong:                                                      \nExecution failed for task ':app:signReleaseBundle'.                     \n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; Failed to read key pckey from store &quot;/Users/jrperfetto/pc-keystore.jks&quot;: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\n                                                   \n</code></pre>\n"},{"tags":["java","android","android-studio","webview","android-permissions"],"answers":[{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1679636974,"creation_date":1511258757,"answer_id":47410311,"question_id":40236925,"body_markdown":"You can use the following code that I copied from http://web.archive.org/web/20160111030837/http://developer.android.com/training/permissions/requesting.html —\r\n\r\n\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n&gt; \r\n&gt; Example:\r\n&gt; \r\n&gt; MainActivity\r\n&gt; \r\n&gt;     public class MainActivity extends AppCompatActivity {\r\n&gt;         private static final int MY_PERMISSIONS_REQUEST_RECORD_AUDIO = 101;\r\n&gt;         private ActivityMainBinding mBinding;\r\n&gt;         private PermissionRequest myRequest;\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n&gt;             super.onCreate(savedInstanceState);\r\n&gt;             mBinding = DataBindingUtil.setContentView(this, R.layout.activity_main);\r\n&gt;             setWebView();\r\n&gt;         }\r\n&gt;     \r\n&gt;         private void setWebView() {\r\n&gt;             mBinding.webView.getSettings().setJavaScriptEnabled(true);\r\n&gt;             mBinding.webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n&gt;             mBinding.webView.setWebViewClient(new WebViewClient());\r\n&gt;     \r\n&gt;             mBinding.webView.getSettings().setSaveFormData(true);\r\n&gt;             mBinding.webView.getSettings().setSupportZoom(false);\r\n&gt;             mBinding.webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n&gt;             mBinding.webViemBinding.webView.getSettings().setPluginState(WebSettings.PluginState.ON);\r\n&gt;     \r\n&gt;     \r\n&gt;             mBinding.webView.setWebChromeClient(new WebChromeClient() {\r\n&gt;                 @Override\r\n&gt;                 public void onPermissionRequest(final PermissionRequest request) {\r\n&gt;                     myRequest = request;\r\n&gt;     \r\n&gt;                     for (String permission : request.getResources()) {\r\n&gt;                         switch (permission) {\r\n&gt;                             case &quot;android.webkit.resource.AUDIO_CAPTURE&quot;: {\r\n&gt;                                 askForPermission(request.getOrigin().toString(),\r\n&gt; Manifest.permission.RECORD_AUDIO,\r\n&gt; MY_PERMISSIONS_REQUEST_RECORD_AUDIO);\r\n&gt;                                 break;\r\n&gt;                             }\r\n&gt;                         }\r\n&gt;                     }\r\n&gt;                 }\r\n&gt;             });\r\n&gt;     \r\n&gt;             mBinding.webView.loadUrl(&quot;&lt;your url&quot;);\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         public void onBackPressed() {\r\n&gt;             if (mBinding.webView.canGoBack()) {\r\n&gt;                 mBinding.webView.goBack();\r\n&gt;             } else {\r\n&gt;                 super.onBackPressed();\r\n&gt;             }\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         public void onRequestPermissionsResult(int requestCode,\r\n&gt;                                                String permissions[], int[] grantResults) {\r\n&gt;             switch (requestCode) {\r\n&gt;                 case MY_PERMISSIONS_REQUEST_RECORD_AUDIO: {\r\n&gt;                     Log.d(&quot;WebView&quot;, &quot;PERMISSION FOR AUDIO&quot;);\r\n&gt;                     if (grantResults.length &gt; 0\r\n&gt;                             &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n&gt;     \r\n&gt;     \r\n&gt;                         // permission was granted, yay! Do the\r\n&gt;                         // contacts-related task you need to do.\r\n&gt;                         myRequest.grant(myRequest.getResources());\r\n&gt;                         mBinding.webView.loadUrl(&quot;&lt;your url&gt;&quot;);\r\n&gt;     \r\n&gt;                     } else {\r\n&gt;     \r\n&gt;                         // permission denied, boo! Disable the\r\n&gt;                         // functionality that depends on this permission.\r\n&gt;                     }\r\n&gt;                 }\r\n&gt;                 // other &#39;case&#39; lines to check for other\r\n&gt;                 // permissions this app might request\r\n&gt;             }\r\n&gt;         }\r\n&gt;         public void askForPermission(String origin, String permission, int requestCode) {\r\n&gt;             Log.d(&quot;WebView&quot;, &quot;inside askForPermission for&quot; + origin + &quot;with&quot; + permission);\r\n&gt;     \r\n&gt;             if (ContextCompat.checkSelfPermission(getApplicationContext(),\r\n&gt;                     permission)\r\n&gt;                     != PackageManager.PERMISSION_GRANTED) {\r\n&gt;     \r\n&gt;                 // Should we show an explanation?\r\n&gt;                 if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this,\r\n&gt;                         permission)) {\r\n&gt;     \r\n&gt;                     // Show an expanation to the user *asynchronously* -- don&#39;t block\r\n&gt;                     // this thread waiting for the user&#39;s response! After the user\r\n&gt;                     // sees the explanation, try again to request the permission.\r\n&gt;     \r\n&gt;                 } else {\r\n&gt;     \r\n&gt;                     // No explanation needed, we can request the permission.\r\n&gt;     \r\n&gt;                     ActivityCompat.requestPermissions(MainActivity.this,\r\n&gt;                             new String[]{permission},\r\n&gt;                             requestCode);\r\n&gt;                 }\r\n&gt;             } else {\r\n&gt;                 myRequest.grant(myRequest.getResources());\r\n&gt;             }\r\n&gt;         }\r\n&gt;     \r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt; Mainfest.xml:\r\n&gt; \r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.MICROPHONE&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&gt;     &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n&gt;     &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\r\n&gt;     &lt;uses-feature android:name=&quot;android.hardware.microphone&quot;/&gt;      \r\n&gt; \r\n&gt; Build.gradle:\r\n&gt; \r\n&gt;     android {\r\n&gt;         compileSdkVersion 26\r\n&gt;         defaultConfig {\r\n&gt;             applicationId &quot;myapp.example.com.myapplication&quot;\r\n&gt;             minSdkVersion 21\r\n&gt;             targetSdkVersion 21\r\n&gt;             versionCode 1\r\n&gt;             versionName &quot;1.0&quot;\r\n&gt;         }\r\n&gt;         buildTypes {\r\n&gt;             release {\r\n&gt;                 minifyEnabled false\r\n&gt;                 proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n&gt;             }\r\n&gt;         }","title":"Allowing microphone access(permission) in WebView [Android Studio] [Java]","body":"<p>You can use the following code that I copied from <a href=\"http://web.archive.org/web/20160111030837/http://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">http://web.archive.org/web/20160111030837/http://developer.android.com/training/permissions/requesting.html</a> —</p>\n<blockquote>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n</code></pre>\n<p>Example:</p>\n<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final int MY_PERMISSIONS_REQUEST_RECORD_AUDIO = 101;\n    private ActivityMainBinding mBinding;\n    private PermissionRequest myRequest;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n        setWebView();\n    }\n\n    private void setWebView() {\n        mBinding.webView.getSettings().setJavaScriptEnabled(true);\n        mBinding.webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n        mBinding.webView.setWebViewClient(new WebViewClient());\n\n        mBinding.webView.getSettings().setSaveFormData(true);\n        mBinding.webView.getSettings().setSupportZoom(false);\n        mBinding.webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\n        mBinding.webViemBinding.webView.getSettings().setPluginState(WebSettings.PluginState.ON);\n\n\n        mBinding.webView.setWebChromeClient(new WebChromeClient() {\n            @Override\n            public void onPermissionRequest(final PermissionRequest request) {\n                myRequest = request;\n\n                for (String permission : request.getResources()) {\n                    switch (permission) {\n                        case &quot;android.webkit.resource.AUDIO_CAPTURE&quot;: {\n                            askForPermission(request.getOrigin().toString(),\n</code></pre>\n<p>Manifest.permission.RECORD_AUDIO,\nMY_PERMISSIONS_REQUEST_RECORD_AUDIO);\nbreak;\n}\n}\n}\n}\n});</p>\n<pre><code>        mBinding.webView.loadUrl(&quot;&lt;your url&quot;);\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (mBinding.webView.canGoBack()) {\n            mBinding.webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           String permissions[], int[] grantResults) {\n        switch (requestCode) {\n            case MY_PERMISSIONS_REQUEST_RECORD_AUDIO: {\n                Log.d(&quot;WebView&quot;, &quot;PERMISSION FOR AUDIO&quot;);\n                if (grantResults.length &gt; 0\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n\n                    // permission was granted, yay! Do the\n                    // contacts-related task you need to do.\n                    myRequest.grant(myRequest.getResources());\n                    mBinding.webView.loadUrl(&quot;&lt;your url&gt;&quot;);\n\n                } else {\n\n                    // permission denied, boo! Disable the\n                    // functionality that depends on this permission.\n                }\n            }\n            // other 'case' lines to check for other\n            // permissions this app might request\n        }\n    }\n    public void askForPermission(String origin, String permission, int requestCode) {\n        Log.d(&quot;WebView&quot;, &quot;inside askForPermission for&quot; + origin + &quot;with&quot; + permission);\n\n        if (ContextCompat.checkSelfPermission(getApplicationContext(),\n                permission)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this,\n                    permission)) {\n\n                // Show an expanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n\n            } else {\n\n                // No explanation needed, we can request the permission.\n\n                ActivityCompat.requestPermissions(MainActivity.this,\n                        new String[]{permission},\n                        requestCode);\n            }\n        } else {\n            myRequest.grant(myRequest.getResources());\n        }\n    }\n\n}\n</code></pre>\n<p>Mainfest.xml:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MICROPHONE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.microphone&quot;/&gt;      \n</code></pre>\n<p>Build.gradle:</p>\n<pre><code>android {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId &quot;myapp.example.com.myapplication&quot;\n        minSdkVersion 21\n        targetSdkVersion 21\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6186619,"reputation":2144,"user_id":4820556,"display_name":"MadScientist"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550143308,"creation_date":1550143308,"answer_id":54689229,"question_id":40236925,"body_markdown":"Summarising, you need the following components: \r\n\r\n1. The `MODIFY_AUDIO_SETTINGS` permission.\r\n2. A `WebChromeClient` and listen to callbacks for `onPermissionRequest`\r\n3. Inside this callback, check for the the resources coming in the `request` object, create a global variable of this `request` object, iterate and look for specific permission inside the `PermissionRequest` class, ex. `PermissionRequest.RESOURCE_VIDEO_CAPTURE` which translates to the `Manifest.permission.CAMERA` permission, check if your app has this permission or not, using any mechanism you wish if not, request, if yes do 4.\r\n4. In the permission callback or if the permission is granted, use the request object to grant the permission ex. `request.grant(new String[]{PermissionRequest.RESOURCE_VIDEO_CAPTURE})` and you&#39;re good to go. \r\n\r\nsnippet: \r\n\r\n```kotlin\r\nwebView.webChromeClient = object: WebChromeClient(){\r\n            override fun onPermissionRequest(request: PermissionRequest?) {\r\n                super.onPermissionRequest(request)\r\n\r\n                webkitPermissionRequest = request\r\n\r\n                request?.resources?.forEach {\r\n                    when(it){\r\n                        PermissionRequest.RESOURCE_AUDIO_CAPTURE-&gt; {\r\n                            askForWebkitPermission(it, Manifest.permission.RECORD_AUDIO, REQUEST_CODE_PERMISSION_AUDIO)\r\n                        }\r\n                        PermissionRequest.RESOURCE_VIDEO_CAPTURE-&gt;{\r\n                            askForWebkitPermission(it, Manifest.permission.CAMERA, REQUEST_CODE_PERMISSION_CAMERA)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nprivate fun askForWebkitPermission(webkitPermission: String, androidPermission: String, requestCode: Int){\r\n        val context = activity?: return\r\n        if (context.hasPermission(androidPermission)){\r\n            webkitPermissionRequest!!.grant(arrayOf(webkitPermission))\r\n        }else{\r\n            requestPermissions(arrayOf(androidPermission), requestCode)\r\n        }\r\n    }\r\n```\r\n\r\nHope this helps. \r\n\r\nGoogle&#39;s sample for the same: https://github.com/googlesamples/android-PermissionRequest","title":"Allowing microphone access(permission) in WebView [Android Studio] [Java]","body":"<p>Summarising, you need the following components: </p>\n\n<ol>\n<li>The <code>MODIFY_AUDIO_SETTINGS</code> permission.</li>\n<li>A <code>WebChromeClient</code> and listen to callbacks for <code>onPermissionRequest</code></li>\n<li>Inside this callback, check for the the resources coming in the <code>request</code> object, create a global variable of this <code>request</code> object, iterate and look for specific permission inside the <code>PermissionRequest</code> class, ex. <code>PermissionRequest.RESOURCE_VIDEO_CAPTURE</code> which translates to the <code>Manifest.permission.CAMERA</code> permission, check if your app has this permission or not, using any mechanism you wish if not, request, if yes do 4.</li>\n<li>In the permission callback or if the permission is granted, use the request object to grant the permission ex. <code>request.grant(new String[]{PermissionRequest.RESOURCE_VIDEO_CAPTURE})</code> and you're good to go. </li>\n</ol>\n\n<p>snippet: </p>\n\n<pre><code>webView.webChromeClient = object: WebChromeClient(){\n            override fun onPermissionRequest(request: PermissionRequest?) {\n                super.onPermissionRequest(request)\n\n                webkitPermissionRequest = request\n\n                request?.resources?.forEach {\n                    when(it){\n                        PermissionRequest.RESOURCE_AUDIO_CAPTURE-&gt; {\n                            askForWebkitPermission(it, Manifest.permission.RECORD_AUDIO, REQUEST_CODE_PERMISSION_AUDIO)\n                        }\n                        PermissionRequest.RESOURCE_VIDEO_CAPTURE-&gt;{\n                            askForWebkitPermission(it, Manifest.permission.CAMERA, REQUEST_CODE_PERMISSION_CAMERA)\n                        }\n                    }\n                }\n            }\n        }\n\nprivate fun askForWebkitPermission(webkitPermission: String, androidPermission: String, requestCode: Int){\n        val context = activity?: return\n        if (context.hasPermission(androidPermission)){\n            webkitPermissionRequest!!.grant(arrayOf(webkitPermission))\n        }else{\n            requestPermissions(arrayOf(androidPermission), requestCode)\n        }\n    }\n</code></pre>\n\n<p>Hope this helps. </p>\n\n<p>Google's sample for the same: <a href=\"https://github.com/googlesamples/android-PermissionRequest\" rel=\"noreferrer\">https://github.com/googlesamples/android-PermissionRequest</a></p>\n"},{"tags":[],"owner":{"account_id":2250349,"reputation":49,"user_id":1982697,"display_name":"Simranjit Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647611946,"creation_date":1647611946,"answer_id":71528170,"question_id":40236925,"body_markdown":"its problems for reload the webview , after too much research , found this code and create this below code :- \r\n\r\n     mwebView.setWebChromeClient(new WebChromeClient() {\r\n            @Override\r\n            public void onPermissionRequest(final PermissionRequest request) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                    myRequest = request;\r\n                    for (String permission : request.getResources()) {\r\n                        if (permission.equals(&quot;android.webkit.resource.AUDIO_CAPTURE&quot;)) {\r\n                            demandForPermission(request.getOrigin().toString(), Manifest.permission.RECORD_AUDIO, MY_PERMISSIONS_REQUEST_RECORD_AUDIO);\r\n                        } else {\r\n                            myRequest.grant(request.getResources());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPermissionRequestCanceled(PermissionRequest request) {\r\n                super.onPermissionRequestCanceled(request);\r\n            }\r\n\r\nmore info in this link **[Android Webview][1]**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71528122/allowed-camera-audio-or-all-other-permissions-on-webview-webrtc-chromium-web","title":"Allowing microphone access(permission) in WebView [Android Studio] [Java]","body":"<p>its problems for reload the webview , after too much research , found this code and create this below code :-</p>\n<pre><code> mwebView.setWebChromeClient(new WebChromeClient() {\n        @Override\n        public void onPermissionRequest(final PermissionRequest request) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                myRequest = request;\n                for (String permission : request.getResources()) {\n                    if (permission.equals(&quot;android.webkit.resource.AUDIO_CAPTURE&quot;)) {\n                        demandForPermission(request.getOrigin().toString(), Manifest.permission.RECORD_AUDIO, MY_PERMISSIONS_REQUEST_RECORD_AUDIO);\n                    } else {\n                        myRequest.grant(request.getResources());\n                    }\n                }\n            }\n        }\n\n        @Override\n        public void onPermissionRequestCanceled(PermissionRequest request) {\n            super.onPermissionRequestCanceled(request);\n        }\n</code></pre>\n<p>more info in this link <strong><a href=\"https://stackoverflow.com/questions/71528122/allowed-camera-audio-or-all-other-permissions-on-webview-webrtc-chromium-web\">Android Webview</a></strong></p>\n"}],"owner":{"account_id":1638159,"reputation":195,"user_id":1511106,"accept_rate":40,"display_name":"Raynoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25151,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1679636974,"creation_date":1477389564,"question_id":40236925,"body_markdown":"I am currently working on a music tuner that uses html5 and a webview to display the &#39;application&#39;. I&#39;ve written the all the permission required in manifest and I think for webview there&#39;s another permission required.\r\n\r\nI am using this https://jbergknoff.github.io/guitar-tuner/ as a sample redirect page for now\r\n\r\nHere&#39;s my manifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.raynordev.projectrosin&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MICROPHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.microphone&quot; android:required=&quot;true&quot;/&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.raynordev.projectrosin.HomeActivity&quot;&gt;        \r\n\r\n      &lt;/activity&gt;\r\n     &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nHere&#39;s my .java\r\n\r\n    public class HomeActivity extends AppCompatActivity {\r\n\r\n    private WebView wv;\r\n    private String TAG = &quot;HomeActivity&quot;;\r\n    private static final int REQUEST_INTERNET = 200;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        WebView wv = (WebView) findViewById(R.id.webView);\r\n        wv.getSettings().setJavaScriptEnabled(true);\r\n        wv.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n\r\n\r\n        wv.setWebViewClient(new WebViewClient());\r\n        wv.setWebChromeClient(new WebChromeClient());\r\n\r\n        wv.loadUrl(&quot;https://jbergknoff.github.io/guitar-tuner/&quot;);\r\n     }\r\n    }\r\n\r\n\r\nIf require more information from me, please let me know.\r\n\r\nThank you everyone!!","title":"Allowing microphone access(permission) in WebView [Android Studio] [Java]","body":"<p>I am currently working on a music tuner that uses html5 and a webview to display the 'application'. I've written the all the permission required in manifest and I think for webview there's another permission required.</p>\n\n<p>I am using this <a href=\"https://jbergknoff.github.io/guitar-tuner/\" rel=\"noreferrer\">https://jbergknoff.github.io/guitar-tuner/</a> as a sample redirect page for now</p>\n\n<p>Here's my manifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.raynordev.projectrosin\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.MICROPHONE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.audio.low_latency\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.audio.pro\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.microphone\" android:required=\"true\"/&gt;\n\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\"com.raynordev.projectrosin.HomeActivity\"&gt;        \n\n  &lt;/activity&gt;\n &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Here's my .java</p>\n\n<pre><code>public class HomeActivity extends AppCompatActivity {\n\nprivate WebView wv;\nprivate String TAG = \"HomeActivity\";\nprivate static final int REQUEST_INTERNET = 200;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n    WebView wv = (WebView) findViewById(R.id.webView);\n    wv.getSettings().setJavaScriptEnabled(true);\n    wv.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n\n\n    wv.setWebViewClient(new WebViewClient());\n    wv.setWebChromeClient(new WebChromeClient());\n\n    wv.loadUrl(\"https://jbergknoff.github.io/guitar-tuner/\");\n }\n}\n</code></pre>\n\n<p>If require more information from me, please let me know.</p>\n\n<p>Thank you everyone!!</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1679645164,"post_id":75830364,"comment_id":133761477,"body_markdown":"Does Edge on IE Mode gets initiated in the localhost?","body":"Does Edge on IE Mode gets initiated in the localhost?"},{"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"score":0,"creation_date":1679664970,"post_id":75830364,"comment_id":133766328,"body_markdown":"If you&#39;re asking whether I&#39;m manually able to run edge on IE mode, the answer is yes. But with selenium, no. The browser doesn&#39;t launch at all.","body":"If you&#39;re asking whether I&#39;m manually able to run edge on IE mode, the answer is yes. But with selenium, no. The browser doesn&#39;t launch at all."}],"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679636534,"creation_date":1679636534,"question_id":75830364,"body_markdown":"I want to run automated tests on an application that runs only on Edge with IE Mode. To do this, I&#39;m using `selenium-server-4.8.2.jar` to run the standalone server on my remote machine. \r\n\r\nIn my project, I have the `selenium-java` dependency to the `4.1.3` version.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n      &lt;version&gt;4.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOn the remote machine (which as of now is `localhost`), I&#39;m running the selenium-server like this:\r\n\r\n    java -&quot;Dwebdriver.ie.driver=C:\\Users\\abc\\Downloads\\IEDriverServer_Win32_4.8.1\\IEDriverServer.exe&quot; -jar .\\selenium-server-4.8.1.jar standalone\r\n\r\nI have a Java function that has the actual code:\r\n\r\n    public static void runIEWithEdge() throws MalformedURLException {\r\n            String remoteUrl = &quot;http://localhost:4444&quot;;\r\n    \r\n            InternetExplorerOptions edgeOptions = new InternetExplorerOptions();\r\n            edgeOptions.attachToEdgeChrome();\r\n            edgeOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\r\n    \r\n            // Create RemoteWebDriver with the EdgeOptions and remote URL\r\n            WebDriver driver = new RemoteWebDriver(new URL(remoteUrl), edgeOptions);\r\n    \r\n            // Navigate to a webpage\r\n            driver.get(&quot;http://demo.borland.com/gmopost&quot;);\r\n    \r\n            // Do some automation tasks\r\n            driver.findElement(By.name(&quot;bSubmit&quot;)).click();\r\n    \r\n    \r\n    \r\n            // Close the browser\r\n            driver.quit();\r\n    \r\n        }\r\n\r\n\r\nHowever, when I run this, the browser doesn&#39;t launch at all, and I get the following exception from the selenium-server\r\n\r\n\r\n    11:02:28.393 WARN [SeleniumSpanExporter$1.lambda$export$1] - Unable to create session: Could not start a new session. null\r\n    Host info: host: &#39;YCSLAPTEMP&#39;, ip: &#39;192.168.16.118&#39;\r\n    Build info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39;\r\n    Driver info: driver.version: unknown\r\n    11:02:28.393 WARN [SeleniumSpanExporter$1.lambda$export$1] - org.openqa.selenium.SessionNotCreatedException: Could not start a new session. null\r\n    Host info: host: &#39;YCSLAPTEMP&#39;, ip: &#39;192.168.16.118&#39;\r\n    Build info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39;\r\n    Driver info: driver.version: unknown\r\n            at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:215)\r\n            at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:69)\r\n            at org.openqa.selenium.grid.node.local.SessionSlot.apply(SessionSlot.java:147)\r\n            at org.openqa.selenium.grid.node.local.LocalNode.newSession(LocalNode.java:384)\r\n            at org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:645)\r\n            at org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:564)\r\n            at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:818)\r\n            at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:779)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nNot sure how to fix this. But, I tried another way using the `EdgeOptions` instead of `InternetExplorerOptions` like here:\r\n\r\n \r\n\r\n     public static void runEdge( String[] args ) throws MalformedURLException {\r\n            String remoteUrl = &quot;http://localhost:4444&quot;;\r\n    \r\n            EdgeOptions edgeOptions = new EdgeOptions();\r\n    \r\n            edgeOptions.setCapability(&quot;ie.edgechromium&quot;, true);\r\n            edgeOptions.setCapability(&quot;ie.browserCommandLineArguments&quot;, &quot;-ms-edge-legacy-emulation-mode-ie11&quot;);\r\n    \r\n            // Create RemoteWebDriver with the EdgeOptions and remote URL\r\n            WebDriver driver = new RemoteWebDriver(new URL(remoteUrl), edgeOptions);\r\n    \r\n            // Navigate to a webpage\r\n            driver.get(&quot;http://demo.borland.com/gmopost&quot;);\r\n    \r\n            driver.findElement(By.name(&quot;bSubmit&quot;)).click();\r\n    \r\n            // Do some automation tasks\r\n    \r\n            // Close the browser\r\n            driver.quit();\r\n    \r\n        }\r\n\r\nThis launches Edge and the program runs fine, but **doesn&#39;t start edge on IE Mode**\r\n\r\nI badly want to launch Edge with IE mode on a remote machine. Please help with any ideas.\r\n\r\nThank you.","title":"org.openqa.selenium.SessionNotCreatedException When I launch edge with IE mode using RemoteWebDriver","body":"<p>I want to run automated tests on an application that runs only on Edge with IE Mode. To do this, I'm using <code>selenium-server-4.8.2.jar</code> to run the standalone server on my remote machine.</p>\n<p>In my project, I have the <code>selenium-java</code> dependency to the <code>4.1.3</code> version.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n  &lt;version&gt;4.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>On the remote machine (which as of now is <code>localhost</code>), I'm running the selenium-server like this:</p>\n<pre><code>java -&quot;Dwebdriver.ie.driver=C:\\Users\\abc\\Downloads\\IEDriverServer_Win32_4.8.1\\IEDriverServer.exe&quot; -jar .\\selenium-server-4.8.1.jar standalone\n</code></pre>\n<p>I have a Java function that has the actual code:</p>\n<pre><code>public static void runIEWithEdge() throws MalformedURLException {\n        String remoteUrl = &quot;http://localhost:4444&quot;;\n\n        InternetExplorerOptions edgeOptions = new InternetExplorerOptions();\n        edgeOptions.attachToEdgeChrome();\n        edgeOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\n\n        // Create RemoteWebDriver with the EdgeOptions and remote URL\n        WebDriver driver = new RemoteWebDriver(new URL(remoteUrl), edgeOptions);\n\n        // Navigate to a webpage\n        driver.get(&quot;http://demo.borland.com/gmopost&quot;);\n\n        // Do some automation tasks\n        driver.findElement(By.name(&quot;bSubmit&quot;)).click();\n\n\n\n        // Close the browser\n        driver.quit();\n\n    }\n</code></pre>\n<p>However, when I run this, the browser doesn't launch at all, and I get the following exception from the selenium-server</p>\n<pre><code>11:02:28.393 WARN [SeleniumSpanExporter$1.lambda$export$1] - Unable to create session: Could not start a new session. null\nHost info: host: 'YCSLAPTEMP', ip: '192.168.16.118'\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2'\nDriver info: driver.version: unknown\n11:02:28.393 WARN [SeleniumSpanExporter$1.lambda$export$1] - org.openqa.selenium.SessionNotCreatedException: Could not start a new session. null\nHost info: host: 'YCSLAPTEMP', ip: '192.168.16.118'\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2'\nDriver info: driver.version: unknown\n        at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:215)\n        at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:69)\n        at org.openqa.selenium.grid.node.local.SessionSlot.apply(SessionSlot.java:147)\n        at org.openqa.selenium.grid.node.local.LocalNode.newSession(LocalNode.java:384)\n        at org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:645)\n        at org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:564)\n        at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:818)\n        at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:779)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Not sure how to fix this. But, I tried another way using the <code>EdgeOptions</code> instead of <code>InternetExplorerOptions</code> like here:</p>\n<pre><code> public static void runEdge( String[] args ) throws MalformedURLException {\n        String remoteUrl = &quot;http://localhost:4444&quot;;\n\n        EdgeOptions edgeOptions = new EdgeOptions();\n\n        edgeOptions.setCapability(&quot;ie.edgechromium&quot;, true);\n        edgeOptions.setCapability(&quot;ie.browserCommandLineArguments&quot;, &quot;-ms-edge-legacy-emulation-mode-ie11&quot;);\n\n        // Create RemoteWebDriver with the EdgeOptions and remote URL\n        WebDriver driver = new RemoteWebDriver(new URL(remoteUrl), edgeOptions);\n\n        // Navigate to a webpage\n        driver.get(&quot;http://demo.borland.com/gmopost&quot;);\n\n        driver.findElement(By.name(&quot;bSubmit&quot;)).click();\n\n        // Do some automation tasks\n\n        // Close the browser\n        driver.quit();\n\n    }\n</code></pre>\n<p>This launches Edge and the program runs fine, but <strong>doesn't start edge on IE Mode</strong></p>\n<p>I badly want to launch Edge with IE mode on a remote machine. Please help with any ideas.</p>\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-java-sdk","amazon-s3-select"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676838691,"creation_date":1676838371,"answer_id":75503217,"question_id":75502374,"body_markdown":"I see you are using **selectObjectContent()**. Have you tried calling the **s3AsyncClient.getObject()** method. Does that work for you? \r\n\r\nFor example, here is a code example that gets a PDF file from an Amazon S3 bucket and write the PDF file to a local file. \r\n\r\n    package com.example.s3.async;\r\n    // snippet-start:[s3.java2.async_stream_ops.complete]\r\n    \r\n    // snippet-start:[s3.java2.async_stream_ops.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.async.AsyncResponseTransformer;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3AsyncClient;\r\n    import software.amazon.awssdk.services.s3.model.GetObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.GetObjectResponse;\r\n    import java.nio.file.Paths;\r\n    import java.util.concurrent.CompletableFuture;\r\n    // snippet-end:[s3.java2.async_stream_ops.import]\r\n    \r\n    // snippet-start:[s3.java2.async_stream_ops.main]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class S3AsyncStreamOps {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                    &quot;Usage:\\n&quot; +\r\n                    &quot;    &lt;bucketName&gt; &lt;objectKey&gt; &lt;path&gt;\\n\\n&quot; +\r\n                    &quot;Where:\\n&quot; +\r\n                    &quot;    bucketName - The name of the Amazon S3 bucket (for example, bucket1). \\n\\n&quot; +\r\n                    &quot;    objectKey - The name of the object (for example, book.pdf). \\n&quot; +\r\n                    &quot;    path - The local path to the file (for example, C:/AWS/book.pdf). \\n&quot; ;\r\n    \r\n            if (args.length != 3) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n             }\r\n    \r\n            String bucketName = args[0];\r\n            String objectKey = args[1];\r\n            String path = args[2];\r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            S3AsyncClient s3AsyncClient = S3AsyncClient.builder()\r\n                    .region(region)\r\n                    .credentialsProvider(credentialsProvider)\r\n                    .build();\r\n    \r\n            GetObjectRequest objectRequest = GetObjectRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .key(objectKey)\r\n                    .build();\r\n    \r\n            CompletableFuture&lt;GetObjectResponse&gt; futureGet = s3AsyncClient.getObject(objectRequest,\r\n                    AsyncResponseTransformer.toFile(Paths.get(path)));\r\n    \r\n            futureGet.whenComplete((resp, err) -&gt; {\r\n                try {\r\n                    if (resp != null) {\r\n                        System.out.println(&quot;Object downloaded. Details: &quot;+resp);\r\n                    } else {\r\n                        err.printStackTrace();\r\n                    }\r\n                } finally {\r\n                   // Only close the client when you are completely done with it.\r\n                    s3AsyncClient.close();\r\n                }\r\n            });\r\n            futureGet.join();\r\n        }\r\n    }","title":"Getting partial json response for s3select with aws java sdk v2","body":"<p>I see you are using <strong>selectObjectContent()</strong>. Have you tried calling the <strong>s3AsyncClient.getObject()</strong> method. Does that work for you?</p>\n<p>For example, here is a code example that gets a PDF file from an Amazon S3 bucket and write the PDF file to a local file.</p>\n<pre><code>package com.example.s3.async;\n// snippet-start:[s3.java2.async_stream_ops.complete]\n\n// snippet-start:[s3.java2.async_stream_ops.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.async.AsyncResponseTransformer;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\nimport software.amazon.awssdk.services.s3.model.GetObjectRequest;\nimport software.amazon.awssdk.services.s3.model.GetObjectResponse;\nimport java.nio.file.Paths;\nimport java.util.concurrent.CompletableFuture;\n// snippet-end:[s3.java2.async_stream_ops.import]\n\n// snippet-start:[s3.java2.async_stream_ops.main]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class S3AsyncStreamOps {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n                &quot;Usage:\\n&quot; +\n                &quot;    &lt;bucketName&gt; &lt;objectKey&gt; &lt;path&gt;\\n\\n&quot; +\n                &quot;Where:\\n&quot; +\n                &quot;    bucketName - The name of the Amazon S3 bucket (for example, bucket1). \\n\\n&quot; +\n                &quot;    objectKey - The name of the object (for example, book.pdf). \\n&quot; +\n                &quot;    path - The local path to the file (for example, C:/AWS/book.pdf). \\n&quot; ;\n\n        if (args.length != 3) {\n            System.out.println(usage);\n            System.exit(1);\n         }\n\n        String bucketName = args[0];\n        String objectKey = args[1];\n        String path = args[2];\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        S3AsyncClient s3AsyncClient = S3AsyncClient.builder()\n                .region(region)\n                .credentialsProvider(credentialsProvider)\n                .build();\n\n        GetObjectRequest objectRequest = GetObjectRequest.builder()\n                .bucket(bucketName)\n                .key(objectKey)\n                .build();\n\n        CompletableFuture&lt;GetObjectResponse&gt; futureGet = s3AsyncClient.getObject(objectRequest,\n                AsyncResponseTransformer.toFile(Paths.get(path)));\n\n        futureGet.whenComplete((resp, err) -&gt; {\n            try {\n                if (resp != null) {\n                    System.out.println(&quot;Object downloaded. Details: &quot;+resp);\n                } else {\n                    err.printStackTrace();\n                }\n            } finally {\n               // Only close the client when you are completely done with it.\n                s3AsyncClient.close();\n            }\n        });\n        futureGet.join();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5739600,"reputation":36,"user_id":4532691,"display_name":"cdome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679635542,"creation_date":1679635542,"answer_id":75830286,"question_id":75502374,"body_markdown":"The problem is, that you may get multiple RecordsEvent events, each containing an InputStream with a part of the data - so you have to iterate through events and join them:\r\n\r\n```kotlin\r\nfun selectS3ObjectContent(socRequest: SelectObjectContentRequest): InputStream {\r\n    val handler = S3SelectObjectContentHandler()\r\n    asyncS3.selectObjectContent(socRequest, handler).join()\r\n\r\n    return if (handler.receivedEvents.filterIsInstance&lt;RecordsEvent&gt;().isEmpty())\r\n        InputStream.nullInputStream()\r\n    else\r\n        handler.receivedEvents.filterIsInstance&lt;RecordsEvent&gt;().map {\r\n            it.payload().asInputStream()\r\n        }.reduce { l, r -&gt;\r\n            SequenceInputStream(l, r)\r\n        }\r\n}\r\n\r\nclass S3SelectObjectContentHandler : SelectObjectContentResponseHandler {\r\n    private var response: SelectObjectContentResponse? = null\r\n    var receivedEvents = ArrayList&lt;SelectObjectContentEventStream&gt;()\r\n    private var exception: Throwable? = null\r\n\r\n    override fun responseReceived(response: SelectObjectContentResponse?) {\r\n        this.response = response\r\n    }\r\n\r\n    override fun onEventStream(publisher: SdkPublisher&lt;SelectObjectContentEventStream&gt;) {\r\n        publisher.subscribe { event -&gt;\r\n            receivedEvents.add(event)\r\n        }\r\n    }\r\n\r\n    override fun exceptionOccurred(throwable: Throwable?) {\r\n        exception = throwable\r\n    }\r\n\r\n    override fun complete() { /* no-op */ }\r\n}\r\n```","title":"Getting partial json response for s3select with aws java sdk v2","body":"<p>The problem is, that you may get multiple RecordsEvent events, each containing an InputStream with a part of the data - so you have to iterate through events and join them:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun selectS3ObjectContent(socRequest: SelectObjectContentRequest): InputStream {\n    val handler = S3SelectObjectContentHandler()\n    asyncS3.selectObjectContent(socRequest, handler).join()\n\n    return if (handler.receivedEvents.filterIsInstance&lt;RecordsEvent&gt;().isEmpty())\n        InputStream.nullInputStream()\n    else\n        handler.receivedEvents.filterIsInstance&lt;RecordsEvent&gt;().map {\n            it.payload().asInputStream()\n        }.reduce { l, r -&gt;\n            SequenceInputStream(l, r)\n        }\n}\n\nclass S3SelectObjectContentHandler : SelectObjectContentResponseHandler {\n    private var response: SelectObjectContentResponse? = null\n    var receivedEvents = ArrayList&lt;SelectObjectContentEventStream&gt;()\n    private var exception: Throwable? = null\n\n    override fun responseReceived(response: SelectObjectContentResponse?) {\n        this.response = response\n    }\n\n    override fun onEventStream(publisher: SdkPublisher&lt;SelectObjectContentEventStream&gt;) {\n        publisher.subscribe { event -&gt;\n            receivedEvents.add(event)\n        }\n    }\n\n    override fun exceptionOccurred(throwable: Throwable?) {\n        exception = throwable\n    }\n\n    override fun complete() { /* no-op */ }\n}\n</code></pre>\n"}],"owner":{"account_id":4910707,"reputation":33,"user_id":3956089,"display_name":"Barani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75830286,"answer_count":2,"score":0,"last_activity_date":1679635542,"creation_date":1676830381,"question_id":75502374,"body_markdown":"I am trying to implement s3select in a spring boot app to query parquet file in s3 bucket, I am only getting partial result from the s3select output, Please help to identify the issue, i have used aws java sdk v2.\r\n\r\nUpon checking the json output(printed in the console), overall characters in the output is 65k.\r\n\r\nI am using eclipse and tried unchecking &quot;Limit console output&quot; in the console preference, which did not help.\r\n\r\nCode is here:-\r\n\r\n\r\n```import java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.auth.credentials.StaticCredentialsProvider;\r\nimport software.amazon.awssdk.core.async.SdkPublisher;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\r\nimport software.amazon.awssdk.services.s3.model.CompressionType;\r\nimport software.amazon.awssdk.services.s3.model.EndEvent;\r\nimport software.amazon.awssdk.services.s3.model.ExpressionType;\r\nimport software.amazon.awssdk.services.s3.model.InputSerialization;\r\nimport software.amazon.awssdk.services.s3.model.JSONOutput;\r\nimport software.amazon.awssdk.services.s3.model.OutputSerialization;\r\nimport software.amazon.awssdk.services.s3.model.ParquetInput;\r\nimport software.amazon.awssdk.services.s3.model.RecordsEvent;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentEventStream;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentEventStream.EventType;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentRequest;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentResponse;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentResponseHandler;\r\n\r\npublic class ParquetSelect {\r\n\t\r\n    private static final String BUCKET_NAME = &quot;&lt;bucket-name&gt;&quot;;\r\n    private static final String KEY = &quot;&lt;object-key&gt;&quot;;\r\n    private static final String QUERY = &quot;select * from S3Object s&quot;;\r\n    public static S3AsyncClient s3;\r\n    \r\n\r\n    public static void selectObjectContent() {\r\n        Handler handler = new Handler();\r\n        \r\n        SelectQueryWithHandler(handler).join();\r\n\r\n        RecordsEvent recordsEvent = (RecordsEvent) handler.receivedEvents.stream()\r\n                                                                         .filter(e -&gt; e.sdkEventType() == EventType.RECORDS)\r\n                                                                         .findFirst()\r\n                                                                         .orElse(null);\r\n\r\n        System.out.println(recordsEvent.payload().asUtf8String());\r\n\r\n    }\r\n\r\n    private static CompletableFuture&lt;Void&gt; SelectQueryWithHandler(SelectObjectContentResponseHandler handler) {\r\n        InputSerialization inputSerialization = InputSerialization.builder()\r\n                                                                  .parquet(ParquetInput.builder().build())\r\n                                                                  .compressionType(CompressionType.NONE)\r\n                                                                  .build();\r\n\r\n\r\n        OutputSerialization outputSerialization = OutputSerialization.builder()\r\n                                                                     .json(JSONOutput.builder().build())\r\n                                                                     .build();\r\n\r\n\r\n        SelectObjectContentRequest select = SelectObjectContentRequest.builder()\r\n                                                                      .bucket(BUCKET_NAME)\r\n                                                                      .key(KEY)\r\n                                                                      .expression(QUERY)\r\n                                                                      .expressionType(ExpressionType.SQL)\r\n                                                                      .inputSerialization(inputSerialization)\r\n                                                                      .outputSerialization(outputSerialization)\r\n                                                                      .build();\r\n\r\n        return s3.selectObjectContent(select, handler);\r\n    }\r\n\r\n    private static class Handler implements SelectObjectContentResponseHandler {\r\n        private SelectObjectContentResponse response;\r\n        private List&lt;SelectObjectContentEventStream&gt; receivedEvents = new ArrayList&lt;&gt;();\r\n        private Throwable exception;\r\n\r\n        @Override\r\n        public void responseReceived(SelectObjectContentResponse response) {\r\n            this.response = response;\r\n        }\r\n\r\n        @Override\r\n        public void onEventStream(SdkPublisher&lt;SelectObjectContentEventStream&gt; publisher) {\r\n            publisher.subscribe(receivedEvents::add);\r\n        }\r\n\r\n        @Override\r\n        public void exceptionOccurred(Throwable throwable) {\r\n            exception = throwable;\r\n        }\r\n\r\n        @Override\r\n        public void complete() {\r\n        }\r\n    }\r\n\t\r\n}\r\n```\r\n","title":"Getting partial json response for s3select with aws java sdk v2","body":"<p>I am trying to implement s3select in a spring boot app to query parquet file in s3 bucket, I am only getting partial result from the s3select output, Please help to identify the issue, i have used aws java sdk v2.</p>\n<p>Upon checking the json output(printed in the console), overall characters in the output is 65k.</p>\n<p>I am using eclipse and tried unchecking &quot;Limit console output&quot; in the console preference, which did not help.</p>\n<p>Code is here:-</p>\n<pre><code>import java.util.List;\nimport java.util.concurrent.CompletableFuture;\n\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.StaticCredentialsProvider;\nimport software.amazon.awssdk.core.async.SdkPublisher;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\nimport software.amazon.awssdk.services.s3.model.CompressionType;\nimport software.amazon.awssdk.services.s3.model.EndEvent;\nimport software.amazon.awssdk.services.s3.model.ExpressionType;\nimport software.amazon.awssdk.services.s3.model.InputSerialization;\nimport software.amazon.awssdk.services.s3.model.JSONOutput;\nimport software.amazon.awssdk.services.s3.model.OutputSerialization;\nimport software.amazon.awssdk.services.s3.model.ParquetInput;\nimport software.amazon.awssdk.services.s3.model.RecordsEvent;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentEventStream;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentEventStream.EventType;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentRequest;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentResponse;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentResponseHandler;\n\npublic class ParquetSelect {\n    \n    private static final String BUCKET_NAME = &quot;&lt;bucket-name&gt;&quot;;\n    private static final String KEY = &quot;&lt;object-key&gt;&quot;;\n    private static final String QUERY = &quot;select * from S3Object s&quot;;\n    public static S3AsyncClient s3;\n    \n\n    public static void selectObjectContent() {\n        Handler handler = new Handler();\n        \n        SelectQueryWithHandler(handler).join();\n\n        RecordsEvent recordsEvent = (RecordsEvent) handler.receivedEvents.stream()\n                                                                         .filter(e -&gt; e.sdkEventType() == EventType.RECORDS)\n                                                                         .findFirst()\n                                                                         .orElse(null);\n\n        System.out.println(recordsEvent.payload().asUtf8String());\n\n    }\n\n    private static CompletableFuture&lt;Void&gt; SelectQueryWithHandler(SelectObjectContentResponseHandler handler) {\n        InputSerialization inputSerialization = InputSerialization.builder()\n                                                                  .parquet(ParquetInput.builder().build())\n                                                                  .compressionType(CompressionType.NONE)\n                                                                  .build();\n\n\n        OutputSerialization outputSerialization = OutputSerialization.builder()\n                                                                     .json(JSONOutput.builder().build())\n                                                                     .build();\n\n\n        SelectObjectContentRequest select = SelectObjectContentRequest.builder()\n                                                                      .bucket(BUCKET_NAME)\n                                                                      .key(KEY)\n                                                                      .expression(QUERY)\n                                                                      .expressionType(ExpressionType.SQL)\n                                                                      .inputSerialization(inputSerialization)\n                                                                      .outputSerialization(outputSerialization)\n                                                                      .build();\n\n        return s3.selectObjectContent(select, handler);\n    }\n\n    private static class Handler implements SelectObjectContentResponseHandler {\n        private SelectObjectContentResponse response;\n        private List&lt;SelectObjectContentEventStream&gt; receivedEvents = new ArrayList&lt;&gt;();\n        private Throwable exception;\n\n        @Override\n        public void responseReceived(SelectObjectContentResponse response) {\n            this.response = response;\n        }\n\n        @Override\n        public void onEventStream(SdkPublisher&lt;SelectObjectContentEventStream&gt; publisher) {\n            publisher.subscribe(receivedEvents::add);\n        }\n\n        @Override\n        public void exceptionOccurred(Throwable throwable) {\n            exception = throwable;\n        }\n\n        @Override\n        public void complete() {\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","time","java-time"],"comments":[{"owner":{"account_id":417710,"reputation":10050,"user_id":793861,"accept_rate":50,"display_name":"John O&#39;Reilly"},"score":1,"creation_date":1483701062,"post_id":41504350,"comment_id":70214035,"body_markdown":"Joda-Time (https://github.com/dlew/joda-time-android) has some nice options for doing things like that.","body":"Joda-Time (<a href=\"https://github.com/dlew/joda-time-android\" rel=\"nofollow noreferrer\">github.com/dlew/joda-time-android</a>) has some nice options for doing things like that."},{"owner":{"account_id":3086706,"reputation":1815,"user_id":2613692,"display_name":"RustamG"},"score":0,"creation_date":1483955237,"post_id":41504350,"comment_id":70294700,"body_markdown":"It would be helpful if you specify packages which contain `Period`,  `PeriodFormatter`, `PeriodFormatterBuilder` classes","body":"It would be helpful if you specify packages which contain <code>Period</code>,  <code>PeriodFormatter</code>, <code>PeriodFormatterBuilder</code> classes"},{"owner":{"account_id":5733813,"reputation":1895,"user_id":4528594,"accept_rate":32,"display_name":"charbinary"},"score":0,"creation_date":1483959949,"post_id":41504350,"comment_id":70297764,"body_markdown":"I added it. Thanks for pointing it out.","body":"I added it. Thanks for pointing it out."}],"answers":[{"tags":[],"owner":{"account_id":6756687,"reputation":8542,"user_id":5204833,"accept_rate":89,"display_name":"Amir_P"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1483700938,"creation_date":1483700938,"answer_id":41504398,"question_id":41504350,"body_markdown":"you can use this function to do that\r\n\r\n      public static String getTimeAgo(long time) {\r\n         if (time &lt; 1000000000000L) {\r\n         // if timestamp given in seconds, convert to millis\r\n         time *= 1000;\r\n      }\r\n    \r\n      long now = System.currentTimeMillis();\r\n      if (time &gt; now || time &lt;= 0) {\r\n         return null;\r\n      }\r\n    \r\n      // TODO: localize\r\n      final long diff = now - time;\r\n      if (diff &lt; MINUTE_MILLIS) {\r\n         return &quot;just now&quot;;\r\n      } else if (diff &lt; 2 * MINUTE_MILLIS) {\r\n         return &quot;a minute ago&quot;;\r\n      } else if (diff &lt; 50 * MINUTE_MILLIS) {\r\n         return diff / MINUTE_MILLIS + &quot; min ago&quot;;\r\n      } else if (diff &lt; 90 * MINUTE_MILLIS) {\r\n         return &quot;an hour ago&quot;;\r\n      } else if (diff &lt; 24 * HOUR_MILLIS) {\r\n         return diff / HOUR_MILLIS + &quot; hours ago&quot;;\r\n      } else if (diff &lt; 48 * HOUR_MILLIS) {\r\n         return &quot;yesterday&quot;;\r\n      } else {\r\n         return diff / DAY_MILLIS + &quot; days ago&quot;;\r\n      }\r\n     }","title":"Displaying time ago like Twitter","body":"<p>you can use this function to do that</p>\n\n<pre><code>  public static String getTimeAgo(long time) {\n     if (time &lt; 1000000000000L) {\n     // if timestamp given in seconds, convert to millis\n     time *= 1000;\n  }\n\n  long now = System.currentTimeMillis();\n  if (time &gt; now || time &lt;= 0) {\n     return null;\n  }\n\n  // TODO: localize\n  final long diff = now - time;\n  if (diff &lt; MINUTE_MILLIS) {\n     return \"just now\";\n  } else if (diff &lt; 2 * MINUTE_MILLIS) {\n     return \"a minute ago\";\n  } else if (diff &lt; 50 * MINUTE_MILLIS) {\n     return diff / MINUTE_MILLIS + \" min ago\";\n  } else if (diff &lt; 90 * MINUTE_MILLIS) {\n     return \"an hour ago\";\n  } else if (diff &lt; 24 * HOUR_MILLIS) {\n     return diff / HOUR_MILLIS + \" hours ago\";\n  } else if (diff &lt; 48 * HOUR_MILLIS) {\n     return \"yesterday\";\n  } else {\n     return diff / DAY_MILLIS + \" days ago\";\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9892573,"reputation":1197,"user_id":7325102,"accept_rate":75,"display_name":"Bradley Wilson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1483701835,"creation_date":1483701120,"answer_id":41504447,"question_id":41504350,"body_markdown":"You can use [JodaTime][1] to achieve this: \r\n\r\nAdd the dependency to your app level `Build.Gradle` file like so: \r\n\r\n    compile &#39;net.danlew:android.joda:2.9.4.1&#39;\r\n\r\nand then you can just simply implement this functionality.\r\n\r\n    private String time = &quot;Just Now&quot;;\r\n\r\n    private String how_long_ago(String created_at) {\r\n            DateTime sinceGraduation = new DateTime(created_at, GregorianChronology.getInstance());\r\n            DateTime currentDate = new DateTime(); //current date\r\n    \r\n            Months diffInMonths = Months.monthsBetween(sinceGraduation, currentDate);\r\n            Days diffInDays = Days.daysBetween(sinceGraduation, currentDate);\r\n            Hours diffInHours = Hours.hoursBetween(sinceGraduation, currentDate);\r\n            Minutes diffInMinutes = Minutes.minutesBetween(sinceGraduation, currentDate);\r\n            Seconds seconds = Seconds.secondsBetween(sinceGraduation, currentDate);\r\n    \r\n            Log.d(&quot;since grad&quot;, &quot;before if &quot; + sinceGraduation);\r\n            if (diffInDays.isGreaterThan(Days.days(31))) {\r\n                time = diffInMonths.getMonths() + &quot; months ago&quot;;\r\n                if (diffInMonths.getMonths() == 1) {\r\n                    time = diffInMonths.getMonths() + &quot; month ago&quot;;\r\n                } else {\r\n                    time = diffInMonths.getMonths() + &quot; months ago&quot;;\r\n                }\r\n                return time;\r\n            } else if (diffInHours.isGreaterThan(Hours.hours(24))) {\r\n                if (diffInDays.getDays() == 1) {\r\n                    time = diffInDays.getDays() + &quot; day ago&quot;;\r\n                } else {\r\n                    time = diffInDays.getDays() + &quot; days ago&quot;;\r\n                }\r\n                return time;\r\n            } else if (diffInMinutes.isGreaterThan(Minutes.minutes(60))) {\r\n                if (diffInHours.getHours() == 1) {\r\n                    time = diffInHours.getHours() + &quot; hour ago&quot;;\r\n                } else {\r\n                    time = diffInHours.getHours() + &quot; hours ago&quot;;\r\n                }\r\n                return time;\r\n            } else if (seconds.isGreaterThan(Seconds.seconds(60))) {\r\n                if (diffInMinutes.getMinutes() == 1) {\r\n                    time = diffInMinutes.getMinutes() + &quot; minute ago&quot;;\r\n                } else {\r\n                    time = diffInMinutes.getMinutes() + &quot; minutes ago&quot;;\r\n                }\r\n                return time;\r\n            } else if (seconds.isLessThan(Seconds.seconds(60))) {\r\n                return time;\r\n            }\r\n            Log.d(&quot;since grad&quot;, &quot;&quot; + sinceGraduation);\r\n            return time;\r\n        }\r\n\r\nJust change the `String` output for `time` to achieve the desired &#39;1m&#39;\r\n\r\n**Note**: you can use localization to change the string through your resources.\r\n\r\nsee [Android Localization Tutorial][2] for more details.\r\n\r\n\r\n  [1]: https://github.com/dlew/joda-time-android\r\n  [2]: https://www.icanlocalize.com/site/tutorials/android-application-localization-tutorial/","title":"Displaying time ago like Twitter","body":"<p>You can use <a href=\"https://github.com/dlew/joda-time-android\" rel=\"nofollow noreferrer\">JodaTime</a> to achieve this: </p>\n\n<p>Add the dependency to your app level <code>Build.Gradle</code> file like so: </p>\n\n<pre><code>compile 'net.danlew:android.joda:2.9.4.1'\n</code></pre>\n\n<p>and then you can just simply implement this functionality.</p>\n\n<pre><code>private String time = \"Just Now\";\n\nprivate String how_long_ago(String created_at) {\n        DateTime sinceGraduation = new DateTime(created_at, GregorianChronology.getInstance());\n        DateTime currentDate = new DateTime(); //current date\n\n        Months diffInMonths = Months.monthsBetween(sinceGraduation, currentDate);\n        Days diffInDays = Days.daysBetween(sinceGraduation, currentDate);\n        Hours diffInHours = Hours.hoursBetween(sinceGraduation, currentDate);\n        Minutes diffInMinutes = Minutes.minutesBetween(sinceGraduation, currentDate);\n        Seconds seconds = Seconds.secondsBetween(sinceGraduation, currentDate);\n\n        Log.d(\"since grad\", \"before if \" + sinceGraduation);\n        if (diffInDays.isGreaterThan(Days.days(31))) {\n            time = diffInMonths.getMonths() + \" months ago\";\n            if (diffInMonths.getMonths() == 1) {\n                time = diffInMonths.getMonths() + \" month ago\";\n            } else {\n                time = diffInMonths.getMonths() + \" months ago\";\n            }\n            return time;\n        } else if (diffInHours.isGreaterThan(Hours.hours(24))) {\n            if (diffInDays.getDays() == 1) {\n                time = diffInDays.getDays() + \" day ago\";\n            } else {\n                time = diffInDays.getDays() + \" days ago\";\n            }\n            return time;\n        } else if (diffInMinutes.isGreaterThan(Minutes.minutes(60))) {\n            if (diffInHours.getHours() == 1) {\n                time = diffInHours.getHours() + \" hour ago\";\n            } else {\n                time = diffInHours.getHours() + \" hours ago\";\n            }\n            return time;\n        } else if (seconds.isGreaterThan(Seconds.seconds(60))) {\n            if (diffInMinutes.getMinutes() == 1) {\n                time = diffInMinutes.getMinutes() + \" minute ago\";\n            } else {\n                time = diffInMinutes.getMinutes() + \" minutes ago\";\n            }\n            return time;\n        } else if (seconds.isLessThan(Seconds.seconds(60))) {\n            return time;\n        }\n        Log.d(\"since grad\", \"\" + sinceGraduation);\n        return time;\n    }\n</code></pre>\n\n<p>Just change the <code>String</code> output for <code>time</code> to achieve the desired '1m'</p>\n\n<p><strong>Note</strong>: you can use localization to change the string through your resources.</p>\n\n<p>see <a href=\"https://www.icanlocalize.com/site/tutorials/android-application-localization-tutorial/\" rel=\"nofollow noreferrer\">Android Localization Tutorial</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":7198802,"reputation":609,"user_id":5496625,"accept_rate":25,"display_name":"Jaydip"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679635147,"creation_date":1483701400,"answer_id":41504519,"question_id":41504350,"body_markdown":"Take a look at the [PrettyTime][1] library.\r\n\r\nIt&#39;s quite simple to use:\r\n\r\n`import org.ocpsoft.prettytime.PrettyTime`\r\n\r\n    PrettyTime p = new PrettyTime();\r\n    System.out.println(p.format(new Date()));\r\n    // prints &quot;moments ago&quot;\r\n\r\n\r\nor can also pass in a locale for internationalized messages:\r\n\r\n    PrettyTime p = new PrettyTime(new Locale(&quot;fr&quot;));\r\n    System.out.println(p.format(new Date()));\r\n    // prints &quot;&#224; l&#39;instant&quot;\r\nAs noted in the comments, Android has this functionality built into the [`android.text.format.DateUtils`][2] class.\r\n\r\n\r\n  [1]: http://www.ocpsoft.org/prettytime/\r\n  [2]: http://developer.android.com/reference/android/text/format/DateUtils.html#getRelativeTimeSpanString%28long%29","title":"Displaying time ago like Twitter","body":"<p>Take a look at the <a href=\"http://www.ocpsoft.org/prettytime/\" rel=\"nofollow noreferrer\">PrettyTime</a> library.</p>\n<p>It's quite simple to use:</p>\n<p><code>import org.ocpsoft.prettytime.PrettyTime</code></p>\n<pre><code>PrettyTime p = new PrettyTime();\nSystem.out.println(p.format(new Date()));\n// prints &quot;moments ago&quot;\n</code></pre>\n<p>or can also pass in a locale for internationalized messages:</p>\n<pre><code>PrettyTime p = new PrettyTime(new Locale(&quot;fr&quot;));\nSystem.out.println(p.format(new Date()));\n// prints &quot;à l'instant&quot;\n</code></pre>\n<p>As noted in the comments, Android has this functionality built into the <a href=\"http://developer.android.com/reference/android/text/format/DateUtils.html#getRelativeTimeSpanString%28long%29\" rel=\"nofollow noreferrer\"><code>android.text.format.DateUtils</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483708607,"creation_date":1483708607,"answer_id":41506596,"question_id":41504350,"body_markdown":"Using my library [Time4A][1] would work like you have specified in your question:\r\n\r\n**Printing relative times (with ago-word)**\r\n\r\n        PlainTimestamp now = PlainTimestamp.nowInSystemTime();\r\n        PlainTimestamp earlier = now.minus(1, ClockUnit.MINUTES);\r\n        Moment past = earlier.inStdTimezone();\r\n        Locale russian = new Locale(&quot;ru&quot;);\r\n\r\n        PrettyTime.of(Locale.ENGLISH).printRelativeInStdTimezone(past);\r\n        // output: 1 minute ago\r\n\r\n        PrettyTime.of(Locale.ENGLISH)\r\n           .withShortStyle().printRelativeInStdTimezone(past);\r\n        // output: 1 min. ago\r\n\r\n        PrettyTime.of(russian).printRelativeInStdTimezone(past);\r\n        // output: 1 минуту назад\r\n\r\n        PrettyTime.of(russian).withShortStyle().printRelativeInStdTimezone(past);\r\n        // output: 1 мин. назад\r\n\r\n**Printing flat times without ago-word**\r\n\r\n        IsoUnit days = CalendarUnit.DAYS;\r\n        IsoUnit hours = ClockUnit.HOURS;\r\n        IsoUnit minutes = ClockUnit.MINUTES;\r\n        net.time4j.Duration&lt;IsoUnit&gt; d =\r\n            Duration.in(Timezone.ofSystem(), days, hours, minutes)\r\n                .between(earlier, now);\r\n\r\n        PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.WIDE);\r\n        // output: 1 minute\r\n\r\n        PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.ABBREVIATED);\r\n        // output: 1 min\r\n\r\n        PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.NARROW);\r\n        // output: 1m\r\n\r\n        PrettyTime.of(russian).print(d, TextWidth.WIDE);\r\n        // output: 1 минута\r\n\r\n        PrettyTime.of(russian).print(d, TextWidth.ABBREVIATED);\r\n        // output: 1 мин\r\n\r\n        PrettyTime.of(russian).print(d, TextWidth.NARROW);\r\n        // output: 1 мин\r\n\r\nThe newest library version uses the data of CLDR-repository v30.0.2 (from Unicode-consortium, actually in 80 languages). If necessary you might wish to change the text resources by defining your own assets to be distributed together with Time4A (then overriding the default assets).\r\n\r\n  [1]: https://github.com/MenoData/Time4A","title":"Displaying time ago like Twitter","body":"<p>Using my library <a href=\"https://github.com/MenoData/Time4A\" rel=\"nofollow noreferrer\">Time4A</a> would work like you have specified in your question:</p>\n\n<p><strong>Printing relative times (with ago-word)</strong></p>\n\n<pre><code>    PlainTimestamp now = PlainTimestamp.nowInSystemTime();\n    PlainTimestamp earlier = now.minus(1, ClockUnit.MINUTES);\n    Moment past = earlier.inStdTimezone();\n    Locale russian = new Locale(\"ru\");\n\n    PrettyTime.of(Locale.ENGLISH).printRelativeInStdTimezone(past);\n    // output: 1 minute ago\n\n    PrettyTime.of(Locale.ENGLISH)\n       .withShortStyle().printRelativeInStdTimezone(past);\n    // output: 1 min. ago\n\n    PrettyTime.of(russian).printRelativeInStdTimezone(past);\n    // output: 1 минуту назад\n\n    PrettyTime.of(russian).withShortStyle().printRelativeInStdTimezone(past);\n    // output: 1 мин. назад\n</code></pre>\n\n<p><strong>Printing flat times without ago-word</strong></p>\n\n<pre><code>    IsoUnit days = CalendarUnit.DAYS;\n    IsoUnit hours = ClockUnit.HOURS;\n    IsoUnit minutes = ClockUnit.MINUTES;\n    net.time4j.Duration&lt;IsoUnit&gt; d =\n        Duration.in(Timezone.ofSystem(), days, hours, minutes)\n            .between(earlier, now);\n\n    PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.WIDE);\n    // output: 1 minute\n\n    PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.ABBREVIATED);\n    // output: 1 min\n\n    PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.NARROW);\n    // output: 1m\n\n    PrettyTime.of(russian).print(d, TextWidth.WIDE);\n    // output: 1 минута\n\n    PrettyTime.of(russian).print(d, TextWidth.ABBREVIATED);\n    // output: 1 мин\n\n    PrettyTime.of(russian).print(d, TextWidth.NARROW);\n    // output: 1 мин\n</code></pre>\n\n<p>The newest library version uses the data of CLDR-repository v30.0.2 (from Unicode-consortium, actually in 80 languages). If necessary you might wish to change the text resources by defining your own assets to be distributed together with Time4A (then overriding the default assets).</p>\n"}],"owner":{"account_id":5733813,"reputation":1895,"user_id":4528594,"accept_rate":32,"display_name":"charbinary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":41504447,"answer_count":4,"score":5,"last_activity_date":1679635147,"creation_date":1483700809,"question_id":41504350,"body_markdown":"I am using `DateUtils.getRelativeTimeSpanString()` for displaying when a post is made.\r\n\r\nThe string it returns is something like that: **1 minute ago**, but I would like to be **1 m** or **1 h** and so on (shortened and without ago). \r\n\r\nI can replace “hour” with “h” or “minute” with “m” but if the language is different from English it won’t work. It&#39;s what `Twitter` is using right now. **English/Cyrillic** way of displaying by Twitter.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X15WA.png\r\n  [2]: https://i.stack.imgur.com/C65FJ.png\r\n\r\n**UPDATE**: I will accept the answer from @Bradley Wilson although I will add here cleaner solution (using again the JodaTime package). Also the rest of the answers also can be modified for the same result so they deserve up vote. Thank you, all:\r\n\r\n        DateTime postMaded = new DateTime(your previous date);\r\n        DateTime nowUpdate = new DateTime();\r\n\r\n        Period period = new Period(postMaded, nowUpdate);\r\n\r\n        PeriodFormatter formatter;\r\n\r\n        Locale current = ConverterMethods.getCurrentLocale();\r\n\r\n        if (current.getLanguage().contentEquals(any Cyrillic language )) {\r\n\r\n            if (period.getYears() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendYears().appendSuffix(&quot; г.&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getMonths() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendMonths().appendSuffix(&quot; м&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getWeeks() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendWeeks().appendSuffix(&quot; седм.&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getDays() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendDays().appendSuffix(&quot; д&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getHours() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendHours().appendSuffix(&quot; ч&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getMinutes() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendMinutes().appendSuffix(&quot; мин&quot;).printZeroNever().toFormatter();\r\n            } else {\r\n                formatter = new PeriodFormatterBuilder().appendSeconds().appendSuffix(&quot; с&quot;).printZeroNever().toFormatter();\r\n            }\r\n\r\n        } else {\r\n\r\n            if (period.getYears() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendYears().appendSuffix(&quot; y&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getMonths() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendMonths().appendSuffix(&quot; mon&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getWeeks() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendWeeks().appendSuffix(&quot; w&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getDays() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendDays().appendSuffix(&quot; d&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getHours() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendHours().appendSuffix(&quot; h&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getMinutes() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendMinutes().appendSuffix(&quot; m&quot;).printZeroNever().toFormatter();\r\n            } else {\r\n                formatter = new PeriodFormatterBuilder().appendSeconds().appendSuffix(&quot; s&quot;).printZeroNever().toFormatter();\r\n            }\r\n        }","title":"Displaying time ago like Twitter","body":"<p>I am using <code>DateUtils.getRelativeTimeSpanString()</code> for displaying when a post is made.</p>\n\n<p>The string it returns is something like that: <strong>1 minute ago</strong>, but I would like to be <strong>1 m</strong> or <strong>1 h</strong> and so on (shortened and without ago). </p>\n\n<p>I can replace “hour” with “h” or “minute” with “m” but if the language is different from English it won’t work. It's what <code>Twitter</code> is using right now. <strong>English/Cyrillic</strong> way of displaying by Twitter.</p>\n\n<p><a href=\"https://i.stack.imgur.com/X15WA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X15WA.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/C65FJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C65FJ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>UPDATE</strong>: I will accept the answer from @Bradley Wilson although I will add here cleaner solution (using again the JodaTime package). Also the rest of the answers also can be modified for the same result so they deserve up vote. Thank you, all:</p>\n\n<pre><code>    DateTime postMaded = new DateTime(your previous date);\n    DateTime nowUpdate = new DateTime();\n\n    Period period = new Period(postMaded, nowUpdate);\n\n    PeriodFormatter formatter;\n\n    Locale current = ConverterMethods.getCurrentLocale();\n\n    if (current.getLanguage().contentEquals(any Cyrillic language )) {\n\n        if (period.getYears() != 0) {\n            formatter = new PeriodFormatterBuilder().appendYears().appendSuffix(\" г.\").printZeroNever().toFormatter();\n        } else if (period.getMonths() != 0) {\n            formatter = new PeriodFormatterBuilder().appendMonths().appendSuffix(\" м\").printZeroNever().toFormatter();\n        } else if (period.getWeeks() != 0) {\n            formatter = new PeriodFormatterBuilder().appendWeeks().appendSuffix(\" седм.\").printZeroNever().toFormatter();\n        } else if (period.getDays() != 0) {\n            formatter = new PeriodFormatterBuilder().appendDays().appendSuffix(\" д\").printZeroNever().toFormatter();\n        } else if (period.getHours() != 0) {\n            formatter = new PeriodFormatterBuilder().appendHours().appendSuffix(\" ч\").printZeroNever().toFormatter();\n        } else if (period.getMinutes() != 0) {\n            formatter = new PeriodFormatterBuilder().appendMinutes().appendSuffix(\" мин\").printZeroNever().toFormatter();\n        } else {\n            formatter = new PeriodFormatterBuilder().appendSeconds().appendSuffix(\" с\").printZeroNever().toFormatter();\n        }\n\n    } else {\n\n        if (period.getYears() != 0) {\n            formatter = new PeriodFormatterBuilder().appendYears().appendSuffix(\" y\").printZeroNever().toFormatter();\n        } else if (period.getMonths() != 0) {\n            formatter = new PeriodFormatterBuilder().appendMonths().appendSuffix(\" mon\").printZeroNever().toFormatter();\n        } else if (period.getWeeks() != 0) {\n            formatter = new PeriodFormatterBuilder().appendWeeks().appendSuffix(\" w\").printZeroNever().toFormatter();\n        } else if (period.getDays() != 0) {\n            formatter = new PeriodFormatterBuilder().appendDays().appendSuffix(\" d\").printZeroNever().toFormatter();\n        } else if (period.getHours() != 0) {\n            formatter = new PeriodFormatterBuilder().appendHours().appendSuffix(\" h\").printZeroNever().toFormatter();\n        } else if (period.getMinutes() != 0) {\n            formatter = new PeriodFormatterBuilder().appendMinutes().appendSuffix(\" m\").printZeroNever().toFormatter();\n        } else {\n            formatter = new PeriodFormatterBuilder().appendSeconds().appendSuffix(\" s\").printZeroNever().toFormatter();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","redis-cache"],"owner":{"account_id":25860904,"reputation":11,"user_id":19593416,"display_name":"coredev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679634836,"creation_date":1679387888,"question_id":75798897,"body_markdown":"I have below POJO &quot;MyClass&quot; which is being saved in Redis.\r\n\r\n    class MyClass {\r\n     @Id\r\n     private String someId;\r\n     \r\n     private GenericAnimalID genericAnimalID;\r\n     \r\n     @Transient\r\n     private GenericAnimal genericAnimal\r\n    \r\n    }\r\n\r\n    class GenericAnimalId{\r\n                           String variant;\r\n                           String size;\r\n            \r\n                \r\n                    }\r\n    class SpecificAnimalId extends GenericAnimalId{\r\n                           String someProperty;\r\n                \r\n                    }\r\n    class GenericAnimal{\r\n                       @Id\r\n                       GenericAnimalId genericAnimalId;\r\n            \r\n                       String name;\r\n            \r\n                }\r\n\r\n    \r\n\r\nSo,basically I am storing MyClass in redis which has &quot;genericAnimalID&quot; property.\r\n\r\nNow,when I store some Id having type of SpecificAnimalId,an extra property gets inserted in Redis as \r\n\r\n    {\r\n    genericAnimalId._class : package.SpecificAnimalId,\r\n    genericAnimalId : tiger\r\n    }\r\n\r\nWhereas,when I store Id of type GenericAnimalId,it works fine and only inserts the Id value what I expect.\r\n\r\n    {\r\n    &quot;genericAnimalId&quot;:animal\r\n    }\r\n\r\nIn first case,it causes converter issues while reading this value.While in second case,no extra property gets inserted and code works fine after this.","title":"Spring boot app unnecessarily adds &quot;ClassName._class&quot; property in redis","body":"<p>I have below POJO &quot;MyClass&quot; which is being saved in Redis.</p>\n<pre><code>class MyClass {\n @Id\n private String someId;\n \n private GenericAnimalID genericAnimalID;\n \n @Transient\n private GenericAnimal genericAnimal\n\n}\n\nclass GenericAnimalId{\n                       String variant;\n                       String size;\n        \n            \n                }\nclass SpecificAnimalId extends GenericAnimalId{\n                       String someProperty;\n            \n                }\nclass GenericAnimal{\n                   @Id\n                   GenericAnimalId genericAnimalId;\n        \n                   String name;\n        \n            }\n</code></pre>\n<p>So,basically I am storing MyClass in redis which has &quot;genericAnimalID&quot; property.</p>\n<p>Now,when I store some Id having type of SpecificAnimalId,an extra property gets inserted in Redis as</p>\n<pre><code>{\ngenericAnimalId._class : package.SpecificAnimalId,\ngenericAnimalId : tiger\n}\n</code></pre>\n<p>Whereas,when I store Id of type GenericAnimalId,it works fine and only inserts the Id value what I expect.</p>\n<pre><code>{\n&quot;genericAnimalId&quot;:animal\n}\n</code></pre>\n<p>In first case,it causes converter issues while reading this value.While in second case,no extra property gets inserted and code works fine after this.</p>\n"},{"tags":["java","multithreading","threadpool","micronaut","context-switching"],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679633383,"creation_date":1679590456,"question_id":75825887,"body_markdown":"I am working on a Micronaut Application. In this application, there is a main scheduled job which works like a workflow engine and multiple steps process the data which is around 600K records.\r\n\r\nAlong with this scheduled job, we have an event listener which keeps getting events and on the receiver side, we save the event payload in a table.\r\n\r\nWe are also maintaining a health check endpoint in the application which is getting called every 1 min and returning a response that is prepared by a background job (runs every 2 min).\r\n\r\n    HealthCheckStatus status;\r\n\r\n    @Get\r\n    @ExecuteOn(TaskExecutors.IO)\r\n    public HealthCheckStatus index() {\r\n        log.debug(&quot;HealthCheck requested&quot;);\r\n        return status;\r\n    }\r\n\r\n    @Scheduled(fixedDelay = &quot;${scheduler.healthcheck.fixedDelay}&quot;, initialDelay = &quot;${scheduler.healthcheck.initialDelay}&quot;)\r\n    public void refreshStatus() {\r\n       log.debug(&quot;HealthCheck refresh requested...&quot;);\r\n       status = // Here we are checking internal dependencies and populating this status\r\n    }\r\n\r\napplication.yml:\r\n\r\n    micronaut:\r\n      application:\r\n        name: cbo-adaptor\r\n      netty:\r\n        event-loops:\r\n          httpclientthreadpool:\r\n            num-threads: 10\r\n            prefer-native-transport: true\r\n      executors:\r\n        io:\r\n          type: fixed\r\n          nThreads: 50\r\n\r\nRecently we are seeing some delay in a couple of steps of the workflow engine. If I check the logs I can see that there are many logs related to the event received and health check b/w two logs files which is expected to be executed one after another immediately.\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:31:29.948Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.JobService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;job&quot;:&quot;1234&quot;,&quot;job_status&quot;:&quot;WORKING&quot;,&quot;job_step&quot;:&quot;ProcessingStep&quot;,&quot;origin&quot;:&quot;JOB_TYPE1,&quot;message&quot;:&quot;start processing&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:31:38.198Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-23&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:32:13.122Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-13&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:32:59.025Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck refresh requested...&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-4&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:33:13.123Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-40&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:33:38.701Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-6&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:34:13.122Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-1&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:35:05.487Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.MyEventService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;event received: MyDto(id=12313, type=A, timestamp=2023-03-18T03:35:05.487514, payload=Dto(field1=value1, field2=value2)&quot;,&quot;thread_name&quot;:&quot;pool-4-thread-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:37:00.167Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.JobService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;job&quot;:&quot;1234&quot;,&quot;job_status&quot;:&quot;WORKING&quot;,&quot;job_step&quot;:&quot;ProcessingStep&quot;,&quot;origin&quot;:&quot;JOB_TYPE1&quot;,&quot;message&quot;:&quot;completed processing&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-2&quot;}\r\n\r\nHere the method for ProcessingStep:\r\n\r\n    public void processData(UUID jobId) {\r\n        log.debug(&quot;started Processing&quot;);\r\n        repository.getItem(jobId, JobType.TYPE_1) //not records of TYPE_1 in db for this case\r\n                .map(Item::getId)\r\n                .map(this::processType1Data) //calling another api on itemId\r\n                .blockingSubscribe();\r\n        log.debug(&quot;completed processing&quot;);\r\n\r\n    }\r\n\r\n\r\nIn the above case for the particular job id, we don&#39;t have TYPE_1 item in the database so ideally, both logs should print immediately one after another within milliseconds/seconds but as per the logs `completed processing` got executed after a delay of 5-6 minute and in b/w logs are related to the execution of health check and event receive.\r\n\r\nI believe it&#39;s due to context switching b/w thread but still not having much depth knowledge about it.\r\n\r\nI want my job to completes quickly without being impacted by events.","title":"How to stop another thread switching the context","body":"<p>I am working on a Micronaut Application. In this application, there is a main scheduled job which works like a workflow engine and multiple steps process the data which is around 600K records.</p>\n<p>Along with this scheduled job, we have an event listener which keeps getting events and on the receiver side, we save the event payload in a table.</p>\n<p>We are also maintaining a health check endpoint in the application which is getting called every 1 min and returning a response that is prepared by a background job (runs every 2 min).</p>\n<pre><code>HealthCheckStatus status;\n\n@Get\n@ExecuteOn(TaskExecutors.IO)\npublic HealthCheckStatus index() {\n    log.debug(&quot;HealthCheck requested&quot;);\n    return status;\n}\n\n@Scheduled(fixedDelay = &quot;${scheduler.healthcheck.fixedDelay}&quot;, initialDelay = &quot;${scheduler.healthcheck.initialDelay}&quot;)\npublic void refreshStatus() {\n   log.debug(&quot;HealthCheck refresh requested...&quot;);\n   status = // Here we are checking internal dependencies and populating this status\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>micronaut:\n  application:\n    name: cbo-adaptor\n  netty:\n    event-loops:\n      httpclientthreadpool:\n        num-threads: 10\n        prefer-native-transport: true\n  executors:\n    io:\n      type: fixed\n      nThreads: 50\n</code></pre>\n<p>Recently we are seeing some delay in a couple of steps of the workflow engine. If I check the logs I can see that there are many logs related to the event received and health check b/w two logs files which is expected to be executed one after another immediately.</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-03-18T03:31:29.948Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.JobService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;job&quot;:&quot;1234&quot;,&quot;job_status&quot;:&quot;WORKING&quot;,&quot;job_step&quot;:&quot;ProcessingStep&quot;,&quot;origin&quot;:&quot;JOB_TYPE1,&quot;message&quot;:&quot;start processing&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:31:38.198Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-23&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:32:13.122Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-13&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:32:59.025Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck refresh requested...&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-4&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:33:13.123Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-40&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:33:38.701Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-6&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:34:13.122Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-1&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:35:05.487Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.MyEventService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;event received: MyDto(id=12313, type=A, timestamp=2023-03-18T03:35:05.487514, payload=Dto(field1=value1, field2=value2)&quot;,&quot;thread_name&quot;:&quot;pool-4-thread-1&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:37:00.167Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.JobService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;job&quot;:&quot;1234&quot;,&quot;job_status&quot;:&quot;WORKING&quot;,&quot;job_step&quot;:&quot;ProcessingStep&quot;,&quot;origin&quot;:&quot;JOB_TYPE1&quot;,&quot;message&quot;:&quot;completed processing&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-2&quot;}\n</code></pre>\n<p>Here the method for ProcessingStep:</p>\n<pre><code>public void processData(UUID jobId) {\n    log.debug(&quot;started Processing&quot;);\n    repository.getItem(jobId, JobType.TYPE_1) //not records of TYPE_1 in db for this case\n            .map(Item::getId)\n            .map(this::processType1Data) //calling another api on itemId\n            .blockingSubscribe();\n    log.debug(&quot;completed processing&quot;);\n\n}\n</code></pre>\n<p>In the above case for the particular job id, we don't have TYPE_1 item in the database so ideally, both logs should print immediately one after another within milliseconds/seconds but as per the logs <code>completed processing</code> got executed after a delay of 5-6 minute and in b/w logs are related to the execution of health check and event receive.</p>\n<p>I believe it's due to context switching b/w thread but still not having much depth knowledge about it.</p>\n<p>I want my job to completes quickly without being impacted by events.</p>\n"},{"tags":["java","android","kotlin","mobile"],"comments":[{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1679627483,"post_id":75829581,"comment_id":133759187,"body_markdown":"If the others `activity` is just normal activity you only need to make 4 icon in MainActivity then start activity when user click on 1 icon","body":"If the others <code>activity</code> is just normal activity you only need to make 4 icon in MainActivity then start activity when user click on 1 icon"},{"owner":{"account_id":28063393,"reputation":1,"user_id":21437149,"display_name":"thinkoutofidea"},"score":0,"creation_date":1679631408,"post_id":75829581,"comment_id":133759589,"body_markdown":"@KiluSs i means to have other activity place in device Home Screen. Each activity have owe icon and label","body":"@KiluSs i means to have other activity place in device Home Screen. Each activity have owe icon and label"},{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1679642408,"post_id":75829581,"comment_id":133760977,"body_markdown":"have you try app widget?","body":"have you try app widget?"},{"owner":{"account_id":28063393,"reputation":1,"user_id":21437149,"display_name":"thinkoutofidea"},"score":0,"creation_date":1679881439,"post_id":75829581,"comment_id":133794967,"body_markdown":"@KiluSs, thanks for your advice. However widget need to drag it out by user itself. I was hope that i able to appear once the app is installed","body":"@KiluSs, thanks for your advice. However widget need to drag it out by user itself. I was hope that i able to appear once the app is installed"},{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1679882184,"post_id":75829581,"comment_id":133795043,"body_markdown":"I&#39;m afraid that can&#39;t be done. But you can create several apps and go to others by `intent`. Or if you only can make one just add a guide for user on startup screen to set the widget themselves.","body":"I&#39;m afraid that can&#39;t be done. But you can create several apps and go to others by <code>intent</code>. Or if you only can make one just add a guide for user on startup screen to set the widget themselves."}],"owner":{"account_id":28063393,"reputation":1,"user_id":21437149,"display_name":"thinkoutofidea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679633144,"creation_date":1679625347,"question_id":75829581,"body_markdown":"MainActivity as my main app as Start the app, but the SecondActivity, ThirdActivity, FourthActivity will appear only in Home Screen, but not in App List Screen. Is that able to do it? Just like a one app with four Icon generated.\r\n\r\n```\r\n&lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.MultipleApps&quot;\r\n    tools:targetApi=&quot;31&quot;&gt;\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n        android:name=&quot;.SecondActivity&quot;\r\n        android:label=&quot;@string/source_01&quot;\r\n        android:icon=&quot;@android:drawable/ic_delete&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n        android:name=&quot;.ThirdActivity&quot;\r\n        android:label=&quot;@string/source_02&quot;\r\n        android:icon=&quot;@android:drawable/ic_btn_speak_now&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n        android:name=&quot;.FourthActivity&quot;\r\n        android:label=&quot;@string/source_03&quot;\r\n        android:icon=&quot;@android:drawable/ic_lock_lock&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n&lt;/application&gt;\r\n```\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qlT5P.jpg","title":"How to create multiple app based on the Activity Class","body":"<p>MainActivity as my main app as Start the app, but the SecondActivity, ThirdActivity, FourthActivity will appear only in Home Screen, but not in App List Screen. Is that able to do it? Just like a one app with four Icon generated.</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MultipleApps&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.SecondActivity&quot;\n        android:label=&quot;@string/source_01&quot;\n        android:icon=&quot;@android:drawable/ic_delete&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.ThirdActivity&quot;\n        android:label=&quot;@string/source_02&quot;\n        android:icon=&quot;@android:drawable/ic_btn_speak_now&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.FourthActivity&quot;\n        android:label=&quot;@string/source_03&quot;\n        android:icon=&quot;@android:drawable/ic_lock_lock&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qlT5P.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","react-native","path","android-emulator"],"comments":[{"owner":{"account_id":26387193,"reputation":106,"user_id":20039543,"display_name":"Kishan"},"score":0,"creation_date":1679634658,"post_id":75829972,"comment_id":133759943,"body_markdown":"try cleaning gradle","body":"try cleaning gradle"},{"owner":{"account_id":26387193,"reputation":106,"user_id":20039543,"display_name":"Kishan"},"score":0,"creation_date":1679634923,"post_id":75829972,"comment_id":133759967,"body_markdown":"windows:-\ncd android\ngradlew clean\nnpm start --reset-cache\nnpm run android","body":"windows:- cd android gradlew clean npm start --reset-cache npm run android"},{"owner":{"account_id":26387193,"reputation":106,"user_id":20039543,"display_name":"Kishan"},"score":0,"creation_date":1679634940,"post_id":75829972,"comment_id":133759968,"body_markdown":"Linux:-\ncd android &amp;&amp; ./gradlew clean &amp;&amp; cd ..","body":"Linux:- cd android &amp;&amp; ./gradlew clean &amp;&amp; cd .."},{"owner":{"account_id":24201776,"reputation":3,"user_id":18159507,"display_name":"enenis"},"score":0,"creation_date":1679638735,"post_id":75829972,"comment_id":133760427,"body_markdown":"i tried gradlew clean but it gives me build failed error","body":"i tried gradlew clean but it gives me build failed error"},{"owner":{"account_id":24201776,"reputation":3,"user_id":18159507,"display_name":"enenis"},"score":0,"creation_date":1679824204,"post_id":75829972,"comment_id":133786707,"body_markdown":"I figured out. It&#39;s because onedrive. Made my desktop location more than one. When i change the build location on the documents. It is done!","body":"I figured out. It&#39;s because onedrive. Made my desktop location more than one. When i change the build location on the documents. It is done!"}],"owner":{"account_id":24201776,"reputation":3,"user_id":18159507,"display_name":"enenis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679632498,"creation_date":1679631208,"question_id":75829972,"body_markdown":"After resetting my computer and installing from react-native document, I started getting gradle error. I set the paths ANDROID_HOME part I downloaded the packages from android studio but I still get this problem. [Error Image](https://i.stack.imgur.com/WQl7E.png)\r\n\r\n* Where:\r\nScript &#39;C:\\Masa�st�\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\native_modules.gradle&#39; line: 413\r\n\r\n* What went wrong:\r\nA problem occurred evaluating script.\r\n&gt; Debugger attached.Waiting for the debugger to disconnect...node:internal/modules/cjs/loader:1078  throw err;  ^Error: Cannot find module &#39;C:\\Masa&#195;&#188;st&#195;&#188;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\bin.js&#39;    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)    at Module._load (node:internal/modules/cjs/loader:920:27)    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)    at node:internal/main/run_main_module:23:47 {  code: &#39;MODULE_NOT_FOUND&#39;,  requireStack: []}Node.js v18.15.0\r\n\r\nBU�LD FAILED in 2s\r\n\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n:ReactNative:Unexpected empty result of running &#39;[node, C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\bin.js, config]&#39; command.\r\n:ReactNative:Running &#39;[node, C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\bin.js, config]&#39; command failed.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nScript &#39;C:\\Masa�st�\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\native_modules.gradle&#39; line: 413\r\n\r\n* What went wrong:\r\nA problem occurred evaluating script.\r\n&gt; Debugger attached.Waiting for the debugger to disconnect...node:internal/modules/cjs/loader:1078  throw err;  ^Error: Cannot find module &#39;C:\\Masa&#195;&#188;st&#195;&#188;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\bin.js&#39;    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)    at Module._load (node:internal/modules/cjs/loader:920:27)    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)    at node:internal/main/run_main_module:23:47 {  code: &#39;MODULE_NOT_FOUND&#39;,  requireStack: []}Node.js v18.15.0    \r\n\r\nBU�LD FAILED in 2s\r\n\r\n    at makeError (C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:278:16\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async runOnAllDevices (C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\r\n    at async Command.handleAction (C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\r\ninfo Run CLI with --verbose flag for more details.\r\n\r\n\r\nI tried to read all the documentation many times and make it from scratch. but it didn&#39;t work.","title":"Error: Command failed: gradlew.bat app:installDebug","body":"<p>After resetting my computer and installing from react-native document, I started getting gradle error. I set the paths ANDROID_HOME part I downloaded the packages from android studio but I still get this problem. <a href=\"https://i.stack.imgur.com/WQl7E.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n<ul>\n<li><p>Where:\nScript 'C:\\Masa�st�\\gradle\\slow\\node_modules@react-native-community\\cli-platform-android\\native_modules.gradle' line: 413</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating script.</p>\n</li>\n</ul>\n<blockquote>\n<p>Debugger attached.Waiting for the debugger to disconnect...node:internal/modules/cjs/loader:1078  throw err;  ^Error: Cannot find module 'C:\\MasaÃ¼stÃ¼\\gradle\\slow\\node_modules@react-native-community\\cli\\build\\bin.js'    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)    at Module._load (node:internal/modules/cjs/loader:920:27)    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)    at node:internal/main/run_main_module:23:47 {  code: 'MODULE_NOT_FOUND',  requireStack: []}Node.js v18.15.0</p>\n</blockquote>\n<p>BU�LD FAILED in 2s</p>\n<p>Error: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n:ReactNative:Unexpected empty result of running '[node, C:\\Masaüstü\\gradle\\slow\\node_modules@react-native-community\\cli\\build\\bin.js, config]' command.\n:ReactNative:Running '[node, C:\\Masaüstü\\gradle\\slow\\node_modules@react-native-community\\cli\\build\\bin.js, config]' command failed.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where:\nScript 'C:\\Masa�st�\\gradle\\slow\\node_modules@react-native-community\\cli-platform-android\\native_modules.gradle' line: 413</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating script.</p>\n</li>\n</ul>\n<blockquote>\n<p>Debugger attached.Waiting for the debugger to disconnect...node:internal/modules/cjs/loader:1078  throw err;  ^Error: Cannot find module 'C:\\MasaÃ¼stÃ¼\\gradle\\slow\\node_modules@react-native-community\\cli\\build\\bin.js'    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)    at Module._load (node:internal/modules/cjs/loader:920:27)    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)    at node:internal/main/run_main_module:23:47 {  code: 'MODULE_NOT_FOUND',  requireStack: []}Node.js v18.15.0</p>\n</blockquote>\n<p>BU�LD FAILED in 2s</p>\n<pre><code>at makeError (C:\\Masaüstü\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:174:9)\nat C:\\Masaüstü\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:278:16\nat process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nat async runOnAllDevices (C:\\Masaüstü\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\nat async Command.handleAction (C:\\Masaüstü\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\n</code></pre>\n<p>info Run CLI with --verbose flag for more details.</p>\n<p>I tried to read all the documentation many times and make it from scratch. but it didn't work.</p>\n"},{"tags":["java","forms","replace","pdfbox"],"owner":{"account_id":22281629,"reputation":11,"user_id":16509933,"display_name":"gargelfuh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679632323,"creation_date":1679498954,"question_id":75814243,"body_markdown":"Using the [PdfContetnStreamEditor](https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/main/java/mkl/testarea/pdfbox2/content/PdfContentStreamEditor.java#L36)\r\nit&#39;s quite easy to detect and replace text.\r\n\r\nSo this should also be possible for the Form streams with a modified showForm like:\r\n\r\n```\r\n    @Override\r\n    public void showForm(PDFormXObject form) throws IOException {\r\n        formDetected = true;\r\n        withinForm = true;\r\n        LOGGER.warn(&quot;Form detected - will flatten page&quot;);\r\n        // inOperator = false;\r\n        PDStream formStream = new PDStream(document);\r\n        replacementFormStream = formStream.createOutputStream(COSName.FLATE_DECODE);\r\n        replacementForm = new ContentStreamWriter(replacementStream);\r\n        super.showForm(form); // processing of content\r\n        PDFormXObject newform=new PDFormXObject(formStream);\r\n        newform.setOptionalContent(form.getOptionalContent());\r\n        newform.setBBox(form.getBBox());\r\n        newform.setMatrix(form.getMatrix().createAffineTransform());\r\n        newform.setResources(form.getResources());\r\n        withinForm = false;\r\n    }\r\n```\r\n\r\nnow I have a new Form and I want to replace the old one. Is there a good way to do this?\r\n\r\n\r\nAs described above the PdfContetnStreamEditor is the base and replacements in the main content are no problem.","title":"pdfbox: How to replace text in a PDFormXobject","body":"<p>Using the <a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/main/java/mkl/testarea/pdfbox2/content/PdfContentStreamEditor.java#L36\" rel=\"nofollow noreferrer\">PdfContetnStreamEditor</a>\nit's quite easy to detect and replace text.</p>\n<p>So this should also be possible for the Form streams with a modified showForm like:</p>\n<pre><code>    @Override\n    public void showForm(PDFormXObject form) throws IOException {\n        formDetected = true;\n        withinForm = true;\n        LOGGER.warn(&quot;Form detected - will flatten page&quot;);\n        // inOperator = false;\n        PDStream formStream = new PDStream(document);\n        replacementFormStream = formStream.createOutputStream(COSName.FLATE_DECODE);\n        replacementForm = new ContentStreamWriter(replacementStream);\n        super.showForm(form); // processing of content\n        PDFormXObject newform=new PDFormXObject(formStream);\n        newform.setOptionalContent(form.getOptionalContent());\n        newform.setBBox(form.getBBox());\n        newform.setMatrix(form.getMatrix().createAffineTransform());\n        newform.setResources(form.getResources());\n        withinForm = false;\n    }\n</code></pre>\n<p>now I have a new Form and I want to replace the old one. Is there a good way to do this?</p>\n<p>As described above the PdfContetnStreamEditor is the base and replacements in the main content are no problem.</p>\n"},{"tags":["java","spring-boot","websocket","spring-websocket"],"owner":{"account_id":20742231,"reputation":1,"user_id":15231568,"display_name":"Evan Mahendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679631754,"creation_date":1679631054,"question_id":75829966,"body_markdown":"I&#39;m using `WebSocketMessageBrokerConfigurer` for my websocket config, but i have problem when i want to use my custom WebSocketHandler inside my interceptor.\r\n\r\nI got error :\r\n\r\n```\r\nDescription:\r\n\r\nParameter 0 of constructor in spring.tms.socket.config.socket.WebsocketConfig required a bean of type &#39;org.springframework.web.socket.WebSocketSession&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.web.socket.WebSocketSession&#39; in your configuration.\r\n```\r\n\r\nHere is my config :\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class WebsocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    private final WebSocketSession webSocketSession;\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker( &quot;/queue/&quot;, &quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/connect-socket&quot;)\r\n                .addInterceptors(new HandshakeInterceptor(webSocketSession))\r\n                .setAllowedOrigins(&quot;*&quot;);\r\n        registry.addEndpoint(&quot;/connect-socket&quot;)\r\n                .addInterceptors(new HandshakeInterceptor(webSocketSession))\r\n                .setAllowedOrigins(&quot;*&quot;)\r\n                .withSockJS();\r\n    }\r\n    .....\r\n}\r\n```\r\n\r\nAnd here is my `HandshakeInterceptor` :\r\n\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class HandshakeInterceptor extends HttpSessionHandshakeInterceptor {\r\n\r\n    private final WebSocketSession webSocketSession;\r\n\r\n    @Override\r\n    public boolean beforeHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler,\r\n                                   Map&lt;String, Object&gt; attributes) throws Exception {\r\n        return super.beforeHandshake(request, response, wsHandler, attributes);\r\n    }\r\n\r\n    @Override\r\n    public void afterHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler,\r\n                               Exception ex) {\r\n        try {\r\n            wsHandler = new WebsocketHandler();\r\n            wsHandler.afterConnectionEstablished(webSocketSession);\r\n        } catch (Exception e) {\r\n            log.error(&quot;failed to connect with error msg : {}&quot;, e.getMessage());\r\n        }\r\n        super.afterHandshake(request, response, wsHandler, ex);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is my `WebsocketHandler` :\r\n\r\n\r\n```\r\n@Component\r\n@Slf4j\r\npublic class WebsocketHandler implements WebSocketHandler {\r\n\r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n        var param = session.getUri().getQuery();\r\n        log.info(&quot;============= Connecting =============&quot;);\r\n        var auth = param.substring(0, param.indexOf(&quot;&amp;&quot;)).replace(&quot;auth=&quot;, &quot;&quot;);\r\n        log.debug(&quot;auth: {}&quot;, auth);\r\n        var serialNumber = param.substring(param.lastIndexOf(&quot;=&quot;)).replace(&quot;=&quot;, &quot;&quot;);\r\n        log.info(&quot;serial number: {}&quot;, serialNumber);\r\n        this.validateConnection(auth, serialNumber, session);\r\n    }\r\n    ....\r\n}\r\n```\r\n\r\nPlease help me to find out how to call `WebSocketSession` correctly.","title":"How to use WebSocketSession for WebSocketHandler?","body":"<p>I'm using <code>WebSocketMessageBrokerConfigurer</code> for my websocket config, but i have problem when i want to use my custom WebSocketHandler inside my interceptor.</p>\n<p>I got error :</p>\n<pre><code>Description:\n\nParameter 0 of constructor in spring.tms.socket.config.socket.WebsocketConfig required a bean of type 'org.springframework.web.socket.WebSocketSession' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.web.socket.WebSocketSession' in your configuration.\n</code></pre>\n<p>Here is my config :</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\n@RequiredArgsConstructor\n@Slf4j\npublic class WebsocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    private final WebSocketSession webSocketSession;\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker( &quot;/queue/&quot;, &quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/connect-socket&quot;)\n                .addInterceptors(new HandshakeInterceptor(webSocketSession))\n                .setAllowedOrigins(&quot;*&quot;);\n        registry.addEndpoint(&quot;/connect-socket&quot;)\n                .addInterceptors(new HandshakeInterceptor(webSocketSession))\n                .setAllowedOrigins(&quot;*&quot;)\n                .withSockJS();\n    }\n    .....\n}\n</code></pre>\n<p>And here is my <code>HandshakeInterceptor</code> :</p>\n<pre><code>@RequiredArgsConstructor\n@Slf4j\npublic class HandshakeInterceptor extends HttpSessionHandshakeInterceptor {\n\n    private final WebSocketSession webSocketSession;\n\n    @Override\n    public boolean beforeHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler,\n                                   Map&lt;String, Object&gt; attributes) throws Exception {\n        return super.beforeHandshake(request, response, wsHandler, attributes);\n    }\n\n    @Override\n    public void afterHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler,\n                               Exception ex) {\n        try {\n            wsHandler = new WebsocketHandler();\n            wsHandler.afterConnectionEstablished(webSocketSession);\n        } catch (Exception e) {\n            log.error(&quot;failed to connect with error msg : {}&quot;, e.getMessage());\n        }\n        super.afterHandshake(request, response, wsHandler, ex);\n    }\n}\n</code></pre>\n<p>And here is my <code>WebsocketHandler</code> :</p>\n<pre><code>@Component\n@Slf4j\npublic class WebsocketHandler implements WebSocketHandler {\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        var param = session.getUri().getQuery();\n        log.info(&quot;============= Connecting =============&quot;);\n        var auth = param.substring(0, param.indexOf(&quot;&amp;&quot;)).replace(&quot;auth=&quot;, &quot;&quot;);\n        log.debug(&quot;auth: {}&quot;, auth);\n        var serialNumber = param.substring(param.lastIndexOf(&quot;=&quot;)).replace(&quot;=&quot;, &quot;&quot;);\n        log.info(&quot;serial number: {}&quot;, serialNumber);\n        this.validateConnection(auth, serialNumber, session);\n    }\n    ....\n}\n</code></pre>\n<p>Please help me to find out how to call <code>WebSocketSession</code> correctly.</p>\n"},{"tags":["java","junit","junit4","ui-automation"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1679630323,"post_id":75733523,"comment_id":133759482,"body_markdown":"what conflicts are you getting? can you add more details","body":"what conflicts are you getting? can you add more details"}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679631495,"creation_date":1679631495,"answer_id":75829998,"question_id":75733523,"body_markdown":"\r\nYou can use Shutdown hooks are basically initialized but unstarted threads. When the JVM begins its shutdown process, it will start all registered hooks.\r\n \r\nAdd a global tear down using a Java shutdown hook, add it any of your tests and in the clean() method add your cleanup code\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.FixMethodOrder;\r\n    import org.junit.Test;\r\n    import org.junit.runners.MethodSorters;\r\n    \r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class Example {\r\n    \r\n    \r\n        @Test\r\n        public void first() {\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; clean()));\r\n            Assert.assertEquals(1, 1);\r\n            System.out.println(&quot;First Executed&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void second() {\r\n            Assert.assertEquals(2, 2);\r\n            System.out.println(&quot;Second Executed&quot;);\r\n        }\r\n    \r\n        private void clean() {\r\n            System.out.println(&quot;cleans&quot;);\r\n        }\r\n    }\r\n\r\nOutput of below will be\r\n\r\n   \r\n\r\n    First Executed\r\n    Second Executed\r\n    cleans\r\n\r\n\r\n ","title":"How to determine if the current test is last one in the current tests execution (JUnit 4)","body":"<p>You can use Shutdown hooks are basically initialized but unstarted threads. When the JVM begins its shutdown process, it will start all registered hooks.</p>\n<p>Add a global tear down using a Java shutdown hook, add it any of your tests and in the clean() method add your cleanup code</p>\n<pre><code>import org.junit.Assert;\nimport org.junit.FixMethodOrder;\nimport org.junit.Test;\nimport org.junit.runners.MethodSorters;\n\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class Example {\n\n\n    @Test\n    public void first() {\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; clean()));\n        Assert.assertEquals(1, 1);\n        System.out.println(&quot;First Executed&quot;);\n    }\n\n    @Test\n    public void second() {\n        Assert.assertEquals(2, 2);\n        System.out.println(&quot;Second Executed&quot;);\n    }\n\n    private void clean() {\n        System.out.println(&quot;cleans&quot;);\n    }\n}\n</code></pre>\n<p>Output of below will be</p>\n<pre><code>First Executed\nSecond Executed\ncleans\n</code></pre>\n"}],"owner":{"account_id":12887632,"reputation":333,"user_id":9320560,"display_name":"Adam Jensen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679631495,"creation_date":1678799128,"question_id":75733523,"body_markdown":"I need to call some methods once ALL tests from ALL classes are finished. I&#39;m using TestWatcher to override the succeeded/failed methods, but there&#39;s no methods like &quot;afterTestExecution&quot;. I know there&#39;s a class RunListener that has method testRunFinished, but I have conflicts between listeners when using those at the same time. ","title":"How to determine if the current test is last one in the current tests execution (JUnit 4)","body":"<p>I need to call some methods once ALL tests from ALL classes are finished. I'm using TestWatcher to override the succeeded/failed methods, but there's no methods like &quot;afterTestExecution&quot;. I know there's a class RunListener that has method testRunFinished, but I have conflicts between listeners when using those at the same time.</p>\n"},{"tags":["java","ehcache-3","caffeine-cache","ehcache-2","in-memory-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1679631570,"post_id":75829965,"comment_id":133759602,"body_markdown":"Caffeine has a [callback](https://github.com/ben-manes/caffeine/wiki/Eviction#time-based) approach to favor loading through the cache. That also let’s you can use the additional methods in [Cache.policy()](https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/Policy.VarExpiration.html) such as your put method.","body":"Caffeine has a <a href=\"https://github.com/ben-manes/caffeine/wiki/Eviction#time-based\" rel=\"nofollow noreferrer\">callback</a> approach to favor loading through the cache. That also let’s you can use the additional methods in <a href=\"https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/Policy.VarExpiration.html\" rel=\"nofollow noreferrer\">Cache.policy()</a> such as your put method."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679632001,"post_id":75829965,"comment_id":133759646,"body_markdown":"Have you looked at https://www.ehcache.org/documentation/3.0/expiry.html and  https://www.ehcache.org/documentation/3.0/eviction-advisor.html?","body":"Have you looked at <a href=\"https://www.ehcache.org/documentation/3.0/expiry.html\" rel=\"nofollow noreferrer\">ehcache.org/documentation/3.0/expiry.html</a> and  <a href=\"https://www.ehcache.org/documentation/3.0/eviction-advisor.html\" rel=\"nofollow noreferrer\">ehcache.org/documentation/3.0/eviction-advisor.html</a>?"}],"owner":{"account_id":28110166,"reputation":1,"user_id":21478057,"display_name":"anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679630983,"creation_date":1679630983,"question_id":75829965,"body_markdown":"I would like to set the expiry time of a member of an cache.\r\nI want the custom ttl when the object should expire.\r\nI know I can set it for the whole cache, e.g.\r\n\r\n    Cache cache = manager.getCache(&quot;MyCache&quot;);\r\n    CacheConfiguration config = cache.getCacheConfiguration();\r\n    config.setTimeToIdleSeconds(60);\r\n    config.setTimeToLiveSeconds(120);\r\n    config.setMaxEntriesLocalHeap(10000);\r\n    config.setMaxEntriesLocalDisk(1000000);\r\n\r\nIn Ehcache 2.x, We can set expiry time on the Element we insert in the cache:\r\n\r\nElement element = new Element(&quot;key1&quot;, &quot;value1&quot;);\r\nelement.setTimeToLive(100);\r\n\r\nDo we have any other java open source library like  that support similar feature as above as  Ehcache 3.x doesnot support this.\r\n\r\nIdeally I would like to have the following interface:\r\n\r\nput(key, value, timeToLive)// enter a key and value with a specified timeToLIve(ttl)\r\n\r\nput(key, value) // enter a key value with no timeToLive\r\n\r\n","title":"Java in memory Caching library that support methods with element level ttl","body":"<p>I would like to set the expiry time of a member of an cache.\nI want the custom ttl when the object should expire.\nI know I can set it for the whole cache, e.g.</p>\n<pre><code>Cache cache = manager.getCache(&quot;MyCache&quot;);\nCacheConfiguration config = cache.getCacheConfiguration();\nconfig.setTimeToIdleSeconds(60);\nconfig.setTimeToLiveSeconds(120);\nconfig.setMaxEntriesLocalHeap(10000);\nconfig.setMaxEntriesLocalDisk(1000000);\n</code></pre>\n<p>In Ehcache 2.x, We can set expiry time on the Element we insert in the cache:</p>\n<p>Element element = new Element(&quot;key1&quot;, &quot;value1&quot;);\nelement.setTimeToLive(100);</p>\n<p>Do we have any other java open source library like  that support similar feature as above as  Ehcache 3.x doesnot support this.</p>\n<p>Ideally I would like to have the following interface:</p>\n<p>put(key, value, timeToLive)// enter a key and value with a specified timeToLIve(ttl)</p>\n<p>put(key, value) // enter a key value with no timeToLive</p>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679644262,"post_id":75829882,"comment_id":133761301,"body_markdown":"Install SDKMAN (https://sdkman.io/install), then use SDKMAN to install JDK, MAVEN, GRADLE.","body":"Install SDKMAN (<a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">sdkman.io/install</a>), then use SDKMAN to install JDK, MAVEN, GRADLE."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679646485,"post_id":75829882,"comment_id":133761770,"body_markdown":"https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java , `sudo update-alternatives --config javac`. `sudo update-alternatives --config java`","body":"<a href=\"https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java\" title=\"update java alternatives vs update alternatives config java\">askubuntu.com/questions/315646/&hellip;</a> , <code>sudo update-alternatives --config javac</code>. <code>sudo update-alternatives --config java</code>"}],"owner":{"account_id":24330524,"reputation":11,"user_id":18269436,"display_name":"Bill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679629859,"creation_date":1679629859,"question_id":75829882,"body_markdown":"I&#39;m a student. I want to learn to command line Linux but I have some issues on the server amazon ubuntu. I need help. \r\n\r\nI want swit java version 11 to java version 8 it&#39;s confuse\r\n\r\n\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\nubuntu@ip-172-31-72-73:~$ echo $JAVA_HOME\r\n/usr/lib/jvm/java-8-openjdk-amd64\r\n```\r\n\r\n```\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\nubuntu@ip-172-31-72-73:~$ echo $PATH\r\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-8-openjdk-amd64/bin\r\n```\r\n\r\n```\r\njava -version\r\nopenjdk version &quot;11.0.18&quot; 2023-01-17\r\nOpenJDK Runtime Environment (build 11.0.18+10-post-Ubuntu-0ubuntu122.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.18+10-post-Ubuntu-0ubuntu122.04, mixed mode, sharing)\r\n```\r\n\r\n\r\n\r\npreliminary,I follow this link https://vitux.com/how-to-setup-java_home-path-in-ubuntu/\r\n","title":"Ubuntu switch java version but that stuck old version","body":"<p>I'm a student. I want to learn to command line Linux but I have some issues on the server amazon ubuntu. I need help.</p>\n<p>I want swit java version 11 to java version 8 it's confuse</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nubuntu@ip-172-31-72-73:~$ echo $JAVA_HOME\n/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n<pre><code>export PATH=$PATH:$JAVA_HOME/bin\nubuntu@ip-172-31-72-73:~$ echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-8-openjdk-amd64/bin\n</code></pre>\n<pre><code>java -version\nopenjdk version &quot;11.0.18&quot; 2023-01-17\nOpenJDK Runtime Environment (build 11.0.18+10-post-Ubuntu-0ubuntu122.04)\nOpenJDK 64-Bit Server VM (build 11.0.18+10-post-Ubuntu-0ubuntu122.04, mixed mode, sharing)\n</code></pre>\n<p>preliminary,I follow this link <a href=\"https://vitux.com/how-to-setup-java_home-path-in-ubuntu/\" rel=\"nofollow noreferrer\">https://vitux.com/how-to-setup-java_home-path-in-ubuntu/</a></p>\n"},{"tags":["java","spring","spring-boot","axios"],"answers":[{"tags":[],"owner":{"account_id":16331184,"reputation":83,"user_id":11794473,"display_name":"Vojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679629352,"creation_date":1679629352,"answer_id":75829841,"question_id":75829756,"body_markdown":"Spring works, the problem was with the axios, \r\nInstead of:\r\n```js\r\nconst res = await axios.post(&quot;http://localhost:5000/api/auth/logout&quot;, {\r\n      withCredentials: true,\r\n});\r\n```\r\nobject containing withCredentials should be placed as the third parameter like this:\r\n```js\r\n const res = await axios.post(\r\n      &quot;http://localhost:5000/api/auth/logout&quot;,\r\n      {},\r\n      { withCredentials: true }\r\n    );\r\n```\r\n","title":"Can&#39;t clear cookies in spring application","body":"<p>Spring works, the problem was with the axios,\nInstead of:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const res = await axios.post(&quot;http://localhost:5000/api/auth/logout&quot;, {\n      withCredentials: true,\n});\n</code></pre>\n<p>object containing withCredentials should be placed as the third parameter like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code> const res = await axios.post(\n      &quot;http://localhost:5000/api/auth/logout&quot;,\n      {},\n      { withCredentials: true }\n    );\n</code></pre>\n"}],"owner":{"account_id":16331184,"reputation":83,"user_id":11794473,"display_name":"Vojin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679629352,"creation_date":1679628312,"question_id":75829756,"body_markdown":"Here&#39;s the spring configuration. Secure cookie class is just a factory for cookies.\r\n```java\r\npublic class SecureCookie extends Cookie {\r\n\r\n  public static final String accessTokenKey = &quot;access_token&quot;;\r\n  public static final String refreshTokenKey = &quot;refresh_token&quot;;\r\n\r\n  public SecureCookie(String name, String value) {\r\n    super(name, value);\r\n    this.setHttpOnly(false);\r\n    this.setPath(&quot;/&quot;);\r\n    this.setSecure(false);\r\n    this.setMaxAge((int) Duration.ofDays(60).toSeconds());\r\n  }\r\n\r\n  public static SecureCookie delete(String key) {\r\n    SecureCookie cookie = new SecureCookie(key, null);\r\n    cookie.setMaxAge(0);\r\n    return cookie;\r\n  }\r\n}\r\n```\r\nI&#39;ve tried deleting cookies with the appropriate handler, called ```deleteCookies``` method, nothing worked.\r\n```java\r\n http.logout(logout -&gt;\r\n      logout\r\n        .logoutUrl(&quot;/api/auth/logout&quot;)\r\n        .addLogoutHandler(\r\n          new CookieClearingLogoutHandler(\r\n            SecureCookie.delete(SecureCookie.accessTokenKey),\r\n            SecureCookie.delete(SecureCookie.refreshTokenKey)\r\n          )\r\n        )\r\n        .logoutSuccessHandler(\r\n          (new HttpStatusReturningLogoutSuccessHandler(HttpStatus.NO_CONTENT))\r\n        )\r\n        .deleteCookies(\r\n          SecureCookie.accessTokenKey,\r\n          SecureCookie.refreshTokenKey\r\n        )\r\n        .logoutSuccessUrl(&quot;http://localhost:3000&quot;)\r\n```\r\nI&#39;m making request with axios, here&#39;s the code for that\r\n```js\r\nconst res = await axios.post(&quot;http://localhost:5000/api/auth/logout&quot;, {\r\n      withCredentials: true,\r\n});\r\n```\r\nCredentials are included and I&#39;m getting no errors on the front-end. What could be the issue?","title":"Can&#39;t clear cookies in spring application","body":"<p>Here's the spring configuration. Secure cookie class is just a factory for cookies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecureCookie extends Cookie {\n\n  public static final String accessTokenKey = &quot;access_token&quot;;\n  public static final String refreshTokenKey = &quot;refresh_token&quot;;\n\n  public SecureCookie(String name, String value) {\n    super(name, value);\n    this.setHttpOnly(false);\n    this.setPath(&quot;/&quot;);\n    this.setSecure(false);\n    this.setMaxAge((int) Duration.ofDays(60).toSeconds());\n  }\n\n  public static SecureCookie delete(String key) {\n    SecureCookie cookie = new SecureCookie(key, null);\n    cookie.setMaxAge(0);\n    return cookie;\n  }\n}\n</code></pre>\n<p>I've tried deleting cookies with the appropriate handler, called <code>deleteCookies</code> method, nothing worked.</p>\n<pre class=\"lang-java prettyprint-override\"><code> http.logout(logout -&gt;\n      logout\n        .logoutUrl(&quot;/api/auth/logout&quot;)\n        .addLogoutHandler(\n          new CookieClearingLogoutHandler(\n            SecureCookie.delete(SecureCookie.accessTokenKey),\n            SecureCookie.delete(SecureCookie.refreshTokenKey)\n          )\n        )\n        .logoutSuccessHandler(\n          (new HttpStatusReturningLogoutSuccessHandler(HttpStatus.NO_CONTENT))\n        )\n        .deleteCookies(\n          SecureCookie.accessTokenKey,\n          SecureCookie.refreshTokenKey\n        )\n        .logoutSuccessUrl(&quot;http://localhost:3000&quot;)\n</code></pre>\n<p>I'm making request with axios, here's the code for that</p>\n<pre class=\"lang-js prettyprint-override\"><code>const res = await axios.post(&quot;http://localhost:5000/api/auth/logout&quot;, {\n      withCredentials: true,\n});\n</code></pre>\n<p>Credentials are included and I'm getting no errors on the front-end. What could be the issue?</p>\n"},{"tags":["java","encryption","badpaddingexception"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1679610401,"post_id":75828313,"comment_id":133757232,"body_markdown":"Does this answer your question? [BadPaddingException : Decryption error](https://stackoverflow.com/questions/31944374/badpaddingexception-decryption-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31944374/badpaddingexception-decryption-error\">BadPaddingException : Decryption error</a>"},{"owner":{"account_id":11050732,"reputation":53,"user_id":8115292,"display_name":"trungdok"},"score":0,"creation_date":1679619941,"post_id":75828313,"comment_id":133758392,"body_markdown":"Unfortunately, it doesn&#39;t. I had read that posting before. My problem is I only get the error when sending over the net as an encrypted stream.","body":"Unfortunately, it doesn&#39;t. I had read that posting before. My problem is I only get the error when sending over the net as an encrypted stream."}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679628958,"creation_date":1679628958,"answer_id":75829813,"question_id":75828313,"body_markdown":"If you are using ```CipherOutputStream```, you should take a look at the ```close()``` function, the function implicitly performs a ```doFinal()``` ([Source Link](https://docs.oracle.com/javase/7/docs/api/javax/crypto/CipherOutputStream.html#close())):\r\n&gt; Closes this output stream and releases any system resources associated with this stream.\r\n&gt;\r\n&gt; **This method invokes the doFinal method of the encapsulated cipher object, which causes any bytes buffered by the encapsulated cipher to be processed.** The result is written out by calling the flush method of this output stream.\r\n&gt;\r\n&gt; This method resets the encapsulated cipher object to its initial state and calls the close method of the underlying output stream.\r\n\r\n---\r\n\r\nIt may be better for you to simply make use of the basic ```OutputStream``` and ```InputStream``` if ```CipherOutputStream``` is not mandatory. The extra effort is to perform your encryption with ```doFinal()``` manually before you send it out.","title":"CipherInputStream gets BadPaddingException","body":"<p>If you are using <code>CipherOutputStream</code>, you should take a look at the <code>close()</code> function, the function implicitly performs a <code>doFinal()</code> (<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/CipherOutputStream.html#close()\" rel=\"nofollow noreferrer\">Source Link</a>):</p>\n<blockquote>\n<p>Closes this output stream and releases any system resources associated with this stream.</p>\n<p><strong>This method invokes the doFinal method of the encapsulated cipher object, which causes any bytes buffered by the encapsulated cipher to be processed.</strong> The result is written out by calling the flush method of this output stream.</p>\n<p>This method resets the encapsulated cipher object to its initial state and calls the close method of the underlying output stream.</p>\n</blockquote>\n<hr />\n<p>It may be better for you to simply make use of the basic <code>OutputStream</code> and <code>InputStream</code> if <code>CipherOutputStream</code> is not mandatory. The extra effort is to perform your encryption with <code>doFinal()</code> manually before you send it out.</p>\n"}],"owner":{"account_id":11050732,"reputation":53,"user_id":8115292,"display_name":"trungdok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75829813,"answer_count":1,"score":1,"last_activity_date":1679628958,"creation_date":1679608552,"question_id":75828313,"body_markdown":"Hope someone can see my issue.  I&#39;m trying to send encrypted data over the network using `CipherOutputStream/CipherInputStream` and keep on getting `BadPaddingException`.  I use the same RSA keys for both sides and can manually encrypt/decrypt fine.  The modulus for both private and public keys match.\r\n\r\nThis is the working example that manually encrypt/decrypt using `Cipher` and the keys.\r\n``` java\r\npublic static void main(String[] args) {\r\n    PrintStream out = System.out;\r\n    try {\r\n        PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\r\n        PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\r\n\r\n        String hi = &quot;Hello World&quot;;\r\n        byte[] data = hi.getBytes(&quot;UTF8&quot;);\r\n        out.println(&quot;data[&quot; + data.length + &quot;]&quot;);\r\n\r\n        cipher.init(Cipher.ENCRYPT_MODE, pub_key);\r\n        byte[] encdata = cipher.doFinal(data);\r\n        out.println(&quot;encdata[&quot; + encdata.length + &quot;]&quot;);\r\n\r\n        cipher.init(Cipher.DECRYPT_MODE, pri_key);\r\n        byte[] decdata = cipher.doFinal(encdata);\r\n        out.println(&quot;decdata[&quot; + decdata.length + &quot;]&quot;);\r\n        out.println(new String(decdata, &quot;UTF8&quot;));\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n**The send/receive codes that does the encrypt/decrypt**\r\n``` java\r\nstatic class ByteEncComm extends Comm {\r\n    public ByteEncComm(Socket sock, PrivateKey priv_key, PublicKey pub_key) {\r\n        super(sock, priv_key, pub_key);\r\n    }\r\n\r\n    public void send(Bird b) {\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, public_key);\r\n\r\n            byte[] data = &quot;Hello World&quot;.getBytes(&quot;UTF8&quot;);\r\n            CipherOutputStream cos = new CipherOutputStream(sock.getOutputStream(), cipher);\r\n            cos.write(data, 0, data.length);\r\n            cos.flush();\r\n            out.println(&quot;Sent data[&quot; + data.length + &quot;]&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public Bird receive() {\r\n        PrintStream out = System.out;\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, private_key);\r\n\r\n            CipherInputStream cis = new CipherInputStream(sock.getInputStream(), cipher);\r\n            out.println(&quot;Avail &quot; + cis.available());\r\n            byte[] data = cis.readAllBytes();\r\n            out.println(&quot;Got data[&quot; + data.length + &quot;]&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Client Code:**\r\n``` java\r\npublic class Client {\r\n    public static void main(String[] args) {\r\n        PrintStream out = System.out;\r\n        try {\r\n            PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\r\n            PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\r\n\r\n            Socket sock = new Socket(&quot;127.0.0.1&quot;, 5555);\r\n\r\n            Comm comm = new Comm.ByteEncComm(sock, pri_key, pub_key);\r\n            comm.send(new Bird(&quot;Robin&quot;));\r\n\r\n            sock.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Server code:**\r\n``` java\r\npublic class Server extends Thread {\r\n    public static void main(String[] args) {\r\n        PrintStream out = System.out;\r\n        try {\r\n            PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\r\n            PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\r\n\r\n            ServerSocket serversock = new ServerSocket(5555);\r\n            Socket sock = serversock.accept();\r\n\r\n            Comm comm = new Comm.ByteEncComm(sock, pri_key, pub_key);\r\n            comm.receive();\r\n\r\n            sock.close();\r\n            serversock.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Error:**\r\n```\r\njava.io.IOException: javax.crypto.BadPaddingException: Decryption error\r\n\tat java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148)\r\n\tat java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261)\r\n\tat java.base/java.io.InputStream.readNBytes(InputStream.java:409)\r\n\tat java.base/java.io.InputStream.readAllBytes(InputStream.java:346)\r\n\tat foo.enc.Comm$ByteEncComm.receive(Comm.java:139)\r\n\tat foo.enc.Server.main(Server.java:21)\r\nCaused by: javax.crypto.BadPaddingException: Decryption error\r\n\tat java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:488)\r\n\tat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:284)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:372)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:418)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152)\r\n\tat java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145)\r\n\t... 5 more\r\n```\r\n\r\n","title":"CipherInputStream gets BadPaddingException","body":"<p>Hope someone can see my issue.  I'm trying to send encrypted data over the network using <code>CipherOutputStream/CipherInputStream</code> and keep on getting <code>BadPaddingException</code>.  I use the same RSA keys for both sides and can manually encrypt/decrypt fine.  The modulus for both private and public keys match.</p>\n<p>This is the working example that manually encrypt/decrypt using <code>Cipher</code> and the keys.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    PrintStream out = System.out;\n    try {\n        PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\n        PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\n\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\n\n        String hi = &quot;Hello World&quot;;\n        byte[] data = hi.getBytes(&quot;UTF8&quot;);\n        out.println(&quot;data[&quot; + data.length + &quot;]&quot;);\n\n        cipher.init(Cipher.ENCRYPT_MODE, pub_key);\n        byte[] encdata = cipher.doFinal(data);\n        out.println(&quot;encdata[&quot; + encdata.length + &quot;]&quot;);\n\n        cipher.init(Cipher.DECRYPT_MODE, pri_key);\n        byte[] decdata = cipher.doFinal(encdata);\n        out.println(&quot;decdata[&quot; + decdata.length + &quot;]&quot;);\n        out.println(new String(decdata, &quot;UTF8&quot;));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>The send/receive codes that does the encrypt/decrypt</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>static class ByteEncComm extends Comm {\n    public ByteEncComm(Socket sock, PrivateKey priv_key, PublicKey pub_key) {\n        super(sock, priv_key, pub_key);\n    }\n\n    public void send(Bird b) {\n        try {\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, public_key);\n\n            byte[] data = &quot;Hello World&quot;.getBytes(&quot;UTF8&quot;);\n            CipherOutputStream cos = new CipherOutputStream(sock.getOutputStream(), cipher);\n            cos.write(data, 0, data.length);\n            cos.flush();\n            out.println(&quot;Sent data[&quot; + data.length + &quot;]&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Bird receive() {\n        PrintStream out = System.out;\n        try {\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, private_key);\n\n            CipherInputStream cis = new CipherInputStream(sock.getInputStream(), cipher);\n            out.println(&quot;Avail &quot; + cis.available());\n            byte[] data = cis.readAllBytes();\n            out.println(&quot;Got data[&quot; + data.length + &quot;]&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Client Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Client {\n    public static void main(String[] args) {\n        PrintStream out = System.out;\n        try {\n            PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\n            PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\n\n            Socket sock = new Socket(&quot;127.0.0.1&quot;, 5555);\n\n            Comm comm = new Comm.ByteEncComm(sock, pri_key, pub_key);\n            comm.send(new Bird(&quot;Robin&quot;));\n\n            sock.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>Server code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Server extends Thread {\n    public static void main(String[] args) {\n        PrintStream out = System.out;\n        try {\n            PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\n            PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\n\n            ServerSocket serversock = new ServerSocket(5555);\n            Socket sock = serversock.accept();\n\n            Comm comm = new Comm.ByteEncComm(sock, pri_key, pub_key);\n            comm.receive();\n\n            sock.close();\n            serversock.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>java.io.IOException: javax.crypto.BadPaddingException: Decryption error\n    at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148)\n    at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261)\n    at java.base/java.io.InputStream.readNBytes(InputStream.java:409)\n    at java.base/java.io.InputStream.readAllBytes(InputStream.java:346)\n    at foo.enc.Comm$ByteEncComm.receive(Comm.java:139)\n    at foo.enc.Server.main(Server.java:21)\nCaused by: javax.crypto.BadPaddingException: Decryption error\n    at java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:488)\n    at java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:284)\n    at java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:372)\n    at java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:418)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152)\n    at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145)\n    ... 5 more\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675156056,"post_id":75294774,"comment_id":132862657,"body_markdown":"Please include the import statements for your entity (and the package).","body":"Please include the import statements for your entity (and the package)."},{"owner":{"account_id":1561475,"reputation":395,"user_id":1451252,"display_name":"Marius"},"score":0,"creation_date":1675159017,"post_id":75294774,"comment_id":132863609,"body_markdown":"I added the imports and package","body":"I added the imports and package"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675159117,"post_id":75294774,"comment_id":132863640,"body_markdown":"Thanks, just wanted to make sure you are using the right imports (and don&#39;t have some dangling `javax.persistence` imports). Could you also add the full stacktrace and what does your configuration look like? I do miss an `@Embedded` on the `otherTableId` field in the `MyClass`","body":"Thanks, just wanted to make sure you are using the right imports (and don&#39;t have some dangling <code>javax.persistence</code> imports). Could you also add the full stacktrace and what does your configuration look like? I do miss an <code>@Embedded</code> on the <code>otherTableId</code> field in the <code>MyClass</code>"},{"owner":{"account_id":1561475,"reputation":395,"user_id":1451252,"display_name":"Marius"},"score":0,"creation_date":1675161748,"post_id":75294774,"comment_id":132864448,"body_markdown":"I added `@Embedded`, but still the same exception","body":"I added <code>@Embedded</code>, but still the same exception"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675163517,"creation_date":1675163517,"answer_id":75296265,"question_id":75294774,"body_markdown":"I just ran the following test in both Hibernate 6.1 and 6.2 CR2, and it succeeded:\r\n\r\n```java\r\n@SessionFactory\r\n@DomainModel(annotatedClasses = {BTest.MyClass.class, BTest.OtherTableId.class})\r\npublic class BTest {\r\n\r\n    @Test\r\n    void test(SessionFactoryScope scope) {\r\n        scope.inTransaction(s -&gt; {\r\n            MyClass myClass = new MyClass();\r\n            OtherTableId otherTableId = new OtherTableId();\r\n            myClass.otherTableId = otherTableId;\r\n            s.persist( myClass );\r\n        });\r\n        scope.inTransaction(s -&gt; {\r\n            s.createSelectionQuery(&quot;from BTest$MyClass&quot;).getSingleResult();\r\n        });\r\n    }\r\n\r\n    @Entity\r\n    @Table\r\n    public static class MyClass implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long myId;\r\n\r\n        /**\r\n         * The foreign key to the other table.\r\n         */\r\n        @AttributeOverrides(\r\n                {\r\n                        @AttributeOverride(name = &quot;column1&quot;, column = @Column(name = &quot;column1&quot;, nullable = false)),\r\n                        @AttributeOverride(name = &quot;column2&quot;, column = @Column(name = &quot;column2&quot;, nullable = false))\r\n                })\r\n        private OtherTableId otherTableId;\r\n    }\r\n\r\n    @Embeddable\r\n    public static class OtherTableId implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Column(name = &quot;column1&quot;, nullable = false)\r\n        private int column1;\r\n\r\n        @Column(name = &quot;column2&quot;, nullable = false)\r\n        private int column2;\r\n\r\n        public OtherTableId() {\r\n            super();\r\n        }\r\n\r\n        public OtherTableId(int column1, int column2) {\r\n            this.column1 = column1;\r\n            this.column2 = column2;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo whatever is causing this error must be in code you&#39;re not showing us.","title":"AttributeOverrides not working anymore after Upgrade to Hibernate 6","body":"<p>I just ran the following test in both Hibernate 6.1 and 6.2 CR2, and it succeeded:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SessionFactory\n@DomainModel(annotatedClasses = {BTest.MyClass.class, BTest.OtherTableId.class})\npublic class BTest {\n\n    @Test\n    void test(SessionFactoryScope scope) {\n        scope.inTransaction(s -&gt; {\n            MyClass myClass = new MyClass();\n            OtherTableId otherTableId = new OtherTableId();\n            myClass.otherTableId = otherTableId;\n            s.persist( myClass );\n        });\n        scope.inTransaction(s -&gt; {\n            s.createSelectionQuery(&quot;from BTest$MyClass&quot;).getSingleResult();\n        });\n    }\n\n    @Entity\n    @Table\n    public static class MyClass implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long myId;\n\n        /**\n         * The foreign key to the other table.\n         */\n        @AttributeOverrides(\n                {\n                        @AttributeOverride(name = &quot;column1&quot;, column = @Column(name = &quot;column1&quot;, nullable = false)),\n                        @AttributeOverride(name = &quot;column2&quot;, column = @Column(name = &quot;column2&quot;, nullable = false))\n                })\n        private OtherTableId otherTableId;\n    }\n\n    @Embeddable\n    public static class OtherTableId implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Column(name = &quot;column1&quot;, nullable = false)\n        private int column1;\n\n        @Column(name = &quot;column2&quot;, nullable = false)\n        private int column2;\n\n        public OtherTableId() {\n            super();\n        }\n\n        public OtherTableId(int column1, int column2) {\n            this.column1 = column1;\n            this.column2 = column2;\n        }\n    }\n}\n</code></pre>\n<p>So whatever is causing this error must be in code you're not showing us.</p>\n"},{"tags":[],"owner":{"account_id":3388410,"reputation":21,"user_id":2843873,"display_name":"Thomas Campbell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679628194,"creation_date":1679628194,"answer_id":75829751,"question_id":75294774,"body_markdown":"@Marius comment seems to fix the issue.  Sadly this works\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.0.CR2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nbut later versions (I tried CR4) doesn&#39;t.\r\n\r\nThe latest version of Spring Boot (3.0.4 at the moment) is using 6.1.\r\n\r\n","title":"AttributeOverrides not working anymore after Upgrade to Hibernate 6","body":"<p>@Marius comment seems to fix the issue.  Sadly this works</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0.CR2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>but later versions (I tried CR4) doesn't.</p>\n<p>The latest version of Spring Boot (3.0.4 at the moment) is using 6.1.</p>\n"}],"owner":{"account_id":1561475,"reputation":395,"user_id":1451252,"display_name":"Marius"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679628194,"creation_date":1675155912,"question_id":75294774,"body_markdown":"I upgraded the following code from Hibernate 5 to 6.1.6 and get the following exception. It seems hibernate has somehow problems to iterate over the list of `AttributeOverride`s.\r\n\r\nThe main entity\r\n\r\n```\r\n\r\npackage com.mypackage\r\n\r\nimport java.io.Serializable;\r\nimport java.time.OffsetDateTime;\r\nimport jakarta.persistence.AttributeOverride;\r\nimport jakarta.persistence.AttributeOverrides;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n\r\n@Entity\r\n@Table\r\npublic class MyClass implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long myId;\r\n\t   \r\n\t/**\r\n     * The foreign key to the other table.\r\n     */\r\n\t@AttributeOverrides(\r\n\t{\r\n\t\t@AttributeOverride(name = &quot;column1&quot;, column = @Column(name = &quot;column1&quot;, nullable = false)),\r\n\t\t@AttributeOverride(name = &quot;column2&quot;, column = @Column(name = &quot;column2&quot;, nullable = false))\r\n\t})\r\n    private OtherTableId otherTableId;\r\n```\r\n\r\nThe composed foreign key\r\n```\r\npackage mypackage;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Embeddable;\r\n\r\n@Embeddable\r\npublic class OtherTableId implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Column(name = &quot;column1&quot;, nullable = false)\r\n\tprivate int column1;\r\n\r\n\t@Column(name = &quot;column2&quot;, nullable = false)\r\n\tprivate int column2;\r\n\r\n\tpublic OtherTableId() {\r\n\t    super();\r\n\t}\r\n\r\n\tpublic OtherTableId(int column1, int column2) {\r\n\t\tthis.column1 = column1;\r\n\t\tthis.column2 = column2;\r\n\t}\r\n```\r\n\r\nerror\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n        - PostInitCallbackEntry - EmbeddableMappingType(mypackage.MyClass.otherTableId.{inverse})#finishInitialization\r\n\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:146)\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:90)\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:39)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:229)\r\n\tat org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 97 more\r\n\tSuppressed: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\t\tat org.hibernate.metamodel.mapping.internal.SelectableMappingsImpl.getSelectable(SelectableMappingsImpl.java:101)\r\n\t\tat org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.inverseInitializeCallback(AbstractEmbeddableMapping.java:153)\r\n\t\tat org.hibernate.metamodel.mapping.internal.EmbeddableMappingTypeImpl.lambda$new$2(EmbeddableMappingTypeImpl.java:172)\r\n\t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:210)\r\n\t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:108)\r\n\t\t... 107 more\r\n\r\n```\r\n\r\nI could not find anything in the migration guide for hibernate. Do you have an idea what I have to adapt to make in run with Hibernate 6?","title":"AttributeOverrides not working anymore after Upgrade to Hibernate 6","body":"<p>I upgraded the following code from Hibernate 5 to 6.1.6 and get the following exception. It seems hibernate has somehow problems to iterate over the list of <code>AttributeOverride</code>s.</p>\n<p>The main entity</p>\n<pre><code>\npackage com.mypackage\n\nimport java.io.Serializable;\nimport java.time.OffsetDateTime;\nimport jakarta.persistence.AttributeOverride;\nimport jakarta.persistence.AttributeOverrides;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n\n@Entity\n@Table\npublic class MyClass implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long myId;\n       \n    /**\n     * The foreign key to the other table.\n     */\n    @AttributeOverrides(\n    {\n        @AttributeOverride(name = &quot;column1&quot;, column = @Column(name = &quot;column1&quot;, nullable = false)),\n        @AttributeOverride(name = &quot;column2&quot;, column = @Column(name = &quot;column2&quot;, nullable = false))\n    })\n    private OtherTableId otherTableId;\n</code></pre>\n<p>The composed foreign key</p>\n<pre><code>package mypackage;\n\nimport java.io.Serializable;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Embeddable;\n\n@Embeddable\npublic class OtherTableId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;column1&quot;, nullable = false)\n    private int column1;\n\n    @Column(name = &quot;column2&quot;, nullable = false)\n    private int column2;\n\n    public OtherTableId() {\n        super();\n    }\n\n    public OtherTableId(int column1, int column2) {\n        this.column1 = column1;\n        this.column2 = column2;\n    }\n</code></pre>\n<p>error</p>\n<pre><code>Caused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - EmbeddableMappingType(mypackage.MyClass.otherTableId.{inverse})#finishInitialization\n\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:146)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:90)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:39)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:229)\n    at org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 97 more\n    Suppressed: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n        at org.hibernate.metamodel.mapping.internal.SelectableMappingsImpl.getSelectable(SelectableMappingsImpl.java:101)\n        at org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.inverseInitializeCallback(AbstractEmbeddableMapping.java:153)\n        at org.hibernate.metamodel.mapping.internal.EmbeddableMappingTypeImpl.lambda$new$2(EmbeddableMappingTypeImpl.java:172)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:210)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:108)\n        ... 107 more\n\n</code></pre>\n<p>I could not find anything in the migration guide for hibernate. Do you have an idea what I have to adapt to make in run with Hibernate 6?</p>\n"},{"tags":["java","apache-flink","avro","flink-streaming","confluent-schema-registry"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1643712021,"post_id":70931874,"comment_id":125406951,"body_markdown":"Can you share what the AvroRecord class looks like?","body":"Can you share what the AvroRecord class looks like?"},{"owner":{"account_id":9450053,"reputation":418,"user_id":7027284,"display_name":"guru"},"score":0,"creation_date":1643735898,"post_id":70931874,"comment_id":125416877,"body_markdown":"Its an auto generated Java class. Updated my question with the same.","body":"Its an auto generated Java class. Updated my question with the same."}],"answers":[{"tags":[],"owner":{"account_id":1321263,"reputation":1,"user_id":1267043,"display_name":"Wen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679627845,"creation_date":1679627845,"answer_id":75829732,"question_id":70931874,"body_markdown":"The auto-generated class didn&#39;t meet the flink POJO requirements. You could try set the field visibility to public by updating the POM. [Flink POJO requirments][1] e.g\r\n\r\n           &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${avro.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/avro/&lt;/sourceDirectory&gt;\r\n                    &lt;fieldVisibility&gt;PUBLIC&lt;/fieldVisibility&gt;\r\n                    &lt;createSetters&gt;true&lt;/createSetters&gt;\r\n                    &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;schema&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/serialization/types_serialization/#pojos","title":"Flink Avro Error Expecting type to be a PojoTypeInfo","body":"<p>The auto-generated class didn't meet the flink POJO requirements. You could try set the field visibility to public by updating the POM. <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/serialization/types_serialization/#pojos\" rel=\"nofollow noreferrer\">Flink POJO requirments</a> e.g</p>\n<pre><code>       &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${avro.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/avro/&lt;/sourceDirectory&gt;\n                &lt;fieldVisibility&gt;PUBLIC&lt;/fieldVisibility&gt;\n                &lt;createSetters&gt;true&lt;/createSetters&gt;\n                &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;schema&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":9450053,"reputation":418,"user_id":7027284,"display_name":"guru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679627845,"creation_date":1643657924,"question_id":70931874,"body_markdown":"I&#39;m trying to convert a HashMap&lt;String, Object&gt; to an Avro record. I get this runtime exception when I do a \r\n`DataStream&lt;AvroRecord&gt; dsRpvSchema = filteredVlfRPV.flatMap(new MessageFlattener())\r\n          .name(&quot;ToAvroSchema&quot;).uid(&quot;ToAvroSchema&quot;).startNewChain();` \r\n\r\nNot sure what the issue is with Flink converting the valid avro record to Flink Avro. \r\n\r\n``` \r\njava.lang.IllegalStateException: Expecting type to be a PojoTypeInfo\r\n \tat org.apache.flink.formats.avro.typeutils.AvroTypeInfo.generateFieldsFromAvroSchema(AvroTypeInfo.java:71)\r\n \tat org.apache.flink.formats.avro.typeutils.AvroTypeInfo.&lt;init&gt;(AvroTypeInfo.java:55)\r\n \tat org.apache.flink.formats.avro.utils.AvroKryoSerializerUtils.createAvroTypeInfo(AvroKryoSerializerUtils.java:81)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.privateGetForClass(TypeExtractor.java:1653)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.privateGetForClass(TypeExtractor.java:1559)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.createTypeInfoWithTypeHierarchy(TypeExtractor.java:866)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.privateCreateTypeInfo(TypeExtractor.java:747)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.getUnaryOperatorReturnType(TypeExtractor.java:531)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.getFlatMapReturnTypes(TypeExtractor.java:168)\r\n \tat org.apache.flink.streaming.api.datastream.DataStream.flatMap(DataStream.java:637)\r\n```\r\nI do see two questions on this but no answers provided:\r\n 1. https://stackoverflow.com/questions/68826065/flink-kafka-expecting-type-to-be-a-pojotypeinfo\r\n 2. https://stackoverflow.com/questions/65399873/deserialize-avro-from-kafka-as-specificrecord-failing-expecting-type-to-be-a-po\r\n\r\nUPDATE: 02/01/2022. Below is the `AvroRecord` class definition.\r\n```\r\nimport org.apache.avro.generic.GenericArray;\r\nimport org.apache.avro.specific.SpecificData;\r\nimport org.apache.avro.util.Utf8;\r\nimport org.apache.avro.message.BinaryMessageEncoder;\r\nimport org.apache.avro.message.BinaryMessageDecoder;\r\nimport org.apache.avro.message.SchemaStore;\r\n\r\n@org.apache.avro.specific.AvroGenerated\r\npublic class AvroRecord extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\r\n  private static final long serialVersionUID = 9071485731787422200L;\r\n  public static final org.apache.avro.Schema SCHEMA$ = new org.apache.avro.Schema.Parser().parse(&quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;AvroRecord\\&quot;,\\&quot;namespace\\&quot;:\\&quot;com.sample.dataplatform.stream.avro\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;_id\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;doc\\&quot;:\\&quot;car_id\\&quot;}]}&quot;);\r\n  public static org.apache.avro.Schema getClassSchema() { return SCHEMA$; }\r\n\r\n  private static SpecificData MODEL$ = new SpecificData();\r\n\r\n  private static final BinaryMessageEncoder&lt;AvroRecord&gt; ENCODER =\r\n      new BinaryMessageEncoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$);\r\n\r\n  private static final BinaryMessageDecoder&lt;AvroRecord&gt; DECODER =\r\n      new BinaryMessageDecoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$);\r\n\r\n  /**\r\n   * Return the BinaryMessageEncoder instance used by this class.\r\n   * @return the message encoder used by this class\r\n   */\r\n  public static BinaryMessageEncoder&lt;AvroRecord&gt; getEncoder() {\r\n    return ENCODER;\r\n  }\r\n\r\n  /**\r\n   * Return the BinaryMessageDecoder instance used by this class.\r\n   * @return the message decoder used by this class\r\n   */\r\n  public static BinaryMessageDecoder&lt;AvroRecord&gt; getDecoder() {\r\n    return DECODER;\r\n  }\r\n\r\n  /**\r\n   * Create a new BinaryMessageDecoder instance for this class that uses the specified {@link SchemaStore}.\r\n   * @param resolver a {@link SchemaStore} used to find schemas by fingerprint\r\n   * @return a BinaryMessageDecoder instance for this class backed by the given SchemaStore\r\n   */\r\n  public static BinaryMessageDecoder&lt;AvroRecord&gt; createDecoder(SchemaStore resolver) {\r\n    return new BinaryMessageDecoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$, resolver);\r\n  }\r\n\r\n  /**\r\n   * Serializes this AvroRecord to a ByteBuffer.\r\n   * @return a buffer holding the serialized data for this instance\r\n   * @throws java.io.IOException if this instance could not be serialized\r\n   */\r\n  public java.nio.ByteBuffer toByteBuffer() throws java.io.IOException {\r\n    return ENCODER.encode(this);\r\n  }\r\n\r\n  /**\r\n   * Deserializes a AvroRecord from a ByteBuffer.\r\n   * @param b a byte buffer holding serialized data for an instance of this class\r\n   * @return a AvroRecord instance decoded from the given buffer\r\n   * @throws java.io.IOException if the given bytes could not be deserialized into an instance of this class\r\n   */\r\n  public static AvroRecord fromByteBuffer(\r\n      java.nio.ByteBuffer b) throws java.io.IOException {\r\n    return DECODER.decode(b);\r\n  }\r\n\r\n  /** car_id */\r\n   private java.lang.CharSequence _id;\r\n\r\n  /**\r\n   * Default constructor.  Note that this does not initialize fields\r\n   * to their default values from the schema.  If that is desired then\r\n   * one should use &lt;code&gt;newBuilder()&lt;/code&gt;.\r\n   */\r\n  public AvroRecord() {}\r\n\r\n  /**\r\n   * All-args constructor.\r\n   * @param _id car_id\r\n   */\r\n  public AvroRecord(java.lang.CharSequence _id) {\r\n    this._id = _id;\r\n  }\r\n\r\n  public org.apache.avro.specific.SpecificData getSpecificData() { return MODEL$; }\r\n  public org.apache.avro.Schema getSchema() { return SCHEMA$; }\r\n  // Used by DatumWriter.  Applications should not call.\r\n  public java.lang.Object get(int field$) {\r\n    switch (field$) {\r\n    case 0: return _id;\r\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\r\n    }\r\n  }\r\n\r\n  // Used by DatumReader.  Applications should not call.\r\n  @SuppressWarnings(value=&quot;unchecked&quot;)\r\n  public void put(int field$, java.lang.Object value$) {\r\n    switch (field$) {\r\n    case 0: _id = (java.lang.CharSequence)value$; break;\r\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the value of the &#39;_id&#39; field.\r\n   * @return car_id\r\n   */\r\n  public java.lang.CharSequence getId$1() {\r\n    return _id;\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets the value of the &#39;_id&#39; field.\r\n   * car_id\r\n   * @param value the value to set.\r\n   */\r\n  public void setId$1(java.lang.CharSequence value) {\r\n    this._id = value;\r\n  }\r\n\r\n  /**\r\n   * Creates a new AvroRecord RecordBuilder.\r\n   * @return A new AvroRecord RecordBuilder\r\n   */\r\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder() {\r\n    return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\r\n  }\r\n\r\n  /**\r\n   * Creates a new AvroRecord RecordBuilder by copying an existing Builder.\r\n   * @param other The existing builder to copy.\r\n   * @return A new AvroRecord RecordBuilder\r\n   */\r\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder(com.sample.dataplatform.stream.avro.AvroRecord.Builder other) {\r\n    if (other == null) {\r\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\r\n    } else {\r\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder(other);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates a new AvroRecord RecordBuilder by copying an existing AvroRecord instance.\r\n   * @param other The existing instance to copy.\r\n   * @return A new AvroRecord RecordBuilder\r\n   */\r\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder(com.sample.dataplatform.stream.avro.AvroRecord other) {\r\n    if (other == null) {\r\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\r\n    } else {\r\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder(other);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * RecordBuilder for AvroRecord instances.\r\n   */\r\n  @org.apache.avro.specific.AvroGenerated\r\n  public static class Builder extends org.apache.avro.specific.SpecificRecordBuilderBase&lt;AvroRecord&gt;\r\n    implements org.apache.avro.data.RecordBuilder&lt;AvroRecord&gt; {\r\n\r\n    /** car_id */\r\n    private java.lang.CharSequence _id;\r\n\r\n    /** Creates a new Builder */\r\n    private Builder() {\r\n      super(SCHEMA$);\r\n    }\r\n\r\n    /**\r\n     * Creates a Builder by copying an existing Builder.\r\n     * @param other The existing Builder to copy.\r\n     */\r\n    private Builder(com.sample.dataplatform.stream.avro.AvroRecord.Builder other) {\r\n      super(other);\r\n      if (isValidValue(fields()[0], other._id)) {\r\n        this._id = data().deepCopy(fields()[0].schema(), other._id);\r\n        fieldSetFlags()[0] = other.fieldSetFlags()[0];\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Creates a Builder by copying an existing AvroRecord instance\r\n     * @param other The existing instance to copy.\r\n     */\r\n    private Builder(com.sample.dataplatform.stream.avro.AvroRecord other) {\r\n      super(SCHEMA$);\r\n      if (isValidValue(fields()[0], other._id)) {\r\n        this._id = data().deepCopy(fields()[0].schema(), other._id);\r\n        fieldSetFlags()[0] = true;\r\n      }\r\n    }\r\n\r\n    /**\r\n      * Gets the value of the &#39;_id&#39; field.\r\n      * car_id\r\n      * @return The value.\r\n      */\r\n    public java.lang.CharSequence getId$1() {\r\n      return _id;\r\n    }\r\n\r\n\r\n    /**\r\n      * Sets the value of the &#39;_id&#39; field.\r\n      * car_id\r\n      * @param value The value of &#39;_id&#39;.\r\n      * @return This builder.\r\n      */\r\n    public com.sample.dataplatform.stream.avro.AvroRecord.Builder setId$1(java.lang.CharSequence value) {\r\n      validate(fields()[0], value);\r\n      this._id = value;\r\n      fieldSetFlags()[0] = true;\r\n      return this;\r\n    }\r\n\r\n    /**\r\n      * Checks whether the &#39;_id&#39; field has been set.\r\n      * car_id\r\n      * @return True if the &#39;_id&#39; field has been set, false otherwise.\r\n      */\r\n    public boolean hasId$1() {\r\n      return fieldSetFlags()[0];\r\n    }\r\n\r\n\r\n    /**\r\n      * Clears the value of the &#39;_id&#39; field.\r\n      * car_id\r\n      * @return This builder.\r\n      */\r\n    public com.sample.dataplatform.stream.avro.AvroRecord.Builder clearId$1() {\r\n      _id = null;\r\n      fieldSetFlags()[0] = false;\r\n      return this;\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public AvroRecord build() {\r\n      try {\r\n        AvroRecord record = new AvroRecord();\r\n        record._id = fieldSetFlags()[0] ? this._id : (java.lang.CharSequence) defaultValue(fields()[0]);\r\n        return record;\r\n      } catch (org.apache.avro.AvroMissingFieldException e) {\r\n        throw e;\r\n      } catch (java.lang.Exception e) {\r\n        throw new org.apache.avro.AvroRuntimeException(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private static final org.apache.avro.io.DatumWriter&lt;AvroRecord&gt;\r\n    WRITER$ = (org.apache.avro.io.DatumWriter&lt;AvroRecord&gt;)MODEL$.createDatumWriter(SCHEMA$);\r\n\r\n  @Override public void writeExternal(java.io.ObjectOutput out)\r\n    throws java.io.IOException {\r\n    WRITER$.write(this, SpecificData.getEncoder(out));\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private static final org.apache.avro.io.DatumReader&lt;AvroRecord&gt;\r\n    READER$ = (org.apache.avro.io.DatumReader&lt;AvroRecord&gt;)MODEL$.createDatumReader(SCHEMA$);\r\n\r\n  @Override public void readExternal(java.io.ObjectInput in)\r\n    throws java.io.IOException {\r\n    READER$.read(this, SpecificData.getDecoder(in));\r\n  }\r\n\r\n  @Override protected boolean hasCustomCoders() { return true; }\r\n\r\n  @Override public void customEncode(org.apache.avro.io.Encoder out)\r\n    throws java.io.IOException\r\n  {\r\n    out.writeString(this._id);\r\n\r\n  }\r\n\r\n  @Override public void customDecode(org.apache.avro.io.ResolvingDecoder in)\r\n    throws java.io.IOException\r\n  {\r\n    org.apache.avro.Schema.Field[] fieldOrder = in.readFieldOrderIfDiff();\r\n    if (fieldOrder == null) {\r\n      this._id = in.readString(this._id instanceof Utf8 ? (Utf8)this._id : null);\r\n\r\n    } else {\r\n      for (int i = 0; i &lt; 1; i++) {\r\n        switch (fieldOrder[i].pos()) {\r\n        case 0:\r\n          this._id = in.readString(this._id instanceof Utf8 ? (Utf8)this._id : null);\r\n          break;\r\n\r\n        default:\r\n          throw new java.io.IOException(&quot;Corrupt ResolvingDecoder.&quot;);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nThe AVRO schema (.avsc) file looks like this:\r\n\r\n```\r\n{\r\n  &quot;namespace&quot;: &quot;com.sample.dataplatform.stream.avro&quot;,\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;AvroRecord&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;_id&quot;,\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;doc&quot;: &quot;car_id&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nAny help is appreciated! ","title":"Flink Avro Error Expecting type to be a PojoTypeInfo","body":"<p>I'm trying to convert a HashMap&lt;String, Object&gt; to an Avro record. I get this runtime exception when I do a\n<code>DataStream&lt;AvroRecord&gt; dsRpvSchema = filteredVlfRPV.flatMap(new MessageFlattener()) .name(&quot;ToAvroSchema&quot;).uid(&quot;ToAvroSchema&quot;).startNewChain();</code></p>\n<p>Not sure what the issue is with Flink converting the valid avro record to Flink Avro.</p>\n<pre><code>java.lang.IllegalStateException: Expecting type to be a PojoTypeInfo\n    at org.apache.flink.formats.avro.typeutils.AvroTypeInfo.generateFieldsFromAvroSchema(AvroTypeInfo.java:71)\n    at org.apache.flink.formats.avro.typeutils.AvroTypeInfo.&lt;init&gt;(AvroTypeInfo.java:55)\n    at org.apache.flink.formats.avro.utils.AvroKryoSerializerUtils.createAvroTypeInfo(AvroKryoSerializerUtils.java:81)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.privateGetForClass(TypeExtractor.java:1653)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.privateGetForClass(TypeExtractor.java:1559)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.createTypeInfoWithTypeHierarchy(TypeExtractor.java:866)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.privateCreateTypeInfo(TypeExtractor.java:747)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.getUnaryOperatorReturnType(TypeExtractor.java:531)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.getFlatMapReturnTypes(TypeExtractor.java:168)\n    at org.apache.flink.streaming.api.datastream.DataStream.flatMap(DataStream.java:637)\n</code></pre>\n<p>I do see two questions on this but no answers provided:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/68826065/flink-kafka-expecting-type-to-be-a-pojotypeinfo\">Flink Kafka : Expecting type to be a PojoTypeInfo</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65399873/deserialize-avro-from-kafka-as-specificrecord-failing-expecting-type-to-be-a-po\">Deserialize Avro from kafka as SpecificRecord Failing. Expecting type to be a PojoTypeInfo</a></li>\n</ol>\n<p>UPDATE: 02/01/2022. Below is the <code>AvroRecord</code> class definition.</p>\n<pre><code>import org.apache.avro.generic.GenericArray;\nimport org.apache.avro.specific.SpecificData;\nimport org.apache.avro.util.Utf8;\nimport org.apache.avro.message.BinaryMessageEncoder;\nimport org.apache.avro.message.BinaryMessageDecoder;\nimport org.apache.avro.message.SchemaStore;\n\n@org.apache.avro.specific.AvroGenerated\npublic class AvroRecord extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\n  private static final long serialVersionUID = 9071485731787422200L;\n  public static final org.apache.avro.Schema SCHEMA$ = new org.apache.avro.Schema.Parser().parse(&quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;AvroRecord\\&quot;,\\&quot;namespace\\&quot;:\\&quot;com.sample.dataplatform.stream.avro\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;_id\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;doc\\&quot;:\\&quot;car_id\\&quot;}]}&quot;);\n  public static org.apache.avro.Schema getClassSchema() { return SCHEMA$; }\n\n  private static SpecificData MODEL$ = new SpecificData();\n\n  private static final BinaryMessageEncoder&lt;AvroRecord&gt; ENCODER =\n      new BinaryMessageEncoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$);\n\n  private static final BinaryMessageDecoder&lt;AvroRecord&gt; DECODER =\n      new BinaryMessageDecoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$);\n\n  /**\n   * Return the BinaryMessageEncoder instance used by this class.\n   * @return the message encoder used by this class\n   */\n  public static BinaryMessageEncoder&lt;AvroRecord&gt; getEncoder() {\n    return ENCODER;\n  }\n\n  /**\n   * Return the BinaryMessageDecoder instance used by this class.\n   * @return the message decoder used by this class\n   */\n  public static BinaryMessageDecoder&lt;AvroRecord&gt; getDecoder() {\n    return DECODER;\n  }\n\n  /**\n   * Create a new BinaryMessageDecoder instance for this class that uses the specified {@link SchemaStore}.\n   * @param resolver a {@link SchemaStore} used to find schemas by fingerprint\n   * @return a BinaryMessageDecoder instance for this class backed by the given SchemaStore\n   */\n  public static BinaryMessageDecoder&lt;AvroRecord&gt; createDecoder(SchemaStore resolver) {\n    return new BinaryMessageDecoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$, resolver);\n  }\n\n  /**\n   * Serializes this AvroRecord to a ByteBuffer.\n   * @return a buffer holding the serialized data for this instance\n   * @throws java.io.IOException if this instance could not be serialized\n   */\n  public java.nio.ByteBuffer toByteBuffer() throws java.io.IOException {\n    return ENCODER.encode(this);\n  }\n\n  /**\n   * Deserializes a AvroRecord from a ByteBuffer.\n   * @param b a byte buffer holding serialized data for an instance of this class\n   * @return a AvroRecord instance decoded from the given buffer\n   * @throws java.io.IOException if the given bytes could not be deserialized into an instance of this class\n   */\n  public static AvroRecord fromByteBuffer(\n      java.nio.ByteBuffer b) throws java.io.IOException {\n    return DECODER.decode(b);\n  }\n\n  /** car_id */\n   private java.lang.CharSequence _id;\n\n  /**\n   * Default constructor.  Note that this does not initialize fields\n   * to their default values from the schema.  If that is desired then\n   * one should use &lt;code&gt;newBuilder()&lt;/code&gt;.\n   */\n  public AvroRecord() {}\n\n  /**\n   * All-args constructor.\n   * @param _id car_id\n   */\n  public AvroRecord(java.lang.CharSequence _id) {\n    this._id = _id;\n  }\n\n  public org.apache.avro.specific.SpecificData getSpecificData() { return MODEL$; }\n  public org.apache.avro.Schema getSchema() { return SCHEMA$; }\n  // Used by DatumWriter.  Applications should not call.\n  public java.lang.Object get(int field$) {\n    switch (field$) {\n    case 0: return _id;\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\n    }\n  }\n\n  // Used by DatumReader.  Applications should not call.\n  @SuppressWarnings(value=&quot;unchecked&quot;)\n  public void put(int field$, java.lang.Object value$) {\n    switch (field$) {\n    case 0: _id = (java.lang.CharSequence)value$; break;\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\n    }\n  }\n\n  /**\n   * Gets the value of the '_id' field.\n   * @return car_id\n   */\n  public java.lang.CharSequence getId$1() {\n    return _id;\n  }\n\n\n  /**\n   * Sets the value of the '_id' field.\n   * car_id\n   * @param value the value to set.\n   */\n  public void setId$1(java.lang.CharSequence value) {\n    this._id = value;\n  }\n\n  /**\n   * Creates a new AvroRecord RecordBuilder.\n   * @return A new AvroRecord RecordBuilder\n   */\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder() {\n    return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\n  }\n\n  /**\n   * Creates a new AvroRecord RecordBuilder by copying an existing Builder.\n   * @param other The existing builder to copy.\n   * @return A new AvroRecord RecordBuilder\n   */\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder(com.sample.dataplatform.stream.avro.AvroRecord.Builder other) {\n    if (other == null) {\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\n    } else {\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder(other);\n    }\n  }\n\n  /**\n   * Creates a new AvroRecord RecordBuilder by copying an existing AvroRecord instance.\n   * @param other The existing instance to copy.\n   * @return A new AvroRecord RecordBuilder\n   */\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder(com.sample.dataplatform.stream.avro.AvroRecord other) {\n    if (other == null) {\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\n    } else {\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder(other);\n    }\n  }\n\n  /**\n   * RecordBuilder for AvroRecord instances.\n   */\n  @org.apache.avro.specific.AvroGenerated\n  public static class Builder extends org.apache.avro.specific.SpecificRecordBuilderBase&lt;AvroRecord&gt;\n    implements org.apache.avro.data.RecordBuilder&lt;AvroRecord&gt; {\n\n    /** car_id */\n    private java.lang.CharSequence _id;\n\n    /** Creates a new Builder */\n    private Builder() {\n      super(SCHEMA$);\n    }\n\n    /**\n     * Creates a Builder by copying an existing Builder.\n     * @param other The existing Builder to copy.\n     */\n    private Builder(com.sample.dataplatform.stream.avro.AvroRecord.Builder other) {\n      super(other);\n      if (isValidValue(fields()[0], other._id)) {\n        this._id = data().deepCopy(fields()[0].schema(), other._id);\n        fieldSetFlags()[0] = other.fieldSetFlags()[0];\n      }\n    }\n\n    /**\n     * Creates a Builder by copying an existing AvroRecord instance\n     * @param other The existing instance to copy.\n     */\n    private Builder(com.sample.dataplatform.stream.avro.AvroRecord other) {\n      super(SCHEMA$);\n      if (isValidValue(fields()[0], other._id)) {\n        this._id = data().deepCopy(fields()[0].schema(), other._id);\n        fieldSetFlags()[0] = true;\n      }\n    }\n\n    /**\n      * Gets the value of the '_id' field.\n      * car_id\n      * @return The value.\n      */\n    public java.lang.CharSequence getId$1() {\n      return _id;\n    }\n\n\n    /**\n      * Sets the value of the '_id' field.\n      * car_id\n      * @param value The value of '_id'.\n      * @return This builder.\n      */\n    public com.sample.dataplatform.stream.avro.AvroRecord.Builder setId$1(java.lang.CharSequence value) {\n      validate(fields()[0], value);\n      this._id = value;\n      fieldSetFlags()[0] = true;\n      return this;\n    }\n\n    /**\n      * Checks whether the '_id' field has been set.\n      * car_id\n      * @return True if the '_id' field has been set, false otherwise.\n      */\n    public boolean hasId$1() {\n      return fieldSetFlags()[0];\n    }\n\n\n    /**\n      * Clears the value of the '_id' field.\n      * car_id\n      * @return This builder.\n      */\n    public com.sample.dataplatform.stream.avro.AvroRecord.Builder clearId$1() {\n      _id = null;\n      fieldSetFlags()[0] = false;\n      return this;\n    }\n\n    @Override\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public AvroRecord build() {\n      try {\n        AvroRecord record = new AvroRecord();\n        record._id = fieldSetFlags()[0] ? this._id : (java.lang.CharSequence) defaultValue(fields()[0]);\n        return record;\n      } catch (org.apache.avro.AvroMissingFieldException e) {\n        throw e;\n      } catch (java.lang.Exception e) {\n        throw new org.apache.avro.AvroRuntimeException(e);\n      }\n    }\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  private static final org.apache.avro.io.DatumWriter&lt;AvroRecord&gt;\n    WRITER$ = (org.apache.avro.io.DatumWriter&lt;AvroRecord&gt;)MODEL$.createDatumWriter(SCHEMA$);\n\n  @Override public void writeExternal(java.io.ObjectOutput out)\n    throws java.io.IOException {\n    WRITER$.write(this, SpecificData.getEncoder(out));\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  private static final org.apache.avro.io.DatumReader&lt;AvroRecord&gt;\n    READER$ = (org.apache.avro.io.DatumReader&lt;AvroRecord&gt;)MODEL$.createDatumReader(SCHEMA$);\n\n  @Override public void readExternal(java.io.ObjectInput in)\n    throws java.io.IOException {\n    READER$.read(this, SpecificData.getDecoder(in));\n  }\n\n  @Override protected boolean hasCustomCoders() { return true; }\n\n  @Override public void customEncode(org.apache.avro.io.Encoder out)\n    throws java.io.IOException\n  {\n    out.writeString(this._id);\n\n  }\n\n  @Override public void customDecode(org.apache.avro.io.ResolvingDecoder in)\n    throws java.io.IOException\n  {\n    org.apache.avro.Schema.Field[] fieldOrder = in.readFieldOrderIfDiff();\n    if (fieldOrder == null) {\n      this._id = in.readString(this._id instanceof Utf8 ? (Utf8)this._id : null);\n\n    } else {\n      for (int i = 0; i &lt; 1; i++) {\n        switch (fieldOrder[i].pos()) {\n        case 0:\n          this._id = in.readString(this._id instanceof Utf8 ? (Utf8)this._id : null);\n          break;\n\n        default:\n          throw new java.io.IOException(&quot;Corrupt ResolvingDecoder.&quot;);\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>The AVRO schema (.avsc) file looks like this:</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;com.sample.dataplatform.stream.avro&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;AvroRecord&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;_id&quot;,\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;doc&quot;: &quot;car_id&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","spring-boot","resttemplate","get-request"],"owner":{"account_id":23260192,"reputation":1,"user_id":17346578,"display_name":"someone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679627733,"creation_date":1679627733,"question_id":75829725,"body_markdown":"I&#39;m trying to make a get request to an Api but I&#39;m always getting 404, nevertheless if try copying queryUrl in  postMan it works perfectly fine.\r\n\r\nthis is my code\r\n\r\n\r\n```\r\nHttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;X-Api-Key&quot;, dependencyTrackToken);\r\n\r\n        HttpEntity requestEntity = new HttpEntity(headers);\r\n        try {\r\n            ResponseEntity&lt;String&gt; DependencyBaseResponse = restTemplate.exchange(\r\n                    dependencyTrackUrl,\r\n                    HttpMethod.GET,\r\n                    requestEntity,\r\n                    String.class);\r\n            if (DependencyBaseResponse.getStatusCode() == HttpStatus.OK) {\r\n                String resp = DependencyBaseResponse\r\n                        .getBody();\r\n//             do what i want with resp \r\n              }\r\n            } else {\r\n                log.info(&quot;Dependency track response while fetching metric: {}, {}&quot;, dependencyTrackUrl, DependencyBaseResponse);\r\n                result.addErrorCode(DEPENDENCYTRACK_URL_UNKNOWN_ERROR_ERROR_CODE + DependencyBaseResponse.getStatusCode().name());\r\n            }\r\n\r\n        } catch (RestClientException e) {\r\n            log.error(&quot;Dependency track response while fetching metric: {}, {}&quot;, dependencyTrackUrl, e);\r\n            result.addErrorCode(DEPENDENCYTRACK_URL_CONNECTION_ERROR_ERROR_CODE);\r\n        } catch (NullPointerException e) {\r\n            result.addErrorCode(DEPENDENCYTRACK_INVALID_RESPONSE_ERROR_CODE);\r\n        }\r\n```\r\nthe url is : http://localhost:8081/api/v1/metrics/project/{project uuid}/current\r\nHelp please.\r\n\r\n\r\ni tried calling a public api and the code worked so maybe the problem is that the other api is on localhost.","title":"Spring RestTemplate exchange getting 404","body":"<p>I'm trying to make a get request to an Api but I'm always getting 404, nevertheless if try copying queryUrl in  postMan it works perfectly fine.</p>\n<p>this is my code</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;X-Api-Key&quot;, dependencyTrackToken);\n\n        HttpEntity requestEntity = new HttpEntity(headers);\n        try {\n            ResponseEntity&lt;String&gt; DependencyBaseResponse = restTemplate.exchange(\n                    dependencyTrackUrl,\n                    HttpMethod.GET,\n                    requestEntity,\n                    String.class);\n            if (DependencyBaseResponse.getStatusCode() == HttpStatus.OK) {\n                String resp = DependencyBaseResponse\n                        .getBody();\n//             do what i want with resp \n              }\n            } else {\n                log.info(&quot;Dependency track response while fetching metric: {}, {}&quot;, dependencyTrackUrl, DependencyBaseResponse);\n                result.addErrorCode(DEPENDENCYTRACK_URL_UNKNOWN_ERROR_ERROR_CODE + DependencyBaseResponse.getStatusCode().name());\n            }\n\n        } catch (RestClientException e) {\n            log.error(&quot;Dependency track response while fetching metric: {}, {}&quot;, dependencyTrackUrl, e);\n            result.addErrorCode(DEPENDENCYTRACK_URL_CONNECTION_ERROR_ERROR_CODE);\n        } catch (NullPointerException e) {\n            result.addErrorCode(DEPENDENCYTRACK_INVALID_RESPONSE_ERROR_CODE);\n        }\n</code></pre>\n<p>the url is : http://localhost:8081/api/v1/metrics/project/{project uuid}/current\nHelp please.</p>\n<p>i tried calling a public api and the code worked so maybe the problem is that the other api is on localhost.</p>\n"},{"tags":["java","android","timsort"],"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1679627620,"post_id":75829673,"comment_id":133759198,"body_markdown":"TimSort is a general stable sorting algorithm based on merge sort. Merge sort requires O(N) extra space.\nIf this doesn&#39;t suit your requirements I&#39;d suggest you switch to use another sorting algorithm such as Quicksort or Heapsort that are inplace and will meet your memory requirements better.","body":"TimSort is a general stable sorting algorithm based on merge sort. Merge sort requires O(N) extra space. If this doesn&#39;t suit your requirements I&#39;d suggest you switch to use another sorting algorithm such as Quicksort or Heapsort that are inplace and will meet your memory requirements better."},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679993554,"post_id":75829673,"comment_id":133816374,"body_markdown":"I don&#39;t know TimSort well enough, but it looks like tmp array is initialized with size `min(a.length / 2, 256)`, so there is room for improvement, but mostly on small(-ish) arrays","body":"I don&#39;t know TimSort well enough, but it looks like tmp array is initialized with size <code>min(a.length &#47; 2, 256)</code>, so there is room for improvement, but mostly on small(-ish) arrays"},{"owner":{"account_id":17476274,"reputation":25017,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1693146201,"post_id":75829673,"comment_id":135718606,"body_markdown":"Would be good to link to the implementations.","body":"Would be good to link to the implementations."},{"owner":{"account_id":17476274,"reputation":25017,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1693146486,"post_id":75829673,"comment_id":135718640,"body_markdown":"@AminM Looks like you misunderstood. They have an array of length N but only sort a sub-range of length n,. That should take only O(n) space, not O(N).","body":"@AminM Looks like you misunderstood. They have an array of length N but only sort a sub-range of length n,. That should take only O(n) space, not O(N)."},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1693240336,"post_id":75829673,"comment_id":135731356,"body_markdown":"If n is proportional to N. Then O(n) = O(N)\n\nMerge sort always requires space proportional to N to sort unfortunately.","body":"If n is proportional to N. Then O(n) = O(N)  Merge sort always requires space proportional to N to sort unfortunately."},{"owner":{"account_id":17476274,"reputation":25017,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1693244498,"post_id":75829673,"comment_id":135732068,"body_markdown":"@AminM n is independent of N (other than being limited by it), **not** proportional to N. This does **not** require space proportional to N.","body":"@AminM n is independent of N (other than being limited by it), <b>not</b> proportional to N. This does <b>not</b> require space proportional to N."}],"owner":{"account_id":14192537,"reputation":141,"user_id":10252707,"display_name":"ideal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679626903,"creation_date":1679626903,"question_id":75829673,"body_markdown":"I have been examining the TimSort algorithm implementation in both Android and Oracle JDK, and I noticed that when sorting a sub-range of an array, the temporary array used for merging is always ensured to have a capacity equal to half the length of the whole array. This seems to potentially waste memory when sorting a sub-range that is smaller than half the length of the whole array.\r\n\r\nI wonder if this behavior is intended or if it is a possible oversight in the implementation. Has anyone else noticed this, and is there any way to optimize the temporary array size when sorting sub-ranges of an array in both Android and Oracle JDK?\r\n\r\nI would appreciate any insights or suggestions on this issue. Thank you!\r\n\r\nI tried sorting a sub-range of an array using TimSort in both Android and Oracle JDK, and I expected the temporary array used for merging to be resized to match the length of the sub-range rather than half the length of the whole array.","title":"Is there a potential memory waste in Android&#39;s and Oracle JDK&#39;s TimSort when sorting a sub-range of an array?","body":"<p>I have been examining the TimSort algorithm implementation in both Android and Oracle JDK, and I noticed that when sorting a sub-range of an array, the temporary array used for merging is always ensured to have a capacity equal to half the length of the whole array. This seems to potentially waste memory when sorting a sub-range that is smaller than half the length of the whole array.</p>\n<p>I wonder if this behavior is intended or if it is a possible oversight in the implementation. Has anyone else noticed this, and is there any way to optimize the temporary array size when sorting sub-ranges of an array in both Android and Oracle JDK?</p>\n<p>I would appreciate any insights or suggestions on this issue. Thank you!</p>\n<p>I tried sorting a sub-range of an array using TimSort in both Android and Oracle JDK, and I expected the temporary array used for merging to be resized to match the length of the sub-range rather than half the length of the whole array.</p>\n"},{"tags":["java","javadoc","java-time"],"comments":[{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":10,"creation_date":1679626153,"post_id":75829604,"comment_id":133759063,"body_markdown":"In general, API documentation is concerned only with the API -- the &quot;I&quot; stands for &quot;Interface&quot;. Private fields, like the ones you cited, are not part of the interface of the class, they are internal details that should not be relied on by clients of the class. So they are not documented, and as they depend on the specific implementation, the source code for that implementation is the authoritative way to find information about them.","body":"In general, API documentation is concerned only with the API -- the &quot;I&quot; stands for &quot;Interface&quot;. Private fields, like the ones you cited, are not part of the interface of the class, they are internal details that should not be relied on by clients of the class. So they are not documented, and as they depend on the specific implementation, the source code for that implementation is the authoritative way to find information about them."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1679626964,"post_id":75829604,"comment_id":133759138,"body_markdown":"As aptly pointed out already, they aren&#39;t documented because they aren&#39;t part of the public API (if they exist at all). You don&#39;t actually need to know about a possible `second` field in `LocalTime` in order to understand how to _use_ `LocalTime`. That said, if you&#39;re interested in the implementation, you can always look at the source code [on GitHub](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/LocalTime.java#L126) or in the `src.zip` file included with your JDK (which is typically easiest via your IDE of choice).","body":"As aptly pointed out already, they aren&#39;t documented because they aren&#39;t part of the public API (if they exist at all). You don&#39;t actually need to know about a possible <code>second</code> field in <code>LocalTime</code> in order to understand how to <i>use</i> <code>LocalTime</code>. That said, if you&#39;re interested in the implementation, you can always look at the source code <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/LocalTime.java#L126\" rel=\"nofollow noreferrer\">on GitHub</a> or in the <code>src.zip</code> file included with your JDK (which is typically easiest via your IDE of choice)."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1679629021,"post_id":75829604,"comment_id":133759350,"body_markdown":"My professor used `class Thermometer` as an example. It might have `public double getFahrenheit ()` and `public double getCelsius ()`, but internally have the temperature in Kelvin.","body":"My professor used <code>class Thermometer</code> as an example. It might have <code>public double getFahrenheit ()</code> and <code>public double getCelsius ()</code>, but internally have the temperature in Kelvin."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679645460,"post_id":75829604,"comment_id":133761529,"body_markdown":"Start by reading about encapsulation and data protection. It’s general for all programming languages and libraries that they hide the fields (instance variables) and only document the methods, even only some of them since other methods may also be hidden or private. It’s the same all over the Java standard library too. There are only a few exceptions where `protected` fields that may be used by your own subclasses are documented. You may find the source code and see what fields there are, butr (1) you have no good use for that information anyway (2) they may not exist in the next Java version.","body":"Start by reading about encapsulation and data protection. It’s general for all programming languages and libraries that they hide the fields (instance variables) and only document the methods, even only some of them since other methods may also be hidden or private. It’s the same all over the Java standard library too. There are only a few exceptions where <code>protected</code> fields that may be used by your own subclasses are documented. You may find the source code and see what fields there are, butr (1) you have no good use for that information anyway (2) they may not exist in the next Java version."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679645631,"post_id":75829604,"comment_id":133761560,"body_markdown":"Closely related: [Java Doc - Do fields also get documented?](https://softwareengineering.stackexchange.com/questions/267306/java-doc-do-fields-also-get-documented) on StackExchange Software Engineering.","body":"Closely related: <a href=\"https://softwareengineering.stackexchange.com/questions/267306/java-doc-do-fields-also-get-documented\">Java Doc - Do fields also get documented?</a> on StackExchange Software Engineering."}],"answers":[{"tags":[],"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679626588,"creation_date":1679626033,"answer_id":75829618,"question_id":75829604,"body_markdown":"You don&#39;t actually know whether it has a `second` or `nano` field, though. Just because it has methods like `int getMinute()` doesn&#39;t mean that there&#39;s an `int minute` field. Part of encapsulation is that you interact with the classes though their _public_ API (which _is_ documented) rather than through implementation details.\r\n\r\nI could implement that `int getMinute()` method like:\r\n\r\n```java\r\nclass LocalTime {\r\n  private int negativeMinutes;\r\n\r\n  // ...\r\n\r\n  public int getMinutes() {\r\n    return -1 * negativeMinutes;\r\n  }\r\n}\r\n```\r\n\r\nor by \r\n\r\n```java\r\nclass LocalTime {\r\n  private String minutes;\r\n\r\n  // ...\r\n\r\n  public int getMinutes() {\r\n    return Integer.valueOf(minutes);\r\n  }\r\n}\r\n```\r\n\r\nand those could both be conforming implementations. They wouldn&#39;t be great implementations, but they&#39;d have the same _public_ API.  The point of the public documentation is that you don&#39;t need to know the implementation details.\r\n\r\nNow, if you&#39;re generating Javadoc for your own code, you can actually instruct Javadoc to generate documentation for fields with lower levels of visibility, like `private` fields and methods.  Those aren&#39;t all that useful for most users, though, since they probably won&#39;t be able to _call_ those methods or _access_ those fields, unless they use some reflective methods.\r\n\r\n\r\nAs to source of LocalTime, there are open source Java implementations, and you&#39;d be able to look at the source there.","title":"Why are some fields that probably exist not documented in Javadoc?","body":"<p>You don't actually know whether it has a <code>second</code> or <code>nano</code> field, though. Just because it has methods like <code>int getMinute()</code> doesn't mean that there's an <code>int minute</code> field. Part of encapsulation is that you interact with the classes though their <em>public</em> API (which <em>is</em> documented) rather than through implementation details.</p>\n<p>I could implement that <code>int getMinute()</code> method like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class LocalTime {\n  private int negativeMinutes;\n\n  // ...\n\n  public int getMinutes() {\n    return -1 * negativeMinutes;\n  }\n}\n</code></pre>\n<p>or by</p>\n<pre class=\"lang-java prettyprint-override\"><code>class LocalTime {\n  private String minutes;\n\n  // ...\n\n  public int getMinutes() {\n    return Integer.valueOf(minutes);\n  }\n}\n</code></pre>\n<p>and those could both be conforming implementations. They wouldn't be great implementations, but they'd have the same <em>public</em> API.  The point of the public documentation is that you don't need to know the implementation details.</p>\n<p>Now, if you're generating Javadoc for your own code, you can actually instruct Javadoc to generate documentation for fields with lower levels of visibility, like <code>private</code> fields and methods.  Those aren't all that useful for most users, though, since they probably won't be able to <em>call</em> those methods or <em>access</em> those fields, unless they use some reflective methods.</p>\n<p>As to source of LocalTime, there are open source Java implementations, and you'd be able to look at the source there.</p>\n"},{"tags":[],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679626138,"creation_date":1679626138,"answer_id":75829627,"question_id":75829604,"body_markdown":"Java doc is to document public fields and methods. As these fields are `private`, they are not documented. As user cannot access `private` fields or method, they are generally not included in java doc.\r\n\r\nThere are getter methods for these fields which you can find the java doc. Java doc is to help user to find the public method/fields for their use-cases. Hence, you are not finding `nano` and `second` in the java doc.","title":"Why are some fields that probably exist not documented in Javadoc?","body":"<p>Java doc is to document public fields and methods. As these fields are <code>private</code>, they are not documented. As user cannot access <code>private</code> fields or method, they are generally not included in java doc.</p>\n<p>There are getter methods for these fields which you can find the java doc. Java doc is to help user to find the public method/fields for their use-cases. Hence, you are not finding <code>nano</code> and <code>second</code> in the java doc.</p>\n"}],"owner":{"account_id":25746919,"reputation":9,"user_id":19499999,"display_name":"xiaoqiang deng"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1681239414,"answer_count":2,"score":0,"last_activity_date":1679626588,"creation_date":1679625805,"question_id":75829604,"body_markdown":"When I want to known how to use some class, I look at its Javadoc. For instance, consider [LocalTime][1].  I only see documentation for static fields of that class, [`MAX`][2], and so on.  I don&#39;t see fields that I&#39;d expect it to have, such as `second` and `nano`, based on there being methods like `int getSecond()` and `int getNano()`.  Why aren&#39;t these fields documented? Why can I only learn about them by reading the source?\r\n\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#MAX\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\n\r\n","title":"Why are some fields that probably exist not documented in Javadoc?","body":"<p>When I want to known how to use some class, I look at its Javadoc. For instance, consider <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\">LocalTime</a>.  I only see documentation for static fields of that class, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#MAX\" rel=\"nofollow noreferrer\"><code>MAX</code></a>, and so on.  I don't see fields that I'd expect it to have, such as <code>second</code> and <code>nano</code>, based on there being methods like <code>int getSecond()</code> and <code>int getNano()</code>.  Why aren't these fields documented? Why can I only learn about them by reading the source?</p>\n"},{"tags":["java","string","frequency"],"comments":[{"owner":{"account_id":275158,"reputation":33180,"user_id":567864,"display_name":"Corbin"},"score":2,"creation_date":1337335654,"post_id":10650594,"comment_id":13810385,"body_markdown":"The most straight forward solution would be a java.util.HashMap&lt;Character, Integer&gt;","body":"The most straight forward solution would be a java.util.HashMap&lt;Character, Integer&gt;"},{"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"score":0,"creation_date":1337335736,"post_id":10650594,"comment_id":13810421,"body_markdown":"How about you show us what you&#39;ve done, then we can work from there? I&#39;m sure we could all learn from it.","body":"How about you show us what you&#39;ve done, then we can work from there? I&#39;m sure we could all learn from it."},{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1337335931,"post_id":10650594,"comment_id":13810502,"body_markdown":"I tried using the variation of using map.put(character, charCount=null?charCount=0:charCount+1) but this code can gives me the sum of each character and I have hard time getting the value part of this map &quot;map(Key, Value)&quot;.","body":"I tried using the variation of using map.put(character, charCount=null?charCount=0:charCount+1) but this code can gives me the sum of each character and I have hard time getting the value part of this map &quot;map(Key, Value)&quot;."},{"owner":{"account_id":1133207,"reputation":792,"user_id":1118801,"accept_rate":44,"display_name":"Abhilash"},"score":0,"creation_date":1337336689,"post_id":10650594,"comment_id":13810800,"body_markdown":"it should be charCount = map.get(character); map.put(character,charCount=null?0:charCount+1). Note the charCount variable is local and inside the loop ( I assume you have a loop to pick each char in the word). do a type cast to number when required.","body":"it should be charCount = map.get(character); map.put(character,charCount=null?0:charCount+1). Note the charCount variable is local and inside the loop ( I assume you have a loop to pick each char in the word). do a type cast to number when required."}],"answers":[{"tags":[],"owner":{"account_id":1491238,"reputation":153,"user_id":1398276,"accept_rate":75,"display_name":"Aruscher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679625693,"creation_date":1337335732,"answer_id":10650651,"question_id":10650594,"body_markdown":"I do not think that this is the best way, but you can count each letter [a-z][A-Z] and remove every `&quot; &quot;` and then calculate = count of letter/all letters.","title":"Getting relative frequency of each character in a string in java","body":"<p>I do not think that this is the best way, but you can count each letter [a-z][A-Z] and remove every <code>&quot; &quot;</code> and then calculate = count of letter/all letters.</p>\n"},{"tags":[],"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1337337093,"creation_date":1337337093,"answer_id":10650967,"question_id":10650594,"body_markdown":"Here&#39;s my suggestion. Start by iterating over every character in the String, update freq if found else add 1. Then iterate again to print result :\r\n\r\n    \t\tString s = &quot;The big brown fox&quot;;\r\n\t\tMap&lt;Character, Float&gt; m = new TreeMap&lt;Character, Float&gt;();\r\n\t\tfor (char c : s.toCharArray()) {\r\n\t\t\tif (m.containsKey(c))\r\n\t\t\t\tm.put(c, m.get(c) + 1);\r\n\t\t\telse\r\n\t\t\t\tm.put(c, 1f);\r\n\t\t}\r\n\r\n\t\tfor (char c : s.toCharArray()) {\r\n\t\t\tfloat freq = m.get(c) / s.length();\r\n\t\t\tSystem.out.println(c + &quot; &quot; + freq);\r\n\t\t}\r\n","title":"Getting relative frequency of each character in a string in java","body":"<p>Here's my suggestion. Start by iterating over every character in the String, update freq if found else add 1. Then iterate again to print result :</p>\n\n<pre><code>        String s = \"The big brown fox\";\n    Map&lt;Character, Float&gt; m = new TreeMap&lt;Character, Float&gt;();\n    for (char c : s.toCharArray()) {\n        if (m.containsKey(c))\n            m.put(c, m.get(c) + 1);\n        else\n            m.put(c, 1f);\n    }\n\n    for (char c : s.toCharArray()) {\n        float freq = m.get(c) / s.length();\n        System.out.println(c + \" \" + freq);\n    }\n</code></pre>\n"}],"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10650967,"answer_count":2,"score":0,"last_activity_date":1679625693,"creation_date":1337335507,"question_id":10650594,"body_markdown":"I wanted to get the average of each unique character in a string. I have an example here as it would be easier to illustrate it.\r\n\r\nString: \r\n\r\n    The big brown fox\r\n\r\nAverage of each character including spaces:\r\n\r\n    T = 1/17 = .058\r\n    h = 1/17 = .058\r\n    e = 1/17 = .058\r\n    &#39; &#39;= 3/17 = .176\r\n    b = 2/17 = .117\r\n    i = 1/17 = .058\r\n    g = 1/17 = .058\r\n    r = 1/17 = .058\r\n    o = 2/17 = .117\r\n    w = 1/17 = .058\r\n    n = 1/17 = .058\r\n    f = 1/17 = .058\r\n    x = 1/17 = .058\r\n\r\nSo far all my attempts have failed, think my brain is not working at the moment. How do I code this? Any help or input will be greatly appreciated. \r\n\r\nI have this code as a solution. It just came to me when I was copy pasting my code here in stack. I hope this is not a re-post because I just answered the same thing a few minutes ago but it didn&#39;t show up.\r\n\r\n   \r\n\r\n     Map&lt;String, Integer&gt; storeCharCount = new HashMap&lt;String, Integer&gt;();\r\n    \t\t\r\n    \t\tString a = &quot;The big brown fox&quot;;\r\n    \t\t\r\n    \t\t\r\n    \t\tfor (int x=0; x&lt;a.length(); x++){\r\n    \t\t\tchar getChar = a.charAt(x);\r\n    \t\t\tString convGetChar = Character.toString(getChar);\r\n    \t\t\t\r\n    \t\t\tInteger countChar = storeCharCount.get(convGetChar);\r\n    \t\t\tstoreCharCount.put(convGetChar, (countChar==null?countChar=1:countChar+1));\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Map: &quot;+ storeCharCount);\r\n    \t\tdouble RelFrequency = 0;\r\n    \t\tfor (Map.Entry&lt;String, Integer&gt; getValue: storeCharCount.entrySet()){\r\n    \t\t\t\r\n    \t\t\tRelFrequency = (double)(getValue.getValue())/(a.length());\r\n    \t\t\tSystem.out.println(&quot;Character &quot;+getValue.getKey() +&quot;  Relative Frequency: &quot;+RelFrequency);\r\n    \t\t\t\r\n    \t\t}\r\n\t\t\r\n\r\nHere is the output\r\n\r\n    Map: {f=1, g=1,  =3, e=1, b=2, n=1, o=2, h=1, i=1, w=1, T=1, r=1, x=1}\r\n    Character f  Relative Frequency: 0.058823529411764705\r\n    Character g  Relative Frequency: 0.058823529411764705\r\n    Character    Relative Frequency: 0.17647058823529413\r\n    Character e  Relative Frequency: 0.058823529411764705\r\n    Character b  Relative Frequency: 0.11764705882352941\r\n    Character n  Relative Frequency: 0.058823529411764705\r\n    Character o  Relative Frequency: 0.11764705882352941\r\n    Character h  Relative Frequency: 0.058823529411764705\r\n    Character i  Relative Frequency: 0.058823529411764705\r\n    Character w  Relative Frequency: 0.058823529411764705\r\n    Character T  Relative Frequency: 0.058823529411764705\r\n    Character r  Relative Frequency: 0.058823529411764705\r\n    Character x  Relative Frequency: 0.058823529411764705\t","title":"Getting relative frequency of each character in a string in java","body":"<p>I wanted to get the average of each unique character in a string. I have an example here as it would be easier to illustrate it.</p>\n\n<p>String: </p>\n\n<pre><code>The big brown fox\n</code></pre>\n\n<p>Average of each character including spaces:</p>\n\n<pre><code>T = 1/17 = .058\nh = 1/17 = .058\ne = 1/17 = .058\n' '= 3/17 = .176\nb = 2/17 = .117\ni = 1/17 = .058\ng = 1/17 = .058\nr = 1/17 = .058\no = 2/17 = .117\nw = 1/17 = .058\nn = 1/17 = .058\nf = 1/17 = .058\nx = 1/17 = .058\n</code></pre>\n\n<p>So far all my attempts have failed, think my brain is not working at the moment. How do I code this? Any help or input will be greatly appreciated. </p>\n\n<p>I have this code as a solution. It just came to me when I was copy pasting my code here in stack. I hope this is not a re-post because I just answered the same thing a few minutes ago but it didn't show up.</p>\n\n<pre><code> Map&lt;String, Integer&gt; storeCharCount = new HashMap&lt;String, Integer&gt;();\n\n        String a = \"The big brown fox\";\n\n\n        for (int x=0; x&lt;a.length(); x++){\n            char getChar = a.charAt(x);\n            String convGetChar = Character.toString(getChar);\n\n            Integer countChar = storeCharCount.get(convGetChar);\n            storeCharCount.put(convGetChar, (countChar==null?countChar=1:countChar+1));\n\n        }\n        System.out.println(\"Map: \"+ storeCharCount);\n        double RelFrequency = 0;\n        for (Map.Entry&lt;String, Integer&gt; getValue: storeCharCount.entrySet()){\n\n            RelFrequency = (double)(getValue.getValue())/(a.length());\n            System.out.println(\"Character \"+getValue.getKey() +\"  Relative Frequency: \"+RelFrequency);\n\n        }\n</code></pre>\n\n<p>Here is the output</p>\n\n<pre><code>Map: {f=1, g=1,  =3, e=1, b=2, n=1, o=2, h=1, i=1, w=1, T=1, r=1, x=1}\nCharacter f  Relative Frequency: 0.058823529411764705\nCharacter g  Relative Frequency: 0.058823529411764705\nCharacter    Relative Frequency: 0.17647058823529413\nCharacter e  Relative Frequency: 0.058823529411764705\nCharacter b  Relative Frequency: 0.11764705882352941\nCharacter n  Relative Frequency: 0.058823529411764705\nCharacter o  Relative Frequency: 0.11764705882352941\nCharacter h  Relative Frequency: 0.058823529411764705\nCharacter i  Relative Frequency: 0.058823529411764705\nCharacter w  Relative Frequency: 0.058823529411764705\nCharacter T  Relative Frequency: 0.058823529411764705\nCharacter r  Relative Frequency: 0.058823529411764705\nCharacter x  Relative Frequency: 0.058823529411764705   \n</code></pre>\n"},{"tags":["java","string","string-formatting"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1342590681,"post_id":11534964,"comment_id":15250377,"body_markdown":"not sure but can you check without casting string array to object?","body":"not sure but can you check without casting string array to object?"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1679625322,"creation_date":1342590655,"answer_id":11535009,"question_id":11534964,"body_markdown":"The problem is that after the cast to `Object`, the compiler doesn&#39;t know that you&#39;re passing an array. Try casting the second argument to `(Object[])` instead of `(Object)`.\r\n\r\n    System.out.println(String.format(f, (Object[])new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nOr just don&#39;t use a cast at all:\r\n\r\n    System.out.println(String.format(f, new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nalthough that might generate a compiler warning. (See [this answer][1] for a little more info.)\r\n\r\nThe cleanest, I think, would be to avoid a `String[]` in the first place:\r\n\r\n    System.out.println(String.format(f, new Object[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2925300/535871","title":"String.format() takes an array as a single argument","body":"<p>The problem is that after the cast to <code>Object</code>, the compiler doesn't know that you're passing an array. Try casting the second argument to <code>(Object[])</code> instead of <code>(Object)</code>.</p>\n<pre><code>System.out.println(String.format(f, (Object[])new String[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n<p>Or just don't use a cast at all:</p>\n<pre><code>System.out.println(String.format(f, new String[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n<p>although that might generate a compiler warning. (See <a href=\"https://stackoverflow.com/a/2925300/535871\">this answer</a> for a little more info.)</p>\n<p>The cleanest, I think, would be to avoid a <code>String[]</code> in the first place:</p>\n<pre><code>System.out.println(String.format(f, new Object[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1613555808,"creation_date":1342591247,"answer_id":11535105,"question_id":11534964,"body_markdown":"Use this : (I would recommend this way) \r\n\r\n    String f = &quot;Mi name is %s %s.&quot;;\r\n    System.out.println(String.format(f, (Object[])new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nOR\r\n\r\n    String f = &quot;Mi name is %s %s.&quot;;\r\n    System.out.println(String.format(f, new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nBut if you use this way, you will get following warning : \r\n\r\n&gt;The argument of type `String[]` should explicitly be cast to `Object[]` for the invocation of the `varargs` method `format(String, Object...)` from type `String`. It could alternatively be cast to `Object` for a `varargs` invocation.","title":"String.format() takes an array as a single argument","body":"<p>Use this : (I would recommend this way)</p>\n<pre><code>String f = &quot;Mi name is %s %s.&quot;;\nSystem.out.println(String.format(f, (Object[])new String[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n<p>OR</p>\n<pre><code>String f = &quot;Mi name is %s %s.&quot;;\nSystem.out.println(String.format(f, new String[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n<p>But if you use this way, you will get following warning :</p>\n<blockquote>\n<p>The argument of type <code>String[]</code> should explicitly be cast to <code>Object[]</code> for the invocation of the <code>varargs</code> method <code>format(String, Object...)</code> from type <code>String</code>. It could alternatively be cast to <code>Object</code> for a <code>varargs</code> invocation.</p>\n</blockquote>\n"}],"owner":{"account_id":1467903,"reputation":653,"user_id":1380250,"accept_rate":56,"display_name":"mevqz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35735,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":11535009,"answer_count":2,"score":19,"last_activity_date":1679625322,"creation_date":1342590362,"question_id":11534964,"body_markdown":"Why this does work OK?:\r\n\r\n    String f = &quot;Mi name is %s %s.&quot;;\r\n    System.out.println(String.format(f, &quot;John&quot;, &quot;Connor&quot;));\r\n\r\nAnd this doesnt?:\r\n\r\n    String f = &quot;Mi name is %s %s.&quot;;\r\n    System.out.println(String.format(f, (Object)new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nIf the method String.format takes a vararg Object?\r\n\r\nIt compiles OK but when I execute this the String.format() takes the vararg Object as a single an unique argument (the toString() value of the array itself), so it throws a MissingFormatArgumentException because it cannot match with the second string specifier (%s).\r\n\r\nHow can I make it work?\r\nThanks in advance, any help will be greatly appreciated.","title":"String.format() takes an array as a single argument","body":"<p>Why this does work OK?:</p>\n\n<pre><code>String f = \"Mi name is %s %s.\";\nSystem.out.println(String.format(f, \"John\", \"Connor\"));\n</code></pre>\n\n<p>And this doesnt?:</p>\n\n<pre><code>String f = \"Mi name is %s %s.\";\nSystem.out.println(String.format(f, (Object)new String[]{\"John\",\"Connor\"}));\n</code></pre>\n\n<p>If the method String.format takes a vararg Object?</p>\n\n<p>It compiles OK but when I execute this the String.format() takes the vararg Object as a single an unique argument (the toString() value of the array itself), so it throws a MissingFormatArgumentException because it cannot match with the second string specifier (%s).</p>\n\n<p>How can I make it work?\nThanks in advance, any help will be greatly appreciated.</p>\n"},{"tags":["java","java-stream","flatmap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1679565520,"post_id":75821491,"comment_id":133745628,"body_markdown":"No, you can&#39;t. If you want to do something for each `passenger`, either do it before `flatMap` (maybe using `peek`) or during `flatMap`.","body":"No, you can&#39;t. If you want to do something for each <code>passenger</code>, either do it before <code>flatMap</code> (maybe using <code>peek</code>) or during <code>flatMap</code>."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679565693,"post_id":75821491,"comment_id":133745669,"body_markdown":"Maybe this would be useful in this situation? https://stackoverflow.com/a/37314626/16034206","body":"Maybe this would be useful in this situation? <a href=\"https://stackoverflow.com/a/37314626/16034206\">stackoverflow.com/a/37314626/16034206</a>"},{"owner":{"account_id":28100175,"reputation":1,"user_id":21469216,"display_name":"Yentini"},"score":0,"creation_date":1679565701,"post_id":75821491,"comment_id":133745672,"body_markdown":"For Joachim: That&#39;s not possible, because in the foreach, I need to call a method that uses passenger and ancillary.","body":"For Joachim: That&#39;s not possible, because in the foreach, I need to call a method that uses passenger and ancillary."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1679565754,"post_id":75821491,"comment_id":133745691,"body_markdown":"If you need to do something for each passenger/ancillary combo then you might need to do it to the stream you&#39;re creating inside `flatMap()`, e.g. `flatMap(pass -&gt; pass.getAncillaries().stream().peek(anc -&gt; /* do it here*/))` or if all you are after is `forEach()` just nest those: `passengers.forEach(pass -&gt; pass.getAncillaries().forEach(anc -&gt; ...))`.","body":"If you need to do something for each passenger/ancillary combo then you might need to do it to the stream you&#39;re creating inside <code>flatMap()</code>, e.g. <code>flatMap(pass -&gt; pass.getAncillaries().stream().peek(anc -&gt; &#47;* do it here*&#47;))</code> or if all you are after is <code>forEach()</code> just nest those: <code>passengers.forEach(pass -&gt; pass.getAncillaries().forEach(anc -&gt; ...))</code>."},{"owner":{"account_id":28100175,"reputation":1,"user_id":21469216,"display_name":"Yentini"},"score":0,"creation_date":1679566831,"post_id":75821491,"comment_id":133745960,"body_markdown":"I think that Thomas&#39;s solution is the best, although perhaps it is better to chain the foreach, than to use peek (I have verified it and it works perfectly) but not for totally compliant.","body":"I think that Thomas&#39;s solution is the best, although perhaps it is better to chain the foreach, than to use peek (I have verified it and it works perfectly) but not for totally compliant."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679577134,"post_id":75821491,"comment_id":133748605,"body_markdown":"What does `foo` do?  Would it print something, return an object?","body":"What does <code>foo</code> do?  Would it print something, return an object?"}],"answers":[{"tags":[],"owner":{"account_id":27868102,"reputation":34,"user_id":21279235,"display_name":"LQF-developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679566545,"creation_date":1679566436,"answer_id":75821708,"question_id":75821491,"body_markdown":"in the line of code:\r\n```\r\n.flatMap(passenger-&gt; passenger.getAncillaries().stream())  \r\n// Only Ancillaries type objects exist in the stream\r\n```        \r\nso you can not write codes like this:\r\n```\r\n.forEach(ancillary -&gt; {\r\n    passenger.getName();// can not access to the passenger object\r\n}\r\n```\r\nThis is the right answer:\r\n\r\n```\r\n.flatMap(passenger-&gt; passenger.getAncillaries().stream())                                                                    \r\n.forEach(item -&gt; {\r\n    item.getXXX();//item references 【passenger.getAncillaries()】\r\n}\r\n```\r\n","title":"Reference original object after flatMap","body":"<p>in the line of code:</p>\n<pre><code>.flatMap(passenger-&gt; passenger.getAncillaries().stream())  \n// Only Ancillaries type objects exist in the stream\n</code></pre>\n<p>so you can not write codes like this:</p>\n<pre><code>.forEach(ancillary -&gt; {\n    passenger.getName();// can not access to the passenger object\n}\n</code></pre>\n<p>This is the right answer:</p>\n<pre><code>.flatMap(passenger-&gt; passenger.getAncillaries().stream())                                                                    \n.forEach(item -&gt; {\n    item.getXXX();//item references 【passenger.getAncillaries()】\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679585721,"creation_date":1679566973,"answer_id":75821800,"question_id":75821491,"body_markdown":"In Java 17, you can do that using a `record` (a class would be fine too in older version):\r\n\r\n    record PassengerAndAncillary(Passenger passenger, Ancillary ancillary) {}\r\n    \r\n    // \r\n    passengers.flatMap(passenger-&gt; passenger.getAncillaries()\r\n                                  .stream()\r\n                                  .map(ancillary -&gt; new PassengerAndAncillary(passenger, ancillary)                                                                    )\r\n    .forEach(pa -&gt; {\r\n        foo(pa.passenger(), pa.ancillary());\r\n    });\r\n\r\nBetter then: let foo take PassengerAndAncillary and you are done:\r\n\r\n    .forEach(this::foo)\r\n\r\n\r\nIf you don&#39;t want to roll up your own class, you can also use:\r\n\r\n- [Pair from commons-lang3](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html)\r\n- [AbstractMap.SimpleImmutableEntry from JDK itself](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractMap.SimpleImmutableEntry.html)\r\n\r\nYou would however be best, in this case where you don&#39;t use the `Stream`, to not use a `Stream` at all:\r\n\r\n    passengers.forEach(passenger -&gt; {\r\n      passenger.getAncillaries().forEach(ancillary -&gt; {\r\n        foo(passenger, ancillary);\r\n      });\r\n    });\r\n\r\n--\r\nEdit (for the comment):\r\n\r\nI&#39;d say that filtering before/after all boils down to performance issues:\r\n\r\n- if you do no filter nor use parallel streams, I do think the `forEach` based loop would be better because you are simply not using the `Stream`.\r\n- if you need only filter on passenger, do it before `flatMap`: the resulting stream would be shorter, resulting in less invocation on `flatMap` function (and less `record PassengerAndAncillary` too).\r\n- if you need only filter on ancillary (not both), do it in the flatMap function: you won&#39;t create needless object for unmatched ancillary.\r\n- if you need to perform on both, do it before `forEach` on `PassengerAndAncillary`.\r\n\r\n","title":"Reference original object after flatMap","body":"<p>In Java 17, you can do that using a <code>record</code> (a class would be fine too in older version):</p>\n<pre><code>record PassengerAndAncillary(Passenger passenger, Ancillary ancillary) {}\n\n// \npassengers.flatMap(passenger-&gt; passenger.getAncillaries()\n                              .stream()\n                              .map(ancillary -&gt; new PassengerAndAncillary(passenger, ancillary)                                                                    )\n.forEach(pa -&gt; {\n    foo(pa.passenger(), pa.ancillary());\n});\n</code></pre>\n<p>Better then: let foo take PassengerAndAncillary and you are done:</p>\n<pre><code>.forEach(this::foo)\n</code></pre>\n<p>If you don't want to roll up your own class, you can also use:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow noreferrer\">Pair from commons-lang3</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractMap.SimpleImmutableEntry.html\" rel=\"nofollow noreferrer\">AbstractMap.SimpleImmutableEntry from JDK itself</a></li>\n</ul>\n<p>You would however be best, in this case where you don't use the <code>Stream</code>, to not use a <code>Stream</code> at all:</p>\n<pre><code>passengers.forEach(passenger -&gt; {\n  passenger.getAncillaries().forEach(ancillary -&gt; {\n    foo(passenger, ancillary);\n  });\n});\n</code></pre>\n<p>--\nEdit (for the comment):</p>\n<p>I'd say that filtering before/after all boils down to performance issues:</p>\n<ul>\n<li>if you do no filter nor use parallel streams, I do think the <code>forEach</code> based loop would be better because you are simply not using the <code>Stream</code>.</li>\n<li>if you need only filter on passenger, do it before <code>flatMap</code>: the resulting stream would be shorter, resulting in less invocation on <code>flatMap</code> function (and less <code>record PassengerAndAncillary</code> too).</li>\n<li>if you need only filter on ancillary (not both), do it in the flatMap function: you won't create needless object for unmatched ancillary.</li>\n<li>if you need to perform on both, do it before <code>forEach</code> on <code>PassengerAndAncillary</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679579327,"creation_date":1679578860,"answer_id":75823783,"question_id":75821491,"body_markdown":"Another alternative to using `flatMap` is to use [mapMulti (Java 16)](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) in conjunction with [Map.entry](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#entry(K,V))\r\n\r\n- Stream the passengers as you normally would\r\n- the you can filter the Passenger as required. If the filter predicate returns true, the filtered object is passed thru.\r\n- then invoke `mapMulti`, which takes the streamed object and a consumer. Note that  mapMulti is type witnessed to reflect the new type that is placed on the stream.  In this case `Map.Entry`\r\n- Use a loop to iterate thru the Ancillary list and then package in `Map.Entry`.  `Consumer.accept` puts that on the stream for subsequent processing.\r\n``` \r\npassengers.stream()\r\n       .filter(passenger -&gt; passenger.isSomething)\r\n              .&lt;Map.Entry&lt;Passenger, Ancillary&gt;&gt;mapMulti((passenger, consumer) -&gt; {\r\n                    for (Ancillary ancillary : passenger.getAncillaries) {\r\n                        consumer.accept(\r\n                                Map.entry(passenger, ancillary));\r\n                    }\r\n                })\r\n        .forEach(e -&gt; foo(e.getKey(), e.getValue()));\r\n```\r\n","title":"Reference original object after flatMap","body":"<p>Another alternative to using <code>flatMap</code> is to use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">mapMulti (Java 16)</a> in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#entry(K,V)\" rel=\"nofollow noreferrer\">Map.entry</a></p>\n<ul>\n<li>Stream the passengers as you normally would</li>\n<li>the you can filter the Passenger as required. If the filter predicate returns true, the filtered object is passed thru.</li>\n<li>then invoke <code>mapMulti</code>, which takes the streamed object and a consumer. Note that  mapMulti is type witnessed to reflect the new type that is placed on the stream.  In this case <code>Map.Entry</code></li>\n<li>Use a loop to iterate thru the Ancillary list and then package in <code>Map.Entry</code>.  <code>Consumer.accept</code> puts that on the stream for subsequent processing.</li>\n</ul>\n<pre><code>passengers.stream()\n       .filter(passenger -&gt; passenger.isSomething)\n              .&lt;Map.Entry&lt;Passenger, Ancillary&gt;&gt;mapMulti((passenger, consumer) -&gt; {\n                    for (Ancillary ancillary : passenger.getAncillaries) {\n                        consumer.accept(\n                                Map.entry(passenger, ancillary));\n                    }\n                })\n        .forEach(e -&gt; foo(e.getKey(), e.getValue()));\n</code></pre>\n"}],"owner":{"account_id":28100175,"reputation":1,"user_id":21469216,"display_name":"Yentini"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679624820,"creation_date":1679565185,"question_id":75821491,"body_markdown":"Is it possible to reference the original object after flatMap?\r\n\r\nFor example:\r\n\r\n    .flatMap(passenger-&gt; passenger.getAncillaries().stream())\t\t\t\t\t\t\t\t\t\t\t\t                     \r\n    .forEach(ancillary -&gt; {\r\n        [Can here reference passenger?]\r\n        foo(passenger, ancillary); ?????\r\n    }\r\n\r\nThanks.\r\n\r\nRegards.\r\n\r\n","title":"Reference original object after flatMap","body":"<p>Is it possible to reference the original object after flatMap?</p>\n<p>For example:</p>\n<pre><code>.flatMap(passenger-&gt; passenger.getAncillaries().stream())                                                                    \n.forEach(ancillary -&gt; {\n    [Can here reference passenger?]\n    foo(passenger, ancillary); ?????\n}\n</code></pre>\n<p>Thanks.</p>\n<p>Regards.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679624477,"creation_date":1679624477,"answer_id":75829531,"question_id":75789947,"body_markdown":"Yes. What you want is possible with native sql and is possible directly. I am not sure where you thought directly was not possible but perhaps from your query itself. It is invalid and would be so even without the data being Json. You have a `where` clause but no predicates after it. The structure `where order...` is invalid. But a direct cast would in `order by` is valid whit a valid `where` clause. (see [demo][2]).  &lt;br/&gt;\r\nAs far as encapsulating the cast in a function there is nothing wrong with doing so. However, you can substantially reduce the complexity by creating a SQL function instead of an pgplsql one, and has [other advantages][1]; see selected answer. Your function rewritten as SQL function: (also in demo)\r\n\r\n    create or replace function cast_number(str varchar)\r\n        returns decimal\r\n        immutable\r\n        language sql\r\n    as $$\r\n       select cast(str as decimal);\r\n    $$;\r\n\r\n\r\nNOTE: \r\n\r\n - immutable added but not essential (check it out)\r\n - changed return type to match cast. Not required but a good habit to form matching what is actually returned to the declared return type.\r\n\r\n  \r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24755468/difference-between-language-sql-and-language-plpgsql-in-postgresql-functions\r\n  [2]: https://dbfiddle.uk/371LssXv","title":"Order a query with Specification and Criteria Builder with a Postgres JSONB attribute as a number","body":"<p>Yes. What you want is possible with native sql and is possible directly. I am not sure where you thought directly was not possible but perhaps from your query itself. It is invalid and would be so even without the data being Json. You have a <code>where</code> clause but no predicates after it. The structure <code>where order...</code> is invalid. But a direct cast would in <code>order by</code> is valid whit a valid <code>where</code> clause. (see <a href=\"https://dbfiddle.uk/371LssXv\" rel=\"nofollow noreferrer\">demo</a>).  <br/>\nAs far as encapsulating the cast in a function there is nothing wrong with doing so. However, you can substantially reduce the complexity by creating a SQL function instead of an pgplsql one, and has <a href=\"https://stackoverflow.com/questions/24755468/difference-between-language-sql-and-language-plpgsql-in-postgresql-functions\">other advantages</a>; see selected answer. Your function rewritten as SQL function: (also in demo)</p>\n<pre><code>create or replace function cast_number(str varchar)\n    returns decimal\n    immutable\n    language sql\nas $$\n   select cast(str as decimal);\n$$;\n</code></pre>\n<p>NOTE:</p>\n<ul>\n<li>immutable added but not essential (check it out)</li>\n<li>changed return type to match cast. Not required but a good habit to form matching what is actually returned to the declared return type.</li>\n</ul>\n"}],"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75829531,"answer_count":1,"score":0,"last_activity_date":1679624477,"creation_date":1679313308,"question_id":75789947,"body_markdown":"Got a table in a postgres database with a jsonb column and needed to order a query using a specific key in the json as a numeric value, it is possible with native sql:\r\n\r\n```\r\nselect key-&gt;&gt;value from table where order by CAST(key-&gt;&gt;value AS DECIMAL);\r\n```\r\nBut with specification it is no possible directly, so I&#39;ve encapsulate the operator **CAST** in a function and call it when building the order clause in the specification factory.\r\n\r\n\r\n```\r\ncreate or replace function cast_number(str varchar)\r\n   returns real\r\n   language plpgsql\r\n  as\r\n$$\r\ndeclare \r\nnew_number real;\r\nbegin\r\n select cast(str as decimal)\r\n into new_number;\r\n return new_number;\r\nend;\r\n```\r\n\r\nand I call it using CriteriaBuilder::function after calling **jsonb_extract_path_text** also via criteria builder.\r\nStill no sure about the performance here tbh\r\n\r\n\r\nDid not found anything about this anywhere, so I want to share my solution and see what people think of it.","title":"Order a query with Specification and Criteria Builder with a Postgres JSONB attribute as a number","body":"<p>Got a table in a postgres database with a jsonb column and needed to order a query using a specific key in the json as a numeric value, it is possible with native sql:</p>\n<pre><code>select key-&gt;&gt;value from table where order by CAST(key-&gt;&gt;value AS DECIMAL);\n</code></pre>\n<p>But with specification it is no possible directly, so I've encapsulate the operator <strong>CAST</strong> in a function and call it when building the order clause in the specification factory.</p>\n<pre><code>create or replace function cast_number(str varchar)\n   returns real\n   language plpgsql\n  as\n$$\ndeclare \nnew_number real;\nbegin\n select cast(str as decimal)\n into new_number;\n return new_number;\nend;\n</code></pre>\n<p>and I call it using CriteriaBuilder::function after calling <strong>jsonb_extract_path_text</strong> also via criteria builder.\nStill no sure about the performance here tbh</p>\n<p>Did not found anything about this anywhere, so I want to share my solution and see what people think of it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679623657,"post_id":75829465,"comment_id":133758824,"body_markdown":"I think you are directly comparing the array objects and not the contents with .equals, you should probably try the Arrays utility `Arrays.equals()`","body":"I think you are directly comparing the array objects and not the contents with .equals, you should probably try the Arrays utility <code>Arrays.equals()</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1679624129,"post_id":75829465,"comment_id":133758864,"body_markdown":"Does this answer your question? [Java Array HashCode implementation](https://stackoverflow.com/questions/744735/java-array-hashcode-implementation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/744735/java-array-hashcode-implementation\">Java Array HashCode implementation</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1679624200,"post_id":75829465,"comment_id":133758883,"body_markdown":"In brief, Java arrays don’t implement `equals` and `hashCode` in a useful way, and should generally not be used as hash keys. Try `ArrayList` instead.","body":"In brief, Java arrays don’t implement <code>equals</code> and <code>hashCode</code> in a useful way, and should generally not be used as hash keys. Try <code>ArrayList</code> instead."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1679624468,"post_id":75829465,"comment_id":133758919,"body_markdown":"Does this answer your question? [How to overide equals for array in Java?](https://stackoverflow.com/questions/12292513/how-to-overide-equals-for-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12292513/how-to-overide-equals-for-array-in-java\">How to overide equals for array in Java?</a>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1679624790,"post_id":75829465,"comment_id":133758949,"body_markdown":"As per the [ask], please [**do not** post images of code, data, error message, etc](https://meta.stackoverflow.com/questions/285551). Instead, copy or type the text into your question, [formatted as code](https://meta.stackoverflow.com/questions/251361#251362). Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text.","body":"As per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, please <a href=\"https://meta.stackoverflow.com/questions/285551\"><b>do not</b> post images of code, data, error message, etc</a>. Instead, copy or type the text into your question, <a href=\"https://meta.stackoverflow.com/questions/251361#251362\">formatted as code</a>. Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text."}],"answers":[{"tags":[],"owner":{"account_id":20729545,"reputation":61,"user_id":15221898,"display_name":"connellrobert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679624209,"creation_date":1679624209,"answer_id":75829515,"question_id":75829465,"body_markdown":"Please look at this question for the reason why this doesn&#39;t work:\r\nhttps://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java\r\n\r\nEssentially, you are comparing the memory address of the arrays. The `java.util.Arrays.equals` method will compare whether the length is the same and each objects `equals` method returns true for the values. Since string `equals` method compares the chars, then they will return true and this will give you the result you are looking for.\r\n\r\nIf you continue and change this into an array of objects, then it will depend on how the class implements the `equals` method. If you leave the implementation as the default, then it will only compare memory address (use `==`) and would return false if they weren&#39;t the same reference.","title":"Immutable map with String[] as key not returning value for correct key","body":"<p>Please look at this question for the reason why this doesn't work:\n<a href=\"https://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java\">equals vs Arrays.equals in Java</a></p>\n<p>Essentially, you are comparing the memory address of the arrays. The <code>java.util.Arrays.equals</code> method will compare whether the length is the same and each objects <code>equals</code> method returns true for the values. Since string <code>equals</code> method compares the chars, then they will return true and this will give you the result you are looking for.</p>\n<p>If you continue and change this into an array of objects, then it will depend on how the class implements the <code>equals</code> method. If you leave the implementation as the default, then it will only compare memory address (use <code>==</code>) and would return false if they weren't the same reference.</p>\n"},{"tags":[],"owner":{"account_id":113212,"reputation":1385,"user_id":298278,"display_name":"Windle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679624347,"creation_date":1679624347,"answer_id":75829525,"question_id":75829465,"body_markdown":"Using `.equals()` is right when comparing strings, but when you use that method on two `String[]` then you are really back to comparing the object references. If you want to compare the contents of two String arrays against each other then you can use `Arrays.equals(Object[] a1,Object[] a2)`. The docs [are here][1], but basically that will compare the length of each array and then make sure they contain the same items.\r\n\r\nIn the end, your code would become something like:\r\n```java\r\nif (Arrays.equals(key, candidateKey)) {\r\n  return entry.getValue();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#equals(java.lang.Object%5B%5D,java.lang.Object%5B%5D)","title":"Immutable map with String[] as key not returning value for correct key","body":"<p>Using <code>.equals()</code> is right when comparing strings, but when you use that method on two <code>String[]</code> then you are really back to comparing the object references. If you want to compare the contents of two String arrays against each other then you can use <code>Arrays.equals(Object[] a1,Object[] a2)</code>. The docs <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#equals(java.lang.Object%5B%5D,java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">are here</a>, but basically that will compare the length of each array and then make sure they contain the same items.</p>\n<p>In the end, your code would become something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Arrays.equals(key, candidateKey)) {\n  return entry.getValue();\n}\n</code></pre>\n"}],"owner":{"account_id":1318317,"reputation":1952,"user_id":1264703,"accept_rate":57,"display_name":"Maxsteel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679624347,"creation_date":1679623484,"question_id":75829465,"body_markdown":"I am using ImmutableMap in my very simple code. At one point I am trying to return value corresponding to a key which is an array of string with only 1 value &quot;1234&quot;. Here&#39;s a screenshot of debugging step:\r\n\r\n[![Debugger with key that I pass and candidate key that is being checked in ImmutableMap. Notice they&#39;re the same][1]][1]\r\n\r\nHowever, I get no value and keys don&#39;t match. \r\nHere&#39;s candidateKey in debugger:\r\n[![enter image description here][2]][2]\r\n\r\nHere&#39;s my key in debugger: \r\n[![enter image description here][3]][3]\r\n\r\nHere&#39;s debugger saying they&#39;re not equal!\r\n[![enter image description here][4]][4]\r\n\r\nIt&#39;s driving me nuts. Am I missing something here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vht3Y.png\r\n  [2]: https://i.stack.imgur.com/UXaJQ.png\r\n  [3]: https://i.stack.imgur.com/p114m.png\r\n  [4]: https://i.stack.imgur.com/7bWs6.png","title":"Immutable map with String[] as key not returning value for correct key","body":"<p>I am using ImmutableMap in my very simple code. At one point I am trying to return value corresponding to a key which is an array of string with only 1 value &quot;1234&quot;. Here's a screenshot of debugging step:</p>\n<p><a href=\"https://i.stack.imgur.com/Vht3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vht3Y.png\" alt=\"Debugger with key that I pass and candidate key that is being checked in ImmutableMap. Notice they're the same\" /></a></p>\n<p>However, I get no value and keys don't match.\nHere's candidateKey in debugger:\n<a href=\"https://i.stack.imgur.com/UXaJQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXaJQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my key in debugger:\n<a href=\"https://i.stack.imgur.com/p114m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p114m.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's debugger saying they're not equal!\n<a href=\"https://i.stack.imgur.com/7bWs6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7bWs6.png\" alt=\"enter image description here\" /></a></p>\n<p>It's driving me nuts. Am I missing something here?</p>\n"},{"tags":["java","date","data-structures","hashmap","treemap"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677219315,"post_id":75552782,"comment_id":133298300,"body_markdown":"First, use `Instant`for time created. Under no circumstances use `Date`. Use `LocalDate` for a date. See [Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"First, use <code>Instant</code>for time created. Under no circumstances use <code>Date</code>. Use <code>LocalDate</code> for a date. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Date Time</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677219366,"post_id":75552782,"comment_id":133298307,"body_markdown":"May the same list include two or more objects for the same day (depending on time zone)?","body":"May the same list include two or more objects for the same day (depending on time zone)?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677220812,"post_id":75552782,"comment_id":133298554,"body_markdown":"Stream both lists, group by date and apply some method to select which rate object goes into your map. Assuming that `getTimeCreated()` returns an `Instant` as I suggested, a first shot could be `Stream.concat(listP.stream(), listQ.stream()) .collect(Collectors.groupingBy(a -&gt; a.getTimeCreated().atZone(tz).toLocalDate(), Collectors.reducing(null, Test::compareAndSelect)))` ...","body":"Stream both lists, group by date and apply some method to select which rate object goes into your map. Assuming that <code>getTimeCreated()</code> returns an <code>Instant</code> as I suggested, a first shot could be <code>Stream.concat(listP.stream(), listQ.stream()) .collect(Collectors.groupingBy(a -&gt; a.getTimeCreated().atZone(tz).toLocalDate(), Collectors.reducing(null, Test::compareAndSelect)))</code> ..."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677220882,"post_id":75552782,"comment_id":133298564,"body_markdown":"... where `tz` is your time zone, for example `ZoneId tz = ZoneId.systemDefault();`. `Test::compareAndSelect` refers to some `private static A compareAndSelect(A one, A theOther)` that selects between two object references one of which may be null.","body":"... where <code>tz</code> is your time zone, for example <code>ZoneId tz = ZoneId.systemDefault();</code>. <code>Test::compareAndSelect</code> refers to some <code>private static A compareAndSelect(A one, A theOther)</code> that selects between two object references one of which may be null."},{"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"score":0,"creation_date":1677221071,"post_id":75552782,"comment_id":133298590,"body_markdown":"To answer your query, No, it is guaranteed that the same list will have only 1 object per day.","body":"To answer your query, No, it is guaranteed that the same list will have only 1 object per day."},{"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"score":0,"creation_date":1677221778,"post_id":75552782,"comment_id":133298729,"body_markdown":"@OleV.V. How does this work for the objects that are present only in listP or listQ for a given date? In this case, I must be able to select the said object without any comparison (as there is no second object to compare with)","body":"@OleV.V. How does this work for the objects that are present only in listP or listQ for a given date? In this case, I must be able to select the said object without any comparison (as there is no second object to compare with)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677222536,"post_id":75552782,"comment_id":133298842,"body_markdown":"The way I have written the stream, if only you make sure that `compareAndSelect()` returns the non-null object when one of the arguments is null, it works the way you say. It could probably be expressed more elegantly or more clearly ... (I did run it with two lists where one of the lists was empty.)","body":"The way I have written the stream, if only you make sure that <code>compareAndSelect()</code> returns the non-null object when one of the arguments is null, it works the way you say. It could probably be expressed more elegantly or more clearly ... (I did run it with two lists where one of the lists was empty.)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677227146,"post_id":75552782,"comment_id":133299834,"body_markdown":"Alternatively I think you can apply some ideas from [Java 8 streams : Combine properties of two objects which are in ArrayLists into an ArrayList of a third object type](https://stackoverflow.com/questions/52432643/java-8-streams-combine-properties-of-two-objects-which-are-in-arraylists-into).","body":"Alternatively I think you can apply some ideas from <a href=\"https://stackoverflow.com/questions/52432643/java-8-streams-combine-properties-of-two-objects-which-are-in-arraylists-into\">Java 8 streams : Combine properties of two objects which are in ArrayLists into an ArrayList of a third object type</a>."}],"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679624199,"creation_date":1677214883,"question_id":75552782,"body_markdown":"So I have 2 ArrayLists (say listP, listQ) having Objects that look something like this where each object corresponds to one day of rates. These lists are result of querying a db to get data between a particular date frame ( say past 100 days). So list size can be upto 100\r\n```\r\n\r\nClass A{\r\n    private Long rate1;\r\n    private Long rate2;\r\n    private Long timeCreated; //epoch time in seconds\r\n    private Long vCode;\r\n}\r\n```\r\nBoth arraylists have same objects but are seperated by vCode (i.e listP has objects with vCode = 2 and listQ has objects with vCode =3)\r\n\r\nMy end goal is get objects from both listP and listQ for a given day (using the timeCreated field) and compare the rates between the objects from both lists for a given day based on a criteria and create a new map that has one rate object for a given date.\r\n\r\nPoints to note:\r\n\r\n- For a given date (date derived from timeCreated field) , it is not guranteed that both lists will have an object. listP may have an object and listQ might not and viceversa.\r\n- If for a given day, there exits an object from only listP, then I must proceed with those rates and same applies for listQ.\r\n- It is guaranteed that the same list will have only 1 object per day.\r\n\r\nNeed some help on how I can proceed with this.\r\n\r\nMy thoughts :\r\n\r\nI thought of creating a HashMap like map&lt;Date, Object&gt; . Here add all the dates present in listP and listQ and for each date, somehow map the objects from listP and listQ. Is this the right way or if there any better way to do it? How can I achieve this in code?","title":"How to compare 2 list of objects based on date field and create a map of values present","body":"<p>So I have 2 ArrayLists (say listP, listQ) having Objects that look something like this where each object corresponds to one day of rates. These lists are result of querying a db to get data between a particular date frame ( say past 100 days). So list size can be upto 100</p>\n<pre><code>\nClass A{\n    private Long rate1;\n    private Long rate2;\n    private Long timeCreated; //epoch time in seconds\n    private Long vCode;\n}\n</code></pre>\n<p>Both arraylists have same objects but are seperated by vCode (i.e listP has objects with vCode = 2 and listQ has objects with vCode =3)</p>\n<p>My end goal is get objects from both listP and listQ for a given day (using the timeCreated field) and compare the rates between the objects from both lists for a given day based on a criteria and create a new map that has one rate object for a given date.</p>\n<p>Points to note:</p>\n<ul>\n<li>For a given date (date derived from timeCreated field) , it is not guranteed that both lists will have an object. listP may have an object and listQ might not and viceversa.</li>\n<li>If for a given day, there exits an object from only listP, then I must proceed with those rates and same applies for listQ.</li>\n<li>It is guaranteed that the same list will have only 1 object per day.</li>\n</ul>\n<p>Need some help on how I can proceed with this.</p>\n<p>My thoughts :</p>\n<p>I thought of creating a HashMap like map&lt;Date, Object&gt; . Here add all the dates present in listP and listQ and for each date, somehow map the objects from listP and listQ. Is this the right way or if there any better way to do it? How can I achieve this in code?</p>\n"},{"tags":["java","swing","email"],"comments":[{"owner":{"account_id":1044190,"reputation":2567,"user_id":1049527,"accept_rate":96,"display_name":"ZaoTaoBao"},"score":0,"creation_date":1382621061,"post_id":19567128,"comment_id":29037396,"body_markdown":"I try to change the port number...take a look maybe can help you:https://support.google.com/mail/answer/13287?hl=en","body":"I try to change the port number...take a look maybe can help you:<a href=\"https://support.google.com/mail/answer/13287?hl=en\" rel=\"nofollow noreferrer\">support.google.com/mail/answer/13287?hl=en</a>"},{"owner":{"account_id":2487220,"reputation":45,"user_id":2165448,"accept_rate":40,"display_name":"silent_killer"},"score":0,"creation_date":1382941687,"post_id":19567128,"comment_id":29140563,"body_markdown":"I tried changing port number but the same error is thrown.","body":"I tried changing port number but the same error is thrown."}],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382620993,"creation_date":1382620993,"answer_id":19567228,"question_id":19567128,"body_markdown":"Please consider making following changes to your code,\r\n\r\n\r\n\r\n// used &quot;smtps&quot; :) \r\n\r\n    transport = mailSession.getTransport(&quot;smtps&quot;);\r\n\r\n// port 465 worked for authentication and it solved with gmail, yahoo hosts `transport.connect(&quot;smtp.gmail.com&quot;,465,&quot;myid&quot;,&quot;password&quot;);`","title":"Sending mail example using javax.mail","body":"<p>Please consider making following changes to your code,</p>\n\n<p>// used \"smtps\" :) </p>\n\n<pre><code>transport = mailSession.getTransport(\"smtps\");\n</code></pre>\n\n<p>// port 465 worked for authentication and it solved with gmail, yahoo hosts <code>transport.connect(\"smtp.gmail.com\",465,\"myid\",\"password\");</code></p>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565337347,"creation_date":1565285537,"answer_id":57417974,"question_id":19567128,"body_markdown":"JavaMail is the traditional answer for sending email.\r\nPlease note how the `port` and other configuration is set.\r\n\r\nHere is an example to do it.\r\n\r\n    package example.java.mail;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import java.util.*;\r\n    \r\n    public class SendFromGmail {\r\n        public static void main(String args[]){\r\n            try{\r\n                String host = &quot;smtp.gmail.com&quot;;\r\n                String from = &quot;example@gmail.com&quot;;\r\n                String pass = &quot;mypassword123&quot;;\r\n                Properties props = System.getProperties();\r\n                props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n                props.put(&quot;mail.smtp.host&quot;, host);\r\n                props.put(&quot;mail.smtp.user&quot;, from);\r\n                props.put(&quot;mail.smtp.password&quot;, pass);\r\n                props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n                props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \r\n                String[] to = {&quot;example@gmail.com&quot;};\r\n    \r\n                Session session = Session.getDefaultInstance(props, null);\r\n                MimeMessage message = new MimeMessage(session);\r\n                message.setFrom(new InternetAddress(from));\r\n                InternetAddress[] toAddress = new InternetAddress[to.length];\r\n    \r\n                // To get the array of addresses\r\n                for( int i=0; i &lt; to.length; i++ ) { // changed from a while loop\r\n                    toAddress[i] = new InternetAddress(to[i]);\r\n                }\r\n                System.out.println(Message.RecipientType.TO);\r\n    \r\n                for( int i=0; i &lt; toAddress.length; i++) { // changed from a while loop\r\n                    message.addRecipient(Message.RecipientType.TO, toAddress[i]);\r\n                }\r\n                message.setSubject(&quot;sending in a group&quot;);\r\n                message.setText(&quot;Welcome to JavaMail&quot;);\r\n                Transport transport = session.getTransport(&quot;smtp&quot;);\r\n                transport.connect(host, from, pass);\r\n                transport.sendMessage(message, message.getAllRecipients());\r\n                transport.close();\r\n            }\r\n            catch(Exception e){\r\n                e.getMessage();\r\n            }\r\n        }\r\n    }\r\n\r\nCheck out for more [Java mail sending][1] examples.\r\n\r\n\r\n  [1]: https://javatutorial.net/java-send-mail-example","title":"Sending mail example using javax.mail","body":"<p>JavaMail is the traditional answer for sending email.\nPlease note how the <code>port</code> and other configuration is set.</p>\n\n<p>Here is an example to do it.</p>\n\n<pre><code>package example.java.mail;\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport java.util.*;\n\npublic class SendFromGmail {\n    public static void main(String args[]){\n        try{\n            String host = \"smtp.gmail.com\";\n            String from = \"example@gmail.com\";\n            String pass = \"mypassword123\";\n            Properties props = System.getProperties();\n            props.put(\"mail.smtp.starttls.enable\", \"true\");\n            props.put(\"mail.smtp.host\", host);\n            props.put(\"mail.smtp.user\", from);\n            props.put(\"mail.smtp.password\", pass);\n            props.put(\"mail.smtp.port\", \"587\");\n            props.put(\"mail.smtp.auth\", \"true\");\n\n            String[] to = {\"example@gmail.com\"};\n\n            Session session = Session.getDefaultInstance(props, null);\n            MimeMessage message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(from));\n            InternetAddress[] toAddress = new InternetAddress[to.length];\n\n            // To get the array of addresses\n            for( int i=0; i &lt; to.length; i++ ) { // changed from a while loop\n                toAddress[i] = new InternetAddress(to[i]);\n            }\n            System.out.println(Message.RecipientType.TO);\n\n            for( int i=0; i &lt; toAddress.length; i++) { // changed from a while loop\n                message.addRecipient(Message.RecipientType.TO, toAddress[i]);\n            }\n            message.setSubject(\"sending in a group\");\n            message.setText(\"Welcome to JavaMail\");\n            Transport transport = session.getTransport(\"smtp\");\n            transport.connect(host, from, pass);\n            transport.sendMessage(message, message.getAllRecipients());\n            transport.close();\n        }\n        catch(Exception e){\n            e.getMessage();\n        }\n    }\n}\n</code></pre>\n\n<p>Check out for more <a href=\"https://javatutorial.net/java-send-mail-example\" rel=\"nofollow noreferrer\">Java mail sending</a> examples.</p>\n"}],"owner":{"account_id":2487220,"reputation":45,"user_id":2165448,"accept_rate":40,"display_name":"silent_killer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7777,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679623685,"creation_date":1382620779,"question_id":19567128,"body_markdown":"I downloaded the following example:\r\n\r\nhttps://app.box.com/shared/etj0lts287r5lc1hqeex\r\n\r\nWhen I executed the jar file directly, it worked perfectly. But while running the project using  Netbeans 7.0, it is throwing an error:\r\n\r\n    error: could not connect to SMTP host:smtp.gmail.com,port:465\r\n\r\nWhat could be the issue?\r\n\r\nthis is my code on button actionperformed\r\nprivate void sendButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        \r\n        boolean isSent = true;\r\n        \r\n        try {\r\n        \r\n        Properties properties = new Properties();\r\n\tproperties.setProperty(&quot;mail.smtp.submitter&quot;, txtfrom.getText());\r\n\tproperties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\tproperties.setProperty(&quot;mail.smtp.host&quot;, txthostName.getText());    \r\n        properties.put(&quot;mail.smtp.user&quot;, txtfrom.getText());\r\n        properties.put(&quot;mail.smtp.port&quot;, txtPort.getText());\r\n        properties.put(&quot;mail.smtp.socketFactory.port&quot;, txtPort.getText());\r\n        properties.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n        properties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        properties.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\r\n        \r\n        Authenticator mailAuthenticator = new MailAuthenticator();\r\n\tSession mailSession = Session.getDefaultInstance(properties,mailAuthenticator);\r\n        Message message = new MimeMessage(mailSession);\r\n        \r\n        Transport transport = mailSession.getTransport(&quot;smtps&quot;);\r\n        transport.connect(&quot;smtp.gmail.com&quot;,465,&quot;abc@gmail.com&quot;,&quot;12345&quot;);\r\n        \r\n        InternetAddress fromAddress = new InternetAddress(txtfrom.getText());\r\n        InternetAddress toAddress = new InternetAddress(txtto.getText());\r\n        \r\n        message.setFrom(fromAddress);\r\n        message.setRecipient(RecipientType.TO, toAddress);\r\n       \r\n        message.setSubject(txtsubject.getText());\r\n        message.setText(txtcontent.getText());\r\n       \r\n        Transport.send(message);\r\n    \r\n        } catch (Exception e) {\r\n            lblInfo.setText(&quot;ERROR:&quot; + e.getMessage());            \r\n            isSent = false;\r\n        }\r\n        \r\n        if(isSent == true) {\r\n            sendButton.setEnabled(false);\r\n            lblInfo.setText(&quot;Your e-mail has been sent.&quot;); \r\n        } \r\n       \r\n    }     ","title":"Sending mail example using javax.mail","body":"<p>I downloaded the following example:</p>\n\n<p><a href=\"https://app.box.com/shared/etj0lts287r5lc1hqeex\" rel=\"nofollow\">https://app.box.com/shared/etj0lts287r5lc1hqeex</a></p>\n\n<p>When I executed the jar file directly, it worked perfectly. But while running the project using  Netbeans 7.0, it is throwing an error:</p>\n\n<pre><code>error: could not connect to SMTP host:smtp.gmail.com,port:465\n</code></pre>\n\n<p>What could be the issue?</p>\n\n<p>this is my code on button actionperformed\nprivate void sendButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           </p>\n\n<pre><code>    boolean isSent = true;\n\n    try {\n\n    Properties properties = new Properties();\nproperties.setProperty(\"mail.smtp.submitter\", txtfrom.getText());\nproperties.setProperty(\"mail.smtp.auth\", \"true\");\nproperties.setProperty(\"mail.smtp.host\", txthostName.getText());    \n    properties.put(\"mail.smtp.user\", txtfrom.getText());\n    properties.put(\"mail.smtp.port\", txtPort.getText());\n    properties.put(\"mail.smtp.socketFactory.port\", txtPort.getText());\n    properties.put(\"mail.smtp.starttls.enable\",\"true\");\n    properties.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n    properties.put(\"mail.smtp.socketFactory.fallback\", \"false\");\n\n\n    Authenticator mailAuthenticator = new MailAuthenticator();\nSession mailSession = Session.getDefaultInstance(properties,mailAuthenticator);\n    Message message = new MimeMessage(mailSession);\n\n    Transport transport = mailSession.getTransport(\"smtps\");\n    transport.connect(\"smtp.gmail.com\",465,\"abc@gmail.com\",\"12345\");\n\n    InternetAddress fromAddress = new InternetAddress(txtfrom.getText());\n    InternetAddress toAddress = new InternetAddress(txtto.getText());\n\n    message.setFrom(fromAddress);\n    message.setRecipient(RecipientType.TO, toAddress);\n\n    message.setSubject(txtsubject.getText());\n    message.setText(txtcontent.getText());\n\n    Transport.send(message);\n\n    } catch (Exception e) {\n        lblInfo.setText(\"ERROR:\" + e.getMessage());            \n        isSent = false;\n    }\n\n    if(isSent == true) {\n        sendButton.setEnabled(false);\n        lblInfo.setText(\"Your e-mail has been sent.\"); \n    } \n\n}     \n</code></pre>\n"},{"tags":["java","android","button","menu","onclick"],"answers":[{"tags":[],"owner":{"account_id":20843035,"reputation":48,"user_id":15309212,"display_name":"Matt_CV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679623426,"creation_date":1679623426,"answer_id":75829459,"question_id":75101736,"body_markdown":"I&#39;ve finally found a good solution, setting the visibility of the buttons in front to &quot;GONE&quot;:\r\n\r\n    undoRedoGroup.setVisibility(View.GONE);\r\nThis allows the buttons behind them to be clicked, regardless of the position of either buttons.","title":"Android Studio: Chips cannot be clicked after translating them","body":"<p>I've finally found a good solution, setting the visibility of the buttons in front to &quot;GONE&quot;:</p>\n<pre><code>undoRedoGroup.setVisibility(View.GONE);\n</code></pre>\n<p>This allows the buttons behind them to be clicked, regardless of the position of either buttons.</p>\n"}],"owner":{"account_id":20843035,"reputation":48,"user_id":15309212,"display_name":"Matt_CV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75829459,"answer_count":1,"score":0,"last_activity_date":1679623426,"creation_date":1673553913,"question_id":75101736,"body_markdown":"I created an expandable menu which contains a chip group. When this menu is opened or closed there is an &quot;undo&quot; chip and a &quot;redo&quot; chip that are translated up or down when the menu opens or closes. I did this to save space, and avoid having a crowded UI.\r\n\r\nThe problem is when the menu is closed, the undo and redo chips cannot be clicked. I suspect the other chips are blocking them even though they seem to be hidden. What can I do about this?\r\n\r\nMainActivity.java:\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport com.google.android.material.card.MaterialCardView;\r\nimport com.google.android.material.chip.ChipGroup;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private boolean menuIsOpen = true;\r\n    private Button openCloseButton;\r\n    private MaterialCardView menuCard;\r\n    private ChipGroup undoRedoGroup;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        openCloseButton = findViewById(R.id.b_menu_openclose);\r\n        menuCard = findViewById(R.id.menu_card);\r\n        undoRedoGroup = findViewById(R.id.cg_undoredo);\r\n\r\n        openCloseButton.setScaleX(-1.0f);\r\n    }\r\n\r\n    public void onClick_Undo(View view) {\r\n        Log.i(&quot;MainActivity&quot;, &quot;Undo clicked&quot;);\r\n    }\r\n\r\n    public void onClick_Redo(View view) {\r\n        Log.i(&quot;MainActivity&quot;, &quot;Redo clicked&quot;);\r\n    }\r\n\r\n    public void onClick_Chip(View view) {\r\n        Log.i(&quot;MainActivity&quot;, &quot;Chip# clicked&quot;);\r\n    }\r\n\r\n    public void onClick_OpenClose(View view) {\r\n        if(menuIsOpen) closeMenu();\r\n        else openMenu();\r\n\r\n        menuIsOpen = !menuIsOpen;\r\n    }\r\n\r\n    public void openMenu() {\r\n        menuCard.animate().alpha(1f);\r\n        menuCard.animate().scaleX(1.0f);\r\n        menuCard.animate().translationX(0f);\r\n\r\n        undoRedoGroup.animate().translationY(0f);\r\n\r\n        openCloseButton.animate().scaleX(-1.0f);\r\n    }\r\n    public void closeMenu() {\r\n        menuCard.animate().alpha(0f);\r\n        menuCard.animate().scaleX(0f);\r\n        menuCard.animate().translationX(500f);\r\n\r\n        undoRedoGroup.animate().translationY(-140f);\r\n\r\n        openCloseButton.animate().scaleX(1.0f);\r\n    }\r\n}\r\n```\r\n\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:id=&quot;@+id/menu_card&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;24dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/b_menu_openclose&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/b_menu_openclose&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/b_menu_openclose&quot;\r\n        app:strokeColor=&quot;#000000&quot;\r\n        app:strokeWidth=&quot;2dp&quot;&gt;\r\n\r\n        &lt;com.google.android.material.chip.ChipGroup\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;onClick_Chip&quot;\r\n                android:text=&quot;Chip1&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;onClick_Chip&quot;\r\n                android:text=&quot;Chip2&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip3&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;onClick_Chip&quot;\r\n                android:text=&quot;Chip3&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip4&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;onClick_Chip&quot;\r\n                android:text=&quot;Chip4&quot; /&gt;\r\n        &lt;/com.google.android.material.chip.ChipGroup&gt;\r\n\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/b_menu_openclose&quot;\r\n        android:layout_width=&quot;60dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:onClick=&quot;onClick_OpenClose&quot;\r\n        app:icon=&quot;?attr/actionModeCloseDrawable&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.chip.ChipGroup\r\n        android:id=&quot;@+id/cg_undoredo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;25dp&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\r\n\r\n        &lt;com.google.android.material.chip.Chip\r\n            android:id=&quot;@+id/chip_undo&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:onClick=&quot;onClick_Undo&quot;\r\n            android:text=&quot;Undo&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.chip.Chip\r\n            android:id=&quot;@+id/chip_redo&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:onClick=&quot;onClick_Redo&quot;\r\n            android:text=&quot;Redo&quot; /&gt;\r\n    &lt;/com.google.android.material.chip.ChipGroup&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nIf you would like to test this code, I just used an Empty Activity template and API level 32. Also, if there is a better way to create this collapsible menu I would love to hear it.","title":"Android Studio: Chips cannot be clicked after translating them","body":"<p>I created an expandable menu which contains a chip group. When this menu is opened or closed there is an &quot;undo&quot; chip and a &quot;redo&quot; chip that are translated up or down when the menu opens or closes. I did this to save space, and avoid having a crowded UI.</p>\n<p>The problem is when the menu is closed, the undo and redo chips cannot be clicked. I suspect the other chips are blocking them even though they seem to be hidden. What can I do about this?</p>\n<p>MainActivity.java:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\nimport com.google.android.material.card.MaterialCardView;\nimport com.google.android.material.chip.ChipGroup;\n\npublic class MainActivity extends AppCompatActivity {\n    private boolean menuIsOpen = true;\n    private Button openCloseButton;\n    private MaterialCardView menuCard;\n    private ChipGroup undoRedoGroup;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        openCloseButton = findViewById(R.id.b_menu_openclose);\n        menuCard = findViewById(R.id.menu_card);\n        undoRedoGroup = findViewById(R.id.cg_undoredo);\n\n        openCloseButton.setScaleX(-1.0f);\n    }\n\n    public void onClick_Undo(View view) {\n        Log.i(&quot;MainActivity&quot;, &quot;Undo clicked&quot;);\n    }\n\n    public void onClick_Redo(View view) {\n        Log.i(&quot;MainActivity&quot;, &quot;Redo clicked&quot;);\n    }\n\n    public void onClick_Chip(View view) {\n        Log.i(&quot;MainActivity&quot;, &quot;Chip# clicked&quot;);\n    }\n\n    public void onClick_OpenClose(View view) {\n        if(menuIsOpen) closeMenu();\n        else openMenu();\n\n        menuIsOpen = !menuIsOpen;\n    }\n\n    public void openMenu() {\n        menuCard.animate().alpha(1f);\n        menuCard.animate().scaleX(1.0f);\n        menuCard.animate().translationX(0f);\n\n        undoRedoGroup.animate().translationY(0f);\n\n        openCloseButton.animate().scaleX(-1.0f);\n    }\n    public void closeMenu() {\n        menuCard.animate().alpha(0f);\n        menuCard.animate().scaleX(0f);\n        menuCard.animate().translationX(500f);\n\n        undoRedoGroup.animate().translationY(-140f);\n\n        openCloseButton.animate().scaleX(1.0f);\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:id=&quot;@+id/menu_card&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;24dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/b_menu_openclose&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/b_menu_openclose&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/b_menu_openclose&quot;\n        app:strokeColor=&quot;#000000&quot;\n        app:strokeWidth=&quot;2dp&quot;&gt;\n\n        &lt;com.google.android.material.chip.ChipGroup\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginStart=&quot;10dp&quot;&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:onClick=&quot;onClick_Chip&quot;\n                android:text=&quot;Chip1&quot; /&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:onClick=&quot;onClick_Chip&quot;\n                android:text=&quot;Chip2&quot; /&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip3&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:onClick=&quot;onClick_Chip&quot;\n                android:text=&quot;Chip3&quot; /&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip4&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:onClick=&quot;onClick_Chip&quot;\n                android:text=&quot;Chip4&quot; /&gt;\n        &lt;/com.google.android.material.chip.ChipGroup&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/b_menu_openclose&quot;\n        android:layout_width=&quot;60dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:onClick=&quot;onClick_OpenClose&quot;\n        app:icon=&quot;?attr/actionModeCloseDrawable&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;com.google.android.material.chip.ChipGroup\n        android:id=&quot;@+id/cg_undoredo&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;25dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\n\n        &lt;com.google.android.material.chip.Chip\n            android:id=&quot;@+id/chip_undo&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:onClick=&quot;onClick_Undo&quot;\n            android:text=&quot;Undo&quot; /&gt;\n\n        &lt;com.google.android.material.chip.Chip\n            android:id=&quot;@+id/chip_redo&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:onClick=&quot;onClick_Redo&quot;\n            android:text=&quot;Redo&quot; /&gt;\n    &lt;/com.google.android.material.chip.ChipGroup&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>If you would like to test this code, I just used an Empty Activity template and API level 32. Also, if there is a better way to create this collapsible menu I would love to hear it.</p>\n"},{"tags":["java","minecraft","minecraft-commands"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679331322,"post_id":75793095,"comment_id":133698898,"body_markdown":"Can you show the code when you declare the command, and the code for the command ?","body":"Can you show the code when you declare the command, and the code for the command ?"}],"answers":[{"tags":[],"owner":{"account_id":18287309,"reputation":11,"user_id":13314906,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679603671,"creation_date":1679603671,"answer_id":75827764,"question_id":75793095,"body_markdown":"It could be that the plugin prevents the execution from **server** console.\r\n\r\nIf this is true it will not work in a command block either.\r\n\r\nPerhaps you can work around this by using the sudo command of the EssentialsX plugin.\r\n\r\n```\r\n/sudo @p syncaudio &lt;args&gt;\r\n```\r\n\r\nThis executes the command as the closest player to the command block","title":"Minecraft Command works in Console but not in a CommandBlock","body":"<p>It could be that the plugin prevents the execution from <strong>server</strong> console.</p>\n<p>If this is true it will not work in a command block either.</p>\n<p>Perhaps you can work around this by using the sudo command of the EssentialsX plugin.</p>\n<pre><code>/sudo @p syncaudio &lt;args&gt;\n</code></pre>\n<p>This executes the command as the closest player to the command block</p>\n"}],"owner":{"account_id":16514582,"reputation":23,"user_id":11932417,"display_name":"Sebi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679622567,"creation_date":1679330947,"question_id":75793095,"body_markdown":"So I&#39;ve programmed a Plugin for Minecraft. Now I&#39;ve tested the command in the console, it works totaly fine. But when I run the copy pasted command in a CommandBlock, nothing happends and the CommandBlock says: &quot;Unexpected Error occurred trying to execute that command&quot;.\r\nIs there a way to get more Information about that error or to fix that?\r\n\r\n&lt;h1&gt;CommandBlock output and input:&lt;/h1&gt;&lt;br/&gt;\r\n\r\n\r\n[![CommandBlock output and input][1]][1]\r\n\r\n&lt;h1&gt;Command by using the console&lt;/h1&gt;&lt;br/&gt;\r\n\r\n[![Command by using the console][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qy4om.png\r\n  [2]: https://i.stack.imgur.com/05faK.png","title":"Minecraft Command works in Console but not in a CommandBlock","body":"<p>So I've programmed a Plugin for Minecraft. Now I've tested the command in the console, it works totaly fine. But when I run the copy pasted command in a CommandBlock, nothing happends and the CommandBlock says: &quot;Unexpected Error occurred trying to execute that command&quot;.\nIs there a way to get more Information about that error or to fix that?</p>\n<h1>CommandBlock output and input:</h1><br/>\n<p><a href=\"https://i.stack.imgur.com/qy4om.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qy4om.png\" alt=\"CommandBlock output and input\" /></a></p>\n<h1>Command by using the console</h1><br/>\n<p><a href=\"https://i.stack.imgur.com/05faK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/05faK.png\" alt=\"Command by using the console\" /></a></p>\n"},{"tags":["java","windows-7-x64","autoit"],"comments":[{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":5,"creation_date":1486028759,"post_id":41998755,"comment_id":71174231,"body_markdown":"Why do you want to do that? As Admin, I&#39;d kick any developer doing something like that in the balls. Seriously. If you need to keep the Screen unlocked, make the appropriate settings in windows. If your Admin sais you are not allowed to then you need to find a whole different solution anyway. *I consider this a security threat*.","body":"Why do you want to do that? As Admin, I&#39;d kick any developer doing something like that in the balls. Seriously. If you need to keep the Screen unlocked, make the appropriate settings in windows. If your Admin sais you are not allowed to then you need to find a whole different solution anyway. <i>I consider this a security threat</i>."},{"owner":{"account_id":6888440,"reputation":1632,"user_id":5292801,"accept_rate":71,"display_name":"Takarii"},"score":0,"creation_date":1486034853,"post_id":41998755,"comment_id":71178277,"body_markdown":"As Fildor said, there is very little reason to do this and provides an incredible security threat. Seriously consider why you feel the need to do this.","body":"As Fildor said, there is very little reason to do this and provides an incredible security threat. Seriously consider why you feel the need to do this."},{"owner":{"account_id":9808521,"reputation":7,"user_id":7267491,"display_name":"ashvini"},"score":0,"creation_date":1486100907,"post_id":41998755,"comment_id":71209720,"body_markdown":"i wants to automate one application ,which takes 1-2 hrs to complete , upto that time screen gets locked and cant automate further things.also we cant keep server unlocked because of some security reasons so wants to automate through my java code","body":"i wants to automate one application ,which takes 1-2 hrs to complete , upto that time screen gets locked and cant automate further things.also we cant keep server unlocked because of some security reasons so wants to automate through my java code"}],"answers":[{"tags":[],"owner":{"account_id":9026842,"reputation":61,"user_id":6725871,"display_name":"Cealeth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486045784,"creation_date":1486045784,"answer_id":42004833,"question_id":41998755,"body_markdown":"To answer your question; it will work if make the mouse move slower and not &quot;teleport&quot; it with speed 0. Change the speed from 0 to 10.\r\n\r\nBut as others have commented, this script is not a bad method for what you would like use it for.","title":"how to keep windows server awake through java code","body":"<p>To answer your question; it will work if make the mouse move slower and not \"teleport\" it with speed 0. Change the speed from 0 to 10.</p>\n\n<p>But as others have commented, this script is not a bad method for what you would like use it for.</p>\n"}],"owner":{"account_id":9808521,"reputation":7,"user_id":7267491,"display_name":"ashvini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1679622224,"creation_date":1486028544,"question_id":41998755,"body_markdown":"I am trying to Keep unloack the screen of windows server, have used  mousemove()  and below code , but its running only for 20  minutes and syestem gets locked again.\r\n\r\nCode-\r\nautoIt.mouseMove(300, 20, 0);\r\nautoIt.mouseMove(700, 20, 0);","title":"how to keep windows server awake through java code","body":"<p>I am trying to Keep unloack the screen of windows server, have used  mousemove()  and below code , but its running only for 20  minutes and syestem gets locked again.</p>\n\n<p>Code-\nautoIt.mouseMove(300, 20, 0);\nautoIt.mouseMove(700, 20, 0);</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sns"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1671525520,"post_id":74860121,"comment_id":132112514,"body_markdown":"Please see https://stackoverflow.com/questions/45003926/sns-not-able-to-hit-https-endpoint","body":"Please see <a href=\"https://stackoverflow.com/questions/45003926/sns-not-able-to-hit-https-endpoint\" title=\"sns not able to hit https endpoint\">stackoverflow.com/questions/45003926/&hellip;</a>"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1671525787,"post_id":74860121,"comment_id":132112594,"body_markdown":"@JCompetence I already tried the same thing in the answer, except I used `MediaType.TEXT_PLAIN_VALUE` and in the answer, they used `text/plain`, anyway I tried also `text/plain` and it gives me the same issue","body":"@JCompetence I already tried the same thing in the answer, except I used <code>MediaType.TEXT_PLAIN_VALUE</code> and in the answer, they used <code>text&#47;plain</code>, anyway I tried also <code>text&#47;plain</code> and it gives me the same issue"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671541540,"creation_date":1671539704,"answer_id":74863180,"question_id":74860121,"body_markdown":"The problem solved when I used `MediaType.TEXT_PLAIN_VALUE` and `@RequestBody String body`\r\n\r\n\r\n    @PostMapping(value = &quot;/path&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; action(@RequestBody String body) {\r\n","title":"AWS SNS http suscription return &quot;Unsupported Media Type: Content type &#39;text/plain;charset=UTF-8&#39; not supported&quot;","body":"<p>The problem solved when I used <code>MediaType.TEXT_PLAIN_VALUE</code> and <code>@RequestBody String body</code></p>\n<pre><code>@PostMapping(value = &quot;/path&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\npublic ResponseEntity&lt;String&gt; action(@RequestBody String body) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6943747,"reputation":833,"user_id":5329091,"display_name":"Otavio Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679621770,"creation_date":1679621770,"answer_id":75829353,"question_id":74860121,"body_markdown":"Amazon SNS now supports custom `Content-Type` headers for HTTP messages delivered from topics. Here&#39;s the announcement: https://aws.amazon.com/about-aws/whats-new/2023/03/amazon-sns-content-type-request-headers-http-s-notifications/\r\n\r\nYou simply have to modify the `DeliveryPolicy` attribute of your Amazon SNS subscription, setting the `headerContentType` property to `application/json`, `application/xml`, or any other value supported. You can find all values supported here: https://docs.aws.amazon.com/sns/latest/dg/sns-message-delivery-retries.html#creating-delivery-policy\r\n\r\n    {\r\n        &quot;healthyRetryPolicy&quot;: {\r\n            &quot;minDelayTarget&quot;: 1,\r\n            &quot;maxDelayTarget&quot;: 60,\r\n            &quot;numRetries&quot;: 50,\r\n            &quot;numNoDelayRetries&quot;: 3,\r\n            &quot;numMinDelayRetries&quot;: 2,\r\n            &quot;numMaxDelayRetries&quot;: 35,\r\n            &quot;backoffFunction&quot;: &quot;exponential&quot;\r\n        },\r\n        &quot;throttlePolicy&quot;: {\r\n            &quot;maxReceivesPerSecond&quot;: 10\r\n        },\r\n        &quot;requestPolicy&quot;: {\r\n            &quot;headerContentType&quot;: &quot;application/json&quot;\r\n        }\r\n    }\r\n\r\nYou set the `DeliveryPolicy` attribute by calling the `SetSubscriptionAttributes` API action: https://docs.aws.amazon.com/sns/latest/api/API_SetSubscriptionAttributes.html","title":"AWS SNS http suscription return &quot;Unsupported Media Type: Content type &#39;text/plain;charset=UTF-8&#39; not supported&quot;","body":"<p>Amazon SNS now supports custom <code>Content-Type</code> headers for HTTP messages delivered from topics. Here's the announcement: <a href=\"https://aws.amazon.com/about-aws/whats-new/2023/03/amazon-sns-content-type-request-headers-http-s-notifications/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/about-aws/whats-new/2023/03/amazon-sns-content-type-request-headers-http-s-notifications/</a></p>\n<p>You simply have to modify the <code>DeliveryPolicy</code> attribute of your Amazon SNS subscription, setting the <code>headerContentType</code> property to <code>application/json</code>, <code>application/xml</code>, or any other value supported. You can find all values supported here: <a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-message-delivery-retries.html#creating-delivery-policy\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sns/latest/dg/sns-message-delivery-retries.html#creating-delivery-policy</a></p>\n<pre><code>{\n    &quot;healthyRetryPolicy&quot;: {\n        &quot;minDelayTarget&quot;: 1,\n        &quot;maxDelayTarget&quot;: 60,\n        &quot;numRetries&quot;: 50,\n        &quot;numNoDelayRetries&quot;: 3,\n        &quot;numMinDelayRetries&quot;: 2,\n        &quot;numMaxDelayRetries&quot;: 35,\n        &quot;backoffFunction&quot;: &quot;exponential&quot;\n    },\n    &quot;throttlePolicy&quot;: {\n        &quot;maxReceivesPerSecond&quot;: 10\n    },\n    &quot;requestPolicy&quot;: {\n        &quot;headerContentType&quot;: &quot;application/json&quot;\n    }\n}\n</code></pre>\n<p>You set the <code>DeliveryPolicy</code> attribute by calling the <code>SetSubscriptionAttributes</code> API action: <a href=\"https://docs.aws.amazon.com/sns/latest/api/API_SetSubscriptionAttributes.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sns/latest/api/API_SetSubscriptionAttributes.html</a></p>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679621770,"creation_date":1671523904,"question_id":74860121,"body_markdown":"I have an SNS topic and an HTTP subscription, that call a Spring boot endpoint, my endpoint looks like this:\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n        @PostMapping(value = &quot;/path&quot;)\r\n        public ResponseEntity&lt;Void&gt; action(@RequestBody Object body) {\r\n            return ResponseEntity.noContent().build();\r\n        }\r\n    }\r\n\r\nI try to call this endpoint when I publish a message in this topic using AWS CLI like this:\r\n\r\n    aws sns publish --topic-arn arn:aws:sns:eu-west-1:000000000000:MyTopic \\\r\n        --message &#39;{&quot;name&quot;: &quot;test&quot;}&#39; --endpoint-url http://localhost:4566\r\n\r\nbut I got an error:\r\n\r\n    Unsupported Media Type: Content type &#39;text/plain;charset=UTF-8&#39; is not supported\r\n\r\nI add `MediaType.TEXT_PLAIN_VALUE` to my code:\r\n\r\n    @PostMapping(value = &quot;/path&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\r\n\r\nBut I got the same error.\r\n\r\nFor some reason, the topic sends the message using a different `text/plain` media type.\r\n\r\nI learned this [documentation][1], and effectively the message is send using:\r\n   \r\n    ...\r\n    Content-Type: text/plain; charset=UTF-8\r\n    ...\r\n \r\n\r\nMy question is there any way to force the SNS publisher to use `application/json`?\r\n\r\nOr is there any way to solve the issue in my controller?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sns/latest/dg/sns-message-and-json-formats.html","title":"AWS SNS http suscription return &quot;Unsupported Media Type: Content type &#39;text/plain;charset=UTF-8&#39; not supported&quot;","body":"<p>I have an SNS topic and an HTTP subscription, that call a Spring boot endpoint, my endpoint looks like this:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    @PostMapping(value = &quot;/path&quot;)\n    public ResponseEntity&lt;Void&gt; action(@RequestBody Object body) {\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n<p>I try to call this endpoint when I publish a message in this topic using AWS CLI like this:</p>\n<pre><code>aws sns publish --topic-arn arn:aws:sns:eu-west-1:000000000000:MyTopic \\\n    --message '{&quot;name&quot;: &quot;test&quot;}' --endpoint-url http://localhost:4566\n</code></pre>\n<p>but I got an error:</p>\n<pre><code>Unsupported Media Type: Content type 'text/plain;charset=UTF-8' is not supported\n</code></pre>\n<p>I add <code>MediaType.TEXT_PLAIN_VALUE</code> to my code:</p>\n<pre><code>@PostMapping(value = &quot;/path&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\n</code></pre>\n<p>But I got the same error.</p>\n<p>For some reason, the topic sends the message using a different <code>text/plain</code> media type.</p>\n<p>I learned this <a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-message-and-json-formats.html\" rel=\"nofollow noreferrer\">documentation</a>, and effectively the message is send using:</p>\n<pre><code>...\nContent-Type: text/plain; charset=UTF-8\n...\n</code></pre>\n<p>My question is there any way to force the SNS publisher to use <code>application/json</code>?</p>\n<p>Or is there any way to solve the issue in my controller?</p>\n"},{"tags":["java","javafx","media-player","filechooser"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1679621577,"post_id":75829283,"comment_id":133758586,"body_markdown":"First, I recommend reading [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788/6395627). The `InvocationTargetException` is not the important part. The error is saying a `NullPointerException` is being thrown on line `71` of the `MediaPLayerCtrl#handleOpenFile` method, specifically because `this.mediaView` is `null`. As to _why_ that field is `null`, I can&#39;t be sure without a [mre] demonstrating the problem.","body":"First, I recommend reading <a href=\"https://stackoverflow.com/q/3988788/6395627\">What is a stack trace, and how can I use it to debug my application errors?</a>. The <code>InvocationTargetException</code> is not the important part. The error is saying a <code>NullPointerException</code> is being thrown on line <code>71</code> of the <code>MediaPLayerCtrl#handleOpenFile</code> method, specifically because <code>this.mediaView</code> is <code>null</code>. As to <i>why</i> that field is <code>null</code>, I can&#39;t be sure without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679642977,"answer_count":0,"score":0,"last_activity_date":1679621317,"creation_date":1679620842,"question_id":75829283,"body_markdown":"```\r\n@FXML\r\n    private void handleOpenFile() {\r\n        // Create a file chooser dialog and set the initial directory\r\n        FileChooser fileChooser = new FileChooser();\r\n        fileChooser.setInitialDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n\r\n        // Filter for media files\r\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(\r\n                &quot;Media Files (*.mp4, *.mp3, *.wav, *.jpg, *.png)&quot;, &quot;*.mp4&quot;, &quot;*.mp3&quot;, &quot;*.wav&quot;, &quot;*.jpg&quot;, &quot;*.png&quot;);\r\n        fileChooser.getExtensionFilters().add(filter);\r\n\r\n        // Show the file chooser dialog and get the selected file\r\n        Stage stage = (Stage) mediaView.getScene().getWindow();\r\n        File file = fileChooser.showOpenDialog(stage);\r\n\r\n        if (file != null) {\r\n            // Check if the selected file is a media file or an image\r\n            String filename = file.getName();\r\n            String extension = filename.substring(filename.lastIndexOf(&quot;.&quot;) + 1).toLowerCase();\r\n            if (extension.equals(&quot;jpg&quot;) || extension.equals(&quot;png&quot;)) {\r\n                // Display the selected image in the image view\r\n                imageView.setImage(new Image(file.toURI().toString()));\r\n            } else {\r\n                // Create a media player and set it to the media view\r\n                Media media = new Media(file.toURI().toString());\r\n                mediaPlayer = new MediaPlayer(media);\r\n                mediaView.setMediaPlayer(mediaPlayer);\r\n\r\n                // Bind the time slider to the media player&#39;s current time\r\n                mediaPlayer.currentTimeProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                    timeSlider.setValue(newValue.toSeconds());\r\n                });\r\n                mediaPlayer.setOnReady(() -&gt; {\r\n                    timeSlider.setMax(mediaPlayer.getMedia().getDuration().toSeconds());\r\n                    openButton.setDisable(true);\r\n                    openButton.setVisible(false);\r\n                    playButton.setVisible(true);\r\n                    playButton.setDisable(false);\r\n                    timeSlider.setVisible(true);\r\n                    timeSlider.setDisable(false);\r\n                });\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThe method displayed above is supposed to give the user the option to choose a file and handle it based on the format. I have the method binded to a button in the UI and at every press it throws the same InvocationTargetException. This is the extended error message:\r\n\r\n```lang-none\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:116)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t.. 46 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.media.MediaView.getScene()&quot; because &quot;this.mediaView&quot; is null\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.media.MediaView.getScene()&quot; because &quot;this.mediaView&quot; is null\r\n\tat client.scenes.MediaPlayerCtrl.handleOpenFile(MediaPlayerCtrl.java:71)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t.. 53 more\r\n```\r\n\r\nI can&#39;t figure out what is causing the issue on my own as I&#39;m still learning the ropes of JavaFX. Could you guys help?","title":"JavaFX media choosing and displaying method throws InvocationTargetException","body":"<pre><code>@FXML\n    private void handleOpenFile() {\n        // Create a file chooser dialog and set the initial directory\n        FileChooser fileChooser = new FileChooser();\n        fileChooser.setInitialDirectory(new File(System.getProperty(&quot;user.home&quot;)));\n\n        // Filter for media files\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(\n                &quot;Media Files (*.mp4, *.mp3, *.wav, *.jpg, *.png)&quot;, &quot;*.mp4&quot;, &quot;*.mp3&quot;, &quot;*.wav&quot;, &quot;*.jpg&quot;, &quot;*.png&quot;);\n        fileChooser.getExtensionFilters().add(filter);\n\n        // Show the file chooser dialog and get the selected file\n        Stage stage = (Stage) mediaView.getScene().getWindow();\n        File file = fileChooser.showOpenDialog(stage);\n\n        if (file != null) {\n            // Check if the selected file is a media file or an image\n            String filename = file.getName();\n            String extension = filename.substring(filename.lastIndexOf(&quot;.&quot;) + 1).toLowerCase();\n            if (extension.equals(&quot;jpg&quot;) || extension.equals(&quot;png&quot;)) {\n                // Display the selected image in the image view\n                imageView.setImage(new Image(file.toURI().toString()));\n            } else {\n                // Create a media player and set it to the media view\n                Media media = new Media(file.toURI().toString());\n                mediaPlayer = new MediaPlayer(media);\n                mediaView.setMediaPlayer(mediaPlayer);\n\n                // Bind the time slider to the media player's current time\n                mediaPlayer.currentTimeProperty().addListener((observable, oldValue, newValue) -&gt; {\n                    timeSlider.setValue(newValue.toSeconds());\n                });\n                mediaPlayer.setOnReady(() -&gt; {\n                    timeSlider.setMax(mediaPlayer.getMedia().getDuration().toSeconds());\n                    openButton.setDisable(true);\n                    openButton.setVisible(false);\n                    playButton.setVisible(true);\n                    playButton.setDisable(false);\n                    timeSlider.setVisible(true);\n                    timeSlider.setDisable(false);\n                });\n            }\n        }\n    }\n</code></pre>\n<p>The method displayed above is supposed to give the user the option to choose a file and handle it based on the format. I have the method binded to a button in the UI and at every press it throws the same InvocationTargetException. This is the extended error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:116)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\nCaused by: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    .. 46 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.media.MediaView.getScene()&quot; because &quot;this.mediaView&quot; is null\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.media.MediaView.getScene()&quot; because &quot;this.mediaView&quot; is null\n    at client.scenes.MediaPlayerCtrl.handleOpenFile(MediaPlayerCtrl.java:71)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    .. 53 more\n</code></pre>\n<p>I can't figure out what is causing the issue on my own as I'm still learning the ropes of JavaFX. Could you guys help?</p>\n"},{"tags":["java","spring","spring-mvc","resttemplate"],"owner":{"account_id":16777227,"reputation":1,"user_id":12128212,"display_name":"DeepPic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679620736,"creation_date":1679559793,"question_id":75820634,"body_markdown":"i use resttemplate to access servicecomb service(org.apache.servicecomb.provider.springmvc.reference.CseRestTemplate), uri example:\r\ncse://xx:yy/aaa/bbb/ccc\r\nspring 5.2.22.RELEASE will parse empty port in `org.springframework.web.util.UriComponentsBuilder#fromUriString` , using regex `org.springframework.web.util.UriComponentsBuilder#PORT_PATTERN = &quot;(\\\\d*(?:\\\\{[^/]+?\\\\})?)&quot;` cause the regex will match no digits port.\r\n\r\nwhen i upgrade to spring 5.3.23, spring change the regex pattern to &quot;(\\\\{[^}]+\\\\}?|[^/?#]*)&quot;, which will parse the yy to port, and then throw the numberformatexception in `org.springframework.web.util.HierarchicalUriComponents#getPort`\r\n\r\nhow can i slove this problem?\r\n\r\ni turn spring version back to 5.2.22.RELEASE to avoid this problem.\r\nhow can i upgrade spring to 5.3.x and using resttemplate to access servicecomb service normally?","title":"spring-5.3.23-resttemplate-uri-pattern-string-port-servicecomb","body":"<p>i use resttemplate to access servicecomb service(org.apache.servicecomb.provider.springmvc.reference.CseRestTemplate), uri example:\ncse://xx:yy/aaa/bbb/ccc\nspring 5.2.22.RELEASE will parse empty port in <code>org.springframework.web.util.UriComponentsBuilder#fromUriString</code> , using regex <code>org.springframework.web.util.UriComponentsBuilder#PORT_PATTERN = &quot;(\\\\d*(?:\\\\{[^/]+?\\\\})?)&quot;</code> cause the regex will match no digits port.</p>\n<p>when i upgrade to spring 5.3.23, spring change the regex pattern to &quot;(\\{[^}]+\\}?|[^/?#]*)&quot;, which will parse the yy to port, and then throw the numberformatexception in <code>org.springframework.web.util.HierarchicalUriComponents#getPort</code></p>\n<p>how can i slove this problem?</p>\n<p>i turn spring version back to 5.2.22.RELEASE to avoid this problem.\nhow can i upgrade spring to 5.3.x and using resttemplate to access servicecomb service normally?</p>\n"},{"tags":["java","xpath","pmd"],"comments":[{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679015381,"post_id":75759000,"comment_id":133649507,"body_markdown":"Please post a sample of the actual XML. There are a lot of XPath experts on this site, and no doubt plenty of people who know PMD, but they are not all the same people.","body":"Please post a sample of the actual XML. There are a lot of XPath experts on this site, and no doubt plenty of people who know PMD, but they are not all the same people."},{"owner":{"account_id":28034477,"reputation":3,"user_id":21413116,"display_name":"Laschoking"},"score":0,"creation_date":1679133343,"post_id":75759000,"comment_id":133669132,"body_markdown":"@ConalTuohy  I added a very simple example with XML code. However in my use case the expressions could be nested in loops &amp; branches etc. as well.","body":"@ConalTuohy  I added a very simple example with XML code. However in my use case the expressions could be nested in loops &amp; branches etc. as well."},{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679266191,"post_id":75759000,"comment_id":133685908,"body_markdown":"Thanks @Laschoking can you also say what XPath interpreter you have or at least what version of XPath your software supports? The reason I ask is that comparing one AdditiveExpression with another (including all their descendant elements) is relatively easy in later versions of XPath, but if you&#39;re relying on an older XPath interpreter you&#39;d need to compare all the descendant elements in a pair-wise fashion, as well.","body":"Thanks @Laschoking can you also say what XPath interpreter you have or at least what version of XPath your software supports? The reason I ask is that comparing one AdditiveExpression with another (including all their descendant elements) is relatively easy in later versions of XPath, but if you&#39;re relying on an older XPath interpreter you&#39;d need to compare all the descendant elements in a pair-wise fashion, as well."},{"owner":{"account_id":28034477,"reputation":3,"user_id":21413116,"display_name":"Laschoking"},"score":0,"creation_date":1679304402,"post_id":75759000,"comment_id":133690961,"body_markdown":"@ConaTuohy PMD supports three XPath versions: 1.0, 2.0, and 1.0 compatibility mode.","body":"@ConaTuohy PMD supports three XPath versions: 1.0, 2.0, and 1.0 compatibility mode."}],"answers":[{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679620642,"creation_date":1679320376,"answer_id":75791124,"question_id":75759000,"body_markdown":"In XPath 2 you don&#39;t have the handy `deep-equal` function available in version 3 which would allow you to compare two `AdditiveExpression` elements and all their descendants in a single function call. This lack means you have to write something much more verbose, but you could probably get away with something like this:\r\n\r\n```lang-xpath\r\nfor $e1 in //AdditiveExpression return\r\n$e1[\r\n   some $e2 in (//AdditiveExpression except $e1) satisfies \r\n      $e1/@Image = $e2/@Image and \r\n      $e1/PrimaryExpression[1]/PrimaryPrefix/Name/@Image = \r\n         $e2/PrimaryExpression[1]/PrimaryPrefix/Name/@Image and\r\n      $e1/PrimaryExpression[2]/PrimaryPrefix/Name/@Image = \r\n         $e2/PrimaryExpression[2]/PrimaryPrefix/Name/@Image\r\n]\r\n```\r\nThis XPath 2 expression constructs a sequence of elements that are considered to have duplicates like so:\r\n\r\nFor every expression (&#39;`$e1`&#39;) in the set of `AdditiiveExpression` elements, return that `$e1` if the criterion in the predicate (`[` ... `]`) evaluates to `true`, namely, that there&#39;s some other expression (&#39;`$e2`&#39;) which is also one of the `AdditiveExpression` elements but isn&#39;t `$e1`, and which has the same `Image` attribute as the `$e1` expression, and whose child elements have `Image` attributes that match the corresponding child elements of `$e1`. \r\n\r\nI&#39;m not sure what are the important criteria for your two expressions to be considered duplicates; I didn&#39;t compare literally every attribute etc, but this should give you an idea.\r\n","title":"Using XPath in PMD to find duplicate expressions","body":"<p>In XPath 2 you don't have the handy <code>deep-equal</code> function available in version 3 which would allow you to compare two <code>AdditiveExpression</code> elements and all their descendants in a single function call. This lack means you have to write something much more verbose, but you could probably get away with something like this:</p>\n<pre class=\"lang-xpath prettyprint-override\"><code>for $e1 in //AdditiveExpression return\n$e1[\n   some $e2 in (//AdditiveExpression except $e1) satisfies \n      $e1/@Image = $e2/@Image and \n      $e1/PrimaryExpression[1]/PrimaryPrefix/Name/@Image = \n         $e2/PrimaryExpression[1]/PrimaryPrefix/Name/@Image and\n      $e1/PrimaryExpression[2]/PrimaryPrefix/Name/@Image = \n         $e2/PrimaryExpression[2]/PrimaryPrefix/Name/@Image\n]\n</code></pre>\n<p>This XPath 2 expression constructs a sequence of elements that are considered to have duplicates like so:</p>\n<p>For every expression ('<code>$e1</code>') in the set of <code>AdditiiveExpression</code> elements, return that <code>$e1</code> if the criterion in the predicate (<code>[</code> ... <code>]</code>) evaluates to <code>true</code>, namely, that there's some other expression ('<code>$e2</code>') which is also one of the <code>AdditiveExpression</code> elements but isn't <code>$e1</code>, and which has the same <code>Image</code> attribute as the <code>$e1</code> expression, and whose child elements have <code>Image</code> attributes that match the corresponding child elements of <code>$e1</code>.</p>\n<p>I'm not sure what are the important criteria for your two expressions to be considered duplicates; I didn't compare literally every attribute etc, but this should give you an idea.</p>\n"}],"owner":{"account_id":28034477,"reputation":3,"user_id":21413116,"display_name":"Laschoking"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75791124,"answer_count":1,"score":0,"last_activity_date":1679620642,"creation_date":1678984041,"question_id":75759000,"body_markdown":"I want to use PMD to find Common Subexpression of the form \r\n ```\r\nz = a +b;\r\nq = a +b;\r\n``` \r\n \r\nfor Java code.\r\n\r\nI know the CPD tool exists for things like this but there I will also receive copied functions etc. that have matches in the file. I only want to find duplicate expressions that are connected with a Binary Operator. \r\n\r\nWhen analyzing a small code example ```z = a + b``` the following structure appears per BlockStatement:\r\n```\r\n└─ BlockStatement\r\n   └─ Statement\r\n      └─ StatementExpression\r\n         ├─ PrimaryExpression\r\n         │  └─ PrimaryPrefix        //   z \r\n         │     └─ Name\r\n         ├─ AssignmentOperator\r\n         └─ Expression\r\n            └─ AdditiveExpression   //   +\r\n               ├─ PrimaryExpression\r\n               │  └─ PrimaryPrefix  //   a \r\n               │     └─ Name\r\n               └─ PrimaryExpression\r\n                  └─ PrimaryPrefix  //   b\r\n                     └─ Name\r\n```\r\nI know I somehow have to check if the count of an AdditiveExpression appears more than once in my method by I cannot get it working. \r\nOne aspect where I lack understanding is, whether I need to compare all 3 parts of the expression or if I just can compare the inner node AdditiveExpression because from there on the duplicate expressions are the same.\r\n\r\nWrong approaches:\r\n\r\n//AdditiveExpression[count(.) &gt; 0]   \r\n\r\n//AdditiveExpression[.=../../../../BlockStatement/Statement/StatementExpression/Expression]/AdditiveExpression]\r\n\r\n\r\nEdit 1: Adding the XML file for the following java Example:\r\n\r\n```\r\npublic class Example{\r\n    public static void main(final String[] args){\r\n\tint i = 5;\r\n\tint k = 10;\r\n    int z,h;\r\n \tz = i + k;\r\n\th = i + k;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n&lt;CompilationUnit Image=&#39;&#39; PackageName=&#39;&#39; declarationsAreInDefaultPackage=&#39;true&#39;&gt;\r\n    &lt;TypeDeclaration Image=&#39;&#39;&gt;\r\n        &lt;ClassOrInterfaceDeclaration Abstract=&#39;false&#39; BinaryName=&#39;Example&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;Example&#39; Interface=&#39;false&#39; Local=&#39;false&#39; Modifiers=&#39;1&#39; Native=&#39;false&#39; Nested=&#39;false&#39; NonSealed=&#39;false&#39; PackagePrivate=&#39;false&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;true&#39; Sealed=&#39;false&#39; SimpleName=&#39;Example&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeKind=&#39;CLASS&#39; Volatile=&#39;false&#39;&gt;\r\n            &lt;ClassOrInterfaceBody AnonymousInnerClass=&#39;false&#39; EnumChild=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                &lt;ClassOrInterfaceBodyDeclaration AnonymousInnerClass=&#39;false&#39; EnumChild=&#39;false&#39; Image=&#39;&#39; Kind=&#39;METHOD&#39;&gt;\r\n                    &lt;MethodDeclaration Abstract=&#39;false&#39; Arity=&#39;1&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;&#39; InterfaceMember=&#39;false&#39; Kind=&#39;METHOD&#39; MethodName=&#39;main&#39; Modifiers=&#39;17&#39; Name=&#39;main&#39; Native=&#39;false&#39; PackagePrivate=&#39;false&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;true&#39; Static=&#39;true&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; SyntacticallyAbstract=&#39;false&#39; SyntacticallyPublic=&#39;true&#39; Transient=&#39;false&#39; Void=&#39;true&#39; Volatile=&#39;false&#39;&gt;\r\n                        &lt;ResultType Image=&#39;&#39; Void=&#39;true&#39; returnsArray=&#39;false&#39; /&gt;\r\n                        &lt;MethodDeclarator Image=&#39;main&#39; ParameterCount=&#39;1&#39;&gt;\r\n                            &lt;FormalParameters Image=&#39;&#39; ParameterCount=&#39;1&#39; Size=&#39;1&#39;&gt;\r\n                                &lt;FormalParameter Abstract=&#39;false&#39; Array=&#39;true&#39; ArrayDepth=&#39;1&#39; Default=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Final=&#39;true&#39; Image=&#39;&#39; Modifiers=&#39;32&#39; Native=&#39;false&#39; PackagePrivate=&#39;true&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;false&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeInferred=&#39;false&#39; Varargs=&#39;false&#39; Volatile=&#39;false&#39;&gt;\r\n                                    &lt;Type Array=&#39;true&#39; ArrayDepth=&#39;1&#39; ArrayType=&#39;true&#39; Image=&#39;&#39; TypeImage=&#39;String&#39;&gt;\r\n                                        &lt;ReferenceType Array=&#39;true&#39; ArrayDepth=&#39;1&#39; Image=&#39;&#39;&gt;\r\n                                            &lt;ClassOrInterfaceType AnonymousClass=&#39;false&#39; Array=&#39;true&#39; ArrayDepth=&#39;1&#39; Image=&#39;String&#39; ReferenceToClassSameCompilationUnit=&#39;false&#39; /&gt;\r\n                                        &lt;/ReferenceType&gt;\r\n                                    &lt;/Type&gt;\r\n                                    &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;true&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;true&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;true&#39; Image=&#39;args&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;false&#39; Name=&#39;args&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;args&#39; /&gt;\r\n                                &lt;/FormalParameter&gt;\r\n                            &lt;/FormalParameters&gt;\r\n                        &lt;/MethodDeclarator&gt;\r\n                        &lt;Block Image=&#39;&#39; containsComment=&#39;false&#39;&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;LocalVariableDeclaration Abstract=&#39;false&#39; Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;&#39; Modifiers=&#39;0&#39; Native=&#39;false&#39; PackagePrivate=&#39;true&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;false&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;i&#39; Volatile=&#39;false&#39;&gt;\r\n                                    &lt;Type Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; Image=&#39;&#39; TypeImage=&#39;int&#39;&gt;\r\n                                        &lt;PrimitiveType Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Boolean=&#39;false&#39; Image=&#39;int&#39; /&gt;\r\n                                    &lt;/Type&gt;\r\n                                    &lt;VariableDeclarator Image=&#39;&#39; Initializer=&#39;true&#39; Name=&#39;i&#39;&gt;\r\n                                        &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;false&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;false&#39; Image=&#39;i&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;true&#39; Name=&#39;i&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;i&#39; /&gt;\r\n                                        &lt;VariableInitializer Image=&#39;&#39;&gt;\r\n                                            &lt;Expression Image=&#39;&#39; StandAlonePrimitive=&#39;true&#39;&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Literal CharLiteral=&#39;false&#39; DoubleLiteral=&#39;false&#39; EscapedStringLiteral=&#39;5&#39; FloatLiteral=&#39;false&#39; Image=&#39;5&#39; IntLiteral=&#39;true&#39; LongLiteral=&#39;false&#39; SingleCharacterStringLiteral=&#39;false&#39; StringLiteral=&#39;false&#39; TextBlock=&#39;false&#39; TextBlockContent=&#39;5&#39; ValueAsDouble=&#39;NaN&#39; ValueAsFloat=&#39;NaN&#39; ValueAsInt=&#39;5&#39; ValueAsLong=&#39;5&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                            &lt;/Expression&gt;\r\n                                        &lt;/VariableInitializer&gt;\r\n                                    &lt;/VariableDeclarator&gt;\r\n                                &lt;/LocalVariableDeclaration&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;LocalVariableDeclaration Abstract=&#39;false&#39; Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;&#39; Modifiers=&#39;0&#39; Native=&#39;false&#39; PackagePrivate=&#39;true&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;false&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;k&#39; Volatile=&#39;false&#39;&gt;\r\n                                    &lt;Type Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; Image=&#39;&#39; TypeImage=&#39;int&#39;&gt;\r\n                                        &lt;PrimitiveType Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Boolean=&#39;false&#39; Image=&#39;int&#39; /&gt;\r\n                                    &lt;/Type&gt;\r\n                                    &lt;VariableDeclarator Image=&#39;&#39; Initializer=&#39;true&#39; Name=&#39;k&#39;&gt;\r\n                                        &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;false&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;false&#39; Image=&#39;k&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;true&#39; Name=&#39;k&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;k&#39; /&gt;\r\n                                        &lt;VariableInitializer Image=&#39;&#39;&gt;\r\n                                            &lt;Expression Image=&#39;&#39; StandAlonePrimitive=&#39;true&#39;&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Literal CharLiteral=&#39;false&#39; DoubleLiteral=&#39;false&#39; EscapedStringLiteral=&#39;10&#39; FloatLiteral=&#39;false&#39; Image=&#39;10&#39; IntLiteral=&#39;true&#39; LongLiteral=&#39;false&#39; SingleCharacterStringLiteral=&#39;false&#39; StringLiteral=&#39;false&#39; TextBlock=&#39;false&#39; TextBlockContent=&#39;10&#39; ValueAsDouble=&#39;NaN&#39; ValueAsFloat=&#39;NaN&#39; ValueAsInt=&#39;10&#39; ValueAsLong=&#39;10&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                            &lt;/Expression&gt;\r\n                                        &lt;/VariableInitializer&gt;\r\n                                    &lt;/VariableDeclarator&gt;\r\n                                &lt;/LocalVariableDeclaration&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;LocalVariableDeclaration Abstract=&#39;false&#39; Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;&#39; Modifiers=&#39;0&#39; Native=&#39;false&#39; PackagePrivate=&#39;true&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;false&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;z&#39; Volatile=&#39;false&#39;&gt;\r\n                                    &lt;Type Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; Image=&#39;&#39; TypeImage=&#39;int&#39;&gt;\r\n                                        &lt;PrimitiveType Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Boolean=&#39;false&#39; Image=&#39;int&#39; /&gt;\r\n                                    &lt;/Type&gt;\r\n                                    &lt;VariableDeclarator Image=&#39;&#39; Initializer=&#39;false&#39; Name=&#39;z&#39;&gt;\r\n                                        &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;false&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;false&#39; Image=&#39;z&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;true&#39; Name=&#39;z&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;z&#39; /&gt;\r\n                                    &lt;/VariableDeclarator&gt;\r\n                                    &lt;VariableDeclarator Image=&#39;&#39; Initializer=&#39;false&#39; Name=&#39;h&#39;&gt;\r\n                                        &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;false&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;false&#39; Image=&#39;h&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;true&#39; Name=&#39;h&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;h&#39; /&gt;\r\n                                    &lt;/VariableDeclarator&gt;\r\n                                &lt;/LocalVariableDeclaration&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;Statement Image=&#39;&#39;&gt;\r\n                                    &lt;StatementExpression Image=&#39;&#39;&gt;\r\n                                        &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                            &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                &lt;Name Image=&#39;z&#39; /&gt;\r\n                                            &lt;/PrimaryPrefix&gt;\r\n                                        &lt;/PrimaryExpression&gt;\r\n                                        &lt;AssignmentOperator Compound=&#39;false&#39; Image=&#39;=&#39; /&gt;\r\n                                        &lt;Expression Image=&#39;&#39; StandAlonePrimitive=&#39;false&#39;&gt;\r\n                                            &lt;AdditiveExpression Image=&#39;+&#39; Operator=&#39;+&#39;&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Name Image=&#39;i&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Name Image=&#39;k&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                            &lt;/AdditiveExpression&gt;\r\n                                        &lt;/Expression&gt;\r\n                                    &lt;/StatementExpression&gt;\r\n                                &lt;/Statement&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;Statement Image=&#39;&#39;&gt;\r\n                                    &lt;StatementExpression Image=&#39;&#39;&gt;\r\n                                        &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                            &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                &lt;Name Image=&#39;h&#39; /&gt;\r\n                                            &lt;/PrimaryPrefix&gt;\r\n                                        &lt;/PrimaryExpression&gt;\r\n                                        &lt;AssignmentOperator Compound=&#39;false&#39; Image=&#39;=&#39; /&gt;\r\n                                        &lt;Expression Image=&#39;&#39; StandAlonePrimitive=&#39;false&#39;&gt;\r\n                                            &lt;AdditiveExpression Image=&#39;+&#39; Operator=&#39;+&#39;&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Name Image=&#39;i&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Name Image=&#39;k&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                            &lt;/AdditiveExpression&gt;\r\n                                        &lt;/Expression&gt;\r\n                                    &lt;/StatementExpression&gt;\r\n                                &lt;/Statement&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                        &lt;/Block&gt;\r\n                    &lt;/MethodDeclaration&gt;\r\n                &lt;/ClassOrInterfaceBodyDeclaration&gt;\r\n            &lt;/ClassOrInterfaceBody&gt;\r\n        &lt;/ClassOrInterfaceDeclaration&gt;\r\n    &lt;/TypeDeclaration&gt;\r\n&lt;/CompilationUnit&gt;\r\n```\r\n\r\n","title":"Using XPath in PMD to find duplicate expressions","body":"<p>I want to use PMD to find Common Subexpression of the form</p>\n<pre><code>z = a +b;\nq = a +b;\n</code></pre>\n<p>for Java code.</p>\n<p>I know the CPD tool exists for things like this but there I will also receive copied functions etc. that have matches in the file. I only want to find duplicate expressions that are connected with a Binary Operator.</p>\n<p>When analyzing a small code example <code>z = a + b</code> the following structure appears per BlockStatement:</p>\n<pre><code>└─ BlockStatement\n   └─ Statement\n      └─ StatementExpression\n         ├─ PrimaryExpression\n         │  └─ PrimaryPrefix        //   z \n         │     └─ Name\n         ├─ AssignmentOperator\n         └─ Expression\n            └─ AdditiveExpression   //   +\n               ├─ PrimaryExpression\n               │  └─ PrimaryPrefix  //   a \n               │     └─ Name\n               └─ PrimaryExpression\n                  └─ PrimaryPrefix  //   b\n                     └─ Name\n</code></pre>\n<p>I know I somehow have to check if the count of an AdditiveExpression appears more than once in my method by I cannot get it working.\nOne aspect where I lack understanding is, whether I need to compare all 3 parts of the expression or if I just can compare the inner node AdditiveExpression because from there on the duplicate expressions are the same.</p>\n<p>Wrong approaches:</p>\n<p>//AdditiveExpression[count(.) &gt; 0]</p>\n<p>//AdditiveExpression[.=../../../../BlockStatement/Statement/StatementExpression/Expression]/AdditiveExpression]</p>\n<p>Edit 1: Adding the XML file for the following java Example:</p>\n<pre><code>public class Example{\n    public static void main(final String[] args){\n    int i = 5;\n    int k = 10;\n    int z,h;\n    z = i + k;\n    h = i + k;\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;CompilationUnit Image='' PackageName='' declarationsAreInDefaultPackage='true'&gt;\n    &lt;TypeDeclaration Image=''&gt;\n        &lt;ClassOrInterfaceDeclaration Abstract='false' BinaryName='Example' Default='false' Final='false' Image='Example' Interface='false' Local='false' Modifiers='1' Native='false' Nested='false' NonSealed='false' PackagePrivate='false' Private='false' Protected='false' Public='true' Sealed='false' SimpleName='Example' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeKind='CLASS' Volatile='false'&gt;\n            &lt;ClassOrInterfaceBody AnonymousInnerClass='false' EnumChild='false' Image=''&gt;\n                &lt;ClassOrInterfaceBodyDeclaration AnonymousInnerClass='false' EnumChild='false' Image='' Kind='METHOD'&gt;\n                    &lt;MethodDeclaration Abstract='false' Arity='1' Default='false' Final='false' Image='' InterfaceMember='false' Kind='METHOD' MethodName='main' Modifiers='17' Name='main' Native='false' PackagePrivate='false' Private='false' Protected='false' Public='true' Static='true' Strictfp='false' Synchronized='false' SyntacticallyAbstract='false' SyntacticallyPublic='true' Transient='false' Void='true' Volatile='false'&gt;\n                        &lt;ResultType Image='' Void='true' returnsArray='false' /&gt;\n                        &lt;MethodDeclarator Image='main' ParameterCount='1'&gt;\n                            &lt;FormalParameters Image='' ParameterCount='1' Size='1'&gt;\n                                &lt;FormalParameter Abstract='false' Array='true' ArrayDepth='1' Default='false' ExplicitReceiverParameter='false' Final='true' Image='' Modifiers='32' Native='false' PackagePrivate='true' Private='false' Protected='false' Public='false' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeInferred='false' Varargs='false' Volatile='false'&gt;\n                                    &lt;Type Array='true' ArrayDepth='1' ArrayType='true' Image='' TypeImage='String'&gt;\n                                        &lt;ReferenceType Array='true' ArrayDepth='1' Image=''&gt;\n                                            &lt;ClassOrInterfaceType AnonymousClass='false' Array='true' ArrayDepth='1' Image='String' ReferenceToClassSameCompilationUnit='false' /&gt;\n                                        &lt;/ReferenceType&gt;\n                                    &lt;/Type&gt;\n                                    &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='true' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='true' ForeachVariable='false' FormalParameter='true' Image='args' LambdaParameter='false' LocalVariable='false' Name='args' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='args' /&gt;\n                                &lt;/FormalParameter&gt;\n                            &lt;/FormalParameters&gt;\n                        &lt;/MethodDeclarator&gt;\n                        &lt;Block Image='' containsComment='false'&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;LocalVariableDeclaration Abstract='false' Array='false' ArrayDepth='0' Default='false' Final='false' Image='' Modifiers='0' Native='false' PackagePrivate='true' Private='false' Protected='false' Public='false' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeInferred='false' VariableName='i' Volatile='false'&gt;\n                                    &lt;Type Array='false' ArrayDepth='0' ArrayType='false' Image='' TypeImage='int'&gt;\n                                        &lt;PrimitiveType Array='false' ArrayDepth='0' Boolean='false' Image='int' /&gt;\n                                    &lt;/Type&gt;\n                                    &lt;VariableDeclarator Image='' Initializer='true' Name='i'&gt;\n                                        &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='false' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='false' ForeachVariable='false' FormalParameter='false' Image='i' LambdaParameter='false' LocalVariable='true' Name='i' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='i' /&gt;\n                                        &lt;VariableInitializer Image=''&gt;\n                                            &lt;Expression Image='' StandAlonePrimitive='true'&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Literal CharLiteral='false' DoubleLiteral='false' EscapedStringLiteral='5' FloatLiteral='false' Image='5' IntLiteral='true' LongLiteral='false' SingleCharacterStringLiteral='false' StringLiteral='false' TextBlock='false' TextBlockContent='5' ValueAsDouble='NaN' ValueAsFloat='NaN' ValueAsInt='5' ValueAsLong='5' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                            &lt;/Expression&gt;\n                                        &lt;/VariableInitializer&gt;\n                                    &lt;/VariableDeclarator&gt;\n                                &lt;/LocalVariableDeclaration&gt;\n                            &lt;/BlockStatement&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;LocalVariableDeclaration Abstract='false' Array='false' ArrayDepth='0' Default='false' Final='false' Image='' Modifiers='0' Native='false' PackagePrivate='true' Private='false' Protected='false' Public='false' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeInferred='false' VariableName='k' Volatile='false'&gt;\n                                    &lt;Type Array='false' ArrayDepth='0' ArrayType='false' Image='' TypeImage='int'&gt;\n                                        &lt;PrimitiveType Array='false' ArrayDepth='0' Boolean='false' Image='int' /&gt;\n                                    &lt;/Type&gt;\n                                    &lt;VariableDeclarator Image='' Initializer='true' Name='k'&gt;\n                                        &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='false' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='false' ForeachVariable='false' FormalParameter='false' Image='k' LambdaParameter='false' LocalVariable='true' Name='k' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='k' /&gt;\n                                        &lt;VariableInitializer Image=''&gt;\n                                            &lt;Expression Image='' StandAlonePrimitive='true'&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Literal CharLiteral='false' DoubleLiteral='false' EscapedStringLiteral='10' FloatLiteral='false' Image='10' IntLiteral='true' LongLiteral='false' SingleCharacterStringLiteral='false' StringLiteral='false' TextBlock='false' TextBlockContent='10' ValueAsDouble='NaN' ValueAsFloat='NaN' ValueAsInt='10' ValueAsLong='10' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                            &lt;/Expression&gt;\n                                        &lt;/VariableInitializer&gt;\n                                    &lt;/VariableDeclarator&gt;\n                                &lt;/LocalVariableDeclaration&gt;\n                            &lt;/BlockStatement&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;LocalVariableDeclaration Abstract='false' Array='false' ArrayDepth='0' Default='false' Final='false' Image='' Modifiers='0' Native='false' PackagePrivate='true' Private='false' Protected='false' Public='false' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeInferred='false' VariableName='z' Volatile='false'&gt;\n                                    &lt;Type Array='false' ArrayDepth='0' ArrayType='false' Image='' TypeImage='int'&gt;\n                                        &lt;PrimitiveType Array='false' ArrayDepth='0' Boolean='false' Image='int' /&gt;\n                                    &lt;/Type&gt;\n                                    &lt;VariableDeclarator Image='' Initializer='false' Name='z'&gt;\n                                        &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='false' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='false' ForeachVariable='false' FormalParameter='false' Image='z' LambdaParameter='false' LocalVariable='true' Name='z' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='z' /&gt;\n                                    &lt;/VariableDeclarator&gt;\n                                    &lt;VariableDeclarator Image='' Initializer='false' Name='h'&gt;\n                                        &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='false' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='false' ForeachVariable='false' FormalParameter='false' Image='h' LambdaParameter='false' LocalVariable='true' Name='h' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='h' /&gt;\n                                    &lt;/VariableDeclarator&gt;\n                                &lt;/LocalVariableDeclaration&gt;\n                            &lt;/BlockStatement&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;Statement Image=''&gt;\n                                    &lt;StatementExpression Image=''&gt;\n                                        &lt;PrimaryExpression Image=''&gt;\n                                            &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                &lt;Name Image='z' /&gt;\n                                            &lt;/PrimaryPrefix&gt;\n                                        &lt;/PrimaryExpression&gt;\n                                        &lt;AssignmentOperator Compound='false' Image='=' /&gt;\n                                        &lt;Expression Image='' StandAlonePrimitive='false'&gt;\n                                            &lt;AdditiveExpression Image='+' Operator='+'&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Name Image='i' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Name Image='k' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                            &lt;/AdditiveExpression&gt;\n                                        &lt;/Expression&gt;\n                                    &lt;/StatementExpression&gt;\n                                &lt;/Statement&gt;\n                            &lt;/BlockStatement&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;Statement Image=''&gt;\n                                    &lt;StatementExpression Image=''&gt;\n                                        &lt;PrimaryExpression Image=''&gt;\n                                            &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                &lt;Name Image='h' /&gt;\n                                            &lt;/PrimaryPrefix&gt;\n                                        &lt;/PrimaryExpression&gt;\n                                        &lt;AssignmentOperator Compound='false' Image='=' /&gt;\n                                        &lt;Expression Image='' StandAlonePrimitive='false'&gt;\n                                            &lt;AdditiveExpression Image='+' Operator='+'&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Name Image='i' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Name Image='k' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                            &lt;/AdditiveExpression&gt;\n                                        &lt;/Expression&gt;\n                                    &lt;/StatementExpression&gt;\n                                &lt;/Statement&gt;\n                            &lt;/BlockStatement&gt;\n                        &lt;/Block&gt;\n                    &lt;/MethodDeclaration&gt;\n                &lt;/ClassOrInterfaceBodyDeclaration&gt;\n            &lt;/ClassOrInterfaceBody&gt;\n        &lt;/ClassOrInterfaceDeclaration&gt;\n    &lt;/TypeDeclaration&gt;\n&lt;/CompilationUnit&gt;\n</code></pre>\n"},{"tags":["java","database","constants","code-maintainability"],"comments":[{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1292612398,"post_id":4473599,"comment_id":4890568,"body_markdown":"Unrelated to the question, your examples break the Java naming conventions by using double underscores and class names like tbl_Employee. The Java naming conventions are really reasonable and very widely used. You really shouldn&#39;t break them without a serious reason.","body":"Unrelated to the question, your examples break the Java naming conventions by using double underscores and class names like tbl_Employee. The Java naming conventions are really reasonable and very widely used. You really shouldn&#39;t break them without a serious reason."},{"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"score":0,"creation_date":1292616454,"post_id":4473599,"comment_id":4891232,"body_markdown":"@ Sergey Tachenov:  Completely agree, i used this wrong naming convention for sake of example. But it raise one question that how should i name class which define constants for a table because as u said table name convention doesn&#39;t apply to class name convention.","body":"@ Sergey Tachenov:  Completely agree, i used this wrong naming convention for sake of example. But it raise one question that how should i name class which define constants for a table because as u said table name convention doesn&#39;t apply to class name convention."},{"owner":{"account_id":216784,"reputation":12653,"user_id":472226,"accept_rate":73,"display_name":"Ronnis"},"score":0,"creation_date":1292622378,"post_id":4473599,"comment_id":4892184,"body_markdown":"Don&#39;t do this. You are using the database wrong if you feel like you need to solve this.","body":"Don&#39;t do this. You are using the database wrong if you feel like you need to solve this."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292610784,"creation_date":1292610784,"answer_id":4473679,"question_id":4473599,"body_markdown":"When I have meta data about a database, I would store this in the database also. This is how I have seen other system run, if not initially then eventually.  To ensure this data is maintained you could check against the schema of the data base.","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>When I have meta data about a database, I would store this in the database also. This is how I have seen other system run, if not initially then eventually.  To ensure this data is maintained you could check against the schema of the data base.</p>\n"},{"tags":[],"owner":{"account_id":80699,"reputation":1040,"user_id":228016,"display_name":"Jonathan B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292610883,"creation_date":1292610883,"answer_id":4473695,"question_id":4473599,"body_markdown":"Have you considered using an Entity Mapping Framework (like Hibernate)?  \r\n\r\nIt can store all of the database table information (as well as all other DB specific information) in a configuration file.  It also offers a separation layer between &quot;hard&quot; DB design and your application (which would make it easier to absorb changes to either).","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>Have you considered using an Entity Mapping Framework (like Hibernate)?  </p>\n\n<p>It can store all of the database table information (as well as all other DB specific information) in a configuration file.  It also offers a separation layer between \"hard\" DB design and your application (which would make it easier to absorb changes to either).</p>\n"},{"tags":[],"owner":{"account_id":140384,"reputation":542,"user_id":346649,"display_name":"Don"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311277049,"creation_date":1292611134,"answer_id":4473728,"question_id":4473599,"body_markdown":"You could create an interface that defines the constants. \r\n\r\n[Here&#39;s a good example in Android](http://android.git.kernel.org/?p=platform/frameworks/base.git;a=blob;f=core/java/android/provider/ContactsContract.java;h=40a408a12ee8cb98272b2a24ed866ebd9856e985;hb=HEAD). Look for the `DataColumns` interface.","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>You could create an interface that defines the constants. </p>\n\n<p><a href=\"http://android.git.kernel.org/?p=platform/frameworks/base.git;a=blob;f=core/java/android/provider/ContactsContract.java;h=40a408a12ee8cb98272b2a24ed866ebd9856e985;hb=HEAD\" rel=\"nofollow\">Here's a good example in Android</a>. Look for the <code>DataColumns</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1292611200,"creation_date":1292611200,"answer_id":4473736,"question_id":4473599,"body_markdown":"It sounds like you&#39;re asking all the right questions - you want to make the code more maintainable, but realize that this could get unwieldy and end up making the code worse rather than better. Think of something like &quot;Color.RED, Color.BLACK&quot;.\r\n\r\nI&#39;ve found that a *reasonable* amount of constants like this makes the code more readable. I don&#39;t think db column names belong in something like this, because\r\n\r\n - they&#39;re not going to be changed often, or at least they shouldn&#39;t be\r\n \r\n - there&#39;s enough of them that you&#39;ll end with a large list of constants, at which point people stop using them because it&#39;s harder to find the constant than to just look up the damn name in the db.\r\n\r\nI&#39;ve seen db files like this with thousands of constants, including custom queries, parts of queries, etc. etc (even a gem like `public static final String COMMA=&quot;,&quot;;` to take care of the possibility that the spelling of commas will change in the future). At this point they devolve into &quot;use once&quot; strings, and nobody dares to change them. \r\n\r\nOne other caveat about string constants - finals get compiled into your class as strings. So if you recompile the constant class, but not the class that uses the definition, it&#39;s possible to end up with the new definition not propagating. \r\n","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>It sounds like you're asking all the right questions - you want to make the code more maintainable, but realize that this could get unwieldy and end up making the code worse rather than better. Think of something like \"Color.RED, Color.BLACK\".</p>\n\n<p>I've found that a <em>reasonable</em> amount of constants like this makes the code more readable. I don't think db column names belong in something like this, because</p>\n\n<ul>\n<li><p>they're not going to be changed often, or at least they shouldn't be</p></li>\n<li><p>there's enough of them that you'll end with a large list of constants, at which point people stop using them because it's harder to find the constant than to just look up the damn name in the db.</p></li>\n</ul>\n\n<p>I've seen db files like this with thousands of constants, including custom queries, parts of queries, etc. etc (even a gem like <code>public static final String COMMA=\",\";</code> to take care of the possibility that the spelling of commas will change in the future). At this point they devolve into \"use once\" strings, and nobody dares to change them. </p>\n\n<p>One other caveat about string constants - finals get compiled into your class as strings. So if you recompile the constant class, but not the class that uses the definition, it's possible to end up with the new definition not propagating. </p>\n"},{"tags":[],"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292611258,"creation_date":1292611258,"answer_id":4473743,"question_id":4473599,"body_markdown":"On my current project, we are making heavy use of [annotations][1] for a lot of the DB-related metadata because we can&#39;t use a framework like Hibernate.  For actual column constants, yes, we use the tried and true `public static final String`.  And yes, it&#39;s fairly fragile.\r\n\r\n   [1]:http://download.oracle.com/javase/6/docs/technotes/guides/language/annotations.html","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>On my current project, we are making heavy use of <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/language/annotations.html\" rel=\"nofollow\">annotations</a> for a lot of the DB-related metadata because we can't use a framework like Hibernate.  For actual column constants, yes, we use the tried and true <code>public static final String</code>.  And yes, it's fairly fragile.</p>\n"}],"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7222,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4473736,"answer_count":5,"score":8,"last_activity_date":1679619343,"creation_date":1292610212,"question_id":4473599,"body_markdown":"Technology: \r\n- Java 1.5 or 1.6\r\n- Hibernate 3.4\r\n\r\nTo avoid update of column name on multiple places on change of column name or tablename, i want to have a constant file for same.\r\n\r\nI have following queries?\r\n\r\n- One possible solution is to maintain one global file which stores constants for column names of all of tables in database. \r\nlike\r\n \r\n        class DbConstants\r\n        {\r\n                public static final String EMPLOYEE__PERFORMANCE_DESC=&quot;performance_desc&quot;;        \r\n        } \r\n\r\nIn above case employees is name of table and performance_desc is name of column name. \r\nSo kind of `tablename__columnname` format is followed for naming a constant to avoid collision between two constants of two different tables if both have have column name.\r\n\r\nOne problem with this approach i see is that as database grows no of constants in this file will grow to thousands which is difficult to manage. Other problem is if table name is changed, i have to change prefix table name for all of tables. \r\n  \r\n- Suppose if i change name of column in above example from performance_desc to achievements_desc. In this case it is very likely that i will like to change constant also i.e from `EMPLOYEE__PERFORMANCE_DESC` to `EMPLOYEE__ACHIEVEMENT_DESC`. Since in this case i needed to change both column name and constant name i don&#39;t see much use of using constant instead of column name directly in my code although there is one benefit that on change of constant name i can use refraction to reflect constant name name change wherever referenced. \r\nIt seems either there is not much use of using constants or i am using it wrong way.\r\n\r\n\r\n- In project code i have seem people defining one class for each table columns list to define constants as shown  below.\r\n\r\n        public class tbl_Employee\r\n        {\r\n                public static final PERFORMANCE_DESC=performance_desc;\r\n        }    \r\n\r\nthis can solve some of issues with global file like table name change will lead to class name change only.\r\nOne major issue with this is that i am using class  for sole purpose of defining constants which is not good coding practice.\r\n\r\n- Read some where about Enum with value string rather than int not sure is it available in java 1.5 or 1.6 and if its is advisable to use in given scenario.\r\n\r\n- What is best practice for given defining db constants?\r\n\r\n- Is it really useful to use db constants?\r\n\r\n- If i use one class for each table like mentioned above, one problem i face is naming convention. What should be relation between name of table and corresponding class&#39; name which define constants for columns of the table.\r\n\r\n- Above cases covers case for only column names not table name. I may like to use constant rather table name in code so what should be approach for defining constants for table names. \r\n\r\n- It is often argued that table name and column names doesn&#39;t change much once product or related version is released. Changes in table name and column name happen mostly during development phase or feature enhancement (new version). Is it strong argument to avoid using constants for table name or column names?","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>Technology:</p>\n<ul>\n<li>Java 1.5 or 1.6</li>\n<li>Hibernate 3.4</li>\n</ul>\n<p>To avoid update of column name on multiple places on change of column name or tablename, i want to have a constant file for same.</p>\n<p>I have following queries?</p>\n<ul>\n<li><p>One possible solution is to maintain one global file which stores constants for column names of all of tables in database.\nlike</p>\n<pre><code>  class DbConstants\n  {\n          public static final String EMPLOYEE__PERFORMANCE_DESC=&quot;performance_desc&quot;;        \n  } \n</code></pre>\n</li>\n</ul>\n<p>In above case employees is name of table and performance_desc is name of column name.\nSo kind of <code>tablename__columnname</code> format is followed for naming a constant to avoid collision between two constants of two different tables if both have have column name.</p>\n<p>One problem with this approach i see is that as database grows no of constants in this file will grow to thousands which is difficult to manage. Other problem is if table name is changed, i have to change prefix table name for all of tables.</p>\n<ul>\n<li><p>Suppose if i change name of column in above example from performance_desc to achievements_desc. In this case it is very likely that i will like to change constant also i.e from <code>EMPLOYEE__PERFORMANCE_DESC</code> to <code>EMPLOYEE__ACHIEVEMENT_DESC</code>. Since in this case i needed to change both column name and constant name i don't see much use of using constant instead of column name directly in my code although there is one benefit that on change of constant name i can use refraction to reflect constant name name change wherever referenced.\nIt seems either there is not much use of using constants or i am using it wrong way.</p>\n</li>\n<li><p>In project code i have seem people defining one class for each table columns list to define constants as shown  below.</p>\n<pre><code>  public class tbl_Employee\n  {\n          public static final PERFORMANCE_DESC=performance_desc;\n  }    \n</code></pre>\n</li>\n</ul>\n<p>this can solve some of issues with global file like table name change will lead to class name change only.\nOne major issue with this is that i am using class  for sole purpose of defining constants which is not good coding practice.</p>\n<ul>\n<li><p>Read some where about Enum with value string rather than int not sure is it available in java 1.5 or 1.6 and if its is advisable to use in given scenario.</p>\n</li>\n<li><p>What is best practice for given defining db constants?</p>\n</li>\n<li><p>Is it really useful to use db constants?</p>\n</li>\n<li><p>If i use one class for each table like mentioned above, one problem i face is naming convention. What should be relation between name of table and corresponding class' name which define constants for columns of the table.</p>\n</li>\n<li><p>Above cases covers case for only column names not table name. I may like to use constant rather table name in code so what should be approach for defining constants for table names.</p>\n</li>\n<li><p>It is often argued that table name and column names doesn't change much once product or related version is released. Changes in table name and column name happen mostly during development phase or feature enhancement (new version). Is it strong argument to avoid using constants for table name or column names?</p>\n</li>\n</ul>\n"},{"tags":["java","serial-port","hardware"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1679219780,"post_id":75729434,"comment_id":133679085,"body_markdown":"Maybe you need to enable a [flow control](https://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPort.html#setFlowControl-int-)?","body":"Maybe you need to enable a <a href=\"https://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPort.html#setFlowControl-int-\" rel=\"nofollow noreferrer\">flow control</a>?"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1679400732,"post_id":75729434,"comment_id":133711601,"body_markdown":"Do you have any examples of the failed communication? Does the wrong message get sent or recieved? Or is there an exception? ..","body":"Do you have any examples of the failed communication? Does the wrong message get sent or recieved? Or is there an exception? .."},{"owner":{"account_id":12718102,"reputation":1941,"user_id":9239449,"display_name":"Muhammad Faizan"},"score":0,"creation_date":1679484014,"post_id":75729434,"comment_id":133729153,"body_markdown":"@B.Letz no exception, just receive 21 in bytes array","body":"@B.Letz no exception, just receive 21 in bytes array"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":1,"creation_date":1679562599,"post_id":75729434,"comment_id":133744812,"body_markdown":"It kind of sounds to me like the clocks of the two communicating systems are not synchron. So it works for a while, but after some time the clocks are too different and the wrong data is read. The thing speaks against that theory is that you are using 9600 Baud and that is rather slow. So is should have more tolerance.","body":"It kind of sounds to me like the clocks of the two communicating systems are not synchron. So it works for a while, but after some time the clocks are too different and the wrong data is read. The thing speaks against that theory is that you are using 9600 Baud and that is rather slow. So is should have more tolerance."}],"answers":[{"tags":[],"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679618372,"creation_date":1679618372,"answer_id":75829135,"question_id":75729434,"body_markdown":"While there are many possibilities, all the way down to electrical, a common programming reason for errors of this sort is related to incorrect assumptions around how the reading of serial port data works, especially when not using any flow control. \r\n\r\nUsing this line as an example:\r\n\r\n      serialPort.readBytes(ANS_alpha, ANS_alpha.length);\r\n\r\nIf using blocking reads, then this might return before a complete &quot;message&quot; if a timeout occurs. i.e. Sender a little slower than usual. If using non-blocking, this might sometimes return before a complete &quot;message&quot;. Your current logic flushes the receiving buffer before trying to read again. The sender *might* be hanging while trying to send the remaining bytes.\r\n\r\nIf you suspect this might be the problem, then  you would want to change your logic to continue calling readBytes until you know you have a complete message. Another quick check would be to use bytesAvailable/readBytes upon any errors to be sure to clear the sender before trying to read again. And similar, you might try bytesAvailable/readBytes upon connecting before trying to send anything.\r\n\r\nBe sure to review the documentation for [readBytes][1] and check the com port timeout settings. It looks like you do not change the defaults, the defaults *might* be different per operating system.\r\n\r\n  [1]: https://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPort.html#readBytes-byte:A-long-","title":"jSerialComm Java Serial Communication Fails Sometimes","body":"<p>While there are many possibilities, all the way down to electrical, a common programming reason for errors of this sort is related to incorrect assumptions around how the reading of serial port data works, especially when not using any flow control.</p>\n<p>Using this line as an example:</p>\n<pre><code>  serialPort.readBytes(ANS_alpha, ANS_alpha.length);\n</code></pre>\n<p>If using blocking reads, then this might return before a complete &quot;message&quot; if a timeout occurs. i.e. Sender a little slower than usual. If using non-blocking, this might sometimes return before a complete &quot;message&quot;. Your current logic flushes the receiving buffer before trying to read again. The sender <em>might</em> be hanging while trying to send the remaining bytes.</p>\n<p>If you suspect this might be the problem, then  you would want to change your logic to continue calling readBytes until you know you have a complete message. Another quick check would be to use bytesAvailable/readBytes upon any errors to be sure to clear the sender before trying to read again. And similar, you might try bytesAvailable/readBytes upon connecting before trying to send anything.</p>\n<p>Be sure to review the documentation for <a href=\"https://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPort.html#readBytes-byte:A-long-\" rel=\"nofollow noreferrer\">readBytes</a> and check the com port timeout settings. It looks like you do not change the defaults, the defaults <em>might</em> be different per operating system.</p>\n"}],"owner":{"account_id":12718102,"reputation":1941,"user_id":9239449,"display_name":"Muhammad Faizan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679618372,"creation_date":1678772414,"question_id":75729434,"body_markdown":"I am writing a java spring boot service that vends items from a vending machine using serial communication via jSerialComm library. Service sometimes work as expected and vends all items successfully but sometimes it fails to vend items, service is so unpredictable that it may fail at any stage of vending process.\r\n\r\nFollowing is the service code that I have written:\r\n\r\n    package com.intelparcel.java.be.services;\r\n\r\n    import com.fazecast.jSerialComm.SerialPort;\r\n    import com.intelparcel.java.be.models.vend.FailedItemsModel;\r\n    import com.intelparcel.java.be.models.vend.VendRequestItemModel;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Service\r\n    public class VendService {\r\n    private List&lt;FailedItemsModel&gt; failedItems = new ArrayList();\r\n\r\n    public List&lt;FailedItemsModel&gt; vendProducts(List&lt;VendRequestItemModel&gt; data) {\r\n        failedItems.clear();\r\n        SerialPort serialPort = SerialPort.getCommPort(&quot;/dev/ttyUSB0&quot;);\r\n        serialPort.setComPortParameters(9600, 8, 1, SerialPort.NO_PARITY);\r\n\r\n        for (VendRequestItemModel item : data) {\r\n            for (int quantity = 0; quantity &lt; item.getQuantity(); quantity++) {\r\n                openPort(serialPort);\r\n\r\n                String TXBUF = &quot;01C1&quot; + Integer.toHexString(item.getSlot_number());\r\n                System.out.println(TXBUF);\r\n                byte CHK = 0;\r\n                String[] HexValues = new String[TXBUF.length() / 2];\r\n                byte[] ByteValues = new byte[TXBUF.length() / 2];\r\n\r\n                for (int i = 0; i &lt; (TXBUF.length() / 2); i++) {\r\n                    HexValues[i] = TXBUF.substring((2 * i), (2 * i) + 2);\r\n                    ByteValues[i] = (byte) Integer.parseInt(HexValues[i], 16);\r\n                    if (i &gt; 1) {\r\n                        CHK += ByteValues[i];\r\n                    }\r\n                }\r\n\r\n                CHK = (byte) (0 - CHK);\r\n                TXBUF += String.format(&quot;%02X&quot;, CHK) + &quot;&gt;&quot;;\r\n                TXBUF = &quot;&lt;&quot; + TXBUF;\r\n                serialPort.writeBytes(TXBUF.getBytes(), TXBUF.length());\r\n                System.out.println(&quot;Command Sent = &quot; + TXBUF);\r\n\r\n                //---sending command ends here-----\r\n\r\n                try {\r\n                    Thread.sleep(3000);\r\n                    byte[] ANS_alpha = new byte[1024];\r\n                    serialPort.readBytes(ANS_alpha, ANS_alpha.length);\r\n                    logBytes(ANS_alpha);\r\n                    System.out.println(&quot;Initial Response: &quot; + new String(ANS_alpha, \r\n          StandardCharsets.UTF_8));\r\n\r\n                    if (new String(ANS_alpha, \r\n          StandardCharsets.UTF_8).toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\r\n                        flushAndClosePort(serialPort);\r\n                        System.out.println(&quot;Slot is locked&quot;);\r\n                        addFailedItems(item.getSlot_number(), -1, &quot;Slot stuck&quot;);\r\n                        Thread.sleep(5000);\r\n                        continue;\r\n                    }\r\n\r\n                    if (ANS_alpha[0] != 6) {\r\n                        serialPort.flushIOBuffers();\r\n                        flushAndClosePort(serialPort);\r\n                        System.out.println(&quot;Did not receive 6...continuing forward...&quot;);\r\n                        addFailedItems(item.getSlot_number(), -2, &quot;Vending failed, please \r\n          retry&quot;);\r\n                        Thread.sleep(5000);\r\n                        continue;\r\n                    }\r\n\r\n                    int count = 0;\r\n                    while (count &lt;= 10) {\r\n                        System.out.println();\r\n                        System.out.println();\r\n                        System.out.println();\r\n                        byte[] ANS = new byte[1024];\r\n                        serialPort.readBytes(ANS, ANS.length);\r\n                        String decodedResponse = new String(ANS, StandardCharsets.UTF_8);\r\n                        System.out.println(&quot;RESPONSE String: &quot; + decodedResponse);\r\n                        logBytes(ANS);\r\n                        if \r\n         (decodedResponse.toLowerCase().contains(&quot;01c101fe&quot;.toLowerCase()) || \r\n         decodedResponse.toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\r\n                            if (new String(ANS, \r\n         StandardCharsets.UTF_8).toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\r\n                                System.out.println(&quot;Slot locked after vend&quot;);\r\n                            }\r\n                            break;\r\n                        }\r\n                        Thread.sleep(1000);\r\n                        count++;\r\n                    }\r\n                    flushAndClosePort(serialPort);\r\n                    Thread.sleep(5000);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    return failedItems;\r\n                }\r\n            }\r\n        }\r\n        flushAndClosePort(serialPort);\r\n        return failedItems;\r\n    }\r\n\r\n    private void flushAndClosePort(SerialPort serialPort) {\r\n        serialPort.flushIOBuffers();\r\n        serialPort.closePort();\r\n    }\r\n\r\n    private void addFailedItems(int slotNumber, int errorCode, String message) {\r\n        failedItems.add(new FailedItemsModel(slotNumber, errorCode, message));\r\n    }\r\n\r\n    private void openPort(SerialPort serialPort) {\r\n        if (serialPort.isOpen()) {\r\n            flushAndClosePort(serialPort);\r\n        }\r\n        serialPort.flushIOBuffers();\r\n        serialPort.openPort();\r\n    }\r\n\r\n    private void logBytes(byte[] bytesRead) {\r\n            System.out.println(&quot;RAW_BYTES_RECEIVED: &quot;);\r\n            for (byte i : bytesRead) {\r\n                System.out.print(i);\r\n            }\r\n            System.out.println();\r\n            System.out.println();\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nAbove code uses the SerialPort library from fazecast/jSerialComm to handle serial communication with the hardware device. The main function is vendProducts which takes a list of VendRequestItemModel objects as input and returns a list of FailedItemsModel objects.\r\n\r\nThe service loops through the list of VendRequestItemModel objects and for each item, it opens the serial port, constructs a command to vend the product, sends the command to the hardware device, reads the response, and closes the serial port.\r\n\r\nIf the response indicates that the product is successfully vended, the service moves to the next item in the list. If the response indicates that the slot is locked, the service adds the item to the list of failed items and waits for 5 seconds before moving to the next item. If the response indicates that vending failed, the service adds the item to the list of failed items and waits for 5 seconds before moving to the next item. If there is an exception while sending or receiving data from the hardware device, the service catches the exception and returns the list of failed items.\r\n\r\nOne important point though, when this code fails at any stage, machine does not send any response bytes back and then the server and the vending machines needs to be restarted in order for the code to work again but again, after restarting, this code fails on random points during the execution.\r\n\r\n","title":"jSerialComm Java Serial Communication Fails Sometimes","body":"<p>I am writing a java spring boot service that vends items from a vending machine using serial communication via jSerialComm library. Service sometimes work as expected and vends all items successfully but sometimes it fails to vend items, service is so unpredictable that it may fail at any stage of vending process.</p>\n<p>Following is the service code that I have written:</p>\n<pre><code>package com.intelparcel.java.be.services;\n\nimport com.fazecast.jSerialComm.SerialPort;\nimport com.intelparcel.java.be.models.vend.FailedItemsModel;\nimport com.intelparcel.java.be.models.vend.VendRequestItemModel;\nimport org.springframework.stereotype.Service;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class VendService {\nprivate List&lt;FailedItemsModel&gt; failedItems = new ArrayList();\n\npublic List&lt;FailedItemsModel&gt; vendProducts(List&lt;VendRequestItemModel&gt; data) {\n    failedItems.clear();\n    SerialPort serialPort = SerialPort.getCommPort(&quot;/dev/ttyUSB0&quot;);\n    serialPort.setComPortParameters(9600, 8, 1, SerialPort.NO_PARITY);\n\n    for (VendRequestItemModel item : data) {\n        for (int quantity = 0; quantity &lt; item.getQuantity(); quantity++) {\n            openPort(serialPort);\n\n            String TXBUF = &quot;01C1&quot; + Integer.toHexString(item.getSlot_number());\n            System.out.println(TXBUF);\n            byte CHK = 0;\n            String[] HexValues = new String[TXBUF.length() / 2];\n            byte[] ByteValues = new byte[TXBUF.length() / 2];\n\n            for (int i = 0; i &lt; (TXBUF.length() / 2); i++) {\n                HexValues[i] = TXBUF.substring((2 * i), (2 * i) + 2);\n                ByteValues[i] = (byte) Integer.parseInt(HexValues[i], 16);\n                if (i &gt; 1) {\n                    CHK += ByteValues[i];\n                }\n            }\n\n            CHK = (byte) (0 - CHK);\n            TXBUF += String.format(&quot;%02X&quot;, CHK) + &quot;&gt;&quot;;\n            TXBUF = &quot;&lt;&quot; + TXBUF;\n            serialPort.writeBytes(TXBUF.getBytes(), TXBUF.length());\n            System.out.println(&quot;Command Sent = &quot; + TXBUF);\n\n            //---sending command ends here-----\n\n            try {\n                Thread.sleep(3000);\n                byte[] ANS_alpha = new byte[1024];\n                serialPort.readBytes(ANS_alpha, ANS_alpha.length);\n                logBytes(ANS_alpha);\n                System.out.println(&quot;Initial Response: &quot; + new String(ANS_alpha, \n      StandardCharsets.UTF_8));\n\n                if (new String(ANS_alpha, \n      StandardCharsets.UTF_8).toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\n                    flushAndClosePort(serialPort);\n                    System.out.println(&quot;Slot is locked&quot;);\n                    addFailedItems(item.getSlot_number(), -1, &quot;Slot stuck&quot;);\n                    Thread.sleep(5000);\n                    continue;\n                }\n\n                if (ANS_alpha[0] != 6) {\n                    serialPort.flushIOBuffers();\n                    flushAndClosePort(serialPort);\n                    System.out.println(&quot;Did not receive 6...continuing forward...&quot;);\n                    addFailedItems(item.getSlot_number(), -2, &quot;Vending failed, please \n      retry&quot;);\n                    Thread.sleep(5000);\n                    continue;\n                }\n\n                int count = 0;\n                while (count &lt;= 10) {\n                    System.out.println();\n                    System.out.println();\n                    System.out.println();\n                    byte[] ANS = new byte[1024];\n                    serialPort.readBytes(ANS, ANS.length);\n                    String decodedResponse = new String(ANS, StandardCharsets.UTF_8);\n                    System.out.println(&quot;RESPONSE String: &quot; + decodedResponse);\n                    logBytes(ANS);\n                    if \n     (decodedResponse.toLowerCase().contains(&quot;01c101fe&quot;.toLowerCase()) || \n     decodedResponse.toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\n                        if (new String(ANS, \n     StandardCharsets.UTF_8).toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\n                            System.out.println(&quot;Slot locked after vend&quot;);\n                        }\n                        break;\n                    }\n                    Thread.sleep(1000);\n                    count++;\n                }\n                flushAndClosePort(serialPort);\n                Thread.sleep(5000);\n            } catch (Exception e) {\n                e.printStackTrace();\n                return failedItems;\n            }\n        }\n    }\n    flushAndClosePort(serialPort);\n    return failedItems;\n}\n\nprivate void flushAndClosePort(SerialPort serialPort) {\n    serialPort.flushIOBuffers();\n    serialPort.closePort();\n}\n\nprivate void addFailedItems(int slotNumber, int errorCode, String message) {\n    failedItems.add(new FailedItemsModel(slotNumber, errorCode, message));\n}\n\nprivate void openPort(SerialPort serialPort) {\n    if (serialPort.isOpen()) {\n        flushAndClosePort(serialPort);\n    }\n    serialPort.flushIOBuffers();\n    serialPort.openPort();\n}\n\nprivate void logBytes(byte[] bytesRead) {\n        System.out.println(&quot;RAW_BYTES_RECEIVED: &quot;);\n        for (byte i : bytesRead) {\n            System.out.print(i);\n        }\n        System.out.println();\n        System.out.println();\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Above code uses the SerialPort library from fazecast/jSerialComm to handle serial communication with the hardware device. The main function is vendProducts which takes a list of VendRequestItemModel objects as input and returns a list of FailedItemsModel objects.</p>\n<p>The service loops through the list of VendRequestItemModel objects and for each item, it opens the serial port, constructs a command to vend the product, sends the command to the hardware device, reads the response, and closes the serial port.</p>\n<p>If the response indicates that the product is successfully vended, the service moves to the next item in the list. If the response indicates that the slot is locked, the service adds the item to the list of failed items and waits for 5 seconds before moving to the next item. If the response indicates that vending failed, the service adds the item to the list of failed items and waits for 5 seconds before moving to the next item. If there is an exception while sending or receiving data from the hardware device, the service catches the exception and returns the list of failed items.</p>\n<p>One important point though, when this code fails at any stage, machine does not send any response bytes back and then the server and the vending machines needs to be restarted in order for the code to work again but again, after restarting, this code fails on random points during the execution.</p>\n"},{"tags":["java","encryption","rsa"],"comments":[{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":1,"creation_date":1423596770,"post_id":28440076,"comment_id":45210011,"body_markdown":"What do you mean? If you replicate the above code multiple times, the same key is generated? Are you asking how to replicate the code?","body":"What do you mean? If you replicate the above code multiple times, the same key is generated? Are you asking how to replicate the code?"},{"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"score":0,"creation_date":1423600125,"post_id":28440076,"comment_id":45211988,"body_markdown":"Really you think that ? :D I want unique keys mate. Every time I run above code, Output is same key pair. I want Different key pair for different users.","body":"Really you think that ? :D I want unique keys mate. Every time I run above code, Output is same key pair. I want Different key pair for different users."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":2,"creation_date":1423600872,"post_id":28440076,"comment_id":45212383,"body_markdown":"The highest priority SecureRandom provider seems to be malicious if it produces the same number over and over again.","body":"The highest priority SecureRandom provider seems to be malicious if it produces the same number over and over again."},{"owner":{"account_id":1542133,"reputation":6307,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"score":2,"creation_date":1423611963,"post_id":28440076,"comment_id":45217712,"body_markdown":"Perhaps nobody believes that if you execute the provided code multiple times that it will repeatedly produce the same keys. You are more likely to get help if you can provide additional code that clearly demonstrates the problem and clearly state what the code produces and what you want it to produce.","body":"Perhaps nobody believes that if you execute the provided code multiple times that it will repeatedly produce the same keys. You are more likely to get help if you can provide additional code that clearly demonstrates the problem and clearly state what the code produces and what you want it to produce."},{"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"score":0,"creation_date":1423633140,"post_id":28440076,"comment_id":45223423,"body_markdown":"@ArtjomB. If you are right than how can I fix thhat ?? I am runnig this on latest version of Java with updated NetBeans IDE.","body":"@ArtjomB. If you are right than how can I fix thhat ?? I am runnig this on latest version of Java with updated NetBeans IDE."},{"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"score":0,"creation_date":1423633206,"post_id":28440076,"comment_id":45223439,"body_markdown":"@Rob yes Rob you got it. added note to my question with a scenario.","body":"@Rob yes Rob you got it. added note to my question with a scenario."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423681929,"creation_date":1423614326,"answer_id":28444439,"question_id":28440076,"body_markdown":"Here&#39;s a simple test that works fine on my system. Try it and post your results in your question.\r\n\r\n    import java.math.BigInteger;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.SecureRandom;\r\n\r\n    final class UniqueKey\r\n    {\r\n    \r\n      public static void main(String... argv)\r\n        throws Exception\r\n      {\r\n        SecureRandom gen = new SecureRandom();\r\n        System.out.println(gen.getProvider());\r\n        System.out.println(gen.getAlgorithm());\r\n        KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        keyGen.initialize(2048);\r\n        System.out.println(keyGen.getProvider().getName());\r\n        for (String user : new String[]{&quot;A&quot;, &quot;B&quot;}) {\r\n          KeyPair pair = keyGen.genKeyPair();\r\n          String pub = getHexString(pair.getPublic().getEncoded());\r\n          System.out.printf(&quot;Public Key of %s: %s%n&quot;, user, pub);\r\n        }\r\n      }\r\n    \r\n      private static String getHexString(byte[] arr)\r\n      {\r\n        return new BigInteger(arr).toString(16).toUpperCase();\r\n      }\r\n    \r\n    }\r\n\r\n\r\nMy results from a trial:\r\n\r\n&lt;pre&gt;\r\nSUN version 1.8\r\nNativePRNG\r\nSunRsaSign\r\nPublic Key of A: 30820122300D06092A864886F70D01010105000382010F003082010A02820101009EEE0526A9EBA8E2CCA4CE7FFAB78257F8275EB36DCBFADB9488939455BD4303804DEBFB2D544983CE8D12511042A20370CAE3E440EAA8873448DB68A4ACDD2C63D309B9550A2B3A2D2AF94E9F879F1DE120FFA061534EA6F5D72A32F064739562E9A6032DC0598A6750AF4CF1CDC0A214A4F9E514171DC847CBA2CDA3F95046EA74F67039806994789D8F0B2BE8539F597F97321C5387F5B51FFB5D5CE1271F216C790AC1D6885A8DE043BEAFD123CFD77B560F8B1FCFA4EF542C3205233A4FFFF151950E1278FC6C7CEA0C66992A58A0823CF5209AFEDEAAA201CB40977019F2988AFFDA4DA6B0E7933A9E5A3087C1CEF3D0BAD95FC776B974D6EC25B2E6EB0203010001\r\nPublic Key of B: 30820122300D06092A864886F70D01010105000382010F003082010A028201010096BE6F281FD41D0F282F3162ECC0225D973630D2582004D8C1A80BB97C7F959372892C653D7FD29AC1D25EA563139F49073E32182CA8CDF429FBEF67423A701B6C6A9B0A3C9F95CBF6D09F7E54D0F6C3E239BC40AFF877687FCF0B0E88B69A4693E3BC28BED6FEBED0C6CEAE744D712EC24E3809830687D982689F729A3B9AB711945BEBCB55BA780849071F6D0ED26563E5D26BCF6C72327DB2F41459E8879631722DEA0652B8AD4D7FA32F2A981D6B24D6EF7F8C72F784C5894A5B39092489380EF9A12734E30BE2B1A6FE0652CF43B33574650F66C27F49031DDC2FC3D6E8A54C1C6811710FEDFAC41DF69D3D7DE82E7C7409C85DF6836DFB87B6289406670203010001\r\n&lt;/pre&gt;\r\n","title":"Creating Unique RSA Key pairs (More than one pairs)","body":"<p>Here's a simple test that works fine on my system. Try it and post your results in your question.</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.SecureRandom;\n\nfinal class UniqueKey\n{\n\n  public static void main(String... argv)\n    throws Exception\n  {\n    SecureRandom gen = new SecureRandom();\n    System.out.println(gen.getProvider());\n    System.out.println(gen.getAlgorithm());\n    KeyPairGenerator keyGen = KeyPairGenerator.getInstance(\"RSA\");\n    keyGen.initialize(2048);\n    System.out.println(keyGen.getProvider().getName());\n    for (String user : new String[]{\"A\", \"B\"}) {\n      KeyPair pair = keyGen.genKeyPair();\n      String pub = getHexString(pair.getPublic().getEncoded());\n      System.out.printf(\"Public Key of %s: %s%n\", user, pub);\n    }\n  }\n\n  private static String getHexString(byte[] arr)\n  {\n    return new BigInteger(arr).toString(16).toUpperCase();\n  }\n\n}\n</code></pre>\n\n<p>My results from a trial:</p>\n\n<pre>\nSUN version 1.8\nNativePRNG\nSunRsaSign\nPublic Key of A: 30820122300D06092A864886F70D01010105000382010F003082010A02820101009EEE0526A9EBA8E2CCA4CE7FFAB78257F8275EB36DCBFADB9488939455BD4303804DEBFB2D544983CE8D12511042A20370CAE3E440EAA8873448DB68A4ACDD2C63D309B9550A2B3A2D2AF94E9F879F1DE120FFA061534EA6F5D72A32F064739562E9A6032DC0598A6750AF4CF1CDC0A214A4F9E514171DC847CBA2CDA3F95046EA74F67039806994789D8F0B2BE8539F597F97321C5387F5B51FFB5D5CE1271F216C790AC1D6885A8DE043BEAFD123CFD77B560F8B1FCFA4EF542C3205233A4FFFF151950E1278FC6C7CEA0C66992A58A0823CF5209AFEDEAAA201CB40977019F2988AFFDA4DA6B0E7933A9E5A3087C1CEF3D0BAD95FC776B974D6EC25B2E6EB0203010001\nPublic Key of B: 30820122300D06092A864886F70D01010105000382010F003082010A028201010096BE6F281FD41D0F282F3162ECC0225D973630D2582004D8C1A80BB97C7F959372892C653D7FD29AC1D25EA563139F49073E32182CA8CDF429FBEF67423A701B6C6A9B0A3C9F95CBF6D09F7E54D0F6C3E239BC40AFF877687FCF0B0E88B69A4693E3BC28BED6FEBED0C6CEAE744D712EC24E3809830687D982689F729A3B9AB711945BEBCB55BA780849071F6D0ED26563E5D26BCF6C72327DB2F41459E8879631722DEA0652B8AD4D7FA32F2A981D6B24D6EF7F8C72F784C5894A5B39092489380EF9A12734E30BE2B1A6FE0652CF43B33574650F66C27F49031DDC2FC3D6E8A54C1C6811710FEDFAC41DF69D3D7DE82E7C7409C85DF6836DFB87B6289406670203010001\n</pre>\n"},{"tags":[],"owner":{"account_id":28080783,"reputation":1,"user_id":21451917,"display_name":"Muthu Palaniyappan OL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679618206,"creation_date":1679618206,"answer_id":75829124,"question_id":28440076,"body_markdown":"    generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    generator.initialize(2048, new SecureRandom());\r\n    Keypair kp1 = generator.generateKeyPair(); // key pair 1\r\n    Keypair kp2 = generator.generateKeyPair(); // another key pair\r\n\r\nKey pair generated like this will be unique. Remember dont initialize\r\ntwice just generate the keypair more than once.","title":"Creating Unique RSA Key pairs (More than one pairs)","body":"<pre><code>generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\ngenerator.initialize(2048, new SecureRandom());\nKeypair kp1 = generator.generateKeyPair(); // key pair 1\nKeypair kp2 = generator.generateKeyPair(); // another key pair\n</code></pre>\n<p>Key pair generated like this will be unique. Remember dont initialize\ntwice just generate the keypair more than once.</p>\n"}],"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2333,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679618206,"creation_date":1423596137,"question_id":28440076,"body_markdown":"I am doing RSA key pair generation in my code. I am also able to do encryption and decryption using this code. What I need is unique key pairs for each user. \r\nIn my application there will be multiple users. I want to assign these Key pairs to different users so that they can use it for encryption and decryption via my application. \r\n\r\nCurrently I am using below Code  to produce my RSA Public and Private Key pair.\r\n\r\n\r\n    RSAKeyPairGenerator adam = new RSAKeyPairGenerator();\r\n\t\t\r\n    try {\r\n\r\n\t\t\tString path = &quot;C:\\\\Users\\\\Dream\\\\Documents\\\\NetBeansProjects\\\\ABEPHR\\\\web\\\\KeyFiles&quot;;\r\n\r\n\t\t\tKeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n                        \r\n\t\t\tkeyGen.initialize(1024);\r\n\t\t\tKeyPair generatedKeyPair = keyGen.genKeyPair();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tPublicKey pub = generatedKeyPair.getPublic();\r\n\t\t\tSystem.out.println(&quot;Public Key: &quot; + getHexString(pub.getEncoded()));\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tPrivateKey priv = generatedKeyPair.getPrivate();\r\n\t\t\tSystem.out.println(&quot;Private Key: &quot; + getHexString(priv.getEncoded()));\r\n\r\n\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\nThis code can give me only one pair of RSA keys. How can I get more than one pair ?\r\n\r\n**++ Note :**\r\n So many people suggesting me to add Loop here. To be clear, I cant add loop to my code as this code will be run on server for each user (within JSP). \r\n\r\nLets me explain by one example:\r\nSuppose I have 3 users Users A, B and C. Now after validating credentials, whenever user A comes to this page (page containing above code) , This page should generate a Unique Key pair for User A. Later user A can store this Key for future use.\r\nNow When User B login with his Credentials, than he also land in same page with above code. But Above code doesn&#39;t give me different Public Key and Private Key pair. So here I am getting same RSA key pair as it was there in case of User A.\r\nSame case is happening with User C also. \r\n\r\nHope this clear my question now. As suggested by below, I also try to execute above code in loop . In each iteration, Code is giving me same Key pairs. I also try to encrypt msg with public key generated in first iteration and try to decrypt it with private key generated in second iteration. The msg is successfully got decrypted.   \r\n\r\nI want to know, am I missing something in attempt to get unique RSA key pairs ?     \r\n","title":"Creating Unique RSA Key pairs (More than one pairs)","body":"<p>I am doing RSA key pair generation in my code. I am also able to do encryption and decryption using this code. What I need is unique key pairs for each user. \nIn my application there will be multiple users. I want to assign these Key pairs to different users so that they can use it for encryption and decryption via my application. </p>\n\n<p>Currently I am using below Code  to produce my RSA Public and Private Key pair.</p>\n\n<pre><code>RSAKeyPairGenerator adam = new RSAKeyPairGenerator();\n\ntry {\n\n        String path = \"C:\\\\Users\\\\Dream\\\\Documents\\\\NetBeansProjects\\\\ABEPHR\\\\web\\\\KeyFiles\";\n\n        KeyPairGenerator keyGen = KeyPairGenerator.getInstance(\"RSA\");\n\n        keyGen.initialize(1024);\n        KeyPair generatedKeyPair = keyGen.genKeyPair();\n\n\n        PublicKey pub = generatedKeyPair.getPublic();\n        System.out.println(\"Public Key: \" + getHexString(pub.getEncoded()));\n\n\n        PrivateKey priv = generatedKeyPair.getPrivate();\n        System.out.println(\"Private Key: \" + getHexString(priv.getEncoded()));\n\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return;\n    }\n</code></pre>\n\n<p>This code can give me only one pair of RSA keys. How can I get more than one pair ?</p>\n\n<p><strong>++ Note :</strong>\n So many people suggesting me to add Loop here. To be clear, I cant add loop to my code as this code will be run on server for each user (within JSP). </p>\n\n<p>Lets me explain by one example:\nSuppose I have 3 users Users A, B and C. Now after validating credentials, whenever user A comes to this page (page containing above code) , This page should generate a Unique Key pair for User A. Later user A can store this Key for future use.\nNow When User B login with his Credentials, than he also land in same page with above code. But Above code doesn't give me different Public Key and Private Key pair. So here I am getting same RSA key pair as it was there in case of User A.\nSame case is happening with User C also. </p>\n\n<p>Hope this clear my question now. As suggested by below, I also try to execute above code in loop . In each iteration, Code is giving me same Key pairs. I also try to encrypt msg with public key generated in first iteration and try to decrypt it with private key generated in second iteration. The msg is successfully got decrypted.   </p>\n\n<p>I want to know, am I missing something in attempt to get unique RSA key pairs ?     </p>\n"},{"tags":["java","jms","activemq","spring-jms","failover"],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679616488,"creation_date":1484166606,"answer_id":41600135,"question_id":41483852,"body_markdown":"NOTE: In 5.16.5 and newer, ActiveMQ client jar, the failover transport will bubble up the MaxFrameSizeException to clients!\r\n\r\nI don&#39;t believe it is possible. You are trying to classify error handling for an exception that won&#39;t bubble up past the failover: transport. The same type of exception could occur if you exceed the max client count.\r\n\r\nChecking the message size before sending sounds like a workable option. \r\n\r\nIs there a reason size checking would not meet your requirement?\r\n\r\n    public String mySendMessage(String body) {\r\n    ....\r\n    if(body.length &gt; MAX_ALLOWED) .. \r\n       throw new Exception.. or log.. or other\r\n    else\r\n       producer.send(session.createTextMessage(body));\r\n\r\n\r\n","title":"How to handle Activemq&#39;s max frame size exception with failover transport","body":"<p>NOTE: In 5.16.5 and newer, ActiveMQ client jar, the failover transport will bubble up the MaxFrameSizeException to clients!</p>\n<p>I don't believe it is possible. You are trying to classify error handling for an exception that won't bubble up past the failover: transport. The same type of exception could occur if you exceed the max client count.</p>\n<p>Checking the message size before sending sounds like a workable option.</p>\n<p>Is there a reason size checking would not meet your requirement?</p>\n<pre><code>public String mySendMessage(String body) {\n....\nif(body.length &gt; MAX_ALLOWED) .. \n   throw new Exception.. or log.. or other\nelse\n   producer.send(session.createTextMessage(body));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1484574092,"creation_date":1484403962,"answer_id":41651038,"question_id":41483852,"body_markdown":"As you said this way\r\n \r\n&gt; maxReconnectAttempts\r\n&gt; -1 | 0 From ActiveMQ 5.6: default is -1, retry forever. 0 means disables re-connection, e.g: just try to connect once. Before ActiveMQ\r\n&gt; 5.6: default is 0, retry forever.  All ActiveMQ versions: a value &gt;0 denotes the maximum number of reconnect attempts before an error is\r\n&gt; sent back to the client.\r\n\r\nSo if you want your transport listener to be notified of transport failure after failing retries due to the size of your message you need to set maxReconnectAttempts to a value &gt; 0 after that when the max retries reached the method onException of your transport listener will be called with IOException as parameter but as you said it is not easy to verify if it is due to max size or another issue.\r\n\r\n**If you want to check message size** as proposed before sending you can get maxFrameSize configured in the uri on the broker side at runtime by accessing it by jmx and get a BrokerViewMBean instance and call getTransportConnectorByType method  [http://activemq.apache.org/maven/apidocs/src-html/org/apache/activemq/broker/jmx/BrokerViewMBean.html#line.304][1] this will return the uri configured in activemq.xml which you can parse to retrieve maxFrameSize.\r\n\r\n\r\n    JMXServiceURL url = new     JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://hist:1099/jmxrmi&quot;);\r\n    JMXConnector jmxc = JMXConnectorFactory.connect(url);\r\n    MBeanServerConnection conn = jmxc.getMBeanServerConnection(); \r\n    \r\n    ObjectName activeMq = new ObjectName(&quot;org.apache.activemq:Type=Broker,BrokerName=localhost&quot;);\r\n    \r\n    BrokerViewMBean mbean = (BrokerViewMBean)MBeanServerInvocationHandler.newProxyInstance(conn, activeMq, BrokerViewMBean.class, true);\r\n    String uri = mbean.getTransportConnectorByType(&quot;tcp&quot;);// or (&quot;ssl&quot;) \r\n    String[] pairs = uri.split(&quot;&amp;&quot;);\r\n\tfor (String pair : pairs) {\r\n\t\tif (pair.startsWith(&quot;wireFormat.maxFrameSize&quot;)) {\r\n\t\t\tint idx = pair.indexOf(&quot;=&quot;);\r\n\t\t\tSystem.out.println(URLDecoder.decode(pair.substring(idx + 1), &quot;UTF-8&quot;));\r\n\t\t}\r\n\t}\r\n\r\n [http://activemq.apache.org/maven/apidocs/org/apache/activemq/broker/jmx/BrokerViewMBean.html#getTransportConnectors--][2] will return a map of transports names as keys and uri&#39;s as values\r\n\r\nto have a better size of a message you can do that :\r\n\r\n    \r\n\t\t\tOpenWireFormat opf = new OpenWireFormat();\r\n\t\t\topf.setTightEncodingEnabled(true);\r\n\t\t\tByteSequence tab = opf.marshal(message);\r\n\t\t\tSystem.out.println(tab.length);\r\n\r\n\r\n\r\n**your business must be like this :**\r\n\r\n\r\n        \r\n    import java.io.IOException;\r\n    import java.net.URLDecoder;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.jms.Connection;\r\n    import javax.jms.JMSException;\r\n    import javax.jms.MessageProducer;\r\n    import javax.management.MBeanServerConnection;\r\n    import javax.management.MBeanServerInvocationHandler;\r\n    import javax.management.ObjectName;\r\n    import javax.management.remote.JMXConnector;\r\n    import javax.management.remote.JMXConnectorFactory;\r\n    import javax.management.remote.JMXServiceURL;\r\n    \r\n    import org.apache.activemq.ActiveMQConnection;\r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    import org.apache.activemq.ActiveMQSession;\r\n    import org.apache.activemq.broker.jmx.BrokerViewMBean;\r\n    import org.apache.activemq.command.ActiveMQTextMessage;\r\n    import org.apache.activemq.openwire.OpenWireFormat;\r\n    import org.apache.activemq.transport.TransportFilter;\r\n    import org.apache.activemq.transport.TransportListener;\r\n    import org.apache.activemq.transport.failover.FailoverTransport;\r\n    import org.apache.activemq.util.ByteSequence;\r\n    \r\n    public class SimpleSenderMaxSizeManager {\r\n    \r\n    \tprivate static Connection conn = null;\r\n    \tprivate static boolean transportChanged;\r\n    \tprivate static Long MAX_FRAME_SIZE;\r\n    \r\n    \tpublic static void main(String[] args) throws JMSException {\r\n    \t\ttry {\r\n    \t\t\tSimpleSenderMaxSizeManager.updateMaxSize(&quot;host1&quot;);\r\n    \t\t\tActiveMQConnectionFactory cf = new ActiveMQConnectionFactory(\r\n    \t\t\t\t\t&quot;failover:(tcp://host1:5670,tcp://host2:5671)?randomize=false&quot;);\r\n    \t\t\tcf.setTransportListener(new TransportListener() {\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void transportResumed() {\r\n    \t\t\t\t\tif (transportChanged) {\r\n    \t\t\t\t\t\ttransportChanged = false;\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tSimpleSenderMaxSizeManager.updateMaxSize(null);\r\n    \t\t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void transportInterupted() {\r\n    \t\t\t\t\ttransportChanged = true;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onException(IOException error) {\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onCommand(Object command) {\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\tconn = cf.createConnection();\r\n    \t\t\tActiveMQSession session = (ActiveMQSession) conn.createSession(false,\r\n    \t\t\t\t\tActiveMQSession.INDIVIDUAL_ACKNOWLEDGE);\r\n    \t\t\tMessageProducer producer = session.createProducer(session.createQueue(&quot;TEST&quot;));\r\n    \t\t\tconn.start();\r\n    \t\t\tActiveMQTextMessage msg = (ActiveMQTextMessage) session.createTextMessage(&quot;test&quot;);\r\n    \t\t\tOpenWireFormat opf = new OpenWireFormat();\r\n    \t\t\topf.setTightEncodingEnabled(true);\r\n    \t\t\tByteSequence tab = opf.marshal(msg);\r\n    \t\t\tSystem.out.println(tab.length);\r\n    \t\t\tif (tab.length &gt;= MAX_FRAME_SIZE) {\r\n    \t\t\t\tthrow new RuntimeException(tab.length + &quot;&gt;=&quot; + MAX_FRAME_SIZE);\r\n    \t\t\t}\r\n    \t\t\tproducer.send(msg);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tif (conn != null) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tconn.close();\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected static void updateMaxSize(String host) throws Exception {\r\n    \t\tJMXConnector jmxc = null;\r\n    \t\ttry {\r\n    \t\t\tString jmxHost = host;\r\n    \t\t\tString scheme = null;\r\n    \t\t\tif (conn == null) {\r\n    \t\t\t\tscheme = &quot;tcp&quot;;\r\n    \t\t\t} else {\r\n    \t\t\t\torg.apache.activemq.transport.TransportFilter responseCorrelator = (TransportFilter) ((ActiveMQConnection) conn)\r\n    \t\t\t\t\t\t.getTransport();\r\n    \t\t\t\tTransportFilter mutexTransport = (TransportFilter) responseCorrelator.getNext();\r\n    \t\t\t\tFailoverTransport failoverTransport = (FailoverTransport) mutexTransport.getNext();\r\n    \t\t\t\twhile (failoverTransport.getConnectedTransportURI() == null) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tThread.sleep(100);\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tscheme = failoverTransport.getConnectedTransportURI().getScheme();\r\n    \t\t\t\tjmxHost = failoverTransport.getConnectedTransportURI().getHost();\r\n    \t\t\t}\r\n    \t\t\tJMXServiceURL url = new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://&quot; + jmxHost + &quot;:1099/jmxrmi&quot;);\r\n    \t\t\tMap&lt;String, String[]&gt; env = new HashMap&lt;&gt;();\r\n    \t\t\tString[] creds = { &quot;admin&quot;, &quot;admin&quot; };\r\n    \t\t\tenv.put(JMXConnector.CREDENTIALS, creds);\r\n    \t\t\tjmxc = JMXConnectorFactory.connect(url, env);\r\n    \t\t\tMBeanServerConnection conn = jmxc.getMBeanServerConnection();\r\n    \t\t\tObjectName activeMq = new ObjectName(&quot;org.apache.activemq:type=Broker,brokerName=localhost&quot;);\r\n    \t\t\tBrokerViewMBean mbean = MBeanServerInvocationHandler.newProxyInstance(conn, activeMq, BrokerViewMBean.class,\r\n    \t\t\t\t\ttrue);\r\n    \t\t\tString value = mbean.getTransportConnectorByType(scheme);\r\n    \t\t\tString[] pairs = value.split(&quot;&amp;&quot;);\r\n    \t\t\tfor (String pair : pairs) {\r\n    \t\t\t\tif (pair.contains(&quot;wireFormat.maxFrameSize&quot;)) {\r\n    \t\t\t\t\tint idx = pair.indexOf(&quot;=&quot;);\r\n    \t\t\t\t\tSystem.out.println(URLDecoder.decode(pair.substring(idx + 1), &quot;UTF-8&quot;));\r\n    \t\t\t\t\tMAX_FRAME_SIZE = Long.valueOf(URLDecoder.decode(pair.substring(idx + 1), &quot;UTF-8&quot;));\r\n    \t\t\t\t\tMAX_FRAME_SIZE -= 1000;// security for JMS headers added by\r\n    \t\t\t\t\t\t\t\t\t\t\t// session on sending\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tif (jmxc != null) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tjmxc.close();\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n  [1]: http://activemq.apache.org/maven/apidocs/src-html/org/apache/activemq/broker/jmx/BrokerViewMBean.html#line.304\r\n  [2]: http://activemq.apache.org/maven/apidocs/org/apache/activemq/broker/jmx/BrokerViewMBean.html#getTransportConnectors--\r\n","title":"How to handle Activemq&#39;s max frame size exception with failover transport","body":"<p>As you said this way</p>\n\n<blockquote>\n  <p>maxReconnectAttempts\n  -1 | 0 From ActiveMQ 5.6: default is -1, retry forever. 0 means disables re-connection, e.g: just try to connect once. Before ActiveMQ\n  5.6: default is 0, retry forever.  All ActiveMQ versions: a value >0 denotes the maximum number of reconnect attempts before an error is\n  sent back to the client.</p>\n</blockquote>\n\n<p>So if you want your transport listener to be notified of transport failure after failing retries due to the size of your message you need to set maxReconnectAttempts to a value > 0 after that when the max retries reached the method onException of your transport listener will be called with IOException as parameter but as you said it is not easy to verify if it is due to max size or another issue.</p>\n\n<p><strong>If you want to check message size</strong> as proposed before sending you can get maxFrameSize configured in the uri on the broker side at runtime by accessing it by jmx and get a BrokerViewMBean instance and call getTransportConnectorByType method  <a href=\"http://activemq.apache.org/maven/apidocs/src-html/org/apache/activemq/broker/jmx/BrokerViewMBean.html#line.304\" rel=\"nofollow noreferrer\">http://activemq.apache.org/maven/apidocs/src-html/org/apache/activemq/broker/jmx/BrokerViewMBean.html#line.304</a> this will return the uri configured in activemq.xml which you can parse to retrieve maxFrameSize.</p>\n\n<pre><code>JMXServiceURL url = new     JMXServiceURL(\"service:jmx:rmi:///jndi/rmi://hist:1099/jmxrmi\");\nJMXConnector jmxc = JMXConnectorFactory.connect(url);\nMBeanServerConnection conn = jmxc.getMBeanServerConnection(); \n\nObjectName activeMq = new ObjectName(\"org.apache.activemq:Type=Broker,BrokerName=localhost\");\n\nBrokerViewMBean mbean = (BrokerViewMBean)MBeanServerInvocationHandler.newProxyInstance(conn, activeMq, BrokerViewMBean.class, true);\nString uri = mbean.getTransportConnectorByType(\"tcp\");// or (\"ssl\") \nString[] pairs = uri.split(\"&amp;\");\nfor (String pair : pairs) {\n    if (pair.startsWith(\"wireFormat.maxFrameSize\")) {\n        int idx = pair.indexOf(\"=\");\n        System.out.println(URLDecoder.decode(pair.substring(idx + 1), \"UTF-8\"));\n    }\n}\n</code></pre>\n\n<p><a href=\"http://activemq.apache.org/maven/apidocs/org/apache/activemq/broker/jmx/BrokerViewMBean.html#getTransportConnectors--\" rel=\"nofollow noreferrer\">http://activemq.apache.org/maven/apidocs/org/apache/activemq/broker/jmx/BrokerViewMBean.html#getTransportConnectors--</a> will return a map of transports names as keys and uri's as values</p>\n\n<p>to have a better size of a message you can do that :</p>\n\n<pre><code>        OpenWireFormat opf = new OpenWireFormat();\n        opf.setTightEncodingEnabled(true);\n        ByteSequence tab = opf.marshal(message);\n        System.out.println(tab.length);\n</code></pre>\n\n<p><strong>your business must be like this :</strong></p>\n\n<pre><code>import java.io.IOException;\nimport java.net.URLDecoder;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.jms.Connection;\nimport javax.jms.JMSException;\nimport javax.jms.MessageProducer;\nimport javax.management.MBeanServerConnection;\nimport javax.management.MBeanServerInvocationHandler;\nimport javax.management.ObjectName;\nimport javax.management.remote.JMXConnector;\nimport javax.management.remote.JMXConnectorFactory;\nimport javax.management.remote.JMXServiceURL;\n\nimport org.apache.activemq.ActiveMQConnection;\nimport org.apache.activemq.ActiveMQConnectionFactory;\nimport org.apache.activemq.ActiveMQSession;\nimport org.apache.activemq.broker.jmx.BrokerViewMBean;\nimport org.apache.activemq.command.ActiveMQTextMessage;\nimport org.apache.activemq.openwire.OpenWireFormat;\nimport org.apache.activemq.transport.TransportFilter;\nimport org.apache.activemq.transport.TransportListener;\nimport org.apache.activemq.transport.failover.FailoverTransport;\nimport org.apache.activemq.util.ByteSequence;\n\npublic class SimpleSenderMaxSizeManager {\n\n    private static Connection conn = null;\n    private static boolean transportChanged;\n    private static Long MAX_FRAME_SIZE;\n\n    public static void main(String[] args) throws JMSException {\n        try {\n            SimpleSenderMaxSizeManager.updateMaxSize(\"host1\");\n            ActiveMQConnectionFactory cf = new ActiveMQConnectionFactory(\n                    \"failover:(tcp://host1:5670,tcp://host2:5671)?randomize=false\");\n            cf.setTransportListener(new TransportListener() {\n\n                @Override\n                public void transportResumed() {\n                    if (transportChanged) {\n                        transportChanged = false;\n                        try {\n                            SimpleSenderMaxSizeManager.updateMaxSize(null);\n                        } catch (Exception e) {\n                        }\n                    }\n                }\n\n                @Override\n                public void transportInterupted() {\n                    transportChanged = true;\n                }\n\n                @Override\n                public void onException(IOException error) {\n                }\n\n                @Override\n                public void onCommand(Object command) {\n                }\n            });\n            conn = cf.createConnection();\n            ActiveMQSession session = (ActiveMQSession) conn.createSession(false,\n                    ActiveMQSession.INDIVIDUAL_ACKNOWLEDGE);\n            MessageProducer producer = session.createProducer(session.createQueue(\"TEST\"));\n            conn.start();\n            ActiveMQTextMessage msg = (ActiveMQTextMessage) session.createTextMessage(\"test\");\n            OpenWireFormat opf = new OpenWireFormat();\n            opf.setTightEncodingEnabled(true);\n            ByteSequence tab = opf.marshal(msg);\n            System.out.println(tab.length);\n            if (tab.length &gt;= MAX_FRAME_SIZE) {\n                throw new RuntimeException(tab.length + \"&gt;=\" + MAX_FRAME_SIZE);\n            }\n            producer.send(msg);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (conn != null) {\n                try {\n                    conn.close();\n                } catch (Exception e) {\n                }\n            }\n        }\n    }\n\n    protected static void updateMaxSize(String host) throws Exception {\n        JMXConnector jmxc = null;\n        try {\n            String jmxHost = host;\n            String scheme = null;\n            if (conn == null) {\n                scheme = \"tcp\";\n            } else {\n                org.apache.activemq.transport.TransportFilter responseCorrelator = (TransportFilter) ((ActiveMQConnection) conn)\n                        .getTransport();\n                TransportFilter mutexTransport = (TransportFilter) responseCorrelator.getNext();\n                FailoverTransport failoverTransport = (FailoverTransport) mutexTransport.getNext();\n                while (failoverTransport.getConnectedTransportURI() == null) {\n                    try {\n                        Thread.sleep(100);\n                    } catch (Exception e) {\n                    }\n                }\n                scheme = failoverTransport.getConnectedTransportURI().getScheme();\n                jmxHost = failoverTransport.getConnectedTransportURI().getHost();\n            }\n            JMXServiceURL url = new JMXServiceURL(\"service:jmx:rmi:///jndi/rmi://\" + jmxHost + \":1099/jmxrmi\");\n            Map&lt;String, String[]&gt; env = new HashMap&lt;&gt;();\n            String[] creds = { \"admin\", \"admin\" };\n            env.put(JMXConnector.CREDENTIALS, creds);\n            jmxc = JMXConnectorFactory.connect(url, env);\n            MBeanServerConnection conn = jmxc.getMBeanServerConnection();\n            ObjectName activeMq = new ObjectName(\"org.apache.activemq:type=Broker,brokerName=localhost\");\n            BrokerViewMBean mbean = MBeanServerInvocationHandler.newProxyInstance(conn, activeMq, BrokerViewMBean.class,\n                    true);\n            String value = mbean.getTransportConnectorByType(scheme);\n            String[] pairs = value.split(\"&amp;\");\n            for (String pair : pairs) {\n                if (pair.contains(\"wireFormat.maxFrameSize\")) {\n                    int idx = pair.indexOf(\"=\");\n                    System.out.println(URLDecoder.decode(pair.substring(idx + 1), \"UTF-8\"));\n                    MAX_FRAME_SIZE = Long.valueOf(URLDecoder.decode(pair.substring(idx + 1), \"UTF-8\"));\n                    MAX_FRAME_SIZE -= 1000;// security for JMS headers added by\n                                            // session on sending\n                }\n            }\n        } finally {\n            if (jmxc != null) {\n                try {\n                    jmxc.close();\n                } catch (Exception e) {\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2111357,"reputation":951,"user_id":1876585,"accept_rate":67,"display_name":"Raphael do Vale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14114,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":41651038,"answer_count":2,"score":9,"last_activity_date":1679616488,"creation_date":1483615571,"question_id":41483852,"body_markdown":"I am developing an application that uses activemq to exchange messages, some so big that I want to cancel then. \r\n\r\nWe work with the activemq failover transport with two ActiveMQ instances (master/slave). The broker itself has the 100mb framesize limit for messages.\r\n\r\nThe problem is: if I try to send a message bigger than 100mb the ActiveMQ server will shutdown the connection. At this point, the failover transport will try to reconnect and send the message again, creating an infinite loop. \r\n\r\nThe client logs the following: \r\n\r\n    2017-01-05 09:19:11.910  WARN 14680 --- [0.1:61616@57025] o.a.a.t.failover.FailoverTransport       : Transport (tcp://localhost:61616) failed , attempting to automatically reconnect: {}\r\n    \r\n    java.io.EOFException: null\r\n    \tat java.io.DataInputStream.readInt(DataInputStream.java:392) ~[na:1.8.0_91]\r\n    \tat org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:267) ~[activemq-client-5.13.4.jar:5.13.4]\r\n    \tat org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:240) ~[activemq-client-5.13.4.jar:5.13.4]\r\n    \tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:232) ~[activemq-client-5.13.4.jar:5.13.4]\r\n    \tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215) ~[activemq-client-5.13.4.jar:5.13.4]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_91]\r\n    \r\n    2017-01-05 09:19:11.921  INFO 14680 --- [ActiveMQ Task-1] o.a.a.t.failover.FailoverTransport       : Successfully reconnected to tcp://localhost:61616\r\n    2017-01-05 09:19:11.923  WARN 14680 --- [0.1:61616@57026] o.a.a.t.failover.FailoverTransport       : Transport (tcp://localhost:61616) failed , attempting to automatically reconnect: {}\r\n    \r\n    java.io.EOFException: null\r\n    \tat java.io.DataInputStream.readInt(DataInputStream.java:392) ~[na:1.8.0_91]\r\n    \tat org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:267) ~[activemq-client-5.13.4.jar:5.13.4]\r\n    \tat org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:240) ~[activemq-client-5.13.4.jar:5.13.4]\r\n    \tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:232) ~[activemq-client-5.13.4.jar:5.13.4]\r\n    \tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215) ~[activemq-client-5.13.4.jar:5.13.4]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_91]\r\n\r\nWhile activeMQ instance logs:\r\n\r\n    2017-01-05 09:19:11,909 | WARN  | Transport Connection to: tcp://127.0.0.1:57025 failed: java.io.IOException: Frame size of 363 MB larger than max allowed 100 MB | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///127.0.0.1:57025@61616\r\n    2017-01-05 09:19:11,922 | WARN  | Transport Connection to: tcp://127.0.0.1:57026 failed: java.io.IOException: Frame size of 363 MB larger than max allowed 100 MB | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///127.0.0.1:57026@61616\r\n\r\nI tried to setup a TransportListener to verify if I can capture this case, but I just receive a transportInterupted event, without any classifier. \r\n\r\nI read the documentation about the failover transport (http://activemq.apache.org/failover-transport-reference.html) and maybe I can use the maxReconnectAttempts, but I understand I will have several drawbacks in more common situations (like the server unavailable for a while).\r\n\r\nHow can I detect this kind of situation and avoid the infinite connection loop between the client and server?","title":"How to handle Activemq&#39;s max frame size exception with failover transport","body":"<p>I am developing an application that uses activemq to exchange messages, some so big that I want to cancel then. </p>\n\n<p>We work with the activemq failover transport with two ActiveMQ instances (master/slave). The broker itself has the 100mb framesize limit for messages.</p>\n\n<p>The problem is: if I try to send a message bigger than 100mb the ActiveMQ server will shutdown the connection. At this point, the failover transport will try to reconnect and send the message again, creating an infinite loop. </p>\n\n<p>The client logs the following: </p>\n\n<pre><code>2017-01-05 09:19:11.910  WARN 14680 --- [0.1:61616@57025] o.a.a.t.failover.FailoverTransport       : Transport (tcp://localhost:61616) failed , attempting to automatically reconnect: {}\n\njava.io.EOFException: null\n    at java.io.DataInputStream.readInt(DataInputStream.java:392) ~[na:1.8.0_91]\n    at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:267) ~[activemq-client-5.13.4.jar:5.13.4]\n    at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:240) ~[activemq-client-5.13.4.jar:5.13.4]\n    at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:232) ~[activemq-client-5.13.4.jar:5.13.4]\n    at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215) ~[activemq-client-5.13.4.jar:5.13.4]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_91]\n\n2017-01-05 09:19:11.921  INFO 14680 --- [ActiveMQ Task-1] o.a.a.t.failover.FailoverTransport       : Successfully reconnected to tcp://localhost:61616\n2017-01-05 09:19:11.923  WARN 14680 --- [0.1:61616@57026] o.a.a.t.failover.FailoverTransport       : Transport (tcp://localhost:61616) failed , attempting to automatically reconnect: {}\n\njava.io.EOFException: null\n    at java.io.DataInputStream.readInt(DataInputStream.java:392) ~[na:1.8.0_91]\n    at org.apache.activemq.openwire.OpenWireFormat.unmarshal(OpenWireFormat.java:267) ~[activemq-client-5.13.4.jar:5.13.4]\n    at org.apache.activemq.transport.tcp.TcpTransport.readCommand(TcpTransport.java:240) ~[activemq-client-5.13.4.jar:5.13.4]\n    at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:232) ~[activemq-client-5.13.4.jar:5.13.4]\n    at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215) ~[activemq-client-5.13.4.jar:5.13.4]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_91]\n</code></pre>\n\n<p>While activeMQ instance logs:</p>\n\n<pre><code>2017-01-05 09:19:11,909 | WARN  | Transport Connection to: tcp://127.0.0.1:57025 failed: java.io.IOException: Frame size of 363 MB larger than max allowed 100 MB | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///127.0.0.1:57025@61616\n2017-01-05 09:19:11,922 | WARN  | Transport Connection to: tcp://127.0.0.1:57026 failed: java.io.IOException: Frame size of 363 MB larger than max allowed 100 MB | org.apache.activemq.broker.TransportConnection.Transport | ActiveMQ Transport: tcp:///127.0.0.1:57026@61616\n</code></pre>\n\n<p>I tried to setup a TransportListener to verify if I can capture this case, but I just receive a transportInterupted event, without any classifier. </p>\n\n<p>I read the documentation about the failover transport (<a href=\"http://activemq.apache.org/failover-transport-reference.html\" rel=\"noreferrer\">http://activemq.apache.org/failover-transport-reference.html</a>) and maybe I can use the maxReconnectAttempts, but I understand I will have several drawbacks in more common situations (like the server unavailable for a while).</p>\n\n<p>How can I detect this kind of situation and avoid the infinite connection loop between the client and server?</p>\n"},{"tags":["java","arrays","multithreading"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1679604711,"post_id":75827080,"comment_id":133756128,"body_markdown":"You need to set the seed of the `Random` instances used by your Threads, not just the seed of the Random instance your main thread would use (if it used one). Try `final ThreadLocal&lt;Random&gt; random = ThreadLocal.withInitial(() -&gt; new Random(50L));`.","body":"You need to set the seed of the <code>Random</code> instances used by your Threads, not just the seed of the Random instance your main thread would use (if it used one). Try <code>final ThreadLocal&lt;Random&gt; random = ThreadLocal.withInitial(() -&gt; new Random(50L));</code>."}],"owner":{"account_id":16649023,"reputation":3,"user_id":12032532,"display_name":"Davit Stepanyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679615307,"creation_date":1679598264,"question_id":75827080,"body_markdown":"        final ThreadLocal&lt;Random&gt; random = ThreadLocal.withInitial(Random::new);\r\n        random.get().setSeed(50);\r\n\r\n        final ArrayList&lt;Integer&gt; objects = new ArrayList&lt;&gt;();\r\n        final ArrayList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            objects.add(i);\r\n        }\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            final ArrayList&lt;Object&gt; clone = new ArrayList&lt;&gt;(objects);\r\n\r\n            for (Object object : clone) {\r\n                final Thread thread = new Thread(() -&gt; {\r\n                    if (random.get().nextFloat() &gt; 0.5f) {\r\n                        objects.remove(object);\r\n                    }\r\n                });\r\n                threads.add(thread);\r\n                thread.start();\r\n            }\r\n\r\n            for (Thread thread : threads) {\r\n                thread.join();\r\n            }\r\n\r\n            Collections.sort(objects);\r\n            System.out.println(&quot;objects = &quot; + objects);\r\n        }\r\nHere is the sample code.\r\n\r\nEvery time the program is run it prints different object list.\r\nNeed to print exactly the same.","title":"Removing objects from array with fixed seed and multithreading in java","body":"<pre><code>    final ThreadLocal&lt;Random&gt; random = ThreadLocal.withInitial(Random::new);\n    random.get().setSeed(50);\n\n    final ArrayList&lt;Integer&gt; objects = new ArrayList&lt;&gt;();\n    final ArrayList&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; 10; i++) {\n        objects.add(i);\n    }\n\n    for (int i = 0; i &lt; 10; i++) {\n        final ArrayList&lt;Object&gt; clone = new ArrayList&lt;&gt;(objects);\n\n        for (Object object : clone) {\n            final Thread thread = new Thread(() -&gt; {\n                if (random.get().nextFloat() &gt; 0.5f) {\n                    objects.remove(object);\n                }\n            });\n            threads.add(thread);\n            thread.start();\n        }\n\n        for (Thread thread : threads) {\n            thread.join();\n        }\n\n        Collections.sort(objects);\n        System.out.println(&quot;objects = &quot; + objects);\n    }\n</code></pre>\n<p>Here is the sample code.</p>\n<p>Every time the program is run it prints different object list.\nNeed to print exactly the same.</p>\n"},{"tags":["java","android","xml","android-studio","hyperlink"],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679615058,"creation_date":1679615058,"question_id":75828892,"body_markdown":"I am trying to add a vertical ellipsis menu in the top right corner of my app but I do not know how to make it function programmatically in my MainActivity.java page. I have added the menu on the toolbar in my xml files. Here they are:\r\n\r\nMenu code:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        app:showAsAction=&quot;ifRoom&quot;&gt;\r\n        &lt;item android:id=&quot;@+id/nav_share&quot;\r\n            android:icon=&quot;@drawable/ic_share&quot;\r\n            android:title=&quot;Share App&quot;/&gt;\r\n        &lt;item android:id=&quot;@+id/nav_thumb&quot;\r\n            android:icon=&quot;@drawable/ic_like&quot;\r\n            android:title=&quot;Rate App&quot; /&gt;\r\n        &lt;item android:id=&quot;@+id/nav_policy&quot;\r\n            android:icon=&quot;@drawable/ic_lock&quot;\r\n            android:title=&quot;Privacy Policy&quot;/&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nand my tooblar code in my activity_main.xml page:\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;#6666ff&quot;\r\n            android:elevation=&quot;4dp&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/my_menu&quot;&gt;\r\n\r\n \r\nWhat is the code I need to add in my MainActivity.java page to make my menu function and to have a share app link, like app link and a link to my privacy policy page? I can&#39;t find anything that has helped me to solve this problem yet. Please help.","title":"What is the correct way to make my vertical ellipsis menu function in my MainActivity.java page in android studio?","body":"<p>I am trying to add a vertical ellipsis menu in the top right corner of my app but I do not know how to make it function programmatically in my MainActivity.java page. I have added the menu on the toolbar in my xml files. Here they are:</p>\n<p>Menu code:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    app:showAsAction=&quot;ifRoom&quot;&gt;\n    &lt;item android:id=&quot;@+id/nav_share&quot;\n        android:icon=&quot;@drawable/ic_share&quot;\n        android:title=&quot;Share App&quot;/&gt;\n    &lt;item android:id=&quot;@+id/nav_thumb&quot;\n        android:icon=&quot;@drawable/ic_like&quot;\n        android:title=&quot;Rate App&quot; /&gt;\n    &lt;item android:id=&quot;@+id/nav_policy&quot;\n        android:icon=&quot;@drawable/ic_lock&quot;\n        android:title=&quot;Privacy Policy&quot;/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>and my tooblar code in my activity_main.xml page:</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;#6666ff&quot;\n        android:elevation=&quot;4dp&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:menu=&quot;@menu/my_menu&quot;&gt;\n</code></pre>\n<p>What is the code I need to add in my MainActivity.java page to make my menu function and to have a share app link, like app link and a link to my privacy policy page? I can't find anything that has helped me to solve this problem yet. Please help.</p>\n"},{"tags":["java","xml","security","xxe"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679508222,"post_id":75815506,"comment_id":133736276,"body_markdown":"Do you have a stacktrace with classes and line numbers on the way to this error?","body":"Do you have a stacktrace with classes and line numbers on the way to this error?"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1679512296,"post_id":75815506,"comment_id":133737173,"body_markdown":"Yes, I just added it. I truly appreciate it if you could help me out with this. I came across a post suggesting using system properties to ensure using the correct instance of the factory, but I cannot find it now.","body":"Yes, I just added it. I truly appreciate it if you could help me out with this. I came across a post suggesting using system properties to ensure using the correct instance of the factory, but I cannot find it now."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1679530442,"post_id":75815506,"comment_id":133740505,"body_markdown":"@JohnWilliams I updated the question with more details.","body":"@JohnWilliams I updated the question with more details."}],"answers":[{"tags":[],"owner":{"account_id":9975887,"reputation":21,"user_id":7380509,"display_name":"Gabriel S. S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679614892,"creation_date":1679516664,"answer_id":75816958,"question_id":75815506,"body_markdown":"I had the same problem,this another implementation worked for me: \r\n\r\n    import com.sun.org.apache.xalan.internal.xsltc.trax.TranformerFactoryImpl;\r\n    ...\r\n    TranformerFactoryImpl tf = new TranformerFactoryImpl();\r\n    tf.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n    tf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    tf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n\r\n**Edit 1**: \r\nYou also can try to force it: \r\n\r\n    import javax.xml.transform.TransformerFactory;\r\n\r\n    TransformFactory tf = new TransformFactory.newInstance(“com.sun.org.apache.xalan.internal.xsltc.trax.TranformerFactoryImpl”, null);\r\n\r\n\r\n\r\n","title":"java.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD","body":"<p>I had the same problem,this another implementation worked for me:</p>\n<pre><code>import com.sun.org.apache.xalan.internal.xsltc.trax.TranformerFactoryImpl;\n...\nTranformerFactoryImpl tf = new TranformerFactoryImpl();\ntf.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\ntf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p><strong>Edit 1</strong>:\nYou also can try to force it:</p>\n<pre><code>import javax.xml.transform.TransformerFactory;\n\nTransformFactory tf = new TransformFactory.newInstance(“com.sun.org.apache.xalan.internal.xsltc.trax.TranformerFactoryImpl”, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679592169,"creation_date":1679590385,"answer_id":75825877,"question_id":75815506,"body_markdown":"Thanks to @Gabriel who helped me find the answer. This is another way to resolve the issue using system properties. The other method is to specify the name of the correct class using the `TransformerFactory.newInstance();` method. The correct class is `com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl`:\r\n\r\n```\r\ntf = TransformerFactory.newInstance(&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;, NameOfContainerClass.class.getClassLoader());\r\n```\r\n\r\nBelow is the final answer which worked for me and the scan report is clean.\r\n\r\n```\r\nprivate final static String JAVAX_TRANSFORMER_PROP = &quot;javax.xml.transform.TransformerFactory&quot;;\r\nprivate final static String JAVAX_TRANSFORMER_PROP_VAL = &quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;;\r\n\r\npublic static String convertNodeToString(Node node) throws Exception  {\r\n\t\tTransformerFactory tf=null;\r\n\t\tTransformer transformer;\r\n\t\tString errMsg=null;\r\n\t\tString output=null;\r\n\t\t//Prevent XXE Attack: Ensure using the correct factory class to create TrasformerFactory instance\r\n\t\t//  This will instruct Java to use to version which supports using ACCESS_EXTERNAL_DTD argument.\r\n\t\t// Use:\r\n\t\t//   - com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\r\n\t\t//  instead of:\r\n\t\t//   - org.apache.xalan.processor.TransformerFactoryImpl\r\n\t\tif (System.getProperty(JAVAX_TRANSFORMER_PROP) == null || \r\n\t\t\t!System.getProperty(JAVAX_TRANSFORMER_PROP).equals(JAVAX_TRANSFORMER_PROP_VAL))\r\n\t\t\tSystem.setProperty(JAVAX_TRANSFORMER_PROP, JAVAX_TRANSFORMER_PROP_VAL);\r\n\t\ttry {\r\n\t\t\ttf = TransformerFactory.newInstance();\r\n\t\t} catch (TransformerFactoryConfigurationError  e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\terrMsg=&quot;Error &#39;TransformerFactoryConfigurationError&#39; in convertNodeToString() while creating &#39;TransformerFactory&#39; instance: &quot; + e.toString();\r\n\t\t} catch (Exception  e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\terrMsg=&quot;Error in convertNodeToString() while creating &#39;TransformerFactory&#39; instance:: &quot; + e.toString();\r\n\t\t}\r\n\t\tif (errMsg != null)\r\n\t\t\tthrow new Exception(errMsg);\r\n\t\t//Prevent XXE Attack: Set attributes to prevent XXE Attack vulnerabilities.\r\n\t\ttry {\r\n\t\t\ttf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n\t\t\ttf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n\t\t} catch (IllegalArgumentException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\terrMsg = &quot;Error &#39;IllegalArgumentException&#39; in convertNodeToString() while attempting to prevent XXE Attack: &quot; + e.toString();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\terrMsg = &quot;Error in convertNodeToString() while attempting to prevent XXE Attack: &quot; + e.toString();\r\n\t\t}\r\n\t\tif (errMsg != null)\r\n\t\t\tthrow new Exception(errMsg);\r\n\t\t//tf.setFeature(javax.xml.XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n\t\ttry {\r\n\t\t\ttransformer = tf.newTransformer();\r\n\t\t\t// below code to remove XML declaration\r\n\t\t\t// transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n\t\t\tStringWriter writer = new StringWriter();\r\n\t\t\ttransformer.transform(new DOMSource(node), new StreamResult(writer));\r\n\t\t\toutput = writer.getBuffer().toString();\r\n\t\t} catch (TransformerException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\terrMsg = &quot;Error &#39;TransformerException&#39; in convertNodeToString() while converting the node to string: &quot; + e.toString();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\terrMsg = &quot;Error &#39;TransformerException&#39; in convertNodeToString() while converting the node to string: &quot; + e.toString();\r\n\t\t}\r\n\t\tif (errMsg != null)\r\n\t\t\tthrow new Exception(errMsg);\r\n\t\treturn output;\r\n}\r\n```\r\n\r\nReference: https://stackoverflow.com/a/50219550/4180447","title":"java.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD","body":"<p>Thanks to @Gabriel who helped me find the answer. This is another way to resolve the issue using system properties. The other method is to specify the name of the correct class using the <code>TransformerFactory.newInstance();</code> method. The correct class is <code>com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl</code>:</p>\n<pre><code>tf = TransformerFactory.newInstance(&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;, NameOfContainerClass.class.getClassLoader());\n</code></pre>\n<p>Below is the final answer which worked for me and the scan report is clean.</p>\n<pre><code>private final static String JAVAX_TRANSFORMER_PROP = &quot;javax.xml.transform.TransformerFactory&quot;;\nprivate final static String JAVAX_TRANSFORMER_PROP_VAL = &quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;;\n\npublic static String convertNodeToString(Node node) throws Exception  {\n        TransformerFactory tf=null;\n        Transformer transformer;\n        String errMsg=null;\n        String output=null;\n        //Prevent XXE Attack: Ensure using the correct factory class to create TrasformerFactory instance\n        //  This will instruct Java to use to version which supports using ACCESS_EXTERNAL_DTD argument.\n        // Use:\n        //   - com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\n        //  instead of:\n        //   - org.apache.xalan.processor.TransformerFactoryImpl\n        if (System.getProperty(JAVAX_TRANSFORMER_PROP) == null || \n            !System.getProperty(JAVAX_TRANSFORMER_PROP).equals(JAVAX_TRANSFORMER_PROP_VAL))\n            System.setProperty(JAVAX_TRANSFORMER_PROP, JAVAX_TRANSFORMER_PROP_VAL);\n        try {\n            tf = TransformerFactory.newInstance();\n        } catch (TransformerFactoryConfigurationError  e) {\n            e.printStackTrace();\n            errMsg=&quot;Error 'TransformerFactoryConfigurationError' in convertNodeToString() while creating 'TransformerFactory' instance: &quot; + e.toString();\n        } catch (Exception  e) {\n            e.printStackTrace();\n            errMsg=&quot;Error in convertNodeToString() while creating 'TransformerFactory' instance:: &quot; + e.toString();\n        }\n        if (errMsg != null)\n            throw new Exception(errMsg);\n        //Prevent XXE Attack: Set attributes to prevent XXE Attack vulnerabilities.\n        try {\n            tf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n            tf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n        } catch (IllegalArgumentException e) {\n            e.printStackTrace();\n            errMsg = &quot;Error 'IllegalArgumentException' in convertNodeToString() while attempting to prevent XXE Attack: &quot; + e.toString();\n        } catch (Exception e) {\n            e.printStackTrace();\n            errMsg = &quot;Error in convertNodeToString() while attempting to prevent XXE Attack: &quot; + e.toString();\n        }\n        if (errMsg != null)\n            throw new Exception(errMsg);\n        //tf.setFeature(javax.xml.XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        try {\n            transformer = tf.newTransformer();\n            // below code to remove XML declaration\n            // transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n            StringWriter writer = new StringWriter();\n            transformer.transform(new DOMSource(node), new StreamResult(writer));\n            output = writer.getBuffer().toString();\n        } catch (TransformerException e) {\n            e.printStackTrace();\n            errMsg = &quot;Error 'TransformerException' in convertNodeToString() while converting the node to string: &quot; + e.toString();\n        } catch (Exception e) {\n            e.printStackTrace();\n            errMsg = &quot;Error 'TransformerException' in convertNodeToString() while converting the node to string: &quot; + e.toString();\n        }\n        if (errMsg != null)\n            throw new Exception(errMsg);\n        return output;\n}\n</code></pre>\n<p>Reference: <a href=\"https://stackoverflow.com/a/50219550/4180447\">https://stackoverflow.com/a/50219550/4180447</a></p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679614892,"creation_date":1679506296,"question_id":75815506,"body_markdown":"I got vulnerabilities flaws from the scan report for Java code, did some research, and found [this recommendation][1] to resolve such issues:\r\n\r\n&gt; Improper Restriction of XML External Entity Reference (CWE ID 611)\r\n\r\nThis is the code including the fix for the XXE Attack issue:\r\n\r\n```\r\n\tpublic static String convertNodeToString(Node node) {\r\n\t\tTransformerFactory tf = TransformerFactory.newInstance();\r\n\t\tTransformer transformer;\r\n\t\ttry {\r\n\t\t\ttf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n\t\t\ttf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n\t\t\ttransformer = tf.newTransformer();\r\n\t\t\t// below code to remove XML declaration\r\n\t\t\t// transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n\t\t\tStringWriter writer = new StringWriter();\r\n\t\t\ttransformer.transform(new DOMSource(node), new StreamResult(writer));\r\n\t\t\tString output = writer.getBuffer().toString();\r\n\t\t\treturn output;\r\n\t\t} catch (TransformerException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\nThe good thing is that JUnit testing was a success, but, when I deployed the code on a running instance, I got this error:\r\n\r\n&gt; java.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD\r\n\r\nAs per my experience, this is because the running instance uses some dependencies which caused such a conflict and resulted in this error.\r\n\r\nFollowing is part of the stack trace form the console:\r\n\r\n&gt; java.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD\r\n        at org.apache.xalan.processor.TransformerFactoryImpl.setAttribute(TransformerFactoryImpl.java:571)\r\n\r\n\r\nHow I can find which dependency is causing the such error? Is there anything I can do to resolve such an error? I am also suspecting that I missed including a dependency. Please help me solve this issue.\r\n\r\nEdit 1:\r\n====\r\nI did further research and I think this happens because of this reference in the java.exe command used to launch the actual instance:\r\n\r\n&gt; java.exe -Xbootclasspath/p:../lib/xalan.jar;../lib/xercesImpl.jar;...\r\n\r\nNow, I need to find out how I can overcome this issue. I came across some articles proposing to ensure the creation of the factory instance using the correct package. I think the above code ends up using the wrong package.\r\n\r\nThe question now is how to use java code to ensure using the correct package to create the `TransformerFactory` instance.\r\n\r\nEdit 2:\r\n===\r\nThe first answer helped me make some progress. I found that the classpath of the deployed instance has a reference to `org.apache.xalan.processor.TransformerFactoryImpl` in `xalan.jar` which seems it is used by `TransformerFactory.newInstance()` to create the transformer factory. I think the question is how I can make the needed changes to ensure using the proper class to create the transformer.\r\n\r\nEdit 3:\r\n===\r\nI followed the recommendation [here][2] and added this code:\r\n\r\n```\r\nTransformerFactory factory = TransformerFactory.newInstance();\r\nfactory.setFeature(javax.xml.XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n```\r\n\r\nThe error was resolved in the running instance, but, the scan tool is still reporting this vulnerability flaw `XXE Attack`. According to [this article][2], this happens because an outdated XML processor is present on the classpath (e.g. Xerces, Xalan) which is exactly my case.\r\n\r\nI think I came across an article recommending changing some system properties that will indicate the factory to create the transformer instance using the correct class. I am trying to find this article now.\r\n\r\nI appreciate your help.\r\n\r\n  [1]: https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#transformerfactory\r\n  [2]: https://access.redhat.com/solutions/6136111","title":"java.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD","body":"<p>I got vulnerabilities flaws from the scan report for Java code, did some research, and found <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#transformerfactory\" rel=\"nofollow noreferrer\">this recommendation</a> to resolve such issues:</p>\n<blockquote>\n<p>Improper Restriction of XML External Entity Reference (CWE ID 611)</p>\n</blockquote>\n<p>This is the code including the fix for the XXE Attack issue:</p>\n<pre><code>    public static String convertNodeToString(Node node) {\n        TransformerFactory tf = TransformerFactory.newInstance();\n        Transformer transformer;\n        try {\n            tf.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n            tf.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n            transformer = tf.newTransformer();\n            // below code to remove XML declaration\n            // transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n            StringWriter writer = new StringWriter();\n            transformer.transform(new DOMSource(node), new StreamResult(writer));\n            String output = writer.getBuffer().toString();\n            return output;\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n</code></pre>\n<p>The good thing is that JUnit testing was a success, but, when I deployed the code on a running instance, I got this error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Not supported: <a href=\"http://javax.xml.XMLConstants/property/accessExternalDTD\" rel=\"nofollow noreferrer\">http://javax.xml.XMLConstants/property/accessExternalDTD</a></p>\n</blockquote>\n<p>As per my experience, this is because the running instance uses some dependencies which caused such a conflict and resulted in this error.</p>\n<p>Following is part of the stack trace form the console:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Not supported: <a href=\"http://javax.xml.XMLConstants/property/accessExternalDTD\" rel=\"nofollow noreferrer\">http://javax.xml.XMLConstants/property/accessExternalDTD</a>\nat org.apache.xalan.processor.TransformerFactoryImpl.setAttribute(TransformerFactoryImpl.java:571)</p>\n</blockquote>\n<p>How I can find which dependency is causing the such error? Is there anything I can do to resolve such an error? I am also suspecting that I missed including a dependency. Please help me solve this issue.</p>\n<h1>Edit 1:</h1>\n<p>I did further research and I think this happens because of this reference in the java.exe command used to launch the actual instance:</p>\n<blockquote>\n<p>java.exe -Xbootclasspath/p:../lib/xalan.jar;../lib/xercesImpl.jar;...</p>\n</blockquote>\n<p>Now, I need to find out how I can overcome this issue. I came across some articles proposing to ensure the creation of the factory instance using the correct package. I think the above code ends up using the wrong package.</p>\n<p>The question now is how to use java code to ensure using the correct package to create the <code>TransformerFactory</code> instance.</p>\n<h1>Edit 2:</h1>\n<p>The first answer helped me make some progress. I found that the classpath of the deployed instance has a reference to <code>org.apache.xalan.processor.TransformerFactoryImpl</code> in <code>xalan.jar</code> which seems it is used by <code>TransformerFactory.newInstance()</code> to create the transformer factory. I think the question is how I can make the needed changes to ensure using the proper class to create the transformer.</p>\n<h1>Edit 3:</h1>\n<p>I followed the recommendation <a href=\"https://access.redhat.com/solutions/6136111\" rel=\"nofollow noreferrer\">here</a> and added this code:</p>\n<pre><code>TransformerFactory factory = TransformerFactory.newInstance();\nfactory.setFeature(javax.xml.XMLConstants.FEATURE_SECURE_PROCESSING, true);\n</code></pre>\n<p>The error was resolved in the running instance, but, the scan tool is still reporting this vulnerability flaw <code>XXE Attack</code>. According to <a href=\"https://access.redhat.com/solutions/6136111\" rel=\"nofollow noreferrer\">this article</a>, this happens because an outdated XML processor is present on the classpath (e.g. Xerces, Xalan) which is exactly my case.</p>\n<p>I think I came across an article recommending changing some system properties that will indicate the factory to create the transformer instance using the correct class. I am trying to find this article now.</p>\n<p>I appreciate your help.</p>\n"},{"tags":["java","networking"],"answers":[{"tags":[],"owner":{"account_id":10139,"reputation":1107,"user_id":19007,"display_name":"mas"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1249294993,"creation_date":1249293945,"answer_id":1221535,"question_id":1221517,"body_markdown":"java.net.InterfaceAddress in SE6 has a getNetworkPrefixLength method that returns, as the name suggests, the network prefix length. You can calculate the subnet mask from this if you would rather have it in that format. &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/net/InterfaceAddress.html#getNetworkPrefixLength()&quot;&gt;java.net.InterfaceAddress&lt;/a&gt; supports both IPv4 and IPv6.\r\n\r\ngetSubnetMask() in several network application APIs returns subnet mask in java.net.InetAddress form for specified IP address (a local system may have many local IP addresses)","title":"How to get subnet mask of local system using java?","body":"<p>java.net.InterfaceAddress in SE6 has a getNetworkPrefixLength method that returns, as the name suggests, the network prefix length. You can calculate the subnet mask from this if you would rather have it in that format. <a href=\"http://java.sun.com/javase/6/docs/api/java/net/InterfaceAddress.html#getNetworkPrefixLength()\" rel=\"nofollow noreferrer\">java.net.InterfaceAddress</a> supports both IPv4 and IPv6.</p>\n\n<p>getSubnetMask() in several network application APIs returns subnet mask in java.net.InetAddress form for specified IP address (a local system may have many local IP addresses)</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1249294837,"creation_date":1249294837,"answer_id":1221581,"question_id":1221517,"body_markdown":"the netmask of the first address of the localhost interface:\r\n\r\n    InetAddress localHost = Inet4Address.getLocalHost();\r\n    NetworkInterface networkInterface = NetworkInterface.getByInetAddress(localHost);\r\n    networkInterface.getInterfaceAddresses().get(0).getNetworkPrefixLength();\r\n\r\na more complete approach:\r\n\r\n    InetAddress localHost = Inet4Address.getLocalHost();\r\n    NetworkInterface networkInterface = NetworkInterface.getByInetAddress(localHost);\r\n \r\n    for (InterfaceAddress address : networkInterface.getInterfaceAddresses()) {\r\n        System.out.println(address.getNetworkPrefixLength());\r\n    }\r\n\r\n/24 means 255.255.255.","title":"How to get subnet mask of local system using java?","body":"<p>the netmask of the first address of the localhost interface:</p>\n\n<pre><code>InetAddress localHost = Inet4Address.getLocalHost();\nNetworkInterface networkInterface = NetworkInterface.getByInetAddress(localHost);\nnetworkInterface.getInterfaceAddresses().get(0).getNetworkPrefixLength();\n</code></pre>\n\n<p>a more complete approach:</p>\n\n<pre><code>InetAddress localHost = Inet4Address.getLocalHost();\nNetworkInterface networkInterface = NetworkInterface.getByInetAddress(localHost);\n\nfor (InterfaceAddress address : networkInterface.getInterfaceAddresses()) {\n    System.out.println(address.getNetworkPrefixLength());\n}\n</code></pre>\n\n<p>/24 means 255.255.255.</p>\n"},{"tags":[],"owner":{"display_name":"James Synge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250953894,"creation_date":1250953012,"answer_id":1316143,"question_id":1221517,"body_markdown":"FWIW, in the past I&#39;d tried using InterfaceAddress.getNetworkPrefixLength() and InterfaceAddress.getBroadcast(), but they don&#39;t return accurate info (this is on Windows, with Sun JDK 1.6.0 update 10).  The network prefix length is 128 (not 24, which it is on my network), and the broadcast address returned is 255.255.255.255 (not 192.168.1.255, which it is on my network).\r\n\r\nJames\r\n\r\nUpdate: I just found the solution posted here:\r\n\r\n         http://forums.sun.com/thread.jspa?threadID=5277744\r\n\r\nYou need to prevent Java from using IPv6, so that it isn&#39;t getting to IPv4 via IPv6.\r\nAdding -Djava.net.preferIPv4Stack=true to the command line fixes the results from InterfaceAddress.getNetworkPrefixLength() and InterfaceAddress.getBroadcast() for me.","title":"How to get subnet mask of local system using java?","body":"<p>FWIW, in the past I'd tried using InterfaceAddress.getNetworkPrefixLength() and InterfaceAddress.getBroadcast(), but they don't return accurate info (this is on Windows, with Sun JDK 1.6.0 update 10).  The network prefix length is 128 (not 24, which it is on my network), and the broadcast address returned is 255.255.255.255 (not 192.168.1.255, which it is on my network).</p>\n\n<p>James</p>\n\n<p>Update: I just found the solution posted here:</p>\n\n<pre><code>     http://forums.sun.com/thread.jspa?threadID=5277744\n</code></pre>\n\n<p>You need to prevent Java from using IPv6, so that it isn't getting to IPv4 via IPv6.\nAdding -Djava.net.preferIPv4Stack=true to the command line fixes the results from InterfaceAddress.getNetworkPrefixLength() and InterfaceAddress.getBroadcast() for me.</p>\n"},{"tags":[],"owner":{"account_id":651826,"reputation":41,"user_id":444544,"display_name":"FofBorg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355337724,"creation_date":1284135888,"answer_id":3686392,"question_id":1221517,"body_markdown":"I devised an IPv4 only solution that is simple enough. I needed that to generate netmask for subnetworks here in order to delegate those subnets correctly. I know I could have generated a table of the 32 possible masks, but I prefered to get it computed each time.\r\n\r\nSo here is my solution.\r\n\r\n    /*\r\n     * Get network mask for the IP address and network prefix specified...\r\n     * The network mask will be returned has an IP, thus you can\r\n     * print it out with .getHostAddress()...\r\n     */\r\n    public static InetAddress getIPv4LocalNetMask(InetAddress ip, int netPrefix) {\r\n\r\n        try {\r\n            // Since this is for IPv4, it&#39;s 32 bits, so set the sign value of\r\n            // the int to &quot;negative&quot;...\r\n            int shiftby = (1&lt;&lt;31);\r\n            // For the number of bits of the prefix -1 (we already set the sign bit)\r\n            for (int i=netPrefix-1; i&gt;0; i--) {\r\n                // Shift the sign right... Java makes the sign bit sticky on a shift...\r\n                // So no need to &quot;set it back up&quot;...\r\n                shiftby = (shiftby &gt;&gt; 1);\r\n            }\r\n            // Transform the resulting value in xxx.xxx.xxx.xxx format, like if\r\n            /// it was a standard address...\r\n            String maskString = Integer.toString((shiftby &gt;&gt; 24) &amp; 255) + &quot;.&quot; + Integer.toString((shiftby &gt;&gt; 16) &amp; 255) + &quot;.&quot; + Integer.toString((shiftby &gt;&gt; 8) &amp; 255) + &quot;.&quot; + Integer.toString(shiftby &amp; 255);\r\n            // Return the address thus created...\r\n            return InetAddress.getByName(maskString);\r\n        }\r\n            catch(Exception e){e.printStackTrace();\r\n        }\r\n        // Something went wrong here...\r\n        return null;\r\n    }\r\n\r\nYou just call it with the IP and the prefix you want to use, it will generate the netmask for you.\r\n","title":"How to get subnet mask of local system using java?","body":"<p>I devised an IPv4 only solution that is simple enough. I needed that to generate netmask for subnetworks here in order to delegate those subnets correctly. I know I could have generated a table of the 32 possible masks, but I prefered to get it computed each time.</p>\n\n<p>So here is my solution.</p>\n\n<pre><code>/*\n * Get network mask for the IP address and network prefix specified...\n * The network mask will be returned has an IP, thus you can\n * print it out with .getHostAddress()...\n */\npublic static InetAddress getIPv4LocalNetMask(InetAddress ip, int netPrefix) {\n\n    try {\n        // Since this is for IPv4, it's 32 bits, so set the sign value of\n        // the int to \"negative\"...\n        int shiftby = (1&lt;&lt;31);\n        // For the number of bits of the prefix -1 (we already set the sign bit)\n        for (int i=netPrefix-1; i&gt;0; i--) {\n            // Shift the sign right... Java makes the sign bit sticky on a shift...\n            // So no need to \"set it back up\"...\n            shiftby = (shiftby &gt;&gt; 1);\n        }\n        // Transform the resulting value in xxx.xxx.xxx.xxx format, like if\n        /// it was a standard address...\n        String maskString = Integer.toString((shiftby &gt;&gt; 24) &amp; 255) + \".\" + Integer.toString((shiftby &gt;&gt; 16) &amp; 255) + \".\" + Integer.toString((shiftby &gt;&gt; 8) &amp; 255) + \".\" + Integer.toString(shiftby &amp; 255);\n        // Return the address thus created...\n        return InetAddress.getByName(maskString);\n    }\n        catch(Exception e){e.printStackTrace();\n    }\n    // Something went wrong here...\n    return null;\n}\n</code></pre>\n\n<p>You just call it with the IP and the prefix you want to use, it will generate the netmask for you.</p>\n"},{"tags":[],"owner":{"account_id":675134,"reputation":21,"user_id":519810,"display_name":"tak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1290671749,"creation_date":1290671749,"answer_id":4274781,"question_id":1221517,"body_markdown":"I just finished working on an API for subnetting networks with Java.\r\n\r\nhttps://launchpad.net/subnettingapi\r\n\r\nit has that functionality and more.","title":"How to get subnet mask of local system using java?","body":"<p>I just finished working on an API for subnetting networks with Java.</p>\n\n<p><a href=\"https://launchpad.net/subnettingapi\" rel=\"nofollow\">https://launchpad.net/subnettingapi</a></p>\n\n<p>it has that functionality and more.</p>\n"},{"tags":[],"owner":{"account_id":2227732,"reputation":61,"user_id":1966089,"display_name":"Mr.Dohai"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357809912,"creation_date":1357808553,"answer_id":14254106,"question_id":1221517,"body_markdown":"I found that:\r\n\r\n    NetworkInterface networkInterface = NetworkInterface.getByInetAddress(localHost);\r\n\r\nTo get subnetmask for ipv6 we can use:\r\n\r\n     networkInterface.getInterfaceAddresses().get(0).getNetworkPrefixLength(); \r\n\r\n\r\nTo get subnetmask for ipv4 we can use:\r\n\r\n    networkInterface.getInterfaceAddresses().get(1).getNetworkPrefixLength();","title":"How to get subnet mask of local system using java?","body":"<p>I found that:</p>\n\n<pre><code>NetworkInterface networkInterface = NetworkInterface.getByInetAddress(localHost);\n</code></pre>\n\n<p>To get subnetmask for ipv6 we can use:</p>\n\n<pre><code> networkInterface.getInterfaceAddresses().get(0).getNetworkPrefixLength(); \n</code></pre>\n\n<p>To get subnetmask for ipv4 we can use:</p>\n\n<pre><code>networkInterface.getInterfaceAddresses().get(1).getNetworkPrefixLength();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":540414,"reputation":3849,"user_id":908608,"accept_rate":25,"display_name":"infografnet"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1358208690,"creation_date":1358208690,"answer_id":14329116,"question_id":1221517,"body_markdown":"Here is an answer, how to get a submask from WIFI connection: [link](https://stackoverflow.com/questions/5387036/how-to-get-gateway-and-subnet-mask-details-in-android-programmatically)\r\n\r\nI adapted it for my needs, and here it is:\r\n\r\n\tprivate static String intToIP(int ipAddress) {\r\n\t\tString ret = String.format(&quot;%d.%d.%d.%d&quot;, (ipAddress &amp; 0xff),\r\n\t\t\t\t(ipAddress &gt;&gt; 8 &amp; 0xff), (ipAddress &gt;&gt; 16 &amp; 0xff),\r\n\t\t\t\t(ipAddress &gt;&gt; 24 &amp; 0xff));\r\n\t\t\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tpublic static String GetSubnetMask_WIFI() {\r\n\r\n\t\tWifiManager wifiManager = (WifiManager) Global.getMainActivity()\r\n\t\t\t\t.getSystemService(Context.WIFI_SERVICE);\r\n\t\tWifiInfo wifiInfo = wifiManager.getConnectionInfo();\r\n\r\n\t\tDhcpInfo dhcp = wifiManager.getDhcpInfo();\r\n\t\tString mask = intToIP(dhcp.netmask);\r\n\t\t\t\t\t\t\r\n\t\treturn mask;\r\n\t}","title":"How to get subnet mask of local system using java?","body":"<p>Here is an answer, how to get a submask from WIFI connection: <a href=\"https://stackoverflow.com/questions/5387036/how-to-get-gateway-and-subnet-mask-details-in-android-programmatically\">link</a></p>\n\n<p>I adapted it for my needs, and here it is:</p>\n\n<pre><code>private static String intToIP(int ipAddress) {\n    String ret = String.format(\"%d.%d.%d.%d\", (ipAddress &amp; 0xff),\n            (ipAddress &gt;&gt; 8 &amp; 0xff), (ipAddress &gt;&gt; 16 &amp; 0xff),\n            (ipAddress &gt;&gt; 24 &amp; 0xff));\n\n    return ret;\n}\n\npublic static String GetSubnetMask_WIFI() {\n\n    WifiManager wifiManager = (WifiManager) Global.getMainActivity()\n            .getSystemService(Context.WIFI_SERVICE);\n    WifiInfo wifiInfo = wifiManager.getConnectionInfo();\n\n    DhcpInfo dhcp = wifiManager.getDhcpInfo();\n    String mask = intToIP(dhcp.netmask);\n\n    return mask;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4631559,"reputation":707,"user_id":3753943,"display_name":"Interkot"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1679614194,"creation_date":1444713170,"answer_id":33094601,"question_id":1221517,"body_markdown":"You can convert the ipv4 obtained value into the standard textual ipv4 format like this:\r\n\r\n    short prflen=...getNetworkPrefixLength();\r\n    int shft = 0xffffffff&lt;&lt;(32-prflen);\r\n    int oct1 = ((byte) ((shft&amp;0xff000000)&gt;&gt;24)) &amp; 0xff;\r\n    int oct2 = ((byte) ((shft&amp;0x00ff0000)&gt;&gt;16)) &amp; 0xff;\r\n    int oct3 = ((byte) ((shft&amp;0x0000ff00)&gt;&gt;8)) &amp; 0xff;\r\n    int oct4 = ((byte) (shft&amp;0x000000ff)) &amp; 0xff;\r\n    String submask = oct1+&quot;.&quot;+oct2+&quot;.&quot;+oct3+&quot;.&quot;+oct4;\r\n\r\n","title":"How to get subnet mask of local system using java?","body":"<p>You can convert the ipv4 obtained value into the standard textual ipv4 format like this:</p>\n<pre><code>short prflen=...getNetworkPrefixLength();\nint shft = 0xffffffff&lt;&lt;(32-prflen);\nint oct1 = ((byte) ((shft&amp;0xff000000)&gt;&gt;24)) &amp; 0xff;\nint oct2 = ((byte) ((shft&amp;0x00ff0000)&gt;&gt;16)) &amp; 0xff;\nint oct3 = ((byte) ((shft&amp;0x0000ff00)&gt;&gt;8)) &amp; 0xff;\nint oct4 = ((byte) (shft&amp;0x000000ff)) &amp; 0xff;\nString submask = oct1+&quot;.&quot;+oct2+&quot;.&quot;+oct3+&quot;.&quot;+oct4;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14621227,"reputation":21,"user_id":10559850,"display_name":"Israel Jimenez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626275030,"creation_date":1540499475,"answer_id":52997652,"question_id":1221517,"body_markdown":"In summary, a method to obtain the mask would be like this:\r\n\r\n```java\r\npublic String mascara() throws SocketException{\r\n\ttry{\r\n\t\tInetAddress localHost = Inet4Address.getLocalHost();\r\n\t\tNetworkInterface networkInterface = NetworkInterface.getByInetAddress(localHost);\r\n\t\tprefijo = \r\n\t\t\t&quot;&quot;+networkInterface.getInterfaceAddresses().get(0).getNetworkPrefixLength();\r\n\t\tint shft = 0xffffffff&lt;&lt;(32- \r\n\t\t\t\tnetworkInterface.getInterfaceAddresses().get(0).getNetworkPrefixLength());\r\n\t\tint oct1 = ((byte) ((shft&amp;0xff000000)&gt;&gt;24)) &amp; 0xff;\r\n\t\tint oct2 = ((byte) ((shft&amp;0x00ff0000)&gt;&gt;16)) &amp; 0xff;\r\n\t\tint oct3 = ((byte) ((shft&amp;0x0000ff00)&gt;&gt;8)) &amp; 0xff;\r\n\t\tint oct4 = ((byte) (shft&amp;0x000000ff)) &amp; 0xff;\r\n\t\tmascara = oct1+&quot;.&quot;+oct2+&quot;.&quot;+oct3+&quot;.&quot;+oct4;\r\n\t\t// System.out.println(&quot;&quot;+mascara);           \r\n\t}catch(UnknownHostException e){\r\n\t\tSystem.out.println(&quot;Error: &quot;+e);\r\n\t}\r\n\treturn mascara;\r\n}\r\n```","title":"How to get subnet mask of local system using java?","body":"<p>In summary, a method to obtain the mask would be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String mascara() throws SocketException{\n    try{\n        InetAddress localHost = Inet4Address.getLocalHost();\n        NetworkInterface networkInterface = NetworkInterface.getByInetAddress(localHost);\n        prefijo = \n            &quot;&quot;+networkInterface.getInterfaceAddresses().get(0).getNetworkPrefixLength();\n        int shft = 0xffffffff&lt;&lt;(32- \n                networkInterface.getInterfaceAddresses().get(0).getNetworkPrefixLength());\n        int oct1 = ((byte) ((shft&amp;0xff000000)&gt;&gt;24)) &amp; 0xff;\n        int oct2 = ((byte) ((shft&amp;0x00ff0000)&gt;&gt;16)) &amp; 0xff;\n        int oct3 = ((byte) ((shft&amp;0x0000ff00)&gt;&gt;8)) &amp; 0xff;\n        int oct4 = ((byte) (shft&amp;0x000000ff)) &amp; 0xff;\n        mascara = oct1+&quot;.&quot;+oct2+&quot;.&quot;+oct3+&quot;.&quot;+oct4;\n        // System.out.println(&quot;&quot;+mascara);           \n    }catch(UnknownHostException e){\n        System.out.println(&quot;Error: &quot;+e);\n    }\n    return mascara;\n}\n</code></pre>\n"}],"owner":{"account_id":50192,"reputation":529,"user_id":149621,"accept_rate":0,"display_name":"user149621"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66345,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":9,"score":26,"last_activity_date":1679614194,"creation_date":1249293611,"question_id":1221517,"body_markdown":"How do you get the `Subnet` mask address of the local system using Java?","title":"How to get subnet mask of local system using java?","body":"<p>How do you get the <code>Subnet</code> mask address of the local system using Java?</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679603775,"post_id":75827645,"comment_id":133755892,"body_markdown":"No, `synchronized` just locks a single object.","body":"No, <code>synchronized</code> just locks a single object."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679604508,"post_id":75827645,"comment_id":133756075,"body_markdown":"Could you supply some code?  Synchronizing three locks in general is a pretty tricky situation.  (C.f. &quot;Dining Philosophers&quot; problem.)  It might benefit from further commentary.","body":"Could you supply some code?  Synchronizing three locks in general is a pretty tricky situation.  (C.f. &quot;Dining Philosophers&quot; problem.)  It might benefit from further commentary."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679604676,"post_id":75827645,"comment_id":133756116,"body_markdown":"Still discussing synchronizing more than one lock, note this sentence just after the one you quoted: *&quot;(Invoking other objects&#39; methods from synchronized code can create problems that are described in the section on Liveness.)&quot;* and it goes on to explain both deadlock and live lock.","body":"Still discussing synchronizing more than one lock, note this sentence just after the one you quoted: <i>&quot;(Invoking other objects&#39; methods from synchronized code can create problems that are described in the section on Liveness.)&quot;</i> and it goes on to explain both deadlock and live lock."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679604863,"post_id":75827645,"comment_id":133756170,"body_markdown":"I think the OP just wants to synchronize their `ServerState` instance.","body":"I think the OP just wants to synchronize their <code>ServerState</code> instance."},{"owner":{"account_id":4758075,"reputation":581,"user_id":3846286,"accept_rate":71,"display_name":"chilliefiber"},"score":0,"creation_date":1679654273,"post_id":75827645,"comment_id":133763582,"body_markdown":"@markspace I am aware of the Dining Philosophers problem, I&#39;m just a programmer used to C trying to navigate a Java world :( I didn&#39;t supply code because all I needed was this simple fact.","body":"@markspace I am aware of the Dining Philosophers problem, I&#39;m just a programmer used to C trying to navigate a Java world :( I didn&#39;t supply code because all I needed was this simple fact."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679613138,"creation_date":1679613138,"answer_id":75828737,"question_id":75827645,"body_markdown":"Synchronization doesn&#39;t look at the details of the instance which it is locking. It just takes a lock on the &quot;intrinsic lock&quot; which every Java object has.\r\n\r\nSo it has no effect on the other objects that the first object may hold references to in its fields.\r\n\r\nHere&#39;s an example which I think illustrates your question.\r\n\r\nThe `ServerState` class contains a mutable `String`, named `state`, and the method `ServerState.addString` appends a `String` to `state`.\r\n\r\nThe method `addString` has been written to guarantee a thread safety problem -- it sleeps between getting the current value of `state` and assigning the new value to `state`.\r\n\r\nRun the program, and you&#39;ll see that the final value of `state` is `admin`, when we would expect `useradmin`.\r\n\r\nMake sure that you understand why this is happening.\r\n\r\nYou can try adding `synchronized` to the two `setStateString` methods, and you&#39;ll see it makes no difference.\r\n\r\nNow just make `addString` `synchronized`. That fixes the thread safety problem because now the reading and updating of the `state` field is atomic -- both operations happen at the same time from the point of view of other threads.\r\n\r\n```\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nclass UserImpl {\r\n    private final ServerState state;\r\n\r\n    UserImpl(ServerState state) {\r\n        this.state = state;\r\n    }\r\n\r\n    public synchronized void setStateString(String s) {\r\n        state.addString(s);\r\n    }\r\n}\r\n\r\nclass AdminImpl {\r\n    private final ServerState state;\r\n\r\n    AdminImpl(ServerState state) {\r\n        this.state = state;\r\n    }\r\n\r\n    public synchronized void setStateString(String s) {\r\n        state.addString(s);\r\n    }\r\n}\r\n\r\nclass ServerState {\r\n    private volatile String state = &quot;&quot;;\r\n\r\n    public void addString(String s) {\r\n        String oldState = state;\r\n        System.out.println(Thread.currentThread().getName() + &quot; In addString: adding &quot; + s + &quot;, oldState = &quot; + oldState);\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        state = oldState + s;\r\n        System.out.println(Thread.currentThread().getName() + &quot; In addString: set &quot; + state);\r\n    }\r\n\r\n    public String getState() {\r\n        return state;\r\n    }\r\n}\r\n\r\npublic class X {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ServerState state = new ServerState();\r\n        AdminImpl admin = new AdminImpl(state);\r\n        UserImpl user = new UserImpl(state);\r\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\r\n        executorService.submit(() -&gt; user.setStateString(&quot;user&quot;));\r\n        executorService.submit(() -&gt; admin.setStateString(&quot;admin&quot;));\r\n        executorService.shutdown();\r\n        executorService.awaitTermination(2500L, TimeUnit.MILLISECONDS);\r\n        System.out.println(state.getState());\r\n    }\r\n}\r\n```","title":"Java synchronizing object attributes - does synchronize acquire all locks?","body":"<p>Synchronization doesn't look at the details of the instance which it is locking. It just takes a lock on the &quot;intrinsic lock&quot; which every Java object has.</p>\n<p>So it has no effect on the other objects that the first object may hold references to in its fields.</p>\n<p>Here's an example which I think illustrates your question.</p>\n<p>The <code>ServerState</code> class contains a mutable <code>String</code>, named <code>state</code>, and the method <code>ServerState.addString</code> appends a <code>String</code> to <code>state</code>.</p>\n<p>The method <code>addString</code> has been written to guarantee a thread safety problem -- it sleeps between getting the current value of <code>state</code> and assigning the new value to <code>state</code>.</p>\n<p>Run the program, and you'll see that the final value of <code>state</code> is <code>admin</code>, when we would expect <code>useradmin</code>.</p>\n<p>Make sure that you understand why this is happening.</p>\n<p>You can try adding <code>synchronized</code> to the two <code>setStateString</code> methods, and you'll see it makes no difference.</p>\n<p>Now just make <code>addString</code> <code>synchronized</code>. That fixes the thread safety problem because now the reading and updating of the <code>state</code> field is atomic -- both operations happen at the same time from the point of view of other threads.</p>\n<pre><code>import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\nclass UserImpl {\n    private final ServerState state;\n\n    UserImpl(ServerState state) {\n        this.state = state;\n    }\n\n    public synchronized void setStateString(String s) {\n        state.addString(s);\n    }\n}\n\nclass AdminImpl {\n    private final ServerState state;\n\n    AdminImpl(ServerState state) {\n        this.state = state;\n    }\n\n    public synchronized void setStateString(String s) {\n        state.addString(s);\n    }\n}\n\nclass ServerState {\n    private volatile String state = &quot;&quot;;\n\n    public void addString(String s) {\n        String oldState = state;\n        System.out.println(Thread.currentThread().getName() + &quot; In addString: adding &quot; + s + &quot;, oldState = &quot; + oldState);\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        state = oldState + s;\n        System.out.println(Thread.currentThread().getName() + &quot; In addString: set &quot; + state);\n    }\n\n    public String getState() {\n        return state;\n    }\n}\n\npublic class X {\n    public static void main(String[] args) throws InterruptedException {\n        ServerState state = new ServerState();\n        AdminImpl admin = new AdminImpl(state);\n        UserImpl user = new UserImpl(state);\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\n        executorService.submit(() -&gt; user.setStateString(&quot;user&quot;));\n        executorService.submit(() -&gt; admin.setStateString(&quot;admin&quot;));\n        executorService.shutdown();\n        executorService.awaitTermination(2500L, TimeUnit.MILLISECONDS);\n        System.out.println(state.getState());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4758075,"reputation":581,"user_id":3846286,"accept_rate":71,"display_name":"chilliefiber"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75828737,"answer_count":1,"score":0,"last_activity_date":1679613138,"creation_date":1679602738,"question_id":75827645,"body_markdown":"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\r\nSays &quot;In this example, the addName method needs to synchronize changes to lastName and nameCount, but also needs to avoid synchronizing invocations of other objects&#39; methods. (Invoking other objects&#39; methods from synchronized code can create problems that are described in the section on Liveness.)&quot;\r\n\r\nI actually want to synchronize another object. There are 3 classes, AdminImpl, UserImpl, ServerState.\r\n\r\nThe same instance of ServerState is an attribute in both AdminImpl and UserImpl.\r\n\r\nIf I write a critical section in UserImpl with `synchronized(this)`, will it acquire the lock of both UserImpl and the instance of ServerState that is an attribute of UserImpl? Meaning, will AdminImpl not be able to be in a (different) critical section at the same time as UserImpl, because to be in a synchronized section of AdminImpl it needs to acquire both locks (of AdminImpl and ServerState), and can&#39;t acquire the second one because it is acquired by UserImpl?\r\n\r\nI have found some questions about synchronized such as \r\nhttps://stackoverflow.com/questions/5647936/java-method-synchronization-object\r\nhttps://stackoverflow.com/questions/52133130/confusing-java-synchronized-method-synchronizedthis-and-synchronized-class\r\nhttps://stackoverflow.com/questions/37805284/whats-the-difference-between-synchronizedthis-and-synchronizedsome-other-obj\r\n\r\nbut none touches on this point\r\n\r\n","title":"Java synchronizing object attributes - does synchronize acquire all locks?","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html</a>\nSays &quot;In this example, the addName method needs to synchronize changes to lastName and nameCount, but also needs to avoid synchronizing invocations of other objects' methods. (Invoking other objects' methods from synchronized code can create problems that are described in the section on Liveness.)&quot;</p>\n<p>I actually want to synchronize another object. There are 3 classes, AdminImpl, UserImpl, ServerState.</p>\n<p>The same instance of ServerState is an attribute in both AdminImpl and UserImpl.</p>\n<p>If I write a critical section in UserImpl with <code>synchronized(this)</code>, will it acquire the lock of both UserImpl and the instance of ServerState that is an attribute of UserImpl? Meaning, will AdminImpl not be able to be in a (different) critical section at the same time as UserImpl, because to be in a synchronized section of AdminImpl it needs to acquire both locks (of AdminImpl and ServerState), and can't acquire the second one because it is acquired by UserImpl?</p>\n<p>I have found some questions about synchronized such as\n<a href=\"https://stackoverflow.com/questions/5647936/java-method-synchronization-object\">java method synchronization object</a>\n<a href=\"https://stackoverflow.com/questions/52133130/confusing-java-synchronized-method-synchronizedthis-and-synchronized-class\">Confusing Java synchronized method, synchronized(this), and synchronized class</a>\n<a href=\"https://stackoverflow.com/questions/37805284/whats-the-difference-between-synchronizedthis-and-synchronizedsome-other-obj\">What&#39;s the difference between synchronized(this) and synchronized(some other object)</a></p>\n<p>but none touches on this point</p>\n"},{"tags":["java","repast-simphony"],"owner":{"account_id":15765449,"reputation":1,"user_id":19462225,"display_name":"Katie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679612093,"creation_date":1679598538,"question_id":75827116,"body_markdown":"I am creating a model with repast simphony and I am trying to conduct batch runs on a cluster. More specifically, I am using slurm. I tested my batch run configuration on my local machine, and my results were exported and aggregated as expected. \r\n\r\nHowever, when I use the model archive (.jar file) and run it on a cluster using slurm, then my model only runs once, rather than multiple times. I know this because when I check my outputs after running the *./outputcombiner.sh* command, I only have results from one run. \r\n\r\nMy process includes unzipping the complete_model.jar file in the cluster, then editing the repast.slurm file, checking the batch_params.xml file (that says runs=X), then running the *chmod +x *.sh command*, and finally running the *sbatch repast.slurm*. **Is there a step I am missing when setting up the batch runs on the cluster? **\r\n\r\nI tried many methods to solve this issue. I tried editing the batch_params.xml file and the repastwrapper.sh file to ensure that runs was greater than 1. This still resulted in my model only running once. I tried changing the parameters in the repast.slurm file, but for now, I have kept-- \r\n\r\n```\r\n`#!/bin/bash           \r\n#SBATCH   --job-name=MYJOB \r\n#SBATCH   --partition=normal \r\n#SBATCH   --nodes=1  \r\n#SBATCH   --ntasks-per-node=1 \r\n#SBATCH   --time=0-02:00:00         \r\n#SBATCH   --output=output.txt         \r\n#SBATCH   --mem-per-cpu=2GB \r\n\r\nmodule load openjdk `\r\n```\r\n\r\n","title":"Repast Simphony Batch Runs Only Running Once on Cluster","body":"<p>I am creating a model with repast simphony and I am trying to conduct batch runs on a cluster. More specifically, I am using slurm. I tested my batch run configuration on my local machine, and my results were exported and aggregated as expected.</p>\n<p>However, when I use the model archive (.jar file) and run it on a cluster using slurm, then my model only runs once, rather than multiple times. I know this because when I check my outputs after running the <em>./outputcombiner.sh</em> command, I only have results from one run.</p>\n<p>My process includes unzipping the complete_model.jar file in the cluster, then editing the repast.slurm file, checking the batch_params.xml file (that says runs=X), then running the *chmod +x <em>.sh command</em>, and finally running the <em>sbatch repast.slurm</em>. **Is there a step I am missing when setting up the batch runs on the cluster? **</p>\n<p>I tried many methods to solve this issue. I tried editing the batch_params.xml file and the repastwrapper.sh file to ensure that runs was greater than 1. This still resulted in my model only running once. I tried changing the parameters in the repast.slurm file, but for now, I have kept--</p>\n<pre><code>`#!/bin/bash           \n#SBATCH   --job-name=MYJOB \n#SBATCH   --partition=normal \n#SBATCH   --nodes=1  \n#SBATCH   --ntasks-per-node=1 \n#SBATCH   --time=0-02:00:00         \n#SBATCH   --output=output.txt         \n#SBATCH   --mem-per-cpu=2GB \n\nmodule load openjdk `\n</code></pre>\n"},{"tags":["java","spring","soap","spring-ws","java-17"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679523441,"post_id":75817548,"comment_id":133739545,"body_markdown":"What does java.xml look like? Is the XML parser for SOAP in a javax or Jakarta system and what level. What are all your cloud software supplied too.","body":"What does java.xml look like? Is the XML parser for SOAP in a javax or Jakarta system and what level. What are all your cloud software supplied too."},{"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"score":0,"creation_date":1679525526,"post_id":75817548,"comment_id":133739884,"body_markdown":"Need to check as I have limited visibility on the config and setup. trying to get something from cloud team but not much success","body":"Need to check as I have limited visibility on the config and setup. trying to get something from cloud team but not much success"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679525854,"post_id":75817548,"comment_id":133739942,"body_markdown":"E.g. is the spring app using Jakarta and the server using javax, you would need to find a suitable XML parser if you require to supply the parser and work in the correct proprietary name javax or Jakarta.","body":"E.g. is the spring app using Jakarta and the server using javax, you would need to find a suitable XML parser if you require to supply the parser and work in the correct proprietary name javax or Jakarta."},{"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"score":0,"creation_date":1679527716,"post_id":75817548,"comment_id":133740185,"body_markdown":"Agree but seems some changes from Java 11 to 17 since the same code and dependencies were working as expected.","body":"Agree but seems some changes from Java 11 to 17 since the same code and dependencies were working as expected."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679528446,"post_id":75817548,"comment_id":133740273,"body_markdown":"Sorry I slightly misread the error, it thinks the java.xml is a module, take a look for syntax errors &quot;in your code&quot; at the lines in the files the error specifies that may be causing the java.xml to be read. Bad comment block? Unterminated line?  ...  There is also potential you have not made your class extended from the required SOAP class for the service or implemented a required interface for soap , or imported statement. Check around INIT method in your code.","body":"Sorry I slightly misread the error, it thinks the java.xml is a module, take a look for syntax errors &quot;in your code&quot; at the lines in the files the error specifies that may be causing the java.xml to be read. Bad comment block? Unterminated line?  ...  There is also potential you have not made your class extended from the required SOAP class for the service or implemented a required interface for soap , or imported statement. Check around INIT method in your code."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679528622,"post_id":75817548,"comment_id":133740291,"body_markdown":"SOSP if it isn&#39;t a simple message is considered to require &quot;large&quot; web service classes or interfaces.","body":"SOSP if it isn&#39;t a simple message is considered to require &quot;large&quot; web service classes or interfaces."},{"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"score":0,"creation_date":1679534769,"post_id":75817548,"comment_id":133740950,"body_markdown":"@SamuelMarchant I think the point on the response/request having some Unterminated line seems a valid point..let me check","body":"@SamuelMarchant I think the point on the response/request having some Unterminated line seems a valid point..let me check"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679539910,"post_id":75817548,"comment_id":133741441,"body_markdown":"java.xml is a bit deceitful in the error message , it is referring to the java package used in javax.xml.ws.Endpoint , that &quot;probably&quot; corresponds to the bean configuration ${vertex.service.create.customer.endpoint} , it probably does not evaluate if that is a special startup environment variable. You should show your complete code to know if it is not simply a config import issue or a missing .jar","body":"java.xml is a bit deceitful in the error message , it is referring to the java package used in javax.xml.ws.Endpoint , that &quot;probably&quot; corresponds to the bean configuration ${vertex.service.create.customer.endpoint} , it probably does not evaluate if that is a special startup environment variable. You should show your complete code to know if it is not simply a config import issue or a missing .jar"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679541185,"post_id":75817548,"comment_id":133741569,"body_markdown":"To narrow it your source code does not have the import statement for com.sun.org.apache.xerces.internal.dom.*;  for Xerces xml parser perhaps your saaj-impl does not have this or Xerces xml parser, go find a variant of saaj-impl that has it","body":"To narrow it your source code does not have the import statement for com.sun.org.apache.xerces.internal.dom.*;  for Xerces xml parser perhaps your saaj-impl does not have this or Xerces xml parser, go find a variant of saaj-impl that has it"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679542396,"post_id":75817548,"comment_id":133741703,"body_markdown":"https://github.com/eclipse-ee4j/metro-saaj/issues/165        https://github.com/eclipse-ee4j/metro-jax-ws/issues/93         Dependent your server  https://knowledge.informatica.com/s/article/622570?language=en_US","body":"<a href=\"https://github.com/eclipse-ee4j/metro-saaj/issues/165\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/metro-saaj/issues/165</a>        <a href=\"https://github.com/eclipse-ee4j/metro-jax-ws/issues/93\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/metro-jax-ws/issues/93</a>         Dependent your server  <a href=\"https://knowledge.informatica.com/s/article/622570?language=en_US\" rel=\"nofollow noreferrer\">knowledge.informatica.com/s/article/622570?language=en_US</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679545330,"post_id":75817548,"comment_id":133742007,"body_markdown":"Artifact org.apache.servicemix.bundles.saaj-impl\nGroup org.apache.servicemix.bundles\nVersion 1.5.1_1\nLast update 03. February 2019\nTags: impl file bundle osgi this wraps saaj\n\nLicense not specified\nDependencies amount 4\nDependencies stax-ex, stax-api, activation, org.apache.servicemix.specs.saaj-api-1.3,\n\n https://jar-download.com/maven-repository-class-search.php?search_box=com.sun.org.apache.xerces.internal.dom.DocumentImpl\n\norg.apache.servicemix.bundles.saaj-impl-1.5.1_1.jar  ? needs any  javax or jakarta or transparent note SE core has xml and node processing classes.","body":"Artifact org.apache.servicemix.bundles.saaj-impl Group org.apache.servicemix.bundles Version 1.5.1_1 Last update 03. February 2019 Tags: impl file bundle osgi this wraps saaj  License not specified Dependencies amount 4 Dependencies stax-ex, stax-api, activation, org.apache.servicemix.specs.saaj-api-1.3,   <a href=\"https://jar-download.com/maven-repository-class-search.php?search_box=com.sun.org.apache.xerces.internal.dom.DocumentImpl\" rel=\"nofollow noreferrer\">jar-download.com/&hellip;</a>  org.apache.servicemix.bundles.saaj-impl-1.5.1_1.jar  ? needs any  javax or jakarta or transparent note SE core has xml and node processing classes."}],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679611683,"creation_date":1679521840,"question_id":75817548,"body_markdown":"I am getting the following error while using spring-ws-core.3.1.1. This was working fine except we have upgraded our platform and require us to use Java 17 (previous version was build on Java 11). Here is the code calling external service.\r\n\r\n    customerRequestType = buildCustomerRequest(customerModel);\r\n    ObjectFactory objectFactory = new ObjectFactory();\r\n    JAXBElement &lt; CreateCustomerRequestType &gt; jaxb = objectFactory.createCreateCustomerReques(customerRequestType);\r\n    JAXBElement &lt; CreateCustomerResponseType &gt; responseJaxb = (JAXBElement &lt; CreateCustomerResponseType &gt; ) customWebServiceTemplate.marshalSendAndReceive(jaxb);\r\n    CreateCustomerResponseType customerResponse = responseJaxb.getValue();\r\n\r\nhere is the Spring definition\r\n\r\n    &lt;bean id=&quot;customWebServiceTemplate&quot; class=&quot;org.springframework.ws.client.core.WebServiceTemplate&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;clientMessageFactory&quot; /&gt;\r\n        &lt;property name=&quot;defaultUri&quot; value=&quot;${vertex.service.create.customer.endpoint}&quot; /&gt;\r\n        &lt;property name=&quot;marshaller&quot; ref=&quot;customerJaxbMarshaller&quot; /&gt;\r\n        &lt;property name=&quot;unmarshaller&quot; ref=&quot;customerJaxbMarshaller&quot; /&gt;\r\n        &lt;property name=&quot;messageSender&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.ws.transport.http.HttpComponentsMessageSender&quot;&gt;\r\n                &lt;property name=&quot;connectionTimeout&quot; value=&quot;5000&quot; /&gt;\r\n                &lt;property name=&quot;readTimeout&quot; value=&quot;5000&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nThere is complex logic or anything, while calling the external endpoint, this is what I can see in the error log\r\n\r\n        &quot;thrown&quot;: {\r\n        &quot;localizedMessage&quot;: &quot;superclass access check failed: class com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl (in unnamed module @0x7045bf72) cannot access class com.sun.org.apache.xerces.internal.dom.DocumentImpl (in module java.xml) because module java.xml does not export com.sun.org.apache.xerces.internal.dom to unnamed module @0x7045bf72&quot;,\r\n        &quot;extendedStackTrace&quot;: [\r\n            {\r\n                &quot;line&quot;: 106,\r\n                &quot;class&quot;: &quot;com.sun.xml.messaging.saaj.soap.SOAPPartImpl&quot;,\r\n                &quot;file&quot;: &quot;SOAPPartImpl.java&quot;,\r\n                &quot;method&quot;: &quot;&lt;init&gt;&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 70,\r\n                &quot;class&quot;: &quot;com.sun.xml.messaging.saaj.soap.ver1_1.SOAPPart1_1Impl&quot;,\r\n                &quot;file&quot;: &quot;SOAPPart1_1Impl.java&quot;,\r\n                &quot;method&quot;: &quot;&lt;init&gt;&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 96,\r\n                &quot;class&quot;: &quot;com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl&quot;,\r\n                &quot;file&quot;: &quot;Message1_1Impl.java&quot;,\r\n                &quot;method&quot;: &quot;getSOAPPart&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 138,\r\n                &quot;class&quot;: &quot;org.springframework.ws.soap.saaj.SaajSoapMessage&quot;,\r\n                &quot;file&quot;: &quot;SaajSoapMessage.java&quot;,\r\n                &quot;method&quot;: &quot;getEnvelope&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 38,\r\n                &quot;class&quot;: &quot;org.springframework.ws.soap.AbstractSoapMessage&quot;,\r\n                &quot;file&quot;: &quot;AbstractSoapMessage.java&quot;,\r\n                &quot;method&quot;: &quot;getSoapBody&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 56,\r\n                &quot;class&quot;: &quot;org.springframework.ws.soap.AbstractSoapMessage&quot;,\r\n                &quot;file&quot;: &quot;AbstractSoapMessage.java&quot;,\r\n                &quot;method&quot;: &quot;getPayloadResult&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 79,\r\n                &quot;class&quot;: &quot;org.springframework.ws.support.MarshallingUtils&quot;,\r\n                &quot;file&quot;: &quot;MarshallingUtils.java&quot;,\r\n                &quot;method&quot;: &quot;marshal&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 402,\r\n                &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate$2&quot;,\r\n                &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\r\n                &quot;method&quot;: &quot;doWithMessage&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 572,\r\n                &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\r\n                &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\r\n                &quot;method&quot;: &quot;doSendAndReceive&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 542,\r\n                &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\r\n                &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\r\n                &quot;method&quot;: &quot;sendAndReceive&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 394,\r\n                &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\r\n                &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\r\n                &quot;method&quot;: &quot;marshalSendAndReceive&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 388,\r\n                &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\r\n                &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\r\n                &quot;method&quot;: &quot;marshalSendAndReceive&quot;\r\n            },\r\n            {\r\n                &quot;line&quot;: 378,\r\n                &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\r\n                &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\r\n                &quot;method&quot;: &quot;marshalSendAndReceive&quot;\r\n            }\r\n\r\nSince its a managed cloud environment, I have limited options while compiling the code or passing any additional parameter to JVM. Anyone have any idea what might be the RCA and what can be the corrective action to fix this issue?\r\n\r\n**Edit**\r\nI am able to get some details on the error, this is what the original error look like\r\n\r\n    Method threw &#39;java.lang.IllegalAccessError&#39; exception. Cannot evaluate org.springframework.ws.soap.saaj.SaajSoapMessage.toString()\r\n\r\nThis is thrown by `MarshallingUtils` class in Spring-WS. Here is the method\r\n\r\n     public static void marshal(Marshaller marshaller, Object graph, WebServiceMessage message) throws IOException {\r\n            if (marshaller instanceof MimeMarshaller &amp;&amp; message instanceof MimeMessage) {\r\n                MimeMarshaller mimeMarshaller = (MimeMarshaller)marshaller;\r\n                MimeMessageContainer container = new MimeMessageContainer((MimeMessage)message);\r\n                mimeMarshaller.marshal(graph, message.getPayloadResult(), container);\r\n            } else {\r\n                marshaller.marshal(graph, message.getPayloadResult());\r\n            }\r\n    \r\n        }\r\n\r\n     MimeMessageContainer container = new MimeMessageContainer((MimeMessage)message)\r\nabove line seems to create the issue when trying ti build the SOAP request","title":"superclass access check failed: class com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl","body":"<p>I am getting the following error while using spring-ws-core.3.1.1. This was working fine except we have upgraded our platform and require us to use Java 17 (previous version was build on Java 11). Here is the code calling external service.</p>\n<pre><code>customerRequestType = buildCustomerRequest(customerModel);\nObjectFactory objectFactory = new ObjectFactory();\nJAXBElement &lt; CreateCustomerRequestType &gt; jaxb = objectFactory.createCreateCustomerReques(customerRequestType);\nJAXBElement &lt; CreateCustomerResponseType &gt; responseJaxb = (JAXBElement &lt; CreateCustomerResponseType &gt; ) customWebServiceTemplate.marshalSendAndReceive(jaxb);\nCreateCustomerResponseType customerResponse = responseJaxb.getValue();\n</code></pre>\n<p>here is the Spring definition</p>\n<pre><code>&lt;bean id=&quot;customWebServiceTemplate&quot; class=&quot;org.springframework.ws.client.core.WebServiceTemplate&quot;&gt;\n    &lt;constructor-arg ref=&quot;clientMessageFactory&quot; /&gt;\n    &lt;property name=&quot;defaultUri&quot; value=&quot;${vertex.service.create.customer.endpoint}&quot; /&gt;\n    &lt;property name=&quot;marshaller&quot; ref=&quot;customerJaxbMarshaller&quot; /&gt;\n    &lt;property name=&quot;unmarshaller&quot; ref=&quot;customerJaxbMarshaller&quot; /&gt;\n    &lt;property name=&quot;messageSender&quot;&gt;\n        &lt;bean class=&quot;org.springframework.ws.transport.http.HttpComponentsMessageSender&quot;&gt;\n            &lt;property name=&quot;connectionTimeout&quot; value=&quot;5000&quot; /&gt;\n            &lt;property name=&quot;readTimeout&quot; value=&quot;5000&quot; /&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>There is complex logic or anything, while calling the external endpoint, this is what I can see in the error log</p>\n<pre><code>    &quot;thrown&quot;: {\n    &quot;localizedMessage&quot;: &quot;superclass access check failed: class com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl (in unnamed module @0x7045bf72) cannot access class com.sun.org.apache.xerces.internal.dom.DocumentImpl (in module java.xml) because module java.xml does not export com.sun.org.apache.xerces.internal.dom to unnamed module @0x7045bf72&quot;,\n    &quot;extendedStackTrace&quot;: [\n        {\n            &quot;line&quot;: 106,\n            &quot;class&quot;: &quot;com.sun.xml.messaging.saaj.soap.SOAPPartImpl&quot;,\n            &quot;file&quot;: &quot;SOAPPartImpl.java&quot;,\n            &quot;method&quot;: &quot;&lt;init&gt;&quot;\n        },\n        {\n            &quot;line&quot;: 70,\n            &quot;class&quot;: &quot;com.sun.xml.messaging.saaj.soap.ver1_1.SOAPPart1_1Impl&quot;,\n            &quot;file&quot;: &quot;SOAPPart1_1Impl.java&quot;,\n            &quot;method&quot;: &quot;&lt;init&gt;&quot;\n        },\n        {\n            &quot;line&quot;: 96,\n            &quot;class&quot;: &quot;com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl&quot;,\n            &quot;file&quot;: &quot;Message1_1Impl.java&quot;,\n            &quot;method&quot;: &quot;getSOAPPart&quot;\n        },\n        {\n            &quot;line&quot;: 138,\n            &quot;class&quot;: &quot;org.springframework.ws.soap.saaj.SaajSoapMessage&quot;,\n            &quot;file&quot;: &quot;SaajSoapMessage.java&quot;,\n            &quot;method&quot;: &quot;getEnvelope&quot;\n        },\n        {\n            &quot;line&quot;: 38,\n            &quot;class&quot;: &quot;org.springframework.ws.soap.AbstractSoapMessage&quot;,\n            &quot;file&quot;: &quot;AbstractSoapMessage.java&quot;,\n            &quot;method&quot;: &quot;getSoapBody&quot;\n        },\n        {\n            &quot;line&quot;: 56,\n            &quot;class&quot;: &quot;org.springframework.ws.soap.AbstractSoapMessage&quot;,\n            &quot;file&quot;: &quot;AbstractSoapMessage.java&quot;,\n            &quot;method&quot;: &quot;getPayloadResult&quot;\n        },\n        {\n            &quot;line&quot;: 79,\n            &quot;class&quot;: &quot;org.springframework.ws.support.MarshallingUtils&quot;,\n            &quot;file&quot;: &quot;MarshallingUtils.java&quot;,\n            &quot;method&quot;: &quot;marshal&quot;\n        },\n        {\n            &quot;line&quot;: 402,\n            &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate$2&quot;,\n            &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\n            &quot;method&quot;: &quot;doWithMessage&quot;\n        },\n        {\n            &quot;line&quot;: 572,\n            &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\n            &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\n            &quot;method&quot;: &quot;doSendAndReceive&quot;\n        },\n        {\n            &quot;line&quot;: 542,\n            &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\n            &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\n            &quot;method&quot;: &quot;sendAndReceive&quot;\n        },\n        {\n            &quot;line&quot;: 394,\n            &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\n            &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\n            &quot;method&quot;: &quot;marshalSendAndReceive&quot;\n        },\n        {\n            &quot;line&quot;: 388,\n            &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\n            &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\n            &quot;method&quot;: &quot;marshalSendAndReceive&quot;\n        },\n        {\n            &quot;line&quot;: 378,\n            &quot;class&quot;: &quot;org.springframework.ws.client.core.WebServiceTemplate&quot;,\n            &quot;file&quot;: &quot;WebServiceTemplate.java&quot;,\n            &quot;method&quot;: &quot;marshalSendAndReceive&quot;\n        }\n</code></pre>\n<p>Since its a managed cloud environment, I have limited options while compiling the code or passing any additional parameter to JVM. Anyone have any idea what might be the RCA and what can be the corrective action to fix this issue?</p>\n<p><strong>Edit</strong>\nI am able to get some details on the error, this is what the original error look like</p>\n<pre><code>Method threw 'java.lang.IllegalAccessError' exception. Cannot evaluate org.springframework.ws.soap.saaj.SaajSoapMessage.toString()\n</code></pre>\n<p>This is thrown by <code>MarshallingUtils</code> class in Spring-WS. Here is the method</p>\n<pre><code> public static void marshal(Marshaller marshaller, Object graph, WebServiceMessage message) throws IOException {\n        if (marshaller instanceof MimeMarshaller &amp;&amp; message instanceof MimeMessage) {\n            MimeMarshaller mimeMarshaller = (MimeMarshaller)marshaller;\n            MimeMessageContainer container = new MimeMessageContainer((MimeMessage)message);\n            mimeMarshaller.marshal(graph, message.getPayloadResult(), container);\n        } else {\n            marshaller.marshal(graph, message.getPayloadResult());\n        }\n\n    }\n\n MimeMessageContainer container = new MimeMessageContainer((MimeMessage)message)\n</code></pre>\n<p>above line seems to create the issue when trying ti build the SOAP request</p>\n"},{"tags":["java","io","pipe"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1679506987,"post_id":75815399,"comment_id":133735935,"body_markdown":"Just FYI, from the docs page for `exec()`: *&quot;\n **Deprecated.** This method is error-prone and should not be used, the corresponding method exec(String[]) or ProcessBuilder should be used instead.&quot;*","body":"Just FYI, from the docs page for <code>exec()</code>: <i>&quot;  <b>Deprecated.</b> This method is error-prone and should not be used, the corresponding method exec(String[]) or ProcessBuilder should be used instead.&quot;</i>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1679507692,"post_id":75815399,"comment_id":133736140,"body_markdown":"Does this answer your question? [How to make pipes work with Runtime.exec()?](https://stackoverflow.com/questions/5928225/how-to-make-pipes-work-with-runtime-exec)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5928225/how-to-make-pipes-work-with-runtime-exec\">How to make pipes work with Runtime.exec()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1534935,"reputation":9687,"user_id":1431244,"accept_rate":71,"display_name":"Oliver Dain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679611559,"creation_date":1679611559,"answer_id":75828596,"question_id":75815399,"body_markdown":"Java `ProcessBuilder` isn&#39;t running things via bash, it&#39;s running them &quot;directly&quot;. So the `|` is passed as an argument to `echo`, not to `bash`.\r\n\r\nOne option is to actually run `bash` (i.e. your first argument is `/bin/bash` instead of `echo`) and use bash&#39;s `-c` argument. Probably better, just run `script.sh` via `ProcessBuilder` and then use [Process.OutputStream](https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html) to send the input (`cd`) to the script right from Java.","title":"Java Process exec method won&#39;t let me pass input to a command","body":"<p>Java <code>ProcessBuilder</code> isn't running things via bash, it's running them &quot;directly&quot;. So the <code>|</code> is passed as an argument to <code>echo</code>, not to <code>bash</code>.</p>\n<p>One option is to actually run <code>bash</code> (i.e. your first argument is <code>/bin/bash</code> instead of <code>echo</code>) and use bash's <code>-c</code> argument. Probably better, just run <code>script.sh</code> via <code>ProcessBuilder</code> and then use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">Process.OutputStream</a> to send the input (<code>cd</code>) to the script right from Java.</p>\n"}],"owner":{"account_id":27275185,"reputation":13,"user_id":20795917,"display_name":"TimatoPaste"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679611559,"creation_date":1679505624,"question_id":75815399,"body_markdown":"I&#39;m practicing java.io methods, so I started by creating a script that prompts the user for a password and prints &quot;correct&quot; if the input is correct. Then, I wrote a java program that executes the script and puts in a password. Then, it outputs the script&#39;s output.\r\n\r\n```\r\nimport java.lang.*;\r\nimport java.io.*;\r\npublic class tryIt{\r\n        public static void main(String args[]){\r\n                try{\r\n                        Process apple = Runtime.getRuntime().exec(&quot;echo cd|./script&quot;);\r\n                        BufferedReader appleRead = new BufferedReader(new InputStreamReader(apple.getInputStream()));\r\n                        String temp = &quot;&quot;;\r\n                        String output = &quot;&quot;;\r\n                        while((temp = appleRead.readLine())!=null){\r\n                                output += temp;\r\n                        }\r\n                        System.out.println(output);\r\n                }\r\n                catch(Exception e){}\r\n\r\n        }\r\n}\r\n```\r\n\r\nIn this specific block of code, I am trying to pass the string &quot;cd&quot; as input to the command &quot;./script&quot;. However, when I run this java program in Linux, the entire line after the echo statement is printed like this:\r\n\r\n`cd|./script`\r\n\r\nI have tried to place some quotes around &quot;cd&quot; and escape them with backslashes, but they get printed as well:\r\n\r\n`&quot;cd&quot;|./script`\r\n\r\nWhen I run this command in the Linux terminal, it works as intended. What can I do to make my program work as intended?\r\n\r\n\r\nUPDATE: I&#39;ve changed some of my code to use ProcessBuilder instead of .exec() as suggested:\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\npublic class tryIt{\r\n    public static void main(String[] args){\r\n        try{\r\n          ProcessBuilder process = new ProcessBuilder();\r\n          process.command(new String[]{&quot;echo&quot;,&quot;cd&quot;,&quot;|./script&quot;});\r\n          process.directory(new File(System.getProperty(&quot;user.dir&quot;)));\r\n          BufferedReader read = new BufferedReader(new InputStreamReader(process.start().getInputStream()));\r\n          String hi = &quot;&quot;;\r\n          while((hi=read.readLine())!=null){\r\n            System.out.println(hi);\r\n          }\r\n        }\r\n        catch(Exception e){}\r\n        System.out.println(&quot;done&quot;);\r\n      }\r\n    }\r\n\r\n```\r\n\r\n However, the same problem persists. I can&#39;t pipe in Bash using the ProcessBuilder so far. Is there any workaround?\r\n","title":"Java Process exec method won&#39;t let me pass input to a command","body":"<p>I'm practicing java.io methods, so I started by creating a script that prompts the user for a password and prints &quot;correct&quot; if the input is correct. Then, I wrote a java program that executes the script and puts in a password. Then, it outputs the script's output.</p>\n<pre><code>import java.lang.*;\nimport java.io.*;\npublic class tryIt{\n        public static void main(String args[]){\n                try{\n                        Process apple = Runtime.getRuntime().exec(&quot;echo cd|./script&quot;);\n                        BufferedReader appleRead = new BufferedReader(new InputStreamReader(apple.getInputStream()));\n                        String temp = &quot;&quot;;\n                        String output = &quot;&quot;;\n                        while((temp = appleRead.readLine())!=null){\n                                output += temp;\n                        }\n                        System.out.println(output);\n                }\n                catch(Exception e){}\n\n        }\n}\n</code></pre>\n<p>In this specific block of code, I am trying to pass the string &quot;cd&quot; as input to the command &quot;./script&quot;. However, when I run this java program in Linux, the entire line after the echo statement is printed like this:</p>\n<p><code>cd|./script</code></p>\n<p>I have tried to place some quotes around &quot;cd&quot; and escape them with backslashes, but they get printed as well:</p>\n<p><code>&quot;cd&quot;|./script</code></p>\n<p>When I run this command in the Linux terminal, it works as intended. What can I do to make my program work as intended?</p>\n<p>UPDATE: I've changed some of my code to use ProcessBuilder instead of .exec() as suggested:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\npublic class tryIt{\n    public static void main(String[] args){\n        try{\n          ProcessBuilder process = new ProcessBuilder();\n          process.command(new String[]{&quot;echo&quot;,&quot;cd&quot;,&quot;|./script&quot;});\n          process.directory(new File(System.getProperty(&quot;user.dir&quot;)));\n          BufferedReader read = new BufferedReader(new InputStreamReader(process.start().getInputStream()));\n          String hi = &quot;&quot;;\n          while((hi=read.readLine())!=null){\n            System.out.println(hi);\n          }\n        }\n        catch(Exception e){}\n        System.out.println(&quot;done&quot;);\n      }\n    }\n\n</code></pre>\n<p>However, the same problem persists. I can't pipe in Bash using the ProcessBuilder so far. Is there any workaround?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":20863716,"reputation":38,"user_id":15325311,"display_name":"joerg20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679611520,"creation_date":1679611520,"answer_id":75828592,"question_id":75828491,"body_markdown":"You can exclude transitive dependencies from being imported:\r\n```\r\nimplementation &quot;my-dependency-1:module:1.0.0&quot;\r\nimplementation (&quot;my-dependency-2:module:1.0.0&quot;) {\r\n  exclude group: &quot;group&quot;, module: &quot;module&quot;\r\n}\r\n```\r\nWhile the transitive dependency would be imported with `my-dependency-1`, it would be excluded from `my-dependency-2`.","title":"Gradle Get Transitive Dependency Version Programmatically","body":"<p>You can exclude transitive dependencies from being imported:</p>\n<pre><code>implementation &quot;my-dependency-1:module:1.0.0&quot;\nimplementation (&quot;my-dependency-2:module:1.0.0&quot;) {\n  exclude group: &quot;group&quot;, module: &quot;module&quot;\n}\n</code></pre>\n<p>While the transitive dependency would be imported with <code>my-dependency-1</code>, it would be excluded from <code>my-dependency-2</code>.</p>\n"}],"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679611520,"creation_date":1679610339,"question_id":75828491,"body_markdown":"Is there a way to get the version of a transitive dependency programmatically from within the `build.gradle` file?\r\n\r\nI have two dependencies which import their own (different) version of the same dependency. I want to *always* use the version that one of the dependencies uses, no matter what version it is using. If possible, I&#39;d like to avoid having to import the dependency myself to start managing it.\r\n\r\n```\r\nmyProject\r\n  my-dependency-1:module:1.0.0\r\n    group:module:2.0.0\r\n  my-dependency-2:module:1.0.0\r\n    group:module:3.0.0\r\n```\r\n\r\nIn the above example, I want to make sure that group:module:2.0.0 is always used. Essentially, I want to build a constraint at build time programmatically \r\n","title":"Gradle Get Transitive Dependency Version Programmatically","body":"<p>Is there a way to get the version of a transitive dependency programmatically from within the <code>build.gradle</code> file?</p>\n<p>I have two dependencies which import their own (different) version of the same dependency. I want to <em>always</em> use the version that one of the dependencies uses, no matter what version it is using. If possible, I'd like to avoid having to import the dependency myself to start managing it.</p>\n<pre><code>myProject\n  my-dependency-1:module:1.0.0\n    group:module:2.0.0\n  my-dependency-2:module:1.0.0\n    group:module:3.0.0\n</code></pre>\n<p>In the above example, I want to make sure that group:module:2.0.0 is always used. Essentially, I want to build a constraint at build time programmatically</p>\n"},{"tags":["java","eclipse","jsp","servlets","mvt"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679610950,"creation_date":1679610084,"answer_id":75828470,"question_id":75828364,"body_markdown":"There is a chance that by the time the application has deployed and you run the request for the JSP page the servlet has not been loaded at all (and with that, also not initialized). This is related to lazy loading which is configured per default.\r\n\r\nYou could verify by first invoking your servlet&#39;s URL, then going to the JSP.\r\n\r\nTo make your servlet load without having received any request, you need to configure the loadOnStartup by giving it a sequence number:\r\n\r\n    @WebServlet(\r\n        urlPatterns = &quot;/DrivingTestBrowser&quot;,\r\n        loadOnStartup = 1\r\n    )\r\n\r\nSince you populate the list of questions only once at startup time, it may be even better to not use a servlet at all but a ServletContextListener&#39;s [contextInitialized()][1] method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContextListener.html","title":"Can not transfer data from java servlet to jsp","body":"<p>There is a chance that by the time the application has deployed and you run the request for the JSP page the servlet has not been loaded at all (and with that, also not initialized). This is related to lazy loading which is configured per default.</p>\n<p>You could verify by first invoking your servlet's URL, then going to the JSP.</p>\n<p>To make your servlet load without having received any request, you need to configure the loadOnStartup by giving it a sequence number:</p>\n<pre><code>@WebServlet(\n    urlPatterns = &quot;/DrivingTestBrowser&quot;,\n    loadOnStartup = 1\n)\n</code></pre>\n<p>Since you populate the list of questions only once at startup time, it may be even better to not use a servlet at all but a ServletContextListener's <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContextListener.html\" rel=\"nofollow noreferrer\">contextInitialized()</a> method.</p>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679610715,"creation_date":1679610258,"answer_id":75828486,"question_id":75828364,"body_markdown":"Minor error in &quot;entry&quot; in the Servlet should be...\r\n\r\n\r\n    List&lt;Question&gt; entry = new ArrayList&lt;Question&gt;();\r\n\r\nNote: An attribute stored by the server Servlet or jsp application scope must be a class as Object not an interface.\r\n\r\n\r\n**....And is that a seriously mad way of using a local host to test input data that should be acquired by a ServletInputStream?**\r\n\r\nIf you want to load test data at startup of the application, Make a ContextInit class similar to a Servlet and setAttribute in that, no need for the scanner.\r\n","title":"Can not transfer data from java servlet to jsp","body":"<p>Minor error in &quot;entry&quot; in the Servlet should be...</p>\n<pre><code>List&lt;Question&gt; entry = new ArrayList&lt;Question&gt;();\n</code></pre>\n<p>Note: An attribute stored by the server Servlet or jsp application scope must be a class as Object not an interface.</p>\n<p><strong>....And is that a seriously mad way of using a local host to test input data that should be acquired by a ServletInputStream?</strong></p>\n<p>If you want to load test data at startup of the application, Make a ContextInit class similar to a Servlet and setAttribute in that, no need for the scanner.</p>\n"}],"owner":{"account_id":26812352,"reputation":1,"user_id":20402763,"display_name":"Scels12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679658721,"answer_count":2,"score":0,"last_activity_date":1679610950,"creation_date":1679609029,"question_id":75828364,"body_markdown":"Ive tried everything and i cant seem to figure why i keep getting &quot;list is null&quot; when i run my jsp file. \r\nHere is my servlet file\r\n```\r\npackage servlet;\r\n\r\n\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport javax.servlet.ServletConfig;\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\nimport model.Question;\r\n\r\n@WebServlet(&quot;/DrivingTestBrowser&quot;)\r\npublic class DrivingTestBrowser extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic void init(ServletConfig config) throws ServletException {\r\n\t\tsuper.init(config);\r\n\r\n\t\tList&lt;Question&gt; entry = new ArrayList&lt;&gt;();\r\n\t\tServletContext context = getServletContext();\r\n\t\tString file = getServletContext().getRealPath(&quot;/WEB-INF/Drivingtest.txt&quot;);\r\n\t\tScanner in = new Scanner(file);\r\n\t\t\r\n\t\twhile (in.hasNextLine()){\r\n\t\t\t\r\n\t\t\tQuestion question = new Question();\r\n\t\t\t\r\n\t\t\tquestion.setDescription(in.nextLine()); \r\n\t\t\tquestion.setAnswerA(in.nextLine());\r\n\t\t\tquestion.setAnswerB(in.nextLine());\r\n\t\t\tquestion.setAnswerC(in.nextLine());\r\n\t\t\tquestion.setCorrectAnswer(Integer.parseInt(in.nextLine()));\r\n\t\t\t\r\n\t\t\tin.nextLine();\r\n\t\t\tentry.add(question);\r\n\t\t}\r\n\r\n\t\tin.close();\r\n\r\n\t\tcontext.setAttribute(&quot;entries&quot;, entry);\r\n\t}\r\n\r\n\tpublic DrivingTestBrowser() {\r\n\t\tsuper();\r\n\r\n\t}\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\t\r\n\t\tint id;\r\n\t\tHttpSession session = request.getSession();\r\n\t\tif (session.getAttribute(&quot;id&quot;) == null) {\r\n\t\t\tid = 0;\r\n\t\t} else {\r\n\t\t\tid = (int) session.getAttribute(&quot;id&quot;);\r\n\t\t\tid++;\r\n\t\t}\r\n\t\tsession.setAttribute(&quot;id&quot;, id);\r\n\t\trequest.setAttribute(&quot;SessionID&quot;, id);\r\n\t\trequest.getRequestDispatcher(&quot;DrivingTestBrowser.jsp&quot;).forward(request, response);\r\n\t\t \r\n\t  \r\n\t}\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\t\tdoGet(request, response);\r\n\t}\r\n}\r\n```\r\n\r\nand this is my jsp file\r\n```\r\n&lt;%@page import=&quot;java.util.List&quot;%&gt;\r\n&lt;%@page import=&quot;model.Question&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;DrivingTestBrowser&lt;/title&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;%\r\n\tServletContext context = request.getServletContext();\r\n\tList&lt;Question&gt; list = (List&lt;Question&gt;)context.getAttribute(&quot;entries&quot;);\r\n\tint Sessionid = 0;\r\n\tif (request.getAttribute(&quot;Sessionid&quot;)!= null) {\r\n\t\tSessionid = Integer.parseInt(request.getAttribute(&quot;Sessionid&quot;).toString())% list.size();\r\n\t}\r\n\t%&gt;\r\n\r\n\t&lt;p&gt;&lt;%=list.get(Sessionid).getDescription()%&gt;&lt;/p&gt;\r\n\t&lt;p&gt;1:&lt;%=list.get(Sessionid).getAnswerA()%&gt;&lt;/p&gt;\r\n\t&lt;p&gt;2:&lt;%=list.get(Sessionid).getAnswerB()%&gt;&lt;/p&gt;\r\n\t&lt;p&gt;3:&lt;%=list.get(Sessionid).getAnswerC()%&gt;&lt;/p&gt;\r\n\t&lt;p&gt;Correct Answer:&lt;%=list.get(Sessionid).getCorrectAnswer()%&gt;&lt;/p&gt;\r\n\r\n\t&lt;p&gt;&lt;a href=&quot;DrivingTestBrowser?Sessionid=&lt;%=Sessionid++%&gt;&quot;&gt;Next&lt;/a&gt;&lt;/p&gt;\r\n\r\n\r\n\t\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThis is the error im getting \r\n&quot;java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because &quot;list&quot; is null&quot;\r\n\r\nMy list of questions is null ","title":"Can not transfer data from java servlet to jsp","body":"<p>Ive tried everything and i cant seem to figure why i keep getting &quot;list is null&quot; when i run my jsp file.\nHere is my servlet file</p>\n<pre><code>package servlet;\n\n\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\nimport javax.servlet.ServletConfig;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\nimport model.Question;\n\n@WebServlet(&quot;/DrivingTestBrowser&quot;)\npublic class DrivingTestBrowser extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    public void init(ServletConfig config) throws ServletException {\n        super.init(config);\n\n        List&lt;Question&gt; entry = new ArrayList&lt;&gt;();\n        ServletContext context = getServletContext();\n        String file = getServletContext().getRealPath(&quot;/WEB-INF/Drivingtest.txt&quot;);\n        Scanner in = new Scanner(file);\n        \n        while (in.hasNextLine()){\n            \n            Question question = new Question();\n            \n            question.setDescription(in.nextLine()); \n            question.setAnswerA(in.nextLine());\n            question.setAnswerB(in.nextLine());\n            question.setAnswerC(in.nextLine());\n            question.setCorrectAnswer(Integer.parseInt(in.nextLine()));\n            \n            in.nextLine();\n            entry.add(question);\n        }\n\n        in.close();\n\n        context.setAttribute(&quot;entries&quot;, entry);\n    }\n\n    public DrivingTestBrowser() {\n        super();\n\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        \n        int id;\n        HttpSession session = request.getSession();\n        if (session.getAttribute(&quot;id&quot;) == null) {\n            id = 0;\n        } else {\n            id = (int) session.getAttribute(&quot;id&quot;);\n            id++;\n        }\n        session.setAttribute(&quot;id&quot;, id);\n        request.setAttribute(&quot;SessionID&quot;, id);\n        request.getRequestDispatcher(&quot;DrivingTestBrowser.jsp&quot;).forward(request, response);\n         \n      \n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n            doGet(request, response);\n    }\n}\n</code></pre>\n<p>and this is my jsp file</p>\n<pre><code>&lt;%@page import=&quot;java.util.List&quot;%&gt;\n&lt;%@page import=&quot;model.Question&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;DrivingTestBrowser&lt;/title&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;%\n    ServletContext context = request.getServletContext();\n    List&lt;Question&gt; list = (List&lt;Question&gt;)context.getAttribute(&quot;entries&quot;);\n    int Sessionid = 0;\n    if (request.getAttribute(&quot;Sessionid&quot;)!= null) {\n        Sessionid = Integer.parseInt(request.getAttribute(&quot;Sessionid&quot;).toString())% list.size();\n    }\n    %&gt;\n\n    &lt;p&gt;&lt;%=list.get(Sessionid).getDescription()%&gt;&lt;/p&gt;\n    &lt;p&gt;1:&lt;%=list.get(Sessionid).getAnswerA()%&gt;&lt;/p&gt;\n    &lt;p&gt;2:&lt;%=list.get(Sessionid).getAnswerB()%&gt;&lt;/p&gt;\n    &lt;p&gt;3:&lt;%=list.get(Sessionid).getAnswerC()%&gt;&lt;/p&gt;\n    &lt;p&gt;Correct Answer:&lt;%=list.get(Sessionid).getCorrectAnswer()%&gt;&lt;/p&gt;\n\n    &lt;p&gt;&lt;a href=&quot;DrivingTestBrowser?Sessionid=&lt;%=Sessionid++%&gt;&quot;&gt;Next&lt;/a&gt;&lt;/p&gt;\n\n\n        \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is the error im getting\n&quot;java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because &quot;list&quot; is null&quot;</p>\n<p>My list of questions is null</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":27554556,"reputation":100,"user_id":21029023,"display_name":"Nick Pap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679609978,"creation_date":1679609978,"answer_id":75828460,"question_id":75828007,"body_markdown":"The error &quot;Symbol not found&quot; typically means that the variable or class you are using is not in scope or has not been properly imported. In your case, you haven&#39;t imported the Intent class that you are using to create the intent.\r\n\r\nTo fix this, just add this import statement at the top of your code:\r\n\r\n    import android.content.Intent;\r\n\r\nHowever, you usually get some warnings for these kind of things, so I&#39;m guessing you either missed the warning, or it&#39;s something else entirely.","title":"What is the correct way of defining an Intent variable?","body":"<p>The error &quot;Symbol not found&quot; typically means that the variable or class you are using is not in scope or has not been properly imported. In your case, you haven't imported the Intent class that you are using to create the intent.</p>\n<p>To fix this, just add this import statement at the top of your code:</p>\n<pre><code>import android.content.Intent;\n</code></pre>\n<p>However, you usually get some warnings for these kind of things, so I'm guessing you either missed the warning, or it's something else entirely.</p>\n"}],"owner":{"account_id":15758061,"reputation":97,"user_id":16771595,"display_name":"MyDisplay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75828460,"answer_count":1,"score":0,"last_activity_date":1679609978,"creation_date":1679605744,"question_id":75828007,"body_markdown":"I&#39;m writing an Android service that logs the app name when you open it. However, I keep getting the error that &quot;Symbol not found&quot;, I searched and learned this means I haven&#39;t correctly asigned the intent variable or I am using it out of the scope. Is that correct? If so, how do I fix it?\r\n\r\n    package com.example.myapplication;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.example.myapplication.AppLoggerService;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Start the service\r\n            Intent intent = new Intent(this, AppLoggerService.class);\r\n    \r\n            startService(intent);\r\n        }\r\n    }","title":"What is the correct way of defining an Intent variable?","body":"<p>I'm writing an Android service that logs the app name when you open it. However, I keep getting the error that &quot;Symbol not found&quot;, I searched and learned this means I haven't correctly asigned the intent variable or I am using it out of the scope. Is that correct? If so, how do I fix it?</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.myapplication.AppLoggerService;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Start the service\n        Intent intent = new Intent(this, AppLoggerService.class);\n\n        startService(intent);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679475011,"post_id":75806345,"comment_id":133726907,"body_markdown":"I think you need to read the &quot;Bootstrap&quot; chapter before the chapter you linked.","body":"I think you need to read the &quot;Bootstrap&quot; chapter before the chapter you linked."},{"owner":{"account_id":12593814,"reputation":366,"user_id":9159340,"display_name":"Dialvive"},"score":0,"creation_date":1679529365,"post_id":75806345,"comment_id":133740376,"body_markdown":"I&#39;ve read thoroughly the chapter you mention @MarkRotteveel , and I see that the application is correctly bootstrapped. I think I forgot to mention the schema creation needs to happen at runtime at any requested time.","body":"I&#39;ve read thoroughly the chapter you mention @MarkRotteveel , and I see that the application is correctly bootstrapped. I think I forgot to mention the schema creation needs to happen at runtime at any requested time."},{"owner":{"account_id":12593814,"reputation":366,"user_id":9159340,"display_name":"Dialvive"},"score":0,"creation_date":1679530329,"post_id":75806345,"comment_id":133740488,"body_markdown":"See [Legacy Bootstrap](https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#appendix-legacy-bootstrap)","body":"See <a href=\"https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#appendix-legacy-bootstrap\" rel=\"nofollow noreferrer\">Legacy Bootstrap</a>"}],"answers":[{"tags":[],"owner":{"account_id":12593814,"reputation":366,"user_id":9159340,"display_name":"Dialvive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679609398,"creation_date":1679609398,"answer_id":75828396,"question_id":75806345,"body_markdown":"You can use a Map to build the `Metadata` object, which can then be passed to `SchemaExport` execute method: \r\n\r\n    public void createSchema() {\r\n            Map&lt;String, Object&gt; settings = new HashMap&lt;&gt;();\r\n            settings.put(&quot;hibernate.connection.driver_class&quot;, driverClassName);\r\n            settings.put(&quot;hibernate.connection.url&quot;, url);\r\n            settings.put(&quot;hibernate.connection.username&quot;, username);\r\n            settings.put(&quot;hibernate.connection.password&quot;, password);\r\n            settings.put(&quot;hibernate.dialect&quot;, hibernateDialect);\r\n            settings.put(&quot;hibernate.jdbc.batch_size&quot;, Integer.toString(CommonConstants.JDBC_BATCH_SIZE));\r\n            settings.put(&quot;hibernate.connection.provider_class&quot;, &quot;org.hibernate.connection.C3P0ConnectionProvider&quot;);\r\n            settings.put(&quot;hibernate.connection.autocommit&quot;, &quot;true&quot;);\r\n            settings.put(&quot;hibernate.default_schema&quot;, username);\r\n            ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n                    .applySettings(settings)\r\n                    .configure(configFile)  // We could also add annotated classes at metadata object (?)\r\n                    .build();\r\n            MetadataSources metadata = new MetadataSources(serviceRegistry);\r\n            EnumSet&lt;TargetType&gt; enumSet = EnumSet.of(TargetType.DATABASE);\r\n            SchemaExport schemaExport = new SchemaExport();\r\n            schemaExport.execute(enumSet, SchemaExport.Action.CREATE, metadata.buildMetadata());\r\n    }\r\n\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62610312/9159340","title":"How to upgrade hbm2ddl schema creation with mappings at runtime?","body":"<p>You can use a Map to build the <code>Metadata</code> object, which can then be passed to <code>SchemaExport</code> execute method:</p>\n<pre><code>public void createSchema() {\n        Map&lt;String, Object&gt; settings = new HashMap&lt;&gt;();\n        settings.put(&quot;hibernate.connection.driver_class&quot;, driverClassName);\n        settings.put(&quot;hibernate.connection.url&quot;, url);\n        settings.put(&quot;hibernate.connection.username&quot;, username);\n        settings.put(&quot;hibernate.connection.password&quot;, password);\n        settings.put(&quot;hibernate.dialect&quot;, hibernateDialect);\n        settings.put(&quot;hibernate.jdbc.batch_size&quot;, Integer.toString(CommonConstants.JDBC_BATCH_SIZE));\n        settings.put(&quot;hibernate.connection.provider_class&quot;, &quot;org.hibernate.connection.C3P0ConnectionProvider&quot;);\n        settings.put(&quot;hibernate.connection.autocommit&quot;, &quot;true&quot;);\n        settings.put(&quot;hibernate.default_schema&quot;, username);\n        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n                .applySettings(settings)\n                .configure(configFile)  // We could also add annotated classes at metadata object (?)\n                .build();\n        MetadataSources metadata = new MetadataSources(serviceRegistry);\n        EnumSet&lt;TargetType&gt; enumSet = EnumSet.of(TargetType.DATABASE);\n        SchemaExport schemaExport = new SchemaExport();\n        schemaExport.execute(enumSet, SchemaExport.Action.CREATE, metadata.buildMetadata());\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/62610312/9159340\">Source</a></p>\n"}],"owner":{"account_id":12593814,"reputation":366,"user_id":9159340,"display_name":"Dialvive"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679609398,"creation_date":1679432754,"question_id":75806345,"body_markdown":"I&#39;m updating a Hibernate 3 project to Hibernate 6. At some point of the code, a schema with certain mappings is created using: \r\n\r\n```java\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.tool.hbm2ddl.SchemaUpdate;\r\n\r\npublic class SchemaGenerator {\r\n    private void create() {\r\n        SchemaUpdate schemaUpdate = new SchemaUpdate(getConfig());\r\n        schemaUpdate.execute(false, true);\r\n    }\r\n\r\n    private Configuration getConfig() {\r\n        if (cfg == null) {\r\n            cfg = new Configuration();\r\n            cfg.setProperty(&quot;hibernate.connection.driver_class&quot;, driverClassName);\r\n            cfg.setProperty(&quot;hibernate.connection.url&quot;, url);\r\n            cfg.setProperty(&quot;hibernate.connection.username&quot;, username);\r\n            cfg.setProperty(&quot;hibernate.connection.password&quot;, password);\r\n            cfg.setProperty(&quot;hibernate.dialect&quot;, hibernateDialect);\r\n            cfg.setProperty(&quot;hibernate.jdbc.batch_size&quot;, Integer.toString(CommonConstants.JDBC_BATCH_SIZE));\r\n            cfg.setProperty(&quot;hibernate.connection.provider_class&quot;, &quot;org.hibernate.connection.C3P0ConnectionProvider&quot;);\r\n            cfg.setProperty(&quot;hibernate.connection.autocommit&quot;, &quot;true&quot;);\r\n            cfg.setProperty(&quot;hibernate.default_schema&quot;, username);\r\n            cfg.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\r\n            cfg.configure(configFile);\r\n        }\r\n        return cfg;\r\n    }\r\n}\r\n```\r\n\r\nMy XML configuration file looks like:\r\n\r\n```xml\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;mapping class=&quot;org.application.hibernate.Table&quot;/&gt;\r\n    &lt;session-factory&gt;\r\n&lt;hibernate-configuration&gt;\r\n```\r\n\r\nThe problem is that the SchemaUpdate constructor no longer accepts any parameters, and I can&#39;t find how to pass the XML configuration to that object as well. You can see on [Hibernate 3 hbm2ddl.SchemaUpdate docs][1] how this was valid.\r\n\r\nI&#39;ve been able to see on the [Hibernate docs][2] that automatic schema generation is still supported, but the [examples][3] are not really explaining what I&#39;m looking for.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/tool/hbm2ddl/SchemaUpdate.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\r\n  [3]: https://docs.jboss.org/hibernate/orm/6.1/quickstart/html_single/#tutorial-native","title":"How to upgrade hbm2ddl schema creation with mappings at runtime?","body":"<p>I'm updating a Hibernate 3 project to Hibernate 6. At some point of the code, a schema with certain mappings is created using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.cfg.Configuration;\nimport org.hibernate.tool.hbm2ddl.SchemaUpdate;\n\npublic class SchemaGenerator {\n    private void create() {\n        SchemaUpdate schemaUpdate = new SchemaUpdate(getConfig());\n        schemaUpdate.execute(false, true);\n    }\n\n    private Configuration getConfig() {\n        if (cfg == null) {\n            cfg = new Configuration();\n            cfg.setProperty(&quot;hibernate.connection.driver_class&quot;, driverClassName);\n            cfg.setProperty(&quot;hibernate.connection.url&quot;, url);\n            cfg.setProperty(&quot;hibernate.connection.username&quot;, username);\n            cfg.setProperty(&quot;hibernate.connection.password&quot;, password);\n            cfg.setProperty(&quot;hibernate.dialect&quot;, hibernateDialect);\n            cfg.setProperty(&quot;hibernate.jdbc.batch_size&quot;, Integer.toString(CommonConstants.JDBC_BATCH_SIZE));\n            cfg.setProperty(&quot;hibernate.connection.provider_class&quot;, &quot;org.hibernate.connection.C3P0ConnectionProvider&quot;);\n            cfg.setProperty(&quot;hibernate.connection.autocommit&quot;, &quot;true&quot;);\n            cfg.setProperty(&quot;hibernate.default_schema&quot;, username);\n            cfg.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;create&quot;);\n            cfg.configure(configFile);\n        }\n        return cfg;\n    }\n}\n</code></pre>\n<p>My XML configuration file looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;mapping class=&quot;org.application.hibernate.Table&quot;/&gt;\n    &lt;session-factory&gt;\n&lt;hibernate-configuration&gt;\n</code></pre>\n<p>The problem is that the SchemaUpdate constructor no longer accepts any parameters, and I can't find how to pass the XML configuration to that object as well. You can see on <a href=\"https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/tool/hbm2ddl/SchemaUpdate.html\" rel=\"nofollow noreferrer\">Hibernate 3 hbm2ddl.SchemaUpdate docs</a> how this was valid.</p>\n<p>I've been able to see on the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\" rel=\"nofollow noreferrer\">Hibernate docs</a> that automatic schema generation is still supported, but the <a href=\"https://docs.jboss.org/hibernate/orm/6.1/quickstart/html_single/#tutorial-native\" rel=\"nofollow noreferrer\">examples</a> are not really explaining what I'm looking for.</p>\n"},{"tags":["java","amazon-web-services"],"comments":[{"owner":{"account_id":2773200,"reputation":488,"user_id":2387360,"display_name":"Ansemo Abad&#237;a"},"score":0,"creation_date":1679609356,"post_id":75827648,"comment_id":133757053,"body_markdown":"Where do you get this error? Do you have a Java application using AWS SDK?","body":"Where do you get this error? Do you have a Java application using AWS SDK?"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1679609839,"post_id":75827648,"comment_id":133757138,"body_markdown":"Did you add your access_key and secret_key to your credential profile?","body":"Did you add your access_key and secret_key to your credential profile?"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679609342,"creation_date":1679609342,"answer_id":75828392,"question_id":75827648,"body_markdown":"To send email by using AWS and the Java programming language, use the ***AWS SDK for Java v2***. You need to setup your AWS credentials that is explained here in the Java V2 DEV Guide: \r\n\r\n[Default credentials provider chain][1]\r\n\r\nOnce you have your credentials setup, using a Java IDE, create a project and then add a POM to your Java project. You can find a POM that works here: \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/ses/pom.xml\r\n\r\nNow you can write Java app logic to send email messages. The following Java code example uses the SES Java API to send a message: \r\n\r\n    // snippet-start:[ses.java2.sendmessage.request.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.ses.SesClient;\r\n    import software.amazon.awssdk.services.ses.model.Content;\r\n    import software.amazon.awssdk.services.ses.model.Destination;\r\n    import software.amazon.awssdk.services.ses.model.Message;\r\n    import software.amazon.awssdk.services.ses.model.Body;\r\n    import software.amazon.awssdk.services.ses.model.SendEmailRequest;\r\n    import software.amazon.awssdk.services.ses.model.SesException;\r\n    \r\n    import javax.mail.MessagingException;\r\n    // snippet-end:[ses.java2.sendmessage.request.import]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    public class SendMessageEmailRequest {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;    &lt;sender&gt; &lt;recipient&gt; &lt;subject&gt; \\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;    sender - An email address that represents the sender. \\n&quot;+\r\n                &quot;    recipient -  An email address that represents the recipient. \\n&quot;+\r\n                &quot;    subject - The  subject line. \\n&quot; ;\r\n    \r\n            if (args.length != 3) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n            }\r\n    \r\n            String sender = args[0];\r\n            String recipient = args[1];\r\n            String subject = args[2];\r\n    \r\n            Region region = Region.US_EAST_1;\r\n            SesClient client = SesClient.builder()\r\n                .region(region)\r\n                .credentialsProvider(ProfileCredentialsProvider.create())\r\n                .build();\r\n    \r\n            // The HTML body of the email.\r\n            String bodyHTML = &quot;&lt;html&gt;&quot; + &quot;&lt;head&gt;&lt;/head&gt;&quot; + &quot;&lt;body&gt;&quot; + &quot;&lt;h1&gt;Hello!&lt;/h1&gt;&quot;\r\n                    + &quot;&lt;p&gt; See the list of customers.&lt;/p&gt;&quot; + &quot;&lt;/body&gt;&quot; + &quot;&lt;/html&gt;&quot;;\r\n    \r\n            try {\r\n                send(client, sender, recipient, subject, bodyHTML);\r\n                client.close();\r\n                System.out.println(&quot;Done&quot;);\r\n    \r\n            } catch (MessagingException e) {\r\n                e.getStackTrace();\r\n            }\r\n        }\r\n    \r\n        // snippet-start:[ses.java2.sendmessage.request.main]\r\n        public static void send(SesClient client,\r\n                                String sender,\r\n                                String recipient,\r\n                                String subject,\r\n                                String bodyHTML\r\n        ) throws MessagingException {\r\n    \r\n            Destination destination = Destination.builder()\r\n                .toAddresses(recipient)\r\n                .build();\r\n    \r\n            Content content = Content.builder()\r\n                .data(bodyHTML)\r\n                .build();\r\n    \r\n            Content sub = Content.builder()\r\n                .data(subject)\r\n                .build();\r\n    \r\n            Body body = Body.builder()\r\n                .html(content)\r\n                .build();\r\n    \r\n            Message msg = Message.builder()\r\n                .subject(sub)\r\n                .body(body)\r\n                .build();\r\n    \r\n            SendEmailRequest emailRequest = SendEmailRequest.builder()\r\n                .destination(destination)\r\n                .message(msg)\r\n                .source(sender)\r\n                .build();\r\n    \r\n            try {\r\n                System.out.println(&quot;Attempting to send an email through Amazon SES &quot; + &quot;using the AWS SDK for Java...&quot;);\r\n                client.sendEmail(emailRequest);\r\n    \r\n            } catch (SesException e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n        // snippet-end:[ses.java2.sendmessage.request.main]\r\n    }\r\n\r\nYou can find this example and many others in the AWS Code Lib: \r\n\r\n[Amazon SES examples using SDK for Java 2.x][2]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\r\n  [2]: https://docs.aws.amazon.com/code-library/latest/ug/java_2_ses_code_examples.html","title":"java.lang.IllegalArgumentException: No AWS profile named &#39;_________&#39; how to fix that?","body":"<p>To send email by using AWS and the Java programming language, use the <em><strong>AWS SDK for Java v2</strong></em>. You need to setup your AWS credentials that is explained here in the Java V2 DEV Guide:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">Default credentials provider chain</a></p>\n<p>Once you have your credentials setup, using a Java IDE, create a project and then add a POM to your Java project. You can find a POM that works here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/ses/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/ses/pom.xml</a></p>\n<p>Now you can write Java app logic to send email messages. The following Java code example uses the SES Java API to send a message:</p>\n<pre><code>// snippet-start:[ses.java2.sendmessage.request.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.ses.SesClient;\nimport software.amazon.awssdk.services.ses.model.Content;\nimport software.amazon.awssdk.services.ses.model.Destination;\nimport software.amazon.awssdk.services.ses.model.Message;\nimport software.amazon.awssdk.services.ses.model.Body;\nimport software.amazon.awssdk.services.ses.model.SendEmailRequest;\nimport software.amazon.awssdk.services.ses.model.SesException;\n\nimport javax.mail.MessagingException;\n// snippet-end:[ses.java2.sendmessage.request.import]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\npublic class SendMessageEmailRequest {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;sender&gt; &lt;recipient&gt; &lt;subject&gt; \\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    sender - An email address that represents the sender. \\n&quot;+\n            &quot;    recipient -  An email address that represents the recipient. \\n&quot;+\n            &quot;    subject - The  subject line. \\n&quot; ;\n\n        if (args.length != 3) {\n            System.out.println(usage);\n            System.exit(1);\n        }\n\n        String sender = args[0];\n        String recipient = args[1];\n        String subject = args[2];\n\n        Region region = Region.US_EAST_1;\n        SesClient client = SesClient.builder()\n            .region(region)\n            .credentialsProvider(ProfileCredentialsProvider.create())\n            .build();\n\n        // The HTML body of the email.\n        String bodyHTML = &quot;&lt;html&gt;&quot; + &quot;&lt;head&gt;&lt;/head&gt;&quot; + &quot;&lt;body&gt;&quot; + &quot;&lt;h1&gt;Hello!&lt;/h1&gt;&quot;\n                + &quot;&lt;p&gt; See the list of customers.&lt;/p&gt;&quot; + &quot;&lt;/body&gt;&quot; + &quot;&lt;/html&gt;&quot;;\n\n        try {\n            send(client, sender, recipient, subject, bodyHTML);\n            client.close();\n            System.out.println(&quot;Done&quot;);\n\n        } catch (MessagingException e) {\n            e.getStackTrace();\n        }\n    }\n\n    // snippet-start:[ses.java2.sendmessage.request.main]\n    public static void send(SesClient client,\n                            String sender,\n                            String recipient,\n                            String subject,\n                            String bodyHTML\n    ) throws MessagingException {\n\n        Destination destination = Destination.builder()\n            .toAddresses(recipient)\n            .build();\n\n        Content content = Content.builder()\n            .data(bodyHTML)\n            .build();\n\n        Content sub = Content.builder()\n            .data(subject)\n            .build();\n\n        Body body = Body.builder()\n            .html(content)\n            .build();\n\n        Message msg = Message.builder()\n            .subject(sub)\n            .body(body)\n            .build();\n\n        SendEmailRequest emailRequest = SendEmailRequest.builder()\n            .destination(destination)\n            .message(msg)\n            .source(sender)\n            .build();\n\n        try {\n            System.out.println(&quot;Attempting to send an email through Amazon SES &quot; + &quot;using the AWS SDK for Java...&quot;);\n            client.sendEmail(emailRequest);\n\n        } catch (SesException e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n    // snippet-end:[ses.java2.sendmessage.request.main]\n}\n</code></pre>\n<p>You can find this example and many others in the AWS Code Lib:</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/java_2_ses_code_examples.html\" rel=\"nofollow noreferrer\">Amazon SES examples using SDK for Java 2.x</a></p>\n"}],"owner":{"account_id":27876542,"reputation":11,"user_id":21285929,"display_name":"Kraken TV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679609342,"creation_date":1679602782,"question_id":75827648,"body_markdown":"java.lang.IllegalArgumentException: No AWS profile named &#39;danekerscode&#39;\r\n[enter image description here](https://i.stack.imgur.com/cPXdk.png)\r\nwhy I got this error?\r\ni wanna implement email sending through amazon  web services, but i got this errors","title":"java.lang.IllegalArgumentException: No AWS profile named &#39;_________&#39; how to fix that?","body":"<p>java.lang.IllegalArgumentException: No AWS profile named 'danekerscode'\n<a href=\"https://i.stack.imgur.com/cPXdk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nwhy I got this error?\ni wanna implement email sending through amazon  web services, but i got this errors</p>\n"},{"tags":["java","io","windows-console","ansi-escape"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1537797318,"post_id":52480925,"comment_id":91903313,"body_markdown":"Why not construct your final output before output to the console, and then print it all in one go?","body":"Why not construct your final output before output to the console, and then print it all in one go?"},{"owner":{"account_id":13839187,"reputation":623,"user_id":9989971,"display_name":"Redacted"},"score":0,"creation_date":1537797422,"post_id":52480925,"comment_id":91903376,"body_markdown":"See thats what I was thinking but I want to use ANSI because it would be so much easier than how I would have to construct the final output (i think). I could make a hashmap of Strings with line numbers but the solution is more elegant with ANSI enabled","body":"See thats what I was thinking but I want to use ANSI because it would be so much easier than how I would have to construct the final output (i think). I could make a hashmap of Strings with line numbers but the solution is more elegant with ANSI enabled"},{"owner":{"account_id":13839187,"reputation":623,"user_id":9989971,"display_name":"Redacted"},"score":0,"creation_date":1537797503,"post_id":52480925,"comment_id":91903428,"body_markdown":"If it turns out there is no easy way to enable ANSI though thats probably what I&#39;ll end up doing but first I&#39;d like to explore my options.","body":"If it turns out there is no easy way to enable ANSI though thats probably what I&#39;ll end up doing but first I&#39;d like to explore my options."},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":4,"creation_date":1537799447,"post_id":52480925,"comment_id":91904578,"body_markdown":"@Redacted Why not just a `RandomAccess` `List` of `String`s or `StringBuilder`s where the indices are the line numbers and you can append to the lines or insert new lines as needed? There&#39;s essentially no guarantee that consoles will obey whatever special command code you use, and even if they do now there&#39;s no guarantee they will in future updates. I think @daniu s suggestion of formatting in memory then outputting is probably the way to go and it will save you a lot of headache.","body":"@Redacted Why not just a <code>RandomAccess</code> <code>List</code> of <code>String</code>s or <code>StringBuilder</code>s where the indices are the line numbers and you can append to the lines or insert new lines as needed? There&#39;s essentially no guarantee that consoles will obey whatever special command code you use, and even if they do now there&#39;s no guarantee they will in future updates. I think @daniu s suggestion of formatting in memory then outputting is probably the way to go and it will save you a lot of headache."},{"owner":{"account_id":13839187,"reputation":623,"user_id":9989971,"display_name":"Redacted"},"score":0,"creation_date":1537799976,"post_id":52480925,"comment_id":91904937,"body_markdown":"I could go and make a hashmap of strings, have the line numbers be appended to as I traverse the tree but here is the thing, do I really want to create a whole new memory structure and process all those string operations and table lookups just to print a tree? Its alot easier to print a character to console, think of a Really Big Binary tree. I know it Seems absurd but this ANSI stuff was meant to be a standard in the first place, just cause microsoft doesn&#39;t understand that doesn&#39;t mean we should abandon ANSI characters. Before I give up I want to know I&#39;ve got no other option.","body":"I could go and make a hashmap of strings, have the line numbers be appended to as I traverse the tree but here is the thing, do I really want to create a whole new memory structure and process all those string operations and table lookups just to print a tree? Its alot easier to print a character to console, think of a Really Big Binary tree. I know it Seems absurd but this ANSI stuff was meant to be a standard in the first place, just cause microsoft doesn&#39;t understand that doesn&#39;t mean we should abandon ANSI characters. Before I give up I want to know I&#39;ve got no other option."},{"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"score":0,"creation_date":1551967271,"post_id":52480925,"comment_id":96841633,"body_markdown":"You obviously address a human, not a computer and you try to do so on windows. This begs the question, why are you living in the 90&#39;s?","body":"You obviously address a human, not a computer and you try to do so on windows. This begs the question, why are you living in the 90&#39;s?"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1553770605,"post_id":52480925,"comment_id":97511932,"body_markdown":"My Git Bash, launched from Windows 7 start menu, inherits the JAVA_HOME variable from the Windows enviroment and can compile/run your test class without any special cfg.  But In Win7 no ANSI even within Git Bash console.","body":"My Git Bash, launched from Windows 7 start menu, inherits the JAVA_HOME variable from the Windows enviroment and can compile/run your test class without any special cfg.  But In Win7 no ANSI even within Git Bash console."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1553770771,"post_id":52480925,"comment_id":97512036,"body_markdown":"You say that good available libraries &quot;require Maven&quot; but Maven is never a must, it&#39;s just recommended: you can always pull all needed depedencies by hand.","body":"You say that good available libraries &quot;require Maven&quot; but Maven is never a must, it&#39;s just recommended: you can always pull all needed depedencies by hand."},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1554318037,"post_id":52480925,"comment_id":97711196,"body_markdown":"You can use JNI to run compiled C code from java. But I think that the plan where you first render the screen in memory to a char[][] array and then print the lines you&#39;ve rendered is actually quite sensible and much more platform independent.","body":"You can use JNI to run compiled C code from java. But I think that the plan where you first render the screen in memory to a char[][] array and then print the lines you&#39;ve rendered is actually quite sensible and much more platform independent."},{"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"score":0,"creation_date":1556285836,"post_id":52480925,"comment_id":98397605,"body_markdown":"You are mixing your goal with a platform-specific concern. Your real question is: &quot;In Windows the default console does not interpret ANSI, how can I enable this from Java?&quot;. Since this can only be achieved with platform-specific code, my answer points to JNA: a single-jar solution for invoking native functions which can achieve what you want.","body":"You are mixing your goal with a platform-specific concern. Your real question is: &quot;In Windows the default console does not interpret ANSI, how can I enable this from Java?&quot;. Since this can only be achieved with platform-specific code, my answer points to JNA: a single-jar solution for invoking native functions which can achieve what you want."}],"answers":[{"tags":[],"owner":{"account_id":118645,"reputation":2117,"user_id":309816,"accept_rate":94,"display_name":"Alexandros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559145561,"creation_date":1556207769,"answer_id":55853311,"question_id":52480925,"body_markdown":"The python way you reference in &quot;Edit 2&quot; (https://stackoverflow.com/a/36760881/309816) simply invokes Windows-specific native code (kernel32, which is non-portable) to &quot;fix&quot; this.\r\n\r\nI suppose you are OK with that and want to do the same in Java (i.e. invoke kernel32 when you detect Windows)...\r\n\r\nA *very lightweight* library for achieving the same in Java is JNA which has out-of-the-box wrapper for kernel32 (see: https://java-native-access.github.io/jna/4.2.1/com/sun/jna/platform/win32/Kernel32.html)\r\n\r\nYou seem to be after this method: https://java-native-access.github.io/jna/4.2.1/com/sun/jna/platform/win32/Wincon.html#SetConsoleMode-com.sun.jna.platform.win32.WinNT.HANDLE-int-\r\n\r\nHope this works for you.\r\n\r\nEDIT: technically, you only need jna.jar (see getting started here: https://github.com/java-native-access/jna/blob/master/www/GettingStarted.md), but I would suggest you also use jna-platform.jar so that you don&#39;t need write the code that generates the mappings for kernel32 at runtime yourself.\r\n\r\nHome for JNA: https://github.com/java-native-access/jna\r\n\r\nI think adding 1 (or 2 if you add jna-platform) jars that have a very specific scope (doing native calls without all the JNI preparation overhead) is lightweight enough. You don&#39;t need to generate any headers, or change anything in your compilation process. It will just work by adding those jars to your classpath.\r\n\r\nYou should also clarify in your question that this is about Windows. Maybe edit the title to: &quot;Printing up a line in java console (reverse of &#39;\\n&#39;) **on Windows**&quot; as this is really about a platform-specific concern that you want to address with Java.\r\n","title":"Printing up a line in java console (reverse of &#39;\\n&#39;)","body":"<p>The python way you reference in \"Edit 2\" (<a href=\"https://stackoverflow.com/a/36760881/309816\">https://stackoverflow.com/a/36760881/309816</a>) simply invokes Windows-specific native code (kernel32, which is non-portable) to \"fix\" this.</p>\n\n<p>I suppose you are OK with that and want to do the same in Java (i.e. invoke kernel32 when you detect Windows)...</p>\n\n<p>A <em>very lightweight</em> library for achieving the same in Java is JNA which has out-of-the-box wrapper for kernel32 (see: <a href=\"https://java-native-access.github.io/jna/4.2.1/com/sun/jna/platform/win32/Kernel32.html\" rel=\"nofollow noreferrer\">https://java-native-access.github.io/jna/4.2.1/com/sun/jna/platform/win32/Kernel32.html</a>)</p>\n\n<p>You seem to be after this method: <a href=\"https://java-native-access.github.io/jna/4.2.1/com/sun/jna/platform/win32/Wincon.html#SetConsoleMode-com.sun.jna.platform.win32.WinNT.HANDLE-int-\" rel=\"nofollow noreferrer\">https://java-native-access.github.io/jna/4.2.1/com/sun/jna/platform/win32/Wincon.html#SetConsoleMode-com.sun.jna.platform.win32.WinNT.HANDLE-int-</a></p>\n\n<p>Hope this works for you.</p>\n\n<p>EDIT: technically, you only need jna.jar (see getting started here: <a href=\"https://github.com/java-native-access/jna/blob/master/www/GettingStarted.md\" rel=\"nofollow noreferrer\">https://github.com/java-native-access/jna/blob/master/www/GettingStarted.md</a>), but I would suggest you also use jna-platform.jar so that you don't need write the code that generates the mappings for kernel32 at runtime yourself.</p>\n\n<p>Home for JNA: <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">https://github.com/java-native-access/jna</a></p>\n\n<p>I think adding 1 (or 2 if you add jna-platform) jars that have a very specific scope (doing native calls without all the JNI preparation overhead) is lightweight enough. You don't need to generate any headers, or change anything in your compilation process. It will just work by adding those jars to your classpath.</p>\n\n<p>You should also clarify in your question that this is about Windows. Maybe edit the title to: \"Printing up a line in java console (reverse of '\\n') <strong>on Windows</strong>\" as this is really about a platform-specific concern that you want to address with Java.</p>\n"}],"owner":{"account_id":13839187,"reputation":623,"user_id":9989971,"display_name":"Redacted"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2538,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"answer_count":1,"score":21,"last_activity_date":1679609022,"creation_date":1537797146,"question_id":52480925,"body_markdown":"#Foreword\r\nI&#39;ve seen some questions related to this in other languages and done quite some research on this. First, before we begin going down the rabbit hole, I must describe why I&#39;m doing this. I&#39;m pretty printing a binary tree and I found a way to do it that I don&#39;t think anyone else has found (can&#39;t find it anywhere on the web I&#39;ve searched forever). It solves a lot of the problems related to spacing and conflicts and I&#39;ll probably provide it as an answer to prettyprint Btree questions later. Anyways, an essential part of doing the above is to be able to move the line feed (the cursor) one line up. I will also settle for moving the carriage return one line up. \r\n\r\nI have made three EDITs to this question named &quot;Edit 1-3&quot; near the bottom.\r\n\r\nMy specific Windows version (might be relevant): Windows 10 v1607\r\nOS build: 14393.2035\r\n\r\n#The problem??\r\nThe problem is that this is easily done with ANSI escape characters\r\n\r\nANSI escape codes: https://en.wikipedia.org/wiki/ANSI_escape_code\r\n\r\nWith &quot;\\033[A&quot; being the specific code I want to implement (got it from a question about moving one line up in python).\r\n\r\n#The problem\r\nSo problem solved right? Oh no, not even close. The **problem** is, apparently windows had this &quot;&quot;&quot;*wonderful*&quot;&quot;&quot; update that may have broke everything ANSI/console related. The below links to a question about this but with different ANSI requirements however the root problem is the same.\r\n\r\nhttps://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\r\n\r\ntl:dr It doesn&#39;t work for windows for some reason, you need a big library to do this or something else.\r\n\r\nSooo then I tried doing some in-depth research on the update itself and why this happens to be windows specific (of course) and I was led to this.\r\n\r\nthe root cause of windows problem: https://github.com/Microsoft/WSL/issues/1173\r\n\r\ntl;dr: \r\nBasically, the update changed a default setting for cmd.exe which is the default console that java uses. What changed was how the console setting for ANSI codes are processed for &#39;child applications&#39; AKA java (stuff that uses the console but isn&#39;t console itself). The default Before the update was that child applications inherited the default of console which was to have ANSI enabled. NOW (because apparently, the previous default broke things) they changed it so that child applications DO NOT inherit the default settings from the console. This means java has to effectively set this console mode itself if java wants to have ANSI enabled. There are obviously a plethora of libraries for the java command to do that but of the good available ones, there are some issues. Firstly they require maven and I don&#39;t want maven, also I don&#39;t like NEEDING a million extra libraries to do something very simple and it adds to the number of things my code relies on (which is bad). So I&#39;m trying to avoid simple solutions like &quot;just use JANSI&quot; to `setConsoleMode` for ANSI.\r\n\r\n#What I&#39;ve tried after this\r\nafter I was done reading/understanding that I tried going into my Registry Editor and trying to change the default setting of the console (cmd.exe) to always enable ANSI even for child applications (AKA java). It had been suggested in the GitHub discussion but to my surprise the specific setting wasn&#39;t even there for me. (it was supposed to be in Computer -&gt; HKEY_CUURENT_USER -&gt; Console between &quot;TrimLeadingZeros&quot; and &quot;WindowAlpha&quot;).\r\n\r\n#Try 2\r\nSince I couldn&#39;t edit the console setting without big libraries full of things I don&#39;t want, I tried thinking outside the box and I messed around in java settings. I discovered where exactly java sets it&#39;s console and discovered that I could change that setting to use a different console in java. I had recently installed git and known that git bash was available so I tried that using the below question (and google in general) as a starting point. \r\n\r\nhttps://superuser.com/questions/1196463/start-sh-exe-bash-with-given-path\r\n\r\n#Third time is the charm?\r\nI couldn&#39;t get the darn thing to work. It didn&#39;t return any errors or do anything new, like at all. It was even set &#39;for the current project&#39; so it should&#39;ve done something different when I ran my project no? I believe part of the problem is that my root git folder is screwy (not in program files). This is probably because the computer I&#39;m using is a work computer and maybe some setting there affects where git was installed, I don&#39;t know but what I do know is that when I changed consoles I tried this path:\r\n\r\nC:\\Users\\abbotts1\\AppData\\Local\\Programs\\Git\\bin\\bash.exe\r\n\r\nI also tried:\r\n\r\nC:\\Users\\abbotts1\\AppData\\Local\\Programs\\Git\\bash.exe\r\n\r\nand\r\n\r\nC:\\Users\\abbotts1\\AppData\\Local\\Programs\\Git\\bin\\sh.exe\r\n\r\nand\r\n\r\n&quot;C:\\Users\\abbotts1\\AppData\\Local\\Programs\\Git\\bin\\sh.exe&quot; --login -i\r\n\r\nAnd after each change of console I tried this code:\r\n\r\n    public class ExpressionEvaluator {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;1&quot;);\r\n            System.out.println(&quot;\\033[A&quot;);\r\n            System.out.println(&quot;2&quot;);\r\n        }\r\n    }\r\n\r\nAnd I always got:\r\n\r\n&gt; 1\r\n&gt; \r\n&gt; \r\n&gt; Extra Line here\r\n&gt; \r\n&gt; \r\n&gt; 2\r\n\r\nAs the output. If I removed the &#39;move cursor up&#39; ANSI println statement attempt I got:\r\n\r\n&gt; 1 \r\n&gt;\r\n&gt; 2\r\n\r\nWhat I wanted was:\r\n\r\n&gt; 2\r\n&gt;\r\n&gt; 1\r\n\r\n(the whole point being, I&#39;m able to move up a line freely)\r\n\r\n\r\nI&#39;ve also tried making them print statements and that didn&#39;t work either. \r\n\r\n#So I&#39;m now at wits end\r\nSo here is what I want, an answer something like:\r\n\r\n1. A nonintrusive way to change the setting for cmd.exe to allow child applications like java to use ANSI BY DEFAULT when ran\r\n\r\n2. OR a nonintrusive library that doesn&#39;t require maven and a million other things to enable ANSI so I can run the ANSI in java in the console and get my desired output\r\n\r\n3. OR a programmatic workaround that allows me to effectively print one line up without this whole ANSI thing\r\n\r\n4. OR help to configure IntelliJ console so that I can actually use a different console and use ANSI to print one line up\r\n\r\n#To address the obvious concerns\r\nSince 1 and 4 are superuser questions and 2 is &#39;I need a library&#39; and offtopic I&#39;m more talking about point 3 here. If there is no workaround for this and the answer is one of the offtopic ones just tell me there is no workaround. I don&#39;t know how else to ask this question since it is a &#39;programming specific problem&#39; it just has many solutions some of which are not &#39;on the topic&#39; because they aren&#39;t programming solutions. If the only answer is &#39;the solution isn&#39;t on topic here&#39; then I&#39;ll go ask in the appropriate place. Let me know if I should delete this question when I go to ask it somewhere else.\r\n\r\n#What I think might work for on topic part of this\r\nSince 3 is on topic here I&#39;ll discuss what I&#39;m thinking:\r\n\r\nMaybe I could make some sort of system to print only to certain arrays instead of moving up and down lines (i.e. have an array to represent the lines, traverse the tree and instead of moving up and down lines, just switching the array to print to). I don&#39;t see this as very efficient and Its kind of a waste of arrays and processing power but if its a solution I&#39;m willing to hear it. That&#39;s all I can &#39;think of&#39; but most of what I&#39;ve tried is trying to get ANSI to work.\r\n\r\n#For future reference:\r\nwhat is the appropriate way to ask these questions with multiple off-topic solutions/ solution questions? Is it better just not to ask them at all? Do solutions that involve questions constitute a chameleon question? I don&#39;t feel like bringing the meta effect upon myself.\r\n\r\n\r\n\r\n#Edit 1: where I&#39;m at so far:\r\n\r\nI&#39;ve tried the whole git bash thing again and boy was it a process. The actual git bash path in the terminal needs to be in quotes with the --login -I arguments coming afterward. Ex: \r\n\r\n&gt; C:\\Git\\bin\\sh.exe --login -i\r\n\r\nThis setting is for the java terminal. THEN you have to set a windows environment variable named PATH to your java JDK. Go to your path environment variables (there are a million and one youtube videos for that) and set a new variable named PATH to your JDK. Ex: \r\n\r\n&gt; C:\\Program Files\\Java\\jdk-10.0.1\\bin\r\n\r\nThis question:\r\n\r\nhttps://stackoverflow.com/questions/22281436/how-can-i-make-gitbash-find-the-javac-command\r\n\r\nGoes through that process extensively\r\n\r\nTl;dr You have to set a windows path variable this in order for git bash to recognize the javac and java commands.\r\n\r\nOnce that&#39;s done you need to actually run your java and javac commands like you would in any terminal. BTW be careful because paths in git bash require a two &#39;\\\\&#39; notation instead of the normal &#39;\\&#39; so your source directory path might look like this:\r\n\r\n&gt; C:\\\\IdeaProjects\\\\Calculator\\\\src\\\\ \r\n\r\nThen you just run:\r\n\r\n&gt; javac ClassName.java\r\n\r\n&gt; java ClassName\r\n\r\nBUT THEN it doesn&#39;t actually print the ANSI output, it prints the raw escape characters. Also, I found out I was using the WRONG escape sequence (I had the wrong number to represent the &#39;esc&#39; button since the &#39;esc&#39; key is represented as some number, but I had the wrong hex number I was using like x330 or something). I also learned that the notation is like this:\r\n\r\n&gt; &#39;esc key hex number&#39; + &#39;[&#39; + &#39;parameter hex values separated by commas&#39;\r\n\r\nso this might look like:\r\n\r\n&gt; \\x1B [ A\r\n\r\nwhere the actual letters and numbers are hex value stuff (without the obvious 0x...) and the first escape hex value has an x in it (why?). Anyways, when running them in Java as strings you need to escape the escape character (duh right?) with an extra &#39;\\&#39; so, for example, the code might look like:\r\n\r\n    System.out.println(&quot;\\\\\\x1B [A&quot;);\r\n\r\n&gt; I just noticed that stack overflow escapes these too so I\r\n&gt; actually have three &#39;\\&#39; but for you guys, it only displays two &#39;\\&#39;,\r\n&gt; weird right? Anyways back to what I was saying\r\n\r\nBUT STILL, the output doesn&#39;t actually work! This is where I&#39;m at. I&#39;ve done the above and I 99.9% know git bash is installed right and runs fine but when I run this:\r\n\r\n    public class ExpressionEvaluator {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;1&quot;);\r\n            System.out.println(&quot;\\\\x1B [A&quot;);\r\n            System.out.println(&quot;2&quot;);\r\n        }\r\n    }\r\n\r\nI get this in java console (not git bash??):\r\n\r\n&gt; 1 \r\n&gt; \r\n&gt; \\x1B [A \r\n&gt; \r\n&gt; 2\r\n\r\nand this in git bash:\r\n\r\n&gt; 1\r\n&gt; \r\n&gt; \\x1B [A\r\n&gt; \r\n&gt; 2\r\n\r\nWhat I actually want is:\r\n\r\n&gt; 2\r\n&gt; \r\n&gt; 1\r\n\r\nBecause the ANSI escape character is supposed to move my cursor/linefeed/whatever, one line upwards. The same thing happens if I run the above code but instead use the ANSI code: &quot;\\x1B [F&quot;. Only raw ANSI is output. I&#39;m pretty sure git bash was supposed to be &#39;natively ANSI aware&#39; and I&#39;ve seen people say that on websites so I don&#39;t know why it isn&#39;t working.\r\n\r\nAnd I still don&#39;t know for sure if those are two separate console outputs or the same console output. I really can&#39;t tell so if anyone wants to leave a comment saying &#39;yeah its the same dummy&#39;, I&#39;d appreciate it because I can&#39;t find a definitive source out on the web that it is. I think it is but nothing other than the console setting in IntelliJ indicates that as true.\r\n\r\nI&#39;ve heard rumors of a TERM variable that needs to be set or otherwise manipulated on windows. I&#39;ve checked myself what it is using:\r\n\r\n&gt; echo $TERM \r\n\r\nin git bash and I got back:\r\n\r\n&gt; cygwin\r\n\r\nSo I don&#39;t exactly know if that&#39;s good or bad because I&#39;ve literally gone through all the search terms you can think of and they all lead to the same basic page of results for &#39;git bash colors not working&#39; and most of them involve windows 7 (don&#39;t have it) installing maven/jansi (don&#39;t want or shouldn&#39;t need it) or some other language that isn&#39;t Java and using some other IDE which isn&#39;t IntelliJ. Some pages that do have my specific requirements have said something about TERM supposed to be xterm or some other thing like xterm-256 or something for &#39;color&#39; output, something like this. I am so unfamiliar with this stuff so I don&#39;t even know where to begin.\r\n\r\n#Too long give us a tl;dr\r\n\r\nI need to know why git bash is printing raw ANSI instead of actually using the ANSI. \r\n\r\n**what I know**\r\n\r\nI&#39;m using git bash with IntelliJ, 99.9% sure I have my path set correctly, I am able to run my java class from git bash, I have it set as the IntelliJ terminal and I currently have the windows TERM variable set to cygwin.\r\n \r\n**What I don&#39;t know**\r\n\r\nI don&#39;t know what TERM needs to be and can&#39;t find it on the web, I can&#39;t tell if the IntelliJ console that appears when I click the green arrow &#39;run&#39; is the same as the git bash console, and I can&#39;t figure out if some other thing is preventing me from actually interpreting the ANSI. \r\n\r\n**What I need**\r\n\r\nI need a simple explanation, something straight out of r/ELI5 of what is wrong with git bash if anything and how to fix it. If it can&#39;t be explained simply or nothing is wrong then maybe I&#39;ll try another supposedly &#39;natively ANSI aware&#39; terminal. I think Powershell was another option that was listed. My best bet is that the TERM variable needs to be something else, or git bash was never really natively ANSI aware and capable, to begin with. I&#39;ve seen other questions with the same problem for colors but their fixes are for older versions/different languages and things or they don&#39;t actually work. I have yet to find a good page for &#39;git bash outputs raw ANSI in IntelliJ&#39; and I&#39;ve used variations of those exact words for hours now. All I can get is long GitHub discussions on the &#39;bugs&#39; related to this and they confuse me, don&#39;t lead to solutions, and may be active or just don&#39;t contain any resolution.\r\n\r\n#Edit 2\r\n\r\nAfter doing some more research I&#39;ve learned that my previous escape code was correct:\r\n\r\n&gt; \\033[A\r\n&gt; \r\n&gt; \\x1B[A\r\n\r\nshould be similar. \r\n\r\nI also learned that it isn&#39;t the console I&#39;m using that&#39;s the problem, its Windows itself. I now know this because I&#39;ve tried compiling and running on cmd.exe , git bash and powershell. To change the default setting talked about earlier (consoles not supporting ansi for child applications) you have to EXPLICITLY enable it via the program itself rather than rely on a console or something. \r\n\r\nlink to a question that explains this in Python here:\r\n\r\nhttps://stackoverflow.com/questions/36760127/how-to-use-the-new-support-for-ansi-escape-sequences-in-the-windows-10-console?noredirect=1&amp;lq=1\r\n\r\ntl;dr \r\n\r\nThe method that they use is something called `getConsoleMode` and `setConsoleMode` and `VIRTUALTERMINALPROCESSING` flags. Apparently you need to use these to actually set the console mode to support ANSI. I don&#39;t currently know if those are things that are in java hidden somewhere or (likely) something that needs to be added to the base java libraries. I&#39;m going to try and figure out how they actually get the `ctypes` thing from that question (seems to be what they&#39;re importing to sue these methods) and get the methods I need. Once I do I&#39;ll post that as an answer unless one of you figures it out before I do and can explain it better.\r\n\r\nApparently, the escape sequences work fine if you only use them from the console but If you use a &quot;child application&quot; then they don&#39;t work. So at the very least we now for sure know the root cause of the problem.\r\n\r\n#Edit 3\r\n\r\nFound this which is highly relevant especially the console virtual terminal sequences section (lefthand navbar):\r\n\r\nhttps://learn.microsoft.com/en-us/windows/console/console-virtual-terminal-sequences\r\n\r\nThis which, near the bottom has a whole C-implementation of how to enable the console to read ANSI. Apparently, this doesn&#39;t need libraries at all but the process to actually change the console defaults to use code like this requires sysadmin privileges, intimate knowledge of the program files and a whole host of other things (at least if you&#39;re before the windows 10 update when color support was changed). Now it&#39;s still disabled by default but can be enabled. I don&#39;t yet know how to try ANSI from the console directly. I&#39;ve tried multiple\r\n\r\n&gt; echo \\x1B[(insert ANSI code here)\r\n\r\nbut none of the commands seem to work in ANY terminal (cmd, git bash, powershell). They just return the raw code\r\n\r\n\\x1B[(whatever the ANSI code was)\r\n\r\nI obviously am new to the console so I might be using the wrong command, if so feel free to enlighten me but the examples I&#39;ve seen use echo. ANYWAYS, I thought that calling the ANSI directly from terminal was supposed to work since its supposedly enabled by default just not child applications (post windows 10 update) BUT maybe its not, maybe its disabled by default and even when enabled its still disabled for child applications (Java) unless explicitly changed in said child application (java). I&#39;m going to try to see if it&#39;s possible to enable ANSI directly from the console, or if the linked C-code needs to be directly ported to Java or ran in the console just to work. The problem is I don&#39;t know how to get the imports/includes that the C-code uses and use it for code in java. I&#39;d rather not just accept a coded &#39;solution&#39; in C and try and use that alongside java code, I&#39;d rather translate, understand it better and have my own code that does the same thing. \r\n\r\nAnother option I&#39;ve been told is something called ANSICON which is like some sort of plugin that you install in the console with the -i flag and that&#39;s supposed to enable ANSI at least in-console. I found this\r\n\r\nhttps://community.liferay.com/blogs/-/blogs/enable-ansi-colors-in-windows-command-prompt\r\n\r\nthe above explains that process in a little more detail.\r\n\r\n**My specific windows version and the version of the update**\r\n\r\nAnother thing I learned was that the specific version of windows 10 that the &#39;update&#39; that changed ANSI console behavior was like windows 10 v1151 or something, I&#39;ll try and find the webpage to source this directly but I currently have windows 10 v1607 so I think I should be good. Included in that was the actual OS build which I have 14393.2035 and I think that was identified as a particularly intermediate update to this process in one of my previous links (I believe its the one with the whole GitHub discussion about the update, you can find it here: https://github.com/Microsoft/WSL/issues/1173). I have a work computer so I can&#39;t really make system updates because I&#39;m not an administrator and I doubt IT would let an intern go around updating work computers.\r\n\r\nAnyways, I&#39;ll continue on trying to see if I can get the C-code to java, I&#39;ll test it and then try and post an answer. If ya&#39;ll are ahead of me let me know.\r\n\r\n\r\n","title":"Printing up a line in java console (reverse of &#39;\\n&#39;)","body":"<h1>Foreword</h1>\n\n<p>I've seen some questions related to this in other languages and done quite some research on this. First, before we begin going down the rabbit hole, I must describe why I'm doing this. I'm pretty printing a binary tree and I found a way to do it that I don't think anyone else has found (can't find it anywhere on the web I've searched forever). It solves a lot of the problems related to spacing and conflicts and I'll probably provide it as an answer to prettyprint Btree questions later. Anyways, an essential part of doing the above is to be able to move the line feed (the cursor) one line up. I will also settle for moving the carriage return one line up. </p>\n\n<p>I have made three EDITs to this question named \"Edit 1-3\" near the bottom.</p>\n\n<p>My specific Windows version (might be relevant): Windows 10 v1607\nOS build: 14393.2035</p>\n\n<h1>The problem??</h1>\n\n<p>The problem is that this is easily done with ANSI escape characters</p>\n\n<p>ANSI escape codes: <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/ANSI_escape_code</a></p>\n\n<p>With \"\\033[A\" being the specific code I want to implement (got it from a question about moving one line up in python).</p>\n\n<h1>The problem</h1>\n\n<p>So problem solved right? Oh no, not even close. The <strong>problem</strong> is, apparently windows had this \"\"\"<em>wonderful</em>\"\"\" update that may have broke everything ANSI/console related. The below links to a question about this but with different ANSI requirements however the root problem is the same.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\">How to print color in console using System.out.println?</a></p>\n\n<p>tl:dr It doesn't work for windows for some reason, you need a big library to do this or something else.</p>\n\n<p>Sooo then I tried doing some in-depth research on the update itself and why this happens to be windows specific (of course) and I was led to this.</p>\n\n<p>the root cause of windows problem: <a href=\"https://github.com/Microsoft/WSL/issues/1173\" rel=\"noreferrer\">https://github.com/Microsoft/WSL/issues/1173</a></p>\n\n<p>tl;dr: \nBasically, the update changed a default setting for cmd.exe which is the default console that java uses. What changed was how the console setting for ANSI codes are processed for 'child applications' AKA java (stuff that uses the console but isn't console itself). The default Before the update was that child applications inherited the default of console which was to have ANSI enabled. NOW (because apparently, the previous default broke things) they changed it so that child applications DO NOT inherit the default settings from the console. This means java has to effectively set this console mode itself if java wants to have ANSI enabled. There are obviously a plethora of libraries for the java command to do that but of the good available ones, there are some issues. Firstly they require maven and I don't want maven, also I don't like NEEDING a million extra libraries to do something very simple and it adds to the number of things my code relies on (which is bad). So I'm trying to avoid simple solutions like \"just use JANSI\" to <code>setConsoleMode</code> for ANSI.</p>\n\n<h1>What I've tried after this</h1>\n\n<p>after I was done reading/understanding that I tried going into my Registry Editor and trying to change the default setting of the console (cmd.exe) to always enable ANSI even for child applications (AKA java). It had been suggested in the GitHub discussion but to my surprise the specific setting wasn't even there for me. (it was supposed to be in Computer -> HKEY_CUURENT_USER -> Console between \"TrimLeadingZeros\" and \"WindowAlpha\").</p>\n\n<h1>Try 2</h1>\n\n<p>Since I couldn't edit the console setting without big libraries full of things I don't want, I tried thinking outside the box and I messed around in java settings. I discovered where exactly java sets it's console and discovered that I could change that setting to use a different console in java. I had recently installed git and known that git bash was available so I tried that using the below question (and google in general) as a starting point. </p>\n\n<p><a href=\"https://superuser.com/questions/1196463/start-sh-exe-bash-with-given-path\">https://superuser.com/questions/1196463/start-sh-exe-bash-with-given-path</a></p>\n\n<h1>Third time is the charm?</h1>\n\n<p>I couldn't get the darn thing to work. It didn't return any errors or do anything new, like at all. It was even set 'for the current project' so it should've done something different when I ran my project no? I believe part of the problem is that my root git folder is screwy (not in program files). This is probably because the computer I'm using is a work computer and maybe some setting there affects where git was installed, I don't know but what I do know is that when I changed consoles I tried this path:</p>\n\n<p>C:\\Users\\abbotts1\\AppData\\Local\\Programs\\Git\\bin\\bash.exe</p>\n\n<p>I also tried:</p>\n\n<p>C:\\Users\\abbotts1\\AppData\\Local\\Programs\\Git\\bash.exe</p>\n\n<p>and</p>\n\n<p>C:\\Users\\abbotts1\\AppData\\Local\\Programs\\Git\\bin\\sh.exe</p>\n\n<p>and</p>\n\n<p>\"C:\\Users\\abbotts1\\AppData\\Local\\Programs\\Git\\bin\\sh.exe\" --login -i</p>\n\n<p>And after each change of console I tried this code:</p>\n\n<pre><code>public class ExpressionEvaluator {\n\n    public static void main(String[] args) {\n        System.out.println(\"1\");\n        System.out.println(\"\\033[A\");\n        System.out.println(\"2\");\n    }\n}\n</code></pre>\n\n<p>And I always got:</p>\n\n<blockquote>\n  <p>1</p>\n  \n  <p>Extra Line here</p>\n  \n  <p>2</p>\n</blockquote>\n\n<p>As the output. If I removed the 'move cursor up' ANSI println statement attempt I got:</p>\n\n<blockquote>\n  <p>1 </p>\n  \n  <p>2</p>\n</blockquote>\n\n<p>What I wanted was:</p>\n\n<blockquote>\n  <p>2</p>\n  \n  <p>1</p>\n</blockquote>\n\n<p>(the whole point being, I'm able to move up a line freely)</p>\n\n<p>I've also tried making them print statements and that didn't work either. </p>\n\n<h1>So I'm now at wits end</h1>\n\n<p>So here is what I want, an answer something like:</p>\n\n<ol>\n<li><p>A nonintrusive way to change the setting for cmd.exe to allow child applications like java to use ANSI BY DEFAULT when ran</p></li>\n<li><p>OR a nonintrusive library that doesn't require maven and a million other things to enable ANSI so I can run the ANSI in java in the console and get my desired output</p></li>\n<li><p>OR a programmatic workaround that allows me to effectively print one line up without this whole ANSI thing</p></li>\n<li><p>OR help to configure IntelliJ console so that I can actually use a different console and use ANSI to print one line up</p></li>\n</ol>\n\n<h1>To address the obvious concerns</h1>\n\n<p>Since 1 and 4 are superuser questions and 2 is 'I need a library' and offtopic I'm more talking about point 3 here. If there is no workaround for this and the answer is one of the offtopic ones just tell me there is no workaround. I don't know how else to ask this question since it is a 'programming specific problem' it just has many solutions some of which are not 'on the topic' because they aren't programming solutions. If the only answer is 'the solution isn't on topic here' then I'll go ask in the appropriate place. Let me know if I should delete this question when I go to ask it somewhere else.</p>\n\n<h1>What I think might work for on topic part of this</h1>\n\n<p>Since 3 is on topic here I'll discuss what I'm thinking:</p>\n\n<p>Maybe I could make some sort of system to print only to certain arrays instead of moving up and down lines (i.e. have an array to represent the lines, traverse the tree and instead of moving up and down lines, just switching the array to print to). I don't see this as very efficient and Its kind of a waste of arrays and processing power but if its a solution I'm willing to hear it. That's all I can 'think of' but most of what I've tried is trying to get ANSI to work.</p>\n\n<h1>For future reference:</h1>\n\n<p>what is the appropriate way to ask these questions with multiple off-topic solutions/ solution questions? Is it better just not to ask them at all? Do solutions that involve questions constitute a chameleon question? I don't feel like bringing the meta effect upon myself.</p>\n\n<h1>Edit 1: where I'm at so far:</h1>\n\n<p>I've tried the whole git bash thing again and boy was it a process. The actual git bash path in the terminal needs to be in quotes with the --login -I arguments coming afterward. Ex: </p>\n\n<blockquote>\n  <p>C:\\Git\\bin\\sh.exe --login -i</p>\n</blockquote>\n\n<p>This setting is for the java terminal. THEN you have to set a windows environment variable named PATH to your java JDK. Go to your path environment variables (there are a million and one youtube videos for that) and set a new variable named PATH to your JDK. Ex: </p>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk-10.0.1\\bin</p>\n</blockquote>\n\n<p>This question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22281436/how-can-i-make-gitbash-find-the-javac-command\">How can i make gitbash find the javac command?</a></p>\n\n<p>Goes through that process extensively</p>\n\n<p>Tl;dr You have to set a windows path variable this in order for git bash to recognize the javac and java commands.</p>\n\n<p>Once that's done you need to actually run your java and javac commands like you would in any terminal. BTW be careful because paths in git bash require a two '\\' notation instead of the normal '\\' so your source directory path might look like this:</p>\n\n<blockquote>\n  <p>C:\\IdeaProjects\\Calculator\\src\\ </p>\n</blockquote>\n\n<p>Then you just run:</p>\n\n<blockquote>\n  <p>javac ClassName.java</p>\n  \n  <p>java ClassName</p>\n</blockquote>\n\n<p>BUT THEN it doesn't actually print the ANSI output, it prints the raw escape characters. Also, I found out I was using the WRONG escape sequence (I had the wrong number to represent the 'esc' button since the 'esc' key is represented as some number, but I had the wrong hex number I was using like x330 or something). I also learned that the notation is like this:</p>\n\n<blockquote>\n  <p>'esc key hex number' + '[' + 'parameter hex values separated by commas'</p>\n</blockquote>\n\n<p>so this might look like:</p>\n\n<blockquote>\n  <p>\\x1B [ A</p>\n</blockquote>\n\n<p>where the actual letters and numbers are hex value stuff (without the obvious 0x...) and the first escape hex value has an x in it (why?). Anyways, when running them in Java as strings you need to escape the escape character (duh right?) with an extra '\\' so, for example, the code might look like:</p>\n\n<pre><code>System.out.println(\"\\\\\\x1B [A\");\n</code></pre>\n\n<blockquote>\n  <p>I just noticed that stack overflow escapes these too so I\n  actually have three '\\' but for you guys, it only displays two '\\',\n  weird right? Anyways back to what I was saying</p>\n</blockquote>\n\n<p>BUT STILL, the output doesn't actually work! This is where I'm at. I've done the above and I 99.9% know git bash is installed right and runs fine but when I run this:</p>\n\n<pre><code>public class ExpressionEvaluator {\n    public static void main(String[] args) {\n        System.out.println(\"1\");\n        System.out.println(\"\\\\x1B [A\");\n        System.out.println(\"2\");\n    }\n}\n</code></pre>\n\n<p>I get this in java console (not git bash??):</p>\n\n<blockquote>\n  <p>1 </p>\n  \n  <p>\\x1B [A </p>\n  \n  <p>2</p>\n</blockquote>\n\n<p>and this in git bash:</p>\n\n<blockquote>\n  <p>1</p>\n  \n  <p>\\x1B [A</p>\n  \n  <p>2</p>\n</blockquote>\n\n<p>What I actually want is:</p>\n\n<blockquote>\n  <p>2</p>\n  \n  <p>1</p>\n</blockquote>\n\n<p>Because the ANSI escape character is supposed to move my cursor/linefeed/whatever, one line upwards. The same thing happens if I run the above code but instead use the ANSI code: \"\\x1B [F\". Only raw ANSI is output. I'm pretty sure git bash was supposed to be 'natively ANSI aware' and I've seen people say that on websites so I don't know why it isn't working.</p>\n\n<p>And I still don't know for sure if those are two separate console outputs or the same console output. I really can't tell so if anyone wants to leave a comment saying 'yeah its the same dummy', I'd appreciate it because I can't find a definitive source out on the web that it is. I think it is but nothing other than the console setting in IntelliJ indicates that as true.</p>\n\n<p>I've heard rumors of a TERM variable that needs to be set or otherwise manipulated on windows. I've checked myself what it is using:</p>\n\n<blockquote>\n  <p>echo $TERM </p>\n</blockquote>\n\n<p>in git bash and I got back:</p>\n\n<blockquote>\n  <p>cygwin</p>\n</blockquote>\n\n<p>So I don't exactly know if that's good or bad because I've literally gone through all the search terms you can think of and they all lead to the same basic page of results for 'git bash colors not working' and most of them involve windows 7 (don't have it) installing maven/jansi (don't want or shouldn't need it) or some other language that isn't Java and using some other IDE which isn't IntelliJ. Some pages that do have my specific requirements have said something about TERM supposed to be xterm or some other thing like xterm-256 or something for 'color' output, something like this. I am so unfamiliar with this stuff so I don't even know where to begin.</p>\n\n<h1>Too long give us a tl;dr</h1>\n\n<p>I need to know why git bash is printing raw ANSI instead of actually using the ANSI. </p>\n\n<p><strong>what I know</strong></p>\n\n<p>I'm using git bash with IntelliJ, 99.9% sure I have my path set correctly, I am able to run my java class from git bash, I have it set as the IntelliJ terminal and I currently have the windows TERM variable set to cygwin.</p>\n\n<p><strong>What I don't know</strong></p>\n\n<p>I don't know what TERM needs to be and can't find it on the web, I can't tell if the IntelliJ console that appears when I click the green arrow 'run' is the same as the git bash console, and I can't figure out if some other thing is preventing me from actually interpreting the ANSI. </p>\n\n<p><strong>What I need</strong></p>\n\n<p>I need a simple explanation, something straight out of r/ELI5 of what is wrong with git bash if anything and how to fix it. If it can't be explained simply or nothing is wrong then maybe I'll try another supposedly 'natively ANSI aware' terminal. I think Powershell was another option that was listed. My best bet is that the TERM variable needs to be something else, or git bash was never really natively ANSI aware and capable, to begin with. I've seen other questions with the same problem for colors but their fixes are for older versions/different languages and things or they don't actually work. I have yet to find a good page for 'git bash outputs raw ANSI in IntelliJ' and I've used variations of those exact words for hours now. All I can get is long GitHub discussions on the 'bugs' related to this and they confuse me, don't lead to solutions, and may be active or just don't contain any resolution.</p>\n\n<h1>Edit 2</h1>\n\n<p>After doing some more research I've learned that my previous escape code was correct:</p>\n\n<blockquote>\n  <p>\\033[A</p>\n  \n  <p>\\x1B[A</p>\n</blockquote>\n\n<p>should be similar. </p>\n\n<p>I also learned that it isn't the console I'm using that's the problem, its Windows itself. I now know this because I've tried compiling and running on cmd.exe , git bash and powershell. To change the default setting talked about earlier (consoles not supporting ansi for child applications) you have to EXPLICITLY enable it via the program itself rather than rely on a console or something. </p>\n\n<p>link to a question that explains this in Python here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36760127/how-to-use-the-new-support-for-ansi-escape-sequences-in-the-windows-10-console?noredirect=1&amp;lq=1\">How to use the new support for ANSI escape sequences in the Windows 10 console?</a></p>\n\n<p>tl;dr </p>\n\n<p>The method that they use is something called <code>getConsoleMode</code> and <code>setConsoleMode</code> and <code>VIRTUALTERMINALPROCESSING</code> flags. Apparently you need to use these to actually set the console mode to support ANSI. I don't currently know if those are things that are in java hidden somewhere or (likely) something that needs to be added to the base java libraries. I'm going to try and figure out how they actually get the <code>ctypes</code> thing from that question (seems to be what they're importing to sue these methods) and get the methods I need. Once I do I'll post that as an answer unless one of you figures it out before I do and can explain it better.</p>\n\n<p>Apparently, the escape sequences work fine if you only use them from the console but If you use a \"child application\" then they don't work. So at the very least we now for sure know the root cause of the problem.</p>\n\n<h1>Edit 3</h1>\n\n<p>Found this which is highly relevant especially the console virtual terminal sequences section (lefthand navbar):</p>\n\n<p><a href=\"https://learn.microsoft.com/en-us/windows/console/console-virtual-terminal-sequences\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/windows/console/console-virtual-terminal-sequences</a></p>\n\n<p>This which, near the bottom has a whole C-implementation of how to enable the console to read ANSI. Apparently, this doesn't need libraries at all but the process to actually change the console defaults to use code like this requires sysadmin privileges, intimate knowledge of the program files and a whole host of other things (at least if you're before the windows 10 update when color support was changed). Now it's still disabled by default but can be enabled. I don't yet know how to try ANSI from the console directly. I've tried multiple</p>\n\n<blockquote>\n  <p>echo \\x1B[(insert ANSI code here)</p>\n</blockquote>\n\n<p>but none of the commands seem to work in ANY terminal (cmd, git bash, powershell). They just return the raw code</p>\n\n<p>\\x1B[(whatever the ANSI code was)</p>\n\n<p>I obviously am new to the console so I might be using the wrong command, if so feel free to enlighten me but the examples I've seen use echo. ANYWAYS, I thought that calling the ANSI directly from terminal was supposed to work since its supposedly enabled by default just not child applications (post windows 10 update) BUT maybe its not, maybe its disabled by default and even when enabled its still disabled for child applications (Java) unless explicitly changed in said child application (java). I'm going to try to see if it's possible to enable ANSI directly from the console, or if the linked C-code needs to be directly ported to Java or ran in the console just to work. The problem is I don't know how to get the imports/includes that the C-code uses and use it for code in java. I'd rather not just accept a coded 'solution' in C and try and use that alongside java code, I'd rather translate, understand it better and have my own code that does the same thing. </p>\n\n<p>Another option I've been told is something called ANSICON which is like some sort of plugin that you install in the console with the -i flag and that's supposed to enable ANSI at least in-console. I found this</p>\n\n<p><a href=\"https://community.liferay.com/blogs/-/blogs/enable-ansi-colors-in-windows-command-prompt\" rel=\"noreferrer\">https://community.liferay.com/blogs/-/blogs/enable-ansi-colors-in-windows-command-prompt</a></p>\n\n<p>the above explains that process in a little more detail.</p>\n\n<p><strong>My specific windows version and the version of the update</strong></p>\n\n<p>Another thing I learned was that the specific version of windows 10 that the 'update' that changed ANSI console behavior was like windows 10 v1151 or something, I'll try and find the webpage to source this directly but I currently have windows 10 v1607 so I think I should be good. Included in that was the actual OS build which I have 14393.2035 and I think that was identified as a particularly intermediate update to this process in one of my previous links (I believe its the one with the whole GitHub discussion about the update, you can find it here: <a href=\"https://github.com/Microsoft/WSL/issues/1173\" rel=\"noreferrer\">https://github.com/Microsoft/WSL/issues/1173</a>). I have a work computer so I can't really make system updates because I'm not an administrator and I doubt IT would let an intern go around updating work computers.</p>\n\n<p>Anyways, I'll continue on trying to see if I can get the C-code to java, I'll test it and then try and post an answer. If ya'll are ahead of me let me know.</p>\n"},{"tags":["java","ansi-escape"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1570236507,"post_id":58244355,"comment_id":102861099,"body_markdown":"All this has exactly nothing to do with the &#39;Java scanner&#39;, whatever that is here, and everything to do with whatever is displaying these alleged ANSI escape sequences. That sounds more like a text window than a &#39;scanner&#39;. If you mean the same thing you are misusing standard terminology.","body":"All this has exactly nothing to do with the &#39;Java scanner&#39;, whatever that is here, and everything to do with whatever is displaying these alleged ANSI escape sequences. That sounds more like a text window than a &#39;scanner&#39;. If you mean the same thing you are misusing standard terminology."},{"owner":{"account_id":16067148,"reputation":9,"user_id":11596467,"display_name":"Thatcher Clough"},"score":0,"creation_date":1570284386,"post_id":58244355,"comment_id":102868720,"body_markdown":"What kind of terminology would you suggest I use instead?","body":"What kind of terminology would you suggest I use instead?"}],"owner":{"account_id":16067148,"reputation":9,"user_id":11596467,"display_name":"Thatcher Clough"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679608781,"creation_date":1570234208,"question_id":58244355,"body_markdown":"I am working on a CLI Java-based SMS test messaging system and I am using ANSI Escape sequences to move the cursor. Currently, I have a scanner open toward the top of the screen and I am trying to display an incoming message while keeping the scanner open so that if you are typing a message the incoming message will still display and you can resume typing where you left off. The only problem is that after the cursor moves to display the message and come back if I attempt to backspace some of the tests already in the scanner, the text is moved down and &quot;^R&quot; is displayed. Example:\r\n```\r\n&gt;before cursor movement\r\n```\r\n```\r\n&gt;cursormoved^R\r\ncursormove\r\n```\r\nHow can I backspace some of the text without having this occur? Code:\r\n```\r\npublic static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        Thread t1 = new Thread() {\r\n            public void run() {\r\n                while (true) {\r\n                    System.out.print(&quot;&gt;&quot;);\r\n                    String message = sc.nextLine();\r\n                    SendMessages.send(message);\r\n                }\r\n            }\r\n        };\r\n\r\n        Thread t2 = new Thread() {\r\n            public void run() {\r\n                while (true) {\r\n                    String message = RecMessages.recMessage();\r\n                    if (message != null) {\r\n                        System.out.print(&quot;\\0337&quot;); // save cursor position\r\n                        System.out.print(&quot;\\n&quot; + message);\r\n                        System.out.print(&quot;\\0338&quot;); // restore saved curor position\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        t1.start();\r\n        t2.start();\r\n    }\r\n```","title":"Java scanner with ANSI Escape sequences and cursor movement displays ^R when moving cursor away and back to scanner","body":"<p>I am working on a CLI Java-based SMS test messaging system and I am using ANSI Escape sequences to move the cursor. Currently, I have a scanner open toward the top of the screen and I am trying to display an incoming message while keeping the scanner open so that if you are typing a message the incoming message will still display and you can resume typing where you left off. The only problem is that after the cursor moves to display the message and come back if I attempt to backspace some of the tests already in the scanner, the text is moved down and \"^R\" is displayed. Example:</p>\n\n<pre><code>&gt;before cursor movement\n</code></pre>\n\n<pre><code>&gt;cursormoved^R\ncursormove\n</code></pre>\n\n<p>How can I backspace some of the text without having this occur? Code:</p>\n\n<pre><code>public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        Thread t1 = new Thread() {\n            public void run() {\n                while (true) {\n                    System.out.print(\"&gt;\");\n                    String message = sc.nextLine();\n                    SendMessages.send(message);\n                }\n            }\n        };\n\n        Thread t2 = new Thread() {\n            public void run() {\n                while (true) {\n                    String message = RecMessages.recMessage();\n                    if (message != null) {\n                        System.out.print(\"\\0337\"); // save cursor position\n                        System.out.print(\"\\n\" + message);\n                        System.out.print(\"\\0338\"); // restore saved curor position\n                    }\n                }\n            }\n        };\n        t1.start();\n        t2.start();\n    }\n</code></pre>\n"},{"tags":["java","eclipse","ide"],"comments":[{"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":2,"creation_date":1249141197,"post_id":1216840,"comment_id":1041208,"body_markdown":"Did you try http://stackoverflow.com/questions/316265/tricks-to-speed-up-eclipse, especially http://stackoverflow.com/questions/142357/what-are-the-best-eclipse-34-jvm-settings#144349 ?","body":"Did you try <a href=\"http://stackoverflow.com/questions/316265/tricks-to-speed-up-eclipse\" title=\"tricks to speed up eclipse\">stackoverflow.com/questions/316265/tricks-to-speed-up-eclips&zwnj;&#8203;e</a>, especially <a href=\"http://stackoverflow.com/questions/142357/what-are-the-best-eclipse-34-jvm-settings#144349\" title=\"what are the best eclipse 34 jvm settings%23144349\">stackoverflow.com/questions/142357/&hellip;</a> ?"},{"owner":{"account_id":32879,"reputation":705,"user_id":91544,"accept_rate":75,"display_name":"Roy Marco Aruta"},"score":0,"creation_date":1249141432,"post_id":1216840,"comment_id":1041224,"body_markdown":"Didn&#39;t see that questions but I have tried it and saw it in other references, It gave some speed up but at some point it still goes slow.","body":"Didn&#39;t see that questions but I have tried it and saw it in other references, It gave some speed up but at some point it still goes slow."},{"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1249141531,"post_id":1216840,"comment_id":1041230,"body_markdown":"Yes, but my &quot;eclipse.ini&quot; is quite optimized now and should avoid any degradation of speed. Give it a try.","body":"Yes, but my &quot;eclipse.ini&quot; is quite optimized now and should avoid any degradation of speed. Give it a try."},{"owner":{"account_id":32879,"reputation":705,"user_id":91544,"accept_rate":75,"display_name":"Roy Marco Aruta"},"score":0,"creation_date":1249141752,"post_id":1216840,"comment_id":1041249,"body_markdown":"Thanks for the suggestions. I have tried it, and the loading of eclipse gets faster now and also its response time. Hope it will still be on the same speed while developing.","body":"Thanks for the suggestions. I have tried it, and the loading of eclipse gets faster now and also its response time. Hope it will still be on the same speed while developing."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1249143035,"post_id":1216840,"comment_id":1041284,"body_markdown":"I ran Galileo on a 1.7GHz Celeron with 512MB RAM (2006). It was slow because of the constant disk swapping, I added a readyboost SD-card, but the real improvement came when I maxed out the RAM to 2GB. Other than that, Eclipse is fast and more responsive than ever.","body":"I ran Galileo on a 1.7GHz Celeron with 512MB RAM (2006). It was slow because of the constant disk swapping, I added a readyboost SD-card, but the real improvement came when I maxed out the RAM to 2GB. Other than that, Eclipse is fast and more responsive than ever."},{"owner":{"account_id":13660,"reputation":5751,"user_id":27579,"accept_rate":67,"display_name":"wsorenson"},"score":0,"creation_date":1249143473,"post_id":1216840,"comment_id":1041301,"body_markdown":"Is your trade to write software? If so, why are you using an incredibly old and underpowered machine? Computers are cheap, and I think you would find at today&#39;s rates, you would recoup the cost of a new machine in time very quickly.","body":"Is your trade to write software? If so, why are you using an incredibly old and underpowered machine? Computers are cheap, and I think you would find at today&#39;s rates, you would recoup the cost of a new machine in time very quickly."},{"owner":{"account_id":46833,"reputation":396593,"user_id":138475,"display_name":"Pascal MARTIN"},"score":1,"creation_date":1249144047,"post_id":1216840,"comment_id":1041338,"body_markdown":"@wsorenson : try to have your boss, who only uses word and excel, to understand that $20 for 1GB of RAM (I suppose that&#39;s appropriate -- not using dollars in France ^^ ) would allow you to gain somthing like ONE ENTIRE DAY of work each month (if you spend 25 minutes waiting each day, 20 days per month...)... Un-happilly some people don&#39;t understand that :-( (same with more powerful computer, better screen, or even better chair, btw ^^ )","body":"@wsorenson : try to have your boss, who only uses word and excel, to understand that $20 for 1GB of RAM (I suppose that&#39;s appropriate -- not using dollars in France ^^ ) would allow you to gain somthing like ONE ENTIRE DAY of work each month (if you spend 25 minutes waiting each day, 20 days per month...)... Un-happilly some people don&#39;t understand that :-( (same with more powerful computer, better screen, or even better chair, btw ^^ )"},{"owner":{"account_id":13660,"reputation":5751,"user_id":27579,"accept_rate":67,"display_name":"wsorenson"},"score":2,"creation_date":1249154976,"post_id":1216840,"comment_id":1041742,"body_markdown":"@Pascal MARTIN if you work for a company that has a problem spending $20 for 1GB of RAM for a s/w developer, you are in serious trouble.","body":"@Pascal MARTIN if you work for a company that has a problem spending $20 for 1GB of RAM for a s/w developer, you are in serious trouble."}],"answers":[{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1249141419,"creation_date":1249141419,"answer_id":1216851,"question_id":1216840,"body_markdown":"This is a common concern and others have posted similar questions.  There are optimizations that you can perform on your Eclipse environment.  Take a look at the [solutions posted here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/142357/what-are-the-best-eclipse-34-jvm-settings#144349","title":"Why is the Eclipse IDE getting slower?","body":"<p>This is a common concern and others have posted similar questions.  There are optimizations that you can perform on your Eclipse environment.  Take a look at the <a href=\"https://stackoverflow.com/questions/142357/what-are-the-best-eclipse-34-jvm-settings#144349\">solutions posted here</a>.</p>\n"},{"tags":[],"owner":{"account_id":46833,"reputation":396593,"user_id":138475,"display_name":"Pascal MARTIN"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1249141838,"creation_date":1249141453,"answer_id":1216853,"question_id":1216840,"body_markdown":"I&#39;m using Eclipse PDT 2.1 (also based on Galileo) for PHP development, and I&#39;ve been using Eclipse-based IDE for 3 years now ; my observation is that 1 GB of RAM is generally not enough to run Eclipse + some kind of web server + DB server + browser + other stuff :-(\r\n\r\n&lt;br&gt;*I&#39;m currently working with a 1GB of RAM machine, and it&#39;s slow as hell... Few months ago, I had a 2GB of RAM machine, and things were going really fine -- and I&#39;m having less software running on the &quot;new machine&quot; than I had on the other one !*\r\n\r\n&lt;br&gt;\r\nOther things that seem to affect Eclipse&#39;s responsivness is :\r\n\r\n - opening a project that&#39;s on a network drive (accessing the sources that are on a development server via samba, for instance)\r\n - sometimes, using an SVN-plugin like SUbversive seems to freeze Eclipse for a couple of seconds/minutes\r\n\r\nA nice to do with languages like PHP (might not be OK for JAVA projects, though) is to disable &quot;automatically build&quot; in &quot;project&quot;&#39;s menu.\r\n\r\n&lt;br&gt;\r\n*As a sidenote : I&#39;ve already seen questions about eclipse&#39;s speed on SO ; you might want to try so searches, to get answers faster ;-)*","title":"Why is the Eclipse IDE getting slower?","body":"<p>I'm using Eclipse PDT 2.1 (also based on Galileo) for PHP development, and I've been using Eclipse-based IDE for 3 years now ; my observation is that 1 GB of RAM is generally not enough to run Eclipse + some kind of web server + DB server + browser + other stuff :-(</p>\n\n<p><br><em>I'm currently working with a 1GB of RAM machine, and it's slow as hell... Few months ago, I had a 2GB of RAM machine, and things were going really fine -- and I'm having less software running on the \"new machine\" than I had on the other one !</em></p>\n\n<p><br>\nOther things that seem to affect Eclipse's responsivness is :</p>\n\n<ul>\n<li>opening a project that's on a network drive (accessing the sources that are on a development server via samba, for instance)</li>\n<li>sometimes, using an SVN-plugin like SUbversive seems to freeze Eclipse for a couple of seconds/minutes</li>\n</ul>\n\n<p>A nice to do with languages like PHP (might not be OK for JAVA projects, though) is to disable \"automatically build\" in \"project\"'s menu.</p>\n\n<p><br>\n<em>As a sidenote : I've already seen questions about eclipse's speed on SO ; you might want to try so searches, to get answers faster ;-)</em></p>\n"},{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249141484,"creation_date":1249141484,"answer_id":1216855,"question_id":1216840,"body_markdown":"Our machines are bigger : 2GB ram, and faster CPU.\r\n\r\nI&#39;m sure that, as all software, Eclipse gets bigger and slower when upgrading version, due to all new functionnalities included. The good news is that from time to time, a release also brings some notable performance improvement. But in my experience, each time I tried using a ten-year old software on my current machine, it was lightning fast, so I&#39;m sure the tendency is to get slower. I agree that this is a sad for us, when we don&#39;t get a better machine.\r\n\r\nThere might be some things you can do, to improve the responsiveness of your Eclipse.\r\nI don&#39;t know if you already tried everything ... ?","title":"Why is the Eclipse IDE getting slower?","body":"<p>Our machines are bigger : 2GB ram, and faster CPU.</p>\n\n<p>I'm sure that, as all software, Eclipse gets bigger and slower when upgrading version, due to all new functionnalities included. The good news is that from time to time, a release also brings some notable performance improvement. But in my experience, each time I tried using a ten-year old software on my current machine, it was lightning fast, so I'm sure the tendency is to get slower. I agree that this is a sad for us, when we don't get a better machine.</p>\n\n<p>There might be some things you can do, to improve the responsiveness of your Eclipse.\nI don't know if you already tried everything ... ?</p>\n"},{"tags":[],"owner":{"account_id":24093,"reputation":83696,"user_id":61027,"accept_rate":92,"display_name":"Nosredna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249141489,"creation_date":1249141489,"answer_id":1216857,"question_id":1216840,"body_markdown":"My experience has been that NetBeans, Aptana, and Komodo are fast on computers where Eclipse is painfully slow. Maxing out RAM has seemed to help. Any chance you can bump up to 2 gig?","title":"Why is the Eclipse IDE getting slower?","body":"<p>My experience has been that NetBeans, Aptana, and Komodo are fast on computers where Eclipse is painfully slow. Maxing out RAM has seemed to help. Any chance you can bump up to 2 gig?</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249148296,"creation_date":1249148296,"answer_id":1217093,"question_id":1216840,"body_markdown":"Netbeans sped up quite a bit in the last few years, perhaps your comparison is relative to the speed of netbeans?\r\n\r\nLately I had to up the size of my eclipse -Xmx from 64mb and decided I might as well go to 512, and it got a bit chunkier.  at 64 I never saw the slightest pause, when it actually NEEDS a collection at 512 because of a long-running process that&#39;s not letting the background GC thread run, it can get a little pausey\r\n\r\nI&#39;m running on a pretty old version of eclipse (customized by the cable industry so it can run and display cable apps on a TV emulator) so your mileage may vary.","title":"Why is the Eclipse IDE getting slower?","body":"<p>Netbeans sped up quite a bit in the last few years, perhaps your comparison is relative to the speed of netbeans?</p>\n\n<p>Lately I had to up the size of my eclipse -Xmx from 64mb and decided I might as well go to 512, and it got a bit chunkier.  at 64 I never saw the slightest pause, when it actually NEEDS a collection at 512 because of a long-running process that's not letting the background GC thread run, it can get a little pausey</p>\n\n<p>I'm running on a pretty old version of eclipse (customized by the cable industry so it can run and display cable apps on a TV emulator) so your mileage may vary.</p>\n"},{"tags":[],"owner":{"account_id":155240,"reputation":5259,"user_id":371749,"accept_rate":44,"display_name":"cV2"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1277927152,"creation_date":1277926079,"answer_id":3152702,"question_id":1216840,"body_markdown":"netbeans is really damn hot, i just didn get it to automatically release my android projects...\r\n\r\nthinking of features.. i&#39;d prefere eclipse...\r\n\r\n**to fasten it up a little more, just disable &#39;automatic build&#39; doesnt really change anything (build just takes a little longer)**\r\n\r\nbut it&#39;s really feelable faster...\r\n\r\nbut, after 1 or 2 hours, i also have to close, wait, and re-open it.\r\n\r\nkind of sucks... (gotta macbook pro, 2.26 (i think) ghz, 3gb ram,\r\ngave it a minimum of 768MB of ram, and keeps getting slower..\r\n\r\nreally sucks\r\n\r\n\r\n::edit::\r\nI also realized, that after opening a XML file, eclipse instantly gets a little bit more laggy (already disabled XML live compiling, or something similiar, makes no difference :( )","title":"Why is the Eclipse IDE getting slower?","body":"<p>netbeans is really damn hot, i just didn get it to automatically release my android projects...</p>\n\n<p>thinking of features.. i'd prefere eclipse...</p>\n\n<p><strong>to fasten it up a little more, just disable 'automatic build' doesnt really change anything (build just takes a little longer)</strong></p>\n\n<p>but it's really feelable faster...</p>\n\n<p>but, after 1 or 2 hours, i also have to close, wait, and re-open it.</p>\n\n<p>kind of sucks... (gotta macbook pro, 2.26 (i think) ghz, 3gb ram,\ngave it a minimum of 768MB of ram, and keeps getting slower..</p>\n\n<p>really sucks</p>\n\n<p>::edit::\nI also realized, that after opening a XML file, eclipse instantly gets a little bit more laggy (already disabled XML live compiling, or something similiar, makes no difference :( )</p>\n"},{"tags":[],"owner":{"account_id":15874445,"reputation":628,"user_id":11714440,"display_name":"Siva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666892234,"creation_date":1666892234,"answer_id":74226145,"question_id":1216840,"body_markdown":"Check if you can disable unwanted plugins during start up.\r\n\r\n[![Eclipse Startup Shutdown Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wz03g.png","title":"Why is the Eclipse IDE getting slower?","body":"<p>Check if you can disable unwanted plugins during start up.</p>\n<p><a href=\"https://i.stack.imgur.com/wz03g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wz03g.png\" alt=\"Eclipse Startup Shutdown Settings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16759522,"reputation":1158,"user_id":12114641,"display_name":"Raymond"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679608528,"creation_date":1679608528,"answer_id":75828310,"question_id":1216840,"body_markdown":"It has been 13 years since this thread was created and eclipse is still slow. They should just scrape this project, it keeps wasting time of thousands of developers everyday. For me it just never worked. RAM is not the issue. The real problem is the way they glue everything in their system which calls different services thus using network resources which slows down everything. then there are plugins. \r\n\r\nHere is an interesting post ;) https://ajaytechie.com/eclipse/why-is-eclipse-so-fucking-slow.html","title":"Why is the Eclipse IDE getting slower?","body":"<p>It has been 13 years since this thread was created and eclipse is still slow. They should just scrape this project, it keeps wasting time of thousands of developers everyday. For me it just never worked. RAM is not the issue. The real problem is the way they glue everything in their system which calls different services thus using network resources which slows down everything. then there are plugins.</p>\n<p>Here is an interesting post ;) <a href=\"https://ajaytechie.com/eclipse/why-is-eclipse-so-fucking-slow.html\" rel=\"nofollow noreferrer\">https://ajaytechie.com/eclipse/why-is-eclipse-so-fucking-slow.html</a></p>\n"}],"owner":{"account_id":32879,"reputation":705,"user_id":91544,"accept_rate":75,"display_name":"Roy Marco Aruta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24800,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":1216853,"answer_count":8,"score":14,"last_activity_date":1679608528,"creation_date":1249141048,"question_id":1216840,"body_markdown":"I have downloaded the latest Eclipse IDE, Galileo, and tested it to see if it good for developing web applications in Java. I have also tried the Ganymede version of Eclipse and find that is it also good.\r\n\r\nMy Problem is that sometimes it hangs and stops responding while I am developing. Sometimes when I open a file, Eclipse hangs and does not respond for awhile. It seems that Eclipse is going slower and my job is getting slower because of the time that I am spending waiting for the response of Eclipse.\r\n\r\nWhen I went to NetBeans 6.7, it was good and the performance was good. The loading is faster and the IDE responds well during my development testing.\r\n\r\nMy computer has 1 GB of RAM and a 1.6 GHz CPU.\r\n\r\nWhat can you say about this?","title":"Why is the Eclipse IDE getting slower?","body":"<p>I have downloaded the latest Eclipse IDE, Galileo, and tested it to see if it good for developing web applications in Java. I have also tried the Ganymede version of Eclipse and find that is it also good.</p>\n\n<p>My Problem is that sometimes it hangs and stops responding while I am developing. Sometimes when I open a file, Eclipse hangs and does not respond for awhile. It seems that Eclipse is going slower and my job is getting slower because of the time that I am spending waiting for the response of Eclipse.</p>\n\n<p>When I went to NetBeans 6.7, it was good and the performance was good. The loading is faster and the IDE responds well during my development testing.</p>\n\n<p>My computer has 1 GB of RAM and a 1.6 GHz CPU.</p>\n\n<p>What can you say about this?</p>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1679608603,"post_id":75828257,"comment_id":133756936,"body_markdown":"Possibly composite keys - [this](https://www.baeldung.com/jpa-composite-primary-keys) might help.","body":"Possibly composite keys - <a href=\"https://www.baeldung.com/jpa-composite-primary-keys\" rel=\"nofollow noreferrer\">this</a> might help."}],"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679608052,"creation_date":1679608052,"question_id":75828257,"body_markdown":"I&#39;m using Spring Boot JPA. I have two entities. `CommunityProfile` and `Award`. These share a many to many relationship, mapped by the `award_community_profile` table. In this table there is three columns: `profile_id`, `award_id`, `count`. The table was initially designed in Laravel, and as such there is no unique ID, but rather a unique constraint between `profile_id` and `award_id`.\r\n\r\nWhen adding my &quot;in between model&quot; in Spring boot `AwardCommunityProfile`, it prompts me to add a unique ID, like so: \r\n```java\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n@Getter\r\n@Setter\r\nprivate Integer id;\r\n```\r\nHowever when it adds this column to the database, it defaults all entries to 0. \r\n\r\nHow can I generate unique IDs, or how can I force it to use my unique constraint of `profile_id` and `award_id` as the ID?\r\n\r\nThanks","title":"Spring Boot JPA Unique Constraint as ID","body":"<p>I'm using Spring Boot JPA. I have two entities. <code>CommunityProfile</code> and <code>Award</code>. These share a many to many relationship, mapped by the <code>award_community_profile</code> table. In this table there is three columns: <code>profile_id</code>, <code>award_id</code>, <code>count</code>. The table was initially designed in Laravel, and as such there is no unique ID, but rather a unique constraint between <code>profile_id</code> and <code>award_id</code>.</p>\n<p>When adding my &quot;in between model&quot; in Spring boot <code>AwardCommunityProfile</code>, it prompts me to add a unique ID, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Getter\n@Setter\nprivate Integer id;\n</code></pre>\n<p>However when it adds this column to the database, it defaults all entries to 0.</p>\n<p>How can I generate unique IDs, or how can I force it to use my unique constraint of <code>profile_id</code> and <code>award_id</code> as the ID?</p>\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","firefox","geckodriver","selenium-firefoxdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679607550,"creation_date":1679607550,"answer_id":75828214,"question_id":75820329,"body_markdown":"This error message...\r\n\r\n\tError: NS_BINDING_ABORTED (SessionNotCreated)\r\n\r\n...implies that there was network error while initiating the [GeckoDriver](https://stackoverflow.com/a/45331403/7429447) / [tag:firefox] session.\r\n\r\n\r\n----------\r\n\r\n\r\nDeep Dive\r\n---------\r\nAs _@whimboo_ explains in his [comments](https://github.com/SeleniumHQ/selenium/issues/10840#issuecomment-1185358443):\r\n\r\n&gt;Note that Firefox doesn&#39;t have a start-maximized command line argument but actually interprets it as the URL to open on startup (instead of about:blank). Internally start-maximized get completed to https://www.start-maximized.com/. This gets forward to some random page at least for me and then ends-up in a network error. Exactly this is what the NS_BINDING_ABORTED stands for.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nWhile using [GeckoDriver](https://stackoverflow.com/a/45510453/7429447) / [tag:firefox] you need to drop the argument:\r\n\r\n\toptions.addArguments(&quot;start-maximized&quot;);\r\n\t\r\nor drop the line:\r\n\r\n\twebDriver.manage().window().maximize();\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\ntl; dr\r\n------\r\n[&quot;WebDriver:NewSession&quot; can fail if Firefox gets started with some random URL that causes network errors](https://bugzilla.mozilla.org/show_bug.cgi?id=1779723)","title":"NS BINDING ABORTED error when clicking a button using Selenium Java GeckoDriver and Firefox","body":"<p>This error message...</p>\n<pre><code>Error: NS_BINDING_ABORTED (SessionNotCreated)\n</code></pre>\n<p>...implies that there was network error while initiating the <a href=\"https://stackoverflow.com/a/45331403/7429447\">GeckoDriver</a> / <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" aria-label=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\" aria-labelledby=\"tag-firefox-tooltip-container\">firefox</a> session.</p>\n<hr />\n<h2>Deep Dive</h2>\n<p>As <em>@whimboo</em> explains in his <a href=\"https://github.com/SeleniumHQ/selenium/issues/10840#issuecomment-1185358443\" rel=\"nofollow noreferrer\">comments</a>:</p>\n<blockquote>\n<p>Note that Firefox doesn't have a start-maximized command line argument but actually interprets it as the URL to open on startup (instead of about:blank). Internally start-maximized get completed to <a href=\"https://www.start-maximized.com/\" rel=\"nofollow noreferrer\">https://www.start-maximized.com/</a>. This gets forward to some random page at least for me and then ends-up in a network error. Exactly this is what the NS_BINDING_ABORTED stands for.</p>\n</blockquote>\n<hr />\n<h2>Solution</h2>\n<p>While using <a href=\"https://stackoverflow.com/a/45510453/7429447\">GeckoDriver</a> / <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" aria-label=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\" aria-labelledby=\"tag-firefox-tooltip-container\">firefox</a> you need to drop the argument:</p>\n<pre><code>options.addArguments(&quot;start-maximized&quot;);\n</code></pre>\n<p>or drop the line:</p>\n<pre><code>webDriver.manage().window().maximize();\n</code></pre>\n<hr />\n<h2>tl; dr</h2>\n<p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1779723\" rel=\"nofollow noreferrer\">&quot;WebDriver:NewSession&quot; can fail if Firefox gets started with some random URL that causes network errors</a></p>\n"}],"owner":{"account_id":8681076,"reputation":133,"user_id":6496921,"display_name":"Yosafat Ksatria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679607807,"creation_date":1679557571,"question_id":75820329,"body_markdown":"I&#39;m facing the issue that when I want to do sign in on apps using selenium WebDriver somehow when I clicked the button is not returning the status code which is causing the automation fail..\r\n\r\nBut when I tested in manually it&#39;s working fine and no problem occur, and when i paused the automation using debug mode I try to re-call the request it&#39;s working fine..\r\n\r\nI saw few times this happened because of the NS_BINDING_ABORTED, but not sure if that&#39;s the cause of problem..\r\n\r\nand yes I&#39;ve tried and read all about this error but no luck https://github.com/SeleniumHQ/selenium/issues/10840\r\n\r\nThis is my code\r\n\r\n    package com.example.seleniumfirefox;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.firefox.FirefoxOptions;\r\n    \r\n    public class SeleniumFirefox {\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\yosafat.ksatria\\\\Downloads\\\\testing_selenium\\\\geckodriver.exe&quot;);\r\n    \r\n    \t\tFirefoxOptions options = new FirefoxOptions();\r\n    //\t\toptions.addArguments(&quot;start-maximized&quot;);\r\n    //\t\toptions.setLogLevel(FirefoxDriverLogLevel.TRACE);\r\n    \r\n    \t\tWebDriver webDriver = new FirefoxDriver(options);\r\n    \t\twebDriver.manage().window().maximize();\r\n    \t\twebDriver.manage().deleteAllCookies();\r\n    \r\n    //\t\tWebDriverWait wait = new WebDriverWait(webDriver, Duration.ofSeconds(15));\r\n    //\t\twait.until(driver -&gt; &quot;complete&quot;.equals(((JavascriptExecutor) driver)\r\n    //\t\t\t\t\t\t.executeScript(&quot;return document.readyState&quot;)));\r\n    \r\n    \t\twebDriver.get(&quot;https://seller-qa2-gcp.gdn-app.com/sign-in&quot;);\r\n    \t\tThread.sleep(5000);\r\n    \t\twebDriver.findElement(By.id(&quot;email&quot;)).sendKeys(&quot;seller.usertwo@gdn-commerce.com&quot;); //name locator for text box\r\n    \t\twebDriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Password4321&quot;);\r\n    \t\tThread.sleep(6000);\r\n    //\t\tWebElement btnLogin =\r\n    \t\twebDriver.findElement(By.xpath(&quot;//*[@id=\\&quot;sign-in\\&quot;]&quot;)).click();\r\n    \t\tThread.sleep(60000);\r\n    //\t\tbtnLogin.click();\r\n    \t\twebDriver.quit();\r\n    \t}\r\n    }\r\n\r\nLog Output:\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n1679395089892\tgeckodriver\tINFO\tListening on 127.0.0.1:40007\r\n1679395090325\tmozrunner::runner\tINFO\tRunning command: &quot;C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe&quot; &quot;--marionette&quot; &quot;--remote-debugging-port&quot; &quot;16013&quot; &quot;--remote-allow-hosts&quot; &quot;localhost&quot; &quot;--remote-allow-origins&quot; &quot;http://127.0.0.1:16013/,http://localhost:16013/,http://[::1]:16013/&quot; &quot;-no-remote&quot; &quot;-profile&quot; &quot;C:\\\\Users\\\\YOSAFA~1.KSA\\\\AppData\\\\Local\\\\Temp\\\\rust_mozprofileloIXN2&quot;\r\n1679395090684\tMarionette\tINFO\tMarionette enabled\r\nWebDriver BiDi listening on ws://localhost:16013\r\nconsole.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; (new NotFoundError(&quot;Could not open the file at C:\\\\Users\\\\YOSAFA~1.KSA\\\\AppData\\\\Local\\\\Temp\\\\rust_mozprofileloIXN2\\\\search.json.mozlz4&quot;, (void 0)))\r\n1679395092367\tMarionette\tINFO\tListening on port 63916\r\nRead port: 63916\r\n1679395092447\tRemoteAgent\tWARN\tTLS certificate errors will be ignored for this session\r\nDevTools listening on ws://localhost:16013/devtools/browser/6c3ed90b-0c38-4df2-b5e0-904ce455bbc4\r\nconsole.error: &quot;Exception when calling onAvailable handler&quot; &quot;Connection closed, pending request to server0.conn0.windowGlobal4294967297/cssPropertiesActor10, type getCSSDatabase failed\\n\\nRequest stack:\\nrequest@resource://devtools/shared/protocol/Front.js:292:14\\ngenerateRequestMethods/&lt;/frontProto[name]@resource://devtools/shared/protocol/Front/FrontClassWithSpec.js:46:19\\ninitialize@resource://devtools/client/fronts/css-properties.js:58:28\\nmanage@resource://devtools/shared/protocol/Front.js:146:19\\ngetFront@resource://devtools/shared/protocol/types.js:559:18\\ngetFront@resource://devtools/client/fronts/targets/target-mixin.js:332:15\\n_getCssProperties@resource://devtools/client/inspector/inspector.js:571:45\\n_onTargetAvailable@resource://devtools/client/inspector/inspector.js:275:12\\n&quot; (new Error(&quot;Connection closed, pending request to server0.conn0.windowGlobal4294967297/cssPropertiesActor10, type getCSSDatabase failed\\n\\nRequest stack:\\nrequest@resource://devtools/shared/protocol/Front.js:292:14\\ngenerateRequestMethods/&lt;/frontProto[name]@resource://devtools/shared/protocol/Front/FrontClassWithSpec.js:46:19\\ninitialize@resource://devtools/client/fronts/css-properties.js:58:28\\nmanage@resource://devtools/shared/protocol/Front.js:146:19\\ngetFront@resource://devtools/shared/protocol/types.js:559:18\\ngetFront@resource://devtools/client/fronts/targets/target-mixin.js:332:15\\n_getCssProperties@resource://devtools/client/inspector/inspector.js:571:45\\n_onTargetAvailable@resource://devtools/client/inspector/inspector.js:275:12\\n&quot;, &quot;resource://devtools/shared/protocol/Front.js&quot;, 106))\r\nconsole.warn: &quot;Error while destroying front:&quot; &quot;cssProperties&quot; (new Error(&quot;Connection closed, pending request to server0.conn0.windowGlobal4294967297/cssPropertiesActor10, type getCSSDatabase failed\\n\\nRequest stack:\\nrequest@resource://devtools/shared/protocol/Front.js:292:14\\ngenerateRequestMethods/&lt;/frontProto[name]@resource://devtools/shared/protocol/Front/FrontClassWithSpec.js:46:19\\ninitialize@resource://devtools/client/fronts/css-properties.js:58:28\\nmanage@resource://devtools/shared/protocol/Front.js:146:19\\ngetFront@resource://devtools/shared/protocol/types.js:559:18\\ngetFront@resource://devtools/client/fronts/targets/target-mixin.js:332:15\\n_getCssProperties@resource://devtools/client/inspector/inspector.js:571:45\\n_onTargetAvailable@resource://devtools/client/inspector/inspector.js:275:12\\n&quot;, &quot;resource://devtools/shared/protocol/Front.js&quot;, 106))\r\nconsole.warn: &quot;Error while destroying front:&quot; &quot;accessibility&quot; (new Error(&quot;Connection closed, pending request to server0.conn0.windowGlobal4294967297/accessibilityActor15, type getWalker failed\\n\\nRequest stack:\\nrequest@resource://devtools/shared/protocol/Front.js:292:14\\ngenerateRequestMethods/&lt;/frontProto[name]@resource://devtools/shared/protocol/Front/FrontClassWithSpec.js:46:19\\ninitialize@resource://devtools/client/fronts/accessibility.js:536:46\\nmanage@resource://devtools/shared/protocol/Front.js:146:19\\ngetFront@resource://devtools/shared/protocol/types.js:559:18\\ngetFront@resource://devtools/client/fronts/targets/target-mixin.js:332:15\\n_getAccessibilityFront@resource://devtools/client/inspector/inspector.js:575:49\\n_onTargetAvailable@resource://devtools/client/inspector/inspector.js:276:12\\n&quot;, &quot;resource://devtools/shared/protocol/Front.js&quot;, 106))\r\nconsole.error: (new TypeError(&quot;this._cssProperties is undefined&quot;, &quot;resource://devtools/client/inspector/inspector.js&quot;, 534))\r\nJavaScript error: , line 0: uncaught exception: Object\r\nconsole.error: &quot;Unable to find target with innerWindowId:4294967303&quot;\r\nconsole.warn: LoginRecipes: &quot;getRecipes: falling back to a synchronous message for:&quot; &quot;https://seller-qa2-gcp.gdn-app.com&quot;\r\nconsole.warn: LoginRecipes: &quot;getRecipes: falling back to a synchronous message for:&quot; &quot;https://seller-qa2-gcp.gdn-app.com&quot;\r\nJavaScript error: resource://gre/modules/LoginManagerParent.jsm, line 136: TypeError: gRecipeManager is null\r\nJavaScript error: , line 0: uncaught exception: Object\r\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\r\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\r\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\r\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\r\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\r\nProcess finished with exit code 130\r\n```\r\n\r\nOperating System\r\nWindows 11\r\n\r\nSelenium version\r\nJava 4.8.1\r\n\r\nWhat are the browser(s) and version(s) where you see this issue?\r\nFirefox 101.0\r\n\r\nWhat are the browser driver(s) and version(s) where you see this issue?\r\ngeckodriver-v0.31.0-win64\r\n\r\n\r\n[![network output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3AAJZ.png","title":"NS BINDING ABORTED error when clicking a button using Selenium Java GeckoDriver and Firefox","body":"<p>I'm facing the issue that when I want to do sign in on apps using selenium WebDriver somehow when I clicked the button is not returning the status code which is causing the automation fail..</p>\n<p>But when I tested in manually it's working fine and no problem occur, and when i paused the automation using debug mode I try to re-call the request it's working fine..</p>\n<p>I saw few times this happened because of the NS_BINDING_ABORTED, but not sure if that's the cause of problem..</p>\n<p>and yes I've tried and read all about this error but no luck <a href=\"https://github.com/SeleniumHQ/selenium/issues/10840\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/issues/10840</a></p>\n<p>This is my code</p>\n<pre><code>package com.example.seleniumfirefox;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxOptions;\n\npublic class SeleniumFirefox {\n    public static void main(String[] args) throws InterruptedException {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Users\\\\yosafat.ksatria\\\\Downloads\\\\testing_selenium\\\\geckodriver.exe&quot;);\n\n        FirefoxOptions options = new FirefoxOptions();\n//      options.addArguments(&quot;start-maximized&quot;);\n//      options.setLogLevel(FirefoxDriverLogLevel.TRACE);\n\n        WebDriver webDriver = new FirefoxDriver(options);\n        webDriver.manage().window().maximize();\n        webDriver.manage().deleteAllCookies();\n\n//      WebDriverWait wait = new WebDriverWait(webDriver, Duration.ofSeconds(15));\n//      wait.until(driver -&gt; &quot;complete&quot;.equals(((JavascriptExecutor) driver)\n//                      .executeScript(&quot;return document.readyState&quot;)));\n\n        webDriver.get(&quot;https://seller-qa2-gcp.gdn-app.com/sign-in&quot;);\n        Thread.sleep(5000);\n        webDriver.findElement(By.id(&quot;email&quot;)).sendKeys(&quot;seller.usertwo@gdn-commerce.com&quot;); //name locator for text box\n        webDriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;Password4321&quot;);\n        Thread.sleep(6000);\n//      WebElement btnLogin =\n        webDriver.findElement(By.xpath(&quot;//*[@id=\\&quot;sign-in\\&quot;]&quot;)).click();\n        Thread.sleep(60000);\n//      btnLogin.click();\n        webDriver.quit();\n    }\n}\n</code></pre>\n<p>Log Output:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n1679395089892   geckodriver INFO    Listening on 127.0.0.1:40007\n1679395090325   mozrunner::runner   INFO    Running command: &quot;C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe&quot; &quot;--marionette&quot; &quot;--remote-debugging-port&quot; &quot;16013&quot; &quot;--remote-allow-hosts&quot; &quot;localhost&quot; &quot;--remote-allow-origins&quot; &quot;http://127.0.0.1:16013/,http://localhost:16013/,http://[::1]:16013/&quot; &quot;-no-remote&quot; &quot;-profile&quot; &quot;C:\\\\Users\\\\YOSAFA~1.KSA\\\\AppData\\\\Local\\\\Temp\\\\rust_mozprofileloIXN2&quot;\n1679395090684   Marionette  INFO    Marionette enabled\nWebDriver BiDi listening on ws://localhost:16013\nconsole.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; (new NotFoundError(&quot;Could not open the file at C:\\\\Users\\\\YOSAFA~1.KSA\\\\AppData\\\\Local\\\\Temp\\\\rust_mozprofileloIXN2\\\\search.json.mozlz4&quot;, (void 0)))\n1679395092367   Marionette  INFO    Listening on port 63916\nRead port: 63916\n1679395092447   RemoteAgent WARN    TLS certificate errors will be ignored for this session\nDevTools listening on ws://localhost:16013/devtools/browser/6c3ed90b-0c38-4df2-b5e0-904ce455bbc4\nconsole.error: &quot;Exception when calling onAvailable handler&quot; &quot;Connection closed, pending request to server0.conn0.windowGlobal4294967297/cssPropertiesActor10, type getCSSDatabase failed\\n\\nRequest stack:\\nrequest@resource://devtools/shared/protocol/Front.js:292:14\\ngenerateRequestMethods/&lt;/frontProto[name]@resource://devtools/shared/protocol/Front/FrontClassWithSpec.js:46:19\\ninitialize@resource://devtools/client/fronts/css-properties.js:58:28\\nmanage@resource://devtools/shared/protocol/Front.js:146:19\\ngetFront@resource://devtools/shared/protocol/types.js:559:18\\ngetFront@resource://devtools/client/fronts/targets/target-mixin.js:332:15\\n_getCssProperties@resource://devtools/client/inspector/inspector.js:571:45\\n_onTargetAvailable@resource://devtools/client/inspector/inspector.js:275:12\\n&quot; (new Error(&quot;Connection closed, pending request to server0.conn0.windowGlobal4294967297/cssPropertiesActor10, type getCSSDatabase failed\\n\\nRequest stack:\\nrequest@resource://devtools/shared/protocol/Front.js:292:14\\ngenerateRequestMethods/&lt;/frontProto[name]@resource://devtools/shared/protocol/Front/FrontClassWithSpec.js:46:19\\ninitialize@resource://devtools/client/fronts/css-properties.js:58:28\\nmanage@resource://devtools/shared/protocol/Front.js:146:19\\ngetFront@resource://devtools/shared/protocol/types.js:559:18\\ngetFront@resource://devtools/client/fronts/targets/target-mixin.js:332:15\\n_getCssProperties@resource://devtools/client/inspector/inspector.js:571:45\\n_onTargetAvailable@resource://devtools/client/inspector/inspector.js:275:12\\n&quot;, &quot;resource://devtools/shared/protocol/Front.js&quot;, 106))\nconsole.warn: &quot;Error while destroying front:&quot; &quot;cssProperties&quot; (new Error(&quot;Connection closed, pending request to server0.conn0.windowGlobal4294967297/cssPropertiesActor10, type getCSSDatabase failed\\n\\nRequest stack:\\nrequest@resource://devtools/shared/protocol/Front.js:292:14\\ngenerateRequestMethods/&lt;/frontProto[name]@resource://devtools/shared/protocol/Front/FrontClassWithSpec.js:46:19\\ninitialize@resource://devtools/client/fronts/css-properties.js:58:28\\nmanage@resource://devtools/shared/protocol/Front.js:146:19\\ngetFront@resource://devtools/shared/protocol/types.js:559:18\\ngetFront@resource://devtools/client/fronts/targets/target-mixin.js:332:15\\n_getCssProperties@resource://devtools/client/inspector/inspector.js:571:45\\n_onTargetAvailable@resource://devtools/client/inspector/inspector.js:275:12\\n&quot;, &quot;resource://devtools/shared/protocol/Front.js&quot;, 106))\nconsole.warn: &quot;Error while destroying front:&quot; &quot;accessibility&quot; (new Error(&quot;Connection closed, pending request to server0.conn0.windowGlobal4294967297/accessibilityActor15, type getWalker failed\\n\\nRequest stack:\\nrequest@resource://devtools/shared/protocol/Front.js:292:14\\ngenerateRequestMethods/&lt;/frontProto[name]@resource://devtools/shared/protocol/Front/FrontClassWithSpec.js:46:19\\ninitialize@resource://devtools/client/fronts/accessibility.js:536:46\\nmanage@resource://devtools/shared/protocol/Front.js:146:19\\ngetFront@resource://devtools/shared/protocol/types.js:559:18\\ngetFront@resource://devtools/client/fronts/targets/target-mixin.js:332:15\\n_getAccessibilityFront@resource://devtools/client/inspector/inspector.js:575:49\\n_onTargetAvailable@resource://devtools/client/inspector/inspector.js:276:12\\n&quot;, &quot;resource://devtools/shared/protocol/Front.js&quot;, 106))\nconsole.error: (new TypeError(&quot;this._cssProperties is undefined&quot;, &quot;resource://devtools/client/inspector/inspector.js&quot;, 534))\nJavaScript error: , line 0: uncaught exception: Object\nconsole.error: &quot;Unable to find target with innerWindowId:4294967303&quot;\nconsole.warn: LoginRecipes: &quot;getRecipes: falling back to a synchronous message for:&quot; &quot;https://seller-qa2-gcp.gdn-app.com&quot;\nconsole.warn: LoginRecipes: &quot;getRecipes: falling back to a synchronous message for:&quot; &quot;https://seller-qa2-gcp.gdn-app.com&quot;\nJavaScript error: resource://gre/modules/LoginManagerParent.jsm, line 136: TypeError: gRecipeManager is null\nJavaScript error: , line 0: uncaught exception: Object\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\nconsole.error: &quot;Unable to find target with innerWindowId:4294967306&quot;\nProcess finished with exit code 130\n</code></pre>\n<p>Operating System\nWindows 11</p>\n<p>Selenium version\nJava 4.8.1</p>\n<p>What are the browser(s) and version(s) where you see this issue?\nFirefox 101.0</p>\n<p>What are the browser driver(s) and version(s) where you see this issue?\ngeckodriver-v0.31.0-win64</p>\n<p><a href=\"https://i.stack.imgur.com/3AAJZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AAJZ.png\" alt=\"network output\" /></a></p>\n"},{"tags":["java","android"],"owner":{"account_id":19474831,"reputation":33,"user_id":14246404,"display_name":"Filayeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679607262,"creation_date":1679602007,"question_id":75827556,"body_markdown":"- There are small-sized audio files (.mp3), how can I download them in the background when the application is opened?\r\n\r\n\r\n-When I use this code it works but the program crashes sometimes.\r\n\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        new CountDownTimer((list.size())*900, 900) {\r\n\r\n            public void onTick(long millisUntilFinished) {\r\n                jsoupScraping audioDowloader = new jsoupScraping();\r\n                final File file = new File(&quot;/data/data/com.example.myapplication/&quot;, &quot;voices&quot;);\r\n\r\n                for(File f: file.listFiles()){\r\n                    voiceNames.add((f.getName()).replace(&quot;_voice.mp3&quot;,&quot;&quot;));\r\n                }\r\n                for(wordsClass w : list){\r\n                    if(!voiceNames.contains(w.getEn())) {\r\n                        audioDowloader.getData(w.getEn());\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            public void onFinish() {\r\n\r\n            }\r\n        }.start();\r\n\r\n","title":"How to download bulk audio files in Android using Java?","body":"<ul>\n<li>There are small-sized audio files (.mp3), how can I download them in the background when the application is opened?</li>\n</ul>\n<p>-When I use this code it works but the program crashes sometimes.</p>\n<pre><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    new CountDownTimer((list.size())*900, 900) {\n\n        public void onTick(long millisUntilFinished) {\n            jsoupScraping audioDowloader = new jsoupScraping();\n            final File file = new File(&quot;/data/data/com.example.myapplication/&quot;, &quot;voices&quot;);\n\n            for(File f: file.listFiles()){\n                voiceNames.add((f.getName()).replace(&quot;_voice.mp3&quot;,&quot;&quot;));\n            }\n            for(wordsClass w : list){\n                if(!voiceNames.contains(w.getEn())) {\n                    audioDowloader.getData(w.getEn());\n                }\n            }\n\n        }\n\n        public void onFinish() {\n\n        }\n    }.start();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","spring-test"],"comments":[{"owner":{"account_id":7249701,"reputation":359,"user_id":5530462,"accept_rate":43,"display_name":"Elena Alexandra Dobrescu"},"score":0,"creation_date":1692623802,"post_id":75825280,"comment_id":135644753,"body_markdown":"Hi, I am having the same issue, did you sort it out?","body":"Hi, I am having the same issue, did you sort it out?"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679607210,"creation_date":1679594061,"answer_id":75826486,"question_id":75825280,"body_markdown":"*org.springframework.test.util.MetaAnnotationUtils is deprecated\r\nas of Spring Framework 5.3 in favor of TestContextAnnotationUtils*\r\n\r\nhttps://docs.spring.io/spring-framework/docs/5.3.13/javadoc-api/deprecated-list.html\r\n\r\nThe is located at package org.springframework.test.context.TestContextAnnotationUtils\r\n\r\nIn Spring 5 it was deprecated, in Spring 6 it is completely removed and needs to be replaced with TestContextAnnotationUtils.","title":"java.lang.NoClassDefFoundError: org/springframework/test/util/MetaAnnotationUtils while running unit tests in Spring 6","body":"<p><em>org.springframework.test.util.MetaAnnotationUtils is deprecated\nas of Spring Framework 5.3 in favor of TestContextAnnotationUtils</em></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/5.3.13/javadoc-api/deprecated-list.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.3.13/javadoc-api/deprecated-list.html</a></p>\n<p>The is located at package org.springframework.test.context.TestContextAnnotationUtils</p>\n<p>In Spring 5 it was deprecated, in Spring 6 it is completely removed and needs to be replaced with TestContextAnnotationUtils.</p>\n"}],"owner":{"account_id":6413933,"reputation":3,"user_id":4972711,"display_name":"vicky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679607210,"creation_date":1679587020,"question_id":75825280,"body_markdown":"I am trying to upgrade Spring framework from version 5 to 6 but getting the following error when trying to run the unit tests.\r\n\r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/test/util/MetaAnnotationUtils\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.test.util.MetaAnnotationUtils\r\n```\r\n\r\nI am also not seeing &quot;MetaAnnotationUtils&quot; class under the &quot;spring-test&quot; jar for 6.0.6 under my compiled project. Also I cannot see this class being used anywhere in my test class, hence not sure what to do. Any idea around this ?\r\n\r\nNote: I am using Java 17, Spring Boot 3.0.4 and Spring 6 in my current project.\r\n\r\nI tried upgrading the project to use Spring 6 and Java 17 as per the requirements of my team.","title":"java.lang.NoClassDefFoundError: org/springframework/test/util/MetaAnnotationUtils while running unit tests in Spring 6","body":"<p>I am trying to upgrade Spring framework from version 5 to 6 but getting the following error when trying to run the unit tests.</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/test/util/MetaAnnotationUtils\nCaused by: java.lang.ClassNotFoundException: org.springframework.test.util.MetaAnnotationUtils\n</code></pre>\n<p>I am also not seeing &quot;MetaAnnotationUtils&quot; class under the &quot;spring-test&quot; jar for 6.0.6 under my compiled project. Also I cannot see this class being used anywhere in my test class, hence not sure what to do. Any idea around this ?</p>\n<p>Note: I am using Java 17, Spring Boot 3.0.4 and Spring 6 in my current project.</p>\n<p>I tried upgrading the project to use Spring 6 and Java 17 as per the requirements of my team.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":20034752,"reputation":41,"user_id":14686729,"display_name":"yoppie97"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656764788,"creation_date":1656764788,"answer_id":72839035,"question_id":72838557,"body_markdown":"I just realized, I need to update my gradle version also on my repo at this file. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P78dd.png","title":"Gradle - Could not find method artifactory() for arguments at init.gradle","body":"<p>I just realized, I need to update my gradle version also on my repo at this file.</p>\n<p><a href=\"https://i.stack.imgur.com/P78dd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P78dd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12508882,"reputation":43,"user_id":9104833,"display_name":"Maksim Maltsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679606885,"creation_date":1679606885,"answer_id":75828141,"question_id":72838557,"body_markdown":"I think the right answer is - you forgot to apply your jfrog plugin:\r\n\r\n    apply plugin: &#39;com.jfrog.artifactory&#39;","title":"Gradle - Could not find method artifactory() for arguments at init.gradle","body":"<p>I think the right answer is - you forgot to apply your jfrog plugin:</p>\n<pre><code>apply plugin: 'com.jfrog.artifactory'\n</code></pre>\n"}],"owner":{"account_id":20034752,"reputation":41,"user_id":14686729,"display_name":"yoppie97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679606885,"creation_date":1656760015,"question_id":72838557,"body_markdown":"**Specs version:**\r\n- Java : 1.8.0_333\r\n- Gradle : Gradle 7.4.2\r\n\r\n**I&#39;m always got this error**\r\n\r\n    * What went wrong: Could not find method artifactory() for arguments [init_dma9eorkjulwy6d24gkunp9js$_run_closure1$_closure7@77cf9353] on project &#39;:buildSrc&#39; of type org.gradle.api.Project.enter code here\r\n\r\n    * Exception is: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method artifactory() for arguments [init_dma9eorkjulwy6d24gkunp9js$_run_closure1$_closure7@77cf9353] on project &#39;:buildSrc&#39; of type org.gradle.api.Project.\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:182)\r\n\tat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:86)\r\n\tat init_dma9eorkjulwy6d24gkunp9js$_run_closure1.doCall\r\n\r\n**Already try using different java versions**: jdk12, jdk13, jdk14. Unfortunately, still got the same issue. Any suggestion solution? \r\n\r\nThanks in advance.","title":"Gradle - Could not find method artifactory() for arguments at init.gradle","body":"<p><strong>Specs version:</strong></p>\n<ul>\n<li>Java : 1.8.0_333</li>\n<li>Gradle : Gradle 7.4.2</li>\n</ul>\n<p><strong>I'm always got this error</strong></p>\n<pre><code>* What went wrong: Could not find method artifactory() for arguments [init_dma9eorkjulwy6d24gkunp9js$_run_closure1$_closure7@77cf9353] on project ':buildSrc' of type org.gradle.api.Project.enter code here\n\n* Exception is: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method artifactory() for arguments [init_dma9eorkjulwy6d24gkunp9js$_run_closure1$_closure7@77cf9353] on project ':buildSrc' of type org.gradle.api.Project.\nat org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:182)\nat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:86)\nat init_dma9eorkjulwy6d24gkunp9js$_run_closure1.doCall\n</code></pre>\n<p><strong>Already try using different java versions</strong>: jdk12, jdk13, jdk14. Unfortunately, still got the same issue. Any suggestion solution?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1679607343,"post_id":75828123,"comment_id":133756708,"body_markdown":"It is likely dup of https://stackoverflow.com/questions/1816458/getting-hold-of-the-outer-class-object-from-the-inner-class-object (with answer &quot;no&quot;) but that&#39;s outside of my Java knowledge.","body":"It is likely dup of <a href=\"https://stackoverflow.com/questions/1816458/getting-hold-of-the-outer-class-object-from-the-inner-class-object\" title=\"getting hold of the outer class object from the inner class object\">stackoverflow.com/questions/1816458/&hellip;</a> (with answer &quot;no&quot;) but that&#39;s outside of my Java knowledge."}],"owner":{"account_id":28108338,"reputation":1,"user_id":21476556,"display_name":"Mounica"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679609032,"answer_count":0,"score":0,"last_activity_date":1679606880,"creation_date":1679606712,"question_id":75828123,"body_markdown":"Consider the following code:\r\n\r\n```\r\nclass Containing {\r\n\r\n    public char ch = &#39;a&#39;;\r\n\r\n    class MemberClass {\r\n        void printVars() {\r\n            System.out.println(ch);\r\n        }\r\n    }\r\n}\r\n\r\nclass NonStaticTest {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Containing outerObj = new Containing();\r\n        Containing.MemberClass memObj = outerObj.new MemberClass();\r\n       \r\n        memObj.printVars();\r\n\r\n        System.out.println(&quot;accessing containing class field from non-static member class reference&quot; + memObj.ch);\r\n    }\r\n}\r\n```\r\n\r\nAs the member class instance is associated with the containing class instance, can we not access the members of the Containing class through an object of its member class?\r\n\r\nI tried to access the &quot;ch&quot; field of the Containing class through the reference to the MemberClass:\r\n\r\n```\r\nSystem.out.println(&quot;accessing containing class field through its non-static member class instance: &quot; + memObj.ch);\r\n```\r\n\r\nBut this gives an error:\r\n\r\n&gt;error: cannot find symbol\r\n&gt;        System.out.println(&quot;accessing containing class field from non-&gt;static member class reference&quot; + memObj.ch);\r\n&gt;                                                                                                             \r\n&gt;  symbol:   variable ch\r\n&gt;  location: variable memObj of type Containing.MemberClass\r\n\r\n\r\nBut every non-static member class is linked/associated to its containing class instance right. Then why is this an error? Why couldn&#39;t it find the symbol, besides having a public access?","title":"Can we not access the members of the containing class through an instance of its non-static member class?","body":"<p>Consider the following code:</p>\n<pre><code>class Containing {\n\n    public char ch = 'a';\n\n    class MemberClass {\n        void printVars() {\n            System.out.println(ch);\n        }\n    }\n}\n\nclass NonStaticTest {\n\n    public static void main(String[] args) {\n\n        Containing outerObj = new Containing();\n        Containing.MemberClass memObj = outerObj.new MemberClass();\n       \n        memObj.printVars();\n\n        System.out.println(&quot;accessing containing class field from non-static member class reference&quot; + memObj.ch);\n    }\n}\n</code></pre>\n<p>As the member class instance is associated with the containing class instance, can we not access the members of the Containing class through an object of its member class?</p>\n<p>I tried to access the &quot;ch&quot; field of the Containing class through the reference to the MemberClass:</p>\n<pre><code>System.out.println(&quot;accessing containing class field through its non-static member class instance: &quot; + memObj.ch);\n</code></pre>\n<p>But this gives an error:</p>\n<blockquote>\n<p>error: cannot find symbol\nSystem.out.println(&quot;accessing containing class field from non-&gt;static member class reference&quot; + memObj.ch);</p>\n<p>symbol:   variable ch\nlocation: variable memObj of type Containing.MemberClass</p>\n</blockquote>\n<p>But every non-static member class is linked/associated to its containing class instance right. Then why is this an error? Why couldn't it find the symbol, besides having a public access?</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679600382,"post_id":75827253,"comment_id":133755109,"body_markdown":"When you say “hit the database, I error out”. Can you please add the code that hits the db? Note that the way you are connecting is very unusual for Spring Boot, which uses application.properties spring.datasource.","body":"When you say “hit the database, I error out”. Can you please add the code that hits the db? Note that the way you are connecting is very unusual for Spring Boot, which uses application.properties spring.datasource."},{"owner":{"account_id":295139,"reputation":594,"user_id":599393,"accept_rate":52,"display_name":"rainydaymatt"},"score":0,"creation_date":1679601259,"post_id":75827253,"comment_id":133755326,"body_markdown":"I&#39;m just trying to hit it directly and simply; the code is just ```Connection conn = DriverManager.getConnection(dbURL, user, pass);```.\n\nAlso, I know I will need to use ```application.properties```, but I&#39;m trying to remove as many moving pieces as possible to get a proof of concept.","body":"I&#39;m just trying to hit it directly and simply; the code is just <code>Connection conn = DriverManager.getConnection(dbURL, user, pass);</code>.  Also, I know I will need to use <code>application.properties</code>, but I&#39;m trying to remove as many moving pieces as possible to get a proof of concept."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679602488,"post_id":75827253,"comment_id":133755594,"body_markdown":"What does the **actual code** look like that fails? What is the stacktrace when it fails.","body":"What does the <b>actual code</b> look like that fails? What is the stacktrace when it fails."},{"owner":{"account_id":295139,"reputation":594,"user_id":599393,"accept_rate":52,"display_name":"rainydaymatt"},"score":0,"creation_date":1679603356,"post_id":75827253,"comment_id":133755796,"body_markdown":"```Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: FATAL: database &quot;properties&quot; does not exist\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n\tat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2788)\n\tat org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:174)\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)```","body":"<code>Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: FATAL: database &quot;properties&quot; does not exist \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorRespons&zwnj;&#8203;e(QueryExecutorImpl.&zwnj;&#8203;java:2676) \tat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages&zwnj;&#8203;(QueryExecutorImpl.j&zwnj;&#8203;ava:2788) \tat org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecuto&zwnj;&#8203;rImpl.java:174) \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionI&zwnj;&#8203;mpl(ConnectionFactor&zwnj;&#8203;yImpl.java:313)</code>"},{"owner":{"account_id":295139,"reputation":594,"user_id":599393,"accept_rate":52,"display_name":"rainydaymatt"},"score":0,"creation_date":1679603426,"post_id":75827253,"comment_id":133755813,"body_markdown":"```at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\n\tat org.postgresql.Driver.makeConnection(Driver.java:434)\n\tat org.postgresql.Driver.connect(Driver.java:291)\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n\tat com.mistermorse.cityofrefugejavaspringapi.CityOfRefugeJavaSpringApiApplication.main(CityOfRefugeJavaSpringApiApplication.java:19)```","body":"<code>at org.postgresql.core.ConnectionFactory.openConnection(Connect&zwnj;&#8203;ionFactory.java:54) \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:25&zwnj;&#8203;3) \tat org.postgresql.Driver.makeConnection(Driver.java:434) \tat org.postgresql.Driver.connect(Driver.java:291) \tat java.sql&#47;java.sql.DriverManager.getConnection(DriverManager.&zwnj;&#8203;java:681) \tat java.sql&#47;java.sql.DriverManager.getConnection(DriverManager.&zwnj;&#8203;java:229) \tat com.mistermorse.cityofrefugejavaspringapi.CityOfRefugeJavaSp&zwnj;&#8203;ringApiApplication.m&zwnj;&#8203;ain(CityOfRefugeJava&zwnj;&#8203;SpringApiApplication&zwnj;&#8203;.java:19)</code>"}],"answers":[{"tags":[],"owner":{"account_id":20729545,"reputation":61,"user_id":15221898,"display_name":"connellrobert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679606637,"creation_date":1679606637,"answer_id":75828114,"question_id":75827253,"body_markdown":"It&#39;s obviously connecting to A database. I question if it&#39;s the correct one. Run `PGPASSWORD=password psql -U postgres -p 5432 -h localhost` and see if `\\l` still gives you the database. I&#39;m thinking there may be another instance on your machine running and jdnc is connecting to it.","title":"Spring Boot with JPA can&#39;t find my databases","body":"<p>It's obviously connecting to A database. I question if it's the correct one. Run <code>PGPASSWORD=password psql -U postgres -p 5432 -h localhost</code> and see if <code>\\l</code> still gives you the database. I'm thinking there may be another instance on your machine running and jdnc is connecting to it.</p>\n"}],"owner":{"account_id":295139,"reputation":594,"user_id":599393,"accept_rate":52,"display_name":"rainydaymatt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679606637,"creation_date":1679599589,"question_id":75827253,"body_markdown":"Been trying to connect a fledgling Spring/JPA API to my PostgreSQL instance for a week now; I created a ```properties``` table in the ```public``` schema in pgAdmin AND ```psql```, but even my test connections fail.\r\n\r\n```\r\npackage com.mistermorse.cityofrefugejavaspringapi;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\npublic class CityOfRefugeJavaSpringApiApplication {\r\n\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tSpringApplication.run(CityOfRefugeJavaSpringApiApplication.class, args);\r\n\t\tString dbURL = &quot;jdbc:postgresql://localhost/properties&quot;;\r\n\t\tString user = &quot;postgres&quot;;\r\n\t\tString pass = &quot;notActualPassword&quot;;\r\n\t\tConnection conn = DriverManager.getConnection(dbURL, user, pass);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere&#39;s the deal: I&#39;m confident the database is there; running ```\\l``` on ```psql``` returns a list containing ```properties     | postgres | UTF8     | C.UTF-8 | C.UTF-8 |```.\r\n\r\nIf I put a deliberate typo there, I get ```Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgress&quot;```, and I get ```Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: FATAL: database &quot;properties&quot; does not exist``` if the login creds are right; I must be getting authenticated, at least. But, when I try to hit the database, I error out.\r\n\r\nAm I missing a syntax error (maybe in the URL)? Am I implementing something incorrectly? Any assistance would be greatly appreciated!","title":"Spring Boot with JPA can&#39;t find my databases","body":"<p>Been trying to connect a fledgling Spring/JPA API to my PostgreSQL instance for a week now; I created a <code>properties</code> table in the <code>public</code> schema in pgAdmin AND <code>psql</code>, but even my test connections fail.</p>\n<pre><code>package com.mistermorse.cityofrefugejavaspringapi;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\npublic class CityOfRefugeJavaSpringApiApplication {\n\n    public static void main(String[] args) throws SQLException {\n        SpringApplication.run(CityOfRefugeJavaSpringApiApplication.class, args);\n        String dbURL = &quot;jdbc:postgresql://localhost/properties&quot;;\n        String user = &quot;postgres&quot;;\n        String pass = &quot;notActualPassword&quot;;\n        Connection conn = DriverManager.getConnection(dbURL, user, pass);\n    }\n\n}\n</code></pre>\n<p>Here's the deal: I'm confident the database is there; running <code>\\l</code> on <code>psql</code> returns a list containing <code>properties     | postgres | UTF8     | C.UTF-8 | C.UTF-8 |</code>.</p>\n<p>If I put a deliberate typo there, I get <code>Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgress&quot;</code>, and I get <code>Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: FATAL: database &quot;properties&quot; does not exist</code> if the login creds are right; I must be getting authenticated, at least. But, when I try to hit the database, I error out.</p>\n<p>Am I missing a syntax error (maybe in the URL)? Am I implementing something incorrectly? Any assistance would be greatly appreciated!</p>\n"},{"tags":["java","nio","memory-mapped-files","filechannel","random-access"],"answers":[{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260975257,"creation_date":1260975257,"answer_id":1915148,"question_id":1915069,"body_markdown":"Maybe you can use an in-memory filesystem, such as [Apache Commons VFS](http://commons.apache.org/vfs/filesystems.html).","title":"In-memory version of Java&#39;s FileChannel","body":"<p>Maybe you can use an in-memory filesystem, such as <a href=\"http://commons.apache.org/vfs/filesystems.html\" rel=\"nofollow noreferrer\">Apache Commons VFS</a>.</p>\n"},{"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679606435,"creation_date":1260981818,"answer_id":1915971,"question_id":1915069,"body_markdown":"Java 7 will allow pluggable filesystems, so you&#39;ll be able to use a memory based filesystem and keep the current FileChannel API.  Short of that you&#39;re likely to have to change the API you use to Commons-VFS as Adrian suggests or use memory only structures.\r\n\r\nEDIT per the 2023 update to this question, asking if this can be done without external libraries... I suspect this is the wrong question, because `FileChannel` will always specifically be connected to a file object.\r\n\r\n`FileChannel` consists mostly of a set of implemented interfaces...\r\n\r\nIn particular, you probably are interested in the functionality of \r\n[`ByteChannel`][1] or [`ReadableByteChannel`][2] or [`SeekableByteChannel`][3], all of which have fairly small footprints.  It would be pretty easy to create a `ByteBufferChannel` that implements one of those.\r\n\r\nJust write your code expecting a `FileChannel` to instead use the actual java Interface you care about, and you can pass either a `FileChannel` or the proposed `ByteBufferChannel` in interchangably.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ByteChannel.html\r\n\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ReadableByteChannel.html\r\n\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SeekableByteChannel.html","title":"In-memory version of Java&#39;s FileChannel","body":"<p>Java 7 will allow pluggable filesystems, so you'll be able to use a memory based filesystem and keep the current FileChannel API.  Short of that you're likely to have to change the API you use to Commons-VFS as Adrian suggests or use memory only structures.</p>\n<p>EDIT per the 2023 update to this question, asking if this can be done without external libraries... I suspect this is the wrong question, because <code>FileChannel</code> will always specifically be connected to a file object.</p>\n<p><code>FileChannel</code> consists mostly of a set of implemented interfaces...</p>\n<p>In particular, you probably are interested in the functionality of\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ByteChannel.html\" rel=\"nofollow noreferrer\"><code>ByteChannel</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ReadableByteChannel.html\" rel=\"nofollow noreferrer\"><code>ReadableByteChannel</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SeekableByteChannel.html\" rel=\"nofollow noreferrer\"><code>SeekableByteChannel</code></a>, all of which have fairly small footprints.  It would be pretty easy to create a <code>ByteBufferChannel</code> that implements one of those.</p>\n<p>Just write your code expecting a <code>FileChannel</code> to instead use the actual java Interface you care about, and you can pass either a <code>FileChannel</code> or the proposed <code>ByteBufferChannel</code> in interchangably.</p>\n"}],"owner":{"account_id":27152,"reputation":3411,"user_id":71354,"accept_rate":85,"display_name":"Yrlec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1805,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":1915971,"answer_count":2,"score":7,"last_activity_date":1679606435,"creation_date":1260974514,"question_id":1915069,"body_markdown":"I&#39;m in the process of making some changes to a library that I&#39;m using. In order to reduce memory usage the library is writing its temporary data to disk instead of keeping it in memory. However, for my usage scenario it is more efficient to keep it in memory. It also has some concurrency issues, because it has constant names for its temp-files and can therefore not run concurrently in different threads (because the threads will corrupt each other&#39;s data). \r\n\r\nI therefore need to change the library so that it keeps all its data in memory instead. I have not originally written the library and I&#39;m therefore not very comfortable with making drastic changes to the code. I&#39;d therefore like to do this with as little refactoring as possible. The code which writes to disk is quite simple. Here&#39;s a (somewhat simplified) example:\r\n\r\n    final FileChannel fileChannel = this.randomAccessFile.getChannel();\r\n    fileChannel.position(calculatePosition());\r\n    while (blockData.hasRemaining())\r\n    {\r\n     fileChannel.write(blockData);\r\n    }\r\n\r\nThe reading of a block is very similar (i.e. it uses a FileChannel, which it gets from a RandomAccessFile).\r\n\r\nIt feels like the easiest solution would be if I can use some implementation of FileChannel, which maps to a place in memory instead of to a file. I know I can map a file to a place in memory using FileChannel&#39;s map-method. However, that is the other way around. That gives me a &quot;memory-API&quot; to a file. I want a FileChannel-interface against some memory. Are there any available implementations of this?","title":"In-memory version of Java&#39;s FileChannel","body":"<p>I'm in the process of making some changes to a library that I'm using. In order to reduce memory usage the library is writing its temporary data to disk instead of keeping it in memory. However, for my usage scenario it is more efficient to keep it in memory. It also has some concurrency issues, because it has constant names for its temp-files and can therefore not run concurrently in different threads (because the threads will corrupt each other's data). </p>\n\n<p>I therefore need to change the library so that it keeps all its data in memory instead. I have not originally written the library and I'm therefore not very comfortable with making drastic changes to the code. I'd therefore like to do this with as little refactoring as possible. The code which writes to disk is quite simple. Here's a (somewhat simplified) example:</p>\n\n<pre><code>final FileChannel fileChannel = this.randomAccessFile.getChannel();\nfileChannel.position(calculatePosition());\nwhile (blockData.hasRemaining())\n{\n fileChannel.write(blockData);\n}\n</code></pre>\n\n<p>The reading of a block is very similar (i.e. it uses a FileChannel, which it gets from a RandomAccessFile).</p>\n\n<p>It feels like the easiest solution would be if I can use some implementation of FileChannel, which maps to a place in memory instead of to a file. I know I can map a file to a place in memory using FileChannel's map-method. However, that is the other way around. That gives me a \"memory-API\" to a file. I want a FileChannel-interface against some memory. Are there any available implementations of this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":20863716,"reputation":38,"user_id":15325311,"display_name":"joerg20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679606325,"creation_date":1679606325,"answer_id":75828080,"question_id":75827853,"body_markdown":"For considering a field as primary key (and thereby as base for a foreign key relationship), its type doesn&#39;t matter too much if it&#39;s a simple type like numeric values or string.\r\n\r\nMy primary reason for not using a business key as a primary key is that you hardly can predict the future on how stable such a key is. I&#39;m not sure about the regulations for ibans, but it might be that at some point in the future all possible ibans with the existing format are utilized - and it&#39;s decided to either reuse old ones or change their format.\r\n\r\nDepending on how strictly your database depends on the data format of such a business key, this might break your schema, e.g., when suddenly the uniqueness is violated or the new data format doesn&#39;t match your primary key column definition anymore. Especially getting primary keys migrated when they are used as foreign keys in relationships is a pain.\r\n\r\nTherefore, I&#39;d always try to avoid business keys as primary keys in databases and rather use arbitrary technical keys which are entirely under your control.","title":"Is it good idea to use business key for relation and findBy method?","body":"<p>For considering a field as primary key (and thereby as base for a foreign key relationship), its type doesn't matter too much if it's a simple type like numeric values or string.</p>\n<p>My primary reason for not using a business key as a primary key is that you hardly can predict the future on how stable such a key is. I'm not sure about the regulations for ibans, but it might be that at some point in the future all possible ibans with the existing format are utilized - and it's decided to either reuse old ones or change their format.</p>\n<p>Depending on how strictly your database depends on the data format of such a business key, this might break your schema, e.g., when suddenly the uniqueness is violated or the new data format doesn't match your primary key column definition anymore. Especially getting primary keys migrated when they are used as foreign keys in relationships is a pain.</p>\n<p>Therefore, I'd always try to avoid business keys as primary keys in databases and rather use arbitrary technical keys which are entirely under your control.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679698865,"accepted_answer_id":75828080,"answer_count":1,"score":0,"last_activity_date":1679606325,"creation_date":1679604484,"question_id":75827853,"body_markdown":"Sometimes we have some unique fields in the `Spring Data JPA` entities e.g. `iban` field. As these fields are unique and not nullable, normally we can use these fields for creating relationship between two tables. However, these fields are not numeric field, it may not be suitable for creating relation as the id fields. In this situation, it may be better to use id fields for relation between tables. So, which approach is better? \r\n\r\nOn the other hand, when there is a unique field annotated by `@NaturalId` and we need to search by using this field e.g. `findByCode(String code)`, then is it enough simply adding a method to the related Repository as shown below:\r\n\r\n```\r\nOptional&lt;Product&gt; findByCode(String code);\r\n```\r\n\r\nOr should we make such an implementation shown in the following example? \r\n\r\n[How to Use Hibernate Natural IDs in Spring Boot](https://dzone.com/articles/how-to-use-hibernate-natural-ids-in-spring-boot)\r\n\r\n","title":"Is it good idea to use business key for relation and findBy method?","body":"<p>Sometimes we have some unique fields in the <code>Spring Data JPA</code> entities e.g. <code>iban</code> field. As these fields are unique and not nullable, normally we can use these fields for creating relationship between two tables. However, these fields are not numeric field, it may not be suitable for creating relation as the id fields. In this situation, it may be better to use id fields for relation between tables. So, which approach is better?</p>\n<p>On the other hand, when there is a unique field annotated by <code>@NaturalId</code> and we need to search by using this field e.g. <code>findByCode(String code)</code>, then is it enough simply adding a method to the related Repository as shown below:</p>\n<pre><code>Optional&lt;Product&gt; findByCode(String code);\n</code></pre>\n<p>Or should we make such an implementation shown in the following example?</p>\n<p><a href=\"https://dzone.com/articles/how-to-use-hibernate-natural-ids-in-spring-boot\" rel=\"nofollow noreferrer\">How to Use Hibernate Natural IDs in Spring Boot</a></p>\n"},{"tags":["java","recursion","sum"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679600705,"creation_date":1679600705,"answer_id":75827408,"question_id":75827349,"body_markdown":"1. When the two endpoints are equal, you should return `end`, not two times that.\r\n2. When `start &gt; end`, you should also increment `end` in the recursive call since you&#39;re adding `end` to the result.\r\n\r\n```java\r\npublic static int sumInt(int start, int end) {\r\n    if (start == end) {\r\n        return end;\r\n    }\r\n    else if (start &lt; end){\r\n        return start + sumInt(start + 1, end);\r\n    }\r\n    else if (start &gt; end) {\r\n        return end + sumInt (end + 1, start);\r\n    }\r\n    return 0;\r\n}\r\n```\r\n\r\nThis can be simplified using `Math.min` and `Math.max` to reduce casework:\r\n\r\n```java\r\npublic static int sumInt(int start, int end) {\r\n    if (start == end) return end;\r\n    int first = Math.min(start, end);\r\n    return first + sumInt(first + 1, Math.max(start, end));\r\n}\r\n```","title":"How to sum all integers between two numbers inclusively using a recursive method","body":"<ol>\n<li>When the two endpoints are equal, you should return <code>end</code>, not two times that.</li>\n<li>When <code>start &gt; end</code>, you should also increment <code>end</code> in the recursive call since you're adding <code>end</code> to the result.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static int sumInt(int start, int end) {\n    if (start == end) {\n        return end;\n    }\n    else if (start &lt; end){\n        return start + sumInt(start + 1, end);\n    }\n    else if (start &gt; end) {\n        return end + sumInt (end + 1, start);\n    }\n    return 0;\n}\n</code></pre>\n<p>This can be simplified using <code>Math.min</code> and <code>Math.max</code> to reduce casework:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int sumInt(int start, int end) {\n    if (start == end) return end;\n    int first = Math.min(start, end);\n    return first + sumInt(first + 1, Math.max(start, end));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679606290,"creation_date":1679604552,"answer_id":75827867,"question_id":75827349,"body_markdown":"To simplify the code (imho) and still make it recursive, I would employ a helper method.\r\n- `sumInt()` simply calls the helper with the arguments reversed if required.\r\n- `sumIntHelper()` actually computes the recursive sum.\r\n```\r\nSystem.out.println(sumInt(2, 7));\r\nSystem.out.println(sumInt(7, 2));\r\nSystem.out.println(sumInt(12, 12));\r\n    \r\n\r\npublic static int sumInt(int start, int end) {\r\n    return start &gt; end ? sumIntHelper(end, start)\r\n            : sumIntHelper(start, end);\r\n}\r\n\r\nprivate static int sumIntHelper(int start, int end) {\r\n    if (start+1 &lt; end) {\r\n        return start + sumIntHelper(start + 1, end);\r\n    }\r\n    return start + end;\r\n}\r\n```\r\nprints\r\n```\r\n27\r\n27\r\n24\r\n","title":"How to sum all integers between two numbers inclusively using a recursive method","body":"<p>To simplify the code (imho) and still make it recursive, I would employ a helper method.</p>\n<ul>\n<li><code>sumInt()</code> simply calls the helper with the arguments reversed if required.</li>\n<li><code>sumIntHelper()</code> actually computes the recursive sum.</li>\n</ul>\n<pre><code>System.out.println(sumInt(2, 7));\nSystem.out.println(sumInt(7, 2));\nSystem.out.println(sumInt(12, 12));\n    \n\npublic static int sumInt(int start, int end) {\n    return start &gt; end ? sumIntHelper(end, start)\n            : sumIntHelper(start, end);\n}\n\nprivate static int sumIntHelper(int start, int end) {\n    if (start+1 &lt; end) {\n        return start + sumIntHelper(start + 1, end);\n    }\n    return start + end;\n}\n</code></pre>\n<p>prints</p>\n<pre><code>27\n27\n24\n</code></pre>\n"}],"owner":{"account_id":27503209,"reputation":7,"user_id":20986435,"display_name":"KodaNotABear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75827408,"answer_count":2,"score":-1,"last_activity_date":1679606290,"creation_date":1679600289,"question_id":75827349,"body_markdown":"The code must be written using a recursive method, and yes I know this is a horrible approach but I am trying to learn recursion. The method should be able to take two inputs regardless of order and return the sum of all numbers between and including the two inputs. For example, if the input is 2 and 6 or 6 and 2 it should return 20.\r\n\r\n```\r\npublic static int sumInt(int start, int end) {\r\n\t\tif (start == end) {\r\n\t\t\treturn start + end;\r\n\t\t}\r\n\t\telse if (start &lt; end){\r\n\t\t\treturn start + sumInt(start + 1, end);\r\n\t\t}\r\n\t\telse if (start &gt; end) {\r\n\t\t\treturn end + sumInt (end, start);\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n```\r\n\r\nThis is the solution I have already tried, but it does not include the inputs. When using the example input 2,6 it returns 14, and 6,2 returns 16. How do I fix this?","title":"How to sum all integers between two numbers inclusively using a recursive method","body":"<p>The code must be written using a recursive method, and yes I know this is a horrible approach but I am trying to learn recursion. The method should be able to take two inputs regardless of order and return the sum of all numbers between and including the two inputs. For example, if the input is 2 and 6 or 6 and 2 it should return 20.</p>\n<pre><code>public static int sumInt(int start, int end) {\n        if (start == end) {\n            return start + end;\n        }\n        else if (start &lt; end){\n            return start + sumInt(start + 1, end);\n        }\n        else if (start &gt; end) {\n            return end + sumInt (end, start);\n        }\n        return 0;\n    }\n</code></pre>\n<p>This is the solution I have already tried, but it does not include the inputs. When using the example input 2,6 it returns 14, and 6,2 returns 16. How do I fix this?</p>\n"},{"tags":["java","xml","jaxb","unmarshalling"],"comments":[{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":1,"creation_date":1276014431,"post_id":2999132,"comment_id":3063319,"body_markdown":"Looks like a bug, you could certainly report it. As an option, you can just stick with &lt;![CDATA[...]]&gt; and not care about special symbols.","body":"Looks like a bug, you could certainly report it. As an option, you can just stick with &lt;![CDATA[...]]&gt; and not care about special symbols."},{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1276014840,"post_id":2999132,"comment_id":3063383,"body_markdown":"JRE 1.6.0_20 doesn&#39;t have this problem. Probably, it&#39;s already fixed.","body":"JRE 1.6.0_20 doesn&#39;t have this problem. Probably, it&#39;s already fixed."},{"owner":{"account_id":33544,"reputation":11697,"user_id":93979,"accept_rate":92,"display_name":"ryanprayogo"},"score":0,"creation_date":1276015119,"post_id":2999132,"comment_id":3063435,"body_markdown":"@axtavt: Can you point me to any documents (release notes, maybe?) that confirms this?","body":"@axtavt: Can you point me to any documents (release notes, maybe?) that confirms this?"},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1276016167,"post_id":2999132,"comment_id":3063627,"body_markdown":"I just wrote a quick unit test under JDK 1.6.0_16, works there also. Which version of JDK and/or JAXB are you using?","body":"I just wrote a quick unit test under JDK 1.6.0_16, works there also. Which version of JDK and/or JAXB are you using?"},{"owner":{"account_id":577351,"reputation":468,"user_id":236334,"display_name":"james"},"score":0,"creation_date":1276018254,"post_id":2999132,"comment_id":3063897,"body_markdown":"I would try using the sun internal xml parser instead of whatever xerces implementation you are using.","body":"I would try using the sun internal xml parser instead of whatever xerces implementation you are using."}],"answers":[{"tags":[],"owner":{"account_id":43412,"reputation":23624,"user_id":126916,"accept_rate":91,"display_name":"Abhinav Sarkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1276015437,"creation_date":1276014516,"answer_id":2999280,"question_id":2999132,"body_markdown":"Xerces converts `&amp;amp;` to `&amp;` and then tries to resolve `&amp;Address` which fails because it does not end with `;`. &lt;strike&gt;Put a space between `&amp;` and `Address` and it should work.&lt;/strike&gt; Putting a space will not work as Xerces will now try to resolve `&amp; ` and throw the second error given in OP. You can wrap the test in a CDATA section and Xerces will not try to resolve the entities.","title":"Java XML Unmarshalling fails on ampersand (&amp;amp;) using JAXB","body":"<p>Xerces converts <code>&amp;amp;</code> to <code>&amp;</code> and then tries to resolve <code>&amp;Address</code> which fails because it does not end with <code>;</code>. <strike>Put a space between <code>&amp;</code> and <code>Address</code> and it should work.</strike> Putting a space will not work as Xerces will now try to resolve <code>&amp;</code> and throw the second error given in OP. You can wrap the test in a CDATA section and Xerces will not try to resolve the entities.</p>\n"},{"tags":[],"owner":{"account_id":66637,"reputation":2900,"user_id":195401,"display_name":"Quotidian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1276014680,"creation_date":1276014680,"answer_id":2999301,"question_id":2999132,"body_markdown":"I&#39;ve run into this too. First pass I simply replaced the &amp;amp to a token string (AMPERSAND_TOKEN), sent it through JAXB, then re-replaced the ampersand. Not ideal, but it was a quick fix.\r\n\r\nSecond pass I made a lot of significant changes, so I&#39;m not sure what exactly solved the problem. I suspect that providing JAXB access to the html dtds made it much happier, but that&#39;s only a guess and could be specific to my project.\r\n\r\nHTH","title":"Java XML Unmarshalling fails on ampersand (&amp;amp;) using JAXB","body":"<p>I've run into this too. First pass I simply replaced the &amp;amp to a token string (AMPERSAND_TOKEN), sent it through JAXB, then re-replaced the ampersand. Not ideal, but it was a quick fix.</p>\n\n<p>Second pass I made a lot of significant changes, so I'm not sure what exactly solved the problem. I suspect that providing JAXB access to the html dtds made it much happier, but that's only a guess and could be specific to my project.</p>\n\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":33544,"reputation":11697,"user_id":93979,"accept_rate":92,"display_name":"ryanprayogo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1276025953,"creation_date":1276025953,"answer_id":3000654,"question_id":2999132,"body_markdown":"It turns out that the problem is because of the framework I&#39;m using ([Mentawai framework][1]). The said XML comes from the POST body of an HTTP request.\r\n\r\nApparently, the framework converts the character entities in the XML body, therefore, `&amp;amp;` becomes `&amp;` and the unmarshaller fails to unmarshal the XML.\r\n\r\n\r\n  [1]: http://www.mentaframework.org/","title":"Java XML Unmarshalling fails on ampersand (&amp;amp;) using JAXB","body":"<p>It turns out that the problem is because of the framework I'm using (<a href=\"http://www.mentaframework.org/\" rel=\"nofollow noreferrer\">Mentawai framework</a>). The said XML comes from the POST body of an HTTP request.</p>\n\n<p>Apparently, the framework converts the character entities in the XML body, therefore, <code>&amp;amp;</code> becomes <code>&amp;</code> and the unmarshaller fails to unmarshal the XML.</p>\n"},{"tags":[],"owner":{"account_id":18463568,"reputation":11,"user_id":13450391,"display_name":"user13450391"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679606214,"creation_date":1679606214,"answer_id":75828064,"question_id":2999132,"body_markdown":"I&#39;ve found that adding **amp;** will fix the unmarshalling error. You want it to look like this:\r\n\r\n    &lt;address1&gt;Test&amp;amp;amp;Address&lt;/address1&gt;\r\n\r\n\r\nI think this tells the unmarshaller that the ampersand should be read as a data value (text in this case) instead of an entity identifier. You can see by your errors that it&#39;s attempting to view &quot;Address&quot;, which immediately follows the `&amp;amp;`, as an entity name\r\n\r\n","title":"Java XML Unmarshalling fails on ampersand (&amp;amp;) using JAXB","body":"<p>I've found that adding <strong>amp;</strong> will fix the unmarshalling error. You want it to look like this:</p>\n<pre><code>&lt;address1&gt;Test&amp;amp;amp;Address&lt;/address1&gt;\n</code></pre>\n<p>I think this tells the unmarshaller that the ampersand should be read as a data value (text in this case) instead of an entity identifier. You can see by your errors that it's attempting to view &quot;Address&quot;, which immediately follows the <code>&amp;amp;</code>, as an entity name</p>\n"}],"owner":{"account_id":33544,"reputation":11697,"user_id":93979,"accept_rate":92,"display_name":"ryanprayogo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14052,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3000654,"answer_count":4,"score":3,"last_activity_date":1679606214,"creation_date":1276013393,"question_id":2999132,"body_markdown":"I have the following XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;details&gt;\r\n      ...\r\n      &lt;address1&gt;Test&amp;amp;Address&lt;/address1&gt;\r\n      ...\r\n    &lt;/details&gt;\r\n\r\nWhen I try to unmarshal it using JAXB, it throws the following exception:\r\n\r\n    Caused by: org.xml.sax.SAXParseException: The reference to entity &quot;Address&quot; must end with the &#39;;&#39; delimiter.\r\n            at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\r\n            at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\r\n            at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n            at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n            at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\r\n            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEntityReference(Unknown Source)\r\n            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\r\n            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n            at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n            at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n            at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n            at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\r\n            at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n            at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:194)\r\n\r\n\r\nBut when I changed the `&amp;amp;` in the XML to `&amp;apos;`, it works. Looks like the problem is only with ampersand `&amp;amp;` and I cannot understand why.\r\n\r\nThe code to unmarshal is:\r\n\r\n    JAXBContext context = JAXBContext.newInstance(&quot;some.package.name&quot;, this.getClass().getClassLoader());\r\n    Unmarshaller unmarshaller = context.createUnmarshaller();\r\n    obj = unmarshaller.unmarshal(new StringReader(xml));\r\n\r\nAnyone have some insight?\r\n\r\n\r\n\r\nEDIT: I tried the solution suggested by @abhin4v below (ie, add a space after `&amp;amp;`), but it doesn&#39;t seem to work too. Here&#39;s the stacktrace:\r\n\r\n    Caused by: org.xml.sax.SAXParseException: The entity name must immediately follow the &#39;&amp;&#39; in the entity reference.\r\n            at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\r\n            at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\r\n            at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n            at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n            at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\r\n            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEntityReference(Unknown Source)\r\n            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\r\n            at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n            at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n            at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n            at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n            at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\r\n            at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n            at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:194)","title":"Java XML Unmarshalling fails on ampersand (&amp;amp;) using JAXB","body":"<p>I have the following XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;details&gt;\n  ...\n  &lt;address1&gt;Test&amp;amp;Address&lt;/address1&gt;\n  ...\n&lt;/details&gt;\n</code></pre>\n\n<p>When I try to unmarshal it using JAXB, it throws the following exception:</p>\n\n<pre><code>Caused by: org.xml.sax.SAXParseException: The reference to entity \"Address\" must end with the ';' delimiter.\n        at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n        at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEntityReference(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n        at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:194)\n</code></pre>\n\n<p>But when I changed the <code>&amp;amp;</code> in the XML to <code>&amp;apos;</code>, it works. Looks like the problem is only with ampersand <code>&amp;amp;</code> and I cannot understand why.</p>\n\n<p>The code to unmarshal is:</p>\n\n<pre><code>JAXBContext context = JAXBContext.newInstance(\"some.package.name\", this.getClass().getClassLoader());\nUnmarshaller unmarshaller = context.createUnmarshaller();\nobj = unmarshaller.unmarshal(new StringReader(xml));\n</code></pre>\n\n<p>Anyone have some insight?</p>\n\n<p>EDIT: I tried the solution suggested by @abhin4v below (ie, add a space after <code>&amp;amp;</code>), but it doesn't seem to work too. Here's the stacktrace:</p>\n\n<pre><code>Caused by: org.xml.sax.SAXParseException: The entity name must immediately follow the '&amp;' in the entity reference.\n        at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n        at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n        at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEntityReference(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n        at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n        at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:194)\n</code></pre>\n"},{"tags":["java","android","kotlin","canvas"],"comments":[{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679666661,"post_id":75828052,"comment_id":133766827,"body_markdown":"Some ideas you can check: 1) extraBitmap is not initialized 2) extraBitmap is recycled","body":"Some ideas you can check: 1) extraBitmap is not initialized 2) extraBitmap is recycled"},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679667079,"post_id":75828052,"comment_id":133766953,"body_markdown":"Actually I&#39;m pretty sure you can&#39;t use canvas given to `onDraw` outside of it and that&#39;s the cause of your crash","body":"Actually I&#39;m pretty sure you can&#39;t use canvas given to <code>onDraw</code> outside of it and that&#39;s the cause of your crash"}],"owner":{"account_id":28089224,"reputation":1,"user_id":21459096,"display_name":"Ireaperz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679683255,"answer_count":0,"score":0,"last_activity_date":1679606134,"creation_date":1679606134,"question_id":75828052,"body_markdown":"Why does the program just close when I call the `restoreStacks()` method? android studio does not give any errors to the console and log, the error appeared adding the line \r\n`canvas?.drawBitmap(extraBitmap, 0f,0f, null)`\r\n\r\nHere is my code\r\n\r\n```kotlin\r\nclass MyCanvasView(context: Context, attrs: AttributeSet?): View(context, attrs) {\r\n\r\n    companion object {\r\n        const val SmoothLine = 1\r\n        const val LINE = 2\r\n        const val RECTANGLE = 3\r\n        const val SQUARE = 4\r\n        const val CIRCLE = 5\r\n        const val TRIANGLE = 6\r\n    }\r\n\r\n    private var isDrawing = false\r\n\r\n\r\n    var mCurrentShape = 1\r\n    private val paint = Paint()\r\n    private val newPaint = Paint()\r\n\r\n\r\n    private var scaleFactor = 1.0f\r\n\r\n\r\n    private var motionTouchEventX = 0f\r\n    private var motionTouchEventY = 0f\r\n    private var currentX = 0f\r\n    private var currentY = 0f\r\n    private val touchTolerance = ViewConfiguration.get(context).scaledTouchSlop\r\n\r\n\r\n    private val path = Path()\r\n\r\n    private val stackPaths = Stack&lt;Path&gt;()\r\n    private val stackPaint = Stack&lt;Paint&gt;()\r\n\r\n\r\n    private lateinit var extraCanvas: Canvas\r\n    private var canvas: Canvas? = null\r\n    private lateinit var extraBitmap: Bitmap\r\n    private val backgroundColor = ResourcesCompat.getColor(resources, R.color.white, null)\r\n\r\n\r\n    public override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n        super.onSizeChanged(w, h, oldw, oldh)\r\n        extraBitmap = Bitmap.createBitmap(width*3+300, height*3+500, Bitmap.Config.ARGB_8888)\r\n        extraCanvas = Canvas(extraBitmap)\r\n        extraCanvas.drawColor(backgroundColor)\r\n\r\n    }\r\n\r\n    override fun onDraw(canvas: Canvas) {\r\n        super.onDraw(canvas)\r\n        this.canvas = canvas\r\n        canvas.drawBitmap(extraBitmap, 0f, 0f, null)\r\n        when (mCurrentShape) {\r\n            LINE -&gt; onDrawLine(canvas)\r\n            RECTANGLE -&gt; onDrawRectangle(canvas)\r\n            SQUARE -&gt; onDrawSquare(canvas)\r\n            CIRCLE -&gt; onDrawCircle(canvas)\r\n            TRIANGLE -&gt; onDrawTriangle(canvas)\r\n        }\r\n    }\r\n\r\n    override fun onTouchEvent(event: MotionEvent): Boolean {\r\n        motionTouchEventX = event.x * (1 / scaleFactor)\r\n        motionTouchEventY = event.y * (1 / scaleFactor)\r\n\r\n        when (mCurrentShape) {\r\n                    LINE -&gt; onTouchEventLine(event)\r\n                    SmoothLine -&gt; onTouchEventSmoothLine(event)\r\n                    RECTANGLE -&gt; onTouchEventRectangle(event)\r\n                    SQUARE -&gt; onTouchEventSquare(event)\r\n                    CIRCLE -&gt; onTouchEventCircle(event)\r\n                    TRIANGLE -&gt; onTouchEventTriangle(event)\r\n                }\r\n        return true\r\n    }\r\n\r\n    //------------------------------------------------------------------\r\n    // Line\r\n    //------------------------------------------------------------------\r\n    private fun onDrawLine(canvas: Canvas){\r\n        val dx = abs(motionTouchEventX - currentX)\r\n        val dy = abs(motionTouchEventY - currentY)\r\n        if (dx &gt;= touchTolerance|| dy &gt;= touchTolerance) {\r\n            canvas.drawLine(currentX, currentY, motionTouchEventX, motionTouchEventY, newPaint)\r\n        }\r\n        if(!isDrawing) this.canvas?.drawBitmap(extraBitmap, 0f, 0f, null)\r\n    }\r\n    private fun onTouchEventLine(event: MotionEvent){\r\n        when (event.action) {\r\n            MotionEvent.ACTION_DOWN -&gt; {\r\n                isDrawing = true\r\n                currentX = motionTouchEventX\r\n                currentY = motionTouchEventY\r\n                path.reset()\r\n                path.moveTo(motionTouchEventX, motionTouchEventY)\r\n            }\r\n            MotionEvent.ACTION_MOVE -&gt; invalidate()\r\n            MotionEvent.ACTION_UP -&gt; {\r\n                path.quadTo(currentX, currentY, motionTouchEventX, motionTouchEventY)\r\n                extraCanvas.drawPath(path, paint)\r\n                addToStack(path)\r\n                path.reset()\r\n                isDrawing = false\r\n                canvas?.drawBitmap(extraBitmap, 0f,0f, null)\r\n            }\r\n        }\r\n    }\r\n    //------------------------------------------------------------------\r\n    // SmoothLine\r\n    //------------------------------------------------------------------\r\n    private fun onTouchEventSmoothLine(event: MotionEvent) {\r\n        when (event.action) {\r\n            MotionEvent.ACTION_DOWN -&gt; {\r\n                currentX = motionTouchEventX\r\n                currentY = motionTouchEventY\r\n                path.reset()\r\n                path.moveTo(motionTouchEventX, motionTouchEventY)\r\n            }\r\n            MotionEvent.ACTION_MOVE -&gt; {\r\n                val dx = abs(motionTouchEventY - currentX)\r\n                val dy = abs(motionTouchEventY - currentX)\r\n                if (dx &gt;= touchTolerance || dy &gt;= touchTolerance) {\r\n                    path.quadTo(currentX, currentY, (motionTouchEventX + currentX) / 2, (motionTouchEventY + currentY) / 2)\r\n                    currentX = motionTouchEventX\r\n                    currentY = motionTouchEventY\r\n                }\r\n                extraCanvas.drawPath(path, paint)\r\n            }\r\n            MotionEvent.ACTION_UP -&gt; {\r\n                addToStack(path)\r\n                path.reset()\r\n            }\r\n        }\r\n        invalidate()\r\n    }\r\n\r\n    private fun addToStack(path: Path){\r\n        stackPaths.push(Path(path))\r\n        stackPaint.push(Paint(paint))\r\n    }\r\n    private fun restoreStacks(){\r\n        extraBitmap.eraseColor(Color.TRANSPARENT)\r\n        stackPaths.forEachIndexed { index, path -&gt;\r\n            extraCanvas.drawPath(path, stackPaint[index])\r\n        }\r\n        canvas?.drawBitmap(extraBitmap, 0f,0f, null)\r\n        invalidate()\r\n    }\r\n\r\n    fun undoLastAction() {\r\n        if (stackPaths.isNotEmpty()) {\r\n            stackPaths.pop()\r\n            stackPaint.pop()\r\n        }\r\n        restoreStacks()\r\n\r\n    }\r\n\r\n    override fun onDetachedFromWindow() {\r\n        extraBitmap.recycle()\r\n        super.onDetachedFromWindow()\r\n    }\r\n}\r\n```","title":"Errors in my android application (can`t even find the error description)","body":"<p>Why does the program just close when I call the <code>restoreStacks()</code> method? android studio does not give any errors to the console and log, the error appeared adding the line\n<code>canvas?.drawBitmap(extraBitmap, 0f,0f, null)</code></p>\n<p>Here is my code</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyCanvasView(context: Context, attrs: AttributeSet?): View(context, attrs) {\n\n    companion object {\n        const val SmoothLine = 1\n        const val LINE = 2\n        const val RECTANGLE = 3\n        const val SQUARE = 4\n        const val CIRCLE = 5\n        const val TRIANGLE = 6\n    }\n\n    private var isDrawing = false\n\n\n    var mCurrentShape = 1\n    private val paint = Paint()\n    private val newPaint = Paint()\n\n\n    private var scaleFactor = 1.0f\n\n\n    private var motionTouchEventX = 0f\n    private var motionTouchEventY = 0f\n    private var currentX = 0f\n    private var currentY = 0f\n    private val touchTolerance = ViewConfiguration.get(context).scaledTouchSlop\n\n\n    private val path = Path()\n\n    private val stackPaths = Stack&lt;Path&gt;()\n    private val stackPaint = Stack&lt;Paint&gt;()\n\n\n    private lateinit var extraCanvas: Canvas\n    private var canvas: Canvas? = null\n    private lateinit var extraBitmap: Bitmap\n    private val backgroundColor = ResourcesCompat.getColor(resources, R.color.white, null)\n\n\n    public override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        super.onSizeChanged(w, h, oldw, oldh)\n        extraBitmap = Bitmap.createBitmap(width*3+300, height*3+500, Bitmap.Config.ARGB_8888)\n        extraCanvas = Canvas(extraBitmap)\n        extraCanvas.drawColor(backgroundColor)\n\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        super.onDraw(canvas)\n        this.canvas = canvas\n        canvas.drawBitmap(extraBitmap, 0f, 0f, null)\n        when (mCurrentShape) {\n            LINE -&gt; onDrawLine(canvas)\n            RECTANGLE -&gt; onDrawRectangle(canvas)\n            SQUARE -&gt; onDrawSquare(canvas)\n            CIRCLE -&gt; onDrawCircle(canvas)\n            TRIANGLE -&gt; onDrawTriangle(canvas)\n        }\n    }\n\n    override fun onTouchEvent(event: MotionEvent): Boolean {\n        motionTouchEventX = event.x * (1 / scaleFactor)\n        motionTouchEventY = event.y * (1 / scaleFactor)\n\n        when (mCurrentShape) {\n                    LINE -&gt; onTouchEventLine(event)\n                    SmoothLine -&gt; onTouchEventSmoothLine(event)\n                    RECTANGLE -&gt; onTouchEventRectangle(event)\n                    SQUARE -&gt; onTouchEventSquare(event)\n                    CIRCLE -&gt; onTouchEventCircle(event)\n                    TRIANGLE -&gt; onTouchEventTriangle(event)\n                }\n        return true\n    }\n\n    //------------------------------------------------------------------\n    // Line\n    //------------------------------------------------------------------\n    private fun onDrawLine(canvas: Canvas){\n        val dx = abs(motionTouchEventX - currentX)\n        val dy = abs(motionTouchEventY - currentY)\n        if (dx &gt;= touchTolerance|| dy &gt;= touchTolerance) {\n            canvas.drawLine(currentX, currentY, motionTouchEventX, motionTouchEventY, newPaint)\n        }\n        if(!isDrawing) this.canvas?.drawBitmap(extraBitmap, 0f, 0f, null)\n    }\n    private fun onTouchEventLine(event: MotionEvent){\n        when (event.action) {\n            MotionEvent.ACTION_DOWN -&gt; {\n                isDrawing = true\n                currentX = motionTouchEventX\n                currentY = motionTouchEventY\n                path.reset()\n                path.moveTo(motionTouchEventX, motionTouchEventY)\n            }\n            MotionEvent.ACTION_MOVE -&gt; invalidate()\n            MotionEvent.ACTION_UP -&gt; {\n                path.quadTo(currentX, currentY, motionTouchEventX, motionTouchEventY)\n                extraCanvas.drawPath(path, paint)\n                addToStack(path)\n                path.reset()\n                isDrawing = false\n                canvas?.drawBitmap(extraBitmap, 0f,0f, null)\n            }\n        }\n    }\n    //------------------------------------------------------------------\n    // SmoothLine\n    //------------------------------------------------------------------\n    private fun onTouchEventSmoothLine(event: MotionEvent) {\n        when (event.action) {\n            MotionEvent.ACTION_DOWN -&gt; {\n                currentX = motionTouchEventX\n                currentY = motionTouchEventY\n                path.reset()\n                path.moveTo(motionTouchEventX, motionTouchEventY)\n            }\n            MotionEvent.ACTION_MOVE -&gt; {\n                val dx = abs(motionTouchEventY - currentX)\n                val dy = abs(motionTouchEventY - currentX)\n                if (dx &gt;= touchTolerance || dy &gt;= touchTolerance) {\n                    path.quadTo(currentX, currentY, (motionTouchEventX + currentX) / 2, (motionTouchEventY + currentY) / 2)\n                    currentX = motionTouchEventX\n                    currentY = motionTouchEventY\n                }\n                extraCanvas.drawPath(path, paint)\n            }\n            MotionEvent.ACTION_UP -&gt; {\n                addToStack(path)\n                path.reset()\n            }\n        }\n        invalidate()\n    }\n\n    private fun addToStack(path: Path){\n        stackPaths.push(Path(path))\n        stackPaint.push(Paint(paint))\n    }\n    private fun restoreStacks(){\n        extraBitmap.eraseColor(Color.TRANSPARENT)\n        stackPaths.forEachIndexed { index, path -&gt;\n            extraCanvas.drawPath(path, stackPaint[index])\n        }\n        canvas?.drawBitmap(extraBitmap, 0f,0f, null)\n        invalidate()\n    }\n\n    fun undoLastAction() {\n        if (stackPaths.isNotEmpty()) {\n            stackPaths.pop()\n            stackPaint.pop()\n        }\n        restoreStacks()\n\n    }\n\n    override fun onDetachedFromWindow() {\n        extraBitmap.recycle()\n        super.onDetachedFromWindow()\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","terminal","command-line-interface"],"owner":{"account_id":23852555,"reputation":31,"user_id":17856333,"display_name":"Stephen Paulin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679615593,"answer_count":0,"score":0,"last_activity_date":1679605639,"creation_date":1679605639,"question_id":75827993,"body_markdown":"I&#39;ve been searching on this one and can&#39;t seem to find the right answer.\r\n\r\nI am trying to create a command line application that will launch and stay running. The terminal will display content with a single input line to type commands. Similar to the &quot;top&quot; command in Linux. I know how to read and write from the console but I can&#39;t seem to find the method to keep the terminal from scrolling and how to do the pretty layout in the rest of it. I&#39;m planning to do it in Java if possible.\r\n\r\nAny pointers, resources or techniques are appreciated.\r\n\r\nThanks\r\nsteve","title":"CLI console output pretty print static screen layout","body":"<p>I've been searching on this one and can't seem to find the right answer.</p>\n<p>I am trying to create a command line application that will launch and stay running. The terminal will display content with a single input line to type commands. Similar to the &quot;top&quot; command in Linux. I know how to read and write from the console but I can't seem to find the method to keep the terminal from scrolling and how to do the pretty layout in the rest of it. I'm planning to do it in Java if possible.</p>\n<p>Any pointers, resources or techniques are appreciated.</p>\n<p>Thanks\nsteve</p>\n"},{"tags":["java","apache-flink","flink-streaming","stream-processing"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1679442389,"post_id":75806606,"comment_id":133722644,"body_markdown":"From what you&#39;ve shared, it looks like using a Tuple2 is just getting in the way. At least in this sample code, the String field in the Tuple isn&#39;t used, so why not just use a `DataStream&lt;SampleClass&gt;` instead?","body":"From what you&#39;ve shared, it looks like using a Tuple2 is just getting in the way. At least in this sample code, the String field in the Tuple isn&#39;t used, so why not just use a <code>DataStream&lt;SampleClass&gt;</code> instead?"},{"owner":{"account_id":19463399,"reputation":1,"user_id":14237189,"display_name":"FelixNavidad"},"score":0,"creation_date":1679517293,"post_id":75806606,"comment_id":133738324,"body_markdown":"Hey @DavidAnderson. Unfortunately, there is a lot of stream processing happening before this step. This is why the stream has to be in this format.","body":"Hey @DavidAnderson. Unfortunately, there is a lot of stream processing happening before this step. This is why the stream has to be in this format."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679605614,"creation_date":1679589269,"answer_id":75825673,"question_id":75806606,"body_markdown":"A few solutions:\r\n\r\n* use a map before applying the windowing that transforms `Tuple2&lt;String, SampleClass&gt;` to `SampleClass`\r\n* or if you need the String, add it to SampleClass\r\n* use `reduce` instead of `maxBy`\r\n* implement `Comparable` on `SampleClass` and have the `compareTo` method only check the time field","title":"Unable to perform &#39;maxBy&#39; on a Flink windowed stream of type &lt;SampleClass&gt; by using the SampleClass&#39;s field as a parameter does not work","body":"<p>A few solutions:</p>\n<ul>\n<li>use a map before applying the windowing that transforms <code>Tuple2&lt;String, SampleClass&gt;</code> to <code>SampleClass</code></li>\n<li>or if you need the String, add it to SampleClass</li>\n<li>use <code>reduce</code> instead of <code>maxBy</code></li>\n<li>implement <code>Comparable</code> on <code>SampleClass</code> and have the <code>compareTo</code> method only check the time field</li>\n</ul>\n"}],"owner":{"account_id":19463399,"reputation":1,"user_id":14237189,"display_name":"FelixNavidad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679605614,"creation_date":1679435177,"question_id":75806606,"body_markdown":"Lets say this is my sample stream like so:\r\n\r\n```java\r\nSingleOutputStreamOperator&lt;Tuple2&lt;String, SampleClass&gt;&gt; sampleStream = previousStream\r\n                                    .keyBy(value -&gt; value.f1.getId())\r\n                                    .window(TumblingProcessingTimeWindows.of(Time.seconds(1)))\r\n```\r\n\r\n`SampleClass` has two fields `id` and `time`. It also has two getter methods `getId()` and `getTime` that gets those respective fields.\r\n\r\nGoal: Now I want to perform the `maxBy` operation on the above stream with the `time` as my condition for maximiziation. Basically, I want the latest element in the front of the window.\r\n\r\nHow do I achieve my goal?\r\n\r\n`maxBy` works on position of parameter and not on nested field inside it. For example:\r\n\r\n```\r\n.maxBy(positionToMaxBy = 1, first = true)\r\n```\r\n\r\nHere `positionToMaxBy` would consider the second parameter from the stream parameters, which is the object. But how do I get it to use the `getTime()` method to be used instead of the whole object?","title":"Unable to perform &#39;maxBy&#39; on a Flink windowed stream of type &lt;SampleClass&gt; by using the SampleClass&#39;s field as a parameter does not work","body":"<p>Lets say this is my sample stream like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SingleOutputStreamOperator&lt;Tuple2&lt;String, SampleClass&gt;&gt; sampleStream = previousStream\n                                    .keyBy(value -&gt; value.f1.getId())\n                                    .window(TumblingProcessingTimeWindows.of(Time.seconds(1)))\n</code></pre>\n<p><code>SampleClass</code> has two fields <code>id</code> and <code>time</code>. It also has two getter methods <code>getId()</code> and <code>getTime</code> that gets those respective fields.</p>\n<p>Goal: Now I want to perform the <code>maxBy</code> operation on the above stream with the <code>time</code> as my condition for maximiziation. Basically, I want the latest element in the front of the window.</p>\n<p>How do I achieve my goal?</p>\n<p><code>maxBy</code> works on position of parameter and not on nested field inside it. For example:</p>\n<pre><code>.maxBy(positionToMaxBy = 1, first = true)\n</code></pre>\n<p>Here <code>positionToMaxBy</code> would consider the second parameter from the stream parameters, which is the object. But how do I get it to use the <code>getTime()</code> method to be used instead of the whole object?</p>\n"},{"tags":["java","eclipse","selenium-chromedriver","autoit"],"comments":[{"owner":{"account_id":2399107,"reputation":2927,"user_id":2097265,"accept_rate":73,"display_name":"Milos"},"score":0,"creation_date":1605548246,"post_id":64853706,"comment_id":114677784,"body_markdown":"Thats odd. The window title is probably 30px. Try playing with Opt(&quot;MouseCoordMode&quot;, 1) ;1=absolute, 0=relative, 2=client\nAnd see if it has any effect","body":"Thats odd. The window title is probably 30px. Try playing with Opt(&quot;MouseCoordMode&quot;, 1) ;1=absolute, 0=relative, 2=client And see if it has any effect"},{"owner":{"account_id":2399107,"reputation":2927,"user_id":2097265,"accept_rate":73,"display_name":"Milos"},"score":0,"creation_date":1605548434,"post_id":64853706,"comment_id":114677856,"body_markdown":"I guess you run the Autoit script AFTER you have clicked the page in order to show the upload form? Does the script work as expected, apart from braking the page? That 30px offset, how did you find out about it? selenium fails clicking the elements?","body":"I guess you run the Autoit script AFTER you have clicked the page in order to show the upload form? Does the script work as expected, apart from braking the page? That 30px offset, how did you find out about it? selenium fails clicking the elements?"},{"owner":{"account_id":2399107,"reputation":2927,"user_id":2097265,"accept_rate":73,"display_name":"Milos"},"score":0,"creation_date":1605548561,"post_id":64853706,"comment_id":114677906,"body_markdown":"Try setting the WinWait and run autoit before you run the selenium and see what happens. I&#39;m pretty sure Autoit isn&#39;t the problem here.","body":"Try setting the WinWait and run autoit before you run the selenium and see what happens. I&#39;m pretty sure Autoit isn&#39;t the problem here."},{"owner":{"account_id":19983608,"reputation":1,"user_id":14646189,"display_name":"parsethis"},"score":0,"creation_date":1605572755,"post_id":64853706,"comment_id":114686421,"body_markdown":"Yes, selenium clicks the upload button to bring up the file picker. Then the runtime line executes, triggering the autoit script to select the file picker, type in a path, and click &#39;open&#39;. The autoit part works perfectly every time.\nAutoIT doesn&#39;t seem to have any issues clicking the objects on the picker at all. But at the point it is executed, the actual webpage itself (underneath the file picker) goes wonky and then selenium has problems clicking anything afterwards. As selenium is running through a series of steps, including opening the picker, I&#39;m not sure how autoIT could be run first.","body":"Yes, selenium clicks the upload button to bring up the file picker. Then the runtime line executes, triggering the autoit script to select the file picker, type in a path, and click &#39;open&#39;. The autoit part works perfectly every time. AutoIT doesn&#39;t seem to have any issues clicking the objects on the picker at all. But at the point it is executed, the actual webpage itself (underneath the file picker) goes wonky and then selenium has problems clicking anything afterwards. As selenium is running through a series of steps, including opening the picker, I&#39;m not sure how autoIT could be run first."},{"owner":{"account_id":19983608,"reputation":1,"user_id":14646189,"display_name":"parsethis"},"score":0,"creation_date":1605572933,"post_id":64853706,"comment_id":114686460,"body_markdown":"As for the 30px offset, it&#39;s just an estimation. But I can see the page shift visually as I watch the automation execute. If I interrupt execution it with a breakpoint and start clicking around, I find the buttons are not interactive with my mouse unless I move it below the buttons about 30px. Once this happens, and the autoIT script ends, selenium fails to click the elements and throws an exception, failing the test which is how I found the problem originally as all tests relying on this series of actions started failing.","body":"As for the 30px offset, it&#39;s just an estimation. But I can see the page shift visually as I watch the automation execute. If I interrupt execution it with a breakpoint and start clicking around, I find the buttons are not interactive with my mouse unless I move it below the buttons about 30px. Once this happens, and the autoIT script ends, selenium fails to click the elements and throws an exception, failing the test which is how I found the problem originally as all tests relying on this series of actions started failing."},{"owner":{"account_id":19983608,"reputation":1,"user_id":14646189,"display_name":"parsethis"},"score":0,"creation_date":1605573149,"post_id":64853706,"comment_id":114686502,"body_markdown":"I&#39;ll try using the MouseCoordMode switch, but since that&#39;s part of autoIT which is not having any problems on its own, it may be fruitless.","body":"I&#39;ll try using the MouseCoordMode switch, but since that&#39;s part of autoIT which is not having any problems on its own, it may be fruitless."},{"owner":{"account_id":2399107,"reputation":2927,"user_id":2097265,"accept_rate":73,"display_name":"Milos"},"score":0,"creation_date":1605653224,"post_id":64853706,"comment_id":114716437,"body_markdown":"Yeah, MouseCoordMode will be useless...","body":"Yeah, MouseCoordMode will be useless..."},{"owner":{"account_id":2399107,"reputation":2927,"user_id":2097265,"accept_rate":73,"display_name":"Milos"},"score":0,"creation_date":1605653339,"post_id":64853706,"comment_id":114716481,"body_markdown":"Run this before running the browser and see if its any different.\n\nWinWait(&quot;Open&quot;)\nControlFocus(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;)\nControlSetText(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;, $CmdLine[1])\nControlClick(&quot;Open&quot;,&quot;&quot;,&quot;Button1&quot;)","body":"Run this before running the browser and see if its any different.  WinWait(&quot;Open&quot;) ControlFocus(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;) ControlSetText(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;, $CmdLine[1]) ControlClick(&quot;Open&quot;,&quot;&quot;,&quot;Button1&quot;)"},{"owner":{"account_id":2399107,"reputation":2927,"user_id":2097265,"accept_rate":73,"display_name":"Milos"},"score":0,"creation_date":1605653405,"post_id":64853706,"comment_id":114716503,"body_markdown":"Its a very odd bug. Try pausing one second before you execute Autoit code and see if it works","body":"Its a very odd bug. Try pausing one second before you execute Autoit code and see if it works"},{"owner":{"account_id":19983608,"reputation":1,"user_id":14646189,"display_name":"parsethis"},"score":0,"creation_date":1606218600,"post_id":64853706,"comment_id":114890705,"body_markdown":"@Milos I&#39;ve tried pausing 2 seconds, and using the WinWait(&quot;Open&quot;) separately, and neither of them have resolved it. :(\nI&#39;ll play around with the driver options in selenium some more to see if it&#39;s something like that","body":"@Milos I&#39;ve tried pausing 2 seconds, and using the WinWait(&quot;Open&quot;) separately, and neither of them have resolved it. :( I&#39;ll play around with the driver options in selenium some more to see if it&#39;s something like that"},{"owner":{"account_id":3340027,"reputation":679,"user_id":2806502,"display_name":"garbb"},"score":0,"creation_date":1606326127,"post_id":64853706,"comment_id":114933212,"body_markdown":"can you try the autoit script with only one line at a time to see which line might be causing the shift? maybe try `ControlSend()` instead of `ControlSetText()`? maybe try focusing the web application window/control inside the autoit script at various times to see if this has any effect?","body":"can you try the autoit script with only one line at a time to see which line might be causing the shift? maybe try <code>ControlSend()</code> instead of <code>ControlSetText()</code>? maybe try focusing the web application window/control inside the autoit script at various times to see if this has any effect?"}],"owner":{"account_id":19983608,"reputation":1,"user_id":14646189,"display_name":"parsethis"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679605314,"creation_date":1605509202,"question_id":64853706,"body_markdown":"Having a very strange problem, been trying to debug it with no success. I&#39;m automating a web application using Selenium Webdriver in Java using Eclipse as the IDE. In the process of diagnosing, Chrome, Eclipse and the Java project (via Maven) have all been updated.\r\n\r\nOne area of test case coverage involves opening an upload file picker within Chrome, selecting a file, and clicking Open to upload the file and close the picker. As Selenium cannot interact with these pickers I invoke `Runtime.getRuntime().exec()` to run a simple AutoIt script, along with the filepath:\r\n\r\n```\r\nControlFocus(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;)\r\nControlSetText(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;, $CmdLine[1])\r\nControlClick(&quot;Open&quot;,&quot;&quot;,&quot;Button1&quot;)\r\n```\r\n\r\nHistorically, this script has worked perfectly and has no obvious reason to break. \r\n\r\nAt the point where the Runtime line above is ran in the project, the rendering of the page will change. The entire page appears ~30 pixels higher than normal. If you mouse-over any button they will not be clickable unless you move your mouse 30px down to the empty space below. This breaks any further automation because buttons are no longer clickable.\r\n\r\nIn reproducing this I made the following discoveries:\r\n\r\n1. This cannot be reproduced manually.\r\n2. While debugging, I set a breakpoint at the runtime line (which appears to be the line causing the issue). If I click Resume the problem appears at the point it executes the Runtime line. If I click Step Over/Step Into, it executes the Runtime line *without* causing the problem.\r\n3. Refreshing the page manually fixes the rendering issue.\r\n4. Refreshing the page via Selenium does not fix the rendering issue, and so is not a workaround.\r\n\r\nI am totally lost. Manual input is the only way to temporarily resolve the issue, which defeats the point of automation. I have not seen anyone else have the same problem.","title":"How come Eclipse IDE executing AutoIt script breaks page layout, but not when debugging?","body":"<p>Having a very strange problem, been trying to debug it with no success. I'm automating a web application using Selenium Webdriver in Java using Eclipse as the IDE. In the process of diagnosing, Chrome, Eclipse and the Java project (via Maven) have all been updated.</p>\n<p>One area of test case coverage involves opening an upload file picker within Chrome, selecting a file, and clicking Open to upload the file and close the picker. As Selenium cannot interact with these pickers I invoke <code>Runtime.getRuntime().exec()</code> to run a simple AutoIt script, along with the filepath:</p>\n<pre><code>ControlFocus(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;)\nControlSetText(&quot;Open&quot;,&quot;&quot;,&quot;Edit1&quot;, $CmdLine[1])\nControlClick(&quot;Open&quot;,&quot;&quot;,&quot;Button1&quot;)\n</code></pre>\n<p>Historically, this script has worked perfectly and has no obvious reason to break.</p>\n<p>At the point where the Runtime line above is ran in the project, the rendering of the page will change. The entire page appears ~30 pixels higher than normal. If you mouse-over any button they will not be clickable unless you move your mouse 30px down to the empty space below. This breaks any further automation because buttons are no longer clickable.</p>\n<p>In reproducing this I made the following discoveries:</p>\n<ol>\n<li>This cannot be reproduced manually.</li>\n<li>While debugging, I set a breakpoint at the runtime line (which appears to be the line causing the issue). If I click Resume the problem appears at the point it executes the Runtime line. If I click Step Over/Step Into, it executes the Runtime line <em>without</em> causing the problem.</li>\n<li>Refreshing the page manually fixes the rendering issue.</li>\n<li>Refreshing the page via Selenium does not fix the rendering issue, and so is not a workaround.</li>\n</ol>\n<p>I am totally lost. Manual input is the only way to temporarily resolve the issue, which defeats the point of automation. I have not seen anyone else have the same problem.</p>\n"},{"tags":["java","spring-boot","multipartform-data","spring-restdocs"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679604684,"creation_date":1679604684,"answer_id":75827880,"question_id":75813449,"body_markdown":"There&#39;s nothing that you can do with REST Docs&#39; current built-in capabilities. REST Docs has no understanding of parameter names and knows nothing of your naming scheme. That means that it can&#39;t tell that parameters that look like `rows[n].id` are all the same kind of parameter and should only be documented once.","title":"Spring REST Docs: how to documentation multipart form list parameter?","body":"<p>There's nothing that you can do with REST Docs' current built-in capabilities. REST Docs has no understanding of parameter names and knows nothing of your naming scheme. That means that it can't tell that parameters that look like <code>rows[n].id</code> are all the same kind of parameter and should only be documented once.</p>\n"}],"owner":{"account_id":17234055,"reputation":5,"user_id":12477901,"display_name":"LuxusIo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75827880,"answer_count":1,"score":0,"last_activity_date":1679604684,"creation_date":1679494744,"question_id":75813449,"body_markdown":"How to documentation form list parameter?  \r\n\r\nController\r\n\r\n```java\r\n@PostMapping(&quot;/sample&quot;)\r\npublic void post(@ModelAttribute PostRequest request) {\r\n    // ...\r\n}\r\n\r\n@Data\r\npublic static class PostRequest {\r\n    private MultipartFile file;\r\n    private List&lt;PostRow&gt; rows;\r\n}\r\n\r\n@Data\r\npublic static class PostRow {\r\n    private Long id;\r\n}\r\n```\r\n\r\n\r\nMy test code\r\n\r\n```java\r\nmockMvc.perform(\r\n        multipart(&quot;/sample&quot;)\r\n                .file(new MockMultipartFile(&quot;file&quot;, &quot;level.zip&quot;, &quot;application/zip&quot;, &quot;level.zip&quot;.getBytes()))\r\n                .param(&quot;rows[0].id&quot;, &quot;1&quot;)\r\n                .param(&quot;rows[1].id&quot;, &quot;2&quot;)\r\n                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n        )\r\n        .andDo(document(\r\n                &quot;Sample&quot;,\r\n                requestParts(\r\n                        partWithName(&quot;file&quot;).description(&quot;level zip file&quot;)\r\n                ),\r\n                requestParameters(\r\n                        parameterWithName(&quot;rows[].id&quot;).description(&quot;row id&quot;)\r\n                )\r\n            )\r\n        );\r\n```\r\n\r\nI tried this code, but it throws following error\r\n\r\n```\r\nRequest parameters with the following names were not documented: [rows[1].id, rows[0].id]. Request parameters with the following names were not found in the request: [rows[].id]\r\norg.springframework.restdocs.snippet.SnippetException: Request parameters with the following names were not documented: [rows[1].id, rows[0].id]. Request parameters with the following names were not found in the request: [rows[].id]\r\n\tat org.springframework.restdocs.request.RequestParametersSnippet.verificationFailed(RequestParametersSnippet.java:107)\r\n\tat org.springframework.restdocs.request.AbstractParametersSnippet.verifyParameterDescriptors(AbstractParametersSnippet.java:108)\r\n\tat org.springframework.restdocs.request.AbstractParametersSnippet.createModel(AbstractParametersSnippet.java:74)\r\n\tat org.springframework.restdocs.snippet.TemplatedSnippet.document(TemplatedSnippet.java:78)\r\n\tat org.springframework.restdocs.generate.RestDocumentationGenerator.handle(RestDocumentationGenerator.java:191)\r\n\tat org.springframework.restdocs.mockmvc.RestDocumentationResultHandler.handle(RestDocumentationResultHandler.java:52)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andDo(MockMvc.java:201)\r\n```\r\n\r\nI don&#39;t want to use &quot;rows[0].id&quot; and &quot;rows[1].id&quot;.  \r\nWhat can I do instead?\r\n","title":"Spring REST Docs: how to documentation multipart form list parameter?","body":"<p>How to documentation form list parameter?</p>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/sample&quot;)\npublic void post(@ModelAttribute PostRequest request) {\n    // ...\n}\n\n@Data\npublic static class PostRequest {\n    private MultipartFile file;\n    private List&lt;PostRow&gt; rows;\n}\n\n@Data\npublic static class PostRow {\n    private Long id;\n}\n</code></pre>\n<p>My test code</p>\n<pre class=\"lang-java prettyprint-override\"><code>mockMvc.perform(\n        multipart(&quot;/sample&quot;)\n                .file(new MockMultipartFile(&quot;file&quot;, &quot;level.zip&quot;, &quot;application/zip&quot;, &quot;level.zip&quot;.getBytes()))\n                .param(&quot;rows[0].id&quot;, &quot;1&quot;)\n                .param(&quot;rows[1].id&quot;, &quot;2&quot;)\n                .contentType(MediaType.MULTIPART_FORM_DATA)\n        )\n        .andDo(document(\n                &quot;Sample&quot;,\n                requestParts(\n                        partWithName(&quot;file&quot;).description(&quot;level zip file&quot;)\n                ),\n                requestParameters(\n                        parameterWithName(&quot;rows[].id&quot;).description(&quot;row id&quot;)\n                )\n            )\n        );\n</code></pre>\n<p>I tried this code, but it throws following error</p>\n<pre><code>Request parameters with the following names were not documented: [rows[1].id, rows[0].id]. Request parameters with the following names were not found in the request: [rows[].id]\norg.springframework.restdocs.snippet.SnippetException: Request parameters with the following names were not documented: [rows[1].id, rows[0].id]. Request parameters with the following names were not found in the request: [rows[].id]\n    at org.springframework.restdocs.request.RequestParametersSnippet.verificationFailed(RequestParametersSnippet.java:107)\n    at org.springframework.restdocs.request.AbstractParametersSnippet.verifyParameterDescriptors(AbstractParametersSnippet.java:108)\n    at org.springframework.restdocs.request.AbstractParametersSnippet.createModel(AbstractParametersSnippet.java:74)\n    at org.springframework.restdocs.snippet.TemplatedSnippet.document(TemplatedSnippet.java:78)\n    at org.springframework.restdocs.generate.RestDocumentationGenerator.handle(RestDocumentationGenerator.java:191)\n    at org.springframework.restdocs.mockmvc.RestDocumentationResultHandler.handle(RestDocumentationResultHandler.java:52)\n    at org.springframework.test.web.servlet.MockMvc$1.andDo(MockMvc.java:201)\n</code></pre>\n<p>I don't want to use &quot;rows[0].id&quot; and &quot;rows[1].id&quot;.<br />\nWhat can I do instead?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","entity-relationship"],"answers":[{"tags":[],"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679604467,"creation_date":1679604467,"answer_id":75827850,"question_id":75827593,"body_markdown":"Since the isbn has unique constraint, this constraint will be used as index, so you dont need an extra index.\r\n\r\nYou can use any unique column in many-to-one relationship and hibernate supports it. You can use @JoinColumn(referencedColumnName = &quot;isbn&quot;) to reference it. And I dont think there are any disadvantages to do it that way.","title":"Index for a @NaturalId field in Spring Boot?","body":"<p>Since the isbn has unique constraint, this constraint will be used as index, so you dont need an extra index.</p>\n<p>You can use any unique column in many-to-one relationship and hibernate supports it. You can use @JoinColumn(referencedColumnName = &quot;isbn&quot;) to reference it. And I dont think there are any disadvantages to do it that way.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75827850,"answer_count":1,"score":1,"last_activity_date":1679604467,"creation_date":1679602247,"question_id":75827593,"body_markdown":"In a Spring Boot app, we use `@NaturalId` for the `isbn` field as shown below:\r\n\r\n```\r\n@Entity\r\npublic class Book {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @NaturalId\r\n    @Column(nullable = false, unique = true)\r\n    private String isbn;\r\n\r\n    @Column(length = 50, nullable = false)\r\n    private String name;\r\n}\r\n```\r\n\r\n\r\n\r\n1. I will use a method e.g. `findByIsbn(String isbn)`. So, do I need to add an index (via annotaion or sql script) for the `isbn` field annotated by `@NaturalId` ? \r\n\r\n2. Is it a bad idea to map the `isbn` fields of 2 tables for one-to-many / many-to-one relationship? \r\n\r\n","title":"Index for a @NaturalId field in Spring Boot?","body":"<p>In a Spring Boot app, we use <code>@NaturalId</code> for the <code>isbn</code> field as shown below:</p>\n<pre><code>@Entity\npublic class Book {\n\n    @Id\n    private Long id;\n\n    @NaturalId\n    @Column(nullable = false, unique = true)\n    private String isbn;\n\n    @Column(length = 50, nullable = false)\n    private String name;\n}\n</code></pre>\n<ol>\n<li><p>I will use a method e.g. <code>findByIsbn(String isbn)</code>. So, do I need to add an index (via annotaion or sql script) for the <code>isbn</code> field annotated by <code>@NaturalId</code> ?</p>\n</li>\n<li><p>Is it a bad idea to map the <code>isbn</code> fields of 2 tables for one-to-many / many-to-one relationship?</p>\n</li>\n</ol>\n"},{"tags":["java","android","android-studio","jsoup","html-parsing"],"answers":[{"tags":[],"owner":{"account_id":19474831,"reputation":33,"user_id":14246404,"display_name":"Filayeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679603348,"creation_date":1679603348,"answer_id":75827724,"question_id":74000821,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b2qly.jpg\r\n\r\nThe code gets all audio file sources.\r\n\r\n    Elements h2 = document.select(&quot;source[type=&#39;audio/mpeg&#39;]&quot;);\r\n\r\nThe code parses all audio files .\r\n\r\n    String[] splitUrl = (h2.toString()).split(&quot;src=&quot;);\r\n\r\nThe codes get the address of the exact audio file.\r\n\r\n    mp3Url = ((splitUrl[1]).replace(&quot;&gt;&quot;,&quot;&quot;));\r\n    String arg = (mp3Url.replace(&quot;\\&quot;&quot;,&quot;&quot;)).replace(&quot;&lt;source type=audio/mpeg&quot;,&quot;&quot;);\r\n\r\nThe codes combine the Audio Url to download.\r\n\r\n    URL url1;\r\n    URL reconUrl1 = null;\r\n    try {\r\n        url1 = new URL(strUrl1);\r\n        reconUrl1 = new URL(url1,arg);     \r\n        }\r\n\r\n    catch (MalformedURLException e){\r\n         e.printStackTrace();\r\n       }\r\n\r\nThe codes combine the Audio Url to download.\r\n\r\n    try {\r\n        URLConnection conn = new URL(reconUrl1.toString()).openConnection();\r\n        InputStream is = conn.getInputStream();\r\n        String urlEnd = (getExternalFilesDir + name + &quot;_voice.mp3&quot;);\r\n        OutputStream outstream = new FileOutputStream(new File(urlEnd));\r\n        byte[] buffer = new byte[4096];\r\n        int len;\r\n        while ((len = is.read(buffer)) &gt; 0) {\r\n            outstream.write(buffer, 0, len);\r\n        }\r\n    }\r\n\r\n    catch (Exception e){\r\n         e.printStackTrace();\r\n    }\r\n \r\n    \r\n","title":"How to parse an audio file and download it by jsoup , Android Studio?","body":"<p><a href=\"https://i.stack.imgur.com/b2qly.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b2qly.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The code gets all audio file sources.</p>\n<pre><code>Elements h2 = document.select(&quot;source[type='audio/mpeg']&quot;);\n</code></pre>\n<p>The code parses all audio files .</p>\n<pre><code>String[] splitUrl = (h2.toString()).split(&quot;src=&quot;);\n</code></pre>\n<p>The codes get the address of the exact audio file.</p>\n<pre><code>mp3Url = ((splitUrl[1]).replace(&quot;&gt;&quot;,&quot;&quot;));\nString arg = (mp3Url.replace(&quot;\\&quot;&quot;,&quot;&quot;)).replace(&quot;&lt;source type=audio/mpeg&quot;,&quot;&quot;);\n</code></pre>\n<p>The codes combine the Audio Url to download.</p>\n<pre><code>URL url1;\nURL reconUrl1 = null;\ntry {\n    url1 = new URL(strUrl1);\n    reconUrl1 = new URL(url1,arg);     \n    }\n\ncatch (MalformedURLException e){\n     e.printStackTrace();\n   }\n</code></pre>\n<p>The codes combine the Audio Url to download.</p>\n<pre><code>try {\n    URLConnection conn = new URL(reconUrl1.toString()).openConnection();\n    InputStream is = conn.getInputStream();\n    String urlEnd = (getExternalFilesDir + name + &quot;_voice.mp3&quot;);\n    OutputStream outstream = new FileOutputStream(new File(urlEnd));\n    byte[] buffer = new byte[4096];\n    int len;\n    while ((len = is.read(buffer)) &gt; 0) {\n        outstream.write(buffer, 0, len);\n    }\n}\n\ncatch (Exception e){\n     e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":19474831,"reputation":33,"user_id":14246404,"display_name":"Filayeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75827724,"answer_count":1,"score":1,"last_activity_date":1679603348,"creation_date":1665266525,"question_id":74000821,"body_markdown":"[Website HTML Codes][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OvQJm.png\r\n\r\n    Elements elementsVoice = document.select(&quot;span[class=&#39;daud&#39;]&gt;audio&quot;);\r\n\r\nI want to download the audio files in the photo from the link.But when I write the code, no data is coming.\r\nCan I download these files using jsoup, can you help?\r\nThank you\r\n","title":"How to parse an audio file and download it by jsoup , Android Studio?","body":"<p><a href=\"https://i.stack.imgur.com/OvQJm.png\" rel=\"nofollow noreferrer\">Website HTML Codes</a></p>\n<pre><code>Elements elementsVoice = document.select(&quot;span[class='daud']&gt;audio&quot;);\n</code></pre>\n<p>I want to download the audio files in the photo from the link.But when I write the code, no data is coming.\nCan I download these files using jsoup, can you help?\nThank you</p>\n"},{"tags":["java","android","wifi"],"answers":[{"tags":[],"owner":{"account_id":422206,"reputation":19220,"user_id":800848,"accept_rate":53,"display_name":"Muhammad Nabeel Arif"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1404278500,"creation_date":1336470037,"answer_id":10496166,"question_id":10350119,"body_markdown":"Here is the code which worked for me to connect with WPA2\r\n\r\n\r\n\r\n\t// Adding a WPA or WPA2 network\r\n\tpublic static void changeNetworkWPA(WifiManager wifiManager, String ssid, String password) {\r\n\t\tWifiConfiguration config = changeNetworkCommon(ssid);\r\n\t\t// Hex passwords that are 64 bits long are not to be quoted.\r\n\t\tconfig.preSharedKey = quoteNonHex(password, 64);\r\n\t\tconfig.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.OPEN);\r\n\t\tconfig.allowedProtocols.set(WifiConfiguration.Protocol.WPA); // For WPA\r\n\t\tconfig.allowedProtocols.set(WifiConfiguration.Protocol.RSN); // For WPA2\r\n\t\tconfig.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_PSK);\r\n\t\tconfig.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_EAP);\r\n\t\tconfig.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\r\n\t\tconfig.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\r\n\t\tconfig.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\r\n\t\tconfig.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\r\n\t\tupdateNetwork(wifiManager, config);\r\n\t}\r\nCode: From [Zxing library][1]\r\n\r\n\r\n  [1]: https://github.com/zxing/zxing/blob/master/android/src/com/google/zxing/client/android/wifi/WifiConfigManager.java","title":"Unable to connect with WPA2 android","body":"<p>Here is the code which worked for me to connect with WPA2</p>\n\n<pre><code>// Adding a WPA or WPA2 network\npublic static void changeNetworkWPA(WifiManager wifiManager, String ssid, String password) {\n    WifiConfiguration config = changeNetworkCommon(ssid);\n    // Hex passwords that are 64 bits long are not to be quoted.\n    config.preSharedKey = quoteNonHex(password, 64);\n    config.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.OPEN);\n    config.allowedProtocols.set(WifiConfiguration.Protocol.WPA); // For WPA\n    config.allowedProtocols.set(WifiConfiguration.Protocol.RSN); // For WPA2\n    config.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_PSK);\n    config.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_EAP);\n    config.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\n    config.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\n    config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\n    config.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\n    updateNetwork(wifiManager, config);\n}\n</code></pre>\n\n<p>Code: From <a href=\"https://github.com/zxing/zxing/blob/master/android/src/com/google/zxing/client/android/wifi/WifiConfigManager.java\" rel=\"nofollow\">Zxing library</a></p>\n"},{"tags":[],"owner":{"account_id":8219300,"reputation":37,"user_id":6184445,"display_name":"Juan Torres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679603235,"creation_date":1679442343,"answer_id":75807288,"question_id":10350119,"body_markdown":"just to enrich the excellent answer above,\r\n\r\nAndroid supports different WIFI security mechanism such as **WEP** and **WPA/WPA2** which are described under **IEEE 802.11** norm.\r\nThe Android `WifiManager` API lets you set up the WIFI network parameters of your application in order to connect to a particular access point (your wifi box) using a particular protocol.\r\n\r\nfor example, in case of WPA/WPA2, by performing the **key challenge handshake** that authorizes connection on a WPA/WPA2 networks.\r\nNow, to successfully connect to a WPA or WPA2 network *you just need to add the supported protocols, cipher methods and key management methods that your device will try to use when connecting to it* otherwise they won’t have a chance to understand each other.\r\n\r\nIf you are using a **PreShared key as authentication** with WPA/WPA2 (which is used in most part of the real world wifi hotspots) then you are basically using a symmetric key phrase that’s know in advance by your device and your access point,\r\nAssuming you use a WPA/WPA2 network (Not WEP nor Enterprise WPA2 server crt authentication)  \r\n\r\nRemember WPA and WPA2 differ in the type of cipher for the packages the first on uses generally **TKIP** and the other one  uses **AES** ( similar CCMP) which is more secure.\r\nthat say, you can have confusing combinations of  cipher methods using the same  WIFI protection standard as for example\r\n\r\n    WPA2:\r\n    NETWORK USE KEY CCMP=[WPA2-PSK-CCMP][ESS]\r\n    WPA:\r\n    NETWORK USE KEY CCMP=[WPA-PSK-CCMP][ESS]\r\n    NETWORK USE KEY TKIP=[WPA-PSK-TKIP+CCMP][ESS]\r\n    NETWORK USE KEY TKIP=[WPA-PSK-TKIP][ESS]\r\n\r\nSo the best approach in case you are interested in access to both WPA and WPA2 networks with a keyphrase as mentioned above, resumes on **explicitly  adding the corresponding supported config options to be as open as possible for the type of network you want to potentially connect** and once config is done, you just need to add the network to use by your app and start the connection challenge.\r\n\r\nyou can use this code , it took me a while but it works great! for ***WPA and WPA2*** using same wifi configuration.\r\n\r\n    public static boolean addNetwork8(Context context, String ssid, String password) {\r\n        WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\r\n        // setup a wifi configuration\r\n        WifiConfiguration wc = new WifiConfiguration();\r\n        wc.SSID = &quot;\\&quot;&quot; + ssid + &quot;\\&quot;&quot;;\r\n        wc.preSharedKey = &quot;\\&quot;&quot;+ password +&quot;\\&quot;&quot;;\r\n        wc.status = WifiConfiguration.Status.ENABLED;\r\n        wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\r\n        wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\r\n        wc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_PSK);\r\n        wc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\r\n        wc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\r\n        wc.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\r\n        wc.allowedProtocols.set(WifiConfiguration.Protocol.WPA);\r\n        // connect to and enable the connection\r\n        int netId = wifiManager.addNetwork(wc);\r\n        wifiManager.enableNetwork(netId, true);\r\n        wifiManager.setWifiEnabled(true);\r\n\r\n\r\n        return true;\r\n    }\r\n\r\nand then you can call the method  wherever you need to connect to a WPA/WPA2 network\r\n\r\n    boolean added = Connectivity.addNetwork8(this, network, password);\r\n        Log.d(TAG, &quot;Network added &quot; + added);\r\n\r\nEnjoy, working code!!\r\n\r\n**PS:** \r\ni did not have to specify authalgorithm config.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.OPEN) ; for WAP/WAP2 i assume that it&#39;s because it uses x0  , luckily .\r\n\r\n    /** Open System authentication (required for WPA/WPA2) */public static \r\n    final int OPEN = 0;","title":"Unable to connect with WPA2 android","body":"<p>just to enrich the excellent answer above,</p>\n<p>Android supports different WIFI security mechanism such as <strong>WEP</strong> and <strong>WPA/WPA2</strong> which are described under <strong>IEEE 802.11</strong> norm.\nThe Android <code>WifiManager</code> API lets you set up the WIFI network parameters of your application in order to connect to a particular access point (your wifi box) using a particular protocol.</p>\n<p>for example, in case of WPA/WPA2, by performing the <strong>key challenge handshake</strong> that authorizes connection on a WPA/WPA2 networks.\nNow, to successfully connect to a WPA or WPA2 network <em>you just need to add the supported protocols, cipher methods and key management methods that your device will try to use when connecting to it</em> otherwise they won’t have a chance to understand each other.</p>\n<p>If you are using a <strong>PreShared key as authentication</strong> with WPA/WPA2 (which is used in most part of the real world wifi hotspots) then you are basically using a symmetric key phrase that’s know in advance by your device and your access point,\nAssuming you use a WPA/WPA2 network (Not WEP nor Enterprise WPA2 server crt authentication)</p>\n<p>Remember WPA and WPA2 differ in the type of cipher for the packages the first on uses generally <strong>TKIP</strong> and the other one  uses <strong>AES</strong> ( similar CCMP) which is more secure.\nthat say, you can have confusing combinations of  cipher methods using the same  WIFI protection standard as for example</p>\n<pre><code>WPA2:\nNETWORK USE KEY CCMP=[WPA2-PSK-CCMP][ESS]\nWPA:\nNETWORK USE KEY CCMP=[WPA-PSK-CCMP][ESS]\nNETWORK USE KEY TKIP=[WPA-PSK-TKIP+CCMP][ESS]\nNETWORK USE KEY TKIP=[WPA-PSK-TKIP][ESS]\n</code></pre>\n<p>So the best approach in case you are interested in access to both WPA and WPA2 networks with a keyphrase as mentioned above, resumes on <strong>explicitly  adding the corresponding supported config options to be as open as possible for the type of network you want to potentially connect</strong> and once config is done, you just need to add the network to use by your app and start the connection challenge.</p>\n<p>you can use this code , it took me a while but it works great! for <em><strong>WPA and WPA2</strong></em> using same wifi configuration.</p>\n<pre><code>public static boolean addNetwork8(Context context, String ssid, String password) {\n    WifiManager wifiManager = (WifiManager) context.getSystemService(Context.WIFI_SERVICE);\n    // setup a wifi configuration\n    WifiConfiguration wc = new WifiConfiguration();\n    wc.SSID = &quot;\\&quot;&quot; + ssid + &quot;\\&quot;&quot;;\n    wc.preSharedKey = &quot;\\&quot;&quot;+ password +&quot;\\&quot;&quot;;\n    wc.status = WifiConfiguration.Status.ENABLED;\n    wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\n    wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\n    wc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_PSK);\n    wc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\n    wc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\n    wc.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\n    wc.allowedProtocols.set(WifiConfiguration.Protocol.WPA);\n    // connect to and enable the connection\n    int netId = wifiManager.addNetwork(wc);\n    wifiManager.enableNetwork(netId, true);\n    wifiManager.setWifiEnabled(true);\n\n\n    return true;\n}\n</code></pre>\n<p>and then you can call the method  wherever you need to connect to a WPA/WPA2 network</p>\n<pre><code>boolean added = Connectivity.addNetwork8(this, network, password);\n    Log.d(TAG, &quot;Network added &quot; + added);\n</code></pre>\n<p>Enjoy, working code!!</p>\n<p><strong>PS:</strong>\ni did not have to specify authalgorithm config.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.OPEN) ; for WAP/WAP2 i assume that it's because it uses x0  , luckily .</p>\n<pre><code>/** Open System authentication (required for WPA/WPA2) */public static \nfinal int OPEN = 0;\n</code></pre>\n"}],"owner":{"account_id":422206,"reputation":19220,"user_id":800848,"accept_rate":53,"display_name":"Muhammad Nabeel Arif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5043,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10496166,"answer_count":2,"score":2,"last_activity_date":1679603235,"creation_date":1335527507,"question_id":10350119,"body_markdown":"I am using following code to connect with WPA2 in android (I can connect with WEP and WPA). But I am getting only &#39;Scanning&#39; status. And I am unable to connect with WPA2 network. Can you tell me what changes I need to make this code relevant with wpa2 WiFi.\r\n\r\n\r\n\tprivate boolean saveWepConfigAndEnableNetwork(String ssid, String pass) {\r\n\t\tisAlreadyPresend = false;\r\n\t\tWifiConfiguration wc = new WifiConfiguration();\r\n\t\twc.SSID = &quot;\\&quot;&quot; + ssid + &quot;\\&quot;&quot;; // IMP! This should be in Quotes!!\r\n\t\twc = checkPreviousConfiguration(wc);\r\n\t\twc.hiddenSSID = true;\r\n\t\twc.status = WifiConfiguration.Status.DISABLED;\r\n\t\twc.priority = 40;\r\n\t\twc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);\r\n\t\twc.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\r\n\t\twc.allowedProtocols.set(WifiConfiguration.Protocol.WPA);\r\n\t\twc.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.OPEN);\r\n\t\twc.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.SHARED);\r\n\t\twc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\r\n\t\twc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\r\n\t\twc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP40);\r\n\t\twc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP104);\r\n\t\twc.preSharedKey = &quot;\\&quot;&quot; + pass + &quot;\\&quot;&quot;;\r\n\r\n\t\twc.wepKeys[0] = &quot;\\&quot;&quot; + pass + &quot;\\&quot;&quot;; // This is the WEP Password\r\n\t\twc.wepTxKeyIndex = 0;\r\n\r\n\t\tboolean res1 = wifi.setWifiEnabled(true);\r\n\t\tint res = 0;\r\n\t\tif(isAlreadyPresend){\r\n\t\t\tres = wifi.addNetwork(wc);\r\n\t\t}else{\r\n\t\t\tres = wifi.updateNetwork(wc);\r\n\t\t}\r\n\t\t\r\n\t\tLog.d(&quot;WifiPreference&quot;, &quot;add Network returned &quot; + res);\r\n\t\tboolean es = wifi.saveConfiguration();\r\n\t\tLog.d(&quot;WifiPreference&quot;, &quot;saveConfiguration returned &quot; + es);\r\n\t\tboolean b = wifi.enableNetwork(res, true);\r\n\t\tLog.d(&quot;WifiPreference&quot;, &quot;enableNetwork returned &quot; + b);\r\n\t\treturn b;\r\n\t}\r\n\r\n\t// Check if this SSID is already stored. If it is, return that\r\n\t// configuration.\r\n\t// If not, return the configuration being tested.\r\n\tpublic WifiConfiguration checkPreviousConfiguration(WifiConfiguration wc) {\r\n\t\tList&lt;WifiConfiguration&gt; configs = wifi.getConfiguredNetworks();\r\n\t\tfor (WifiConfiguration config : configs) {\r\n\t\t\tif (config.SSID.equals(wc.SSID)){\r\n\t\t\t\tisAlreadyPresend = true;\r\n\t\t\t\treturn config;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn wc;\r\n\t}","title":"Unable to connect with WPA2 android","body":"<p>I am using following code to connect with WPA2 in android (I can connect with WEP and WPA). But I am getting only 'Scanning' status. And I am unable to connect with WPA2 network. Can you tell me what changes I need to make this code relevant with wpa2 WiFi.</p>\n\n<pre><code>private boolean saveWepConfigAndEnableNetwork(String ssid, String pass) {\n    isAlreadyPresend = false;\n    WifiConfiguration wc = new WifiConfiguration();\n    wc.SSID = \"\\\"\" + ssid + \"\\\"\"; // IMP! This should be in Quotes!!\n    wc = checkPreviousConfiguration(wc);\n    wc.hiddenSSID = true;\n    wc.status = WifiConfiguration.Status.DISABLED;\n    wc.priority = 40;\n    wc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);\n    wc.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\n    wc.allowedProtocols.set(WifiConfiguration.Protocol.WPA);\n    wc.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.OPEN);\n    wc.allowedAuthAlgorithms.set(WifiConfiguration.AuthAlgorithm.SHARED);\n    wc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.CCMP);\n    wc.allowedPairwiseCiphers.set(WifiConfiguration.PairwiseCipher.TKIP);\n    wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP40);\n    wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.WEP104);\n    wc.preSharedKey = \"\\\"\" + pass + \"\\\"\";\n\n    wc.wepKeys[0] = \"\\\"\" + pass + \"\\\"\"; // This is the WEP Password\n    wc.wepTxKeyIndex = 0;\n\n    boolean res1 = wifi.setWifiEnabled(true);\n    int res = 0;\n    if(isAlreadyPresend){\n        res = wifi.addNetwork(wc);\n    }else{\n        res = wifi.updateNetwork(wc);\n    }\n\n    Log.d(\"WifiPreference\", \"add Network returned \" + res);\n    boolean es = wifi.saveConfiguration();\n    Log.d(\"WifiPreference\", \"saveConfiguration returned \" + es);\n    boolean b = wifi.enableNetwork(res, true);\n    Log.d(\"WifiPreference\", \"enableNetwork returned \" + b);\n    return b;\n}\n\n// Check if this SSID is already stored. If it is, return that\n// configuration.\n// If not, return the configuration being tested.\npublic WifiConfiguration checkPreviousConfiguration(WifiConfiguration wc) {\n    List&lt;WifiConfiguration&gt; configs = wifi.getConfiguredNetworks();\n    for (WifiConfiguration config : configs) {\n        if (config.SSID.equals(wc.SSID)){\n            isAlreadyPresend = true;\n            return config;\n        }\n    }\n    return wc;\n}\n</code></pre>\n"},{"tags":["java","optaplanner"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1679563861,"post_id":75818178,"comment_id":133745131,"body_markdown":"FYI there is no `cacheType` on `constructionHeuristic`, that setting doesn&#39;t do anything. The solver config doesn&#39;t fail on this, because you don&#39;t have XSD validation. If you insert the XSD header, you will get full XML validation.","body":"FYI there is no <code>cacheType</code> on <code>constructionHeuristic</code>, that setting doesn&#39;t do anything. The solver config doesn&#39;t fail on this, because you don&#39;t have XSD validation. If you insert the XSD header, you will get full XML validation."},{"owner":{"account_id":17000188,"reputation":121,"user_id":12297765,"display_name":"Ryan Moser"},"score":0,"creation_date":1679590073,"post_id":75818178,"comment_id":133752603,"body_markdown":"Thanks!  The company where I work is (reasonably) picky about letting _anything_ pull from _anywhere_, so it&#39;s much simpler to avoid the validation altogether.  That said, I I&#39;m going to push to allow it so that I don&#39;t miss something like that again.","body":"Thanks!  The company where I work is (reasonably) picky about letting <i>anything</i> pull from <i>anywhere</i>, so it&#39;s much simpler to avoid the validation altogether.  That said, I I&#39;m going to push to allow it so that I don&#39;t miss something like that again."},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1679601726,"post_id":75818178,"comment_id":133755435,"body_markdown":"Another alternative would be to write the config in Java. The XML format is just a serialized instance of `SolverConfig`.","body":"Another alternative would be to write the config in Java. The XML format is just a serialized instance of <code>SolverConfig</code>."}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679555008,"creation_date":1679555008,"answer_id":75820032,"question_id":75818178,"body_markdown":"OptaPlanner&#39;s version policy is that minor updates *will* bring changes and deprecations, but *will not* actually make breaking changes. And we do, in fact, regularly deprecate APIs - but we do not remove them, so even if you use deprecated stuff, everything should still work.\r\n\r\nWhat you are describing seems like a bug, definitely not intentional. If you provide a minimal reproducer, something that I can run on my machine to demonstrate the issue, I&#39;ll look into it.","title":"Has OptaPlanner&#39;s SolverConfig changed significantly mid 8.x?","body":"<p>OptaPlanner's version policy is that minor updates <em>will</em> bring changes and deprecations, but <em>will not</em> actually make breaking changes. And we do, in fact, regularly deprecate APIs - but we do not remove them, so even if you use deprecated stuff, everything should still work.</p>\n<p>What you are describing seems like a bug, definitely not intentional. If you provide a minimal reproducer, something that I can run on my machine to demonstrate the issue, I'll look into it.</p>\n"},{"tags":[],"owner":{"account_id":17000188,"reputation":121,"user_id":12297765,"display_name":"Ryan Moser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679603114,"creation_date":1679603114,"answer_id":75827690,"question_id":75818178,"body_markdown":"The issue seems to be in `SolutionDescriptor::visitEntitiesByEntityClass`.  See [the diff. on the commit with the change that - I think - causes this issue](https://github.com/kiegroup/optaplanner/commit/985ccacb9c6011be280de598c7491f3724e322cb#diff-70688ee65f6ab04aec0d9da2bdd09d04e670c6ac05cd6dddbe328899702bec8eL941).\r\n\r\nBefore the change, `line 945` checked `entityClass.isInstance(entity)` before adding `entity` to `entityList`.  Now, however, `line 951` checks `entityClass.isAssignableFrom(typeParameter)` before calling the `visitor` `Consumer`.\r\n\r\nBut, my `Solution` class was only specifying the `interface` of the `@PlanningEntity` on the `@PlanningEntityCollectionProperty`, like so:\r\n\r\n```java\r\n    @Override\r\n    @PlanningEntityCollectionProperty\r\n    @ValueRangeProvider(id = &quot;vrpName&quot;)\r\n    public List&lt;IEntity&gt; getEntities() {\r\n        return super.getLinks();\r\n    }\r\n```\r\n\r\nThus `typeParameter` in `visitEntitiesByEntityClass` is the `interface` `IEntity` and `implementation.isAssignableFrom(implInterface) == false`\r\n\r\nPer the `isAssignableFrom` JavaDoc:\r\n\r\n&gt; Determines if the class or interface represented by this Class object is either the same as, or is a superclass or superinterface of, the class or interface represented by the specified Class parameter. It returns true if so; otherwise it returns false.\r\n\r\nAnd so the `visitor` `Consumer` is never called, the `ConstructionHeuristic` `SolverJob` is told that there are no moves that it can make, and we we crash out early with an under-initialized score.\r\n\r\nAll of that said, I&#39;m not really sure what the best fix is or if there&#39;s really a bug and I&#39;m not just making a mess of things.  I have a workaround, however:\r\n\r\nTo get my stuff to work, I just needed to change the `@PlanningEntityCollectionProperty` so that it returns the concrete type rather than the interface; e.g.:\r\n\r\n```java\r\n    @Override\r\n    @PlanningEntityCollectionProperty\r\n    @ValueRangeProvider(id = &quot;vrpName&quot;)\r\n    public List&lt;ImplementationEntity&gt; getEntities() {\r\n        return super.getLinks();\r\n    }\r\n```\r\n\r\nAnd, lastly, to the OptaPlanner Devs if you read this: it&#39;s always been unclear to me how inheritance interfaces with OptaPlanner.  Most of it is straight forward, but there has been a decent amount of &quot;guess-and-check.&quot;  It would be much appreciate, by more than just me, I&#39;m sure, if the OptaPlanner docs had more on inheritance w.r.t. the entity classes, etc.","title":"Has OptaPlanner&#39;s SolverConfig changed significantly mid 8.x?","body":"<p>The issue seems to be in <code>SolutionDescriptor::visitEntitiesByEntityClass</code>.  See <a href=\"https://github.com/kiegroup/optaplanner/commit/985ccacb9c6011be280de598c7491f3724e322cb#diff-70688ee65f6ab04aec0d9da2bdd09d04e670c6ac05cd6dddbe328899702bec8eL941\" rel=\"nofollow noreferrer\">the diff. on the commit with the change that - I think - causes this issue</a>.</p>\n<p>Before the change, <code>line 945</code> checked <code>entityClass.isInstance(entity)</code> before adding <code>entity</code> to <code>entityList</code>.  Now, however, <code>line 951</code> checks <code>entityClass.isAssignableFrom(typeParameter)</code> before calling the <code>visitor</code> <code>Consumer</code>.</p>\n<p>But, my <code>Solution</code> class was only specifying the <code>interface</code> of the <code>@PlanningEntity</code> on the <code>@PlanningEntityCollectionProperty</code>, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    @PlanningEntityCollectionProperty\n    @ValueRangeProvider(id = &quot;vrpName&quot;)\n    public List&lt;IEntity&gt; getEntities() {\n        return super.getLinks();\n    }\n</code></pre>\n<p>Thus <code>typeParameter</code> in <code>visitEntitiesByEntityClass</code> is the <code>interface</code> <code>IEntity</code> and <code>implementation.isAssignableFrom(implInterface) == false</code></p>\n<p>Per the <code>isAssignableFrom</code> JavaDoc:</p>\n<blockquote>\n<p>Determines if the class or interface represented by this Class object is either the same as, or is a superclass or superinterface of, the class or interface represented by the specified Class parameter. It returns true if so; otherwise it returns false.</p>\n</blockquote>\n<p>And so the <code>visitor</code> <code>Consumer</code> is never called, the <code>ConstructionHeuristic</code> <code>SolverJob</code> is told that there are no moves that it can make, and we we crash out early with an under-initialized score.</p>\n<p>All of that said, I'm not really sure what the best fix is or if there's really a bug and I'm not just making a mess of things.  I have a workaround, however:</p>\n<p>To get my stuff to work, I just needed to change the <code>@PlanningEntityCollectionProperty</code> so that it returns the concrete type rather than the interface; e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    @PlanningEntityCollectionProperty\n    @ValueRangeProvider(id = &quot;vrpName&quot;)\n    public List&lt;ImplementationEntity&gt; getEntities() {\n        return super.getLinks();\n    }\n</code></pre>\n<p>And, lastly, to the OptaPlanner Devs if you read this: it's always been unclear to me how inheritance interfaces with OptaPlanner.  Most of it is straight forward, but there has been a decent amount of &quot;guess-and-check.&quot;  It would be much appreciate, by more than just me, I'm sure, if the OptaPlanner docs had more on inheritance w.r.t. the entity classes, etc.</p>\n"}],"owner":{"account_id":17000188,"reputation":121,"user_id":12297765,"display_name":"Ryan Moser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679603114,"creation_date":1679528962,"question_id":75818178,"body_markdown":"I&#39;m starting work switching to ConstraintStreams, and part of that updating to latest OptaPlanner (i.e., `8.35.0.Final`, as of writing) from `8.22.1.Final`.\r\n\r\nSomewhere along the line, the following config XML has stopped working.  So, I&#39;m wondering, has there been a backwards-incompatible change between these two versions, w.r.t. the config xml?\r\n\r\nThe deepest I&#39;ve been able to debug so far is `DefaultConstructionHeuristicPhase` where, at line 45, `entityPlacer` returns an `Iterator` which does not `hasNext`.\r\n\r\nThis CH phase is the last before the LS phase, and I&#39;m only seeing an exception once the LS phase starts which is due to an uninitialized score.\r\n\r\nI&#39;ll try tomorrow morning to get a minimum reproducer together with the examples but, for now, this is the best I&#39;ve got.  I figure somebody might see the issue immediately.\r\n\r\n```xml\r\n    &lt;constructionHeuristic&gt;\r\n        &lt;cacheType&gt;PHASE&lt;/cacheType&gt;\r\n        &lt;queuedEntityPlacer&gt;\r\n            &lt;entitySelector id=&quot;id&quot;&gt;\r\n                &lt;entityClass&gt;com.blah.MyClass&lt;/entityClass&gt;\r\n            &lt;/entitySelector&gt;\r\n            &lt;cartesianProductMoveSelector&gt;\r\n                &lt;selectedCountLimit&gt;200&lt;/selectedCountLimit&gt;\r\n                &lt;changeMoveSelector&gt;\r\n                    &lt;entitySelector mimicSelectorRef=&quot;id&quot; /&gt;\r\n                    &lt;valueSelector variableName=&quot;pv1&quot; /&gt;\r\n                &lt;/changeMoveSelector&gt;\r\n                &lt;changeMoveSelector&gt;\r\n                    &lt;entitySelector mimicSelectorRef=&quot;id&quot; /&gt;\r\n                    &lt;valueSelector variableName=&quot;pv2&quot; /&gt;\r\n                &lt;/changeMoveSelector&gt;\r\n                &lt;changeMoveSelector&gt;\r\n                    &lt;entitySelector mimicSelectorRef=&quot;id&quot; /&gt;\r\n                    &lt;valueSelector variableName=&quot;pv3&quot; /&gt;\r\n                &lt;/changeMoveSelector&gt;\r\n                &lt;changeMoveSelector&gt;\r\n                    &lt;entitySelector mimicSelectorRef=&quot;id&quot; /&gt;\r\n                    &lt;valueSelector variableName=&quot;pv4&quot; /&gt;\r\n                &lt;/changeMoveSelector&gt;\r\n            &lt;/cartesianProductMoveSelector&gt;\r\n        &lt;/queuedEntityPlacer&gt;\r\n    &lt;/constructionHeuristic&gt;\r\n```\r\n\r\nDespite this being a minor version increase, this version bump introduced several backwards-incompatible changes, it seems.  So far, they have been minor, but I can&#39;t be sure that something in this config has been deprecated.","title":"Has OptaPlanner&#39;s SolverConfig changed significantly mid 8.x?","body":"<p>I'm starting work switching to ConstraintStreams, and part of that updating to latest OptaPlanner (i.e., <code>8.35.0.Final</code>, as of writing) from <code>8.22.1.Final</code>.</p>\n<p>Somewhere along the line, the following config XML has stopped working.  So, I'm wondering, has there been a backwards-incompatible change between these two versions, w.r.t. the config xml?</p>\n<p>The deepest I've been able to debug so far is <code>DefaultConstructionHeuristicPhase</code> where, at line 45, <code>entityPlacer</code> returns an <code>Iterator</code> which does not <code>hasNext</code>.</p>\n<p>This CH phase is the last before the LS phase, and I'm only seeing an exception once the LS phase starts which is due to an uninitialized score.</p>\n<p>I'll try tomorrow morning to get a minimum reproducer together with the examples but, for now, this is the best I've got.  I figure somebody might see the issue immediately.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;constructionHeuristic&gt;\n        &lt;cacheType&gt;PHASE&lt;/cacheType&gt;\n        &lt;queuedEntityPlacer&gt;\n            &lt;entitySelector id=&quot;id&quot;&gt;\n                &lt;entityClass&gt;com.blah.MyClass&lt;/entityClass&gt;\n            &lt;/entitySelector&gt;\n            &lt;cartesianProductMoveSelector&gt;\n                &lt;selectedCountLimit&gt;200&lt;/selectedCountLimit&gt;\n                &lt;changeMoveSelector&gt;\n                    &lt;entitySelector mimicSelectorRef=&quot;id&quot; /&gt;\n                    &lt;valueSelector variableName=&quot;pv1&quot; /&gt;\n                &lt;/changeMoveSelector&gt;\n                &lt;changeMoveSelector&gt;\n                    &lt;entitySelector mimicSelectorRef=&quot;id&quot; /&gt;\n                    &lt;valueSelector variableName=&quot;pv2&quot; /&gt;\n                &lt;/changeMoveSelector&gt;\n                &lt;changeMoveSelector&gt;\n                    &lt;entitySelector mimicSelectorRef=&quot;id&quot; /&gt;\n                    &lt;valueSelector variableName=&quot;pv3&quot; /&gt;\n                &lt;/changeMoveSelector&gt;\n                &lt;changeMoveSelector&gt;\n                    &lt;entitySelector mimicSelectorRef=&quot;id&quot; /&gt;\n                    &lt;valueSelector variableName=&quot;pv4&quot; /&gt;\n                &lt;/changeMoveSelector&gt;\n            &lt;/cartesianProductMoveSelector&gt;\n        &lt;/queuedEntityPlacer&gt;\n    &lt;/constructionHeuristic&gt;\n</code></pre>\n<p>Despite this being a minor version increase, this version bump introduced several backwards-incompatible changes, it seems.  So far, they have been minor, but I can't be sure that something in this config has been deprecated.</p>\n"},{"tags":["java","netbeans","web-applications","pom.xml"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1679775930,"post_id":75827534,"comment_id":133782428,"body_markdown":"As posted in the answer from acrastt, your `&lt;version&gt;` for maven-dependency-plugin [should be 3.1.0](https://people.apache.org/~jvanzyl/maven-3.1.1/docs/3.1.0/release-notes.html), not 3.0: _&quot;Maven 3.1.0 is the first official release of the 3.1.x series&quot;_. But if you want to use version 3.1.x then [use the more recent version 3.1.2 instead](https://blogs.apache.org/maven/entry/apache-maven-dependency-plugin-version2). Just copy/paste the pom.xml information from that page to avoid the risk of a typo. Update your question if you still have problems after doing that.","body":"As posted in the answer from acrastt, your <code>&lt;version&gt;</code> for maven-dependency-plugin <a href=\"https://people.apache.org/~jvanzyl/maven-3.1.1/docs/3.1.0/release-notes.html\" rel=\"nofollow noreferrer\">should be 3.1.0</a>, not 3.0: <i>&quot;Maven 3.1.0 is the first official release of the 3.1.x series&quot;</i>. But if you want to use version 3.1.x then <a href=\"https://blogs.apache.org/maven/entry/apache-maven-dependency-plugin-version2\" rel=\"nofollow noreferrer\">use the more recent version 3.1.2 instead</a>. Just copy/paste the pom.xml information from that page to avoid the risk of a typo. Update your question if you still have problems after doing that."}],"answers":[{"tags":[],"owner":{"account_id":24877651,"reputation":106,"user_id":18751272,"display_name":"acrastt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679602594,"creation_date":1679602594,"answer_id":75827631,"question_id":75827534,"body_markdown":"Silly mistake but its version is 3.1.0 not 3.1, also 3.5.0 is available I recommend using the newest version(Since there is very low chance of bugs).","title":"Plugin org.apache.maven.plugins:maven-dependency-plugin:3.1 or one of its dependencies could not be resolved","body":"<p>Silly mistake but its version is 3.1.0 not 3.1, also 3.5.0 is available I recommend using the newest version(Since there is very low chance of bugs).</p>\n"}],"owner":{"account_id":28107790,"reputation":21,"user_id":21476120,"display_name":"treynol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679602594,"creation_date":1679601793,"question_id":75827534,"body_markdown":"I&#39;m creating a web application using NetBeans. I&#39;m new to both NetBeans and creating web applications. So I&#39;ll be honest, I&#39;m not exactly sure what&#39;s happening. \r\n\r\n While trying to run the default hello world index.jsp, I run into the error :\r\n&gt; Plugin org.apache.maven.plugins:maven-dependency-plugin:3.1 or one of its dependencies could not be resolved: org.apache.maven.plugins:maven-dependency-plugin:jar:3.1 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n\r\nFull Log:\r\n```\r\nDeploying on Apache Tomcat or TomEE\r\n    profile mode: false\r\n    debug mode: false\r\n    force redeploy: true\r\nStarting Tomcat process...\r\nWaiting for Tomcat...\r\nStarting of Tomcat failed.\r\ncd C:\\Users\\Thomas\\Desktop\\INF 124\\assignment-4-team-19\\inf124site; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-19&quot; cmd /c &quot;\\&quot;C:\\\\Program Files\\\\NetBeans-17\\\\netbeans\\\\java\\\\maven\\\\bin\\\\mvn.cmd\\&quot; -Dnetbeans.deploy=true -Dexec.vmArgs= -Dexec.appArgs= \\&quot;-Dmaven.ext.class.path=C:\\\\Program Files\\\\NetBeans-17\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; --no-transfer-progress package&quot;\r\nScanning for projects...\r\n\r\n----------------------&lt; com.mycompany:inf124site &gt;----------------------\r\nBuilding inf124site 1.0-SNAPSHOT\r\n--------------------------------[ war ]---------------------------------\r\nThe POM for org.apache.maven.plugins:maven-dependency-plugin:jar:3.1 is missing, no dependency information available\r\n------------------------------------------------------------------------\r\nBUILD FAILURE\r\n------------------------------------------------------------------------\r\nTotal time:  0.076 s\r\nFinished at: 2023-03-23T12:46:27-07:00\r\n------------------------------------------------------------------------\r\nPlugin org.apache.maven.plugins:maven-dependency-plugin:3.1 or one of its dependencies could not be resolved: org.apache.maven.plugins:maven-dependency-plugin:jar:3.1 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException\r\n```\r\nMy pom file:\r\n\r\n```\r\nproject xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;inf124site&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;inf124site&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.6&lt;/source&gt;\r\n                    &lt;target&gt;1.6&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;6.0&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nSo far I&#39;ve tried some stuff I&#39;ve seen on here. \r\n1. Updating the version numbers in my pom file.\r\n2. Reinstalling Maven.\r\n3. Performing mvn clean install -U (which fails and creates its own error)\r\n4. deleting different versions of various folders in maven under C:\\Users\\Thomas\\.m2\\repository\\org\\apache\\maven\\plugins\r\n5. recreating the NetBeans project\r\n6. Trying different version of java (19 -&gt; 17)\r\n\r\nAll I&#39;m trying to do is display a simple hello world webpage so that I can further develop a page. Not sure what to do. I appreciate any guidance!","title":"Plugin org.apache.maven.plugins:maven-dependency-plugin:3.1 or one of its dependencies could not be resolved","body":"<p>I'm creating a web application using NetBeans. I'm new to both NetBeans and creating web applications. So I'll be honest, I'm not exactly sure what's happening.</p>\n<p>While trying to run the default hello world index.jsp, I run into the error :</p>\n<blockquote>\n<p>Plugin org.apache.maven.plugins:maven-dependency-plugin:3.1 or one of its dependencies could not be resolved: org.apache.maven.plugins:maven-dependency-plugin:jar:3.1 was not found in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]</p>\n</blockquote>\n<p>Full Log:</p>\n<pre><code>Deploying on Apache Tomcat or TomEE\n    profile mode: false\n    debug mode: false\n    force redeploy: true\nStarting Tomcat process...\nWaiting for Tomcat...\nStarting of Tomcat failed.\ncd C:\\Users\\Thomas\\Desktop\\INF 124\\assignment-4-team-19\\inf124site; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-19&quot; cmd /c &quot;\\&quot;C:\\\\Program Files\\\\NetBeans-17\\\\netbeans\\\\java\\\\maven\\\\bin\\\\mvn.cmd\\&quot; -Dnetbeans.deploy=true -Dexec.vmArgs= -Dexec.appArgs= \\&quot;-Dmaven.ext.class.path=C:\\\\Program Files\\\\NetBeans-17\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; --no-transfer-progress package&quot;\nScanning for projects...\n\n----------------------&lt; com.mycompany:inf124site &gt;----------------------\nBuilding inf124site 1.0-SNAPSHOT\n--------------------------------[ war ]---------------------------------\nThe POM for org.apache.maven.plugins:maven-dependency-plugin:jar:3.1 is missing, no dependency information available\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time:  0.076 s\nFinished at: 2023-03-23T12:46:27-07:00\n------------------------------------------------------------------------\nPlugin org.apache.maven.plugins:maven-dependency-plugin:3.1 or one of its dependencies could not be resolved: org.apache.maven.plugins:maven-dependency-plugin:jar:3.1 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException\n</code></pre>\n<p>My pom file:</p>\n<pre><code>project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;inf124site&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;inf124site&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.6&lt;/source&gt;\n                    &lt;target&gt;1.6&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                    &lt;version&gt;6.0&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>So far I've tried some stuff I've seen on here.</p>\n<ol>\n<li>Updating the version numbers in my pom file.</li>\n<li>Reinstalling Maven.</li>\n<li>Performing mvn clean install -U (which fails and creates its own error)</li>\n<li>deleting different versions of various folders in maven under C:\\Users\\Thomas.m2\\repository\\org\\apache\\maven\\plugins</li>\n<li>recreating the NetBeans project</li>\n<li>Trying different version of java (19 -&gt; 17)</li>\n</ol>\n<p>All I'm trying to do is display a simple hello world webpage so that I can further develop a page. Not sure what to do. I appreciate any guidance!</p>\n"},{"tags":["java","linux","security","spring-security","hash"],"comments":[{"owner":{"account_id":48770,"reputation":2377,"user_id":145013,"accept_rate":94,"display_name":"Manuel Faux"},"score":1,"creation_date":1285185207,"post_id":3773061,"comment_id":3993984,"body_markdown":"Are you sure the first hash is a 256 bit one? It only has 160 bits. The second one seems reasonable with its 256 bits.","body":"Are you sure the first hash is a 256 bit one? It only has 160 bits. The second one seems reasonable with its 256 bits."},{"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"score":0,"creation_date":1285201398,"post_id":3773061,"comment_id":3996146,"body_markdown":"@Manuel -- Yes, I got it mixed up...fixed.","body":"@Manuel -- Yes, I got it mixed up...fixed."},{"owner":{"account_id":39470,"reputation":40063,"user_id":113848,"accept_rate":83,"display_name":"legoscia"},"score":0,"creation_date":1374853566,"post_id":3773061,"comment_id":26119520,"body_markdown":"possible duplicate of [Generating a sha256 from the Linux command line](http://stackoverflow.com/questions/3358420/generating-a-sha256-from-the-linux-command-line)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3358420/generating-a-sha256-from-the-linux-command-line\">Generating a sha256 from the Linux command line</a>"},{"owner":{"account_id":2795104,"reputation":29495,"user_id":2404470,"accept_rate":83,"display_name":"Zameer Ansari"},"score":0,"creation_date":1555870800,"post_id":3773061,"comment_id":98241538,"body_markdown":"@HDave Check your results here https://sha256generator.online/","body":"@HDave Check your results here <a href=\"https://sha256generator.online/\" rel=\"nofollow noreferrer\">sha256generator.online</a>"}],"answers":[{"tags":[],"owner":{"account_id":41838,"reputation":475,"user_id":121712,"display_name":"PaddyDwyer"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1679602086,"creation_date":1285185299,"answer_id":3773098,"question_id":3773061,"body_markdown":"I ran into this problem while doing something similar.\r\n\r\nWhat I was doing was something like `echo string | sha256sum`, I think.\r\n\r\nI&#39;d get a different result when I ran this through the php hash generator. The reason was because of the new line that echo added.\r\n\r\nI don&#39;t know if you&#39;re using echo but if you are try `echo -n string | sha256sum`.","title":"Linux command line SHA-256 hash different from online tools?","body":"<p>I ran into this problem while doing something similar.</p>\n<p>What I was doing was something like <code>echo string | sha256sum</code>, I think.</p>\n<p>I'd get a different result when I ran this through the php hash generator. The reason was because of the new line that echo added.</p>\n<p>I don't know if you're using echo but if you are try <code>echo -n string | sha256sum</code>.</p>\n"},{"tags":[],"owner":{"account_id":172189,"reputation":91218,"user_id":400056,"accept_rate":81,"display_name":"DarkDust"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1285185370,"creation_date":1285185370,"answer_id":3773111,"question_id":3773061,"body_markdown":"According to `echo -n &quot;admin&quot; | shasum -a 256` on my Mac OS X, the later is correct. Note that you need to do `echo -n`, otherwise there&#39;s a `\\n` in the string that is hashed as well. Since `shasum` is a Perl script, you might have it as well. If so, try to use that.","title":"Linux command line SHA-256 hash different from online tools?","body":"<p>According to <code>echo -n \"admin\" | shasum -a 256</code> on my Mac OS X, the later is correct. Note that you need to do <code>echo -n</code>, otherwise there's a <code>\\n</code> in the string that is hashed as well. Since <code>shasum</code> is a Perl script, you might have it as well. If so, try to use that.</p>\n"}],"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9481,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3773098,"answer_count":2,"score":6,"last_activity_date":1679602086,"creation_date":1285185044,"question_id":3773061,"body_markdown":"I was looking for a quick way to compute the SHA-256 hash of a password so I could upload some test data into a database that we are using Spring Security to authenticate against.\r\n\r\nFirst I found the linux utility `sha256sum` and ran it again the password &quot;admin&quot; and got this result:\r\n\r\n    fc8252c8dc55839967c58b9ad755a59b61b67c13227ddae4bd3f78a38bf394f7\r\n\r\nThen I tried an couple online services (for fun):\r\n\r\nhttp://www.xorbin.com/tools/sha256-hash-calculator\r\nhttp://www.fileformat.info/tool/hash.htm?text=admin\r\n\r\nand both gave me this very different result:\r\n\r\n    8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918\r\n\r\nWhy are they different and which is correct?","title":"Linux command line SHA-256 hash different from online tools?","body":"<p>I was looking for a quick way to compute the SHA-256 hash of a password so I could upload some test data into a database that we are using Spring Security to authenticate against.</p>\n\n<p>First I found the linux utility <code>sha256sum</code> and ran it again the password \"admin\" and got this result:</p>\n\n<pre><code>fc8252c8dc55839967c58b9ad755a59b61b67c13227ddae4bd3f78a38bf394f7\n</code></pre>\n\n<p>Then I tried an couple online services (for fun):</p>\n\n<p><a href=\"http://www.xorbin.com/tools/sha256-hash-calculator\" rel=\"nofollow noreferrer\">http://www.xorbin.com/tools/sha256-hash-calculator</a>\n<a href=\"http://www.fileformat.info/tool/hash.htm?text=admin\" rel=\"nofollow noreferrer\">http://www.fileformat.info/tool/hash.htm?text=admin</a></p>\n\n<p>and both gave me this very different result:</p>\n\n<pre><code>8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918\n</code></pre>\n\n<p>Why are they different and which is correct?</p>\n"},{"tags":["java","nio","file-ownership"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1679328220,"post_id":75792431,"comment_id":133698015,"body_markdown":"I&#39;d expect the OS already blocks users from accessing files they shouldn&#39;t. That should extend to files read/written by a JVM started by that user.","body":"I&#39;d expect the OS already blocks users from accessing files they shouldn&#39;t. That should extend to files read/written by a JVM started by that user."},{"owner":{"account_id":8821317,"reputation":31,"user_id":6591086,"display_name":"Basic7x7"},"score":0,"creation_date":1679328888,"post_id":75792431,"comment_id":133698193,"body_markdown":"@Jorn The problem is not that the file is written by an admin and the user can&#39;t read it. The opposite is the case. A user wrote a malicious file and the admin processes it.","body":"@Jorn The problem is not that the file is written by an admin and the user can&#39;t read it. The opposite is the case. A user wrote a malicious file and the admin processes it."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679330385,"creation_date":1679330385,"answer_id":75792994,"question_id":75792431,"body_markdown":"If you already have a principal of the file owner, the question would remain how to reliably get the current user running the application.\r\n\r\nMaybe this solution can help? However it seems to make use of Sprint security: https://www.javaguides.net/2019/06/spring-security-get-current-logged-in-user-details.html\r\n\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    UserDetails userDetails = (UserDetails) authentication.getPrincipal();\r\n    \r\n    // getUsername() - Returns the username used to authenticate the user.\r\n    System.out.println(&quot;User name: &quot; + userDetails.getUsername());\r\n    \r\n    // getAuthorities() - Returns the authorities granted to the user.\r\n    System.out.println(&quot;User has authorities: &quot; + userDetails.getAuthorities());","title":"How to check if a file is owned by the current user in Java?","body":"<p>If you already have a principal of the file owner, the question would remain how to reliably get the current user running the application.</p>\n<p>Maybe this solution can help? However it seems to make use of Sprint security: <a href=\"https://www.javaguides.net/2019/06/spring-security-get-current-logged-in-user-details.html\" rel=\"nofollow noreferrer\">https://www.javaguides.net/2019/06/spring-security-get-current-logged-in-user-details.html</a></p>\n<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\nUserDetails userDetails = (UserDetails) authentication.getPrincipal();\n\n// getUsername() - Returns the username used to authenticate the user.\nSystem.out.println(&quot;User name: &quot; + userDetails.getUsername());\n\n// getAuthorities() - Returns the authorities granted to the user.\nSystem.out.println(&quot;User has authorities: &quot; + userDetails.getAuthorities());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679601274,"creation_date":1679601274,"answer_id":75827473,"question_id":75792431,"body_markdown":"If you can reliably tell the owner of a file but not the owner of the process we could combine those two: create a temporary file, get the owner and remove the file again.\r\n\r\n    File tempFile = File.createTempFile(&quot;MyAppName-&quot;, &quot;.tmp&quot;);\r\n    UserPrincipal u = Files.getOwner(tempFile.toPath());\r\n    tempFile.deleteOnExit();\r\n    tempFile.delete();\r\n    \r\n    // UserPrincipal u will contain the current process user.","title":"How to check if a file is owned by the current user in Java?","body":"<p>If you can reliably tell the owner of a file but not the owner of the process we could combine those two: create a temporary file, get the owner and remove the file again.</p>\n<pre><code>File tempFile = File.createTempFile(&quot;MyAppName-&quot;, &quot;.tmp&quot;);\nUserPrincipal u = Files.getOwner(tempFile.toPath());\ntempFile.deleteOnExit();\ntempFile.delete();\n\n// UserPrincipal u will contain the current process user.\n</code></pre>\n"}],"owner":{"account_id":8821317,"reputation":31,"user_id":6591086,"display_name":"Basic7x7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75827473,"answer_count":2,"score":0,"last_activity_date":1679601274,"creation_date":1679327192,"question_id":75792431,"body_markdown":"I want to show a warning if a file is read that is not owned by the user that started the JVM.\r\n\r\nIn my application, this file can make the program write arbitrary files. So I want to reduce the risk of a privilege escalation attack, if an admin processes this file.\r\n\r\n```java\r\nFiles.getOwner(path)\r\n```\r\nretruns a `UserPrincipal` that represents the file owner. But I can&#39;t find a platform independent way to check if this `UserPrincipal` matches the current user.\r\n\r\nI could use\r\n```java\r\nSystem.getProperty(&quot;user.name&quot;)\r\n```\r\nto get the current user and try to match the names. But these properties can be manipulated and this doesn&#39;t work if the file owner is a group, for example.","title":"How to check if a file is owned by the current user in Java?","body":"<p>I want to show a warning if a file is read that is not owned by the user that started the JVM.</p>\n<p>In my application, this file can make the program write arbitrary files. So I want to reduce the risk of a privilege escalation attack, if an admin processes this file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.getOwner(path)\n</code></pre>\n<p>retruns a <code>UserPrincipal</code> that represents the file owner. But I can't find a platform independent way to check if this <code>UserPrincipal</code> matches the current user.</p>\n<p>I could use</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.getProperty(&quot;user.name&quot;)\n</code></pre>\n<p>to get the current user and try to match the names. But these properties can be manipulated and this doesn't work if the file owner is a group, for example.</p>\n"},{"tags":["java","spring","spring-boot","springdoc"],"comments":[{"owner":{"account_id":16745014,"reputation":1464,"user_id":12103573,"display_name":"Seydazimov Nurbol"},"score":1,"creation_date":1579671307,"post_id":59817409,"comment_id":105839285,"body_markdown":"However, I am able to get the documentation from http://localhost:8080/v3/api-docs\nwhich gives me the json file.","body":"However, I am able to get the documentation from <a href=\"http://localhost:8080/v3/api-docs\" rel=\"nofollow noreferrer\">localhost:8080/v3/api-docs</a> which gives me the json file."},{"owner":{"account_id":1217752,"reputation":583,"user_id":1185014,"accept_rate":100,"display_name":"juanmorschrott"},"score":0,"creation_date":1637930464,"post_id":59817409,"comment_id":123960606,"body_markdown":"Any solution for this problem? I&#180;m having the same issue with spring-boot 2.6.0.","body":"Any solution for this problem? I&#180;m having the same issue with spring-boot 2.6.0."}],"answers":[{"tags":[],"owner":{"display_name":"user11878890"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1679601074,"creation_date":1579790360,"answer_id":59881043,"question_id":59817409,"body_markdown":"By default, you just need to add the dependency of the springdoc-openapi-webflux-ui.\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2.32&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n\r\nYou can have a look at the demos code:\r\n\r\n - https://github.com/springdoc/springdoc-openapi-demos.git \r\n\r\nYou can check you classpath, and try to run the application from outside the IDE.\r\nMake sure you have the correct settings of your IDE depending on your build Tools:\r\n\r\n - https://github.com/springdoc/springdoc-openapi/issues/361\r\n\r\nAlso, please check if you are using @EnableWebFlux. \r\n\r\nAs stated in the Spring Boot reference documentation, when you use @EnableWebFlux, you tell Spring Boot that you wish to take full control over the WebFlux configuration and disable all auto-configuration for this (including static resources):\r\n\r\n- https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-webflux-auto-configuration\r\n\r\nYou have two solutions:\r\n\r\n 1. Remove @EnableWebFlux\r\n 2. If you really want take control of Bean creation and you want absolutely to use @EnableWebFlux, then you need to add an implementation of WebFluxConfigurer.\r\n\r\nThis has been discussed here:\r\n\r\n- https://github.com/springdoc/springdoc-openapi/issues/402\r\n","title":"How to display app API documentation by using springdoc-openapi-webflux-ui?","body":"<p>By default, you just need to add the dependency of the springdoc-openapi-webflux-ui.</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.2.32&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>You can have a look at the demos code:</p>\n<ul>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi-demos.git\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi-demos.git</a></li>\n</ul>\n<p>You can check you classpath, and try to run the application from outside the IDE.\nMake sure you have the correct settings of your IDE depending on your build Tools:</p>\n<ul>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/361\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/361</a></li>\n</ul>\n<p>Also, please check if you are using @EnableWebFlux.</p>\n<p>As stated in the Spring Boot reference documentation, when you use @EnableWebFlux, you tell Spring Boot that you wish to take full control over the WebFlux configuration and disable all auto-configuration for this (including static resources):</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-webflux-auto-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-webflux-auto-configuration</a></li>\n</ul>\n<p>You have two solutions:</p>\n<ol>\n<li>Remove @EnableWebFlux</li>\n<li>If you really want take control of Bean creation and you want absolutely to use @EnableWebFlux, then you need to add an implementation of WebFluxConfigurer.</li>\n</ol>\n<p>This has been discussed here:</p>\n<ul>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/402\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/402</a></li>\n</ul>\n"}],"owner":{"account_id":16745014,"reputation":1464,"user_id":12103573,"display_name":"Seydazimov Nurbol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15856,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":1,"score":18,"last_activity_date":1679601074,"creation_date":1579497971,"question_id":59817409,"body_markdown":"I read this https://springdoc.org/demos.html to use springdoc-openapi-webflux-ui. As documentation said I just added `springdoc-openapi-webflux-ui` library to my app: `implementation(&#39;org.springdoc:springdoc-openapi-webflux-ui:1.2.26&#39;)`\r\n\r\nAdditionally, I customized path to API in application.yml:\r\n```\r\nspringdoc:\r\n  swagger-ui:\r\n    path: /swagger-ui.html\r\n``` \r\n\r\nWhen I start app, and go to http://localhost:8080/swagger-ui.html, it redirects me to http://localhost:8080/webjars/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config. In that page, I got an error:\r\n```\r\nWhitelabel Error Page\r\nThis application has no configured error view, so you are seeing this as a fallback.\r\nMon Jan 20 05:16:10 UTC 2020\r\n[7192d9dc] There was an unexpected error (type=Not Found, status=404).\r\nNo matching handler\r\n```\r\n\r\nQuestion is: Should I add additional configurations to my app to show API documentation?\r\n\r\nPS: I use spring.boot 2.2.2:RELEASE","title":"How to display app API documentation by using springdoc-openapi-webflux-ui?","body":"<p>I read this <a href=\"https://springdoc.org/demos.html\" rel=\"nofollow noreferrer\">https://springdoc.org/demos.html</a> to use springdoc-openapi-webflux-ui. As documentation said I just added <code>springdoc-openapi-webflux-ui</code> library to my app: <code>implementation('org.springdoc:springdoc-openapi-webflux-ui:1.2.26')</code></p>\n<p>Additionally, I customized path to API in application.yml:</p>\n<pre><code>springdoc:\n  swagger-ui:\n    path: /swagger-ui.html\n</code></pre>\n<p>When I start app, and go to http://localhost:8080/swagger-ui.html, it redirects me to http://localhost:8080/webjars/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config. In that page, I got an error:</p>\n<pre><code>Whitelabel Error Page\nThis application has no configured error view, so you are seeing this as a fallback.\nMon Jan 20 05:16:10 UTC 2020\n[7192d9dc] There was an unexpected error (type=Not Found, status=404).\nNo matching handler\n</code></pre>\n<p>Question is: Should I add additional configurations to my app to show API documentation?</p>\n<p>PS: I use spring.boot 2.2.2:RELEASE</p>\n"},{"tags":["javascript","java","reactjs","typescript","gwt"],"comments":[{"owner":{"account_id":4600649,"reputation":209653,"user_id":3731501,"accept_rate":77,"display_name":"Estus Flask"},"score":0,"creation_date":1645570891,"post_id":71228830,"comment_id":125906161,"body_markdown":"React and TS can be used together, they aren&#39;t two parts. Quite the opposite, it&#39;s common for framework-driven store (redux, etc) to incorporate business logic. You can have inline widgets instead of iframes, this depends on your case. Vue is generally more flexible than React in unusual scenarios.","body":"React and TS can be used together, they aren&#39;t two parts. Quite the opposite, it&#39;s common for framework-driven store (redux, etc) to incorporate business logic. You can have inline widgets instead of iframes, this depends on your case. Vue is generally more flexible than React in unusual scenarios."}],"owner":{"account_id":10317888,"reputation":246,"user_id":7611678,"display_name":"siawo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679600841,"creation_date":1645567154,"question_id":71228830,"body_markdown":"I have a JS library that is embedded into multiple other websites.\r\nThis library creates\r\n1) Widgets (like the usual chat widget seen on multiple apps). These widgets are primarily iFrames\r\n2) Also it monitors the application state to show certain messages to users on certain actions. This is primarily logic that listens\r\nto events on page, tracks all mutations etc.\r\n\r\nThis library is entirely coded in GWT. Facing problems in retaining and hiring FrontEnd developers to work in Java.\r\nThinking of moving to React for widgets and Typescript for logic.\r\nQueries:\r\n1) Is React + Typescript a good choice ? I evaluated Vue, Svelte. Are there any other frameworks/libraries that can be considered ?\r\n[Note that this library sits on top of multiple websites built in variety of ways. Primary requirement is to avoid any kind of javascript namespace conflicts]\r\n\r\n2) For widgets where most of the logic is UI related, and which are restricted to iFrames, we are thinking of rewriting the code in React. Is there something else we can do ?\r\n\r\n3) For logic(where there is no UI related code) , is there a way I can directly convert all GWT code to human readable and maintainable Typescript at once ?\r\n4) Any other way to undertake this overall migration ?","title":"Migrate from GWT to JS frameworks","body":"<p>I have a JS library that is embedded into multiple other websites.\nThis library creates</p>\n<ol>\n<li>Widgets (like the usual chat widget seen on multiple apps). These widgets are primarily iFrames</li>\n<li>Also it monitors the application state to show certain messages to users on certain actions. This is primarily logic that listens\nto events on page, tracks all mutations etc.</li>\n</ol>\n<p>This library is entirely coded in GWT. Facing problems in retaining and hiring FrontEnd developers to work in Java.\nThinking of moving to React for widgets and Typescript for logic.\nQueries:</p>\n<ol>\n<li><p>Is React + Typescript a good choice ? I evaluated Vue, Svelte. Are there any other frameworks/libraries that can be considered ?\n[Note that this library sits on top of multiple websites built in variety of ways. Primary requirement is to avoid any kind of javascript namespace conflicts]</p>\n</li>\n<li><p>For widgets where most of the logic is UI related, and which are restricted to iFrames, we are thinking of rewriting the code in React. Is there something else we can do ?</p>\n</li>\n<li><p>For logic(where there is no UI related code) , is there a way I can directly convert all GWT code to human readable and maintainable Typescript at once ?</p>\n</li>\n<li><p>Any other way to undertake this overall migration ?</p>\n</li>\n</ol>\n"},{"tags":["java","excel","excel-formula","apache-poi","jxls"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1679656278,"post_id":75827378,"comment_id":133764084,"body_markdown":"If you create a file in Excel with that formula, and read it back with Apache POI, what did Excel transform that formula into in the file?","body":"If you create a file in Excel with that formula, and read it back with Apache POI, what did Excel transform that formula into in the file?"},{"owner":{"account_id":28107888,"reputation":11,"user_id":21476196,"display_name":"Bikram Singh"},"score":0,"creation_date":1679678819,"post_id":75827378,"comment_id":133770194,"body_markdown":"When the Apache POI creates the excel transformed file, I get : \n= IF(&quot;Cash Flow&quot;=&quot;Cash Flow&quot;, J44,J63,J82, 0) When the input is : $[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, J36, 0)]\nI want = IF(&quot;Cash Flow&quot;=&quot;Cash Flow&quot;, J44, 0) for next jx:each iteration and = IF(&quot;Cash Flow&quot;=&quot;Cash Flow&quot;, J63, 0) for next iteration. not sure why i&#39;m getting all the possible iterated cells (J44,J63,J82) in each iteration.","body":"When the Apache POI creates the excel transformed file, I get :  = IF(&quot;Cash Flow&quot;=&quot;Cash Flow&quot;, J44,J63,J82, 0) When the input is : $[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, J36, 0)] I want = IF(&quot;Cash Flow&quot;=&quot;Cash Flow&quot;, J44, 0) for next jx:each iteration and = IF(&quot;Cash Flow&quot;=&quot;Cash Flow&quot;, J63, 0) for next iteration. not sure why i&#39;m getting all the possible iterated cells (J44,J63,J82) in each iteration."}],"owner":{"account_id":28107888,"reputation":11,"user_id":21476196,"display_name":"Bikram Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679600567,"creation_date":1679600450,"question_id":75827378,"body_markdown":"I&#39;m new to JXLS library. Inside Jx:each area, I am using IF statement in a cell, K36, which is referencing a cell J36: $[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, J36, 0)] \r\nwhen i run the template i&#39;m getting error : 2023-03-23 12:02:33,566 ERROR [org.jxls.transform.poi.PoiTransformer(https-openssl-nio-8445-exec-7)] - Failed to set formula = IF(&quot;Cash Flow&quot;=&quot;Cash Flow&quot;, J44,J63,J82, 0) into cell = &#39;Journal Entries&#39;!K44\r\norg.apache.poi.ss.formula.FormulaParseException: Too many arguments to function &#39;IF&#39;. At most 3 were expected but got 5.\r\n\r\nI&#39;m trying to find if this even allowed if yes how to fix this error.\r\n\r\nI tried several combinations for IF statement, listing few below, but non of them work. J36 is a sum of other cells.\r\n```\r\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, SUM(E36:I36), 0)]\r\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, SUM(E36, F36, H36 + I36, 0)]\r\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, (J36), 0)]\r\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, $J36, 0)]\r\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, {J36}, 0)]\r\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, ${J36}, 0)]\r\n```","title":"org.apache.poi.ss.formula.FormulaParseException: Too many arguments to function &#39;IF&#39;. At most 3 were expected but got 5","body":"<p>I'm new to JXLS library. Inside Jx:each area, I am using IF statement in a cell, K36, which is referencing a cell J36: $[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, J36, 0)]\nwhen i run the template i'm getting error : 2023-03-23 12:02:33,566 ERROR [org.jxls.transform.poi.PoiTransformer(https-openssl-nio-8445-exec-7)] - Failed to set formula = IF(&quot;Cash Flow&quot;=&quot;Cash Flow&quot;, J44,J63,J82, 0) into cell = 'Journal Entries'!K44\norg.apache.poi.ss.formula.FormulaParseException: Too many arguments to function 'IF'. At most 3 were expected but got 5.</p>\n<p>I'm trying to find if this even allowed if yes how to fix this error.</p>\n<p>I tried several combinations for IF statement, listing few below, but non of them work. J36 is a sum of other cells.</p>\n<pre><code>$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, SUM(E36:I36), 0)]\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, SUM(E36, F36, H36 + I36, 0)]\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, (J36), 0)]\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, $J36, 0)]\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, {J36}, 0)]\n$[IF(&quot;${account.type}&quot;=&quot;Cash Flow&quot;, ${J36}, 0)]\n</code></pre>\n"},{"tags":["java","csv","parsing","csv-parser"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679600239,"post_id":75827307,"comment_id":133755074,"body_markdown":"You&#39;re not passing a parameter to `field.add` there&#39;s no void version for `List`","body":"You&#39;re not passing a parameter to <code>field.add</code> there&#39;s no void version for <code>List</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1679605537,"post_id":75827307,"comment_id":133756322,"body_markdown":"Seems to me like you have two variables with the same name. Don&#39;t you need to define your ArrayList somewhere since you have a return statement. The ArrayList variable name must be different than the String variable you get from the Scanner.","body":"Seems to me like you have two variables with the same name. Don&#39;t you need to define your ArrayList somewhere since you have a return statement. The ArrayList variable name must be different than the String variable you get from the Scanner."}],"owner":{"account_id":21324968,"reputation":17,"user_id":15697489,"display_name":"chriscondreay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679600012,"creation_date":1679600012,"question_id":75827307,"body_markdown":"I created a method using an ArrayList that is building a list from a CSV File. I am having trouble adding the String value of the field to the list. When I tried to use field.add() it gives me an error &quot;The method add(String) is undefined for the type String&quot;. How do I fix this and make it so I can add the String value to the list and return the ArrayList?\r\n```\r\n /**\r\n   * This method begins by creating a new ArrayList of Strings. It then \r\n   *     attaches a Scanner to the provided File object and uses a while\r\n   *     loop to process the file line-by-line. For each line, this method creates\r\n   *     a new Scanner object with a comma &quot;,&quot; delimiter to to enable access the\r\n   *     individual fields within the line using a second, inner while loop. As each\r\n   *     field is processed it is tracked using a counter variable starting with\r\n   *     field 1. If the current field is equal to the specified fieldFilter, the\r\n   *     String value of the field is added to the list.  Once all the lines in the \r\n   *     file have been processed, the ArrayList is returned to the caller.\r\n   * \r\n   * If Scanner throws a FileNotFoundException when instantiating the new file \r\n   *     Scanner object, catch the expection, display an error message, and exit \r\n   *     the program immediately with an exit status of 1.\r\n   * \r\n   * @param csvFile File object that contains the CSV database to process\r\n   * @param fieldFilter Field number to use for building the list\r\n   * @return ArrayList of strings that represents the desired column of data from the database.\r\n   */\r\n  public static ArrayList&lt;String&gt; buildListFromCSV(File database, int fieldFilter) {\r\n    final int ERROR_CODE = 1;\r\n\r\n    try {\r\n        Scanner fileScanner = new Scanner(database);\r\n\r\n        while (fileScanner.hasNextLine()) {\r\n          String line = fileScanner.nextLine();\r\n\r\n          Scanner lineScanner = new Scanner(line);\r\n          lineScanner.useDelimiter(&quot;,&quot;);\r\n\r\n          int fieldCounter = 1;\r\n          while (lineScanner.hasNext()) {\r\n            String field = lineScanner.next();\r\n            if (fieldCounter == fieldFilter) {\r\n              field.add();\r\n            }\r\n            fieldCounter++;\r\n          }\r\n          lineScanner.close();\r\n        }\r\n        fileScanner.close();\r\n      } catch (FileNotFoundException e) {\r\n        System.out.println(&quot;Unable to open file: &quot; + database);\r\n\t\t\t\tSystem.exit(ERROR_CODE);\r\n      }\r\n      return field;\r\n    }\r\n```","title":"Parse CSV using database and fieldFilter parameters","body":"<p>I created a method using an ArrayList that is building a list from a CSV File. I am having trouble adding the String value of the field to the list. When I tried to use field.add() it gives me an error &quot;The method add(String) is undefined for the type String&quot;. How do I fix this and make it so I can add the String value to the list and return the ArrayList?</p>\n<pre><code> /**\n   * This method begins by creating a new ArrayList of Strings. It then \n   *     attaches a Scanner to the provided File object and uses a while\n   *     loop to process the file line-by-line. For each line, this method creates\n   *     a new Scanner object with a comma &quot;,&quot; delimiter to to enable access the\n   *     individual fields within the line using a second, inner while loop. As each\n   *     field is processed it is tracked using a counter variable starting with\n   *     field 1. If the current field is equal to the specified fieldFilter, the\n   *     String value of the field is added to the list.  Once all the lines in the \n   *     file have been processed, the ArrayList is returned to the caller.\n   * \n   * If Scanner throws a FileNotFoundException when instantiating the new file \n   *     Scanner object, catch the expection, display an error message, and exit \n   *     the program immediately with an exit status of 1.\n   * \n   * @param csvFile File object that contains the CSV database to process\n   * @param fieldFilter Field number to use for building the list\n   * @return ArrayList of strings that represents the desired column of data from the database.\n   */\n  public static ArrayList&lt;String&gt; buildListFromCSV(File database, int fieldFilter) {\n    final int ERROR_CODE = 1;\n\n    try {\n        Scanner fileScanner = new Scanner(database);\n\n        while (fileScanner.hasNextLine()) {\n          String line = fileScanner.nextLine();\n\n          Scanner lineScanner = new Scanner(line);\n          lineScanner.useDelimiter(&quot;,&quot;);\n\n          int fieldCounter = 1;\n          while (lineScanner.hasNext()) {\n            String field = lineScanner.next();\n            if (fieldCounter == fieldFilter) {\n              field.add();\n            }\n            fieldCounter++;\n          }\n          lineScanner.close();\n        }\n        fileScanner.close();\n      } catch (FileNotFoundException e) {\n        System.out.println(&quot;Unable to open file: &quot; + database);\n                System.exit(ERROR_CODE);\n      }\n      return field;\n    }\n</code></pre>\n"},{"tags":["java","android","admob","native-ads","google-native-ads"],"answers":[{"tags":[],"owner":{"account_id":28106218,"reputation":73,"user_id":21474770,"display_name":"Mahmoud Samy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679599992,"creation_date":1679599992,"answer_id":75827303,"question_id":75822159,"body_markdown":"make sure u have followed the steps in this documentation : https://support.google.com/admob/answer/7187428?hl=en\r\n\r\nhope this helps ... good luck ❤️.","title":"i am not able to display native ad admob ad in between adapter list on my recycler view","body":"<p>make sure u have followed the steps in this documentation : <a href=\"https://support.google.com/admob/answer/7187428?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/admob/answer/7187428?hl=en</a></p>\n<p>hope this helps ... good luck ❤️.</p>\n"}],"owner":{"account_id":28102751,"reputation":1,"user_id":21471742,"display_name":"wide vide tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679599992,"creation_date":1679569318,"question_id":75822159,"body_markdown":"i want to display native ads in between adpaterlist in recycler view .The native ad is not showing but the adapterlist aswell as progress bar works fine\r\n\r\n\r\n```\r\npublic RecyclerView.ViewHolder onCreateViewHolder(@NotNull ViewGroup viewGroup, int i) {\r\n        if (i == 1) {\r\n\r\n            return new MyViewHolder(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.item_template_adapter_list, viewGroup, false));//show list of items\r\n\r\n        }\r\n        if (i != 2) {\r\n            return new LoadingHolder(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.progress_view, viewGroup, false));//shows progressbar\r\n        }\r\n        return new AdHolder(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.ad_view, viewGroup, false));//this statement never called for loading native ad\r\n    }\r\n public Object getItem(int i) {\r\n        return this.posterDatas.get(i);\r\n    }\r\n\r\n    public int getItemCount() {\r\n        ArrayList&lt;Object&gt; arrayList = this.posterDatas;\r\n        if (arrayList == null) {\r\n            return 0;\r\n        }\r\n        return arrayList.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int i) {\r\n        if (this.isLoaderVisible) {\r\n            if (i == this.posterDatas.size() - 1) {\r\n                return 0;\r\n            }\r\n            if (this.posterDatas.get(i) instanceof String) {\r\n                return 2;\r\n            }\r\n            return 1;\r\n        } else if (this.posterDatas.get(i) instanceof String) {\r\n            return 2;\r\n        } else {\r\n            return 1;\r\n        }\r\n    }\r\n```\r\n\r\n` return new AdHolder(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.ad_view, viewGroup, false));`\r\nthis line is never executed thats why ad is not loading because i==2 condition never occurrs\r\n\r\n\r\n\r\n\r\ni want to show both native ad and adapterlist items in parallel. Native ad should show between adapterlist items as given in the image.Because the value of i==2 doesnt occur am not able to execute the return statement for adloader\r\n\r\n[current output](https://i.stack.imgur.com/CF5mq.jpg)\r\n\r\n[expected output](https://i.stack.imgur.com/626Ew.jpg)\r\n\r\n[full code](https://drive.google.com/file/d/11NePHYsfEyJBMB9EVtH1Pk7cvuV67BdI/view?usp=sharing) ","title":"i am not able to display native ad admob ad in between adapter list on my recycler view","body":"<p>i want to display native ads in between adpaterlist in recycler view .The native ad is not showing but the adapterlist aswell as progress bar works fine</p>\n<pre><code>public RecyclerView.ViewHolder onCreateViewHolder(@NotNull ViewGroup viewGroup, int i) {\n        if (i == 1) {\n\n            return new MyViewHolder(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.item_template_adapter_list, viewGroup, false));//show list of items\n\n        }\n        if (i != 2) {\n            return new LoadingHolder(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.progress_view, viewGroup, false));//shows progressbar\n        }\n        return new AdHolder(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.ad_view, viewGroup, false));//this statement never called for loading native ad\n    }\n public Object getItem(int i) {\n        return this.posterDatas.get(i);\n    }\n\n    public int getItemCount() {\n        ArrayList&lt;Object&gt; arrayList = this.posterDatas;\n        if (arrayList == null) {\n            return 0;\n        }\n        return arrayList.size();\n    }\n\n    @Override\n    public int getItemViewType(int i) {\n        if (this.isLoaderVisible) {\n            if (i == this.posterDatas.size() - 1) {\n                return 0;\n            }\n            if (this.posterDatas.get(i) instanceof String) {\n                return 2;\n            }\n            return 1;\n        } else if (this.posterDatas.get(i) instanceof String) {\n            return 2;\n        } else {\n            return 1;\n        }\n    }\n</code></pre>\n<p><code> return new AdHolder(LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.ad_view, viewGroup, false));</code>\nthis line is never executed thats why ad is not loading because i==2 condition never occurrs</p>\n<p>i want to show both native ad and adapterlist items in parallel. Native ad should show between adapterlist items as given in the image.Because the value of i==2 doesnt occur am not able to execute the return statement for adloader</p>\n<p><a href=\"https://i.stack.imgur.com/CF5mq.jpg\" rel=\"nofollow noreferrer\">current output</a></p>\n<p><a href=\"https://i.stack.imgur.com/626Ew.jpg\" rel=\"nofollow noreferrer\">expected output</a></p>\n<p><a href=\"https://drive.google.com/file/d/11NePHYsfEyJBMB9EVtH1Pk7cvuV67BdI/view?usp=sharing\" rel=\"nofollow noreferrer\">full code</a></p>\n"},{"tags":["java","reflection","spigot"],"comments":[{"owner":{"account_id":27602368,"reputation":11,"user_id":21067336,"display_name":"Gargant"},"score":0,"creation_date":1679597506,"post_id":75826954,"comment_id":133754483,"body_markdown":"I must mention performing the cast they did in the field results in the same error.","body":"I must mention performing the cast they did in the field results in the same error."},{"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"score":1,"creation_date":1679598228,"post_id":75826954,"comment_id":133754637,"body_markdown":"If I understood your intent correctly, `field.set(this.getDescription().getCommands(), immutableMap);` should be `field.set(this.getDescription(), immutableMap);` no? Also, if coming from `org.bukkit.plugin.PluginDescriptionFile`, https://github.com/Bukkit/Bukkit/blob/f210234e59275330f83b994e199c76f6abd41ee7/src/main/java/org/bukkit/plugin/PluginDescriptionFile.java#L219 the field is initialized with `null`,  not `ImmutableMap.of()`","body":"If I understood your intent correctly, <code>field.set(this.getDescription().getCommands(), immutableMap);</code> should be <code>field.set(this.getDescription(), immutableMap);</code> no? Also, if coming from <code>org.bukkit.plugin.PluginDescriptionFile</code>, <a href=\"https://github.com/Bukkit/Bukkit/blob/f210234e59275330f83b994e199c76f6abd41ee7/src/main/java/org/bukkit/plugin/PluginDescriptionFile.java#L219\" rel=\"nofollow noreferrer\">github.com/Bukkit/Bukkit/blob/&hellip;</a> the field is initialized with <code>null</code>,  not <code>ImmutableMap.of()</code>"},{"owner":{"account_id":27602368,"reputation":11,"user_id":21067336,"display_name":"Gargant"},"score":0,"creation_date":1679598305,"post_id":75826954,"comment_id":133754655,"body_markdown":"The `getDescription()` return an object of type `PluginDescriptionFile`. That instance contains the `commands` object I want to modify.","body":"The <code>getDescription()</code> return an object of type <code>PluginDescriptionFile</code>. That instance contains the <code>commands</code> object I want to modify."},{"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"score":0,"creation_date":1679598584,"post_id":75826954,"comment_id":133754721,"body_markdown":"I may be misunderstanding your intent but, java `Field.set` works somewhat like this:\nthe first param is the object that containts `field`, the second param is the value you want to set. You already &quot;extracted&quot; the field you want to modify in the first line of code, now you pass your &quot;target&quot; object, in your case `PluginDescriptionFile`, to the `Field.set` object first parameter. The second parameter is your modified `commands` object","body":"I may be misunderstanding your intent but, java <code>Field.set</code> works somewhat like this: the first param is the object that containts <code>field</code>, the second param is the value you want to set. You already &quot;extracted&quot; the field you want to modify in the first line of code, now you pass your &quot;target&quot; object, in your case <code>PluginDescriptionFile</code>, to the <code>Field.set</code> object first parameter. The second parameter is your modified <code>commands</code> object"}],"answers":[{"tags":[],"owner":{"account_id":8832713,"reputation":161,"user_id":6598366,"display_name":"LouizFC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679599868,"creation_date":1679599868,"answer_id":75827287,"question_id":75826954,"body_markdown":"As said in the comments, the last line of your code should be:\r\n\r\n`field.set(this.getDescription(), immutableMap);`\r\n\r\nBecause the way [`Field#set`][1] works is:\r\n\r\nThe first parameter should be the object that has that field. In your case, your `this.getDescription()`, which is a `PluginDescriptionFile` that contains the `field` that you declared in the first line.\r\n\r\nThe second parameter should be the value that you want to set, in your case, `immutableMap`.\r\n\r\nYou were passing a `this.getDescription().getCommands()` obj `field.set` first parameter, but this object is a  `Map` (or null as we saw in the source code).\r\n\r\nA (naive but easy to undestand) way to interpret the raised error is &quot;I cannot set the field `commands` in `Map`, because there is no field called `commands` in `Map`&quot;. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html#set-java.lang.Object-java.lang.Object-","title":"Reflection casting from ImmutableMap to Map","body":"<p>As said in the comments, the last line of your code should be:</p>\n<p><code>field.set(this.getDescription(), immutableMap);</code></p>\n<p>Because the way <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html#set-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Field#set</code></a> works is:</p>\n<p>The first parameter should be the object that has that field. In your case, your <code>this.getDescription()</code>, which is a <code>PluginDescriptionFile</code> that contains the <code>field</code> that you declared in the first line.</p>\n<p>The second parameter should be the value that you want to set, in your case, <code>immutableMap</code>.</p>\n<p>You were passing a <code>this.getDescription().getCommands()</code> obj <code>field.set</code> first parameter, but this object is a  <code>Map</code> (or null as we saw in the source code).</p>\n<p>A (naive but easy to undestand) way to interpret the raised error is &quot;I cannot set the field <code>commands</code> in <code>Map</code>, because there is no field called <code>commands</code> in <code>Map</code>&quot;.</p>\n"}],"owner":{"account_id":27602368,"reputation":11,"user_id":21067336,"display_name":"Gargant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679599868,"creation_date":1679597428,"question_id":75826954,"body_markdown":"I&#39;m trying to add values to an ImmutableMap.\r\nThe field&#39;s name is `commands`. \r\n\r\nHere&#39;s my code: \r\n\r\n                Field field = this.getDescription().getClass().getDeclaredField(&quot;commands&quot;);\r\n    \t\t\tMap&lt;String, Map&lt;String, Object&gt;&gt; commands = new HashMap&lt;&gt;();\r\n    \r\n    \t\t\tthis.getDescription().getCommands().forEach((c, v) -&gt; commands.put(c, v));\r\n    \r\n    \t\t\tfor (String alias : this.aliasManager.getAllAliases()) {\r\n    \t\t\t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\t\tmap.put(&quot;description&quot;, &quot;An alias for &quot; + aliasManager.getAlias(alias).getCommand());\r\n    \t\t\t\tmap.put(&quot;usage&quot;, &quot;/&lt;command&gt;&quot;);\r\n    \t\t\t\tmap.put(&quot;name&quot;, alias);\r\n    \t\t\t\tcommands.put(alias, map);\r\n    \t\t\t}\r\n    \r\n    \t\t\tMap&lt;String, Map&lt;String, Object&gt;&gt; immutableMap = ImmutableMap.copyOf(commands);\r\n    \r\n    \t\t\tfield.setAccessible(true);\r\n    \t\t\tfield.set(this.getDescription().getCommands(), immutableMap);\r\n\r\nThe error I am getting is:\r\n```\r\njava.lang.IllegalArgumentException: Can not set java.util.Map field \r\norg.bukkit.plugin.PluginDescriptionFile.commands to com.google.common.collect.SingletonImmutableBiMap\r\n```\r\n\r\nThe field is declared in the following way:\r\n`private Map&lt;String, Map&lt;String, Object&gt;&gt; commands = (Map&lt;String, Map&lt;String, Object&gt;&gt;)ImmutableMap.of();`\r\n\r\nAny ideas on how I could fix the issue?","title":"Reflection casting from ImmutableMap to Map","body":"<p>I'm trying to add values to an ImmutableMap.\nThe field's name is <code>commands</code>.</p>\n<p>Here's my code:</p>\n<pre><code>            Field field = this.getDescription().getClass().getDeclaredField(&quot;commands&quot;);\n            Map&lt;String, Map&lt;String, Object&gt;&gt; commands = new HashMap&lt;&gt;();\n\n            this.getDescription().getCommands().forEach((c, v) -&gt; commands.put(c, v));\n\n            for (String alias : this.aliasManager.getAllAliases()) {\n                Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                map.put(&quot;description&quot;, &quot;An alias for &quot; + aliasManager.getAlias(alias).getCommand());\n                map.put(&quot;usage&quot;, &quot;/&lt;command&gt;&quot;);\n                map.put(&quot;name&quot;, alias);\n                commands.put(alias, map);\n            }\n\n            Map&lt;String, Map&lt;String, Object&gt;&gt; immutableMap = ImmutableMap.copyOf(commands);\n\n            field.setAccessible(true);\n            field.set(this.getDescription().getCommands(), immutableMap);\n</code></pre>\n<p>The error I am getting is:</p>\n<pre><code>java.lang.IllegalArgumentException: Can not set java.util.Map field \norg.bukkit.plugin.PluginDescriptionFile.commands to com.google.common.collect.SingletonImmutableBiMap\n</code></pre>\n<p>The field is declared in the following way:\n<code>private Map&lt;String, Map&lt;String, Object&gt;&gt; commands = (Map&lt;String, Map&lt;String, Object&gt;&gt;)ImmutableMap.of();</code></p>\n<p>Any ideas on how I could fix the issue?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":1,"creation_date":1679591151,"post_id":75825878,"comment_id":133752879,"body_markdown":"Your code works fine on my machine, using Java 17 and pdfbox 2.0.27. What versions are you using? And is the mentioned warning the only console output?","body":"Your code works fine on my machine, using Java 17 and pdfbox 2.0.27. What versions are you using? And is the mentioned warning the only console output?"},{"owner":{"account_id":21742694,"reputation":51,"user_id":21475142,"display_name":"nonlinear"},"score":0,"creation_date":1679597386,"post_id":75825878,"comment_id":133754450,"body_markdown":"I am using Java 11 and pdfbox 2.0.27. The warning is the only output and is repeated after the creation of first file.","body":"I am using Java 11 and pdfbox 2.0.27. The warning is the only output and is repeated after the creation of first file."},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1679599403,"post_id":75825878,"comment_id":133754919,"body_markdown":"I was now able to reproduce the issue, with Java 17. It seems the issue doest not appear consitently, but is more likely to occur with a larger number of documents. Tilman Hausherr&#39;s solution below fixes it.","body":"I was now able to reproduce the issue, with Java 17. It seems the issue doest not appear consitently, but is more likely to occur with a larger number of documents. Tilman Hausherr&#39;s solution below fixes it."}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679598269,"creation_date":1679598269,"answer_id":75827081,"question_id":75825878,"body_markdown":"You need to close the intermediate documents you get from the splitter (that are confusingly named `pages`). Do this AFTER saving `destPDDOcument`. So add code like this:\r\n\r\n    for (PDDocument doc : pages)\r\n    {\r\n        doc.close();\r\n    }\r\n","title":"pdfbox message &quot;You did not close a PDF Document&quot;","body":"<p>You need to close the intermediate documents you get from the splitter (that are confusingly named <code>pages</code>). Do this AFTER saving <code>destPDDOcument</code>. So add code like this:</p>\n<pre><code>for (PDDocument doc : pages)\n{\n    doc.close();\n}\n</code></pre>\n"}],"owner":{"account_id":21742694,"reputation":51,"user_id":21475142,"display_name":"nonlinear"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75827081,"answer_count":1,"score":1,"last_activity_date":1679598269,"creation_date":1679590400,"question_id":75825878,"body_markdown":"I have the java code that takes pdf files from a directory copy pages to new pdfs and then saves it to anoter location. But it throws:\r\n\r\norg.apache.pdfbox.cos.COSDocument finalize\r\nWARNING: Warning: You did not close a PDF Document\r\n\r\nbut I did close the pdf!!!\r\n\r\n\r\n\r\n```\r\nimport org.apache.pdfbox.multipdf.Splitter;\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) throws IOException{\r\n\t\tFile srcFolder = new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\source&quot;);\r\n\t\tFile[] srcFiles = srcFolder.listFiles();\r\n\t\tArrays.sort(srcFiles);\r\n\t\tfor (File srcFile : srcFiles) {\r\n\t\t\tPDDocument srcPDDocument = PDDocument.load(srcFile);\r\n\t\t\tPDDocument destPDDOcument = new PDDocument();\r\n\t\t\t\r\n\t\t\tSplitter splitting = new Splitter();\r\n\t\t\t\r\n\t\t\tList&lt;PDDocument&gt; pages = splitting.split(srcPDDocument);\r\n\t\t\tfor (PDDocument page : pages) {\r\n\t\t\t\tdestPDDOcument.addPage(page.getPage(0));\r\n\t\t\t}\r\n\t\t\tString dest = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\dest\\\\&quot; + srcFile.getName();\r\n\t\t\tdestPDDOcument.save(dest);\r\n\t\t\tdestPDDOcument.close();\r\n\t\t\tsrcPDDocument.close();\r\n\t\t\tSystem.out.println(srcFile.getName());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"pdfbox message &quot;You did not close a PDF Document&quot;","body":"<p>I have the java code that takes pdf files from a directory copy pages to new pdfs and then saves it to anoter location. But it throws:</p>\n<p>org.apache.pdfbox.cos.COSDocument finalize\nWARNING: Warning: You did not close a PDF Document</p>\n<p>but I did close the pdf!!!</p>\n<pre><code>import org.apache.pdfbox.multipdf.Splitter;\nimport org.apache.pdfbox.pdmodel.PDDocument;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Test {\n    public static void main(String[] args) throws IOException{\n        File srcFolder = new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\source&quot;);\n        File[] srcFiles = srcFolder.listFiles();\n        Arrays.sort(srcFiles);\n        for (File srcFile : srcFiles) {\n            PDDocument srcPDDocument = PDDocument.load(srcFile);\n            PDDocument destPDDOcument = new PDDocument();\n            \n            Splitter splitting = new Splitter();\n            \n            List&lt;PDDocument&gt; pages = splitting.split(srcPDDocument);\n            for (PDDocument page : pages) {\n                destPDDOcument.addPage(page.getPage(0));\n            }\n            String dest = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\dest\\\\&quot; + srcFile.getName();\n            destPDDOcument.save(dest);\n            destPDDOcument.close();\n            srcPDDocument.close();\n            System.out.println(srcFile.getName());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api"],"comments":[{"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1679597755,"post_id":75826944,"comment_id":133754548,"body_markdown":"Have you tried anything yet? Where exactly are you stuck?","body":"Have you tried anything yet? Where exactly are you stuck?"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":1,"creation_date":1679597775,"post_id":75826944,"comment_id":133754552,"body_markdown":"What have you tried ? please show some code.","body":"What have you tried ? please show some code."}],"answers":[{"tags":[],"owner":{"account_id":23865731,"reputation":1,"user_id":17868087,"display_name":"Hofi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679598171,"creation_date":1679598171,"answer_id":75827073,"question_id":75826944,"body_markdown":"Well I think you misunderstood your assignment in some way. \r\nBecause I think there is no use case for searching java files for a string - It is either a text file or it is code - Nevertheless: \r\n\r\nhow to list all files in this dir: \r\n\r\n\r\n    private static void getAllFiles(File curDir) {\r\n    File curDir = new File(&quot;.&quot;);\r\n    File[] filesList = curDir.listFiles();\r\n    for(File f : filesList){\r\n     if(f.isDirectory()){\r\n      getAllFiles(f);\r\n     }\r\n     if(f.isFile()){\r\n      System.out.println(f.getName());\r\n     }\r\n    }\r\n\r\nif you want to search for a string in the code, use some kind of readers (where it currently outputs the name of the file) to get the content of the file and check if the file contains the string you are searching for. Without having any more information on your exercise, it is hard to provide you with any further assistent. \r\n","title":"Read the string and get the file name in java","body":"<p>Well I think you misunderstood your assignment in some way.\nBecause I think there is no use case for searching java files for a string - It is either a text file or it is code - Nevertheless:</p>\n<p>how to list all files in this dir:</p>\n<pre><code>private static void getAllFiles(File curDir) {\nFile curDir = new File(&quot;.&quot;);\nFile[] filesList = curDir.listFiles();\nfor(File f : filesList){\n if(f.isDirectory()){\n  getAllFiles(f);\n }\n if(f.isFile()){\n  System.out.println(f.getName());\n }\n}\n</code></pre>\n<p>if you want to search for a string in the code, use some kind of readers (where it currently outputs the name of the file) to get the content of the file and check if the file contains the string you are searching for. Without having any more information on your exercise, it is hard to provide you with any further assistent.</p>\n"}],"owner":{"account_id":28107628,"reputation":1,"user_id":21475977,"display_name":"Sachin ananda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679598171,"creation_date":1679597326,"question_id":75826944,"body_markdown":"I have set of Java files in a folder. I need to search all the java files inside the folder to find string value and if i find the string value i need to print the file name. \r\n\r\nCan anyone please help me on this?\r\n\r\nAdvance thank if anyone gives idea or any sample program in java ","title":"Read the string and get the file name in java","body":"<p>I have set of Java files in a folder. I need to search all the java files inside the folder to find string value and if i find the string value i need to print the file name.</p>\n<p>Can anyone please help me on this?</p>\n<p>Advance thank if anyone gives idea or any sample program in java</p>\n"},{"tags":["java","maven","spring-security","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556435040,"creation_date":1556435040,"answer_id":55887859,"question_id":55887390,"body_markdown":"Check your dependency hierarchy tree. Does it contain `javax servlet api`. If not, choose a relevant version from here https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api\r\nand add it to your pom.xml\r\n","title":"Cannot access javax.servlet.Filter; class file for javax.servlet.Filter not found","body":"<p>Check your dependency hierarchy tree. Does it contain <code>javax servlet api</code>. If not, choose a relevant version from here <a href=\"https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api</a>\nand add it to your pom.xml</p>\n"},{"tags":[],"owner":{"account_id":1595791,"reputation":2097,"user_id":1477949,"accept_rate":40,"display_name":"Sachin"},"down_vote_count":2,"up_vote_count":95,"is_accepted":true,"score":93,"last_activity_date":1556439257,"creation_date":1556439257,"answer_id":55888321,"question_id":55887390,"body_markdown":"The article which you have shared asks you to add web dependency which i dont see in your pom.xml file. Add the below dependency which should solve the javax.servlet error\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you check within the spring-boot-starter-web pom file you will see a dependency to `javax.servlet-api` - 3.1.0. ","title":"Cannot access javax.servlet.Filter; class file for javax.servlet.Filter not found","body":"<p>The article which you have shared asks you to add web dependency which i dont see in your pom.xml file. Add the below dependency which should solve the javax.servlet error</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you check within the spring-boot-starter-web pom file you will see a dependency to <code>javax.servlet-api</code> - 3.1.0. </p>\n"},{"tags":[],"owner":{"account_id":18852807,"reputation":111,"user_id":13868418,"display_name":"adam_j_knight"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609332329,"creation_date":1609287172,"answer_id":65500417,"question_id":55887390,"body_markdown":"Look at the version of the servlet api that spring is dependent on then in Gradle include:\r\n```\r\n    compileOnly(&quot;javax.servlet:javax.servlet-api:X&quot;)\r\n```\r\n\r\nWhere X is the version of servlet-api  spring is dependent on.","title":"Cannot access javax.servlet.Filter; class file for javax.servlet.Filter not found","body":"<p>Look at the version of the servlet api that spring is dependent on then in Gradle include:</p>\n<pre><code>    compileOnly(&quot;javax.servlet:javax.servlet-api:X&quot;)\n</code></pre>\n<p>Where X is the version of servlet-api  spring is dependent on.</p>\n"},{"tags":[],"owner":{"account_id":8945553,"reputation":3776,"user_id":6673165,"display_name":"Shivam Pandey"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1616149158,"creation_date":1616149158,"answer_id":66706305,"question_id":55887390,"body_markdown":"I faced the same issue but fixed after adding dependency `spring-boot-starter-web`\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Cannot access javax.servlet.Filter; class file for javax.servlet.Filter not found","body":"<p>I faced the same issue but fixed after adding dependency <code>spring-boot-starter-web</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;2.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1080327,"reputation":819,"user_id":1077487,"display_name":"Mitch1077487"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633528777,"creation_date":1633528777,"answer_id":69467185,"question_id":55887390,"body_markdown":"While this is a different problem, it has the same error message so if you get here and were trying to get WebFlux to work and you see this error\r\n\r\n    public class PreAuthorizeSecurityConfigAdapter extends WebSecurityConfigurerAdapter {\r\n           ^\r\n      class file for javax.servlet.Filter not found\r\n\r\nIt&#39;s probably that WebFlux does not support your usecase.  I was trying to get `@PreAuthorize(hasPermission(...))` but after much googling found WebFlux doesn&#39;t support it and that you should just use your own bean like this instead:\r\n\r\n  \r\n    @PreAuthorize(&quot;@somePermissionEvaluatorBean.hasPermission(authentication, ...&quot;)\r\n  \r\n","title":"Cannot access javax.servlet.Filter; class file for javax.servlet.Filter not found","body":"<p>While this is a different problem, it has the same error message so if you get here and were trying to get WebFlux to work and you see this error</p>\n<pre><code>public class PreAuthorizeSecurityConfigAdapter extends WebSecurityConfigurerAdapter {\n       ^\n  class file for javax.servlet.Filter not found\n</code></pre>\n<p>It's probably that WebFlux does not support your usecase.  I was trying to get <code>@PreAuthorize(hasPermission(...))</code> but after much googling found WebFlux doesn't support it and that you should just use your own bean like this instead:</p>\n<pre><code>@PreAuthorize(&quot;@somePermissionEvaluatorBean.hasPermission(authentication, ...&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649010941,"creation_date":1649010941,"answer_id":71728837,"question_id":55887390,"body_markdown":"For those using gradle just add and you are good to go\r\n\r\n      implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;","title":"Cannot access javax.servlet.Filter; class file for javax.servlet.Filter not found","body":"<p>For those using gradle just add and you are good to go</p>\n<pre><code>  implementation 'org.springframework.boot:spring-boot-starter-web'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13215461,"reputation":326,"user_id":9544181,"display_name":"Mehmet Pekdemir"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678803035,"creation_date":1678803035,"answer_id":75734285,"question_id":55887390,"body_markdown":"The error message you are seeing (cannot access javax.servlet.Filter) suggests that there is a problem with the classpath and that the Servlet API is missing.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOnce you have added the Servlet API to your classpath, you should be able to compile your code successfully.","title":"Cannot access javax.servlet.Filter; class file for javax.servlet.Filter not found","body":"<p>The error message you are seeing (cannot access javax.servlet.Filter) suggests that there is a problem with the classpath and that the Servlet API is missing.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Once you have added the Servlet API to your classpath, you should be able to compile your code successfully.</p>\n"}],"owner":{"account_id":7479022,"reputation":2651,"user_id":5684405,"accept_rate":57,"display_name":"mCs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95388,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"accepted_answer_id":55888321,"answer_count":7,"score":39,"last_activity_date":1679598130,"creation_date":1556430444,"question_id":55887390,"body_markdown":"I am trying to implement OAuth2 AuthorizationServer as described in this [article][1] but I keep getting the error below.\r\nFor a spring security config:\r\n\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    \r\n    @Configuration\r\n    @Order(1)\r\n    class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Value(&quot;${user.oauth.user.username}&quot;)\r\n        private String username;\r\n        @Value(&quot;${user.oauth.user.password}&quot;)\r\n        private String password;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.requestMatchers()\r\n                    .antMatchers(&quot;/login&quot;, &quot;/oauth/authorize&quot;)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .formLogin().permitAll();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication()\r\n                    .withUser(username)\r\n                    .password(passwordEncoder().encode(password))\r\n                    .roles(&quot;USER&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nI keep getting this error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project auth-service: Compilation failure\r\n    [ERROR] /home/mcs/auth-service/src/main/java/com/example/authservice/config/SecurityConfig.java:[14,1] cannot access javax.servlet.Filter\r\n    [ERROR] class file for javax.servlet.Filter not found\r\n\r\nWhat does it mean and what seems to be wrong?\r\n\r\nMy pom.xml generated form start.spring.io using the latest M2 release for Spring Boot:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0.M2&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;auth-service&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;auth-service&lt;/name&gt;\r\n        &lt;description&gt;Authorization service&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\r\n                &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n  [1]: https://developer.okta.com/blog/2019/03/12/oauth2-spring-security-guide#create-an-oauth-20-server","title":"Cannot access javax.servlet.Filter; class file for javax.servlet.Filter not found","body":"<p>I am trying to implement OAuth2 AuthorizationServer as described in this <a href=\"https://developer.okta.com/blog/2019/03/12/oauth2-spring-security-guide#create-an-oauth-20-server\" rel=\"noreferrer\">article</a> but I keep getting the error below.\nFor a spring security config:</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\n@Configuration\n@Order(1)\nclass SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Value(\"${user.oauth.user.username}\")\n    private String username;\n    @Value(\"${user.oauth.user.password}\")\n    private String password;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.requestMatchers()\n                .antMatchers(\"/login\", \"/oauth/authorize\")\n                .and()\n                .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin().permitAll();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(username)\n                .password(passwordEncoder().encode(password))\n                .roles(\"USER\");\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n\n<p>I keep getting this error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project auth-service: Compilation failure\n[ERROR] /home/mcs/auth-service/src/main/java/com/example/authservice/config/SecurityConfig.java:[14,1] cannot access javax.servlet.Filter\n[ERROR] class file for javax.servlet.Filter not found\n</code></pre>\n\n<p>What does it mean and what seems to be wrong?</p>\n\n<p>My pom.xml generated form start.spring.io using the latest M2 release for Spring Boot:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0.M2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;auth-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;auth-service&lt;/name&gt;\n    &lt;description&gt;Authorization service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1525081519,"post_id":50097877,"comment_id":87212112,"body_markdown":"Update the question with the _Manual Steps_ you are trying to _Automate_ along with the relevant _HTML_","body":"Update the question with the <i>Manual Steps</i> you are trying to <i>Automate</i> along with the relevant <i>HTML</i>"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1525082337,"post_id":50097877,"comment_id":87212633,"body_markdown":"@DebanjanB There are no specific manual steps. What I am trying to do is to extract data from some site tables. All the tables has the same structure.","body":"@DebanjanB There are no specific manual steps. What I am trying to do is to extract data from some site tables. All the tables has the same structure."},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1525082344,"post_id":50097877,"comment_id":87212642,"body_markdown":"did you find that if website itself taking time to return data or selenium code is responsible for that?","body":"did you find that if website itself taking time to return data or selenium code is responsible for that?"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1525082678,"post_id":50097877,"comment_id":87212824,"body_markdown":"@HelpingHands I am not sure whether the issue is in the site, the selenium infrastructure or simply java. Notice that I merely measure the timing of: values.addAll(tds.stream().map(e-&gt;e.getText()).collect(Collectors.toList())); and it is the one which increases constantly from measurement to measurement. Maybe it is logical and depends on the initial values list size?","body":"@HelpingHands I am not sure whether the issue is in the site, the selenium infrastructure or simply java. Notice that I merely measure the timing of: values.addAll(tds.stream().map(e-&gt;e.getText()).collect(Colle&zwnj;&#8203;ctors.toList())); and it is the one which increases constantly from measurement to measurement. Maybe it is logical and depends on the initial values list size?"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1525082887,"post_id":50097877,"comment_id":87212937,"body_markdown":"@dushkin - how many total rows there in page with which you trying to interact and store into array?","body":"@dushkin - how many total rows there in page with which you trying to interact and store into array?"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1525087825,"post_id":50097877,"comment_id":87215647,"body_markdown":"@HelpingHands It varies... Iam talking about an average of 400 cells. For example a table of 25 rows on 10 columns more or less","body":"@HelpingHands It varies... Iam talking about an average of 400 cells. For example a table of 25 rows on 10 columns more or less"}],"answers":[{"tags":[],"owner":{"account_id":3447044,"reputation":41737,"user_id":2887618,"display_name":"Florent B."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525371691,"creation_date":1525085661,"answer_id":50099032,"question_id":50097877,"body_markdown":"Calling the driver is an expensive operation. To significantly reduce the execution time, use a JavaScript injection with `executeScript` to read the whole table in a single call. Then process/filter the data on the client side with Java.\r\n\r\n\r\n    public ArrayList&lt;?&gt; readTable(WebElement table)\r\n    {\r\n        final String JS_READ_CELLS = \r\n            &quot;var table = arguments[0]; &quot; +\r\n            &quot;return map(table.querySelectorAll(&#39;tr&#39;), readRow); &quot; +\r\n            &quot;function readRow(row) { return map(row.querySelectorAll(&#39;td&#39;), readCell) }; &quot; +\r\n            &quot;function readCell(cell) { return cell.innerText }; &quot; +\r\n            &quot;function map(items, fn) { return Array.prototype.map.call(items, fn) }; &quot; ;\r\n\r\n        WebDriver driver = ((RemoteWebElement)table).getWrappedDriver();\r\n        Object result = ((JavascriptExecutor)driver).executeScript(JS_READ_CELLS, table);\r\n        return (ArrayList&lt;?&gt;)result;\r\n    }","title":"Selenium ChromeDriver: increasing time of getting WebElement Text","body":"<p>Calling the driver is an expensive operation. To significantly reduce the execution time, use a JavaScript injection with <code>executeScript</code> to read the whole table in a single call. Then process/filter the data on the client side with Java.</p>\n\n<pre><code>public ArrayList&lt;?&gt; readTable(WebElement table)\n{\n    final String JS_READ_CELLS = \n        \"var table = arguments[0]; \" +\n        \"return map(table.querySelectorAll('tr'), readRow); \" +\n        \"function readRow(row) { return map(row.querySelectorAll('td'), readCell) }; \" +\n        \"function readCell(cell) { return cell.innerText }; \" +\n        \"function map(items, fn) { return Array.prototype.map.call(items, fn) }; \" ;\n\n    WebDriver driver = ((RemoteWebElement)table).getWrappedDriver();\n    Object result = ((JavascriptExecutor)driver).executeScript(JS_READ_CELLS, table);\n    return (ArrayList&lt;?&gt;)result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3371794,"reputation":143468,"user_id":2830850,"display_name":"Tarun Lalwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1525511969,"creation_date":1525511969,"answer_id":50187783,"question_id":50097877,"body_markdown":"The problem you are facing is because of the way Selenium works by design. Let&#39;s look at how a JavaScript get&#39;s executed or a operation is performed\r\n\r\n    tds.get(TABLE_COLUMNS.NAME_COL.getNumVal()).getText();\r\n\r\nYou have a collection of objects. Each object is assigned a unique ID on the browser side by the selenium driver\r\n\r\nSo when you do a `getText()` below is what happens\r\n\r\n    Your code -&gt; HTTP Request -&gt; Browser Driver -&gt; Browser -&gt;\r\n                                                            |\r\n               &lt;---------------------------------------------\r\n\r\nNow if you have a table of 400rx10c then it accounts to `4000` HTTP calls, even if one call takes 10ms, we are looking at a `40000ms~=40sec`, which is a decent delay to read a table\r\n\r\nSo what you want to do is to get all the data in single go by executing a javascript which give you 2d array back. It is quite simple, I found a code on below site\r\n\r\nhttp://cwestblog.com/2016/08/21/javascript-snippet-convert-html-table-to-2d-array/\r\n\r\n    function tableToArray(tbl, opt_cellValueGetter) {\r\n      opt_cellValueGetter = opt_cellValueGetter || function(td) { return td.textContent || td.innerText; };\r\n      var twoD = [];\r\n      for (var rowCount = tbl.rows.length, rowIndex = 0; rowIndex &lt; rowCount; rowIndex++) {\r\n        twoD.push([]);\r\n      }\r\n      for (var rowIndex = 0, tr; rowIndex &lt; rowCount; rowIndex++) {\r\n        var tr = tbl.rows[rowIndex];\r\n        for (var colIndex = 0, colCount = tr.cells.length, offset = 0; colIndex &lt; colCount; colIndex++) {\r\n          var td = tr.cells[colIndex], text = opt_cellValueGetter(td, colIndex, rowIndex, tbl);\r\n          while (twoD[rowIndex].hasOwnProperty(colIndex + offset)) {\r\n            offset++;\r\n          }\r\n          for (var i = 0, colSpan = parseInt(td.colSpan, 10) || 1; i &lt; colSpan; i++) {\r\n            for (var j = 0, rowSpan = parseInt(td.rowSpan, 10) || 1; j &lt; rowSpan; j++) {\r\n              twoD[rowIndex + j][colIndex + offset + i] = text;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return twoD;\r\n    }\r\n\r\nI assume you store the above script in a `SCRIPT` variable and then you can run it like below\r\n\r\n    WebDriver driver = ((RemoteWebElement)table).getWrappedDriver();\r\n    Object result = ((JavascriptExecutor)driver).executeScript(SCRIPT + &quot;\\n return tableToArray(arguments[0]);&quot; , table);\r\n\r\nThis will get you a 2D array of the data and you can then process it the way you like it","title":"Selenium ChromeDriver: increasing time of getting WebElement Text","body":"<p>The problem you are facing is because of the way Selenium works by design. Let's look at how a JavaScript get's executed or a operation is performed</p>\n\n<pre><code>tds.get(TABLE_COLUMNS.NAME_COL.getNumVal()).getText();\n</code></pre>\n\n<p>You have a collection of objects. Each object is assigned a unique ID on the browser side by the selenium driver</p>\n\n<p>So when you do a <code>getText()</code> below is what happens</p>\n\n<pre><code>Your code -&gt; HTTP Request -&gt; Browser Driver -&gt; Browser -&gt;\n                                                        |\n           &lt;---------------------------------------------\n</code></pre>\n\n<p>Now if you have a table of 400rx10c then it accounts to <code>4000</code> HTTP calls, even if one call takes 10ms, we are looking at a <code>40000ms~=40sec</code>, which is a decent delay to read a table</p>\n\n<p>So what you want to do is to get all the data in single go by executing a javascript which give you 2d array back. It is quite simple, I found a code on below site</p>\n\n<p><a href=\"http://cwestblog.com/2016/08/21/javascript-snippet-convert-html-table-to-2d-array/\" rel=\"nofollow noreferrer\">http://cwestblog.com/2016/08/21/javascript-snippet-convert-html-table-to-2d-array/</a></p>\n\n<pre><code>function tableToArray(tbl, opt_cellValueGetter) {\n  opt_cellValueGetter = opt_cellValueGetter || function(td) { return td.textContent || td.innerText; };\n  var twoD = [];\n  for (var rowCount = tbl.rows.length, rowIndex = 0; rowIndex &lt; rowCount; rowIndex++) {\n    twoD.push([]);\n  }\n  for (var rowIndex = 0, tr; rowIndex &lt; rowCount; rowIndex++) {\n    var tr = tbl.rows[rowIndex];\n    for (var colIndex = 0, colCount = tr.cells.length, offset = 0; colIndex &lt; colCount; colIndex++) {\n      var td = tr.cells[colIndex], text = opt_cellValueGetter(td, colIndex, rowIndex, tbl);\n      while (twoD[rowIndex].hasOwnProperty(colIndex + offset)) {\n        offset++;\n      }\n      for (var i = 0, colSpan = parseInt(td.colSpan, 10) || 1; i &lt; colSpan; i++) {\n        for (var j = 0, rowSpan = parseInt(td.rowSpan, 10) || 1; j &lt; rowSpan; j++) {\n          twoD[rowIndex + j][colIndex + offset + i] = text;\n        }\n      }\n    }\n  }\n  return twoD;\n}\n</code></pre>\n\n<p>I assume you store the above script in a <code>SCRIPT</code> variable and then you can run it like below</p>\n\n<pre><code>WebDriver driver = ((RemoteWebElement)table).getWrappedDriver();\nObject result = ((JavascriptExecutor)driver).executeScript(SCRIPT + \"\\n return tableToArray(arguments[0]);\" , table);\n</code></pre>\n\n<p>This will get you a 2D array of the data and you can then process it the way you like it</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50187783,"answer_count":2,"score":0,"last_activity_date":1679598007,"creation_date":1525081420,"question_id":50097877,"body_markdown":"I have a code in which I traverse table rows and columns, and I&#39;d like to add it&#39;s values to a list.\r\n\r\nIt takes me a significant amount of time.\r\n\r\nSo I added a time measurement, and I noticed that for some reason the time increases from row to row.\r\n\r\nI cannot understand why.\r\n\r\nCan you advise please?\r\n\r\n\tprivate void buildTableDataMap() {\r\n\r\n        WebElement table = chromeWebDriver.findElement(By.id(&quot;table-type-1&quot;));\r\n        \r\n        List&lt;WebElement&gt; rows = table.findElements(By.tagName(&quot;tr&quot;));\r\n\r\n        theMap.getInstance().clear();\r\n\r\n        String item;\r\n\t\tfor (WebElement row : rows) {\r\n\r\n\t\t\tArrayList&lt;String&gt; values = new ArrayList&lt;&gt;(); \r\n\t\t\t\r\n\t\t\tList&lt;WebElement&gt; tds = row.findElements(By.tagName(&quot;td&quot;));\r\n\r\n\t\t\tif(tds.size() &gt; 0){\r\n\r\n\t\t\t\tWebElement last = tds.get(tds.size() - 1);\r\n\t\t\t\r\n\t\t        long time = System.currentTimeMillis();\r\n\r\n\t\t\t\tvalues.addAll(tds.stream().map(e-&gt;e.getText()).collect(Collectors.toList()));\r\n\r\n\t\t        System.out.println(System.currentTimeMillis() - time);\r\n\r\n\t\t\t\t//remove redundant last entry:\r\n\t\t\t\tvalues.remove(tds.size() - 1);\r\n\t\t\t\tcallSomeFunc(values, last);\r\n\t\t\t\t\r\n\t\t\t\titem = tds.get(TABLE_COLUMNS.NAME_COL.getNumVal()).getText();\r\n\t\t\t\titem = item.replaceAll(&quot;[^.\\\\- /&#39;&amp;A-Za-z0-9]&quot;, &quot;&quot;).trim();//remove redundant chars\r\n\t\t\r\n\t\t\t\ttheMap.getInstance().getMap().put(item, values);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n \r\n\r\n-------------------------------------\r\n\r\nGuys, I continued researching.\r\nFirst of all, Florent&#39;s kind answer did not help me because, at lease as I understand, It returned me an array list of strings which I had to parse, and I don&#39;t like this kind of solution too much...\r\n\r\nSo I nailed the problem in finding that the **e.getText()** call was increasing in time from call to call!!!\r\nI also tried **e.getAttribute(&quot;innerText&quot;)** instead but no change.\r\nCan&#39;t understand why. Any idea to solve?\r\n\r\n\r\n\t\t\t\tWebElement last = null;\r\n\t\t\t\tfor (WebElement e : tds){\r\n\t\t\t\t\tlast = e;\r\n\r\n\t\t\t\t\tlong tm1 = 0, tm2 = 0;\r\n\t\t\t\t\tif(Settings.verboseYN) {\r\n\t\t\t\t\t\ttm1 = System.currentTimeMillis();\r\n\t\t\t\t\t}\r\n\t\t\t\t\ts = e.getText(); //This action increases in time!!!\r\n\t\t\t\t\tif(Settings.verboseYN) {\r\n\t\t\t\t\t\ttm2 = System.currentTimeMillis();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalues.add(s); //a 0 ms action!!!\r\n\t\t\t\t\tif(Settings.verboseYN) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;e.getText()) took &quot; + (tm2 - tm1) + &quot; ms...&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\nThat is an graph of the time getText took...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n------------------------------------------------\r\n\r\n08-May-18\r\nAnother source of growing execution time is this one:\r\n\r\n    void func(WebElement anchorsElement){\r\n\r\n\t\tList&lt;WebElement&gt; anchors = anchorsElement.findElements(By.tagName(&quot;a&quot;));\r\n\t\t\r\n\t\tfor (WebElement a : anchors) {\r\n\r\n\t\t\tif (a.getAttribute(&quot;class&quot;).indexOf(&quot;a&quot;) &gt; 0)\r\n\t\t\t\tvalues.add(&quot;A&quot;);\r\n\t\t\telse if (a.getAttribute(&quot;class&quot;).indexOf(&quot;b&quot;) &gt; 0)\r\n\t\t\t\tvalues.add(&quot;B&quot;);\r\n\t\t\telse if (a.getAttribute(&quot;class&quot;).indexOf(&quot;c&quot;) &gt; 0)\r\n\t\t\t\tvalues.add(&quot;C&quot;);\r\n\r\n\t\t}\r\n    }\r\n\r\nEvery functions has 5 iterations only, but still each call to the function increases its execution time.\r\nIs there a solution for this one as well?\r\n\r\n  [1]: https://i.stack.imgur.com/ULcwd.png","title":"Selenium ChromeDriver: increasing time of getting WebElement Text","body":"<p>I have a code in which I traverse table rows and columns, and I'd like to add it's values to a list.</p>\n\n<p>It takes me a significant amount of time.</p>\n\n<p>So I added a time measurement, and I noticed that for some reason the time increases from row to row.</p>\n\n<p>I cannot understand why.</p>\n\n<p>Can you advise please?</p>\n\n<pre><code>private void buildTableDataMap() {\n\n    WebElement table = chromeWebDriver.findElement(By.id(\"table-type-1\"));\n\n    List&lt;WebElement&gt; rows = table.findElements(By.tagName(\"tr\"));\n\n    theMap.getInstance().clear();\n\n    String item;\n    for (WebElement row : rows) {\n\n        ArrayList&lt;String&gt; values = new ArrayList&lt;&gt;(); \n\n        List&lt;WebElement&gt; tds = row.findElements(By.tagName(\"td\"));\n\n        if(tds.size() &gt; 0){\n\n            WebElement last = tds.get(tds.size() - 1);\n\n            long time = System.currentTimeMillis();\n\n            values.addAll(tds.stream().map(e-&gt;e.getText()).collect(Collectors.toList()));\n\n            System.out.println(System.currentTimeMillis() - time);\n\n            //remove redundant last entry:\n            values.remove(tds.size() - 1);\n            callSomeFunc(values, last);\n\n            item = tds.get(TABLE_COLUMNS.NAME_COL.getNumVal()).getText();\n            item = item.replaceAll(\"[^.\\\\- /'&amp;A-Za-z0-9]\", \"\").trim();//remove redundant chars\n\n            theMap.getInstance().getMap().put(item, values);\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Guys, I continued researching.\nFirst of all, Florent's kind answer did not help me because, at lease as I understand, It returned me an array list of strings which I had to parse, and I don't like this kind of solution too much...</p>\n\n<p>So I nailed the problem in finding that the <strong>e.getText()</strong> call was increasing in time from call to call!!!\nI also tried <strong>e.getAttribute(\"innerText\")</strong> instead but no change.\nCan't understand why. Any idea to solve?</p>\n\n<pre><code>            WebElement last = null;\n            for (WebElement e : tds){\n                last = e;\n\n                long tm1 = 0, tm2 = 0;\n                if(Settings.verboseYN) {\n                    tm1 = System.currentTimeMillis();\n                }\n                s = e.getText(); //This action increases in time!!!\n                if(Settings.verboseYN) {\n                    tm2 = System.currentTimeMillis();\n                }\n                values.add(s); //a 0 ms action!!!\n                if(Settings.verboseYN) {\n                    System.out.println(\"e.getText()) took \" + (tm2 - tm1) + \" ms...\");\n                }\n            }\n</code></pre>\n\n<p>That is an graph of the time getText took...</p>\n\n<p><a href=\"https://i.stack.imgur.com/ULcwd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ULcwd.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>08-May-18\nAnother source of growing execution time is this one:</p>\n\n<pre><code>void func(WebElement anchorsElement){\n\n    List&lt;WebElement&gt; anchors = anchorsElement.findElements(By.tagName(\"a\"));\n\n    for (WebElement a : anchors) {\n\n        if (a.getAttribute(\"class\").indexOf(\"a\") &gt; 0)\n            values.add(\"A\");\n        else if (a.getAttribute(\"class\").indexOf(\"b\") &gt; 0)\n            values.add(\"B\");\n        else if (a.getAttribute(\"class\").indexOf(\"c\") &gt; 0)\n            values.add(\"C\");\n\n    }\n}\n</code></pre>\n\n<p>Every functions has 5 iterations only, but still each call to the function increases its execution time.\nIs there a solution for this one as well?</p>\n"},{"tags":["java","spring","spring-boot","hashmap","webclient"],"answers":[{"tags":[],"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679597983,"creation_date":1679597983,"answer_id":75827043,"question_id":75826428,"body_markdown":"This is because &quot;Search&quot; element in json contains list of maps, and jackson parses is like so on default.\r\nYou can define your mapper as Map&lt;String,Object&gt; and then cast it to the List like so\r\n\r\n        Map&lt;String, Object&gt; mapper = new LinkedHashMap&lt;&gt;();\r\n        //...\r\n        (List&lt;Map&lt;String,String&gt;&gt;)mapper.get(&quot;Search&quot;)).forEach(System.out::println);\r\n\r\nHowever, the better way would be probably to define the DTO  with attributes that you need from json and let jackson to parse it into your object  and ignore everything else. Or create your custom deserializer like here for example (https://howtodoinjava.com/jackson/jackson-custom-serializer-deserializer/)","title":"How to get ArrayList out of a Hashmap of Json response?","body":"<p>This is because &quot;Search&quot; element in json contains list of maps, and jackson parses is like so on default.\nYou can define your mapper as Map&lt;String,Object&gt; and then cast it to the List like so</p>\n<pre><code>    Map&lt;String, Object&gt; mapper = new LinkedHashMap&lt;&gt;();\n    //...\n    (List&lt;Map&lt;String,String&gt;&gt;)mapper.get(&quot;Search&quot;)).forEach(System.out::println);\n</code></pre>\n<p>However, the better way would be probably to define the DTO  with attributes that you need from json and let jackson to parse it into your object  and ignore everything else. Or create your custom deserializer like here for example (<a href=\"https://howtodoinjava.com/jackson/jackson-custom-serializer-deserializer/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/jackson/jackson-custom-serializer-deserializer/</a>)</p>\n"}],"owner":{"account_id":23731309,"reputation":11,"user_id":17750520,"display_name":"An Nguyen Thanh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75827043,"answer_count":1,"score":-1,"last_activity_date":1679597983,"creation_date":1679593761,"question_id":75826428,"body_markdown":"I&#39;m working with Spring Boot and using WebClient to send requests to OMDb\r\n\r\n\r\n```\r\n        WebClient webClient = WebClient.create();\r\n        String search = &quot;batman&quot;;\r\n        WebClient.ResponseSpec responseSpec = webClient.get()\r\n                .uri(&quot;http://www.omdbapi.com/?apikey=[apikey]&amp;s=&quot; + search +&quot;&amp;type=movie&amp;page=1&quot;)\r\n                .retrieve();\r\n//        System.out.println(responseSpec);\r\n        String responseBody = responseSpec.bodyToMono(String.class).map();\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        Map&lt;String, String&gt; mapper = new LinkedHashMap&lt;&gt;();\r\n        try {\r\n            mapper = objectMapper.readValue((JsonParser) responseSpec, Map.class);\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        List&lt;Movie&gt; movieList = new ArrayList&lt;&gt;();\r\n        System.out.println(mapper.get(&quot;Search&quot;));\r\n```\r\nhere&#39;s the json response, I just want to get the &quot;Search&quot; and convert it to ArrayList so that I can get the movies one by one\r\n\r\n```\r\n{\r\n    &quot;Search&quot;: [\r\n        {\r\n            &quot;Title&quot;: &quot;Batman Begins&quot;,\r\n            &quot;Year&quot;: &quot;2005&quot;,\r\n            &quot;imdbID&quot;: &quot;tt0372784&quot;,\r\n            &quot;Type&quot;: &quot;movie&quot;,\r\n            &quot;Poster&quot;: &quot;https://m.media-amazon.com/images/M/MV5BOTY4YjI2N2MtYmFlMC00ZjcyLTg3YjEtMDQyM2ZjYzQ5YWFkXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg&quot;\r\n        },\r\n        {\r\n            &quot;Title&quot;: &quot;Batman v Superman: Dawn of Justice&quot;,\r\n            &quot;Year&quot;: &quot;2016&quot;,\r\n            &quot;imdbID&quot;: &quot;tt2975590&quot;,\r\n            &quot;Type&quot;: &quot;movie&quot;,\r\n            &quot;Poster&quot;: &quot;https://m.media-amazon.com/images/M/MV5BYThjYzcyYzItNTVjNy00NDk0LTgwMWQtYjMwNmNlNWJhMzMyXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg&quot;\r\n        }\r\n      ...\r\n    ],\r\n    &quot;totalResults&quot;: &quot;526&quot;,\r\n    &quot;Response&quot;: &quot;True&quot;\r\n}\r\n```\r\nproblem is `mapper.get(&quot;Search&quot;)` in code is a `String` but when I run the program, it turns into an `ArrayList` and shows this error (the &quot;totalResults&quot; and &quot;Response&quot; works fine tho, they&#39;re Strings)\r\n\r\n```\r\nclass java.util.ArrayList cannot be cast to class java.lang.String\r\n```\r\nso the result is I can&#39;t do use String methods with it but I can&#39;t use ArrayList method with it either.\r\n","title":"How to get ArrayList out of a Hashmap of Json response?","body":"<p>I'm working with Spring Boot and using WebClient to send requests to OMDb</p>\n<pre><code>        WebClient webClient = WebClient.create();\n        String search = &quot;batman&quot;;\n        WebClient.ResponseSpec responseSpec = webClient.get()\n                .uri(&quot;http://www.omdbapi.com/?apikey=[apikey]&amp;s=&quot; + search +&quot;&amp;type=movie&amp;page=1&quot;)\n                .retrieve();\n//        System.out.println(responseSpec);\n        String responseBody = responseSpec.bodyToMono(String.class).map();\n        ObjectMapper objectMapper = new ObjectMapper();\n        Map&lt;String, String&gt; mapper = new LinkedHashMap&lt;&gt;();\n        try {\n            mapper = objectMapper.readValue((JsonParser) responseSpec, Map.class);\n        }\n        catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n        List&lt;Movie&gt; movieList = new ArrayList&lt;&gt;();\n        System.out.println(mapper.get(&quot;Search&quot;));\n</code></pre>\n<p>here's the json response, I just want to get the &quot;Search&quot; and convert it to ArrayList so that I can get the movies one by one</p>\n<pre><code>{\n    &quot;Search&quot;: [\n        {\n            &quot;Title&quot;: &quot;Batman Begins&quot;,\n            &quot;Year&quot;: &quot;2005&quot;,\n            &quot;imdbID&quot;: &quot;tt0372784&quot;,\n            &quot;Type&quot;: &quot;movie&quot;,\n            &quot;Poster&quot;: &quot;https://m.media-amazon.com/images/M/MV5BOTY4YjI2N2MtYmFlMC00ZjcyLTg3YjEtMDQyM2ZjYzQ5YWFkXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg&quot;\n        },\n        {\n            &quot;Title&quot;: &quot;Batman v Superman: Dawn of Justice&quot;,\n            &quot;Year&quot;: &quot;2016&quot;,\n            &quot;imdbID&quot;: &quot;tt2975590&quot;,\n            &quot;Type&quot;: &quot;movie&quot;,\n            &quot;Poster&quot;: &quot;https://m.media-amazon.com/images/M/MV5BYThjYzcyYzItNTVjNy00NDk0LTgwMWQtYjMwNmNlNWJhMzMyXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg&quot;\n        }\n      ...\n    ],\n    &quot;totalResults&quot;: &quot;526&quot;,\n    &quot;Response&quot;: &quot;True&quot;\n}\n</code></pre>\n<p>problem is <code>mapper.get(&quot;Search&quot;)</code> in code is a <code>String</code> but when I run the program, it turns into an <code>ArrayList</code> and shows this error (the &quot;totalResults&quot; and &quot;Response&quot; works fine tho, they're Strings)</p>\n<pre><code>class java.util.ArrayList cannot be cast to class java.lang.String\n</code></pre>\n<p>so the result is I can't do use String methods with it but I can't use ArrayList method with it either.</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1586461882,"creation_date":1586461882,"answer_id":61129158,"question_id":61128936,"body_markdown":"The author has given the complete source code in the following github link. Download the code and build it and try to run it. In this project there are two types of project, one is java type which you have to build using maven and another is react project which you have to build using yarn just like npm package manager.\r\n\r\nTo run the project &quot;react-social&quot;, you have to build using the command `yarn install &amp;&amp; yarn build &amp;&amp; yarn start`. To build other spring based project &quot;spring-social&quot;, you have to use the command `mvn clean install`. You can also run the command directly `mvn spring-boot:run`.\r\n\r\nThe author has given instruction about to run the project in ReadMe.md file in github. I would suggest first build and run the spring based project and then react-social project.\r\n\r\nhttps://github.com/callicoder/spring-boot-react-oauth2-social-login-demo\r\n","title":"Bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found. - Spring Security","body":"<p>The author has given the complete source code in the following github link. Download the code and build it and try to run it. In this project there are two types of project, one is java type which you have to build using maven and another is react project which you have to build using yarn just like npm package manager.</p>\n\n<p>To run the project \"react-social\", you have to build using the command <code>yarn install &amp;&amp; yarn build &amp;&amp; yarn start</code>. To build other spring based project \"spring-social\", you have to use the command <code>mvn clean install</code>. You can also run the command directly <code>mvn spring-boot:run</code>.</p>\n\n<p>The author has given instruction about to run the project in ReadMe.md file in github. I would suggest first build and run the spring based project and then react-social project.</p>\n\n<p><a href=\"https://github.com/callicoder/spring-boot-react-oauth2-social-login-demo\" rel=\"nofollow noreferrer\">https://github.com/callicoder/spring-boot-react-oauth2-social-login-demo</a></p>\n"},{"tags":[],"owner":{"account_id":6609654,"reputation":683,"user_id":5105263,"accept_rate":50,"display_name":"Saurabh Gour"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1588360714,"creation_date":1588360714,"answer_id":61549301,"question_id":61128936,"body_markdown":"Seems like and indentation issue, security property must be beneath the spring property like so\r\n\r\n    spring:\r\n       security:\r\n  \r\n \r\n    \r\n\r\n\r\n ","title":"Bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found. - Spring Security","body":"<p>Seems like and indentation issue, security property must be beneath the spring property like so</p>\n\n<pre><code>spring:\n   security:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11810243,"reputation":364,"user_id":8641842,"display_name":"nightblade9"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679597835,"creation_date":1662862477,"answer_id":73676377,"question_id":61128936,"body_markdown":"I found this also happens if:\r\n\r\n- Your active spring profile isn&#39;t defined correctly\r\n- The default profile is missing the OAuth2 information (e.g. client ID and secret).\r\n\r\nYou can read a bit about it in my other answer [here](https://stackoverflow.com/a/73656510/8641842); it&#39;s sufficient to triage this by looking for this error message in the logs:\r\n\r\n```\r\nNo active profile set, falling back to 1 default profile: &quot;default&quot;\r\n```\r\n\r\n","title":"Bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found. - Spring Security","body":"<p>I found this also happens if:</p>\n<ul>\n<li>Your active spring profile isn't defined correctly</li>\n<li>The default profile is missing the OAuth2 information (e.g. client ID and secret).</li>\n</ul>\n<p>You can read a bit about it in my other answer <a href=\"https://stackoverflow.com/a/73656510/8641842\">here</a>; it's sufficient to triage this by looking for this error message in the logs:</p>\n<pre><code>No active profile set, falling back to 1 default profile: &quot;default&quot;\n</code></pre>\n"}],"owner":{"account_id":15316644,"reputation":341,"user_id":11050358,"display_name":"xectpp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39668,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":61549301,"answer_count":3,"score":20,"last_activity_date":1679597835,"creation_date":1586461084,"question_id":61128936,"body_markdown":"I am developing a spring application with spring-security and login with google but I get this error when executing the application:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Method springSecurityFilterChain in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found.\r\n    \r\n    The following candidates were found but could not be injected:\r\n    \t- Bean method &#39;clientRegistrationRepository&#39; in &#39;OAuth2ClientRegistrationRepositoryConfiguration&#39; not loaded because OAuth2 Clients Configured Condition registered clients is not available\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider revisiting the entries above or defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; in your configuration.\r\n\r\nMy application.yml:\r\n\r\n    spring:\r\n        datasource:\r\n            url: jdbc:mysql://localhost:3306/manager\r\n            username: application_spring\r\n            password: application_spring\r\n    \r\n        jpa:\r\n            show-sql: true\r\n            hibernate:\r\n                ddl-auto: update\r\n    security:\r\n          oauth2:\r\n            client:\r\n              registration:\r\n                google:\r\n                  client-id: {client id}\r\n                  client-secret: {client-secret}\r\n                  redirectUri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\r\n                  scope:\r\n                    - email\r\n                    - profile\r\n    app:\r\n      auth:\r\n        tokenSecret: 926D96C90030DD58429D2751AC1BDBBC\r\n        tokenExpirationMsec: 864000000\r\n      oauth2:\r\n        # After successfully authenticating with the OAuth2 Provider,\r\n        # we&#39;ll be generating an auth token for the user and sending the token to the\r\n        # redirectUri mentioned by the frontend client in the /oauth2/authorize request.\r\n        # We&#39;re not using cookies because they won&#39;t work well in mobile clients.\r\n        authorizedRedirectUris:\r\n          - http://localhost:3000/oauth2/redirect\r\n          - myandroidapp://oauth2/redirect\r\n          - myiosapp://oauth2/redirect\r\n\r\nAnd my SecurityConfig class: \r\n\r\n    package com.manager.manager.config;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.client.web.AuthorizationRequestRepository;\r\n    import org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    import com.manager.manager.security.oatuh2.CustomOAuth2UserService;\r\n    import com.manager.manager.security.oatuh2.HttpCookieOAuth2AuthorizationRequestRepository;\r\n    import com.manager.manager.security.oatuh2.OAuth2AuthenticationFailureHandler;\r\n    import com.manager.manager.security.oatuh2.OAuth2AuthenticationSuccessHandler;\r\n    import com.manager.manager.security.utils.RestAuthenticationEntryPoint;\r\n    import com.manager.manager.security.utils.TokenAuthenticationFilter;\r\n    import com.manager.manager.service.impl.CustomUserDetailsService;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(\r\n            securedEnabled = true,\r\n            jsr250Enabled = true,\r\n            prePostEnabled = true\r\n    )\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \t@Autowired\r\n        private CustomUserDetailsService customUserDetailsService;\r\n    \r\n        @Autowired\r\n        private CustomOAuth2UserService customOAuth2UserService;\r\n    \r\n        @Autowired\r\n        private OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\r\n    \r\n        @Autowired\r\n        private OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\r\n        \r\n        @Autowired\r\n        private HttpCookieOAuth2AuthorizationRequestRepository httpCookieOAuth2AuthorizationRequestRepository;\r\n    \r\n        @Bean\r\n        public TokenAuthenticationFilter tokenAuthenticationFilter() {\r\n            return new TokenAuthenticationFilter();\r\n        }\r\n    \r\n        /*\r\n          By default, Spring OAuth2 uses HttpSessionOAuth2AuthorizationRequestRepository to save\r\n          the authorization request. But, since our service is stateless, we can&#39;t save it in\r\n          the session. We&#39;ll save the request in a Base64 encoded cookie instead.\r\n        */\r\n        @Bean\r\n        public HttpCookieOAuth2AuthorizationRequestRepository cookieAuthorizationRequestRepository() {\r\n            return new HttpCookieOAuth2AuthorizationRequestRepository();\r\n        }\r\n        \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder\r\n                    .userDetailsService(customUserDetailsService)\r\n                    .passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors()\r\n                        .and()\r\n                    .sessionManagement()\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                        .and()\r\n                    .csrf()\r\n                        .disable()\r\n                    .formLogin()\r\n                        .disable()\r\n                    .httpBasic()\r\n                        .disable()\r\n                    .exceptionHandling()\r\n                        .authenticationEntryPoint(new RestAuthenticationEntryPoint())\r\n                        .and()\r\n                    .authorizeRequests()\r\n                        .antMatchers(&quot;/&quot;,\r\n                            &quot;/error&quot;,\r\n                            &quot;/favicon.ico&quot;,\r\n                            &quot;/**/*.png&quot;,\r\n                            &quot;/**/*.gif&quot;,\r\n                            &quot;/**/*.svg&quot;,\r\n                            &quot;/**/*.jpg&quot;,\r\n                            &quot;/**/*.html&quot;,\r\n                            &quot;/**/*.css&quot;,\r\n                            &quot;/**/*.js&quot;)\r\n                            .permitAll()\r\n                        .antMatchers(&quot;/auth/**&quot;, &quot;/oauth2/**&quot;)\r\n                            .permitAll()\r\n                        .anyRequest()\r\n                            .authenticated()\r\n                        .and()\r\n                    .oauth2Login()\r\n                        .authorizationEndpoint()\r\n                            .baseUri(&quot;/oauth2/authorize&quot;)\r\n                            .authorizationRequestRepository(cookieAuthorizationRequestRepository())\r\n                            .and()\r\n                        .redirectionEndpoint()\r\n                            .baseUri(&quot;/oauth2/callback/*&quot;)\r\n                            .and()\r\n                        .userInfoEndpoint()\r\n                            .userService(customOAuth2UserService)\r\n                            .and()\r\n                        .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                        .failureHandler(oAuth2AuthenticationFailureHandler);\r\n    \r\n            // Add our custom Token based authentication filter\r\n            http.addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n        \r\n        \r\n    \r\n    }\r\n\r\nTo do this app I was following this tutorial : \r\nhttps://www.callicoder.com/spring-boot-security-oauth2-social-login-part-2/\r\n\r\nAnybody knows what could be the problem? \r\nThanks","title":"Bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found. - Spring Security","body":"<p>I am developing a spring application with spring-security and login with google but I get this error when executing the application:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nMethod springSecurityFilterChain in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.\n\nThe following candidates were found but could not be injected:\n    - Bean method 'clientRegistrationRepository' in 'OAuth2ClientRegistrationRepositoryConfiguration' not loaded because OAuth2 Clients Configured Condition registered clients is not available\n\n\nAction:\n\nConsider revisiting the entries above or defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.\n</code></pre>\n\n<p>My application.yml:</p>\n\n<pre><code>spring:\n    datasource:\n        url: jdbc:mysql://localhost:3306/manager\n        username: application_spring\n        password: application_spring\n\n    jpa:\n        show-sql: true\n        hibernate:\n            ddl-auto: update\nsecurity:\n      oauth2:\n        client:\n          registration:\n            google:\n              client-id: {client id}\n              client-secret: {client-secret}\n              redirectUri: \"{baseUrl}/oauth2/callback/{registrationId}\"\n              scope:\n                - email\n                - profile\napp:\n  auth:\n    tokenSecret: 926D96C90030DD58429D2751AC1BDBBC\n    tokenExpirationMsec: 864000000\n  oauth2:\n    # After successfully authenticating with the OAuth2 Provider,\n    # we'll be generating an auth token for the user and sending the token to the\n    # redirectUri mentioned by the frontend client in the /oauth2/authorize request.\n    # We're not using cookies because they won't work well in mobile clients.\n    authorizedRedirectUris:\n      - http://localhost:3000/oauth2/redirect\n      - myandroidapp://oauth2/redirect\n      - myiosapp://oauth2/redirect\n</code></pre>\n\n<p>And my SecurityConfig class: </p>\n\n<pre><code>package com.manager.manager.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.web.AuthorizationRequestRepository;\nimport org.springframework.security.oauth2.core.endpoint.OAuth2AuthorizationRequest;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport com.manager.manager.security.oatuh2.CustomOAuth2UserService;\nimport com.manager.manager.security.oatuh2.HttpCookieOAuth2AuthorizationRequestRepository;\nimport com.manager.manager.security.oatuh2.OAuth2AuthenticationFailureHandler;\nimport com.manager.manager.security.oatuh2.OAuth2AuthenticationSuccessHandler;\nimport com.manager.manager.security.utils.RestAuthenticationEntryPoint;\nimport com.manager.manager.security.utils.TokenAuthenticationFilter;\nimport com.manager.manager.service.impl.CustomUserDetailsService;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        securedEnabled = true,\n        jsr250Enabled = true,\n        prePostEnabled = true\n)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Autowired\n    private CustomOAuth2UserService customOAuth2UserService;\n\n    @Autowired\n    private OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\n\n    @Autowired\n    private OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\n\n    @Autowired\n    private HttpCookieOAuth2AuthorizationRequestRepository httpCookieOAuth2AuthorizationRequestRepository;\n\n    @Bean\n    public TokenAuthenticationFilter tokenAuthenticationFilter() {\n        return new TokenAuthenticationFilter();\n    }\n\n    /*\n      By default, Spring OAuth2 uses HttpSessionOAuth2AuthorizationRequestRepository to save\n      the authorization request. But, since our service is stateless, we can't save it in\n      the session. We'll save the request in a Base64 encoded cookie instead.\n    */\n    @Bean\n    public HttpCookieOAuth2AuthorizationRequestRepository cookieAuthorizationRequestRepository() {\n        return new HttpCookieOAuth2AuthorizationRequestRepository();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder\n                .userDetailsService(customUserDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                    .and()\n                .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                    .and()\n                .csrf()\n                    .disable()\n                .formLogin()\n                    .disable()\n                .httpBasic()\n                    .disable()\n                .exceptionHandling()\n                    .authenticationEntryPoint(new RestAuthenticationEntryPoint())\n                    .and()\n                .authorizeRequests()\n                    .antMatchers(\"/\",\n                        \"/error\",\n                        \"/favicon.ico\",\n                        \"/**/*.png\",\n                        \"/**/*.gif\",\n                        \"/**/*.svg\",\n                        \"/**/*.jpg\",\n                        \"/**/*.html\",\n                        \"/**/*.css\",\n                        \"/**/*.js\")\n                        .permitAll()\n                    .antMatchers(\"/auth/**\", \"/oauth2/**\")\n                        .permitAll()\n                    .anyRequest()\n                        .authenticated()\n                    .and()\n                .oauth2Login()\n                    .authorizationEndpoint()\n                        .baseUri(\"/oauth2/authorize\")\n                        .authorizationRequestRepository(cookieAuthorizationRequestRepository())\n                        .and()\n                    .redirectionEndpoint()\n                        .baseUri(\"/oauth2/callback/*\")\n                        .and()\n                    .userInfoEndpoint()\n                        .userService(customOAuth2UserService)\n                        .and()\n                    .successHandler(oAuth2AuthenticationSuccessHandler)\n                    .failureHandler(oAuth2AuthenticationFailureHandler);\n\n        // Add our custom Token based authentication filter\n        http.addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n\n\n}\n</code></pre>\n\n<p>To do this app I was following this tutorial : \n<a href=\"https://www.callicoder.com/spring-boot-security-oauth2-social-login-part-2/\" rel=\"noreferrer\">https://www.callicoder.com/spring-boot-security-oauth2-social-login-part-2/</a></p>\n\n<p>Anybody knows what could be the problem? \nThanks</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1679521339,"post_id":75817479,"comment_id":133739133,"body_markdown":"*and when I have it for one of the objects it&#39;s becomes the same for next obects* Not here it doesn&#39;t. Show us a reproducible example. Not random methods.","body":"<i>and when I have it for one of the objects it&#39;s becomes the same for next obects</i> Not here it doesn&#39;t. Show us a reproducible example. Not random methods."}],"owner":{"account_id":12548460,"reputation":13,"user_id":9130980,"display_name":"Abdulhadi Heib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679596277,"creation_date":1679521197,"question_id":75817479,"body_markdown":"so I wanna get many user input for each proudct amount , and when I have it for one of the objects it&#39;s becomes the same for next objects.\r\n\r\nI have tried scanner.reset and doesn&#39;t work \r\n\r\nthe user should pick a choice and then pick an amount.\r\n```\r\npublic  static void  addItem() {\r\n        System.out.print(&quot;Please enter the grocery item number and the amount  #&quot;+ customerList.size()+&quot;: &quot;);\r\n        printProducts();\r\n      \r\n\r\n            System.out.println(&quot;Enter your choice: &quot;);\r\n           int choice1 = scanner.nextInt();\r\n\r\n            int amount1 = scanner.nextInt();\r\n\r\n                if (choice1 ==0) {\r\n                 \r\n                    customerList.addProducts(&quot;milk&quot;,amount1);\r\n                    \r\n                }\r\n                else if(choice1 ==1) {\r\n                  \r\n                    customerList.addProducts(&quot;cheese&quot;,amount1);\r\n                   \r\n                }\r\n}\r\n```\r\nthe addProudcts method is :\r\n```\r\npublic static void addProducts(String name,int amount){\r\n\r\n\r\n\r\n        switch (name) {\r\n            case &quot;milk&quot; :{\r\n                productWithPrice milk = new productWithPrice(&quot;milk&quot;,6.5,amount);\r\n\r\n                customerList.add(milk);\r\n               // System.out.println(milk.getProductName() + &quot;have been added to your shopping list&quot;);\r\n            }\r\n            case &quot;cheese&quot; :{\r\n                productWithPrice cheese = new productWithPrice(&quot;cheese&quot;,15.0,amount);\r\n\r\n                customerList.add(cheese);\r\n                //System.out.println(cheese.getProductName() + &quot;have been added to your shopping list&quot;);\r\n            }\r\n}\r\n}\r\n```\r\n\r\nand if I type the amount for milk(just for milk ) it will become the amount for cheese (the next obect)\r\nlike this \r\n```\r\n0:product{\tamount=2, product=\t&#39;milk&#39;, price=\t13.0}\r\n1:product{\tamount=2, product=\t&#39;cheese&#39;, price=\t30.0}\r\n```\r\n","title":"the scanner input get changed also for another instance of an object","body":"<p>so I wanna get many user input for each proudct amount , and when I have it for one of the objects it's becomes the same for next objects.</p>\n<p>I have tried scanner.reset and doesn't work</p>\n<p>the user should pick a choice and then pick an amount.</p>\n<pre><code>public  static void  addItem() {\n        System.out.print(&quot;Please enter the grocery item number and the amount  #&quot;+ customerList.size()+&quot;: &quot;);\n        printProducts();\n      \n\n            System.out.println(&quot;Enter your choice: &quot;);\n           int choice1 = scanner.nextInt();\n\n            int amount1 = scanner.nextInt();\n\n                if (choice1 ==0) {\n                 \n                    customerList.addProducts(&quot;milk&quot;,amount1);\n                    \n                }\n                else if(choice1 ==1) {\n                  \n                    customerList.addProducts(&quot;cheese&quot;,amount1);\n                   \n                }\n}\n</code></pre>\n<p>the addProudcts method is :</p>\n<pre><code>public static void addProducts(String name,int amount){\n\n\n\n        switch (name) {\n            case &quot;milk&quot; :{\n                productWithPrice milk = new productWithPrice(&quot;milk&quot;,6.5,amount);\n\n                customerList.add(milk);\n               // System.out.println(milk.getProductName() + &quot;have been added to your shopping list&quot;);\n            }\n            case &quot;cheese&quot; :{\n                productWithPrice cheese = new productWithPrice(&quot;cheese&quot;,15.0,amount);\n\n                customerList.add(cheese);\n                //System.out.println(cheese.getProductName() + &quot;have been added to your shopping list&quot;);\n            }\n}\n}\n</code></pre>\n<p>and if I type the amount for milk(just for milk ) it will become the amount for cheese (the next obect)\nlike this</p>\n<pre><code>0:product{  amount=2, product=  'milk', price=  13.0}\n1:product{  amount=2, product=  'cheese', price=    30.0}\n</code></pre>\n"},{"tags":["java","android","android-toast"],"comments":[{"owner":{"account_id":9115426,"reputation":25155,"user_id":6782707,"accept_rate":100,"display_name":"Edric"},"score":0,"creation_date":1613324014,"post_id":63312296,"comment_id":117034431,"body_markdown":"I just did some digging on the AOSP source code (well, the [Android Code Search](https://cs.android.com) website) and found the change which marked `Toast#setView` as deprecated (and even explained the rationale behind the change): https://cs.android.com/android/_/android/platform/frameworks/base/+/7b843abc1c7cd53096557909f31216b93c3ca674","body":"I just did some digging on the AOSP source code (well, the <a href=\"https://cs.android.com\" rel=\"nofollow noreferrer\">Android Code Search</a> website) and found the change which marked <code>Toast#setView</code> as deprecated (and even explained the rationale behind the change): <a href=\"https://cs.android.com/android/_/android/platform/frameworks/base/+/7b843abc1c7cd53096557909f31216b93c3ca674\" rel=\"nofollow noreferrer\">cs.android.com/android/_/android/platform/frameworks/base/+/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":4456117,"reputation":3177,"user_id":3626353,"accept_rate":100,"display_name":"MeLean"},"score":0,"creation_date":1629266840,"post_id":63312296,"comment_id":121637906,"body_markdown":"I am pretty sure that Google has rationale reasons for deprecating stuff.  The alternative of using a Snackbar is not a real option. The Snackbar requires a View to be created and shown but in some cases, the view is not easy to access rather the context.","body":"I am pretty sure that Google has rationale reasons for deprecating stuff.  The alternative of using a Snackbar is not a real option. The Snackbar requires a View to be created and shown but in some cases, the view is not easy to access rather the context."}],"answers":[{"tags":[],"owner":{"account_id":8964121,"reputation":12195,"user_id":6740698,"display_name":"Xenolion"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1598691584,"creation_date":1598691584,"answer_id":63645228,"question_id":63312296,"body_markdown":"Since `setView` is deprecated:\r\n\r\n&gt; This method was deprecated in API level 30.\r\nCustom toast views are deprecated. Apps can create a standard text toast with the `makeText(android.content.Context, java.lang.CharSequence, int)` method, or use a `Snackbar` when in the foreground. Starting from Android `Build.VERSION_CODES#R`, apps targeting API level `Build.VERSION_CODES#R` or higher that are in the background will not have custom toast views displayed.\r\n\r\nThis makes sense Toasts can be displayed on Top of other Apps, some Apps can trick users by creating custom Toasts on Top of other Apps for their advantage even if their App is on the Background. But if your App is in the Foreground your custom Toast will still be shown in all Android Versions.","title":"Method Toast.setView is deprecated","body":"<p>Since <code>setView</code> is deprecated:</p>\n<blockquote>\n<p>This method was deprecated in API level 30.\nCustom toast views are deprecated. Apps can create a standard text toast with the <code>makeText(android.content.Context, java.lang.CharSequence, int)</code> method, or use a <code>Snackbar</code> when in the foreground. Starting from Android <code>Build.VERSION_CODES#R</code>, apps targeting API level <code>Build.VERSION_CODES#R</code> or higher that are in the background will not have custom toast views displayed.</p>\n</blockquote>\n<p>This makes sense Toasts can be displayed on Top of other Apps, some Apps can trick users by creating custom Toasts on Top of other Apps for their advantage even if their App is on the Background. But if your App is in the Foreground your custom Toast will still be shown in all Android Versions.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614803455,"creation_date":1614790547,"answer_id":66461542,"question_id":63312296,"body_markdown":"The solution with setting a custom view on Toast is deprecated for API 30 and forward.\r\n\r\nDocumentation says\r\n\r\n&gt; This method was deprecated in API level 30. Custom toast views are\r\n&gt; deprecated. **Apps can create a standard text toast with the\r\n&gt; makeText(android.content.Context, java.lang.CharSequence, int) method,\r\n&gt; or use a Snackbar when in the foreground**. Starting from Android\r\n&gt; Build.VERSION_CODES#R, apps targeting API level Build.VERSION_CODES#R\r\n&gt; or higher that are in the background will not have custom toast views\r\n&gt; displayed.\r\n\r\nThere is a walkaround for some cases though\r\n\r\n    Toast.makeText(applicationContext,\r\n                    HtmlCompat.fromHtml(&quot;&lt;font color=&#39;red&#39;&gt;custom toast message&lt;/font&gt;&quot;, HtmlCompat.FROM_HTML_MODE_LEGACY),\r\n                    Toast.LENGTH_LONG).show()\r\n\r\nHtml color tag can also be  `&lt;font color=&#39;#ff6347&#39;&gt;`\r\n\r\nFor every modification that has to do with the displayed text, the above solution would be enough. You can for example make the text **bold** by inserting `&lt;b&gt;my text&lt;/b&gt;` or you maybe want to change the **font-family** with `&lt;font font-family=&#39;...&#39;&gt; my text &lt;/font&gt;` For all those changes that solution will be enough.\r\n\r\nIf you want to modify the container though with properties like **background-color** the only alternative is to use Snackbar. View can not be modified for Toast anymore.\r\n","title":"Method Toast.setView is deprecated","body":"<p>The solution with setting a custom view on Toast is deprecated for API 30 and forward.</p>\n<p>Documentation says</p>\n<blockquote>\n<p>This method was deprecated in API level 30. Custom toast views are\ndeprecated. <strong>Apps can create a standard text toast with the\nmakeText(android.content.Context, java.lang.CharSequence, int) method,\nor use a Snackbar when in the foreground</strong>. Starting from Android\nBuild.VERSION_CODES#R, apps targeting API level Build.VERSION_CODES#R\nor higher that are in the background will not have custom toast views\ndisplayed.</p>\n</blockquote>\n<p>There is a walkaround for some cases though</p>\n<pre><code>Toast.makeText(applicationContext,\n                HtmlCompat.fromHtml(&quot;&lt;font color='red'&gt;custom toast message&lt;/font&gt;&quot;, HtmlCompat.FROM_HTML_MODE_LEGACY),\n                Toast.LENGTH_LONG).show()\n</code></pre>\n<p>Html color tag can also be  <code>&lt;font color='#ff6347'&gt;</code></p>\n<p>For every modification that has to do with the displayed text, the above solution would be enough. You can for example make the text <strong>bold</strong> by inserting <code>&lt;b&gt;my text&lt;/b&gt;</code> or you maybe want to change the <strong>font-family</strong> with <code>&lt;font font-family='...'&gt; my text &lt;/font&gt;</code> For all those changes that solution will be enough.</p>\n<p>If you want to modify the container though with properties like <strong>background-color</strong> the only alternative is to use Snackbar. View can not be modified for Toast anymore.</p>\n"},{"tags":[],"owner":{"account_id":11075691,"reputation":326,"user_id":8132491,"display_name":"Hrudhay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617862440,"creation_date":1617834623,"answer_id":66994957,"question_id":63312296,"body_markdown":"As other answers already mentioned the reasons and to use snackbar/deafult toast, I will provide the alternative I use. \r\n\r\nWe may not able to customise the toast background but we can use [Spannable string][1] to customise the text displayed in the toast. The default toast background will be shown but using different span styles available under package: android.text.style, we can achieve custom text style in the toast message.\r\n\r\nExample custom toast which shows toast with text color in green and text size of 200 pixels.\r\n\r\n    val spannableString = SpannableString(&quot;Custom toast&quot;)\r\n    spannableString.setSpan(\r\n        ForegroundColorSpan(Color.GREEN), 0, spannableString.length, 0\r\n    )\r\n    spannableString.setSpan(\r\n        AbsoluteSizeSpan(200), 0, spannableString.length, 0\r\n    )\r\n    val toast = Toast.makeText(context, spannableString, Toast.LENGTH_SHORT)\r\n    toast.show()\r\n\r\nSpannable string reference: [spantastic text styling with spans][2]\r\n\r\n(PS: We could always show custom dialogs when app is running or custom notifications to show important messages to the users.)\r\n\r\n  [1]: https://developer.android.com/reference/android/text/SpannableString.html\r\n  [2]: https://medium.com/androiddevelopers/spantastic-text-styling-with-spans-17b0c16b4568","title":"Method Toast.setView is deprecated","body":"<p>As other answers already mentioned the reasons and to use snackbar/deafult toast, I will provide the alternative I use.</p>\n<p>We may not able to customise the toast background but we can use <a href=\"https://developer.android.com/reference/android/text/SpannableString.html\" rel=\"nofollow noreferrer\">Spannable string</a> to customise the text displayed in the toast. The default toast background will be shown but using different span styles available under package: android.text.style, we can achieve custom text style in the toast message.</p>\n<p>Example custom toast which shows toast with text color in green and text size of 200 pixels.</p>\n<pre><code>val spannableString = SpannableString(&quot;Custom toast&quot;)\nspannableString.setSpan(\n    ForegroundColorSpan(Color.GREEN), 0, spannableString.length, 0\n)\nspannableString.setSpan(\n    AbsoluteSizeSpan(200), 0, spannableString.length, 0\n)\nval toast = Toast.makeText(context, spannableString, Toast.LENGTH_SHORT)\ntoast.show()\n</code></pre>\n<p>Spannable string reference: <a href=\"https://medium.com/androiddevelopers/spantastic-text-styling-with-spans-17b0c16b4568\" rel=\"nofollow noreferrer\">spantastic text styling with spans</a></p>\n<p>(PS: We could always show custom dialogs when app is running or custom notifications to show important messages to the users.)</p>\n"},{"tags":[],"owner":{"account_id":2177236,"reputation":1539,"user_id":2631304,"accept_rate":70,"display_name":"steven smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675880738,"creation_date":1675880738,"answer_id":75390184,"question_id":63312296,"body_markdown":"I wrote a short Kotlin extension function to do this using spannable.  Note that it returns a toast that you  need to &quot;show&quot;.\r\n\r\n    fun Context.spToPix(sp: Int): Int =\r\n        (sp * Resources.getSystem().displayMetrics.scaledDensity).toInt()\r\n    fun Context.fontSizeToast(\r\n        fontSize: Int,\r\n        mess: String,\r\n        displayTime: Int = Toast.LENGTH_LONG\r\n    ): Toast {\r\n        val ssMess = SpannableString(mess)\r\n        ssMess.setSpan(\r\n            AbsoluteSizeSpan(spToPix(fontSize)),\r\n            0, ssMess.length, 0\r\n        )\r\n        return Toast.makeText(this, ssMess, displayTime)\r\n    }\r\n\r\n","title":"Method Toast.setView is deprecated","body":"<p>I wrote a short Kotlin extension function to do this using spannable.  Note that it returns a toast that you  need to &quot;show&quot;.</p>\n<pre><code>fun Context.spToPix(sp: Int): Int =\n    (sp * Resources.getSystem().displayMetrics.scaledDensity).toInt()\nfun Context.fontSizeToast(\n    fontSize: Int,\n    mess: String,\n    displayTime: Int = Toast.LENGTH_LONG\n): Toast {\n    val ssMess = SpannableString(mess)\n    ssMess.setSpan(\n        AbsoluteSizeSpan(spToPix(fontSize)),\n        0, ssMess.length, 0\n    )\n    return Toast.makeText(this, ssMess, displayTime)\n}\n</code></pre>\n"}],"owner":{"account_id":15677460,"reputation":769,"user_id":11312366,"display_name":"HasanToufiqAhamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12907,"favorite_count":0,"down_vote_count":2,"up_vote_count":16,"accepted_answer_id":63645228,"answer_count":4,"score":14,"last_activity_date":1679596229,"creation_date":1596866225,"question_id":63312296,"body_markdown":"While I&#39;m doing custom toast on my app, I noticed that setView is deprecated.\r\n\r\n[![Code Screenshot][1]][1]\r\n\r\nDoes anyone have a solution for this?\r\n\r\n\r\n    toast.setView(customView);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CwrA4.png","title":"Method Toast.setView is deprecated","body":"<p>While I'm doing custom toast on my app, I noticed that setView is deprecated.</p>\n<p><a href=\"https://i.stack.imgur.com/CwrA4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CwrA4.png\" alt=\"Code Screenshot\" /></a></p>\n<p>Does anyone have a solution for this?</p>\n<pre><code>toast.setView(customView);\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":1596692,"reputation":4260,"user_id":1478636,"accept_rate":88,"display_name":"Niko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679596220,"creation_date":1679586077,"question_id":75825106,"body_markdown":"I have to consume a third-party API that segments its host URL per resource.\r\n\r\nSo for my third-party, they have URLs that are templated like this:\r\n```\r\nhttps://&lt;high-level-resource-id-foo&gt;.example.com/&lt;path-to-lower-resource-bar&gt;\r\n```\r\n\r\nand my client code is structured to consume a host URL in its constructor and then perform work on the low level resources.\r\n\r\n```\r\n// Bean definition\r\n@Bean\r\npublic FooExampleClient fooExampleClient(@Value(&quot;${foo-client.host}&quot; String host) {\r\n    return new FooExampleClient(host);\r\n}\r\n\r\n// Consumed later as a dependency elsewhere.\r\npublic void elsewhere(int barId) {\r\n    this.fooExampleClient.doWork(barId);\r\n}\r\n```\r\n\r\nWhich fits into most spring properties structures fairly easily:\r\n```ini\r\nfoo-client.host=https://123.example.com\r\n```\r\n\r\nMy requirements, I&#39;ve found much later, now require my application to work on multiple high-level resources in this third-party.\r\n\r\nIs there a clean or relatively simply way to structure configuration classes and properties so that I can define multiple clients easily and relatively dynamically without a lot of specifically hard-coded references per needed client?\r\n\r\nI imagine the properties to look something like this:\r\n\r\n```ini\r\nfoo-client.foo-a.url=https://foo-a.example.com\r\nfoo-client.foo-b.url=https://foo-b.example.com\r\n// ...\r\nfoo-client.foo-zzz.url=https://foo-zzz.example.com\r\n```\r\n\r\nbut I don&#39;t know how I&#39;d dynamically &quot;look up&quot; a client for `foo-a` or `foo-b` without hard-coding references to either. Can dynamically iterate over each client so I can drive the application by my configuration and add/delete clients by updating the properties?","title":"Spring Boot: How do I create properties that paramterize multiple beans of the same type?","body":"<p>I have to consume a third-party API that segments its host URL per resource.</p>\n<p>So for my third-party, they have URLs that are templated like this:</p>\n<pre><code>https://&lt;high-level-resource-id-foo&gt;.example.com/&lt;path-to-lower-resource-bar&gt;\n</code></pre>\n<p>and my client code is structured to consume a host URL in its constructor and then perform work on the low level resources.</p>\n<pre><code>// Bean definition\n@Bean\npublic FooExampleClient fooExampleClient(@Value(&quot;${foo-client.host}&quot; String host) {\n    return new FooExampleClient(host);\n}\n\n// Consumed later as a dependency elsewhere.\npublic void elsewhere(int barId) {\n    this.fooExampleClient.doWork(barId);\n}\n</code></pre>\n<p>Which fits into most spring properties structures fairly easily:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>foo-client.host=https://123.example.com\n</code></pre>\n<p>My requirements, I've found much later, now require my application to work on multiple high-level resources in this third-party.</p>\n<p>Is there a clean or relatively simply way to structure configuration classes and properties so that I can define multiple clients easily and relatively dynamically without a lot of specifically hard-coded references per needed client?</p>\n<p>I imagine the properties to look something like this:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>foo-client.foo-a.url=https://foo-a.example.com\nfoo-client.foo-b.url=https://foo-b.example.com\n// ...\nfoo-client.foo-zzz.url=https://foo-zzz.example.com\n</code></pre>\n<p>but I don't know how I'd dynamically &quot;look up&quot; a client for <code>foo-a</code> or <code>foo-b</code> without hard-coding references to either. Can dynamically iterate over each client so I can drive the application by my configuration and add/delete clients by updating the properties?</p>\n"},{"tags":["java","collections","concurrency"],"answers":[{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679596111,"creation_date":1406470482,"answer_id":24981832,"question_id":24981551,"body_markdown":"Yes, assuming multiple threads are interacting with the set, and at least one is modifying, there are concurrency concerns.  In particular, you mention multiple threads doing the add operation, which is definitely going to cause problems - worse however, they may not raise `ConcurrentModificationException`s.\r\n\r\nThe purpose of `ConcurrentModificationException` is to alert you to clearly erroneous concurrency issues, such as attempting to remove an item from a collection as you iterate over it (it&#39;s unclear what the collection should even do, in such a case).  However the exception can only be raised when the collection is aware of the erroneous modification.  Since the collection is not thread-safe it explicitly does not guarantee multi-threaded operations will be done correctly, and you are expected to take care of manually protecting the collection yourself.\r\n\r\nThe easiest, though least efficient, way to do this is to wrap the set with [`Collections.synchronizedSortedSet()`][1] before using it, i.e.:\r\n\r\n    SortedSet synchronizedSet = Collections.synchronizedSortedSet(new TreeSet());\r\n\r\nThis ensures that each method call will be done in serial, that is to say they will block waiting for any earlier calls to finish.  However as such, you essentially lose most of the benefits of multi-threading.\r\n\r\n\r\nAnother alternative is to use an explicitly thread-safe `SortedSet`, namely [`ConcurrentSkipListSet`][2]:\r\n\r\n&gt; This implementation provides expected average `log(n)` time cost for the `contains`, `add`, and `remove` operations and their variants. Insertion, removal, and access operations safely execute concurrently by multiple threads.\r\n\r\nThis implementation allows you to interact with the set from multiple threads without further concern.  That isn&#39;t to say it is the *best* way to implement the behavior you&#39;re looking for, but given what you&#39;ve described - add and access the maximum value in a sorted set from multiple threads - it&#39;s what you&#39;re looking for.\r\n\r\nSee also: https://stackoverflow.com/q/1904439/113632\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#synchronizedSortedSet%28java.util.SortedSet%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html","title":"Concurrency on Treeset using last method","body":"<p>Yes, assuming multiple threads are interacting with the set, and at least one is modifying, there are concurrency concerns.  In particular, you mention multiple threads doing the add operation, which is definitely going to cause problems - worse however, they may not raise <code>ConcurrentModificationException</code>s.</p>\n<p>The purpose of <code>ConcurrentModificationException</code> is to alert you to clearly erroneous concurrency issues, such as attempting to remove an item from a collection as you iterate over it (it's unclear what the collection should even do, in such a case).  However the exception can only be raised when the collection is aware of the erroneous modification.  Since the collection is not thread-safe it explicitly does not guarantee multi-threaded operations will be done correctly, and you are expected to take care of manually protecting the collection yourself.</p>\n<p>The easiest, though least efficient, way to do this is to wrap the set with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#synchronizedSortedSet%28java.util.SortedSet%29\" rel=\"nofollow noreferrer\"><code>Collections.synchronizedSortedSet()</code></a> before using it, i.e.:</p>\n<pre><code>SortedSet synchronizedSet = Collections.synchronizedSortedSet(new TreeSet());\n</code></pre>\n<p>This ensures that each method call will be done in serial, that is to say they will block waiting for any earlier calls to finish.  However as such, you essentially lose most of the benefits of multi-threading.</p>\n<p>Another alternative is to use an explicitly thread-safe <code>SortedSet</code>, namely <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListSet</code></a>:</p>\n<blockquote>\n<p>This implementation provides expected average <code>log(n)</code> time cost for the <code>contains</code>, <code>add</code>, and <code>remove</code> operations and their variants. Insertion, removal, and access operations safely execute concurrently by multiple threads.</p>\n</blockquote>\n<p>This implementation allows you to interact with the set from multiple threads without further concern.  That isn't to say it is the <em>best</em> way to implement the behavior you're looking for, but given what you've described - add and access the maximum value in a sorted set from multiple threads - it's what you're looking for.</p>\n<p>See also: <a href=\"https://stackoverflow.com/q/1904439/113632\">When is a ConcurrentSkipListSet useful?</a></p>\n"}],"owner":{"account_id":2551005,"reputation":1070,"user_id":2214751,"accept_rate":72,"display_name":"Juan Vega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6576,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24981832,"answer_count":1,"score":2,"last_activity_date":1679596111,"creation_date":1406468438,"question_id":24981551,"body_markdown":"I want to implement a bean where I have a `TreeSet` that is storing integers in sorted order. The only methods that use this `TreeSet` are `addValue` that is adding a new integer to the set, and `getHighestValue` that is returning the last value in the set using the method `last()` from `SortedSet`. \r\n\r\nIs there any concurrency issue here? I&#39;m not using any explicit iterator so there shouldn&#39;t be any concurrency problem when fetching the highest value but I don&#39;t know if last method can throw any `ConcurrentModificationException` or any other exception if two threads try to add and get the highest value at the same time.","title":"Concurrency on Treeset using last method","body":"<p>I want to implement a bean where I have a <code>TreeSet</code> that is storing integers in sorted order. The only methods that use this <code>TreeSet</code> are <code>addValue</code> that is adding a new integer to the set, and <code>getHighestValue</code> that is returning the last value in the set using the method <code>last()</code> from <code>SortedSet</code>. </p>\n\n<p>Is there any concurrency issue here? I'm not using any explicit iterator so there shouldn't be any concurrency problem when fetching the highest value but I don't know if last method can throw any <code>ConcurrentModificationException</code> or any other exception if two threads try to add and get the highest value at the same time.</p>\n"},{"tags":["java","list","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679484713,"creation_date":1679483646,"answer_id":75811535,"question_id":75809077,"body_markdown":"When the page loads first time, only 4 elements are visible, as and when user scrolls down, the rest 13 elements will be loaded/visible on the page. Your automation script should imitate this i.e. scroll down slowly until all elements are visible. Only after that try to locate the elements and print it.\r\n\r\nYou can use below method to scroll down until it reaches the page footer.\r\n````\r\npublic static void scrollSlowly(WebDriver driver){\r\n\tint j = driver.findElement(By.xpath(&quot;//a[text()=&#39;Brand Directory&#39;]&quot;)).getLocation().getY();\r\n\tfor(int i=0;i&lt;j;i++) {\r\n\t   ((JavascriptExecutor) driver).executeScript(&quot;window.scrollBy(0,1)&quot;, &quot;&quot;);\r\n\t   j = driver.findElement(By.xpath(&quot;//a[text()=&#39;Brand Directory&#39;]&quot;)).getLocation().getY();\r\n\t}\r\n}\r\n````\r\n\r\nYou can call this method just before capturing the elements(see below):\r\n````\r\nscrollSlowly(driver);\r\nList&lt;WebElement&gt; con = driver.findElements(By.xpath(&quot;//div[@class=&#39;_2CIhCB&#39;]/h2&quot;));\r\n````\r\n\r\n**Full working code:**\r\n````\r\n\r\ndriver.get(&quot;https://www.flipkart.com/&quot;);\r\ndriver.manage().window().maximize();\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\ndriver.findElement(By.xpath(&quot;//button[@class=&#39;_2KpZ6l _2doB4z&#39;]&quot;)).click();\r\nscrollSlowly(driver);\r\nList&lt;WebElement&gt; con = driver.findElements(By.xpath(&quot;//div[@class=&#39;_2CIhCB&#39;]/h2&quot;));\r\n\tfor (WebElement e : con) {\r\n\t\tSystem.out.println(e.getText());\r\n\t}\r\n````\r\n\r\n**Console Output:**\r\n````\r\nBest of Electronics\r\nBeauty, Food, Toys &amp; more\r\nShop for a Cool Summer\r\nSports, Healthcare &amp; more\r\nHome &amp; Kitchen Essentials\r\nGrooming, Books, Auto &amp; more\r\nFashion Top Deals\r\nTop Deals\r\nBooks, Toys &amp; More\r\nPick Your Styles\r\nTop Deals On TVs &amp; Appliances\r\nBeauty, Food &amp; More\r\nFashion Best Sellers\r\n\r\n````","title":"How to locate web elements which only gets visible after scrolling down the page in Java and Selenium","body":"<p>When the page loads first time, only 4 elements are visible, as and when user scrolls down, the rest 13 elements will be loaded/visible on the page. Your automation script should imitate this i.e. scroll down slowly until all elements are visible. Only after that try to locate the elements and print it.</p>\n<p>You can use below method to scroll down until it reaches the page footer.</p>\n<pre><code>public static void scrollSlowly(WebDriver driver){\n    int j = driver.findElement(By.xpath(&quot;//a[text()='Brand Directory']&quot;)).getLocation().getY();\n    for(int i=0;i&lt;j;i++) {\n       ((JavascriptExecutor) driver).executeScript(&quot;window.scrollBy(0,1)&quot;, &quot;&quot;);\n       j = driver.findElement(By.xpath(&quot;//a[text()='Brand Directory']&quot;)).getLocation().getY();\n    }\n}\n</code></pre>\n<p>You can call this method just before capturing the elements(see below):</p>\n<pre><code>scrollSlowly(driver);\nList&lt;WebElement&gt; con = driver.findElements(By.xpath(&quot;//div[@class='_2CIhCB']/h2&quot;));\n</code></pre>\n<p><strong>Full working code:</strong></p>\n<pre><code>\ndriver.get(&quot;https://www.flipkart.com/&quot;);\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\ndriver.findElement(By.xpath(&quot;//button[@class='_2KpZ6l _2doB4z']&quot;)).click();\nscrollSlowly(driver);\nList&lt;WebElement&gt; con = driver.findElements(By.xpath(&quot;//div[@class='_2CIhCB']/h2&quot;));\n    for (WebElement e : con) {\n        System.out.println(e.getText());\n    }\n</code></pre>\n<p><strong>Console Output:</strong></p>\n<pre><code>Best of Electronics\nBeauty, Food, Toys &amp; more\nShop for a Cool Summer\nSports, Healthcare &amp; more\nHome &amp; Kitchen Essentials\nGrooming, Books, Auto &amp; more\nFashion Top Deals\nTop Deals\nBooks, Toys &amp; More\nPick Your Styles\nTop Deals On TVs &amp; Appliances\nBeauty, Food &amp; More\nFashion Best Sellers\n\n</code></pre>\n"}],"owner":{"account_id":28082878,"reputation":1,"user_id":21453665,"display_name":"user21453665"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679596093,"creation_date":1679467250,"question_id":75809077,"body_markdown":"**Code:**\r\n````\r\nList&lt;WebElement&gt; con =d.findElements(By.xpath(&quot;//div[@class=&#39;_2CIhCB&#39;]/h2&quot;));\r\nfor(WebElement e:con) {\r\nSystem.out.println(e.getText());\r\n}\r\n````\r\n**Output**:\r\n````\r\nBest of Electronics\r\nBeauty, Food, Toys &amp; more\r\nShop for a Cool Summer\r\nSports, Healthcare &amp; more\r\n````\r\nIt only prints 4 element text instead of 12 elements. In list only 4 element content is loading the rest of them are skipped. I used scroll method to scroll the page and load the element but it only printing 4.","title":"How to locate web elements which only gets visible after scrolling down the page in Java and Selenium","body":"<p><strong>Code:</strong></p>\n<pre><code>List&lt;WebElement&gt; con =d.findElements(By.xpath(&quot;//div[@class='_2CIhCB']/h2&quot;));\nfor(WebElement e:con) {\nSystem.out.println(e.getText());\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Best of Electronics\nBeauty, Food, Toys &amp; more\nShop for a Cool Summer\nSports, Healthcare &amp; more\n</code></pre>\n<p>It only prints 4 element text instead of 12 elements. In list only 4 element content is loading the rest of them are skipped. I used scroll method to scroll the page and load the element but it only printing 4.</p>\n"},{"tags":["java","swing","if-statement"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679583996,"post_id":75824633,"comment_id":133750803,"body_markdown":"You would do that by intervening in the `actionPerformed` code where you do the parsing of entered numbers. A `JOptionPane` could be used for errors","body":"You would do that by intervening in the <code>actionPerformed</code> code where you do the parsing of entered numbers. A <code>JOptionPane</code> could be used for errors"},{"owner":{"account_id":28105536,"reputation":13,"user_id":21474182,"display_name":"Coder_Andr3"},"score":0,"creation_date":1679584385,"post_id":75824633,"comment_id":133750950,"body_markdown":"@g00se Yeah I was trying to do a JOptionPane for that but I was doing it in the wrong code block, thanks for the tip,","body":"@g00se Yeah I was trying to do a JOptionPane for that but I was doing it in the wrong code block, thanks for the tip,"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679585727,"post_id":75824633,"comment_id":133751368,"body_markdown":"I don&#39;t see any effort of _if you enter a negative value for the amount of things you want to order, it will display an error message_ nor the second part of the title .. go ahead and give it a try :)","body":"I don&#39;t see any effort of <i>if you enter a negative value for the amount of things you want to order, it will display an error message</i> nor the second part of the title .. go ahead and give it a try :)"}],"answers":[{"tags":[],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679596021,"creation_date":1679596021,"answer_id":75826781,"question_id":75824633,"body_markdown":"After the first comment in calculateButton.addActionListener(), add the if/else like this:\r\n\r\n    if(nSodas &gt; 0 &amp;&amp; nSandwiches &gt; 0 &amp;&amp; nBanannas &gt; 0) {\r\n    //calculate the subtotal and return the total.\r\n    } else {\r\n    //display error\r\n    }","title":"Trying to use an if-else statement to make an error message pop up if a negative number is entered or if the amount entered is too high","body":"<p>After the first comment in calculateButton.addActionListener(), add the if/else like this:</p>\n<pre><code>if(nSodas &gt; 0 &amp;&amp; nSandwiches &gt; 0 &amp;&amp; nBanannas &gt; 0) {\n//calculate the subtotal and return the total.\n} else {\n//display error\n}\n</code></pre>\n"}],"owner":{"account_id":28105536,"reputation":13,"user_id":21474182,"display_name":"Coder_Andr3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75826781,"answer_count":1,"score":-1,"last_activity_date":1679596021,"creation_date":1679583619,"question_id":75824633,"body_markdown":"I&#39;m trying to do this assignment where we need to modify code we submitted for an assignment weeks ago to now include error validation through if-else statements. The modified code is supposed to make it to where if you enter a negative value for the amount of things you want to order, it will display an error message. An error message would also be displayed if you order an amount that is beyond the maximum value. [enter image description here](https://i.stack.imgur.com/fZ2al.png)\r\n\r\nThe code I used for the assignment a few weeks ago is below, but my main issue is I am unsure of how to input the if-else statements that will enable the error messages to pop up if I was to enter the negative numbers or amounts that exceed the maximum value. I could really use the help\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Scanner;\r\n\r\n    public class AndreLunchShop {\r\n\r\n        // declaring the constants and their prices\r\n        private static final double COST_PER_SODA = 1;   \r\n        private static final double COST_PER_SANDWICH = 3;   \r\n        private static final double COST_PER_BANANA = 0.5;   \r\n        private static final double TAX_PERCENT = 0.07;   \r\n\r\n        // creating the title frame and the panel to hold all the components within\r\n        public static void main(String[] args) {\r\n            JFrame mainFrame = new JFrame(&quot;Andre&#39;s Lunch Shop&quot;);      \r\n            JPanel mainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));    \r\n\r\n            // creating the panel, label, and text field for the cost of a soda based on user input\r\n            JPanel sodaSubPanel = new JPanel(new GridLayout(1, 3));   \r\n            JLabel sodaNameLabel = new JLabel(&quot;Soda&quot;);  \r\n            JLabel sodaCostLabel = new JLabel(&quot;$1 per Soda&quot;);  \r\n            JTextField nSodasField = new JTextField(10);\r\n     \r\n            // adding the panel, label, and text field to the sub panel\r\n            sodaSubPanel.add(sodaNameLabel);    \r\n            sodaSubPanel.add(sodaCostLabel);    \r\n            sodaSubPanel.add(nSodasField);    \r\n        \r\n            // creating the panel, label, and text field for the cost of a sandwich based on user input\r\n            JPanel sandwichSubPanel = new JPanel(new GridLayout(1, 3));   \r\n            JLabel sandwichNameLabel = new JLabel(&quot;Sandwich&quot;);  \r\n            JLabel sandwichCostLabel = new JLabel(&quot;$3 per Sandwich&quot;);  \r\n            JTextField nSandwichesField = new JTextField(10);\r\n       \r\n            // adding the panel, label, and text field to the sub panel\r\n            sandwichSubPanel.add(sandwichNameLabel);    \r\n            sandwichSubPanel.add(sandwichCostLabel);    \r\n            sandwichSubPanel.add(nSandwichesField);    \r\n        \r\n            // creating the panel, label, and text field for the cost of a banana based on user input\r\n            JPanel bananaSubPanel = new JPanel(new GridLayout(1, 3));   \r\n            JLabel bananaNameLabel = new JLabel(&quot;Banana&quot;);  \r\n            JLabel bananaCostLabel = new JLabel(&quot;$0.50 per Banana&quot;);  \r\n            JTextField nBananasField = new JTextField(10);  \r\n      \r\n            // adding the panel, label, and text field to the sub panel\r\n            bananaSubPanel.add(bananaNameLabel);    \r\n            bananaSubPanel.add(bananaCostLabel);    \r\n            bananaSubPanel.add(nBananasField);    \r\n    \r\n            // creating a sub panel with a button to calculate the order\r\n            JPanel buttonSubPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));   \r\n            JButton calculateButton = new JButton(&quot;Calculate&quot;); \r\n    \r\n            // adding the &quot;Calculate&quot; button to the sub panel\r\n            buttonSubPanel.add(calculateButton);    \r\n\r\n            // creating a sub panel with an uneditable text area and border to display order total\r\n            JPanel orderTotalSubPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));   \r\n            JTextArea orderTotalArea = new JTextArea(10, 30);    \r\n            orderTotalArea.setEditable(false);  \r\n            Border border = BorderFactory.createTitledBorder(&quot;Your Order Total&quot;);    \r\n            orderTotalArea.setBorder(border);   \r\n        \r\n            // adds text area to the order total\r\n            orderTotalSubPanel.add(orderTotalArea);    \r\n\r\n            // adds all the sub panels to the main panel\r\n            mainPanel.add(sodaSubPanel);  \r\n            mainPanel.add(sandwichSubPanel);  \r\n            mainPanel.add(bananaSubPanel);  \r\n            mainPanel.add(buttonSubPanel);  \r\n            mainPanel.add(orderTotalSubPanel);  \r\n\r\n            // adds the main panel to the mainframe\r\n            mainFrame.add(mainPanel);   \r\n    \r\n            // sets the initial size of the mainframe and the ability to close properly\r\n            mainFrame.setSize(380, 370);                    \r\n            mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    \r\n            mainFrame.setLocationRelativeTo(null);                      \r\n            mainFrame.setVisible(true);                                \r\n  \r\n            calculateButton.addActionListener(new ActionListener() {\r\n           \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n               \r\n                    if(nSodasField.getText().equals(&quot;&quot;) || nSandwichesField.getText().equals(&quot;&quot;) || nBananasField.getText().equals(&quot;&quot;)) {\r\n                  \r\n                        JOptionPane.showMessageDialog(null, &quot;Please enter details for all the food items!&quot;);\r\n                    return;\r\n                    }\r\n                    int nSodas = Integer.parseInt(nSodasField.getText().trim());    \r\n                    int nSandwiches = Integer.parseInt(nSandwichesField.getText().trim());    \r\n                    int nBananas = Integer.parseInt(nBananasField.getText().trim());    \r\n                    // get the number of sodas, sandwiches, and bananas to parse into integers\r\n              \r\n                    // calculates the order subtotal, the tax, and the order total after applying the 7% tax\r\n                    double orderSubTotal = (nSodas * COST_PER_SODA) + (nSandwiches * COST_PER_SANDWICH) + (nBananas * COST_PER_BANANA);    \r\n                    double tax = (orderSubTotal * TAX_PERCENT); \r\n                    double orderTotal = (orderSubTotal + tax);  \r\n               \r\n                    String orderString = &quot;WELCOME TO THE SHOP:\\n&quot; +\r\n                        &quot;-------------------------------------\\n&quot; +\r\n                        &quot;Soda: &quot; + nSodas + &quot;\\nSandwich: &quot; + nSandwiches + &quot;\\nBananas: &quot; + nBananas + &quot;\\n&quot; +\r\n                        &quot;====================\\n&quot; +\r\n                        &quot;Order Sub-total: $&quot; + String.format(&quot;%.2f&quot;, orderSubTotal) + &quot;\\n&quot; +\r\n                        &quot;Tax at 7%: $&quot; + String.format(&quot;%.2f&quot;, tax) + &quot;\\n&quot; +\r\n                        &quot;Order Total: $&quot; + String.format(&quot;%.2f&quot;, orderTotal) + &quot;\\nThank You!&quot;;\r\n                        \r\n                // order detail string is set to the text area\r\n                orderTotalArea.setText(orderString);    \r\n            }\r\n        });\r\n    }\r\n}","title":"Trying to use an if-else statement to make an error message pop up if a negative number is entered or if the amount entered is too high","body":"<p>I'm trying to do this assignment where we need to modify code we submitted for an assignment weeks ago to now include error validation through if-else statements. The modified code is supposed to make it to where if you enter a negative value for the amount of things you want to order, it will display an error message. An error message would also be displayed if you order an amount that is beyond the maximum value. <a href=\"https://i.stack.imgur.com/fZ2al.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The code I used for the assignment a few weeks ago is below, but my main issue is I am unsure of how to input the if-else statements that will enable the error messages to pop up if I was to enter the negative numbers or amounts that exceed the maximum value. I could really use the help</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.Border;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Scanner;\n\npublic class AndreLunchShop {\n\n    // declaring the constants and their prices\n    private static final double COST_PER_SODA = 1;   \n    private static final double COST_PER_SANDWICH = 3;   \n    private static final double COST_PER_BANANA = 0.5;   \n    private static final double TAX_PERCENT = 0.07;   \n\n    // creating the title frame and the panel to hold all the components within\n    public static void main(String[] args) {\n        JFrame mainFrame = new JFrame(&quot;Andre's Lunch Shop&quot;);      \n        JPanel mainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));    \n\n        // creating the panel, label, and text field for the cost of a soda based on user input\n        JPanel sodaSubPanel = new JPanel(new GridLayout(1, 3));   \n        JLabel sodaNameLabel = new JLabel(&quot;Soda&quot;);  \n        JLabel sodaCostLabel = new JLabel(&quot;$1 per Soda&quot;);  \n        JTextField nSodasField = new JTextField(10);\n \n        // adding the panel, label, and text field to the sub panel\n        sodaSubPanel.add(sodaNameLabel);    \n        sodaSubPanel.add(sodaCostLabel);    \n        sodaSubPanel.add(nSodasField);    \n    \n        // creating the panel, label, and text field for the cost of a sandwich based on user input\n        JPanel sandwichSubPanel = new JPanel(new GridLayout(1, 3));   \n        JLabel sandwichNameLabel = new JLabel(&quot;Sandwich&quot;);  \n        JLabel sandwichCostLabel = new JLabel(&quot;$3 per Sandwich&quot;);  \n        JTextField nSandwichesField = new JTextField(10);\n   \n        // adding the panel, label, and text field to the sub panel\n        sandwichSubPanel.add(sandwichNameLabel);    \n        sandwichSubPanel.add(sandwichCostLabel);    \n        sandwichSubPanel.add(nSandwichesField);    \n    \n        // creating the panel, label, and text field for the cost of a banana based on user input\n        JPanel bananaSubPanel = new JPanel(new GridLayout(1, 3));   \n        JLabel bananaNameLabel = new JLabel(&quot;Banana&quot;);  \n        JLabel bananaCostLabel = new JLabel(&quot;$0.50 per Banana&quot;);  \n        JTextField nBananasField = new JTextField(10);  \n  \n        // adding the panel, label, and text field to the sub panel\n        bananaSubPanel.add(bananaNameLabel);    \n        bananaSubPanel.add(bananaCostLabel);    \n        bananaSubPanel.add(nBananasField);    \n\n        // creating a sub panel with a button to calculate the order\n        JPanel buttonSubPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));   \n        JButton calculateButton = new JButton(&quot;Calculate&quot;); \n\n        // adding the &quot;Calculate&quot; button to the sub panel\n        buttonSubPanel.add(calculateButton);    \n\n        // creating a sub panel with an uneditable text area and border to display order total\n        JPanel orderTotalSubPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));   \n        JTextArea orderTotalArea = new JTextArea(10, 30);    \n        orderTotalArea.setEditable(false);  \n        Border border = BorderFactory.createTitledBorder(&quot;Your Order Total&quot;);    \n        orderTotalArea.setBorder(border);   \n    \n        // adds text area to the order total\n        orderTotalSubPanel.add(orderTotalArea);    \n\n        // adds all the sub panels to the main panel\n        mainPanel.add(sodaSubPanel);  \n        mainPanel.add(sandwichSubPanel);  \n        mainPanel.add(bananaSubPanel);  \n        mainPanel.add(buttonSubPanel);  \n        mainPanel.add(orderTotalSubPanel);  \n\n        // adds the main panel to the mainframe\n        mainFrame.add(mainPanel);   \n\n        // sets the initial size of the mainframe and the ability to close properly\n        mainFrame.setSize(380, 370);                    \n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    \n        mainFrame.setLocationRelativeTo(null);                      \n        mainFrame.setVisible(true);                                \n\n        calculateButton.addActionListener(new ActionListener() {\n       \n            @Override\n            public void actionPerformed(ActionEvent e) {\n           \n                if(nSodasField.getText().equals(&quot;&quot;) || nSandwichesField.getText().equals(&quot;&quot;) || nBananasField.getText().equals(&quot;&quot;)) {\n              \n                    JOptionPane.showMessageDialog(null, &quot;Please enter details for all the food items!&quot;);\n                return;\n                }\n                int nSodas = Integer.parseInt(nSodasField.getText().trim());    \n                int nSandwiches = Integer.parseInt(nSandwichesField.getText().trim());    \n                int nBananas = Integer.parseInt(nBananasField.getText().trim());    \n                // get the number of sodas, sandwiches, and bananas to parse into integers\n          \n                // calculates the order subtotal, the tax, and the order total after applying the 7% tax\n                double orderSubTotal = (nSodas * COST_PER_SODA) + (nSandwiches * COST_PER_SANDWICH) + (nBananas * COST_PER_BANANA);    \n                double tax = (orderSubTotal * TAX_PERCENT); \n                double orderTotal = (orderSubTotal + tax);  \n           \n                String orderString = &quot;WELCOME TO THE SHOP:\\n&quot; +\n                    &quot;-------------------------------------\\n&quot; +\n                    &quot;Soda: &quot; + nSodas + &quot;\\nSandwich: &quot; + nSandwiches + &quot;\\nBananas: &quot; + nBananas + &quot;\\n&quot; +\n                    &quot;====================\\n&quot; +\n                    &quot;Order Sub-total: $&quot; + String.format(&quot;%.2f&quot;, orderSubTotal) + &quot;\\n&quot; +\n                    &quot;Tax at 7%: $&quot; + String.format(&quot;%.2f&quot;, tax) + &quot;\\n&quot; +\n                    &quot;Order Total: $&quot; + String.format(&quot;%.2f&quot;, orderTotal) + &quot;\\nThank You!&quot;;\n                    \n            // order detail string is set to the text area\n            orderTotalArea.setText(orderString);    \n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679644843,"post_id":75826701,"comment_id":133761413,"body_markdown":"Check your tomcat `/logs` folder, check log files, find any error message.","body":"Check your tomcat <code>&#47;logs</code> folder, check log files, find any error message."}],"owner":{"account_id":26963071,"reputation":19,"user_id":20530426,"display_name":"sillyconAdmin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679595548,"creation_date":1679595548,"question_id":75826701,"body_markdown":"I am building a dynamic web application using Tomcat, Spring MVC, Hibernate, and MySQL. The application was running fine until I added a new dependency to my `pom.xm`l file.\r\n\r\nthis is the dependency I added\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI then used the updated Maven project to update the dependencies. After that, I tried to run the project again, but I keep getting a 404 error.\r\n\r\n&gt; The requested resource \\[/mywebapp/\\] is not available\r\n\r\nThinking that adding the dependency was the issue I deleted it but the problem is still there\r\n\r\nI have already check the class path and all the dependencies I need are included. I have also checked the console and is not showing any error. Im using java based configuration and I think this might the problem\r\n\r\nI leave my classes below\r\n\r\n`AppContext.java`\r\n\r\n```\r\npackage com.mywebapp.config;\r\n\r\nimport java.util.Properties;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\r\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n\r\n \r\n@Configuration\r\n@PropertySource(&quot;classpath:database.properties&quot;)\r\n@EnableTransactionManagement\r\npublic class AppContext {\r\n \r\n    @Autowired\r\n    private Environment environment;\r\n \r\n    @Bean\r\n    public LocalSessionFactoryBean sessionFactory() {\r\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n        sessionFactory.setDataSource(dataSource());\r\n        sessionFactory.setPackagesToScan(new String[] {\r\n            &quot;com.ajmal&quot;\r\n        });\r\n        sessionFactory.setHibernateProperties(hibernateProperties());\r\n        return sessionFactory;\r\n    }\r\n \r\n    @Bean\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(environment.getRequiredProperty(&quot;jdbc.driverClassName&quot;));\r\n        dataSource.setUrl(environment.getRequiredProperty(&quot;jdbc.url&quot;));\r\n        dataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.username&quot;));\r\n        dataSource.setPassword(environment.getRequiredProperty(&quot;jdbc.password&quot;));\r\n        System.out.println(&quot;Connecting to database: &quot;);\r\n        return dataSource;\r\n    }\r\n \r\n    private Properties hibernateProperties() {\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n        properties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n        properties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, environment.getRequiredProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n        return properties;\r\n    }\r\n \r\n    @Bean\r\n    public HibernateTransactionManager getTransactionManager() {\r\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n        transactionManager.setSessionFactory(sessionFactory().getObject());\r\n        return transactionManager;\r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\n`FrontController.java`\r\n\r\n```\r\npackage com.mywebapp.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n \r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(basePackages= {&quot;com.mywebapp.controller&quot;,&quot;com.mywebapp.entity&quot;})\r\npublic class FrontController implements WebMvcConfigurer{\r\n \r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n\t}\r\n \r\n\t@Bean\r\n\tpublic InternalResourceViewResolver resolver()\r\n\t{\r\n\t\tInternalResourceViewResolver vr= new InternalResourceViewResolver();\r\n\t\tvr.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n\t\tvr.setSuffix(&quot;.jsp&quot;);\r\n\t\treturn vr;\r\n\t}\r\n}\r\n```\r\n\r\n`WebInitializer.java`\r\n\r\n```\r\npackage com.mywebapp.config;\r\n\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\n\r\npublic class WebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n \r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n \r\n\t\treturn new Class[] {AppContext.class};\r\n\t}\r\n \r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n \r\n\t\treturn new Class[] {FrontController.class};\r\n\t}\r\n \r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\treturn new String[] {&quot;/&quot;};\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n    protected String getServletName() {\r\n        return &quot;dispatcher&quot;;\r\n    }\r\n\r\n \r\n \r\n}\r\n```\r\n\r\n`CustomerController.java`\r\n\r\n```\r\npackage com.mywebapp.config;\r\n\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\n\r\npublic class WebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n \r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n \r\n\t\treturn new Class[] {AppContext.class};\r\n\t}\r\n \r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n \r\n\t\treturn new Class[] {FrontController.class};\r\n\t}\r\n \r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\treturn new String[] {&quot;/&quot;};\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n    protected String getServletName() {\r\n        return &quot;dispatcher&quot;;\r\n    }\r\n\r\n \r\n \r\n}\r\n```","title":"The requested resource [/mywebapp/] is not available&quot; when trying to access a web application","body":"<p>I am building a dynamic web application using Tomcat, Spring MVC, Hibernate, and MySQL. The application was running fine until I added a new dependency to my <code>pom.xm</code>l file.</p>\n<p>this is the dependency I added</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I then used the updated Maven project to update the dependencies. After that, I tried to run the project again, but I keep getting a 404 error.</p>\n<blockquote>\n<p>The requested resource [/mywebapp/] is not available</p>\n</blockquote>\n<p>Thinking that adding the dependency was the issue I deleted it but the problem is still there</p>\n<p>I have already check the class path and all the dependencies I need are included. I have also checked the console and is not showing any error. Im using java based configuration and I think this might the problem</p>\n<p>I leave my classes below</p>\n<p><code>AppContext.java</code></p>\n<pre><code>package com.mywebapp.config;\n\nimport java.util.Properties;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.hibernate5.HibernateTransactionManager;\nimport org.springframework.orm.hibernate5.LocalSessionFactoryBean;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n\n \n@Configuration\n@PropertySource(&quot;classpath:database.properties&quot;)\n@EnableTransactionManagement\npublic class AppContext {\n \n    @Autowired\n    private Environment environment;\n \n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(new String[] {\n            &quot;com.ajmal&quot;\n        });\n        sessionFactory.setHibernateProperties(hibernateProperties());\n        return sessionFactory;\n    }\n \n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(environment.getRequiredProperty(&quot;jdbc.driverClassName&quot;));\n        dataSource.setUrl(environment.getRequiredProperty(&quot;jdbc.url&quot;));\n        dataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.username&quot;));\n        dataSource.setPassword(environment.getRequiredProperty(&quot;jdbc.password&quot;));\n        System.out.println(&quot;Connecting to database: &quot;);\n        return dataSource;\n    }\n \n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\n        properties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\n        properties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, environment.getRequiredProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        return properties;\n    }\n \n    @Bean\n    public HibernateTransactionManager getTransactionManager() {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(sessionFactory().getObject());\n        return transactionManager;\n    }\n    \n    \n}\n</code></pre>\n<p><code>FrontController.java</code></p>\n<pre><code>package com.mywebapp.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n \n@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages= {&quot;com.mywebapp.controller&quot;,&quot;com.mywebapp.entity&quot;})\npublic class FrontController implements WebMvcConfigurer{\n \n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n    }\n \n    @Bean\n    public InternalResourceViewResolver resolver()\n    {\n        InternalResourceViewResolver vr= new InternalResourceViewResolver();\n        vr.setPrefix(&quot;/WEB-INF/view/&quot;);\n        vr.setSuffix(&quot;.jsp&quot;);\n        return vr;\n    }\n}\n</code></pre>\n<p><code>WebInitializer.java</code></p>\n<pre><code>package com.mywebapp.config;\n\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\n\npublic class WebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n \n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n \n        return new Class[] {AppContext.class};\n    }\n \n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n \n        return new Class[] {FrontController.class};\n    }\n \n    @Override\n    protected String[] getServletMappings() {\n        return new String[] {&quot;/&quot;};\n    }\n    \n    \n    @Override\n    protected String getServletName() {\n        return &quot;dispatcher&quot;;\n    }\n\n \n \n}\n</code></pre>\n<p><code>CustomerController.java</code></p>\n<pre><code>package com.mywebapp.config;\n\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\n\npublic class WebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n \n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n \n        return new Class[] {AppContext.class};\n    }\n \n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n \n        return new Class[] {FrontController.class};\n    }\n \n    @Override\n    protected String[] getServletMappings() {\n        return new String[] {&quot;/&quot;};\n    }\n    \n    \n    @Override\n    protected String getServletName() {\n        return &quot;dispatcher&quot;;\n    }\n\n \n \n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9441,"page":551,"page_size":100}
