{"items":[{"tags":["java","android","opencv","android-camera"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654785842,"post_id":72561339,"comment_id":128179662,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25127425,"reputation":151,"user_id":18975067,"display_name":"Sana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654871287,"creation_date":1654871287,"answer_id":72575931,"question_id":72561339,"body_markdown":"i resolved the problem myself by changing CameraViewBridgeBase.java code by following \r\n\r\n    package org.opencv.android;\r\n\r\n    import java.util.List;\r\n    import org.opencv.R;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.Size;\r\n    import android.app.Activity;\r\n    import android.app.AlertDialog;\r\n    import android.content.Context;\r\n    import android.content.DialogInterface;\r\n    import android.content.res.TypedArray;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Matrix;\r\n    import android.graphics.Rect;\r\n    import android.hardware.Camera;\r\n    import android.util.AttributeSet;\r\n    import android.util.Log;\r\n    import android.view.SurfaceHolder;\r\n    import android.view.SurfaceView;\r\n\r\n    /**\r\n     * This is a basic class, implementing the interaction with Camera and \r\n    OpenCV library.\r\n     * The main responsibility of it - is to control when camera can be \r\n     enabled, process the frame,\r\n     * call external listener to make any adjustments to the frame and then \r\n    draw the resulting\r\n     * frame to the screen.\r\n     * The clients shall implement CvCameraViewListener.\r\n     */\r\n    public abstract class CameraBridgeViewBase extends SurfaceView implements \r\n    SurfaceHolder.Callback {\r\n\r\n       private static final String TAG = &quot;CameraBridge&quot;;\r\n       private static final int MAX_UNSPECIFIED = -1;\r\n       private static final int STOPPED = 0;\r\n       private static final int STARTED = 1;\r\n       private int mState = STOPPED;\r\n       private Bitmap mCacheBitmap;\r\n       private CvCameraViewListener2 mListener;\r\n       private boolean mSurfaceExist;\r\n       private Object mSyncObject = new Object();\r\n\r\n       protected int mFrameWidth;\r\n       protected int mFrameHeight;\r\n       protected int mMaxHeight;\r\n       protected int mMaxWidth;\r\n       protected float mScale = 0;\r\n       protected int mPreviewFormat = RGBA;\r\n       protected int mCameraIndex = CAMERA_ID_ANY;\r\n       protected boolean mEnabled;\r\n       protected FpsMeter mFpsMeter = null;\r\n       private final Matrix mMatrix = new Matrix();\r\n\r\n       public static final int CAMERA_ID_ANY   = -1;\r\n       public static final int CAMERA_ID_BACK  = 99;\r\n       public static final int CAMERA_ID_FRONT = 98;\r\n       public static final int RGBA = 1;\r\n       public static final int GRAY = 2;\r\n\r\n       public CameraBridgeViewBase(Context context, int cameraId) {\r\n           super(context);\r\n           mCameraIndex = cameraId;\r\n           getHolder().addCallback(this);\r\n           mMaxWidth = MAX_UNSPECIFIED;\r\n           mMaxHeight = MAX_UNSPECIFIED;\r\n        }\r\n\r\n    public CameraBridgeViewBase(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n\r\n        int count = attrs.getAttributeCount();\r\n        Log.d(TAG, &quot;Attr count: &quot; + Integer.valueOf(count));\r\n\r\n        TypedArray styledAttrs = getContext().obtainStyledAttributes(attrs, \r\n    R.styleable.CameraBridgeViewBase);\r\n        if (styledAttrs.getBoolean(R.styleable.CameraBridgeViewBase_show_fps, \r\n    false))\r\n            enableFpsMeter();\r\n\r\n            mCameraIndex = \r\n    styledAttrs.getInt(R.styleable.CameraBridgeViewBase_camera_id, -1);\r\n\r\n            getHolder().addCallback(this);\r\n            mMaxWidth = MAX_UNSPECIFIED;\r\n            mMaxHeight = MAX_UNSPECIFIED;\r\n           styledAttrs.recycle();\r\n        }\r\n\r\n        /**\r\n         * Sets the camera index\r\n        * @param cameraIndex new camera index\r\n        */\r\n        public void setCameraIndex(int cameraIndex) {\r\n            this.mCameraIndex = cameraIndex;\r\n        }\r\n\r\n        public interface CvCameraViewListener {\r\n            /**\r\n            * This method is invoked when camera preview has started. After this method is invoked\r\n             * the frames will start to be delivered to client via the onCameraFrame() callback.\r\n             * @param width -  the width of the frames that will be delivered\r\n             * @param height - the height of the frames that will be delivered\r\n             */\r\n            public void onCameraViewStarted(int width, int height);\r\n\r\n            /**\r\n             * This method is invoked when camera preview has been stopped for some reason.\r\n             * No frames will be delivered via onCameraFrame() callback after this method is called.\r\n             */\r\n            public void onCameraViewStopped();\r\n\r\n            /**\r\n             * This method is invoked when delivery of the frame needs to be done.\r\n             * The returned values - is a modified frame which needs to be displayed on the screen.\r\n             * TODO: pass the parameters specifying the format of the frame (BPP, YUV or RGB and etc)\r\n             */\r\n            public Mat onCameraFrame(Mat inputFrame);\r\n        }\r\n\r\n        public interface CvCameraViewListener2 {\r\n            /**\r\n             * This method is invoked when camera preview has started. After this method is invoked\r\n             * the frames will start to be delivered to client via the onCameraFrame() callback.\r\n             * @param width -  the width of the frames that will be delivered\r\n             * @param height - the height of the frames that will be delivered\r\n             */\r\n            public void onCameraViewStarted(int width, int height);\r\n\r\n            /**\r\n             * This method is invoked when camera preview has been stopped for some reason.\r\n             * No frames will be delivered via onCameraFrame() callback after this method is called.\r\n             */\r\n            public void onCameraViewStopped();\r\n\r\n            /**\r\n             * This method is invoked when delivery of the frame needs to be done.\r\n             * The returned values - is a modified frame which needs to be displayed on the screen.\r\n         * TODO: pass the parameters specifying the format of the frame (BPP, YUV or RGB and etc)\r\n         */\r\n        public Mat onCameraFrame(CvCameraViewFrame inputFrame);\r\n    };\r\n\r\n    protected class CvCameraViewListenerAdapter implements CvCameraViewListener2  {\r\n        public CvCameraViewListenerAdapter(CvCameraViewListener oldStypeListener) {\r\n            mOldStyleListener = oldStypeListener;\r\n        }\r\n\r\n        public void onCameraViewStarted(int width, int height) {\r\n            mOldStyleListener.onCameraViewStarted(width, height);\r\n        }\r\n\r\n        public void onCameraViewStopped() {\r\n            mOldStyleListener.onCameraViewStopped();\r\n        }\r\n\r\n        public Mat onCameraFrame(CvCameraViewFrame inputFrame) {\r\n            Mat result = null;\r\n            switch (mPreviewFormat) {\r\n                case RGBA:\r\n                    result = mOldStyleListener.onCameraFrame(inputFrame.rgba());\r\n                    break;\r\n                case GRAY:\r\n                    result = mOldStyleListener.onCameraFrame(inputFrame.gray());\r\n                    break;\r\n                default:\r\n                    Log.e(TAG, &quot;Invalid frame format! Only RGBA and Gray Scale are supported!&quot;);\r\n            };\r\n\r\n            return result;\r\n        }\r\n\r\n        public void setFrameFormat(int format) {\r\n            mPreviewFormat = format;\r\n        }\r\n\r\n        private int mPreviewFormat = RGBA;\r\n        private CvCameraViewListener mOldStyleListener;\r\n    };\r\n\r\n    /**\r\n     * This class interface is abstract representation of single frame from camera for onCameraFrame callback\r\n     * Attention: Do not use objects, that represents this interface out of onCameraFrame callback!\r\n     */\r\n    public interface CvCameraViewFrame {\r\n\r\n        /**\r\n         * This method returns RGBA Mat with frame\r\n         */\r\n        public Mat rgba();\r\n\r\n        /**\r\n         * This method returns single channel gray scale Mat with frame\r\n         */\r\n        public Mat gray();\r\n    };\r\n\r\n    public void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) {\r\n        Log.d(TAG, &quot;call surfaceChanged event&quot;);\r\n        synchronized(mSyncObject) {\r\n            if (!mSurfaceExist) {\r\n                mSurfaceExist = true;\r\n                checkCurrentState();\r\n            } else {\r\n                /** Surface changed. We need to stop camera and restart with new parameters */\r\n                /* Pretend that old surface has been destroyed */\r\n                mSurfaceExist = false;\r\n                checkCurrentState();\r\n                /* Now use new surface. Say we have it now */\r\n                mSurfaceExist = true;\r\n                checkCurrentState();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        /* Do nothing. Wait until surfaceChanged delivered */\r\n    }\r\n\r\n    public void surfaceDestroyed(SurfaceHolder holder) {\r\n        synchronized(mSyncObject) {\r\n            mSurfaceExist = false;\r\n            checkCurrentState();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method is provided for clients, so they can enable the camera connection.\r\n     * The actual onCameraViewStarted callback will be delivered only after both this method is called and surface is available\r\n     */\r\n    public void enableView() {\r\n        synchronized(mSyncObject) {\r\n            mEnabled = true;\r\n            checkCurrentState();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method is provided for clients, so they can disable camera connection and stop\r\n     * the delivery of frames even though the surface view itself is not destroyed and still stays on the scren\r\n     */\r\n    public void disableView() {\r\n        synchronized(mSyncObject) {\r\n            mEnabled = false;\r\n            checkCurrentState();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method enables label with fps value on the screen\r\n     */\r\n    public void enableFpsMeter() {\r\n        if (mFpsMeter == null) {\r\n            mFpsMeter = new FpsMeter();\r\n            mFpsMeter.setResolution(mFrameWidth, mFrameHeight);\r\n        }\r\n    }\r\n\r\n    public void disableFpsMeter() {\r\n        mFpsMeter = null;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param listener\r\n     */\r\n\r\n    public void setCvCameraViewListener(CvCameraViewListener2 listener) {\r\n        mListener = listener;\r\n    }\r\n\r\n    public void setCvCameraViewListener(CvCameraViewListener listener) {\r\n        CvCameraViewListenerAdapter adapter = new CvCameraViewListenerAdapter(listener);\r\n        adapter.setFrameFormat(mPreviewFormat);\r\n        mListener = adapter;\r\n    }\r\n\r\n    /**\r\n     * This method sets the maximum size that camera frame is allowed to be. When selecting\r\n     * size - the biggest size which less or equal the size set will be selected.\r\n     * As an example - we set setMaxFrameSize(200,200) and we have 176x152 and 320x240 sizes. The\r\n     * preview frame will be selected with 176x152 size.\r\n     * This method is useful when need to restrict the size of preview frame for some reason (for example for video recording)\r\n     * @param maxWidth - the maximum width allowed for camera frame.\r\n     * @param maxHeight - the maximum height allowed for camera frame\r\n     */\r\n    public void setMaxFrameSize(int maxWidth, int maxHeight) {\r\n        mMaxWidth = maxWidth;\r\n        mMaxHeight = maxHeight;\r\n    }\r\n\r\n    public void SetCaptureFormat(int format)\r\n    {\r\n        mPreviewFormat = format;\r\n        if (mListener instanceof CvCameraViewListenerAdapter) {\r\n            CvCameraViewListenerAdapter adapter = (CvCameraViewListenerAdapter) mListener;\r\n            adapter.setFrameFormat(mPreviewFormat);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when mSyncObject lock is held\r\n     */\r\n    private void checkCurrentState() {\r\n        Log.d(TAG, &quot;call checkCurrentState&quot;);\r\n        int targetState;\r\n\r\n        if (mEnabled &amp;&amp; mSurfaceExist &amp;&amp; getVisibility() == VISIBLE) {\r\n            targetState = STARTED;\r\n        } else {\r\n            targetState = STOPPED;\r\n        }\r\n\r\n        if (targetState != mState) {\r\n            /* The state change detected. Need to exit the current state and enter target state */\r\n            processExitState(mState);\r\n            mState = targetState;\r\n            processEnterState(mState);\r\n        }\r\n    }\r\n\r\n    private void processEnterState(int state) {\r\n        Log.d(TAG, &quot;call processEnterState: &quot; + state);\r\n        switch(state) {\r\n            case STARTED:\r\n                onEnterStartedState();\r\n                if (mListener != null) {\r\n                    mListener.onCameraViewStarted(mFrameWidth, mFrameHeight);\r\n                }\r\n                break;\r\n            case STOPPED:\r\n                onEnterStoppedState();\r\n                if (mListener != null) {\r\n                    mListener.onCameraViewStopped();\r\n                }\r\n                break;\r\n        };\r\n    }\r\n\r\n    private void processExitState(int state) {\r\n        Log.d(TAG, &quot;call processExitState: &quot; + state);\r\n        switch(state) {\r\n            case STARTED:\r\n                onExitStartedState();\r\n                break;\r\n            case STOPPED:\r\n                onExitStoppedState();\r\n                break;\r\n        };\r\n    }\r\n\r\n    private void onEnterStoppedState() {\r\n        /* nothing to do */\r\n    }\r\n\r\n    private void onExitStoppedState() {\r\n        /* nothing to do */\r\n    }\r\n\r\n    // NOTE: The order of bitmap constructor and camera connection is important for android 4.1.x\r\n    // Bitmap must be constructed before surface\r\n    private void onEnterStartedState() {\r\n        Log.d(TAG, &quot;call onEnterStartedState&quot;);\r\n        /* Connect camera */\r\n        if (!connectCamera(getWidth(), getHeight())) {\r\n            AlertDialog ad = new AlertDialog.Builder(getContext()).create();\r\n            ad.setCancelable(false); // This blocks the &#39;BACK&#39; button\r\n            ad.setMessage(&quot;It seems that you device does not support camera (or it is locked). Application will be closed.&quot;);\r\n            ad.setButton(DialogInterface.BUTTON_NEUTRAL,  &quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    dialog.dismiss();\r\n                    ((Activity) getContext()).finish();\r\n                }\r\n            });\r\n            ad.show();\r\n\r\n        }\r\n    }\r\n\r\n    private void onExitStartedState() {\r\n        disconnectCamera();\r\n        if (mCacheBitmap != null) {\r\n            mCacheBitmap.recycle();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method shall be called by the subclasses when they have valid\r\n     * object and want it to be delivered to external client (via callback) and\r\n     * then displayed on the screen.\r\n     * @param frame - the current frame to be delivered\r\n     */\r\n    protected void deliverAndDrawFrame(CvCameraViewFrame frame) {\r\n        Mat modified;\r\n\r\n        if (mListener != null) {\r\n            modified = mListener.onCameraFrame(frame);\r\n        } else {\r\n            modified = frame.rgba();\r\n        }\r\n\r\n        boolean bmpValid = true;\r\n        if (modified != null) {\r\n            try {\r\n                Utils.matToBitmap(modified, mCacheBitmap);\r\n            } catch(Exception e) {\r\n                Log.e(TAG, &quot;Mat type: &quot; + modified);\r\n                Log.e(TAG, &quot;Bitmap type: &quot; + mCacheBitmap.getWidth() + &quot;*&quot; + mCacheBitmap.getHeight());\r\n                Log.e(TAG, &quot;Utils.matToBitmap() throws an exception: &quot; + e.getMessage());\r\n                bmpValid = false;\r\n            }\r\n        }\r\n\r\n        if (bmpValid &amp;&amp; mCacheBitmap != null) {\r\n            Canvas canvas = getHolder().lockCanvas();\r\n            if (canvas != null) {\r\n                int saveCount = canvas.save();\r\n                canvas.setMatrix(mMatrix);\r\n\r\n                mScale = Math.max((float) canvas.getHeight() / mCacheBitmap.getWidth(), (float) canvas.getWidth() / mCacheBitmap.getHeight());\r\n\r\n\r\n                canvas.drawColor(0, android.graphics.PorterDuff.Mode.CLEAR);\r\n                Log.d(TAG, &quot;mStretch value: &quot; + mScale);\r\n\r\n                if (mScale != 0) {\r\n                    canvas.drawBitmap(mCacheBitmap, new Rect(0,0,mCacheBitmap.getWidth(), mCacheBitmap.getHeight()),\r\n                            new Rect((int)((canvas.getWidth() - mScale*mCacheBitmap.getWidth()) / 2),\r\n                                    (int)((canvas.getHeight() - mScale*mCacheBitmap.getHeight()) / 2),\r\n                                    (int)((canvas.getWidth() - mScale*mCacheBitmap.getWidth()) / 2 + mScale*mCacheBitmap.getWidth()),\r\n                                    (int)((canvas.getHeight() - mScale*mCacheBitmap.getHeight()) / 2 + mScale*mCacheBitmap.getHeight())), null);\r\n                } else {\r\n                    canvas.drawBitmap(mCacheBitmap, new Rect(0,0,mCacheBitmap.getWidth(), mCacheBitmap.getHeight()),\r\n                            new Rect((canvas.getWidth() - mCacheBitmap.getWidth()) / 2,\r\n                                    (canvas.getHeight() - mCacheBitmap.getHeight()) / 2,\r\n                                    (canvas.getWidth() - mCacheBitmap.getWidth()) / 2 + mCacheBitmap.getWidth(),\r\n                                    (canvas.getHeight() - mCacheBitmap.getHeight()) / 2 + mCacheBitmap.getHeight()), null);\r\n                }\r\n                canvas.restoreToCount(saveCount);\r\n\r\n                if (mFpsMeter != null) {\r\n                    mFpsMeter.measure();\r\n                    mFpsMeter.draw(canvas, 20, 30);\r\n                }\r\n                getHolder().unlockCanvasAndPost(canvas);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method is invoked shall perform concrete operation to initialize the camera.\r\n     * CONTRACT: as a result of this method variables mFrameWidth and mFrameHeight MUST be\r\n     * initialized with the size of the Camera frames that will be delivered to external processor.\r\n     * @param width - the width of this SurfaceView\r\n     * @param height - the height of this SurfaceView\r\n     */\r\n    protected abstract boolean connectCamera(int width, int height);\r\n\r\n    /**\r\n     * Disconnects and release the particular camera object being connected to this surface view.\r\n     * Called when syncObject lock is held\r\n     */\r\n    protected abstract void disconnectCamera();\r\n\r\n    // NOTE: On Android 4.1.x the function must be called before SurfaceTexture constructor!\r\n    protected void AllocateCache()\r\n    {\r\n        mCacheBitmap = Bitmap.createBitmap(mFrameWidth, mFrameHeight, Bitmap.Config.ARGB_8888);\r\n    }\r\n\r\n    public interface ListItemAccessor {\r\n        public int getWidth(Object obj);\r\n        public int getHeight(Object obj);\r\n    };\r\n\r\n    /**\r\n     * This helper method can be called by subclasses to select camera preview size.\r\n     * It goes over the list of the supported preview sizes and selects the maximum one which\r\n     * fits both values set via setMaxFrameSize() and surface frame allocated for this view\r\n     * @param supportedSizes\r\n     * @param surfaceWidth\r\n     * @param surfaceHeight\r\n     * @return optimal frame size\r\n     */\r\n    protected Size calculateCameraFrameSize(List&lt;?&gt; supportedSizes, ListItemAccessor accessor, int surfaceWidth, int surfaceHeight) {\r\n        int calcWidth = 0;\r\n        int calcHeight = 0;\r\n\r\n        int maxAllowedWidth = (mMaxWidth != MAX_UNSPECIFIED &amp;&amp; mMaxWidth &lt; surfaceWidth)? mMaxWidth : surfaceWidth;\r\n        int maxAllowedHeight = (mMaxHeight != MAX_UNSPECIFIED &amp;&amp; mMaxHeight &lt; surfaceHeight)? mMaxHeight : surfaceHeight;\r\n\r\n        for (Object size : supportedSizes) {\r\n            int width = accessor.getWidth(size);\r\n            int height = accessor.getHeight(size);\r\n\r\n            if (width &lt;= maxAllowedWidth &amp;&amp; height &lt;= maxAllowedHeight) {\r\n                if (width &gt;= calcWidth &amp;&amp; height &gt;= calcHeight) {\r\n                    calcWidth = (int) width;\r\n                    calcHeight = (int) height;\r\n                }\r\n            }\r\n        }\r\n\r\n        return new Size(calcWidth, calcHeight);\r\n    }\r\n\r\n    @Override\r\n    public void layout(int l, int t, int r, int b) {\r\n        super.layout(l, t, r, b);\r\n        updateMatrix();\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n        updateMatrix();\r\n    }\r\n\r\n    private void updateMatrix() {\r\n        float hw = this.getWidth() / 2.0f;\r\n        float hh = this.getHeight() / 2.0f;\r\n        boolean isFrontCamera = Camera.CameraInfo.CAMERA_FACING_FRONT == mCameraIndex;\r\n        mMatrix.reset();\r\n        if (isFrontCamera) {\r\n            mMatrix.preScale(-1, 1, hw, hh);\r\n        }\r\n        mMatrix.preTranslate(hw, hh);\r\n        if (isFrontCamera)\r\n            mMatrix.preRotate(270);\r\n        else\r\n            mMatrix.preRotate(90);\r\n        mMatrix.preTranslate(-hw, -hh);\r\n        }\r\n    }","title":"OpenCV Android camera upside down ISSUE","body":"<p>i resolved the problem myself by changing CameraViewBridgeBase.java code by following</p>\n<pre><code>package org.opencv.android;\n\nimport java.util.List;\nimport org.opencv.R;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Size;\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.res.TypedArray;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.Matrix;\nimport android.graphics.Rect;\nimport android.hardware.Camera;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\n\n/**\n * This is a basic class, implementing the interaction with Camera and \nOpenCV library.\n * The main responsibility of it - is to control when camera can be \n enabled, process the frame,\n * call external listener to make any adjustments to the frame and then \ndraw the resulting\n * frame to the screen.\n * The clients shall implement CvCameraViewListener.\n */\npublic abstract class CameraBridgeViewBase extends SurfaceView implements \nSurfaceHolder.Callback {\n\n   private static final String TAG = &quot;CameraBridge&quot;;\n   private static final int MAX_UNSPECIFIED = -1;\n   private static final int STOPPED = 0;\n   private static final int STARTED = 1;\n   private int mState = STOPPED;\n   private Bitmap mCacheBitmap;\n   private CvCameraViewListener2 mListener;\n   private boolean mSurfaceExist;\n   private Object mSyncObject = new Object();\n\n   protected int mFrameWidth;\n   protected int mFrameHeight;\n   protected int mMaxHeight;\n   protected int mMaxWidth;\n   protected float mScale = 0;\n   protected int mPreviewFormat = RGBA;\n   protected int mCameraIndex = CAMERA_ID_ANY;\n   protected boolean mEnabled;\n   protected FpsMeter mFpsMeter = null;\n   private final Matrix mMatrix = new Matrix();\n\n   public static final int CAMERA_ID_ANY   = -1;\n   public static final int CAMERA_ID_BACK  = 99;\n   public static final int CAMERA_ID_FRONT = 98;\n   public static final int RGBA = 1;\n   public static final int GRAY = 2;\n\n   public CameraBridgeViewBase(Context context, int cameraId) {\n       super(context);\n       mCameraIndex = cameraId;\n       getHolder().addCallback(this);\n       mMaxWidth = MAX_UNSPECIFIED;\n       mMaxHeight = MAX_UNSPECIFIED;\n    }\n\npublic CameraBridgeViewBase(Context context, AttributeSet attrs) {\n    super(context, attrs);\n\n    int count = attrs.getAttributeCount();\n    Log.d(TAG, &quot;Attr count: &quot; + Integer.valueOf(count));\n\n    TypedArray styledAttrs = getContext().obtainStyledAttributes(attrs, \nR.styleable.CameraBridgeViewBase);\n    if (styledAttrs.getBoolean(R.styleable.CameraBridgeViewBase_show_fps, \nfalse))\n        enableFpsMeter();\n\n        mCameraIndex = \nstyledAttrs.getInt(R.styleable.CameraBridgeViewBase_camera_id, -1);\n\n        getHolder().addCallback(this);\n        mMaxWidth = MAX_UNSPECIFIED;\n        mMaxHeight = MAX_UNSPECIFIED;\n       styledAttrs.recycle();\n    }\n\n    /**\n     * Sets the camera index\n    * @param cameraIndex new camera index\n    */\n    public void setCameraIndex(int cameraIndex) {\n        this.mCameraIndex = cameraIndex;\n    }\n\n    public interface CvCameraViewListener {\n        /**\n        * This method is invoked when camera preview has started. After this method is invoked\n         * the frames will start to be delivered to client via the onCameraFrame() callback.\n         * @param width -  the width of the frames that will be delivered\n         * @param height - the height of the frames that will be delivered\n         */\n        public void onCameraViewStarted(int width, int height);\n\n        /**\n         * This method is invoked when camera preview has been stopped for some reason.\n         * No frames will be delivered via onCameraFrame() callback after this method is called.\n         */\n        public void onCameraViewStopped();\n\n        /**\n         * This method is invoked when delivery of the frame needs to be done.\n         * The returned values - is a modified frame which needs to be displayed on the screen.\n         * TODO: pass the parameters specifying the format of the frame (BPP, YUV or RGB and etc)\n         */\n        public Mat onCameraFrame(Mat inputFrame);\n    }\n\n    public interface CvCameraViewListener2 {\n        /**\n         * This method is invoked when camera preview has started. After this method is invoked\n         * the frames will start to be delivered to client via the onCameraFrame() callback.\n         * @param width -  the width of the frames that will be delivered\n         * @param height - the height of the frames that will be delivered\n         */\n        public void onCameraViewStarted(int width, int height);\n\n        /**\n         * This method is invoked when camera preview has been stopped for some reason.\n         * No frames will be delivered via onCameraFrame() callback after this method is called.\n         */\n        public void onCameraViewStopped();\n\n        /**\n         * This method is invoked when delivery of the frame needs to be done.\n         * The returned values - is a modified frame which needs to be displayed on the screen.\n     * TODO: pass the parameters specifying the format of the frame (BPP, YUV or RGB and etc)\n     */\n    public Mat onCameraFrame(CvCameraViewFrame inputFrame);\n};\n\nprotected class CvCameraViewListenerAdapter implements CvCameraViewListener2  {\n    public CvCameraViewListenerAdapter(CvCameraViewListener oldStypeListener) {\n        mOldStyleListener = oldStypeListener;\n    }\n\n    public void onCameraViewStarted(int width, int height) {\n        mOldStyleListener.onCameraViewStarted(width, height);\n    }\n\n    public void onCameraViewStopped() {\n        mOldStyleListener.onCameraViewStopped();\n    }\n\n    public Mat onCameraFrame(CvCameraViewFrame inputFrame) {\n        Mat result = null;\n        switch (mPreviewFormat) {\n            case RGBA:\n                result = mOldStyleListener.onCameraFrame(inputFrame.rgba());\n                break;\n            case GRAY:\n                result = mOldStyleListener.onCameraFrame(inputFrame.gray());\n                break;\n            default:\n                Log.e(TAG, &quot;Invalid frame format! Only RGBA and Gray Scale are supported!&quot;);\n        };\n\n        return result;\n    }\n\n    public void setFrameFormat(int format) {\n        mPreviewFormat = format;\n    }\n\n    private int mPreviewFormat = RGBA;\n    private CvCameraViewListener mOldStyleListener;\n};\n\n/**\n * This class interface is abstract representation of single frame from camera for onCameraFrame callback\n * Attention: Do not use objects, that represents this interface out of onCameraFrame callback!\n */\npublic interface CvCameraViewFrame {\n\n    /**\n     * This method returns RGBA Mat with frame\n     */\n    public Mat rgba();\n\n    /**\n     * This method returns single channel gray scale Mat with frame\n     */\n    public Mat gray();\n};\n\npublic void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) {\n    Log.d(TAG, &quot;call surfaceChanged event&quot;);\n    synchronized(mSyncObject) {\n        if (!mSurfaceExist) {\n            mSurfaceExist = true;\n            checkCurrentState();\n        } else {\n            /** Surface changed. We need to stop camera and restart with new parameters */\n            /* Pretend that old surface has been destroyed */\n            mSurfaceExist = false;\n            checkCurrentState();\n            /* Now use new surface. Say we have it now */\n            mSurfaceExist = true;\n            checkCurrentState();\n        }\n    }\n}\n\npublic void surfaceCreated(SurfaceHolder holder) {\n    /* Do nothing. Wait until surfaceChanged delivered */\n}\n\npublic void surfaceDestroyed(SurfaceHolder holder) {\n    synchronized(mSyncObject) {\n        mSurfaceExist = false;\n        checkCurrentState();\n    }\n}\n\n/**\n * This method is provided for clients, so they can enable the camera connection.\n * The actual onCameraViewStarted callback will be delivered only after both this method is called and surface is available\n */\npublic void enableView() {\n    synchronized(mSyncObject) {\n        mEnabled = true;\n        checkCurrentState();\n    }\n}\n\n/**\n * This method is provided for clients, so they can disable camera connection and stop\n * the delivery of frames even though the surface view itself is not destroyed and still stays on the scren\n */\npublic void disableView() {\n    synchronized(mSyncObject) {\n        mEnabled = false;\n        checkCurrentState();\n    }\n}\n\n/**\n * This method enables label with fps value on the screen\n */\npublic void enableFpsMeter() {\n    if (mFpsMeter == null) {\n        mFpsMeter = new FpsMeter();\n        mFpsMeter.setResolution(mFrameWidth, mFrameHeight);\n    }\n}\n\npublic void disableFpsMeter() {\n    mFpsMeter = null;\n}\n\n/**\n *\n * @param listener\n */\n\npublic void setCvCameraViewListener(CvCameraViewListener2 listener) {\n    mListener = listener;\n}\n\npublic void setCvCameraViewListener(CvCameraViewListener listener) {\n    CvCameraViewListenerAdapter adapter = new CvCameraViewListenerAdapter(listener);\n    adapter.setFrameFormat(mPreviewFormat);\n    mListener = adapter;\n}\n\n/**\n * This method sets the maximum size that camera frame is allowed to be. When selecting\n * size - the biggest size which less or equal the size set will be selected.\n * As an example - we set setMaxFrameSize(200,200) and we have 176x152 and 320x240 sizes. The\n * preview frame will be selected with 176x152 size.\n * This method is useful when need to restrict the size of preview frame for some reason (for example for video recording)\n * @param maxWidth - the maximum width allowed for camera frame.\n * @param maxHeight - the maximum height allowed for camera frame\n */\npublic void setMaxFrameSize(int maxWidth, int maxHeight) {\n    mMaxWidth = maxWidth;\n    mMaxHeight = maxHeight;\n}\n\npublic void SetCaptureFormat(int format)\n{\n    mPreviewFormat = format;\n    if (mListener instanceof CvCameraViewListenerAdapter) {\n        CvCameraViewListenerAdapter adapter = (CvCameraViewListenerAdapter) mListener;\n        adapter.setFrameFormat(mPreviewFormat);\n    }\n}\n\n/**\n * Called when mSyncObject lock is held\n */\nprivate void checkCurrentState() {\n    Log.d(TAG, &quot;call checkCurrentState&quot;);\n    int targetState;\n\n    if (mEnabled &amp;&amp; mSurfaceExist &amp;&amp; getVisibility() == VISIBLE) {\n        targetState = STARTED;\n    } else {\n        targetState = STOPPED;\n    }\n\n    if (targetState != mState) {\n        /* The state change detected. Need to exit the current state and enter target state */\n        processExitState(mState);\n        mState = targetState;\n        processEnterState(mState);\n    }\n}\n\nprivate void processEnterState(int state) {\n    Log.d(TAG, &quot;call processEnterState: &quot; + state);\n    switch(state) {\n        case STARTED:\n            onEnterStartedState();\n            if (mListener != null) {\n                mListener.onCameraViewStarted(mFrameWidth, mFrameHeight);\n            }\n            break;\n        case STOPPED:\n            onEnterStoppedState();\n            if (mListener != null) {\n                mListener.onCameraViewStopped();\n            }\n            break;\n    };\n}\n\nprivate void processExitState(int state) {\n    Log.d(TAG, &quot;call processExitState: &quot; + state);\n    switch(state) {\n        case STARTED:\n            onExitStartedState();\n            break;\n        case STOPPED:\n            onExitStoppedState();\n            break;\n    };\n}\n\nprivate void onEnterStoppedState() {\n    /* nothing to do */\n}\n\nprivate void onExitStoppedState() {\n    /* nothing to do */\n}\n\n// NOTE: The order of bitmap constructor and camera connection is important for android 4.1.x\n// Bitmap must be constructed before surface\nprivate void onEnterStartedState() {\n    Log.d(TAG, &quot;call onEnterStartedState&quot;);\n    /* Connect camera */\n    if (!connectCamera(getWidth(), getHeight())) {\n        AlertDialog ad = new AlertDialog.Builder(getContext()).create();\n        ad.setCancelable(false); // This blocks the 'BACK' button\n        ad.setMessage(&quot;It seems that you device does not support camera (or it is locked). Application will be closed.&quot;);\n        ad.setButton(DialogInterface.BUTTON_NEUTRAL,  &quot;OK&quot;, new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int which) {\n                dialog.dismiss();\n                ((Activity) getContext()).finish();\n            }\n        });\n        ad.show();\n\n    }\n}\n\nprivate void onExitStartedState() {\n    disconnectCamera();\n    if (mCacheBitmap != null) {\n        mCacheBitmap.recycle();\n    }\n}\n\n/**\n * This method shall be called by the subclasses when they have valid\n * object and want it to be delivered to external client (via callback) and\n * then displayed on the screen.\n * @param frame - the current frame to be delivered\n */\nprotected void deliverAndDrawFrame(CvCameraViewFrame frame) {\n    Mat modified;\n\n    if (mListener != null) {\n        modified = mListener.onCameraFrame(frame);\n    } else {\n        modified = frame.rgba();\n    }\n\n    boolean bmpValid = true;\n    if (modified != null) {\n        try {\n            Utils.matToBitmap(modified, mCacheBitmap);\n        } catch(Exception e) {\n            Log.e(TAG, &quot;Mat type: &quot; + modified);\n            Log.e(TAG, &quot;Bitmap type: &quot; + mCacheBitmap.getWidth() + &quot;*&quot; + mCacheBitmap.getHeight());\n            Log.e(TAG, &quot;Utils.matToBitmap() throws an exception: &quot; + e.getMessage());\n            bmpValid = false;\n        }\n    }\n\n    if (bmpValid &amp;&amp; mCacheBitmap != null) {\n        Canvas canvas = getHolder().lockCanvas();\n        if (canvas != null) {\n            int saveCount = canvas.save();\n            canvas.setMatrix(mMatrix);\n\n            mScale = Math.max((float) canvas.getHeight() / mCacheBitmap.getWidth(), (float) canvas.getWidth() / mCacheBitmap.getHeight());\n\n\n            canvas.drawColor(0, android.graphics.PorterDuff.Mode.CLEAR);\n            Log.d(TAG, &quot;mStretch value: &quot; + mScale);\n\n            if (mScale != 0) {\n                canvas.drawBitmap(mCacheBitmap, new Rect(0,0,mCacheBitmap.getWidth(), mCacheBitmap.getHeight()),\n                        new Rect((int)((canvas.getWidth() - mScale*mCacheBitmap.getWidth()) / 2),\n                                (int)((canvas.getHeight() - mScale*mCacheBitmap.getHeight()) / 2),\n                                (int)((canvas.getWidth() - mScale*mCacheBitmap.getWidth()) / 2 + mScale*mCacheBitmap.getWidth()),\n                                (int)((canvas.getHeight() - mScale*mCacheBitmap.getHeight()) / 2 + mScale*mCacheBitmap.getHeight())), null);\n            } else {\n                canvas.drawBitmap(mCacheBitmap, new Rect(0,0,mCacheBitmap.getWidth(), mCacheBitmap.getHeight()),\n                        new Rect((canvas.getWidth() - mCacheBitmap.getWidth()) / 2,\n                                (canvas.getHeight() - mCacheBitmap.getHeight()) / 2,\n                                (canvas.getWidth() - mCacheBitmap.getWidth()) / 2 + mCacheBitmap.getWidth(),\n                                (canvas.getHeight() - mCacheBitmap.getHeight()) / 2 + mCacheBitmap.getHeight()), null);\n            }\n            canvas.restoreToCount(saveCount);\n\n            if (mFpsMeter != null) {\n                mFpsMeter.measure();\n                mFpsMeter.draw(canvas, 20, 30);\n            }\n            getHolder().unlockCanvasAndPost(canvas);\n        }\n    }\n}\n\n/**\n * This method is invoked shall perform concrete operation to initialize the camera.\n * CONTRACT: as a result of this method variables mFrameWidth and mFrameHeight MUST be\n * initialized with the size of the Camera frames that will be delivered to external processor.\n * @param width - the width of this SurfaceView\n * @param height - the height of this SurfaceView\n */\nprotected abstract boolean connectCamera(int width, int height);\n\n/**\n * Disconnects and release the particular camera object being connected to this surface view.\n * Called when syncObject lock is held\n */\nprotected abstract void disconnectCamera();\n\n// NOTE: On Android 4.1.x the function must be called before SurfaceTexture constructor!\nprotected void AllocateCache()\n{\n    mCacheBitmap = Bitmap.createBitmap(mFrameWidth, mFrameHeight, Bitmap.Config.ARGB_8888);\n}\n\npublic interface ListItemAccessor {\n    public int getWidth(Object obj);\n    public int getHeight(Object obj);\n};\n\n/**\n * This helper method can be called by subclasses to select camera preview size.\n * It goes over the list of the supported preview sizes and selects the maximum one which\n * fits both values set via setMaxFrameSize() and surface frame allocated for this view\n * @param supportedSizes\n * @param surfaceWidth\n * @param surfaceHeight\n * @return optimal frame size\n */\nprotected Size calculateCameraFrameSize(List&lt;?&gt; supportedSizes, ListItemAccessor accessor, int surfaceWidth, int surfaceHeight) {\n    int calcWidth = 0;\n    int calcHeight = 0;\n\n    int maxAllowedWidth = (mMaxWidth != MAX_UNSPECIFIED &amp;&amp; mMaxWidth &lt; surfaceWidth)? mMaxWidth : surfaceWidth;\n    int maxAllowedHeight = (mMaxHeight != MAX_UNSPECIFIED &amp;&amp; mMaxHeight &lt; surfaceHeight)? mMaxHeight : surfaceHeight;\n\n    for (Object size : supportedSizes) {\n        int width = accessor.getWidth(size);\n        int height = accessor.getHeight(size);\n\n        if (width &lt;= maxAllowedWidth &amp;&amp; height &lt;= maxAllowedHeight) {\n            if (width &gt;= calcWidth &amp;&amp; height &gt;= calcHeight) {\n                calcWidth = (int) width;\n                calcHeight = (int) height;\n            }\n        }\n    }\n\n    return new Size(calcWidth, calcHeight);\n}\n\n@Override\npublic void layout(int l, int t, int r, int b) {\n    super.layout(l, t, r, b);\n    updateMatrix();\n}\n\n@Override\nprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    updateMatrix();\n}\n\nprivate void updateMatrix() {\n    float hw = this.getWidth() / 2.0f;\n    float hh = this.getHeight() / 2.0f;\n    boolean isFrontCamera = Camera.CameraInfo.CAMERA_FACING_FRONT == mCameraIndex;\n    mMatrix.reset();\n    if (isFrontCamera) {\n        mMatrix.preScale(-1, 1, hw, hh);\n    }\n    mMatrix.preTranslate(hw, hh);\n    if (isFrontCamera)\n        mMatrix.preRotate(270);\n    else\n        mMatrix.preRotate(90);\n    mMatrix.preTranslate(-hw, -hh);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25127425,"reputation":151,"user_id":18975067,"display_name":"Sana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72575931,"answer_count":1,"score":0,"last_activity_date":1654871287,"creation_date":1654781931,"question_id":72561339,"body_markdown":"i am working on face detection app in android. \r\ni have used open cv 3.4.14 library and using front camera. the camera index is set to 1. but the streaming is upside down. i tried almost all of the solutions from stack overflow but nothing is working. \r\n\r\nin open cv&#39;s JavaCameraView class, i also added mCamera.startPreviewDisplay(getHolder()) that fixed the orientation but i immedietely went into NULL POINTER EXCEPTION &quot;Attempt to invoke virtual method &#39;int android.graphics.Canvas.getHeight()&#39; on a null object reference&quot; \r\n\r\nNote that i am working on Samsung galaxy S21 and OS is Android 12. \r\n \r\n","title":"OpenCV Android camera upside down ISSUE","body":"<p>i am working on face detection app in android.\ni have used open cv 3.4.14 library and using front camera. the camera index is set to 1. but the streaming is upside down. i tried almost all of the solutions from stack overflow but nothing is working.</p>\n<p>in open cv's JavaCameraView class, i also added mCamera.startPreviewDisplay(getHolder()) that fixed the orientation but i immedietely went into NULL POINTER EXCEPTION &quot;Attempt to invoke virtual method 'int android.graphics.Canvas.getHeight()' on a null object reference&quot;</p>\n<p>Note that i am working on Samsung galaxy S21 and OS is Android 12.</p>\n"},{"tags":["java","spring","spring-security","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1654871068,"creation_date":1418720351,"answer_id":27500835,"question_id":27496262,"body_markdown":"If you are using Spring Boot 2.4.0 or later, you can disable the static resource handling by setting `spring.web.resources.add-mappings=false` in your `application.properties` file. In earlier versions of Spring Boot, the property is `spring.resources.add-mappings`.\r\n\r\nWith that out of the way, are you sure that it will resolve your problem? Spring Security runs as a filter _before_ the static resource handling and I doubt that disabling the resource handling will help. Perhaps it&#39;ll make it easier to identify the underlying problem, though.\r\n","title":"How to disable static content handle in spring-boot?","body":"<p>If you are using Spring Boot 2.4.0 or later, you can disable the static resource handling by setting <code>spring.web.resources.add-mappings=false</code> in your <code>application.properties</code> file. In earlier versions of Spring Boot, the property is <code>spring.resources.add-mappings</code>.</p>\n<p>With that out of the way, are you sure that it will resolve your problem? Spring Security runs as a filter <em>before</em> the static resource handling and I doubt that disabling the resource handling will help. Perhaps it'll make it easier to identify the underlying problem, though.</p>\n"}],"owner":{"account_id":3157909,"reputation":1370,"user_id":2669851,"accept_rate":65,"display_name":"Lunigorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16654,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27500835,"answer_count":1,"score":8,"last_activity_date":1654871068,"creation_date":1418694505,"question_id":27496262,"body_markdown":"I&#39;m using [this][1] link to configure security and spring-boot as base for other. But static resource handler provided by spring-boot is executed before security settings. So if I send POST request, static content handler respond me that method POST not supported. If I request GET method, static response handler catch it and try to find resourse. So any requests catched by static content handler and not go to security filters.\r\n\r\nHow can I disable static content filters/handlers provided by spring-boot?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14733418/login-logout-in-rest-with-spring-3 &quot;this&quot;","title":"How to disable static content handle in spring-boot?","body":"<p>I'm using <a href=\"https://stackoverflow.com/questions/14733418/login-logout-in-rest-with-spring-3\" title=\"this\">this</a> link to configure security and spring-boot as base for other. But static resource handler provided by spring-boot is executed before security settings. So if I send POST request, static content handler respond me that method POST not supported. If I request GET method, static response handler catch it and try to find resourse. So any requests catched by static content handler and not go to security filters.</p>\n\n<p>How can I disable static content filters/handlers provided by spring-boot?</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1654870022,"post_id":72575057,"comment_id":128202404,"body_markdown":"To remove objects with `null` property you need to apply `filter()`, or if you don&#39;t need them at all you can use `fastfood.getHotdogs().removeIf(hd -&gt; hd.getIngredients() == null);` instead of creating a stream. What does the method `convertToHotdog` is meant to do? `getHotdogs()` returns a list of `Hotdog`s and result is also `List&lt;Hotdog&gt;`, so what is happening in between?","body":"To remove objects with <code>null</code> property you need to apply <code>filter()</code>, or if you don&#39;t need them at all you can use <code>fastfood.getHotdogs().removeIf(hd -&gt; hd.getIngredients() == null);</code> instead of creating a stream. What does the method <code>convertToHotdog</code> is meant to do? <code>getHotdogs()</code> returns a list of <code>Hotdog</code>s and result is also <code>List&lt;Hotdog&gt;</code>, so what is happening in between?"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654868940,"creation_date":1654867891,"answer_id":72575159,"question_id":72575057,"body_markdown":"If you have list of hotdog objects, you can use `filter()` method, like this:\r\n\r\n\r\n    List&lt;Hotdog&gt; hotdogs = fastfood.getHotdogs().stream()\r\n                        .filter(hotdog-&gt;hotdog.getIngredients()!=null)\r\n                        .collect(Collectors.toList());\r\n\r\nNOTE: I&#39;m assuming that you have getter method for ingredients field in Hotdog class which is called `getIngredients()`","title":"Filter Java stream if specific object is a null","body":"<p>If you have list of hotdog objects, you can use <code>filter()</code> method, like this:</p>\n<pre><code>List&lt;Hotdog&gt; hotdogs = fastfood.getHotdogs().stream()\n                    .filter(hotdog-&gt;hotdog.getIngredients()!=null)\n                    .collect(Collectors.toList());\n</code></pre>\n<p>NOTE: I'm assuming that you have getter method for ingredients field in Hotdog class which is called <code>getIngredients()</code></p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654871040,"creation_date":1654871040,"answer_id":72575864,"question_id":72575057,"body_markdown":"Based on comments &amp; question, it looks like `convertToHotdog` might be something to do with internal conversion of  `Hotdog ` which is not shared as a part of question. In that case, below might be useful:\r\n\r\n    List&lt;Hotdog&gt; hotdogs = fastfood.getHotdogs().stream()\r\n                        .filter(t-&gt;Objects.nonNull(t.getIngredients()))\r\n                        .map(this::convertToHotdog)\r\n                        .collect(Collectors.toList());","title":"Filter Java stream if specific object is a null","body":"<p>Based on comments &amp; question, it looks like <code>convertToHotdog</code> might be something to do with internal conversion of  <code>Hotdog </code> which is not shared as a part of question. In that case, below might be useful:</p>\n<pre><code>List&lt;Hotdog&gt; hotdogs = fastfood.getHotdogs().stream()\n                    .filter(t-&gt;Objects.nonNull(t.getIngredients()))\n                    .map(this::convertToHotdog)\n                    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":22236261,"reputation":75,"user_id":16471569,"display_name":"fat_pikachu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72575864,"answer_count":2,"score":0,"last_activity_date":1654871040,"creation_date":1654867436,"question_id":72575057,"body_markdown":"I have the object FastFood. In ArrayList there are 10 hotdogs.\r\n\r\n    public class FastFood {\r\n        ArrayList&lt;Hotdog&gt; hotdogs;\r\n        boolean isTasty;\r\n    }\r\n\r\n    public class Hotdog {\r\n        String name;\r\n        Ingredients ingredients;\r\n    }\r\n\r\n\r\nFor 9 hotdogs all data is filled.\r\nFor 1 hotdog, the object Ingredients is null.\r\n\r\nHow can I modify below metod to have only these hotdogs, which have filled Ingredients? (I would like to see 9 hotdogs).\r\n\r\n\r\n    public List&lt;Hotdog&gt; convert(Fastfood fastfood) {\r\n          List&lt;Hotdog&gt; hotdogs = fastfood.getHotdogs().stream()\r\n                        .map(this::convertToHotdog)\r\n                        .collect(Collectors.toList());\r\n","title":"Filter Java stream if specific object is a null","body":"<p>I have the object FastFood. In ArrayList there are 10 hotdogs.</p>\n<pre><code>public class FastFood {\n    ArrayList&lt;Hotdog&gt; hotdogs;\n    boolean isTasty;\n}\n\npublic class Hotdog {\n    String name;\n    Ingredients ingredients;\n}\n</code></pre>\n<p>For 9 hotdogs all data is filled.\nFor 1 hotdog, the object Ingredients is null.</p>\n<p>How can I modify below metod to have only these hotdogs, which have filled Ingredients? (I would like to see 9 hotdogs).</p>\n<pre><code>public List&lt;Hotdog&gt; convert(Fastfood fastfood) {\n      List&lt;Hotdog&gt; hotdogs = fastfood.getHotdogs().stream()\n                    .map(this::convertToHotdog)\n                    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","azure-devops","azure-devops-rest-api"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1654868979,"post_id":72575368,"comment_id":128201962,"body_markdown":"How is a string with the value of &quot;API Response as string&quot; an image?","body":"How is a string with the value of &quot;API Response as string&quot; an image?"},{"owner":{"account_id":17805955,"reputation":46,"user_id":12931662,"display_name":"Harish"},"score":0,"creation_date":1654870358,"post_id":72575368,"comment_id":128202520,"body_markdown":"That is just an example, it is assumed that the logic to call API returns a string response. Thanks for that, I will update the example.","body":"That is just an example, it is assumed that the logic to call API returns a string response. Thanks for that, I will update the example."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654876772,"post_id":72575368,"comment_id":128205044,"body_markdown":"What does the string contain? I&#39;m guessing it&#39;s the base64-encoded image. If so, you will need to decode it.","body":"What does the string contain? I&#39;m guessing it&#39;s the base64-encoded image. If so, you will need to decode it."}],"owner":{"account_id":17805955,"reputation":46,"user_id":12931662,"display_name":"Harish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654870699,"creation_date":1654868772,"question_id":72575368,"body_markdown":"I&#39;m trying to save the API response that contains image as a binary string to a file in java. Azure DevOps work items API allows to create and add attachments to the work items. I can create an attachment and get the attachment as **jpg** file in Postman. However, When I tried to do that in code I&#39;m getting the response as a string but saving it to a file fails.\r\n\r\n```java\r\n// Using a library\r\nvar webApi = new AzDClientApi(&quot;organizationName&quot;, &quot;projectName&quot;, &quot;personalAccessToken&quot;);\r\nvar wit = webApi.getWorkItemTrackingApi();\r\nString res = wit.getAttachment(&quot;attachment-id-here&quot;, &quot;image.jpg&quot;)\r\n\r\n// Method 1) This didn&#39;t work\r\nFileWriter writer = new FileWriter(&quot;image.jpg&quot;);\r\nwriter.write(res); // This gave me an image of 72 KB whereas the original file size is 41 KB.\r\n\r\n// Method 2) Resulted in error as ImageIO.read() couldn&#39;t read the image stream.\r\nInputStream stream = new ByteArrayInputStream(res.getBytes(StandardCharsets.UTF_8));\r\nBufferedImage image = ImageIO.read(stream);\r\nImageIO.write(image, &quot;jpg&quot;, new File(&quot;image.jpg&quot;));\r\n\r\n// Error\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: image == null!\r\n\tat java.desktop/javax.imageio.ImageTypeSpecifier.createFromRenderedImage(ImageTypeSpecifier.java:925)\r\n\tat java.desktop/javax.imageio.ImageIO.getWriter(ImageIO.java:1608)\r\n\tat java.desktop/javax.imageio.ImageIO.write(ImageIO.java:1540)\r\n\tat Main.main(Main.java:44)\r\n\r\n```\r\n\r\nI tried as shown in the post [here](https://stackoverflow.com/questions/20879639/write-base64-encoded-image-to-file) but that didn&#39;t work too.","title":"How to save API string response to an image file in java?","body":"<p>I'm trying to save the API response that contains image as a binary string to a file in java. Azure DevOps work items API allows to create and add attachments to the work items. I can create an attachment and get the attachment as <strong>jpg</strong> file in Postman. However, When I tried to do that in code I'm getting the response as a string but saving it to a file fails.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Using a library\nvar webApi = new AzDClientApi(&quot;organizationName&quot;, &quot;projectName&quot;, &quot;personalAccessToken&quot;);\nvar wit = webApi.getWorkItemTrackingApi();\nString res = wit.getAttachment(&quot;attachment-id-here&quot;, &quot;image.jpg&quot;)\n\n// Method 1) This didn't work\nFileWriter writer = new FileWriter(&quot;image.jpg&quot;);\nwriter.write(res); // This gave me an image of 72 KB whereas the original file size is 41 KB.\n\n// Method 2) Resulted in error as ImageIO.read() couldn't read the image stream.\nInputStream stream = new ByteArrayInputStream(res.getBytes(StandardCharsets.UTF_8));\nBufferedImage image = ImageIO.read(stream);\nImageIO.write(image, &quot;jpg&quot;, new File(&quot;image.jpg&quot;));\n\n// Error\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: image == null!\n    at java.desktop/javax.imageio.ImageTypeSpecifier.createFromRenderedImage(ImageTypeSpecifier.java:925)\n    at java.desktop/javax.imageio.ImageIO.getWriter(ImageIO.java:1608)\n    at java.desktop/javax.imageio.ImageIO.write(ImageIO.java:1540)\n    at Main.main(Main.java:44)\n\n</code></pre>\n<p>I tried as shown in the post <a href=\"https://stackoverflow.com/questions/20879639/write-base64-encoded-image-to-file\">here</a> but that didn't work too.</p>\n"},{"tags":["java","android","arraylist","is-empty"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654871199,"post_id":72575598,"comment_id":128202874,"body_markdown":"Your `JsonObjectRequest` is evaluated _after_ your method returns. You could either make the method blocking (which would stop all execution on that thread until the value returns), or you can perform the action you wish to take once the `JsonObjectRequest` is evaluated _within_ `onResponse`. This can be made more general by accepting a `Consumer&lt;JsonObject&gt;` in your method, which the `JsonObjectRequest` can call later by passing the object to it. Then callers of your method can `getUserPicture(..., jsonObj -&gt; { /* operate on object */ } );`","body":"Your <code>JsonObjectRequest</code> is evaluated <i>after</i> your method returns. You could either make the method blocking (which would stop all execution on that thread until the value returns), or you can perform the action you wish to take once the <code>JsonObjectRequest</code> is evaluated <i>within</i> <code>onResponse</code>. This can be made more general by accepting a <code>Consumer&lt;JsonObject&gt;</code> in your method, which the <code>JsonObjectRequest</code> can call later by passing the object to it. Then callers of your method can <code>getUserPicture(..., jsonObj -&gt; { &#47;* operate on object *&#47; } );</code>"},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1654872161,"post_id":72575598,"comment_id":128203256,"body_markdown":"Does this answer your question? [Why does my function that calls an API return an empty or null value?](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value\">Why does my function that calls an API return an empty or null value?</a>"}],"owner":{"account_id":22829309,"reputation":339,"user_id":16978074,"display_name":"Elly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654870550,"creation_date":1654869811,"question_id":72575598,"body_markdown":"Hi everyone I am a student and I am starting to learn Android. I have a problem with a method, I can&#39;t create a method that returns me an ArrayList &lt;User&gt;. After making a network call and adding the users resulting from the network call to the &lt;User&gt; arrayList, I can&#39;t get the method to return the arrayList of all the users downloaded from the network call. My code is:\r\n```\r\npublic class Utils {\r\n    static final ArrayList&lt;User&gt;u1 = new ArrayList();\r\npublic static  ArrayList&lt;User&gt; getUserPicture(String uid,Activity activity) {\r\n        RequestQueue requestQueue = Volley.newRequestQueue(activity);\r\n        JSONObject jsonfinal = new JSONObject();\r\n        String url_getProfile = &quot;https://ewserver.helpme/helpme.php&quot;;\r\n        try {\r\n            jsonfinal.put(&quot;uid&quot;, uid);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n        JsonObjectRequest\r\n                jsonObjectRequest\r\n                = new JsonObjectRequest(\r\n                Request.Method.POST,\r\n                url_getProfile,\r\n                jsonfinal,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try {\r\n                            String picture=response.getString(&quot;picture&quot;);\r\n                           u1.add(new User\r\n                                    (uid,picture));\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                          }\r\n                        }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                    }\r\n                });\r\n        MainActivity.requestQueue.add(jsonObjectRequest);\r\n        return u1;\r\n    }\r\n}\r\n```\r\nNow if i call:\r\n```\r\nArrayList&lt;User&gt; user=getUserPicture(uid,activity);\r\nLog.d(&quot;main_activity_usersize&quot;,String.valueOf(user.size()));\r\n```\r\ni get empty arraylists [].Why?how can I return the arraylist &lt;Post&gt; to the method?\r\n\r\n","title":"can&#39;t return an arraylist of objects, coming from a network call","body":"<p>Hi everyone I am a student and I am starting to learn Android. I have a problem with a method, I can't create a method that returns me an ArrayList . After making a network call and adding the users resulting from the network call to the  arrayList, I can't get the method to return the arrayList of all the users downloaded from the network call. My code is:</p>\n<pre><code>public class Utils {\n    static final ArrayList&lt;User&gt;u1 = new ArrayList();\npublic static  ArrayList&lt;User&gt; getUserPicture(String uid,Activity activity) {\n        RequestQueue requestQueue = Volley.newRequestQueue(activity);\n        JSONObject jsonfinal = new JSONObject();\n        String url_getProfile = &quot;https://ewserver.helpme/helpme.php&quot;;\n        try {\n            jsonfinal.put(&quot;uid&quot;, uid);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        JsonObjectRequest\n                jsonObjectRequest\n                = new JsonObjectRequest(\n                Request.Method.POST,\n                url_getProfile,\n                jsonfinal,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        try {\n                            String picture=response.getString(&quot;picture&quot;);\n                           u1.add(new User\n                                    (uid,picture));\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                          }\n                        }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                    }\n                });\n        MainActivity.requestQueue.add(jsonObjectRequest);\n        return u1;\n    }\n}\n</code></pre>\n<p>Now if i call:</p>\n<pre><code>ArrayList&lt;User&gt; user=getUserPicture(uid,activity);\nLog.d(&quot;main_activity_usersize&quot;,String.valueOf(user.size()));\n</code></pre>\n<p>i get empty arraylists [].Why?how can I return the arraylist  to the method?</p>\n"},{"tags":["java","android","voip","voice","agora.io"],"comments":[{"owner":{"account_id":9338277,"reputation":2838,"user_id":6931862,"display_name":"Hermes"},"score":0,"creation_date":1568991085,"post_id":57744241,"comment_id":102463794,"body_markdown":"Prabhakar, if the answer below worked for you, would you please confirm it as the correct response?","body":"Prabhakar, if the answer below worked for you, would you please confirm it as the correct response?"},{"owner":{"account_id":2532400,"reputation":6528,"user_id":2200417,"accept_rate":47,"display_name":"Prabhakar"},"score":0,"creation_date":1569041698,"post_id":57744241,"comment_id":102476162,"body_markdown":"Done. Thank you for reminding, @Hermes","body":"Done. Thank you for reminding, @Hermes"},{"owner":{"account_id":9338277,"reputation":2838,"user_id":6931862,"display_name":"Hermes"},"score":0,"creation_date":1569079224,"post_id":57744241,"comment_id":102483660,"body_markdown":"Glad it worked for you!","body":"Glad it worked for you!"}],"answers":[{"tags":[],"owner":{"account_id":9338277,"reputation":2838,"user_id":6931862,"display_name":"Hermes"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1567694718,"creation_date":1567694718,"answer_id":57807968,"question_id":57744241,"body_markdown":"Currently Agora.io&#39;s Android SDK does not directly support playing audio on the caller side. This would need to be achieved using Android&#39;s [Telcom][1] package, more specifically implementing [Connection][2], [ConnectionService][3] and [ToneGenerator][4] classes. \r\n\r\nWhenever you start your call you may want to create a new tone, replacing `&lt;AUDIO STREAM&gt;` below with the stream that you want to play the tone within, and replacing `&lt;VOLUME LEVEL&gt;` with an integer (or enum) to set the volume level.\r\n\r\n    ToneGenerator dtmfGenerator = new ToneGenerator(&lt;AUDIO STREAM&gt;,&lt;VOLUME LEVEL&gt;);\r\n    dtmfGenerator.startTone(ToneGenerator.TONE_DTMF_0, 1000); \r\n    dtmfGenerator.stopTone();\r\n\r\n\r\nFor example if you want to leverage the Call tone using the above example, you would use [ToneGenerator.TONE_SUP_RINGTONE][5]\r\n\r\n    ToneGenerator dtmfGenerator = new ToneGenerator(ToneGenerator.TONE_SUP_RINGTONE,ToneGenerator.MAX_VOLUME);\r\n    dtmfGenerator.startTone(ToneGenerator.TONE_DTMF_0, 1000); \r\n    dtmfGenerator.stopTone();\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/telecom/package-summary\r\n  [2]: https://developer.android.com/reference/android/telecom/Connection.html#onPostDialContinue(boolean)\r\n  [3]: https://developer.android.com/reference/android/telecom/ConnectionService.html\r\n  [4]: https://developer.android.com/reference/android/media/ToneGenerator\r\n  [5]: https://developer.android.com/reference/android/media/ToneGenerator.html#TONE_SUP_RINGTONE","title":"How to implement ringing in outgoing Android VOIP call","body":"<p>Currently Agora.io's Android SDK does not directly support playing audio on the caller side. This would need to be achieved using Android's <a href=\"https://developer.android.com/reference/android/telecom/package-summary\" rel=\"noreferrer\">Telcom</a> package, more specifically implementing <a href=\"https://developer.android.com/reference/android/telecom/Connection.html#onPostDialContinue(boolean)\" rel=\"noreferrer\">Connection</a>, <a href=\"https://developer.android.com/reference/android/telecom/ConnectionService.html\" rel=\"noreferrer\">ConnectionService</a> and <a href=\"https://developer.android.com/reference/android/media/ToneGenerator\" rel=\"noreferrer\">ToneGenerator</a> classes. </p>\n\n<p>Whenever you start your call you may want to create a new tone, replacing <code>&lt;AUDIO STREAM&gt;</code> below with the stream that you want to play the tone within, and replacing <code>&lt;VOLUME LEVEL&gt;</code> with an integer (or enum) to set the volume level.</p>\n\n<pre><code>ToneGenerator dtmfGenerator = new ToneGenerator(&lt;AUDIO STREAM&gt;,&lt;VOLUME LEVEL&gt;);\ndtmfGenerator.startTone(ToneGenerator.TONE_DTMF_0, 1000); \ndtmfGenerator.stopTone();\n</code></pre>\n\n<p>For example if you want to leverage the Call tone using the above example, you would use <a href=\"https://developer.android.com/reference/android/media/ToneGenerator.html#TONE_SUP_RINGTONE\" rel=\"noreferrer\">ToneGenerator.TONE_SUP_RINGTONE</a></p>\n\n<pre><code>ToneGenerator dtmfGenerator = new ToneGenerator(ToneGenerator.TONE_SUP_RINGTONE,ToneGenerator.MAX_VOLUME);\ndtmfGenerator.startTone(ToneGenerator.TONE_DTMF_0, 1000); \ndtmfGenerator.stopTone();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15083713,"reputation":2168,"user_id":10885621,"display_name":"Kwame Opare Asiedu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654870078,"creation_date":1654870078,"answer_id":72575660,"question_id":57744241,"body_markdown":"If you are working in Flutter, the [flutter_dtmf](https://pub.dev/packages/flutter_dtmf) package does this...\r\n\r\n\r\n```dart\r\nimport &#39;package:flutter_dtmf/dtmf.dart&#39;;\r\n\r\n...\r\nDtmf.playTone(&quot;1&quot;, durationMs: 1000);","title":"How to implement ringing in outgoing Android VOIP call","body":"<p>If you are working in Flutter, the <a href=\"https://pub.dev/packages/flutter_dtmf\" rel=\"nofollow noreferrer\">flutter_dtmf</a> package does this...</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter_dtmf/dtmf.dart';\n\n...\nDtmf.playTone(&quot;1&quot;, durationMs: 1000);\n</code></pre>\n"}],"owner":{"account_id":2532400,"reputation":6528,"user_id":2200417,"accept_rate":47,"display_name":"Prabhakar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":57807968,"answer_count":2,"score":12,"last_activity_date":1654870078,"creation_date":1567325051,"question_id":57744241,"body_markdown":"We are using agora.io for voice calling in our app(VOIP). The calls between two people are going seemless. But when I am dialing person B, I am not able to hear the dial tone while the call is being connected. I basically want to hear the ringing when the call is being connect. However, the person is getting the incoming caller tune while his phone is ringing.\r\n\r\nCan you anyone help me how to do this? \r\n\r\nWe are building Android App, Java, Kotlin, and Agora.io SDK\r\n\r\n\r\n","title":"How to implement ringing in outgoing Android VOIP call","body":"<p>We are using agora.io for voice calling in our app(VOIP). The calls between two people are going seemless. But when I am dialing person B, I am not able to hear the dial tone while the call is being connected. I basically want to hear the ringing when the call is being connect. However, the person is getting the incoming caller tune while his phone is ringing.</p>\n\n<p>Can you anyone help me how to do this? </p>\n\n<p>We are building Android App, Java, Kotlin, and Agora.io SDK</p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1654853895,"post_id":72572053,"comment_id":128196447,"body_markdown":"`setCellType(CellType.STRING)` is a void method. It does NOT return a cell for you to set value to","body":"<code>setCellType(CellType.STRING)</code> is a void method. It does NOT return a cell for you to set value to"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654869469,"creation_date":1654866523,"answer_id":72574819,"question_id":72572053,"body_markdown":"General is not the type but the data format. So you have a cell containing a text value in General data format. That is the default. There is nothing wrong with this.\r\n\r\nThe special `Text` data format only is needed when one needs to store numbers as text for example.\r\n\r\nIf you need `Text` data format, then setting `@` as data format is necessary. For this, the cell needs a cell style having that data format. And because cell styles are stored on workbook level and shared between all cells having that date format, each data format needs to be created only once per workbook and then applied to all cells which shall use this data format.\r\n\r\n    SXSSFWorkbook workbook...\r\n    ...\r\n    DataFormat format = workbook.createDataFormat();\r\n    CellStyle textStyle = workbook.createCellStyle();\r\n    textStyle.setDataFormat(format.getFormat(&quot;@&quot;));\r\n    ...\r\n    setTechSheet(workbook, &quot;1234&quot;, textStyle);\r\n    ...\r\n    private void setTechSheet(SXSSFWorkbook workbook, String entityJson, CellStyle textStyle) {\r\n     SXSSFSheet tech = workbook.createSheet(&quot;tech&quot;);\r\n     SXSSFRow jwtRow = tech.createRow(0);\r\n     SXSSFCell cell = jwtRow.createCell(1);\r\n     cell.setCellValue(entityJson);\r\n     cell.setCellStyle(textStyle);\r\n    }\r\n    ...\r\n\r\nFollowing complete example shows when data format `Text` is needed.\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.streaming.*;\r\n    \r\n    public class SXSSFTextDataFormat {\r\n        \r\n     private static void setTechSheet(SXSSFWorkbook workbook, Object[][] techSheetData, CellStyle textStyle) {\r\n      SXSSFSheet tech = workbook.createSheet(&quot;tech&quot;);\r\n      int r = 0;\r\n      for (Object[] dataRow : techSheetData) {\r\n       SXSSFRow row = tech.createRow(r);\r\n       int c = 0;\r\n       for (int i = 0; i &lt; dataRow.length; i+=2) {\r\n        SXSSFCell cell = row.createCell(c);\r\n        Object data = dataRow[i];\r\n        String format = (String)dataRow[i+1];\r\n        if (data instanceof Number) {\r\n         cell.setCellValue(((Number)data).doubleValue());\r\n        } else {\r\n         cell.setCellValue(String.valueOf(data));   \r\n        }\r\n        if (&quot;Text&quot;.equals(format)) {\r\n         cell.setCellStyle(textStyle);\r\n        }\r\n        c++;\r\n       }\r\n       r++;\r\n      }\r\n     }\r\n    \r\n     public static void main(String args[]) throws Exception {\r\n         \r\n      Object[][] techSheetData = new Object[][] {\r\n       new Object[] {&quot;A1&quot;, &quot;General&quot;, new java.math.BigInteger(&quot;12345678901234567890&quot;), &quot;General&quot;},\r\n       new Object[] {&quot;A2&quot;, &quot;General&quot;, &quot;12345678901234567890&quot;, &quot;Text&quot;},\r\n       new Object[] {&quot;A3&quot;, &quot;General&quot;, &quot;12345678901234567890&quot;, &quot;General&quot;},\r\n      };\r\n      \r\n      try ( SXSSFWorkbook workbook = new SXSSFWorkbook();\r\n            java.io.FileOutputStream out = new java.io.FileOutputStream(&quot;./Excel.xlsx&quot;)) {\r\n               \r\n       DataFormat format = workbook.createDataFormat();\r\n       CellStyle textStyle = workbook.createCellStyle();\r\n       textStyle.setDataFormat(format.getFormat(&quot;@&quot;));\r\n       \r\n       setTechSheet(workbook, techSheetData, textStyle);\r\n                \r\n       workbook.write(out);\r\n       workbook.dispose();\r\n      }\r\n     }\r\n    }\r\n\r\nThe big integer in `B1`will not be stored in Excel properly because Excel only stores numbers in `double` precision.\r\n\r\nThe big integer string in `B2` is formatted using `Text` data format. So one can edit that cell in Excel&#39;s GUI without destroying the format.\r\n\r\nThe big integer string in `B3` is formatted using `General` data format. So if one edits that cell in Excel&#39;s GUI this will destroy the format and Excel converts the number into a `double` value.\r\n\r\n","title":"Can&#39;t set type for excel cell in java","body":"<p>General is not the type but the data format. So you have a cell containing a text value in General data format. That is the default. There is nothing wrong with this.</p>\n<p>The special <code>Text</code> data format only is needed when one needs to store numbers as text for example.</p>\n<p>If you need <code>Text</code> data format, then setting <code>@</code> as data format is necessary. For this, the cell needs a cell style having that data format. And because cell styles are stored on workbook level and shared between all cells having that date format, each data format needs to be created only once per workbook and then applied to all cells which shall use this data format.</p>\n<pre><code>SXSSFWorkbook workbook...\n...\nDataFormat format = workbook.createDataFormat();\nCellStyle textStyle = workbook.createCellStyle();\ntextStyle.setDataFormat(format.getFormat(&quot;@&quot;));\n...\nsetTechSheet(workbook, &quot;1234&quot;, textStyle);\n...\nprivate void setTechSheet(SXSSFWorkbook workbook, String entityJson, CellStyle textStyle) {\n SXSSFSheet tech = workbook.createSheet(&quot;tech&quot;);\n SXSSFRow jwtRow = tech.createRow(0);\n SXSSFCell cell = jwtRow.createCell(1);\n cell.setCellValue(entityJson);\n cell.setCellStyle(textStyle);\n}\n...\n</code></pre>\n<p>Following complete example shows when data format <code>Text</code> is needed.</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.streaming.*;\n\npublic class SXSSFTextDataFormat {\n    \n private static void setTechSheet(SXSSFWorkbook workbook, Object[][] techSheetData, CellStyle textStyle) {\n  SXSSFSheet tech = workbook.createSheet(&quot;tech&quot;);\n  int r = 0;\n  for (Object[] dataRow : techSheetData) {\n   SXSSFRow row = tech.createRow(r);\n   int c = 0;\n   for (int i = 0; i &lt; dataRow.length; i+=2) {\n    SXSSFCell cell = row.createCell(c);\n    Object data = dataRow[i];\n    String format = (String)dataRow[i+1];\n    if (data instanceof Number) {\n     cell.setCellValue(((Number)data).doubleValue());\n    } else {\n     cell.setCellValue(String.valueOf(data));   \n    }\n    if (&quot;Text&quot;.equals(format)) {\n     cell.setCellStyle(textStyle);\n    }\n    c++;\n   }\n   r++;\n  }\n }\n\n public static void main(String args[]) throws Exception {\n     \n  Object[][] techSheetData = new Object[][] {\n   new Object[] {&quot;A1&quot;, &quot;General&quot;, new java.math.BigInteger(&quot;12345678901234567890&quot;), &quot;General&quot;},\n   new Object[] {&quot;A2&quot;, &quot;General&quot;, &quot;12345678901234567890&quot;, &quot;Text&quot;},\n   new Object[] {&quot;A3&quot;, &quot;General&quot;, &quot;12345678901234567890&quot;, &quot;General&quot;},\n  };\n  \n  try ( SXSSFWorkbook workbook = new SXSSFWorkbook();\n        java.io.FileOutputStream out = new java.io.FileOutputStream(&quot;./Excel.xlsx&quot;)) {\n           \n   DataFormat format = workbook.createDataFormat();\n   CellStyle textStyle = workbook.createCellStyle();\n   textStyle.setDataFormat(format.getFormat(&quot;@&quot;));\n   \n   setTechSheet(workbook, techSheetData, textStyle);\n            \n   workbook.write(out);\n   workbook.dispose();\n  }\n }\n}\n</code></pre>\n<p>The big integer in <code>B1</code>will not be stored in Excel properly because Excel only stores numbers in <code>double</code> precision.</p>\n<p>The big integer string in <code>B2</code> is formatted using <code>Text</code> data format. So one can edit that cell in Excel's GUI without destroying the format.</p>\n<p>The big integer string in <code>B3</code> is formatted using <code>General</code> data format. So if one edits that cell in Excel's GUI this will destroy the format and Excel converts the number into a <code>double</code> value.</p>\n"}],"owner":{"account_id":17391021,"reputation":5,"user_id":12601540,"display_name":"user12601540"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72574819,"answer_count":1,"score":0,"last_activity_date":1654869469,"creation_date":1654853443,"question_id":72572053,"body_markdown":"I am using org.apache.poi for excel interaction through Java and I am using SXSSF (not any other format like HSSF etc.). Here is how I want to set type.\r\n\r\n    private void setTechSheet(SXSSFWorkbook workbook, String entityJson) {\r\n            SXSSFSheet tech = workbook.createSheet(&quot;tech&quot;);\r\n            SXSSFRow jwtRow = tech.createRow(0);\r\n            SXSSFRow SecondRow = tech.createRow(1);\r\n            jwtRow.createCell(1).setCellValue(entityJson);\r\n        }\r\n\r\nIf to put this in the 4th line of method:\r\n\r\n    jwtRow.createCell(1).setCellType(CellType.STRING).setCellValue(entityJson),\r\n\r\nit won&#39;t let me set value. As I read from tutorial, the cell will be the type of datas I write (string in my example). But when I open excel and click on my cell it still shows general type. How can I solve this problem? I want the cell to be any type, but not general.\r\n\r\n ","title":"Can&#39;t set type for excel cell in java","body":"<p>I am using org.apache.poi for excel interaction through Java and I am using SXSSF (not any other format like HSSF etc.). Here is how I want to set type.</p>\n<pre><code>private void setTechSheet(SXSSFWorkbook workbook, String entityJson) {\n        SXSSFSheet tech = workbook.createSheet(&quot;tech&quot;);\n        SXSSFRow jwtRow = tech.createRow(0);\n        SXSSFRow SecondRow = tech.createRow(1);\n        jwtRow.createCell(1).setCellValue(entityJson);\n    }\n</code></pre>\n<p>If to put this in the 4th line of method:</p>\n<pre><code>jwtRow.createCell(1).setCellType(CellType.STRING).setCellValue(entityJson),\n</code></pre>\n<p>it won't let me set value. As I read from tutorial, the cell will be the type of datas I write (string in my example). But when I open excel and click on my cell it still shows general type. How can I solve this problem? I want the cell to be any type, but not general.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1654869047,"post_id":72566985,"comment_id":128201996,"body_markdown":"Works fine for me. Are you sure you are viewing the file correctly? Does the same happen if you view it in a text editor?","body":"Works fine for me. Are you sure you are viewing the file correctly? Does the same happen if you view it in a text editor?"},{"owner":{"account_id":25388668,"reputation":1,"user_id":19200080,"display_name":"M ADI"},"score":0,"creation_date":1654869218,"post_id":72566985,"comment_id":128202084,"body_markdown":"Text Editor is working fine. I am having this issue only when exporting to csv file. I just ran and I uploaded the output image of csv file, I got now. Can you please check.","body":"Text Editor is working fine. I am having this issue only when exporting to csv file. I just ran and I uploaded the output image of csv file, I got now. Can you please check."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654869240,"post_id":72566985,"comment_id":128202094,"body_markdown":"Check in text editor","body":"Check in text editor"},{"owner":{"account_id":13182715,"reputation":164,"user_id":9521638,"display_name":"John Ingram"},"score":0,"creation_date":1654869275,"post_id":72566985,"comment_id":128202113,"body_markdown":"Try viewing the CSV file in notepad. Excel changes a lot of formatting when opening CSV files","body":"Try viewing the CSV file in notepad. Excel changes a lot of formatting when opening CSV files"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654869358,"post_id":72566985,"comment_id":128202144,"body_markdown":"If viewing in a text editor works fine, then there is no issue to be solved. It is some excel setting, which is not the scope of stackoverflow","body":"If viewing in a text editor works fine, then there is no issue to be solved. It is some excel setting, which is not the scope of stackoverflow"},{"owner":{"account_id":25388668,"reputation":1,"user_id":19200080,"display_name":"M ADI"},"score":0,"creation_date":1654869413,"post_id":72566985,"comment_id":128202161,"body_markdown":"Text Editor and note pad works fine. But my requirement is to export into csv file.","body":"Text Editor and note pad works fine. But my requirement is to export into csv file."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1654869438,"post_id":72566985,"comment_id":128202171,"body_markdown":"csv is a format which you can view in every basic text edit, or excel. however, excel can show it wrong, while the data is still correct. so dont rely on excel to show it correctly. if notepad shows correct, you are fine","body":"csv is a format which you can view in every basic text edit, or excel. however, excel can show it wrong, while the data is still correct. so dont rely on excel to show it correctly. if notepad shows correct, you are fine"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1654869658,"post_id":72566985,"comment_id":128202256,"body_markdown":"@MADI If the spaces show up in the file when viewed in a text editor then the spaces are in the file. How *other* programs (e.g., Excel) choose to *interpret* that file is a separate issue.","body":"@MADI If the spaces show up in the file when viewed in a text editor then the spaces are in the file. How <i>other</i> programs (e.g., Excel) choose to <i>interpret</i> that file is a separate issue."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1654869685,"post_id":72566985,"comment_id":128202272,"body_markdown":"@MADI It&#39;s not clear why spaces would matter at all here: spaces are being used to (a) separate the data, and (b) make things line up nice for humans. Excel does not care about humans. The spaces are not necessary for correct interpretation of the data. AFAICT the code, and Excel, are doing the right things.","body":"@MADI It&#39;s not clear why spaces would matter at all here: spaces are being used to (a) separate the data, and (b) make things line up nice for humans. Excel does not care about humans. The spaces are not necessary for correct interpretation of the data. AFAICT the code, and Excel, are doing the right things."}],"owner":{"account_id":25388668,"reputation":1,"user_id":19200080,"display_name":"M ADI"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654869125,"creation_date":1654811148,"question_id":72566985,"body_markdown":"[enter image description here][1]I am writing list of Strings to a csv file using java. While writing the data to file, spaces are getting removed. How to preserve spaces in the string. Please find the code as below:\r\n\r\n        public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tString fileName = &quot;D:/appFiles/stoTest.csv&quot;;\r\n    \t\tFileWriter fstream = null;\r\n    \t\tPrintWriter writer = null;\r\n    \r\n    \t    List&lt;String&gt; test = new ArrayList&lt;&gt;();\r\n    \t    test.add(&quot;1226207\t20220506\t0113279\t78.00\tC&quot;);\r\n    \t    test.add(&quot;1226207\t20220506\t0113285\t242.31\tC&quot;);\r\n    \t    test.add(&quot;1226207\t20220506\t0113281\t52.00\tC&quot;);\r\n    \t    test.add(&quot;1226207\t20220506\t0113280\t75.00\tC&quot;);\r\n    \r\n    \t\ttry {\r\n    \t\t\t// Create file\r\n    \t\t\tfstream = new FileWriter(fileName);\r\n    \t\t\twriter = new PrintWriter(fstream);\r\n    \t\t\t\r\n    \t\t\tfor (String s : test) {\r\n    \t\t\t\twriter.println(s);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally  {\r\n    \t\t\t// Close the output stream\r\n    \t\t\tif (writer != null) {\r\n    \t\t\t\twriter.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2xj7f.jpg","title":"Issue with spaces while writing the string to csv file","body":"<p><a href=\"https://i.stack.imgur.com/2xj7f.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>I am writing list of Strings to a csv file using java. While writing the data to file, spaces are getting removed. How to preserve spaces in the string. Please find the code as below:</p>\n<pre><code>    public class Main {\n\n    public static void main(String[] args) throws IOException {\n        String fileName = &quot;D:/appFiles/stoTest.csv&quot;;\n        FileWriter fstream = null;\n        PrintWriter writer = null;\n\n        List&lt;String&gt; test = new ArrayList&lt;&gt;();\n        test.add(&quot;1226207   20220506    0113279 78.00   C&quot;);\n        test.add(&quot;1226207   20220506    0113285 242.31  C&quot;);\n        test.add(&quot;1226207   20220506    0113281 52.00   C&quot;);\n        test.add(&quot;1226207   20220506    0113280 75.00   C&quot;);\n\n        try {\n            // Create file\n            fstream = new FileWriter(fileName);\n            writer = new PrintWriter(fstream);\n            \n            for (String s : test) {\n                writer.println(s);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally  {\n            // Close the output stream\n            if (writer != null) {\n                writer.close();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1654868318,"post_id":72575221,"comment_id":128201696,"body_markdown":"Save user input in variables and then call `new Store(name, age);` however, you can get the same information by googling faster than asking here","body":"Save user input in variables and then call <code>new Store(name, age);</code> however, you can get the same information by googling faster than asking here"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1654868411,"post_id":72575221,"comment_id":128201735,"body_markdown":"[How to create object of class](https://stackoverflow.com/questions/5609960/how-to-create-object-of-class) - this should help to get started.","body":"<a href=\"https://stackoverflow.com/questions/5609960/how-to-create-object-of-class\">How to create object of class</a> - this should help to get started."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1654868825,"post_id":72575221,"comment_id":128201887,"body_markdown":"Please study a tutorial or textbook on the basics of Java before posting here. Oracle provides a tutorial online free of cost. See [*Creating Objects*](https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html).","body":"Please study a tutorial or textbook on the basics of Java before posting here. Oracle provides a tutorial online free of cost. See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\" rel=\"nofollow noreferrer\"><i>Creating Objects</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654869080,"creation_date":1654869080,"answer_id":72575439,"question_id":72575221,"body_markdown":"Since you haven&#39;t mentioned if you want to use switch case for same `Store` object, but if we assume its for same `Store` object, then you can do :\r\n\r\n\r\n    Store store=new Store(&quot;&quot;, 0); //initialize with no name &amp; zero age.\r\n\r\n    switch(choice){\r\n                    case 1:\r\n                        System.out.printf(&quot;Name: &quot;);\r\n                        store.name = scan.next();\r\n                        break;\r\n                        \r\n                    case 2:\r\n                        System.out.printf(&quot;Age: &quot;);\r\n                        store.age = scan.nextInt();\r\n                        break;\r\n                }  \r\n\r\n \r\nThis will either set name or age but not both.\r\n\r\nOne more tip, `import library.Store` is required in your `Test` class.","title":"How to store data from specific library in main application - Java","body":"<p>Since you haven't mentioned if you want to use switch case for same <code>Store</code> object, but if we assume its for same <code>Store</code> object, then you can do :</p>\n<pre><code>Store store=new Store(&quot;&quot;, 0); //initialize with no name &amp; zero age.\n\nswitch(choice){\n                case 1:\n                    System.out.printf(&quot;Name: &quot;);\n                    store.name = scan.next();\n                    break;\n                    \n                case 2:\n                    System.out.printf(&quot;Age: &quot;);\n                    store.age = scan.nextInt();\n                    break;\n            }  \n</code></pre>\n<p>This will either set name or age but not both.</p>\n<p>One more tip, <code>import library.Store</code> is required in your <code>Test</code> class.</p>\n"}],"owner":{"account_id":23428248,"reputation":1,"user_id":19314312,"display_name":"Anonymous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1655163477,"accepted_answer_id":72575439,"answer_count":1,"score":-2,"last_activity_date":1654869080,"creation_date":1654868156,"question_id":72575221,"body_markdown":"I&#39;m very new learner in Java and currently having a hard time in understanding the concept of library and main. I&#39;m trying to store the input of user in the specific library which is Store without adding &quot;static&quot;. Is my logic wrong? Here&#39;s my code\r\n```\r\n    package app;\r\n    import Library.*;\r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Enter 1 if you want to store name data \\nEnter 2 if you want to store age data &quot;);\r\n\r\n            Scanner scan = new Scanner(System.in);\r\n            int choice = scan.nextInt();\r\n            \r\n            switch(choice){\r\n                case 1:\r\n                    System.out.printf(&quot;Name: &quot;);\r\n                    Store.name = scan.next();\r\n                    break;\r\n                    \r\n                case 2:\r\n                    System.out.printf(&quot;Age: &quot;);\r\n                    Store.age = scan.nextInt();\r\n                    break;\r\n            }   \r\n        }\r\n```\r\n\r\nHeres my library code\r\n```\r\n    package library1;\r\n    public class Store {\r\n        public String name;\r\n        public int age;\r\n        public Store(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How to store data from specific library in main application - Java","body":"<p>I'm very new learner in Java and currently having a hard time in understanding the concept of library and main. I'm trying to store the input of user in the specific library which is Store without adding &quot;static&quot;. Is my logic wrong? Here's my code</p>\n<pre><code>    package app;\n    import Library.*;\n    import java.util.Scanner;\n\n    public class Test {\n        public static void main(String[] args) {\n            System.out.println(&quot;Enter 1 if you want to store name data \\nEnter 2 if you want to store age data &quot;);\n\n            Scanner scan = new Scanner(System.in);\n            int choice = scan.nextInt();\n            \n            switch(choice){\n                case 1:\n                    System.out.printf(&quot;Name: &quot;);\n                    Store.name = scan.next();\n                    break;\n                    \n                case 2:\n                    System.out.printf(&quot;Age: &quot;);\n                    Store.age = scan.nextInt();\n                    break;\n            }   \n        }\n</code></pre>\n<p>Heres my library code</p>\n<pre><code>    package library1;\n    public class Store {\n        public String name;\n        public int age;\n        public Store(String name, int age) {\n            this.name = name;\n            this.age = age;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","hql"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654795460,"post_id":72564289,"comment_id":128183294,"body_markdown":"Perhaps you want some unique constraints in your table?","body":"Perhaps you want some unique constraints in your table?"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654796044,"post_id":72564289,"comment_id":128183489,"body_markdown":"@Kayaman I tried the ID as unique constraints but its still desame multiple saving","body":"@Kayaman I tried the ID as unique constraints but its still desame multiple saving"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654796206,"post_id":72564289,"comment_id":128183555,"body_markdown":"Yes but you also have it as auto increment.","body":"Yes but you also have it as auto increment."},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654796751,"post_id":72564289,"comment_id":128183737,"body_markdown":"@Kayaman yes, i also updated my post question with database query","body":"@Kayaman yes, i also updated my post question with database query"},{"owner":{"account_id":11380097,"reputation":2152,"user_id":8343203,"display_name":"hphp"},"score":0,"creation_date":1654797081,"post_id":72564289,"comment_id":128183836,"body_markdown":"is the table initially empty before you insert data? because in your query you inserting the existing data, or you can say that it will duplicate existing data","body":"is the table initially empty before you insert data? because in your query you inserting the existing data, or you can say that it will duplicate existing data"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654797406,"post_id":72564289,"comment_id":128183946,"body_markdown":"@hphp yes its empty. and yes i just notice just now it will duplicate existing data","body":"@hphp yes its empty. and yes i just notice just now it will duplicate existing data"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654797567,"post_id":72564289,"comment_id":128184004,"body_markdown":"So everything seems to be in order. You&#39;re inserting new rows and they&#39;re getting inserted. Since you don&#39;t have any unique columns besides the PK, you get duplicates. The primary key is autoincremented for each insert.","body":"So everything seems to be in order. You&#39;re inserting new rows and they&#39;re getting inserted. Since you don&#39;t have any unique columns besides the PK, you get duplicates. The primary key is autoincremented for each insert."},{"owner":{"account_id":11380097,"reputation":2152,"user_id":8343203,"display_name":"hphp"},"score":0,"creation_date":1654797833,"post_id":72564289,"comment_id":128184090,"body_markdown":"so by `suddenly inserting multiple data`, did you call the method multiple times and expect it is not inserting duplicate data? or did you call the method once, but the data inserted multiple times?","body":"so by <code>suddenly inserting multiple data</code>, did you call the method multiple times and expect it is not inserting duplicate data? or did you call the method once, but the data inserted multiple times?"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654798171,"post_id":72564289,"comment_id":128184192,"body_markdown":"@hphp i call it 1 time then its saving multiple time and  duplicating other data.","body":"@hphp i call it 1 time then its saving multiple time and  duplicating other data."},{"owner":{"account_id":11380097,"reputation":2152,"user_id":8343203,"display_name":"hphp"},"score":0,"creation_date":1654798514,"post_id":72564289,"comment_id":128184309,"body_markdown":"idk, i don&#39;t see where you set your `product` to your query, but maybe for now can you try creating the query using `PreparedStatement` first? just to make sure it didn&#39;t duplicated because of your query","body":"idk, i don&#39;t see where you set your <code>product</code> to your query, but maybe for now can you try creating the query using <code>PreparedStatement</code> first? just to make sure it didn&#39;t duplicated because of your query"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654798993,"post_id":72564289,"comment_id":128184454,"body_markdown":"@hphp here for full detail this link [https://stackoverflow.com/questions/72561268/hql-orm-hibernate-implementation-error-null ]","body":"@hphp here for full detail this link [<a href=\"https://stackoverflow.com/questions/72561268/hql-orm-hibernate-implementation-error-null\" title=\"hql orm hibernate implementation error null\">stackoverflow.com/questions/72561268/&hellip;</a> ]"}],"answers":[{"tags":[],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654866398,"creation_date":1654866398,"answer_id":72574789,"question_id":72564289,"body_markdown":"fix `getSessionFactory().openSession()` to\r\n `getSessionFactory().getCurrentSession()`\r\n\r\nreference link  https://stackoverflow.com/questions/8046662/hibernate-opensession-vs-getcurrentsession#:~:text=openSession()%20always%20opens%20a,t%20need%20to%20close%20this.","title":"how to stop HQL hibernate insert multiple data inserted?","body":"<p>fix <code>getSessionFactory().openSession()</code> to\n<code>getSessionFactory().getCurrentSession()</code></p>\n<p>reference link  <a href=\"https://stackoverflow.com/questions/8046662/hibernate-opensession-vs-getcurrentsession#:%7E:text=openSession()%20always%20opens%20a,t%20need%20to%20close%20this\">https://stackoverflow.com/questions/8046662/hibernate-opensession-vs-getcurrentsession#:~:text=openSession()%20always%20opens%20a,t%20need%20to%20close%20this</a>.</p>\n"},{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654869077,"creation_date":1654869077,"answer_id":72575438,"question_id":72564289,"body_markdown":"What&#39;s a weird query?\r\n\r\n```sql\r\nINSERT INTO Product ( productname, productbrand, productprice, productdescription, productquantity, productexpirationdate) \r\nSELECT  productname, productbrand, productprice, productdescription, productquantity, productexpirationdate \r\nFROM Product&quot;;\r\n```\r\nYou select data from `Product` and insert it to the same `Product` table simultaneously.\r\nThat&#39;s why!\r\n\r\n\r\n","title":"how to stop HQL hibernate insert multiple data inserted?","body":"<p>What's a weird query?</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO Product ( productname, productbrand, productprice, productdescription, productquantity, productexpirationdate) \nSELECT  productname, productbrand, productprice, productdescription, productquantity, productexpirationdate \nFROM Product&quot;;\n</code></pre>\n<p>You select data from <code>Product</code> and insert it to the same <code>Product</code> table simultaneously.\nThat's why!</p>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654869077,"creation_date":1654795311,"question_id":72564289,"body_markdown":"Implementation: HQL hibernate. Im trying to save 1 data but what happen is its saving `many data` the only i stop it is by `result &gt; 1 to NullPointerException`. I already put some  `session.close()` still saving multiple.\r\n\r\nHibernate has `save` but where not gonna use that.\r\n\r\n```\r\n@Override\r\n\tpublic Product save(Product product) {\r\n        Transaction transaction = null;\r\n  \r\n        Session session = HibernateUtil.getSessionFactory().openSession();\r\n\r\n            transaction = session.beginTransaction();\r\n\r\n            String hql = &quot;INSERT INTO Product  ( productname, productbrand, productprice, productdescription, productquantity, productexpirationdate) &quot; +\r\n                &quot;SELECT   productname, productbrand, productprice, productdescription, productquantity, productexpirationdate FROM Product &quot;;\r\n            Query query = session.createQuery(hql);\r\n            Integer result =  query.executeUpdate();\r\n        \r\n            transaction.commit();\r\n            session.close();\r\n\r\n             if (result == 0 ||result == null  ) {\r\n                   \r\n                throw new NullPointerException();\r\n            }\r\n            \r\n           // if (result &gt; 1 || result &gt;= 0 ||result == null  ) {\r\n           // \t   \r\n           /// \tthrow new NullPointerException();\r\n\t\t\t//}\r\n            \r\n\r\n\t\treturn product;\r\n    }\r\n\r\n```\r\nExample in data in database insert 1 data then suddenly  inserting multiple data.\r\nhow to stop this?\r\n```\r\n&#39;1&#39;, &#39;Hello1234&#39;, &#39;Hello&#39;, &#39;2022-10-27 00:00:00&#39;, &#39;Hello1234&#39;, &#39;1.4&#39;, &#39;10&#39;, NULL\r\n&#39;2&#39;, &#39;Hello1234&#39;, &#39;Hello&#39;, &#39;2022-10-27 00:00:00&#39;, &#39;Hello1234&#39;, &#39;1.4&#39;, &#39;10&#39;, NULL\r\n&#39;3&#39;, &#39;Hello1234&#39;, &#39;Hello&#39;, &#39;2022-10-27 00:00:00&#39;, &#39;Hello1234&#39;, &#39;1.4&#39;, &#39;10&#39;, NULL\r\n&#39;4&#39;, &#39;Hello1234&#39;, &#39;Hello&#39;, &#39;2022-10-27 00:00:00&#39;, &#39;Hello1234&#39;, &#39;1.4&#39;, &#39;10&#39;, NULL\r\n\r\n```\r\nDatabase query\r\n```\r\nCREATE TABLE `tb_product` (\r\n  `purchase_item` int NOT NULL AUTO_INCREMENT,\r\n  `productbrand` varchar(255) NOT NULL,\r\n  `productdescription` varchar(255) NOT NULL,\r\n  `productexpirationdate` datetime NOT NULL,\r\n  `productname` varchar(255) NOT NULL,\r\n  `productprice` double NOT NULL,\r\n  `productquantity` int NOT NULL,\r\n  PRIMARY KEY (`purchase_item`),\r\n  UNIQUE KEY `purchase_item_UNIQUE` (`purchase_item`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\r\n\r\n```","title":"how to stop HQL hibernate insert multiple data inserted?","body":"<p>Implementation: HQL hibernate. Im trying to save 1 data but what happen is its saving <code>many data</code> the only i stop it is by <code>result &gt; 1 to NullPointerException</code>. I already put some  <code>session.close()</code> still saving multiple.</p>\n<p>Hibernate has <code>save</code> but where not gonna use that.</p>\n<pre><code>@Override\n    public Product save(Product product) {\n        Transaction transaction = null;\n  \n        Session session = HibernateUtil.getSessionFactory().openSession();\n\n            transaction = session.beginTransaction();\n\n            String hql = &quot;INSERT INTO Product  ( productname, productbrand, productprice, productdescription, productquantity, productexpirationdate) &quot; +\n                &quot;SELECT   productname, productbrand, productprice, productdescription, productquantity, productexpirationdate FROM Product &quot;;\n            Query query = session.createQuery(hql);\n            Integer result =  query.executeUpdate();\n        \n            transaction.commit();\n            session.close();\n\n             if (result == 0 ||result == null  ) {\n                   \n                throw new NullPointerException();\n            }\n            \n           // if (result &gt; 1 || result &gt;= 0 ||result == null  ) {\n           //      \n           ///  throw new NullPointerException();\n            //}\n            \n\n        return product;\n    }\n\n</code></pre>\n<p>Example in data in database insert 1 data then suddenly  inserting multiple data.\nhow to stop this?</p>\n<pre><code>'1', 'Hello1234', 'Hello', '2022-10-27 00:00:00', 'Hello1234', '1.4', '10', NULL\n'2', 'Hello1234', 'Hello', '2022-10-27 00:00:00', 'Hello1234', '1.4', '10', NULL\n'3', 'Hello1234', 'Hello', '2022-10-27 00:00:00', 'Hello1234', '1.4', '10', NULL\n'4', 'Hello1234', 'Hello', '2022-10-27 00:00:00', 'Hello1234', '1.4', '10', NULL\n\n</code></pre>\n<p>Database query</p>\n<pre><code>CREATE TABLE `tb_product` (\n  `purchase_item` int NOT NULL AUTO_INCREMENT,\n  `productbrand` varchar(255) NOT NULL,\n  `productdescription` varchar(255) NOT NULL,\n  `productexpirationdate` datetime NOT NULL,\n  `productname` varchar(255) NOT NULL,\n  `productprice` double NOT NULL,\n  `productquantity` int NOT NULL,\n  PRIMARY KEY (`purchase_item`),\n  UNIQUE KEY `purchase_item_UNIQUE` (`purchase_item`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\n</code></pre>\n"},{"tags":["java","swt","lazy-evaluation","mouse-cursor"],"owner":{"account_id":700,"reputation":16953,"user_id":917,"accept_rate":44,"display_name":"Mauli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1654873306,"answer_count":0,"score":4,"last_activity_date":1654868881,"creation_date":1254927617,"question_id":1532192,"body_markdown":"I would like to use a &quot;magnifying glass&quot; (with + and -) cursor in my SWT application. I&#39;m aware [that it is pretty easy to create a cursor for oneself][1], I just don&#39;t want to invest the time right now. Has anyone a link, or a codesnippet with a &quot;zoom in&quot; and &quot;zoom out&quot; cursor which I could use?\r\n\r\n\r\n  [1]: http://www.eclipse.org/articles/Article-SWT-images/graphics-resources.html","title":"Is there a prefabricated magnifying glass cursor for SWT somewhere available?","body":"<p>I would like to use a \"magnifying glass\" (with + and -) cursor in my SWT application. I'm aware <a href=\"http://www.eclipse.org/articles/Article-SWT-images/graphics-resources.html\" rel=\"nofollow noreferrer\">that it is pretty easy to create a cursor for oneself</a>, I just don't want to invest the time right now. Has anyone a link, or a codesnippet with a \"zoom in\" and \"zoom out\" cursor which I could use?</p>\n"},{"tags":["java","spring-security","push-notification","vaadin","webhooks"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654868321,"creation_date":1654865942,"answer_id":72574678,"question_id":72574653,"body_markdown":"Add this line of code: \r\n\r\n     .antMatchers(&quot;/notifications&quot;).permitAll()\r\n\r\n  \r\nSo in your case it will go like this:\r\n\r\n\r\n    http.authorizeRequests()\r\n          .antMatchers(&quot;/notifications&quot;)\r\n          .permitAll()\r\n          .anyRequest()\r\n          .authenticated()\r\n          .and()\r\n          .oauth2Login()\r\n          .loginPage(LOGIN_URL);","title":"When processing a webhook, I get an unauthorized 401","body":"<p>Add this line of code:</p>\n<pre><code> .antMatchers(&quot;/notifications&quot;).permitAll()\n</code></pre>\n<p>So in your case it will go like this:</p>\n<pre><code>http.authorizeRequests()\n      .antMatchers(&quot;/notifications&quot;)\n      .permitAll()\n      .anyRequest()\n      .authenticated()\n      .and()\n      .oauth2Login()\n      .loginPage(LOGIN_URL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654866473,"creation_date":1654866138,"answer_id":72574728,"question_id":72574653,"body_markdown":"I&#39;m not agree with deactivating security for any endpoint, even notification  should be done by authorized application. \r\n\r\nFor disabling security for a specific endpoint, try this : \r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends VaadinWebSecurityConfigurerAdapter {\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception{\r\n            http.authorizeRequests().antMatchers(&quot;/notifications&quot;).permitAll();\r\n            super.configure(http);\r\n        }\r\n    }\r\n\r\n","title":"When processing a webhook, I get an unauthorized 401","body":"<p>I'm not agree with deactivating security for any endpoint, even notification  should be done by authorized application.</p>\n<p>For disabling security for a specific endpoint, try this :</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends VaadinWebSecurityConfigurerAdapter {\n    @Override\n    public void configure(HttpSecurity http) throws Exception{\n        http.authorizeRequests().antMatchers(&quot;/notifications&quot;).permitAll();\n        super.configure(http);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22489799,"reputation":79,"user_id":16687691,"display_name":"Александр Хворостенко"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1654868679,"creation_date":1654865758,"question_id":72574653,"body_markdown":"When processing a webhook, I get an unauthorized 401\r\nI use Spring Security and Vaadin\r\n\r\n    @RestController\r\n    @Log4j2\r\n    public class WebHookController {\r\n    \r\n      @Inject\r\n      KeywordPlanService service;\r\n      @Inject\r\n      SheetsService sheetsService;\r\n    \r\n      MainView view;\r\n    \r\n      @PostMapping(&quot;/notifications&quot;)\r\n      @AnonymousAllowed\r\n      public ResponseEntity&lt;Void&gt; webHookHandler(HttpServletRequest request) {\r\n        String headerGoogChanged = request.getHeader(&quot;x-goog-changed&quot;);\r\n        if (!ObjectUtils.isEmpty(headerGoogChanged) &amp;&amp; headerGoogChanged.contains(&quot;content&quot;)) {\r\n          service.parseDashboardAndSave(view.getGrid(), sheetsService.readSheetValuesBatch());\r\n          sheetsService.writeSheetValuesBatch(service.getKeyWordDashboards());\r\n          log.info(&quot;Push notification processed: {}&quot;, request);\r\n        }\r\n        return ResponseEntity.ok().build();\r\n      }\r\n    }\r\n\r\nand\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends VaadinWebSecurityConfigurerAdapter {\r\n    \r\n      private static final String LOGIN_URL = &quot;/login&quot;;\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http\r\n            .oauth2Login()\r\n            .loginPage(LOGIN_URL)\r\n            .permitAll();\r\n      }...\r\nI understand that I need to make my endpoint public \r\n\r\n&gt; /notifications\r\n\r\nHow can I make the endpoint public?\r\n\r\n**Updated**\r\n  \r\n\r\n       @Override\r\n          protected void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/notifications&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .oauth2Login()\r\n                .loginPage(LOGIN_URL);\r\n        \r\n        \r\n          }\r\n\r\ncauses a message\r\n\r\n&gt; 2022-06-10 17:39:30.040  WARN 37089 --- [  restartedMain]\r\n&gt; ConfigServletWebServerApplicationContext : Exception encountered\r\n&gt; during context initialization - cancelling refresh attempt:\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;springSecurityFilterChain&#39; defined in class\r\n&gt; path resource\r\n&gt; [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]:\r\n&gt; Bean instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate [javax.servlet.Filter]: Factory method\r\n&gt; &#39;springSecurityFilterChain&#39; threw exception; nested exception is\r\n&gt; java.lang.IllegalStateException: Can&#39;t configure antMatchers after\r\n&gt; anyRequest 2022-06-10 17:39:30.041  WARN 37089 --- [  restartedMain]\r\n&gt; .s.c.a.CommonAnnotationBeanPostProcessor : Destroy method on bean with\r\n&gt; name &#39;keywordPlanService&#39; threw an exception:\r\n&gt; java.lang.NullPointerException 2022-06-10 17:39:30.044  INFO 37089 ---\r\n&gt; [  restartedMain] o.apache.catalina.core.StandardService   : Stopping\r\n&gt; service [Tomcat] 2022-06-10 17:39:30.061  INFO 37089 --- [ \r\n&gt; restartedMain] ConditionEvaluationReportLoggingListener : \r\n&gt; \r\n&gt; Error starting ApplicationContext. To display the conditions report\r\n&gt; re-run your application with &#39;debug&#39; enabled. 2022-06-10 17:39:30.074\r\n&gt; ERROR 37089 --- [  restartedMain] o.s.boot.SpringApplication          \r\n&gt; : Application run failed\r\n&gt; \r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;springSecurityFilterChain&#39; defined in class\r\n&gt; path resource\r\n&gt; [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]:\r\n&gt; Bean instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate [javax.servlet.Filter]: Factory method\r\n&gt; &#39;springSecurityFilterChain&#39; threw exception; nested exception is\r\n&gt; java.lang.IllegalStateException: Can&#39;t configure antMatchers after\r\n&gt; anyRequest \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n&gt; ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n&gt; ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n&gt; ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n&gt; ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n&gt; ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n&gt; ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n&gt; ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE] \tat\r\n&gt; com.example.demo.DemoApplication.main(DemoApplication.java:10)\r\n&gt; ~[main/:na] \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) ~[na:na] \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n&gt; \tat\r\n&gt; org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n&gt; ~[spring-boot-devtools-2.2.4.RELEASE.jar:2.2.4.RELEASE] Caused by:\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate [javax.servlet.Filter]: Factory method\r\n&gt; &#39;springSecurityFilterChain&#39; threw exception; nested exception is\r\n&gt; java.lang.IllegalStateException: Can&#39;t configure antMatchers after\r\n&gt; anyRequest \tat\r\n&gt; org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \t... 26 common frames\r\n&gt; omitted Caused by: java.lang.IllegalStateException: Can&#39;t configure\r\n&gt; antMatchers after anyRequest \tat\r\n&gt; org.springframework.util.Assert.state(Assert.java:73)\r\n&gt; ~[spring-core-5.2.3.RELEASE.jar:5.2.3.RELEASE] \tat\r\n&gt; org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.antMatchers(AbstractRequestMatcherRegistry.java:122)\r\n&gt; ~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE] \tat\r\n&gt; com.example.demo.config.WebSecurityConfig.configure(WebSecurityConfig.java:20)\r\n&gt; ~[main/:na] \tat\r\n&gt; org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:231)\r\n&gt; ~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE] \tat\r\n&gt; org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322)\r\n&gt; ~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE] \tat\r\n&gt; org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:92)\r\n&gt; ~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE] \tat\r\n&gt; com.example.demo.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$91e4ba14.init(&lt;generated&gt;)\r\n&gt; ~[main/:na] \tat\r\n&gt; org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370)\r\n&gt; ~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE] \tat\r\n&gt; org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324)\r\n&gt; ~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE] \tat\r\n&gt; org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\r\n&gt; ~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE] \tat\r\n&gt; org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104)\r\n&gt; ~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE] \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) ~[na:na] \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n&gt; ~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE] \t... 27 common frames\r\n&gt; omitted\r\n&gt; \r\n&gt; Disconnected from the target VM, address: &#39;127.0.0.1:64031&#39;,\r\n&gt; transport: &#39;socket&#39;\r\n&gt; \r\n&gt; Process finished with exit code 0","title":"When processing a webhook, I get an unauthorized 401","body":"<p>When processing a webhook, I get an unauthorized 401\nI use Spring Security and Vaadin</p>\n<pre><code>@RestController\n@Log4j2\npublic class WebHookController {\n\n  @Inject\n  KeywordPlanService service;\n  @Inject\n  SheetsService sheetsService;\n\n  MainView view;\n\n  @PostMapping(&quot;/notifications&quot;)\n  @AnonymousAllowed\n  public ResponseEntity&lt;Void&gt; webHookHandler(HttpServletRequest request) {\n    String headerGoogChanged = request.getHeader(&quot;x-goog-changed&quot;);\n    if (!ObjectUtils.isEmpty(headerGoogChanged) &amp;&amp; headerGoogChanged.contains(&quot;content&quot;)) {\n      service.parseDashboardAndSave(view.getGrid(), sheetsService.readSheetValuesBatch());\n      sheetsService.writeSheetValuesBatch(service.getKeyWordDashboards());\n      log.info(&quot;Push notification processed: {}&quot;, request);\n    }\n    return ResponseEntity.ok().build();\n  }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends VaadinWebSecurityConfigurerAdapter {\n\n  private static final String LOGIN_URL = &quot;/login&quot;;\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n    http\n        .oauth2Login()\n        .loginPage(LOGIN_URL)\n        .permitAll();\n  }...\n</code></pre>\n<p>I understand that I need to make my endpoint public</p>\n<blockquote>\n<p>/notifications</p>\n</blockquote>\n<p>How can I make the endpoint public?</p>\n<p><strong>Updated</strong></p>\n<pre><code>   @Override\n      protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.authorizeRequests()\n            .antMatchers(&quot;/notifications&quot;)\n            .permitAll()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .oauth2Login()\n            .loginPage(LOGIN_URL);\n    \n    \n      }\n</code></pre>\n<p>causes a message</p>\n<blockquote>\n<p>2022-06-10 17:39:30.040  WARN 37089 --- [  restartedMain]\nConfigServletWebServerApplicationContext : Exception encountered\nduring context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'springSecurityFilterChain' defined in class\npath resource\n[org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]:\nBean instantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate [javax.servlet.Filter]: Factory method\n'springSecurityFilterChain' threw exception; nested exception is\njava.lang.IllegalStateException: Can't configure antMatchers after\nanyRequest 2022-06-10 17:39:30.041  WARN 37089 --- [  restartedMain]\n.s.c.a.CommonAnnotationBeanPostProcessor : Destroy method on bean with\nname 'keywordPlanService' threw an exception:\njava.lang.NullPointerException 2022-06-10 17:39:30.044  INFO 37089 ---\n[  restartedMain] o.apache.catalina.core.StandardService   : Stopping\nservice [Tomcat] 2022-06-10 17:39:30.061  INFO 37089 --- [\nrestartedMain] ConditionEvaluationReportLoggingListener :</p>\n<p>Error starting ApplicationContext. To display the conditions report\nre-run your application with 'debug' enabled. 2022-06-10 17:39:30.074\nERROR 37089 --- [  restartedMain] o.s.boot.SpringApplication<br />\n: Application run failed</p>\n<p>org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'springSecurityFilterChain' defined in class\npath resource\n[org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]:\nBean instantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate [javax.servlet.Filter]: Factory method\n'springSecurityFilterChain' threw exception; nested exception is\njava.lang.IllegalStateException: Can't configure antMatchers after\nanyRequest    at\norg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]     at\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]     at\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\n~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]    at\norg.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\n~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]    at\norg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]    at\ncom.example.demo.DemoApplication.main(DemoApplication.java:10)\n~[main/:na]   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:na]  at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n~[na:na]  at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:na]  at\njava.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat\norg.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n~[spring-boot-devtools-2.2.4.RELEASE.jar:2.2.4.RELEASE] Caused by:\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate [javax.servlet.Filter]: Factory method\n'springSecurityFilterChain' threw exception; nested exception is\njava.lang.IllegalStateException: Can't configure antMatchers after\nanyRequest    at\norg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   at\norg.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   ... 26 common frames\nomitted Caused by: java.lang.IllegalStateException: Can't configure\nantMatchers after anyRequest  at\norg.springframework.util.Assert.state(Assert.java:73)\n~[spring-core-5.2.3.RELEASE.jar:5.2.3.RELEASE]    at\norg.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.antMatchers(AbstractRequestMatcherRegistry.java:122)\n~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE]     at\ncom.example.demo.config.WebSecurityConfig.configure(WebSecurityConfig.java:20)\n~[main/:na]   at\norg.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:231)\n~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE]     at\norg.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322)\n~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE]     at\norg.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:92)\n~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE]     at\ncom.example.demo.config.WebSecurityConfig$$EnhancerBySpringCGLIB$$91e4ba14.init()\n~[main/:na]   at\norg.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370)\n~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE]     at\norg.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324)\n~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE]     at\norg.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\n~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE]     at\norg.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104)\n~[spring-security-config-5.2.1.RELEASE.jar:5.2.1.RELEASE]     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:na]  at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n~[na:na]  at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:na]  at\njava.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat\norg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n~[spring-beans-5.2.3.RELEASE.jar:5.2.3.RELEASE]   ... 27 common frames\nomitted</p>\n<p>Disconnected from the target VM, address: '127.0.0.1:64031',\ntransport: 'socket'</p>\n<p>Process finished with exit code 0</p>\n</blockquote>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":3859435,"reputation":676,"user_id":3197529,"display_name":"gsl"},"score":0,"creation_date":1614096820,"post_id":66335901,"comment_id":117277761,"body_markdown":"Does the engine program write anything to stdout? If so, I think you have to read this in the parent process, otherwise the subprocess blocks.","body":"Does the engine program write anything to stdout? If so, I think you have to read this in the parent process, otherwise the subprocess blocks."},{"owner":{"account_id":3859435,"reputation":676,"user_id":3197529,"display_name":"gsl"},"score":0,"creation_date":1614097781,"post_id":66335901,"comment_id":117278279,"body_markdown":"If the child only writes few output, then it will work, because there is a buffer. But when more output is written than the buffer can hold, the child process will block.","body":"If the child only writes few output, then it will work, because there is a buffer. But when more output is written than the buffer can hold, the child process will block."},{"owner":{"account_id":8095174,"reputation":983,"user_id":6099993,"accept_rate":71,"display_name":"NAMS"},"score":0,"creation_date":1614097899,"post_id":66335901,"comment_id":117278352,"body_markdown":"It does in other places, and I do read the output from stdout and stderr in the parent process, but the part in question that hangs does not output anything.","body":"It does in other places, and I do read the output from stdout and stderr in the parent process, but the part in question that hangs does not output anything."},{"owner":{"account_id":3859435,"reputation":676,"user_id":3197529,"display_name":"gsl"},"score":0,"creation_date":1614098048,"post_id":66335901,"comment_id":117278438,"body_markdown":"Ok, you &quot;say&quot; you read the output of the child, but this is not seen in the code you posted. There should be a call to process.getInputStream() ...","body":"Ok, you &quot;say&quot; you read the output of the child, but this is not seen in the code you posted. There should be a call to process.getInputStream() ..."},{"owner":{"account_id":8095174,"reputation":983,"user_id":6099993,"accept_rate":71,"display_name":"NAMS"},"score":0,"creation_date":1614098590,"post_id":66335901,"comment_id":117278707,"body_markdown":"Code updated in the question","body":"Code updated in the question"},{"owner":{"account_id":3859435,"reputation":676,"user_id":3197529,"display_name":"gsl"},"score":0,"creation_date":1614098850,"post_id":66335901,"comment_id":117278839,"body_markdown":"It doesn&#39;t work this way! You need to create two separate *threads* that read the streams of the child process.","body":"It doesn&#39;t work this way! You need to create two separate <i>threads</i> that read the streams of the child process."},{"owner":{"account_id":8095174,"reputation":983,"user_id":6099993,"accept_rate":71,"display_name":"NAMS"},"score":0,"creation_date":1614099410,"post_id":66335901,"comment_id":117279133,"body_markdown":"I see... so then it is probably as you suspected. I&#39;m going to comment out all of the output temporarily and see if it still gets stuck.","body":"I see... so then it is probably as you suspected. I&#39;m going to comment out all of the output temporarily and see if it still gets stuck."},{"owner":{"account_id":8095174,"reputation":983,"user_id":6099993,"accept_rate":71,"display_name":"NAMS"},"score":0,"creation_date":1614099917,"post_id":66335901,"comment_id":117279407,"body_markdown":"@gsl The process did not hang once I commented out the output, so I&#39;m pretty sure you were correct and I will have to do as you say and create threads to read the output. If you put that in an answer I will accept it.","body":"@gsl The process did not hang once I commented out the output, so I&#39;m pretty sure you were correct and I will have to do as you say and create threads to read the output. If you put that in an answer I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":3859435,"reputation":676,"user_id":3197529,"display_name":"gsl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614103146,"creation_date":1614103146,"answer_id":66338582,"question_id":66335901,"body_markdown":"There might of course be any reason why your &#39;engine&#39; program may hang ;-) but certainly it *will* hang you don&#39;t read the its output, and in the right way:\r\n\r\nThe parent process needs to **read** the **standard output** and **standard error** streams of the child process, given that the child process does generate any substantial amount of output on any of these two channels. This _must_ be done in two separate background threads. If the parent does not read the child&#39;s output, then the child process will block as soon as the (small) buffer between the processes is filled up.\r\n\r\nThe threads should be started as soon as the child process is started, and before the parent calls `process.waitFor()`.\r\n\r\nThe simplest way to do this is the following:\r\n\r\n\r\n    \tProcess process = processBuilder.start();\r\n\t\tInputStream stdout = process.getInputStream();\r\n\t\tInputStream stderr = process.getErrorStream();\r\n\r\n\t\tThread stdoutThread = new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// read stdout here, e.g.\r\n\t\t\t\ttry {\r\n\t\t\t\t\tint c;\r\n\t\t\t\t\twhile (-1 != (c = stdout.read())) {\r\n\t\t\t\t\t\t// do whatever with c\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (IOException ioex) {\r\n\t\t\t\t\t// ...\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tThread stderrThread = new Thread() {\r\n\t\t\t// ... same as for stdout\r\n\t\t};\r\n\r\n\t\tstdoutThread.start();\r\n\t\tstderrThread.start();\r\n\t}\r\n\r\n\r\n\r\nOnly after both threads have been started you may wait for the child process and join the threads:\r\n\r\n        int exitValue = process.waitFor();\r\n        stdoutThread.join();\r\n        stderrThread.join();\r\n\r\nThere might be more sophisticated ways to work with background threads using the Concurrency Framework introduced in Java 5, but this basic code gives the idea.","title":"Java jar execution stuck when launched in a process by another java program","body":"<p>There might of course be any reason why your 'engine' program may hang ;-) but certainly it <em>will</em> hang you don't read the its output, and in the right way:</p>\n<p>The parent process needs to <strong>read</strong> the <strong>standard output</strong> and <strong>standard error</strong> streams of the child process, given that the child process does generate any substantial amount of output on any of these two channels. This <em>must</em> be done in two separate background threads. If the parent does not read the child's output, then the child process will block as soon as the (small) buffer between the processes is filled up.</p>\n<p>The threads should be started as soon as the child process is started, and before the parent calls <code>process.waitFor()</code>.</p>\n<p>The simplest way to do this is the following:</p>\n<pre><code>    Process process = processBuilder.start();\n    InputStream stdout = process.getInputStream();\n    InputStream stderr = process.getErrorStream();\n\n    Thread stdoutThread = new Thread() {\n        @Override\n        public void run() {\n            // read stdout here, e.g.\n            try {\n                int c;\n                while (-1 != (c = stdout.read())) {\n                    // do whatever with c\n                }\n            } catch (IOException ioex) {\n                // ...\n            }\n        }\n    };\n\n    Thread stderrThread = new Thread() {\n        // ... same as for stdout\n    };\n\n    stdoutThread.start();\n    stderrThread.start();\n}\n</code></pre>\n<p>Only after both threads have been started you may wait for the child process and join the threads:</p>\n<pre><code>    int exitValue = process.waitFor();\n    stdoutThread.join();\n    stderrThread.join();\n</code></pre>\n<p>There might be more sophisticated ways to work with background threads using the Concurrency Framework introduced in Java 5, but this basic code gives the idea.</p>\n"}],"owner":{"account_id":8095174,"reputation":983,"user_id":6099993,"accept_rate":71,"display_name":"NAMS"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66338582,"answer_count":1,"score":0,"last_activity_date":1654868640,"creation_date":1614093500,"question_id":66335901,"body_markdown":"This is a very unusual problem I&#39;ve come across and I&#39;m hoping someone might have some insight on it. I&#39;m on macOS Mojave (10.14.6), using Amazon&#39;s JRE Corretto-11.0.9.12.1 (build 11.0.9.1+12-LTS)\r\n\r\nI have a program I&#39;ve written that is something of a scripting engine that we use to do our routine bulk data processing. It takes an xml &quot;script&quot; file which contains the processing directions to execute and a list of input files as arguments. I&#39;ll refer to this as the &quot;engine&quot; from this point on. This engine is the backbone of a large portion of our automation. It shows a progress bar while processing to let users know that it is working.\r\n\r\nThere are 2 programs that use this engine: \r\n- One is a thin UI written in Swing, which we use to manually process data; it generates an xml file from the user input and passes it along with the input files and launches the engine in a separate process; the UI itself doesn&#39;t process any data. \r\n- The other watches a folder on our file server and processes incoming data from our clients daily when a folder is created inside of it so we can rip the data into our database. I&#39;ll call this the &quot;importer&quot;.\r\n\r\nRecently, a problem has come up where the engine becomes stuck while processing. Older versions of the engine did not have this problem, and I&#39;m trying to figure out what exactly changed that caused this to happen, but while I&#39;ve been trying to do this, our UI and importer programs have been using and older version of the engine. There are new features that we need to use in the new version of the engine, but we can&#39;t use it until this problem is solved.\r\n\r\nThe programs that uses the engine launch it in a process then waits for the result before continuing:\r\n\r\n```\r\n// example command generated from external program\r\nString commandString = &quot;java -jar engine.jar script.xml input_file1.txt input_file2.txt input_file3.txt&quot;;\r\nString[] command = {&quot;bash&quot;, &quot;-c&quot;, commandString};\r\n// I can grab the command from here for debugging\r\nSystem.out.println(Arrays.toString(command));\r\nProcessBuilder pb = new ProcessBuilder(command);\r\n// wait for the process to complete before continuing\r\nProcess p = pb.start();\r\np.waitFor();\r\nint result = p.exitValue();\r\ntry (BufferedReader e = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\r\n    BufferedReader i = new BufferedReader(new InputStreamReader(proc.getInputStream()))) {\r\n    String line;\r\n    while ((line = e.readLine()) != null) {\r\n        System.out.println(line);\r\n    }\r\n    while ((line = i.readLine()) != null) {\r\n        System.out.println(line);\r\n    }\r\n}\r\np.destroy();\r\n// do other stuff\r\n```\r\n\r\nWhen launched in this way, there is a specific operation that causes the engine to hang. But if I take the command and launch it directly from the command line, the engine runs just fine! This is making it difficult to pin down where exactly the problem is; is it in the engine, or in the other programs? I&#39;ve spent a couple of days looking for answers and come up with nothing. It&#39;s even more frustrating that this problem has appeared seemingly out of nowhere when it was working perfectly before, using the exact code above, for a quite a long time.\r\n\r\nThe operation where the engine hangs sorts files into folders based on their file names. When I watch my activity monitor while it runs, it&#39;s not taxing my resources at all, and disk space isn&#39;t an issue. It isn&#39;t a file permission issue, as the engine is creating files and folders all the time and in every step leading up to the step where it hangs. And as I said, if I run the command directly from the command line, it creates the folders and sorts the files without issue, to my extreme confusion.\r\n\r\nThe importer and UI run locally on a station, but the engine jar file lives on our file server, so that it is accessible to every station without individually downloading it everywhere each time there is an update. I thought at first that the issue might lie in the fact that it is being accessed over the network, but the problem occurs even when I use a local copy of the engine on my dev machine, so I have ruled that out. I&#39;ve also ruled out that it&#39;s the JRE, even though we switched to it recently, since the older version of the engine still perform as expected.\r\n","title":"Java jar execution stuck when launched in a process by another java program","body":"<p>This is a very unusual problem I've come across and I'm hoping someone might have some insight on it. I'm on macOS Mojave (10.14.6), using Amazon's JRE Corretto-11.0.9.12.1 (build 11.0.9.1+12-LTS)</p>\n<p>I have a program I've written that is something of a scripting engine that we use to do our routine bulk data processing. It takes an xml &quot;script&quot; file which contains the processing directions to execute and a list of input files as arguments. I'll refer to this as the &quot;engine&quot; from this point on. This engine is the backbone of a large portion of our automation. It shows a progress bar while processing to let users know that it is working.</p>\n<p>There are 2 programs that use this engine:</p>\n<ul>\n<li>One is a thin UI written in Swing, which we use to manually process data; it generates an xml file from the user input and passes it along with the input files and launches the engine in a separate process; the UI itself doesn't process any data.</li>\n<li>The other watches a folder on our file server and processes incoming data from our clients daily when a folder is created inside of it so we can rip the data into our database. I'll call this the &quot;importer&quot;.</li>\n</ul>\n<p>Recently, a problem has come up where the engine becomes stuck while processing. Older versions of the engine did not have this problem, and I'm trying to figure out what exactly changed that caused this to happen, but while I've been trying to do this, our UI and importer programs have been using and older version of the engine. There are new features that we need to use in the new version of the engine, but we can't use it until this problem is solved.</p>\n<p>The programs that uses the engine launch it in a process then waits for the result before continuing:</p>\n<pre><code>// example command generated from external program\nString commandString = &quot;java -jar engine.jar script.xml input_file1.txt input_file2.txt input_file3.txt&quot;;\nString[] command = {&quot;bash&quot;, &quot;-c&quot;, commandString};\n// I can grab the command from here for debugging\nSystem.out.println(Arrays.toString(command));\nProcessBuilder pb = new ProcessBuilder(command);\n// wait for the process to complete before continuing\nProcess p = pb.start();\np.waitFor();\nint result = p.exitValue();\ntry (BufferedReader e = new BufferedReader(new InputStreamReader(proc.getErrorStream()));\n    BufferedReader i = new BufferedReader(new InputStreamReader(proc.getInputStream()))) {\n    String line;\n    while ((line = e.readLine()) != null) {\n        System.out.println(line);\n    }\n    while ((line = i.readLine()) != null) {\n        System.out.println(line);\n    }\n}\np.destroy();\n// do other stuff\n</code></pre>\n<p>When launched in this way, there is a specific operation that causes the engine to hang. But if I take the command and launch it directly from the command line, the engine runs just fine! This is making it difficult to pin down where exactly the problem is; is it in the engine, or in the other programs? I've spent a couple of days looking for answers and come up with nothing. It's even more frustrating that this problem has appeared seemingly out of nowhere when it was working perfectly before, using the exact code above, for a quite a long time.</p>\n<p>The operation where the engine hangs sorts files into folders based on their file names. When I watch my activity monitor while it runs, it's not taxing my resources at all, and disk space isn't an issue. It isn't a file permission issue, as the engine is creating files and folders all the time and in every step leading up to the step where it hangs. And as I said, if I run the command directly from the command line, it creates the folders and sorts the files without issue, to my extreme confusion.</p>\n<p>The importer and UI run locally on a station, but the engine jar file lives on our file server, so that it is accessible to every station without individually downloading it everywhere each time there is an update. I thought at first that the issue might lie in the fact that it is being accessed over the network, but the problem occurs even when I use a local copy of the engine on my dev machine, so I have ruled that out. I've also ruled out that it's the JRE, even though we switched to it recently, since the older version of the engine still perform as expected.</p>\n"},{"tags":["java","csv","load-data-infile"],"owner":{"account_id":7553210,"reputation":86,"user_id":5733900,"display_name":"Manas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654868462,"creation_date":1452861255,"question_id":34811200,"body_markdown":"I am working on a java application which inserts data from a CSV file to mysql database table using below query\r\n\r\n    LOAD DATA LOCAL INFILE &#39;test.csv&#39; INTO TABLE Test FIELDS TERMINATED BY &#39;,&#39;    LINES TERMINATED BY &#39;, &#39; IGNORE 1 LINES (id, name, address) \r\n\r\nI have a issue when there is a comma between words for the a field like for address = pune, india. It is pushing the word after comma to next column.\r\n\r\nI have found some workaround, such as escaping comma in Java code like \r\n\r\n    strAddress = strAddressWithComma.replaceAll(&quot;,&quot;, &quot;\\\\&quot;+&quot;\\\\,&quot;);\r\n\r\nThis works but after data is inserted in DB table it looks like “pune, india” (double quotes around the original string)\r\n\r\nAnother workaround is adding ENCLOSED BY ‘\\”’  clause in LOAD DATA LOCAL INFILE and using below java code.\r\n\r\n    strAddress =&quot;\\&quot;&quot; + strAddressWithComma+ &quot;\\&quot;&quot;;\r\n\r\nBut with this workaround also we have string with double quotes around the original string in DB when we use LOAD DATA  LOCAL INFILE.\r\n\r\n&gt; I do not need double quotes around original value in DB after\r\n&gt; insertion with Load Data statement . DB entry should be same as that\r\n&gt; of data in original csv file.\r\n\r\nI know we may have a DB trigger which can strip double quotes from the new string but we want to handle this is application only.\r\n\r\nAny solution or suggestion will be appreciated","title":"Handling word with comma in between in CSV file for input to LOAD DATA LOCAL INFILE","body":"<p>I am working on a java application which inserts data from a CSV file to mysql database table using below query</p>\n\n<pre><code>LOAD DATA LOCAL INFILE 'test.csv' INTO TABLE Test FIELDS TERMINATED BY ','    LINES TERMINATED BY ', ' IGNORE 1 LINES (id, name, address) \n</code></pre>\n\n<p>I have a issue when there is a comma between words for the a field like for address = pune, india. It is pushing the word after comma to next column.</p>\n\n<p>I have found some workaround, such as escaping comma in Java code like </p>\n\n<pre><code>strAddress = strAddressWithComma.replaceAll(\",\", \"\\\\\"+\"\\\\,\");\n</code></pre>\n\n<p>This works but after data is inserted in DB table it looks like “pune, india” (double quotes around the original string)</p>\n\n<p>Another workaround is adding ENCLOSED BY ‘\\”’  clause in LOAD DATA LOCAL INFILE and using below java code.</p>\n\n<pre><code>strAddress =\"\\\"\" + strAddressWithComma+ \"\\\"\";\n</code></pre>\n\n<p>But with this workaround also we have string with double quotes around the original string in DB when we use LOAD DATA  LOCAL INFILE.</p>\n\n<blockquote>\n  <p>I do not need double quotes around original value in DB after\n  insertion with Load Data statement . DB entry should be same as that\n  of data in original csv file.</p>\n</blockquote>\n\n<p>I know we may have a DB trigger which can strip double quotes from the new string but we want to handle this is application only.</p>\n\n<p>Any solution or suggestion will be appreciated</p>\n"},{"tags":["java","eclipse","selenium","sonarlint","sonarlint-eclipse"],"answers":[{"tags":[],"owner":{"account_id":25524245,"reputation":1,"user_id":19313598,"display_name":"Jhon De Avila Mercado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654868427,"creation_date":1654861308,"answer_id":72573711,"question_id":72573580,"body_markdown":"You can do right click over rule, and click in Exclude rule. This, in the browser of rules in Eclipse IDE.","title":"How To Exclude a specific rule from a specific file in Sonarlint","body":"<p>You can do right click over rule, and click in Exclude rule. This, in the browser of rules in Eclipse IDE.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654861617,"creation_date":1654861617,"answer_id":72573776,"question_id":72573580,"body_markdown":"If this is a Java file, you might want to opt for `@SuppressWarnings(&quot;java:S100&quot;)` instead or `//NOSONAR`.\r\n\r\nNote that SonarLint (the Eclipse plugin) and Sonar (the server) may not share the same key for the same rule. I had at least the problem with issue prefixed by `java:` and `squid:` (I presumed this was the old prefix).","title":"How To Exclude a specific rule from a specific file in Sonarlint","body":"<p>If this is a Java file, you might want to opt for <code>@SuppressWarnings(&quot;java:S100&quot;)</code> instead or <code>//NOSONAR</code>.</p>\n<p>Note that SonarLint (the Eclipse plugin) and Sonar (the server) may not share the same key for the same rule. I had at least the problem with issue prefixed by <code>java:</code> and <code>squid:</code> (I presumed this was the old prefix).</p>\n"}],"owner":{"account_id":22712183,"reputation":3,"user_id":16877983,"display_name":"Blaine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72573776,"answer_count":2,"score":0,"last_activity_date":1654868427,"creation_date":1654860688,"question_id":72573580,"body_markdown":"I am trying to exclude a specific rule from a file in sonarlint, I have multiple java automation projects open in eclipse, and I am wondering if my &quot;Value&quot; is correct on my analyzed property that I have set. (LN_LexisConveyOnline is the name of the project) \r\nI have implemented the below, and nothing seems to change. Thanks \r\n\r\n[My Implementation][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CEwcl.png","title":"How To Exclude a specific rule from a specific file in Sonarlint","body":"<p>I am trying to exclude a specific rule from a file in sonarlint, I have multiple java automation projects open in eclipse, and I am wondering if my &quot;Value&quot; is correct on my analyzed property that I have set. (LN_LexisConveyOnline is the name of the project)\nI have implemented the below, and nothing seems to change. Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/CEwcl.png\" rel=\"nofollow noreferrer\">My Implementation</a></p>\n"},{"tags":["java","selenium","cucumber","appium"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1654680169,"post_id":72537453,"comment_id":128146381,"body_markdown":"What if you run tests sequentially? Does everything run fine in that case?","body":"What if you run tests sequentially? Does everything run fine in that case?"},{"owner":{"account_id":25459568,"reputation":1,"user_id":19259624,"display_name":"jordan99"},"score":0,"creation_date":1654680711,"post_id":72537453,"comment_id":128146623,"body_markdown":"Everything run fine sequentially and in parallel with method2","body":"Everything run fine sequentially and in parallel with method2"},{"owner":{"account_id":25459568,"reputation":1,"user_id":19259624,"display_name":"jordan99"},"score":0,"creation_date":1654851336,"post_id":72537453,"comment_id":128195512,"body_markdown":"@AlexeyR. I added more code, can you check please?","body":"@AlexeyR. I added more code, can you check please?"}],"owner":{"account_id":25459568,"reputation":1,"user_id":19259624,"display_name":"jordan99"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654868266,"creation_date":1654635195,"question_id":72537453,"body_markdown":"I&#39;am trying to launch parallel execution of tests with testng,cucumber and appium but I have an error on my second thread because of my method1 of initElements in my BasePage but when I use Method2 that works fine. see code below and logs \r\nCan you help me please? Thank you in advance.\r\nBaseMobile:\r\n\r\n    public class BaseMobile {\r\n\r\n    protected static AppiumDriver driver = new AndroidDeviceA().getDriver();\r\n    TestUtils utils = new TestUtils();\r\n    public final static Logger logger = LogManager.getLogger();\r\n    //Method1\r\n    public static &lt;T extends BaseMobile&gt; T instanceOf(Class&lt;T&gt; clazz) {\r\n\r\n        return PageFactory.initElements(driver, clazz);\r\n    }\r\n\r\n}\r\nMethod2:\r\n\r\n    public BaseMobile(){\r\n    this.driver = new AndroidDeviceA().getDriver();\r\n    PageFactory.initElements(new AppiumFieldDecorator(this.driver), this);\r\n    }\r\n\r\nClass AndroidDeviceA:\r\n\r\n    public class AndroidDeviceA {\r\n\r\n    private static ThreadLocal&lt;AppiumDriver&gt; driver = new ThreadLocal&lt;&gt;();\r\n    TestUtils utils = new TestUtils();\r\n\r\n    public AppiumDriver getDriver() {\r\n        return driver.get();\r\n    }\r\n\r\n    public void setDriver(AppiumDriver driver2) {\r\n        driver.set(driver2);\r\n    }\r\n\r\n    public void initializeDriver() throws Exception {\r\n        AppiumDriver driver = null;\r\n\r\n        if (driver == null) {\r\n            try {\r\n                utils.log().info(&quot;initializing Appium driver&quot;);\r\n                driver = new AndroidDriver(new AppiumServer().getServer().getUrl(), new UiAutomatorOptions().getUiAutomatorOptionsMobile());\r\n\r\n                if (driver == null) {\r\n                    throw new Exception(&quot;driver is null. ABORT!!!&quot;);\r\n                }\r\n                utils.log().info(&quot;Driver is initialized&quot;);\r\n                utils.log().info(&quot;session&quot;+ driver.getSessionId());\r\n                this.driver.set(driver);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                utils.log().fatal(&quot;Driver initialization failure. ABORT !!!!&quot; + e.toString());\r\n                throw e;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\nClassSteps:\r\n\r\n    @When(&quot;User click on debug mode&quot;)\r\n    public void user_click_on_debug_mode() {\r\n        instanceOf(StartScreenBorne.class).clickOnDebugMode();\r\n\r\n        //new StartScreenBorne().clickOnDebugMode();\r\n    }\r\n\r\nCucumberRunner:\r\n\r\n    public class RunnerBase {\r\n    private static ThreadLocal&lt;TestNGCucumberRunner&gt; testNGCucumberRunner = new ThreadLocal&lt;&gt;();\r\n\r\n    public static TestNGCucumberRunner getRunner(){\r\n        return testNGCucumberRunner.get();\r\n    }\r\n\r\n    private static void setRunner(TestNGCucumberRunner testNGCucumberRunner1){\r\n        testNGCucumberRunner.set(testNGCucumberRunner1);\r\n    }\r\n\r\n    @Parameters({&quot;platformName&quot;, &quot;udid&quot;, &quot;deviceName&quot;, &quot;systemPort&quot;,\r\n            &quot;chromeDriverPort&quot;})\r\n    @BeforeClass(alwaysRun = true)\r\n    public void setUpClass(String platformName, String udid, String deviceName, @Optional(&quot;Android&quot;) String systemPort,\r\n                           @Optional(&quot;Android&quot;) String chromeDriverPort) throws Exception {\r\n\r\n        ThreadContext.put(&quot;ROUTINGKEY&quot;, platformName + &quot;_&quot; + deviceName);\r\n        System.out.println(\r\n                &quot;Current Thread ID: &quot;\r\n                        + Thread.currentThread().getId());\r\n        GlobalParams params = new GlobalParams();\r\n        params.setPlatformName(platformName);\r\n        params.setUDID(udid);\r\n        params.setDeviceName(deviceName);\r\n        params.setSystemPort(systemPort);\r\n        params.setChromeDriverPort(chromeDriverPort);\r\n        new AppiumServer().startServer();\r\n        new AndroidDeviceA().initializeDriver();\r\n        new AndroidDeviceA().getDriver().manage().timeouts().implicitlyWait(Duration.ofSeconds(40));\r\n        setRunner(new TestNGCucumberRunner(this.getClass()));\r\n\r\n    }\r\n\r\n    @Test(groups = &quot;cucumber&quot;, description = &quot;Runs Cucumber Scenarios&quot;, dataProvider = &quot;scenarios&quot;)\r\n    public void scenario(PickleWrapper pickle, FeatureWrapper cucumberFeature) throws Throwable {\r\n        getRunner().runScenario(pickle.getPickle());\r\n    }\r\n\r\n    @DataProvider\r\n    public Object[][] scenarios() {\r\n        return getRunner().provideScenarios();\r\n    }\r\n\r\n    @AfterClass(alwaysRun = true)\r\n    public void tearDownClass() {\r\n        AndroidDeviceA driverManager = new AndroidDeviceA();\r\n        if(driverManager.getDriver() != null){\r\n            driverManager.getDriver().quit();\r\n            driverManager.setDriver(null);\r\n        }\r\n        AppiumServer serverManager = new AppiumServer();\r\n        if(serverManager.getServer() != null){\r\n            serverManager.getServer().stop();\r\n        }\r\n        if(testNGCucumberRunner != null){\r\n            getRunner().finish();\r\n        }\r\n    }\r\n}\r\n\r\nLogs:\r\n\r\nSuite &gt; R52N102P7GJ STANDARD_ERROR\r\n    Jun 07, 2022 10:28:45 PM net.masterthought.cucumber.ReportParser parseJsonFiles\r\n    INFO: File &#39;C:\\Users\\users\\AppData\\Local\\Temp\\cucumber8938908637014613434.json&#39; contains 1 features\r\n\r\nSuite &gt; R9WM91REZCJ &gt; com.runners.MyPixel3TestNGRunnerTest &gt; scenario[0](&quot;Create an order with formula product&quot;, &quot;Optional[non reg Borne]&quot;) FAILED\r\n    org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\r\n    Build info: version: &#39;4.1.2&#39;, revision: &#39;9a5a329c5a&#39;\r\n    System info: host: &#39;DESKTOP-N3FD63R&#39;, ip: &#39;192.168.1.13&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;15.0.2&#39;\r\n    Driver info: io.appium.java_client.android.AndroidDriver\r\n    Command: [null, findElement {using=id, value=button_splashscreen_debug}]\r\n    Capabilities {appium:androidInstallTimeout: 180000, appium:app: C:\\Users\\users\\Documents\\ap..., appium:appActivity: com.tabesto.kiosk.ui.start...., appium:appPackage: com.tabesto.kiosk.debug, appium:appWaitDuration: 90000, appium:appWaitForLaunch: true, appium:autoGrantPermissions: true, appium:automationName: UiAutomator2, appium:chromedriverPort: 11000, appium:databaseEnabled: false, appium:desired: {androidInstallTimeout: 180000, app: C:\\Users\\users\\Documents\\ap..., appActivity: com.tabesto.kiosk.ui.start...., appPackage: com.tabesto.kiosk.debug, appWaitDuration: 90000, appWaitForLaunch: true, autoGrantPermissions: true, automationName: UiAutomator2, chromedriverPort: 11000, deviceName: Galaxy Tab A, eventTimings: true, nativeWebScreenshot: true, newCommandTimeout: 120, noReset: true, platformName: android, systemPort: 10000, udid: R52N102P7GJ, uiautomator2ServerLaunchTimeout: 90000}, appium:deviceApiLevel: 30, appium:deviceManufacturer: samsung, appium:deviceModel: SM-T510, appium:deviceName: R52N102P7GJ, appium:deviceScreenDensity: 240, appium:deviceScreenSize: 1200x1920, appium:deviceUDID: R52N102P7GJ, appium:eventTimings: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:nativeWebScreenshot: true, appium:networkConnectionEnabled: true, appium:newCommandTimeout: 120, appium:noReset: true, appium:pixelRatio: 1.5, appium:platformVersion: 11, appium:statBarHeight: 36, appium:systemPort: 10000, appium:takesScreenshot: true, appium:udid: R52N102P7GJ, appium:uiautomator2ServerLaunchTimeout: 90000, appium:viewportRect: {height: 1812, left: 0, top: 36, width: 1200}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: android}\r\n        at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\r\n        at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:558)\r\n        at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n        at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:382)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:374)\r\n        at pages.mobile.kiosk.BaseMobile.clickOnDebugMode(BaseMobile.java:53)\r\n        at steps.moble.kiosk.StartScreenSteps.user_click_on_debug_mode(StartScreenSteps.java:32)\r\n        at ?.User click on debug button","title":"initializing PageObjects using PageFactory","body":"<p>I'am trying to launch parallel execution of tests with testng,cucumber and appium but I have an error on my second thread because of my method1 of initElements in my BasePage but when I use Method2 that works fine. see code below and logs\nCan you help me please? Thank you in advance.\nBaseMobile:</p>\n<pre><code>public class BaseMobile {\n\nprotected static AppiumDriver driver = new AndroidDeviceA().getDriver();\nTestUtils utils = new TestUtils();\npublic final static Logger logger = LogManager.getLogger();\n//Method1\npublic static &lt;T extends BaseMobile&gt; T instanceOf(Class&lt;T&gt; clazz) {\n\n    return PageFactory.initElements(driver, clazz);\n}\n</code></pre>\n<p>}\nMethod2:</p>\n<pre><code>public BaseMobile(){\nthis.driver = new AndroidDeviceA().getDriver();\nPageFactory.initElements(new AppiumFieldDecorator(this.driver), this);\n}\n</code></pre>\n<p>Class AndroidDeviceA:</p>\n<pre><code>public class AndroidDeviceA {\n\nprivate static ThreadLocal&lt;AppiumDriver&gt; driver = new ThreadLocal&lt;&gt;();\nTestUtils utils = new TestUtils();\n\npublic AppiumDriver getDriver() {\n    return driver.get();\n}\n\npublic void setDriver(AppiumDriver driver2) {\n    driver.set(driver2);\n}\n\npublic void initializeDriver() throws Exception {\n    AppiumDriver driver = null;\n\n    if (driver == null) {\n        try {\n            utils.log().info(&quot;initializing Appium driver&quot;);\n            driver = new AndroidDriver(new AppiumServer().getServer().getUrl(), new UiAutomatorOptions().getUiAutomatorOptionsMobile());\n\n            if (driver == null) {\n                throw new Exception(&quot;driver is null. ABORT!!!&quot;);\n            }\n            utils.log().info(&quot;Driver is initialized&quot;);\n            utils.log().info(&quot;session&quot;+ driver.getSessionId());\n            this.driver.set(driver);\n        } catch (IOException e) {\n            e.printStackTrace();\n            utils.log().fatal(&quot;Driver initialization failure. ABORT !!!!&quot; + e.toString());\n            throw e;\n        }\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>ClassSteps:</p>\n<pre><code>@When(&quot;User click on debug mode&quot;)\npublic void user_click_on_debug_mode() {\n    instanceOf(StartScreenBorne.class).clickOnDebugMode();\n\n    //new StartScreenBorne().clickOnDebugMode();\n}\n</code></pre>\n<p>CucumberRunner:</p>\n<pre><code>public class RunnerBase {\nprivate static ThreadLocal&lt;TestNGCucumberRunner&gt; testNGCucumberRunner = new ThreadLocal&lt;&gt;();\n\npublic static TestNGCucumberRunner getRunner(){\n    return testNGCucumberRunner.get();\n}\n\nprivate static void setRunner(TestNGCucumberRunner testNGCucumberRunner1){\n    testNGCucumberRunner.set(testNGCucumberRunner1);\n}\n\n@Parameters({&quot;platformName&quot;, &quot;udid&quot;, &quot;deviceName&quot;, &quot;systemPort&quot;,\n        &quot;chromeDriverPort&quot;})\n@BeforeClass(alwaysRun = true)\npublic void setUpClass(String platformName, String udid, String deviceName, @Optional(&quot;Android&quot;) String systemPort,\n                       @Optional(&quot;Android&quot;) String chromeDriverPort) throws Exception {\n\n    ThreadContext.put(&quot;ROUTINGKEY&quot;, platformName + &quot;_&quot; + deviceName);\n    System.out.println(\n            &quot;Current Thread ID: &quot;\n                    + Thread.currentThread().getId());\n    GlobalParams params = new GlobalParams();\n    params.setPlatformName(platformName);\n    params.setUDID(udid);\n    params.setDeviceName(deviceName);\n    params.setSystemPort(systemPort);\n    params.setChromeDriverPort(chromeDriverPort);\n    new AppiumServer().startServer();\n    new AndroidDeviceA().initializeDriver();\n    new AndroidDeviceA().getDriver().manage().timeouts().implicitlyWait(Duration.ofSeconds(40));\n    setRunner(new TestNGCucumberRunner(this.getClass()));\n\n}\n\n@Test(groups = &quot;cucumber&quot;, description = &quot;Runs Cucumber Scenarios&quot;, dataProvider = &quot;scenarios&quot;)\npublic void scenario(PickleWrapper pickle, FeatureWrapper cucumberFeature) throws Throwable {\n    getRunner().runScenario(pickle.getPickle());\n}\n\n@DataProvider\npublic Object[][] scenarios() {\n    return getRunner().provideScenarios();\n}\n\n@AfterClass(alwaysRun = true)\npublic void tearDownClass() {\n    AndroidDeviceA driverManager = new AndroidDeviceA();\n    if(driverManager.getDriver() != null){\n        driverManager.getDriver().quit();\n        driverManager.setDriver(null);\n    }\n    AppiumServer serverManager = new AppiumServer();\n    if(serverManager.getServer() != null){\n        serverManager.getServer().stop();\n    }\n    if(testNGCucumberRunner != null){\n        getRunner().finish();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Logs:</p>\n<p>Suite &gt; R52N102P7GJ STANDARD_ERROR\nJun 07, 2022 10:28:45 PM net.masterthought.cucumber.ReportParser parseJsonFiles\nINFO: File 'C:\\Users\\users\\AppData\\Local\\Temp\\cucumber8938908637014613434.json' contains 1 features</p>\n<p>Suite &gt; R9WM91REZCJ &gt; com.runners.MyPixel3TestNGRunnerTest &gt; scenario[0](&quot;Create an order with formula product&quot;, &quot;Optional[non reg Borne]&quot;) FAILED\norg.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\nBuild info: version: '4.1.2', revision: '9a5a329c5a'\nSystem info: host: 'DESKTOP-N3FD63R', ip: '192.168.1.13', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '15.0.2'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, findElement {using=id, value=button_splashscreen_debug}]\nCapabilities {appium:androidInstallTimeout: 180000, appium:app: C:\\Users\\users\\Documents\\ap..., appium:appActivity: com.tabesto.kiosk.ui.start...., appium:appPackage: com.tabesto.kiosk.debug, appium:appWaitDuration: 90000, appium:appWaitForLaunch: true, appium:autoGrantPermissions: true, appium:automationName: UiAutomator2, appium:chromedriverPort: 11000, appium:databaseEnabled: false, appium:desired: {androidInstallTimeout: 180000, app: C:\\Users\\users\\Documents\\ap..., appActivity: com.tabesto.kiosk.ui.start...., appPackage: com.tabesto.kiosk.debug, appWaitDuration: 90000, appWaitForLaunch: true, autoGrantPermissions: true, automationName: UiAutomator2, chromedriverPort: 11000, deviceName: Galaxy Tab A, eventTimings: true, nativeWebScreenshot: true, newCommandTimeout: 120, noReset: true, platformName: android, systemPort: 10000, udid: R52N102P7GJ, uiautomator2ServerLaunchTimeout: 90000}, appium:deviceApiLevel: 30, appium:deviceManufacturer: samsung, appium:deviceModel: SM-T510, appium:deviceName: R52N102P7GJ, appium:deviceScreenDensity: 240, appium:deviceScreenSize: 1200x1920, appium:deviceUDID: R52N102P7GJ, appium:eventTimings: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:nativeWebScreenshot: true, appium:networkConnectionEnabled: true, appium:newCommandTimeout: 120, appium:noReset: true, appium:pixelRatio: 1.5, appium:platformVersion: 11, appium:statBarHeight: 36, appium:systemPort: 10000, appium:takesScreenshot: true, appium:udid: R52N102P7GJ, appium:uiautomator2ServerLaunchTimeout: 90000, appium:viewportRect: {height: 1812, left: 0, top: 36, width: 1200}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: android}\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\nat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:558)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:382)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:374)\nat pages.mobile.kiosk.BaseMobile.clickOnDebugMode(BaseMobile.java:53)\nat steps.moble.kiosk.StartScreenSteps.user_click_on_debug_mode(StartScreenSteps.java:32)\nat ?.User click on debug button</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25465943,"reputation":1,"user_id":19264988,"display_name":"Kepler Batista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654867968,"creation_date":1654867968,"answer_id":72575176,"question_id":72547858,"body_markdown":"I solved it by changing the encoding of the response\r\n\r\n    byte[] bytes = response.getBytes(StandardCharsets.ISO_8859_1);\r\n    String responseUtf8 = new String(bytes, StandardCharsets.UTF_8);","title":"android java accent coming broken","body":"<p>I solved it by changing the encoding of the response</p>\n<pre><code>byte[] bytes = response.getBytes(StandardCharsets.ISO_8859_1);\nString responseUtf8 = new String(bytes, StandardCharsets.UTF_8);\n</code></pre>\n"}],"owner":{"account_id":25465943,"reputation":1,"user_id":19264988,"display_name":"Kepler Batista"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654867968,"creation_date":1654699875,"question_id":72547858,"body_markdown":"I&#39;m making a request in an api, in the api every accent comes right `&quot;T&#233;st&#226;o&#226;o&quot;`\r\nhowever, when setting the TextView it is in the following form `T&#195;Cst&#227;&#199;o&#227;Co`\r\n\r\nHere&#39;s the code:\r\n\r\nRequest:\r\n\r\n       public static Single&lt;List&lt;PojoRequestLocalizadorPlaca&gt;&gt; requestVistoriasPlaca(Context context, String placa, String tokenEmpresa){\r\n        RequestQueue queue = Volley.newRequestQueue(context);\r\n        RequestFuture&lt;String&gt; future = RequestFuture.newFuture();\r\n        String url = Preferencias.apiv3Link +\r\n                &quot;vistorias/busca-por-placa/&quot; +\r\n                tokenEmpresa + &quot;/&quot; + placa + &quot;/tes&quot;;\r\n\r\n        StringRequest request = new StringRequest(\r\n            Request.Method.GET,\r\n            url,\r\n            future,\r\n            future\r\n        );\r\n\r\n        queue.add(request);\r\n\r\n        return Single\r\n                .fromFuture(future, 4, TimeUnit.SECONDS)\r\n                .map(response -&gt; {\r\n                    Type pojoRequestLocalizadorPlacaList = new TypeToken&lt;List&lt;PojoRequestLocalizadorPlaca&gt;&gt;(){}.getType();\r\n                    List&lt;PojoRequestLocalizadorPlaca&gt; vistoriasLocalizadas = new Gson().fromJson(response, pojoRequestLocalizadorPlacaList);\r\n                    return vistoriasLocalizadas;\r\n                })\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(Schedulers.io());\r\n\r\nPart of setting the textView:\r\n\r\n       TextView questionario = convertView.findViewById(R.id.questionarioLocalizaPlaca);\r\n        questionario.setText(vistoria.getQuestionario());\r\n\r\nhow do I not come broken the words with accent of the request?\r\n\r\n\r\n","title":"android java accent coming broken","body":"<p>I'm making a request in an api, in the api every accent comes right <code>&quot;Téstâoâo&quot;</code>\nhowever, when setting the TextView it is in the following form <code>TÃCstãÇoãCo</code></p>\n<p>Here's the code:</p>\n<p>Request:</p>\n<pre><code>   public static Single&lt;List&lt;PojoRequestLocalizadorPlaca&gt;&gt; requestVistoriasPlaca(Context context, String placa, String tokenEmpresa){\n    RequestQueue queue = Volley.newRequestQueue(context);\n    RequestFuture&lt;String&gt; future = RequestFuture.newFuture();\n    String url = Preferencias.apiv3Link +\n            &quot;vistorias/busca-por-placa/&quot; +\n            tokenEmpresa + &quot;/&quot; + placa + &quot;/tes&quot;;\n\n    StringRequest request = new StringRequest(\n        Request.Method.GET,\n        url,\n        future,\n        future\n    );\n\n    queue.add(request);\n\n    return Single\n            .fromFuture(future, 4, TimeUnit.SECONDS)\n            .map(response -&gt; {\n                Type pojoRequestLocalizadorPlacaList = new TypeToken&lt;List&lt;PojoRequestLocalizadorPlaca&gt;&gt;(){}.getType();\n                List&lt;PojoRequestLocalizadorPlaca&gt; vistoriasLocalizadas = new Gson().fromJson(response, pojoRequestLocalizadorPlacaList);\n                return vistoriasLocalizadas;\n            })\n            .subscribeOn(Schedulers.io())\n            .observeOn(Schedulers.io());\n</code></pre>\n<p>Part of setting the textView:</p>\n<pre><code>   TextView questionario = convertView.findViewById(R.id.questionarioLocalizaPlaca);\n    questionario.setText(vistoria.getQuestionario());\n</code></pre>\n<p>how do I not come broken the words with accent of the request?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654846820,"post_id":72570584,"comment_id":128194063,"body_markdown":"Shouldn&#39;t an order have a reference to a user? You are currently having no link between User and Order","body":"Shouldn&#39;t an order have a reference to a user? You are currently having no link between User and Order"}],"answers":[{"tags":[],"owner":{"account_id":22745008,"reputation":342,"user_id":16905909,"display_name":"Ayesh Almeida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654851491,"creation_date":1654851491,"answer_id":72571657,"question_id":72570584,"body_markdown":"I think you have a logical issue in `Order` entity definition. `Order` does not contain another list of Orders. But it should contain the `User` who placed the order. Hence, the definition should be corrected as follows:\r\n```java\r\n@Setter\r\n@Getter\r\n@EqualsAndHashCode\r\n@ToString\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;orders&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;orderTransaction&quot;)})\r\npublic class Order {\r\n    @Id\r\n    @Column(name = &quot;orderId&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    @Size(max = 50)\r\n    @NotBlank\r\n    private String orderTime;\r\n    \r\n    @Size(max = 50)\r\n    @NotBlank\r\n    private String orderTransaction;\r\n    \r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;users_orders&quot;, joinColumns = @JoinColumn(name = &quot;orderId&quot;),\r\n    inverseJoinColumns = @JoinColumn(name  = &quot;userId&quot;))\r\n    private User user;\r\n}\r\n```\r\n\r\nThen in `OrderServiceImpl` you could access user information with following:\r\n```java\r\nUser user = order.getUser();\r\nString emailId = user.getEmail();\r\n```\r\n \r\n\r\n","title":"How I can fetch email data from User table in my OrderServiceImpl.java class","body":"<p>I think you have a logical issue in <code>Order</code> entity definition. <code>Order</code> does not contain another list of Orders. But it should contain the <code>User</code> who placed the order. Hence, the definition should be corrected as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@EqualsAndHashCode\n@ToString\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;orders&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;orderTransaction&quot;)})\npublic class Order {\n    @Id\n    @Column(name = &quot;orderId&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    @Size(max = 50)\n    @NotBlank\n    private String orderTime;\n    \n    @Size(max = 50)\n    @NotBlank\n    private String orderTransaction;\n    \n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;users_orders&quot;, joinColumns = @JoinColumn(name = &quot;orderId&quot;),\n    inverseJoinColumns = @JoinColumn(name  = &quot;userId&quot;))\n    private User user;\n}\n</code></pre>\n<p>Then in <code>OrderServiceImpl</code> you could access user information with following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>User user = order.getUser();\nString emailId = user.getEmail();\n</code></pre>\n"}],"owner":{"account_id":14023817,"reputation":38,"user_id":10129399,"display_name":"Nitin Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72571657,"answer_count":1,"score":1,"last_activity_date":1654867573,"creation_date":1654846222,"question_id":72570584,"body_markdown":" How to get emailId From User table in the OrderServiceImpl.java class so that it can be sent\r\n as a String while calling sendTextEmail(String email) in\r\n OrderServiceImpl.java class?\r\n\r\n\r\n**User.java Class**\r\n\r\n  ```\r\n@Setter\r\n@Getter\r\n@EqualsAndHashCode\r\n@ToString\r\n@NoArgsConstructor\r\n//@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;`user`&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;email&quot;)})\r\npublic class User {\r\n\r\n\tpublic User(String email, String name, String password, String address) {\r\n\t\tthis.email = email;\r\n\t\tthis.name = name;\r\n\t\tthis.password = password;\r\n\t\tthis.address = address;\r\n\t}\r\n\r\n\t@Id\r\n\t@Column(name = &quot;userId&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long id;\r\n\t\r\n\t@Size(max = 50)\r\n\t@Email\r\n\tprivate String email;\r\n\t@Size(max = 50)\r\n\t@NotBlank\r\n\tprivate String name;\r\n\t@Size(max = 100)\r\n\t@NotBlank\r\n\tprivate String password;\r\n\t@Size(max = 50)\r\n\t@NotBlank\r\n\tprivate String address;\r\n\t\r\n\t@ManyToMany(fetch = FetchType.LAZY)\r\n\t@JoinTable(name = &quot;cart&quot;, joinColumns = @JoinColumn(name = &quot;userId&quot;),\r\n\tinverseJoinColumns = @JoinColumn(name  = &quot;foodId&quot;))\r\n\tprivate List&lt;Food&gt; cart = new ArrayList&lt;Food&gt;();\r\n\t\r\n\t@ManyToMany(fetch = FetchType.LAZY)\r\n\t@JoinTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;userId&quot;),\r\n\tinverseJoinColumns = @JoinColumn(name  = &quot;roleId&quot;))\r\n\tprivate Set&lt;Role&gt; roles = new HashSet&lt;Role&gt;();\r\n\r\n}\r\n```\r\n**Order.java Class**\r\n```\r\n@Setter\r\n@Getter\r\n@EqualsAndHashCode\r\n@ToString\r\n@NoArgsConstructor\r\n//@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;orders&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;orderTransaction&quot;)})\r\npublic class Order {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;orderId&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long id;\r\n\t\r\n\t@Size(max = 50)\r\n\t@NotBlank\r\n\tprivate String orderTime;\r\n\t\r\n\t@Size(max = 50)\r\n\t@NotBlank\r\n\tprivate String orderTransaction;\r\n\t\r\n\t@OneToMany(fetch = FetchType.LAZY)\r\n\t@JoinTable(name = &quot;users_orders&quot;, joinColumns = @JoinColumn(name = &quot;orderId&quot;),\r\n\tinverseJoinColumns = @JoinColumn(name  = &quot;userId&quot;))\r\n\tprivate List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;();\r\n\r\n}\r\n```\r\n**EmailServiceImpl.java Class**\r\n```\r\n@Service\r\npublic class EmailServiceImpl implements EmailService {\r\n\r\n\tprivate static final Logger logger = LoggerFactory\r\n\t\t\t.getLogger(EmailServiceImpl.class);\r\n\t@Autowired\r\n\tprivate JavaMailSender javaMailSender;\r\n\r\n\t@Override\r\n\t//Sending User Object\r\n\tpublic void sendTextEmail(String email) {\r\n\t\tlogger.info(&quot;Simple Email sending start&quot;);\r\n\r\n\t\tSimpleMailMessage simpleMessage = new SimpleMailMessage();\r\n\t\tsimpleMessage.setTo(email); //Enter customer email \r\n\t\tsimpleMessage.setSubject(&quot;Spring Boot=&gt; Sending simple email&quot;);\r\n\t\tsimpleMessage.setText(&quot;Dear hunger buddy customer Hope you are doing well.&quot;);\r\n\t\tjavaMailSender.send(simpleMessage);\r\n\r\n\t\tlogger.info(&quot;Simple Email sent&quot;);\r\n\r\n\t}\r\n}\r\n```\r\n\r\nOrderServiceImpl.java Class\r\n\r\n```\r\n@Service\r\npublic class OrderServiceImpl implements OrderService{\r\n\r\n\tprivate static final String String = null;\r\n\t@Autowired\r\n\tprivate EmailService emailService;\r\n\t@Autowired\r\n\tprivate OrderRepo orderRepo;\r\n\t\r\n\t/*@Autowired \r\n\tprivate User register;*/\r\n\t\r\n\t@Override\r\n\tpublic Order addOrder(Order order) throws AlreadyExistsException {\r\n\t\tif(orderRepo.existsById(order.getId())) {\r\n\t\t\tthrow new AlreadyExistsException(&quot;This record already exists&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\r\n\t\t\t//long temp=order.getId();\r\n\t\t\t//Optional&lt;User&gt; optional = userRepo.findById(temp);\r\n\t\t\tString email = null;\r\n\t\t\temailService.sendTextEmail(email);\r\n\t\t\t\r\n\t\t\treturn orderRepo.save(order);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Optional&lt;List&lt;Order&gt;&gt; getAllOrder() {\r\n\t\treturn Optional.ofNullable(orderRepo.findAll());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Optional&lt;Order&gt; getOrderById(Long id) throws IdNotFoundException {\r\n\t\tOptional&lt;Order&gt; optional = orderRepo.findById(id);\r\n\t\tif (!optional.isPresent()) {\r\n\t\t\tthrow new IdNotFoundException(&quot;Sorry Order Not Found&quot;);\r\n\t\t}\r\n\t\treturn optional;\r\n\t}\r\n}\r\n```\r\nI have removed all the import statement to save the time of reader.\r\n\r\nThankYou","title":"How I can fetch email data from User table in my OrderServiceImpl.java class","body":"<p>How to get emailId From User table in the OrderServiceImpl.java class so that it can be sent\nas a String while calling sendTextEmail(String email) in\nOrderServiceImpl.java class?</p>\n<p><strong>User.java Class</strong></p>\n<pre><code>@Setter\n@Getter\n@EqualsAndHashCode\n@ToString\n@NoArgsConstructor\n//@AllArgsConstructor\n@Entity\n@Table(name = &quot;`user`&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;email&quot;)})\npublic class User {\n\n  public User(String email, String name, String password, String address) {\n      this.email = email;\n      this.name = name;\n      this.password = password;\n      this.address = address;\n  }\n\n  @Id\n  @Column(name = &quot;userId&quot;)\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Long id;\n  \n  @Size(max = 50)\n  @Email\n  private String email;\n  @Size(max = 50)\n  @NotBlank\n  private String name;\n  @Size(max = 100)\n  @NotBlank\n  private String password;\n  @Size(max = 50)\n  @NotBlank\n  private String address;\n  \n  @ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(name = &quot;cart&quot;, joinColumns = @JoinColumn(name = &quot;userId&quot;),\n  inverseJoinColumns = @JoinColumn(name  = &quot;foodId&quot;))\n  private List&lt;Food&gt; cart = new ArrayList&lt;Food&gt;();\n  \n  @ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;userId&quot;),\n  inverseJoinColumns = @JoinColumn(name  = &quot;roleId&quot;))\n  private Set&lt;Role&gt; roles = new HashSet&lt;Role&gt;();\n\n}\n</code></pre>\n<p><strong>Order.java Class</strong></p>\n<pre><code>@Setter\n@Getter\n@EqualsAndHashCode\n@ToString\n@NoArgsConstructor\n//@AllArgsConstructor\n@Entity\n@Table(name = &quot;orders&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;orderTransaction&quot;)})\npublic class Order {\n    \n    @Id\n    @Column(name = &quot;orderId&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    @Size(max = 50)\n    @NotBlank\n    private String orderTime;\n    \n    @Size(max = 50)\n    @NotBlank\n    private String orderTransaction;\n    \n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;users_orders&quot;, joinColumns = @JoinColumn(name = &quot;orderId&quot;),\n    inverseJoinColumns = @JoinColumn(name  = &quot;userId&quot;))\n    private List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;();\n\n}\n</code></pre>\n<p><strong>EmailServiceImpl.java Class</strong></p>\n<pre><code>@Service\npublic class EmailServiceImpl implements EmailService {\n\n    private static final Logger logger = LoggerFactory\n            .getLogger(EmailServiceImpl.class);\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    @Override\n    //Sending User Object\n    public void sendTextEmail(String email) {\n        logger.info(&quot;Simple Email sending start&quot;);\n\n        SimpleMailMessage simpleMessage = new SimpleMailMessage();\n        simpleMessage.setTo(email); //Enter customer email \n        simpleMessage.setSubject(&quot;Spring Boot=&gt; Sending simple email&quot;);\n        simpleMessage.setText(&quot;Dear hunger buddy customer Hope you are doing well.&quot;);\n        javaMailSender.send(simpleMessage);\n\n        logger.info(&quot;Simple Email sent&quot;);\n\n    }\n}\n</code></pre>\n<p>OrderServiceImpl.java Class</p>\n<pre><code>@Service\npublic class OrderServiceImpl implements OrderService{\n\n    private static final String String = null;\n    @Autowired\n    private EmailService emailService;\n    @Autowired\n    private OrderRepo orderRepo;\n    \n    /*@Autowired \n    private User register;*/\n    \n    @Override\n    public Order addOrder(Order order) throws AlreadyExistsException {\n        if(orderRepo.existsById(order.getId())) {\n            throw new AlreadyExistsException(&quot;This record already exists&quot;);\n        }\n        else\n        {\n        \n            //long temp=order.getId();\n            //Optional&lt;User&gt; optional = userRepo.findById(temp);\n            String email = null;\n            emailService.sendTextEmail(email);\n            \n            return orderRepo.save(order);\n            \n        }\n    }\n    \n    @Override\n    public Optional&lt;List&lt;Order&gt;&gt; getAllOrder() {\n        return Optional.ofNullable(orderRepo.findAll());\n    }\n\n    @Override\n    public Optional&lt;Order&gt; getOrderById(Long id) throws IdNotFoundException {\n        Optional&lt;Order&gt; optional = orderRepo.findById(id);\n        if (!optional.isPresent()) {\n            throw new IdNotFoundException(&quot;Sorry Order Not Found&quot;);\n        }\n        return optional;\n    }\n}\n</code></pre>\n<p>I have removed all the import statement to save the time of reader.</p>\n<p>ThankYou</p>\n"},{"tags":["java","json","mapping","jackson"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1551456677,"post_id":9829403,"comment_id":96659598,"body_markdown":"See also https://stackoverflow.com/questions/7246157/how-to-parse-a-json-string-to-an-array-using-jackson","body":"See also <a href=\"https://stackoverflow.com/questions/7246157/how-to-parse-a-json-string-to-an-array-using-jackson\" title=\"how to parse a json string to an array using jackson\">stackoverflow.com/questions/7246157/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"down_vote_count":4,"up_vote_count":180,"is_accepted":true,"score":176,"last_activity_date":1555322421,"creation_date":1332446021,"answer_id":9829502,"question_id":9829403,"body_markdown":"You can deserialize directly to a list by using the `TypeReference` wrapper. An example method:\r\n\r\n    public static &lt;T&gt; T fromJSON(final TypeReference&lt;T&gt; type,\r\n          final String jsonPacket) {\r\n       T data = null;\r\n    \r\n       try {\r\n          data = new ObjectMapper().readValue(jsonPacket, type);\r\n       } catch (Exception e) {\r\n          // Handle the problem\r\n       }\r\n       return data;\r\n    }\r\n\r\nAnd is used thus:\r\n\r\n    final String json = &quot;&quot;;\r\n    Set&lt;POJO&gt; properties = fromJSON(new TypeReference&lt;Set&lt;POJO&gt;&gt;() {}, json);\r\n\r\n\r\n\r\n[TypeReference Javadoc][1]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-core/javadoc/2.3.0/com/fasterxml/jackson/core/type/TypeReference.html","title":"Deserialize JSON to ArrayList&lt;POJO&gt; using Jackson","body":"<p>You can deserialize directly to a list by using the <code>TypeReference</code> wrapper. An example method:</p>\n\n<pre><code>public static &lt;T&gt; T fromJSON(final TypeReference&lt;T&gt; type,\n      final String jsonPacket) {\n   T data = null;\n\n   try {\n      data = new ObjectMapper().readValue(jsonPacket, type);\n   } catch (Exception e) {\n      // Handle the problem\n   }\n   return data;\n}\n</code></pre>\n\n<p>And is used thus:</p>\n\n<pre><code>final String json = \"\";\nSet&lt;POJO&gt; properties = fromJSON(new TypeReference&lt;Set&lt;POJO&gt;&gt;() {}, json);\n</code></pre>\n\n<p><a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.3.0/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"noreferrer\">TypeReference Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":1833548,"reputation":183,"user_id":1664370,"display_name":"rushidesai1"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1457521737,"creation_date":1360026255,"answer_id":14698522,"question_id":9829403,"body_markdown":"I am also having the same problem. I have a json which is to be converted to ArrayList&lt;Account&gt;. \r\n\r\nAccount looks like this.\r\n\r\n    Account{\r\n      Person p ;\r\n      Related r ;\r\n      \r\n    }\r\n\r\n    Person{\r\n        String Name ;\r\n        Address a ;\r\n    }\r\n\r\nAll of the above classes have been annotated properly.\r\nI have tried TypeReference&lt;ArrayList&lt;Account&gt;&gt;() {} \r\nbut is not working.\r\n\r\nIt gives me Arraylist but ArrayList has a linkedHashMap which contains some more linked hashmaps containing final values.\r\n\r\nMy code is as Follows:\r\n\r\n    public T unmarshal(String responseXML,String c)\r\n    {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        AnnotationIntrospector introspector = new JacksonAnnotationIntrospector();\r\n    \r\n        mapper.getDeserializationConfig().withAnnotationIntrospector(introspector);\r\n    \r\n        mapper.getSerializationConfig().withAnnotationIntrospector(introspector);\r\n        try\r\n        {\r\n          this.targetclass = (T) mapper.readValue(responseXML,  new TypeReference&lt;ArrayList&lt;T&gt;&gt;() {});\r\n        }\r\n        catch (JsonParseException e)\r\n        {\r\n          e.printStackTrace();\r\n        }\r\n        catch (JsonMappingException e) {\r\n          e.printStackTrace();\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        return this.targetclass;\r\n    }\r\n\r\n\r\nI finally solved the problem. I am able to convert the List in Json String directly to ArrayList&lt;Person&gt; as follows:\r\n\r\n    JsonMarshallerUnmarshaller&lt;T&gt;{\r\n    \r\n         T targetClass ;\r\n    \r\n         public ArrayList&lt;T&gt; unmarshal(String jsonString)\r\n         {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            AnnotationIntrospector introspector = new JacksonAnnotationIntrospector();\r\n    \r\n            mapper.getDeserializationConfig().withAnnotationIntrospector(introspector);\r\n    \r\n            mapper.getSerializationConfig().withAnnotationIntrospector(introspector);\r\n            JavaType type = mapper.getTypeFactory().\r\n                        constructCollectionType(ArrayList.class, targetclass.getClass()) ;\r\n            try\r\n            {\r\n            Class c1 = this.targetclass.getClass() ;\r\n            Class c2 = this.targetclass1.getClass() ;\r\n                ArrayList&lt;T&gt; temp = (ArrayList&lt;T&gt;) mapper.readValue(jsonString,  type);\r\n            return temp ;\r\n            }\r\n           catch (JsonParseException e)\r\n           {\r\n            e.printStackTrace();\r\n           }\r\n           catch (JsonMappingException e) {\r\n               e.printStackTrace();\r\n           } catch (IOException e) {\r\n              e.printStackTrace();\r\n           }\r\n    \r\n         return null ;\r\n        }  \r\n    \r\n    }","title":"Deserialize JSON to ArrayList&lt;POJO&gt; using Jackson","body":"<p>I am also having the same problem. I have a json which is to be converted to ArrayList. </p>\n\n<p>Account looks like this.</p>\n\n<pre><code>Account{\n  Person p ;\n  Related r ;\n\n}\n\nPerson{\n    String Name ;\n    Address a ;\n}\n</code></pre>\n\n<p>All of the above classes have been annotated properly.\nI have tried TypeReference>() {} \nbut is not working.</p>\n\n<p>It gives me Arraylist but ArrayList has a linkedHashMap which contains some more linked hashmaps containing final values.</p>\n\n<p>My code is as Follows:</p>\n\n<pre><code>public T unmarshal(String responseXML,String c)\n{\n    ObjectMapper mapper = new ObjectMapper();\n\n    AnnotationIntrospector introspector = new JacksonAnnotationIntrospector();\n\n    mapper.getDeserializationConfig().withAnnotationIntrospector(introspector);\n\n    mapper.getSerializationConfig().withAnnotationIntrospector(introspector);\n    try\n    {\n      this.targetclass = (T) mapper.readValue(responseXML,  new TypeReference&lt;ArrayList&lt;T&gt;&gt;() {});\n    }\n    catch (JsonParseException e)\n    {\n      e.printStackTrace();\n    }\n    catch (JsonMappingException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n\n    return this.targetclass;\n}\n</code></pre>\n\n<p>I finally solved the problem. I am able to convert the List in Json String directly to ArrayList as follows:</p>\n\n<pre><code>JsonMarshallerUnmarshaller&lt;T&gt;{\n\n     T targetClass ;\n\n     public ArrayList&lt;T&gt; unmarshal(String jsonString)\n     {\n        ObjectMapper mapper = new ObjectMapper();\n\n        AnnotationIntrospector introspector = new JacksonAnnotationIntrospector();\n\n        mapper.getDeserializationConfig().withAnnotationIntrospector(introspector);\n\n        mapper.getSerializationConfig().withAnnotationIntrospector(introspector);\n        JavaType type = mapper.getTypeFactory().\n                    constructCollectionType(ArrayList.class, targetclass.getClass()) ;\n        try\n        {\n        Class c1 = this.targetclass.getClass() ;\n        Class c2 = this.targetclass1.getClass() ;\n            ArrayList&lt;T&gt; temp = (ArrayList&lt;T&gt;) mapper.readValue(jsonString,  type);\n        return temp ;\n        }\n       catch (JsonParseException e)\n       {\n        e.printStackTrace();\n       }\n       catch (JsonMappingException e) {\n           e.printStackTrace();\n       } catch (IOException e) {\n          e.printStackTrace();\n       }\n\n     return null ;\n    }  \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2428011,"reputation":5905,"user_id":2119552,"display_name":"DevNG"},"down_vote_count":2,"up_vote_count":128,"is_accepted":false,"score":126,"last_activity_date":1457622290,"creation_date":1457622290,"answer_id":35920152,"question_id":9829403,"body_markdown":"Another way is to use an array as a type, e.g.:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    MyPojo[] pojos = objectMapper.readValue(json, MyPojo[].class);\r\n\r\nThis way you avoid all the hassle with the Type object, and if you really need a list you can always convert the array to a list by:\r\n\r\n    List&lt;MyPojo&gt; pojoList = Arrays.asList(pojos);\r\n\r\nIMHO this is much more readable.\r\n\r\nAnd to make it be an actual list (that can be modified, see limitations of `Arrays.asList()`) then just do the following:\r\n\r\n    List&lt;MyPojo&gt; mcList = new ArrayList&lt;&gt;(Arrays.asList(pojos));","title":"Deserialize JSON to ArrayList&lt;POJO&gt; using Jackson","body":"<p>Another way is to use an array as a type, e.g.:</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nMyPojo[] pojos = objectMapper.readValue(json, MyPojo[].class);\n</code></pre>\n\n<p>This way you avoid all the hassle with the Type object, and if you really need a list you can always convert the array to a list by:</p>\n\n<pre><code>List&lt;MyPojo&gt; pojoList = Arrays.asList(pojos);\n</code></pre>\n\n<p>IMHO this is much more readable.</p>\n\n<p>And to make it be an actual list (that can be modified, see limitations of <code>Arrays.asList()</code>) then just do the following:</p>\n\n<pre><code>List&lt;MyPojo&gt; mcList = new ArrayList&lt;&gt;(Arrays.asList(pojos));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1654867451,"creation_date":1488037665,"answer_id":42458104,"question_id":9829403,"body_markdown":"This variant looks more simple and elegant.\r\n\r\n\r\n    //import com.fasterxml.jackson.core.JsonProcessingException;\r\n    //import com.fasterxml.jackson.databind.ObjectMapper;\r\n    //import com.fasterxml.jackson.databind.type.CollectionType;\r\n    //import com.fasterxml.jackson.databind.type.TypeFactory;\r\n    \r\n    //import java.util.List;\r\n\r\n\r\n    CollectionType typeReference =\r\n        TypeFactory.defaultInstance().constructCollectionType(List.class, Dto.class);\r\n    List&lt;Dto&gt; resultDto = objectMapper.readValue(content, typeReference);\r\n\r\n\r\n","title":"Deserialize JSON to ArrayList&lt;POJO&gt; using Jackson","body":"<p>This variant looks more simple and elegant.</p>\n<pre><code>//import com.fasterxml.jackson.core.JsonProcessingException;\n//import com.fasterxml.jackson.databind.ObjectMapper;\n//import com.fasterxml.jackson.databind.type.CollectionType;\n//import com.fasterxml.jackson.databind.type.TypeFactory;\n\n//import java.util.List;\n\n\nCollectionType typeReference =\n    TypeFactory.defaultInstance().constructCollectionType(List.class, Dto.class);\nList&lt;Dto&gt; resultDto = objectMapper.readValue(content, typeReference);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":743712,"reputation":1458,"user_id":1929092,"accept_rate":38,"display_name":"Jugal Panchal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1534949738,"creation_date":1534949738,"answer_id":51969659,"question_id":9829403,"body_markdown":"This works for me.\r\n\r\n    @Test\r\n\tpublic void cloneTest() {\r\n        List&lt;Part&gt; parts = new ArrayList&lt;Part&gt;();\r\n        Part part1 = new Part(1);\r\n        parts.add(part1);\r\n        Part part2 = new Part(2);\r\n        parts.add(part2);\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            String jsonStr = objectMapper.writeValueAsString(parts);\r\n\r\n            List&lt;Part&gt; cloneParts = objectMapper.readValue(jsonStr, new TypeReference&lt;ArrayList&lt;Part&gt;&gt;() {});\r\n        } catch (Exception e) {\r\n            //fail(&quot;failed.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //TODO: Assert: compare both list values.\r\n    }\r\n","title":"Deserialize JSON to ArrayList&lt;POJO&gt; using Jackson","body":"<p>This works for me.</p>\n\n<pre><code>@Test\npublic void cloneTest() {\n    List&lt;Part&gt; parts = new ArrayList&lt;Part&gt;();\n    Part part1 = new Part(1);\n    parts.add(part1);\n    Part part2 = new Part(2);\n    parts.add(part2);\n    try {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String jsonStr = objectMapper.writeValueAsString(parts);\n\n        List&lt;Part&gt; cloneParts = objectMapper.readValue(jsonStr, new TypeReference&lt;ArrayList&lt;Part&gt;&gt;() {});\n    } catch (Exception e) {\n        //fail(\"failed.\");\n        e.printStackTrace();\n    }\n\n    //TODO: Assert: compare both list values.\n}\n</code></pre>\n"}],"owner":{"account_id":448963,"reputation":10367,"user_id":843477,"accept_rate":75,"display_name":"tacos_tacos_tacos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235522,"favorite_count":0,"down_vote_count":0,"up_vote_count":125,"accepted_answer_id":9829502,"answer_count":5,"score":125,"last_activity_date":1654867451,"creation_date":1332445596,"question_id":9829403,"body_markdown":"I have a Java class `MyPojo` that I am interested in deserializing from JSON. I have configured a special MixIn class, `MyPojoDeMixIn`, to assist me with the deserialization. `MyPojo` has only `int` and `String` instance variables combined with proper getters and setters. `MyPojoDeMixIn` looks something like this:\r\n\r\n    public abstract class MyPojoDeMixIn {\r\n      MyPojoDeMixIn(\r\n          @JsonProperty(&quot;JsonName1&quot;) int prop1,\r\n          @JsonProperty(&quot;JsonName2&quot;) int prop2,\r\n          @JsonProperty(&quot;JsonName3&quot;) String prop3) {}\r\n    }\r\n\r\nIn my test client I do the following, but of course it does not work at compile time because there is a `JsonMappingException` related to a type mismatch.\r\n\r\n    ObjectMapper m = new ObjectMapper();\r\n    m.getDeserializationConfig().addMixInAnnotations(MyPojo.class,MyPojoDeMixIn.class);\r\n    try { ArrayList&lt;MyPojo&gt; arrayOfPojo = m.readValue(response, MyPojo.class); }\r\n    catch (Exception e) { System.out.println(e) }\r\n\r\nI am aware that I could alleviate this issue by creating a &quot;Response&quot; object that has only an `ArrayList&lt;MyPojo&gt;` in it, but then I would have to create these somewhat useless objects for every single type I want to return.\r\n\r\nI also looked online at [JacksonInFiveMinutes][1] but had a terrible time understanding the stuff about `Map&lt;A,B&gt;` and how it relates to my issue. If you cannot tell, I&#39;m entirely new to Java and come from an Obj-C background. They specifically mention: \r\n\r\n&gt; In addition to binding to POJOs and &quot;simple&quot; types, there is one\r\n&gt; additional variant: that of binding to generic (typed) containers.\r\n&gt; This case requires special handling due to so-called Type Erasure\r\n&gt; (used by Java to implement generics in somewhat backwards compatible\r\n&gt; way), which prevents you from using something like\r\n&gt; Collection&lt;String&gt;.class (which does not compile).\r\n\r\n&gt; So if you want to bind data into a Map&lt;String,User&gt; you will need to use:\r\n\r\n\r\n    Map&lt;String,User&gt; result = mapper.readValue(src, new TypeReference&lt;Map&lt;String,User&gt;&gt;() { });\r\n\r\nHow can I deserialize directly to `ArrayList`?\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonInFiveMinutes","title":"Deserialize JSON to ArrayList&lt;POJO&gt; using Jackson","body":"<p>I have a Java class <code>MyPojo</code> that I am interested in deserializing from JSON. I have configured a special MixIn class, <code>MyPojoDeMixIn</code>, to assist me with the deserialization. <code>MyPojo</code> has only <code>int</code> and <code>String</code> instance variables combined with proper getters and setters. <code>MyPojoDeMixIn</code> looks something like this:</p>\n\n<pre><code>public abstract class MyPojoDeMixIn {\n  MyPojoDeMixIn(\n      @JsonProperty(\"JsonName1\") int prop1,\n      @JsonProperty(\"JsonName2\") int prop2,\n      @JsonProperty(\"JsonName3\") String prop3) {}\n}\n</code></pre>\n\n<p>In my test client I do the following, but of course it does not work at compile time because there is a <code>JsonMappingException</code> related to a type mismatch.</p>\n\n<pre><code>ObjectMapper m = new ObjectMapper();\nm.getDeserializationConfig().addMixInAnnotations(MyPojo.class,MyPojoDeMixIn.class);\ntry { ArrayList&lt;MyPojo&gt; arrayOfPojo = m.readValue(response, MyPojo.class); }\ncatch (Exception e) { System.out.println(e) }\n</code></pre>\n\n<p>I am aware that I could alleviate this issue by creating a \"Response\" object that has only an <code>ArrayList&lt;MyPojo&gt;</code> in it, but then I would have to create these somewhat useless objects for every single type I want to return.</p>\n\n<p>I also looked online at <a href=\"http://wiki.fasterxml.com/JacksonInFiveMinutes\">JacksonInFiveMinutes</a> but had a terrible time understanding the stuff about <code>Map&lt;A,B&gt;</code> and how it relates to my issue. If you cannot tell, I'm entirely new to Java and come from an Obj-C background. They specifically mention: </p>\n\n<blockquote>\n  <p>In addition to binding to POJOs and \"simple\" types, there is one\n  additional variant: that of binding to generic (typed) containers.\n  This case requires special handling due to so-called Type Erasure\n  (used by Java to implement generics in somewhat backwards compatible\n  way), which prevents you from using something like\n  Collection.class (which does not compile).</p>\n  \n  <p>So if you want to bind data into a Map you will need to use:</p>\n</blockquote>\n\n<pre><code>Map&lt;String,User&gt; result = mapper.readValue(src, new TypeReference&lt;Map&lt;String,User&gt;&gt;() { });\n</code></pre>\n\n<p>How can I deserialize directly to <code>ArrayList</code>?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1653587228,"post_id":72395653,"comment_id":127893223,"body_markdown":"As this post appears similar to [your prior question](https://stackoverflow.com/q/72193058/295004) you should add detail as to what you&#39;ve tried and where you are stuck","body":"As this post appears similar to <a href=\"https://stackoverflow.com/q/72193058/295004\">your prior question</a> you should add detail as to what you&#39;ve tried and where you are stuck"}],"answers":[{"tags":[],"owner":{"account_id":16392783,"reputation":542,"user_id":11841135,"display_name":"John_S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654103572,"creation_date":1654103572,"answer_id":72465724,"question_id":72395653,"body_markdown":"The response you can decode using Java based hosted service. The integrity token can be sent to the Google server from hosted service and you can verify the response received from google. Enable PlayIntegrity API in Google Cloud Platform against the app and download the JSON file and configure the code. Similarly, you should enable PlayIntegrity in Google PlayConsole\r\n\r\n[Please check my answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72193058/google-playintegrity-api-a-nightmare/72461439#72461439","title":"How to call DecodeIntegrityToken API","body":"<p>The response you can decode using Java based hosted service. The integrity token can be sent to the Google server from hosted service and you can verify the response received from google. Enable PlayIntegrity API in Google Cloud Platform against the app and download the JSON file and configure the code. Similarly, you should enable PlayIntegrity in Google PlayConsole</p>\n<p><a href=\"https://stackoverflow.com/questions/72193058/google-playintegrity-api-a-nightmare/72461439#72461439\">Please check my answer</a></p>\n"},{"tags":[],"owner":{"account_id":11884971,"reputation":268,"user_id":8697615,"display_name":"Steeve Favre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654865886,"creation_date":1654865886,"answer_id":72574672,"question_id":72395653,"body_markdown":"For those who are looking for the node.js solution check my answer here\r\n\r\nhttps://stackoverflow.com/questions/71526352/decode-integrity-token-using-google-playintegrity-api/72566344#72566344","title":"How to call DecodeIntegrityToken API","body":"<p>For those who are looking for the node.js solution check my answer here</p>\n<p><a href=\"https://stackoverflow.com/questions/71526352/decode-integrity-token-using-google-playintegrity-api/72566344#72566344\">Decode integrity token using Google PlayIntegrity API</a></p>\n"}],"owner":{"account_id":2853883,"reputation":1355,"user_id":2450494,"display_name":"pvalle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72465724,"answer_count":2,"score":1,"last_activity_date":1654865886,"creation_date":1653585296,"question_id":72395653,"body_markdown":"I&#39;m stuck trying to call Google DecodeIntegrityToken API from my Android APP. There is no documentation or examples on how to do it.\r\n\r\nI have completed the setup and managed to get an IntegrityToken up to this point.\r\n\r\nThe setup: &lt;https://developer.android.com/google/play/integrity/verdict&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere I found calling the API in LARAVEL: &lt;https://stackoverflow.com/questions/71526352/decode-integrity-token-using-google-playintegrity-api/71528749#71528749&gt;\r\n\r\nand this one in .NET: &lt;https://stackoverflow.com/questions/72193083/how-to-get-a-decoded-play-integrity-api-token-using-the-google-client-api-for-n/72196786#72196786&gt;\r\n\r\n\r\nBut how can I call it from Java? There is no information. I can&#39;t find a way to call the API to decode the Integrity Token.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Wsvg.png","title":"How to call DecodeIntegrityToken API","body":"<p>I'm stuck trying to call Google DecodeIntegrityToken API from my Android APP. There is no documentation or examples on how to do it.</p>\n<p>I have completed the setup and managed to get an IntegrityToken up to this point.</p>\n<p>The setup: <a href=\"https://developer.android.com/google/play/integrity/verdict\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/integrity/verdict</a></p>\n<p><a href=\"https://i.stack.imgur.com/4Wsvg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Wsvg.png\" alt=\"enter image description here\" /></a></p>\n<p>Here I found calling the API in LARAVEL: <a href=\"https://stackoverflow.com/questions/71526352/decode-integrity-token-using-google-playintegrity-api/71528749#71528749\">Decode integrity token using Google PlayIntegrity API</a></p>\n<p>and this one in .NET: <a href=\"https://stackoverflow.com/questions/72193083/how-to-get-a-decoded-play-integrity-api-token-using-the-google-client-api-for-n/72196786#72196786\">How to get a decoded Play Integrity API token using the Google Client API for .NET</a></p>\n<p>But how can I call it from Java? There is no information. I can't find a way to call the API to decode the Integrity Token.</p>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1654766893,"post_id":72557807,"comment_id":128172263,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654806177,"post_id":72557807,"comment_id":128186562,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654865375,"creation_date":1654782234,"answer_id":72561417,"question_id":72557807,"body_markdown":"Create a custom `Action` that extends from `TextAction`. The `TextAction` allows you to track the last text component that had focus. You can then apply your keypad logic to this component:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    import javax.swing.text.*;\r\n    \r\n    public class NumpadPanel extends JPanel\r\n    {\r\n    \tpublic NumpadPanel()\r\n    \t{\r\n    \t\tsetLayout( new BorderLayout() );\r\n    \r\n    \t\tJTextField textField1 = new JTextField(4);\r\n    \t\tJTextField textField2 = new JTextField(2);\r\n    \t\tJTextField textField3 = new JTextField(2);\r\n    \r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.add( textField1 );\r\n    \t\tpanel.add( textField2 );\r\n    \t\tpanel.add( textField3 );\r\n    \t\tadd(panel, BorderLayout.PAGE_START);\r\n    \r\n    \t\tAction numberAction = new TextAction(&quot;&quot;)\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e)\r\n    \t\t\t{\r\n    \t\t    \tJTextComponent textComponent = getFocusedComponent();\r\n    \r\n    \t\t\t\tif (textComponent != null)\r\n    \t\t\t\t\ttextComponent.replaceSelection(e.getActionCommand());\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tJPanel buttonPanel = new JPanel();\r\n    \t\tbuttonPanel.setLayout( new GridLayout(0, 5) );\r\n    \t\tadd(buttonPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t{\r\n    \t\t\tString text = String.valueOf(i);\r\n    \t\t\tJButton button = new JButton( text );\r\n    \t\t\tbutton.addActionListener( numberAction );\r\n    \t\t\tbutton.setMargin( new Insets(20, 20, 20, 20) );\r\n    \t\t\tbutton.setFocusable( false );\r\n    \t\t\tbuttonPanel.add( button );\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;Numpad Panel&quot;);\r\n    \t\tframe.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n    \t\tframe.add( new NumpadPanel() );\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo( null );\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tEventQueue.invokeLater(new Runnable()\r\n    \t\t{\r\n    \t\t\tpublic void run()\r\n    \t\t\t{\r\n    \t\t\t\tcreateAndShowUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }","title":"How to prevent writing in both TextField when I am writing in one TextField using this keypad?","body":"<p>Create a custom <code>Action</code> that extends from <code>TextAction</code>. The <code>TextAction</code> allows you to track the last text component that had focus. You can then apply your keypad logic to this component:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\nimport javax.swing.text.*;\n\npublic class NumpadPanel extends JPanel\n{\n    public NumpadPanel()\n    {\n        setLayout( new BorderLayout() );\n\n        JTextField textField1 = new JTextField(4);\n        JTextField textField2 = new JTextField(2);\n        JTextField textField3 = new JTextField(2);\n\n        JPanel panel = new JPanel();\n        panel.add( textField1 );\n        panel.add( textField2 );\n        panel.add( textField3 );\n        add(panel, BorderLayout.PAGE_START);\n\n        Action numberAction = new TextAction(&quot;&quot;)\n        {\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n                JTextComponent textComponent = getFocusedComponent();\n\n                if (textComponent != null)\n                    textComponent.replaceSelection(e.getActionCommand());\n            }\n        };\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout( new GridLayout(0, 5) );\n        add(buttonPanel, BorderLayout.CENTER);\n\n        for (int i = 0; i &lt; 10; i++)\n        {\n            String text = String.valueOf(i);\n            JButton button = new JButton( text );\n            button.addActionListener( numberAction );\n            button.setMargin( new Insets(20, 20, 20, 20) );\n            button.setFocusable( false );\n            buttonPanel.add( button );\n        }\n    }\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;Numpad Panel&quot;);\n        frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        frame.add( new NumpadPanel() );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19812285,"reputation":1,"user_id":14521954,"display_name":"Xx_22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1654865375,"creation_date":1654766624,"question_id":72557807,"body_markdown":"I&#39;m beginner in java and i stucked writing simple project using eclipse. I added numbered Buttons and they should be showed in TextField when user click them.\r\nBut when i&#39;m trying to check this they add every number to both TextField.\r\n\r\nHow i can prevent this?\r\n\r\nSee Picture show it better:\r\n\r\n[![https://i.stack.imgur.com/CtKhB.png][1]][1]\r\n\r\n\r\n    private JFrame frame;\r\n\tprivate final JPanel panel = new JPanel();\r\n\tprivate final JButton btnNewButton_1 = new JButton(&quot;1&quot;);\r\n\tprivate final JButton btnNewButton_1_1 = new JButton(&quot;2&quot;);\r\n\tprivate final JButton btnNewButton_1_2 = new JButton(&quot;3&quot;);\r\n\tprivate final JButton btnNewButton_1_3 = new JButton(&quot;4&quot;);\r\n\tprivate final JButton btnNewButton_1_1_1 = new JButton(&quot;5&quot;);\r\n\tprivate final JButton btnNewButton_1_2_1 = new JButton(&quot;6&quot;);\r\n\tprivate final JButton btnNewButton_1_4 = new JButton(&quot;7&quot;);\r\n\tprivate final JButton btnNewButton_1_1_2 = new JButton(&quot;8&quot;);\r\n\tprivate final JButton btnNewButton_1_2_2 = new JButton(&quot;9&quot;);\r\n\tprivate final JButton btnNewButton_1_1_3 = new JButton(&quot;0&quot;);\r\n\tprivate final JButton btnNewButton_1_2_4 = new JButton(&quot;Enter&quot;);\r\n\tprivate final JButton btnNewButton_1_2_4_1 = new JButton(&quot;Cancel&quot;);\r\n\tprivate final JButton btnNewButton_1_2_4_2 = new JButton(&quot;Clear&quot;);\r\n\tprivate final JLabel lblNewLabel_4 = new JLabel(&quot;Welcome..!&quot;);\r\n\tprivate final JLabel lblNewLabel_5 = new JLabel(&quot;Account Number:&quot;);\r\n\tprivate final JLabel lblNewLabel_5_1 = new JLabel(&quot;PIN:&quot;);\r\n\tprivate final JTextField textField = new JTextField();\r\n\tprivate final JPasswordField passwordField = new JPasswordField();\r\n\tprivate void initialize() {\r\n\t\tframe = new JFrame();\r\n\t\tframe.setBounds(150, 10, 1000, 650);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.getContentPane().setLayout(null);\r\n\t\tframe.getContentPane().add(panel);\r\n\t\tpanel.setLayout(null);\r\n\t\tbtnNewButton_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 23));\r\n\t\tbtnNewButton_1.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tString Enternumber1  = textField.getText()+btnNewButton_1.getText();\r\n\t\t\t\ttextField.setText(Enternumber1);\r\n\t\t\t\t\r\n\t\t\t\tString Enternumber2  = passwordField.getText()+btnNewButton_1.getText();\r\n\t\t\t\tpasswordField.setText(Enternumber2);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CtKhB.png","title":"How to prevent writing in both TextField when I am writing in one TextField using this keypad?","body":"<p>I'm beginner in java and i stucked writing simple project using eclipse. I added numbered Buttons and they should be showed in TextField when user click them.\nBut when i'm trying to check this they add every number to both TextField.</p>\n<p>How i can prevent this?</p>\n<p>See Picture show it better:</p>\n<p><a href=\"https://i.stack.imgur.com/CtKhB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CtKhB.png\" alt=\"https://i.stack.imgur.com/CtKhB.png\" /></a></p>\n<pre><code>private JFrame frame;\nprivate final JPanel panel = new JPanel();\nprivate final JButton btnNewButton_1 = new JButton(&quot;1&quot;);\nprivate final JButton btnNewButton_1_1 = new JButton(&quot;2&quot;);\nprivate final JButton btnNewButton_1_2 = new JButton(&quot;3&quot;);\nprivate final JButton btnNewButton_1_3 = new JButton(&quot;4&quot;);\nprivate final JButton btnNewButton_1_1_1 = new JButton(&quot;5&quot;);\nprivate final JButton btnNewButton_1_2_1 = new JButton(&quot;6&quot;);\nprivate final JButton btnNewButton_1_4 = new JButton(&quot;7&quot;);\nprivate final JButton btnNewButton_1_1_2 = new JButton(&quot;8&quot;);\nprivate final JButton btnNewButton_1_2_2 = new JButton(&quot;9&quot;);\nprivate final JButton btnNewButton_1_1_3 = new JButton(&quot;0&quot;);\nprivate final JButton btnNewButton_1_2_4 = new JButton(&quot;Enter&quot;);\nprivate final JButton btnNewButton_1_2_4_1 = new JButton(&quot;Cancel&quot;);\nprivate final JButton btnNewButton_1_2_4_2 = new JButton(&quot;Clear&quot;);\nprivate final JLabel lblNewLabel_4 = new JLabel(&quot;Welcome..!&quot;);\nprivate final JLabel lblNewLabel_5 = new JLabel(&quot;Account Number:&quot;);\nprivate final JLabel lblNewLabel_5_1 = new JLabel(&quot;PIN:&quot;);\nprivate final JTextField textField = new JTextField();\nprivate final JPasswordField passwordField = new JPasswordField();\nprivate void initialize() {\n    frame = new JFrame();\n    frame.setBounds(150, 10, 1000, 650);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().setLayout(null);\n    frame.getContentPane().add(panel);\n    panel.setLayout(null);\n    btnNewButton_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 23));\n    btnNewButton_1.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            String Enternumber1  = textField.getText()+btnNewButton_1.getText();\n            textField.setText(Enternumber1);\n            \n            String Enternumber2  = passwordField.getText()+btnNewButton_1.getText();\n            passwordField.setText(Enternumber2);\n            \n        }\n</code></pre>\n"},{"tags":["java","java-8","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":5201641,"reputation":463,"user_id":4652935,"display_name":"Ozay Duman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654844563,"creation_date":1654844563,"answer_id":72570289,"question_id":72570163,"body_markdown":"you can do like this: `IntStream intStream = list.flatMapToInt(l -&gt; l.stream().mapToInt(i -&gt; i));`","title":"Convert Stream&lt;List&lt;Integer&gt;&gt; to IntStream using flatMapToInt() method","body":"<p>you can do like this: <code>IntStream intStream = list.flatMapToInt(l -&gt; l.stream().mapToInt(i -&gt; i));</code></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654865145,"creation_date":1654865145,"answer_id":72574521,"question_id":72570163,"body_markdown":"It would be more readable to apply a combination `flatMap()` and `mapToInt()`, than use `mapToInt()` nested into `flatMapToInt()`:\r\n\r\n```\r\nStream.of(List.of(1, 2, 3, 4), List.of(10, 20, 30, 40))\r\n    .flatMap(List::stream)\r\n    .mapToInt(Integer::intValue)\r\n    ... // other operations\r\n```","title":"Convert Stream&lt;List&lt;Integer&gt;&gt; to IntStream using flatMapToInt() method","body":"<p>It would be more readable to apply a combination <code>flatMap()</code> and <code>mapToInt()</code>, than use <code>mapToInt()</code> nested into <code>flatMapToInt()</code>:</p>\n<pre><code>Stream.of(List.of(1, 2, 3, 4), List.of(10, 20, 30, 40))\n    .flatMap(List::stream)\n    .mapToInt(Integer::intValue)\n    ... // other operations\n</code></pre>\n"}],"owner":{"account_id":25522165,"reputation":11,"user_id":19311840,"display_name":"Moon and Dishes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72570289,"answer_count":2,"score":0,"last_activity_date":1654865345,"creation_date":1654843898,"question_id":72570163,"body_markdown":"Example:\r\n\r\n```\r\nSystem.out.println(&quot;----flatMapToInt----&quot;); \r\n\r\nStream&lt;List&lt;Integer&gt;&gt; list = Stream.of( \r\n    Arrays.asList(1,2,3,4), \r\n    Arrays.asList(10,20,30,40)\r\n); \r\nIntSteam list2 = list.flatMapToInt(...); \r\n```\r\nHow to achieve it using Java 8 or Java 11?","title":"Convert Stream&lt;List&lt;Integer&gt;&gt; to IntStream using flatMapToInt() method","body":"<p>Example:</p>\n<pre><code>System.out.println(&quot;----flatMapToInt----&quot;); \n\nStream&lt;List&lt;Integer&gt;&gt; list = Stream.of( \n    Arrays.asList(1,2,3,4), \n    Arrays.asList(10,20,30,40)\n); \nIntSteam list2 = list.flatMapToInt(...); \n</code></pre>\n<p>How to achieve it using Java 8 or Java 11?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654772316,"post_id":72559101,"comment_id":128174100,"body_markdown":"chances are, it is just testing whether or not it can reach that other computer on the network, he&#39;s not testing whether ornot the application is running","body":"chances are, it is just testing whether or not it can reach that other computer on the network, he&#39;s not testing whether ornot the application is running"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1654772437,"post_id":72559101,"comment_id":128174141,"body_markdown":"&quot;*A typical implementation [of isReachable] will use ICMP ECHO REQUESTs if the privilege can be obtained, otherwise it will try to establish a TCP connection on port 7 (Echo) of the destination host.*&quot; https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#isReachable(int) i.e. it doesn&#39;t matter whether the application is running, just that the machine itself is","body":"&quot;<i>A typical implementation [of isReachable] will use ICMP ECHO REQUESTs if the privilege can be obtained, otherwise it will try to establish a TCP connection on port 7 (Echo) of the destination host.</i>&quot; <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#isReachable(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/&hellip;</a> i.e. it doesn&#39;t matter whether the application is running, just that the machine itself is"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654774224,"post_id":72559101,"comment_id":128174833,"body_markdown":"Why do you think calling `isReachable()` on an `InetAddress` object would tell you whether or not a socket connection is still open?","body":"Why do you think calling <code>isReachable()</code> on an <code>InetAddress</code> object would tell you whether or not a socket connection is still open?"}],"owner":{"account_id":22043908,"reputation":21,"user_id":16309259,"display_name":"Alberto Babo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654774882,"answer_count":0,"score":0,"last_activity_date":1654865016,"creation_date":1654772237,"question_id":72559101,"body_markdown":"I&#39;m trying to create a server that can detect when a client disconnects. I searched online and found this method `isReachable()` that from what I understand should be perfect for this. The problem is I tried to test it, but it doesn&#39;t work to detect disconnection, it always returns true even after I close the program on the different PC I&#39;m using as a client.\r\n\r\n    public static void main(String[] args) {\r\n        int socketPort = 80;\r\n\r\n        ServerSocket socket;\r\n        try {\r\n            socket = new ServerSocket(socketPort);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Impossible to open server socket&quot;);\r\n            System.exit(1);\r\n            return;\r\n        }\r\n\r\n        while (true) {\r\n            try {\r\n                Socket client = socket.accept();\r\n                while (true) {\r\n                    if (client.getInetAddress ().isReachable (60 * 1000)==true)\r\n                        System.out.println (&quot;still connected&quot;);\r\n                    else\r\n                        System.out.println (&quot;disconnected&quot;);\r\n                }\r\n\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;Connection Lost&quot;);\r\n            }\r\n        }\r\n    }","title":"Problem with isReachable, always returns &quot;true&quot;","body":"<p>I'm trying to create a server that can detect when a client disconnects. I searched online and found this method <code>isReachable()</code> that from what I understand should be perfect for this. The problem is I tried to test it, but it doesn't work to detect disconnection, it always returns true even after I close the program on the different PC I'm using as a client.</p>\n<pre><code>public static void main(String[] args) {\n    int socketPort = 80;\n\n    ServerSocket socket;\n    try {\n        socket = new ServerSocket(socketPort);\n    } catch (IOException e) {\n        System.out.println(&quot;Impossible to open server socket&quot;);\n        System.exit(1);\n        return;\n    }\n\n    while (true) {\n        try {\n            Socket client = socket.accept();\n            while (true) {\n                if (client.getInetAddress ().isReachable (60 * 1000)==true)\n                    System.out.println (&quot;still connected&quot;);\n                else\n                    System.out.println (&quot;disconnected&quot;);\n            }\n\n        } catch (IOException e) {\n            System.out.println(&quot;Connection Lost&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1323231,"reputation":1556,"user_id":2377992,"accept_rate":100,"display_name":"ybonda"},"score":2,"creation_date":1522321716,"post_id":22373696,"comment_id":86116157,"body_markdown":"Read this article: http://codeflex.co/java-spring-rest-api-with-empty-or-optional-parameters/","body":"Read this article: <a href=\"http://codeflex.co/java-spring-rest-api-with-empty-or-optional-parameters/\" rel=\"nofollow noreferrer\">codeflex.co/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":281,"is_accepted":true,"score":281,"last_activity_date":1654864847,"creation_date":1394704418,"answer_id":22374803,"question_id":22373696,"body_markdown":"**Before Java 8 and Spring 5 (but works with Java 8+ and Spring 5+ too)**\r\n\r\nYou need to give `required = false` for `name` and `password` request parameters as well. That&#39;s because, when you provide just the `logout` parameter, it actually expects for `name` and `password` because they are still &quot;implicitly&quot; mandatory.\r\n\r\nIt worked when you just gave `name` and `password` because `logout` wasn&#39;t a mandatory parameter thanks to `required = false` already given for `logout`.\r\n\r\n**Update for Java 8 and Spring 5 (and above)**\r\n\r\nYou can now use the [Optional][1] class from Java 8 onwards to make the parameters optional.\r\n\r\n    @RequestMapping (value = &quot;/path&quot;, method = RequestMethod.GET)\r\n    public String handleRequest(@RequestParam(&quot;paramName&quot;) Optional&lt;String&gt; variableName) {\r\n        String paramValue = variableName.orElse(&quot;&quot;);\r\n        // use the paramValue\r\n    }\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"@RequestParam in Spring MVC handling optional parameters","body":"<p><strong>Before Java 8 and Spring 5 (but works with Java 8+ and Spring 5+ too)</strong></p>\n<p>You need to give <code>required = false</code> for <code>name</code> and <code>password</code> request parameters as well. That's because, when you provide just the <code>logout</code> parameter, it actually expects for <code>name</code> and <code>password</code> because they are still &quot;implicitly&quot; mandatory.</p>\n<p>It worked when you just gave <code>name</code> and <code>password</code> because <code>logout</code> wasn't a mandatory parameter thanks to <code>required = false</code> already given for <code>logout</code>.</p>\n<p><strong>Update for Java 8 and Spring 5 (and above)</strong></p>\n<p>You can now use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional</a> class from Java 8 onwards to make the parameters optional.</p>\n<pre><code>@RequestMapping (value = &quot;/path&quot;, method = RequestMethod.GET)\npublic String handleRequest(@RequestParam(&quot;paramName&quot;) Optional&lt;String&gt; variableName) {\n    String paramValue = variableName.orElse(&quot;&quot;);\n    // use the paramValue\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1463409057,"creation_date":1394715469,"answer_id":22379368,"question_id":22373696,"body_markdown":"Create 2 methods which handle the cases. You can instruct the `@RequestMapping` annotation to take into account certain parameters whilst mapping the request. That way you can nicely split this into 2 methods. \r\n\r\n\t@RequestMapping (value=&quot;/submit/id/{id}&quot;, method=RequestMethod.GET, \r\n\t                 produces=&quot;text/xml&quot;, params={&quot;logout&quot;})\r\n\tpublic String handleLogout(@PathVariable(&quot;id&quot;) String id, \r\n            @RequestParam(&quot;logout&quot;) String logout) { ... }\r\n\r\n\t@RequestMapping (value=&quot;/submit/id/{id}&quot;, method=RequestMethod.GET, \r\n\t                 produces=&quot;text/xml&quot;, params={&quot;name&quot;, &quot;password&quot;})\r\n\tpublic String handleLogin(@PathVariable(&quot;id&quot;) String id, @RequestParam(&quot;name&quot;) \r\n            String username, @RequestParam(&quot;password&quot;) String password, \r\n            @ModelAttribute(&quot;submitModel&quot;) SubmitModel model, BindingResult errors) \r\n            throws LoginException {...}","title":"@RequestParam in Spring MVC handling optional parameters","body":"<p>Create 2 methods which handle the cases. You can instruct the <code>@RequestMapping</code> annotation to take into account certain parameters whilst mapping the request. That way you can nicely split this into 2 methods. </p>\n\n<pre><code>@RequestMapping (value=\"/submit/id/{id}\", method=RequestMethod.GET, \n                 produces=\"text/xml\", params={\"logout\"})\npublic String handleLogout(@PathVariable(\"id\") String id, \n        @RequestParam(\"logout\") String logout) { ... }\n\n@RequestMapping (value=\"/submit/id/{id}\", method=RequestMethod.GET, \n                 produces=\"text/xml\", params={\"name\", \"password\"})\npublic String handleLogin(@PathVariable(\"id\") String id, @RequestParam(\"name\") \n        String username, @RequestParam(\"password\") String password, \n        @ModelAttribute(\"submitModel\") SubmitModel model, BindingResult errors) \n        throws LoginException {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":1,"up_vote_count":194,"is_accepted":false,"score":193,"last_activity_date":1479253961,"creation_date":1479253961,"answer_id":40621786,"question_id":22373696,"body_markdown":"As part of `Spring 4.1.1` onwards you now have full support of Java 8 `Optional` ([original ticket][1]) therefore in your example both requests will go via your single mapping endpoint as long as you replace `required=false` with Optional for your 3 params logout, name, password:\r\n\r\n    @RequestMapping (value = &quot;/submit/id/{id}&quot;, method = RequestMethod.GET,   \r\n     produces=&quot;text/xml&quot;)\r\n    public String showLoginWindow(@PathVariable(&quot;id&quot;) String id,\r\n                                  @RequestParam(value = &quot;logout&quot;) Optional&lt;String&gt; logout,\r\n                                  @RequestParam(&quot;name&quot;) Optional&lt;String&gt; username,\r\n                                  @RequestParam(&quot;password&quot;) Optional&lt;String&gt; password,\r\n                                  @ModelAttribute(&quot;submitModel&quot;) SubmitModel model,\r\n                                  BindingResult errors) throws LoginException {...}\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-12171","title":"@RequestParam in Spring MVC handling optional parameters","body":"<p>As part of <code>Spring 4.1.1</code> onwards you now have full support of Java 8 <code>Optional</code> (<a href=\"https://jira.spring.io/browse/SPR-12171\">original ticket</a>) therefore in your example both requests will go via your single mapping endpoint as long as you replace <code>required=false</code> with Optional for your 3 params logout, name, password:</p>\n\n<pre><code>@RequestMapping (value = \"/submit/id/{id}\", method = RequestMethod.GET,   \n produces=\"text/xml\")\npublic String showLoginWindow(@PathVariable(\"id\") String id,\n                              @RequestParam(value = \"logout\") Optional&lt;String&gt; logout,\n                              @RequestParam(\"name\") Optional&lt;String&gt; username,\n                              @RequestParam(\"password\") Optional&lt;String&gt; password,\n                              @ModelAttribute(\"submitModel\") SubmitModel model,\n                              BindingResult errors) throws LoginException {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633707298,"creation_date":1633707298,"answer_id":69498388,"question_id":22373696,"body_markdown":"In case someone is looking for mapping Optional parameters with `Pojo`, same can be done like below.\r\n\r\n```\r\n@RequestMapping (value = &quot;/submit/id/{id}&quot;, method = RequestMethod.GET,   \r\n produces=&quot;text/xml&quot;)\r\npublic String showLoginWindow(@PathVariable(&quot;id&quot;) String id,\r\n                              LoginRequest loginRequest,\r\n                              @ModelAttribute(&quot;submitModel&quot;) SubmitModel model,\r\n                              BindingResult errors) throws LoginException {...}\r\n```\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n//@AllArgsConstructor - Don&#39;t use this\r\npublic class LoginRequest {\r\n\tprivate Optional&lt;String&gt; logout = Optional.empty();\r\n\tprivate Optional&lt;String&gt; username = Optional.empty();\r\n\tprivate Optional&lt;String&gt; password = Optional.empty();\r\n}\r\n```\r\n**Note**: Do not use `@AllArgsConstructor` on `POJO` else it will initialize the fields as null.","title":"@RequestParam in Spring MVC handling optional parameters","body":"<p>In case someone is looking for mapping Optional parameters with <code>Pojo</code>, same can be done like below.</p>\n<pre><code>@RequestMapping (value = &quot;/submit/id/{id}&quot;, method = RequestMethod.GET,   \n produces=&quot;text/xml&quot;)\npublic String showLoginWindow(@PathVariable(&quot;id&quot;) String id,\n                              LoginRequest loginRequest,\n                              @ModelAttribute(&quot;submitModel&quot;) SubmitModel model,\n                              BindingResult errors) throws LoginException {...}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n//@AllArgsConstructor - Don't use this\npublic class LoginRequest {\n    private Optional&lt;String&gt; logout = Optional.empty();\n    private Optional&lt;String&gt; username = Optional.empty();\n    private Optional&lt;String&gt; password = Optional.empty();\n}\n</code></pre>\n<p><strong>Note</strong>: Do not use <code>@AllArgsConstructor</code> on <code>POJO</code> else it will initialize the fields as null.</p>\n"}],"owner":{"account_id":2496720,"reputation":3114,"user_id":2172919,"accept_rate":53,"display_name":"luksmir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403495,"favorite_count":0,"down_vote_count":0,"up_vote_count":229,"accepted_answer_id":22374803,"answer_count":4,"score":229,"last_activity_date":1654864847,"creation_date":1394701534,"question_id":22373696,"body_markdown":"Is it possible for a Spring controller to handle both kind of requests? \r\n\r\n1) `http://localhost:8080/submit/id/ID123432?logout=true`\r\n\r\n2) `http://localhost:8080/submit/id/ID123432?name=sam&amp;password=543432`\r\n\r\nIf I define a single controller of the kind:\r\n\r\n     @RequestMapping (value = &quot;/submit/id/{id}&quot;, method = RequestMethod.GET,   \r\n     produces=&quot;text/xml&quot;)\r\n    public String showLoginWindow(@PathVariable(&quot;id&quot;) String id,\r\n                                  @RequestParam(value = &quot;logout&quot;, required = false) String logout,\r\n                                  @RequestParam(&quot;name&quot;) String username,\r\n                                  @RequestParam(&quot;password&quot;) String password,\r\n                                  @ModelAttribute(&quot;submitModel&quot;) SubmitModel model,\r\n                                  BindingResult errors) throws LoginException {...}\r\n\r\nthe HTTP request with &quot;logout&quot; is not accepted.\r\n\r\nIf I define two controllers to handle each request separately, Spring complains with the exception &quot;There is already &#39;Controller&#39; bean method ... mapped&quot;.","title":"@RequestParam in Spring MVC handling optional parameters","body":"<p>Is it possible for a Spring controller to handle both kind of requests? </p>\n\n<p>1) <code>http://localhost:8080/submit/id/ID123432?logout=true</code></p>\n\n<p>2) <code>http://localhost:8080/submit/id/ID123432?name=sam&amp;password=543432</code></p>\n\n<p>If I define a single controller of the kind:</p>\n\n<pre><code> @RequestMapping (value = \"/submit/id/{id}\", method = RequestMethod.GET,   \n produces=\"text/xml\")\npublic String showLoginWindow(@PathVariable(\"id\") String id,\n                              @RequestParam(value = \"logout\", required = false) String logout,\n                              @RequestParam(\"name\") String username,\n                              @RequestParam(\"password\") String password,\n                              @ModelAttribute(\"submitModel\") SubmitModel model,\n                              BindingResult errors) throws LoginException {...}\n</code></pre>\n\n<p>the HTTP request with \"logout\" is not accepted.</p>\n\n<p>If I define two controllers to handle each request separately, Spring complains with the exception \"There is already 'Controller' bean method ... mapped\".</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1654859931,"post_id":72573375,"comment_id":128198615,"body_markdown":"What do you mean by &quot;Can I get the department key only when all or Management?&quot;?","body":"What do you mean by &quot;Can I get the department key only when all or Management?&quot;?"},{"owner":{"account_id":23607452,"reputation":3,"user_id":17642967,"display_name":"Isuru S Ranmohotti"},"score":0,"creation_date":1654860840,"post_id":72573375,"comment_id":128198894,"body_markdown":"@AlexMamo I want to show the news issued for all the departments along with the news of the department under consideration among the news released to several departments.(My database image in the question)","body":"@AlexMamo I want to show the news issued for all the departments along with the news of the department under consideration among the news released to several departments.(My database image in the question)"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1654861375,"post_id":72573375,"comment_id":128199079,"body_markdown":"So you want to get the result of a combined query? Is that what you need?","body":"So you want to get the result of a combined query? Is that what you need?"},{"owner":{"account_id":23607452,"reputation":3,"user_id":17642967,"display_name":"Isuru S Ranmohotti"},"score":0,"creation_date":1654861895,"post_id":72573375,"comment_id":128199236,"body_markdown":"@AlexMamo yes sir","body":"@AlexMamo yes sir"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654862189,"creation_date":1654862189,"answer_id":72573909,"question_id":72573375,"body_markdown":"To get the combined result of two separate Firebase Realtime Database queries, I recommend you to use [Tasks.whenAllSuccess()][1] method. You can achieve this, using the following lines of code:\r\n\r\n    query = MainNewsDb.orderByChild(&quot;department&quot;).equalTo(&quot;Management&quot;).limitToLast((int)limit);\r\n    query1 = NewsListDb1.orderByChild(&quot;department&quot;).equalTo(&quot;all&quot;).limitToLast((int)limit);\r\n\r\n    Task firstTask = query.get();\r\n    Task secondTask = query1.get();\r\n\r\n    Task combinedTask = Tasks.whenAllSuccess(firstTask, secondTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n        @Override\r\n        public void onSuccess(List&lt;Object&gt; list) {\r\n             //Do what you need to do with your list\r\n        }\r\n    });\r\n\r\nAs you can see, when overriding the &quot;onSuccess()&quot; method the result is a list of objects. As soon as you have it, simply map each object from the list into an object of the desired type.\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(com.google.android.gms.tasks.Task%3C?%3E...)","title":"How to merge results of two queries in Firebase Realtime Database","body":"<p>To get the combined result of two separate Firebase Realtime Database queries, I recommend you to use <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(com.google.android.gms.tasks.Task%3C?%3E...)\" rel=\"nofollow noreferrer\">Tasks.whenAllSuccess()</a> method. You can achieve this, using the following lines of code:</p>\n<pre><code>query = MainNewsDb.orderByChild(&quot;department&quot;).equalTo(&quot;Management&quot;).limitToLast((int)limit);\nquery1 = NewsListDb1.orderByChild(&quot;department&quot;).equalTo(&quot;all&quot;).limitToLast((int)limit);\n\nTask firstTask = query.get();\nTask secondTask = query1.get();\n\nTask combinedTask = Tasks.whenAllSuccess(firstTask, secondTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n    @Override\n    public void onSuccess(List&lt;Object&gt; list) {\n         //Do what you need to do with your list\n    }\n});\n</code></pre>\n<p>As you can see, when overriding the &quot;onSuccess()&quot; method the result is a list of objects. As soon as you have it, simply map each object from the list into an object of the desired type.</p>\n"}],"owner":{"account_id":23607452,"reputation":3,"user_id":17642967,"display_name":"Isuru S Ranmohotti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72573909,"answer_count":1,"score":0,"last_activity_date":1654864639,"creation_date":1654859642,"question_id":72573375,"body_markdown":"I want to take the data of the child called news to a list. Can I get the department key only when all or Management?\r\n\r\nHere is my code:\r\n\r\n    query = MainNewsDb.orderByChild(&quot;department&quot;).equalTo(&quot;Management&quot;).limitToLast((int)limit);\r\n    query.addValueEventListener(valueEventListener1);\r\n    \r\n    query1 = NewsListDb1.orderByChild(&quot;department&quot;).equalTo(&quot;all&quot;).limitToLast((int)limit);\r\n    query1.addValueEventListener(valueEventListener1);\r\n\r\nThis Is My RTDB:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lg2PE.png","title":"How to merge results of two queries in Firebase Realtime Database","body":"<p>I want to take the data of the child called news to a list. Can I get the department key only when all or Management?</p>\n<p>Here is my code:</p>\n<pre><code>query = MainNewsDb.orderByChild(&quot;department&quot;).equalTo(&quot;Management&quot;).limitToLast((int)limit);\nquery.addValueEventListener(valueEventListener1);\n\nquery1 = NewsListDb1.orderByChild(&quot;department&quot;).equalTo(&quot;all&quot;).limitToLast((int)limit);\nquery1.addValueEventListener(valueEventListener1);\n</code></pre>\n<p>This Is My RTDB:</p>\n<p><a href=\"https://i.stack.imgur.com/Lg2PE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lg2PE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","maven","properties","maven-resources-plugin"],"answers":[{"tags":[],"owner":{"account_id":12702076,"reputation":51,"user_id":9228495,"display_name":"calmlow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654864519,"creation_date":1654862417,"answer_id":72573973,"question_id":72559705,"body_markdown":"The [properties-maven-plugin][1] can do this. In *pom.xml*:\r\n\r\n\t\t\t...\r\n\t\t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;initialize&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;files&gt;\r\n    \t\t\t\t\t\t\t&lt;file&gt;src/main/resources/application.properties&lt;/file&gt;\r\n    \t\t\t\t\t\t&lt;/files&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n\t\t\t...\r\n\r\nThen the [maven-resources-plugin][2] will by default replace, for example, *src/main/resources/app.json* file if put like this:\r\n\r\n    {\r\n        &quot;url&quot;: &quot;@propA.url@&quot;\r\n    }\r\n\r\nExecuting:\r\n\r\n    mvn package &amp;&amp; less -FX target/classes/app.json\r\n\r\nWill give you (if using the application.properties you mention above):\r\n\r\n    {\r\n        &quot;url&quot;: &quot;http://localhost&quot;\r\n    }\r\n\r\n  [1]: http://www.mojohaus.org/properties-maven-plugin\r\n  [2]: https://maven.apache.org/plugins/maven-resources-plugin/","title":"SpringBoot : possible to have dynmamic values/variables from application.properties into resources","body":"<p>The <a href=\"http://www.mojohaus.org/properties-maven-plugin\" rel=\"nofollow noreferrer\">properties-maven-plugin</a> can do this. In <em>pom.xml</em>:</p>\n<pre><code>        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;initialize&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;read-project-properties&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;files&gt;\n                            &lt;file&gt;src/main/resources/application.properties&lt;/file&gt;\n                        &lt;/files&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        ...\n</code></pre>\n<p>Then the <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/\" rel=\"nofollow noreferrer\">maven-resources-plugin</a> will by default replace, for example, <em>src/main/resources/app.json</em> file if put like this:</p>\n<pre><code>{\n    &quot;url&quot;: &quot;@propA.url@&quot;\n}\n</code></pre>\n<p>Executing:</p>\n<pre><code>mvn package &amp;&amp; less -FX target/classes/app.json\n</code></pre>\n<p>Will give you (if using the application.properties you mention above):</p>\n<pre><code>{\n    &quot;url&quot;: &quot;http://localhost&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654864519,"creation_date":1654775133,"question_id":72559705,"body_markdown":"For a SpringBoot app :\r\n\r\nI have resources in `src/main/resources` : it can be JSON, XML... doesn&#39;t matter\r\n\r\nSome resources are dynamic, for example :\r\n\r\n      {\r\n         &quot;url&quot;: &quot;${propA.url}&quot;\r\n      }\r\n\r\nThis `propA.url` is defined in `application.properties` :\r\n\r\n    propA.url=http://localhost\r\n\r\nIs it possible when building the project to finally having the real value after `mvn package` :\r\n\r\n      {\r\n         &quot;url&quot;: &quot;http://localhost&quot;\r\n      }\r\n\r\nAfter compilation, it does not work. ","title":"SpringBoot : possible to have dynmamic values/variables from application.properties into resources","body":"<p>For a SpringBoot app :</p>\n<p>I have resources in <code>src/main/resources</code> : it can be JSON, XML... doesn't matter</p>\n<p>Some resources are dynamic, for example :</p>\n<pre><code>  {\n     &quot;url&quot;: &quot;${propA.url}&quot;\n  }\n</code></pre>\n<p>This <code>propA.url</code> is defined in <code>application.properties</code> :</p>\n<pre><code>propA.url=http://localhost\n</code></pre>\n<p>Is it possible when building the project to finally having the real value after <code>mvn package</code> :</p>\n<pre><code>  {\n     &quot;url&quot;: &quot;http://localhost&quot;\n  }\n</code></pre>\n<p>After compilation, it does not work.</p>\n"},{"tags":["java","http","https","apache-httpclient-4.x","apache-httpcomponents"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1654964608,"post_id":72574105,"comment_id":128219998,"body_markdown":"You have a `PlainConnectionSocketFactory ` and you register only `http` as known protocol. When you now try to open an https URL this will fail of course because you have restricted it to http only.","body":"You have a <code>PlainConnectionSocketFactory </code> and you register only <code>http</code> as known protocol. When you now try to open an https URL this will fail of course because you have restricted it to http only."},{"owner":{"account_id":10279159,"reputation":3,"user_id":10292137,"display_name":"Dibyansh Yadav"},"score":0,"creation_date":1655123149,"post_id":72574105,"comment_id":128248522,"body_markdown":"Thanks robert.. i tried changing that to https .. and now i&#39;m getting this exception.      java.net.SocketException: Connection reset\n\tat java.net.SocketInputStream.read(SocketInputStream.java:210)\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)","body":"Thanks robert.. i tried changing that to https .. and now i&#39;m getting this exception.      java.net.SocketException: Connection reset \tat java.net.SocketInputStream.read(SocketInputStream.java:210) \tat java.net.SocketInputStream.read(SocketInputStream.java:141) \tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(Se&zwnj;&#8203;ssionInputBufferImpl&zwnj;&#8203;.java:137) \tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(Se&zwnj;&#8203;ssionInputBufferImpl&zwnj;&#8203;.java:153) \tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(Sess&zwnj;&#8203;ionInputBufferImpl.j&zwnj;&#8203;ava:280)"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1655129254,"post_id":72574105,"comment_id":128251121,"body_markdown":"A PlainSocketFactory can only handle http traffic, if you want https you need an SSLSocketFactory. You should better check the official examples instead of using defect code you don&#39;t understand: https://github.com/apache/httpcomponents-client/blob/4.5.x/httpclient/src/examples/org/apache/http/examples/client/ClientConfiguration.java#L145","body":"A PlainSocketFactory can only handle http traffic, if you want https you need an SSLSocketFactory. You should better check the official examples instead of using defect code you don&#39;t understand: <a href=\"https://github.com/apache/httpcomponents-client/blob/4.5.x/httpclient/src/examples/org/apache/http/examples/client/ClientConfiguration.java#L145\" rel=\"nofollow noreferrer\">github.com/apache/httpcomponents-client/blob/4.5.x/httpclien&zwnj;&#8203;t/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25027592,"reputation":161,"user_id":18885664,"display_name":"byteunderflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654864416,"creation_date":1654864416,"answer_id":72574383,"question_id":72574105,"body_markdown":"I suspect that your request must be encrypted in order to be interpreted by the server. But HTTPS is not supported by the API, as the error shows.","title":"Getting this exception org.apache.http.conn.UnsupportedSchemeException: https protocol is not supported","body":"<p>I suspect that your request must be encrypted in order to be interpreted by the server. But HTTPS is not supported by the API, as the error shows.</p>\n"}],"owner":{"account_id":10279159,"reputation":3,"user_id":10292137,"display_name":"Dibyansh Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654864416,"creation_date":1654863101,"question_id":72574105,"body_markdown":"I am trying to make an http POST call to a url with some parameters ,headers and a json input in java\r\n\r\nBelow is the method i use for making the call and exception gets thrown at this line \r\n&#39;CloseableHttpResponse response = httpclient.execute(postRequest);&#39;\r\n\r\n\r\n\r\n\r\n        \r\n\r\n\r\n        public String postJsonWithHttpParams(String url) throws URISyntaxException, UnsupportedEncodingException, IOException {\r\n        //add the http parameters you wish to pass\r\n        List&lt;NameValuePair&gt; postParameters = new ArrayList&lt;&gt;();\r\n        postParameters.add(new BasicNameValuePair(&quot;api-version&quot;, &quot;2.0&quot;));\r\n\r\n        //Build the server URI together with the parameters you wish to pass\r\n        URIBuilder uriBuilder = new URIBuilder(url);\r\n        uriBuilder.addParameters(postParameters);\r\n\r\n        HttpPost postRequest = new HttpPost(uriBuilder.build());\r\n        postRequest.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n        //this is your JSON string you are sending as a request\r\n        String yourJsonString = getAuthTokenJsonString ();\r\n\r\n        //pass the json string request in the entity\r\n        HttpEntity entity = new ByteArrayEntity(yourJsonString.getBytes(&quot;UTF-8&quot;));\r\n        postRequest.setEntity(entity);\r\n\r\n        //create a socketfactory in order to use an http connection manager\r\n        PlainConnectionSocketFactory plainSocketFactory = PlainConnectionSocketFactory.getSocketFactory();\r\n        Registry&lt;ConnectionSocketFactory&gt; connSocketFactoryRegistry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                .register(&quot;http&quot;, plainSocketFactory)\r\n                .build();\r\n\r\n        PoolingHttpClientConnectionManager connManager = new PoolingHttpClientConnectionManager(connSocketFactoryRegistry);\r\n\r\n        connManager.setMaxTotal(20);\r\n        connManager.setDefaultMaxPerRoute(20);\r\n\r\n        \r\n        // Build the http client.\r\n        CloseableHttpClient httpclient = HttpClients.custom()\r\n                .setConnectionManager(connManager)\r\n             //   .setDefaultRequestConfig(defaultRequestConfig)\r\n                .build();\r\n\r\n        System.out.println(postRequest);\r\n        CloseableHttpResponse response = httpclient.execute(postRequest);\r\n\r\n        //Read the response\r\n        String responseString = &quot;&quot;;\r\n\r\n        int statusCode = response.getStatusLine().getStatusCode();\r\n        String message = response.getStatusLine().getReasonPhrase();\r\n\r\n        HttpEntity responseHttpEntity = response.getEntity();\r\n\r\n        InputStream content = responseHttpEntity.getContent();\r\n\r\n        BufferedReader buffer = new BufferedReader(new InputStreamReader(content));\r\n        String line;\r\n\r\n        while ((line = buffer.readLine()) != null) {\r\n            responseString += line;\r\n        }\r\n\r\n        //release all resources held by the responseHttpEntity\r\n        EntityUtils.consume(responseHttpEntity);\r\n\r\n        //close the stream\r\n        response.close();\r\n\r\n        // Close the connection manager.\r\n        connManager.close();\r\n\r\n        return responseString;\r\n    }\r\n\r\nand below is the exception i&#39;m getting \r\n\r\n\r\n\r\n        org.apache.http.conn.UnsupportedSchemeException: https protocol is not supported\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:109)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n\r\n\r\n\r\n\r\nis there a way i can make http call to https sites ? i can see the response coming back when i try in postman , so there is no need of any kind of certificates. ","title":"Getting this exception org.apache.http.conn.UnsupportedSchemeException: https protocol is not supported","body":"<p>I am trying to make an http POST call to a url with some parameters ,headers and a json input in java</p>\n<p>Below is the method i use for making the call and exception gets thrown at this line\n'CloseableHttpResponse response = httpclient.execute(postRequest);'</p>\n<pre><code>    public String postJsonWithHttpParams(String url) throws URISyntaxException, UnsupportedEncodingException, IOException {\n    //add the http parameters you wish to pass\n    List&lt;NameValuePair&gt; postParameters = new ArrayList&lt;&gt;();\n    postParameters.add(new BasicNameValuePair(&quot;api-version&quot;, &quot;2.0&quot;));\n\n    //Build the server URI together with the parameters you wish to pass\n    URIBuilder uriBuilder = new URIBuilder(url);\n    uriBuilder.addParameters(postParameters);\n\n    HttpPost postRequest = new HttpPost(uriBuilder.build());\n    postRequest.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n    //this is your JSON string you are sending as a request\n    String yourJsonString = getAuthTokenJsonString ();\n\n    //pass the json string request in the entity\n    HttpEntity entity = new ByteArrayEntity(yourJsonString.getBytes(&quot;UTF-8&quot;));\n    postRequest.setEntity(entity);\n\n    //create a socketfactory in order to use an http connection manager\n    PlainConnectionSocketFactory plainSocketFactory = PlainConnectionSocketFactory.getSocketFactory();\n    Registry&lt;ConnectionSocketFactory&gt; connSocketFactoryRegistry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n            .register(&quot;http&quot;, plainSocketFactory)\n            .build();\n\n    PoolingHttpClientConnectionManager connManager = new PoolingHttpClientConnectionManager(connSocketFactoryRegistry);\n\n    connManager.setMaxTotal(20);\n    connManager.setDefaultMaxPerRoute(20);\n\n    \n    // Build the http client.\n    CloseableHttpClient httpclient = HttpClients.custom()\n            .setConnectionManager(connManager)\n         //   .setDefaultRequestConfig(defaultRequestConfig)\n            .build();\n\n    System.out.println(postRequest);\n    CloseableHttpResponse response = httpclient.execute(postRequest);\n\n    //Read the response\n    String responseString = &quot;&quot;;\n\n    int statusCode = response.getStatusLine().getStatusCode();\n    String message = response.getStatusLine().getReasonPhrase();\n\n    HttpEntity responseHttpEntity = response.getEntity();\n\n    InputStream content = responseHttpEntity.getContent();\n\n    BufferedReader buffer = new BufferedReader(new InputStreamReader(content));\n    String line;\n\n    while ((line = buffer.readLine()) != null) {\n        responseString += line;\n    }\n\n    //release all resources held by the responseHttpEntity\n    EntityUtils.consume(responseHttpEntity);\n\n    //close the stream\n    response.close();\n\n    // Close the connection manager.\n    connManager.close();\n\n    return responseString;\n}\n</code></pre>\n<p>and below is the exception i'm getting</p>\n<pre><code>    org.apache.http.conn.UnsupportedSchemeException: https protocol is not supported\nat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:109)\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\nat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\nat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\nat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\nat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\nat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\nat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n</code></pre>\n<p>is there a way i can make http call to https sites ? i can see the response coming back when i try in postman , so there is no need of any kind of certificates.</p>\n"},{"tags":["java","spring","spring-boot","problem-spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654864240,"post_id":72571532,"comment_id":128200109,"body_markdown":"Spring Boot 3 isn&#39;t final yet and I doubt libraries like `problem-spring-webflux` or even the JWT libraries in use are ready for Spring Boot 3 and/or JakartaEE.","body":"Spring Boot 3 isn&#39;t final yet and I doubt libraries like <code>problem-spring-webflux</code> or even the JWT libraries in use are ready for Spring Boot 3 and/or JakartaEE."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654864187,"creation_date":1654864187,"answer_id":72574338,"question_id":72571532,"body_markdown":"I don&#39;t think you can make it work with the versions you have `problem-spring-webflux` relies on Spring 5.3 and spring boot 3 brings spring 6. \r\nSo you have a version mismatch and I guess it calls a method that exists in Spring 5 but not in 6","title":"problem-spring-webflux - NoSuchMethodError ResponseEntity.status","body":"<p>I don't think you can make it work with the versions you have <code>problem-spring-webflux</code> relies on Spring 5.3 and spring boot 3 brings spring 6.\nSo you have a version mismatch and I guess it calls a method that exists in Spring 5 but not in 6</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654864187,"creation_date":1654850965,"question_id":72571532,"body_markdown":"I&#39;m using `spring boot 3`, `spring-webflux` and `problem-spring-webflux`.\r\n\r\nI would like to catch `unauthorized` and `access denied` exceptions and return the relevant problem object. To do this I&#39;ve added a `SecurityExceptionHandler` and included the configuration in a `SecurityConfiguration` class.\r\n\r\n**SecurityExceptionHandler**\r\n\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.zalando.problem.spring.webflux.advice.general.ThrowableAdviceTrait;\r\n    import org.zalando.problem.spring.webflux.advice.security.SecurityAdviceTrait;\r\n\r\n    @ControllerAdvice\r\n    public class SecurityExceptionHandler implements SecurityAdviceTrait, ThrowableAdviceTrait{}\r\n\r\n**SecurityConfiguration**\r\n\r\n\t@Configuration\r\n\t@EnableWebFluxSecurity\r\n\t@EnableReactiveMethodSecurity\r\n\t@Import(SecurityProblemSupport.class)\r\n\t@RequiredArgsConstructor\r\n\tpublic class SecurityConfiguration {\r\n\r\n\t\tprivate final SecurityProblemSupport securityProblemSupport;\r\n\r\n\t\t@Bean\r\n\t\tSecurityWebFilterChain webFluxSecurityFilterChain(ServerHttpSecurity http) {\r\n\t\t\treturn http\r\n\t\t\t\t\t.exceptionHandling()\r\n\t\t\t\t\t.authenticationEntryPoint(securityProblemSupport)\r\n\t\t\t\t\t.accessDeniedHandler(securityProblemSupport)\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t...\r\n\t\t\t\t\t...\r\n\t\t\t\t\t...\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t}\r\n\r\nWhen I access the service without a token a `NoSuchMethod` exception is thrown. \r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;org.springframework.http.ResponseEntity$BodyBuilder org.springframework.http.ResponseEntity.status(org.springframework.http.HttpStatus)&#39;\r\n\tat org.zalando.problem.spring.common.AdviceTraits.fallback(AdviceTraits.java:44) ~[problem-spring-common-0.27.0.jar:na]\r\n\tat org.zalando.problem.spring.webflux.advice.AdviceTrait.fallback(AdviceTrait.java:150) ~[problem-spring-webflux-0.27.0.jar:na]\r\n\tat org.zalando.problem.spring.webflux.advice.AdviceTrait.create(AdviceTrait.java:128) ~[problem-spring-webflux-0.27.0.jar:na]\r\n\tat org.zalando.problem.spring.webflux.advice.AdviceTrait.create(AdviceTrait.java:81) ~[problem-spring-webflux-0.27.0.jar:na]\r\n\tat org.zalando.problem.spring.webflux.advice.AdviceTrait.create(AdviceTrait.java:76) ~[problem-spring-webflux-0.27.0.jar:na]\r\n\tat org.zalando.problem.spring.webflux.advice.security.AuthenticationAdviceTrait.handleAuthentication(AuthenticationAdviceTrait.java:27) ~[problem-spring-webflux-0.27.0.jar:na]\r\n\tat org.zalando.problem.spring.webflux.advice.security.SecurityProblemSupport.commence(SecurityProblemSupport.java:32) ~[problem-spring-webflux-0.27.0.jar:na]\r\n\tat org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter.commenceAuthentication(ExceptionTranslationWebFilter.java:95) ~[spring-security-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter.lambda$filter$2(ExceptionTranslationWebFilter.java:55) ~[spring-security-web-6.0.0-M5.jar:6.0.0-M5]\r\n\tat reactor.core.publisher.Mono.lambda$onErrorResume$29(Mono.java:3731) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2063) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2063) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4324) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:107) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:83) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.request(Operators.java:1906) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2158) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:77) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onSubscribe(FluxDefaultIfEmpty.java:91) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4324) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4324) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2400) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4324) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:277) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:294) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:109) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:269) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:337) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onNext(MonoCacheTime.java:354) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.publisher.MonoPublishOn$PublishOnSubscriber.run(MonoPublishOn.java:181) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n**gradle.build**\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.0-SNAPSHOT&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;war&#39;\r\n}\r\n\r\ngroup = &#39;com.example.app&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven { url &#39;https://repo.spring.io/milestone&#39; }\r\n\tmaven { url &#39;https://repo.spring.io/snapshot&#39; }\r\n}\r\n\r\n\r\nconfigurations {\r\n\tintegrationTestImplementation.extendsFrom testImplementation\r\n\tintegrationTestRuntimeOnly.extendsFrom testRuntimeOnly\r\n}\r\n\r\ndependencies {\r\n\tannotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;\r\n\tannotationProcessor group: &#39;org.springframework.boot&#39;, name : &#39;spring-boot-configuration-processor&#39;\r\n\timplementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk-route53&#39;, version: &#39;1.12.212&#39;\r\n\timplementation group: &#39;com.auth0&#39;, name: &#39;java-jwt&#39;, version: &#39;3.15.0&#39;\r\n\timplementation group: &#39;net.jodah&#39;, name: &#39;failsafe&#39;, version: &#39;2.4.4&#39;\r\n\timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;\r\n\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.17.2&#39;\r\n\timplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.17.2&#39;\r\n\timplementation group: &#39;org.jetbrains&#39;, name: &#39;annotations&#39;, version: &#39;23.0.0&#39;\r\n\timplementation group: &#39;org.liquibase&#39;, name: &#39;liquibase-core&#39;, version: &#39;4.10.0&#39;\r\n\timplementation group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;\r\n\timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jdbc&#39;\r\n\timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-r2dbc&#39;\r\n\timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;\r\n\timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-webflux&#39;\r\n\timplementation group: &#39;org.yaml&#39;, name: &#39;snakeyaml&#39;, version: &#39;1.30&#39;\r\n\timplementation group: &#39;org.zalando&#39;, name: &#39;problem-spring-webflux&#39;, version: &#39;0.27.0&#39;\r\n\truntimeOnly group: &#39;com.h2database&#39;, name: &#39;h2&#39;\r\n\truntimeOnly group: &#39;io.r2dbc&#39;, name: &#39;r2dbc-h2&#39;\r\n\truntimeOnly group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;\r\n\truntimeOnly group: &#39;org.postgresql&#39;, name: &#39;r2dbc-postgresql&#39;\r\n\ttestAnnotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;\r\n\ttestImplementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n\ttestImplementation group: &#39;io.projectreactor&#39;, name: &#39;reactor-test&#39;\r\n\ttestImplementation group: &#39;jakarta.xml.bind&#39;, name: &#39;jakarta.xml.bind-api&#39;, version: &#39;2.3.2&#39;\r\n\ttestImplementation group: &#39;org.glassfish.jaxb&#39;, name: &#39;jaxb-runtime&#39;, version: &#39;2.3.2&#39;\r\n\ttestImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;\r\n\ttestImplementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nI&#39;m assuming this is dependency related but I have access to these classes/methods which leads me to believe it could be compatibility with `spring boot 3`.\r\n\r\nWhat is causing this? ","title":"problem-spring-webflux - NoSuchMethodError ResponseEntity.status","body":"<p>I'm using <code>spring boot 3</code>, <code>spring-webflux</code> and <code>problem-spring-webflux</code>.</p>\n<p>I would like to catch <code>unauthorized</code> and <code>access denied</code> exceptions and return the relevant problem object. To do this I've added a <code>SecurityExceptionHandler</code> and included the configuration in a <code>SecurityConfiguration</code> class.</p>\n<p><strong>SecurityExceptionHandler</strong></p>\n<pre><code>import org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.zalando.problem.spring.webflux.advice.general.ThrowableAdviceTrait;\nimport org.zalando.problem.spring.webflux.advice.security.SecurityAdviceTrait;\n\n@ControllerAdvice\npublic class SecurityExceptionHandler implements SecurityAdviceTrait, ThrowableAdviceTrait{}\n</code></pre>\n<p><strong>SecurityConfiguration</strong></p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\n@Import(SecurityProblemSupport.class)\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private final SecurityProblemSupport securityProblemSupport;\n\n    @Bean\n    SecurityWebFilterChain webFluxSecurityFilterChain(ServerHttpSecurity http) {\n        return http\n                .exceptionHandling()\n                .authenticationEntryPoint(securityProblemSupport)\n                .accessDeniedHandler(securityProblemSupport)\n                .and()\n                ...\n                ...\n                ...\n                .build();\n    }\n}\n</code></pre>\n<p>When I access the service without a token a <code>NoSuchMethod</code> exception is thrown.</p>\n<pre><code>java.lang.NoSuchMethodError: 'org.springframework.http.ResponseEntity$BodyBuilder org.springframework.http.ResponseEntity.status(org.springframework.http.HttpStatus)'\n    at org.zalando.problem.spring.common.AdviceTraits.fallback(AdviceTraits.java:44) ~[problem-spring-common-0.27.0.jar:na]\n    at org.zalando.problem.spring.webflux.advice.AdviceTrait.fallback(AdviceTrait.java:150) ~[problem-spring-webflux-0.27.0.jar:na]\n    at org.zalando.problem.spring.webflux.advice.AdviceTrait.create(AdviceTrait.java:128) ~[problem-spring-webflux-0.27.0.jar:na]\n    at org.zalando.problem.spring.webflux.advice.AdviceTrait.create(AdviceTrait.java:81) ~[problem-spring-webflux-0.27.0.jar:na]\n    at org.zalando.problem.spring.webflux.advice.AdviceTrait.create(AdviceTrait.java:76) ~[problem-spring-webflux-0.27.0.jar:na]\n    at org.zalando.problem.spring.webflux.advice.security.AuthenticationAdviceTrait.handleAuthentication(AuthenticationAdviceTrait.java:27) ~[problem-spring-webflux-0.27.0.jar:na]\n    at org.zalando.problem.spring.webflux.advice.security.SecurityProblemSupport.commence(SecurityProblemSupport.java:32) ~[problem-spring-webflux-0.27.0.jar:na]\n    at org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter.commenceAuthentication(ExceptionTranslationWebFilter.java:95) ~[spring-security-web-6.0.0-M5.jar:6.0.0-M5]\n    at org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter.lambda$filter$2(ExceptionTranslationWebFilter.java:55) ~[spring-security-web-6.0.0-M5.jar:6.0.0-M5]\n    at reactor.core.publisher.Mono.lambda$onErrorResume$29(Mono.java:3731) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2063) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2063) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4324) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:107) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:83) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MonoSubscriber.request(Operators.java:1906) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2158) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.request(FluxDefaultIfEmpty.java:77) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.request(FluxFilter.java:186) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.onSubscribe(FluxFilter.java:85) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onSubscribe(FluxDefaultIfEmpty.java:91) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4324) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4324) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onComplete(FluxPeekFuseable.java:940) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2400) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4324) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:277) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:294) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.request(FluxPeekFuseable.java:144) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onSubscribe(FluxPeekFuseable.java:178) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:109) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.onComplete(FluxFilter.java:166) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:269) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:337) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onNext(MonoCacheTime.java:354) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.publisher.MonoPublishOn$PublishOnSubscriber.run(MonoPublishOn.java:181) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28) ~[reactor-core-3.5.0-M2.jar:3.5.0-M2]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p><strong>gradle.build</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '3.0.0-SNAPSHOT'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'war'\n}\n\ngroup = 'com.example.app'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://repo.spring.io/milestone' }\n    maven { url 'https://repo.spring.io/snapshot' }\n}\n\n\nconfigurations {\n    integrationTestImplementation.extendsFrom testImplementation\n    integrationTestRuntimeOnly.extendsFrom testRuntimeOnly\n}\n\ndependencies {\n    annotationProcessor group: 'org.projectlombok', name: 'lombok'\n    annotationProcessor group: 'org.springframework.boot', name : 'spring-boot-configuration-processor'\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk-route53', version: '1.12.212'\n    implementation group: 'com.auth0', name: 'java-jwt', version: '3.15.0'\n    implementation group: 'net.jodah', name: 'failsafe', version: '2.4.4'\n    implementation group: 'org.apache.commons', name: 'commons-lang3'\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.17.2'\n    implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.17.2'\n    implementation group: 'org.jetbrains', name: 'annotations', version: '23.0.0'\n    implementation group: 'org.liquibase', name: 'liquibase-core', version: '4.10.0'\n    implementation group: 'org.projectlombok', name: 'lombok'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jdbc'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-r2dbc'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-security'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-webflux'\n    implementation group: 'org.yaml', name: 'snakeyaml', version: '1.30'\n    implementation group: 'org.zalando', name: 'problem-spring-webflux', version: '0.27.0'\n    runtimeOnly group: 'com.h2database', name: 'h2'\n    runtimeOnly group: 'io.r2dbc', name: 'r2dbc-h2'\n    runtimeOnly group: 'org.postgresql', name: 'postgresql'\n    runtimeOnly group: 'org.postgresql', name: 'r2dbc-postgresql'\n    testAnnotationProcessor group: 'org.projectlombok', name: 'lombok'\n    testImplementation group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n    testImplementation group: 'io.projectreactor', name: 'reactor-test'\n    testImplementation group: 'jakarta.xml.bind', name: 'jakarta.xml.bind-api', version: '2.3.2'\n    testImplementation group: 'org.glassfish.jaxb', name: 'jaxb-runtime', version: '2.3.2'\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test'\n    testImplementation group: 'org.springframework.security', name: 'spring-security-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I'm assuming this is dependency related but I have access to these classes/methods which leads me to believe it could be compatibility with <code>spring boot 3</code>.</p>\n<p>What is causing this?</p>\n"},{"tags":["java","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1654813701,"post_id":72567059,"comment_id":128188289,"body_markdown":"I see that the `alignment` property offers a variety of `Pos` values.","body":"I see that the <code>alignment</code> property offers a variety of <code>Pos</code> values."},{"owner":{"account_id":22252861,"reputation":1,"user_id":16485466,"display_name":"taco22"},"score":0,"creation_date":1654814445,"post_id":72567059,"comment_id":128188429,"body_markdown":"@trashgod changing that worked, thanks. Is there any way to freely move the children?","body":"@trashgod changing that worked, thanks. Is there any way to freely move the children?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1654819655,"post_id":72567059,"comment_id":128189237,"body_markdown":"I&#39;m not sure what you mean by &quot;freely move the children&quot;.  HBox is an opinionated layout pane.  You can configure constraints or layout hints on the nodes in the pane to control their layout, but it is not for arbitrarily placing items.  If you want to arbitrarily place items, then don&#39;t use a HBox, use a layout type that allows that (e.g. a Group, Pane or AnchorPane).  But then you lose the auto-layout functionality for sizing and placement that is provided by layout management panes like HBox.","body":"I&#39;m not sure what you mean by &quot;freely move the children&quot;.  HBox is an opinionated layout pane.  You can configure constraints or layout hints on the nodes in the pane to control their layout, but it is not for arbitrarily placing items.  If you want to arbitrarily place items, then don&#39;t use a HBox, use a layout type that allows that (e.g. a Group, Pane or AnchorPane).  But then you lose the auto-layout functionality for sizing and placement that is provided by layout management panes like HBox."},{"owner":{"account_id":22252861,"reputation":1,"user_id":16485466,"display_name":"taco22"},"score":0,"creation_date":1654822356,"post_id":72567059,"comment_id":128189641,"body_markdown":"@jewelsea Okay that makes sense. I guess I will change the layout type. Thank you!","body":"@jewelsea Okay that makes sense. I guess I will change the layout type. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654863956,"creation_date":1654816031,"answer_id":72567521,"question_id":72567059,"body_markdown":"&gt; Is there any way to freely move the children?\r\n\r\nThe [`HBox`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/HBox.html) API outlines the available constraints. In particular, &quot;The alignment of the content is controlled by the `alignment` property, which defaults to `Pos.TOP_LEFT`.&quot; You can specify the desired [`Pos`][1] value. You may also want to experiment with the settings that control _Resizable Range_ and _Optional Layout Constraints_.\r\n\r\nAs a concrete example, [`LayoutSample.java`][2], illustrated [here][3], specifies a grow constraint that allows `helpIcon` to stay on the right as the stage is resized:\r\n\r\n    HBox.setHgrow(stack, Priority.ALWAYS);\r\n\r\nMore examples are seen [here][4].\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/geometry/Pos.html\r\n  [2]: https://docs.oracle.com/javase/8/javafx/layout-tutorial/layoutsamplejava.htm#JFXLY220\r\n  [3]: https://docs.oracle.com/javase/8/javafx/layout-tutorial/builtin_layouts.htm#JFXLY131\r\n  [4]: https://stackoverflow.com/search?q=%5Bjavafx%5D%20setHgrow","title":"Children of HBox are restricted to top left of HBox","body":"<blockquote>\n<p>Is there any way to freely move the children?</p>\n</blockquote>\n<p>The <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/HBox.html\" rel=\"nofollow noreferrer\"><code>HBox</code></a> API outlines the available constraints. In particular, &quot;The alignment of the content is controlled by the <code>alignment</code> property, which defaults to <code>Pos.TOP_LEFT</code>.&quot; You can specify the desired <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/geometry/Pos.html\" rel=\"nofollow noreferrer\"><code>Pos</code></a> value. You may also want to experiment with the settings that control <em>Resizable Range</em> and <em>Optional Layout Constraints</em>.</p>\n<p>As a concrete example, <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/layoutsamplejava.htm#JFXLY220\" rel=\"nofollow noreferrer\"><code>LayoutSample.java</code></a>, illustrated <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/builtin_layouts.htm#JFXLY131\" rel=\"nofollow noreferrer\">here</a>, specifies a grow constraint that allows <code>helpIcon</code> to stay on the right as the stage is resized:</p>\n<pre><code>HBox.setHgrow(stack, Priority.ALWAYS);\n</code></pre>\n<p>More examples are seen <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D%20setHgrow\">here</a>.</p>\n"}],"owner":{"account_id":22252861,"reputation":1,"user_id":16485466,"display_name":"taco22"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654863956,"creation_date":1654811654,"question_id":72567059,"body_markdown":"I&#39;m trying to create a grid/tile like page using HBoxes and display text inside of the HBoxes, but the children(Label and Button) are restricted to the top leftof the HBox. I&#39;ve been using scenebuilder, but even when I set the Layout X and Y the children stay in the same positions. All of the HBoxes have this problem.\r\n\r\n**FXML Example**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;?import javafx.scene.control.TabPane?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;VBox prefHeight=&quot;800.0&quot; prefWidth=&quot;1200.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.improved.HelloController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;HBox fx:id=&quot;hBox&quot; prefHeight=&quot;100.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;TabPane prefHeight=&quot;100.0&quot; prefWidth=&quot;${hBox.width}&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\r\n              &lt;tabs&gt;\r\n                &lt;Tab text=&quot;Home&quot;&gt;\r\n                  &lt;content&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot;&gt;\r\n                           &lt;children&gt;\r\n                              &lt;HBox fx:id=&quot;lastRaceHBox&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot;&gt;\r\n                                 &lt;children&gt;\r\n                                    &lt;VBox&gt;\r\n                                       &lt;children&gt;\r\n                                          &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onHelloButtonClick&quot; text=&quot;Hello!&quot; /&gt;\r\n                                          &lt;Label fx:id=&quot;welcomeText&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;68.0&quot; /&gt;\r\n                                       &lt;/children&gt;\r\n                                    &lt;/VBox&gt;\r\n                                 &lt;/children&gt;&lt;/HBox&gt;\r\n                              &lt;HBox fx:id=&quot;nextRaceHBox&quot; layoutX=&quot;400.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\r\n                              &lt;HBox fx:id=&quot;upcomingDatesHBox&quot; layoutX=&quot;800.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\r\n                              &lt;HBox fx:id=&quot;rankingsHBox&quot; layoutY=&quot;386.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\r\n                              &lt;HBox fx:id=&quot;goalsHBox&quot; layoutX=&quot;400.0&quot; layoutY=&quot;386.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\r\n                              &lt;HBox fx:id=&quot;playerInfoHBox&quot; layoutX=&quot;800.0&quot; layoutY=&quot;386.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\r\n                           &lt;/children&gt;\r\n                        &lt;/AnchorPane&gt;\r\n                  &lt;/content&gt;\r\n                &lt;/Tab&gt;\r\n                &lt;Tab text=&quot;Dates&quot;&gt;\r\n                  &lt;content&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n                  &lt;/content&gt;\r\n                &lt;/Tab&gt;\r\n                  &lt;Tab text=&quot;Race&quot;&gt;\r\n                    &lt;content&gt;\r\n                      &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n                    &lt;/content&gt;\r\n                  &lt;/Tab&gt;\r\n                  &lt;Tab text=&quot;Player Info&quot;&gt;\r\n                    &lt;content&gt;\r\n                      &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n                    &lt;/content&gt;\r\n                  &lt;/Tab&gt;\r\n                  &lt;Tab text=&quot;Player Search&quot;&gt;\r\n                    &lt;content&gt;\r\n                      &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n                    &lt;/content&gt;\r\n                  &lt;/Tab&gt;\r\n              &lt;/tabs&gt;\r\n            &lt;/TabPane&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n**Controller Class**\r\n```\r\npackage com.example.improved;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\n\r\npublic class HelloController {\r\n    @FXML\r\n    private Label welcomeText;\r\n\r\n    @FXML\r\n    protected void onHelloButtonClick() {\r\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**Main Application Class**\r\n```\r\npackage com.example.improved;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;MainMenu.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 1280, 960);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n","title":"Children of HBox are restricted to top left of HBox","body":"<p>I'm trying to create a grid/tile like page using HBoxes and display text inside of the HBoxes, but the children(Label and Button) are restricted to the top leftof the HBox. I've been using scenebuilder, but even when I set the Layout X and Y the children stay in the same positions. All of the HBoxes have this problem.</p>\n<p><strong>FXML Example</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;?import javafx.scene.control.TabPane?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox prefHeight=&quot;800.0&quot; prefWidth=&quot;1200.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.improved.HelloController&quot;&gt;\n   &lt;children&gt;\n      &lt;HBox fx:id=&quot;hBox&quot; prefHeight=&quot;100.0&quot;&gt;\n         &lt;children&gt;\n            &lt;TabPane prefHeight=&quot;100.0&quot; prefWidth=&quot;${hBox.width}&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\n              &lt;tabs&gt;\n                &lt;Tab text=&quot;Home&quot;&gt;\n                  &lt;content&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot;&gt;\n                           &lt;children&gt;\n                              &lt;HBox fx:id=&quot;lastRaceHBox&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot;&gt;\n                                 &lt;children&gt;\n                                    &lt;VBox&gt;\n                                       &lt;children&gt;\n                                          &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onHelloButtonClick&quot; text=&quot;Hello!&quot; /&gt;\n                                          &lt;Label fx:id=&quot;welcomeText&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;68.0&quot; /&gt;\n                                       &lt;/children&gt;\n                                    &lt;/VBox&gt;\n                                 &lt;/children&gt;&lt;/HBox&gt;\n                              &lt;HBox fx:id=&quot;nextRaceHBox&quot; layoutX=&quot;400.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\n                              &lt;HBox fx:id=&quot;upcomingDatesHBox&quot; layoutX=&quot;800.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\n                              &lt;HBox fx:id=&quot;rankingsHBox&quot; layoutY=&quot;386.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\n                              &lt;HBox fx:id=&quot;goalsHBox&quot; layoutX=&quot;400.0&quot; layoutY=&quot;386.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\n                              &lt;HBox fx:id=&quot;playerInfoHBox&quot; layoutX=&quot;800.0&quot; layoutY=&quot;386.0&quot; prefHeight=&quot;386.0&quot; prefWidth=&quot;400.0&quot; /&gt;\n                           &lt;/children&gt;\n                        &lt;/AnchorPane&gt;\n                  &lt;/content&gt;\n                &lt;/Tab&gt;\n                &lt;Tab text=&quot;Dates&quot;&gt;\n                  &lt;content&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                  &lt;/content&gt;\n                &lt;/Tab&gt;\n                  &lt;Tab text=&quot;Race&quot;&gt;\n                    &lt;content&gt;\n                      &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                    &lt;/content&gt;\n                  &lt;/Tab&gt;\n                  &lt;Tab text=&quot;Player Info&quot;&gt;\n                    &lt;content&gt;\n                      &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                    &lt;/content&gt;\n                  &lt;/Tab&gt;\n                  &lt;Tab text=&quot;Player Search&quot;&gt;\n                    &lt;content&gt;\n                      &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                    &lt;/content&gt;\n                  &lt;/Tab&gt;\n              &lt;/tabs&gt;\n            &lt;/TabPane&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>Controller Class</strong></p>\n<pre><code>package com.example.improved;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class HelloController {\n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    protected void onHelloButtonClick() {\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\n    }\n}\n</code></pre>\n<p><strong>Main Application Class</strong></p>\n<pre><code>package com.example.improved;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;MainMenu.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 1280, 960);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"display_name":"user2831079"},"score":0,"creation_date":1380542062,"post_id":19032653,"comment_id":28312343,"body_markdown":"JPanel is a contrainer which can also be added as a component in Applet or Frame.","body":"JPanel is a contrainer which can also be added as a component in Applet or Frame."}],"answers":[{"tags":[],"owner":{"account_id":1572857,"reputation":665,"user_id":5766219,"accept_rate":50,"display_name":"santu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1380210307,"creation_date":1380210307,"answer_id":19032789,"question_id":19032653,"body_markdown":"see if you need to use a Window based app, you can do as:\r\n\r\n    JPanel customPanel = new RequirementEngineering();\r\n    JFrame frame = new JFrame(&quot;my window&quot;);\r\n    frame.getContentPane().add(customPanel );\r\n    frame.setSize(300,200);\r\n    frame.setVisible(true);\r\n\r\nIf you need in Applet, \r\n\r\n    public class JAppletExample extends JApplet {\r\n      public void init() {\r\n        Container content = getContentPane();\r\n        JPanel customPanel = new RequirementEngineering();\r\n        content.add(customPanel );\r\n      }\r\n\r\nAnd you can run it using appletViewer or in any Web Browser such as IE.\r\n\r\n","title":"Java JPanel Drawing rectangle drawRect(); what to do next, or which component of Java will suit better?","body":"<p>see if you need to use a Window based app, you can do as:</p>\n\n<pre><code>JPanel customPanel = new RequirementEngineering();\nJFrame frame = new JFrame(\"my window\");\nframe.getContentPane().add(customPanel );\nframe.setSize(300,200);\nframe.setVisible(true);\n</code></pre>\n\n<p>If you need in Applet, </p>\n\n<pre><code>public class JAppletExample extends JApplet {\n  public void init() {\n    Container content = getContentPane();\n    JPanel customPanel = new RequirementEngineering();\n    content.add(customPanel );\n  }\n</code></pre>\n\n<p>And you can run it using appletViewer or in any Web Browser such as IE.</p>\n"}],"owner":{"account_id":3357555,"reputation":791,"user_id":2820150,"accept_rate":100,"display_name":"novice in DotNet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19032789,"answer_count":1,"score":0,"last_activity_date":1654863801,"creation_date":1380210007,"question_id":19032653,"body_markdown":"I have drawn a rectangle using a JPanel\r\nMy main objective is to store my Requirement Engineering chapter into a JPanel or a JFrame\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    class RequirementEngineering extends JPanel\r\n    {\r\n    \tpublic void paintComponent(Graphics g)\r\n    \t{\r\n    \t\tsuper.paintComponent();\r\n    \t\tg.drawRect(10,10,60,60);\r\n                g2.drawString(&quot;Feasibility study&quot;, 20, 20); //rectangle is my main objective, I will look after the string later\r\n    \t\t\r\n    \t}\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nhow do I display the JPanel? I know, JApplet doesn&#39;t require a main method, but how do we represent JPanel in main() method? \r\nI have this doubt for long, and other posts are confusing me further, Could I have a direct question\r\nMy main question being &quot;How to add JFrame to JPanel&quot; pertaining my current coding\r\nthanks in advance","title":"Java JPanel Drawing rectangle drawRect(); what to do next, or which component of Java will suit better?","body":"<p>I have drawn a rectangle using a JPanel\nMy main objective is to store my Requirement Engineering chapter into a JPanel or a JFrame</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nclass RequirementEngineering extends JPanel\n{\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent();\n        g.drawRect(10,10,60,60);\n            g2.drawString(&quot;Feasibility study&quot;, 20, 20); //rectangle is my main objective, I will look after the string later\n        \n    }\n    public static void main(String[] args)\n    {\n        \n    }\n}\n</code></pre>\n<p>how do I display the JPanel? I know, JApplet doesn't require a main method, but how do we represent JPanel in main() method?\nI have this doubt for long, and other posts are confusing me further, Could I have a direct question\nMy main question being &quot;How to add JFrame to JPanel&quot; pertaining my current coding\nthanks in advance</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5087990,"reputation":518,"user_id":4081901,"display_name":"Amit Tamrakar"},"score":0,"creation_date":1440527622,"post_id":32211481,"comment_id":52306840,"body_markdown":"check the DB server status. Is it working.","body":"check the DB server status. Is it working."},{"owner":{"account_id":3534379,"reputation":305,"user_id":2953062,"accept_rate":90,"display_name":"chabeee"},"score":0,"creation_date":1465469281,"post_id":32211481,"comment_id":62918927,"body_markdown":"Do you use JPA.em(&quot;default&quot;) ?","body":"Do you use JPA.em(&quot;default&quot;) ?"}],"answers":[{"tags":[],"owner":{"account_id":5087990,"reputation":518,"user_id":4081901,"display_name":"Amit Tamrakar"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1440528070,"creation_date":1440528070,"answer_id":32211658,"question_id":32211481,"body_markdown":"There is CommunicationsException: Communications link failure.\r\n\r\nIf you get a SQLException: Connection refused or Connection timed out or a MySQL specific\r\n\r\n    CommunicationsException: Communications link failure\r\nthen it means that the DB isn&#39;t reachable at all. This can have one or more of the following causes:\r\n\r\n - IP address or hostname in JDBC URL is wrong.\r\n - Hostname in JDBC URL is not recognized by local DNS server.\r\n - Port number is missing or wrong in JDBC URL.\r\n - DB server is down.\r\n - DB server doesn&#39;t accept TCP/IP connections.\r\n - DB server has run out of connections.\r\n - Something in between Java and DB is blocking connections, e.g. a firewall or proxy. \r\n\r\nTo solve the one or the other, follow the following advices:\r\n\r\n  - Verify and test them with ping.\r\n  - Refresh DNS or use IP address in JDBC URL instead.\r\n  - Verify it based on my.cnf of MySQL DB.\r\n  - Start the DB.\r\n  - Verify if mysqld is started without the --skip-networking option.\r\n  - Restart the DB and fix your code accordingly that it closes connections in finally.\r\n  - Disable firewall and/or configure firewall/proxy to allow/forward the port. \r\n\r\nSource: [More Details][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2839321/connect-java-to-a-mysql-database/2840358#2840358","title":"Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException","body":"<p>There is CommunicationsException: Communications link failure.</p>\n\n<p>If you get a SQLException: Connection refused or Connection timed out or a MySQL specific</p>\n\n<pre><code>CommunicationsException: Communications link failure\n</code></pre>\n\n<p>then it means that the DB isn't reachable at all. This can have one or more of the following causes:</p>\n\n<ul>\n<li>IP address or hostname in JDBC URL is wrong.</li>\n<li>Hostname in JDBC URL is not recognized by local DNS server.</li>\n<li>Port number is missing or wrong in JDBC URL.</li>\n<li>DB server is down.</li>\n<li>DB server doesn't accept TCP/IP connections.</li>\n<li>DB server has run out of connections.</li>\n<li>Something in between Java and DB is blocking connections, e.g. a firewall or proxy. </li>\n</ul>\n\n<p>To solve the one or the other, follow the following advices:</p>\n\n<ul>\n<li>Verify and test them with ping.</li>\n<li>Refresh DNS or use IP address in JDBC URL instead.</li>\n<li>Verify it based on my.cnf of MySQL DB.</li>\n<li>Start the DB.</li>\n<li>Verify if mysqld is started without the --skip-networking option.</li>\n<li>Restart the DB and fix your code accordingly that it closes connections in finally.</li>\n<li>Disable firewall and/or configure firewall/proxy to allow/forward the port. </li>\n</ul>\n\n<p>Source: <a href=\"https://stackoverflow.com/questions/2839321/connect-java-to-a-mysql-database/2840358#2840358\">More Details</a></p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1440528459,"creation_date":1440528459,"answer_id":32211771,"question_id":32211481,"body_markdown":"DB is down.\r\nYou must start the DB server and check connectivity with either telnet or mysql command line client first.","title":"Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException","body":"<p>DB is down.\nYou must start the DB server and check connectivity with either telnet or mysql command line client first.</p>\n"},{"tags":[],"owner":{"account_id":3245228,"reputation":1254,"user_id":2737008,"accept_rate":60,"display_name":"rbansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514890799,"creation_date":1514890799,"answer_id":48059741,"question_id":32211481,"body_markdown":"I was not unable to figure out the exact cause, but I realized that it was because of some thread pools since I was able to connect to the db using the terminal.\r\nfor checking the connectivity you can use the below command. \r\n\r\n    psql -h hostname -U username -d database\r\n\r\nso restarting the server worked for me.","title":"Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException","body":"<p>I was not unable to figure out the exact cause, but I realized that it was because of some thread pools since I was able to connect to the db using the terminal.\nfor checking the connectivity you can use the below command. </p>\n\n<pre><code>psql -h hostname -U username -d database\n</code></pre>\n\n<p>so restarting the server worked for me.</p>\n"},{"tags":[],"owner":{"account_id":18252224,"reputation":41,"user_id":13286987,"display_name":"Dinexpod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654862754,"creation_date":1654861200,"answer_id":72573684,"question_id":32211481,"body_markdown":"I see that @Amit Tamrakar have good answer but I want to add:\r\n\r\n- if you make a lot of requests to db, (I mean connections), may be that application (some app thread) just wait for use free connection from app db connection pool, but throws timeout exception.\r\n\r\n```\r\n.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30005ms.\r\n\r\nCould not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n```\r\n\r\nYou can try to increase db connection pool in application config file, for example:\r\n\r\n```\r\nspring.datasource.hikari.maximum-pool-size=20\r\n```\r\n\r\nYou can set size which you need. This config in app by `default` is `8`.\r\nAnd we need remember that each db have own free db connection size which we don&#39;t need exceed. \r\nI mean if db have 5 free connection and you want to use 10 connections in your app then we will receive so exceptions.","title":"Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException","body":"<p>I see that @Amit Tamrakar have good answer but I want to add:</p>\n<ul>\n<li>if you make a lot of requests to db, (I mean connections), may be that application (some app thread) just wait for use free connection from app db connection pool, but throws timeout exception.</li>\n</ul>\n<pre><code>.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30005ms.\n\nCould not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n</code></pre>\n<p>You can try to increase db connection pool in application config file, for example:</p>\n<pre><code>spring.datasource.hikari.maximum-pool-size=20\n</code></pre>\n<p>You can set size which you need. This config in app by <code>default</code> is <code>8</code>.\nAnd we need remember that each db have own free db connection size which we don't need exceed.\nI mean if db have 5 free connection and you want to use 10 connections in your app then we will receive so exceptions.</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135533,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1654862754,"creation_date":1440527435,"question_id":32211481,"body_markdown":"when i run my code, i get this exception:\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1121)\r\n    \tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:357)\r\n    \tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2482)\r\n    \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2519)\r\n    \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2304)\r\n    \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:834)\r\n    \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:416)\r\n    \tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:346)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:155)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:120)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:139)\r\n    \tat org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)\r\n    \tat org.hibernate.tool.hbm2ddl.DatabaseExporter.&lt;init&gt;(DatabaseExporter.java:52)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:367)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaExport.create(SchemaExport.java:304)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaExport.create(SchemaExport.java:293)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:517)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1857)\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    Aug 25, 2015 8:23:45 PM com.sun.jersey.spi.container.ContainerResponse mapMappableContainerException\r\n    SCHWERWIEGEND: The RuntimeException could not be mapped to a response, re-throwing to the HTTP container\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:431)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:457)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:276)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tat com.sun.proxy.$Proxy76.create(Unknown Source)\r\n\r\nI don&#39;t know where is the problem. But yesterday i worked fine.\r\n\r\nmy database.properties:\r\n\r\n    jdbc.driverClassName=com.mysql.jdbc.Driver\r\n    jdbc.url=jdbc:mysql://localhost:3306/streaming\r\n    jdbc.username=root\r\n    jdbc.password=password\r\n    \r\n    hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    hibernate.showsql=true\r\n    hibernate.hbm2ddl.auto=create\r\n\r\nIt is possible for me to run mysql directly from command line. Where is the problem? Was is wrong. \r\nI use spring 4 and hibernate with mysql as database language.\r\n\r\nHas someone any ideas?\r\n\r\nThank.","title":"Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException","body":"<p>when i run my code, i get this exception:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1121)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:357)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2482)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2519)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2304)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:834)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:416)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:346)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:208)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:153)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:144)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:155)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:120)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:139)\n    at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)\n    at org.hibernate.tool.hbm2ddl.DatabaseExporter.&lt;init&gt;(DatabaseExporter.java:52)\n    at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:367)\n    at org.hibernate.tool.hbm2ddl.SchemaExport.create(SchemaExport.java:304)\n    at org.hibernate.tool.hbm2ddl.SchemaExport.create(SchemaExport.java:293)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:517)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1857)\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nAug 25, 2015 8:23:45 PM com.sun.jersey.spi.container.ContainerResponse mapMappableContainerException\nSCHWERWIEGEND: The RuntimeException could not be mapped to a response, re-throwing to the HTTP container\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:431)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:457)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:276)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at com.sun.proxy.$Proxy76.create(Unknown Source)\n</code></pre>\n\n<p>I don't know where is the problem. But yesterday i worked fine.</p>\n\n<p>my database.properties:</p>\n\n<pre><code>jdbc.driverClassName=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/streaming\njdbc.username=root\njdbc.password=password\n\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\nhibernate.showsql=true\nhibernate.hbm2ddl.auto=create\n</code></pre>\n\n<p>It is possible for me to run mysql directly from command line. Where is the problem? Was is wrong. \nI use spring 4 and hibernate with mysql as database language.</p>\n\n<p>Has someone any ideas?</p>\n\n<p>Thank.</p>\n"},{"tags":["java","spring-boot","entity","dto","mapstruct"],"comments":[{"owner":{"account_id":3906058,"reputation":1357,"user_id":3232746,"accept_rate":100,"display_name":"Normal"},"score":0,"creation_date":1497012772,"post_id":44458089,"comment_id":75912918,"body_markdown":"did you try exactly the same action as spring boot error said to you? I mean define UserAndEmployeeMapper spring bean. It seems that Mapper annotation does not work as bean definition","body":"did you try exactly the same action as spring boot error said to you? I mean define UserAndEmployeeMapper spring bean. It seems that Mapper annotation does not work as bean definition"},{"owner":{"account_id":252813,"reputation":2146,"user_id":531111,"accept_rate":55,"display_name":"Ankit"},"score":0,"creation_date":1497013686,"post_id":44458089,"comment_id":75913499,"body_markdown":"@Normal: Declaring Component on top of UserAndEmployeeMapper abstract class gives the same error output.","body":"@Normal: Declaring Component on top of UserAndEmployeeMapper abstract class gives the same error output."},{"owner":{"account_id":3906058,"reputation":1357,"user_id":3232746,"accept_rate":100,"display_name":"Normal"},"score":0,"creation_date":1497015772,"post_id":44458089,"comment_id":75914972,"body_markdown":"didn&#39;t notice it is abstract, sorry. This is seems to be quite similar problem https://stackoverflow.com/questions/32609755/mapstruct-generated-class-not-being-injected-by-spring-in-jhipster-web-app","body":"didn&#39;t notice it is abstract, sorry. This is seems to be quite similar problem <a href=\"https://stackoverflow.com/questions/32609755/mapstruct-generated-class-not-being-injected-by-spring-in-jhipster-web-app\" title=\"mapstruct generated class not being injected by spring in jhipster web app\">stackoverflow.com/questions/32609755/&hellip;</a>"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1497032358,"post_id":44458089,"comment_id":75925515,"body_markdown":"How do you invoke the application? Via maven / gradle or via the IDE? Where is your `Application` class?","body":"How do you invoke the application? Via maven / gradle or via the IDE? Where is your <code>Application</code> class?"}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1497033018,"creation_date":1497033018,"answer_id":44464588,"question_id":44458089,"body_markdown":"First of all, `public UserAndEmployeeMapper INSTANCE = Mappers.getMapper( UserAndEmployeeMapper.class );` should only be used with the default component model, otherwise you risk to have the `UserAndEmployeeMapper` not correctly initialized.\r\n\r\nThe `UserAndEmployeeMapper` in your `LoginServiceImpl` must be annotated with `@Autowired`, otherwise it cannot be injected by Spring, and that&#39;s why it is `null`.\r\n\r\nI don&#39;t know your package structure. If your Spring Boot application class in the package `org` then it will pick up the `UserAndEmployeeMapperImpl`. Otherwise make sure that the spring configuration picks up the `UserAndEmployeeMapperImpl`.\r\n\r\nIf everything from above is correctly setup and you are starting the application via an IDE make sure that `target/generated-sources` or the alternative for Gradle is part of your sources and is picked up. Have a look at the [IDE Support](http://mapstruct.org/documentation/ide-support/) to make sure that you have correctly setup the Annotation processor discovery for an IDE. For example, IntelliJ will not invoke the MapStruct Annotation Processor with your current setup, it doesn&#39;t pick up the `annotationProcessorPaths` from the maven compiler.\r\n\r\n","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>First of all, <code>public UserAndEmployeeMapper INSTANCE = Mappers.getMapper( UserAndEmployeeMapper.class );</code> should only be used with the default component model, otherwise you risk to have the <code>UserAndEmployeeMapper</code> not correctly initialized.</p>\n\n<p>The <code>UserAndEmployeeMapper</code> in your <code>LoginServiceImpl</code> must be annotated with <code>@Autowired</code>, otherwise it cannot be injected by Spring, and that's why it is <code>null</code>.</p>\n\n<p>I don't know your package structure. If your Spring Boot application class in the package <code>org</code> then it will pick up the <code>UserAndEmployeeMapperImpl</code>. Otherwise make sure that the spring configuration picks up the <code>UserAndEmployeeMapperImpl</code>.</p>\n\n<p>If everything from above is correctly setup and you are starting the application via an IDE make sure that <code>target/generated-sources</code> or the alternative for Gradle is part of your sources and is picked up. Have a look at the <a href=\"http://mapstruct.org/documentation/ide-support/\" rel=\"noreferrer\">IDE Support</a> to make sure that you have correctly setup the Annotation processor discovery for an IDE. For example, IntelliJ will not invoke the MapStruct Annotation Processor with your current setup, it doesn't pick up the <code>annotationProcessorPaths</code> from the maven compiler.</p>\n"},{"tags":[],"owner":{"account_id":252813,"reputation":2146,"user_id":531111,"accept_rate":55,"display_name":"Ankit"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1497873995,"creation_date":1497873995,"answer_id":44630150,"question_id":44458089,"body_markdown":"Making abstract class as an interface worked for me.\r\n\r\n    public interface UserAndEmployeeMapper {","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>Making abstract class as an interface worked for me.</p>\n\n<pre><code>public interface UserAndEmployeeMapper {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4859967,"reputation":151,"user_id":3919894,"display_name":"skk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535636669,"creation_date":1535636669,"answer_id":52098625,"question_id":44458089,"body_markdown":"springfox-swagger2 dependency is loading older version of mapstruct after excluding it and adding specific version of mapstruct dependency in pom.xml it started generating sources\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.2&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n     &lt;exclusion&gt;\r\n     &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n     &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n  &lt;/dependency&gt;\r\n\r\nAdded below map struct dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.0.Beta1&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>springfox-swagger2 dependency is loading older version of mapstruct after excluding it and adding specific version of mapstruct dependency in pom.xml it started generating sources</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.springfox&lt;/groupId&gt;\n&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n&lt;version&gt;2.2.2&lt;/version&gt;\n&lt;exclusions&gt;\n &lt;exclusion&gt;\n &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n  &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n\n<p></p>\n\n<p>Added below map struct dependency</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n&lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n&lt;version&gt;1.3.0.Beta1&lt;/version&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":4541771,"reputation":505,"user_id":3689438,"display_name":"Minnow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537705793,"creation_date":1537705793,"answer_id":52466113,"question_id":44458089,"body_markdown":"For making all mapper classes to qualify as spring bean add following compilerArgs to your maven-compiler-plugin.\r\n\r\n    &lt;compilerArgs&gt;\r\n    &lt;arg&gt;-Amapstruct.suppressGeneratorTimestamp=true&lt;/arg&gt;\r\n    &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt;\r\n    &lt;/compilerArgs&gt; \r\n\r\nif using maven-processor-plugin add following options\r\n\r\n    &lt;options&gt;\t\t\t\t\t\t\r\n    &lt;mapstruct.suppressGeneratorTimestamp&gt;\r\n    true\r\n    &lt;/mapstruct.suppressGeneratorTimestamp&gt;\t\t\t\t\t\t \r\n    &lt;mapstruct.defaultComponentModel&gt;\r\n    spring\r\n    &lt;/mapstruct.defaultComponentModel&gt;\r\n    &lt;/options&gt;\r\n\r\n","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>For making all mapper classes to qualify as spring bean add following compilerArgs to your maven-compiler-plugin.</p>\n\n<pre><code>&lt;compilerArgs&gt;\n&lt;arg&gt;-Amapstruct.suppressGeneratorTimestamp=true&lt;/arg&gt;\n&lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt;\n&lt;/compilerArgs&gt; \n</code></pre>\n\n<p>if using maven-processor-plugin add following options</p>\n\n<pre><code>&lt;options&gt;                       \n&lt;mapstruct.suppressGeneratorTimestamp&gt;\ntrue\n&lt;/mapstruct.suppressGeneratorTimestamp&gt;                      \n&lt;mapstruct.defaultComponentModel&gt;\nspring\n&lt;/mapstruct.defaultComponentModel&gt;\n&lt;/options&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538315483,"creation_date":1538315483,"answer_id":52578497,"question_id":44458089,"body_markdown":"In my case, I believe the error was due to an incomplete build.gradle.\r\n\r\n*Before*\r\n\r\n    dependencies {\r\n        compile group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-processor&#39;, version: &#39;1.2.0.Final&#39;\r\n    }\r\n\r\n*After*\r\n\r\n    apply plugin: &#39;net.ltgt.apt&#39;\r\n\r\n    dependencies {\r\n        compile group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-processor&#39;, version: &#39;1.2.0.Final&#39;\r\n        compile group: &#39;org.mapstruct&#39;, name: &#39;mapstruct-jdk8&#39;, version: &#39;1.2.0.Final&#39;\r\n        apt &#39;org.mapstruct:mapstruct-processor:1.2.0.Final&#39;\r\n    }\r\n\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            maven {\r\n                url &quot;https://plugins.gradle.org/m2/&quot;\r\n            }\r\n        }\r\n        dependencies {\r\n            classpath(&quot;net.ltgt.gradle:gradle-apt-plugin:0.9&quot;)\r\n        }\r\n    }\r\n\r\n\r\n**Ensure you have configured your build.gradle properly, as described in [the docs.][1]**\r\n\r\n\r\n  [1]: http://mapstruct.org/documentation/dev/reference/html/#_gradle","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>In my case, I believe the error was due to an incomplete build.gradle.</p>\n\n<p><em>Before</em></p>\n\n<pre><code>dependencies {\n    compile group: 'org.mapstruct', name: 'mapstruct-processor', version: '1.2.0.Final'\n}\n</code></pre>\n\n<p><em>After</em></p>\n\n<pre><code>apply plugin: 'net.ltgt.apt'\n\ndependencies {\n    compile group: 'org.mapstruct', name: 'mapstruct-processor', version: '1.2.0.Final'\n    compile group: 'org.mapstruct', name: 'mapstruct-jdk8', version: '1.2.0.Final'\n    apt 'org.mapstruct:mapstruct-processor:1.2.0.Final'\n}\n\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        maven {\n            url \"https://plugins.gradle.org/m2/\"\n        }\n    }\n    dependencies {\n        classpath(\"net.ltgt.gradle:gradle-apt-plugin:0.9\")\n    }\n}\n</code></pre>\n\n<p><strong>Ensure you have configured your build.gradle properly, as described in <a href=\"http://mapstruct.org/documentation/dev/reference/html/#_gradle\" rel=\"nofollow noreferrer\">the docs.</a></strong></p>\n"},{"tags":[],"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635155991,"creation_date":1635155991,"answer_id":69706058,"question_id":44458089,"body_markdown":"If using Eclipse, you may have to install the **m2e-apt** plugin.\r\n\r\nIt will enable the annotation processor for MapStruct in the IDE.","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>If using Eclipse, you may have to install the <strong>m2e-apt</strong> plugin.</p>\n<p>It will enable the annotation processor for MapStruct in the IDE.</p>\n"},{"tags":[],"owner":{"account_id":19614982,"reputation":21,"user_id":14356680,"display_name":"Rajan Rana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645170272,"creation_date":1644850012,"answer_id":71113722,"question_id":44458089,"body_markdown":"Its simple first you need to create interface as below,\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface CompanyMapper {\r\n    \t @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n    \t void updateCustomerFromDto(CompanyDto dto, @MappingTarget CompanyBean entity);\r\n    }\r\n\r\n\r\nNow when you run the application it will generate its implementation file it self in the target/generated-source folder\r\n\r\nSo whenever you want to use  CompanyMapper than you only need to autowired it as we use `@Mapper(componentModel = &quot;spring&quot;)` so spring boot can able to inject this.\r\n \r\n\r\nAnd also you need to enable the Maven annotation processing by following steps in eclipse :\r\n\r\nStep1 :- Right click on the project &lt;br&gt;\r\nStep2 :- Go to Properties&lt;br&gt;\r\nStep3 : Expand Maven from sidebar&lt;br&gt;\r\nStep4 :- Select Annotation Processing&lt;br&gt;\r\nStep5 :- Checked Enable Project Specific settings&lt;br&gt;\r\nStep6 :- Select Experemental Radio button&lt;br&gt;\r\nStep7 :- Apply and Close&lt;br&gt;\r\n\r\nIts Done !\r\nI hope its helpful to someone.","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>Its simple first you need to create interface as below,</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface CompanyMapper {\n     @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n     void updateCustomerFromDto(CompanyDto dto, @MappingTarget CompanyBean entity);\n}\n</code></pre>\n<p>Now when you run the application it will generate its implementation file it self in the target/generated-source folder</p>\n<p>So whenever you want to use  CompanyMapper than you only need to autowired it as we use <code>@Mapper(componentModel = &quot;spring&quot;)</code> so spring boot can able to inject this.</p>\n<p>And also you need to enable the Maven annotation processing by following steps in eclipse :</p>\n<p>Step1 :- Right click on the project <br>\nStep2 :- Go to Properties<br>\nStep3 : Expand Maven from sidebar<br>\nStep4 :- Select Annotation Processing<br>\nStep5 :- Checked Enable Project Specific settings<br>\nStep6 :- Select Experemental Radio button<br>\nStep7 :- Apply and Close<br></p>\n<p>Its Done !\nI hope its helpful to someone.</p>\n"},{"tags":[],"owner":{"account_id":3174601,"reputation":149,"user_id":2682779,"accept_rate":0,"display_name":"jesus.saad"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1648722500,"creation_date":1648722500,"answer_id":71690934,"question_id":44458089,"body_markdown":"try this in pom.xml:\r\n\r\n    \r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nand reload Maven (ALT+F5)","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>try this in pom.xml:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;1.18.22&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>and reload Maven (ALT+F5)</p>\n"},{"tags":[],"owner":{"account_id":16112850,"reputation":1,"user_id":11630697,"display_name":"Rocky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651233772,"creation_date":1651233772,"answer_id":72057683,"question_id":44458089,"body_markdown":"Make sure you put annotation processor path in the dependency.\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;!-- other annotation processors --&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>Make sure you put annotation processor path in the dependency.</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;!-- other annotation processors --&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25280326,"reputation":1,"user_id":19108288,"display_name":"B&#233;diss"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654862741,"creation_date":1654855856,"answer_id":72572557,"question_id":44458089,"body_markdown":"POM.XML\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.customer-service&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;customer-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;customer-service&lt;/name&gt;\r\n\t&lt;description&gt;Microservice Client-Facture avec Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n\t\t &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.16&lt;/version&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n             \r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n                    &lt;target&gt;17&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.16&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;!-- other annotation processors --&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>POM.XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.customer-service&lt;/groupId&gt;\n    &lt;artifactId&gt;customer-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;customer-service&lt;/name&gt;\n    &lt;description&gt;Microservice Client-Facture avec Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n         &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n     &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.16&lt;/version&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n             \n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                    &lt;target&gt;17&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.16&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;!-- other annotation processors --&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":252813,"reputation":2146,"user_id":531111,"accept_rate":55,"display_name":"Ankit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76864,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":44630150,"answer_count":10,"score":16,"last_activity_date":1654862741,"creation_date":1497011940,"question_id":44458089,"body_markdown":"I am a newbie to Spring Boot and [MapStruct][1] Tool.  \r\n\r\nEarlier, A Project(written by other team using these technologies) is not starting up. Then, I had made some changes in Mapper Abstract Class but now mapper object is coming as null on application startup. \r\n\r\nMapper Abstract Class:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class UserAndEmployeeMapper {\r\n    \r\n    \tpublic UserAndEmployeeMapper INSTANCE = Mappers.getMapper( UserAndEmployeeMapper.class );\r\n    \t\r\n    \t@Mapping(source = &quot;username&quot;, target = &quot;name&quot;)\r\n    \t@Mapping(source = &quot;ssn&quot;, target = &quot;ssn&quot;, defaultValue = &quot;xxxxxx&quot; )\r\n    \t@Mapping(target = &quot;salary&quot;, constant = &quot;34.67&quot;)\r\n    \t@Mapping(target = &quot;dob&quot;, dateFormat = &quot;dd/MM/yyyy&quot;, constant = &quot;10/12/2002&quot;)\r\n    \tpublic abstract Employee mapToEmployee(User user);\r\n    \r\n    \tpublic abstract List&lt;Employee&gt; mapToEmployee(List&lt;User&gt; users);\r\n    \t\r\n    \t@Mapping(source = &quot;name&quot;, target = &quot;username&quot;)\r\n    \tpublic abstract User mapToUser(Employee employee);\r\n    \t\r\n    \tpublic abstract List&lt;User&gt; mapToUser(List&lt;Employee&gt; employees);\r\n    \t\r\n    }\r\n\r\n**LoginServiceImpl class**\r\n\r\n    @Service(&quot;loginService&quot;)\r\n    public class LoginServiceImpl implements LoginService{\r\n    \t\r\n    \tprivate static final AtomicLong counter = new AtomicLong();\r\n    \t\r\n    \t@Autowired\r\n        private EmployeeDao employeeDao;\r\n    \t\r\n    \tprivate UserAndEmployeeMapper userAndEmployeeMapper;\r\n    ...\r\n    \r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;${mapstruct.jdk8.version}&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    &lt;/build&gt;\r\n\r\nAfter I added @Autowired in LoginServiceImpl, application is not starting and following error log is showing\r\n\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field userAndEmployeeMapper in org.service.impl.LoginServiceImpl required a bean of type &#39;org.mapper.UserAndEmployeeMapper&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;org.mapper.UserAndEmployeeMapper&#39; in your configuration.\r\n\r\nAny suggestions ?\r\n\r\n  [1]: http://mapstruct.org/\r\n\r\n","title":"MapStruct implementation is not working in Spring Boot Web Application","body":"<p>I am a newbie to Spring Boot and <a href=\"http://mapstruct.org/\" rel=\"noreferrer\">MapStruct</a> Tool.  </p>\n\n<p>Earlier, A Project(written by other team using these technologies) is not starting up. Then, I had made some changes in Mapper Abstract Class but now mapper object is coming as null on application startup. </p>\n\n<p>Mapper Abstract Class:</p>\n\n<pre><code>@Mapper(componentModel = \"spring\")\npublic abstract class UserAndEmployeeMapper {\n\n    public UserAndEmployeeMapper INSTANCE = Mappers.getMapper( UserAndEmployeeMapper.class );\n\n    @Mapping(source = \"username\", target = \"name\")\n    @Mapping(source = \"ssn\", target = \"ssn\", defaultValue = \"xxxxxx\" )\n    @Mapping(target = \"salary\", constant = \"34.67\")\n    @Mapping(target = \"dob\", dateFormat = \"dd/MM/yyyy\", constant = \"10/12/2002\")\n    public abstract Employee mapToEmployee(User user);\n\n    public abstract List&lt;Employee&gt; mapToEmployee(List&lt;User&gt; users);\n\n    @Mapping(source = \"name\", target = \"username\")\n    public abstract User mapToUser(Employee employee);\n\n    public abstract List&lt;User&gt; mapToUser(List&lt;Employee&gt; employees);\n\n}\n</code></pre>\n\n<p><strong>LoginServiceImpl class</strong></p>\n\n<pre><code>@Service(\"loginService\")\npublic class LoginServiceImpl implements LoginService{\n\n    private static final AtomicLong counter = new AtomicLong();\n\n    @Autowired\n    private EmployeeDao employeeDao;\n\n    private UserAndEmployeeMapper userAndEmployeeMapper;\n...\n\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.jdk8.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>After I added @Autowired in LoginServiceImpl, application is not starting and following error log is showing</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userAndEmployeeMapper in org.service.impl.LoginServiceImpl required a bean of type 'org.mapper.UserAndEmployeeMapper' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.mapper.UserAndEmployeeMapper' in your configuration.\n</code></pre>\n\n<p>Any suggestions ?</p>\n"},{"tags":["java","string","numbers","spaces"],"comments":[{"owner":{"account_id":7596255,"reputation":329,"user_id":5762366,"display_name":"Jagoda Gorus"},"score":0,"creation_date":1491300021,"post_id":43203903,"comment_id":73479674,"body_markdown":"Possible duplicate of [Splitting words into letters in Java](http://stackoverflow.com/questions/1521921/splitting-words-into-letters-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1521921/splitting-words-into-letters-in-java\">Splitting words into letters in Java</a>"},{"owner":{"account_id":6169261,"reputation":405,"user_id":5649397,"display_name":"Pascal Schneider"},"score":2,"creation_date":1491305517,"post_id":43203903,"comment_id":73483379,"body_markdown":"Currently your code doesn&#39;t do anything. Did you try to solve your problem on your own first? If yes, what did you achieve?","body":"Currently your code doesn&#39;t do anything. Did you try to solve your problem on your own first? If yes, what did you achieve?"},{"owner":{"account_id":5519215,"reputation":605,"user_id":4382794,"accept_rate":33,"display_name":"alphamikevictor"},"score":2,"creation_date":1491306443,"post_id":43203903,"comment_id":73484033,"body_markdown":"If you want some help it would be better to split the problem in little pieces. Otherwise is like you are using the site for solving your homework, and you won&#39;t learn if someone solves it for you. Otherwise if you split the problem in little pieces you have more possibilities to be helped while at the same time will help you to learn.","body":"If you want some help it would be better to split the problem in little pieces. Otherwise is like you are using the site for solving your homework, and you won&#39;t learn if someone solves it for you. Otherwise if you split the problem in little pieces you have more possibilities to be helped while at the same time will help you to learn."},{"owner":{"account_id":10608900,"reputation":11,"user_id":7813399,"display_name":"Miguel Ferreira"},"score":0,"creation_date":1491311624,"post_id":43203903,"comment_id":73487980,"body_markdown":"Yes i did try to solve my problem on my own, but i know 0 about java and im not that good in programming overall, sorry if i gave the impression that i wanted someone to solve my homework, thats why i asked for an explication because i want to undestand what did i do wrong and how can i fix that.","body":"Yes i did try to solve my problem on my own, but i know 0 about java and im not that good in programming overall, sorry if i gave the impression that i wanted someone to solve my homework, thats why i asked for an explication because i want to undestand what did i do wrong and how can i fix that."}],"answers":[{"tags":[],"owner":{"account_id":7596255,"reputation":329,"user_id":5762366,"display_name":"Jagoda Gorus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491306694,"creation_date":1491300942,"answer_id":43204352,"question_id":43203903,"body_markdown":"Try out this function:\r\n     \r\n    public static String formatNumberWithSpaces(String inputString){\r\n    \tString outputString = &quot;&quot;;\t\t\t\t\t    //Declare an empty String\r\n        for (int i = 0;i &lt; inputString.length(); i++){  //Iterate through the String passed as function argument\r\n        \tif (inputString.charAt(i) != &#39; &#39;){\t\t\t//Use the charAt function which returns the char representation of specified string index(i variable)\r\n        \t\toutputString+=inputString.charAt(i);    //Same as &#39;outputString = outputString  + inputString.charAt(i);&#39;. So now we collect the char and append it to empty string\r\n        \t\toutputString+=&#39; &#39;;\t\t\t\t\t\t//We need to separate the next char using &#39; &#39; \r\n        \t    }\t\t\t\t\t\t\t\t\t\t//We do above instruction in loop till the end of string is reached\r\n        }        \t\t       \t\t\r\n        return outputString.substring(0, outputString.length()-1);\r\n    }\r\nJust call it by:\r\n\r\n    System.out.println(formatNumberWithSpaces(&quot;123 222 2222&quot;));\r\n### EDIT: ###\r\n\r\nOr if you want to ask user for input, try: \r\n\r\n    Scanner in = new Scanner(System.in);\r\n    System.out.println(&quot;Give me your string to parse&quot;);\r\n    String input = in.nextLine(); //it moves the scanner position to the next line and returns the value as a string.                 \r\n    System.out.println(formatNumberWithSpaces(input)); // Here you print the returned value of formatNumberWithSpaces function\r\n \r\nDon&#39;t forget to import, so you will be able to read user input :\r\n\r\n    import java.util.Scanner;\r\n\r\nThere are various ways to read input from the keyboard, the *java.util.Scanner* class is one of them.\r\n\r\n### EDIT2: ###\r\n\r\nI changed:  \r\n\r\n    return outputString;\r\n\r\n..to: `return outputString.substring(0, outputString.length()-1);`\r\n\r\nJust because `outputString+=&#39; &#39;;` was also appending empty space at the end of string, which is useless. Didn&#39;t add an `if` inside `for` loop which wouldn&#39;t add space when last char is parsed, just because of its low performance inside `for` loop. ","title":"Java String With Spaces","body":"<p>Try out this function:</p>\n\n<pre><code>public static String formatNumberWithSpaces(String inputString){\n    String outputString = \"\";                       //Declare an empty String\n    for (int i = 0;i &lt; inputString.length(); i++){  //Iterate through the String passed as function argument\n        if (inputString.charAt(i) != ' '){          //Use the charAt function which returns the char representation of specified string index(i variable)\n            outputString+=inputString.charAt(i);    //Same as 'outputString = outputString  + inputString.charAt(i);'. So now we collect the char and append it to empty string\n            outputString+=' ';                      //We need to separate the next char using ' ' \n            }                                       //We do above instruction in loop till the end of string is reached\n    }                           \n    return outputString.substring(0, outputString.length()-1);\n}\n</code></pre>\n\n<p>Just call it by:</p>\n\n<pre><code>System.out.println(formatNumberWithSpaces(\"123 222 2222\"));\n</code></pre>\n\n<h3>EDIT:</h3>\n\n<p>Or if you want to ask user for input, try: </p>\n\n<pre><code>Scanner in = new Scanner(System.in);\nSystem.out.println(\"Give me your string to parse\");\nString input = in.nextLine(); //it moves the scanner position to the next line and returns the value as a string.                 \nSystem.out.println(formatNumberWithSpaces(input)); // Here you print the returned value of formatNumberWithSpaces function\n</code></pre>\n\n<p>Don't forget to import, so you will be able to read user input :</p>\n\n<pre><code>import java.util.Scanner;\n</code></pre>\n\n<p>There are various ways to read input from the keyboard, the <em>java.util.Scanner</em> class is one of them.</p>\n\n<h3>EDIT2:</h3>\n\n<p>I changed:  </p>\n\n<pre><code>return outputString;\n</code></pre>\n\n<p>..to: <code>return outputString.substring(0, outputString.length()-1);</code></p>\n\n<p>Just because <code>outputString+=' ';</code> was also appending empty space at the end of string, which is useless. Didn't add an <code>if</code> inside <code>for</code> loop which wouldn't add space when last char is parsed, just because of its low performance inside <code>for</code> loop. </p>\n"},{"tags":[],"owner":{"account_id":7809988,"reputation":1524,"user_id":5906488,"display_name":"Keyur Bhanderi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491313905,"creation_date":1491301193,"answer_id":43204437,"question_id":43203903,"body_markdown":"&gt; use this code.\r\n\r\n    public class StringComEspa&#231;os {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(formatNumberWithSpaces(&quot;123 222 2222&quot;));\r\n        }\r\n\r\n\t    private static String formatNumberWithSpaces(String string) {\r\n\t    \tString lineWithoutSpaces = string.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n\t\t    String[] s = lineWithoutSpaces.split(&quot;&quot;);\r\n\t\t    String os = &quot;&quot;;\r\n\r\n\t\t    for (int i = 0; i &lt; s.length; i++) {\r\n\t\t    \tos = os + s[i] + &quot; &quot;;\r\n\t\t    }\r\n\t\t    return os;\r\n\t    }\r\n    }\r\n\r\n","title":"Java String With Spaces","body":"<blockquote>\n  <p>use this code.</p>\n</blockquote>\n\n<pre><code>public class StringComEspaços {\n\n    public static void main(String[] args) {\n        System.out.println(formatNumberWithSpaces(\"123 222 2222\"));\n    }\n\n    private static String formatNumberWithSpaces(String string) {\n        String lineWithoutSpaces = string.replaceAll(\"\\\\s+\", \"\");\n        String[] s = lineWithoutSpaces.split(\"\");\n        String os = \"\";\n\n        for (int i = 0; i &lt; s.length; i++) {\n            os = os + s[i] + \" \";\n        }\n        return os;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6169261,"reputation":405,"user_id":5649397,"display_name":"Pascal Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491307885,"creation_date":1491307885,"answer_id":43206890,"question_id":43203903,"body_markdown":"There are many possible ways to solve your problem.\r\n\r\nYou can do it in an OO way with `StringBuilder`:\r\n\r\n    public static String formatNumberWithSpaces(String inputString) {\r\n        StringBuilder output = new StringBuilder();\r\n        for (char c : inputString.toCharArray())     // Iterate over every char\r\n            if (c != &#39; &#39;)                            // Get rid of spaces\r\n                output.append(c).append(&#39; &#39;);        // Append the char and a space\r\n        return output.toString();\r\n    }\r\n\r\nWhich you can also do with a `String` instead of the `StringBuilder` by simply using the `+` operator instead of the `.append()` method.\r\n\r\nOr you can do it a more &quot;modern&quot; way by using Java 8 features - which in my opinion is fun doing, but not the best way - e.g. like this:\r\n\r\n    public static String formatNumberWithSpaces(String inputString) {\r\n        return Arrays.stream(input.split(&quot;&quot;))        // Convert to stream of every char\r\n                     .map(String::trim)              // Convert spaces to empty strings\r\n                     .filter(s -&gt; !s.isEmpty())      // Remove empty strings\r\n                     .reduce((l, r) -&gt; l + &quot; &quot; + r)  // build the new string with spaces between every character\r\n                     .get();                         // Get the actual string from the optional\r\n    }\r\n\r\nJust try something that works for you.","title":"Java String With Spaces","body":"<p>There are many possible ways to solve your problem.</p>\n\n<p>You can do it in an OO way with <code>StringBuilder</code>:</p>\n\n<pre><code>public static String formatNumberWithSpaces(String inputString) {\n    StringBuilder output = new StringBuilder();\n    for (char c : inputString.toCharArray())     // Iterate over every char\n        if (c != ' ')                            // Get rid of spaces\n            output.append(c).append(' ');        // Append the char and a space\n    return output.toString();\n}\n</code></pre>\n\n<p>Which you can also do with a <code>String</code> instead of the <code>StringBuilder</code> by simply using the <code>+</code> operator instead of the <code>.append()</code> method.</p>\n\n<p>Or you can do it a more \"modern\" way by using Java 8 features - which in my opinion is fun doing, but not the best way - e.g. like this:</p>\n\n<pre><code>public static String formatNumberWithSpaces(String inputString) {\n    return Arrays.stream(input.split(\"\"))        // Convert to stream of every char\n                 .map(String::trim)              // Convert spaces to empty strings\n                 .filter(s -&gt; !s.isEmpty())      // Remove empty strings\n                 .reduce((l, r) -&gt; l + \" \" + r)  // build the new string with spaces between every character\n                 .get();                         // Get the actual string from the optional\n}\n</code></pre>\n\n<p>Just try something that works for you.</p>\n"}],"owner":{"account_id":10608900,"reputation":11,"user_id":7813399,"display_name":"Miguel Ferreira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13291,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1654862720,"creation_date":1491299759,"question_id":43203903,"body_markdown":"and thank you for helping me.\r\n\r\nSo my question is i need a code that asks you for a String like &quot;1234 567&quot; (input), then returns the string numbers like &quot;1 2 3 4 5 6 7&quot; (output) once more\r\n my current code is:\r\n\r\n\r\n    public class StringComEspa&#231;os {\r\n\r\n        public static String formatNumberWithSpaces(String inputString) {\r\n\t\t    String outputString = &quot;222&quot;;\r\n\t\t    return outputString;\r\n        }\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(formatNumberWithSpaces(&quot;123 222 2222&quot;));\t    \r\n\t\t}\r\n    }\r\n\r\n\r\nthanks for the help, and sorry for bad english :).","title":"Java String With Spaces","body":"<p>and thank you for helping me.</p>\n\n<p>So my question is i need a code that asks you for a String like \"1234 567\" (input), then returns the string numbers like \"1 2 3 4 5 6 7\" (output) once more\n my current code is:</p>\n\n<pre><code>public class StringComEspaços {\n\n    public static String formatNumberWithSpaces(String inputString) {\n        String outputString = \"222\";\n        return outputString;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(formatNumberWithSpaces(\"123 222 2222\"));     \n    }\n}\n</code></pre>\n\n<p>thanks for the help, and sorry for bad english :).</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14830350,"reputation":290,"user_id":10709983,"display_name":"Jonathas Nascimento"},"score":0,"creation_date":1562379672,"post_id":56910637,"comment_id":100365752,"body_markdown":"Your source code found here https://github.com/va-developer/AutoCompleteAPI is up to date? How did you bind this properties (Hourly, Biweekly, Annual) to your first case JSON?","body":"Your source code found here <a href=\"https://github.com/va-developer/AutoCompleteAPI\" rel=\"nofollow noreferrer\">github.com/va-developer/AutoCompleteAPI</a> is up to date? How did you bind this properties (Hourly, Biweekly, Annual) to your first case JSON?"}],"answers":[{"tags":[],"owner":{"account_id":16247800,"reputation":106,"user_id":11732461,"display_name":"Mr.DW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562379966,"creation_date":1562379966,"answer_id":56910773,"question_id":56910637,"body_markdown":"I just see your code in github,but the key code is not exist.Now I will say what i guess.\r\nProblem may happen in this code.\r\n\r\n  \r\n\r\n      @Repository\r\n    public interface AutoCompleteRepository extends CrudRepository&lt;AutoComplete, String&gt; {\r\n    \r\n    \r\n      @Query(&quot;select e from AutoComplete e where e.jobClassCd like %:jobClassCd%&quot;)\r\n      public Stream&lt;AutoComplete&gt; streamAll();\r\n    \r\n    \r\n      List&lt;AutoComplete&gt; findByJobClassCdStartsWith(String jobClassCd);\r\n    \r\n    }\r\n\r\n\r\nIn method fingByJobClassCdStartsWith(String jobClassCd),I think when you query from \r\nthe database,you get three records and you can merge it into one object manually.\r\n      \r\nOr \r\nyou can put the invisible code here by edit your question.","title":"three object as one?","body":"<p>I just see your code in github,but the key code is not exist.Now I will say what i guess.\nProblem may happen in this code.</p>\n\n<pre><code>  @Repository\npublic interface AutoCompleteRepository extends CrudRepository&lt;AutoComplete, String&gt; {\n\n\n  @Query(\"select e from AutoComplete e where e.jobClassCd like %:jobClassCd%\")\n  public Stream&lt;AutoComplete&gt; streamAll();\n\n\n  List&lt;AutoComplete&gt; findByJobClassCdStartsWith(String jobClassCd);\n\n}\n</code></pre>\n\n<p>In method fingByJobClassCdStartsWith(String jobClassCd),I think when you query from \nthe database,you get three records and you can merge it into one object manually.</p>\n\n<p>Or \nyou can put the invisible code here by edit your question.</p>\n"},{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562486306,"creation_date":1562380883,"answer_id":56910828,"question_id":56910637,"body_markdown":"If you cannot change the query on repository side, you can merge the objects in list to single one in the controller\r\n\r\n    public @ResponseBody\r\n    LIst&lt;AutoComplete&gt; getSalary(@RequestParam(value = &quot;autocomplete&quot;) String autocompleteValue) {\r\n\r\n      List&lt;AutoComplete&gt; list = autoCompleteService.retrieveSalary(autocompleteValue);\r\n      return Arrays.asList(merge(list));\r\n\r\n    }\r\n\r\n\r\n    AutoComplete merge(List&lt;AutoComplete&gt; list){\r\n\t\tAutoComplete acc = list.get(0);\r\n\t\tfor (int i = 1; i &lt; list.size(); i++) {\r\n\t\t\tAutoComplete autoComplete = list.get(i);\r\n\t\t\tif (autoComplete.getAnnual() != null) {\r\n\t\t\t\tacc.setAnnual(autoComplete.getAnnual());\r\n\t\t\t}\r\n\t\t\tif (autoComplete.getBiweekly() != null) {\r\n\t\t\t\tacc.setBiweekly(autoComplete.getBiweekly());\r\n\t\t\t}\r\n\t\t\tif (autoComplete.getHourly() != null) {\r\n\t\t\t\tacc.setHourly(autoComplete.getHourly());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn acc;\r\n\t}","title":"three object as one?","body":"<p>If you cannot change the query on repository side, you can merge the objects in list to single one in the controller</p>\n\n<pre><code>public @ResponseBody\nLIst&lt;AutoComplete&gt; getSalary(@RequestParam(value = \"autocomplete\") String autocompleteValue) {\n\n  List&lt;AutoComplete&gt; list = autoCompleteService.retrieveSalary(autocompleteValue);\n  return Arrays.asList(merge(list));\n\n}\n\n\nAutoComplete merge(List&lt;AutoComplete&gt; list){\n    AutoComplete acc = list.get(0);\n    for (int i = 1; i &lt; list.size(); i++) {\n        AutoComplete autoComplete = list.get(i);\n        if (autoComplete.getAnnual() != null) {\n            acc.setAnnual(autoComplete.getAnnual());\n        }\n        if (autoComplete.getBiweekly() != null) {\n            acc.setBiweekly(autoComplete.getBiweekly());\n        }\n        if (autoComplete.getHourly() != null) {\n            acc.setHourly(autoComplete.getHourly());\n        }\n\n    }\n    return acc;\n}\n</code></pre>\n"}],"owner":{"account_id":14046170,"reputation":19,"user_id":11699627,"display_name":"john simon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1654862643,"creation_date":1562377407,"question_id":56910637,"body_markdown":"Coming to an issue where I am return three json objects. By all means, All I want to do is to return as one JSON object. Similar to my result down below. So, I am trying to show my controller - I believe its in my controller that is returning 3 objects instead of one. Thanks for the help.\r\n\r\n\r\nHere is my code:\r\n\r\n\r\n\r\nI tried doing this:\r\n\r\n    @RequestMapping(value = &quot;all&quot;, method = RequestMethod.GET)\r\n        public @ResponseBody\r\n        MyAutoComplete getMoney(@RequestParam(value = &quot;myautocomplete&quot;) String myautocompleteValue) {\r\n\r\n        List&lt;MyAutoComplete&gt; list = myautoCompleteService.gettingMoney(myautocompleteValue);\r\n        return merge(list);\r\n\r\n    }\r\n\r\n\r\n    MyAutoComplete merge(List&lt;MyAutoComplete&gt; list){\r\n        MyAutoComplete accountacy = list.get(0);\r\n        for (int i = 1; i &lt; list.size(); i++) {\r\n            MyAutoComplete myautoComplete = list.get(i);\r\n            if (myautoComplete.getTimeAnnual() != null) {\r\n                accountacy.setTimeAnnual((autoComplete.getTimeAnnual(());\r\n            }\r\n            if (autoComplete.getTimeBiweekly() != null) {\r\n                accountacy.setTimeBiweekly(autoComplete.getTimeBiweekly());\r\n            }\r\n            if (autoComplete.getTimeHourly() != null) {\r\n                accountacy.setTimeHourly(autoComplete.getTimeHourly());\r\n            }\r\n\r\n        }\r\n        return accountacy;\r\n    }","title":"three object as one?","body":"<p>Coming to an issue where I am return three json objects. By all means, All I want to do is to return as one JSON object. Similar to my result down below. So, I am trying to show my controller - I believe its in my controller that is returning 3 objects instead of one. Thanks for the help.</p>\n\n<p>Here is my code:</p>\n\n<p>I tried doing this:</p>\n\n<pre><code>@RequestMapping(value = \"all\", method = RequestMethod.GET)\n    public @ResponseBody\n    MyAutoComplete getMoney(@RequestParam(value = \"myautocomplete\") String myautocompleteValue) {\n\n    List&lt;MyAutoComplete&gt; list = myautoCompleteService.gettingMoney(myautocompleteValue);\n    return merge(list);\n\n}\n\n\nMyAutoComplete merge(List&lt;MyAutoComplete&gt; list){\n    MyAutoComplete accountacy = list.get(0);\n    for (int i = 1; i &lt; list.size(); i++) {\n        MyAutoComplete myautoComplete = list.get(i);\n        if (myautoComplete.getTimeAnnual() != null) {\n            accountacy.setTimeAnnual((autoComplete.getTimeAnnual(());\n        }\n        if (autoComplete.getTimeBiweekly() != null) {\n            accountacy.setTimeBiweekly(autoComplete.getTimeBiweekly());\n        }\n        if (autoComplete.getTimeHourly() != null) {\n            accountacy.setTimeHourly(autoComplete.getTimeHourly());\n        }\n\n    }\n    return accountacy;\n}\n</code></pre>\n"},{"tags":["java","json","rest","jackson"],"comments":[{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":3,"creation_date":1442605789,"post_id":32659915,"comment_id":53166347,"body_markdown":"Check if you have jackson 1 and jackson 2 in your classpath, and if you&#39;re using mapper from one version and annotations from the other one.","body":"Check if you have jackson 1 and jackson 2 in your classpath, and if you&#39;re using mapper from one version and annotations from the other one."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1442605837,"post_id":32659915,"comment_id":53166374,"body_markdown":"That was my thought also, check the annotation you are using matches the library you are using.","body":"That was my thought also, check the annotation you are using matches the library you are using."},{"owner":{"account_id":220904,"reputation":3016,"user_id":478587,"accept_rate":55,"display_name":"Ajay"},"score":0,"creation_date":1442607164,"post_id":32659915,"comment_id":53167036,"body_markdown":"That worked Guys, Thanks a lot :)","body":"That worked Guys, Thanks a lot :)"},{"owner":{"account_id":4516602,"reputation":405,"user_id":3671230,"accept_rate":43,"display_name":"Abdul Razak AK"},"score":0,"creation_date":1532581183,"post_id":32659915,"comment_id":90030252,"body_markdown":"@Ajay How did you fixed this issue ?. I am also facing the same prob","body":"@Ajay How did you fixed this issue ?. I am also facing the same prob"}],"answers":[{"tags":[],"owner":{"account_id":352721,"reputation":6323,"user_id":689956,"accept_rate":75,"display_name":"Sathesh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1535655084,"creation_date":1532557093,"answer_id":51528453,"question_id":32659915,"body_markdown":"You might have imported the json annotation and the object mapper from different library versions. Make sure they are from the same library. \r\n\r\nExample,\r\n\r\n`import com.fasterxml.jackson.annotation.JsonProperty;`\r\n\r\nand \r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;","title":"ObjectMapper not considering annotations","body":"<p>You might have imported the json annotation and the object mapper from different library versions. Make sure they are from the same library. </p>\n\n<p>Example,</p>\n\n<p><code>import com.fasterxml.jackson.annotation.JsonProperty;</code></p>\n\n<p>and </p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n</code></pre>\n"}],"owner":{"account_id":220904,"reputation":3016,"user_id":478587,"accept_rate":55,"display_name":"Ajay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2801,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1654862271,"creation_date":1442605552,"question_id":32659915,"body_markdown":"I have the below piece of code which would convert an annotated Java object into Json String. \r\n\r\n     try {\r\n                String jsonString = mapper.writeValueAsString(obj);\r\n                LOGGER.debug(&quot;logAsJson&quot;, jsonString);\r\n            } catch (Exception e) {\r\n                LOGGER.warn(&quot;logAsJson&quot;, &quot;Exception in logging only. Nothing critical! &quot;, e);\r\n            }\r\n\r\n\r\nAnd my class would look something like this\r\n\r\n\r\npublic class Car {\r\n\r\n    @JsonProperty(&quot;capabilities&quot;)\r\n    private List&lt;Capability&gt; capability = new ArrayList&lt;Capability&gt;();\r\n    \r\n\t@JsonProperty(&quot;periodicity&quot;)\r\n    @NotNull\r\n    private Periodicity periodicity;\r\n    \r\n\t@JsonProperty(&quot;car_driver&quot;)\r\n    private List&lt;carDriver&gt; carDriver = new ArrayList&lt;carDriver&gt;();\r\n\t\r\n}\r\n\r\n\r\nProblem is that while creating the json string from the object, object mapper is not considering the annotations for field names. \r\n\r\nThanks in advance.","title":"ObjectMapper not considering annotations","body":"<p>I have the below piece of code which would convert an annotated Java object into Json String. </p>\n\n<pre><code> try {\n            String jsonString = mapper.writeValueAsString(obj);\n            LOGGER.debug(\"logAsJson\", jsonString);\n        } catch (Exception e) {\n            LOGGER.warn(\"logAsJson\", \"Exception in logging only. Nothing critical! \", e);\n        }\n</code></pre>\n\n<p>And my class would look something like this</p>\n\n<p>public class Car {</p>\n\n<pre><code>@JsonProperty(\"capabilities\")\nprivate List&lt;Capability&gt; capability = new ArrayList&lt;Capability&gt;();\n\n@JsonProperty(\"periodicity\")\n@NotNull\nprivate Periodicity periodicity;\n\n@JsonProperty(\"car_driver\")\nprivate List&lt;carDriver&gt; carDriver = new ArrayList&lt;carDriver&gt;();\n</code></pre>\n\n<p>}</p>\n\n<p>Problem is that while creating the json string from the object, object mapper is not considering the annotations for field names. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","maven","jackson2"],"comments":[{"owner":{"account_id":9124912,"reputation":654,"user_id":6789065,"display_name":"Golov Pavel"},"score":0,"creation_date":1557917013,"post_id":56147357,"comment_id":98924303,"body_markdown":"Please, provide code how you deserialize json.","body":"Please, provide code how you deserialize json."},{"owner":{"account_id":8438194,"reputation":195,"user_id":6331663,"display_name":"Shrikant"},"score":0,"creation_date":1557917130,"post_id":56147357,"comment_id":98924370,"body_markdown":"ipGeo = jsonMapper\n\t\t\t\t\t\t .readValue(new String(response.getValue()),\n\t\t\t\t\t\t IpGeo.class);","body":"ipGeo = jsonMapper \t\t\t\t\t\t .readValue(new String(response.getValue()), \t\t\t\t\t\t IpGeo.class);"},{"owner":{"account_id":9124912,"reputation":654,"user_id":6789065,"display_name":"Golov Pavel"},"score":0,"creation_date":1557917283,"post_id":56147357,"comment_id":98924465,"body_markdown":"In your json sample I can&#39;t see string `ip_address` field. It&#39;s only the object `ip_address`.","body":"In your json sample I can&#39;t see string <code>ip_address</code> field. It&#39;s only the object <code>ip_address</code>."},{"owner":{"account_id":8438194,"reputation":195,"user_id":6331663,"display_name":"Shrikant"},"score":0,"creation_date":1557917541,"post_id":56147357,"comment_id":98924621,"body_markdown":"ip_address is under properties:, that is the field ip_address.","body":"ip_address is under properties:, that is the field ip_address."}],"answers":[{"tags":[],"owner":{"account_id":8438194,"reputation":195,"user_id":6331663,"display_name":"Shrikant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558004851,"creation_date":1558004851,"answer_id":56167147,"question_id":56147357,"body_markdown":"I found the issue in my code.\r\nI had use JaxbAnnotationIntrospector that leverages JAXB annotations where applicable to JSON mapping.","title":"Jackson ObjectMapper not able to recognize @JsonProperty Annotation","body":"<p>I found the issue in my code.\nI had use JaxbAnnotationIntrospector that leverages JAXB annotations where applicable to JSON mapping.</p>\n"},{"tags":[],"owner":{"account_id":1861468,"reputation":991,"user_id":1685993,"accept_rate":68,"display_name":"AHH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654862206,"creation_date":1654862206,"answer_id":72573914,"question_id":56147357,"body_markdown":"In my case, I had the same issue because I created an instance of ObjectMapper on my own instead of auto-wiring it. Here is the line in Kotlin:\r\n\r\n    @Autowired\r\n    lateinit var objectMapper: ObjectMapper","title":"Jackson ObjectMapper not able to recognize @JsonProperty Annotation","body":"<p>In my case, I had the same issue because I created an instance of ObjectMapper on my own instead of auto-wiring it. Here is the line in Kotlin:</p>\n<pre><code>@Autowired\nlateinit var objectMapper: ObjectMapper\n</code></pre>\n"}],"owner":{"account_id":8438194,"reputation":195,"user_id":6331663,"display_name":"Shrikant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1654862206,"creation_date":1557916756,"question_id":56147357,"body_markdown":"I am creating POJO&#39;s using jsonschema2pojo-maven-plugin, version 0.4.30. But when I use those pojo&#39;s in my code, Jackson ObjectMapper is not able to recognise @JsonProperty annotation. Below is the sample json:\r\n\r\n    {\r\n      &quot;title&quot;: &quot;IP Address&quot;,\r\n        &quot;description&quot;: &quot;Ip Address&quot;,\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n             &quot;ip_address&quot;: {\r\n                 &quot;type&quot;: &quot;string&quot;,\r\n                 &quot;minLength&quot;: 1,\r\n                 &quot;maxLength&quot;: 39,\r\n                 &quot;description&quot;: &quot;ip address&quot;\r\n               }\r\n        }\r\n    }\r\n\r\nI have tried matching the jackson-databind versions, but it didn&#39;t worked. \r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    @JsonPropertyOrder({&quot;ip_address&quot;})\r\n    public class IpGeo {\r\n        @JsonProperty(&quot;ip_address&quot;)\r\n        @JsonPropertyDescription(&quot;ip address&quot;)\r\n        @Size(\r\n            min = 1,\r\n            max = 39\r\n        )\r\n        private String ipAddress;\r\n        @JsonProperty(&quot;ip_address&quot;)\r\n        public String getIpAddress() {\r\n            return this.ipAddress;\r\n        }\r\n    \r\n        @JsonProperty(&quot;ip_address&quot;)\r\n        public void setIpAddress(String ipAddress) {\r\n            this.ipAddress = ipAddress;\r\n        }\r\n    }\r\n\r\nI expect ObjectMapper creates IpGeo class from the json. It should map ip_address to ipAddress. But it gives an error &quot;ip_address field not recongnized&quot;.","title":"Jackson ObjectMapper not able to recognize @JsonProperty Annotation","body":"<p>I am creating POJO's using jsonschema2pojo-maven-plugin, version 0.4.30. But when I use those pojo's in my code, Jackson ObjectMapper is not able to recognise @JsonProperty annotation. Below is the sample json:</p>\n\n<pre><code>{\n  \"title\": \"IP Address\",\n    \"description\": \"Ip Address\",\n    \"type\": \"object\",\n    \"properties\": {\n         \"ip_address\": {\n             \"type\": \"string\",\n             \"minLength\": 1,\n             \"maxLength\": 39,\n             \"description\": \"ip address\"\n           }\n    }\n}\n</code></pre>\n\n<p>I have tried matching the jackson-databind versions, but it didn't worked. </p>\n\n<pre><code>@JsonInclude(Include.NON_NULL)\n@JsonPropertyOrder({\"ip_address\"})\npublic class IpGeo {\n    @JsonProperty(\"ip_address\")\n    @JsonPropertyDescription(\"ip address\")\n    @Size(\n        min = 1,\n        max = 39\n    )\n    private String ipAddress;\n    @JsonProperty(\"ip_address\")\n    public String getIpAddress() {\n        return this.ipAddress;\n    }\n\n    @JsonProperty(\"ip_address\")\n    public void setIpAddress(String ipAddress) {\n        this.ipAddress = ipAddress;\n    }\n}\n</code></pre>\n\n<p>I expect ObjectMapper creates IpGeo class from the json. It should map ip_address to ipAddress. But it gives an error \"ip_address field not recongnized\".</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654856715,"post_id":72572478,"comment_id":128197499,"body_markdown":"Nothing that would work automatically. You can only have external tools generate classes which are based on the tables","body":"Nothing that would work automatically. You can only have external tools generate classes which are based on the tables"}],"answers":[{"tags":[],"owner":{"account_id":2976047,"reputation":121,"user_id":2527075,"display_name":"Silvan Van Leeuwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654861818,"creation_date":1654861818,"answer_id":72573819,"question_id":72572478,"body_markdown":"I don&#39;t believe this is possible. [JPA refresh][1] should help you to manually do this.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#refresh-java.lang.Object-","title":"Changes in the database affected hibernate entity","body":"<p>I don't believe this is possible. <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityManager.html#refresh-java.lang.Object-\" rel=\"nofollow noreferrer\">JPA refresh</a> should help you to manually do this.</p>\n"}],"owner":{"account_id":17212119,"reputation":11,"user_id":14660604,"display_name":"NikiTer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654861818,"creation_date":1654855545,"question_id":72572478,"body_markdown":"I know that changes in hibernate entity will automatically sync with database if hibernate session is active and entity in persistent state. But I want it work in opposite direction: if something changes in database table it should automatically sync with hibernate entity and change its fields\r\nIs it possible?","title":"Changes in the database affected hibernate entity","body":"<p>I know that changes in hibernate entity will automatically sync with database if hibernate session is active and entity in persistent state. But I want it work in opposite direction: if something changes in database table it should automatically sync with hibernate entity and change its fields\nIs it possible?</p>\n"},{"tags":["java","eclipse","macos","lombok"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1468921577,"post_id":38454275,"comment_id":64314095,"body_markdown":"Try using an absolute path for the lombok jar, it is unlikely that the current directory is correct for `..` to work. Also note that there is no such release of Mac OS X as 10.11.13 - 10.11.6 was only released yesterday.","body":"Try using an absolute path for the lombok jar, it is unlikely that the current directory is correct for <code>..</code> to work. Also note that there is no such release of Mac OS X as 10.11.13 - 10.11.6 was only released yesterday."},{"owner":{"account_id":2323995,"reputation":431,"user_id":2038920,"accept_rate":39,"display_name":"pranav"},"score":0,"creation_date":1468922734,"post_id":38454275,"comment_id":64314869,"body_markdown":"I had tried that too. Still same result. Regarding Mac OS its 10.11.3. My bad :). Corrected!","body":"I had tried that too. Still same result. Regarding Mac OS its 10.11.3. My bad :). Corrected!"},{"owner":{"account_id":2323995,"reputation":431,"user_id":2038920,"accept_rate":39,"display_name":"pranav"},"score":1,"creation_date":1468925142,"post_id":38454275,"comment_id":64316626,"body_markdown":"It&#39;s fixed. Actually i had created eclipse shortcut to launch eclipse (by copying Eclipse.app from installed location to the desktop). Later i installed Lombok and was still launching eclipse from the desktop shortcut. Just a while back i realised this and tried to launch eclipse from Eclipse.app from its actual location (/Users/vishal/jee-mars/) and did a project clean, everything worked fine. I have replaced the shortcut again, works fine. Thanks !!","body":"It&#39;s fixed. Actually i had created eclipse shortcut to launch eclipse (by copying Eclipse.app from installed location to the desktop). Later i installed Lombok and was still launching eclipse from the desktop shortcut. Just a while back i realised this and tried to launch eclipse from Eclipse.app from its actual location (/Users/vishal/jee-mars/) and did a project clean, everything worked fine. I have replaced the shortcut again, works fine. Thanks !!"}],"answers":[{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1540506545,"creation_date":1506720634,"answer_id":46497151,"question_id":38454275,"body_markdown":"**Solution for Macbook:**\r\n\r\n**Step 1** edit `/Applications/Eclipse.app/Contents/Eclipse/eclipse.ini with`\r\n\r\n    -Xbootclasspath/a:lombok.jar\r\n    -javaagent:lombok.jar\r\n\r\njust after\r\n\r\n    -vmargs\r\n\r\n**Step 2** paste `lombok.jar` to `/Applications/Eclipse.app/Contents/MacOS/`\r\n\r\n**Step 3** After Eclipse restart:  `project &gt; clean`","title":"Lombok not working on Eclipse Mars on Mac 10.11.3","body":"<p><strong>Solution for Macbook:</strong></p>\n\n<p><strong>Step 1</strong> edit <code>/Applications/Eclipse.app/Contents/Eclipse/eclipse.ini with</code></p>\n\n<pre><code>-Xbootclasspath/a:lombok.jar\n-javaagent:lombok.jar\n</code></pre>\n\n<p>just after</p>\n\n<pre><code>-vmargs\n</code></pre>\n\n<p><strong>Step 2</strong> paste <code>lombok.jar</code> to <code>/Applications/Eclipse.app/Contents/MacOS/</code></p>\n\n<p><strong>Step 3</strong> After Eclipse restart:  <code>project &gt; clean</code></p>\n"},{"tags":[],"owner":{"account_id":2303331,"reputation":4667,"user_id":2023148,"accept_rate":50,"display_name":"bpedroso"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1576721980,"creation_date":1545681988,"answer_id":53917331,"question_id":38454275,"body_markdown":"Execute on terminal\r\n\r\n    java -jar lombok.jar\r\n\r\nAfter that, a window will open and you can follow the process to configure your lombok.","title":"Lombok not working on Eclipse Mars on Mac 10.11.3","body":"<p>Execute on terminal</p>\n\n<pre><code>java -jar lombok.jar\n</code></pre>\n\n<p>After that, a window will open and you can follow the process to configure your lombok.</p>\n"},{"tags":[],"owner":{"account_id":25066371,"reputation":1,"user_id":18920657,"display_name":"Mamatha N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650731134,"creation_date":1650731134,"answer_id":71981563,"question_id":38454275,"body_markdown":"I tried a lot of possible methods , Downloading lombak jar from https://projectlombok.org/ helped other than downloading from Maven .\r\nand follow the above suggested installation methods .","title":"Lombok not working on Eclipse Mars on Mac 10.11.3","body":"<p>I tried a lot of possible methods , Downloading lombak jar from <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a> helped other than downloading from Maven .\nand follow the above suggested installation methods .</p>\n"}],"owner":{"account_id":2323995,"reputation":431,"user_id":2038920,"accept_rate":39,"display_name":"pranav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1654861337,"creation_date":1468919778,"question_id":38454275,"body_markdown":"I tried all the solutions given here on Stackoverflow regarding the same but it still won&#39;t work. Eclipse still shows compile errors on getter/setters. Steps i followed.\r\n\r\n1. Download lombok.jar. \r\n2. Open jar by double click and specify the location of eclipse.ini file as it was not accepting Eclipse.app.\r\n3. Got confirmation popup that lombok has been installed in IDE.\r\n4. Restarted/Open eclipse, the project still had compile errors for setters/getters.\r\n\r\nMy eclipse.ini file entries are as below:\r\n\r\n    -vm\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/bin\r\n    -vmargs\r\n    ........\r\n    ..........\r\n    -javaagent:../Eclipse/lombok.jar\r\n\r\nLocation of eclipse file is as below:\r\n\r\n    /Users/vishal/jee-mars/Eclipse.app/Contents/Eclipse/eclipse.ini\r\n\r\nIs there anything I am missing? Thanks!!\r\n","title":"Lombok not working on Eclipse Mars on Mac 10.11.3","body":"<p>I tried all the solutions given here on Stackoverflow regarding the same but it still won't work. Eclipse still shows compile errors on getter/setters. Steps i followed.</p>\n\n<ol>\n<li>Download lombok.jar. </li>\n<li>Open jar by double click and specify the location of eclipse.ini file as it was not accepting Eclipse.app.</li>\n<li>Got confirmation popup that lombok has been installed in IDE.</li>\n<li>Restarted/Open eclipse, the project still had compile errors for setters/getters.</li>\n</ol>\n\n<p>My eclipse.ini file entries are as below:</p>\n\n<pre><code>-vm\n/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/bin\n-vmargs\n........\n..........\n-javaagent:../Eclipse/lombok.jar\n</code></pre>\n\n<p>Location of eclipse file is as below:</p>\n\n<pre><code>/Users/vishal/jee-mars/Eclipse.app/Contents/Eclipse/eclipse.ini\n</code></pre>\n\n<p>Is there anything I am missing? Thanks!!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"score":0,"creation_date":1654854841,"post_id":72572005,"comment_id":128196770,"body_markdown":"@Chaosfire I have added the code which I am trying to get the expected output","body":"@Chaosfire I have added the code which I am trying to get the expected output"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654855520,"post_id":72572005,"comment_id":128197028,"body_markdown":"@Neo Ok, looks like NPE is striking your comparators. How should we deal with null scores? Filter them out completely or give them lower priority?","body":"@Neo Ok, looks like NPE is striking your comparators. How should we deal with null scores? Filter them out completely or give them lower priority?"},{"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"score":0,"creation_date":1654855615,"post_id":72572005,"comment_id":128197058,"body_markdown":"Filter them out completely","body":"Filter them out completely"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654857882,"creation_date":1654857882,"answer_id":72573008,"question_id":72572005,"body_markdown":"Since you want to remove null scores completely, it&#39;s better to keep the current comparator and use `Stream` instead.\r\n```\r\nComparator&lt;CompareMe&gt; comparator = Comparator.comparingInt(CompareMe::getIndex).reversed().thenComparing(CompareMe::getScore);\r\nCompareMe max = list.stream()\r\n            .filter(cm -&gt; cm.getScore() != null)\r\n            .max(comparator)\r\n            .orElseThrow(() -&gt; new RuntimeException(&quot;empty list?&quot;));\r\n```\r\nChanging the comparators to take into account null scores would complicate the index comparison unnecessarily(null score basically reverses current index comparison and both fields need to be taken into account) and very similar null checks need to be added when comparing scores.","title":"Compare two dependent fields in java Comparator","body":"<p>Since you want to remove null scores completely, it's better to keep the current comparator and use <code>Stream</code> instead.</p>\n<pre><code>Comparator&lt;CompareMe&gt; comparator = Comparator.comparingInt(CompareMe::getIndex).reversed().thenComparing(CompareMe::getScore);\nCompareMe max = list.stream()\n            .filter(cm -&gt; cm.getScore() != null)\n            .max(comparator)\n            .orElseThrow(() -&gt; new RuntimeException(&quot;empty list?&quot;));\n</code></pre>\n<p>Changing the comparators to take into account null scores would complicate the index comparison unnecessarily(null score basically reverses current index comparison and both fields need to be taken into account) and very similar null checks need to be added when comparing scores.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654861152,"creation_date":1654858488,"answer_id":72573138,"question_id":72572005,"body_markdown":"Since `score` can be `null` you might make the second part of your *comparator* to be *null-safe*. For that, you can use [`Comparator.nullsFirst()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#nullsFirst(java.util.Comparator)), which creates a *null-friendly comparator* that considers `null` to be *less* than *non-null*.\r\n\r\nAlso, in order to get the correct result in the first part of the *comparator* (*which is responsible for comparing indices*) we need to take into account whether the score is `null` or not.\r\n\r\n```\r\nmax = Collections.max(list, \r\n    Comparator.comparingInt((CompareMe item) -&gt; \r\n            (item.getScore() == null ? -1 : item.getIndex()) * (-1)).reversed()\r\n        .thenComparing(CompareMe::getScore, \r\n            Comparator.nullsFirst(Comparator.naturalOrder())));\r\n```\r\nThis *comparator* with give the correct output if objects having *non-null* score are present in the input. But we can&#39;t ensure only by changing the *compactor* that the result will have a *non-null* score.\r\n\r\nThe better approach would be to eliminate `null` values instead of treating them as a special case. It can be done by using `Collection.removeIf()` and then you can safely apply the same comparator that you&#39;ve listed in the question:\r\n\r\n```\r\nList&lt;CompareMe&gt; list = \r\n    List.of(new CompareMe(1, null), new CompareMe(1, null),\r\n            new CompareMe(2, 150), new CompareMe(2, 110));\r\n    \r\nlist.removeIf(item -&gt; item.getScore() == null);\r\n\r\nmax = Collections.max(list,\r\n            Comparator.comparingInt(CompareMe::getIndex).reversed()\r\n                .thenComparing(CompareMe::getScore));\r\n        \r\nSystem.out.println(max.getIndex() + &quot;-&quot; + max.getScore());\r\n```\r\n*Output:*\r\n```\r\n2-150\r\n```","title":"Compare two dependent fields in java Comparator","body":"<p>Since <code>score</code> can be <code>null</code> you might make the second part of your <em>comparator</em> to be <em>null-safe</em>. For that, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#nullsFirst(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Comparator.nullsFirst()</code></a>, which creates a <em>null-friendly comparator</em> that considers <code>null</code> to be <em>less</em> than <em>non-null</em>.</p>\n<p>Also, in order to get the correct result in the first part of the <em>comparator</em> (<em>which is responsible for comparing indices</em>) we need to take into account whether the score is <code>null</code> or not.</p>\n<pre><code>max = Collections.max(list, \n    Comparator.comparingInt((CompareMe item) -&gt; \n            (item.getScore() == null ? -1 : item.getIndex()) * (-1)).reversed()\n        .thenComparing(CompareMe::getScore, \n            Comparator.nullsFirst(Comparator.naturalOrder())));\n</code></pre>\n<p>This <em>comparator</em> with give the correct output if objects having <em>non-null</em> score are present in the input. But we can't ensure only by changing the <em>compactor</em> that the result will have a <em>non-null</em> score.</p>\n<p>The better approach would be to eliminate <code>null</code> values instead of treating them as a special case. It can be done by using <code>Collection.removeIf()</code> and then you can safely apply the same comparator that you've listed in the question:</p>\n<pre><code>List&lt;CompareMe&gt; list = \n    List.of(new CompareMe(1, null), new CompareMe(1, null),\n            new CompareMe(2, 150), new CompareMe(2, 110));\n    \nlist.removeIf(item -&gt; item.getScore() == null);\n\nmax = Collections.max(list,\n            Comparator.comparingInt(CompareMe::getIndex).reversed()\n                .thenComparing(CompareMe::getScore));\n        \nSystem.out.println(max.getIndex() + &quot;-&quot; + max.getScore());\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2-150\n</code></pre>\n"}],"owner":{"account_id":19675466,"reputation":43,"user_id":14403738,"display_name":"Neo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72573008,"answer_count":2,"score":1,"last_activity_date":1654861152,"creation_date":1654853212,"question_id":72572005,"body_markdown":"Using java Comparator I want to get the lowest index which is having a higher value.\r\n\r\n - **Case 1**\r\n```\r\n\r\n| Index | Score |\r\n| ----- | ------|\r\n| 1     | 100   |\r\n| 1     | 110   |\r\n| 2     | 150   |\r\n```\r\n*Output should be 1 - 110*\r\n\r\n\r\n\r\n - **Case 2**\r\n\r\n```\r\n| Index | Score |\r\n| ----- | ----- |\r\n| 1     | null  |\r\n| 1     | null  |\r\n| 2     | 150   |\r\n| 2     | 110   |\r\n```\r\n*Output should be 2 - 150*\r\n\r\nThe below code is giving exception and also I know it will not provide expected output.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n\r\n    public class CompareMe {\r\n\tprivate int index;\r\n\tprivate Integer score;\r\n\r\n\tpublic CompareMe(int index, Integer score) {\r\n\t\tthis.index = index;\r\n\t\tthis.score = score;\r\n\t}\r\n\r\n\tpublic int getIndex() {\r\n\t\treturn index;\r\n\t}\r\n\r\n\tpublic Integer getScore() {\r\n\t\treturn score;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList&lt;CompareMe&gt; list = new ArrayList&lt;&gt;();\r\n\t\tlist.add(new CompareMe(1, 100));\r\n\t\tlist.add(new CompareMe(1, 110));\r\n\t\tlist.add(new CompareMe(2, 150));\r\n\r\n\t\tCompareMe max = Collections.max(list, Comparator.comparingInt(CompareMe::getIndex).reversed()\r\n\t\t\t\t.thenComparing(CompareMe::getScore));\r\n\r\n\t\tSystem.out.println(max.getIndex() + &quot;-&quot; + max.getScore());\r\n\r\n\t\tlist = new ArrayList&lt;&gt;();\r\n\t\tlist.add(new CompareMe(1, null));\r\n\t\tlist.add(new CompareMe(1, null));\r\n\t\tlist.add(new CompareMe(2, 150));\r\n\t\tlist.add(new CompareMe(2, 110));\r\n\r\n\t\tmax = Collections.max(list, Comparator.comparingInt(CompareMe::getIndex).reversed()\r\n\t\t\t\t.thenComparing(CompareMe::getScore));\r\n\t\tSystem.out.println(max.getIndex() + &quot;-&quot; + max.getScore());\r\n\t}\r\n    }\r\n","title":"Compare two dependent fields in java Comparator","body":"<p>Using java Comparator I want to get the lowest index which is having a higher value.</p>\n<ul>\n<li><strong>Case 1</strong></li>\n</ul>\n<pre><code>\n| Index | Score |\n| ----- | ------|\n| 1     | 100   |\n| 1     | 110   |\n| 2     | 150   |\n</code></pre>\n<p><em>Output should be 1 - 110</em></p>\n<ul>\n<li><strong>Case 2</strong></li>\n</ul>\n<pre><code>| Index | Score |\n| ----- | ----- |\n| 1     | null  |\n| 1     | null  |\n| 2     | 150   |\n| 2     | 110   |\n</code></pre>\n<p><em>Output should be 2 - 150</em></p>\n<p>The below code is giving exception and also I know it will not provide expected output.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class CompareMe {\nprivate int index;\nprivate Integer score;\n\npublic CompareMe(int index, Integer score) {\n    this.index = index;\n    this.score = score;\n}\n\npublic int getIndex() {\n    return index;\n}\n\npublic Integer getScore() {\n    return score;\n}\n\npublic static void main(String[] args) {\n\n    List&lt;CompareMe&gt; list = new ArrayList&lt;&gt;();\n    list.add(new CompareMe(1, 100));\n    list.add(new CompareMe(1, 110));\n    list.add(new CompareMe(2, 150));\n\n    CompareMe max = Collections.max(list, Comparator.comparingInt(CompareMe::getIndex).reversed()\n            .thenComparing(CompareMe::getScore));\n\n    System.out.println(max.getIndex() + &quot;-&quot; + max.getScore());\n\n    list = new ArrayList&lt;&gt;();\n    list.add(new CompareMe(1, null));\n    list.add(new CompareMe(1, null));\n    list.add(new CompareMe(2, 150));\n    list.add(new CompareMe(2, 110));\n\n    max = Collections.max(list, Comparator.comparingInt(CompareMe::getIndex).reversed()\n            .thenComparing(CompareMe::getScore));\n    System.out.println(max.getIndex() + &quot;-&quot; + max.getScore());\n}\n}\n</code></pre>\n"},{"tags":["java","javafx","tableview"],"answers":[{"tags":[],"owner":{"account_id":23775943,"reputation":43,"user_id":17789405,"display_name":"A.CAL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654860817,"creation_date":1654860817,"answer_id":72573606,"question_id":72571952,"body_markdown":"I just had to replace \r\n```\r\nsystemeTab.setCellValueFactory(new PropertyValueFactory&lt;ResearchData, String&gt;(&quot;lSysteme&quot;));\r\n```\r\nwith \r\n```\r\nsystemeTab.setCellValueFactory(cellData -&gt; new ReadOnlyStringWrapper(cellData.getValue().getlSysteme()));\r\n```","title":"Filling a JavaFX tableview","body":"<p>I just had to replace</p>\n<pre><code>systemeTab.setCellValueFactory(new PropertyValueFactory&lt;ResearchData, String&gt;(&quot;lSysteme&quot;));\n</code></pre>\n<p>with</p>\n<pre><code>systemeTab.setCellValueFactory(cellData -&gt; new ReadOnlyStringWrapper(cellData.getValue().getlSysteme()));\n</code></pre>\n"}],"owner":{"account_id":23775943,"reputation":43,"user_id":17789405,"display_name":"A.CAL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654865019,"answer_count":1,"score":1,"last_activity_date":1654860817,"creation_date":1654852918,"question_id":72571952,"body_markdown":"I have a problem with one of the columns I use in a tableview.    \r\nThis column was initially used to show one type of data I have : \r\n   \r\n```\r\nusageTab.setCellValueFactory(new PropertyValueFactory&lt;ResearchData, String&gt;(&quot;lusage&quot;));\r\n```\r\n   \r\nI wanted to change the data that is shown in this column, so I changed the column name in my FXML file and I wrote this :     \r\n```\r\nsystemeTab.setCellValueFactory(new PropertyValueFactory&lt;ResearchData, String&gt;(&quot;lSysteme&quot;));\r\n```\r\n   \r\nMy ResearchData class is coded like this : \r\n```\r\npublic class ResearchData {\r\n\tpublic int getRang() {\r\n\t\treturn rang;\r\n\t}\r\n\tpublic void setRang(int rang) {\r\n\t\tthis.rang = rang;\r\n\tpublic String getLusage() {\r\n\t\treturn lusage;\r\n\t}\r\n\tpublic void setLusage(String lusage) {\r\n\t\tthis.lusage = lusage;\r\n\t}\r\n\tpublic String getlSysteme() {\r\n\t\treturn lSysteme;\r\n\t}\r\n\tpublic void setlSysteme(String lSysteme) {\r\n\t\tthis.lSysteme = lSysteme;\r\n\tprivate int rang;\r\n\tprivate String lusage;\r\n\tprivate String lSysteme;\r\n\r\n\r\n\tpublic ResearchData(int rang, \r\n\t\t\tString lusage, \r\n\t\t\tString lSysteme) {\r\n\t\tthis.rang= rang;\r\n\t\tthis.lusage= lusage;\r\n\t\tthis.lSysteme=lSysteme;\r\n\t}\r\n}\r\n```\r\n(I only kept rang, lusage and lSysteme, but I have a lot of other variables written exactly like this).          \r\n     \r\nWhen I launch the program, in the tableview, every column is displayed correctly except for the Systeme one, and I have this error message : \r\n```\r\njuin 10, 2022 10:55:35 AM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\r\nWARNING: Can not retrieve property &#39;lSysteme&#39; in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@106b20b1 with provided class type: class codejava.ResearchData\r\njava.lang.IllegalStateException: Cannot read from unreadable property lSysteme\r\n```\r\n   \r\n   \r\nI can print the Systeme data with the getter, and it corresponds to the one I have written.\r\n\r\nCan you help me? ","title":"Filling a JavaFX tableview","body":"<p>I have a problem with one of the columns I use in a tableview.<br />\nThis column was initially used to show one type of data I have :</p>\n<pre><code>usageTab.setCellValueFactory(new PropertyValueFactory&lt;ResearchData, String&gt;(&quot;lusage&quot;));\n</code></pre>\n<p>I wanted to change the data that is shown in this column, so I changed the column name in my FXML file and I wrote this :</p>\n<pre><code>systemeTab.setCellValueFactory(new PropertyValueFactory&lt;ResearchData, String&gt;(&quot;lSysteme&quot;));\n</code></pre>\n<p>My ResearchData class is coded like this :</p>\n<pre><code>public class ResearchData {\n    public int getRang() {\n        return rang;\n    }\n    public void setRang(int rang) {\n        this.rang = rang;\n    public String getLusage() {\n        return lusage;\n    }\n    public void setLusage(String lusage) {\n        this.lusage = lusage;\n    }\n    public String getlSysteme() {\n        return lSysteme;\n    }\n    public void setlSysteme(String lSysteme) {\n        this.lSysteme = lSysteme;\n    private int rang;\n    private String lusage;\n    private String lSysteme;\n\n\n    public ResearchData(int rang, \n            String lusage, \n            String lSysteme) {\n        this.rang= rang;\n        this.lusage= lusage;\n        this.lSysteme=lSysteme;\n    }\n}\n</code></pre>\n<p>(I only kept rang, lusage and lSysteme, but I have a lot of other variables written exactly like this).</p>\n<p>When I launch the program, in the tableview, every column is displayed correctly except for the Systeme one, and I have this error message :</p>\n<pre><code>juin 10, 2022 10:55:35 AM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\nWARNING: Can not retrieve property 'lSysteme' in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@106b20b1 with provided class type: class codejava.ResearchData\njava.lang.IllegalStateException: Cannot read from unreadable property lSysteme\n</code></pre>\n<p>I can print the Systeme data with the getter, and it corresponds to the one I have written.</p>\n<p>Can you help me?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":16739651,"reputation":16,"user_id":12099718,"display_name":"CaesarHo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654860512,"creation_date":1654860512,"answer_id":72573545,"question_id":72562744,"body_markdown":"Instead of using a counter in the conditional statement, try ForLoop.\r\n\r\n    static void homework() throws IOException {\r\n        Transaction tranxLst = new Transaction();\r\n        Block genesis = new Block(&quot;0&quot;);\r\n        System.out.println(genesis);\r\n        BufferedReader bf = new BufferedReader(new FileReader(&quot;dummytranx.txt&quot;));\r\n        String line = bf.readLine();\r\n        while (line != null) {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                tranxLst.add(line);\r\n                line = bf.readLine();\r\n                if (line == null) {\r\n                    break;\r\n                }\r\n            }\r\n            Block newBlock = new Block(genesis.getHeader().getPrevHash());\r\n            newBlock.setTranx(tranxLst);\r\n            System.out.println(newBlock);\r\n            tranxLst.getTranxLst().clear();\r\n        }\r\n        bf.close();\r\n    \r\n    }","title":"How to add remaining batch of n elements into arrayList?","body":"<p>Instead of using a counter in the conditional statement, try ForLoop.</p>\n<pre><code>static void homework() throws IOException {\n    Transaction tranxLst = new Transaction();\n    Block genesis = new Block(&quot;0&quot;);\n    System.out.println(genesis);\n    BufferedReader bf = new BufferedReader(new FileReader(&quot;dummytranx.txt&quot;));\n    String line = bf.readLine();\n    while (line != null) {\n        for (int i = 0; i &lt; 10; i++) {\n            tranxLst.add(line);\n            line = bf.readLine();\n            if (line == null) {\n                break;\n            }\n        }\n        Block newBlock = new Block(genesis.getHeader().getPrevHash());\n        newBlock.setTranx(tranxLst);\n        System.out.println(newBlock);\n        tranxLst.getTranxLst().clear();\n    }\n    bf.close();\n\n}\n</code></pre>\n"}],"owner":{"account_id":24275530,"reputation":77,"user_id":18222882,"display_name":"Jenkins2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72573545,"answer_count":1,"score":1,"last_activity_date":1654860512,"creation_date":1654787486,"question_id":72562744,"body_markdown":"I&#39;m currently learning to develop a simple blockchain program that reads sample data from .txt and creates a new block for every 10 transactions. I was wondering if the given sample data was 23 lines of transactions, is there a way to make a new block that consist of the last 3 transactions ?\r\n\r\nCurrent Output\r\n\r\n    Block[header=Header[index=0,currHash=51aa6b7cf5fb821189d58b5c995b4308370888efcaac469d79ad0a5d94fb0432, prevHash=0, timestamp=1654785847112], tranx=null]\r\n\r\n    Block[header=Header[index=0,currHash=92b3582095e2403c68401448e8a34864e8465d0ea51c05f11c23810ec36b4868, prevHash=0, timestamp=1654785847385], tranx=Transaction [tranxLst=[alice|bob|credit|1.0, alice|bob|debit|2.0, alice|bob|debit|3.0, alice|bob|credit|4.0, alice|bob|debit|5.0, alice|bob|credit|6.0, alice|bob|debit|7.0, alice|bob|debit|8.0, alice|bob|debit|9.0, alice|bob|debit|10.0]]]\r\n\r\n    Block[header=Header[index=0,currHash=7488c600433d78e0fb8586e71a010b1d39a040cb101cc6e3418668d21b614519, prevHash=0, timestamp=1654785847386], tranx=Transaction [tranxLst=[alice|bob|credit|11.0, alice|bob|credit|12.0, alice|bob|debit|13.0, alice|bob|debit|14.0, alice|bob|credit|15.0, alice|bob|credit|16.0, alice|bob|credit|17.0, alice|bob|debit|18.0, alice|bob|credit|19.0, alice|bob|credit|20.0]]]\r\n\r\nWhat I want\r\n\r\n    Block[header=Header[index=0,currHash=51aa6b7cf5fb821189d58b5c995b4308370888efcaac469d79ad0a5d94fb0432, prevHash=0, timestamp=1654785847112], tranx=null]\r\n\r\n    Block[header=Header[index=0,currHash=92b3582095e2403c68401448e8a34864e8465d0ea51c05f11c23810ec36b4868, prevHash=0, timestamp=1654785847385], tranx=Transaction [tranxLst=[alice|bob|credit|1.0, alice|bob|debit|2.0, alice|bob|debit|3.0, alice|bob|credit|4.0, alice|bob|debit|5.0, alice|bob|credit|6.0, alice|bob|debit|7.0, alice|bob|debit|8.0, alice|bob|debit|9.0, alice|bob|debit|10.0]]]   \r\n\r\n    Block[header=Header[index=0,currHash=7488c600433d78e0fb8586e71a010b1d39a040cb101cc6e3418668d21b614519, prevHash=0, timestamp=1654785847386], tranx=Transaction [tranxLst=[alice|bob|credit|11.0, alice|bob|credit|12.0, alice|bob|debit|13.0, alice|bob|debit|14.0, alice|bob|credit|15.0, alice|bob|credit|16.0, alice|bob|credit|17.0, alice|bob|debit|18.0, alice|bob|credit|19.0, alice|bob|credit|20.0]]]\r\n\r\n    Block[header=Header[index=0,currHash=7488c600433d78e0fb8586e71a010b1d39a040cb101cc6e3418668d21b614520, prevHash=0, timestamp=1654785847387], tranx=Transaction [tranxLst=[alice|bob|credit|21.0, alice|bob|credit|22.0, alice|bob|debit|23.0]]]\r\n\r\n\r\n\r\nmy code:\r\nClient app\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    \t\thomework();\r\n    \t}\r\n\r\n    static void homework() throws IOException {\r\n    \tint count = 0;\r\n    \tTransaction tranxLst = new Transaction();\r\n    \tBlock genesis = new Block(&quot;0&quot;);\r\n    \tSystem.out.println(genesis);\r\n    \r\n    \tBufferedReader bf = new BufferedReader(new FileReader(&quot;dummytranx.txt&quot;));\r\n    \tString line = bf.readLine();\r\n    \twhile (line != null) {\r\n    \t\ttranxLst.add(line);\r\n    \t\tline = bf.readLine();\r\n    \t\tcount++;\r\n    \t\tif (count % 10 == 0) {\r\n    \t\t\tBlock newBlock = new Block(genesis.getHeader().getPrevHash());\r\n    \t\t\tnewBlock.setTranx(tranxLst);\r\n    \t\t\tSystem.out.println(newBlock);\r\n    \t\t\ttranxLst.getTranxLst().clear();\r\n    \t\t}\r\n    \t}\r\n    \tbf.close();\r\n    \r\n    }\r\n\r\nTransaction class\r\n\r\n    public class Transaction implements Serializable {\r\n    \r\n    \tpublic static final int SIZE = 10;\r\n    \t/**\r\n    \t * we will comeback to generate the merkle root ie., hash of merkle tree\r\n    \t * merkleRoot = hash\r\n    \t */\r\n    \tprivate String merkleRoot = &quot;9a0885f8cd8d94a57cd76150a9c4fa8a4fed2d04c244f259041d8166cdfeca1b8c237b2c4bca57e87acb52c8fa0777da&quot;;\r\n    //\tprivate String merkleRoot;\t\r\n    \r\n    \tpublic String getMerkleRoot() {\r\n    \t\treturn merkleRoot;\r\n    \t}\r\n    \r\n    \tpublic void setMerkleRoot(String merkleRoot) {\r\n    \t\tthis.merkleRoot = merkleRoot;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * For the data collection, u may want to choose classic array or collection api\r\n    \t */\r\n    \tprivate List&lt;String&gt; tranxLst;\r\n    \r\n    \tpublic List&lt;String&gt; getTranxLst() {\r\n    \t\treturn tranxLst;\r\n    \t}\r\n    \r\n    \tpublic Transaction() {\r\n    \t\ttranxLst = new ArrayList&lt;&gt;(SIZE);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * add()\r\n    \t */\r\n    \tpublic void add(String tranx) {\r\n    \t\ttranxLst.add(tranx);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Transaction [tranxLst=&quot; + tranxLst + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nBlock class\r\n\r\n    public class Block implements Serializable {\r\n    \r\n    \tprivate Header header;\r\n    \r\n    \tpublic Header getHeader() {\r\n    \t\treturn header;\r\n    \t}\r\n    \r\n    \tprivate Transaction tranx;\r\n    \r\n    \tpublic Block(String previousHash) {\r\n    \t\theader = new Header();\r\n    \t\theader.setTimestamp(new Timestamp(System.currentTimeMillis()).getTime());\r\n    \t\theader.setPrevHash(previousHash);\r\n    \t\tString blockHash = Hasher.sha256(getBytes());\r\n    \t\theader.setCurrHash(blockHash);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * getBytes of the Block object\r\n    \t */\r\n    \tprivate byte[] getBytes() {\r\n    \t\ttry (ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\t\tObjectOutputStream out = new ObjectOutputStream(baos);) {\r\n    \t\t\tout.writeObject(this);\r\n    \t\t\treturn baos.toByteArray();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Transaction getTranx() {\r\n    \t\treturn tranx;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * aggregation rel\r\n    \t */\r\n    \tpublic void setTranx(Transaction tranx) {\r\n    \t\tthis.tranx = tranx;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * composition rel\r\n    \t */\r\n    \tpublic class Header implements Serializable {\r\n    \t\tprivate int index;\r\n    \t\tprivate String currHash, prevHash;\r\n    \t\tprivate long timestamp;\r\n    \r\n    \t\t// getset methods\r\n    \t\tpublic String getCurrHash() {\r\n    \t\t\treturn currHash;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getIndex() {\r\n    \t\t\treturn index;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setIndex(int index) {\r\n    \t\t\tthis.index = index;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setCurrHash(String currHash) {\r\n    \t\t\tthis.currHash = currHash;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getPrevHash() {\r\n    \t\t\treturn prevHash;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setPrevHash(String prevHash) {\r\n    \t\t\tthis.prevHash = prevHash;\r\n    \t\t}\r\n    \r\n    \t\tpublic long getTimestamp() {\r\n    \t\t\treturn timestamp;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setTimestamp(long timestamp) {\r\n    \t\t\tthis.timestamp = timestamp;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Header [index=&quot; + index + &quot;, currHash=&quot; + currHash + &quot;, prevHash=&quot; + prevHash + &quot;, timestamp=&quot;\r\n    \t\t\t\t\t+ timestamp + &quot;]&quot;;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Block [header=&quot; + header + &quot;, tranx=&quot; + tranx + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }\r\n    enter code here","title":"How to add remaining batch of n elements into arrayList?","body":"<p>I'm currently learning to develop a simple blockchain program that reads sample data from .txt and creates a new block for every 10 transactions. I was wondering if the given sample data was 23 lines of transactions, is there a way to make a new block that consist of the last 3 transactions ?</p>\n<p>Current Output</p>\n<pre><code>Block[header=Header[index=0,currHash=51aa6b7cf5fb821189d58b5c995b4308370888efcaac469d79ad0a5d94fb0432, prevHash=0, timestamp=1654785847112], tranx=null]\n\nBlock[header=Header[index=0,currHash=92b3582095e2403c68401448e8a34864e8465d0ea51c05f11c23810ec36b4868, prevHash=0, timestamp=1654785847385], tranx=Transaction [tranxLst=[alice|bob|credit|1.0, alice|bob|debit|2.0, alice|bob|debit|3.0, alice|bob|credit|4.0, alice|bob|debit|5.0, alice|bob|credit|6.0, alice|bob|debit|7.0, alice|bob|debit|8.0, alice|bob|debit|9.0, alice|bob|debit|10.0]]]\n\nBlock[header=Header[index=0,currHash=7488c600433d78e0fb8586e71a010b1d39a040cb101cc6e3418668d21b614519, prevHash=0, timestamp=1654785847386], tranx=Transaction [tranxLst=[alice|bob|credit|11.0, alice|bob|credit|12.0, alice|bob|debit|13.0, alice|bob|debit|14.0, alice|bob|credit|15.0, alice|bob|credit|16.0, alice|bob|credit|17.0, alice|bob|debit|18.0, alice|bob|credit|19.0, alice|bob|credit|20.0]]]\n</code></pre>\n<p>What I want</p>\n<pre><code>Block[header=Header[index=0,currHash=51aa6b7cf5fb821189d58b5c995b4308370888efcaac469d79ad0a5d94fb0432, prevHash=0, timestamp=1654785847112], tranx=null]\n\nBlock[header=Header[index=0,currHash=92b3582095e2403c68401448e8a34864e8465d0ea51c05f11c23810ec36b4868, prevHash=0, timestamp=1654785847385], tranx=Transaction [tranxLst=[alice|bob|credit|1.0, alice|bob|debit|2.0, alice|bob|debit|3.0, alice|bob|credit|4.0, alice|bob|debit|5.0, alice|bob|credit|6.0, alice|bob|debit|7.0, alice|bob|debit|8.0, alice|bob|debit|9.0, alice|bob|debit|10.0]]]   \n\nBlock[header=Header[index=0,currHash=7488c600433d78e0fb8586e71a010b1d39a040cb101cc6e3418668d21b614519, prevHash=0, timestamp=1654785847386], tranx=Transaction [tranxLst=[alice|bob|credit|11.0, alice|bob|credit|12.0, alice|bob|debit|13.0, alice|bob|debit|14.0, alice|bob|credit|15.0, alice|bob|credit|16.0, alice|bob|credit|17.0, alice|bob|debit|18.0, alice|bob|credit|19.0, alice|bob|credit|20.0]]]\n\nBlock[header=Header[index=0,currHash=7488c600433d78e0fb8586e71a010b1d39a040cb101cc6e3418668d21b614520, prevHash=0, timestamp=1654785847387], tranx=Transaction [tranxLst=[alice|bob|credit|21.0, alice|bob|credit|22.0, alice|bob|debit|23.0]]]\n</code></pre>\n<p>my code:\nClient app</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        homework();\n    }\n\nstatic void homework() throws IOException {\n    int count = 0;\n    Transaction tranxLst = new Transaction();\n    Block genesis = new Block(&quot;0&quot;);\n    System.out.println(genesis);\n\n    BufferedReader bf = new BufferedReader(new FileReader(&quot;dummytranx.txt&quot;));\n    String line = bf.readLine();\n    while (line != null) {\n        tranxLst.add(line);\n        line = bf.readLine();\n        count++;\n        if (count % 10 == 0) {\n            Block newBlock = new Block(genesis.getHeader().getPrevHash());\n            newBlock.setTranx(tranxLst);\n            System.out.println(newBlock);\n            tranxLst.getTranxLst().clear();\n        }\n    }\n    bf.close();\n\n}\n</code></pre>\n<p>Transaction class</p>\n<pre><code>public class Transaction implements Serializable {\n\n    public static final int SIZE = 10;\n    /**\n     * we will comeback to generate the merkle root ie., hash of merkle tree\n     * merkleRoot = hash\n     */\n    private String merkleRoot = &quot;9a0885f8cd8d94a57cd76150a9c4fa8a4fed2d04c244f259041d8166cdfeca1b8c237b2c4bca57e87acb52c8fa0777da&quot;;\n//  private String merkleRoot;  \n\n    public String getMerkleRoot() {\n        return merkleRoot;\n    }\n\n    public void setMerkleRoot(String merkleRoot) {\n        this.merkleRoot = merkleRoot;\n    }\n\n    /**\n     * For the data collection, u may want to choose classic array or collection api\n     */\n    private List&lt;String&gt; tranxLst;\n\n    public List&lt;String&gt; getTranxLst() {\n        return tranxLst;\n    }\n\n    public Transaction() {\n        tranxLst = new ArrayList&lt;&gt;(SIZE);\n    }\n\n    /**\n     * add()\n     */\n    public void add(String tranx) {\n        tranxLst.add(tranx);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Transaction [tranxLst=&quot; + tranxLst + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>Block class</p>\n<pre><code>public class Block implements Serializable {\n\n    private Header header;\n\n    public Header getHeader() {\n        return header;\n    }\n\n    private Transaction tranx;\n\n    public Block(String previousHash) {\n        header = new Header();\n        header.setTimestamp(new Timestamp(System.currentTimeMillis()).getTime());\n        header.setPrevHash(previousHash);\n        String blockHash = Hasher.sha256(getBytes());\n        header.setCurrHash(blockHash);\n    }\n\n    /**\n     * getBytes of the Block object\n     */\n    private byte[] getBytes() {\n        try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                ObjectOutputStream out = new ObjectOutputStream(baos);) {\n            out.writeObject(this);\n            return baos.toByteArray();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public Transaction getTranx() {\n        return tranx;\n    }\n\n    /**\n     * aggregation rel\n     */\n    public void setTranx(Transaction tranx) {\n        this.tranx = tranx;\n    }\n\n    /**\n     * composition rel\n     */\n    public class Header implements Serializable {\n        private int index;\n        private String currHash, prevHash;\n        private long timestamp;\n\n        // getset methods\n        public String getCurrHash() {\n            return currHash;\n        }\n\n        public int getIndex() {\n            return index;\n        }\n\n        public void setIndex(int index) {\n            this.index = index;\n        }\n\n        public void setCurrHash(String currHash) {\n            this.currHash = currHash;\n        }\n\n        public String getPrevHash() {\n            return prevHash;\n        }\n\n        public void setPrevHash(String prevHash) {\n            this.prevHash = prevHash;\n        }\n\n        public long getTimestamp() {\n            return timestamp;\n        }\n\n        public void setTimestamp(long timestamp) {\n            this.timestamp = timestamp;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Header [index=&quot; + index + &quot;, currHash=&quot; + currHash + &quot;, prevHash=&quot; + prevHash + &quot;, timestamp=&quot;\n                    + timestamp + &quot;]&quot;;\n        }\n\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Block [header=&quot; + header + &quot;, tranx=&quot; + tranx + &quot;]&quot;;\n    }\n\n}\nenter code here\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9242926,"reputation":82,"user_id":6865709,"display_name":"Gurarshdeep Singh"},"score":0,"creation_date":1654860142,"post_id":72572323,"comment_id":128198684,"body_markdown":"https://stackoverflow.com/questions/56287319/how-to-save-button-state-in-shared-preference","body":"<a href=\"https://stackoverflow.com/questions/56287319/how-to-save-button-state-in-shared-preference\" title=\"how to save button state in shared preference\">stackoverflow.com/questions/56287319/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654860109,"creation_date":1654860109,"answer_id":72573476,"question_id":72572323,"body_markdown":"Okay so first step is to write a getter setter method inside your pref manager class. \r\n\r\n    public String BUTTON_STATE= &quot;KEY_BUTTONSTATE&quot;;\r\n    \r\n        public void setbuttonstate(boolean state) {\r\n                editor.putBoolean(BUTTON_STATE, state);\r\n                editor.commit();\r\n            }\r\n        \r\n            public boolean getbuttonstate() {\r\n                return sharedPreferences.getBoolean(BUTTON_STATE, false);\r\n            }\r\n\r\nNow your getter should return a boolean value on which you will verify the last state of your button, by default it will be false\r\n\r\nNow first intialize your pref manager class inside adapter and after that inside your  `holder.btnacp` click listener do this:\r\n\r\n    yourprefmanagerclassname.setbuttonstate(true)\r\n\r\nWhat this means is that when the button is clicked it is set checked to true and the above line will save it&#39;s state to the method written in your prefmanager\r\n\r\nNow for the final step add this line in start of adapter:\r\n\r\n    if ( yourprefmanagerclassname.getbuttonstate) {\r\n                btnacp.setEnabled(true);\r\n    }\r\n\r\nWhenever your adapter will be initialised, this above method will check it&#39;s last state and set it accordingly, don&#39;t forget to add null checks for pref manager class and then for methods !!\r\n\r\nDo let me know if this helps you !!\r\n\r\n","title":"How can i save the state of the Button to shared preferences?","body":"<p>Okay so first step is to write a getter setter method inside your pref manager class.</p>\n<pre><code>public String BUTTON_STATE= &quot;KEY_BUTTONSTATE&quot;;\n\n    public void setbuttonstate(boolean state) {\n            editor.putBoolean(BUTTON_STATE, state);\n            editor.commit();\n        }\n    \n        public boolean getbuttonstate() {\n            return sharedPreferences.getBoolean(BUTTON_STATE, false);\n        }\n</code></pre>\n<p>Now your getter should return a boolean value on which you will verify the last state of your button, by default it will be false</p>\n<p>Now first intialize your pref manager class inside adapter and after that inside your  <code>holder.btnacp</code> click listener do this:</p>\n<pre><code>yourprefmanagerclassname.setbuttonstate(true)\n</code></pre>\n<p>What this means is that when the button is clicked it is set checked to true and the above line will save it's state to the method written in your prefmanager</p>\n<p>Now for the final step add this line in start of adapter:</p>\n<pre><code>if ( yourprefmanagerclassname.getbuttonstate) {\n            btnacp.setEnabled(true);\n}\n</code></pre>\n<p>Whenever your adapter will be initialised, this above method will check it's last state and set it accordingly, don't forget to add null checks for pref manager class and then for methods !!</p>\n<p>Do let me know if this helps you !!</p>\n"}],"owner":{"account_id":25462318,"reputation":11,"user_id":19261871,"display_name":"Akash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654860109,"creation_date":1654854795,"question_id":72572323,"body_markdown":"This is my code of adapter where I want to store the button is enabled or disabled to shared preference. I have four bottom navigation in this project and each time I navigate to this Fragment, the state of button gets refreshed. To prevent this from happening, I think it&#39;s better option to save to Shared Preference that the button is enabled or disabled.\r\n\r\nHere is the code of the data adapter where setOnClickListeners of buttons are located.\r\n\r\n    package com.example.projectrefill;\r\n    \r\n    import android.content.SharedPreferences;\r\n    import android.graphics.ColorSpace;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.Filter;\r\n    import android.widget.Filterable;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n    import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    public class adapter_clientside_order_list extends FirebaseRecyclerAdapter&lt;client_model_home_orders,adapter_clientside_order_list.myviewholder&gt; implements Filterable\r\n            {\r\n    \r\n    \r\n                public adapter_clientside_order_list(@NonNull FirebaseRecyclerOptions&lt;client_model_home_orders&gt; options) {\r\n                    super(options);\r\n                }\r\n    \r\n                @Override\r\n                protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull client_model_home_orders model) {\r\n                    holder.textView.setText(model.getName());\r\n                    holder.btnchk.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            AppCompatActivity appCompatActivity=(AppCompatActivity) view.getContext();\r\n                            appCompatActivity.getSupportFragmentManager().beginTransaction().replace(R.id.wrapper,new Checkordersbtn_client_Fragment(model.getName())).addToBackStack(null).commit();\r\n                        }\r\n                    });\r\n    \r\n    \r\n                    holder.btnacp.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            Toast.makeText(view.getContext(), &quot;accepting&quot;, Toast.LENGTH_SHORT).show();\r\n                            String retailername,itemname,quan;\r\n    \r\n                            Date c = Calendar.getInstance().getTime();\r\n    \r\n    \r\n                            SimpleDateFormat df = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault());\r\n                            String formattedDate = df.format(c).toString();\r\n                            System.out.println(&quot;date to display for the system   &quot;+formattedDate);\r\n    \r\n                            holder.btndel.setEnabled(true);\r\n                            holder.btnacp.setEnabled(false);\r\n                            holder.btncan.setEnabled(false);\r\n    \r\n                          \r\n    \r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n                    holder.btncan.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            Toast.makeText(view.getContext(), &quot;cancelling&quot;, Toast.LENGTH_SHORT).show();\r\n                            holder.btncan.setEnabled(false);\r\n                            holder.btnacp.setEnabled(false);\r\n                            holder.btndel.setEnabled(false);\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n    \r\n                    holder.btndel.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            holder.btndel.setEnabled(false);\r\n                            holder.btnacp.setEnabled(false);\r\n                            holder.btncan.setEnabled(false);\r\n                            Toast.makeText(view.getContext(), &quot;delivered&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n    \r\n    \r\n                }\r\n    \r\n                @NonNull\r\n                @Override\r\n                public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                   View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.single_row_order_clientside_homepage,parent,false);\r\n                   return new myviewholder(view);\r\n                }\r\n    \r\n    \r\n                @Override\r\n                public Filter getFilter() {\r\n                    return null;\r\n                }\r\n    \r\n    \r\n                public class myviewholder extends RecyclerView.ViewHolder\r\n                 {\r\n                        Button btnchk,btnacp,btncan,btndel;\r\n                        TextView textView;\r\n    \r\n    \r\n            public myviewholder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                textView=itemView.findViewById(R.id.retailer_name);\r\n                btnchk=itemView.findViewById(R.id.btn_checkorders);\r\n                btnacp=itemView.findViewById(R.id.btn_accept);\r\n                btncan=itemView.findViewById(R.id.btn_cancl);\r\n                btndel=itemView.findViewById(R.id.btn_deli);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How can i save the state of the Button to shared preferences?","body":"<p>This is my code of adapter where I want to store the button is enabled or disabled to shared preference. I have four bottom navigation in this project and each time I navigate to this Fragment, the state of button gets refreshed. To prevent this from happening, I think it's better option to save to Shared Preference that the button is enabled or disabled.</p>\n<p>Here is the code of the data adapter where setOnClickListeners of buttons are located.</p>\n<pre><code>package com.example.projectrefill;\n\nimport android.content.SharedPreferences;\nimport android.graphics.ColorSpace;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.Filter;\nimport android.widget.Filterable;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class adapter_clientside_order_list extends FirebaseRecyclerAdapter&lt;client_model_home_orders,adapter_clientside_order_list.myviewholder&gt; implements Filterable\n        {\n\n\n            public adapter_clientside_order_list(@NonNull FirebaseRecyclerOptions&lt;client_model_home_orders&gt; options) {\n                super(options);\n            }\n\n            @Override\n            protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull client_model_home_orders model) {\n                holder.textView.setText(model.getName());\n                holder.btnchk.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        AppCompatActivity appCompatActivity=(AppCompatActivity) view.getContext();\n                        appCompatActivity.getSupportFragmentManager().beginTransaction().replace(R.id.wrapper,new Checkordersbtn_client_Fragment(model.getName())).addToBackStack(null).commit();\n                    }\n                });\n\n\n                holder.btnacp.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Toast.makeText(view.getContext(), &quot;accepting&quot;, Toast.LENGTH_SHORT).show();\n                        String retailername,itemname,quan;\n\n                        Date c = Calendar.getInstance().getTime();\n\n\n                        SimpleDateFormat df = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault());\n                        String formattedDate = df.format(c).toString();\n                        System.out.println(&quot;date to display for the system   &quot;+formattedDate);\n\n                        holder.btndel.setEnabled(true);\n                        holder.btnacp.setEnabled(false);\n                        holder.btncan.setEnabled(false);\n\n                      \n\n\n                    }\n                });\n\n\n                holder.btncan.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Toast.makeText(view.getContext(), &quot;cancelling&quot;, Toast.LENGTH_SHORT).show();\n                        holder.btncan.setEnabled(false);\n                        holder.btnacp.setEnabled(false);\n                        holder.btndel.setEnabled(false);\n\n                    }\n                });\n\n\n\n                holder.btndel.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        holder.btndel.setEnabled(false);\n                        holder.btnacp.setEnabled(false);\n                        holder.btncan.setEnabled(false);\n                        Toast.makeText(view.getContext(), &quot;delivered&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n\n            }\n\n            @NonNull\n            @Override\n            public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n               View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.single_row_order_clientside_homepage,parent,false);\n               return new myviewholder(view);\n            }\n\n\n            @Override\n            public Filter getFilter() {\n                return null;\n            }\n\n\n            public class myviewholder extends RecyclerView.ViewHolder\n             {\n                    Button btnchk,btnacp,btncan,btndel;\n                    TextView textView;\n\n\n        public myviewholder(@NonNull View itemView) {\n            super(itemView);\n\n            textView=itemView.findViewById(R.id.retailer_name);\n            btnchk=itemView.findViewById(R.id.btn_checkorders);\n            btnacp=itemView.findViewById(R.id.btn_accept);\n            btncan=itemView.findViewById(R.id.btn_cancl);\n            btndel=itemView.findViewById(R.id.btn_deli);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","progress-bar"],"comments":[{"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"score":0,"creation_date":1654857824,"post_id":72572830,"comment_id":128197871,"body_markdown":"Are you using `android.widget.ProgressBar`?","body":"Are you using <code>android.widget.ProgressBar</code>?"},{"owner":{"account_id":10662565,"reputation":89,"user_id":7850133,"display_name":"Manuel Maurer"},"score":0,"creation_date":1654858297,"post_id":72572830,"comment_id":128198031,"body_markdown":"@RoshanaPitigala Thank you for your comment. I added the code samples to the question - is that what you were looking for?","body":"@RoshanaPitigala Thank you for your comment. I added the code samples to the question - is that what you were looking for?"},{"owner":{"account_id":7637243,"reputation":571,"user_id":6645112,"display_name":"Daxesh V"},"score":1,"creation_date":1654859263,"post_id":72572830,"comment_id":128198404,"body_markdown":"Use material components\n\nhttps://github.com/material-components/material-components-android/blob/master/docs/components/ProgressIndicator.md","body":"Use material components  <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/components/ProgressIndicator.md\" rel=\"nofollow noreferrer\">github.com/material-components/material-components-android/b&zwnj;&#8203;lob/&hellip;</a>"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1654859877,"post_id":72572830,"comment_id":128198598,"body_markdown":"show your apps theme file","body":"show your apps theme file"},{"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"score":0,"creation_date":1654861440,"post_id":72572830,"comment_id":128199099,"body_markdown":"just use a custom library those look great... like this one https://github.com/ybq/Android-SpinKit or similar","body":"just use a custom library those look great... like this one <a href=\"https://github.com/ybq/Android-SpinKit\" rel=\"nofollow noreferrer\">github.com/ybq/Android-SpinKit</a> or similar"}],"answers":[{"tags":[],"owner":{"account_id":9242926,"reputation":82,"user_id":6865709,"display_name":"Gurarshdeep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654859951,"creation_date":1654859951,"answer_id":72573444,"question_id":72572830,"body_markdown":"Try to change style\r\n\r\n     &lt;ProgressBar\r\n      android:id=&quot;@+id/Bar&quot;\r\n      style=&quot;@android:style/Widget.ProgressBar.Horizontal&quot;\r\n      android:layout_width=&quot;wrap_content&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:progress=&quot;25&quot;/&gt;","title":"Java Android Studio: Progressbars look old (like Android 5)","body":"<p>Try to change style</p>\n<pre><code> &lt;ProgressBar\n  android:id=&quot;@+id/Bar&quot;\n  style=&quot;@android:style/Widget.ProgressBar.Horizontal&quot;\n  android:layout_width=&quot;wrap_content&quot;\n  android:layout_height=&quot;wrap_content&quot;\n  android:progress=&quot;25&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":10662565,"reputation":89,"user_id":7850133,"display_name":"Manuel Maurer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654859951,"creation_date":1654857069,"question_id":72572830,"body_markdown":"I recently encountered a strange problem. When I try to add progress bars to my project, their appearance looks like the stone-age of android apps:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JFooT.png\r\n\r\n\r\nThey also look like this in the final build for Android 12. They are also really laggy. I&#39;d like to use the default Material Design Progressbars. It seems to work for every other project I have, except for this. \r\n\r\nThis is the code I use for the Progressbars (just the code, Android Studio uses via the designer view):\r\n\r\n    &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:indeterminate=&quot;true&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar5&quot;\r\n            style=&quot;?android:attr/progressBarStyleHorizontal&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n\r\nAnd this is the default-config of the build.gradle:\r\n\r\n     defaultConfig {\r\n        \r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;0.1&quot;\r\n    }","title":"Java Android Studio: Progressbars look old (like Android 5)","body":"<p>I recently encountered a strange problem. When I try to add progress bars to my project, their appearance looks like the stone-age of android apps:</p>\n<p><a href=\"https://i.stack.imgur.com/JFooT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFooT.png\" alt=\"enter image description here\" /></a></p>\n<p>They also look like this in the final build for Android 12. They are also really laggy. I'd like to use the default Material Design Progressbars. It seems to work for every other project I have, except for this.</p>\n<p>This is the code I use for the Progressbars (just the code, Android Studio uses via the designer view):</p>\n<pre><code>&lt;ProgressBar\n        android:id=&quot;@+id/progressBar3&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:indeterminate=&quot;true&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar5&quot;\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n</code></pre>\n<p>And this is the default-config of the build.gradle:</p>\n<pre><code> defaultConfig {\n    \n    minSdkVersion 21\n    targetSdkVersion 30\n    versionCode 1\n    versionName &quot;0.1&quot;\n}\n</code></pre>\n"},{"tags":["java","sorting","java-8","collectors"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1654859720,"creation_date":1654859396,"answer_id":72573334,"question_id":72572954,"body_markdown":"No need to using `partitioningBy` at all. You just need two comparators to first to compare by `isEducational` and then by `level`, which you can chain by using `Comparator.thenComparing`\r\n\r\n    resources.stream()\r\n             .sorted(Comparator.comparing(Resource::isEducational).reversed().thenComparing(Resource::getLevel))\r\n             .forEach(System.out::println);\r\n\r\nYou can introduce variables for the comparators to make your code more readable or if you want to reuse them in a flexible manner:\r\n\r\n    Comparator&lt;Resource&gt; byIsEdu = Comparator.comparing(Resource::isEducational).reversed();\r\n    Comparator&lt;Resource&gt; byLevel = Comparator.comparing(Resource::getLevel);\r\n\r\n    resources.stream()\r\n             .sorted(byIsEdu.thenComparing(byLevel))\r\n             .forEach(System.out::println);","title":"How to use partitioningBy and then sort resulting lists separately using Java Streams","body":"<p>No need to using <code>partitioningBy</code> at all. You just need two comparators to first to compare by <code>isEducational</code> and then by <code>level</code>, which you can chain by using <code>Comparator.thenComparing</code></p>\n<pre><code>resources.stream()\n         .sorted(Comparator.comparing(Resource::isEducational).reversed().thenComparing(Resource::getLevel))\n         .forEach(System.out::println);\n</code></pre>\n<p>You can introduce variables for the comparators to make your code more readable or if you want to reuse them in a flexible manner:</p>\n<pre><code>Comparator&lt;Resource&gt; byIsEdu = Comparator.comparing(Resource::isEducational).reversed();\nComparator&lt;Resource&gt; byLevel = Comparator.comparing(Resource::getLevel);\n\nresources.stream()\n         .sorted(byIsEdu.thenComparing(byLevel))\n         .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":5648480,"reputation":1048,"user_id":4469840,"display_name":"Adhyatmik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72573334,"answer_count":1,"score":2,"last_activity_date":1654859720,"creation_date":1654857599,"question_id":72572954,"body_markdown":"I have an object like following:\r\n\r\n```\r\npublic class Resource {\r\n  int level;\r\n  String identifier;\r\n  boolean isEducational;\r\n\r\n  public Resource(String level, String identifier, boolean isEducational) {\r\n            this.level = level;\r\n            this.identifier = identifier;\r\n            this.isEducational = isEducational;\r\n        }\r\n\r\n // getter and setters \r\n}\r\n```\r\n\r\nAnd a list of these Resources like:\r\n\r\n```\r\nList&lt;Resource&gt; resources = Arrays.asList(new Resource(4, &quot;a&quot;, true ),\r\n                                                new Resource(4, &quot;b&quot;, false),\r\n                                                new Resource(3, &quot;c&quot;, true ),\r\n                                                new Resource(3, &quot;d&quot;, false ),\r\n                                                new Resource(2, &quot;e&quot;, true ),\r\n                                                new Resource(2, &quot;f&quot; , false));\r\n```\r\nI want to sort this list by their `level` property but this sorting should be done separately for `isEducational` resources and **non**-`isEducational` resources.\r\n\r\nSo, after sorting, the resultant list should be in the following order:\r\n\r\n```\r\n[Resource e, Resource c, Resource a, Resource f, Resource d, Resource b]\r\n\r\n// basically, isEducational sorted first, followed by non-educational resources\r\n```\r\n\r\nSo I tried following: \r\n\r\n```\r\nList&lt;Resource&gt; resources1 = resources.stream()\r\n                .collect(partitioningBy(r -&gt; r.isEducational()))\r\n                .values()\r\n                .stream()\r\n                .map(list -&gt; {\r\n                    return list\r\n                            .stream()\r\n                            .sorted(comparing(r -&gt; r.getLevel()))\r\n                            .collect(toList());\r\n                })\r\n                .flatMap(Collection::stream)\r\n                .collect(toList());\r\n\r\n\r\nresources1.stream().forEach(System.out::println);\r\n```\r\nAnd it prints the output as:\r\n\r\n```\r\nResource{level=&#39;2&#39;, identifier=&#39;f&#39;, isEducational=&#39;false&#39;}\r\nResource{level=&#39;3&#39;, identifier=&#39;d&#39;, isEducational=&#39;false&#39;}\r\nResource{level=&#39;4&#39;, identifier=&#39;b&#39;, isEducational=&#39;false&#39;}\r\nResource{level=&#39;2&#39;, identifier=&#39;e&#39;, isEducational=&#39;true&#39;}\r\nResource{level=&#39;3&#39;, identifier=&#39;c&#39;, isEducational=&#39;true&#39;}\r\nResource{level=&#39;4&#39;, identifier=&#39;a&#39;, isEducational=&#39;true&#39;}\r\n```\r\nWhich is opposite of what I want i.e. its printing non-educational first, followed by educational resources\r\n\r\nIs there a better way to achieve this ? I do not want to iterate the list again to rearrange it. Thanks.\r\n\r\n\r\n\r\n","title":"How to use partitioningBy and then sort resulting lists separately using Java Streams","body":"<p>I have an object like following:</p>\n<pre><code>public class Resource {\n  int level;\n  String identifier;\n  boolean isEducational;\n\n  public Resource(String level, String identifier, boolean isEducational) {\n            this.level = level;\n            this.identifier = identifier;\n            this.isEducational = isEducational;\n        }\n\n // getter and setters \n}\n</code></pre>\n<p>And a list of these Resources like:</p>\n<pre><code>List&lt;Resource&gt; resources = Arrays.asList(new Resource(4, &quot;a&quot;, true ),\n                                                new Resource(4, &quot;b&quot;, false),\n                                                new Resource(3, &quot;c&quot;, true ),\n                                                new Resource(3, &quot;d&quot;, false ),\n                                                new Resource(2, &quot;e&quot;, true ),\n                                                new Resource(2, &quot;f&quot; , false));\n</code></pre>\n<p>I want to sort this list by their <code>level</code> property but this sorting should be done separately for <code>isEducational</code> resources and <strong>non</strong>-<code>isEducational</code> resources.</p>\n<p>So, after sorting, the resultant list should be in the following order:</p>\n<pre><code>[Resource e, Resource c, Resource a, Resource f, Resource d, Resource b]\n\n// basically, isEducational sorted first, followed by non-educational resources\n</code></pre>\n<p>So I tried following:</p>\n<pre><code>List&lt;Resource&gt; resources1 = resources.stream()\n                .collect(partitioningBy(r -&gt; r.isEducational()))\n                .values()\n                .stream()\n                .map(list -&gt; {\n                    return list\n                            .stream()\n                            .sorted(comparing(r -&gt; r.getLevel()))\n                            .collect(toList());\n                })\n                .flatMap(Collection::stream)\n                .collect(toList());\n\n\nresources1.stream().forEach(System.out::println);\n</code></pre>\n<p>And it prints the output as:</p>\n<pre><code>Resource{level='2', identifier='f', isEducational='false'}\nResource{level='3', identifier='d', isEducational='false'}\nResource{level='4', identifier='b', isEducational='false'}\nResource{level='2', identifier='e', isEducational='true'}\nResource{level='3', identifier='c', isEducational='true'}\nResource{level='4', identifier='a', isEducational='true'}\n</code></pre>\n<p>Which is opposite of what I want i.e. its printing non-educational first, followed by educational resources</p>\n<p>Is there a better way to achieve this ? I do not want to iterate the list again to rearrange it. Thanks.</p>\n"},{"tags":["java","android","mysql","database"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":4,"creation_date":1654859003,"post_id":72573191,"comment_id":128198300,"body_markdown":"*store images uploaded by the sellers in the database* Not recommended. Store them in the filesystem, and complete pathnames in the table.","body":"<i>store images uploaded by the sellers in the database</i> Not recommended. Store them in the filesystem, and complete pathnames in the table."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":4,"creation_date":1654859033,"post_id":72573191,"comment_id":128198311,"body_markdown":"Dont understand the problem. Everytime the user uploads an image you put it in the database. What else?","body":"Dont understand the problem. Everytime the user uploads an image you put it in the database. What else?"},{"owner":{"display_name":"user19029985"},"score":2,"creation_date":1654859107,"post_id":72573191,"comment_id":128198341,"body_markdown":"@Akina  Yes I know that and I am doing exactly what you said . What I am asking here is that how to make a database table if the no images uploaded by the seller is unknown . I don&#39;t know how many images he/she is going to upload .","body":"@Akina  Yes I know that and I am doing exactly what you said . What I am asking here is that how to make a database table if the no images uploaded by the seller is unknown . I don&#39;t know how many images he/she is going to upload ."},{"owner":{"account_id":8870716,"reputation":3084,"user_id":6624509,"display_name":"Thum Choon Tat"},"score":3,"creation_date":1654859144,"post_id":72573191,"comment_id":128198357,"body_markdown":"Use a separate table to store the images and have a foreign key for the product?","body":"Use a separate table to store the images and have a foreign key for the product?"},{"owner":{"display_name":"user19029985"},"score":1,"creation_date":1654859238,"post_id":72573191,"comment_id":128198388,"body_markdown":"@ThumChoonTat how to do that ?","body":"@ThumChoonTat how to do that ?"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":5,"creation_date":1654859258,"post_id":72573191,"comment_id":128198398,"body_markdown":"If the amount of images per user is above 1 then you must create a table where you&#39;d store images filenames, and add a column which refers to a row in users table. Common 1:N relation.","body":"If the amount of images per user is above 1 then you must create a table where you&#39;d store images filenames, and add a column which refers to a row in users table. Common 1:N relation."},{"owner":{"display_name":"user19029985"},"score":2,"creation_date":1654859280,"post_id":72573191,"comment_id":128198409,"body_markdown":"@blackapps I don&#39;t know the number of images user will upload .Its not fixed.","body":"@blackapps I don&#39;t know the number of images user will upload .Its not fixed."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1654859864,"post_id":72573191,"comment_id":128198592,"body_markdown":"Well what does it matter? As everytime the user uploads an image you put it in the database. Today. Tomorro. Everytime.","body":"Well what does it matter? As everytime the user uploads an image you put it in the database. Today. Tomorro. Everytime."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654865758,"post_id":72573191,"comment_id":128200683,"body_markdown":"See article: [*What Is a One-to-Many Relationship in a Database?*](https://vertabelo.com/blog/one-to-many-relationship/)","body":"See article: <a href=\"https://vertabelo.com/blog/one-to-many-relationship/\" rel=\"nofollow noreferrer\"><i>What Is a One-to-Many Relationship in a Database?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":8870716,"reputation":3084,"user_id":6624509,"display_name":"Thum Choon Tat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654859507,"creation_date":1654859507,"answer_id":72573351,"question_id":72573191,"body_markdown":"If the user can upload multiple images, store them in a separate table\r\n\r\n# product\r\n| id | name      |\r\n| -- | --------- |\r\n| 1  | Product A |\r\n| 2  | Product B |\r\n\r\n# product_image\r\n| product | image_path           | sort_order |\r\n| ------- | -------------------- | ---------- |\r\n| 1       | /path/to/image.jpg   | 1          |\r\n| 2       | /path/to/image-1.jpg | 1          |\r\n| 2       | /path/to/image-2.jpg | 2          |\r\n| 2       | /path/to/image-3.jpg | 3          |","title":"How to store unknown number of images into the MySQL database","body":"<p>If the user can upload multiple images, store them in a separate table</p>\n<h1>product</h1>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Product A</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Product B</td>\n</tr>\n</tbody>\n</table>\n</div><h1>product_image</h1>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>product</th>\n<th>image_path</th>\n<th>sort_order</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>/path/to/image.jpg</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>/path/to/image-1.jpg</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>/path/to/image-2.jpg</td>\n<td>2</td>\n</tr>\n<tr>\n<td>2</td>\n<td>/path/to/image-3.jpg</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"display_name":"user19029985"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654859507,"creation_date":1654858704,"question_id":72573191,"body_markdown":"I am creating multivendor ecommerce application using JAVA in android studio. \r\nI wanted to create a database to store products added by the sellers. Now I wanted to store images uploaded by the sellers in the database and I know very well how to that.\r\nBut the problem is that I don&#39;t know how many image the seller is going to upload. Sometimes he uploads 1 sometimes 2 or 3 or 4 and so on. Can anybody tell me how to create a code and database table to upload unknown number of images into the database ?","title":"How to store unknown number of images into the MySQL database","body":"<p>I am creating multivendor ecommerce application using JAVA in android studio.\nI wanted to create a database to store products added by the sellers. Now I wanted to store images uploaded by the sellers in the database and I know very well how to that.\nBut the problem is that I don't know how many image the seller is going to upload. Sometimes he uploads 1 sometimes 2 or 3 or 4 and so on. Can anybody tell me how to create a code and database table to upload unknown number of images into the database ?</p>\n"},{"tags":["java","android","inheritance","textview","widget"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1654862271,"post_id":72573318,"comment_id":128199366,"body_markdown":"do you actually need to be extending from textView and button here ?","body":"do you actually need to be extending from textView and button here ?"},{"owner":{"account_id":25524000,"reputation":1,"user_id":19313401,"display_name":"NoBugNoError"},"score":0,"creation_date":1654950035,"post_id":72573318,"comment_id":128216984,"body_markdown":"yes, there are numerous fields to display, they use a same appearance","body":"yes, there are numerous fields to display, they use a same appearance"}],"owner":{"account_id":25524000,"reputation":1,"user_id":19313401,"display_name":"NoBugNoError"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654859317,"creation_date":1654859317,"question_id":72573318,"body_markdown":"there are many sensors(gps/temperature/brightness) listened by SensorManager.\r\n\r\n    class Sensor{\r\n    \r\n     public Sensor getInstance(){\r\n      \r\n     }\r\n     public register(int id,Listener listener){\r\n     }\r\n     public unRegister(Listener listener){\r\n     }\r\n     \r\n     public interface Listener{\r\n      void onDataChange(int id, int value);\r\n     }\r\n    \r\n    }\r\n\r\nI want to use different widgets to display different sensors.\r\nlike this:\r\n\r\n        abstract class View1 extends TextView{\r\n          abstract int getSensorId();\r\n          abstract void onValueChange(int value);\r\n          public void onAttachToWindow(){\r\n            Sensor.getInstance.register(id,listener);\r\n          }\r\n        \r\n          public void onDetachFromWindow() {\r\n             Sensor.getInstance.unRegister(listener);\r\n          }\r\n          listener = new Listener(){\r\n              void onDataChange(int id, int value){\r\n                 onValueChange(value);\r\n              }\r\n          }\r\n        \r\n       }\r\n\r\n\r\n\r\n\r\n        abstract class View2 extends Button{\r\n          abstract int getSensorId();\r\n          abstract void onValueChange(int value);\r\n          public void onAttachToWindow(){\r\n            Sensor.getInstance.register(id,listener);\r\n          }\r\n        \r\n          public void onDetachFromWindow() {\r\n             Sensor.getInstance.unRegister(listener);\r\n          }\r\n          listener = new Listener(){\r\n              void onDataChange(int id, int value){\r\n                 onValueChange(value);\r\n              }\r\n          }\r\n        \r\n       }\r\n\r\n  \r\n\r\n      abstract class View3 extends ImageView{\r\n          abstract int getSensorId();\r\n          abstract void onValueChange(int value);\r\n          public void onAttachToWindow(){\r\n            Sensor.getInstance.register(id,listener);\r\n          }\r\n        \r\n          public void onDetachFromWindow() {\r\n             Sensor.getInstance.unRegister(listener);\r\n          }\r\n          listener = new Listener(){\r\n              void onDataChange(int id, int value){\r\n                 onValueChange(value);\r\n              }\r\n          }\r\n        \r\n       }\r\n   \r\n\r\n     abstract class View4 extends LinearLayout {\r\n          abstract int getSensorId();\r\n          abstract void onValueChange(int value);\r\n          public void onAttachToWindow(){\r\n            Sensor.getInstance.register(id,listener);\r\n          }\r\n        \r\n          public void onDetachFromWindow() {\r\n             Sensor.getInstance.unRegister(listener);\r\n          }\r\n          listener = new Listener(){\r\n              void onDataChange(int id, int value){\r\n                 onValueChange(value);\r\n              }\r\n          }\r\n        \r\n       }\r\n\r\n   \r\n\r\n     abstract class View5 extends RelativeLayout{\r\n          abstract int getSensorId();\r\n          abstract void onValueChange(int value);\r\n          public void onAttachToWindow(){\r\n            Sensor.getInstance.register(id,listener);\r\n          }\r\n        \r\n          public void onDetachFromWindow() {\r\n             Sensor.getInstance.unRegister(listener);\r\n          }\r\n          listener = new Listener(){\r\n              void onDataChange(int id, int value){\r\n                 onValueChange(value);\r\n              }\r\n          }\r\n        \r\n       }\r\n\r\nThe problem is too many widget.\r\nI figured out a solvent.(which failed to compile)\r\n\r\n  \r\n\r\n    abstract AbsView&lt;T extends View&gt; extends T{\r\n         abstract int getSensorId();\r\n          abstract void onValueChange(int value);\r\n          public void onAttachToWindow(){\r\n            Sensor.getInstance.register(id,listener);\r\n          }\r\n        \r\n          public void onDetachFromWindow() {\r\n             Sensor.getInstance.unRegister(listener);\r\n          }\r\n          listener = new Listener(){\r\n              void onDataChange(int id, int value){\r\n                 onValueChange(value);\r\n              }\r\n          }\r\n    \r\n      }\r\n\r\nexpecting i can use it like this\r\n\r\n\r\n    class View1 extends AbsView&lt;TextView&gt;{\r\n          int getSensorId(){\r\n            return gpsId;\r\n          }\r\n    \r\n         void onValueChange(int value){\r\n            setText(&quot;xxxx&quot;);\r\n         }\r\n    }\r\n    \r\n    class View2 extends AbsView&lt;ImageView&gt;{\r\n          int getSensorId(){\r\n            return gpsId;\r\n          }\r\n    \r\n         void onValueChange(int value){\r\n            setImage(xxx);\r\n         }\r\n    }\r\n    \r\n    class View3 extends AbsView&lt;LinearLayout&gt;{\r\n          int getSensorId(){\r\n            return gpsId;\r\n          }\r\n    \r\n         void onValueChange(int value){\r\n            addView(xxx);\r\n         }\r\n    }\r\n\r\n\r\n\r\n\r\nThem the compiler told me I can&#39;t do this.\r\nSo,is there any more elegant ways to accomplish it?\r\n\r\n\r\n","title":"How to meet this need? genericity?inheritance?","body":"<p>there are many sensors(gps/temperature/brightness) listened by SensorManager.</p>\n<pre><code>class Sensor{\n\n public Sensor getInstance(){\n  \n }\n public register(int id,Listener listener){\n }\n public unRegister(Listener listener){\n }\n \n public interface Listener{\n  void onDataChange(int id, int value);\n }\n\n}\n</code></pre>\n<p>I want to use different widgets to display different sensors.\nlike this:</p>\n<pre><code>    abstract class View1 extends TextView{\n      abstract int getSensorId();\n      abstract void onValueChange(int value);\n      public void onAttachToWindow(){\n        Sensor.getInstance.register(id,listener);\n      }\n    \n      public void onDetachFromWindow() {\n         Sensor.getInstance.unRegister(listener);\n      }\n      listener = new Listener(){\n          void onDataChange(int id, int value){\n             onValueChange(value);\n          }\n      }\n    \n   }\n\n\n\n\n    abstract class View2 extends Button{\n      abstract int getSensorId();\n      abstract void onValueChange(int value);\n      public void onAttachToWindow(){\n        Sensor.getInstance.register(id,listener);\n      }\n    \n      public void onDetachFromWindow() {\n         Sensor.getInstance.unRegister(listener);\n      }\n      listener = new Listener(){\n          void onDataChange(int id, int value){\n             onValueChange(value);\n          }\n      }\n    \n   }\n\n\n\n  abstract class View3 extends ImageView{\n      abstract int getSensorId();\n      abstract void onValueChange(int value);\n      public void onAttachToWindow(){\n        Sensor.getInstance.register(id,listener);\n      }\n    \n      public void onDetachFromWindow() {\n         Sensor.getInstance.unRegister(listener);\n      }\n      listener = new Listener(){\n          void onDataChange(int id, int value){\n             onValueChange(value);\n          }\n      }\n    \n   }\n\n\n abstract class View4 extends LinearLayout {\n      abstract int getSensorId();\n      abstract void onValueChange(int value);\n      public void onAttachToWindow(){\n        Sensor.getInstance.register(id,listener);\n      }\n    \n      public void onDetachFromWindow() {\n         Sensor.getInstance.unRegister(listener);\n      }\n      listener = new Listener(){\n          void onDataChange(int id, int value){\n             onValueChange(value);\n          }\n      }\n    \n   }\n\n\n\n abstract class View5 extends RelativeLayout{\n      abstract int getSensorId();\n      abstract void onValueChange(int value);\n      public void onAttachToWindow(){\n        Sensor.getInstance.register(id,listener);\n      }\n    \n      public void onDetachFromWindow() {\n         Sensor.getInstance.unRegister(listener);\n      }\n      listener = new Listener(){\n          void onDataChange(int id, int value){\n             onValueChange(value);\n          }\n      }\n    \n   }\n</code></pre>\n<p>The problem is too many widget.\nI figured out a solvent.(which failed to compile)</p>\n<pre><code>abstract AbsView&lt;T extends View&gt; extends T{\n     abstract int getSensorId();\n      abstract void onValueChange(int value);\n      public void onAttachToWindow(){\n        Sensor.getInstance.register(id,listener);\n      }\n    \n      public void onDetachFromWindow() {\n         Sensor.getInstance.unRegister(listener);\n      }\n      listener = new Listener(){\n          void onDataChange(int id, int value){\n             onValueChange(value);\n          }\n      }\n\n  }\n</code></pre>\n<p>expecting i can use it like this</p>\n<pre><code>class View1 extends AbsView&lt;TextView&gt;{\n      int getSensorId(){\n        return gpsId;\n      }\n\n     void onValueChange(int value){\n        setText(&quot;xxxx&quot;);\n     }\n}\n\nclass View2 extends AbsView&lt;ImageView&gt;{\n      int getSensorId(){\n        return gpsId;\n      }\n\n     void onValueChange(int value){\n        setImage(xxx);\n     }\n}\n\nclass View3 extends AbsView&lt;LinearLayout&gt;{\n      int getSensorId(){\n        return gpsId;\n      }\n\n     void onValueChange(int value){\n        addView(xxx);\n     }\n}\n</code></pre>\n<p>Them the compiler told me I can't do this.\nSo,is there any more elegant ways to accomplish it?</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1654852129,"post_id":72571109,"comment_id":128195796,"body_markdown":"LibGdx uses a Y-up coordinate system. So the zero-point you marked in your image is not in the upper left, but in the lower left corner, and the Y-axis increases to the up-direction. It is easier to use this coordinate system than to flip the y-coordinate, because it is used everywhere in libgdx.","body":"LibGdx uses a Y-up coordinate system. So the zero-point you marked in your image is not in the upper left, but in the lower left corner, and the Y-axis increases to the up-direction. It is easier to use this coordinate system than to flip the y-coordinate, because it is used everywhere in libgdx."},{"owner":{"account_id":25504126,"reputation":21,"user_id":19296869,"display_name":"user19296869"},"score":0,"creation_date":1654852912,"post_id":72571109,"comment_id":128196097,"body_markdown":"@Tobias I every update displayed the value &quot;Gdx.input.getY()&quot; and saw this result","body":"@Tobias I every update displayed the value &quot;Gdx.input.getY()&quot; and saw this result"},{"owner":{"account_id":25504126,"reputation":21,"user_id":19296869,"display_name":"user19296869"},"score":0,"creation_date":1654853362,"post_id":72571109,"comment_id":128196237,"body_markdown":"@Tobias https://imgur.com/a/joXtUop","body":"@Tobias <a href=\"https://imgur.com/a/joXtUop\" rel=\"nofollow noreferrer\">imgur.com/a/joXtUop</a>"}],"answers":[{"tags":[],"owner":{"account_id":25504126,"reputation":21,"user_id":19296869,"display_name":"user19296869"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654859125,"creation_date":1654859125,"answer_id":72573276,"question_id":72571109,"body_markdown":"I don&#39;t know why, but it worked. The code I am using:\r\n```java\r\n@Override\r\npublic void render(){\r\n    \r\n    Vector3 mouseAtScreen = new Vector3(Gdx.input.getX(),  Gdx.input.getY(), 0);\r\n    Vector2 mouseAtWorld = getWorldPositionFromScreen(mouseAtScreen);\r\n    spriteBatch.draw(cursorPointTexture, mouseAtWorld.x, mouseAtWorld.y, 5, 5);\r\n}\r\npublic Vector2 getWorldPositionFromScreen(Vector3 v){\r\n    Vector3 vc = orthographicCamera.unproject(new Vector3(v.x,   v.y, v.z));\r\n    return new Vector2(vc.x, vc.y); \r\n}\r\n```","title":"LibGDX How to get mouse coordinates in the world?","body":"<p>I don't know why, but it worked. The code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void render(){\n    \n    Vector3 mouseAtScreen = new Vector3(Gdx.input.getX(),  Gdx.input.getY(), 0);\n    Vector2 mouseAtWorld = getWorldPositionFromScreen(mouseAtScreen);\n    spriteBatch.draw(cursorPointTexture, mouseAtWorld.x, mouseAtWorld.y, 5, 5);\n}\npublic Vector2 getWorldPositionFromScreen(Vector3 v){\n    Vector3 vc = orthographicCamera.unproject(new Vector3(v.x,   v.y, v.z));\n    return new Vector2(vc.x, vc.y); \n}\n</code></pre>\n"}],"owner":{"account_id":25504126,"reputation":21,"user_id":19296869,"display_name":"user19296869"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654859125,"creation_date":1654848980,"question_id":72571109,"body_markdown":"I&#39;ve been looking for an answer for a long time, but I can&#39;t find it.\r\nI use:\r\n```\r\npublic Vector2 getWorldPositionFromScreen(Vector3 v){\r\n    Vector3 vc = orthographicCamera.unproject(v);\r\n    return new Vector2(vc.x, vc.y);\r\n}\r\n```\r\n\r\nBut the problem is that the y coordinate is flipped and I don&#39;t know how to flip it back. I tried the following methods, but none of them worked:\r\n```\r\npublic Vector2 getWorldPositionFromScreen(Vector3 v){\r\n    int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;\r\n    Vector3 vc = orthographicCamera.unproject(new Vector3(v.x, screenHeight - v.y, v.z));\r\n    return new Vector2(vc.x, vc.y);\r\n}\r\n```\r\n\r\nI tried debugging and realized that Gdx.input.getX() and ...getY() return coordinates relative to the window, not the screen [![enter image description here][1]][1]\r\nbut nevertheless camera.unproject copes with this, in addition to vertical inversion. But I figured out that the inversion comes from Gdx.input.getY()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UrQxn.png","title":"LibGDX How to get mouse coordinates in the world?","body":"<p>I've been looking for an answer for a long time, but I can't find it.\nI use:</p>\n<pre><code>public Vector2 getWorldPositionFromScreen(Vector3 v){\n    Vector3 vc = orthographicCamera.unproject(v);\n    return new Vector2(vc.x, vc.y);\n}\n</code></pre>\n<p>But the problem is that the y coordinate is flipped and I don't know how to flip it back. I tried the following methods, but none of them worked:</p>\n<pre><code>public Vector2 getWorldPositionFromScreen(Vector3 v){\n    int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;\n    Vector3 vc = orthographicCamera.unproject(new Vector3(v.x, screenHeight - v.y, v.z));\n    return new Vector2(vc.x, vc.y);\n}\n</code></pre>\n<p>I tried debugging and realized that Gdx.input.getX() and ...getY() return coordinates relative to the window, not the screen <a href=\"https://i.stack.imgur.com/UrQxn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UrQxn.png\" alt=\"enter image description here\" /></a>\nbut nevertheless camera.unproject copes with this, in addition to vertical inversion. But I figured out that the inversion comes from Gdx.input.getY()</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23675504,"reputation":9,"user_id":17701796,"display_name":"iggivannaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654858800,"creation_date":1654773869,"answer_id":72559449,"question_id":72559274,"body_markdown":"Javas behavoiur is to interprete your given values.\r\n\r\nYour cases:\r\n1)\r\n\r\n    System.out.println(100 + 100 +&quot;Simplilearn&quot;);\r\n\r\n100 is an integer, so Java interprets the &quot;+&quot; as arihmetic operator.\r\n100 + 100 equals 200.\r\n\r\nThe next &quot;+&quot; cant be of arithmetic type, because of &quot;Simplilearn&quot; wich is an String.\r\n\r\n2)\r\n\r\n    System.out.println(&quot;E-Learning Company&quot; + 100 + 100);\r\n\r\nIf you give Java an String at first (same is if you youse this as variable value), Java interprets the whole line as String. \r\nThis is because &quot;+&quot; can&#180;t be an arithmetic type, when the previous is a string.\r\n\r\nSo for Java your Output equals &quot;E-Learning Company100100&quot;.\r\n\r\n\r\n","title":"Need a Reason and what is the difference between these two things?","body":"<p>Javas behavoiur is to interprete your given values.</p>\n<p>Your cases:\n1)</p>\n<pre><code>System.out.println(100 + 100 +&quot;Simplilearn&quot;);\n</code></pre>\n<p>100 is an integer, so Java interprets the &quot;+&quot; as arihmetic operator.\n100 + 100 equals 200.</p>\n<p>The next &quot;+&quot; cant be of arithmetic type, because of &quot;Simplilearn&quot; wich is an String.</p>\n<p>2)</p>\n<pre><code>System.out.println(&quot;E-Learning Company&quot; + 100 + 100);\n</code></pre>\n<p>If you give Java an String at first (same is if you youse this as variable value), Java interprets the whole line as String.\nThis is because &quot;+&quot; can´t be an arithmetic type, when the previous is a string.</p>\n<p>So for Java your Output equals &quot;E-Learning Company100100&quot;.</p>\n"}],"owner":{"account_id":25515251,"reputation":1,"user_id":19306212,"display_name":"Kalaimaran Madhavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1654864407,"answer_count":1,"score":-3,"last_activity_date":1654858961,"creation_date":1654773034,"question_id":72559274,"body_markdown":"    System.out.println(100 + 100 +&quot;Simplilearn&quot;);   \r\n    System.out.println(&quot;E-Learning Company&quot; + 100 + 100);\r\n\r\noutput:\r\n\r\n    200Simplilearn  \r\n    E-Learning Company100100;","title":"Need a Reason and what is the difference between these two things?","body":"<pre><code>System.out.println(100 + 100 +&quot;Simplilearn&quot;);   \nSystem.out.println(&quot;E-Learning Company&quot; + 100 + 100);\n</code></pre>\n<p>output:</p>\n<pre><code>200Simplilearn  \nE-Learning Company100100;\n</code></pre>\n"},{"tags":["java","json","performance"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1654858180,"post_id":72573037,"comment_id":128197992,"body_markdown":"Possibly related: [Is there a streaming API for JSON?](https://stackoverflow.com/q/444380)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/444380\">Is there a streaming API for JSON?</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1654860841,"post_id":72573037,"comment_id":128198895,"body_markdown":"`JSONObject jsonObject = new JSONObject(jsonString); int value = jsonObject.getInt(&quot;MyType&quot;); System.out.println(value);`","body":"<code>JSONObject jsonObject = new JSONObject(jsonString); int value = jsonObject.getInt(&quot;MyType&quot;); System.out.println(value);</code>"}],"answers":[{"tags":[],"owner":{"account_id":25027592,"reputation":161,"user_id":18885664,"display_name":"byteunderflow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1654858924,"creation_date":1654858924,"answer_id":72573237,"question_id":72573037,"body_markdown":"In the implementation, the whole JSON string is processed directly after the constructor has been called. Thus, there is **no** possibility to read out only a single value.","title":"Get value from String-Json object","body":"<p>In the implementation, the whole JSON string is processed directly after the constructor has been called. Thus, there is <strong>no</strong> possibility to read out only a single value.</p>\n"}],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72573237,"answer_count":1,"score":3,"last_activity_date":1654858924,"creation_date":1654858000,"question_id":72573037,"body_markdown":"I have big String (which is not converted JSON):\r\n\r\n    {\r\n      &quot;MyType&quot; : &quot;5&quot;,\r\n      &quot;creationTime&quot; : &quot;06/03/2021 11:14:37&quot;,\r\n      &quot;entityCompositeKey&quot; : &quot;3001v4&quot;,\r\n      ...\r\n    }\r\n\r\n\r\nwhich another thousand lines.\r\n\r\nI am only interested in value which is in `MyType`, I don&#39;t care about other values.\r\n\r\n    JSONObject jsonObj = new JSONObject(view);\r\n    String chiupType = jsonObj.get(&quot;MyType&quot;).toString();\r\n\r\nbut it&#39;s way too slow. What is the fastest way to get only one value from String(JSON)?\r\n\r\n","title":"Get value from String-Json object","body":"<p>I have big String (which is not converted JSON):</p>\n<pre><code>{\n  &quot;MyType&quot; : &quot;5&quot;,\n  &quot;creationTime&quot; : &quot;06/03/2021 11:14:37&quot;,\n  &quot;entityCompositeKey&quot; : &quot;3001v4&quot;,\n  ...\n}\n</code></pre>\n<p>which another thousand lines.</p>\n<p>I am only interested in value which is in <code>MyType</code>, I don't care about other values.</p>\n<pre><code>JSONObject jsonObj = new JSONObject(view);\nString chiupType = jsonObj.get(&quot;MyType&quot;).toString();\n</code></pre>\n<p>but it's way too slow. What is the fastest way to get only one value from String(JSON)?</p>\n"},{"tags":["java","model","jtree"],"comments":[{"owner":{"account_id":469736,"reputation":19073,"user_id":876497,"accept_rate":64,"display_name":"DejanLekic"},"score":1,"creation_date":1349209368,"post_id":12697650,"comment_id":17142108,"body_markdown":"Did you try to use the root node, and use the `removeAllChildren()` method?","body":"Did you try to use the root node, and use the <code>removeAllChildren()</code> method?"},{"owner":{"account_id":1873881,"reputation":687,"user_id":1695532,"accept_rate":71,"display_name":"Adrian Stamin"},"score":1,"creation_date":1349210385,"post_id":12697650,"comment_id":17142500,"body_markdown":"It works.But I also needed the model.reload() called.","body":"It works.But I also needed the model.reload() called."}],"answers":[{"tags":[],"owner":{"account_id":1873881,"reputation":687,"user_id":1695532,"accept_rate":71,"display_name":"Adrian Stamin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1365295381,"creation_date":1349210570,"answer_id":12697987,"question_id":12697650,"body_markdown":"I worked it out.The new code looks like this. \r\n\r\n    public void fillUserList(){    \r\n        List&lt;User&gt; userFriends = ClientController.getInstance().getPrieteniiUserului(user);\r\n        root.removeAllChildren(); //this removes all nodes\r\n        model.reload(); //this notifies the listeners and changes the GUI\r\n        for(int i=0;i&lt;userFriends.size();i++){\r\n            User user = userFriends.get(i);\r\n            model.insertNodeInto(new DefaultMutableTreeNode(user.getNume()), root, i);        \r\n        }\r\n    }\r\n","title":"How do I clear a JTree model?(Removing all nodes)","body":"<p>I worked it out.The new code looks like this. </p>\n\n<pre><code>public void fillUserList(){    \n    List&lt;User&gt; userFriends = ClientController.getInstance().getPrieteniiUserului(user);\n    root.removeAllChildren(); //this removes all nodes\n    model.reload(); //this notifies the listeners and changes the GUI\n    for(int i=0;i&lt;userFriends.size();i++){\n        User user = userFriends.get(i);\n        model.insertNodeInto(new DefaultMutableTreeNode(user.getNume()), root, i);        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2497719,"reputation":81,"user_id":2173724,"display_name":"drvisor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371707478,"creation_date":1371707478,"answer_id":17206209,"question_id":12697650,"body_markdown":"If you actually need to *delete* ALL nodes *including root* node you should make model null. Like this: \r\n\r\n    mytree.setModel(null)","title":"How do I clear a JTree model?(Removing all nodes)","body":"<p>If you actually need to <em>delete</em> ALL nodes <em>including root</em> node you should make model null. Like this: </p>\n\n<pre><code>mytree.setModel(null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21615465,"reputation":31,"user_id":15943873,"display_name":"Volker Fr&#246;hlich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654858839,"creation_date":1654858839,"answer_id":72573217,"question_id":12697650,"body_markdown":"    public void clearTree(JTree tree) {\r\n    \t\tDefaultTreeModel model = (DefaultTreeModel) tree.getModel();\r\n    \t\tDefaultMutableTreeNode root = (DefaultMutableTreeNode) model.getRoot();\r\n    \t\troot.removeAllChildren();\r\n    \t\tmodel.reload();\r\n    \t}\r\n","title":"How do I clear a JTree model?(Removing all nodes)","body":"<pre><code>public void clearTree(JTree tree) {\n        DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\n        DefaultMutableTreeNode root = (DefaultMutableTreeNode) model.getRoot();\n        root.removeAllChildren();\n        model.reload();\n    }\n</code></pre>\n"}],"owner":{"account_id":1873881,"reputation":687,"user_id":1695532,"accept_rate":71,"display_name":"Adrian Stamin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18596,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":12697987,"answer_count":3,"score":8,"last_activity_date":1654858839,"creation_date":1349209170,"question_id":12697650,"body_markdown":"So this is a method of mine that is called everytime a new node is added.I need the model cleared everytime.The DefaultListModel has a .clear() method.The DefaultTreeModel does not.Help?     \r\n\r\n\r\n        public void fillUserList(){\r\n        \r\n        List&lt;User&gt; userFriends = ClientController.getInstance().getPrieteniiUserului(user);\r\n        \r\n        for(int i=0;i&lt;userFriends.size();i++){\r\n            User user = userFriends.get(i);\r\n           \r\n            model.insertNodeInto(new DefaultMutableTreeNode(user.getNume()), root, i);\r\n        \r\n        }\r\n        \r\n        System.out.println(userFriends);\r\n        \r\n    }","title":"How do I clear a JTree model?(Removing all nodes)","body":"<p>So this is a method of mine that is called everytime a new node is added.I need the model cleared everytime.The DefaultListModel has a .clear() method.The DefaultTreeModel does not.Help?     </p>\n\n<pre><code>    public void fillUserList(){\n\n    List&lt;User&gt; userFriends = ClientController.getInstance().getPrieteniiUserului(user);\n\n    for(int i=0;i&lt;userFriends.size();i++){\n        User user = userFriends.get(i);\n\n        model.insertNodeInto(new DefaultMutableTreeNode(user.getNume()), root, i);\n\n    }\n\n    System.out.println(userFriends);\n\n}\n</code></pre>\n"},{"tags":["java","methods","stream"],"answers":[{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654858407,"creation_date":1654857834,"answer_id":72572995,"question_id":72572898,"body_markdown":"Without using reflection, your best choice is probably passing a `FunctionalInterface` to the method:\r\n\r\nMethod call:\r\n\r\n    getTotal(journalLines, JournalLine::getCcyAmount);\r\n\r\nand the method looks like this:\r\n\r\n\tpublic BigDecimal getTotal(List&lt;JournalLine&gt; journalLines,\r\n\t\t\tFunction&lt;JournalLine, BigDecimal&gt; function) {\r\n\t\treturn journalLines.stream().map(function).reduce((a, b) -&gt; a.add(b))\r\n\t\t\t\t.orElse(BigDecimal.ZERO);\r\n\t}\r\n\r\nIf you are really fixed on using a `String` as method argument, you wont get around using reflection. And that is where it becomes ugly, codewise:\r\n\r\n \tprivate static BigDecimal getTotal(List&lt;JournalLine&gt; journalLines, String methodName) {\r\n\t\tMethod method;\r\n\t\ttry {\r\n\t\t\tmethod = JournalLine.class.getDeclaredMethod(methodName);\r\n\t\t} catch (NoSuchMethodException | SecurityException e2) {\r\n\t\t\te2.printStackTrace();\r\n\t\t\tthrow new RuntimeException(&quot;Unhandled&quot;, e2);\r\n\t\t}\r\n\t\treturn journalLines.stream().map(e -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\treturn (BigDecimal) method.invoke(e);\r\n\t\t\t} catch (IllegalAccessException | IllegalArgumentException\r\n\t\t\t\t\t| InvocationTargetException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t\tthrow new RuntimeException(&quot;Unhandled&quot;, e1);\r\n\t\t\t}\r\n\t\t}).reduce((a, b) -&gt; a.add(b)).orElse(BigDecimal.ZERO);\r\n\t}\r\n\r\nThis would then work by calling \r\n\r\n    getTotal(list, &quot;getCcyAmount&quot;);\r\n\r\nHowever, you are way more prone to errors, by e.g. having a typo in your methodname string. The compiler can&#39;t even tell you before running into an error, as it is just a String, until the reflection starts.\r\n\r\n---\r\n\r\nOverall I suggest using `FunctionalInterface`s over reflection. Not only is the code less cluttered, but also you have the support of the compiler while coding.","title":"How to pass a method name as a parameter in Java","body":"<p>Without using reflection, your best choice is probably passing a <code>FunctionalInterface</code> to the method:</p>\n<p>Method call:</p>\n<pre><code>getTotal(journalLines, JournalLine::getCcyAmount);\n</code></pre>\n<p>and the method looks like this:</p>\n<pre><code>public BigDecimal getTotal(List&lt;JournalLine&gt; journalLines,\n        Function&lt;JournalLine, BigDecimal&gt; function) {\n    return journalLines.stream().map(function).reduce((a, b) -&gt; a.add(b))\n            .orElse(BigDecimal.ZERO);\n}\n</code></pre>\n<p>If you are really fixed on using a <code>String</code> as method argument, you wont get around using reflection. And that is where it becomes ugly, codewise:</p>\n<pre><code>private static BigDecimal getTotal(List&lt;JournalLine&gt; journalLines, String methodName) {\n    Method method;\n    try {\n        method = JournalLine.class.getDeclaredMethod(methodName);\n    } catch (NoSuchMethodException | SecurityException e2) {\n        e2.printStackTrace();\n        throw new RuntimeException(&quot;Unhandled&quot;, e2);\n    }\n    return journalLines.stream().map(e -&gt; {\n        try {\n            return (BigDecimal) method.invoke(e);\n        } catch (IllegalAccessException | IllegalArgumentException\n                | InvocationTargetException e1) {\n            e1.printStackTrace();\n            throw new RuntimeException(&quot;Unhandled&quot;, e1);\n        }\n    }).reduce((a, b) -&gt; a.add(b)).orElse(BigDecimal.ZERO);\n}\n</code></pre>\n<p>This would then work by calling</p>\n<pre><code>getTotal(list, &quot;getCcyAmount&quot;);\n</code></pre>\n<p>However, you are way more prone to errors, by e.g. having a typo in your methodname string. The compiler can't even tell you before running into an error, as it is just a String, until the reflection starts.</p>\n<hr />\n<p>Overall I suggest using <code>FunctionalInterface</code>s over reflection. Not only is the code less cluttered, but also you have the support of the compiler while coding.</p>\n"}],"owner":{"account_id":3087409,"reputation":10441,"user_id":2614299,"accept_rate":91,"display_name":"Dimitri Dewaele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72572995,"answer_count":1,"score":1,"last_activity_date":1654858407,"creation_date":1654857394,"question_id":72572898,"body_markdown":"**Is there a way to parameterize  a method name?**\r\n\r\n\r\n**Example**:\r\n\r\n    JournalLine {\r\n    \r\n        BigDecimal ccyAmount;\r\n        BigDecimal lcyAmount;\r\n        BigDecimal rptAmount;\r\n       \r\n        // Getters and Setters\r\n    }\r\n\r\n***Original (working)***\r\n\r\n    // Calculate totals\r\n    BigDecimal totalCcyAmount = journalLines.stream()\r\n                                            .map(journalLine -&gt; journalLine.getCcyAmount())\r\n                                            .reduce((a, b) -&gt; a.add(b))\r\n                                            .orElse(BigDecimal.ZERO);\r\n    \r\n    BigDecimal totalLclAmount = journalLines.stream()\r\n                                           .map(journalLine -&gt; journalLine.getLclAmount())\r\n                                           .reduce((a, b) -&gt; a.add(b))\r\n                                           .orElse(BigDecimal.ZERO);\r\n    \r\n    BigDecimal totalRptAmount = journalLines.stream()\r\n                                            .map(journalLine -&gt; journalLine.getRptAmount())\r\n                                            .reduce((a, b) -&gt; a.add(b))\r\n                                            .orElse(BigDecimal.ZERO);\r\n                                        \r\n                                        \r\nThis duplication is used in different locations of the application. Not always together.\r\n\r\n***Is there a way to do something like:***\r\n\r\n    //Calculate totals and pass the method name\r\n    BigDecimal totalCcyAmount = getTotal(journalLines, &quot;getCcyAmount&quot;);\r\n    BigDecimal totallclAmount = getTotal(journalLines, &quot;getCcyAmount&quot;);\r\n    BigDecimal totalRptAmount = getTotal(journalLines, &quot;getCcyAmount&quot;);\r\n                                            \r\n    public BigDecimal getTotal( List&lt;JournalLine&gt; journalLines, String METHOD_NAME) {\r\n        return journalLines.stream()\r\n                             .map(journalLine -&gt; journalLine.METHOD_NAME)\r\n                             .reduce((a, b) -&gt; a.add(b))\r\n                             .orElse(BigDecimal.ZERO);\r\n    }\r\n\r\nI want to pass METHOD_NAME (getCcyAmount() or getLcyAmount() or getRptAmount ())\r\nor use a different approach to avoid duplication of code.","title":"How to pass a method name as a parameter in Java","body":"<p><strong>Is there a way to parameterize  a method name?</strong></p>\n<p><strong>Example</strong>:</p>\n<pre><code>JournalLine {\n\n    BigDecimal ccyAmount;\n    BigDecimal lcyAmount;\n    BigDecimal rptAmount;\n   \n    // Getters and Setters\n}\n</code></pre>\n<p><em><strong>Original (working)</strong></em></p>\n<pre><code>// Calculate totals\nBigDecimal totalCcyAmount = journalLines.stream()\n                                        .map(journalLine -&gt; journalLine.getCcyAmount())\n                                        .reduce((a, b) -&gt; a.add(b))\n                                        .orElse(BigDecimal.ZERO);\n\nBigDecimal totalLclAmount = journalLines.stream()\n                                       .map(journalLine -&gt; journalLine.getLclAmount())\n                                       .reduce((a, b) -&gt; a.add(b))\n                                       .orElse(BigDecimal.ZERO);\n\nBigDecimal totalRptAmount = journalLines.stream()\n                                        .map(journalLine -&gt; journalLine.getRptAmount())\n                                        .reduce((a, b) -&gt; a.add(b))\n                                        .orElse(BigDecimal.ZERO);\n                                    \n                                    \n</code></pre>\n<p>This duplication is used in different locations of the application. Not always together.</p>\n<p><em><strong>Is there a way to do something like:</strong></em></p>\n<pre><code>//Calculate totals and pass the method name\nBigDecimal totalCcyAmount = getTotal(journalLines, &quot;getCcyAmount&quot;);\nBigDecimal totallclAmount = getTotal(journalLines, &quot;getCcyAmount&quot;);\nBigDecimal totalRptAmount = getTotal(journalLines, &quot;getCcyAmount&quot;);\n                                        \npublic BigDecimal getTotal( List&lt;JournalLine&gt; journalLines, String METHOD_NAME) {\n    return journalLines.stream()\n                         .map(journalLine -&gt; journalLine.METHOD_NAME)\n                         .reduce((a, b) -&gt; a.add(b))\n                         .orElse(BigDecimal.ZERO);\n}\n</code></pre>\n<p>I want to pass METHOD_NAME (getCcyAmount() or getLcyAmount() or getRptAmount ())\nor use a different approach to avoid duplication of code.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654858220,"creation_date":1654857685,"answer_id":72572967,"question_id":72572432,"body_markdown":"The following works for me. Looking through the source code, it appears that the `CA$` is the *currency symbol*. Seems like it was changed from `CAD` (in Java 8) to `CA$` (in later versions). The following line of code actually returns a `DecimalFormat` instance.\r\n```java\r\nNumberFormat formatter = NumberFormat.getCurrencyInstance();\r\n```\r\nYou can explicitly set the currency symbol to `CAD`.\r\n```java\r\nimport java.text.DecimalFormat;\r\nimport java.text.DecimalFormatSymbols;\r\nimport java.text.NumberFormat;\r\nimport java.util.Currency;\r\n\r\npublic class SchTasks {\r\n\r\n    public static void main(String args[]) {\r\n        Currency currency = Currency.getInstance(&quot;CAD&quot;);\r\n        NumberFormat formatter = NumberFormat.getCurrencyInstance();\r\n        formatter.setCurrency(currency);\r\n        DecimalFormatSymbols dfs = new DecimalFormatSymbols();\r\n        dfs.setCurrencySymbol(&quot;CAD&quot;);\r\n        ((DecimalFormat) formatter).setDecimalFormatSymbols(dfs);\r\n        formatter.setMaximumFractionDigits(2);\r\n        formatter.setMinimumFractionDigits(2);\r\n        System.out.println(&quot; &quot; + formatter.format(10.00)) ;\r\n    }\r\n}\r\n```\r\nYou can run the above code from this *JDoodle*\r\n\r\nhttps://www.jdoodle.com/iembed/v0/s67\r\n","title":"Formatting currency with java8 and java 11","body":"<p>The following works for me. Looking through the source code, it appears that the <code>CA$</code> is the <em>currency symbol</em>. Seems like it was changed from <code>CAD</code> (in Java 8) to <code>CA$</code> (in later versions). The following line of code actually returns a <code>DecimalFormat</code> instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NumberFormat formatter = NumberFormat.getCurrencyInstance();\n</code></pre>\n<p>You can explicitly set the currency symbol to <code>CAD</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.DecimalFormat;\nimport java.text.DecimalFormatSymbols;\nimport java.text.NumberFormat;\nimport java.util.Currency;\n\npublic class SchTasks {\n\n    public static void main(String args[]) {\n        Currency currency = Currency.getInstance(&quot;CAD&quot;);\n        NumberFormat formatter = NumberFormat.getCurrencyInstance();\n        formatter.setCurrency(currency);\n        DecimalFormatSymbols dfs = new DecimalFormatSymbols();\n        dfs.setCurrencySymbol(&quot;CAD&quot;);\n        ((DecimalFormat) formatter).setDecimalFormatSymbols(dfs);\n        formatter.setMaximumFractionDigits(2);\n        formatter.setMinimumFractionDigits(2);\n        System.out.println(&quot; &quot; + formatter.format(10.00)) ;\n    }\n}\n</code></pre>\n<p>You can run the above code from this <em>JDoodle</em></p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/s67\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/s67</a></p>\n"}],"owner":{"account_id":119358,"reputation":3916,"user_id":311001,"accept_rate":84,"display_name":"Hades"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72572967,"answer_count":1,"score":0,"last_activity_date":1654858220,"creation_date":1654855343,"question_id":72572432,"body_markdown":"I have an issue where the format returned from the exact same methods are different in different java versions.\r\n\r\n      Currency currency = Currency.getInstance(&quot;CAD&quot;);\r\n      NumberFormat formatter = NumberFormat.getCurrencyInstance();\r\n      formatter.setCurrency(currency);\r\n      formatter.setMaximumFractionDigits(2);\r\n      formatter.setMinimumFractionDigits(2);\r\n      System.out.println(&quot; &quot; + formatter.format(10.00)) ;\r\n\r\nIt returns `CA$10.00` in Java 11 but in Java 8 it&#39;s `CAD10.00`.\r\n\r\n\r\nIs there any way I can get the prefix to always be CAD across Java versions? I know that `currency.getCurrencyCode()` returns CAD consistently across the versions. But I can&#39;t seem to find an overloaded method that let&#39;s me configure this.\r\n","title":"Formatting currency with java8 and java 11","body":"<p>I have an issue where the format returned from the exact same methods are different in different java versions.</p>\n<pre><code>  Currency currency = Currency.getInstance(&quot;CAD&quot;);\n  NumberFormat formatter = NumberFormat.getCurrencyInstance();\n  formatter.setCurrency(currency);\n  formatter.setMaximumFractionDigits(2);\n  formatter.setMinimumFractionDigits(2);\n  System.out.println(&quot; &quot; + formatter.format(10.00)) ;\n</code></pre>\n<p>It returns <code>CA$10.00</code> in Java 11 but in Java 8 it's <code>CAD10.00</code>.</p>\n<p>Is there any way I can get the prefix to always be CAD across Java versions? I know that <code>currency.getCurrencyCode()</code> returns CAD consistently across the versions. But I can't seem to find an overloaded method that let's me configure this.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":7,"creation_date":1654852441,"post_id":72571811,"comment_id":128195919,"body_markdown":"`Map&lt;String, Integer&gt; colorToCountMap = dresses.stream().collect(Collectors.groupingBy(Dress::getColor, Collectors.summingInt(x -&gt; 1)));`","body":"<code>Map&lt;String, Integer&gt; colorToCountMap = dresses.stream().collect(Collectors.groupingBy(Dress::getCol&zwnj;&#8203;or, Collectors.summingInt(x -&gt; 1)));</code>"},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1654852656,"post_id":72571811,"comment_id":128196004,"body_markdown":"@shmosel thank you, it works! If you can post it as an answer I would be happy to accept it.","body":"@shmosel thank you, it works! If you can post it as an answer I would be happy to accept it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1654853214,"post_id":72571811,"comment_id":128196184,"body_markdown":"@ParagKadam You may draft, post, and accept an Answer to your own Question.","body":"@ParagKadam You may draft, post, and accept an Answer to your own Question."}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1654857414,"creation_date":1654853422,"answer_id":72572050,"question_id":72571811,"body_markdown":"If you can live with `Long` instead of `Integer`, you can use [`Collectors.counting()`][1] as downstream collector:\r\n\r\n\tprivate record Dress(String brandName, String color) {}\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;String, Long&gt; result = Stream.of(new Dress(&quot;One&quot;, &quot;Red&quot;), new Dress(&quot;Two&quot;, &quot;Green&quot;), new Dress(&quot;Three&quot;, &quot;Red&quot;))\r\n\t\t\t\t.collect(Collectors.groupingBy(Dress::color, Collectors.counting()));\r\n\t\t\t\r\n\t\tresult.forEach((k,v) -&gt; System.out.println(k + &quot;: &quot; + v));\r\n    }\r\n\r\nIf it has to be `Integer`, you can use `Collectors.summingInt(x -&gt; 1)` as mentioned in the comments:\r\n\r\n\t\tMap&lt;String, Integer&gt; result = Stream.of(new Dress(&quot;One&quot;, &quot;Red&quot;), new Dress(&quot;Two&quot;, &quot;Green&quot;), new Dress(&quot;Three&quot;, &quot;Red&quot;))\r\n\t\t\t\t.collect(Collectors.groupingBy(Dress::color, Collectors.summingInt(x -&gt; 1)));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#counting()","title":"Java stream returning a Map","body":"<p>If you can live with <code>Long</code> instead of <code>Integer</code>, you can use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#counting()\" rel=\"nofollow noreferrer\"><code>Collectors.counting()</code></a> as downstream collector:</p>\n<pre><code>private record Dress(String brandName, String color) {}\n    \npublic static void main(String[] args) {\n    Map&lt;String, Long&gt; result = Stream.of(new Dress(&quot;One&quot;, &quot;Red&quot;), new Dress(&quot;Two&quot;, &quot;Green&quot;), new Dress(&quot;Three&quot;, &quot;Red&quot;))\n            .collect(Collectors.groupingBy(Dress::color, Collectors.counting()));\n        \n    result.forEach((k,v) -&gt; System.out.println(k + &quot;: &quot; + v));\n}\n</code></pre>\n<p>If it has to be <code>Integer</code>, you can use <code>Collectors.summingInt(x -&gt; 1)</code> as mentioned in the comments:</p>\n<pre><code>    Map&lt;String, Integer&gt; result = Stream.of(new Dress(&quot;One&quot;, &quot;Red&quot;), new Dress(&quot;Two&quot;, &quot;Green&quot;), new Dress(&quot;Three&quot;, &quot;Red&quot;))\n            .collect(Collectors.groupingBy(Dress::color, Collectors.summingInt(x -&gt; 1)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10643203,"reputation":541,"user_id":7837530,"display_name":"Geeth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654855947,"creation_date":1654855947,"answer_id":72572581,"question_id":72571811,"body_markdown":"You can get `Map&lt;String, Integer&gt;` map using following code\r\n\r\n            Map&lt;String, Integer&gt; colorToCountMap = dresses.stream().\r\n            .collect(Collectors.toMap(Dress::getColor, e -&gt; 1, Math::addExact));","title":"Java stream returning a Map","body":"<p>You can get <code>Map&lt;String, Integer&gt;</code> map using following code</p>\n<pre><code>        Map&lt;String, Integer&gt; colorToCountMap = dresses.stream().\n        .collect(Collectors.toMap(Dress::getColor, e -&gt; 1, Math::addExact));\n</code></pre>\n"}],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72572050,"answer_count":2,"score":3,"last_activity_date":1654857414,"creation_date":1654852228,"question_id":72571811,"body_markdown":"How can I get the following problem solved using Java Streams?\r\n\r\n**Given:-**\r\n\r\n    class Dress {\r\n        private String brandName;\r\n        private String color;\r\n    \r\n        public String getBrandName() {\r\n            return brandName;\r\n        }\r\n    \r\n        public String getColor() {\r\n            return color;\r\n        }\r\n    }\r\n\r\n\r\n    List&lt;Dress&gt; dresses = getDresses(); // API call\r\n\r\n**Required:-**\r\n\r\n    // Number of dresses per color\r\n    \r\n    Map&lt;String, Integer&gt; colorToCountMap;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java stream returning a Map","body":"<p>How can I get the following problem solved using Java Streams?</p>\n<p><strong>Given:-</strong></p>\n<pre><code>class Dress {\n    private String brandName;\n    private String color;\n\n    public String getBrandName() {\n        return brandName;\n    }\n\n    public String getColor() {\n        return color;\n    }\n}\n\n\nList&lt;Dress&gt; dresses = getDresses(); // API call\n</code></pre>\n<p><strong>Required:-</strong></p>\n<pre><code>// Number of dresses per color\n\nMap&lt;String, Integer&gt; colorToCountMap;\n</code></pre>\n"},{"tags":["java","spring-boot","jms"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654857366,"creation_date":1654857366,"answer_id":72572891,"question_id":72572691,"body_markdown":"My answer relates to: &quot;Is there a solution to define statically 10 JMS listeners with annotations but deactivating some listeners if they are not used so that they don&#39;t cause errors ?&quot; and not the Dynamic portion of creating JMSListeners on the fly.\r\n\r\n\r\nYou can use `@ConditionalOnProperty` to enable/disable your consumer and use profiles to specify when they are enabled.\r\n\r\n\r\nExample:\r\n\r\n\r\n    @Slf4j\r\n    @Service\r\n    @ConditionalOnProperty(name = &quot;adapter-app-config.jms.request.enable-consumer&quot;, havingValue = &quot;true&quot;)\r\n    public class RequestMessageConsumer {\r\n    \r\n        @Autowired\r\n        private AdapterConfig adapterConfig;\r\n    \r\n        @Autowired\r\n        private RequestMessageHandler requestMessageHandler;\r\n    \r\n    \r\n        @JmsListener(concurrency = &quot;1&quot;, destination = &quot;${adapter-app-config.jms.request.InQueue}&quot;)\r\n        @Transactional(rollbackFor = { Exception.class })\r\n        public void onMessage(TextMessage message) {\r\n    \r\n            requestMessageHandler.handleMessage(message);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\napplication.properties\r\n\r\n\r\n    adapter-app-config:\r\n      jms:\r\n        sync:\r\n          enable-consumer: true\r\n        request:\r\n          enable-consumer: false\r\n\r\n----------\r\n\r\n\r\nFor Dynamic, please see:\r\n\r\nhttps://stackoverflow.com/questions/34063230/adding-dynamic-number-of-listenersspring-jms\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#jms-annotated-programmatic-registration","title":"Create at server startup dynamically several JMS listeners with SpringBoot","body":"<p>My answer relates to: &quot;Is there a solution to define statically 10 JMS listeners with annotations but deactivating some listeners if they are not used so that they don't cause errors ?&quot; and not the Dynamic portion of creating JMSListeners on the fly.</p>\n<p>You can use <code>@ConditionalOnProperty</code> to enable/disable your consumer and use profiles to specify when they are enabled.</p>\n<p>Example:</p>\n<pre><code>@Slf4j\n@Service\n@ConditionalOnProperty(name = &quot;adapter-app-config.jms.request.enable-consumer&quot;, havingValue = &quot;true&quot;)\npublic class RequestMessageConsumer {\n\n    @Autowired\n    private AdapterConfig adapterConfig;\n\n    @Autowired\n    private RequestMessageHandler requestMessageHandler;\n\n\n    @JmsListener(concurrency = &quot;1&quot;, destination = &quot;${adapter-app-config.jms.request.InQueue}&quot;)\n    @Transactional(rollbackFor = { Exception.class })\n    public void onMessage(TextMessage message) {\n\n        requestMessageHandler.handleMessage(message);\n    }\n\n}\n</code></pre>\n<hr />\n<p>application.properties</p>\n<pre><code>adapter-app-config:\n  jms:\n    sync:\n      enable-consumer: true\n    request:\n      enable-consumer: false\n</code></pre>\n<hr />\n<p>For Dynamic, please see:</p>\n<p><a href=\"https://stackoverflow.com/questions/34063230/adding-dynamic-number-of-listenersspring-jms\">Adding Dynamic Number of Listeners(Spring JMS)</a></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#jms-annotated-programmatic-registration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#jms-annotated-programmatic-registration</a></p>\n"}],"owner":{"account_id":1695765,"reputation":914,"user_id":1557174,"accept_rate":19,"display_name":"mvera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72572891,"answer_count":1,"score":0,"last_activity_date":1654857366,"creation_date":1654856469,"question_id":72572691,"body_markdown":"I know how to create a single JMS listener with Springboot with annotations. But now I want to create several JMS listeners listening at several brokers sending same kind of messages at server startup, reading in a file the properties of brokers.\r\n\r\nHow can I achieve this ? Is it possible to ask SpringBoot to create the beans with java statements instead of annotations ? With a factory or something like that ?\r\n\r\nI know there won&#39;t be more than 10 brokers in the system. Is there a solution to define statically 10 JMS listeners with annotations but deactivating some listeners if they are not used so that they don&#39;t cause errors ? ","title":"Create at server startup dynamically several JMS listeners with SpringBoot","body":"<p>I know how to create a single JMS listener with Springboot with annotations. But now I want to create several JMS listeners listening at several brokers sending same kind of messages at server startup, reading in a file the properties of brokers.</p>\n<p>How can I achieve this ? Is it possible to ask SpringBoot to create the beans with java statements instead of annotations ? With a factory or something like that ?</p>\n<p>I know there won't be more than 10 brokers in the system. Is there a solution to define statically 10 JMS listeners with annotations but deactivating some listeners if they are not used so that they don't cause errors ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":7,"creation_date":1654796807,"post_id":72564521,"comment_id":128183756,"body_markdown":"Keep in mind the specification is talking about integer literals in your source code, not about the `java.util.Scanner` class.","body":"Keep in mind the specification is talking about integer literals in your source code, not about the <code>java.util.Scanner</code> class."},{"owner":{"account_id":13182715,"reputation":164,"user_id":9521638,"display_name":"John Ingram"},"score":0,"creation_date":1654796809,"post_id":72564521,"comment_id":128183757,"body_markdown":"Can you share the error message?","body":"Can you share the error message?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":9,"creation_date":1654796858,"post_id":72564521,"comment_id":128183772,"body_markdown":"As specified, underscores may appear **as literals**, i.e. when you write code: `int i = 1_000_000;`. Getting user input is something completely different and you&#39;re restricted to what the `Scanner` class recognizes as `int` values.","body":"As specified, underscores may appear <b>as literals</b>, i.e. when you write code: <code>int i = 1_000_000;</code>. Getting user input is something completely different and you&#39;re restricted to what the <code>Scanner</code> class recognizes as <code>int</code> values."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1654797168,"creation_date":1654797168,"answer_id":72564620,"question_id":72564521,"body_markdown":"The docs you quoted is about Java Source Code. It is saying that things like this are possible:\r\n\r\n    int i = 123_456_789; // same as int i = 123456789;\r\n\r\nThe text that `Scanner` reads is not Java source code.\r\n\r\nThe relevant documentation you should read in this case is [`Scanner.nextInt`][1], which will bring you to its acceptable format specified [here][2]. It is clear that `Scanner.nextInt` does not accept numbers with underscores.\r\n\r\nOne simple way to read numbers with underscores in them is to just read a token, and remove all the underscores in it:\r\n\r\n    int input = Integer.parseInt(sc.next().replaceAll(&quot;_&quot;, &quot;&quot;));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextInt()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#Integer-regex","title":"Underscore in integer input causes error in java","body":"<p>The docs you quoted is about Java Source Code. It is saying that things like this are possible:</p>\n<pre><code>int i = 123_456_789; // same as int i = 123456789;\n</code></pre>\n<p>The text that <code>Scanner</code> reads is not Java source code.</p>\n<p>The relevant documentation you should read in this case is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextInt()\" rel=\"noreferrer\"><code>Scanner.nextInt</code></a>, which will bring you to its acceptable format specified <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#Integer-regex\" rel=\"noreferrer\">here</a>. It is clear that <code>Scanner.nextInt</code> does not accept numbers with underscores.</p>\n<p>One simple way to read numbers with underscores in them is to just read a token, and remove all the underscores in it:</p>\n<pre><code>int input = Integer.parseInt(sc.next().replaceAll(&quot;_&quot;, &quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":23900317,"reputation":597,"user_id":17898569,"display_name":"HerrAlv&#233;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1654860942,"accepted_answer_id":72564620,"answer_count":1,"score":2,"last_activity_date":1654857130,"creation_date":1654796567,"question_id":72564521,"body_markdown":"As is specified in the [Java Standard Editions docs][1], any number of underscore characters (`_`) can appear anywhere between digits in a numerical literal, like so:- `int number = 100_000;`.\r\n\r\nOut of curiosity, I tried inputting an underscore separated value (`100_000`) to an input that is expecting an integer. The code:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            \r\n            int basicAmount = sc.nextInt();\r\n        }\r\n    }\r\n\r\nThis resulted in a generic error message.\r\n\r\nSo my questions are:\r\n1. Why does this happen? Why am I not allowed to input numeric values containing underscores?\r\n2. Is there a way to allow users to input numeric values *with* underscores?\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/underscores-literals.html","title":"Underscore in integer input causes error in java","body":"<p>As is specified in the <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/underscores-literals.html\" rel=\"nofollow noreferrer\">Java Standard Editions docs</a>, any number of underscore characters (<code>_</code>) can appear anywhere between digits in a numerical literal, like so:- <code>int number = 100_000;</code>.</p>\n<p>Out of curiosity, I tried inputting an underscore separated value (<code>100_000</code>) to an input that is expecting an integer. The code:</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        \n        int basicAmount = sc.nextInt();\n    }\n}\n</code></pre>\n<p>This resulted in a generic error message.</p>\n<p>So my questions are:</p>\n<ol>\n<li>Why does this happen? Why am I not allowed to input numeric values containing underscores?</li>\n<li>Is there a way to allow users to input numeric values <em>with</em> underscores?</li>\n</ol>\n"},{"tags":["java","csv","bufferedreader","filereader"],"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1548759125,"post_id":54419351,"comment_id":95648363,"body_markdown":"You are sure that value `...E+12` is not because of `CSV`?","body":"You are sure that value <code>...E+12</code> is not because of <code>CSV</code>?"},{"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"score":0,"creation_date":1548759205,"post_id":54419351,"comment_id":95648414,"body_markdown":"You must to use a `Long` when you write into CSV","body":"You must to use a <code>Long</code> when you write into CSV"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":2,"creation_date":1548759382,"post_id":54419351,"comment_id":95648522,"body_markdown":"Barcode data is actually a string, not a number. You should treat it as a string. If you get scientific notation, the problem happens before your program is involved.","body":"Barcode data is actually a string, not a number. You should treat it as a string. If you get scientific notation, the problem happens before your program is involved."},{"owner":{"account_id":2995550,"reputation":2042,"user_id":2542165,"accept_rate":62,"display_name":"jaudo"},"score":0,"creation_date":1548759848,"post_id":54419351,"comment_id":95648814,"body_markdown":"What is the content of the CSV if you open it with a text editor?","body":"What is the content of the CSV if you open it with a text editor?"}],"answers":[{"tags":[],"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1548759356,"creation_date":1548759154,"answer_id":54419407,"question_id":54419351,"body_markdown":"Have you tried parsing it to Long instead of Double ?\r\nPlease see below, I get the value as expected :\r\n\r\n    String s = &quot;5400141331875&quot;;\r\n    System.out.println(Double.valueOf(s).longValue());\r\nprints 5400141331875","title":"How to prevent Java from converting barcode to scientific notation","body":"<p>Have you tried parsing it to Long instead of Double ?\nPlease see below, I get the value as expected :</p>\n\n<pre><code>String s = \"5400141331875\";\nSystem.out.println(Double.valueOf(s).longValue());\n</code></pre>\n\n<p>prints 5400141331875</p>\n"},{"tags":[],"owner":{"account_id":3004304,"reputation":6348,"user_id":2549110,"accept_rate":25,"display_name":"Gauravsa"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1548801698,"creation_date":1548759412,"answer_id":54419482,"question_id":54419351,"body_markdown":"You can try the following:\r\n\r\n      BigDecimal bd = new BigDecimal(&quot;5400141331875&quot;);\r\n\r\n      System.out.println(bd.longValue());  // this prints 5400141331875","title":"How to prevent Java from converting barcode to scientific notation","body":"<p>You can try the following:</p>\n\n<pre><code>  BigDecimal bd = new BigDecimal(\"5400141331875\");\n\n  System.out.println(bd.longValue());  // this prints 5400141331875\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19158689,"reputation":71,"user_id":13994973,"display_name":"Lyams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654857043,"creation_date":1654857043,"answer_id":72572823,"question_id":54419351,"body_markdown":"i found a solution but not for csv files\r\nYou need to convert the cell in csv file to a numeric value\r\n\r\n    Cell cell = row.getCell(i);\r\n    switch (cell.getCellTypeEnum()) {\r\n\t  case NUMERIC:\r\n\t\tString value = new BigDecimal(cell.getNumericCellValue()).toPlainString();\r\n","title":"How to prevent Java from converting barcode to scientific notation","body":"<p>i found a solution but not for csv files\nYou need to convert the cell in csv file to a numeric value</p>\n<pre><code>Cell cell = row.getCell(i);\nswitch (cell.getCellTypeEnum()) {\n  case NUMERIC:\n    String value = new BigDecimal(cell.getNumericCellValue()).toPlainString();\n</code></pre>\n"}],"owner":{"account_id":8967831,"reputation":137,"user_id":6687665,"accept_rate":20,"display_name":"Audiosleef"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2664,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1654857043,"creation_date":1548758960,"question_id":54419351,"body_markdown":"I&#39;m trying to read a barcode from a csv file. The curious thing is that, when I open the file in IntelliJ, it shows the barcode in full. When I try reading the csv file, the barcode is converted to a number in scientific notation. \r\n\r\nThe most common solution I have found online was to convert the String to a Double using Double.parseDouble(string). But this throws an exception:\r\n\r\n    java.lang.NumberFormatException: For input string: &quot;5,40014E+12&quot;\r\n\r\nThe actual method: \r\n\r\n    public String getField(String barcode) {\r\n        String field = null;\r\n        try {\r\n            String line;\r\n            br = new BufferedReader(new FileReader(csvFile));\r\n            br.readLine();\r\n            while ((line = br.readLine()) != null) {\r\n                String[] barcodeData = line.split(delimiter);\r\n                System.out.println(Double.parseDouble(barcodeData[2]));\r\n                if (barcodeData[2].equals(barcode)) {\r\n                    field = barcodeData[67];\r\n                }\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return field;\r\n    }\r\n\r\nThis method is used in a test where there is a hardcoded expected result. But field always returns null in this case, since the if clause will never return true here. The actual exception is thrown in the System.out.println where I check how the number is read from the CSV.\r\n\r\nThe barcode should be: 5400141331875\r\n\r\nWhat is actually read from the csv file: 5,40014E+12\r\n\r\nHow do I stop Java from converting the barcode to the scientific notation?\r\n\r\n**EDIT**\r\n\r\nI&#39;ve found a &quot;solution&quot;. If I don&#39;t open the actual CSV file, the numbers are not converted to the scientific notation. For me this is an actual solution, I hope someone that has the same issue as me in the future finds the actual answer why my barcodes were unable to be converted from String to Double/Long. Thank you all for you help.\r\n\r\n","title":"How to prevent Java from converting barcode to scientific notation","body":"<p>I'm trying to read a barcode from a csv file. The curious thing is that, when I open the file in IntelliJ, it shows the barcode in full. When I try reading the csv file, the barcode is converted to a number in scientific notation. </p>\n\n<p>The most common solution I have found online was to convert the String to a Double using Double.parseDouble(string). But this throws an exception:</p>\n\n<pre><code>java.lang.NumberFormatException: For input string: \"5,40014E+12\"\n</code></pre>\n\n<p>The actual method: </p>\n\n<pre><code>public String getField(String barcode) {\n    String field = null;\n    try {\n        String line;\n        br = new BufferedReader(new FileReader(csvFile));\n        br.readLine();\n        while ((line = br.readLine()) != null) {\n            String[] barcodeData = line.split(delimiter);\n            System.out.println(Double.parseDouble(barcodeData[2]));\n            if (barcodeData[2].equals(barcode)) {\n                field = barcodeData[67];\n            }\n        }\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return field;\n}\n</code></pre>\n\n<p>This method is used in a test where there is a hardcoded expected result. But field always returns null in this case, since the if clause will never return true here. The actual exception is thrown in the System.out.println where I check how the number is read from the CSV.</p>\n\n<p>The barcode should be: 5400141331875</p>\n\n<p>What is actually read from the csv file: 5,40014E+12</p>\n\n<p>How do I stop Java from converting the barcode to the scientific notation?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've found a \"solution\". If I don't open the actual CSV file, the numbers are not converted to the scientific notation. For me this is an actual solution, I hope someone that has the same issue as me in the future finds the actual answer why my barcodes were unable to be converted from String to Double/Long. Thank you all for you help.</p>\n"},{"tags":["java","class","instanceof"],"comments":[{"owner":{"account_id":962558,"reputation":33,"user_id":1827508,"display_name":"sunrize531"},"score":0,"creation_date":1654857667,"post_id":72572694,"comment_id":128197811,"body_markdown":"Yeah, adding `.class` helped with everything except `HashMap`, thanks! I don&#39;t think it does what I need anyway though, cause the intention was to use it with `instanceof` for downcasting, but it doesn&#39;t look like I can use those classes with `instanceof`, neither could I use them for downcasting...\n\nI mean something like:\n\n```java\nClass&lt;?&gt; Cls = columnTypes.get(&quot;ARRAY&quot;);\nString[] test = new String[0];\n\n(test instanceof Cls); // doesn&#39;t compile\nString[] downcast = (Cls) test; // doesn&#39;t seem to work either\n```\n\nWill probably try something else then.","body":"Yeah, adding <code>.class</code> helped with everything except <code>HashMap</code>, thanks! I don&#39;t think it does what I need anyway though, cause the intention was to use it with <code>instanceof</code> for downcasting, but it doesn&#39;t look like I can use those classes with <code>instanceof</code>, neither could I use them for downcasting...  I mean something like:  <code>java Class&lt;?&gt; Cls = columnTypes.get(&quot;ARRAY&quot;); String[] test = new String[0];  (test instanceof Cls); &#47;&#47; doesn&#39;t compile String[] downcast = (Cls) test; &#47;&#47; doesn&#39;t seem to work either </code>  Will probably try something else then."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1654857969,"post_id":72572694,"comment_id":128197918,"body_markdown":"a well-intentioned tip: Don&#39;t *guess* and *try*, but rather *learn* how the Java syntax works. It will save you a lot of headache in the future. Your attempts don&#39;t work because this is simply not how Java works.","body":"a well-intentioned tip: Don&#39;t <i>guess</i> and <i>try</i>, but rather <i>learn</i> how the Java syntax works. It will save you a lot of headache in the future. Your attempts don&#39;t work because this is simply not how Java works."}],"owner":{"account_id":962558,"reputation":33,"user_id":1827508,"display_name":"sunrize531"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654856963,"creation_date":1654856476,"question_id":72572694,"body_markdown":"I&#39;m trying to make a HashMap of Classes in Java, and it gives me inconsistent errors and doesn&#39;t want to compile... Is it even possible to do this?\r\n\r\n```java\r\npackage com.something;\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class ColumnsResultSet {\r\n    private static HashMap&lt;String, Class&lt;?&gt;&gt; columnTypes = new HashMap&lt;String, Class&lt;?&gt;&gt;();\r\n\r\n    static {\r\n        columnTypes.put(&quot;TABLE_CAT&quot;, String); // String cannot be resolved to a variableJava(33554515)\r\n        columnTypes.put(&quot;COLUMN_SIZE&quot;, int); // Syntax error, insert &quot;. class&quot; to complete ExpressionJava(1610612976)\r\n        columnTypes.put(&quot;MAP&quot;, HashMap&lt;String, String&gt;); // Syntax error on token &quot;&gt;&quot;, Expression expected after this tokenJava(1610612967)\r\n        columnTypes.put(&quot;ARRAY&quot;, String[]); // Syntax error, insert &quot;. class&quot; to complete ExpressionJava(1610612976)\r\n    }\r\n}\r\n\r\n```","title":"How to make HashMap of Classes in Java","body":"<p>I'm trying to make a HashMap of Classes in Java, and it gives me inconsistent errors and doesn't want to compile... Is it even possible to do this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.something;\n\nimport java.util.HashMap;\n\npublic class ColumnsResultSet {\n    private static HashMap&lt;String, Class&lt;?&gt;&gt; columnTypes = new HashMap&lt;String, Class&lt;?&gt;&gt;();\n\n    static {\n        columnTypes.put(&quot;TABLE_CAT&quot;, String); // String cannot be resolved to a variableJava(33554515)\n        columnTypes.put(&quot;COLUMN_SIZE&quot;, int); // Syntax error, insert &quot;. class&quot; to complete ExpressionJava(1610612976)\n        columnTypes.put(&quot;MAP&quot;, HashMap&lt;String, String&gt;); // Syntax error on token &quot;&gt;&quot;, Expression expected after this tokenJava(1610612967)\n        columnTypes.put(&quot;ARRAY&quot;, String[]); // Syntax error, insert &quot;. class&quot; to complete ExpressionJava(1610612976)\n    }\n}\n\n</code></pre>\n"},{"tags":["java","command-line","junit"],"comments":[{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1616276467,"post_id":1647907,"comment_id":117952888,"body_markdown":"https://www.baeldung.com/java-testing-system-out-println","body":"<a href=\"https://www.baeldung.com/java-testing-system-out-println\" rel=\"nofollow noreferrer\">baeldung.com/java-testing-system-out-println</a>"}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256961928,"creation_date":1256874362,"answer_id":1647917,"question_id":1647907,"body_markdown":"You could create a custom `InputStream` &lt;strike&gt;and attach it to the `System` class&lt;/strike&gt; \r\n\r\n    class FakeInputStream extends InputStream {\r\n\r\n        public int read() {\r\n             return -1;\r\n        }\r\n    }\r\n\r\nAnd then use it with your `Scanner`\r\n\r\n\r\n   &lt;strike&gt;`System.in = new FakeInputStream();`&lt;/strike&gt;\r\n\r\n Before:\r\n\r\n\r\n    InputStream in = System.in;\r\n    ...\r\n    Scanner scanner = new Scanner( in );\r\n\r\nAfter:\r\n\r\n    InputStream in = new FakeInputStream();\r\n    ...\r\n    Scanner scanner = new Scanner( in );\r\n\r\n\r\nAlthough I think you should better to test how your class should work with the data read from the input stream and not really how it reads from there.  \r\n\r\n","title":"JUnit: How to simulate System.in testing?","body":"<p>You could create a custom <code>InputStream</code> <strike>and attach it to the <code>System</code> class</strike> </p>\n\n<pre><code>class FakeInputStream extends InputStream {\n\n    public int read() {\n         return -1;\n    }\n}\n</code></pre>\n\n<p>And then use it with your <code>Scanner</code></p>\n\n<p><strike><code>System.in = new FakeInputStream();</code></strike></p>\n\n<p>Before:</p>\n\n<pre><code>InputStream in = System.in;\n...\nScanner scanner = new Scanner( in );\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>InputStream in = new FakeInputStream();\n...\nScanner scanner = new Scanner( in );\n</code></pre>\n\n<p>Although I think you should better to test how your class should work with the data read from the input stream and not really how it reads from there.  </p>\n"},{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1256874394,"creation_date":1256874394,"answer_id":1647918,"question_id":1647907,"body_markdown":"Try to refactor your code to use [dependency injection][1]. Instead of having your a method that uses `System.in` directly, have the method accept an `InputStream` as an argument. Then in your junit test, you&#39;ll be able to pass a test `InputStream` implementation in place of `System.in`. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dependency_injection","title":"JUnit: How to simulate System.in testing?","body":"<p>Try to refactor your code to use <a href=\"http://en.wikipedia.org/wiki/Dependency_injection\" rel=\"noreferrer\">dependency injection</a>. Instead of having your a method that uses <code>System.in</code> directly, have the method accept an <code>InputStream</code> as an argument. Then in your junit test, you'll be able to pass a test <code>InputStream</code> implementation in place of <code>System.in</code>. </p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1256875509,"creation_date":1256874636,"answer_id":1647928,"question_id":1647907,"body_markdown":"There are a few ways to approach this. The most complete way is to pass in an InputStream while running the class under test which is a fake InputStream which passes simulated data to your class. You can look at a dependency injection framework (such as Google Guice) if you need to do this a lot in your code, but the simple way is:\r\n\r\n\r\n     public class MyClass {\r\n         private InputStream systemIn;\r\n\r\n         public MyClass() {\r\n             this(System.in);\r\n         }\r\n\r\n         public MyClass(InputStream in) {\r\n             systemIn = in;\r\n         }\r\n     }\r\n\r\nUnder test you would call the constructor that takes the input stream. You cloud even make that constructor package private and put the test in the same package, so that other code would not generally consider using it.","title":"JUnit: How to simulate System.in testing?","body":"<p>There are a few ways to approach this. The most complete way is to pass in an InputStream while running the class under test which is a fake InputStream which passes simulated data to your class. You can look at a dependency injection framework (such as Google Guice) if you need to do this a lot in your code, but the simple way is:</p>\n\n<pre><code> public class MyClass {\n     private InputStream systemIn;\n\n     public MyClass() {\n         this(System.in);\n     }\n\n     public MyClass(InputStream in) {\n         systemIn = in;\n     }\n }\n</code></pre>\n\n<p>Under test you would call the constructor that takes the input stream. You cloud even make that constructor package private and put the test in the same package, so that other code would not generally consider using it.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1256897983,"creation_date":1256897983,"answer_id":1648989,"question_id":1647907,"body_markdown":"It is technically possible to switch `System.in`, but in general, it would be more robust not to call it directly in your code, but add a layer of indirection so the input source is controlled from one point in your application. Exactly how you do that is an implementation detail - the suggestions of dependency injection are fine, but you don&#39;t necessarily need to introduce 3rd party frameworks; you could pass round an I/O context from the calling code, for example.\r\n\r\nHow to switch `System.in`:\r\n\r\n    String data = &quot;Hello, World!\\r\\n&quot;;\r\n    InputStream stdin = System.in;\r\n    try {\r\n      System.setIn(new ByteArrayInputStream(data.getBytes()));\r\n      Scanner scanner = new Scanner(System.in);\r\n      System.out.println(scanner.nextLine());\r\n    } finally {\r\n      System.setIn(stdin);\r\n    }\r\n","title":"JUnit: How to simulate System.in testing?","body":"<p>It is technically possible to switch <code>System.in</code>, but in general, it would be more robust not to call it directly in your code, but add a layer of indirection so the input source is controlled from one point in your application. Exactly how you do that is an implementation detail - the suggestions of dependency injection are fine, but you don't necessarily need to introduce 3rd party frameworks; you could pass round an I/O context from the calling code, for example.</p>\n\n<p>How to switch <code>System.in</code>:</p>\n\n<pre><code>String data = \"Hello, World!\\r\\n\";\nInputStream stdin = System.in;\ntry {\n  System.setIn(new ByteArrayInputStream(data.getBytes()));\n  Scanner scanner = new Scanner(System.in);\n  System.out.println(scanner.nextLine());\n} finally {\n  System.setIn(stdin);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1449513803,"creation_date":1449513803,"answer_id":34140836,"question_id":1647907,"body_markdown":"You can write a clear test for the command line interface by using the `TextFromStandardInputStream` rule of the [System Rules](http://stefanbirkner.github.io/system-rules/) library.\r\n\r\n    public void MyTest {\r\n      @Rule\r\n      public final TextFromStandardInputStream systemInMock\r\n        = emptyStandardInputStream();\r\n\r\n      @Test\r\n      public void readTextFromStandardInputStream() {\r\n        systemInMock.provideLines(&quot;foo&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        assertEquals(&quot;foo&quot;, scanner.nextLine());\r\n      }\r\n    }\r\n\r\nFull disclosure: I&#39;m the author of that library.","title":"JUnit: How to simulate System.in testing?","body":"<p>You can write a clear test for the command line interface by using the <code>TextFromStandardInputStream</code> rule of the <a href=\"http://stefanbirkner.github.io/system-rules/\" rel=\"nofollow\">System Rules</a> library.</p>\n\n<pre><code>public void MyTest {\n  @Rule\n  public final TextFromStandardInputStream systemInMock\n    = emptyStandardInputStream();\n\n  @Test\n  public void readTextFromStandardInputStream() {\n    systemInMock.provideLines(\"foo\");\n    Scanner scanner = new Scanner(System.in);\n    assertEquals(\"foo\", scanner.nextLine());\n  }\n}\n</code></pre>\n\n<p>Full disclosure: I'm the author of that library.</p>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485117258,"creation_date":1485111318,"answer_id":41794902,"question_id":1647907,"body_markdown":"The problem with `BufferedReader.readLine()` is that it is a blocking method which waits for user input.  It seems to me that you don&#39;t particularly want to simulate that (i.e. you want tests to be fast).  But in a testing context it continually returns `null` at high speed during testing, which is irksome.\r\n\r\nFor a purist you can make the `getInputLine` below package-private, and mock it: easy-peezy.\r\n\r\n\tString getInputLine() throws Exception {\r\n\t    return br.readLine();\r\n    }\r\n\r\n... you&#39;d have to make sure that you had a way of stopping (typically) a loop of user interaction with the app.  You&#39;d also have to cope with the fact that your &quot;input lines&quot; would always be the same until you somehow changed the `doReturn` of your mock: hardly typical of user input.\r\n\r\nFor a non-purist who wishes to make life easy for themselves (and produce readable tests) you could put all this stuff below in your app code:\r\n\r\n\tprivate Deque&lt;String&gt; inputLinesDeque;\r\n\r\n\tvoid setInputLines(List&lt;String&gt; inputLines) {\r\n\t\tinputLinesDeque = new ArrayDeque&lt;String&gt;(inputLines);\r\n\t}\r\n\r\n\tprivate String getInputLine() throws Exception {\r\n\t\tif (inputLinesDeque == null) {\r\n\t\t\t// ... i.e. normal case, during app run: this is then a blocking method\r\n\t\t\treturn br.readLine();\r\n\t\t}\r\n\t\tString nextLine = null;\r\n\t\ttry {\r\n\t\t\tnextLine = inputLinesDeque.pop();\r\n\t\t} catch (NoSuchElementException e) {\r\n            // when the Deque runs dry the line returned is a &quot;poison pill&quot;, \r\n            // signalling to the caller method that the input is finished\r\n\t\t\treturn &quot;q&quot;;\r\n\t\t}\r\n\r\n\t\treturn nextLine;\r\n\t}\r\n\r\n... in your test you might then go like this:\r\n\r\n    consoleHandler.setInputLines( Arrays.asList( new String[]{ &quot;first input line&quot;, &quot;second input line&quot; }));\r\n\r\nbefore triggering off the method in this &quot;ConsoleHandler&quot; class which needs input lines.","title":"JUnit: How to simulate System.in testing?","body":"<p>The problem with <code>BufferedReader.readLine()</code> is that it is a blocking method which waits for user input.  It seems to me that you don't particularly want to simulate that (i.e. you want tests to be fast).  But in a testing context it continually returns <code>null</code> at high speed during testing, which is irksome.</p>\n\n<p>For a purist you can make the <code>getInputLine</code> below package-private, and mock it: easy-peezy.</p>\n\n<pre><code>String getInputLine() throws Exception {\n    return br.readLine();\n}\n</code></pre>\n\n<p>... you'd have to make sure that you had a way of stopping (typically) a loop of user interaction with the app.  You'd also have to cope with the fact that your \"input lines\" would always be the same until you somehow changed the <code>doReturn</code> of your mock: hardly typical of user input.</p>\n\n<p>For a non-purist who wishes to make life easy for themselves (and produce readable tests) you could put all this stuff below in your app code:</p>\n\n<pre><code>private Deque&lt;String&gt; inputLinesDeque;\n\nvoid setInputLines(List&lt;String&gt; inputLines) {\n    inputLinesDeque = new ArrayDeque&lt;String&gt;(inputLines);\n}\n\nprivate String getInputLine() throws Exception {\n    if (inputLinesDeque == null) {\n        // ... i.e. normal case, during app run: this is then a blocking method\n        return br.readLine();\n    }\n    String nextLine = null;\n    try {\n        nextLine = inputLinesDeque.pop();\n    } catch (NoSuchElementException e) {\n        // when the Deque runs dry the line returned is a \"poison pill\", \n        // signalling to the caller method that the input is finished\n        return \"q\";\n    }\n\n    return nextLine;\n}\n</code></pre>\n\n<p>... in your test you might then go like this:</p>\n\n<pre><code>consoleHandler.setInputLines( Arrays.asList( new String[]{ \"first input line\", \"second input line\" }));\n</code></pre>\n\n<p>before triggering off the method in this \"ConsoleHandler\" class which needs input lines.</p>\n"},{"tags":[],"owner":{"account_id":213131,"reputation":4400,"user_id":466363,"display_name":"Shimon Doodkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495377217,"creation_date":1495377217,"answer_id":44098079,"question_id":1647907,"body_markdown":"maybe like this (not tested):\r\n\t\r\n    InputStream save_in=System.in;final PipedOutputStream in = new PipedOutputStream(); System.setIn(new PipedInputStream(in));\r\n\r\n    in.write(&quot;text&quot;.getBytes(&quot;utf-8&quot;));\r\n    \r\n    System.setIn( save_in );\r\n    \r\n\r\nmore parts:\r\n\r\n    //PrintStream save_out=System.out;final ByteArrayOutputStream out = new ByteArrayOutputStream();System.setOut(new PrintStream(out));\r\n    \t\r\n    InputStream save_in=System.in;final PipedOutputStream in = new PipedOutputStream(); System.setIn(new PipedInputStream(in));\r\n\r\n    //start something that reads stdin probably in a new thread\r\n    //  Thread thread=new Thread(new Runnable() {\r\n\t//\t\t@Override\r\n\t//\t\tpublic void run() {\r\n\t//\t    \tCoursesApiApp.main(new String[]{});  \t\t\t\t\r\n\t//\t\t}\r\n\t//\t});\r\n    //\tthread.start();\r\n\r\n\r\n    //maybe wait or read the output\r\n\t//  for(int limit=0; limit&lt;60 &amp;&amp; not_ready ; limit++)\r\n    //\t{\r\n\t//    \ttry {\r\n\t//\t\t\tThread.sleep(100);\r\n\t//\t\t} catch (InterruptedException e) {\r\n\t//\t\t\te.printStackTrace();\r\n\t//\t\t}\r\n    //\t}\r\n\r\n\r\n    in.write(&quot;text&quot;.getBytes(&quot;utf-8&quot;));\r\n    \r\n    System.setIn( save_in );\r\n    \r\n    //System.setOut(save_out);","title":"JUnit: How to simulate System.in testing?","body":"<p>maybe like this (not tested):</p>\n\n<pre><code>InputStream save_in=System.in;final PipedOutputStream in = new PipedOutputStream(); System.setIn(new PipedInputStream(in));\n\nin.write(\"text\".getBytes(\"utf-8\"));\n\nSystem.setIn( save_in );\n</code></pre>\n\n<p>more parts:</p>\n\n<pre><code>//PrintStream save_out=System.out;final ByteArrayOutputStream out = new ByteArrayOutputStream();System.setOut(new PrintStream(out));\n\nInputStream save_in=System.in;final PipedOutputStream in = new PipedOutputStream(); System.setIn(new PipedInputStream(in));\n\n//start something that reads stdin probably in a new thread\n//  Thread thread=new Thread(new Runnable() {\n//      @Override\n//      public void run() {\n//          CoursesApiApp.main(new String[]{});                 \n//      }\n//  });\n//  thread.start();\n\n\n//maybe wait or read the output\n//  for(int limit=0; limit&lt;60 &amp;&amp; not_ready ; limit++)\n//  {\n//      try {\n//          Thread.sleep(100);\n//      } catch (InterruptedException e) {\n//          e.printStackTrace();\n//      }\n//  }\n\n\nin.write(\"text\".getBytes(\"utf-8\"));\n\nSystem.setIn( save_in );\n\n//System.setOut(save_out);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1824241,"reputation":3108,"user_id":1657502,"display_name":"Ant&#244;nio Medeiros"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1528290698,"creation_date":1528290698,"answer_id":50721326,"question_id":1647907,"body_markdown":"Based on [@McDowell&#39;s answer](https://stackoverflow.com/a/1648989/1657502) and [another answer that shows how to test System.out](https://stackoverflow.com/a/1119559/1657502), I would like to share my solution to give an input to a program and test its output.\r\n\r\nAs a reference, I use JUnit 4.12.\r\n\r\nLet&#39;s say we have this program that simply replicates input to output:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class SimpleProgram {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tSystem.out.print(scanner.next());\r\n    \t\tscanner.close();\r\n    \t}\r\n    }\r\n\r\nTo test it, we can use the following class:\r\n\r\n    import static org.junit.Assert.*;\r\n    \r\n    import java.io.*;\r\n    \r\n    import org.junit.*;\r\n    \r\n    public class SimpleProgramTest {\r\n    \tprivate final InputStream systemIn = System.in;\r\n    \tprivate final PrintStream systemOut = System.out;\r\n    \r\n    \tprivate ByteArrayInputStream testIn;\r\n    \tprivate ByteArrayOutputStream testOut;\r\n    \r\n    \t@Before\r\n    \tpublic void setUpOutput() {\r\n    \t\ttestOut = new ByteArrayOutputStream();\r\n    \t\tSystem.setOut(new PrintStream(testOut));\r\n    \t}\r\n    \r\n    \tprivate void provideInput(String data) {\r\n    \t\ttestIn = new ByteArrayInputStream(data.getBytes());\r\n    \t\tSystem.setIn(testIn);\r\n    \t}\r\n    \r\n    \tprivate String getOutput() {\r\n    \t\treturn testOut.toString();\r\n    \t}\r\n    \r\n    \t@After\r\n    \tpublic void restoreSystemInputOutput() {\r\n    \t\tSystem.setIn(systemIn);\r\n    \t\tSystem.setOut(systemOut);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testCase1() {\r\n    \t\tfinal String testString = &quot;Hello!&quot;;\r\n    \t\tprovideInput(testString);\r\n    \t\t\r\n    \t\tSimpleProgram.main(new String[0]);\r\n    \t\t\r\n    \t\tassertEquals(testString, getOutput());\r\n    \t}\r\n    }\r\n\r\nI won&#39;t explain much, because I believe the code is readable and I cited my sources.\r\n\r\nWhen JUnit runs `testCase1()`, it is going to call the helper methods in the order they appear:\r\n\r\n1. `setUpOutput()`, because of the `@Before` annotation\r\n2. `provideInput(String data)`, called from `testCase1()`\r\n3. `getOutput()`, called from `testCase1()`\r\n4. `restoreSystemInputOutput()`, because of the `@After` annotation\r\n\r\nI didn&#39;t test `System.err` because I didn&#39;t need it, but it should be easy to implement, similar to testing `System.out`.","title":"JUnit: How to simulate System.in testing?","body":"<p>Based on <a href=\"https://stackoverflow.com/a/1648989/1657502\">@McDowell's answer</a> and <a href=\"https://stackoverflow.com/a/1119559/1657502\">another answer that shows how to test System.out</a>, I would like to share my solution to give an input to a program and test its output.</p>\n\n<p>As a reference, I use JUnit 4.12.</p>\n\n<p>Let's say we have this program that simply replicates input to output:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class SimpleProgram {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(scanner.next());\n        scanner.close();\n    }\n}\n</code></pre>\n\n<p>To test it, we can use the following class:</p>\n\n<pre><code>import static org.junit.Assert.*;\n\nimport java.io.*;\n\nimport org.junit.*;\n\npublic class SimpleProgramTest {\n    private final InputStream systemIn = System.in;\n    private final PrintStream systemOut = System.out;\n\n    private ByteArrayInputStream testIn;\n    private ByteArrayOutputStream testOut;\n\n    @Before\n    public void setUpOutput() {\n        testOut = new ByteArrayOutputStream();\n        System.setOut(new PrintStream(testOut));\n    }\n\n    private void provideInput(String data) {\n        testIn = new ByteArrayInputStream(data.getBytes());\n        System.setIn(testIn);\n    }\n\n    private String getOutput() {\n        return testOut.toString();\n    }\n\n    @After\n    public void restoreSystemInputOutput() {\n        System.setIn(systemIn);\n        System.setOut(systemOut);\n    }\n\n    @Test\n    public void testCase1() {\n        final String testString = \"Hello!\";\n        provideInput(testString);\n\n        SimpleProgram.main(new String[0]);\n\n        assertEquals(testString, getOutput());\n    }\n}\n</code></pre>\n\n<p>I won't explain much, because I believe the code is readable and I cited my sources.</p>\n\n<p>When JUnit runs <code>testCase1()</code>, it is going to call the helper methods in the order they appear:</p>\n\n<ol>\n<li><code>setUpOutput()</code>, because of the <code>@Before</code> annotation</li>\n<li><code>provideInput(String data)</code>, called from <code>testCase1()</code></li>\n<li><code>getOutput()</code>, called from <code>testCase1()</code></li>\n<li><code>restoreSystemInputOutput()</code>, because of the <code>@After</code> annotation</li>\n</ol>\n\n<p>I didn't test <code>System.err</code> because I didn't need it, but it should be easy to implement, similar to testing <code>System.out</code>.</p>\n"},{"tags":[],"owner":{"account_id":2744961,"reputation":41,"user_id":8317677,"display_name":"Tonny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654854070,"creation_date":1654854070,"answer_id":72572186,"question_id":1647907,"body_markdown":"@Stefan Birkner, Thanks!\r\n\r\n1. Modify Pom.xml\r\n```\r\nRef:\r\nhttps://stackoverflow.com/a/66127606/8317677\r\nhttps://github.com/stefanbirkner/system-lambda/blob/master/pom.xml\r\nhttps://github.com/stefanbirkner/system-lambda/blob/master/src/test/java/com/github/stefanbirkner/systemlambda/WithTextFromSystemInTest.java\r\n\r\n  &lt;properties&gt;\r\n      &lt;system-lambda.version&gt;1.2.1&lt;/system-lambda.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt;\r\n      &lt;artifactId&gt;system-lambda&lt;/artifactId&gt;\r\n      &lt;version&gt;${system-lambda.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n2. Add function code\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class SimpleProgram003 {\r\n    public static void main(String[] args) {\r\n        try{\r\n            String c;\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n            do{\r\n                c = in.readLine();\r\n                System.out.println(c);\r\n                String d = c;\r\n            }while(!c.equals(&quot;q&quot;));\r\n        }catch(Exception e){\r\n            System.out.println(&quot;catch Exception&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n3. Add test code\r\n```\r\nimport static com.github.stefanbirkner.systemlambda.SystemLambda.*;\r\nimport static org.junit.Assert.*;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.InputStream;\r\nimport java.io.PrintStream;\r\n\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\n/**\r\n * Unit test for simple App. JUnit 4.x.\r\n */\r\npublic class SimpleProgram003Test {\r\n    private final InputStream systemIn = System.in;\r\n    private final PrintStream systemOut = System.out;\r\n\r\n    private ByteArrayInputStream testIn;\r\n    private ByteArrayOutputStream testOut;\r\n\r\n    @Before\r\n    public void setUpOutput() {\r\n        testOut = new ByteArrayOutputStream();\r\n        System.setOut(new PrintStream(testOut));\r\n    }\r\n\r\n    private void setInput(String data) {\r\n        testIn = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(testIn);\r\n    }\r\n\r\n    private String getOutput() {\r\n        return testOut.toString();\r\n    }\r\n\r\n    @After\r\n    public void restoreSystemInputOutput() {\r\n        System.setIn(systemIn);\r\n        System.setOut(systemOut);\r\n    }\r\n\r\n    @Test\r\n    public void testCase1() {\r\n        final String testString = &quot;Hello 1\\nq\\n&quot;;\r\n        setInput(testString);\r\n\r\n        SimpleProgram003.main(new String[0]);\r\n        // String a = getOutput();\r\n        assertEquals(&quot;Hello 1\\r\\nq\\r\\n&quot;, getOutput());\r\n    }\r\n\r\n    @Test // Multiply inputs\r\n    public void testCase2() throws Exception {\r\n        withTextFromSystemIn(\r\n            &quot;Input1&quot;,\r\n            &quot;Input2&quot;,\r\n            &quot;q&quot;,\r\n            &quot;Input3&quot;\r\n        ).execute(() -&gt; {\r\n            SimpleProgram003.main(new String[0]);\r\n            // String a = getOutput();\r\n            assertEquals(&quot;Input1\\r\\nInput2\\r\\nq\\r\\n&quot;, getOutput());\r\n        });\r\n    }\r\n}\r\n```","title":"JUnit: How to simulate System.in testing?","body":"<p>@Stefan Birkner, Thanks!</p>\n<ol>\n<li>Modify Pom.xml</li>\n</ol>\n<pre><code>Ref:\nhttps://stackoverflow.com/a/66127606/8317677\nhttps://github.com/stefanbirkner/system-lambda/blob/master/pom.xml\nhttps://github.com/stefanbirkner/system-lambda/blob/master/src/test/java/com/github/stefanbirkner/systemlambda/WithTextFromSystemInTest.java\n\n  &lt;properties&gt;\n      &lt;system-lambda.version&gt;1.2.1&lt;/system-lambda.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt;\n      &lt;artifactId&gt;system-lambda&lt;/artifactId&gt;\n      &lt;version&gt;${system-lambda.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Add function code</li>\n</ol>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class SimpleProgram003 {\n    public static void main(String[] args) {\n        try{\n            String c;\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n            do{\n                c = in.readLine();\n                System.out.println(c);\n                String d = c;\n            }while(!c.equals(&quot;q&quot;));\n        }catch(Exception e){\n            System.out.println(&quot;catch Exception&quot;);\n        }\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Add test code</li>\n</ol>\n<pre><code>import static com.github.stefanbirkner.systemlambda.SystemLambda.*;\nimport static org.junit.Assert.*;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.InputStream;\nimport java.io.PrintStream;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\n\n/**\n * Unit test for simple App. JUnit 4.x.\n */\npublic class SimpleProgram003Test {\n    private final InputStream systemIn = System.in;\n    private final PrintStream systemOut = System.out;\n\n    private ByteArrayInputStream testIn;\n    private ByteArrayOutputStream testOut;\n\n    @Before\n    public void setUpOutput() {\n        testOut = new ByteArrayOutputStream();\n        System.setOut(new PrintStream(testOut));\n    }\n\n    private void setInput(String data) {\n        testIn = new ByteArrayInputStream(data.getBytes());\n        System.setIn(testIn);\n    }\n\n    private String getOutput() {\n        return testOut.toString();\n    }\n\n    @After\n    public void restoreSystemInputOutput() {\n        System.setIn(systemIn);\n        System.setOut(systemOut);\n    }\n\n    @Test\n    public void testCase1() {\n        final String testString = &quot;Hello 1\\nq\\n&quot;;\n        setInput(testString);\n\n        SimpleProgram003.main(new String[0]);\n        // String a = getOutput();\n        assertEquals(&quot;Hello 1\\r\\nq\\r\\n&quot;, getOutput());\n    }\n\n    @Test // Multiply inputs\n    public void testCase2() throws Exception {\n        withTextFromSystemIn(\n            &quot;Input1&quot;,\n            &quot;Input2&quot;,\n            &quot;q&quot;,\n            &quot;Input3&quot;\n        ).execute(() -&gt; {\n            SimpleProgram003.main(new String[0]);\n            // String a = getOutput();\n            assertEquals(&quot;Input1\\r\\nInput2\\r\\nq\\r\\n&quot;, getOutput());\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":565361,"reputation":663,"user_id":199402,"display_name":"Noppanit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61846,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":1648989,"answer_count":9,"score":66,"last_activity_date":1654856788,"creation_date":1256874010,"question_id":1647907,"body_markdown":"I have a Java command-line program. I would like to create JUnit test case to be able to simulate `System.in`. Because when my program runs it will get into the while loop and waits for input from users. How do I simulate that in JUnit?\r\n\r\nThanks","title":"JUnit: How to simulate System.in testing?","body":"<p>I have a Java command-line program. I would like to create JUnit test case to be able to simulate <code>System.in</code>. Because when my program runs it will get into the while loop and waits for input from users. How do I simulate that in JUnit?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","jpa","persistence"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1654857367,"post_id":72572743,"comment_id":128197713,"body_markdown":"You are probably creating a new `BookTitle` instance which you set to the book instance. This always makes JPA/Hibernate assume that the title doesn&#39;t exists (as you create it new). If you want to reuse a title, it is on you to get a potential instance from the database and set it to the book","body":"You are probably creating a new <code>BookTitle</code> instance which you set to the book instance. This always makes JPA/Hibernate assume that the title doesn&#39;t exists (as you create it new). If you want to reuse a title, it is on you to get a potential instance from the database and set it to the book"},{"owner":{"account_id":18405899,"reputation":67,"user_id":13407686,"display_name":"nablue"},"score":0,"creation_date":1654863884,"post_id":72572743,"comment_id":128199956,"body_markdown":"Is there anyway to do this without first querying the database for the id?","body":"Is there anyway to do this without first querying the database for the id?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654863947,"post_id":72572743,"comment_id":128199989,"body_markdown":"Not that I am aware of it. Also, would JPA itself also need to query the database first, to find the appropriate title object. Doesn&#39;t matter who does it, it has to happen","body":"Not that I am aware of it. Also, would JPA itself also need to query the database first, to find the appropriate title object. Doesn&#39;t matter who does it, it has to happen"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1654876138,"post_id":72572743,"comment_id":128204803,"body_markdown":"It&#39;s not clear from your question, but if you know that the title already exists in the db, you can use `session.getReference`. This way you create a reference to the title wihout querying the db.","body":"It&#39;s not clear from your question, but if you know that the title already exists in the db, you can use <code>session.getReference</code>. This way you create a reference to the title wihout querying the db."}],"owner":{"account_id":18405899,"reputation":67,"user_id":13407686,"display_name":"nablue"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654856701,"creation_date":1654856701,"question_id":72572743,"body_markdown":"I have two tables that look like:\r\n\r\nBooks (bookID , titleID, volumeNumber)\r\n\r\nTitles (titleID, title)\r\n\r\nMy current entities look like:\r\n```\r\n@Entity\r\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;bookID&quot;))\r\npublic class Book extends Identity{\r\n    private Integer volumeNumber; \r\n\r\n    @ManyToOne(cascade = CascadeType.Persist)\r\n    @JoinColumn(name = &quot;titleID&quot;)\r\n    private IssueTitleEntity title;\r\n}\r\n\r\n@Entity\r\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;titleID&quot;))\r\npublic class BookTitle extends Identity{\r\n    String title;\r\n}\r\n```\r\nThe issue comes in regarding the title &quot;lookup&quot;. Currently, jpa creates a new row in the Titles table and uses that ID for Books table. Is it possible for jpa to search the Titles table and see if it exists first and use that TitleID otherwise it will create it first? I suspect the issue lies with the Cascade type but have no idea which to use if that&#39;s the case.\r\n\r\nAny help would really be appreciated.","title":"JPA entity perform look up to find ID or insert new row into the table only if it doesn&#39;t exist when using Cascade.Persist","body":"<p>I have two tables that look like:</p>\n<p>Books (bookID , titleID, volumeNumber)</p>\n<p>Titles (titleID, title)</p>\n<p>My current entities look like:</p>\n<pre><code>@Entity\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;bookID&quot;))\npublic class Book extends Identity{\n    private Integer volumeNumber; \n\n    @ManyToOne(cascade = CascadeType.Persist)\n    @JoinColumn(name = &quot;titleID&quot;)\n    private IssueTitleEntity title;\n}\n\n@Entity\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;titleID&quot;))\npublic class BookTitle extends Identity{\n    String title;\n}\n</code></pre>\n<p>The issue comes in regarding the title &quot;lookup&quot;. Currently, jpa creates a new row in the Titles table and uses that ID for Books table. Is it possible for jpa to search the Titles table and see if it exists first and use that TitleID otherwise it will create it first? I suspect the issue lies with the Cascade type but have no idea which to use if that's the case.</p>\n<p>Any help would really be appreciated.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1653382212,"post_id":72359108,"comment_id":127832422,"body_markdown":"First - try to add `outputStream.flush()` just before close","body":"First - try to add <code>outputStream.flush()</code> just before close"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1653382874,"post_id":72359108,"comment_id":127832697,"body_markdown":"btw. the whole code in groovy could be replaced with: `file &lt;&lt; inputStream`","body":"btw. the whole code in groovy could be replaced with: <code>file &lt;&lt; inputStream</code>"},{"owner":{"account_id":954101,"reputation":135,"user_id":979705,"accept_rate":57,"display_name":"N.D.H.Vu"},"score":0,"creation_date":1653383444,"post_id":72359108,"comment_id":127832953,"body_markdown":"@daggett Thanks, but the result is the same.","body":"@daggett Thanks, but the result is the same."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1653384880,"post_id":72359108,"comment_id":127833541,"body_markdown":"oh. i did not read your question fully ;) your client submitting file as multipart form. if it&#39;s a desired format - you have to use some library to parse it. for example https://commons.apache.org/proper/commons-fileupload/using.html","body":"oh. i did not read your question fully ;) your client submitting file as multipart form. if it&#39;s a desired format - you have to use some library to parse it. for example <a href=\"https://commons.apache.org/proper/commons-fileupload/using.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-fileupload/using.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":954101,"reputation":135,"user_id":979705,"accept_rate":57,"display_name":"N.D.H.Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654856085,"creation_date":1654856085,"answer_id":72572615,"question_id":72359108,"body_markdown":"Found the solution with MultipartStream \r\n\r\n\timport org.apache.commons.fileupload.MultipartStream\r\n\timport org.apache.commons.io.FileUtils\r\n\r\n\tInputStream inputStream = request.getInputStream()\r\n\t//file &lt;&lt; inputStream;\t\r\n\tString fileName = &quot;&quot;;\r\n\tfinal String CD = &quot;Content-Disposition: &quot;\r\n\tMultipartStream multipartStream =  new MultipartStream(inputStream, boundary);\r\n\r\n\t//Block below line because it always return false for some reason\r\n\t// but should be used as stated in document\r\n\t//boolean nextPart = multipartStream.skipPreamble();\r\n\r\n\t//Block below line as in my case, the part I need is at the first part\r\n\t// or maybe I should use it and break after successfully get the file name\r\n\t//while(nextPart) {\r\n\tString[] headers = multipartStream.readHeaders().split(&quot;\\\\r\\\\n&quot;)\r\n\tContentDisposition cd = null\r\n\tfor (String h in headers) {\r\n\t\tif (h.startsWith(CD)) {\r\n\t\t\tcd = new ContentDisposition(h.substring(CD.length()));\r\n\t\t\tfileName = cd.getParameter(&quot;filename&quot;);\t\t\t}\r\n\t}             \r\n\tdef file = new File(tempFolder + &quot;//&quot; + fileName)\r\n\tByteArrayOutputStream output = new ByteArrayOutputStream(1024)\r\n\ttry\r\n\t{\r\n\t\tmultipartStream.readBodyData(output)\r\n\t\tFileUtils.writeByteArrayToFile(file, output.toByteArray());\r\n\t}\r\n\tfinally {\r\n\t\tif (output != null) {\r\n\t\t\toutput.flush();\r\n\t\t\toutput.close();\t\r\n\t\t}\r\n\t}\r\n    inputStream.close();","title":"In Groovy, how to properly get the file from HttpServletRequest","body":"<p>Found the solution with MultipartStream</p>\n<pre><code>import org.apache.commons.fileupload.MultipartStream\nimport org.apache.commons.io.FileUtils\n\nInputStream inputStream = request.getInputStream()\n//file &lt;&lt; inputStream;  \nString fileName = &quot;&quot;;\nfinal String CD = &quot;Content-Disposition: &quot;\nMultipartStream multipartStream =  new MultipartStream(inputStream, boundary);\n\n//Block below line because it always return false for some reason\n// but should be used as stated in document\n//boolean nextPart = multipartStream.skipPreamble();\n\n//Block below line as in my case, the part I need is at the first part\n// or maybe I should use it and break after successfully get the file name\n//while(nextPart) {\nString[] headers = multipartStream.readHeaders().split(&quot;\\\\r\\\\n&quot;)\nContentDisposition cd = null\nfor (String h in headers) {\n    if (h.startsWith(CD)) {\n        cd = new ContentDisposition(h.substring(CD.length()));\n        fileName = cd.getParameter(&quot;filename&quot;);         }\n}             \ndef file = new File(tempFolder + &quot;//&quot; + fileName)\nByteArrayOutputStream output = new ByteArrayOutputStream(1024)\ntry\n{\n    multipartStream.readBodyData(output)\n    FileUtils.writeByteArrayToFile(file, output.toByteArray());\n}\nfinally {\n    if (output != null) {\n        output.flush();\n        output.close(); \n    }\n}\ninputStream.close();\n</code></pre>\n"}],"owner":{"account_id":954101,"reputation":135,"user_id":979705,"accept_rate":57,"display_name":"N.D.H.Vu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654856085,"creation_date":1653378651,"question_id":72359108,"body_markdown":"I am writing a REST API in Groovy script that will receive a file upload from client side.\r\nThe REST API will receive the file via HttpServletRequest.\r\nI am trying to get the file from HttpServletRequest by getting its InputStream, then convert it to File to save to proper folder.\r\nMy code is as below:\r\n\r\n    RestApiResponse doHandle(HttpServletRequest request, RestApiResponseBuilder apiResponseBuilder, RestAPIContext context) {\r\n    \tInputStream inputStream = request.getInputStream()\t\t\t\t\r\n    \tdef file = new File(tempFolder + &quot;//&quot; + fileName)\r\n    \t\r\n    \tFileOutputStream outputStream = null\r\n    \ttry\r\n    \t{\r\n    \t\toutputStream = new FileOutputStream(file, false)\r\n    \t\tint read;\r\n    \t\tbyte[] bytes = new byte[DEFAULT_BUFFER_SIZE];\r\n    \t\twhile ((read = inputStream.read(bytes)) != -1) {\r\n    \t\t\toutputStream.write(bytes, 0, read);\r\n    \t\t}\r\n    \t}\r\n    \tfinally {\r\n    \t\tif (outputStream != null) {\r\n    \t\t\toutputStream.close();\r\n    \t\t}\r\n    \t}\r\n    \tinputStream.close();\r\n    \r\n    \t// the rest of the code\r\n    }\r\n\r\nThe files are created, but all of them are corrupted.\r\nWhen I try to open them with Notepad, all of them have, at the beginning, some thing similar to the below:\r\n\r\n    -----------------------------134303111730200325402357640857\r\n    Content-Disposition: form-data; name=&quot;pbUpload1&quot;; filename=&quot;Book1.xlsx&quot;\r\n    Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\r\n\r\nAm I doing this wrong? How do I get the file correctly?","title":"In Groovy, how to properly get the file from HttpServletRequest","body":"<p>I am writing a REST API in Groovy script that will receive a file upload from client side.\nThe REST API will receive the file via HttpServletRequest.\nI am trying to get the file from HttpServletRequest by getting its InputStream, then convert it to File to save to proper folder.\nMy code is as below:</p>\n<pre><code>RestApiResponse doHandle(HttpServletRequest request, RestApiResponseBuilder apiResponseBuilder, RestAPIContext context) {\n    InputStream inputStream = request.getInputStream()              \n    def file = new File(tempFolder + &quot;//&quot; + fileName)\n    \n    FileOutputStream outputStream = null\n    try\n    {\n        outputStream = new FileOutputStream(file, false)\n        int read;\n        byte[] bytes = new byte[DEFAULT_BUFFER_SIZE];\n        while ((read = inputStream.read(bytes)) != -1) {\n            outputStream.write(bytes, 0, read);\n        }\n    }\n    finally {\n        if (outputStream != null) {\n            outputStream.close();\n        }\n    }\n    inputStream.close();\n\n    // the rest of the code\n}\n</code></pre>\n<p>The files are created, but all of them are corrupted.\nWhen I try to open them with Notepad, all of them have, at the beginning, some thing similar to the below:</p>\n<pre><code>-----------------------------134303111730200325402357640857\nContent-Disposition: form-data; name=&quot;pbUpload1&quot;; filename=&quot;Book1.xlsx&quot;\nContent-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\n</code></pre>\n<p>Am I doing this wrong? How do I get the file correctly?</p>\n"},{"tags":["java","spring","mongodb","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":180057,"reputation":1113,"user_id":413129,"accept_rate":62,"display_name":"Uri Lukach"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1392233826,"creation_date":1392231800,"answer_id":21737246,"question_id":21734785,"body_markdown":"Apparently I can not add logger to my data objects,\r\n\r\nwhen I removed the logger it started working again\r\n\r\n\tprotected final Log logger = LogFactory.getLog(getClass());\r\n\r\nBe careful when using loggers in your data object in MongoDB\r\n\r\nIt seems that using @Transient should signal MongoDB driver not to persist the logger variable \r\n\r\nhttp://docs.spring.io/spring-data/data-document/docs/current/reference/html/#mapping-usage-annotations","title":"MongoDB - Spring - Saving an object causes StackOverflowError","body":"<p>Apparently I can not add logger to my data objects,</p>\n\n<p>when I removed the logger it started working again</p>\n\n<pre><code>protected final Log logger = LogFactory.getLog(getClass());\n</code></pre>\n\n<p>Be careful when using loggers in your data object in MongoDB</p>\n\n<p>It seems that using @Transient should signal MongoDB driver not to persist the logger variable </p>\n\n<p><a href=\"http://docs.spring.io/spring-data/data-document/docs/current/reference/html/#mapping-usage-annotations\" rel=\"noreferrer\">http://docs.spring.io/spring-data/data-document/docs/current/reference/html/#mapping-usage-annotations</a></p>\n"},{"tags":[],"owner":{"account_id":6974251,"reputation":1,"user_id":5349489,"display_name":"user5349489"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654855945,"creation_date":1654855945,"answer_id":72572580,"question_id":21734785,"body_markdown":"I have faced this issue while fetching document from mongo database using findById method so as workaround you can use another alternatives supported mongoTemplate find methods .\r\n\r\nThanks.","title":"MongoDB - Spring - Saving an object causes StackOverflowError","body":"<p>I have faced this issue while fetching document from mongo database using findById method so as workaround you can use another alternatives supported mongoTemplate find methods .</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":180057,"reputation":1113,"user_id":413129,"accept_rate":62,"display_name":"Uri Lukach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4346,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":21737246,"answer_count":2,"score":5,"last_activity_date":1654855945,"creation_date":1392225082,"question_id":21734785,"body_markdown":"Our architecture combines Spring with MongoDB. We usually do not have any issues with saving/editing and reading custom objects. Lately we have ran a few modifications in which we started getting the following errors\r\n\r\n           java.lang.StackOverflowError\r\n\tat java.util.Collections.emptyList(Collections.java:2959)\r\n\tat org.springframework.data.util.TypeDiscoverer.getTypeArguments(TypeDiscoverer.java:442)\r\n\tat org.springframework.data.util.ClassTypeInformation.getTypeArguments(ClassTypeInformation.java:40)\r\n\tat org.springframework.data.util.TypeDiscoverer.getActualType(TypeDiscoverer.java:288)\r\n\tat org.springframework.data.util.ClassTypeInformation.getActualType(ClassTypeInformation.java:40)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.addCustomTypeKeyIfNecessary(MappingMongoConverter.java:650)\r\n\r\n\r\nOr\r\n\r\n            java.lang.StackOverflowError\r\n\tat sun.misc.Unsafe.getObject(Native Method)\r\n\tat sun.misc.Unsafe.getObject(Unsafe.java:231)\r\n\tat sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:19)\r\n\tat java.lang.reflect.Field.get(Field.java:358)\r\n\tat org.springframework.util.ReflectionUtils.getField(ReflectionUtils.java:118)\r\n\tat org.springframework.data.mapping.model.BeanWrapper.getProperty(BeanWrapper.java:133)\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$3.doWithPersistentProperty(MappingMongoConverter.java:382)\r\n\r\n\r\nBefore I&#39;m adding all the major classes that combines our architecture I wonder whether\r\nany of you have previously encountered these kind of exceptions?\r\n\r\n","title":"MongoDB - Spring - Saving an object causes StackOverflowError","body":"<p>Our architecture combines Spring with MongoDB. We usually do not have any issues with saving/editing and reading custom objects. Lately we have ran a few modifications in which we started getting the following errors</p>\n\n<pre><code>       java.lang.StackOverflowError\nat java.util.Collections.emptyList(Collections.java:2959)\nat org.springframework.data.util.TypeDiscoverer.getTypeArguments(TypeDiscoverer.java:442)\nat org.springframework.data.util.ClassTypeInformation.getTypeArguments(ClassTypeInformation.java:40)\nat org.springframework.data.util.TypeDiscoverer.getActualType(TypeDiscoverer.java:288)\nat org.springframework.data.util.ClassTypeInformation.getActualType(ClassTypeInformation.java:40)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.addCustomTypeKeyIfNecessary(MappingMongoConverter.java:650)\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>        java.lang.StackOverflowError\nat sun.misc.Unsafe.getObject(Native Method)\nat sun.misc.Unsafe.getObject(Unsafe.java:231)\nat sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:19)\nat java.lang.reflect.Field.get(Field.java:358)\nat org.springframework.util.ReflectionUtils.getField(ReflectionUtils.java:118)\nat org.springframework.data.mapping.model.BeanWrapper.getProperty(BeanWrapper.java:133)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter$3.doWithPersistentProperty(MappingMongoConverter.java:382)\n</code></pre>\n\n<p>Before I'm adding all the major classes that combines our architecture I wonder whether\nany of you have previously encountered these kind of exceptions?</p>\n"},{"tags":["java","android","preferences","shared","lifo"],"comments":[{"owner":{"account_id":2970237,"reputation":873,"user_id":2522439,"display_name":"sanky jain"},"score":0,"creation_date":1456195050,"post_id":35567517,"comment_id":58823404,"body_markdown":"how are you storing the set in sharedpreference? Could you please share that code?","body":"how are you storing the set in sharedpreference? Could you please share that code?"},{"owner":{"account_id":7528450,"reputation":6499,"user_id":5717640,"accept_rate":98,"display_name":"Nerdy Bunz"},"score":0,"creation_date":1456195180,"post_id":35567517,"comment_id":58823439,"body_markdown":"I did share that, I believe?  The very last method in the post is where the changes are committed... if that&#39;s what you&#39;re asking.","body":"I did share that, I believe?  The very last method in the post is where the changes are committed... if that&#39;s what you&#39;re asking."},{"owner":{"account_id":2970237,"reputation":873,"user_id":2522439,"display_name":"sanky jain"},"score":0,"creation_date":1456195428,"post_id":35567517,"comment_id":58823501,"body_markdown":"Sorry i missed it, i am checking the code now","body":"Sorry i missed it, i am checking the code now"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1456284361,"post_id":35567517,"comment_id":58871539,"body_markdown":"The `Stack` class is not deprecated.","body":"The <code>Stack</code> class is not deprecated."}],"answers":[{"tags":[],"owner":{"account_id":5943946,"reputation":664,"user_id":4674122,"display_name":"Matthew Carlson"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1539798202,"creation_date":1456195449,"answer_id":35567829,"question_id":35567517,"body_markdown":"It is unfortunate, but you have simply found a limitation of `SharedPreferences`.\r\n\r\nWhile you are using an orderd hash, it does not load them ordered when you call `getStringSet`.\r\n\r\nThe quickest simplest way I have found of doing this is to convert your array into text, ordered, and then save that into the SharedPreferences.  Android comes with an object `JSONArray` that can do this.\r\n\r\nhttp://developer.android.com/reference/org/json/JSONArray.html\r\n\r\nHere is some pseudo code that will do what you want:\r\n\r\n    public void saveOrderedCollection(Collection collection, String key){\r\n    \tJSONArray jsonArray = new JSONArray(collection);\r\n    \tSharedPreferences.Editor editor = sharedPreferences.edit();\r\n    \teditor.putString(key, jsonArray.toString());\r\n    \teditor.commit();\r\n    }\r\n    \r\n    public Collection loadOrderedCollection(String key){\r\n    \tArrayList arrayList = new ArrayList;\r\n    \tSharedPreferences.Editor editor = sharedPreferences.edit();\r\n    \tJSONArray jsonArray = new JSONArray(editor.getString(key, &quot;[]&quot;));\r\n    \tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n    \t\tarrayList.put(jsonArray.get(i));\r\n        }\r\n    \treturn arrayList;\r\n    }\r\n\r\n\r\n\r\nHere are some other posts that I used to make this:\r\n\r\nhttps://stackoverflow.com/questions/3876680/is-it-possible-to-add-an-array-or-object-to-sharedpreferences-on-android\r\n\r\nhttps://stackoverflow.com/questions/10241556/in-shared-preferences-how-to-store-string-array-in-android-application\r\n","title":"Can&#39;t Control Order of String Set in Shared Preferences","body":"<p>It is unfortunate, but you have simply found a limitation of <code>SharedPreferences</code>.</p>\n\n<p>While you are using an orderd hash, it does not load them ordered when you call <code>getStringSet</code>.</p>\n\n<p>The quickest simplest way I have found of doing this is to convert your array into text, ordered, and then save that into the SharedPreferences.  Android comes with an object <code>JSONArray</code> that can do this.</p>\n\n<p><a href=\"http://developer.android.com/reference/org/json/JSONArray.html\" rel=\"noreferrer\">http://developer.android.com/reference/org/json/JSONArray.html</a></p>\n\n<p>Here is some pseudo code that will do what you want:</p>\n\n<pre><code>public void saveOrderedCollection(Collection collection, String key){\n    JSONArray jsonArray = new JSONArray(collection);\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putString(key, jsonArray.toString());\n    editor.commit();\n}\n\npublic Collection loadOrderedCollection(String key){\n    ArrayList arrayList = new ArrayList;\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    JSONArray jsonArray = new JSONArray(editor.getString(key, \"[]\"));\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\n        arrayList.put(jsonArray.get(i));\n    }\n    return arrayList;\n}\n</code></pre>\n\n<p>Here are some other posts that I used to make this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3876680/is-it-possible-to-add-an-array-or-object-to-sharedpreferences-on-android\">Is it possible to add an array or object to SharedPreferences on Android</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/10241556/in-shared-preferences-how-to-store-string-array-in-android-application\">In shared preferences how to store string array in android application</a></p>\n"},{"tags":[],"owner":{"account_id":7528450,"reputation":6499,"user_id":5717640,"accept_rate":98,"display_name":"Nerdy Bunz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456396502,"creation_date":1456200150,"answer_id":35568594,"question_id":35567517,"body_markdown":"I&#39;ve implemented the changes suggested (using JSON strings instead of string sets when saving to shared prefs) and here&#39;s the new code for my shared pref class in case anyone else is trying to do the same thing.  Probably overkill on the troubleshooting logs but thats how I roll since I don&#39;t know how to debug properly.  \r\n    \r\n    package [];\r\n\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n\r\n    import java.util.LinkedHashSet;\r\n    import java.util.Set;\r\n\r\n\r\n    /**\r\n     * Created by Programming on 2/22/2016.\r\n     */\r\n    public class SharedPrefUTIL {\r\n\r\n    protected static final String TAG = &quot;CXX SharedPrefUTIL&quot;;\r\n\r\n    Context context;\r\n\r\n    SharedPreferences sharedPreferences;\r\n\r\n    Set&lt;String&gt; recentArray;\r\n    Set&lt;String&gt; blockArray;\r\n    Set&lt;String&gt; faveArray;\r\n\r\n    JSONArray recentJArray;\r\n    JSONArray blockJArray;\r\n    JSONArray faveJArray;\r\n\r\n\r\n    public SharedPrefUTIL(Context context){\r\n\r\n        this.context = context;\r\n\r\n        // START load arrays from shared prefs\r\n\r\n        sharedPreferences = context.getSharedPreferences(&quot;prefs&quot;, Context.MODE_PRIVATE);\r\n\r\n        try {\r\n            recentJArray = new JSONArray(sharedPreferences.getString(&quot;recentArray&quot;,&quot;[]&quot;));\r\n            blockJArray = new JSONArray(sharedPreferences.getString(&quot;blockArray&quot;,&quot;[]&quot;));\r\n            faveJArray = new JSONArray(sharedPreferences.getString(&quot;faveArray&quot;,&quot;[]&quot;));\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n            Log.i(TAG, e.toString());\r\n        }\r\n\r\n        Log.i(TAG, &quot;length of recentJArray is &quot; + recentJArray.length());\r\n\r\n        recentArray = new LinkedHashSet&lt;String&gt;();\r\n        blockArray = new LinkedHashSet&lt;String&gt;();\r\n        faveArray = new LinkedHashSet&lt;String&gt;();\r\n\r\n        for (int i = 0; i &lt; recentJArray.length(); i++) {\r\n\r\n            try {\r\n                recentArray.add(recentJArray.getString(i));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                Log.i(TAG, e.toString());\r\n            }\r\n\r\n        }\r\n\r\n        for (int i = 0; i &lt; blockJArray.length(); i++) {\r\n\r\n            try {\r\n                blockArray.add(blockJArray.getString(i));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                Log.i(TAG, e.toString());\r\n            }\r\n\r\n        }\r\n\r\n        for (int i = 0; i &lt; faveJArray.length(); i++) {\r\n\r\n            try {\r\n                faveArray.add(faveJArray.getString(i));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                Log.i(TAG, e.toString());\r\n            }\r\n\r\n        }\r\n\r\n        // END load arrays from shared prefs\r\n\r\n        Log.i(TAG, &quot;SharedPrefUTIL instance created&quot;);\r\n\r\n    }\r\n\r\n    public void toastLength(String type){\r\n\r\n        if (type == &quot;R&quot;){\r\n\r\n            String temp = type + &quot; array is this long: &quot; + recentArray.size();\r\n\r\n            Toast.makeText(context, temp,\r\n                    Toast.LENGTH_LONG).show();\r\n\r\n            Log.i(TAG, temp);\r\n\r\n\r\n        }\r\n\r\n        else if (type == &quot;B&quot;){\r\n\r\n            String temp = type + &quot; array is this long: &quot; + blockArray.size();\r\n\r\n            Toast.makeText(context, temp,\r\n                    Toast.LENGTH_LONG).show();\r\n\r\n            Log.i(TAG, temp);\r\n\r\n        }\r\n\r\n        else if (type == &quot;F&quot;){\r\n\r\n            String temp = type + &quot; array is this long: &quot; + faveArray.size();\r\n\r\n            Toast.makeText(context, temp,\r\n                    Toast.LENGTH_LONG).show();\r\n\r\n            Log.i(TAG, temp);\r\n\r\n        }\r\n\r\n        else {\r\n            Log.i(TAG, &quot;invalid type param given to toastLength()&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public void toastContents(String type){\r\n\r\n        if (type == &quot;R&quot;){\r\n\r\n            for (String temp : recentArray) {\r\n\r\n                Toast.makeText(context, temp, Toast.LENGTH_LONG).show();\r\n\r\n                Log.i(TAG, &quot;recentArray contains: &quot; + temp);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        else if (type == &quot;B&quot;){\r\n\r\n            for (String temp : blockArray) {\r\n\r\n                Toast.makeText(context, temp,\r\n                        Toast.LENGTH_LONG).show();\r\n\r\n                Log.i(TAG, &quot;blockArray contains: &quot; + temp);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        else if (type == &quot;F&quot;){\r\n\r\n            for (String temp : faveArray) {\r\n\r\n                Toast.makeText(context, temp,\r\n                        Toast.LENGTH_LONG).show();\r\n\r\n                Log.i(TAG, &quot;faveArray contains: &quot; + temp);\r\n\r\n            }\r\n        }\r\n\r\n        else {\r\n            Log.i(TAG, &quot;invalid type param given to toastContents()&quot;);\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    public void clearList(String type){\r\n        if (type == &quot;R&quot;){\r\n            recentArray.clear();\r\n\r\n            commit(&quot;recentArray&quot;, recentArray);\r\n\r\n            Toast.makeText(context,&quot;recent list has been cleared.&quot;, Toast.LENGTH_LONG);\r\n        }\r\n\r\n        else if (type == &quot;B&quot;){\r\n\r\n            blockArray.clear();\r\n\r\n            commit(&quot;blockArray&quot;, blockArray);\r\n\r\n            Toast.makeText(context,&quot;blacklist has been cleared.&quot;, Toast.LENGTH_LONG);\r\n\r\n        }\r\n\r\n        else if (type == &quot;F&quot;){\r\n\r\n            faveArray.clear();\r\n\r\n            commit(&quot;faveArray&quot;, faveArray);\r\n\r\n            Toast.makeText(context,&quot;favorites have been cleared.&quot;, Toast.LENGTH_LONG);\r\n\r\n        }\r\n\r\n        else {\r\n            Log.i(TAG, &quot;invalid type param given to clearList()&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void addRecent(String newRecent){\r\n        recentArray.add(newRecent);\r\n        commit(&quot;recentArray&quot;, recentArray);\r\n        Log.i(TAG, newRecent + &quot; added to recentArray&quot;);\r\n    }\r\n\r\n    public void addBlocked(String newBlocked){\r\n        blockArray.add(newBlocked);\r\n        commit(&quot;blockArray&quot;, blockArray);\r\n        Toast.makeText(context, newBlocked + &quot; has been blacklisted!&quot;, Toast.LENGTH_SHORT);\r\n    }\r\n\r\n    public void remBlocked(String remBlocked){\r\n        blockArray.remove(remBlocked);\r\n        commit(&quot;blockArray&quot;, blockArray);\r\n        Toast.makeText(context, remBlocked + &quot; has been unblocked.&quot;, Toast.LENGTH_SHORT);\r\n    }\r\n\r\n    public void addFave(String newFave){\r\n        faveArray.add(newFave);\r\n        commit(&quot;faveArray&quot;, faveArray);\r\n        Toast.makeText(context, newFave + &quot; added to favorites!&quot;, Toast.LENGTH_SHORT);\r\n\r\n    }\r\n\r\n    public void remFave(String remFave){\r\n        faveArray.remove(remFave);\r\n        commit(&quot;faveArray&quot;, faveArray);\r\n        Toast.makeText(context, remFave + &quot; removed from favorites.&quot;, Toast.LENGTH_SHORT);\r\n    }\r\n\r\n    public void commit(String key, Set&lt;String&gt; set){\r\n\r\n        // convert set into JSON\r\n\r\n        JSONArray jsonArray = new JSONArray(set);\r\n\r\n        Log.i(TAG, &quot;During commit, jsonArray(set) is this long: &quot; + jsonArray.length());\r\n\r\n        //-------------------------------------------\r\n\r\n\r\n        // commit changes\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(key,jsonArray.toString());\r\n        editor.commit();\r\n        Log.i(TAG, jsonArray.toString() + &quot; committed to &quot; + key);\r\n\r\n    }\r\n\r\n    }\r\n","title":"Can&#39;t Control Order of String Set in Shared Preferences","body":"<p>I've implemented the changes suggested (using JSON strings instead of string sets when saving to shared prefs) and here's the new code for my shared pref class in case anyone else is trying to do the same thing.  Probably overkill on the troubleshooting logs but thats how I roll since I don't know how to debug properly.  </p>\n\n<pre><code>package [];\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\n\nimport java.util.LinkedHashSet;\nimport java.util.Set;\n\n\n/**\n * Created by Programming on 2/22/2016.\n */\npublic class SharedPrefUTIL {\n\nprotected static final String TAG = \"CXX SharedPrefUTIL\";\n\nContext context;\n\nSharedPreferences sharedPreferences;\n\nSet&lt;String&gt; recentArray;\nSet&lt;String&gt; blockArray;\nSet&lt;String&gt; faveArray;\n\nJSONArray recentJArray;\nJSONArray blockJArray;\nJSONArray faveJArray;\n\n\npublic SharedPrefUTIL(Context context){\n\n    this.context = context;\n\n    // START load arrays from shared prefs\n\n    sharedPreferences = context.getSharedPreferences(\"prefs\", Context.MODE_PRIVATE);\n\n    try {\n        recentJArray = new JSONArray(sharedPreferences.getString(\"recentArray\",\"[]\"));\n        blockJArray = new JSONArray(sharedPreferences.getString(\"blockArray\",\"[]\"));\n        faveJArray = new JSONArray(sharedPreferences.getString(\"faveArray\",\"[]\"));\n    } catch (JSONException e) {\n        e.printStackTrace();\n        Log.i(TAG, e.toString());\n    }\n\n    Log.i(TAG, \"length of recentJArray is \" + recentJArray.length());\n\n    recentArray = new LinkedHashSet&lt;String&gt;();\n    blockArray = new LinkedHashSet&lt;String&gt;();\n    faveArray = new LinkedHashSet&lt;String&gt;();\n\n    for (int i = 0; i &lt; recentJArray.length(); i++) {\n\n        try {\n            recentArray.add(recentJArray.getString(i));\n        } catch (JSONException e) {\n            e.printStackTrace();\n            Log.i(TAG, e.toString());\n        }\n\n    }\n\n    for (int i = 0; i &lt; blockJArray.length(); i++) {\n\n        try {\n            blockArray.add(blockJArray.getString(i));\n        } catch (JSONException e) {\n            e.printStackTrace();\n            Log.i(TAG, e.toString());\n        }\n\n    }\n\n    for (int i = 0; i &lt; faveJArray.length(); i++) {\n\n        try {\n            faveArray.add(faveJArray.getString(i));\n        } catch (JSONException e) {\n            e.printStackTrace();\n            Log.i(TAG, e.toString());\n        }\n\n    }\n\n    // END load arrays from shared prefs\n\n    Log.i(TAG, \"SharedPrefUTIL instance created\");\n\n}\n\npublic void toastLength(String type){\n\n    if (type == \"R\"){\n\n        String temp = type + \" array is this long: \" + recentArray.size();\n\n        Toast.makeText(context, temp,\n                Toast.LENGTH_LONG).show();\n\n        Log.i(TAG, temp);\n\n\n    }\n\n    else if (type == \"B\"){\n\n        String temp = type + \" array is this long: \" + blockArray.size();\n\n        Toast.makeText(context, temp,\n                Toast.LENGTH_LONG).show();\n\n        Log.i(TAG, temp);\n\n    }\n\n    else if (type == \"F\"){\n\n        String temp = type + \" array is this long: \" + faveArray.size();\n\n        Toast.makeText(context, temp,\n                Toast.LENGTH_LONG).show();\n\n        Log.i(TAG, temp);\n\n    }\n\n    else {\n        Log.i(TAG, \"invalid type param given to toastLength()\");\n    }\n\n}\n\n\npublic void toastContents(String type){\n\n    if (type == \"R\"){\n\n        for (String temp : recentArray) {\n\n            Toast.makeText(context, temp, Toast.LENGTH_LONG).show();\n\n            Log.i(TAG, \"recentArray contains: \" + temp);\n\n        }\n\n    }\n\n    else if (type == \"B\"){\n\n        for (String temp : blockArray) {\n\n            Toast.makeText(context, temp,\n                    Toast.LENGTH_LONG).show();\n\n            Log.i(TAG, \"blockArray contains: \" + temp);\n\n        }\n\n    }\n\n    else if (type == \"F\"){\n\n        for (String temp : faveArray) {\n\n            Toast.makeText(context, temp,\n                    Toast.LENGTH_LONG).show();\n\n            Log.i(TAG, \"faveArray contains: \" + temp);\n\n        }\n    }\n\n    else {\n        Log.i(TAG, \"invalid type param given to toastContents()\");\n    }\n\n\n\n}\n\npublic void clearList(String type){\n    if (type == \"R\"){\n        recentArray.clear();\n\n        commit(\"recentArray\", recentArray);\n\n        Toast.makeText(context,\"recent list has been cleared.\", Toast.LENGTH_LONG);\n    }\n\n    else if (type == \"B\"){\n\n        blockArray.clear();\n\n        commit(\"blockArray\", blockArray);\n\n        Toast.makeText(context,\"blacklist has been cleared.\", Toast.LENGTH_LONG);\n\n    }\n\n    else if (type == \"F\"){\n\n        faveArray.clear();\n\n        commit(\"faveArray\", faveArray);\n\n        Toast.makeText(context,\"favorites have been cleared.\", Toast.LENGTH_LONG);\n\n    }\n\n    else {\n        Log.i(TAG, \"invalid type param given to clearList()\");\n    }\n\n}\n\npublic void addRecent(String newRecent){\n    recentArray.add(newRecent);\n    commit(\"recentArray\", recentArray);\n    Log.i(TAG, newRecent + \" added to recentArray\");\n}\n\npublic void addBlocked(String newBlocked){\n    blockArray.add(newBlocked);\n    commit(\"blockArray\", blockArray);\n    Toast.makeText(context, newBlocked + \" has been blacklisted!\", Toast.LENGTH_SHORT);\n}\n\npublic void remBlocked(String remBlocked){\n    blockArray.remove(remBlocked);\n    commit(\"blockArray\", blockArray);\n    Toast.makeText(context, remBlocked + \" has been unblocked.\", Toast.LENGTH_SHORT);\n}\n\npublic void addFave(String newFave){\n    faveArray.add(newFave);\n    commit(\"faveArray\", faveArray);\n    Toast.makeText(context, newFave + \" added to favorites!\", Toast.LENGTH_SHORT);\n\n}\n\npublic void remFave(String remFave){\n    faveArray.remove(remFave);\n    commit(\"faveArray\", faveArray);\n    Toast.makeText(context, remFave + \" removed from favorites.\", Toast.LENGTH_SHORT);\n}\n\npublic void commit(String key, Set&lt;String&gt; set){\n\n    // convert set into JSON\n\n    JSONArray jsonArray = new JSONArray(set);\n\n    Log.i(TAG, \"During commit, jsonArray(set) is this long: \" + jsonArray.length());\n\n    //-------------------------------------------\n\n\n    // commit changes\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putString(key,jsonArray.toString());\n    editor.commit();\n    Log.i(TAG, jsonArray.toString() + \" committed to \" + key);\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2725434,"reputation":2673,"user_id":2350644,"accept_rate":86,"display_name":"ice_chrysler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562167207,"creation_date":1562167207,"answer_id":56873347,"question_id":35567517,"body_markdown":"Using kotlin, you could simply write extension functions to store a list of strings which keeps the ordering as you&#39;ve added them:\r\n\r\n       fun SharedPreferences.Editor.putStringList(key: String, list: List&lt;String&gt;) {\r\n            this.putString(key, list.joinToString(&quot;;&quot;))\r\n        }\r\n    \r\n       fun SharedPreferences.getStringList(key: String): List&lt;String&gt; {\r\n            return this.getString(key, &quot;&quot;)?.split(&quot;;&quot;) ?: listOf()\r\n        }\r\n\r\nYou can then store your values like this:\r\n\r\n    sharedPrefs.edit().putStringList(&quot;SOME_KEY&quot;, listOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;))\r\n\r\nAnd receive them likes this:\r\n\r\n    val myList = sharedPrefs.getStringList(&quot;SOME_KEY&quot;)","title":"Can&#39;t Control Order of String Set in Shared Preferences","body":"<p>Using kotlin, you could simply write extension functions to store a list of strings which keeps the ordering as you've added them:</p>\n\n<pre><code>   fun SharedPreferences.Editor.putStringList(key: String, list: List&lt;String&gt;) {\n        this.putString(key, list.joinToString(\";\"))\n    }\n\n   fun SharedPreferences.getStringList(key: String): List&lt;String&gt; {\n        return this.getString(key, \"\")?.split(\";\") ?: listOf()\n    }\n</code></pre>\n\n<p>You can then store your values like this:</p>\n\n<pre><code>sharedPrefs.edit().putStringList(\"SOME_KEY\", listOf(\"A\", \"B\", \"C\"))\n</code></pre>\n\n<p>And receive them likes this:</p>\n\n<pre><code>val myList = sharedPrefs.getStringList(\"SOME_KEY\")\n</code></pre>\n"}],"owner":{"account_id":7528450,"reputation":6499,"user_id":5717640,"accept_rate":98,"display_name":"Nerdy Bunz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4318,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":35567829,"answer_count":3,"score":6,"last_activity_date":1654855851,"creation_date":1456193269,"question_id":35567517,"body_markdown":"This is my first stackoverflow question. I have done lot of googling on this.  On Hashsets, Treesets, LinkedHashSets, Collections, Stacks (Stack class is deprecated?)... I realize I could just use SQLite but I&#39;m trying to avoid that for the time being.\r\n\r\nI&#39;m working on an app in Android Studio. The app deals with people, listing them and contacting them in different ways. App users can maintain and control three types of lists: recently contacted, blocked, and favorites.  These lists are saved as string sets in shared preferences so they survive the app being closed and reopened.  The individual strings act as primary keys when the lists are populated using an online database.  I am most concerned with the &quot;recently contacted&quot; list because the order of this list matters.\r\n\r\nThe problem is that as far as I understand, when I declare a string set it is as follows:\r\n\r\n    Set&lt;String&gt; faveArray = new LinkedHashSet&lt;String&gt;;\r\n\r\nAs I understand I can only use HashSet, LinkedHashSet, or TreeSet on the right hand side.\r\n\r\nSince I used LinkedHashset, I was expecting that when I reopen the app and pull the data back out of sharedpreferences, that the strings would be pulled out starting with the most recently added (LIFO / stack), and therefore when I populate a listview, they will show with the &quot;most recently contacted&quot; person at the top of the list and so on... or at least I was expecting to have some kind of predictable order/behavior that I can work with.\r\n\r\nSo....... I&#39;ve attached my code for my shared preferences I/O class.\r\n\r\nFrom my main app, I do something like:\r\n\r\n    static SharedPrefUTIL sharedPrefUTIL;\r\n\r\n    sharedPrefUTIL = new SharedPrefUTIL(this);\r\n\r\n    sharedPrefUTIL.addRecent(&quot;derp&quot;);\r\n    sharedPrefUTIL.addRecent(&quot;nerp&quot;);\r\n    sharedPrefUTIL.addRecent(&quot;gerp&quot;);\r\n    sharedPrefUTIL.addRecent(&quot;herp&quot;);\r\n\r\nAt this point, the code \r\n\r\n    Log.i(TAG, set + &quot; committed to &quot; + key);\r\n\r\nin the commit() method of class SharedPrefUTIL Logs:\r\n\r\n&quot; [derp, nerp, gerp, herp] committed to recentArray &quot; \r\n\r\nBut after closing and re-opening the app, if we perform:\r\n\r\n    sharedPrefUTIL.toastContents(&quot;R&quot;);\r\n\r\nThe result is seemingly random order.  &lt;&lt;&lt;&lt; that is my problem.\r\n\r\nAny help greatly appreciated.\r\n\r\n\r\n    package com.secretsoft.booberbunz;\r\n\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    import java.util.LinkedHashSet;\r\n    import java.util.Queue;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n\r\n    /**\r\n    * Created by Programming on 2/22/2016.\r\n    */\r\n    public class SharedPrefUTIL {\r\n\r\n    protected static final String TAG = &quot;CXX SharedPrefUTIL&quot;;\r\n\r\n    Context context;\r\n\r\n    SharedPreferences sharedPreferences;\r\n\r\n    Set&lt;String&gt; faveArray;\r\n    Set&lt;String&gt; blockArray;\r\n    Set&lt;String&gt; recentArray;\r\n\r\n    public static final Set&lt;String&gt; DEFAULT = new HashSet&lt;String&gt;(Arrays.asList(&quot;empty&quot;));\r\n\r\n\r\n    public SharedPrefUTIL(Context context){\r\n\r\n        this.context = context;\r\n\r\n        // load shared prefs into static arrays (new objects to prevent problems)\r\n\r\n        sharedPreferences = context.getSharedPreferences(&quot;prefs&quot;, Context.MODE_PRIVATE);\r\n\r\n        recentArray = new LinkedHashSet&lt;String&gt;(sharedPreferences.getStringSet(&quot;recentArray&quot;,DEFAULT));\r\n        blockArray = new LinkedHashSet&lt;String&gt;(sharedPreferences.getStringSet(&quot;blockArray&quot;,DEFAULT));\r\n        faveArray = new LinkedHashSet&lt;String&gt;(sharedPreferences.getStringSet(&quot;faveArray&quot;,DEFAULT));\r\n\r\n        Log.i(TAG, &quot;SharedPrefUTIL instance created&quot;);\r\n\r\n\r\n        if (recentArray.contains(&quot;empty&quot;)) {\r\n            recentArray.clear();\r\n\r\n            Log.i(TAG, &quot;recentArray contains the string -empty- and was cleared&quot;);\r\n        }\r\n\r\n        if (blockArray.contains(&quot;empty&quot;)) {\r\n            blockArray.clear();\r\n\r\n            Log.i(TAG, &quot;blockArray contains the string -empty- and was cleared&quot;);\r\n        }\r\n\r\n        if (faveArray.contains(&quot;empty&quot;)) {\r\n            faveArray.clear();\r\n\r\n            Log.i(TAG, &quot;faveArray contains the string -empty- and was cleared&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void toastLength(String type){\r\n\r\n        if (type == &quot;R&quot;){\r\n\r\n            String temp = type + &quot; array is this long: &quot; + recentArray.size();\r\n\r\n            Toast.makeText(context, temp,\r\n                    Toast.LENGTH_LONG).show();\r\n\r\n            Log.i(TAG, temp);\r\n\r\n\r\n        }\r\n\r\n        else if (type == &quot;B&quot;){\r\n\r\n            String temp = type + &quot; array is this long: &quot; + blockArray.size();\r\n\r\n            Toast.makeText(context, temp,\r\n                    Toast.LENGTH_LONG).show();\r\n\r\n            Log.i(TAG, temp);\r\n\r\n        }\r\n\r\n        else if (type == &quot;F&quot;){\r\n\r\n            String temp = type + &quot; array is this long: &quot; + faveArray.size();\r\n\r\n            Toast.makeText(context, temp,\r\n                    Toast.LENGTH_LONG).show();\r\n\r\n            Log.i(TAG, temp);\r\n\r\n        }\r\n\r\n        else {\r\n            Log.i(TAG, &quot;invalid type param given to toastLength()&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public void toastContents(String type){\r\n\r\n        if (type == &quot;R&quot;){\r\n\r\n            for (String temp : recentArray) {\r\n\r\n            Toast.makeText(context, temp,\r\n                    Toast.LENGTH_LONG).show();\r\n\r\n            Log.i(TAG, &quot;recentArray contains: &quot; + temp);\r\n\r\n        }\r\n\r\n        }\r\n\r\n        else if (type == &quot;B&quot;){\r\n\r\n            for (String temp : blockArray) {\r\n\r\n                Toast.makeText(context, temp,\r\n                        Toast.LENGTH_LONG).show();\r\n\r\n                Log.i(TAG, &quot;blockArray contains: &quot; + temp);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        else if (type == &quot;F&quot;){\r\n\r\n            for (String temp : faveArray) {\r\n\r\n                Toast.makeText(context, temp,\r\n                        Toast.LENGTH_LONG).show();\r\n\r\n                Log.i(TAG, &quot;faveArray contains: &quot; + temp);\r\n\r\n            }\r\n        }\r\n\r\n        else {\r\n            Log.i(TAG, &quot;invalid type param given to toastContents()&quot;);\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    public void clearList(String type){\r\n        if (type == &quot;R&quot;){\r\n            recentArray.clear();\r\n\r\n            commit(&quot;recentArray&quot;, recentArray);\r\n\r\n            Toast.makeText(context,&quot;recent list has been cleared.&quot;, Toast.LENGTH_LONG);\r\n        }\r\n\r\n        else if (type == &quot;B&quot;){\r\n\r\n            blockArray.clear();\r\n\r\n            commit(&quot;blockArray&quot;, blockArray);\r\n\r\n            Toast.makeText(context,&quot;blacklist has been cleared.&quot;, Toast.LENGTH_LONG);\r\n\r\n        }\r\n\r\n        else if (type == &quot;F&quot;){\r\n\r\n            faveArray.clear();\r\n\r\n            commit(&quot;faveArray&quot;, faveArray);\r\n\r\n            Toast.makeText(context,&quot;favorites have been cleared.&quot;, Toast.LENGTH_LONG);\r\n\r\n        }\r\n\r\n        else {\r\n            Log.i(TAG, &quot;invalid type param given to clearList()&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void addRecent(String newRecent){\r\n        recentArray.add(newRecent);\r\n        commit(&quot;recentArray&quot;, recentArray);\r\n        Log.i(TAG, newRecent + &quot; added to recentArray&quot;);\r\n    }\r\n\r\n    public void addBlocked(String newBlocked, String  nick){\r\n        blockArray.add(newBlocked);\r\n        commit(&quot;blockArray&quot;, blockArray);\r\n        Toast.makeText(context, nick + &quot; has been blacklisted!&quot;, Toast.LENGTH_SHORT);\r\n    }\r\n\r\n    public void remBlocked(String remBlocked, String nick){\r\n        blockArray.remove(remBlocked);\r\n        commit(&quot;blockArray&quot;, blockArray);\r\n        Toast.makeText(context, nick + &quot; has been unblocked.&quot;, Toast.LENGTH_SHORT);\r\n    }\r\n\r\n    public void addFave(String newFave, String nick){\r\n        faveArray.add(newFave);\r\n        commit(&quot;faveArray&quot;, faveArray);\r\n        Toast.makeText(context, nick + &quot; added to favorites!&quot;, Toast.LENGTH_SHORT);\r\n\r\n    }\r\n\r\n    public void remFave(String remFave, String nick){\r\n        faveArray.remove(remFave);\r\n        commit(&quot;faveArray&quot;, faveArray);\r\n        Toast.makeText(context, nick + &quot; removed from favorites.&quot;, Toast.LENGTH_SHORT);\r\n    }\r\n\r\n    public void commit(String key, Set&lt;String&gt; set){\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putStringSet(key,set);\r\n        editor.commit();\r\n        Log.i(TAG, set + &quot; committed to &quot; + key);\r\n    }\r\n\r\n\r\n\r\n\r\n    }\r\n","title":"Can&#39;t Control Order of String Set in Shared Preferences","body":"<p>This is my first stackoverflow question. I have done lot of googling on this.  On Hashsets, Treesets, LinkedHashSets, Collections, Stacks (Stack class is deprecated?)... I realize I could just use SQLite but I'm trying to avoid that for the time being.</p>\n<p>I'm working on an app in Android Studio. The app deals with people, listing them and contacting them in different ways. App users can maintain and control three types of lists: recently contacted, blocked, and favorites.  These lists are saved as string sets in shared preferences so they survive the app being closed and reopened.  The individual strings act as primary keys when the lists are populated using an online database.  I am most concerned with the &quot;recently contacted&quot; list because the order of this list matters.</p>\n<p>The problem is that as far as I understand, when I declare a string set it is as follows:</p>\n<pre><code>Set&lt;String&gt; faveArray = new LinkedHashSet&lt;String&gt;;\n</code></pre>\n<p>As I understand I can only use HashSet, LinkedHashSet, or TreeSet on the right hand side.</p>\n<p>Since I used LinkedHashset, I was expecting that when I reopen the app and pull the data back out of sharedpreferences, that the strings would be pulled out starting with the most recently added (LIFO / stack), and therefore when I populate a listview, they will show with the &quot;most recently contacted&quot; person at the top of the list and so on... or at least I was expecting to have some kind of predictable order/behavior that I can work with.</p>\n<p>So....... I've attached my code for my shared preferences I/O class.</p>\n<p>From my main app, I do something like:</p>\n<pre><code>static SharedPrefUTIL sharedPrefUTIL;\n\nsharedPrefUTIL = new SharedPrefUTIL(this);\n\nsharedPrefUTIL.addRecent(&quot;derp&quot;);\nsharedPrefUTIL.addRecent(&quot;nerp&quot;);\nsharedPrefUTIL.addRecent(&quot;gerp&quot;);\nsharedPrefUTIL.addRecent(&quot;herp&quot;);\n</code></pre>\n<p>At this point, the code</p>\n<pre><code>Log.i(TAG, set + &quot; committed to &quot; + key);\n</code></pre>\n<p>in the commit() method of class SharedPrefUTIL Logs:</p>\n<p>&quot; [derp, nerp, gerp, herp] committed to recentArray &quot;</p>\n<p>But after closing and re-opening the app, if we perform:</p>\n<pre><code>sharedPrefUTIL.toastContents(&quot;R&quot;);\n</code></pre>\n<p>The result is seemingly random order.  &lt;&lt;&lt;&lt; that is my problem.</p>\n<p>Any help greatly appreciated.</p>\n<pre><code>package com.secretsoft.booberbunz;\n\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.LinkedHashSet;\nimport java.util.Queue;\nimport java.util.Set;\nimport java.util.TreeSet;\n\n/**\n* Created by Programming on 2/22/2016.\n*/\npublic class SharedPrefUTIL {\n\nprotected static final String TAG = &quot;CXX SharedPrefUTIL&quot;;\n\nContext context;\n\nSharedPreferences sharedPreferences;\n\nSet&lt;String&gt; faveArray;\nSet&lt;String&gt; blockArray;\nSet&lt;String&gt; recentArray;\n\npublic static final Set&lt;String&gt; DEFAULT = new HashSet&lt;String&gt;(Arrays.asList(&quot;empty&quot;));\n\n\npublic SharedPrefUTIL(Context context){\n\n    this.context = context;\n\n    // load shared prefs into static arrays (new objects to prevent problems)\n\n    sharedPreferences = context.getSharedPreferences(&quot;prefs&quot;, Context.MODE_PRIVATE);\n\n    recentArray = new LinkedHashSet&lt;String&gt;(sharedPreferences.getStringSet(&quot;recentArray&quot;,DEFAULT));\n    blockArray = new LinkedHashSet&lt;String&gt;(sharedPreferences.getStringSet(&quot;blockArray&quot;,DEFAULT));\n    faveArray = new LinkedHashSet&lt;String&gt;(sharedPreferences.getStringSet(&quot;faveArray&quot;,DEFAULT));\n\n    Log.i(TAG, &quot;SharedPrefUTIL instance created&quot;);\n\n\n    if (recentArray.contains(&quot;empty&quot;)) {\n        recentArray.clear();\n\n        Log.i(TAG, &quot;recentArray contains the string -empty- and was cleared&quot;);\n    }\n\n    if (blockArray.contains(&quot;empty&quot;)) {\n        blockArray.clear();\n\n        Log.i(TAG, &quot;blockArray contains the string -empty- and was cleared&quot;);\n    }\n\n    if (faveArray.contains(&quot;empty&quot;)) {\n        faveArray.clear();\n\n        Log.i(TAG, &quot;faveArray contains the string -empty- and was cleared&quot;);\n    }\n\n}\n\npublic void toastLength(String type){\n\n    if (type == &quot;R&quot;){\n\n        String temp = type + &quot; array is this long: &quot; + recentArray.size();\n\n        Toast.makeText(context, temp,\n                Toast.LENGTH_LONG).show();\n\n        Log.i(TAG, temp);\n\n\n    }\n\n    else if (type == &quot;B&quot;){\n\n        String temp = type + &quot; array is this long: &quot; + blockArray.size();\n\n        Toast.makeText(context, temp,\n                Toast.LENGTH_LONG).show();\n\n        Log.i(TAG, temp);\n\n    }\n\n    else if (type == &quot;F&quot;){\n\n        String temp = type + &quot; array is this long: &quot; + faveArray.size();\n\n        Toast.makeText(context, temp,\n                Toast.LENGTH_LONG).show();\n\n        Log.i(TAG, temp);\n\n    }\n\n    else {\n        Log.i(TAG, &quot;invalid type param given to toastLength()&quot;);\n    }\n\n}\n\n\npublic void toastContents(String type){\n\n    if (type == &quot;R&quot;){\n\n        for (String temp : recentArray) {\n\n        Toast.makeText(context, temp,\n                Toast.LENGTH_LONG).show();\n\n        Log.i(TAG, &quot;recentArray contains: &quot; + temp);\n\n    }\n\n    }\n\n    else if (type == &quot;B&quot;){\n\n        for (String temp : blockArray) {\n\n            Toast.makeText(context, temp,\n                    Toast.LENGTH_LONG).show();\n\n            Log.i(TAG, &quot;blockArray contains: &quot; + temp);\n\n        }\n\n    }\n\n    else if (type == &quot;F&quot;){\n\n        for (String temp : faveArray) {\n\n            Toast.makeText(context, temp,\n                    Toast.LENGTH_LONG).show();\n\n            Log.i(TAG, &quot;faveArray contains: &quot; + temp);\n\n        }\n    }\n\n    else {\n        Log.i(TAG, &quot;invalid type param given to toastContents()&quot;);\n    }\n\n\n\n}\n\npublic void clearList(String type){\n    if (type == &quot;R&quot;){\n        recentArray.clear();\n\n        commit(&quot;recentArray&quot;, recentArray);\n\n        Toast.makeText(context,&quot;recent list has been cleared.&quot;, Toast.LENGTH_LONG);\n    }\n\n    else if (type == &quot;B&quot;){\n\n        blockArray.clear();\n\n        commit(&quot;blockArray&quot;, blockArray);\n\n        Toast.makeText(context,&quot;blacklist has been cleared.&quot;, Toast.LENGTH_LONG);\n\n    }\n\n    else if (type == &quot;F&quot;){\n\n        faveArray.clear();\n\n        commit(&quot;faveArray&quot;, faveArray);\n\n        Toast.makeText(context,&quot;favorites have been cleared.&quot;, Toast.LENGTH_LONG);\n\n    }\n\n    else {\n        Log.i(TAG, &quot;invalid type param given to clearList()&quot;);\n    }\n\n}\n\npublic void addRecent(String newRecent){\n    recentArray.add(newRecent);\n    commit(&quot;recentArray&quot;, recentArray);\n    Log.i(TAG, newRecent + &quot; added to recentArray&quot;);\n}\n\npublic void addBlocked(String newBlocked, String  nick){\n    blockArray.add(newBlocked);\n    commit(&quot;blockArray&quot;, blockArray);\n    Toast.makeText(context, nick + &quot; has been blacklisted!&quot;, Toast.LENGTH_SHORT);\n}\n\npublic void remBlocked(String remBlocked, String nick){\n    blockArray.remove(remBlocked);\n    commit(&quot;blockArray&quot;, blockArray);\n    Toast.makeText(context, nick + &quot; has been unblocked.&quot;, Toast.LENGTH_SHORT);\n}\n\npublic void addFave(String newFave, String nick){\n    faveArray.add(newFave);\n    commit(&quot;faveArray&quot;, faveArray);\n    Toast.makeText(context, nick + &quot; added to favorites!&quot;, Toast.LENGTH_SHORT);\n\n}\n\npublic void remFave(String remFave, String nick){\n    faveArray.remove(remFave);\n    commit(&quot;faveArray&quot;, faveArray);\n    Toast.makeText(context, nick + &quot; removed from favorites.&quot;, Toast.LENGTH_SHORT);\n}\n\npublic void commit(String key, Set&lt;String&gt; set){\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putStringSet(key,set);\n    editor.commit();\n    Log.i(TAG, set + &quot; committed to &quot; + key);\n}\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1654851266,"post_id":72571316,"comment_id":128195493,"body_markdown":"Please provide screenshots from `Settings/Preferences | Editor | File Encodings` and `Settings/Preferences | Tools | Terminal`","body":"Please provide screenshots from <code>Settings&#47;Preferences | Editor | File Encodings</code> and <code>Settings&#47;Preferences | Tools | Terminal</code>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1654851373,"post_id":72571316,"comment_id":128195524,"body_markdown":"Try adding `-Dfile.encoding=UTF-8` and `-Dconsole.encoding=UTF-8` under `Help | Edit Custom VM Options` and restart.","body":"Try adding <code>-Dfile.encoding=UTF-8</code> and <code>-Dconsole.encoding=UTF-8</code> under <code>Help | Edit Custom VM Options</code> and restart."},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1654851490,"post_id":72571316,"comment_id":128195565,"body_markdown":"@EgorKlepikov : please find attached screenshots for the same","body":"@EgorKlepikov : please find attached screenshots for the same"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1654851522,"post_id":72571316,"comment_id":128195582,"body_markdown":"@EgorKlepikov : I have already tried that but still facing issue","body":"@EgorKlepikov : I have already tried that but still facing issue"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1654851650,"post_id":72571316,"comment_id":128195626,"body_markdown":"What JDK version and vendor do you use?","body":"What JDK version and vendor do you use?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1654851842,"post_id":72571316,"comment_id":128195700,"body_markdown":"Also, provide the output of `locale` command executed  from the IDE terminal.","body":"Also, provide the output of <code>locale</code> command executed  from the IDE terminal."},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1654852713,"post_id":72571316,"comment_id":128196028,"body_markdown":"JDK 1.8 and  command ./gradlew --tests &quot;digital.Tests.addProduct&quot;","body":"JDK 1.8 and  command ./gradlew --tests &quot;digital.Tests.addProduct&quot;"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1654853752,"post_id":72571316,"comment_id":128196392,"body_markdown":"Please raise this issue at https://youtrack.jetbrains.com/issues/IDEA and provide the IDE logs. (Help | Collect Logs and Diagnostic Data)","body":"Please raise this issue at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> and provide the IDE logs. (Help | Collect Logs and Diagnostic Data)"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654855758,"creation_date":1654849984,"question_id":72571316,"body_markdown":"I am trying to print currency symbols from different regions in IntelliJ but facing a weird issue.\r\n\r\nWhile running the same code through IntelliJ run configuration everything is working fine but when I am trying to run the same code through IntelliJ terminal then facing the issue and currency symbols are printing with the weird character. \r\n\r\nI have also checked the below links but still facing the same issue:\r\nhttps://stackoverflow.com/questions/37398429/intellij-idea-terminal-special-characters\r\n\r\n\r\nExpected                     Actual             Region\r\n212.00 €                     212.00 &#199;           Finland\r\n&#163;212.00                      &#250;1212.00           Finland\r\n\r\nOutput \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FIoDJ.png\r\n  [2]: https://i.stack.imgur.com/lXkuc.png\r\n  [3]: https://i.stack.imgur.com/06wh9.png","title":"intellij windows powershell not showing correct special characters","body":"<p>I am trying to print currency symbols from different regions in IntelliJ but facing a weird issue.</p>\n<p>While running the same code through IntelliJ run configuration everything is working fine but when I am trying to run the same code through IntelliJ terminal then facing the issue and currency symbols are printing with the weird character.</p>\n<p>I have also checked the below links but still facing the same issue:\n<a href=\"https://stackoverflow.com/questions/37398429/intellij-idea-terminal-special-characters\">IntelliJ IDEA Terminal Special Characters</a></p>\n<p>Expected                     Actual             Region\n212.00 €                     212.00 Ç           Finland\n£212.00                      ú1212.00           Finland</p>\n<p>Output</p>\n<p><a href=\"https://i.stack.imgur.com/FIoDJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FIoDJ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/lXkuc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lXkuc.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/06wh9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/06wh9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","for-loop","if-statement","java-stream"],"comments":[{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1654805543,"post_id":72566005,"comment_id":128186377,"body_markdown":"What test cases are failing?","body":"What test cases are failing?"},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1654805545,"post_id":72566005,"comment_id":128186379,"body_markdown":"The spec doesn&#39;t prohibit `len` from being greater than `nums.length / 2`. The start and end can overlap.","body":"The spec doesn&#39;t prohibit <code>len</code> from being greater than <code>nums.length &#47; 2</code>. The start and end can overlap."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654855740,"creation_date":1654806711,"answer_id":72566343,"question_id":72566005,"body_markdown":"You can use [`allMatch()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#allMatch(java.util.function.IntPredicate)) operation in order to implement it with streams.\r\n\r\nThis solution passes all test cases on *CodingBat*:\r\n\r\n```\r\npublic boolean sameEnds(int[] nums, int len) {\r\n    return java.util.stream.IntStream.range(0, len)\r\n        .allMatch(n -&gt; nums[n] == nums[nums.length - (len - n)]);\r\n}\r\n\r\n```\r\nA fix to your imperative solution might look like this:\r\n```\r\npublic boolean sameEnds(int[] nums, int len) {\r\n    for (int i = 0, j = nums.length - 1 - (len - 1); i &lt; len; i++, j++) {\r\n        if (nums[i] != nums[j]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```\r\nI removed the wrapping if condition because when `nums.length &gt;= len * 2` is evaluated to `false` it means that *subarrays* that need to be compared overlap, but it doesn&#39;t automatically mean that these *subarrays* are equal.\r\n\r\nCondition `len &gt; 0` is redundant because it is guaranteed to be in the range `[0,nums.length]`.\r\n\r\nVariable `j` that denotes position in the tail *subarray* has been initialized to `nums.length - 1 - (len - 1)` - last valid index minus *subarray&#39;s* length. And the so-called *increment statement* of the `for` loop was changed from `j--` to `j++`.","title":"Codingbat challenge: sameEnds Stream API Solution","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#allMatch(java.util.function.IntPredicate)\" rel=\"nofollow noreferrer\"><code>allMatch()</code></a> operation in order to implement it with streams.</p>\n<p>This solution passes all test cases on <em>CodingBat</em>:</p>\n<pre><code>public boolean sameEnds(int[] nums, int len) {\n    return java.util.stream.IntStream.range(0, len)\n        .allMatch(n -&gt; nums[n] == nums[nums.length - (len - n)]);\n}\n\n</code></pre>\n<p>A fix to your imperative solution might look like this:</p>\n<pre><code>public boolean sameEnds(int[] nums, int len) {\n    for (int i = 0, j = nums.length - 1 - (len - 1); i &lt; len; i++, j++) {\n        if (nums[i] != nums[j]) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>I removed the wrapping if condition because when <code>nums.length &gt;= len * 2</code> is evaluated to <code>false</code> it means that <em>subarrays</em> that need to be compared overlap, but it doesn't automatically mean that these <em>subarrays</em> are equal.</p>\n<p>Condition <code>len &gt; 0</code> is redundant because it is guaranteed to be in the range <code>[0,nums.length]</code>.</p>\n<p>Variable <code>j</code> that denotes position in the tail <em>subarray</em> has been initialized to <code>nums.length - 1 - (len - 1)</code> - last valid index minus <em>subarray's</em> length. And the so-called <em>increment statement</em> of the <code>for</code> loop was changed from <code>j--</code> to <code>j++</code>.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654807471,"creation_date":1654807069,"answer_id":72566396,"question_id":72566005,"body_markdown":"You can use the built in method [Arrays.equals][1] if you are using Java 9 or higher:\r\n\r\n    public boolean sameEnds(int[] nums, int len) {\r\n        return Arrays.equals(nums, 0, len, nums, nums.length - len, nums.length);\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html#equals(int%5B%5D,int,int,int%5B%5D,int,int)","title":"Codingbat challenge: sameEnds Stream API Solution","body":"<p>You can use the built in method <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Arrays.html#equals(int%5B%5D,int,int,int%5B%5D,int,int)\" rel=\"nofollow noreferrer\">Arrays.equals</a> if you are using Java 9 or higher:</p>\n<pre><code>public boolean sameEnds(int[] nums, int len) {\n    return Arrays.equals(nums, 0, len, nums, nums.length - len, nums.length);\n}\n</code></pre>\n"}],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72566343,"answer_count":2,"score":0,"last_activity_date":1654855740,"creation_date":1654804822,"question_id":72566005,"body_markdown":"Given the task [*sameEnds*][1] from ***CodingBat***:\r\n\r\n&gt; Return true if the group of `N` numbers at the start and end of the array are the same. For example, with `{5, 6, 45, 99, 13, 5, 6}`, the ends are the same for `n=0` and `n=2`, and false for `n=1` and `n=3`. You may assume that `n` is in the range `0..nums.length` inclusive.\r\n&gt; \r\n&gt; \r\n&gt;     sameEnds([5, 6, 45, 99, 13, 5, 6], 1) → false\r\n&gt;     sameEnds([5, 6, 45, 99, 13, 5, 6], 2) → true\r\n&gt;     sameEnds([5, 6, 45, 99, 13, 5, 6], 3) → false\r\n\r\nMy solution to this problem passes the vast majority of the tests, but not all of them:\r\n\r\n    public boolean sameEnds(int[] nums, int len) {\r\n      \r\n      if (nums.length &gt;= len * 2) {\r\n        for (int i = 0, j = nums.length - 1 ; i &lt; len &amp;&amp; len &gt; 0; i++, j--) {\r\n           if (nums[i] != nums[j]) {\r\n             return false;\r\n           }\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    }\r\n\r\nMy questions are the following:\r\n1. What can be done in order to fix my solution?\r\n2. Is it possible to solve this task using ***Stream API*** ?\r\n\r\n\r\n  [1]: https://codingbat.com/prob/p134300","title":"Codingbat challenge: sameEnds Stream API Solution","body":"<p>Given the task <a href=\"https://codingbat.com/prob/p134300\" rel=\"nofollow noreferrer\"><em>sameEnds</em></a> from <em><strong>CodingBat</strong></em>:</p>\n<blockquote>\n<p>Return true if the group of <code>N</code> numbers at the start and end of the array are the same. For example, with <code>{5, 6, 45, 99, 13, 5, 6}</code>, the ends are the same for <code>n=0</code> and <code>n=2</code>, and false for <code>n=1</code> and <code>n=3</code>. You may assume that <code>n</code> is in the range <code>0..nums.length</code> inclusive.</p>\n<pre><code>sameEnds([5, 6, 45, 99, 13, 5, 6], 1) → false\nsameEnds([5, 6, 45, 99, 13, 5, 6], 2) → true\nsameEnds([5, 6, 45, 99, 13, 5, 6], 3) → false\n</code></pre>\n</blockquote>\n<p>My solution to this problem passes the vast majority of the tests, but not all of them:</p>\n<pre><code>public boolean sameEnds(int[] nums, int len) {\n  \n  if (nums.length &gt;= len * 2) {\n    for (int i = 0, j = nums.length - 1 ; i &lt; len &amp;&amp; len &gt; 0; i++, j--) {\n       if (nums[i] != nums[j]) {\n         return false;\n       }\n    }\n  }\n  \n  return true;\n}\n</code></pre>\n<p>My questions are the following:</p>\n<ol>\n<li>What can be done in order to fix my solution?</li>\n<li>Is it possible to solve this task using <em><strong>Stream API</strong></em> ?</li>\n</ol>\n"},{"tags":["java","quarkus","resteasy"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1654856438,"post_id":72572468,"comment_id":128197394,"body_markdown":"btw there is no need to add `charset=utf-8`. This is the default encoding according to [the specification](https://www.ietf.org/rfc/rfc4627.txt) and all major browsers have been complying with it for several years now.","body":"btw there is no need to add <code>charset=utf-8</code>. This is the default encoding according to <a href=\"https://www.ietf.org/rfc/rfc4627.txt\" rel=\"nofollow noreferrer\">the specification</a> and all major browsers have been complying with it for several years now."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":2,"creation_date":1654865914,"post_id":72572468,"comment_id":128200737,"body_markdown":"Yes, that&#39;s what the annotation on the class if meant to do","body":"Yes, that&#39;s what the annotation on the class if meant to do"}],"owner":{"account_id":21805279,"reputation":501,"user_id":16103555,"display_name":"Toni26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654855494,"creation_date":1654855494,"question_id":72572468,"body_markdown":"If all endpoints of a ressource return/consume the same application header then you don&#39;t need to place the annotations above every single endpoint. Instead you can place it just above the ressource. Is that right in case of RestEasy ?? \r\n\r\nFor example:\r\n\r\n    @Produces(MediaType.APPLICATION_JSON + &quot;;charset=utf-8&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON + &quot;;charset=utf-8&quot;)\r\n    class MyResource{\r\n    \r\n        // endpoint 1\r\n        // endpoint 2\r\n        // endpoint 3\r\n    }\r\n\r\nSo all endpoints will return json format ?? ","title":"Where to place @produces/@consumes Annotationen?","body":"<p>If all endpoints of a ressource return/consume the same application header then you don't need to place the annotations above every single endpoint. Instead you can place it just above the ressource. Is that right in case of RestEasy ??</p>\n<p>For example:</p>\n<pre><code>@Produces(MediaType.APPLICATION_JSON + &quot;;charset=utf-8&quot;)\n@Consumes(MediaType.APPLICATION_JSON + &quot;;charset=utf-8&quot;)\nclass MyResource{\n\n    // endpoint 1\n    // endpoint 2\n    // endpoint 3\n}\n</code></pre>\n<p>So all endpoints will return json format ??</p>\n"},{"tags":["java","android","fragment","android-dark-theme"],"comments":[{"owner":{"account_id":21417041,"reputation":194,"user_id":15776106,"display_name":"Divyang Divasaliwala"},"score":0,"creation_date":1654788536,"post_id":72562910,"comment_id":128180807,"body_markdown":"Can you share your layout and theme for better understanding of the problem?","body":"Can you share your layout and theme for better understanding of the problem?"},{"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"score":0,"creation_date":1654788920,"post_id":72562910,"comment_id":128180975,"body_markdown":"The problem is the theme is adding the default `Toolbar` below yours. Be sure to have `android:windowNoTitle=true/android:windowActionBar=false` in your Activity theme (both light &amp; dark)","body":"The problem is the theme is adding the default <code>Toolbar</code> below yours. Be sure to have <code>android:windowNoTitle=true&#47;android:windowActionBar=false</code> in your Activity theme (both light &amp; dark)"},{"owner":{"account_id":18598158,"reputation":27,"user_id":13553617,"display_name":"Emil Mester"},"score":0,"creation_date":1654796701,"post_id":72562910,"comment_id":128183723,"body_markdown":"@MatPag I wrote this code everywhere and that toolbar is still there.I don&#39;t know what I&#39;m missing.","body":"@MatPag I wrote this code everywhere and that toolbar is still there.I don&#39;t know what I&#39;m missing."}],"answers":[{"tags":[],"owner":{"account_id":19949156,"reputation":345,"user_id":14619182,"display_name":"tintin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654855481,"creation_date":1654855481,"answer_id":72572465,"question_id":72562910,"body_markdown":"instead of android:windowNoTitle=true/android:windowActionBar=false\r\n\r\nuse\r\n\r\n    windowNoTitle=true\r\n    windowActionBar=false\r\n\r\nie without android prefix","title":"Android Studio Dark Theme Function","body":"<p>instead of android:windowNoTitle=true/android:windowActionBar=false</p>\n<p>use</p>\n<pre><code>windowNoTitle=true\nwindowActionBar=false\n</code></pre>\n<p>ie without android prefix</p>\n"}],"owner":{"account_id":18598158,"reputation":27,"user_id":13553617,"display_name":"Emil Mester"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654855481,"creation_date":1654788236,"question_id":72562910,"body_markdown":"There&#39;s is a problem with the dark/light mode function.When I want to turn on dark mode theme it seems that it writes the name of my app in the toolbar, something that I don&#39;t want. For example : [![enter image description here][1]][1] \r\n                                                                                                  \r\n It should be like this:                                                                                       [![enter image description here][2]][2]\r\nI don&#39;t know why I have this problem when I turn on dark mode theme.\r\n                                                                                               \r\n      This is my code: \r\n\r\n    package com.example.myapplication;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatDelegate;\r\n    import androidx.preference.ListPreference;\r\n    import androidx.preference.Preference;\r\n    import androidx.preference.PreferenceFragmentCompat;\r\n    \r\n    public class SettingsFragment extends PreferenceFragmentCompat {\r\n    \r\n    \r\n        @Override\r\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n    \r\n    \r\n            ListPreference themePreference=findPreference(&quot;theme&quot;);\r\n            assert themePreference != null;\r\n            themePreference.setOnPreferenceChangeListener((preference, newValue) -&gt; {\r\n                if(newValue.equals(&quot;light_mode&quot;))\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n    \r\n                if(newValue.equals(&quot;dark_mode&quot;))\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                if(newValue.equals(&quot;system_default&quot;))\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n    \r\n                return true;\r\n            });\r\n    \r\n    \r\n        }\r\n    } \r\nI don&#39;t know if it helps but here is themes.xml: \r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n        &lt;!-- Base application theme. --&gt;\r\n        &lt;style name=&quot;Theme.Light&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n            &lt;!-- Primary brand color. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n            &lt;!-- Secondary brand color. --&gt;\r\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;!-- Status bar color. --&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n    \r\n    \r\n        &lt;/style&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    &lt;/resources&gt;                                                                                                                                                            \r\n                                                                                   \r\n     Here is theme.xml/night:\r\n\r\n   \r\n\r\n     &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n            &lt;!-- Base application theme. --&gt;\r\n            &lt;style name=&quot;Theme.Dark&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n                &lt;!-- Primary brand color. --&gt;\r\n                &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n                &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n                &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n                &lt;!-- Secondary brand color. --&gt;\r\n                &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n                &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n                &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n                &lt;!-- Status bar color. --&gt;\r\n                &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/black&lt;/item&gt;\r\n        \r\n        \r\n        \r\n        \r\n                &lt;!-- Customize your theme here. --&gt;\r\n        \r\n        \r\n        \r\n            &lt;/style&gt;\r\n        \r\n        &lt;/resources&gt; \r\n\r\n                                                                                                                                                                                                  \r\n  [1]: https://i.stack.imgur.com/CfvEU.png\r\n  [2]: https://i.stack.imgur.com/DAZ6P.png","title":"Android Studio Dark Theme Function","body":"<p>There's is a problem with the dark/light mode function.When I want to turn on dark mode theme it seems that it writes the name of my app in the toolbar, something that I don't want. For example : <a href=\"https://i.stack.imgur.com/CfvEU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CfvEU.png\" alt=\"enter image description here\" /></a></p>\n<p>It should be like this:                                                                                       <a href=\"https://i.stack.imgur.com/DAZ6P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DAZ6P.png\" alt=\"enter image description here\" /></a>\nI don't know why I have this problem when I turn on dark mode theme.</p>\n<pre><code>  This is my code: \n\npackage com.example.myapplication;\n\nimport android.os.Bundle;\n\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatDelegate;\nimport androidx.preference.ListPreference;\nimport androidx.preference.Preference;\nimport androidx.preference.PreferenceFragmentCompat;\n\npublic class SettingsFragment extends PreferenceFragmentCompat {\n\n\n    @Override\n    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n        setPreferencesFromResource(R.xml.root_preferences, rootKey);\n\n\n        ListPreference themePreference=findPreference(&quot;theme&quot;);\n        assert themePreference != null;\n        themePreference.setOnPreferenceChangeListener((preference, newValue) -&gt; {\n            if(newValue.equals(&quot;light_mode&quot;))\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n\n            if(newValue.equals(&quot;dark_mode&quot;))\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n            if(newValue.equals(&quot;system_default&quot;))\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\n\n            return true;\n        });\n\n\n    }\n} \n</code></pre>\n<p>I don't know if it helps but here is themes.xml:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.Light&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n\n\n    &lt;/style&gt;\n\n\n\n\n\n\n\n&lt;/resources&gt;                                                                                                                                                            \n                                                                               \n Here is theme.xml/night:\n\n\n\n &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n        &lt;!-- Base application theme. --&gt;\n        &lt;style name=&quot;Theme.Dark&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n            &lt;!-- Primary brand color. --&gt;\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n            &lt;!-- Secondary brand color. --&gt;\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n            &lt;!-- Status bar color. --&gt;\n            &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/black&lt;/item&gt;\n    \n    \n    \n    \n            &lt;!-- Customize your theme here. --&gt;\n    \n    \n    \n        &lt;/style&gt;\n    \n    &lt;/resources&gt; \n\n                                                                                                                                                                                              \n</code></pre>\n"},{"tags":["java","java-8","java-stream","n-gram"],"comments":[{"owner":{"account_id":40168,"reputation":7421,"user_id":116301,"accept_rate":89,"display_name":"GuiSim"},"score":0,"creation_date":1454451995,"post_id":35164919,"comment_id":58048447,"body_markdown":"This question might be helpful: http://stackoverflow.com/questions/20470010/collect-successive-pairs-from-a-stream","body":"This question might be helpful: <a href=\"http://stackoverflow.com/questions/20470010/collect-successive-pairs-from-a-stream\" title=\"collect successive pairs from a stream\">stackoverflow.com/questions/20470010/&hellip;</a>"},{"owner":{"account_id":5266132,"reputation":53,"user_id":4953551,"display_name":"Jochem"},"score":0,"creation_date":1454452169,"post_id":35164919,"comment_id":58048551,"body_markdown":"Interesting. That is exactly my situation but with n = 2 fixed. Does it work for n &gt; 2? Still reading it.","body":"Interesting. That is exactly my situation but with n = 2 fixed. Does it work for n &gt; 2? Still reading it."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1454452496,"post_id":35164919,"comment_id":58048700,"body_markdown":"@Jochem Streams are really, really not designed to be able to do this.","body":"@Jochem Streams are really, really not designed to be able to do this."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1454503169,"creation_date":1454452315,"answer_id":35165078,"question_id":35164919,"body_markdown":"Such an operation is not really suited for the Stream API. In the functional jargon, what you&#39;re trying to do is called a sliding window of size `n`. Scala has it built-in with the `sliding()` method, but there is nothing built-in in the Java Stream API.\r\n\r\nYou have to rely on using a Stream over the indexes of the input list to make that happen.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\r\n\t\tList&lt;List&lt;Integer&gt;&gt; result = nGrams(list, 3);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n\t\r\n\tprivate static &lt;T&gt; List&lt;List&lt;T&gt;&gt; nGrams(List&lt;T&gt; list, int n) {\r\n\t\treturn IntStream.range(0, list.size() - n + 1)\r\n\t\t\t\t        .mapToObj(i -&gt; new ArrayList&lt;&gt;(list.subList(i, i + n)))\r\n\t\t\t\t        .collect(Collectors.toList());\r\n\t}\r\n\r\nThis code simply makes a Stream over the indexes of the input list, maps each of them to a new list that is the result of getting the values of the list from `i` to `i+n` (excluded) and collect all that into a List.","title":"Mapping a stream of tokens to a stream of n-grams in Java 8","body":"<p>Such an operation is not really suited for the Stream API. In the functional jargon, what you're trying to do is called a sliding window of size <code>n</code>. Scala has it built-in with the <code>sliding()</code> method, but there is nothing built-in in the Java Stream API.</p>\n\n<p>You have to rely on using a Stream over the indexes of the input list to make that happen.</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\n    List&lt;List&lt;Integer&gt;&gt; result = nGrams(list, 3);\n    System.out.println(result);\n}\n\nprivate static &lt;T&gt; List&lt;List&lt;T&gt;&gt; nGrams(List&lt;T&gt; list, int n) {\n    return IntStream.range(0, list.size() - n + 1)\n                    .mapToObj(i -&gt; new ArrayList&lt;&gt;(list.subList(i, i + n)))\n                    .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>This code simply makes a Stream over the indexes of the input list, maps each of them to a new list that is the result of getting the values of the list from <code>i</code> to <code>i+n</code> (excluded) and collect all that into a List.</p>\n"},{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454455456,"creation_date":1454455456,"answer_id":35165759,"question_id":35164919,"body_markdown":"If you do not have random access to the source data, you can accomplish this with a custom collector:\r\n\r\n\tList&lt;Integer&gt; data = Arrays.asList(1,2,3,4,5,6,7);\r\n\t\r\n\tList&lt;List&lt;Integer&gt;&gt; result = data.stream().collect(window(3, toList(), toList()));  \r\n\r\nHere&#39;s the source for `window`.  It is parallel-friendly:\r\n\r\n\tpublic static &lt;T, I, A, R&gt; Collector&lt;T, ?, R&gt; window(int windowSize, Collector&lt;T, ?, ? extends I&gt; inner, Collector&lt;I, A, R&gt; outer) {\r\n\r\n\t\tclass Window {\r\n\t\t\tfinal List&lt;T&gt; left = new ArrayList&lt;&gt;(windowSize - 1);\r\n\t\t\tA mid = outer.supplier().get();\r\n\t\t\tDeque&lt;T&gt; right = new ArrayDeque&lt;&gt;(windowSize);\r\n\r\n\t\t\tvoid add(T t) {\r\n\t\t\t\tright.addLast(t);\r\n\t\t\t\tif (left.size() == windowSize - 1) {\r\n\t\t\t\t\touter.accumulator().accept(mid, right.stream().collect(inner));\r\n\t\t\t\t\tright.removeFirst();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tleft.add(t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tWindow merge(Window other) {\r\n\t\t\t\tother.left.forEach(this::add);\r\n\t\t\t\tif (other.left.size() == windowSize - 1) { \r\n\t\t\t\t\tthis.mid = outer.combiner().apply(mid, other.mid);\r\n\t\t\t\t\tthis.right = other.right;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tR finish() {\r\n\t\t\t\treturn outer.finisher().apply(mid);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Collector.of(Window::new, Window::add, Window::merge, Window::finish);\r\n\t}","title":"Mapping a stream of tokens to a stream of n-grams in Java 8","body":"<p>If you do not have random access to the source data, you can accomplish this with a custom collector:</p>\n\n<pre><code>List&lt;Integer&gt; data = Arrays.asList(1,2,3,4,5,6,7);\n\nList&lt;List&lt;Integer&gt;&gt; result = data.stream().collect(window(3, toList(), toList()));  \n</code></pre>\n\n<p>Here's the source for <code>window</code>.  It is parallel-friendly:</p>\n\n<pre><code>public static &lt;T, I, A, R&gt; Collector&lt;T, ?, R&gt; window(int windowSize, Collector&lt;T, ?, ? extends I&gt; inner, Collector&lt;I, A, R&gt; outer) {\n\n    class Window {\n        final List&lt;T&gt; left = new ArrayList&lt;&gt;(windowSize - 1);\n        A mid = outer.supplier().get();\n        Deque&lt;T&gt; right = new ArrayDeque&lt;&gt;(windowSize);\n\n        void add(T t) {\n            right.addLast(t);\n            if (left.size() == windowSize - 1) {\n                outer.accumulator().accept(mid, right.stream().collect(inner));\n                right.removeFirst();\n            } else {\n                left.add(t);\n            }\n        }\n\n        Window merge(Window other) {\n            other.left.forEach(this::add);\n            if (other.left.size() == windowSize - 1) { \n                this.mid = outer.combiner().apply(mid, other.mid);\n                this.right = other.right;\n            }\n            return this;\n        }\n\n        R finish() {\n            return outer.finisher().apply(mid);\n        }\n    }\n\n    return Collector.of(Window::new, Window::add, Window::merge, Window::finish);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13992238,"reputation":41,"user_id":11451863,"display_name":"vahbuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596725367,"creation_date":1596725367,"answer_id":63286193,"question_id":35164919,"body_markdown":"Based on https://stackoverflow.com/a/20507988/11451863\r\n\r\nthe following should work\r\n\r\n    int n = 3;\r\n    List&lt;Integer&gt; intList = Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);\r\n\r\n    IntStream.rangeClosed(0, intList.size() - n)\r\n            .mapToObj(i -&gt; intList.subList(i, i+n))\r\n            .collect(Collectors.toList());","title":"Mapping a stream of tokens to a stream of n-grams in Java 8","body":"<p>Based on <a href=\"https://stackoverflow.com/a/20507988/11451863\">https://stackoverflow.com/a/20507988/11451863</a></p>\n<p>the following should work</p>\n<pre><code>int n = 3;\nList&lt;Integer&gt; intList = Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);\n\nIntStream.rangeClosed(0, intList.size() - n)\n        .mapToObj(i -&gt; intList.subList(i, i+n))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":920482,"reputation":979,"user_id":952257,"accept_rate":93,"display_name":"Shaharg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654855407,"creation_date":1654855407,"answer_id":72572446,"question_id":35164919,"body_markdown":"This solution uses the reduce function. It does not work with parallelization. \r\n\r\nThe general idea is to create a list of n grams. For each element, we take the last n-gram, and slide the window using this element.\r\n\r\n    public static void main(String[] args) {\r\n        int n = 3;\r\n        // creating the initial list of tokens\r\n        List&lt;Integer&gt; ints = IntStream.range(1,8).boxed().toList();\r\n\r\n        /creating the first ngram\r\n        List&lt;List&lt;Integer&gt;&gt; ngram = new ArrayList&lt;&gt;();\r\n        ngram.add(ints.subList(0,n));\r\n\r\n        // This is where the ngram list is created\r\n        List&lt;List&lt;Integer&gt;&gt; ngrams = ints.stream().skip(n)\r\n                       .reduce(ngram, WikiDictionaryExtractor::addWindow, (l1, l2)-&gt; null);\r\n    }\r\n\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; addWindow(List&lt;List&lt;Integer&gt;&gt; input, Integer newInt){\r\n        List&lt;Integer&gt; res = new ArrayList(input.get(input.size()-1));\r\n        res.remove(0);\r\n        res.add(newInt);\r\n        input.add(res);\r\n        return input;\r\n    }\r\n","title":"Mapping a stream of tokens to a stream of n-grams in Java 8","body":"<p>This solution uses the reduce function. It does not work with parallelization.</p>\n<p>The general idea is to create a list of n grams. For each element, we take the last n-gram, and slide the window using this element.</p>\n<pre><code>public static void main(String[] args) {\n    int n = 3;\n    // creating the initial list of tokens\n    List&lt;Integer&gt; ints = IntStream.range(1,8).boxed().toList();\n\n    /creating the first ngram\n    List&lt;List&lt;Integer&gt;&gt; ngram = new ArrayList&lt;&gt;();\n    ngram.add(ints.subList(0,n));\n\n    // This is where the ngram list is created\n    List&lt;List&lt;Integer&gt;&gt; ngrams = ints.stream().skip(n)\n                   .reduce(ngram, WikiDictionaryExtractor::addWindow, (l1, l2)-&gt; null);\n}\n\n\npublic static List&lt;List&lt;Integer&gt;&gt; addWindow(List&lt;List&lt;Integer&gt;&gt; input, Integer newInt){\n    List&lt;Integer&gt; res = new ArrayList(input.get(input.size()-1));\n    res.remove(0);\n    res.add(newInt);\n    input.add(res);\n    return input;\n}\n</code></pre>\n"}],"owner":{"account_id":5266132,"reputation":53,"user_id":4953551,"display_name":"Jochem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35165078,"answer_count":4,"score":4,"last_activity_date":1654855407,"creation_date":1454451707,"question_id":35164919,"body_markdown":"I think this is a fairly basic question concerning Java 8 streams, but I have a difficult time thinking of the right search terms. So I am asking it here. I am just getting into Java 8, so bear with me.\r\n\r\nI was wondering how I could map a stream of tokens to a stream of n-grams (represented as arrays of tokens of size n). Suppose that n = 3, then I would like to convert the following stream\r\n\r\n    {1, 2, 3, 4, 5, 6, 7}\r\n\r\nto\r\n\r\n    {[1, 2, 3], [2, 3, 4], [3, 4, 5], [4, 5, 6], [5, 6, 7]}\r\n\r\nHow would I accomplish this with Java 8 streams? It should be possible to compute this concurrently, which is why I am interested in accomplishing this with streams (it also doesn&#39;t matter in what order the n-arrays are processed).\r\n\r\nSure, I could do it easily with old-fashioned for-loops, but I would prefer to make use of the stream API.","title":"Mapping a stream of tokens to a stream of n-grams in Java 8","body":"<p>I think this is a fairly basic question concerning Java 8 streams, but I have a difficult time thinking of the right search terms. So I am asking it here. I am just getting into Java 8, so bear with me.</p>\n\n<p>I was wondering how I could map a stream of tokens to a stream of n-grams (represented as arrays of tokens of size n). Suppose that n = 3, then I would like to convert the following stream</p>\n\n<pre><code>{1, 2, 3, 4, 5, 6, 7}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>{[1, 2, 3], [2, 3, 4], [3, 4, 5], [4, 5, 6], [5, 6, 7]}\n</code></pre>\n\n<p>How would I accomplish this with Java 8 streams? It should be possible to compute this concurrently, which is why I am interested in accomplishing this with streams (it also doesn't matter in what order the n-arrays are processed).</p>\n\n<p>Sure, I could do it easily with old-fashioned for-loops, but I would prefer to make use of the stream API.</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1654854087,"post_id":72571852,"comment_id":128196511,"body_markdown":"Read `Spring-Batch` documentation, and write an `ItemReader&lt;T&gt;`","body":"Read <code>Spring-Batch</code> documentation, and write an <code>ItemReader&lt;T&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654855276,"creation_date":1654855276,"answer_id":72572415,"question_id":72571852,"body_markdown":"[FieldSetMapper](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/mapping/FieldSetMapper.html) is the strategy interface that allows you to customize how tokenized lines are mapped to domain objects. In your case, you can use a `FlatFileItemReader` with a `DelimitedLineTokenizer` and a custom `FieldSetMapper`. Here is a quick example:\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.JobParameters;\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.core.launch.JobLauncher;\r\nimport org.springframework.batch.item.ItemWriter;\r\nimport org.springframework.batch.item.file.FlatFileItemReader;\r\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\r\nimport org.springframework.batch.item.file.mapping.FieldSetMapper;\r\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\r\nimport org.springframework.batch.item.file.transform.FieldSet;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.FileSystemResource;\r\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\r\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\r\nimport org.springframework.validation.BindException;\r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class SO72571852 {\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;Pojo&gt; itemReader() throws Exception {\r\n        DefaultLineMapper&lt;Pojo&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n        lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot; &quot;));\r\n        lineMapper.setFieldSetMapper(new FieldSetMapper&lt;Pojo&gt;() {\r\n            @Override\r\n            public Pojo mapFieldSet(FieldSet fieldSet) throws BindException {\r\n                Pojo pojo = new Pojo();\r\n                Object[] values = new Object[3];\r\n                values[0] = fieldSet.readString(0);\r\n                values[1] = fieldSet.readString(1);\r\n                values[2] = fieldSet.readString(2);\r\n                pojo.values = values;\r\n                return pojo;\r\n            }\r\n        });\r\n\r\n        FlatFileItemReader&lt;Pojo&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\r\n        flatFileItemReader.setResource(new FileSystemResource(&quot;input.tsv&quot;));\r\n        flatFileItemReader.setLineMapper(lineMapper);\r\n        flatFileItemReader.afterPropertiesSet();\r\n        return flatFileItemReader;\r\n    }\r\n\r\n    @Bean\r\n    public ItemWriter&lt;Pojo&gt; itemWriter() {\r\n        return items -&gt; {items.forEach(System.out::println);};\r\n    }\r\n\r\n    @Bean\r\n    public Job job(JobBuilderFactory jobs, StepBuilderFactory steps) throws Exception {\r\n        return jobs.get(&quot;job&quot;)\r\n                .start(steps.get(&quot;step&quot;)\r\n                        .&lt;Pojo, Pojo&gt;chunk(5)\r\n                        .reader(itemReader())\r\n                        .writer(itemWriter())\r\n                        .build())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        return new EmbeddedDatabaseBuilder()\r\n                .setType(EmbeddedDatabaseType.HSQL)\r\n                .addScript(&quot;/org/springframework/batch/core/schema-hsqldb.sql&quot;)\r\n                .build();\r\n    }\r\n\r\n    static class Pojo {\r\n        private Object[] values;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Pojo{values=&quot; + Arrays.toString(values) + &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ApplicationContext context = new AnnotationConfigApplicationContext(SO72571852.class);\r\n        JobLauncher jobLauncher = context.getBean(JobLauncher.class);\r\n        Job job = context.getBean(Job.class);\r\n        jobLauncher.run(job, new JobParameters());\r\n    }\r\n\r\n\r\n}\r\n\r\n```","title":"Spring batch custom reader to map all the values to array field","body":"<p><a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/mapping/FieldSetMapper.html\" rel=\"nofollow noreferrer\">FieldSetMapper</a> is the strategy interface that allows you to customize how tokenized lines are mapped to domain objects. In your case, you can use a <code>FlatFileItemReader</code> with a <code>DelimitedLineTokenizer</code> and a custom <code>FieldSetMapper</code>. Here is a quick example:</p>\n<pre><code>import java.util.Arrays;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.JobParameters;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.launch.JobLauncher;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.batch.item.file.FlatFileItemReader;\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\nimport org.springframework.batch.item.file.mapping.FieldSetMapper;\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\nimport org.springframework.batch.item.file.transform.FieldSet;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.FileSystemResource;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\nimport org.springframework.validation.BindException;\n\n@Configuration\n@EnableBatchProcessing\npublic class SO72571852 {\n\n    @Bean\n    public FlatFileItemReader&lt;Pojo&gt; itemReader() throws Exception {\n        DefaultLineMapper&lt;Pojo&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot; &quot;));\n        lineMapper.setFieldSetMapper(new FieldSetMapper&lt;Pojo&gt;() {\n            @Override\n            public Pojo mapFieldSet(FieldSet fieldSet) throws BindException {\n                Pojo pojo = new Pojo();\n                Object[] values = new Object[3];\n                values[0] = fieldSet.readString(0);\n                values[1] = fieldSet.readString(1);\n                values[2] = fieldSet.readString(2);\n                pojo.values = values;\n                return pojo;\n            }\n        });\n\n        FlatFileItemReader&lt;Pojo&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\n        flatFileItemReader.setResource(new FileSystemResource(&quot;input.tsv&quot;));\n        flatFileItemReader.setLineMapper(lineMapper);\n        flatFileItemReader.afterPropertiesSet();\n        return flatFileItemReader;\n    }\n\n    @Bean\n    public ItemWriter&lt;Pojo&gt; itemWriter() {\n        return items -&gt; {items.forEach(System.out::println);};\n    }\n\n    @Bean\n    public Job job(JobBuilderFactory jobs, StepBuilderFactory steps) throws Exception {\n        return jobs.get(&quot;job&quot;)\n                .start(steps.get(&quot;step&quot;)\n                        .&lt;Pojo, Pojo&gt;chunk(5)\n                        .reader(itemReader())\n                        .writer(itemWriter())\n                        .build())\n                .build();\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        return new EmbeddedDatabaseBuilder()\n                .setType(EmbeddedDatabaseType.HSQL)\n                .addScript(&quot;/org/springframework/batch/core/schema-hsqldb.sql&quot;)\n                .build();\n    }\n\n    static class Pojo {\n        private Object[] values;\n\n        @Override\n        public String toString() {\n            return &quot;Pojo{values=&quot; + Arrays.toString(values) + '}';\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        ApplicationContext context = new AnnotationConfigApplicationContext(SO72571852.class);\n        JobLauncher jobLauncher = context.getBean(JobLauncher.class);\n        Job job = context.getBean(Job.class);\n        jobLauncher.run(job, new JobParameters());\n    }\n\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":14143457,"reputation":1,"user_id":10217425,"display_name":"Vikram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654855276,"creation_date":1654852403,"question_id":72571852,"body_markdown":"Hi folks i am new in spring batch and stuck in below problem, requesting to give some suggestion\r\n\r\nProblem statement = spring batch reader after reading data it should map to array field\r\n\r\n    input file(tab seprated)\r\n    val1\tval2\tval3\r\n    va21\tva22\tva23\r\n    va31\tva32\tva33\r\n \r\n    Pojo\r\n    class SamplePojo{\r\n\t  private Object[] value;\r\n    }\r\n\r\nreader should map the field as mention below\r\n    \r\n\r\n    output pojo\r\n    value[0] = val1\r\n    value[1] = va12\r\n    value[2] = va13\r\n\r\n    value[0] = va21\r\n    value[1] = va22\r\n    value[2] = va23\r\n\r\n    value[0] = va31\r\n    value[1] = va32\r\n    value[2] = va33\r\n\r\n\r\nhow can i configure my reader to achive above output","title":"Spring batch custom reader to map all the values to array field","body":"<p>Hi folks i am new in spring batch and stuck in below problem, requesting to give some suggestion</p>\n<p>Problem statement = spring batch reader after reading data it should map to array field</p>\n<pre><code>input file(tab seprated)\nval1    val2    val3\nva21    va22    va23\nva31    va32    va33\n\nPojo\nclass SamplePojo{\n  private Object[] value;\n}\n</code></pre>\n<p>reader should map the field as mention below</p>\n<pre><code>output pojo\nvalue[0] = val1\nvalue[1] = va12\nvalue[2] = va13\n\nvalue[0] = va21\nvalue[1] = va22\nvalue[2] = va23\n\nvalue[0] = va31\nvalue[1] = va32\nvalue[2] = va33\n</code></pre>\n<p>how can i configure my reader to achive above output</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc-openapi-ui"],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654855043,"creation_date":1654855043,"question_id":72572365,"body_markdown":"We can hide **&quot;Try it out&quot;** option for Methods like GET,PATCH,POST, etc... by adding\r\n \r\n`springdoc.swagger-ui.supportedSubmitMethods = Array=[&quot;get&quot;, &quot;put&quot;, &quot;post&quot;,&quot;patch&quot;]`\r\nin Application.properties file.\r\n\r\nand hide it for all Api by adding `springdoc.swagger-ui.tryItOutEnabled = true` \r\n\r\nWe want to hide it for a specific API. \r\n\r\n1) Is there any way to hide this by using `OpenApi 3` in Spring Boot?\r\n2) Can hide the whole `Parameter` part if there is no parameter defined in API?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xruvC.jpg","title":"Is there any way to hide the &quot;Try it out&quot; option for specific API using OpenAPI 3 in Spring Boot?","body":"<p>We can hide <strong>&quot;Try it out&quot;</strong> option for Methods like GET,PATCH,POST, etc... by adding</p>\n<p><code>springdoc.swagger-ui.supportedSubmitMethods = Array=[&quot;get&quot;, &quot;put&quot;, &quot;post&quot;,&quot;patch&quot;]</code>\nin Application.properties file.</p>\n<p>and hide it for all Api by adding <code>springdoc.swagger-ui.tryItOutEnabled = true</code></p>\n<p>We want to hide it for a specific API.</p>\n<ol>\n<li>Is there any way to hide this by using <code>OpenApi 3</code> in Spring Boot?</li>\n<li>Can hide the whole <code>Parameter</code> part if there is no parameter defined in API?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/xruvC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xruvC.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":10892634,"reputation":104,"user_id":8007843,"display_name":"Xupi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654854788,"creation_date":1654854788,"answer_id":72572322,"question_id":70770764,"body_markdown":"It&#39;s possible from 7.17.0 version – [Documentation][1]\r\n```java\r\n    CreateIndexRequest req = CreateIndexRequest.of(b -&gt; b\r\n    .index(&quot;some-index&quot;)\r\n    .withJson(input) //Insert here loaded json mapping\r\n);\r\n```\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/loading-json.html#_loading_an_index_definition_from_a_resource_file","title":"ElasticsearchClient 7.16 mapping source from JSON file","body":"<p>It's possible from 7.17.0 version – <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/loading-json.html#_loading_an_index_definition_from_a_resource_file\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    CreateIndexRequest req = CreateIndexRequest.of(b -&gt; b\n    .index(&quot;some-index&quot;)\n    .withJson(input) //Insert here loaded json mapping\n);\n</code></pre>\n"}],"owner":{"account_id":10892634,"reputation":104,"user_id":8007843,"display_name":"Xupi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72572322,"answer_count":1,"score":2,"last_activity_date":1654854788,"creation_date":1642596100,"question_id":70770764,"body_markdown":"I&#39;m migrating our app to new [ElastisearchClient][1] for Java. We have few mapping/setting/properties configurations created in JSON files like here [Elastic mapping source 7.15][2]. Is it still possible to map sources as in these examples? Or is it fully migrated to: \r\n\r\n&gt; builders and functional patterns\r\n\r\nCurrently, we do it like this (RestHighLevelClient 7.14 Elastic):\r\n```java\r\n    String mapping = &quot;mappings/file.json&quot;;\r\n    String source = StringUtils.toString(new ClassPathResource(mapping).getInputStream(); //Converting to acceptable json \r\n    CreateIndex createIndexRequest = new CreateIndexRequest(name);\r\n    createIndexRequest.source(source, XContentType.JSON);\r\n```\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch-java\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-put-mapping.html#_mapping_source","title":"ElasticsearchClient 7.16 mapping source from JSON file","body":"<p>I'm migrating our app to new <a href=\"https://github.com/elastic/elasticsearch-java\" rel=\"nofollow noreferrer\">ElastisearchClient</a> for Java. We have few mapping/setting/properties configurations created in JSON files like here <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-put-mapping.html#_mapping_source\" rel=\"nofollow noreferrer\">Elastic mapping source 7.15</a>. Is it still possible to map sources as in these examples? Or is it fully migrated to:</p>\n<blockquote>\n<p>builders and functional patterns</p>\n</blockquote>\n<p>Currently, we do it like this (RestHighLevelClient 7.14 Elastic):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String mapping = &quot;mappings/file.json&quot;;\n    String source = StringUtils.toString(new ClassPathResource(mapping).getInputStream(); //Converting to acceptable json \n    CreateIndex createIndexRequest = new CreateIndexRequest(name);\n    createIndexRequest.source(source, XContentType.JSON);\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm","jpql"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654600450,"creation_date":1654600450,"answer_id":72530210,"question_id":72529601,"body_markdown":"You should not return entities in objects created with the constructor expression. That&#39;s not the intention of this feature and that&#39;s also the reason why it loads the data with many queries.\r\n\r\nhttps://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql-select-new","title":"select new (JPQL Constructor Expression) in jpa/hibernate causes &quot;lazy&quot; loading for each row","body":"<p>You should not return entities in objects created with the constructor expression. That's not the intention of this feature and that's also the reason why it loads the data with many queries.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql-select-new\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#hql-select-new</a></p>\n"},{"tags":[],"owner":{"account_id":25495086,"reputation":53,"user_id":19289260,"display_name":"mkobylarz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654854359,"creation_date":1654851765,"answer_id":72571717,"question_id":72529601,"body_markdown":"So I finally found partial explanation from the most authoritative source of knowledge about hibernate I know - Vlad Mihalcea: [Paragraph: Returning an entity in a DTO projection](https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/)\r\n\r\n&gt; However, there might be use cases when you want to select an entity inside your DTO projection. \r\n&gt; (...)\r\n&gt; \r\n&gt; When you execute a JPQL query like this one: \r\n&gt; \r\n&gt;     List&lt;PersonAndCountryDTO&gt; personAndAddressDTOs = entityManager.createQuery(\r\n&gt;     &quot;select new &quot; +\r\n&gt;     &quot;   com.vladmihalcea.book.hpjp.hibernate.query.dto.PersonAndCountryDTO(&quot; +\r\n&gt;     &quot;       p, &quot; +\r\n&gt;     &quot;       c.name&quot; +\r\n&gt;     &quot;   ) &quot; +\r\n&gt;     &quot;from Person p &quot; +\r\n&gt;     &quot;join Country c on p.locale = c.locale &quot; +\r\n&gt;     &quot;order by p.id&quot;, PersonAndCountryDTO.class) .getResultList();\r\n&gt; \r\n&gt; Hibernate generates the following SQL queries: \r\n&gt;\r\n&gt;     SELECT p.id AS col_0_0_,\r\n&gt;        c.name AS col_1_0_ FROM   Person p INNER JOIN\r\n&gt;        Country c ON\r\n&gt;        ( p.locale = c.locale ) ORDER BY\r\n&gt;        p.id   \r\n&gt;\r\n&gt;     SELECT p.id AS id1_1_0_,\r\n&gt;        p.locale AS locale2_1_0_,\r\n&gt;        p.name AS name3_1_0_ FROM   Person p WHERE  p.id = 3   \r\n&gt;\r\n&gt;     SELECT p.id AS id1_1_0_,\r\n&gt;        p.locale AS locale2_1_0_,\r\n&gt;        p.name AS name3_1_0_ FROM   Person p WHERE  p.id = 4\r\n&gt; \r\n&gt; The Hibernate 5.2 implementation of the DTO projection cannot\r\n&gt; materialize the DTO projection from the ResultSet without executing a\r\n&gt; secondary query. However, this is very bad to performance since it can\r\n&gt; lead to N+1 query issues.\r\n&gt; \r\n&gt; This HQL limitation has been discussed, and Hibernate 6.0 new SQM parser might address this issue, so stay tuned!\r\n \r\nSo to summarize: \r\n1. Behaviour I asked about is known to hibernate developers and there is a hope it will be fixed. \r\n2. As for now one has to know that extracting complete, managed entities with constructor expression is completely fine as a design, but with hibernate 5.x can lead to non optimal solution due to many queries issued by hibernate\r\n\r\n\r\n  [1]: https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/","title":"select new (JPQL Constructor Expression) in jpa/hibernate causes &quot;lazy&quot; loading for each row","body":"<p>So I finally found partial explanation from the most authoritative source of knowledge about hibernate I know - Vlad Mihalcea: <a href=\"https://vladmihalcea.com/why-you-should-use-the-hibernate-resulttransformer-to-customize-result-set-mappings/\" rel=\"nofollow noreferrer\">Paragraph: Returning an entity in a DTO projection</a></p>\n<blockquote>\n<p>However, there might be use cases when you want to select an entity inside your DTO projection.\n(...)</p>\n<p>When you execute a JPQL query like this one:</p>\n<pre><code>List&lt;PersonAndCountryDTO&gt; personAndAddressDTOs = entityManager.createQuery(\n&quot;select new &quot; +\n&quot;   com.vladmihalcea.book.hpjp.hibernate.query.dto.PersonAndCountryDTO(&quot; +\n&quot;       p, &quot; +\n&quot;       c.name&quot; +\n&quot;   ) &quot; +\n&quot;from Person p &quot; +\n&quot;join Country c on p.locale = c.locale &quot; +\n&quot;order by p.id&quot;, PersonAndCountryDTO.class) .getResultList();\n</code></pre>\n<p>Hibernate generates the following SQL queries:</p>\n<pre><code>SELECT p.id AS col_0_0_,\n   c.name AS col_1_0_ FROM   Person p INNER JOIN\n   Country c ON\n   ( p.locale = c.locale ) ORDER BY\n   p.id   \n\nSELECT p.id AS id1_1_0_,\n   p.locale AS locale2_1_0_,\n   p.name AS name3_1_0_ FROM   Person p WHERE  p.id = 3   \n\nSELECT p.id AS id1_1_0_,\n   p.locale AS locale2_1_0_,\n   p.name AS name3_1_0_ FROM   Person p WHERE  p.id = 4\n</code></pre>\n<p>The Hibernate 5.2 implementation of the DTO projection cannot\nmaterialize the DTO projection from the ResultSet without executing a\nsecondary query. However, this is very bad to performance since it can\nlead to N+1 query issues.</p>\n<p>This HQL limitation has been discussed, and Hibernate 6.0 new SQM parser might address this issue, so stay tuned!</p>\n</blockquote>\n<p>So to summarize:</p>\n<ol>\n<li>Behaviour I asked about is known to hibernate developers and there is a hope it will be fixed.</li>\n<li>As for now one has to know that extracting complete, managed entities with constructor expression is completely fine as a design, but with hibernate 5.x can lead to non optimal solution due to many queries issued by hibernate</li>\n</ol>\n"}],"owner":{"account_id":25495086,"reputation":53,"user_id":19289260,"display_name":"mkobylarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72571717,"answer_count":2,"score":3,"last_activity_date":1654854359,"creation_date":1654597509,"question_id":72529601,"body_markdown":"Recently I found no obvious behaviour when using [&#39;select new/constructor expression&#39;][1]  in jpa/hibernate. It uses kind of lazy loading for each entity in each row in result set what is not efficient.\r\n\r\nTest example\r\n------------\r\n\r\n    @Value\r\n    public class PojoTuple {\r\n        Entity1 e1;\r\n        Entity2 e2;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;entity1&quot;, schema = DEFAULT_DATABASE_SCHEMA)\r\n    @NoArgsConstructor(access = PROTECTED)\r\n    public class Entity1 {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private String id;\r\n    \r\n        @Column(name = &quot;field1&quot;, nullable = false)\r\n        private String field1;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;entity2&quot;, schema = DEFAULT_DATABASE_SCHEMA)\r\n    @NoArgsConstructor(access = PROTECTED)\r\n    public class Entity2 {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private String id;\r\n    \r\n        @Column(name = &quot;fkentity1&quot;, nullable = false)\r\n        private String entity1Id;\r\n    \r\n        @Column(name = &quot;field2&quot;, nullable = false)\r\n        private String field2;\r\n    }\r\n\r\n    create table entity1\r\n    (\r\n        id     varchar2(22 char) not null primary key,\r\n        field1 varchar2(50 char) not null\r\n    );\r\n    \r\n    create table entity2\r\n    (\r\n        id        varchar2(22 char) not null primary key,\r\n        fkentity1 varchar2(22 char) not null,\r\n        field2    varchar2(50 char) not null\r\n    \r\n    );\r\n    \r\n    insert into entity1 (id, field1) values (&#39;10&#39;, &#39;anyvalue1&#39;);\r\n    insert into entity1 (id, field1) values (&#39;11&#39;, &#39;anyvalue2&#39;);\r\n    \r\n    insert into entity2 (id, fkentity1, field2) VALUES (&#39;20&#39;, &#39;10&#39;, &#39;anyvalue3&#39;);\r\n    insert into entity2 (id, fkentity1, field2) VALUES (&#39;21&#39;, &#39;11&#39;, &#39;anyvalue4&#39;);\r\n\r\n\r\nFirst case\r\n----------\r\n\r\nwe issue a query using *select new* technique:\r\n\r\n\r\n    Query query = entityManager.createQuery(&quot;select new my.package.PojoTuple(e1, e2) &quot; +\r\n                                            &quot;from Entity1 e1 &quot; +\r\n                                            &quot;join Entity2 e2 on e1.id=e2.entity1Id &quot;);\r\n    query.getResultList();\r\n\r\nThis issues one query to fetch **only ids** of e1 and e2 and then more queries to fetch e1, e2 by id one by one for each row in result set:\r\n\r\n&gt; Query:[&quot;select entity1x0_.id as col_0_0_, entity2x1_.id as col_1_0_\r\n&gt; from schema.entity1 entity1x0_ inner join schema.entity2 entity2x1_ on\r\n&gt; (entity1x0_.id=entity2x1_.fkentity1)&quot;]\r\n&gt; \r\n&gt; Query:[&quot;select entity1x0_.id as id1_1_0_, entity1x0_.field1 as\r\n&gt; field2_1_0_ from schema.entity1 entity1x0_ where entity1x0_.id=?&quot;]\r\n&gt; Params:[(10)]\r\n&gt; \r\n&gt; Query:[&quot;select entity2x0_.id as id1_2_0_, entity2x0_.fkentity1 as\r\n&gt; fkentity2_2_0_, entity2x0_.field2 as field3_2_0_ from schema.entity2\r\n&gt; entity2x0_ where entity2x0_.id=?&quot;] Params:[(20)]\r\n&gt; \r\n&gt; Query:[&quot;select entity1x0_.id as id1_1_0_, entity1x0_.field1 as\r\n&gt; field2_1_0_ from schema.entity1 entity1x0_ where entity1x0_.id=?&quot;]\r\n&gt; Params:[(11)]\r\n&gt; \r\n&gt; Query:[&quot;select entity2x0_.id as id1_2_0_, entity2x0_.fkentity1 as\r\n&gt; fkentity2_2_0_, entity2x0_.field2 as field3_2_0_ from schema.entity2\r\n&gt; entity2x0_ where entity2x0_.id=?&quot;] Params:[(21)]\r\n\r\nSecond case\r\n-----------\r\n\r\nWhereas rewriting sample from above to:\r\n\r\n    Query query = entityManager.createQuery(&quot;select e1, e2 &quot; +\r\n                                            &quot;from Entity1 e1 &quot; +\r\n                                            &quot;join Entity2 e2 on e1.id=e2.entity1Id &quot;);\r\n    \r\n    query.getResultList();\r\n\r\n\r\nIssues exactly one query to database with all required fields selected:\r\n\r\n&gt; Query:[&quot;select entity1x0_.id as id1_1_0_, entity2x1_.id as id1_2_1_,\r\n&gt; entity1x0_.field1 as field2_1_0_, entity2x1_.fkentity1 as\r\n&gt; fkentity2_2_1_, entity2x1_.field2 as field3_2_1_ from schema.entity1\r\n&gt; entity1x0_ inner join schema.entity2 entity2x1_ on\r\n&gt; (entity1x0_.id=entity2x1_.fkentity1)&quot;] \r\n&gt; Params:[()]\r\n\r\nQuestion\r\n--------\r\nFrom my perspective there is no big difference how these two queries should be performed. First case issues many queries that I do not expect what is highly inefficient. Second case works as expected issuing exactly one query to database. Is this a bug, suboptimal solution or some hidden feature that I can not see?\r\n\r\n\r\n\r\nEnvironment\r\nhibernate-core: 5.6.9.Final\r\n\r\n  [1]: https://docs.oracle.com/cd/E12839_01/apirefs.1111/e13946/ejb3_langref.html#ejb3_langref_constructor\r\n","title":"select new (JPQL Constructor Expression) in jpa/hibernate causes &quot;lazy&quot; loading for each row","body":"<p>Recently I found no obvious behaviour when using <a href=\"https://docs.oracle.com/cd/E12839_01/apirefs.1111/e13946/ejb3_langref.html#ejb3_langref_constructor\" rel=\"nofollow noreferrer\">'select new/constructor expression'</a>  in jpa/hibernate. It uses kind of lazy loading for each entity in each row in result set what is not efficient.</p>\n<h2>Test example</h2>\n<pre><code>@Value\npublic class PojoTuple {\n    Entity1 e1;\n    Entity2 e2;\n}\n\n@Entity\n@Table(name = &quot;entity1&quot;, schema = DEFAULT_DATABASE_SCHEMA)\n@NoArgsConstructor(access = PROTECTED)\npublic class Entity1 {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private String id;\n\n    @Column(name = &quot;field1&quot;, nullable = false)\n    private String field1;\n}\n\n@Entity\n@Table(name = &quot;entity2&quot;, schema = DEFAULT_DATABASE_SCHEMA)\n@NoArgsConstructor(access = PROTECTED)\npublic class Entity2 {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private String id;\n\n    @Column(name = &quot;fkentity1&quot;, nullable = false)\n    private String entity1Id;\n\n    @Column(name = &quot;field2&quot;, nullable = false)\n    private String field2;\n}\n\ncreate table entity1\n(\n    id     varchar2(22 char) not null primary key,\n    field1 varchar2(50 char) not null\n);\n\ncreate table entity2\n(\n    id        varchar2(22 char) not null primary key,\n    fkentity1 varchar2(22 char) not null,\n    field2    varchar2(50 char) not null\n\n);\n\ninsert into entity1 (id, field1) values ('10', 'anyvalue1');\ninsert into entity1 (id, field1) values ('11', 'anyvalue2');\n\ninsert into entity2 (id, fkentity1, field2) VALUES ('20', '10', 'anyvalue3');\ninsert into entity2 (id, fkentity1, field2) VALUES ('21', '11', 'anyvalue4');\n</code></pre>\n<h2>First case</h2>\n<p>we issue a query using <em>select new</em> technique:</p>\n<pre><code>Query query = entityManager.createQuery(&quot;select new my.package.PojoTuple(e1, e2) &quot; +\n                                        &quot;from Entity1 e1 &quot; +\n                                        &quot;join Entity2 e2 on e1.id=e2.entity1Id &quot;);\nquery.getResultList();\n</code></pre>\n<p>This issues one query to fetch <strong>only ids</strong> of e1 and e2 and then more queries to fetch e1, e2 by id one by one for each row in result set:</p>\n<blockquote>\n<p>Query:[&quot;select entity1x0_.id as col_0_0_, entity2x1_.id as col_1_0_\nfrom schema.entity1 entity1x0_ inner join schema.entity2 entity2x1_ on\n(entity1x0_.id=entity2x1_.fkentity1)&quot;]</p>\n<p>Query:[&quot;select entity1x0_.id as id1_1_0_, entity1x0_.field1 as\nfield2_1_0_ from schema.entity1 entity1x0_ where entity1x0_.id=?&quot;]\nParams:[(10)]</p>\n<p>Query:[&quot;select entity2x0_.id as id1_2_0_, entity2x0_.fkentity1 as\nfkentity2_2_0_, entity2x0_.field2 as field3_2_0_ from schema.entity2\nentity2x0_ where entity2x0_.id=?&quot;] Params:[(20)]</p>\n<p>Query:[&quot;select entity1x0_.id as id1_1_0_, entity1x0_.field1 as\nfield2_1_0_ from schema.entity1 entity1x0_ where entity1x0_.id=?&quot;]\nParams:[(11)]</p>\n<p>Query:[&quot;select entity2x0_.id as id1_2_0_, entity2x0_.fkentity1 as\nfkentity2_2_0_, entity2x0_.field2 as field3_2_0_ from schema.entity2\nentity2x0_ where entity2x0_.id=?&quot;] Params:[(21)]</p>\n</blockquote>\n<h2>Second case</h2>\n<p>Whereas rewriting sample from above to:</p>\n<pre><code>Query query = entityManager.createQuery(&quot;select e1, e2 &quot; +\n                                        &quot;from Entity1 e1 &quot; +\n                                        &quot;join Entity2 e2 on e1.id=e2.entity1Id &quot;);\n\nquery.getResultList();\n</code></pre>\n<p>Issues exactly one query to database with all required fields selected:</p>\n<blockquote>\n<p>Query:[&quot;select entity1x0_.id as id1_1_0_, entity2x1_.id as id1_2_1_,\nentity1x0_.field1 as field2_1_0_, entity2x1_.fkentity1 as\nfkentity2_2_1_, entity2x1_.field2 as field3_2_1_ from schema.entity1\nentity1x0_ inner join schema.entity2 entity2x1_ on\n(entity1x0_.id=entity2x1_.fkentity1)&quot;]\nParams:[()]</p>\n</blockquote>\n<h2>Question</h2>\n<p>From my perspective there is no big difference how these two queries should be performed. First case issues many queries that I do not expect what is highly inefficient. Second case works as expected issuing exactly one query to database. Is this a bug, suboptimal solution or some hidden feature that I can not see?</p>\n<p>Environment\nhibernate-core: 5.6.9.Final</p>\n"},{"tags":["java","netbeans"],"answers":[{"tags":[],"owner":{"account_id":14295423,"reputation":403,"user_id":10326250,"display_name":"JohnnyD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654854354,"creation_date":1654854354,"answer_id":72572240,"question_id":72556647,"body_markdown":"For some reason netbeans was exporting an older version of the project so I copied the whole project file deleted the old one and tried to export again. \r\n\r\nThis time everything worked as it should.","title":"Netbeans exports earlier/wrong program version","body":"<p>For some reason netbeans was exporting an older version of the project so I copied the whole project file deleted the old one and tried to export again.</p>\n<p>This time everything worked as it should.</p>\n"}],"owner":{"account_id":14295423,"reputation":403,"user_id":10326250,"display_name":"JohnnyD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72572240,"answer_count":1,"score":1,"last_activity_date":1654854354,"creation_date":1654761434,"question_id":72556647,"body_markdown":"I am using netbeans to create an app. \r\n\r\nWhen I export in the dist file everything&#39;s working correctly, when I am exporting for store (to include the libraries in the .jar), netbeans exports an earlier program version. Oh and yes, I have tried restarting netbeans didn&#39;t really do anything.\r\n\r\nThis is actually the first time I encountered this issue. \r\n\r\n And yes I have saved the project.\r\nIs this a netbeans issue or am I doing something wrong? \r\n\r\n\r\nthis is the image of what I&#39;m doing: \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthis is the build.xml code \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project name=&quot;GalaxyChromaY2_BoilerPlate&quot; default=&quot;default&quot; basedir=&quot;.&quot;&gt;\r\n        &lt;description&gt;Builds, tests, and runs the project JavaApplication2.&lt;/description&gt;\r\n        &lt;import file=&quot;nbproject/build-impl.xml&quot;/&gt;\r\n       \r\n        \r\n         &lt;target name=&quot;package-for-store&quot; depends=&quot;jar&quot;&gt;\r\n    \r\n            &lt;property name=&quot;store.jar.name&quot; value=&quot;GalaxyChromaY2&quot;/&gt;\r\n    \r\n            &lt;property name=&quot;store.dir&quot; value=&quot;store&quot;/&gt;\r\n            &lt;property name=&quot;store.jar&quot; value=&quot;${store.dir}/${store.jar.name}.jar&quot;/&gt;\r\n    \r\n            &lt;echo message=&quot;Packaging ${application.title} into a single JAR at ${store.jar}&quot;/&gt;\r\n    \r\n            &lt;delete dir=&quot;${store.dir}&quot;/&gt;\r\n            &lt;mkdir dir=&quot;${store.dir}&quot;/&gt;\r\n    \r\n            &lt;jar destfile=&quot;${store.dir}/temp_final.jar&quot; filesetmanifest=&quot;skip&quot;&gt;\r\n                &lt;zipgroupfileset dir=&quot;dist&quot; includes=&quot;*.jar&quot;/&gt;\r\n                &lt;zipgroupfileset dir=&quot;dist/lib&quot; includes=&quot;*.jar&quot;/&gt;\r\n    \r\n                &lt;manifest&gt;\r\n                    &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main.class}&quot;/&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/jar&gt;\r\n    \r\n            &lt;zip destfile=&quot;${store.jar}&quot;&gt;\r\n                &lt;zipfileset src=&quot;${store.dir}/temp_final.jar&quot;\r\n                excludes=&quot;META-INF/*.SF, META-INF/*.DSA, META-INF/*.RSA&quot;/&gt;\r\n            &lt;/zip&gt;\r\n    \r\n            &lt;delete file=&quot;${store.dir}/temp_final.jar&quot;/&gt;\r\n    \r\n        &lt;/target&gt; \r\n        \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9s47R.png","title":"Netbeans exports earlier/wrong program version","body":"<p>I am using netbeans to create an app.</p>\n<p>When I export in the dist file everything's working correctly, when I am exporting for store (to include the libraries in the .jar), netbeans exports an earlier program version. Oh and yes, I have tried restarting netbeans didn't really do anything.</p>\n<p>This is actually the first time I encountered this issue.</p>\n<p>And yes I have saved the project.\nIs this a netbeans issue or am I doing something wrong?</p>\n<p>this is the image of what I'm doing:</p>\n<p><a href=\"https://i.stack.imgur.com/9s47R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9s47R.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the build.xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project name=&quot;GalaxyChromaY2_BoilerPlate&quot; default=&quot;default&quot; basedir=&quot;.&quot;&gt;\n    &lt;description&gt;Builds, tests, and runs the project JavaApplication2.&lt;/description&gt;\n    &lt;import file=&quot;nbproject/build-impl.xml&quot;/&gt;\n   \n    \n     &lt;target name=&quot;package-for-store&quot; depends=&quot;jar&quot;&gt;\n\n        &lt;property name=&quot;store.jar.name&quot; value=&quot;GalaxyChromaY2&quot;/&gt;\n\n        &lt;property name=&quot;store.dir&quot; value=&quot;store&quot;/&gt;\n        &lt;property name=&quot;store.jar&quot; value=&quot;${store.dir}/${store.jar.name}.jar&quot;/&gt;\n\n        &lt;echo message=&quot;Packaging ${application.title} into a single JAR at ${store.jar}&quot;/&gt;\n\n        &lt;delete dir=&quot;${store.dir}&quot;/&gt;\n        &lt;mkdir dir=&quot;${store.dir}&quot;/&gt;\n\n        &lt;jar destfile=&quot;${store.dir}/temp_final.jar&quot; filesetmanifest=&quot;skip&quot;&gt;\n            &lt;zipgroupfileset dir=&quot;dist&quot; includes=&quot;*.jar&quot;/&gt;\n            &lt;zipgroupfileset dir=&quot;dist/lib&quot; includes=&quot;*.jar&quot;/&gt;\n\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main.class}&quot;/&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n\n        &lt;zip destfile=&quot;${store.jar}&quot;&gt;\n            &lt;zipfileset src=&quot;${store.dir}/temp_final.jar&quot;\n            excludes=&quot;META-INF/*.SF, META-INF/*.DSA, META-INF/*.RSA&quot;/&gt;\n        &lt;/zip&gt;\n\n        &lt;delete file=&quot;${store.dir}/temp_final.jar&quot;/&gt;\n\n    &lt;/target&gt; \n    \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1551661036,"post_id":48922642,"comment_id":96709725,"body_markdown":"I have a similar question, awaiting an answer: https://stackoverflow.com/questions/54975282/with-opencsv-how-do-i-append-to-existing-csv-using-a-mappingstrategy","body":"I have a similar question, awaiting an answer: <a href=\"https://stackoverflow.com/questions/54975282/with-opencsv-how-do-i-append-to-existing-csv-using-a-mappingstrategy\" title=\"with opencsv how do i append to existing csv using a mappingstrategy\">stackoverflow.com/questions/54975282/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4836940,"reputation":985,"user_id":3903279,"display_name":"Scott Conway"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1520287826,"creation_date":1520287826,"answer_id":49120335,"question_id":48922642,"body_markdown":"Good one.  Appending was something we did not think much of when we did writing in opencsv because it is potentially risky (something goes wrong you could corrupt what was a good file) so write was favored instead.  \r\n\r\nThat said open up a bug or feature request in sourceforge and if there is enough interest we will try and get it in the 4.3 release (4.2 is booked solid).  \r\n\r\nTHAT said if you want to get around this create your own [MappingStrategy][1] class that extends the [HeaderColumnNameMappingStrategy][2] and all you need there is a override on the generateHeader method to return an empty String array.  You can look at the code in [ColumnPositionMappingStrategy][3] to see what I am talking about.  This will prevent the header from being written.  In this case you will need to use this only in the else part.  \r\n\r\nHope that helps. \r\n\r\n:)\r\n\r\n\r\n  [1]: https://sourceforge.net/p/opencsv/source/ci/master/tree/src/main/java/com/opencsv/bean/MappingStrategy.java\r\n  [2]: https://sourceforge.net/p/opencsv/source/ci/master/tree/src/main/java/com/opencsv/bean/HeaderColumnNameMappingStrategy.java\r\n  [3]: https://sourceforge.net/p/opencsv/source/ci/master/tree/src/main/java/com/opencsv/bean/ColumnPositionMappingStrategy.java","title":"Appending to CSV file without headers","body":"<p>Good one.  Appending was something we did not think much of when we did writing in opencsv because it is potentially risky (something goes wrong you could corrupt what was a good file) so write was favored instead.  </p>\n\n<p>That said open up a bug or feature request in sourceforge and if there is enough interest we will try and get it in the 4.3 release (4.2 is booked solid).  </p>\n\n<p>THAT said if you want to get around this create your own <a href=\"https://sourceforge.net/p/opencsv/source/ci/master/tree/src/main/java/com/opencsv/bean/MappingStrategy.java\" rel=\"noreferrer\">MappingStrategy</a> class that extends the <a href=\"https://sourceforge.net/p/opencsv/source/ci/master/tree/src/main/java/com/opencsv/bean/HeaderColumnNameMappingStrategy.java\" rel=\"noreferrer\">HeaderColumnNameMappingStrategy</a> and all you need there is a override on the generateHeader method to return an empty String array.  You can look at the code in <a href=\"https://sourceforge.net/p/opencsv/source/ci/master/tree/src/main/java/com/opencsv/bean/ColumnPositionMappingStrategy.java\" rel=\"noreferrer\">ColumnPositionMappingStrategy</a> to see what I am talking about.  This will prevent the header from being written.  In this case you will need to use this only in the else part.  </p>\n\n<p>Hope that helps. </p>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":2571117,"reputation":750,"user_id":2432027,"display_name":"afarrapeira"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1593769540,"creation_date":1581669387,"answer_id":60222670,"question_id":48922642,"body_markdown":"I don&#39;t know if the feature was finally added in OpenCSV. Right now the latest version is 5.1 and I haven&#39;t read anything about it...\r\n\r\nAs I&#39;ve posted in [another question][1], I got it to work after updating to 5.1:\r\n\r\nNeeded to have CSVs with both specific field headers (@CsvBindByName) and positions (@CsvBindByPosition), so I already had to make my own MappingStrategy.\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n    \tprivate boolean useHeader=true;\r\n    \t\r\n    \tpublic CustomMappingStrategy(){\r\n    \t}\r\n    \t\r\n    \tpublic CustomMappingStrategy(boolean useHeader) {\r\n    \t\tthis.useHeader = useHeader;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n    \t\tfinal int numColumns = FieldUtils.getAllFields(bean.getClass()).length;\r\n    \t\tsuper.setColumnMapping(new String[numColumns]);\r\n    \t\t\r\n    \t\tif (numColumns == -1) {\r\n    \t\t\treturn super.generateHeader(bean);\r\n    \t\t}\r\n    \t\t\r\n    \t\tString[] header = new String[numColumns];\r\n    \t\t\r\n    \t\tif(!useHeader){\r\n    \t\t\treturn ArrayUtils.EMPTY_STRING_ARRAY;\r\n    \t\t}\r\n    \t\tBeanField&lt;T, Integer&gt; beanField;\r\n    \t\tfor (int i = 0; i &lt; numColumns; i++){\r\n    \t\t\tbeanField = findField(i);\r\n    \t\t\tString columnHeaderName = extractHeaderName(beanField);\r\n    \t\t\theader[i] = columnHeaderName;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn header;\r\n    \t}\r\n    \t\r\n    \tprivate String extractHeaderName(final BeanField&lt;T, Integer&gt; beanField){\r\n    \t\tif (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0){\r\n    \t\t\treturn StringUtils.EMPTY;\r\n    \t\t}\r\n    \t\t\r\n    \t\t//return value of CsvBindByName annotation\r\n    \t\tfinal CsvBindByName bindByNameAnnotation = beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class)[0];\r\n    \t\treturn bindByNameAnnotation.column();\r\n    \t}\r\n    \r\n    }\r\n\r\nI also made a generic exporter class, to ease CSV generation:\r\n\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class ExportGenericCSV&lt;T&gt; {\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(ExportGenericCSV.class);\r\n    \tprivate final char DEFAULT_QUOTE_CHARACTER = CSVWriter.NO_QUOTE_CHARACTER;\r\n    \tprivate final char CSV_SEPARATOR = CSVWriter.DEFAULT_SEPARATOR;\r\n    \t\r\n    \tpublic void writeToFile(String fileName, List&lt;T&gt; content){\r\n    \t\twriteList(fileName, content, true);\r\n    \t}\r\n    \t\r\n    \tpublic void appendToFile(String fileName, List&lt;T&gt; content){\r\n    \t\twriteList(fileName, content, false, StandardOpenOption.APPEND);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tprivate void writeList(String fileName, List&lt;T&gt; exports, boolean addHeader, OpenOption...openOptions){\r\n    \t\tif(exports == null  || exports.isEmpty()) return;\r\n    \t\ttry (Writer writer = Files.newBufferedWriter(Paths.get(fileName), openOptions)){\r\n    \r\n    \t\t\tCustomMappingStrategy&lt;T&gt; mapping = new CustomMappingStrategy&lt;T&gt;(addHeader);\r\n    \t\t\tmapping.setType((Class&lt;? extends T&gt;) exports.get(0).getClass());\r\n    \t\t\t\r\n    \t\t\tStatefulBeanToCsv&lt;T&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;T&gt;(writer)\r\n    \t\t\t\t\t.withQuotechar(DEFAULT_QUOTE_CHARACTER)\r\n    \t\t\t\t\t.withSeparator(CSV_SEPARATOR)\r\n    \t\t\t\t\t.withMappingStrategy(mapping)\r\n    \t\t\t\t\t.build();\r\n    \r\n    \t\t\tbeanToCsv.write(exports);\r\n    \t\t\t\r\n    \t\t\twriter.flush();\r\n    \t\t\twriter.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlogger.error(e.getMessage(), e);\r\n    \t\t} catch (CsvDataTypeMismatchException e) {\r\n    \t\t\tlogger.error(e.getMessage(), e);\r\n    \t\t} catch (CsvRequiredFieldEmptyException e) {\r\n    \t\t\tlogger.error(e.getMessage(), e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis way, when you need to export a list of items you can use:\r\n\r\n\r\n    ExportGenericCSV&lt;ExportedClass&gt; exporter = new ExportGenericCSV&lt;ExportedClass&gt;();\r\n\r\nand then use ```exporter.writeToFile(...)``` or ```exporter.appendToFile(...)```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54975282/with-opencsv-how-do-i-append-to-existing-csv-using-a-mappingstrategy","title":"Appending to CSV file without headers","body":"<p>I don't know if the feature was finally added in OpenCSV. Right now the latest version is 5.1 and I haven't read anything about it...</p>\n<p>As I've posted in <a href=\"https://stackoverflow.com/questions/54975282/with-opencsv-how-do-i-append-to-existing-csv-using-a-mappingstrategy\">another question</a>, I got it to work after updating to 5.1:</p>\n<p>Needed to have CSVs with both specific field headers (@CsvBindByName) and positions (@CsvBindByPosition), so I already had to make my own MappingStrategy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n    private boolean useHeader=true;\n    \n    public CustomMappingStrategy(){\n    }\n    \n    public CustomMappingStrategy(boolean useHeader) {\n        this.useHeader = useHeader;\n    }\n    \n    @Override\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n        final int numColumns = FieldUtils.getAllFields(bean.getClass()).length;\n        super.setColumnMapping(new String[numColumns]);\n        \n        if (numColumns == -1) {\n            return super.generateHeader(bean);\n        }\n        \n        String[] header = new String[numColumns];\n        \n        if(!useHeader){\n            return ArrayUtils.EMPTY_STRING_ARRAY;\n        }\n        BeanField&lt;T, Integer&gt; beanField;\n        for (int i = 0; i &lt; numColumns; i++){\n            beanField = findField(i);\n            String columnHeaderName = extractHeaderName(beanField);\n            header[i] = columnHeaderName;\n        }\n        \n        return header;\n    }\n    \n    private String extractHeaderName(final BeanField&lt;T, Integer&gt; beanField){\n        if (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0){\n            return StringUtils.EMPTY;\n        }\n        \n        //return value of CsvBindByName annotation\n        final CsvBindByName bindByNameAnnotation = beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class)[0];\n        return bindByNameAnnotation.column();\n    }\n\n}\n</code></pre>\n<p>I also made a generic exporter class, to ease CSV generation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExportGenericCSV&lt;T&gt; {\n    private static final Logger logger = LoggerFactory.getLogger(ExportGenericCSV.class);\n    private final char DEFAULT_QUOTE_CHARACTER = CSVWriter.NO_QUOTE_CHARACTER;\n    private final char CSV_SEPARATOR = CSVWriter.DEFAULT_SEPARATOR;\n    \n    public void writeToFile(String fileName, List&lt;T&gt; content){\n        writeList(fileName, content, true);\n    }\n    \n    public void appendToFile(String fileName, List&lt;T&gt; content){\n        writeList(fileName, content, false, StandardOpenOption.APPEND);\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private void writeList(String fileName, List&lt;T&gt; exports, boolean addHeader, OpenOption...openOptions){\n        if(exports == null  || exports.isEmpty()) return;\n        try (Writer writer = Files.newBufferedWriter(Paths.get(fileName), openOptions)){\n\n            CustomMappingStrategy&lt;T&gt; mapping = new CustomMappingStrategy&lt;T&gt;(addHeader);\n            mapping.setType((Class&lt;? extends T&gt;) exports.get(0).getClass());\n            \n            StatefulBeanToCsv&lt;T&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;T&gt;(writer)\n                    .withQuotechar(DEFAULT_QUOTE_CHARACTER)\n                    .withSeparator(CSV_SEPARATOR)\n                    .withMappingStrategy(mapping)\n                    .build();\n\n            beanToCsv.write(exports);\n            \n            writer.flush();\n            writer.close();\n        } catch (IOException e) {\n            logger.error(e.getMessage(), e);\n        } catch (CsvDataTypeMismatchException e) {\n            logger.error(e.getMessage(), e);\n        } catch (CsvRequiredFieldEmptyException e) {\n            logger.error(e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n<p>This way, when you need to export a list of items you can use:</p>\n<pre><code>ExportGenericCSV&lt;ExportedClass&gt; exporter = new ExportGenericCSV&lt;ExportedClass&gt;();\n</code></pre>\n<p>and then use <code>exporter.writeToFile(...)</code> or <code>exporter.appendToFile(...)</code></p>\n"},{"tags":[],"owner":{"account_id":6812573,"reputation":111,"user_id":5242252,"display_name":"Alexander Ryasnyanskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654854257,"creation_date":1654854257,"answer_id":72572214,"question_id":48922642,"body_markdown":"You can use this simple `mappingStrategy`. Please, take a look at `return new String[0];`\r\n```\r\n// 1. how to use:\r\nStatefulBeanToCsv beanToCsv = new StatefulBeanToCsvBuilder(writer)\r\n    .withMappingStrategy(newCsvAnnotationStrategy(list.iterator().next().getClass(), writeHeader))\r\n    .build();\r\nbeanToCsv.write(list);\r\n\r\n// 2. mappingStrategy\r\n/**\r\n *\r\n * @author Alexander Ryasnyanskiy\r\n * created on 2022-06-10\r\n */\r\npublic class CsvAnnotationStrategy&lt;T&gt; extends HeaderColumnNameTranslateMappingStrategy&lt;T&gt; {\r\n    private final boolean writeHeader;\r\n\r\n    public CsvAnnotationStrategy(Class&lt;T&gt; type, boolean writeHeader) {\r\n        this.writeHeader = writeHeader;\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        for (Field field : type.getDeclaredFields()) {\r\n            map.put(field.getName(), field.getName());\r\n        }\r\n        setType(type);\r\n        setColumnMapping(map);\r\n    }\r\n\r\n    @Override\r\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n        String[] result = super.generateHeader(bean);\r\n        for (int i = 0; i &lt; result.length; i++) {\r\n            result[i] = getColumnName(i);\r\n        }\r\n        if (writeHeader) {\r\n            return result;\r\n        } else {\r\n            return new String[0];\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Appending to CSV file without headers","body":"<p>You can use this simple <code>mappingStrategy</code>. Please, take a look at <code>return new String[0];</code></p>\n<pre><code>// 1. how to use:\nStatefulBeanToCsv beanToCsv = new StatefulBeanToCsvBuilder(writer)\n    .withMappingStrategy(newCsvAnnotationStrategy(list.iterator().next().getClass(), writeHeader))\n    .build();\nbeanToCsv.write(list);\n\n// 2. mappingStrategy\n/**\n *\n * @author Alexander Ryasnyanskiy\n * created on 2022-06-10\n */\npublic class CsvAnnotationStrategy&lt;T&gt; extends HeaderColumnNameTranslateMappingStrategy&lt;T&gt; {\n    private final boolean writeHeader;\n\n    public CsvAnnotationStrategy(Class&lt;T&gt; type, boolean writeHeader) {\n        this.writeHeader = writeHeader;\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        for (Field field : type.getDeclaredFields()) {\n            map.put(field.getName(), field.getName());\n        }\n        setType(type);\n        setColumnMapping(map);\n    }\n\n    @Override\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n        String[] result = super.generateHeader(bean);\n        for (int i = 0; i &lt; result.length; i++) {\n            result[i] = getColumnName(i);\n        }\n        if (writeHeader) {\n            return result;\n        } else {\n            return new String[0];\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7083,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49120335,"answer_count":3,"score":9,"last_activity_date":1654854257,"creation_date":1519287914,"question_id":48922642,"body_markdown":"I am using [opencsv][1] to write a Java bean to a CSV file with headers. The file name contains the current date. If the user runs it for a second time in the same day, it appends to the file but adds another header line.\r\n\r\nHow do I append to the file but without the column headers.\r\n\r\n        public class CSVExport {\r\n\r\n    final File USERHOME = new File(System.getProperty(&quot;user.home&quot;));\r\n    final List&lt;saleExport&gt; listSaleExport = new ArrayList&lt;&gt;();\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n\t\r\n\tpublic void createCsvFile(String Region, Map&lt;String, String&gt; currentSale) throws IOException {\r\n\r\n        mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n\t\t// use column position mapping strategy for no headers?\r\n        LocalDate today = LocalDate.now();\r\n\r\n                    final SaleExport saleExport = mapper.convertValue(currentSale, SaleExport.class);\r\n                    listSaleExport.add(saleExport);\r\n                    writeToFile(today +&quot; LA.csv&quot;, listSaleExport);\r\n    }\r\n\r\n    public void writeToFile(String filename, List&lt;listSaleExport&gt; listSaleExport) throws IOException {\r\n\r\n        File file = new File(PROCESSED_DIR +&quot;\\\\&quot;, &quot;filename&quot;);\r\n\r\n        if (!file.exists()) {\r\n            try {\r\n                Writer writer = new FileWriter(PROCESSED_DIR +&quot;\\\\&quot; +filename, true);\r\n                StatefulBeanToCsvBuilder&lt;listSaleExport&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;&gt;(writer);\r\n                StatefulBeanToCsv&lt;listSaleExport&gt; beanWriter = beanToCsv.build();\r\n                beanWriter.write(listSaleExport);\r\n                writer.close();\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Error : &quot; + ex.getMessage());\r\n            }\r\n        } else {\r\n            try {\r\n                Writer writer = new FileWriter(PROCESSED_DIR +&quot;\\\\&quot; +&quot;filename&quot;);\r\n                StatefulBeanToCsvBuilder&lt;listSaleExport&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;&gt;(writer);\r\n                StatefulBeanToCsv&lt;listSaleExport&gt; beanWriter = beanToCsv.build();\r\n                beanWriter.write(listSaleExport);\r\n                writer.close();\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Error : &quot; + ex.getMessage());\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/","title":"Appending to CSV file without headers","body":"<p>I am using <a href=\"http://opencsv.sourceforge.net/\" rel=\"noreferrer\">opencsv</a> to write a Java bean to a CSV file with headers. The file name contains the current date. If the user runs it for a second time in the same day, it appends to the file but adds another header line.</p>\n\n<p>How do I append to the file but without the column headers.</p>\n\n<pre><code>    public class CSVExport {\n\nfinal File USERHOME = new File(System.getProperty(\"user.home\"));\nfinal List&lt;saleExport&gt; listSaleExport = new ArrayList&lt;&gt;();\nfinal ObjectMapper mapper = new ObjectMapper();\n\npublic void createCsvFile(String Region, Map&lt;String, String&gt; currentSale) throws IOException {\n\n    mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n    // use column position mapping strategy for no headers?\n    LocalDate today = LocalDate.now();\n\n                final SaleExport saleExport = mapper.convertValue(currentSale, SaleExport.class);\n                listSaleExport.add(saleExport);\n                writeToFile(today +\" LA.csv\", listSaleExport);\n}\n\npublic void writeToFile(String filename, List&lt;listSaleExport&gt; listSaleExport) throws IOException {\n\n    File file = new File(PROCESSED_DIR +\"\\\\\", \"filename\");\n\n    if (!file.exists()) {\n        try {\n            Writer writer = new FileWriter(PROCESSED_DIR +\"\\\\\" +filename, true);\n            StatefulBeanToCsvBuilder&lt;listSaleExport&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;&gt;(writer);\n            StatefulBeanToCsv&lt;listSaleExport&gt; beanWriter = beanToCsv.build();\n            beanWriter.write(listSaleExport);\n            writer.close();\n        } catch (Exception ex) {\n            System.out.println(\"Error : \" + ex.getMessage());\n        }\n    } else {\n        try {\n            Writer writer = new FileWriter(PROCESSED_DIR +\"\\\\\" +\"filename\");\n            StatefulBeanToCsvBuilder&lt;listSaleExport&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;&gt;(writer);\n            StatefulBeanToCsv&lt;listSaleExport&gt; beanWriter = beanToCsv.build();\n            beanWriter.write(listSaleExport);\n            writer.close();\n        } catch (Exception ex) {\n            System.out.println(\"Error : \" + ex.getMessage());\n        }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","arrays","matrix","median"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654854069,"creation_date":1654854069,"answer_id":72572185,"question_id":72571571,"body_markdown":"I think it would be better to break down the problem in: computing the median for a specific (i;j) value and creating a matrix filled with the medians of the input values. This would bring us to define two methods: \r\n\r\n- `double[][] getMedianMatrix(doubel[][] matrix)`\r\n- `double median(double[][] matrix, int row, int col)`\r\n\r\nThe `median` method could return the median from a (i;j) value of the given matrix and then check its bounds by computing the rows above and below and the columns on its left and right. It could break down the problem in three macro cases where each row is handled (`rowAbove`, `row`, and `rowBelow`) and for each row check the columns bounds.\r\n\r\nThe `getMedianMatrix` method would simply return a matrix with the same dimensions as the input matrix and then invoke the `median()` method on each element.\r\n\r\n```\r\npublic static double median(double[][] matrix, int row, int col) {\r\n    //Making sure that the given indexes have proper values\r\n    if (row &lt; 0 || row &gt; matrix.length || col &lt; 0 || col &gt; matrix[row].length) {\r\n        return 0;\r\n    }\r\n\r\n    //List of values to compute the median with\r\n    List&lt;Double&gt; listNeighbors = new ArrayList&lt;&gt;();\r\n\r\n    //Defining the neighbor coordinates\r\n    int newRowAbove = row - 1, newRowBelow = row + 1, newColLeft = col - 1, newColRight = col + 1;\r\n\r\n    //Checking if exists a row above the current index, if it does then each column is checked otherwise 3 zeros are added to the list\r\n    if (newRowAbove &gt;= 0) {\r\n        listNeighbors.add(newColLeft &gt;= 0 ? matrix[newRowAbove][newColLeft] : 0.0);\r\n        listNeighbors.add(matrix[newRowAbove][col]);\r\n        listNeighbors.add(newColRight &lt; matrix.length ? matrix[newRowAbove][newColRight] : 0.0);\r\n    } else {\r\n        listNeighbors.add(0.0);\r\n        listNeighbors.add(0.0);\r\n        listNeighbors.add(0.0);\r\n    }\r\n\r\n    //Adding the current row elements making sure that the adjacent columns are consistent\r\n    listNeighbors.add(newColLeft &gt;= 0 ? matrix[row][newColLeft] : 0.0);\r\n    listNeighbors.add(matrix[row][col]);\r\n    listNeighbors.add(newColRight &lt; matrix.length ? matrix[row][newColRight] : 0.0);\r\n\r\n    //Checking if exists a row below the current index, if it does then each column is checked otherwise 3 zeros are added to the list\r\n    if (newRowBelow &lt; matrix.length) {\r\n        listNeighbors.add(newColLeft &gt;= 0 ? matrix[newRowBelow][newColLeft] : 0.0);\r\n        listNeighbors.add(matrix[newRowBelow][col]);\r\n        listNeighbors.add(newColRight &lt; matrix.length ? matrix[newRowBelow][newColRight] : 0.0);\r\n    } else {\r\n        listNeighbors.add(0.0);\r\n        listNeighbors.add(0.0);\r\n        listNeighbors.add(0.0);\r\n    }\r\n\r\n    //Sorting the elements by their natural ordering\r\n    listNeighbors.sort(Comparator.naturalOrder());\r\n\r\n    //Since we always have an add number of elements (9) the median is given by the middle element\r\n    return listNeighbors.get(listNeighbors.size() / 2);\r\n}\r\n```\r\n\r\nHere is a link to test the code:\r\n\r\nhttps://www.jdoodle.com/iembed/v0/s65\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\n 0,0  2,0  0,0 \r\n 2,0  5,0  3,0 \r\n 0,0  5,0  0,0 \r\n```","title":"Median of every element on a 2D array using the neighbors of each element","body":"<p>I think it would be better to break down the problem in: computing the median for a specific (i;j) value and creating a matrix filled with the medians of the input values. This would bring us to define two methods:</p>\n<ul>\n<li><code>double[][] getMedianMatrix(doubel[][] matrix)</code></li>\n<li><code>double median(double[][] matrix, int row, int col)</code></li>\n</ul>\n<p>The <code>median</code> method could return the median from a (i;j) value of the given matrix and then check its bounds by computing the rows above and below and the columns on its left and right. It could break down the problem in three macro cases where each row is handled (<code>rowAbove</code>, <code>row</code>, and <code>rowBelow</code>) and for each row check the columns bounds.</p>\n<p>The <code>getMedianMatrix</code> method would simply return a matrix with the same dimensions as the input matrix and then invoke the <code>median()</code> method on each element.</p>\n<pre><code>public static double median(double[][] matrix, int row, int col) {\n    //Making sure that the given indexes have proper values\n    if (row &lt; 0 || row &gt; matrix.length || col &lt; 0 || col &gt; matrix[row].length) {\n        return 0;\n    }\n\n    //List of values to compute the median with\n    List&lt;Double&gt; listNeighbors = new ArrayList&lt;&gt;();\n\n    //Defining the neighbor coordinates\n    int newRowAbove = row - 1, newRowBelow = row + 1, newColLeft = col - 1, newColRight = col + 1;\n\n    //Checking if exists a row above the current index, if it does then each column is checked otherwise 3 zeros are added to the list\n    if (newRowAbove &gt;= 0) {\n        listNeighbors.add(newColLeft &gt;= 0 ? matrix[newRowAbove][newColLeft] : 0.0);\n        listNeighbors.add(matrix[newRowAbove][col]);\n        listNeighbors.add(newColRight &lt; matrix.length ? matrix[newRowAbove][newColRight] : 0.0);\n    } else {\n        listNeighbors.add(0.0);\n        listNeighbors.add(0.0);\n        listNeighbors.add(0.0);\n    }\n\n    //Adding the current row elements making sure that the adjacent columns are consistent\n    listNeighbors.add(newColLeft &gt;= 0 ? matrix[row][newColLeft] : 0.0);\n    listNeighbors.add(matrix[row][col]);\n    listNeighbors.add(newColRight &lt; matrix.length ? matrix[row][newColRight] : 0.0);\n\n    //Checking if exists a row below the current index, if it does then each column is checked otherwise 3 zeros are added to the list\n    if (newRowBelow &lt; matrix.length) {\n        listNeighbors.add(newColLeft &gt;= 0 ? matrix[newRowBelow][newColLeft] : 0.0);\n        listNeighbors.add(matrix[newRowBelow][col]);\n        listNeighbors.add(newColRight &lt; matrix.length ? matrix[newRowBelow][newColRight] : 0.0);\n    } else {\n        listNeighbors.add(0.0);\n        listNeighbors.add(0.0);\n        listNeighbors.add(0.0);\n    }\n\n    //Sorting the elements by their natural ordering\n    listNeighbors.sort(Comparator.naturalOrder());\n\n    //Since we always have an add number of elements (9) the median is given by the middle element\n    return listNeighbors.get(listNeighbors.size() / 2);\n}\n</code></pre>\n<p>Here is a link to test the code:</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/s65\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/s65</a></p>\n<h4>Output</h4>\n<pre><code> 0,0  2,0  0,0 \n 2,0  5,0  3,0 \n 0,0  5,0  0,0 \n</code></pre>\n"}],"owner":{"account_id":22136132,"reputation":67,"user_id":16386890,"display_name":"Max Ringnalda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654854247,"creation_date":1654851120,"question_id":72571571,"body_markdown":"I&#39;ve been trying my best to solve this on my own, but I have been unable to and I am stuck. I feel like this would be very simple if I did not have to consider every element&#39;s neighbor. What do I mean by that? If the case is that I have an element on a corner where in theory it would only have 3 neighbors, as per the instructions on the assignments, I have to use the “missing neighbors” as 0. So for example;\r\n\r\nIf I have the 2D Array \r\n```array2D = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};```\r\n\r\nWhich could be seen as\r\n```\r\n1 2 3\r\n4 5 6\r\n7 8 9\r\n```\r\n\r\nIf I want to calculate the median of each element, I need to calculate as if neighbors did exist just that as if they were imaginary 0s.\r\n\r\nAs if it looked like this\r\n```\r\n0 0 0 0 0\r\n0 1 2 3 0\r\n0 4 5 6 0\r\n0 7 8 9 0\r\n0 0 0 0 0\r\n```\r\n\r\nSo, using the element 1 as an example, If I were to calculate the median of the element I would have to calculate it using ``` 0, 0, 0, 0, 1, 2, 0, 4, 5```\r\n\r\nI really have tried everything that comes to mind but I am not being able to get this to work and I have tried everything I have found.\r\n\r\nCould I please get some help to see if I can get this done?\r\n\r\nI was able to do this\r\n\r\n```\r\npublic static double[][] media(double[][] X)\r\n    {\r\n    \tint numRows = X.length;\r\n        int numCols = X[0].length;\r\n        double[][] arrayMedian = new double[numRows][numCols];\r\n        for(int row = 0; row &lt; numRows; row++) {\r\n            for(int col = 0; col &lt; numCols; col++) {\r\n                for (int i = Math.max(0, row -1); i &lt; Math.min(numRows, row + 2); i++) {\r\n                    for (int j = Math.max(0, col -1); j &lt; Math.min(numCols, col + 2); j++) {\r\n                        //do stuff\r\n```\r\n\r\nBut that only takes the numbers on the actual 2D array and I am not sure how to go about implementing the 0s\r\n\r\nP.S Main has the list there thus why it is not on the code above\r\n\r\nList on main:\r\n``` double[][] X = {{1,2,3}, {4,5,6}, {7,8,9}}; ```","title":"Median of every element on a 2D array using the neighbors of each element","body":"<p>I've been trying my best to solve this on my own, but I have been unable to and I am stuck. I feel like this would be very simple if I did not have to consider every element's neighbor. What do I mean by that? If the case is that I have an element on a corner where in theory it would only have 3 neighbors, as per the instructions on the assignments, I have to use the “missing neighbors” as 0. So for example;</p>\n<p>If I have the 2D Array\n<code>array2D = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};</code></p>\n<p>Which could be seen as</p>\n<pre><code>1 2 3\n4 5 6\n7 8 9\n</code></pre>\n<p>If I want to calculate the median of each element, I need to calculate as if neighbors did exist just that as if they were imaginary 0s.</p>\n<p>As if it looked like this</p>\n<pre><code>0 0 0 0 0\n0 1 2 3 0\n0 4 5 6 0\n0 7 8 9 0\n0 0 0 0 0\n</code></pre>\n<p>So, using the element 1 as an example, If I were to calculate the median of the element I would have to calculate it using <code> 0, 0, 0, 0, 1, 2, 0, 4, 5</code></p>\n<p>I really have tried everything that comes to mind but I am not being able to get this to work and I have tried everything I have found.</p>\n<p>Could I please get some help to see if I can get this done?</p>\n<p>I was able to do this</p>\n<pre><code>public static double[][] media(double[][] X)\n    {\n        int numRows = X.length;\n        int numCols = X[0].length;\n        double[][] arrayMedian = new double[numRows][numCols];\n        for(int row = 0; row &lt; numRows; row++) {\n            for(int col = 0; col &lt; numCols; col++) {\n                for (int i = Math.max(0, row -1); i &lt; Math.min(numRows, row + 2); i++) {\n                    for (int j = Math.max(0, col -1); j &lt; Math.min(numCols, col + 2); j++) {\n                        //do stuff\n</code></pre>\n<p>But that only takes the numbers on the actual 2D array and I am not sure how to go about implementing the 0s</p>\n<p>P.S Main has the list there thus why it is not on the code above</p>\n<p>List on main:\n<code>double[][] X = {{1,2,3}, {4,5,6}, {7,8,9}};</code></p>\n"},{"tags":["java","excel","apache","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1504601960,"post_id":46049272,"comment_id":79061176,"body_markdown":"Did you [read the Apache POI docs on iterating over rows and cells](http://poi.apache.org/spreadsheet/quick-guide.html#Iterator), especially the bits on blank vs null cells?","body":"Did you <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#Iterator\" rel=\"nofollow noreferrer\">read the Apache POI docs on iterating over rows and cells</a>, especially the bits on blank vs null cells?"},{"owner":{"account_id":7826003,"reputation":734,"user_id":5917497,"accept_rate":62,"display_name":"SergioLeone"},"score":0,"creation_date":1504697608,"post_id":46049272,"comment_id":79108902,"body_markdown":"Yes, I have. Although the explanation about blank vs. null cell is very vague there (at least for me it is), hence came the question.","body":"Yes, I have. Although the explanation about blank vs. null cell is very vague there (at least for me it is), hence came the question."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1504698054,"post_id":46049272,"comment_id":79109249,"body_markdown":"It just reflects the way the Excel file format works! Null cells have never been used or styled. Blank cells may have styling, formatting, borders etc, or may have used to and Excel was just too lazy to remove them later...","body":"It just reflects the way the Excel file format works! Null cells have never been used or styled. Blank cells may have styling, formatting, borders etc, or may have used to and Excel was just too lazy to remove them later..."},{"owner":{"account_id":7826003,"reputation":734,"user_id":5917497,"accept_rate":62,"display_name":"SergioLeone"},"score":0,"creation_date":1504698199,"post_id":46049272,"comment_id":79109343,"body_markdown":"Yes, I can see that now. Thanks for the explanation @Gagravarr","body":"Yes, I can see that now. Thanks for the explanation @Gagravarr"}],"answers":[{"tags":[],"owner":{"account_id":7826003,"reputation":734,"user_id":5917497,"accept_rate":62,"display_name":"SergioLeone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504600311,"creation_date":1504600311,"answer_id":46050420,"question_id":46049272,"body_markdown":"For now I&#39;ve solved it like this:\r\n\r\n    Iterator&lt;Cell&gt; cells = row.cellIterator();\r\n                    while (cells.hasNext()) {\r\n                        if (formatCellToString(cells.next()).equals(&quot;&quot;)) {\r\n                            lastCellNumber = lastCellNumber - 1;\r\n                        }\r\n                    }\r\n\r\nWould be nice if anyone has any better solution.","title":"Apache POI. Using row.getLastCellNum() to retrieve number of non blank cells","body":"<p>For now I've solved it like this:</p>\n\n<pre><code>Iterator&lt;Cell&gt; cells = row.cellIterator();\n                while (cells.hasNext()) {\n                    if (formatCellToString(cells.next()).equals(\"\")) {\n                        lastCellNumber = lastCellNumber - 1;\n                    }\n                }\n</code></pre>\n\n<p>Would be nice if anyone has any better solution.</p>\n"}],"owner":{"account_id":7826003,"reputation":734,"user_id":5917497,"accept_rate":62,"display_name":"SergioLeone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1952,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654854197,"creation_date":1504596573,"question_id":46049272,"body_markdown":"I&#39;m trying to get non-blank number of cells in a row.\r\n\r\n    | 1  | 2  | 3 |  |  |  |\r\n    | 55 | 33 |   |  |  |  |\r\n\r\nwith `(int) row.getLastCellNum();`\r\n\r\nBut for both rows I&#39;m getting an int that is bigger than the number of cells that actually have values in my sheet. What could be the reason for this? Can cell formatting and/or styling be somehow responsible?\r\n\r\nI&#39;ve also noticed that if I delete values from excel sheet (manually, not from code), poi still considers them as non-blank(null?) and includes them in total count.\r\n\r\nUPD: after a bit more research I&#39;ve found that if I add value to a cell and then delete it, then POI still considers it non-empty. Is there any way to properly clear cell contents in excel sheet without deleting entire row/column?","title":"Apache POI. Using row.getLastCellNum() to retrieve number of non blank cells","body":"<p>I'm trying to get non-blank number of cells in a row.</p>\n\n<pre><code>| 1  | 2  | 3 |  |  |  |\n| 55 | 33 |   |  |  |  |\n</code></pre>\n\n<p>with <code>(int) row.getLastCellNum();</code></p>\n\n<p>But for both rows I'm getting an int that is bigger than the number of cells that actually have values in my sheet. What could be the reason for this? Can cell formatting and/or styling be somehow responsible?</p>\n\n<p>I've also noticed that if I delete values from excel sheet (manually, not from code), poi still considers them as non-blank(null?) and includes them in total count.</p>\n\n<p>UPD: after a bit more research I've found that if I add value to a cell and then delete it, then POI still considers it non-empty. Is there any way to properly clear cell contents in excel sheet without deleting entire row/column?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1654761169,"post_id":72556488,"comment_id":128170099,"body_markdown":"There is no need to write custom JWT support, since Spring Security supports this out of the box. You can see a sample provided by the team [here](https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login).","body":"There is no need to write custom JWT support, since Spring Security supports this out of the box. You can see a sample provided by the team <a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/jwt/login\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1654761203,"post_id":72556488,"comment_id":128170108,"body_markdown":"Could you show the line 201 in ProviderManager.java and 510 in WebSecurityConfigurerAdapter.java? Would be easier to see where the loop is.","body":"Could you show the line 201 in ProviderManager.java and 510 in WebSecurityConfigurerAdapter.java? Would be easier to see where the loop is."},{"owner":{"account_id":25191456,"reputation":1,"user_id":19031609,"display_name":"Abhinav Saxena"},"score":0,"creation_date":1654765281,"post_id":72556488,"comment_id":128171677,"body_markdown":"@EleftheriaStein-Kousathana Thank you for your time to reply, I&#39;ll check this out immediately. But since I&#39;ve already done most of the work here, would be nice to know where the problem persists","body":"@EleftheriaStein-Kousathana Thank you for your time to reply, I&#39;ll check this out immediately. But since I&#39;ve already done most of the work here, would be nice to know where the problem persists"},{"owner":{"account_id":25191456,"reputation":1,"user_id":19031609,"display_name":"Abhinav Saxena"},"score":0,"creation_date":1654765352,"post_id":72556488,"comment_id":128171703,"body_markdown":"@grekier thank you for your time to check this out, I&#39;ll edit the question and add the lines.","body":"@grekier thank you for your time to check this out, I&#39;ll edit the question and add the lines."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1654862693,"post_id":72556488,"comment_id":128199510,"body_markdown":"Basically you are calling the child (`this.delegate.authenticate`) which calls tis parent (`this.parent.authenticate`) and it goes in a loop. Hence Overflow. I can&#39;t see the fix right away on where the auth is wrong but you cannot have both call the other.","body":"Basically you are calling the child (<code>this.delegate.authenticate</code>) which calls tis parent (<code>this.parent.authenticate</code>) and it goes in a loop. Hence Overflow. I can&#39;t see the fix right away on where the auth is wrong but you cannot have both call the other."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670192212,"post_id":72556488,"comment_id":131812849,"body_markdown":"@grekier\nI think I have the similar issue in my spring boot microservice example. As I still couldn&#39;t fix the issue, it is possible to help me? Here is the link : https://stackoverflow.com/questions/74633891/spring-boot-microservices-servicetest-and-controllertest-for-junit-throwing-ja","body":"@grekier I think I have the similar issue in my spring boot microservice example. As I still couldn&#39;t fix the issue, it is possible to help me? Here is the link : <a href=\"https://stackoverflow.com/questions/74633891/spring-boot-microservices-servicetest-and-controllertest-for-junit-throwing-ja\" title=\"spring boot microservices servicetest and controllertest for junit throwing ja\">stackoverflow.com/questions/74633891/&hellip;</a>"}],"owner":{"account_id":25191456,"reputation":1,"user_id":19031609,"display_name":"Abhinav Saxena"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654854146,"creation_date":1654760690,"question_id":72556488,"body_markdown":"I am trying to make a Spring boot project JWT authorisation. I am following Amigoscode Spring Boot and Spring Security with JWT including Access and Refresh Tokens.\r\n\r\nWhen I make a post request for http://localhost:8080/login from postman using the x-www-form-urlencoded, passing the username and password as key and their values.\r\n\r\nI get a long error. I tried debugging but no help.\r\n\r\nThe error I get in console is :\r\n\r\n    java.lang.StackOverflowError: null\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:172) ~[spring-security-core-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\r\n\r\nLine 201 of Provider Manager(Have commented the line number in the method) : \r\n\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\t\tClass&lt;? extends Authentication&gt; toTest = authentication.getClass();\r\n\t\tAuthenticationException lastException = null;\r\n\t\tAuthenticationException enter code hereparentException = null;\r\n\t\tAuthentication result = null;\r\n\t\tAuthentication parentResult = null;\r\n\t\tint currentPosition = 0;\r\n\t\tint size = this.providers.size();\r\n\t\tfor (AuthenticationProvider provider : getProviders()) {\r\n\t\t\tif (!provider.supports(toTest)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (logger.isTraceEnabled()) {\r\n\t\t\t\tlogger.trace(LogMessage.format(&quot;Authenticating request with %s (%d/%d)&quot;,\r\n\t\t\t\t\t\tprovider.getClass().getSimpleName(), ++currentPosition, size));\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tresult = provider.authenticate(authentication);\r\n\t\t\t\tif (result != null) {\r\n\t\t\t\t\tcopyDetails(authentication, result);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (AccountStatusException | InternalAuthenticationServiceException ex) {\r\n\t\t\t\tprepareException(ex, authentication);\r\n\t\t\t\t// SEC-546: Avoid polling additional providers if auth failure is due to\r\n\t\t\t\t// invalid account status\r\n\t\t\t\tthrow ex;\r\n\t\t\t}\r\n\t\t\tcatch (AuthenticationException ex) {\r\n\t\t\t\tlastException = ex;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (result == null &amp;&amp; this.parent != null) {\r\n\t\t\t// Allow the parent to try.\r\n\t\t\ttry {\r\n\t/*Line 201*/\t\t\tparentResult = this.parent.authenticate(authentication);\r\n\t\t\t\tresult = parentResult;\r\n\t\t\t}\r\n\t\t\tcatch (ProviderNotFoundException ex) {\r\n\t\t\t\t// ignore as we will throw below if no other exception occurred prior to\r\n\t\t\t\t// calling parent and the parent\r\n\t\t\t\t// may throw ProviderNotFound even though a provider in the child already\r\n\t\t\t\t// handled the request\r\n\t\t\t}\r\n\t\t\tcatch (AuthenticationException ex) {\r\n\t\t\t\tparentException = ex;\r\n\t\t\t\tlastException = ex;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (result != null) {\r\n\t\t\tif (this.eraseCredentialsAfterAuthentication &amp;&amp; (result instanceof CredentialsContainer)) {\r\n\t\t\t\t// Authentication is complete. Remove credentials and other secret data\r\n\t\t\t\t// from authentication\r\n\t\t\t\t((CredentialsContainer) result).eraseCredentials();\r\n\t\t\t}\r\n\t\t\t// If the parent AuthenticationManager was attempted and successful then it\r\n\t\t\t// will publish an AuthenticationSuccessEvent\r\n\t\t\t// This check prevents a duplicate AuthenticationSuccessEvent if the parent\r\n\t\t\t// AuthenticationManager already published it\r\n\t\t\tif (parentResult == null) {\r\n\t\t\t\tthis.eventPublisher.publishAuthenticationSuccess(result);\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\t// Parent was null, or didn&#39;t authenticate (or throw an exception).\r\n\t\tif (lastException == null) {\r\n\t\t\tlastException = new ProviderNotFoundException(this.messages.getMessage(&quot;ProviderManager.providerNotFound&quot;,\r\n\t\t\t\t\tnew Object[] { toTest.getName() }, &quot;No AuthenticationProvider found for {0}&quot;));\r\n\t\t}\r\n\t\t// If the parent AuthenticationManager was attempted and failed then it will\r\n\t\t// publish an AbstractAuthenticationFailureEvent\r\n\t\t// This check prevents a duplicate AbstractAuthenticationFailureEvent if the\r\n\t\t// parent AuthenticationManager already published it\r\n\t\tif (parentException == null) {\r\n\t\t\tprepareException(lastException, authentication);\r\n\t\t}\r\n\t\tthrow lastException;\r\n\t}\r\n\r\nLine 510 of WebSecurityConfigurer(Have commented the Line number in the method) :\r\n\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\t\t\tif (this.delegate != null) {\r\n\t/*Line 510*/\t\t\treturn this.delegate.authenticate(authentication);\r\n\t\t\t}\r\n\t\t\tsynchronized (this.delegateMonitor) {\r\n\t\t\t\tif (this.delegate == null) {\r\n\t\t\t\t\tthis.delegate = this.delegateBuilder.getObject();\r\n\t\t\t\t\tthis.delegateBuilder = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.delegate.authenticate(authentication);\r\n\t\t}\r\n\r\n\r\nMy Web Security Configuration :\r\n\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter{\r\n\t\r\n\tprivate final UserDetailsService userDetailsService;\r\n\t\r\n\tprivate final BCryptPasswordEncoder passwordEncoder;\r\n\t\r\n\tpublic WebSecurityConfig(UserDetailsService userDetailsService, BCryptPasswordEncoder passwordEncoder) {\r\n\t\tthis.userDetailsService = userDetailsService;\r\n\t\tthis.passwordEncoder = passwordEncoder;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable();\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\thttp.authorizeRequests().anyRequest().permitAll();\r\n\t\thttp.addFilter(new CustomAuthenticationFilter(authenticationManager()));\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder);\r\n\t}\r\n\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManager() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\t\r\n    }\r\n\r\nThe Custom Authentication Filter class is :\r\n\r\n    public class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n\tprivate final AuthenticationManager authenticationManager;\r\n\t\r\n\tpublic CustomAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n\t\tthis.authenticationManager = authenticationManager;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows AuthenticationException {\r\n\t\t\r\n\t\tString username = request.getParameter(&quot;username&quot;);\r\n\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\tUsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\r\n\t\treturn authenticationManager.authenticate(authenticationToken);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n\t\t\tAuthentication authentication) throws IOException, ServletException {\r\n\t\tUser user = (User)authentication.getPrincipal();  // getPRincipal will return us the user that is successfully authenticated.\r\n\t\tAlgorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n\t    String access_token = JWT.create()\r\n\t    \t\t.withSubject(user.getUsername())\r\n\t    \t\t.withExpiresAt(new Date(System.currentTimeMillis() + 10*60*1000))\r\n\t    \t\t.withIssuer(request.getRequestURI().toString())\r\n\t    \t\t.withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n\t    \t\t.sign(algorithm);\r\n\t    \r\n\t    String refresh_token = JWT.create()\r\n\t    \t\t.withSubject(user.getUsername())\r\n\t    \t\t.withExpiresAt(new Date(System.currentTimeMillis() + 30 * 60 * 1000))\r\n\t    \t\t.withIssuer(request.getRequestURI().toString())\r\n\t    \t\t.sign(algorithm);\r\n\t    \r\n\t    response.setHeader(&quot;access_token&quot;, access_token);\r\n\t    response.setHeader(&quot;refresh_token&quot;, refresh_token);\r\n\t}\r\n\t\r\n    }\r\n\r\nWhat can I try next?\r\n","title":"java.lang.StackOverflowError: null when sending post request for /login, Spring boot Security","body":"<p>I am trying to make a Spring boot project JWT authorisation. I am following Amigoscode Spring Boot and Spring Security with JWT including Access and Refresh Tokens.</p>\n<p>When I make a post request for http://localhost:8080/login from postman using the x-www-form-urlencoded, passing the username and password as key and their values.</p>\n<p>I get a long error. I tried debugging but no help.</p>\n<p>The error I get in console is :</p>\n<pre><code>java.lang.StackOverflowError: null\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:172) ~[spring-security-core-5.6.3.jar:5.6.3]\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.3.jar:5.6.3]\nat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.3.jar:5.6.3]\n</code></pre>\n<p>Line 201 of Provider Manager(Have commented the line number in the method) :</p>\n<pre><code>public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n    Class&lt;? extends Authentication&gt; toTest = authentication.getClass();\n    AuthenticationException lastException = null;\n    AuthenticationException enter code hereparentException = null;\n    Authentication result = null;\n    Authentication parentResult = null;\n    int currentPosition = 0;\n    int size = this.providers.size();\n    for (AuthenticationProvider provider : getProviders()) {\n        if (!provider.supports(toTest)) {\n            continue;\n        }\n        if (logger.isTraceEnabled()) {\n            logger.trace(LogMessage.format(&quot;Authenticating request with %s (%d/%d)&quot;,\n                    provider.getClass().getSimpleName(), ++currentPosition, size));\n        }\n        try {\n            result = provider.authenticate(authentication);\n            if (result != null) {\n                copyDetails(authentication, result);\n                break;\n            }\n        }\n        catch (AccountStatusException | InternalAuthenticationServiceException ex) {\n            prepareException(ex, authentication);\n            // SEC-546: Avoid polling additional providers if auth failure is due to\n            // invalid account status\n            throw ex;\n        }\n        catch (AuthenticationException ex) {\n            lastException = ex;\n        }\n    }\n    if (result == null &amp;&amp; this.parent != null) {\n        // Allow the parent to try.\n        try {\n/*Line 201*/            parentResult = this.parent.authenticate(authentication);\n            result = parentResult;\n        }\n        catch (ProviderNotFoundException ex) {\n            // ignore as we will throw below if no other exception occurred prior to\n            // calling parent and the parent\n            // may throw ProviderNotFound even though a provider in the child already\n            // handled the request\n        }\n        catch (AuthenticationException ex) {\n            parentException = ex;\n            lastException = ex;\n        }\n    }\n    if (result != null) {\n        if (this.eraseCredentialsAfterAuthentication &amp;&amp; (result instanceof CredentialsContainer)) {\n            // Authentication is complete. Remove credentials and other secret data\n            // from authentication\n            ((CredentialsContainer) result).eraseCredentials();\n        }\n        // If the parent AuthenticationManager was attempted and successful then it\n        // will publish an AuthenticationSuccessEvent\n        // This check prevents a duplicate AuthenticationSuccessEvent if the parent\n        // AuthenticationManager already published it\n        if (parentResult == null) {\n            this.eventPublisher.publishAuthenticationSuccess(result);\n        }\n\n        return result;\n    }\n\n    // Parent was null, or didn't authenticate (or throw an exception).\n    if (lastException == null) {\n        lastException = new ProviderNotFoundException(this.messages.getMessage(&quot;ProviderManager.providerNotFound&quot;,\n                new Object[] { toTest.getName() }, &quot;No AuthenticationProvider found for {0}&quot;));\n    }\n    // If the parent AuthenticationManager was attempted and failed then it will\n    // publish an AbstractAuthenticationFailureEvent\n    // This check prevents a duplicate AbstractAuthenticationFailureEvent if the\n    // parent AuthenticationManager already published it\n    if (parentException == null) {\n        prepareException(lastException, authentication);\n    }\n    throw lastException;\n}\n</code></pre>\n<p>Line 510 of WebSecurityConfigurer(Have commented the Line number in the method) :</p>\n<pre><code>public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        if (this.delegate != null) {\n/*Line 510*/            return this.delegate.authenticate(authentication);\n        }\n        synchronized (this.delegateMonitor) {\n            if (this.delegate == null) {\n                this.delegate = this.delegateBuilder.getObject();\n                this.delegateBuilder = null;\n            }\n        }\n        return this.delegate.authenticate(authentication);\n    }\n</code></pre>\n<p>My Web Security Configuration :</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter{\n\nprivate final UserDetailsService userDetailsService;\n\nprivate final BCryptPasswordEncoder passwordEncoder;\n\npublic WebSecurityConfig(UserDetailsService userDetailsService, BCryptPasswordEncoder passwordEncoder) {\n    this.userDetailsService = userDetailsService;\n    this.passwordEncoder = passwordEncoder;\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable();\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    http.authorizeRequests().anyRequest().permitAll();\n    http.addFilter(new CustomAuthenticationFilter(authenticationManager()));\n}\n\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder);\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManager() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n}\n</code></pre>\n<p>The Custom Authentication Filter class is :</p>\n<pre><code>public class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\nprivate final AuthenticationManager authenticationManager;\n\npublic CustomAuthenticationFilter(AuthenticationManager authenticationManager) {\n    this.authenticationManager = authenticationManager;\n}\n\n@Override\npublic Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n        throws AuthenticationException {\n    \n    String username = request.getParameter(&quot;username&quot;);\n    String password = request.getParameter(&quot;password&quot;);\n    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\n    return authenticationManager.authenticate(authenticationToken);\n}\n\n@Override\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n        Authentication authentication) throws IOException, ServletException {\n    User user = (User)authentication.getPrincipal();  // getPRincipal will return us the user that is successfully authenticated.\n    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n    String access_token = JWT.create()\n            .withSubject(user.getUsername())\n            .withExpiresAt(new Date(System.currentTimeMillis() + 10*60*1000))\n            .withIssuer(request.getRequestURI().toString())\n            .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n            .sign(algorithm);\n    \n    String refresh_token = JWT.create()\n            .withSubject(user.getUsername())\n            .withExpiresAt(new Date(System.currentTimeMillis() + 30 * 60 * 1000))\n            .withIssuer(request.getRequestURI().toString())\n            .sign(algorithm);\n    \n    response.setHeader(&quot;access_token&quot;, access_token);\n    response.setHeader(&quot;refresh_token&quot;, refresh_token);\n}\n\n}\n</code></pre>\n<p>What can I try next?</p>\n"},{"tags":["java","typesafe","hocon"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654854260,"post_id":72572070,"comment_id":128196573,"body_markdown":"You need to use a JSON api. That&#39;s JSON","body":"You need to use a JSON api. That&#39;s JSON"},{"owner":{"account_id":6910335,"reputation":94,"user_id":5306495,"display_name":"Rajmani Arya"},"score":0,"creation_date":1654854648,"post_id":72572070,"comment_id":128196693,"body_markdown":"it&#39;s not a valid hocon input","body":"it&#39;s not a valid hocon input"}],"owner":{"account_id":3467891,"reputation":13,"user_id":9119163,"display_name":"beginner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654854014,"creation_date":1654853536,"question_id":72572070,"body_markdown":"I have a HOCON config file, something like\r\n\r\n    \r\n\r\n        foo {\r\n              [\r\n               id: 1\r\n               f: abc\r\n              ],\r\n              [\r\n               id: 2\r\n               f: [xyz , pqr]\r\n              ]\r\n            }\r\n\r\nAt the backend, I want the field f as a Java list. So wherever the field f is a string, I should be able to convert it to a List. config.resolve() doesn&#39;t seem to work here and I need a custom wrapper on top it which I&#39;m unable to think of. Is there any way by which this could be achieved ?","title":"Way to resolve both string and list as a Java list in Typesafe config","body":"<p>I have a HOCON config file, something like</p>\n<pre><code>    foo {\n          [\n           id: 1\n           f: abc\n          ],\n          [\n           id: 2\n           f: [xyz , pqr]\n          ]\n        }\n</code></pre>\n<p>At the backend, I want the field f as a Java list. So wherever the field f is a string, I should be able to convert it to a List. config.resolve() doesn't seem to work here and I need a custom wrapper on top it which I'm unable to think of. Is there any way by which this could be achieved ?</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":1751417,"reputation":3262,"user_id":1600422,"display_name":"Matthew Warman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654853839,"creation_date":1654853839,"answer_id":72572136,"question_id":71703641,"body_markdown":"The payload needs to be converted using `JsonUtils.jsonToObject` if you are passing in a `String`:\r\n\r\n\r\n```java\r\nObject transformedOutput = chainr.transform(JsonUtils.jsonToObject(payload));\r\n```","title":"Chainr.transform giving Null as transformedObject","body":"<p>The payload needs to be converted using <code>JsonUtils.jsonToObject</code> if you are passing in a <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object transformedOutput = chainr.transform(JsonUtils.jsonToObject(payload));\n</code></pre>\n"}],"owner":{"account_id":24564600,"reputation":11,"user_id":18471909,"display_name":"RandomDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654853839,"creation_date":1648800067,"question_id":71703641,"body_markdown":"I&#39;m working on a requirement to convert JSONObject from one to another with the help of Jolt.\r\n\r\nThe source input i&#39;m passing as :\r\n\r\n```\r\n{\r\n  &quot;a&quot;:&quot;ABC&quot;,\r\n  &quot;b&quot;:&quot;ABC1&quot;,\r\n  &quot;c&quot;:1,\r\n  &quot;d&quot;:2,\r\n  &quot;e&quot;:&quot;ABC2&quot;,\r\n  &quot;details&quot;:\r\n  {\r\n    &quot;a1&quot;: &quot;ABC3&quot;,\r\n    &quot;b1&quot;: &quot;ABC4&quot;,\r\n    &quot;c1&quot;: 3,\r\n    &quot;d1&quot;: &quot;ABC5&quot;,\r\n    &quot;e1&quot;: &quot;ABC6&quot;,\r\n    &quot;f1&quot;: &quot;ABC7&quot;\r\n}\r\n}\r\n```\r\n\r\nI need in form of\r\n\r\n```\r\n{\r\n  &quot;ConvertedOutput&quot; : {\r\n    &quot;X1&quot; : &quot;ABC1&quot;,\r\n    &quot;Y1&quot; : &quot;ABC4&quot;\r\n  }\r\n}\r\n```\r\n\r\nSpec i used :\r\n\r\n```\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;b&quot;: &quot;ConvertedOutput.X1&quot;,\r\n      &quot;details&quot;: {\r\n        &quot;b1&quot;: &quot;ConvertedOutput.Y1&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n\r\n```\r\n\r\nI&#39;m able to get the proper output from  : https://jolt-demo.appspot.com/#inception. But when i use same spec via code Chainr.transform returning null.\r\n\r\nCode part\r\n\r\n```\r\nList&lt;Object&gt; transformJsonSpec = JsonUtils.classpathToList(&quot;inputSpecJSONPath&quot;);\r\nfinal Chainr chainr = Chainr.fromSpec(transformJsonSpec);\r\nObject transformedOutput = chainr.transform(payload);\r\nSystem.out.println(&quot;transformSpec  Str &quot; + transformJsonSpec.toString());\r\nSystem.out.println(&quot;transformSpec &quot; + transformJsonSpec);\r\nSystem.out.println(&quot;transformedOutput &quot; + transformedOutput);\r\nSystem.out.println(&quot; jolt transform &quot; + JsonUtils.toJsonString(transformedOutput));\r\n```","title":"Chainr.transform giving Null as transformedObject","body":"<p>I'm working on a requirement to convert JSONObject from one to another with the help of Jolt.</p>\n<p>The source input i'm passing as :</p>\n<pre><code>{\n  &quot;a&quot;:&quot;ABC&quot;,\n  &quot;b&quot;:&quot;ABC1&quot;,\n  &quot;c&quot;:1,\n  &quot;d&quot;:2,\n  &quot;e&quot;:&quot;ABC2&quot;,\n  &quot;details&quot;:\n  {\n    &quot;a1&quot;: &quot;ABC3&quot;,\n    &quot;b1&quot;: &quot;ABC4&quot;,\n    &quot;c1&quot;: 3,\n    &quot;d1&quot;: &quot;ABC5&quot;,\n    &quot;e1&quot;: &quot;ABC6&quot;,\n    &quot;f1&quot;: &quot;ABC7&quot;\n}\n}\n</code></pre>\n<p>I need in form of</p>\n<pre><code>{\n  &quot;ConvertedOutput&quot; : {\n    &quot;X1&quot; : &quot;ABC1&quot;,\n    &quot;Y1&quot; : &quot;ABC4&quot;\n  }\n}\n</code></pre>\n<p>Spec i used :</p>\n<pre><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;b&quot;: &quot;ConvertedOutput.X1&quot;,\n      &quot;details&quot;: {\n        &quot;b1&quot;: &quot;ConvertedOutput.Y1&quot;\n      }\n    }\n  }\n]\n\n</code></pre>\n<p>I'm able to get the proper output from  : <a href=\"https://jolt-demo.appspot.com/#inception\" rel=\"nofollow noreferrer\">https://jolt-demo.appspot.com/#inception</a>. But when i use same spec via code Chainr.transform returning null.</p>\n<p>Code part</p>\n<pre><code>List&lt;Object&gt; transformJsonSpec = JsonUtils.classpathToList(&quot;inputSpecJSONPath&quot;);\nfinal Chainr chainr = Chainr.fromSpec(transformJsonSpec);\nObject transformedOutput = chainr.transform(payload);\nSystem.out.println(&quot;transformSpec  Str &quot; + transformJsonSpec.toString());\nSystem.out.println(&quot;transformSpec &quot; + transformJsonSpec);\nSystem.out.println(&quot;transformedOutput &quot; + transformedOutput);\nSystem.out.println(&quot; jolt transform &quot; + JsonUtils.toJsonString(transformedOutput));\n</code></pre>\n"},{"tags":["java","maven","spring-boot","junit5"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1541624790,"post_id":53179735,"comment_id":93284195,"body_markdown":"Where is test file in project structure?","body":"Where is test file in project structure?"},{"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"score":0,"creation_date":1541686812,"post_id":53179735,"comment_id":93307155,"body_markdown":"Under /src/test/java/package.name.long... `java` is what is marked as test sources","body":"Under /src/test/java/package.name.long... <code>java</code> is what is marked as test sources"}],"answers":[{"tags":[],"owner":{"account_id":6325956,"reputation":324,"user_id":4912431,"display_name":"DaviM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541677916,"creation_date":1541624599,"answer_id":53197777,"question_id":53179735,"body_markdown":"Since you&#39;re using Intellij. Did you mark your `java test folder` as `Test Sources Root`?\r\n\r\nExample:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/plyLE.png","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>Since you're using Intellij. Did you mark your <code>java test folder</code> as <code>Test Sources Root</code>?</p>\n\n<p>Example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/plyLE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/plyLE.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":182446,"reputation":820,"user_id":417161,"display_name":"Michael Legart"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541684010,"creation_date":1541684010,"answer_id":53208817,"question_id":53179735,"body_markdown":"I&#39;m pretty sure this is because Spring Boot 2 is not using the required Maven Surefire plugin version for JUnit 5. Try with:\r\n\r\n       &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;2.22.1&lt;/version&gt;\r\n       &lt;/plugin&gt;\r\n\r\nJUnit5 support was added in 2.22.0, see https://issues.apache.org/jira/browse/SUREFIRE-1330","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>I'm pretty sure this is because Spring Boot 2 is not using the required Maven Surefire plugin version for JUnit 5. Try with:</p>\n\n<pre><code>   &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.22.1&lt;/version&gt;\n   &lt;/plugin&gt;\n</code></pre>\n\n<p>JUnit5 support was added in 2.22.0, see <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1330\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/SUREFIRE-1330</a></p>\n"},{"tags":[],"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1541778540,"creation_date":1541686902,"answer_id":53209673,"question_id":53179735,"body_markdown":"So, what works for Junit 5 with Spring Boot 2 is the following 3 TOGETHER:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nTested and verified with empty project.\r\n\r\nPlease note that @[Michael Legart&#39;s][1] answer suggesting to add \r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.22.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIs needed for maven test (and Jenkins) to detect and execute the tests!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53208817/373091","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>So, what works for Junit 5 with Spring Boot 2 is the following 3 TOGETHER:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Tested and verified with empty project.</p>\n\n<p>Please note that @<a href=\"https://stackoverflow.com/a/53208817/373091\">Michael Legart's</a> answer suggesting to add </p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.22.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Is needed for maven test (and Jenkins) to detect and execute the tests!</p>\n"},{"tags":[],"owner":{"account_id":3796499,"reputation":5874,"user_id":3151415,"accept_rate":65,"display_name":"garg10may"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1585985993,"creation_date":1585500422,"answer_id":60917562,"question_id":53179735,"body_markdown":"What worked for me.\r\n\r\nDon&#39;t use the version yourself add `junit-bom` \r\n\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;5.6.1&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAlso with `maven-surefire-plugin` don&#39;t add the version\r\n\r\n\t\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>What worked for me.</p>\n\n<p>Don't use the version yourself add <code>junit-bom</code> </p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.6.1&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Also with <code>maven-surefire-plugin</code> don't add the version</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":359113,"reputation":29,"user_id":700308,"display_name":"ozinal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592229454,"creation_date":1592229454,"answer_id":62389748,"question_id":53179735,"body_markdown":"Go to: File -&gt; Project Settings -&gt; Modules and add the below dependency.\r\n\r\n[![add dependency][1]][1]\r\n\r\nadd &#39;**com.github.database-rider:rider-junit5:1.2.5**&#39;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n&#39;**com.github.database-rider:rider-junit5:1.2.5**&#39; will make tests find and run.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3UH6X.png\r\n  [2]: https://i.stack.imgur.com/ky2Gp.png","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>Go to: File -> Project Settings -> Modules and add the below dependency.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3UH6X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3UH6X.png\" alt=\"add dependency\"></a></p>\n\n<p>add '<strong>com.github.database-rider:rider-junit5:1.2.5</strong>'</p>\n\n<p><a href=\"https://i.stack.imgur.com/ky2Gp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ky2Gp.png\" alt=\"enter image description here\"></a></p>\n\n<p>'<strong>com.github.database-rider:rider-junit5:1.2.5</strong>' will make tests find and run.</p>\n"},{"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1604412271,"creation_date":1604412271,"answer_id":64664373,"question_id":53179735,"body_markdown":"In my case, I had a `private` test method - it should be `public`.","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>In my case, I had a <code>private</code> test method - it should be <code>public</code>.</p>\n"},{"tags":[],"owner":{"account_id":10046399,"reputation":69,"user_id":7427633,"display_name":"Pavan Ulichi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1614779088,"creation_date":1614779088,"answer_id":66458323,"question_id":53179735,"body_markdown":"Using IntelliJ, I had to delete the target folder and run tests to get rid of this error","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>Using IntelliJ, I had to delete the target folder and run tests to get rid of this error</p>\n"},{"tags":[],"owner":{"account_id":3915,"reputation":863,"user_id":5739,"accept_rate":100,"display_name":"Robse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618251292,"creation_date":1618251292,"answer_id":67063595,"question_id":53179735,"body_markdown":"I know this is an old question but maybe it helps someone. \r\nI got the error message because I copy-pasted a method from a scratch file where the method was declared `static`.","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>I know this is an old question but maybe it helps someone.\nI got the error message because I copy-pasted a method from a scratch file where the method was declared <code>static</code>.</p>\n"},{"tags":[],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628222450,"creation_date":1628222450,"answer_id":68675975,"question_id":53179735,"body_markdown":"If you write your tests in interfaces or abstract classes, _e.g._\r\n\r\n    public interface FooTests() {\r\n\r\n      @Test\r\n      default void fooTest() {\r\n        ...\r\n      }\r\n    }\r\n\r\nwhich then get implemented by a &quot;real&quot; tester class,\r\n\r\n    public class Tester() implements FooTests, BarTests {\r\n      ...\r\n    }\r\n\r\nthen what might be happening is that you ran one of those tests for the first time by itself, causing IntelliJ to remember its run configuration thereafter as `FooTests::fooTest` when really it needs to be `Tester::fooTest`. You can override this by modifying the test&#39;s run configuration, _e.g._\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou want to replace the _Method:_ class with your non-interface, non-abstract test runner class.\r\n\r\n  [1]: https://i.stack.imgur.com/BVgcN.png","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>If you write your tests in interfaces or abstract classes, <em>e.g.</em></p>\n<pre><code>public interface FooTests() {\n\n  @Test\n  default void fooTest() {\n    ...\n  }\n}\n</code></pre>\n<p>which then get implemented by a &quot;real&quot; tester class,</p>\n<pre><code>public class Tester() implements FooTests, BarTests {\n  ...\n}\n</code></pre>\n<p>then what might be happening is that you ran one of those tests for the first time by itself, causing IntelliJ to remember its run configuration thereafter as <code>FooTests::fooTest</code> when really it needs to be <code>Tester::fooTest</code>. You can override this by modifying the test's run configuration, <em>e.g.</em></p>\n<p><a href=\"https://i.stack.imgur.com/BVgcN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVgcN.png\" alt=\"enter image description here\" /></a></p>\n<p>You want to replace the <em>Method:</em> class with your non-interface, non-abstract test runner class.</p>\n"},{"tags":[],"owner":{"account_id":6482088,"reputation":3182,"user_id":5018771,"accept_rate":88,"display_name":"AdrienW"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1654853729,"creation_date":1654853729,"answer_id":72572107,"question_id":53179735,"body_markdown":"Adding mine to the list of &quot;dumb&quot; mistakes: I imported the wrong `@Test` annotation. Junit5 will only consider methods annotated with `org.junit.jupiter.api.Test` and not `org.junit.Test`.","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>Adding mine to the list of &quot;dumb&quot; mistakes: I imported the wrong <code>@Test</code> annotation. Junit5 will only consider methods annotated with <code>org.junit.jupiter.api.Test</code> and not <code>org.junit.Test</code>.</p>\n"}],"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40554,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":53209673,"answer_count":10,"score":20,"last_activity_date":1654853729,"creation_date":1541536976,"question_id":53179735,"body_markdown":"so we got the message \r\n\r\n    Process finished with exit code 0\r\n    Empty test suite.\r\nWhen trying to run Junit5 testscases on our multi module project, so for testing the sources of the issue, I decided to try a new project from scratch (I am using IntelliJ IDEA 2018.2.4).\r\n\r\nI am getting the same issue with the following simple project POM file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.org.bu.dep.app&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nI tried with/without the junit-vintage-engine same results.\r\n\r\nFollows is the test class:\r\n\r\n    package com.org.bu.dep.app.demo;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    @SpringBootTest\r\n    public class DemoApplicationTests {\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \t\tAssertions.assertTrue(true);\r\n    \t}\r\n    \r\n    }\r\n\r\nOn the Run window, it says `No tests were found`.\r\n\r\nI tried many variations such as with/without `@SpringBootTest` annotation, I tried `@ExtendWith(SpringExtension.class)` as well to no avail.\r\n\r\nI already googled and most results/SackOverflow answers seem to be from 2016/2017 focused on older versions of IntelliJ which had issues with Junit 5, which do not seem to be related.\r\n\r\nPlease, any advice?\r\nIf we spend too much time on it will be forced to revert to 4, and I very much do not wish to do that :)","title":"No tests were found - Empty test suite when running jUnit 5 testcase on bare-bone Spring Boot Maven project","body":"<p>so we got the message </p>\n\n<pre><code>Process finished with exit code 0\nEmpty test suite.\n</code></pre>\n\n<p>When trying to run Junit5 testscases on our multi module project, so for testing the sources of the issue, I decided to try a new project from scratch (I am using IntelliJ IDEA 2018.2.4).</p>\n\n<p>I am getting the same issue with the following simple project POM file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.org.bu.dep.app&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I tried with/without the junit-vintage-engine same results.</p>\n\n<p>Follows is the test class:</p>\n\n<pre><code>package com.org.bu.dep.app.demo;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\npublic class DemoApplicationTests {\n\n    @Test\n    public void contextLoads() {\n        Assertions.assertTrue(true);\n    }\n\n}\n</code></pre>\n\n<p>On the Run window, it says <code>No tests were found</code>.</p>\n\n<p>I tried many variations such as with/without <code>@SpringBootTest</code> annotation, I tried <code>@ExtendWith(SpringExtension.class)</code> as well to no avail.</p>\n\n<p>I already googled and most results/SackOverflow answers seem to be from 2016/2017 focused on older versions of IntelliJ which had issues with Junit 5, which do not seem to be related.</p>\n\n<p>Please, any advice?\nIf we spend too much time on it will be forced to revert to 4, and I very much do not wish to do that :)</p>\n"},{"tags":["java","try-catch","saml-2.0","opensaml"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":1,"creation_date":1654852468,"post_id":72571835,"comment_id":128195928,"body_markdown":"I can&#39;t find in your SourceCode any single line of code logging such a message like &quot;Verificando firma&quot;....&quot;adquiriendo firma&quot;....  &#175;\\_(ツ)_/&#175;","body":"I can&#39;t find in your SourceCode any single line of code logging such a message like &quot;Verificando firma&quot;....&quot;adquiriendo firma&quot;....  &#175;_(ツ)_/&#175;"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1654852611,"post_id":72571835,"comment_id":128195981,"body_markdown":"`catch(Exception e){}` &lt;-- that is an empty catch block you have there. obviously nothing can be executed there. And most probably this line throw the error: `new File(getClass().getClassLoader().getResource(&quot;IDPMetadata.xml&quot;).toURI());` I guess that the file does not exist where you think it is","body":"<code>catch(Exception e){}</code> &lt;-- that is an empty catch block you have there. obviously nothing can be executed there. And most probably this line throw the error: <code>new File(getClass().getClassLoader().getResource(&quot;IDPMetadata.xm&zwnj;&#8203;l&quot;).toURI());</code> I guess that the file does not exist where you think it is"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":2,"creation_date":1654852730,"post_id":72571835,"comment_id":128196035,"body_markdown":"You&#39;re getting an exception. Why don&#39;t you log the exception?","body":"You&#39;re getting an exception. Why don&#39;t you log the exception?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1654852783,"post_id":72571835,"comment_id":128196050,"body_markdown":"Imagine what happens if the line `File metadataFile = ...` throws an Exception. Exactly: nothing. Because you ignore the Exception.","body":"Imagine what happens if the line <code>File metadataFile = ...</code> throws an Exception. Exactly: nothing. Because you ignore the Exception."},{"owner":{"account_id":17110199,"reputation":3,"user_id":14107901,"display_name":"Eduardo"},"score":0,"creation_date":1654855084,"post_id":72571835,"comment_id":128196860,"body_markdown":"@ΦXocę웃Пepe&#250;paツ This is because this trace come from another class. The consumer class. The key is the jump in the log between &quot;Reciviendo metadatos&quot; and &quot;metadatos resueltos&quot;","body":"@ΦXocę웃Пepe&#250;paツ This is because this trace come from another class. The consumer class. The key is the jump in the log between &quot;Reciviendo metadatos&quot; and &quot;metadatos resueltos&quot;"},{"owner":{"account_id":17110199,"reputation":3,"user_id":14107901,"display_name":"Eduardo"},"score":0,"creation_date":1654855265,"post_id":72571835,"comment_id":128196940,"body_markdown":"Ok thnk u all. So easy!! The answer is im retard! If i dont catch the exception, and i have an exception, i cant know it. Thnk u all","body":"Ok thnk u all. So easy!! The answer is im retard! If i dont catch the exception, and i have an exception, i cant know it. Thnk u all"}],"answers":[{"tags":[],"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654853563,"creation_date":1654852878,"answer_id":72571946,"question_id":72571835,"body_markdown":"Are you sure the code matches the deployed version of your code?\r\nIf you can, launch the application locally and set a debug breakpoint in your IDE. I would also recommend to log in the catch block. I assume the culprit is the first line in the try body that throws an exception and the catch block silently captures it.\r\n\r\n            try {\r\n            File metadataFile = new File(getClass().getClassLoader().getResource(&quot;IDPMetadata.xml&quot;).toURI());\r\n        }catch(Exception e){\r\n            // log the exception\r\n        }\r\nSince the log statement after that line is not present but the log statement after the try block is, it is evident that the File access fails.","title":"Try catch block doesn&#39;t run","body":"<p>Are you sure the code matches the deployed version of your code?\nIf you can, launch the application locally and set a debug breakpoint in your IDE. I would also recommend to log in the catch block. I assume the culprit is the first line in the try body that throws an exception and the catch block silently captures it.</p>\n<pre><code>        try {\n        File metadataFile = new File(getClass().getClassLoader().getResource(&quot;IDPMetadata.xml&quot;).toURI());\n    }catch(Exception e){\n        // log the exception\n    }\n</code></pre>\n<p>Since the log statement after that line is not present but the log statement after the try block is, it is evident that the File access fails.</p>\n"}],"owner":{"account_id":17110199,"reputation":3,"user_id":14107901,"display_name":"Eduardo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72571946,"answer_count":1,"score":-3,"last_activity_date":1654853563,"creation_date":1654852313,"question_id":72571835,"body_markdown":"Leaving aside the errors in the code that may exist, it is normal, I am a newbie with saml security. I have a problem with a &quot;try/catch&quot; block that doesn&#39;t seem to be executed, at least I don&#39;t see a trace in the log. \r\nThis is my code:\r\n```public Credential getCredentialsFromIDP() {\r\n        Credential credential = null;\r\n        final MetadataCredentialResolver metadataCredentialResolver = new MetadataCredentialResolver();\r\n        logger.info(&quot;Creando key resolver&quot;);\r\n        final KeyInfoCredentialResolver keyResolver = DefaultSecurityConfigurationBootstrap.buildBasicInlineKeyInfoCredentialResolver();\r\n        RoleDescriptorResolver roleDescriptorResolver = null;\r\n        logger.info(&quot;Reciviendo metadatos&quot;);\r\n        \r\n//This try is not working\r\n        try {\r\n            File metadataFile = new File(getClass().getClassLoader().getResource(&quot;IDPMetadata.xml&quot;).toURI());\r\n            logger.info(&quot;Metadata recividos&quot;);\r\n            final FilesystemMetadataResolver metadataResolver = new FilesystemMetadataResolver(metadataFile);\r\n            roleDescriptorResolver = new BasicRoleDescriptorResolver(metadataResolver);\r\n            logger.info(&quot;Metadata resolver creado&quot;);\r\n            metadataResolver.setId(metadataResolver.getClass().getCanonicalName());\r\n            logger.info(&quot;Asignada la id&quot;);\r\n            metadataResolver.setParserPool(OpenSAMLUtils.getParserPool());\r\n            logger.info(&quot;Parse Pool asignado&quot;);\r\n            metadataResolver.initialize();\r\n        }catch(Exception e){\r\n\r\n        }\r\n        logger.info(&quot;metadata resueltos&quot;);\r\n        metadataCredentialResolver.setKeyInfoCredentialResolver(keyResolver);\r\n        metadataCredentialResolver.setRoleDescriptorResolver(roleDescriptorResolver);\r\n        try {\r\n            metadataCredentialResolver.initialize();\r\n        }catch(ComponentInitializationException e){\r\n            logger.info(e.getMessage());\r\n        }\r\n        logger.info(&quot;Credenciales adquiridas&quot;);\r\n        CriteriaSet criteriaSet = new CriteriaSet();\r\n        criteriaSet.add(new UsageCriterion(UsageType.SIGNING));\r\n        criteriaSet.add(new EntityRoleCriterion(SPSSODescriptor.DEFAULT_ELEMENT_NAME));\r\n        criteriaSet.add(new ProtocolCriterion(SAMLConstants.SAML20P_NS));\r\n        criteriaSet.add(new EntityIdCriterion(SPConstants.SP_ENTITY_ID));\r\n        logger.info(&quot;Generando credenciales&quot;);\r\n        try {\r\n            credential = metadataCredentialResolver.resolveSingle(criteriaSet);\r\n        }catch(ResolverException e){\r\n            logger.info(e.getMessage());\r\n        }\r\n        logger.info(&quot;Credenciales creadas&quot;);\r\n        return credential;\r\n    }\r\n```\r\n\r\nAnd this is my log:\r\n\r\n    10:57:58,689 INFO  [es.caib.accfor.api.SAML.SAMLConsumer] (default task-1) Verificando firma\r\n    10:57:58,690 INFO  [es.caib.accfor.api.SAML.SAMLConsumer] (default task-1) adquiriendo firma\r\n    10:57:58,693 INFO  [es.caib.accfor.api.SAML.SAMLConsumer] (default task-1) org.opensaml.xmlsec.signature.impl.SignatureImpl@4cdd2a52\r\n    10:57:58,695 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Creando key resolver\r\n    10:57:58,697 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Reciviendo metadatos\r\n    10:57:58,698 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) metadata resueltos\r\n    10:57:58,698 INFO  [org.opensaml.saml.security.impl.MetadataCredentialResolver] (default task-1) RoleDescriptorResolver was not supplied, credentials may only be resolved via RoleDescriptorCriterion\r\n    10:57:58,698 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Credenciales adquiridas\r\n    10:57:58,700 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Generando credenciales\r\n    10:57:58,700 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) EntityID and role input were supplied but no RoleDescriptorResolver is configured\r\n    10:57:58,700 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Credenciales creadas\r\n    10:57:58,702 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ucm/accfor-api/receiverPage: net.shibboleth.utilities.java.support.logic.ConstraintViolationException: Validation credential cannot be null\r\n\r\nThe question is why i dont see any trace in the log of this block?\r\n\r\nThanks in advance for your help.","title":"Try catch block doesn&#39;t run","body":"<p>Leaving aside the errors in the code that may exist, it is normal, I am a newbie with saml security. I have a problem with a &quot;try/catch&quot; block that doesn't seem to be executed, at least I don't see a trace in the log.\nThis is my code:</p>\n<pre><code>        Credential credential = null;\n        final MetadataCredentialResolver metadataCredentialResolver = new MetadataCredentialResolver();\n        logger.info(&quot;Creando key resolver&quot;);\n        final KeyInfoCredentialResolver keyResolver = DefaultSecurityConfigurationBootstrap.buildBasicInlineKeyInfoCredentialResolver();\n        RoleDescriptorResolver roleDescriptorResolver = null;\n        logger.info(&quot;Reciviendo metadatos&quot;);\n        \n//This try is not working\n        try {\n            File metadataFile = new File(getClass().getClassLoader().getResource(&quot;IDPMetadata.xml&quot;).toURI());\n            logger.info(&quot;Metadata recividos&quot;);\n            final FilesystemMetadataResolver metadataResolver = new FilesystemMetadataResolver(metadataFile);\n            roleDescriptorResolver = new BasicRoleDescriptorResolver(metadataResolver);\n            logger.info(&quot;Metadata resolver creado&quot;);\n            metadataResolver.setId(metadataResolver.getClass().getCanonicalName());\n            logger.info(&quot;Asignada la id&quot;);\n            metadataResolver.setParserPool(OpenSAMLUtils.getParserPool());\n            logger.info(&quot;Parse Pool asignado&quot;);\n            metadataResolver.initialize();\n        }catch(Exception e){\n\n        }\n        logger.info(&quot;metadata resueltos&quot;);\n        metadataCredentialResolver.setKeyInfoCredentialResolver(keyResolver);\n        metadataCredentialResolver.setRoleDescriptorResolver(roleDescriptorResolver);\n        try {\n            metadataCredentialResolver.initialize();\n        }catch(ComponentInitializationException e){\n            logger.info(e.getMessage());\n        }\n        logger.info(&quot;Credenciales adquiridas&quot;);\n        CriteriaSet criteriaSet = new CriteriaSet();\n        criteriaSet.add(new UsageCriterion(UsageType.SIGNING));\n        criteriaSet.add(new EntityRoleCriterion(SPSSODescriptor.DEFAULT_ELEMENT_NAME));\n        criteriaSet.add(new ProtocolCriterion(SAMLConstants.SAML20P_NS));\n        criteriaSet.add(new EntityIdCriterion(SPConstants.SP_ENTITY_ID));\n        logger.info(&quot;Generando credenciales&quot;);\n        try {\n            credential = metadataCredentialResolver.resolveSingle(criteriaSet);\n        }catch(ResolverException e){\n            logger.info(e.getMessage());\n        }\n        logger.info(&quot;Credenciales creadas&quot;);\n        return credential;\n    }\n</code></pre>\n<p>And this is my log:</p>\n<pre><code>10:57:58,689 INFO  [es.caib.accfor.api.SAML.SAMLConsumer] (default task-1) Verificando firma\n10:57:58,690 INFO  [es.caib.accfor.api.SAML.SAMLConsumer] (default task-1) adquiriendo firma\n10:57:58,693 INFO  [es.caib.accfor.api.SAML.SAMLConsumer] (default task-1) org.opensaml.xmlsec.signature.impl.SignatureImpl@4cdd2a52\n10:57:58,695 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Creando key resolver\n10:57:58,697 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Reciviendo metadatos\n10:57:58,698 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) metadata resueltos\n10:57:58,698 INFO  [org.opensaml.saml.security.impl.MetadataCredentialResolver] (default task-1) RoleDescriptorResolver was not supplied, credentials may only be resolved via RoleDescriptorCriterion\n10:57:58,698 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Credenciales adquiridas\n10:57:58,700 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Generando credenciales\n10:57:58,700 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) EntityID and role input were supplied but no RoleDescriptorResolver is configured\n10:57:58,700 INFO  [es.caib.accfor.api.util.IDPCredentials] (default task-1) Credenciales creadas\n10:57:58,702 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ucm/accfor-api/receiverPage: net.shibboleth.utilities.java.support.logic.ConstraintViolationException: Validation credential cannot be null\n</code></pre>\n<p>The question is why i dont see any trace in the log of this block?</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10708644,"reputation":27,"user_id":7881511,"display_name":"Zhuangzhuang Li"},"score":1,"creation_date":1492483118,"post_id":43462525,"comment_id":73981098,"body_markdown":"@KenWhite Sorry about that, But I was trying to post the test, but when I submit it always shown to me there is a error I can not post.","body":"@KenWhite Sorry about that, But I was trying to post the test, but when I submit it always shown to me there is a error I can not post."},{"owner":{"account_id":10708644,"reputation":27,"user_id":7881511,"display_name":"Zhuangzhuang Li"},"score":0,"creation_date":1492483284,"post_id":43462525,"comment_id":73981139,"body_markdown":"@KenWhite I added a pic of the situation it works on, hope you can check the pic","body":"@KenWhite I added a pic of the situation it works on, hope you can check the pic"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1492483769,"post_id":43462525,"comment_id":73981274,"body_markdown":"What I don&#39;t get: the assignment clearly describes TWO situations where this test should return true. But your code only checks one of the two possibilities. And then you are surprised that you fail a lot of tests?","body":"What I don&#39;t get: the assignment clearly describes TWO situations where this test should return true. But your code only checks one of the two possibilities. And then you are surprised that you fail a lot of tests?"},{"owner":{"account_id":10708644,"reputation":27,"user_id":7881511,"display_name":"Zhuangzhuang Li"},"score":1,"creation_date":1492484226,"post_id":43462525,"comment_id":73981380,"body_markdown":"@GhostCat Sorry I don&#39;t get what do you mean, first of all I did not surprised, and then I came to here looking for help and improve my code so that I can learn how to fix that and I will be careful next time, but from your comment I feel like you think this is a stupid question I asked, you are probably a master of java but I said I&#39;m the newbie of java. If I can understand all of staffs about java without learning I won&#39;t come here and ask people for help!","body":"@GhostCat Sorry I don&#39;t get what do you mean, first of all I did not surprised, and then I came to here looking for help and improve my code so that I can learn how to fix that and I will be careful next time, but from your comment I feel like you think this is a stupid question I asked, you are probably a master of java but I said I&#39;m the newbie of java. If I can understand all of staffs about java without learning I won&#39;t come here and ask people for help!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1492484897,"post_id":43462525,"comment_id":73981543,"body_markdown":"The point is: such challenges are meant to be solved by sitting down... until they are solved. Asking other people for help should be your last resort. And it looks like you took up the challenge and stopped halfway. Your code implies that only focused on the easy part of that assignment. You didn&#39;t even mention which part of the second test makes your head spin. Thing is: one learns programming by trying trying trying. In other words: you describe two problems. But the first one is solved, and you are not showing a single line that implies you even tried to solve problem 2 on your own.","body":"The point is: such challenges are meant to be solved by sitting down... until they are solved. Asking other people for help should be your last resort. And it looks like you took up the challenge and stopped halfway. Your code implies that only focused on the easy part of that assignment. You didn&#39;t even mention which part of the second test makes your head spin. Thing is: one learns programming by trying trying trying. In other words: you describe two problems. But the first one is solved, and you are not showing a single line that implies you even tried to solve problem 2 on your own."}],"answers":[{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1492488680,"creation_date":1492482815,"answer_id":43462654,"question_id":43462525,"body_markdown":"&gt; &quot;Given an array of ints, return true if the value 3 appears in the\r\n&gt; array exactly 3 times, and no 3&#39;s are next to each other.&quot;\r\n\r\nyou&#39;re almost there, however, there are a few mistakes and incomplete implementations:\r\n\r\n 1. you didn&#39;t check if the value `3` is next to another value `3` (in which case we return `false`)\r\n \r\n 2. you return as soon as `count == 3` even though you didn&#39;t search the entire array to conclude that there is no more `3s`.\r\n 3. as it stands your loop condition `i &lt; nums.length-2` doesn&#39;t include the last two elements of the array within the search. \r\n\r\n----------\r\n solution:\r\n\r\n    public boolean haveThree(int[] nums){\r\n           int counter = 0;\r\n           for(int i = 0; i &lt; nums.length; i++){\r\n               if(nums[i] == 3){\r\n                  counter++;\r\n               }\r\n\r\n               if(i + 1 &lt; nums.length) {\r\n                  if (nums[i] == 3 &amp;&amp; nums[i + 1] == 3) return false;\r\n               }\r\n           }\r\n    \r\n           if(counter == 3) return true;\r\n           return false;\r\n    }","title":"Codingbat how to count if there are three 3 in an array","body":"<blockquote>\n  <p>\"Given an array of ints, return true if the value 3 appears in the\n  array exactly 3 times, and no 3's are next to each other.\"</p>\n</blockquote>\n\n<p>you're almost there, however, there are a few mistakes and incomplete implementations:</p>\n\n<ol>\n<li><p>you didn't check if the value <code>3</code> is next to another value <code>3</code> (in which case we return <code>false</code>)</p></li>\n<li><p>you return as soon as <code>count == 3</code> even though you didn't search the entire array to conclude that there is no more <code>3s</code>.</p></li>\n<li>as it stands your loop condition <code>i &lt; nums.length-2</code> doesn't include the last two elements of the array within the search. </li>\n</ol>\n\n<hr>\n\n<p>solution:</p>\n\n<pre><code>public boolean haveThree(int[] nums){\n       int counter = 0;\n       for(int i = 0; i &lt; nums.length; i++){\n           if(nums[i] == 3){\n              counter++;\n           }\n\n           if(i + 1 &lt; nums.length) {\n              if (nums[i] == 3 &amp;&amp; nums[i + 1] == 3) return false;\n           }\n       }\n\n       if(counter == 3) return true;\n       return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572940883,"creation_date":1572940883,"answer_id":58706873,"question_id":43462525,"body_markdown":"Here is my solution for this, Have a look :)\r\n\r\n    public boolean haveThree(int[] nums) {\r\n      boolean check=true;\r\n      int count = 0;\r\n      \r\n      for(int i=0;i&lt;nums.length;i++){\r\n       \r\n        if( nums[i]==3 &amp;&amp; count++&gt;0 &amp;&amp; ( (i&gt;0 &amp;&amp; nums[i-1] == 3) || (i&lt;nums.length-1 &amp;&amp; nums[i+1] == 3) ) )\r\n        {//just checking if there are any consecutive 3&#39;s next to each other and counting them \r\n          check = false;\r\n        }\r\n      }\r\n      \r\n      \r\n      return (check &amp;&amp; count==3);//count should be 3 and no 3&#39;s should be next to each other\r\n      \r\n    }\r\n\r\n","title":"Codingbat how to count if there are three 3 in an array","body":"<p>Here is my solution for this, Have a look :)</p>\n\n<pre><code>public boolean haveThree(int[] nums) {\n  boolean check=true;\n  int count = 0;\n\n  for(int i=0;i&lt;nums.length;i++){\n\n    if( nums[i]==3 &amp;&amp; count++&gt;0 &amp;&amp; ( (i&gt;0 &amp;&amp; nums[i-1] == 3) || (i&lt;nums.length-1 &amp;&amp; nums[i+1] == 3) ) )\n    {//just checking if there are any consecutive 3's next to each other and counting them \n      check = false;\n    }\n  }\n\n\n  return (check &amp;&amp; count==3);//count should be 3 and no 3's should be next to each other\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654800583,"creation_date":1654800583,"answer_id":72565257,"question_id":43462525,"body_markdown":"Here is my solution, which passed all the tests on CodingBat:\r\n\r\n    public boolean haveThree(int[] nums) {\r\n      int counter3 = 0;\r\n      \r\n      if (nums.length &gt;= 5) {\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n          if (nums[i] == 3) {\r\n            counter3++;\r\n          }\r\n        }\r\n      }\r\n        \r\n      if (counter3 == 3) {\r\n        for (int i = 0; i &lt; nums.length - 4; i++) {\r\n          if ( (nums[i] == 3) &amp;&amp; \r\n               (nums[i+1] != 3) &amp;&amp; \r\n               (nums[i+2] == 3) &amp;&amp; \r\n               (nums[i+3] != 3) &amp;&amp; \r\n               (nums[i+4] == 3)\r\n             ) { return true; }\r\n        }\r\n      }\r\n      \r\n      return false;\r\n    }\r\n\r\n","title":"Codingbat how to count if there are three 3 in an array","body":"<p>Here is my solution, which passed all the tests on CodingBat:</p>\n<pre><code>public boolean haveThree(int[] nums) {\n  int counter3 = 0;\n  \n  if (nums.length &gt;= 5) {\n    for (int i = 0; i &lt; nums.length; i++) {\n      if (nums[i] == 3) {\n        counter3++;\n      }\n    }\n  }\n    \n  if (counter3 == 3) {\n    for (int i = 0; i &lt; nums.length - 4; i++) {\n      if ( (nums[i] == 3) &amp;&amp; \n           (nums[i+1] != 3) &amp;&amp; \n           (nums[i+2] == 3) &amp;&amp; \n           (nums[i+3] != 3) &amp;&amp; \n           (nums[i+4] == 3)\n         ) { return true; }\n    }\n  }\n  \n  return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654805551,"creation_date":1654805551,"answer_id":72566128,"question_id":43462525,"body_markdown":"1. Your loop does not lookup for each element you are missing the last 2 ones. Should be `i &lt; nums.length` or use simply enhanced for so you don&#39;t have to save the current num on a value.\r\n\r\n2. Check if no 3&#39;s are next to each other, because now you aren&#39;t checking that. I think the best salution to secure that no 3&#39;s are next to each other is to save the last number and compare it to the current one.\r\n\r\n3. You can only be sure that the value 3 appears exactly 3 times in the array if you had seen the whole array so check that at the end and not in the loop. \r\n\r\n       public boolean haveThree(int[] nums) {\r\n        int lastNum = 0;\r\n        int counter = 0;\r\n\r\n        for (int currNum : nums) {\r\n            if (currNum == 3) {\r\n                counter++;\r\n                if (lastNum == currNum) {\r\n                    return false;\r\n                }\r\n            }\r\n            lastNum = currNum;\r\n        }\r\n        return counter == 3;\r\n       }","title":"Codingbat how to count if there are three 3 in an array","body":"<ol>\n<li><p>Your loop does not lookup for each element you are missing the last 2 ones. Should be <code>i &lt; nums.length</code> or use simply enhanced for so you don't have to save the current num on a value.</p>\n</li>\n<li><p>Check if no 3's are next to each other, because now you aren't checking that. I think the best salution to secure that no 3's are next to each other is to save the last number and compare it to the current one.</p>\n</li>\n<li><p>You can only be sure that the value 3 appears exactly 3 times in the array if you had seen the whole array so check that at the end and not in the loop.</p>\n<pre><code>public boolean haveThree(int[] nums) {\n int lastNum = 0;\n int counter = 0;\n\n for (int currNum : nums) {\n     if (currNum == 3) {\n         counter++;\n         if (lastNum == currNum) {\n             return false;\n         }\n     }\n     lastNum = currNum;\n }\n return counter == 3;\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654852922,"creation_date":1654852515,"answer_id":72571875,"question_id":43462525,"body_markdown":"**A very Simple solution for this problem:**\r\n\r\n    public boolean haveThree(int[] nums) {\r\n      int count = 0;\r\n      int preNum = 0;\r\n      for(int i =0; i&lt;nums.length;i++){\r\n        if(nums[i]==3){\r\n          count++;\r\n          if(preNum ==3){\r\n            return false;\r\n          }\r\n        }\r\n        preNum = nums[i];\r\n      }\r\n      return count == 3;\r\n    }\r\n\r\n","title":"Codingbat how to count if there are three 3 in an array","body":"<p><strong>A very Simple solution for this problem:</strong></p>\n<pre><code>public boolean haveThree(int[] nums) {\n  int count = 0;\n  int preNum = 0;\n  for(int i =0; i&lt;nums.length;i++){\n    if(nums[i]==3){\n      count++;\n      if(preNum ==3){\n        return false;\n      }\n    }\n    preNum = nums[i];\n  }\n  return count == 3;\n}\n</code></pre>\n"}],"owner":{"account_id":10708644,"reputation":27,"user_id":7881511,"display_name":"Zhuangzhuang Li"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43462654,"answer_count":5,"score":2,"last_activity_date":1654852922,"creation_date":1492482027,"question_id":43462525,"body_markdown":"Java newbie here, I&#39;m doing some practice about array on [Codingbat haveThree][1]. This is the question :&quot;Given an array of ints, return true if the value 3 appears in the array exactly 3 times, and no 3&#39;s are next to each other.&quot; My code works on most situation but not all.\r\n\r\nMy code:\r\n    \r\n    public boolean haveThree(int[] nums){\r\n        int counter=0;\r\n        for(int i=0; i&lt;nums.length-2;i++){\r\n          if(nums[i]==3){\r\n            counter++;\r\n          }\r\n          if(counter==3){\r\n            return true;\r\n          }\r\n       }\r\n          return false;\r\n    }\r\n\r\n[![The tester][2]][2]\r\n\r\n             \r\n\r\nCan anyone help me and tell me where I was wrong? How can I fix it?\r\n\r\n\r\n  [1]: http://codingbat.com/prob/p109783\r\n  [2]: https://i.stack.imgur.com/3btas.png","title":"Codingbat how to count if there are three 3 in an array","body":"<p>Java newbie here, I'm doing some practice about array on <a href=\"http://codingbat.com/prob/p109783\" rel=\"nofollow noreferrer\">Codingbat haveThree</a>. This is the question :\"Given an array of ints, return true if the value 3 appears in the array exactly 3 times, and no 3's are next to each other.\" My code works on most situation but not all.</p>\n\n<p>My code:</p>\n\n<pre><code>public boolean haveThree(int[] nums){\n    int counter=0;\n    for(int i=0; i&lt;nums.length-2;i++){\n      if(nums[i]==3){\n        counter++;\n      }\n      if(counter==3){\n        return true;\n      }\n   }\n      return false;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/3btas.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3btas.png\" alt=\"The tester\"></a></p>\n\n<p>Can anyone help me and tell me where I was wrong? How can I fix it?</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":25514520,"reputation":1,"user_id":19305589,"display_name":"rui liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654852911,"creation_date":1654767334,"answer_id":72557973,"question_id":67253827,"body_markdown":"Have the same problem with `spring-security-oauth2-client-5.6.2`, after hours google and debugger it solved.\r\n\r\n 1. First, make sure your UserInfo entrypoint is correct in case you own the\r\n            Auth server.\r\n          \r\n 2. Plus requested scopes contains any of profiles not\r\n            only `openid`.\r\n\r\nLogic found here: OidcUserService::shouldRetrieveUserInfo\r\n\r\n    \tprivate boolean shouldRetrieveUserInfo(OidcUserRequest userRequest) {\r\n\t\t// Auto-disabled if UserInfo Endpoint URI is not provided\r\n\t\tProviderDetails providerDetails = userRequest.getClientRegistration().getProviderDetails();\r\n\t\tif (StringUtils.isEmpty(providerDetails.getUserInfoEndpoint().getUri())) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// The Claims requested by the profile, email, address, and phone scope values\r\n\t\t// are returned from the UserInfo Endpoint (as described in Section 5.3.2),\r\n\t\t// when a response_type value is used that results in an Access Token being\r\n\t\t// issued.\r\n\t\t// However, when no Access Token is issued, which is the case for the\r\n\t\t// response_type=id_token,\r\n\t\t// the resulting Claims are returned in the ID Token.\r\n\t\t// The Authorization Code Grant Flow, which is response_type=code, results in an\r\n\t\t// Access Token being issued.\r\n\t\tif (AuthorizationGrantType.AUTHORIZATION_CODE\r\n\t\t\t\t.equals(userRequest.getClientRegistration().getAuthorizationGrantType())) {\r\n\t\t\t// Return true if there is at least one match between the authorized scope(s)\r\n\t\t\t// and accessible scope(s)\r\n\t\t\treturn this.accessibleScopes.isEmpty()\r\n\t\t\t\t\t|| CollectionUtils.containsAny(userRequest.getAccessToken().getScopes(), this.accessibleScopes);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nHope this could help someone.\r\n","title":"How to extend Spring oidcUser to use customUserDetails","body":"<p>Have the same problem with <code>spring-security-oauth2-client-5.6.2</code>, after hours google and debugger it solved.</p>\n<ol>\n<li><p>First, make sure your UserInfo entrypoint is correct in case you own the\nAuth server.</p>\n</li>\n<li><p>Plus requested scopes contains any of profiles not\nonly <code>openid</code>.</p>\n</li>\n</ol>\n<p>Logic found here: OidcUserService::shouldRetrieveUserInfo</p>\n<pre><code>    private boolean shouldRetrieveUserInfo(OidcUserRequest userRequest) {\n    // Auto-disabled if UserInfo Endpoint URI is not provided\n    ProviderDetails providerDetails = userRequest.getClientRegistration().getProviderDetails();\n    if (StringUtils.isEmpty(providerDetails.getUserInfoEndpoint().getUri())) {\n        return false;\n    }\n    // The Claims requested by the profile, email, address, and phone scope values\n    // are returned from the UserInfo Endpoint (as described in Section 5.3.2),\n    // when a response_type value is used that results in an Access Token being\n    // issued.\n    // However, when no Access Token is issued, which is the case for the\n    // response_type=id_token,\n    // the resulting Claims are returned in the ID Token.\n    // The Authorization Code Grant Flow, which is response_type=code, results in an\n    // Access Token being issued.\n    if (AuthorizationGrantType.AUTHORIZATION_CODE\n            .equals(userRequest.getClientRegistration().getAuthorizationGrantType())) {\n        // Return true if there is at least one match between the authorized scope(s)\n        // and accessible scope(s)\n        return this.accessibleScopes.isEmpty()\n                || CollectionUtils.containsAny(userRequest.getAccessToken().getScopes(), this.accessibleScopes);\n    }\n    return false;\n}\n</code></pre>\n<p>Hope this could help someone.</p>\n"}],"owner":{"account_id":21398195,"reputation":11,"user_id":15760877,"display_name":"Ingo Wilmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654852911,"creation_date":1619356607,"question_id":67253827,"body_markdown":"This is my first Question ever here on SO, it was helpfull and saved me lots of time, but now I can&#39;t find any solution to my problem.\r\nAs I&#39;m rather new to spring and espacially to spring-security, I&#39;m stuck with something that might be easy if i had more knowledge.\r\nI have an existing Application that uses a local user database. It uses a custom UserDetails implementation that works if used with user:password authentification through a login form.\r\nHere is the current setup:\r\n```\r\npublic class SecurityContext extends WebSecurityConfigurerAdapter {\r\n....\r\n  @Autowired\r\n  public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\r\n    auth.authenticationProvider(authenticationProvider()).userDetailsService(userDetailsService());\r\n  }\r\n\r\n  @Bean\r\n  public AuthenticationProvider authenticationProvider() {\r\n    DaoAuthenticationProvider result = new DaoAuthenticationProvider();\r\n\r\n    result.setUserDetailsService(userDetailsService());\r\n    result.setPasswordEncoder(passwordEncoder());\r\n\r\n    return result;\r\n  }\r\n\r\n  @Override\r\n  @Bean\r\n  public GatesUserDetailsService userDetailsService() {\r\n    GatesUserDetailsService result = new GatesUserDetailsService();\r\n    result.setClientService(clientService);\r\n    result.setAccountService(accountService);\r\n    result.setCardService(cardService);\r\n    result.setPersonService(personService);\r\n    result.setAccountPropertyService(accountPropertyService);\r\n    result.setLoginAttemptService(loginAttemptService);\r\n\r\n    return result;\r\n  }\r\n\r\n```\r\nNow I want to use SSO from an external IDP that speaks OpenIdConnect.\r\nGoing through the documentation I was able to get this up and running in a &quot;default&quot; manner. That is, at the and of my process a get a user that is an Instance of OidcUser. I need that user to be either extended or incorporate the existing userDetails.\r\nThe documentation ([Spring Boot and OAuth2][1]) recommends to \r\n\r\n&gt; Implement and expose OAuth2UserService to call the Authorization\r\n&gt; Server as well as your database. Your implementation can delegate to\r\n&gt; the default implementation, which will do the heavy lifting of calling\r\n&gt; the Authorization Server. Your implementation should return something\r\n&gt; that extends your custom User object and implements OAuth2User.\r\n\r\nI was able to introduce my own Oauth2UserService that gets called right at the and of the authentification by setting:\r\n```\r\n @Override\r\n  protected void configure(final HttpSecurity http) throws Exception {\r\n    http.exceptionHandling()\r\n        .accessDeniedHandler(accessDeniedHandler())\r\n        .and()\r\n        .oauth2Login()\r\n        .failureHandler(authenticationFailureHandler())\r\n        .successHandler(authenticationSuccessHandler())\r\n        .userInfoEndpoint()\r\n        .userService(this.oauth2UserService())\r\n        .oidcUserService(this.oidcUserService());}\r\n\r\nprivate OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService() {\r\n    final OidcUserService delegate = new OidcUserService();\r\n    return (userRequest) -&gt; { \r\n          OidcUser oidcUser = delegate.loadUser(userRequest);\r\n           //..DO some additional Stuff check against external Server\r\n         //Here I could load my custom userDetails\r\n        GatesUserDetails userDetails = (GatesUserDetails) userDetailsService.loadUserByUsername(&quot;131:&quot; + username);\r\n        ....\r\n```\r\nBut I have now Idea how to make my customUser a vaild return to my function.\r\nI tried to implement the OidcUser Interface in my userDetails, but still it does not work. \r\nAny hint (even to a more understandable doc) would be highly appreciated.\r\n\r\n**EDIT** \r\nTo clarify things, I implemented the oidcUser Interface as stated in the docs along with the necessary implementations (getAttribute, getAttributes, getAuthorities) but still I could not use this as the return type would still be our GatesUserDetails, no way (for me) to cast it to oidcUser\r\n\r\n  [1]: https://spring.io/guides/tutorials/spring-boot-oauth2/","title":"How to extend Spring oidcUser to use customUserDetails","body":"<p>This is my first Question ever here on SO, it was helpfull and saved me lots of time, but now I can't find any solution to my problem.\nAs I'm rather new to spring and espacially to spring-security, I'm stuck with something that might be easy if i had more knowledge.\nI have an existing Application that uses a local user database. It uses a custom UserDetails implementation that works if used with user:password authentification through a login form.\nHere is the current setup:</p>\n<pre><code>public class SecurityContext extends WebSecurityConfigurerAdapter {\n....\n  @Autowired\n  public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\n    auth.authenticationProvider(authenticationProvider()).userDetailsService(userDetailsService());\n  }\n\n  @Bean\n  public AuthenticationProvider authenticationProvider() {\n    DaoAuthenticationProvider result = new DaoAuthenticationProvider();\n\n    result.setUserDetailsService(userDetailsService());\n    result.setPasswordEncoder(passwordEncoder());\n\n    return result;\n  }\n\n  @Override\n  @Bean\n  public GatesUserDetailsService userDetailsService() {\n    GatesUserDetailsService result = new GatesUserDetailsService();\n    result.setClientService(clientService);\n    result.setAccountService(accountService);\n    result.setCardService(cardService);\n    result.setPersonService(personService);\n    result.setAccountPropertyService(accountPropertyService);\n    result.setLoginAttemptService(loginAttemptService);\n\n    return result;\n  }\n\n</code></pre>\n<p>Now I want to use SSO from an external IDP that speaks OpenIdConnect.\nGoing through the documentation I was able to get this up and running in a &quot;default&quot; manner. That is, at the and of my process a get a user that is an Instance of OidcUser. I need that user to be either extended or incorporate the existing userDetails.\nThe documentation (<a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">Spring Boot and OAuth2</a>) recommends to</p>\n<blockquote>\n<p>Implement and expose OAuth2UserService to call the Authorization\nServer as well as your database. Your implementation can delegate to\nthe default implementation, which will do the heavy lifting of calling\nthe Authorization Server. Your implementation should return something\nthat extends your custom User object and implements OAuth2User.</p>\n</blockquote>\n<p>I was able to introduce my own Oauth2UserService that gets called right at the and of the authentification by setting:</p>\n<pre><code> @Override\n  protected void configure(final HttpSecurity http) throws Exception {\n    http.exceptionHandling()\n        .accessDeniedHandler(accessDeniedHandler())\n        .and()\n        .oauth2Login()\n        .failureHandler(authenticationFailureHandler())\n        .successHandler(authenticationSuccessHandler())\n        .userInfoEndpoint()\n        .userService(this.oauth2UserService())\n        .oidcUserService(this.oidcUserService());}\n\nprivate OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService() {\n    final OidcUserService delegate = new OidcUserService();\n    return (userRequest) -&gt; { \n          OidcUser oidcUser = delegate.loadUser(userRequest);\n           //..DO some additional Stuff check against external Server\n         //Here I could load my custom userDetails\n        GatesUserDetails userDetails = (GatesUserDetails) userDetailsService.loadUserByUsername(&quot;131:&quot; + username);\n        ....\n</code></pre>\n<p>But I have now Idea how to make my customUser a vaild return to my function.\nI tried to implement the OidcUser Interface in my userDetails, but still it does not work.\nAny hint (even to a more understandable doc) would be highly appreciated.</p>\n<p><strong>EDIT</strong>\nTo clarify things, I implemented the oidcUser Interface as stated in the docs along with the necessary implementations (getAttribute, getAttributes, getAuthorities) but still I could not use this as the return type would still be our GatesUserDetails, no way (for me) to cast it to oidcUser</p>\n"},{"tags":["java","visual-studio-code","junit"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654755083,"creation_date":1654755083,"answer_id":72555457,"question_id":72553157,"body_markdown":"Without knowing more about your project, here are a few workarounds that might help:\r\n1. Reload VS Code and run **F1** -&gt; `Clean the java language server workspace`.\r\n2. Add the `mainClass` and `sourcePaths` configuration in your `launch.json` file.\r\n3. Check your folder/file name and make sure the file path is in plain English.\r\n4. This can also cause problems if you have the **Code Runner** extension installed. You can try to uninstall it, then **F1** -&gt; `Clean the java language server workspace`.\r\n\r\nHope this helps you.","title":"Could not find or load main class when using JUnit 5 in VSCode","body":"<p>Without knowing more about your project, here are a few workarounds that might help:</p>\n<ol>\n<li>Reload VS Code and run <strong>F1</strong> -&gt; <code>Clean the java language server workspace</code>.</li>\n<li>Add the <code>mainClass</code> and <code>sourcePaths</code> configuration in your <code>launch.json</code> file.</li>\n<li>Check your folder/file name and make sure the file path is in plain English.</li>\n<li>This can also cause problems if you have the <strong>Code Runner</strong> extension installed. You can try to uninstall it, then <strong>F1</strong> -&gt; <code>Clean the java language server workspace</code>.</li>\n</ol>\n<p>Hope this helps you.</p>\n"}],"owner":{"account_id":17827648,"reputation":31,"user_id":12948487,"display_name":"Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654852367,"creation_date":1654730240,"question_id":72553157,"body_markdown":"I am currently facing problems when using JUnit 5 in VSCode. \r\n\r\nI noticed that as soon as the &quot;junit-platform-console-standalone-1.7.0-M1.jar&quot; is in my library folder within my project I can run my tests but I can not run my main method any more (&quot;Error: Could not find or load main class&quot;). As soon as I remove the .jar I can immediately run it again. \r\n\r\nThe problem also occurs when I use the default project with no-build tools.\r\n\r\nI created a simple test class and let the .jar file automatically download via the &quot;Testing&quot; explorer (enable Java Tests Button). Now that the .jar file is downloaded, the tests work but the main method doesn&#39;t. If I remove the .jar out of the folder, the main method works again but obviously the tests aint.\r\n[![Main class and project folder][1]][1]\r\n\r\n[![Test class][2]][2]\r\n\r\n[![settings.json file][3]][3]\r\n\r\n[![Error Message][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4TTBv.png\r\n  [2]: https://i.stack.imgur.com/jbFaf.png\r\n  [3]: https://i.stack.imgur.com/oFiHb.png\r\n  [4]: https://i.stack.imgur.com/AjYgT.png\r\n\r\n\r\nAny solutions so I can run both? Thank you in advance!","title":"Could not find or load main class when using JUnit 5 in VSCode","body":"<p>I am currently facing problems when using JUnit 5 in VSCode.</p>\n<p>I noticed that as soon as the &quot;junit-platform-console-standalone-1.7.0-M1.jar&quot; is in my library folder within my project I can run my tests but I can not run my main method any more (&quot;Error: Could not find or load main class&quot;). As soon as I remove the .jar I can immediately run it again.</p>\n<p>The problem also occurs when I use the default project with no-build tools.</p>\n<p>I created a simple test class and let the .jar file automatically download via the &quot;Testing&quot; explorer (enable Java Tests Button). Now that the .jar file is downloaded, the tests work but the main method doesn't. If I remove the .jar out of the folder, the main method works again but obviously the tests aint.\n<a href=\"https://i.stack.imgur.com/4TTBv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4TTBv.png\" alt=\"Main class and project folder\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jbFaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jbFaf.png\" alt=\"Test class\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oFiHb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oFiHb.png\" alt=\"settings.json file\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AjYgT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AjYgT.png\" alt=\"Error Message\" /></a></p>\n<p>Any solutions so I can run both? Thank you in advance!</p>\n"},{"tags":["java","serialization","nullpointerexception","jtable","tablemodel"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1654843105,"post_id":72569931,"comment_id":128193002,"body_markdown":"The exception does not ssem to be related to serialization on the first glance - does it also throw if you remove the serialization part (i.e. don&#39;t write to the OOS)? Try to just set the prefered size on the JFrame, as it seems that this is thrown while deriving the prefered size from the components.","body":"The exception does not ssem to be related to serialization on the first glance - does it also throw if you remove the serialization part (i.e. don&#39;t write to the OOS)? Try to just set the prefered size on the JFrame, as it seems that this is thrown while deriving the prefered size from the components."},{"owner":{"account_id":12418158,"reputation":438,"user_id":9046497,"display_name":"Nur1"},"score":0,"creation_date":1654843587,"post_id":72569931,"comment_id":128193113,"body_markdown":"Only happens on serialization. Without it, it works. @Hulk","body":"Only happens on serialization. Without it, it works. @Hulk"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654856061,"post_id":72569931,"comment_id":128197254,"body_markdown":"fwiw your code runs fine for me","body":"fwiw your code runs fine for me"},{"owner":{"account_id":12418158,"reputation":438,"user_id":9046497,"display_name":"Nur1"},"score":0,"creation_date":1654858497,"post_id":72569931,"comment_id":128198092,"body_markdown":"Ok, this shocked me but I also got it working by adding a sleep of 1 second before serializing, BUT STILL, why this behavior? From the stack trace, I think there is some event stuff going around but I don&#39;t know what it could be and why...","body":"Ok, this shocked me but I also got it working by adding a sleep of 1 second before serializing, BUT STILL, why this behavior? From the stack trace, I think there is some event stuff going around but I don&#39;t know what it could be and why..."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1654899075,"post_id":72569931,"comment_id":128210696,"body_markdown":"All Swing component should be create on the `Event Dispatch Thread (EDT)`. Otherwise you can get random behaviour. Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information.","body":"All Swing component should be create on the <code>Event Dispatch Thread (EDT)</code>. Otherwise you can get random behaviour. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information."}],"owner":{"account_id":12418158,"reputation":438,"user_id":9046497,"display_name":"Nur1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654852287,"creation_date":1654842488,"question_id":72569931,"body_markdown":"A NullPointerException is thrown when trying to serialize a TableModel object while the associated JTable object is visible in a JFrame. I created a minimal, reproducible Example and will also include the Stack-Trace. \r\n\r\nThe Nullpointer is described like this:\r\n\r\n    Cannot invoke &quot;javax.swing.JTable.getColumnModel()&quot; \r\n    because &quot;this.table&quot; is null\r\n\r\nBut why is this method called anyway? I am serializing the Model, not the JTable.\r\n\r\nWhen not using a JFrame, it works fine.\r\n\r\nI hope someone can help. I am using AdoptOpenJDK14 (14.0.2.12-hotspot)\r\n\r\nHere is the minimal, reproducible Example:\r\n\r\nSerialization.java (Entrypoint of the Program)\r\n\r\n```java\r\nimport java.io.FileOutputStream;\r\nimport java.io.ObjectOutputStream;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTable;\r\nimport javax.swing.WindowConstants;\r\n\r\npublic class Serialization {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        MyAbstractModel model = new MyAbstractModel();\r\n        JTable table = new JTable(model);\r\n\r\n        // After creating the frame, putting in the table and setting it to visible the exception will be thrown when trying to serialize below\r\n        JFrame frame = new JFrame();\r\n        frame.add(table);\r\n        frame.setSize(300,300);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n\r\n        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;some.dat&quot;));\r\n        oos.writeObject(model);\r\n        oos.close();\r\n\r\n    }\r\n}\r\n```\r\n\r\nMyAbstractModel.java (The Model to Serialize)\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport javax.swing.table.AbstractTableModel;\r\n\r\npublic class MyAbstractModel extends AbstractTableModel {\r\n\r\n    private List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    public MyAbstractModel(){\r\n        list = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n        list.add(&quot;Test1&quot;);\r\n        list.add(&quot;Test2&quot;);\r\n        list.add(&quot;Test3&quot;);\r\n        list.add(&quot;Test4&quot;);\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return 10;\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return 3;\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n        return rowIndex + &quot;-&quot; + columnIndex;\r\n    }\r\n\r\n    @Override\r\n    public String getColumnName(int column) {\r\n        return &quot;Column &quot; + column;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        return String.class;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCellEditable(int rowIndex, int columnIndex) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void setValueAt(Object aValue, int rowIndex, int columnIndex) {\r\n        // TODO\r\n    }\r\n}\r\n```\r\nSome.java (Just a Serializable Test Object)\r\n```java\r\nimport java.io.Serializable;\r\n\r\npublic class Some implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    public final int num;\r\n    public final String name;\r\n    transient int ignoreNum;\r\n\r\n    public Some(int num, String name, int ignoreNum) {\r\n        this.num = num;\r\n        this.name = name;\r\n        this.ignoreNum = ignoreNum;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Some{&quot; +\r\n                &quot;num=&quot; + num +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, ignoreNum=&quot; + ignoreNum +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is the Stacktrace I got. \r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JTable.getColumnModel()&quot; \r\n&gt; because &quot;this.table&quot; is null\r\n&gt;         at java.desktop/javax.swing.plaf.basic.BasicTableUI.getPreferredSize(BasicTableUI.java:1768)\r\n&gt;         at java.desktop/javax.swing.JComponent.getPreferredSize(JComponent.java:1680)\r\n&gt;         at java.desktop/javax.swing.JTable.setWidthsFromPreferredWidths(JTable.java:3205)\r\n&gt;         at java.desktop/javax.swing.JTable.doLayout(JTable.java:3117)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1722)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1731)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1731)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1731)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1731)\r\n&gt;         at java.desktop/java.awt.Container.validate(Container.java:1657)\r\n&gt;         at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2762)\r\n&gt;         at java.desktop/java.awt.Component.dispatchEvent(Component.java:4844)\r\n&gt;         at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n&gt;         at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n&gt;         at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n&gt;         at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n&gt;         at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n&gt;         at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n&gt;         at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n&gt;         at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n&gt;         at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n&gt;         at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n&gt;         at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JTable.getColumnModel()&quot; because &quot;this.table&quot; is null  \r\n&gt;         at java.desktop/javax.swing.plaf.basic.BasicTableUI.getPreferredSize(BasicTableUI.java:1768)\r\n&gt;         at java.desktop/javax.swing.JComponent.getPreferredSize(JComponent.java:1680)\r\n&gt;         at java.desktop/javax.swing.JTable.setWidthsFromPreferredWidths(JTable.java:3205)\r\n&gt;         at java.desktop/javax.swing.JTable.doLayout(JTable.java:3117)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1722)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1731)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1731)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1731)\r\n&gt;         at java.desktop/java.awt.Container.validateTree(Container.java:1731)\r\n&gt;         at java.desktop/java.awt.Container.validate(Container.java:1657)\r\n&gt;         at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2762)\r\n&gt;         at java.desktop/java.awt.Component.dispatchEvent(Component.java:4844)\r\n&gt;         at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n&gt;         at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n&gt;         at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n&gt;         at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n&gt;         at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n&gt;         at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n&gt;         at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n&gt;         at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n&gt;         at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n&gt;         at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n&gt;         at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n&gt;         at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n\r\n\r\n\r\n","title":"Java NullPointerException on serialization of TableModel when associated JTable is on visible JFrame","body":"<p>A NullPointerException is thrown when trying to serialize a TableModel object while the associated JTable object is visible in a JFrame. I created a minimal, reproducible Example and will also include the Stack-Trace.</p>\n<p>The Nullpointer is described like this:</p>\n<pre><code>Cannot invoke &quot;javax.swing.JTable.getColumnModel()&quot; \nbecause &quot;this.table&quot; is null\n</code></pre>\n<p>But why is this method called anyway? I am serializing the Model, not the JTable.</p>\n<p>When not using a JFrame, it works fine.</p>\n<p>I hope someone can help. I am using AdoptOpenJDK14 (14.0.2.12-hotspot)</p>\n<p>Here is the minimal, reproducible Example:</p>\n<p>Serialization.java (Entrypoint of the Program)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileOutputStream;\nimport java.io.ObjectOutputStream;\n\nimport javax.swing.JFrame;\nimport javax.swing.JTable;\nimport javax.swing.WindowConstants;\n\npublic class Serialization {\n\n    public static void main(String[] args) throws Exception {\n\n        MyAbstractModel model = new MyAbstractModel();\n        JTable table = new JTable(model);\n\n        // After creating the frame, putting in the table and setting it to visible the exception will be thrown when trying to serialize below\n        JFrame frame = new JFrame();\n        frame.add(table);\n        frame.setSize(300,300);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n\n        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;some.dat&quot;));\n        oos.writeObject(model);\n        oos.close();\n\n    }\n}\n</code></pre>\n<p>MyAbstractModel.java (The Model to Serialize)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport javax.swing.table.AbstractTableModel;\n\npublic class MyAbstractModel extends AbstractTableModel {\n\n    private List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n    public MyAbstractModel(){\n        list = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        list.add(&quot;Test1&quot;);\n        list.add(&quot;Test2&quot;);\n        list.add(&quot;Test3&quot;);\n        list.add(&quot;Test4&quot;);\n    }\n\n    @Override\n    public int getRowCount() {\n        return 10;\n    }\n\n    @Override\n    public int getColumnCount() {\n        return 3;\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        return rowIndex + &quot;-&quot; + columnIndex;\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        return &quot;Column &quot; + column;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        return String.class;\n    }\n\n    @Override\n    public boolean isCellEditable(int rowIndex, int columnIndex) {\n        return false;\n    }\n\n    @Override\n    public void setValueAt(Object aValue, int rowIndex, int columnIndex) {\n        // TODO\n    }\n}\n</code></pre>\n<p>Some.java (Just a Serializable Test Object)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\n\npublic class Some implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public final int num;\n    public final String name;\n    transient int ignoreNum;\n\n    public Some(int num, String name, int ignoreNum) {\n        this.num = num;\n        this.name = name;\n        this.ignoreNum = ignoreNum;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Some{&quot; +\n                &quot;num=&quot; + num +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, ignoreNum=&quot; + ignoreNum +\n                '}';\n    }\n\n}\n</code></pre>\n<p>This is the Stacktrace I got.</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JTable.getColumnModel()&quot;\nbecause &quot;this.table&quot; is null\nat java.desktop/javax.swing.plaf.basic.BasicTableUI.getPreferredSize(BasicTableUI.java:1768)\nat java.desktop/javax.swing.JComponent.getPreferredSize(JComponent.java:1680)\nat java.desktop/javax.swing.JTable.setWidthsFromPreferredWidths(JTable.java:3205)\nat java.desktop/javax.swing.JTable.doLayout(JTable.java:3117)\nat java.desktop/java.awt.Container.validateTree(Container.java:1722)\nat java.desktop/java.awt.Container.validateTree(Container.java:1731)\nat java.desktop/java.awt.Container.validateTree(Container.java:1731)\nat java.desktop/java.awt.Container.validateTree(Container.java:1731)\nat java.desktop/java.awt.Container.validateTree(Container.java:1731)\nat java.desktop/java.awt.Container.validate(Container.java:1657)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2762)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4844)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JTable.getColumnModel()&quot; because &quot;this.table&quot; is null<br />\nat java.desktop/javax.swing.plaf.basic.BasicTableUI.getPreferredSize(BasicTableUI.java:1768)\nat java.desktop/javax.swing.JComponent.getPreferredSize(JComponent.java:1680)\nat java.desktop/javax.swing.JTable.setWidthsFromPreferredWidths(JTable.java:3205)\nat java.desktop/javax.swing.JTable.doLayout(JTable.java:3117)\nat java.desktop/java.awt.Container.validateTree(Container.java:1722)\nat java.desktop/java.awt.Container.validateTree(Container.java:1731)\nat java.desktop/java.awt.Container.validateTree(Container.java:1731)\nat java.desktop/java.awt.Container.validateTree(Container.java:1731)\nat java.desktop/java.awt.Container.validateTree(Container.java:1731)\nat java.desktop/java.awt.Container.validate(Container.java:1657)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2762)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4844)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)</p>\n</blockquote>\n"},{"tags":["java","tree","richfaces","jsf-1.2"],"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1327733288,"post_id":9043460,"comment_id":11345239,"body_markdown":"Please post the full stacktrace and the relevant code.","body":"Please post the full stacktrace and the relevant code."},{"owner":{"account_id":1078346,"reputation":715,"user_id":1076011,"accept_rate":42,"display_name":"LazyGuy"},"score":0,"creation_date":1327734195,"post_id":9043460,"comment_id":11345367,"body_markdown":"Hi  βнɛƨн Ǥʋяʋиɢ, am trying to paste my code..but it&#39;s saying not in correct format..so am unable to paste it.. That&#39;s why i gave you the link for source code..","body":"Hi  βнɛƨн Ǥʋяʋиɢ, am trying to paste my code..but it&#39;s saying not in correct format..so am unable to paste it.. That&#39;s why i gave you the link for source code.."},{"owner":{"account_id":1078346,"reputation":715,"user_id":1076011,"accept_rate":42,"display_name":"LazyGuy"},"score":0,"creation_date":1327734369,"post_id":9043460,"comment_id":11345385,"body_markdown":"yeah i pasted the whole error... now can u help me in that..","body":"yeah i pasted the whole error... now can u help me in that.."}],"answers":[{"tags":[],"owner":{"account_id":1074647,"reputation":3655,"user_id":1073063,"accept_rate":80,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327999380,"creation_date":1327999380,"answer_id":9076658,"question_id":9043460,"body_markdown":"The var &quot;dataStream&quot; is null when you pass it to properties.load(dataStream). That happened because externalContext.getResourceAsStream(DATA_PATH) failed to find the resource. Are you sure that the path is correct?\r\n","title":"Error in populating rich:tree component in JSF","body":"<p>The var \"dataStream\" is null when you pass it to properties.load(dataStream). That happened because externalContext.getResourceAsStream(DATA_PATH) failed to find the resource. Are you sure that the path is correct?</p>\n"}],"owner":{"account_id":1078346,"reputation":715,"user_id":1076011,"accept_rate":42,"display_name":"LazyGuy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654852200,"creation_date":1327732205,"question_id":9043460,"body_markdown":"I was running the tree code\r\n\r\n**My JSF page:**\r\n\r\n\t\r\n\r\n    &lt;rich:tree style=&quot;width:300px&quot;\r\n    \t\t\t\tnodeSelectListener=&quot;#{simpleTreeBean.processSelection}&quot;\r\n    \t\t\t\treRender=&quot;selectedNode&quot; value=&quot;#{simpleTreeBean.treeNode}&quot;\r\n    \t\t\t\tajaxSubmitSelection=&quot;true&quot; var=&quot;item&quot;&gt;\r\n    \t\t\t&lt;/rich:tree&gt;\r\n    \r\n    \t\t\t&lt;h:outputText escape=&quot;false&quot;\r\n    \t\t\t\tvalue=&quot;Selected node: #{simpleTreeBean.nodeTitle}&quot; id=&quot;selectedNode&quot; /&gt;\r\n\r\n\r\n**My java file:**\r\n\r\n    package com.ge.beans;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    \r\n    import javax.faces.FacesException;\r\n    import javax.faces.component.UIComponent;\r\n    import javax.faces.context.ExternalContext;\r\n    import javax.faces.context.FacesContext;\r\n    \r\n    import org.richfaces.component.UITree;\r\n    import org.richfaces.component.html.HtmlTree;\r\n    import org.richfaces.event.NodeSelectedEvent;\r\n    import org.richfaces.model.TreeNode;\r\n    import org.richfaces.model.TreeNodeImpl;\r\n    \r\n    public class SimpleTreeBean {\r\n    \r\n    \tprivate TreeNode rootNode = null;\r\n    \tprivate List&lt;String&gt; selectedNodeChildren = new ArrayList&lt;String&gt;();\r\n    \r\n    \tprivate String nodeTitle;\r\n    \tprivate static final String DATA_PATH = &quot;/rich_tree.properties&quot;;\r\n    \r\n    \tprivate void addNodes(String path, TreeNode node, Properties properties) {\r\n    \t\tboolean end = false;\r\n    \t\tint counter = 1;\r\n    \r\n    \t\twhile (!end) {\r\n    \t\t\tString key = path != null ? path + &#39;.&#39; + counter : String\r\n    \t\t\t\t\t.valueOf(counter);\r\n    \r\n    \t\t\tString value = properties.getProperty(key);\r\n    \t\t\tif (value != null) {\r\n    \t\t\t\tTreeNodeImpl nodeImpl = new TreeNodeImpl();\r\n    \t\t\t\tnodeImpl.setData(value);\r\n    \t\t\t\tnode.addChild(new Integer(counter), nodeImpl);\r\n    \t\t\t\taddNodes(key, nodeImpl, properties);\r\n    \t\t\t\tcounter++;\r\n    \t\t\t} else {\r\n    \t\t\t\tend = true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void loadTree() {\r\n    \t\tFacesContext facesContext = FacesContext.getCurrentInstance();\r\n    \t\tExternalContext externalContext = facesContext.getExternalContext();\r\n    \t\tInputStream dataStream = externalContext.getResourceAsStream(DATA_PATH);\r\n    \t\ttry {\r\n    \t\t\tProperties properties = new Properties();\r\n    \t\t\tproperties.load(dataStream);\r\n    \r\n    \t\t\trootNode = new TreeNodeImpl();\r\n    \t\t\taddNodes(null, rootNode, properties);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \r\n    \t\t\t// throw new FacesException(e.getMessage(), e);\r\n    \t\t\tSystem.out.println(&quot;Exception occured&quot;);\r\n    \t\t} finally {\r\n    \t\t\tif (dataStream != null) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tdataStream.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\texternalContext.log(e.getMessage(), e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void processSelection(NodeSelectedEvent event) {\r\n    \t\tHtmlTree tree = (HtmlTree) event.getComponent();\r\n    \t\tnodeTitle = (String) tree.getRowData();\r\n    \t\tselectedNodeChildren.clear();\r\n    \t\tTreeNode currentNode = tree.getModelTreeNode(tree.getRowKey());\r\n    \t\tif (currentNode.isLeaf()) {\r\n    \t\t\tselectedNodeChildren.add((String) currentNode.getData());\r\n    \t\t} else {\r\n    \t\t\tIterator&lt;Map.Entry&lt;Object, TreeNode&gt;&gt; it = currentNode\r\n    \t\t\t\t\t.getChildren();\r\n    \t\t\twhile (it != null &amp;&amp; it.hasNext()) {\r\n    \t\t\t\tMap.Entry&lt;Object, TreeNode&gt; entry = it.next();\r\n    \t\t\t\tselectedNodeChildren.add(entry.getValue().getData().toString());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic TreeNode getTreeNode() {\r\n    \t\tif (rootNode == null) {\r\n    \t\t\tloadTree();\r\n    \t\t}\r\n    \r\n    \t\treturn rootNode;\r\n    \t}\r\n    \r\n    \tpublic String getNodeTitle() {\r\n    \t\treturn nodeTitle;\r\n    \t}\r\n    \r\n    \tpublic void setNodeTitle(String nodeTitle) {\r\n    \t\tthis.nodeTitle = nodeTitle;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nBut am unable to populate the tree structure. \r\n\r\nI think the path of my properties file is wrong; can you say where to keep the properties file ?\r\n\r\nI am getting the below error:\r\n\r\n    javax.servlet.ServletException: /pages/fullTree.jsp(19,3) &#39;#{simpleTreeBean.treeNode}&#39; Error reading &#39;treeNode&#39; on type com.ge.beans.SimpleTreeBean\r\n    \tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:277)\r\n    \torg.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:177)\r\n    \torg.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:267)\r\n    \torg.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:380)\r\n    \torg.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:507)\r\n    \r\n    \r\n    root cause \r\n    \r\n    org.apache.jasper.el.JspELException: /pages/fullTree.jsp(19,3) &#39;#{simpleTreeBean.treeNode}&#39; Error reading &#39;treeNode&#39; on type com.ge.beans.SimpleTreeBean\r\n    \torg.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:107)\r\n    \tjavax.faces.component.UIData.getValue(UIData.java:609)\r\n    \torg.ajax4jsf.component.UIDataAdaptor.getValue(UIDataAdaptor.java:1640)\r\n    \torg.richfaces.component.UITree.createDataModel(UITree.java:664)\r\n    \torg.ajax4jsf.component.UIDataAdaptor.getExtendedDataModel(UIDataAdaptor.java:621)\r\n    \torg.ajax4jsf.component.UIDataAdaptor.setRowKey(UIDataAdaptor.java:339)\r\n    \torg.richfaces.renderkit.TreeRendererBase.writeContent(TreeRendererBase.java:632)\r\n    \torg.richfaces.renderkit.TreeRendererBase.encodeChildren(TreeRendererBase.java:573)\r\n    \tjavax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\r\n    \tcom.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeRecursive(HtmlBasicRenderer.java:234)\r\n    \tcom.sun.faces.renderkit.html_basic.GridRenderer.renderRow(GridRenderer.java:178)\r\n    \tcom.sun.faces.renderkit.html_basic.GridRenderer.encodeChildren(GridRenderer.java:126)\r\n    \tjavax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\r\n    \tjavax.faces.component.UIComponent.encodeAll(UIComponent.java:936)\r\n    \tjavax.faces.render.Renderer.encodeChildren(Renderer.java:148)\r\n    \tjavax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\r\n    \tjavax.faces.component.UIComponent.encodeAll(UIComponent.java:936)\r\n    \tjavax.faces.component.UIComponent.encodeAll(UIComponent.java:942)\r\n    \tcom.sun.faces.application.ViewHandlerImpl.doRenderView(ViewHandlerImpl.java:271)\r\n    \tcom.sun.faces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:202)\r\n    \torg.ajax4jsf.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:108)\r\n    \torg.ajax4jsf.application.AjaxViewHandler.renderView(AjaxViewHandler.java:196)\r\n    \tcom.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:109)\r\n    \tcom.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\r\n    \tcom.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\r\n    \tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:266)\r\n    \torg.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:177)\r\n    \torg.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:267)\r\n    \torg.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:380)\r\n    \torg.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:507)\r\n    \r\n    \r\n    root cause \r\n    \r\n    java.lang.NullPointerException\r\n    \tjava.util.Properties$LineReader.readLine(Unknown Source)\r\n    \tjava.util.Properties.load0(Unknown Source)\r\n    \tjava.util.Properties.load(Unknown Source)\r\n    \tcom.ge.beans.SimpleTreeBean.loadTree(SimpleTreeBean.java:70)\r\n    \tcom.ge.beans.SimpleTreeBean.getTreeNode(SimpleTreeBean.java:99)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \tjavax.el.BeanELResolver.getValue(BeanELResolver.java:62)\r\n    \tjavax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)\r\n    \tcom.sun.faces.el.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:72)\r\n    \torg.apache.el.parser.AstValue.getValue(AstValue.java:118)\r\n    \torg.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:186)\r\n    \torg.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:101)\r\n    \tjavax.faces.component.UIData.getValue(UIData.java:609)\r\n    \torg.ajax4jsf.component.UIDataAdaptor.getValue(UIDataAdaptor.java:1640)\r\n    \torg.richfaces.component.UITree.createDataModel(UITree.java:664)\r\n    \torg.ajax4jsf.component.UIDataAdaptor.getExtendedDataModel(UIDataAdaptor.java:621)\r\n    \torg.ajax4jsf.component.UIDataAdaptor.setRowKey(UIDataAdaptor.java:339)\r\n    \torg.richfaces.renderkit.TreeRendererBase.writeContent(TreeRendererBase.java:632)\r\n    \torg.richfaces.renderkit.TreeRendererBase.encodeChildren(TreeRendererBase.java:573)\r\n    \tjavax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\r\n    \tcom.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeRecursive(HtmlBasicRenderer.java:234)\r\n    \tcom.sun.faces.renderkit.html_basic.GridRenderer.renderRow(GridRenderer.java:178)\r\n    \tcom.sun.faces.renderkit.html_basic.GridRenderer.encodeChildren(GridRenderer.java:126)\r\n    \tjavax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\r\n    \tjavax.faces.component.UIComponent.encodeAll(UIComponent.java:936)\r\n    \tjavax.faces.render.Renderer.encodeChildren(Renderer.java:148)\r\n    \tjavax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\r\n    \tjavax.faces.component.UIComponent.encodeAll(UIComponent.java:936)\r\n    \tjavax.faces.component.UIComponent.encodeAll(UIComponent.java:942)\r\n    \tcom.sun.faces.application.ViewHandlerImpl.doRenderView(ViewHandlerImpl.java:271)\r\n    \tcom.sun.faces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:202)\r\n    \torg.ajax4jsf.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:108)\r\n    \torg.ajax4jsf.application.AjaxViewHandler.renderView(AjaxViewHandler.java:196)\r\n    \tcom.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:109)\r\n    \tcom.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\r\n    \tcom.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\r\n    \tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:266)\r\n    \torg.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:177)\r\n    \torg.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:267)\r\n    \torg.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:380)\r\n    \torg.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:507)\r\n\r\n    \r\n\r\n","title":"Error in populating rich:tree component in JSF","body":"<p>I was running the tree code</p>\n<p><strong>My JSF page:</strong></p>\n<pre><code>&lt;rich:tree style=&quot;width:300px&quot;\n                nodeSelectListener=&quot;#{simpleTreeBean.processSelection}&quot;\n                reRender=&quot;selectedNode&quot; value=&quot;#{simpleTreeBean.treeNode}&quot;\n                ajaxSubmitSelection=&quot;true&quot; var=&quot;item&quot;&gt;\n            &lt;/rich:tree&gt;\n\n            &lt;h:outputText escape=&quot;false&quot;\n                value=&quot;Selected node: #{simpleTreeBean.nodeTitle}&quot; id=&quot;selectedNode&quot; /&gt;\n</code></pre>\n<p><strong>My java file:</strong></p>\n<pre><code>package com.ge.beans;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\n\nimport javax.faces.FacesException;\nimport javax.faces.component.UIComponent;\nimport javax.faces.context.ExternalContext;\nimport javax.faces.context.FacesContext;\n\nimport org.richfaces.component.UITree;\nimport org.richfaces.component.html.HtmlTree;\nimport org.richfaces.event.NodeSelectedEvent;\nimport org.richfaces.model.TreeNode;\nimport org.richfaces.model.TreeNodeImpl;\n\npublic class SimpleTreeBean {\n\n    private TreeNode rootNode = null;\n    private List&lt;String&gt; selectedNodeChildren = new ArrayList&lt;String&gt;();\n\n    private String nodeTitle;\n    private static final String DATA_PATH = &quot;/rich_tree.properties&quot;;\n\n    private void addNodes(String path, TreeNode node, Properties properties) {\n        boolean end = false;\n        int counter = 1;\n\n        while (!end) {\n            String key = path != null ? path + '.' + counter : String\n                    .valueOf(counter);\n\n            String value = properties.getProperty(key);\n            if (value != null) {\n                TreeNodeImpl nodeImpl = new TreeNodeImpl();\n                nodeImpl.setData(value);\n                node.addChild(new Integer(counter), nodeImpl);\n                addNodes(key, nodeImpl, properties);\n                counter++;\n            } else {\n                end = true;\n            }\n        }\n    }\n\n    private void loadTree() {\n        FacesContext facesContext = FacesContext.getCurrentInstance();\n        ExternalContext externalContext = facesContext.getExternalContext();\n        InputStream dataStream = externalContext.getResourceAsStream(DATA_PATH);\n        try {\n            Properties properties = new Properties();\n            properties.load(dataStream);\n\n            rootNode = new TreeNodeImpl();\n            addNodes(null, rootNode, properties);\n\n        } catch (Exception e) {\n\n            // throw new FacesException(e.getMessage(), e);\n            System.out.println(&quot;Exception occured&quot;);\n        } finally {\n            if (dataStream != null) {\n                try {\n                    dataStream.close();\n                } catch (IOException e) {\n                    externalContext.log(e.getMessage(), e);\n                }\n            }\n        }\n    }\n\n    public void processSelection(NodeSelectedEvent event) {\n        HtmlTree tree = (HtmlTree) event.getComponent();\n        nodeTitle = (String) tree.getRowData();\n        selectedNodeChildren.clear();\n        TreeNode currentNode = tree.getModelTreeNode(tree.getRowKey());\n        if (currentNode.isLeaf()) {\n            selectedNodeChildren.add((String) currentNode.getData());\n        } else {\n            Iterator&lt;Map.Entry&lt;Object, TreeNode&gt;&gt; it = currentNode\n                    .getChildren();\n            while (it != null &amp;&amp; it.hasNext()) {\n                Map.Entry&lt;Object, TreeNode&gt; entry = it.next();\n                selectedNodeChildren.add(entry.getValue().getData().toString());\n            }\n        }\n    }\n\n    public TreeNode getTreeNode() {\n        if (rootNode == null) {\n            loadTree();\n        }\n\n        return rootNode;\n    }\n\n    public String getNodeTitle() {\n        return nodeTitle;\n    }\n\n    public void setNodeTitle(String nodeTitle) {\n        this.nodeTitle = nodeTitle;\n    }\n\n}\n</code></pre>\n<p>But am unable to populate the tree structure.</p>\n<p>I think the path of my properties file is wrong; can you say where to keep the properties file ?</p>\n<p>I am getting the below error:</p>\n<pre><code>javax.servlet.ServletException: /pages/fullTree.jsp(19,3) '#{simpleTreeBean.treeNode}' Error reading 'treeNode' on type com.ge.beans.SimpleTreeBean\n    javax.faces.webapp.FacesServlet.service(FacesServlet.java:277)\n    org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:177)\n    org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:267)\n    org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:380)\n    org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:507)\n\n\nroot cause \n\norg.apache.jasper.el.JspELException: /pages/fullTree.jsp(19,3) '#{simpleTreeBean.treeNode}' Error reading 'treeNode' on type com.ge.beans.SimpleTreeBean\n    org.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:107)\n    javax.faces.component.UIData.getValue(UIData.java:609)\n    org.ajax4jsf.component.UIDataAdaptor.getValue(UIDataAdaptor.java:1640)\n    org.richfaces.component.UITree.createDataModel(UITree.java:664)\n    org.ajax4jsf.component.UIDataAdaptor.getExtendedDataModel(UIDataAdaptor.java:621)\n    org.ajax4jsf.component.UIDataAdaptor.setRowKey(UIDataAdaptor.java:339)\n    org.richfaces.renderkit.TreeRendererBase.writeContent(TreeRendererBase.java:632)\n    org.richfaces.renderkit.TreeRendererBase.encodeChildren(TreeRendererBase.java:573)\n    javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\n    com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeRecursive(HtmlBasicRenderer.java:234)\n    com.sun.faces.renderkit.html_basic.GridRenderer.renderRow(GridRenderer.java:178)\n    com.sun.faces.renderkit.html_basic.GridRenderer.encodeChildren(GridRenderer.java:126)\n    javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\n    javax.faces.component.UIComponent.encodeAll(UIComponent.java:936)\n    javax.faces.render.Renderer.encodeChildren(Renderer.java:148)\n    javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\n    javax.faces.component.UIComponent.encodeAll(UIComponent.java:936)\n    javax.faces.component.UIComponent.encodeAll(UIComponent.java:942)\n    com.sun.faces.application.ViewHandlerImpl.doRenderView(ViewHandlerImpl.java:271)\n    com.sun.faces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:202)\n    org.ajax4jsf.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:108)\n    org.ajax4jsf.application.AjaxViewHandler.renderView(AjaxViewHandler.java:196)\n    com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:109)\n    com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\n    com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\n    javax.faces.webapp.FacesServlet.service(FacesServlet.java:266)\n    org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:177)\n    org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:267)\n    org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:380)\n    org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:507)\n\n\nroot cause \n\njava.lang.NullPointerException\n    java.util.Properties$LineReader.readLine(Unknown Source)\n    java.util.Properties.load0(Unknown Source)\n    java.util.Properties.load(Unknown Source)\n    com.ge.beans.SimpleTreeBean.loadTree(SimpleTreeBean.java:70)\n    com.ge.beans.SimpleTreeBean.getTreeNode(SimpleTreeBean.java:99)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    javax.el.BeanELResolver.getValue(BeanELResolver.java:62)\n    javax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)\n    com.sun.faces.el.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:72)\n    org.apache.el.parser.AstValue.getValue(AstValue.java:118)\n    org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:186)\n    org.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:101)\n    javax.faces.component.UIData.getValue(UIData.java:609)\n    org.ajax4jsf.component.UIDataAdaptor.getValue(UIDataAdaptor.java:1640)\n    org.richfaces.component.UITree.createDataModel(UITree.java:664)\n    org.ajax4jsf.component.UIDataAdaptor.getExtendedDataModel(UIDataAdaptor.java:621)\n    org.ajax4jsf.component.UIDataAdaptor.setRowKey(UIDataAdaptor.java:339)\n    org.richfaces.renderkit.TreeRendererBase.writeContent(TreeRendererBase.java:632)\n    org.richfaces.renderkit.TreeRendererBase.encodeChildren(TreeRendererBase.java:573)\n    javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\n    com.sun.faces.renderkit.html_basic.HtmlBasicRenderer.encodeRecursive(HtmlBasicRenderer.java:234)\n    com.sun.faces.renderkit.html_basic.GridRenderer.renderRow(GridRenderer.java:178)\n    com.sun.faces.renderkit.html_basic.GridRenderer.encodeChildren(GridRenderer.java:126)\n    javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\n    javax.faces.component.UIComponent.encodeAll(UIComponent.java:936)\n    javax.faces.render.Renderer.encodeChildren(Renderer.java:148)\n    javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:837)\n    javax.faces.component.UIComponent.encodeAll(UIComponent.java:936)\n    javax.faces.component.UIComponent.encodeAll(UIComponent.java:942)\n    com.sun.faces.application.ViewHandlerImpl.doRenderView(ViewHandlerImpl.java:271)\n    com.sun.faces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:202)\n    org.ajax4jsf.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:108)\n    org.ajax4jsf.application.AjaxViewHandler.renderView(AjaxViewHandler.java:196)\n    com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:109)\n    com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\n    com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\n    javax.faces.webapp.FacesServlet.service(FacesServlet.java:266)\n    org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:177)\n    org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:267)\n    org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:380)\n    org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:507)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","javadoc"],"answers":[{"tags":[],"owner":{"account_id":130020,"reputation":2369,"user_id":328982,"display_name":"Dmytro Pishchukhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654852163,"creation_date":1654852163,"answer_id":72571796,"question_id":70364282,"body_markdown":"it&#39;s possible with [Spring Boot Configuration Metadata][1] and then [conversion to HTML][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.6.8/reference/html/configuration-metadata.html#appendix.configuration-metadata\r\n  [2]: https://stackoverflow.com/a/47765740/328982","title":"Spring configuration. Generate documentation for all configuration keys","body":"<p>it's possible with <a href=\"https://docs.spring.io/spring-boot/docs/2.6.8/reference/html/configuration-metadata.html#appendix.configuration-metadata\" rel=\"nofollow noreferrer\">Spring Boot Configuration Metadata</a> and then <a href=\"https://stackoverflow.com/a/47765740/328982\">conversion to HTML</a></p>\n"}],"owner":{"account_id":130020,"reputation":2369,"user_id":328982,"display_name":"Dmytro Pishchukhin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72571796,"answer_count":1,"score":0,"last_activity_date":1654852163,"creation_date":1639573818,"question_id":70364282,"body_markdown":"Is there any way to generate Javadoc-like documentation that contains only Spring Configuration keys with description and default values? ","title":"Spring configuration. Generate documentation for all configuration keys","body":"<p>Is there any way to generate Javadoc-like documentation that contains only Spring Configuration keys with description and default values?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":131617,"reputation":2583,"user_id":331752,"accept_rate":87,"display_name":"Sauleil"},"score":0,"creation_date":1323403928,"post_id":8440928,"comment_id":10432642,"body_markdown":"What is your OS? And what are the problem with the installation of jdk 1.1? The archive on Sun web site should work fine.","body":"What is your OS? And what are the problem with the installation of jdk 1.1? The archive on Sun web site should work fine."},{"owner":{"account_id":1078346,"reputation":715,"user_id":1076011,"accept_rate":42,"display_name":"LazyGuy"},"score":0,"creation_date":1323404569,"post_id":8440928,"comment_id":10432715,"body_markdown":"Mine is Windows O.S. My machine already contains jdk 1.6 version. i downloaded jdk 1.1 version which is an .exe file from sun site. When i try to install the exe file. after 38 % it shows a dialog box error contains no information.","body":"Mine is Windows O.S. My machine already contains jdk 1.6 version. i downloaded jdk 1.1 version which is an .exe file from sun site. When i try to install the exe file. after 38 % it shows a dialog box error contains no information."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1323417976,"post_id":8440928,"comment_id":10434824,"body_markdown":"`This is too urgent for me. Badly i need the solution.` This just encourages people to flame you.  Every one on any forum would like a response quickly.  Given people do this for free, you can&#39;t expect too much.","body":"<code>This is too urgent for me. Badly i need the solution.</code> This just encourages people to flame you.  Every one on any forum would like a response quickly.  Given people do this for free, you can&#39;t expect too much."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1323418028,"post_id":8440928,"comment_id":10434833,"body_markdown":"@user1076011, Java 1.1. is so old, you may have to install an older OS on an older hardware to get it to work.  It hasn&#39;t been supported for a decade. Try it on Windows 95 (in a virtual machine if you have it) and it should work.","body":"@user1076011, Java 1.1. is so old, you may have to install an older OS on an older hardware to get it to work.  It hasn&#39;t been supported for a decade. Try it on Windows 95 (in a virtual machine if you have it) and it should work."},{"owner":{"account_id":936041,"reputation":2256,"user_id":966703,"accept_rate":50,"display_name":"Burhan Ali"},"score":0,"creation_date":1323620763,"post_id":8440928,"comment_id":10468337,"body_markdown":"You start by talking about a `.class` file and `BadClassVersionError` and then start talking about compiling a `.java` file. Which are you having a problem with?","body":"You start by talking about a <code>.class</code> file and <code>BadClassVersionError</code> and then start talking about compiling a <code>.java</code> file. Which are you having a problem with?"},{"owner":{"account_id":1078346,"reputation":715,"user_id":1076011,"accept_rate":42,"display_name":"LazyGuy"},"score":0,"creation_date":1323769291,"post_id":8440928,"comment_id":10500167,"body_markdown":"Thanks to all..especially to Neil, I solved the problem by using the javac -source 1.1 -target 1.1 Hello.java. but the problem solved is instead of -source 1.1 , i changed to -source 1.2. rest is same. and it worked","body":"Thanks to all..especially to Neil, I solved the problem by using the javac -source 1.1 -target 1.1 Hello.java. but the problem solved is instead of -source 1.1 , i changed to -source 1.2. rest is same. and it worked"}],"answers":[{"tags":[],"owner":{"account_id":143880,"reputation":3607,"user_id":352542,"display_name":"Neil Essy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1323404288,"creation_date":1323404288,"answer_id":8441007,"question_id":8440928,"body_markdown":"Add -source 1.1 to your commandline\r\n\r\n    javac -source 1.1 -target 1.1 Hello.java","title":"How to compile a class in to Jdk 1.1 version which was in Jdk 1.6?","body":"<p>Add -source 1.1 to your commandline</p>\n\n<pre><code>javac -source 1.1 -target 1.1 Hello.java\n</code></pre>\n"}],"owner":{"account_id":1078346,"reputation":715,"user_id":1076011,"accept_rate":42,"display_name":"LazyGuy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2600,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":8441007,"answer_count":1,"score":5,"last_activity_date":1654852120,"creation_date":1323403565,"question_id":8440928,"body_markdown":"I have a .class file which is in jdk 1.1 version. When i tried to compile in Jdk 1.5 and 1.6, it shows BadClassVersionError. \r\n\r\nSo I tried for jdk 1.1 version. I am unable to get it from anywhere.\r\nExcept from sun&#39;s java site. but when I try to install, its not installing.\r\n\r\nAs I searched google, I came to know that there is an other option \r\nso that we can compile our class in 1.1 version.\r\n\r\n**Hello.java is my java file. and my current version is jdk 1.6**\r\n\r\nWhen I use the below command:\r\n \r\n    javap -verbose Hello\r\n\r\nIt shows **minor version : 0**\r\nand **major version   : 50**\r\n\r\nNow I used the below command :\r\n\r\n    javac -target 1.5 Hello.java\r\n\r\nIt works correctly. Now it shows major version as **49**.\r\n\r\nBut the problem is when I try the same command with **target 1.1**. \r\n\r\n    javac -target 1.1 Hello.java\r\n\r\nIt&#39;s not working, it shows the below error:\r\n\r\n&gt; javac: target release 1.1 conflicts with default source release 1.5\r\n\r\nIs the command usage wrong?\r\n","title":"How to compile a class in to Jdk 1.1 version which was in Jdk 1.6?","body":"<p>I have a .class file which is in jdk 1.1 version. When i tried to compile in Jdk 1.5 and 1.6, it shows BadClassVersionError.</p>\n<p>So I tried for jdk 1.1 version. I am unable to get it from anywhere.\nExcept from sun's java site. but when I try to install, its not installing.</p>\n<p>As I searched google, I came to know that there is an other option\nso that we can compile our class in 1.1 version.</p>\n<p><strong>Hello.java is my java file. and my current version is jdk 1.6</strong></p>\n<p>When I use the below command:</p>\n<pre><code>javap -verbose Hello\n</code></pre>\n<p>It shows <strong>minor version : 0</strong>\nand <strong>major version   : 50</strong></p>\n<p>Now I used the below command :</p>\n<pre><code>javac -target 1.5 Hello.java\n</code></pre>\n<p>It works correctly. Now it shows major version as <strong>49</strong>.</p>\n<p>But the problem is when I try the same command with <strong>target 1.1</strong>.</p>\n<pre><code>javac -target 1.1 Hello.java\n</code></pre>\n<p>It's not working, it shows the below error:</p>\n<blockquote>\n<p>javac: target release 1.1 conflicts with default source release 1.5</p>\n</blockquote>\n<p>Is the command usage wrong?</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1654850565,"post_id":72571344,"comment_id":128195257,"body_markdown":"Try adding `lblgif` to `jpCenter` ... and Swing components (with the exception of windows) are visible by default","body":"Try adding <code>lblgif</code> to <code>jpCenter</code> ... and Swing components (with the exception of windows) are visible by default"},{"owner":{"account_id":20981545,"reputation":33,"user_id":15416260,"display_name":"titan"},"score":0,"creation_date":1654851099,"post_id":72571344,"comment_id":128195436,"body_markdown":"thankss it is working right now.","body":"thankss it is working right now."}],"answers":[{"tags":[],"owner":{"account_id":25523036,"reputation":21,"user_id":19312557,"display_name":"Mykyta Ryasny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654851204,"creation_date":1654851204,"answer_id":72571591,"question_id":72571344,"body_markdown":"You never add your label to any frame/panel. In your code it might be something like this:\r\n```\r\n    public static void addConfetti() {\r\n        JPanel jpCenter = new JPanel();\r\n        JLabel lblgif = new JLabel(new ImageIcon(&quot;path/to/your/confetti-40.gif&quot;));\r\n        frame.add(jpCenter, BorderLayout.CENTER);\r\n        jpCenter.add(lblgif);\r\n        lblgif.setVisible(true);\r\n        \r\n      }\r\n```\r\n\r\nAlso check your absolute path from your projecto to your gif file, your code in works for me on my PC.","title":"Adding GIF to frame","body":"<p>You never add your label to any frame/panel. In your code it might be something like this:</p>\n<pre><code>    public static void addConfetti() {\n        JPanel jpCenter = new JPanel();\n        JLabel lblgif = new JLabel(new ImageIcon(&quot;path/to/your/confetti-40.gif&quot;));\n        frame.add(jpCenter, BorderLayout.CENTER);\n        jpCenter.add(lblgif);\n        lblgif.setVisible(true);\n        \n      }\n</code></pre>\n<p>Also check your absolute path from your projecto to your gif file, your code in works for me on my PC.</p>\n"}],"owner":{"account_id":20981545,"reputation":33,"user_id":15416260,"display_name":"titan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654859827,"answer_count":1,"score":1,"last_activity_date":1654852119,"creation_date":1654850106,"question_id":72571344,"body_markdown":"I am trying to add a GIF to the frame. Here is my code but when I run it  cannot see GIF. Is there a function to add GIF to java?\r\nAny help would be appreciated.\r\n```java\r\npublic class confetti extends JFrame\r\n{\r\n\tprivate static JFrame frame;\r\n\r\n    public confetti() {\r\n\t    frame = new JFrame();\r\n        frame.setSize(510, 500);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    \taddConfetti();\r\n\t}\r\n\r\n    public static void addConfetti() {\r\n\t\tJPanel jpCenter = new JPanel();\r\n\t\tJLabel lblgif = new JLabel(new ImageIcon(&quot;confetti-40.gif&quot;));\r\n\t    frame.add(jpCenter,BorderLayout.CENTER);\r\n\t    lblgif.setVisible(true);\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n\t    new confetti();\r\n    }\r\n}\r\n```\r\n","title":"Adding GIF to frame","body":"<p>I am trying to add a GIF to the frame. Here is my code but when I run it  cannot see GIF. Is there a function to add GIF to java?\nAny help would be appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class confetti extends JFrame\n{\n    private static JFrame frame;\n\n    public confetti() {\n        frame = new JFrame();\n        frame.setSize(510, 500);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        addConfetti();\n    }\n\n    public static void addConfetti() {\n        JPanel jpCenter = new JPanel();\n        JLabel lblgif = new JLabel(new ImageIcon(&quot;confetti-40.gif&quot;));\n        frame.add(jpCenter,BorderLayout.CENTER);\n        lblgif.setVisible(true);\n    }\n\n    public static void main(String args[]) {\n        new confetti();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654851763,"post_id":72570569,"comment_id":128195663,"body_markdown":"Please provide the full exception stacktrace. As an aside, you really shouldn&#39;t use JDBC drivers from Android. It usually doesn&#39;t perform well, is relatively insecure, and recent versions of JDBC drivers don&#39;t always work because they use features of Java not available on Android. Instead, use a REST service to mediate between your Android application and the database.","body":"Please provide the full exception stacktrace. As an aside, you really shouldn&#39;t use JDBC drivers from Android. It usually doesn&#39;t perform well, is relatively insecure, and recent versions of JDBC drivers don&#39;t always work because they use features of Java not available on Android. Instead, use a REST service to mediate between your Android application and the database."}],"answers":[{"tags":[],"owner":{"account_id":22797163,"reputation":11,"user_id":16950547,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654851182,"creation_date":1654851182,"answer_id":72571586,"question_id":72570569,"body_markdown":"If you have a similar issue just put it into another thread... \r\n\r\n```\r\npublic void login() throws SQLException {\r\n    Thread t = new Thread() {\r\n        @Override \r\n        public void run() {\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(url, user, pass);\r\n        \r\n        } catch(Exception e) {\r\n            Log.d(TAG, &quot;login: failed&quot;);\r\n        }\r\n}\r\n};\r\n}\r\n```","title":"DriverManager.getConnection() failes","body":"<p>If you have a similar issue just put it into another thread...</p>\n<pre><code>public void login() throws SQLException {\n    Thread t = new Thread() {\n        @Override \n        public void run() {\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(url, user, pass);\n        \n        } catch(Exception e) {\n            Log.d(TAG, &quot;login: failed&quot;);\n        }\n}\n};\n}\n</code></pre>\n"}],"owner":{"account_id":22797163,"reputation":11,"user_id":16950547,"display_name":"Marcel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654851774,"creation_date":1654846167,"question_id":72570569,"body_markdown":"In my Class DBcon which is Async i connect to a Database\r\n```\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\nConnection con = DriverManager.getConnection(url, user, pass);\r\n```\r\nworks just fine in the `doInBackground()` method \r\nhowever, when i try it in another method it does not work\r\n\r\n```\r\npublic void login() throws SQLException {\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection con = DriverManager.getConnection(url, user, pass);\r\n        \r\n        } catch(Exception e) {\r\n            Log.d(TAG, &quot;login: failed&quot;);\r\n        }\r\n}\r\n``` \r\nIt failes at `Connection con = DriverManager.getConnection(url, user, pass);`\r\n\r\nError: \r\n\r\n``` \r\nat com.mysql.jdbc.Connection.createNewIO(Connection.java:1830)\r\nW/System.err:     at com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:430)\r\nW/System.err:     at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:268)\r\nW/System.err:     at java.sql.DriverManager.getConnection(DriverManager.java:580)\r\nW/System.err:     at java.sql.DriverManager.getConnection(DriverManager.java:218)\r\nW/System.err:     at de.egeplast.logistikscanner.DBcon.login(DBcon.java:212)\r\nW/System.err:     at de.egeplast.logistikscanner.Honeywell$3.onClick(Honeywell.java:138)\r\nW/System.err:     at android.view.View.performClick(View.java:7448)\r\nW/System.err:     at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1194)\r\nW/System.err:     at android.view.View.performClickInternal(View.java:7425)\r\nW/System.err:     at android.view.View.access$3600(View.java:810)\r\nW/System.err:     at android.view.View$PerformClick.run(View.java:28309)\r\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\r\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\r\nW/System.err:     at android.os.Looper.loop(Looper.java:223)\r\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7697)\r\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:952)\r\n```\r\n\r\nurl, user, pass are right ","title":"DriverManager.getConnection() failes","body":"<p>In my Class DBcon which is Async i connect to a Database</p>\n<pre><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\nConnection con = DriverManager.getConnection(url, user, pass);\n</code></pre>\n<p>works just fine in the <code>doInBackground()</code> method\nhowever, when i try it in another method it does not work</p>\n<pre><code>public void login() throws SQLException {\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(url, user, pass);\n        \n        } catch(Exception e) {\n            Log.d(TAG, &quot;login: failed&quot;);\n        }\n}\n</code></pre>\n<p>It failes at <code>Connection con = DriverManager.getConnection(url, user, pass);</code></p>\n<p>Error:</p>\n<pre><code>at com.mysql.jdbc.Connection.createNewIO(Connection.java:1830)\nW/System.err:     at com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:430)\nW/System.err:     at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:268)\nW/System.err:     at java.sql.DriverManager.getConnection(DriverManager.java:580)\nW/System.err:     at java.sql.DriverManager.getConnection(DriverManager.java:218)\nW/System.err:     at de.egeplast.logistikscanner.DBcon.login(DBcon.java:212)\nW/System.err:     at de.egeplast.logistikscanner.Honeywell$3.onClick(Honeywell.java:138)\nW/System.err:     at android.view.View.performClick(View.java:7448)\nW/System.err:     at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1194)\nW/System.err:     at android.view.View.performClickInternal(View.java:7425)\nW/System.err:     at android.view.View.access$3600(View.java:810)\nW/System.err:     at android.view.View$PerformClick.run(View.java:28309)\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:938)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\nW/System.err:     at android.os.Looper.loop(Looper.java:223)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7697)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:952)\n</code></pre>\n<p>url, user, pass are right</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654851274,"creation_date":1654851274,"answer_id":72571605,"question_id":72571504,"body_markdown":"[`groupingBy(classifier, downstream)` collector](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-) does exactly this: \r\n\r\n\r\n    import java.util.stream.Collectors.groupingBy;\r\n    import java.util.stream.Collectors.mapping;\r\n    import java.util.stream.Collectors.toList;\r\n\r\n    ...\r\n\r\n    Map&lt;Long, List&lt;String&gt;&gt; codesByCouponId = \r\n        rCouponDetailDAO.getAllDetailsByCouponId(couponIds)\r\n       .stream()\r\n       .collect(\r\n           groupingBy(\r\n               RCouponDetail::getRCouponId, // classifier\r\n               mapping( // downstream: \r\n                   RCouponDetail::getCode, // map grouped items\r\n                   toList() // collect mapped grouped items to list\r\n               )\r\n           )\r\n       );\r\n","title":"Java streams: How to map grouped items (return Map&lt;Long, List&lt;Mapped-Item&gt;&gt; instead of Map&lt;Long, List&lt;Original-Item&gt;&gt;)?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>groupingBy(classifier, downstream)</code> collector</a> does exactly this:</p>\n<pre><code>import java.util.stream.Collectors.groupingBy;\nimport java.util.stream.Collectors.mapping;\nimport java.util.stream.Collectors.toList;\n\n...\n\nMap&lt;Long, List&lt;String&gt;&gt; codesByCouponId = \n    rCouponDetailDAO.getAllDetailsByCouponId(couponIds)\n   .stream()\n   .collect(\n       groupingBy(\n           RCouponDetail::getRCouponId, // classifier\n           mapping( // downstream: \n               RCouponDetail::getCode, // map grouped items\n               toList() // collect mapped grouped items to list\n           )\n       )\n   );\n</code></pre>\n"}],"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654851533,"creation_date":1654850855,"question_id":72571504,"body_markdown":"I have this query:\r\n\r\n \r\n\r\n      public List&lt;RCouponDetailEntity&gt; getAllDetailsByCouponId(final List&lt;Long&gt; couponIds) {\r\n            return entityManager.createQuery(&quot;SELECT rc from RCouponDetailEntity rc where status=&#39;Active&#39; and rc.rCoupon.id in (:couponIds)&quot;,\r\n                    RCouponDetailEntity.class).setParameter(&quot;couponIds&quot;, couponIds).getResultList();\r\n        }\r\n\r\nAnd then :\r\n\r\n       Map&lt;Long, List&lt;RCouponDetail&gt;&gt; details = rCouponDetailDAO.getAllDetailsByCouponId(couponIds).stream()\r\n                            .collect(Collectors.groupingBy(RCouponDetail::getRCouponId));\r\n\r\n\r\nIn RCouponDetailEntity i just want to get column code, so what i want to achive is to return \r\n \r\n\r\n     Map&lt;Long, List&lt;String&gt;\r\nwhere key is `couponId` and List&lt;String&gt; is string of codes from `RCouponDetailEntity` .\r\nAny suggestion ?","title":"Java streams: How to map grouped items (return Map&lt;Long, List&lt;Mapped-Item&gt;&gt; instead of Map&lt;Long, List&lt;Original-Item&gt;&gt;)?","body":"<p>I have this query:</p>\n<pre><code>  public List&lt;RCouponDetailEntity&gt; getAllDetailsByCouponId(final List&lt;Long&gt; couponIds) {\n        return entityManager.createQuery(&quot;SELECT rc from RCouponDetailEntity rc where status='Active' and rc.rCoupon.id in (:couponIds)&quot;,\n                RCouponDetailEntity.class).setParameter(&quot;couponIds&quot;, couponIds).getResultList();\n    }\n</code></pre>\n<p>And then :</p>\n<pre><code>   Map&lt;Long, List&lt;RCouponDetail&gt;&gt; details = rCouponDetailDAO.getAllDetailsByCouponId(couponIds).stream()\n                        .collect(Collectors.groupingBy(RCouponDetail::getRCouponId));\n</code></pre>\n<p>In RCouponDetailEntity i just want to get column code, so what i want to achive is to return</p>\n<pre><code> Map&lt;Long, List&lt;String&gt;\n</code></pre>\n<p>where key is <code>couponId</code> and List is string of codes from <code>RCouponDetailEntity</code> .\nAny suggestion ?</p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654851378,"creation_date":1654851378,"answer_id":72571633,"question_id":72570808,"body_markdown":"This is similar to https://stackoverflow.com/a/67635289/5019386. I think you need to make your dynamic item writers step-scoped as well, something like:\r\n\r\n```\r\npropertyValues.addPropertyValue(&quot;scope&quot;, &quot;step&quot;);\r\n```\r\n\r\nPlease note that I did not try that. That said,  I would really recommend making your app do one thing and do it well, ie isolate job definitions and package/run each job separately.","title":"Spring batch with two jobs FlatFileItemWriter and ClassifierCompositeItemWriter working together","body":"<p>This is similar to <a href=\"https://stackoverflow.com/a/67635289/5019386\">https://stackoverflow.com/a/67635289/5019386</a>. I think you need to make your dynamic item writers step-scoped as well, something like:</p>\n<pre><code>propertyValues.addPropertyValue(&quot;scope&quot;, &quot;step&quot;);\n</code></pre>\n<p>Please note that I did not try that. That said,  I would really recommend making your app do one thing and do it well, ie isolate job definitions and package/run each job separately.</p>\n"}],"owner":{"account_id":7454325,"reputation":131,"user_id":5668022,"display_name":"igarciadev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654851378,"creation_date":1654847494,"question_id":72570808,"body_markdown":"Issue\r\n---\r\nI&#39;ve to create a Spring batch project with two jobs that can be executed independently and together. Each job has the necessary code to read from database and to write using FlatFileItemWriter and ClassifierCompositeItemWriter. I&#39;ve found that if I execute the Jobs independently (-Dspring.batch.job.names=schoolJob,-Dspring.batch.job.names=studentJob), the files are generated fine, but when I execute the Jobs together (-Dspring.batch.job.names=schoolJob,studentJob), the files of a Job only have the footer and the header. There seems to be something wrong but I can&#39;t find the cause.\r\n\r\nSome code\r\n---\r\n- Batch config, job and steps\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\n@SuppressWarnings(&quot;rawtypes, unchecked&quot;)\r\npublic class MyJobConfiguration\r\n{\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Autowired\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    @Autowired\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    @Bean\r\n    public Step studentStep1() {\r\n        return stepBuilderFactory.get(&quot;calculateDistinctValuesAndRegisterStudentWriters&quot;)\r\n                                 .tasklet(new DynamicStudentWritersConfigurationTasklet(jdbcTemplate,\r\n                                                                                        applicationContext))\r\n                                 .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step schoolStep1() {\r\n        return stepBuilderFactory.get(&quot;calculateDistinctValuesAndRegisterSchoolWriters&quot;)\r\n                                 .tasklet(new DynamicSchoolWritersConfigurationTasklet(jdbcTemplate,\r\n                                                                                       applicationContext))\r\n                                 .build();\r\n    }\r\n\r\n    @Bean\r\n    @JobScope\r\n    public Step studentStep2(StudentReader reader,\r\n                             @Qualifier(&quot;studentClassfierItemWriter&quot;)\r\n                             ClassifierCompositeItemWriter&lt;Student&gt; writer) {\r\n        SimpleStepBuilder&lt;Student, Student&gt; studentStep2 = stepBuilderFactory.get(\r\n                &quot;readWriteStudents&quot;).&lt;Student, Student&gt;chunk(2).reader(reader).writer(writer);\r\n\r\n        Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(\r\n                FlatFileItemWriter.class);\r\n        for (FlatFileItemWriter flatFileItemWriter : beansOfType.values())\r\n        {\r\n            studentStep2.stream(flatFileItemWriter);\r\n        }\r\n\r\n        return studentStep2.build();\r\n    }\r\n\r\n    @Bean\r\n    @JobScope\r\n    public Step schoolStep2(SchoolReader reader,\r\n                            @Qualifier(&quot;schoolClassfierItemWriter&quot;)\r\n                            ClassifierCompositeItemWriter&lt;School&gt; writer) {\r\n        SimpleStepBuilder&lt;School, School&gt; schoolStep2 = stepBuilderFactory.get(&quot;readWriteSchools&quot;)\r\n                                                                          .&lt;School, School&gt;chunk(2)\r\n                                                                          .reader(reader)\r\n                                                                          .writer(writer);\r\n\r\n        Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(\r\n                FlatFileItemWriter.class);\r\n        for (FlatFileItemWriter flatFileItemWriter : beansOfType.values())\r\n        {\r\n            schoolStep2.stream(flatFileItemWriter);\r\n        }\r\n\r\n        return schoolStep2.build();\r\n    }\r\n\r\n    @Bean\r\n    public Job studentJob(Step studentStep1, Step studentStep2) {\r\n        return jobBuilderFactory.get(&quot;studentJob&quot;).start(studentStep1).next(studentStep2).build();\r\n    }\r\n\r\n    @Bean\r\n    public Job schoolJob(Step schoolStep1, Step schoolStep2) {\r\n        return jobBuilderFactory.get(&quot;schoolJob&quot;).start(schoolStep1).next(schoolStep2).build();\r\n    }\r\n```\r\n- Data source configuration\r\n```\r\n@Configuration\r\nclass DatasourceConfig\r\n{\r\n    @Bean\r\n    public DataSource dataSource()\r\n    {\r\n        String dbSchema = &quot;/org/springframework/batch/core/schema-h2.sql&quot;;\r\n        String initData = &quot;data.sql&quot;;\r\n\r\n        return new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.H2)\r\n                                            .addScript(dbSchema)\r\n                                            .addScript(initData)\r\n                                            .build();\r\n    }\r\n}\r\n```\r\n- Readers\r\n```\r\n@Component\r\nclass SchoolReader extends JdbcCursorItemReader&lt;School&gt;\r\n{\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception\r\n    {\r\n        super.setName(&quot;schoolItemReader&quot;);\r\n        super.setDataSource(dataSource);\r\n        super.setSql(&quot;select * from school&quot;);\r\n        super.setRowMapper(new BeanPropertyRowMapper&lt;&gt;(School.class));\r\n        super.afterPropertiesSet();\r\n    }\r\n}\r\n```\r\n```\r\n@Component\r\nclass StudentReader extends JdbcCursorItemReader&lt;Student&gt;\r\n{\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception\r\n    {\r\n        super.setName(&quot;studentItemReader&quot;);\r\n        super.setDataSource(dataSource);\r\n        super.setSql(&quot;select * from student&quot;);\r\n        super.setRowMapper(new BeanPropertyRowMapper&lt;&gt;(Student.class));\r\n        super.afterPropertiesSet();\r\n    }\r\n}\r\n```\r\n- Writers\r\n```\r\n@Configuration\r\npublic class SchoolWriter\r\n{\r\n    @Autowired\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    @Bean(name = &quot;schoolClassfierItemWriter&quot;)\r\n    @StepScope\r\n    public ClassifierCompositeItemWriter&lt;School&gt; itemWriter()\r\n    {\r\n        Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(\r\n                FlatFileItemWriter.class);\r\n\r\n        Classifier&lt;School, FlatFileItemWriter&lt;School&gt;&gt; classifier = school -&gt; beansOfType.get(\r\n                &quot;school-group&quot; + school.getGroupId() + &quot;Writer&quot;);\r\n        return new ClassifierCompositeItemWriterBuilder().classifier(classifier).build();\r\n    }\r\n}\r\n```\r\n```\r\n@Configuration\r\npublic class StudentWriter\r\n{\r\n    @Autowired\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    @Bean(name = &quot;studentClassfierItemWriter&quot;)\r\n    @StepScope\r\n    public ClassifierCompositeItemWriter&lt;Student&gt; itemWriter()\r\n    {\r\n        Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(\r\n                FlatFileItemWriter.class);\r\n\r\n        Classifier&lt;Student, FlatFileItemWriter&lt;Student&gt;&gt; classifier = student -&gt; beansOfType.get(\r\n                &quot;student-group&quot; + student.getGroupId() + &quot;Writer&quot;);\r\n        return new ClassifierCompositeItemWriterBuilder().classifier(classifier).build();\r\n\r\n    }\r\n}\r\n```\r\n- Tasklets\r\n```\r\nclass DynamicSchoolWritersConfigurationTasklet implements Tasklet\r\n{\r\n    private JdbcTemplate                   jdbcTemplate;\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    public DynamicSchoolWritersConfigurationTasklet(JdbcTemplate jdbcTemplate,\r\n                                                    ConfigurableApplicationContext applicationContext)\r\n    {\r\n        this.jdbcTemplate       = jdbcTemplate;\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext)\r\n    {\r\n        ConfigurableListableBeanFactory beanFactory = applicationContext.getBeanFactory();\r\n\r\n        String        sql    = &quot;select distinct(groupId) from school&quot;;\r\n        List&lt;Integer&gt; groups = jdbcTemplate.queryForList(sql, Integer.class);\r\n\r\n        for (Integer group : groups)\r\n        {\r\n            String name = &quot;school-group&quot; + group + &quot;Writer&quot;;\r\n\r\n            //@f:off\r\n            MutablePropertyValues propertyValues = new MutablePropertyValues();\r\n            propertyValues.addPropertyValue(&quot;name&quot;, name);\r\n            propertyValues.addPropertyValue(&quot;lineAggregator&quot;, new PassThroughLineAggregator&lt;&gt;());\r\n            propertyValues.addPropertyValue(&quot;resource&quot;, new FileSystemResource(&quot;school-&quot; + group + &quot;.txt&quot;));\r\n            propertyValues.addPropertyValue(&quot;headerCallback&quot;, (FlatFileHeaderCallback) writer -&gt; writer.write(&quot;header-school&quot;));\r\n            propertyValues.addPropertyValue(&quot;footerCallback&quot;, (FlatFileFooterCallback) writer -&gt; writer.write(&quot;footer-school&quot;));\r\n            //@f:on\r\n\r\n            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n            beanDefinition.setBeanClassName(FlatFileItemWriter.class.getName());\r\n            beanDefinition.setPropertyValues(propertyValues);\r\n\r\n            BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\r\n            registry.registerBeanDefinition(name, beanDefinition);\r\n        }\r\n\r\n        return RepeatStatus.FINISHED;\r\n    }\r\n}\r\n```\r\n```\r\nclass DynamicStudentWritersConfigurationTasklet implements Tasklet\r\n{\r\n    private JdbcTemplate                   jdbcTemplate;\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    public DynamicStudentWritersConfigurationTasklet(JdbcTemplate jdbcTemplate,\r\n                                                     ConfigurableApplicationContext applicationContext)\r\n    {\r\n        this.jdbcTemplate       = jdbcTemplate;\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext)\r\n    {\r\n        ConfigurableListableBeanFactory beanFactory = applicationContext.getBeanFactory();\r\n\r\n        String        sql    = &quot;select distinct(groupId) from student&quot;;\r\n        List&lt;Integer&gt; groups = jdbcTemplate.queryForList(sql, Integer.class);\r\n\r\n        for (Integer group : groups)\r\n        {\r\n            String name = &quot;student-group&quot; + group + &quot;Writer&quot;;\r\n\r\n            //@f:off\r\n            MutablePropertyValues propertyValues = new MutablePropertyValues();\r\n            propertyValues.addPropertyValue(&quot;name&quot;, name);\r\n            propertyValues.addPropertyValue(&quot;lineAggregator&quot;, new PassThroughLineAggregator&lt;&gt;());\r\n            propertyValues.addPropertyValue(&quot;resource&quot;, new FileSystemResource(&quot;student-&quot; + group + &quot;.txt&quot;));\r\n            propertyValues.addPropertyValue(&quot;headerCallback&quot;, (FlatFileHeaderCallback) writer -&gt; writer.write(&quot;header-student&quot;));\r\n            propertyValues.addPropertyValue(&quot;footerCallback&quot;, (FlatFileFooterCallback) writer -&gt; writer.write(&quot;footer-student&quot;));\r\n            //@f:on\r\n\r\n            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\r\n            beanDefinition.setBeanClassName(FlatFileItemWriter.class.getName());\r\n            beanDefinition.setPropertyValues(propertyValues);\r\n\r\n            BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\r\n            registry.registerBeanDefinition(name, beanDefinition);\r\n        }\r\n\r\n        return RepeatStatus.FINISHED;\r\n    }\r\n}\r\n```\r\n- DAO\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class School\r\n{\r\n    private int    id;\r\n    private String name;\r\n    private int    groupId;\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Student\r\n{\r\n    private int    id;\r\n    private String name;\r\n    private int    groupId;\r\n}\r\n```","title":"Spring batch with two jobs FlatFileItemWriter and ClassifierCompositeItemWriter working together","body":"<h2>Issue</h2>\n<p>I've to create a Spring batch project with two jobs that can be executed independently and together. Each job has the necessary code to read from database and to write using FlatFileItemWriter and ClassifierCompositeItemWriter. I've found that if I execute the Jobs independently (-Dspring.batch.job.names=schoolJob,-Dspring.batch.job.names=studentJob), the files are generated fine, but when I execute the Jobs together (-Dspring.batch.job.names=schoolJob,studentJob), the files of a Job only have the footer and the header. There seems to be something wrong but I can't find the cause.</p>\n<h2>Some code</h2>\n<ul>\n<li>Batch config, job and steps</li>\n</ul>\n<pre><code>@Configuration\n@EnableBatchProcessing\n@SuppressWarnings(&quot;rawtypes, unchecked&quot;)\npublic class MyJobConfiguration\n{\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    private ConfigurableApplicationContext applicationContext;\n\n    @Bean\n    public Step studentStep1() {\n        return stepBuilderFactory.get(&quot;calculateDistinctValuesAndRegisterStudentWriters&quot;)\n                                 .tasklet(new DynamicStudentWritersConfigurationTasklet(jdbcTemplate,\n                                                                                        applicationContext))\n                                 .build();\n    }\n\n    @Bean\n    public Step schoolStep1() {\n        return stepBuilderFactory.get(&quot;calculateDistinctValuesAndRegisterSchoolWriters&quot;)\n                                 .tasklet(new DynamicSchoolWritersConfigurationTasklet(jdbcTemplate,\n                                                                                       applicationContext))\n                                 .build();\n    }\n\n    @Bean\n    @JobScope\n    public Step studentStep2(StudentReader reader,\n                             @Qualifier(&quot;studentClassfierItemWriter&quot;)\n                             ClassifierCompositeItemWriter&lt;Student&gt; writer) {\n        SimpleStepBuilder&lt;Student, Student&gt; studentStep2 = stepBuilderFactory.get(\n                &quot;readWriteStudents&quot;).&lt;Student, Student&gt;chunk(2).reader(reader).writer(writer);\n\n        Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(\n                FlatFileItemWriter.class);\n        for (FlatFileItemWriter flatFileItemWriter : beansOfType.values())\n        {\n            studentStep2.stream(flatFileItemWriter);\n        }\n\n        return studentStep2.build();\n    }\n\n    @Bean\n    @JobScope\n    public Step schoolStep2(SchoolReader reader,\n                            @Qualifier(&quot;schoolClassfierItemWriter&quot;)\n                            ClassifierCompositeItemWriter&lt;School&gt; writer) {\n        SimpleStepBuilder&lt;School, School&gt; schoolStep2 = stepBuilderFactory.get(&quot;readWriteSchools&quot;)\n                                                                          .&lt;School, School&gt;chunk(2)\n                                                                          .reader(reader)\n                                                                          .writer(writer);\n\n        Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(\n                FlatFileItemWriter.class);\n        for (FlatFileItemWriter flatFileItemWriter : beansOfType.values())\n        {\n            schoolStep2.stream(flatFileItemWriter);\n        }\n\n        return schoolStep2.build();\n    }\n\n    @Bean\n    public Job studentJob(Step studentStep1, Step studentStep2) {\n        return jobBuilderFactory.get(&quot;studentJob&quot;).start(studentStep1).next(studentStep2).build();\n    }\n\n    @Bean\n    public Job schoolJob(Step schoolStep1, Step schoolStep2) {\n        return jobBuilderFactory.get(&quot;schoolJob&quot;).start(schoolStep1).next(schoolStep2).build();\n    }\n</code></pre>\n<ul>\n<li>Data source configuration</li>\n</ul>\n<pre><code>@Configuration\nclass DatasourceConfig\n{\n    @Bean\n    public DataSource dataSource()\n    {\n        String dbSchema = &quot;/org/springframework/batch/core/schema-h2.sql&quot;;\n        String initData = &quot;data.sql&quot;;\n\n        return new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.H2)\n                                            .addScript(dbSchema)\n                                            .addScript(initData)\n                                            .build();\n    }\n}\n</code></pre>\n<ul>\n<li>Readers</li>\n</ul>\n<pre><code>@Component\nclass SchoolReader extends JdbcCursorItemReader&lt;School&gt;\n{\n    @Autowired\n    private DataSource dataSource;\n\n    @Override\n    public void afterPropertiesSet() throws Exception\n    {\n        super.setName(&quot;schoolItemReader&quot;);\n        super.setDataSource(dataSource);\n        super.setSql(&quot;select * from school&quot;);\n        super.setRowMapper(new BeanPropertyRowMapper&lt;&gt;(School.class));\n        super.afterPropertiesSet();\n    }\n}\n</code></pre>\n<pre><code>@Component\nclass StudentReader extends JdbcCursorItemReader&lt;Student&gt;\n{\n    @Autowired\n    private DataSource dataSource;\n\n    @Override\n    public void afterPropertiesSet() throws Exception\n    {\n        super.setName(&quot;studentItemReader&quot;);\n        super.setDataSource(dataSource);\n        super.setSql(&quot;select * from student&quot;);\n        super.setRowMapper(new BeanPropertyRowMapper&lt;&gt;(Student.class));\n        super.afterPropertiesSet();\n    }\n}\n</code></pre>\n<ul>\n<li>Writers</li>\n</ul>\n<pre><code>@Configuration\npublic class SchoolWriter\n{\n    @Autowired\n    private ConfigurableApplicationContext applicationContext;\n\n    @Bean(name = &quot;schoolClassfierItemWriter&quot;)\n    @StepScope\n    public ClassifierCompositeItemWriter&lt;School&gt; itemWriter()\n    {\n        Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(\n                FlatFileItemWriter.class);\n\n        Classifier&lt;School, FlatFileItemWriter&lt;School&gt;&gt; classifier = school -&gt; beansOfType.get(\n                &quot;school-group&quot; + school.getGroupId() + &quot;Writer&quot;);\n        return new ClassifierCompositeItemWriterBuilder().classifier(classifier).build();\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class StudentWriter\n{\n    @Autowired\n    private ConfigurableApplicationContext applicationContext;\n\n    @Bean(name = &quot;studentClassfierItemWriter&quot;)\n    @StepScope\n    public ClassifierCompositeItemWriter&lt;Student&gt; itemWriter()\n    {\n        Map&lt;String, FlatFileItemWriter&gt; beansOfType = applicationContext.getBeansOfType(\n                FlatFileItemWriter.class);\n\n        Classifier&lt;Student, FlatFileItemWriter&lt;Student&gt;&gt; classifier = student -&gt; beansOfType.get(\n                &quot;student-group&quot; + student.getGroupId() + &quot;Writer&quot;);\n        return new ClassifierCompositeItemWriterBuilder().classifier(classifier).build();\n\n    }\n}\n</code></pre>\n<ul>\n<li>Tasklets</li>\n</ul>\n<pre><code>class DynamicSchoolWritersConfigurationTasklet implements Tasklet\n{\n    private JdbcTemplate                   jdbcTemplate;\n    private ConfigurableApplicationContext applicationContext;\n\n    public DynamicSchoolWritersConfigurationTasklet(JdbcTemplate jdbcTemplate,\n                                                    ConfigurableApplicationContext applicationContext)\n    {\n        this.jdbcTemplate       = jdbcTemplate;\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext)\n    {\n        ConfigurableListableBeanFactory beanFactory = applicationContext.getBeanFactory();\n\n        String        sql    = &quot;select distinct(groupId) from school&quot;;\n        List&lt;Integer&gt; groups = jdbcTemplate.queryForList(sql, Integer.class);\n\n        for (Integer group : groups)\n        {\n            String name = &quot;school-group&quot; + group + &quot;Writer&quot;;\n\n            //@f:off\n            MutablePropertyValues propertyValues = new MutablePropertyValues();\n            propertyValues.addPropertyValue(&quot;name&quot;, name);\n            propertyValues.addPropertyValue(&quot;lineAggregator&quot;, new PassThroughLineAggregator&lt;&gt;());\n            propertyValues.addPropertyValue(&quot;resource&quot;, new FileSystemResource(&quot;school-&quot; + group + &quot;.txt&quot;));\n            propertyValues.addPropertyValue(&quot;headerCallback&quot;, (FlatFileHeaderCallback) writer -&gt; writer.write(&quot;header-school&quot;));\n            propertyValues.addPropertyValue(&quot;footerCallback&quot;, (FlatFileFooterCallback) writer -&gt; writer.write(&quot;footer-school&quot;));\n            //@f:on\n\n            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n            beanDefinition.setBeanClassName(FlatFileItemWriter.class.getName());\n            beanDefinition.setPropertyValues(propertyValues);\n\n            BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\n            registry.registerBeanDefinition(name, beanDefinition);\n        }\n\n        return RepeatStatus.FINISHED;\n    }\n}\n</code></pre>\n<pre><code>class DynamicStudentWritersConfigurationTasklet implements Tasklet\n{\n    private JdbcTemplate                   jdbcTemplate;\n    private ConfigurableApplicationContext applicationContext;\n\n    public DynamicStudentWritersConfigurationTasklet(JdbcTemplate jdbcTemplate,\n                                                     ConfigurableApplicationContext applicationContext)\n    {\n        this.jdbcTemplate       = jdbcTemplate;\n        this.applicationContext = applicationContext;\n    }\n\n    @Override\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext)\n    {\n        ConfigurableListableBeanFactory beanFactory = applicationContext.getBeanFactory();\n\n        String        sql    = &quot;select distinct(groupId) from student&quot;;\n        List&lt;Integer&gt; groups = jdbcTemplate.queryForList(sql, Integer.class);\n\n        for (Integer group : groups)\n        {\n            String name = &quot;student-group&quot; + group + &quot;Writer&quot;;\n\n            //@f:off\n            MutablePropertyValues propertyValues = new MutablePropertyValues();\n            propertyValues.addPropertyValue(&quot;name&quot;, name);\n            propertyValues.addPropertyValue(&quot;lineAggregator&quot;, new PassThroughLineAggregator&lt;&gt;());\n            propertyValues.addPropertyValue(&quot;resource&quot;, new FileSystemResource(&quot;student-&quot; + group + &quot;.txt&quot;));\n            propertyValues.addPropertyValue(&quot;headerCallback&quot;, (FlatFileHeaderCallback) writer -&gt; writer.write(&quot;header-student&quot;));\n            propertyValues.addPropertyValue(&quot;footerCallback&quot;, (FlatFileFooterCallback) writer -&gt; writer.write(&quot;footer-student&quot;));\n            //@f:on\n\n            GenericBeanDefinition beanDefinition = new GenericBeanDefinition();\n            beanDefinition.setBeanClassName(FlatFileItemWriter.class.getName());\n            beanDefinition.setPropertyValues(propertyValues);\n\n            BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\n            registry.registerBeanDefinition(name, beanDefinition);\n        }\n\n        return RepeatStatus.FINISHED;\n    }\n}\n</code></pre>\n<ul>\n<li>DAO</li>\n</ul>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\npublic class School\n{\n    private int    id;\n    private String name;\n    private int    groupId;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Student\n{\n    private int    id;\n    private String name;\n    private int    groupId;\n}\n</code></pre>\n"},{"tags":["java","arrays","string","matrix"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1654815498,"post_id":72567454,"comment_id":128188609,"body_markdown":"What means _**move the zero in all 4 directions**_ ? How dose the expected result look like?","body":"What means <i><b>move the zero in all 4 directions</b></i> ? How dose the expected result look like?"},{"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"score":0,"creation_date":1654816410,"post_id":72567454,"comment_id":128188738,"body_markdown":"well, if I want to move it up, then the zero in the map rises 1 block higher. If lower, then lower. And if I want to move him when he is at the barrier, then he appears on the other side. \nSomething similar to the snake game, only without glasses, and without increasing the snake itself, and in the console.","body":"well, if I want to move it up, then the zero in the map rises 1 block higher. If lower, then lower. And if I want to move him when he is at the barrier, then he appears on the other side.  Something similar to the snake game, only without glasses, and without increasing the snake itself, and in the console."},{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1654817907,"post_id":72567454,"comment_id":128188954,"body_markdown":"This is just a 2d array. Take a look at what each index is actually doing. The first index is selecting one of the sub-arrays, and the second index is selecting a value within that sub-array. The way you have it laid out, this means the first index represents vertical movement, and the second one represents horizontal movement. For example, your 0 is currently at `map[1][1]`. Keeping in mind what I said before, to move it up you can place it at `map[0][1]`. To move down you put it at `map[2][1]`. Left and right is the same but with the second index instead of the first.","body":"This is just a 2d array. Take a look at what each index is actually doing. The first index is selecting one of the sub-arrays, and the second index is selecting a value within that sub-array. The way you have it laid out, this means the first index represents vertical movement, and the second one represents horizontal movement. For example, your 0 is currently at <code>map[1][1]</code>. Keeping in mind what I said before, to move it up you can place it at <code>map[0][1]</code>. To move down you put it at <code>map[2][1]</code>. Left and right is the same but with the second index instead of the first."},{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1654818075,"post_id":72567454,"comment_id":128188979,"body_markdown":"You can read more about the concept of 2d arrays [here](https://www.cs.cmu.edu/~mrmiller/15-110/Handouts/arrays2D.pdf).","body":"You can read more about the concept of 2d arrays <a href=\"https://www.cs.cmu.edu/~mrmiller/15-110/Handouts/arrays2D.pdf\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654851300,"creation_date":1654850987,"answer_id":72571538,"question_id":72567454,"body_markdown":"The code you&#39;ve written will just attempt the printing of your matrix. If you want to move the &quot;0&quot; element around your matrix, you first need to define an `enum` to establish the direction and then a method `move()` that given a direction `d` and a matrix `m` will move the &quot;0&quot; element accordingly.\r\n\r\nThe element movement is just a rotation that increments or decrements the respective index by taking care of the edge cases (the row and column&#39;s bounds).\r\n\r\n```\r\npublic class Main {\r\n\r\n    public enum Direction {\r\n        UP, DOWN, LEFT, RIGHT\r\n    }\r\n\r\n    public static void move(Direction move, String[][] matrix) {\r\n        int row = -1, col = -1, newRow, newCol;\r\n        String temp;\r\n\r\n        //Finding the position of the &quot;0&quot; element\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                if (matrix[i][j].equals(&quot;0&quot;)) {\r\n                    row = i;\r\n                    col = j;\r\n                    break;\r\n                }\r\n            }\r\n            if (row != -1) break;\r\n        }\r\n\r\n        //If not 0 element is found then the method is terminated\r\n        if (row &lt; 0 || col &lt; 0) {\r\n            return;\r\n        }\r\n\r\n        switch (move) {\r\n            case UP:\r\n                newRow = row - 1 &lt; 0 ? matrix.length - 1 : row - 1;\r\n                temp = matrix[newRow][col];\r\n                matrix[newRow][col] = matrix[row][col];\r\n                matrix[row][col] = temp;\r\n                break;\r\n            case DOWN:\r\n                newRow = (row + 1) % matrix.length;\r\n                temp = matrix[newRow][col];\r\n                matrix[newRow][col] = matrix[row][col];\r\n                matrix[row][col] = temp;\r\n                break;\r\n            case LEFT:\r\n                newCol = col - 1 &lt; 0 ? matrix[row].length - 1 : col - 1;\r\n                temp = matrix[row][newCol];\r\n                matrix[row][newCol] = matrix[row][col];\r\n                matrix[row][col] = temp;\r\n                break;\r\n            case RIGHT:\r\n                newCol = (col + 1) % matrix[row].length;\r\n                temp = matrix[row][newCol];\r\n                matrix[row][newCol] = matrix[row][col];\r\n                matrix[row][col] = temp;\r\n                break;\r\n        }\r\n    }\r\n```\r\n\r\nHere is a link testing a possible implementation\r\n\r\nhttps://www.jdoodle.com/iembed/v0/s63","title":"Row matrix and move in row matrix","body":"<p>The code you've written will just attempt the printing of your matrix. If you want to move the &quot;0&quot; element around your matrix, you first need to define an <code>enum</code> to establish the direction and then a method <code>move()</code> that given a direction <code>d</code> and a matrix <code>m</code> will move the &quot;0&quot; element accordingly.</p>\n<p>The element movement is just a rotation that increments or decrements the respective index by taking care of the edge cases (the row and column's bounds).</p>\n<pre><code>public class Main {\n\n    public enum Direction {\n        UP, DOWN, LEFT, RIGHT\n    }\n\n    public static void move(Direction move, String[][] matrix) {\n        int row = -1, col = -1, newRow, newCol;\n        String temp;\n\n        //Finding the position of the &quot;0&quot; element\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix[i].length; j++) {\n                if (matrix[i][j].equals(&quot;0&quot;)) {\n                    row = i;\n                    col = j;\n                    break;\n                }\n            }\n            if (row != -1) break;\n        }\n\n        //If not 0 element is found then the method is terminated\n        if (row &lt; 0 || col &lt; 0) {\n            return;\n        }\n\n        switch (move) {\n            case UP:\n                newRow = row - 1 &lt; 0 ? matrix.length - 1 : row - 1;\n                temp = matrix[newRow][col];\n                matrix[newRow][col] = matrix[row][col];\n                matrix[row][col] = temp;\n                break;\n            case DOWN:\n                newRow = (row + 1) % matrix.length;\n                temp = matrix[newRow][col];\n                matrix[newRow][col] = matrix[row][col];\n                matrix[row][col] = temp;\n                break;\n            case LEFT:\n                newCol = col - 1 &lt; 0 ? matrix[row].length - 1 : col - 1;\n                temp = matrix[row][newCol];\n                matrix[row][newCol] = matrix[row][col];\n                matrix[row][col] = temp;\n                break;\n            case RIGHT:\n                newCol = (col + 1) % matrix[row].length;\n                temp = matrix[row][newCol];\n                matrix[row][newCol] = matrix[row][col];\n                matrix[row][col] = temp;\n                break;\n        }\n    }\n</code></pre>\n<p>Here is a link testing a possible implementation</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/s63\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/s63</a></p>\n"}],"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72571538,"answer_count":1,"score":1,"last_activity_date":1654851337,"creation_date":1654815312,"question_id":72567454,"body_markdown":"I want to write a method that will move the zero in all 4 directions And update the map by moving the zero in the console, how do I do this?\r\n```\r\n    public static void main(String args[]) {\r\n        String[][] map = {\r\n                {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\r\n                {&quot;.&quot;,&quot;0&quot;,&quot;.&quot;},\r\n                {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;}\r\n        };\r\n        for(int i=0;i&lt;map.length;i++){\r\n            for(int j=0;j&lt;map[i].length;j++){\r\n                System.out.print(map[i][j]+&quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n    }\r\n```\r\nthere are no restrictions or anything, I just want to figure out how to move the zero, by any means.","title":"Row matrix and move in row matrix","body":"<p>I want to write a method that will move the zero in all 4 directions And update the map by moving the zero in the console, how do I do this?</p>\n<pre><code>    public static void main(String args[]) {\n        String[][] map = {\n                {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\n                {&quot;.&quot;,&quot;0&quot;,&quot;.&quot;},\n                {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;}\n        };\n        for(int i=0;i&lt;map.length;i++){\n            for(int j=0;j&lt;map[i].length;j++){\n                System.out.print(map[i][j]+&quot; &quot;);\n            }\n            System.out.println();\n        }\n\n    }\n</code></pre>\n<p>there are no restrictions or anything, I just want to figure out how to move the zero, by any means.</p>\n"},{"tags":["java","casting","initialization","subclass","superclass"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1654851219,"post_id":72571361,"comment_id":128195479,"body_markdown":"No, you are not doing anything wrong. No, you can&#39;t access subclass methods from superclass, unless you cast, that&#39;s how it works. About the purpose i would suggest to find some guides on core OOP concepts - abstraction, polymorphism, inheritance, encapsulation.","body":"No, you are not doing anything wrong. No, you can&#39;t access subclass methods from superclass, unless you cast, that&#39;s how it works. About the purpose i would suggest to find some guides on core OOP concepts - abstraction, polymorphism, inheritance, encapsulation."},{"owner":{"account_id":25523036,"reputation":21,"user_id":19312557,"display_name":"Mykyta Ryasny"},"score":0,"creation_date":1654851389,"post_id":72571361,"comment_id":128195532,"body_markdown":"I just did an exam last week and now I am free and reading &quot;Head First Java (Kathy Sierra, Bert Bates)&quot; so i have this kinda &quot;stupd&quot; questions and for now its not clear for me. I know about polymorphism but can get sense about this special in my opinion case. Thx for answer :)","body":"I just did an exam last week and now I am free and reading &quot;Head First Java (Kathy Sierra, Bert Bates)&quot; so i have this kinda &quot;stupd&quot; questions and for now its not clear for me. I know about polymorphism but can get sense about this special in my opinion case. Thx for answer :)"}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654851287,"creation_date":1654851287,"answer_id":72571610,"question_id":72571361,"body_markdown":"The concept is like this: &lt;br&gt;\r\nThe superclass/interface provides general implementation or a contract. The subclass overrides/implements that contract. &lt;br&gt;\r\nTo make sure that you can assign different implementations of that contract at runtime, you use reference of a Superclass and assign object of a subclass to it.&lt;br&gt;\r\n```Musician m = new Instrumentist(&quot;Antonio&quot;, &quot;Vivaldi&quot;, &quot;none&quot;);```\r\n&lt;br&gt;Here, with ```m```, you can call methods defined in ```Musician``` class, but if your subclass has any other methods apart from those defined superclass, you can not access them using ```m```. &lt;br&gt;If subclass overrides any method, then even after using reference of superclass, say ```m```, java would make sure that at ```runtime```, overridden method in subclass is called.","title":"Cast an Object to its superclass in Java","body":"<p>The concept is like this: <br>\nThe superclass/interface provides general implementation or a contract. The subclass overrides/implements that contract. <br>\nTo make sure that you can assign different implementations of that contract at runtime, you use reference of a Superclass and assign object of a subclass to it.<br>\n<code>Musician m = new Instrumentist(&quot;Antonio&quot;, &quot;Vivaldi&quot;, &quot;none&quot;);</code>\n<br>Here, with <code>m</code>, you can call methods defined in <code>Musician</code> class, but if your subclass has any other methods apart from those defined superclass, you can not access them using <code>m</code>. <br>If subclass overrides any method, then even after using reference of superclass, say <code>m</code>, java would make sure that at <code>runtime</code>, overridden method in subclass is called.</p>\n"}],"owner":{"account_id":25523036,"reputation":21,"user_id":19312557,"display_name":"Mykyta Ryasny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654851287,"creation_date":1654850190,"question_id":72571361,"body_markdown":"Learning Java here and I try to cast on a super class and i cant access to subclass methods, is it possible, I am doing something wrong.\r\n\r\nI have this:\r\n```\r\npublic class Musician {\r\n      \r\n  public String name;\r\n  public String surname;\r\n}\r\n\r\npublic class Instrumentist extends Musician{\r\n  \r\n  public String getInstrumento() {\r\n    return instrumento;\r\n  }\r\n  \r\n  public void setInstrumento(String instrumento) {\r\n    this.instrumento = instrumento;\r\n  }\r\n  \r\n  private String instrumento;\r\n  public Instrumentist(String nombre, String name, String surname){\r\n    this.name = nombre;\r\n    this.surname = surname;\r\n  } \r\n}\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    Musician m = new Instrumentist(&quot;Antonio&quot;, &quot;Vivaldi&quot;, &quot;none&quot;);\r\n  \r\n    System.out.println(m);\r\n  }\r\n}\r\n\r\n```\r\nI know I can do Instrumentist i = new Instrumentist(&quot;Antonio&quot;, &quot;Vivaldi&quot;, &quot;none&quot;)\r\nbut then what is the purpose of Cast to superclass?\r\n\r\n\r\n","title":"Cast an Object to its superclass in Java","body":"<p>Learning Java here and I try to cast on a super class and i cant access to subclass methods, is it possible, I am doing something wrong.</p>\n<p>I have this:</p>\n<pre><code>public class Musician {\n      \n  public String name;\n  public String surname;\n}\n\npublic class Instrumentist extends Musician{\n  \n  public String getInstrumento() {\n    return instrumento;\n  }\n  \n  public void setInstrumento(String instrumento) {\n    this.instrumento = instrumento;\n  }\n  \n  private String instrumento;\n  public Instrumentist(String nombre, String name, String surname){\n    this.name = nombre;\n    this.surname = surname;\n  } \n}\n\npublic class Main {\n  public static void main(String[] args) {\n    Musician m = new Instrumentist(&quot;Antonio&quot;, &quot;Vivaldi&quot;, &quot;none&quot;);\n  \n    System.out.println(m);\n  }\n}\n\n</code></pre>\n<p>I know I can do Instrumentist i = new Instrumentist(&quot;Antonio&quot;, &quot;Vivaldi&quot;, &quot;none&quot;)\nbut then what is the purpose of Cast to superclass?</p>\n"},{"tags":["java","android","vector","sharedpreferences"],"owner":{"account_id":25522942,"reputation":11,"user_id":19312481,"display_name":"AndroidEnthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654850704,"creation_date":1654850380,"question_id":72571405,"body_markdown":"I&#39;ve been developing an Android app that allows users to track budget spending records. Since this is a budget spending tracker, I want users to select their currencies. In this case, I have three currencies: US Dollar, Japanese Yen, and Euro.\r\nTo enable it, I created three classes: BudgetTrackerSettingsActivity, CurrencySpinnerAdapter, and Currency. \r\nThe default currency is US Dollar. And I want it to display the selected currency symbols, such as $,￥, and €, which are Vector Assets, at the beggining of EditText.\r\n\r\nSince Vector Assets themselves can&#39;t be handled by SharedPreferences, I used an if-else statement to branch the execution to display the currency symbols in EditText.\r\n\r\nThe problem is that it temporarily changes the currency symbol. But when I restart the app, the change goes back to the default settings and the currency is always US Dollar. How can I make it remain in the settings permanently unless the user changes it again?\r\n\r\nBudgetTrackerSettingsActivity.java\r\n```\r\npackage com.myproject.offlinebudgettrackerappproject;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.Button;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.myproject.offlinebudgettrackerappproject.adapter.CurrencySpinnerAdapter;\r\n\r\npublic class BudgetTrackerSettingsActivity extends AppCompatActivity {\r\n\r\n    Spinner spinner;\r\n    public static String spinnerText;\r\n\r\n    Button currencyBtn;\r\n    String selectedCurrency;\r\n    String finalCurrency;\r\n    private static final String PREF_CURRENCY_VALUE = &quot;currencyValue&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_budget_tracker_settings);\r\n        Currency.initCurrencies();\r\n\r\n        spinner = (Spinner) findViewById(R.id.currency_spinner);\r\n        currencyBtn = (Button) findViewById(R.id.currency_btn);\r\n\r\n        CurrencySpinnerAdapter currencySpinnerAdapter = new CurrencySpinnerAdapter(this, R.layout.currency_spinner_adopter,\r\n                Currency.getCurrencyArrayList());\r\n        spinner.setAdapter(currencySpinnerAdapter);\r\n\r\n        final SharedPreferences sharedPreferences = getSharedPreferences(&quot;CURRENCY_SHARED&quot;, 0);\r\n\r\n\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n                Currency currency = (Currency) spinner.getSelectedItem();\r\n                spinnerText = currency.getCurrency();\r\n                if (spinnerText == &quot;US Dollars&quot;) {\r\n                    Toast.makeText(BudgetTrackerSettingsActivity.this, &quot;US Dollars&quot;, Toast.LENGTH_SHORT).show();\r\n                    currencyBtn.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            selectedCurrency = spinnerText;\r\n                            finalCurrency = &quot;US_DOLLAR&quot;;\r\n\r\n                            SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                            editor.putString(&quot;CURRENCY&quot;, selectedCurrency);\r\n                            editor.putString(PREF_CURRENCY_VALUE, finalCurrency);\r\n                            editor.commit();\r\n                            Toast.makeText(BudgetTrackerSettingsActivity.this, &quot;Currency Saved&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            Intent intent = new Intent(BudgetTrackerSettingsActivity.this, MainActivity.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        }\r\n                    });\r\n                } else if (spinnerText == &quot;Japanese Yen&quot;) {\r\n                    currencyBtn.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            selectedCurrency = spinnerText;\r\n                            finalCurrency = &quot;JAPANESE_YEN&quot;;\r\n\r\n                            SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                            editor.putString(&quot;CURRENCY&quot;, selectedCurrency);\r\n                            editor.putString(PREF_CURRENCY_VALUE, finalCurrency);\r\n                            editor.commit();\r\n                            Toast.makeText(BudgetTrackerSettingsActivity.this, &quot;Currency Saved&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            Intent intent = new Intent(BudgetTrackerSettingsActivity.this, MainActivity.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        }\r\n                    });\r\n                } else {\r\n                    currencyBtn.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            selectedCurrency = spinnerText;\r\n                            finalCurrency = &quot;EURO&quot;;\r\n\r\n                            SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                            editor.putString(&quot;CURRENCY&quot;, selectedCurrency);\r\n                            editor.putString(PREF_CURRENCY_VALUE, finalCurrency);\r\n                            editor.putInt(PREF_CURRENCY_VALUE, 2);\r\n                            editor.commit();\r\n                            Toast.makeText(BudgetTrackerSettingsActivity.this, &quot;Currency Saved&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            Intent intent = new Intent(BudgetTrackerSettingsActivity.this, MainActivity.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        }\r\n                    });\r\n                }\r\n                Log.d(&quot;Currency&quot;, &quot;onCreate: &quot; + spinnerText);\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n                spinnerText = null;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n```\r\nCurrencySpinnerAdapter.java\r\n```\r\npackage com.myproject.offlinebudgettrackerappproject.adapter;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.myproject.offlinebudgettrackerappproject.Currency;\r\nimport com.myproject.offlinebudgettrackerappproject.R;\r\n\r\nimport java.util.List;\r\n\r\npublic class CurrencySpinnerAdapter extends ArrayAdapter&lt;Currency&gt; {\r\n\r\n    LayoutInflater layoutInflater;\r\n\r\n    public CurrencySpinnerAdapter(@NonNull Context context, int resource, @NonNull List&lt;Currency&gt; currencies) {\r\n        super(context, resource, currencies);\r\n        layoutInflater = LayoutInflater.from(context);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        View rowView = layoutInflater.inflate(R.layout.currency_spinner_adopter, null, true);\r\n        Currency currency = getItem(position);\r\n        TextView textView = (TextView) rowView.findViewById(R.id.currency_name_textview);\r\n        ImageView imageView = (ImageView) rowView.findViewById(R.id.currency_symbol);\r\n        textView.setText(currency.getCurrency());\r\n        imageView.setImageResource(currency.getCurrencyImage());\r\n        return rowView;\r\n    }\r\n\r\n    @Override\r\n    public View getDropDownView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        if (convertView == null) {\r\n            convertView = layoutInflater.inflate(R.layout.currency_spinner_adopter, parent, false);\r\n        }\r\n\r\n        Currency currency = getItem(position);\r\n        TextView textView = (TextView) convertView.findViewById(R.id.currency_name_textview);\r\n        ImageView imageView = (ImageView) convertView.findViewById(R.id.currency_symbol);\r\n        textView.setText(currency.getCurrency());\r\n        imageView.setImageResource(currency.getCurrencyImage());\r\n\r\n        return convertView;\r\n    }\r\n}\r\n\r\n```\r\nCurrency.java\r\n```\r\npackage com.myproject.offlinebudgettrackerappproject;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Currency {\r\n\r\n    private static ArrayList&lt;Currency&gt; currencyArrayList = new ArrayList&lt;&gt;();\r\n\r\n    private String id;\r\n    private String currency;\r\n\r\n    public Currency(String id, String currency) {\r\n        this.id = id;\r\n        this.currency = currency;\r\n    }\r\n\r\n    public Currency() {\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCurrency() {\r\n        return currency;\r\n    }\r\n\r\n    public void setCurrency(String currency) {\r\n        this.currency = currency;\r\n    }\r\n\r\n    public static void initCurrencies() {\r\n        Currency usd = new Currency(&quot;0&quot;, &quot;US Dollars&quot;);\r\n        currencyArrayList.add(usd);\r\n\r\n        Currency jpy = new Currency(&quot;1&quot;, &quot;Japanese Yen&quot;);\r\n        currencyArrayList.add(jpy);\r\n\r\n        Currency euro = new Currency(&quot;2&quot;, &quot;Euro&quot;);\r\n        currencyArrayList.add(euro);\r\n\r\n\r\n    }\r\n\r\n    public int getCurrencyImage() {\r\n        switch (getId()) {\r\n            case &quot;0&quot;:\r\n                return R.drawable.ic_money;\r\n            case &quot;1&quot;:\r\n                return R.drawable.ic_yen;\r\n            case &quot;2&quot;:\r\n                return R.drawable.ic_euro;\r\n        }\r\n        return R.drawable.ic_money;\r\n    }\r\n\r\n    public static ArrayList&lt;Currency&gt; getCurrencyArrayList() {\r\n        return currencyArrayList;\r\n    }\r\n}\r\n\r\n```\r\nHomeFragment.java (This is the class that receives the changed settings)\r\n```\r\nfinal SharedPreferences sharedPreferences = getActivity().getSharedPreferences(&quot;CURRENCY_SHARED&quot;, 0);;\r\n\r\n        //if-else branch to select currency\r\n        String currentCurrency = sharedPreferences.getString(&quot;CURRENCY&quot;, &quot;&quot;);\r\n\r\n        currentCurrencyTv.setText(currentCurrency);\r\n        if (currentCurrency == &quot;US Dollars&quot;) {\r\n            currentCurrencyTv.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_money, 0, 0, 0);\r\n        } else if (currentCurrency == &quot;Japanese Yen&quot;) {\r\n            currentCurrencyTv.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_yen, 0, 0, 0);\r\n        } else if (currentCurrency == &quot;Euro&quot;) {\r\n            currentCurrencyTv.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_euro, 0, 0, 0);\r\n        }\r\n```","title":"How can I handle Vector Assets in SharedPreferences? (Android/Java)","body":"<p>I've been developing an Android app that allows users to track budget spending records. Since this is a budget spending tracker, I want users to select their currencies. In this case, I have three currencies: US Dollar, Japanese Yen, and Euro.\nTo enable it, I created three classes: BudgetTrackerSettingsActivity, CurrencySpinnerAdapter, and Currency.\nThe default currency is US Dollar. And I want it to display the selected currency symbols, such as $,￥, and €, which are Vector Assets, at the beggining of EditText.</p>\n<p>Since Vector Assets themselves can't be handled by SharedPreferences, I used an if-else statement to branch the execution to display the currency symbols in EditText.</p>\n<p>The problem is that it temporarily changes the currency symbol. But when I restart the app, the change goes back to the default settings and the currency is always US Dollar. How can I make it remain in the settings permanently unless the user changes it again?</p>\n<p>BudgetTrackerSettingsActivity.java</p>\n<pre><code>package com.myproject.offlinebudgettrackerappproject;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.Button;\nimport android.widget.Spinner;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.myproject.offlinebudgettrackerappproject.adapter.CurrencySpinnerAdapter;\n\npublic class BudgetTrackerSettingsActivity extends AppCompatActivity {\n\n    Spinner spinner;\n    public static String spinnerText;\n\n    Button currencyBtn;\n    String selectedCurrency;\n    String finalCurrency;\n    private static final String PREF_CURRENCY_VALUE = &quot;currencyValue&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_budget_tracker_settings);\n        Currency.initCurrencies();\n\n        spinner = (Spinner) findViewById(R.id.currency_spinner);\n        currencyBtn = (Button) findViewById(R.id.currency_btn);\n\n        CurrencySpinnerAdapter currencySpinnerAdapter = new CurrencySpinnerAdapter(this, R.layout.currency_spinner_adopter,\n                Currency.getCurrencyArrayList());\n        spinner.setAdapter(currencySpinnerAdapter);\n\n        final SharedPreferences sharedPreferences = getSharedPreferences(&quot;CURRENCY_SHARED&quot;, 0);\n\n\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\n                Currency currency = (Currency) spinner.getSelectedItem();\n                spinnerText = currency.getCurrency();\n                if (spinnerText == &quot;US Dollars&quot;) {\n                    Toast.makeText(BudgetTrackerSettingsActivity.this, &quot;US Dollars&quot;, Toast.LENGTH_SHORT).show();\n                    currencyBtn.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            selectedCurrency = spinnerText;\n                            finalCurrency = &quot;US_DOLLAR&quot;;\n\n                            SharedPreferences.Editor editor = sharedPreferences.edit();\n                            editor.putString(&quot;CURRENCY&quot;, selectedCurrency);\n                            editor.putString(PREF_CURRENCY_VALUE, finalCurrency);\n                            editor.commit();\n                            Toast.makeText(BudgetTrackerSettingsActivity.this, &quot;Currency Saved&quot;, Toast.LENGTH_SHORT).show();\n\n                            Intent intent = new Intent(BudgetTrackerSettingsActivity.this, MainActivity.class);\n                            startActivity(intent);\n                            finish();\n                        }\n                    });\n                } else if (spinnerText == &quot;Japanese Yen&quot;) {\n                    currencyBtn.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            selectedCurrency = spinnerText;\n                            finalCurrency = &quot;JAPANESE_YEN&quot;;\n\n                            SharedPreferences.Editor editor = sharedPreferences.edit();\n                            editor.putString(&quot;CURRENCY&quot;, selectedCurrency);\n                            editor.putString(PREF_CURRENCY_VALUE, finalCurrency);\n                            editor.commit();\n                            Toast.makeText(BudgetTrackerSettingsActivity.this, &quot;Currency Saved&quot;, Toast.LENGTH_SHORT).show();\n\n                            Intent intent = new Intent(BudgetTrackerSettingsActivity.this, MainActivity.class);\n                            startActivity(intent);\n                            finish();\n                        }\n                    });\n                } else {\n                    currencyBtn.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            selectedCurrency = spinnerText;\n                            finalCurrency = &quot;EURO&quot;;\n\n                            SharedPreferences.Editor editor = sharedPreferences.edit();\n                            editor.putString(&quot;CURRENCY&quot;, selectedCurrency);\n                            editor.putString(PREF_CURRENCY_VALUE, finalCurrency);\n                            editor.putInt(PREF_CURRENCY_VALUE, 2);\n                            editor.commit();\n                            Toast.makeText(BudgetTrackerSettingsActivity.this, &quot;Currency Saved&quot;, Toast.LENGTH_SHORT).show();\n\n                            Intent intent = new Intent(BudgetTrackerSettingsActivity.this, MainActivity.class);\n                            startActivity(intent);\n                            finish();\n                        }\n                    });\n                }\n                Log.d(&quot;Currency&quot;, &quot;onCreate: &quot; + spinnerText);\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n                spinnerText = null;\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>CurrencySpinnerAdapter.java</p>\n<pre><code>package com.myproject.offlinebudgettrackerappproject.adapter;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport com.myproject.offlinebudgettrackerappproject.Currency;\nimport com.myproject.offlinebudgettrackerappproject.R;\n\nimport java.util.List;\n\npublic class CurrencySpinnerAdapter extends ArrayAdapter&lt;Currency&gt; {\n\n    LayoutInflater layoutInflater;\n\n    public CurrencySpinnerAdapter(@NonNull Context context, int resource, @NonNull List&lt;Currency&gt; currencies) {\n        super(context, resource, currencies);\n        layoutInflater = LayoutInflater.from(context);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        View rowView = layoutInflater.inflate(R.layout.currency_spinner_adopter, null, true);\n        Currency currency = getItem(position);\n        TextView textView = (TextView) rowView.findViewById(R.id.currency_name_textview);\n        ImageView imageView = (ImageView) rowView.findViewById(R.id.currency_symbol);\n        textView.setText(currency.getCurrency());\n        imageView.setImageResource(currency.getCurrencyImage());\n        return rowView;\n    }\n\n    @Override\n    public View getDropDownView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        if (convertView == null) {\n            convertView = layoutInflater.inflate(R.layout.currency_spinner_adopter, parent, false);\n        }\n\n        Currency currency = getItem(position);\n        TextView textView = (TextView) convertView.findViewById(R.id.currency_name_textview);\n        ImageView imageView = (ImageView) convertView.findViewById(R.id.currency_symbol);\n        textView.setText(currency.getCurrency());\n        imageView.setImageResource(currency.getCurrencyImage());\n\n        return convertView;\n    }\n}\n\n</code></pre>\n<p>Currency.java</p>\n<pre><code>package com.myproject.offlinebudgettrackerappproject;\n\nimport java.util.ArrayList;\n\npublic class Currency {\n\n    private static ArrayList&lt;Currency&gt; currencyArrayList = new ArrayList&lt;&gt;();\n\n    private String id;\n    private String currency;\n\n    public Currency(String id, String currency) {\n        this.id = id;\n        this.currency = currency;\n    }\n\n    public Currency() {\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getCurrency() {\n        return currency;\n    }\n\n    public void setCurrency(String currency) {\n        this.currency = currency;\n    }\n\n    public static void initCurrencies() {\n        Currency usd = new Currency(&quot;0&quot;, &quot;US Dollars&quot;);\n        currencyArrayList.add(usd);\n\n        Currency jpy = new Currency(&quot;1&quot;, &quot;Japanese Yen&quot;);\n        currencyArrayList.add(jpy);\n\n        Currency euro = new Currency(&quot;2&quot;, &quot;Euro&quot;);\n        currencyArrayList.add(euro);\n\n\n    }\n\n    public int getCurrencyImage() {\n        switch (getId()) {\n            case &quot;0&quot;:\n                return R.drawable.ic_money;\n            case &quot;1&quot;:\n                return R.drawable.ic_yen;\n            case &quot;2&quot;:\n                return R.drawable.ic_euro;\n        }\n        return R.drawable.ic_money;\n    }\n\n    public static ArrayList&lt;Currency&gt; getCurrencyArrayList() {\n        return currencyArrayList;\n    }\n}\n\n</code></pre>\n<p>HomeFragment.java (This is the class that receives the changed settings)</p>\n<pre><code>final SharedPreferences sharedPreferences = getActivity().getSharedPreferences(&quot;CURRENCY_SHARED&quot;, 0);;\n\n        //if-else branch to select currency\n        String currentCurrency = sharedPreferences.getString(&quot;CURRENCY&quot;, &quot;&quot;);\n\n        currentCurrencyTv.setText(currentCurrency);\n        if (currentCurrency == &quot;US Dollars&quot;) {\n            currentCurrencyTv.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_money, 0, 0, 0);\n        } else if (currentCurrency == &quot;Japanese Yen&quot;) {\n            currentCurrencyTv.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_yen, 0, 0, 0);\n        } else if (currentCurrency == &quot;Euro&quot;) {\n            currentCurrencyTv.setCompoundDrawablesWithIntrinsicBounds(R.drawable.ic_euro, 0, 0, 0);\n        }\n</code></pre>\n"},{"tags":["java","cmd"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1654838964,"post_id":72569394,"comment_id":128192124,"body_markdown":"The quotation mark `&quot;` terminates the string. If you want the quotation mark in your string then escape it `yourString = &quot;someText \\&quot;\\\\dummy\\\\file\\&quot; some more text&quot;;`","body":"The quotation mark <code>&quot;</code> terminates the string. If you want the quotation mark in your string then escape it <code>yourString = &quot;someText \\&quot;\\\\dummy\\\\file\\&quot; some more text&quot;;</code>"},{"owner":{"account_id":1305044,"reputation":8301,"user_id":1254208,"display_name":"GregHNZ"},"score":0,"creation_date":1654841129,"post_id":72569394,"comment_id":128192514,"body_markdown":"There&#39;s a real problem with `C:\\\\Users\\\\me&gt;schtasks.exe` - that&#39;s not a valid path.   (Specifically this bit: `&gt;`)   `schtasks` is usually on the Windows path, so just try &quot;`schtasks.exe /query ...`","body":"There&#39;s a real problem with <code>C:\\\\Users\\\\me&gt;schtasks.exe</code> - that&#39;s not a valid path.   (Specifically this bit: <code>&gt;</code>)   <code>schtasks</code> is usually on the Windows path, so just try &quot;<code>schtasks.exe &#47;query ...</code>"},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":1,"creation_date":1654842229,"post_id":72569394,"comment_id":128192799,"body_markdown":"`C:\\Users\\me&gt;` is the __prompt__ in the Windows command prompt window which is not part of the command to execute. The prompt informs the user which directory is the current directory - `C:\\Users\\me` in this case - and `&gt;` informs the user that it is now possible to enter the command line. The real command to execute is `%SystemRoot%\\System32\\schtasks.exe /Query /TN &quot;\\dummy\\file&quot; /V /FO LIST | %SystemRoot%\\System32\\find.exe &quot;Last Run Time:&quot; &gt;&quot;%UserProfile%\\Desktop\\lastRunTime.txt&quot;` which must be encoded as required for a string in a JSP file. `\\dummy\\file` is a strange task name.","body":"<code>C:\\Users\\me&gt;</code> is the <b>prompt</b> in the Windows command prompt window which is not part of the command to execute. The prompt informs the user which directory is the current directory - <code>C:\\Users\\me</code> in this case - and <code>&gt;</code> informs the user that it is now possible to enter the command line. The real command to execute is <code>%SystemRoot%\\System32\\schtasks.exe &#47;Query &#47;TN &quot;\\dummy\\file&quot; &#47;V &#47;FO LIST | %SystemRoot%\\System32\\find.exe &quot;Last Run Time:&quot; &gt;&quot;%UserProfile%\\Desktop\\lastRunTime.txt&quot;</code> which must be encoded as required for a string in a JSP file. <code>\\dummy\\file</code> is a strange task name."},{"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1654842544,"post_id":72569394,"comment_id":128192871,"body_markdown":"This command line needs to be executed using `cmd.exe` started with option `/c`. But in my opinion it would be better that in the Java application code is used using `ProcessBuilder` class to run just `schtasks.exe` with the appropriate arguments with its fully qualified file name determined before by getting the value of environment variable `SystemRoot` concatenated with `&quot;\\\\System32\\\\schtask.exe&quot;` and capture the output to standard output by `ProcessBuilder` and search with Java code in the captured output for the data of interest.","body":"This command line needs to be executed using <code>cmd.exe</code> started with option <code>&#47;c</code>. But in my opinion it would be better that in the Java application code is used using <code>ProcessBuilder</code> class to run just <code>schtasks.exe</code> with the appropriate arguments with its fully qualified file name determined before by getting the value of environment variable <code>SystemRoot</code> concatenated with <code>&quot;\\\\System32\\\\schtask.exe&quot;</code> and capture the output to standard output by <code>ProcessBuilder</code> and search with Java code in the captured output for the data of interest."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654850677,"creation_date":1654849736,"answer_id":72571266,"question_id":72569394,"body_markdown":"Method `exec` (in class `java.lang.Runtime`) does not serve as the equivalent of a [command prompt][1] window. The method arguments are the name of an executable that you wish to run &amp;ndash; which in your case is [schtasks][2] &amp;ndash; together with any options required by that command. Again, in your case the command options are:\r\n```none\r\n/query /tn &quot;\\\\dummy\\\\file&quot; /v /fo list\r\n```\r\nHowever, as stated in the *javadoc* for class [java.lang.Process][3]\r\n&gt; As of 1.5, `ProcessBuilder.start()` is the preferred way to create a `Process`.\r\n\r\nTherefore you should rather use class [java.lang.ProcessBuilder][4].\r\n\r\nAlso, since you are launching the command from Java code, you should use Java code to handle the output of the `schtasks` command.\r\n\r\nThe below code is a stand-alone, console application that demonstrates executing `schtasks`, locating the `Last Run Time` line from the command output and saving that line in a file.\r\n\r\nNote that if file `schtasks.exe` is not in any of the folders of the `System` property `java.library.path` then you need to supply the full path to `schtasks.exe`.  \r\n(More notes after the code.)\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\npublic class SchTasks {\r\n\r\n    public static void main(String args[]) {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;schtasks.exe&quot;,\r\n                                               &quot;/QUERY&quot;,\r\n                                               &quot;/FO&quot;,\r\n                                               &quot;LIST&quot;,\r\n                                               &quot;/V&quot;,\r\n                                               &quot;/TN&quot;,\r\n                                               &quot;\\\\dummy\\\\file&quot;);\r\n        String result = null;\r\n        try {\r\n            Process p = pb.start(); // throws java.io.IOException\r\n            BufferedReader out = p.inputReader();\r\n            String output = out.readLine();\r\n            while (output != null) {\r\n                if (output.startsWith(&quot;Last Run Time:&quot;)) {\r\n                    result = output;\r\n                }\r\n                output = out.readLine();\r\n            }\r\n            int status = p.waitFor(); // throws java.lang.InterruptedException\r\n            if (status == 0  &amp;&amp;  result != null) {\r\n                try (PrintWriter pw = new PrintWriter(&quot;C:\\\\Users\\\\me\\\\Desktop\\\\lastRunTime.txt&quot;)) {\r\n                    pw.println(result);\r\n                }\r\n            }\r\n        }\r\n        catch (InterruptedException | IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n* Method `inputReader` was added to class `Process` in JDK 17 so if you are using an earlier version, you can use method [getInputStream][5] instead.\r\n\r\nHere are the contents of file `lastRunTime.txt` after I ran the above code.\r\n```none\r\nLast Run Time:                        30/11/1999 00:00:00\r\n```\r\nI assume that you actually need to do something with the actual last run time (of task `\\\\dummy\\\\file`) so rather than save it to a file, you can convert it to a timestamp in Java code. The below code replaces the part of the above code that saves the result to a file.\r\n```java\r\nif (status == 0  &amp;&amp;  result != null) {\r\n    String[] parts = result.split(&quot;:\\\\s{2,}&quot;, 2);\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;,\r\n                                                              Locale.ENGLISH);\r\n    LocalDateTime lastRunTime = LocalDateTime.parse(parts[1], formatter);\r\n    System.out.println(&quot;Last Run Time: &quot; + lastRunTime);\r\n}\r\n```\r\nRefer to the following:\r\n* *javadoc* for method [split][6] (in class `java.lang.String`)\r\n* [Regular Expressions][7] lesson in Oracle&#39;s Java tutorials.\r\n* [Date Time][8] trail in Oracle&#39;s Java tutorials.\r\n\r\n\r\n  [1]: https://www.makeuseof.com/tag/a-beginners-guide-to-the-windows-command-line/\r\n  [2]: https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/schtasks\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#getInputStream()\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\r\n  [7]: https://docs.oracle.com/javase/tutorial/essential/regex/\r\n  [8]: https://docs.oracle.com/javase/tutorial/datetime/index.html","title":"Execute CMD command through JSP file","body":"<p>Method <code>exec</code> (in class <code>java.lang.Runtime</code>) does not serve as the equivalent of a <a href=\"https://www.makeuseof.com/tag/a-beginners-guide-to-the-windows-command-line/\" rel=\"nofollow noreferrer\">command prompt</a> window. The method arguments are the name of an executable that you wish to run – which in your case is <a href=\"https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/schtasks\" rel=\"nofollow noreferrer\">schtasks</a> – together with any options required by that command. Again, in your case the command options are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>/query /tn &quot;\\\\dummy\\\\file&quot; /v /fo list\n</code></pre>\n<p>However, as stated in the <em>javadoc</em> for class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\" rel=\"nofollow noreferrer\">java.lang.Process</a></p>\n<blockquote>\n<p>As of 1.5, <code>ProcessBuilder.start()</code> is the preferred way to create a <code>Process</code>.</p>\n</blockquote>\n<p>Therefore you should rather use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">java.lang.ProcessBuilder</a>.</p>\n<p>Also, since you are launching the command from Java code, you should use Java code to handle the output of the <code>schtasks</code> command.</p>\n<p>The below code is a stand-alone, console application that demonstrates executing <code>schtasks</code>, locating the <code>Last Run Time</code> line from the command output and saving that line in a file.</p>\n<p>Note that if file <code>schtasks.exe</code> is not in any of the folders of the <code>System</code> property <code>java.library.path</code> then you need to supply the full path to <code>schtasks.exe</code>.<br />\n(More notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\npublic class SchTasks {\n\n    public static void main(String args[]) {\n        ProcessBuilder pb = new ProcessBuilder(&quot;schtasks.exe&quot;,\n                                               &quot;/QUERY&quot;,\n                                               &quot;/FO&quot;,\n                                               &quot;LIST&quot;,\n                                               &quot;/V&quot;,\n                                               &quot;/TN&quot;,\n                                               &quot;\\\\dummy\\\\file&quot;);\n        String result = null;\n        try {\n            Process p = pb.start(); // throws java.io.IOException\n            BufferedReader out = p.inputReader();\n            String output = out.readLine();\n            while (output != null) {\n                if (output.startsWith(&quot;Last Run Time:&quot;)) {\n                    result = output;\n                }\n                output = out.readLine();\n            }\n            int status = p.waitFor(); // throws java.lang.InterruptedException\n            if (status == 0  &amp;&amp;  result != null) {\n                try (PrintWriter pw = new PrintWriter(&quot;C:\\\\Users\\\\me\\\\Desktop\\\\lastRunTime.txt&quot;)) {\n                    pw.println(result);\n                }\n            }\n        }\n        catch (InterruptedException | IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Method <code>inputReader</code> was added to class <code>Process</code> in JDK 17 so if you are using an earlier version, you can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#getInputStream()\" rel=\"nofollow noreferrer\">getInputStream</a> instead.</li>\n</ul>\n<p>Here are the contents of file <code>lastRunTime.txt</code> after I ran the above code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Last Run Time:                        30/11/1999 00:00:00\n</code></pre>\n<p>I assume that you actually need to do something with the actual last run time (of task <code>\\\\dummy\\\\file</code>) so rather than save it to a file, you can convert it to a timestamp in Java code. The below code replaces the part of the above code that saves the result to a file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (status == 0  &amp;&amp;  result != null) {\n    String[] parts = result.split(&quot;:\\\\s{2,}&quot;, 2);\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm:ss&quot;,\n                                                              Locale.ENGLISH);\n    LocalDateTime lastRunTime = LocalDateTime.parse(parts[1], formatter);\n    System.out.println(&quot;Last Run Time: &quot; + lastRunTime);\n}\n</code></pre>\n<p>Refer to the following:</p>\n<ul>\n<li><em>javadoc</em> for method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\" rel=\"nofollow noreferrer\">split</a> (in class <code>java.lang.String</code>)</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">Regular Expressions</a> lesson in Oracle's Java tutorials.</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Date Time</a> trail in Oracle's Java tutorials.</li>\n</ul>\n"}],"owner":{"account_id":18515300,"reputation":33,"user_id":13489566,"display_name":"Mainaqisyah"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654855921,"accepted_answer_id":72571266,"answer_count":1,"score":0,"last_activity_date":1654850677,"creation_date":1654838323,"question_id":72569394,"body_markdown":"I&#39;m trying to execute a CMD command through a JSP file but it gives out error : Syntax error on tokens, delete these tokens \r\n\r\n    String runtimecmd = &quot;C:\\\\Users\\\\me&gt;schtasks.exe /query /tn &quot;\\\\dummy\\\\file&quot; /v /fo list | find &quot;Last Run Time:&quot; &gt; C:\\\\Users\\\\me\\\\Desktop\\\\lastRunTime.txt&quot;;\r\n    System.out.println(runtimecmd);\r\n    Process p = Runtime.getRuntime().exec(runtimecmd);\r\n\r\nI am not sure how to decipher the error.","title":"Execute CMD command through JSP file","body":"<p>I'm trying to execute a CMD command through a JSP file but it gives out error : Syntax error on tokens, delete these tokens</p>\n<pre><code>String runtimecmd = &quot;C:\\\\Users\\\\me&gt;schtasks.exe /query /tn &quot;\\\\dummy\\\\file&quot; /v /fo list | find &quot;Last Run Time:&quot; &gt; C:\\\\Users\\\\me\\\\Desktop\\\\lastRunTime.txt&quot;;\nSystem.out.println(runtimecmd);\nProcess p = Runtime.getRuntime().exec(runtimecmd);\n</code></pre>\n<p>I am not sure how to decipher the error.</p>\n"},{"tags":["java","autocomplete","ide","sublimetext2","sublimetext3"],"answers":[{"tags":[],"owner":{"account_id":1945948,"reputation":823,"user_id":1751099,"display_name":"Eliza Weisman"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1389285330,"creation_date":1389285330,"answer_id":21025962,"question_id":17519220,"body_markdown":"Sublime 3 does have basic autocompletion for Java baked-in - if you start typing &quot;pub&quot;, for example, it&#39;ll suggest &quot;public&quot;. I&#39;d also suggest looking at the [Javatar][1] plugin, which adds things like automatic creation of classes, packages, and interfaces. The [QuickJava][2] plugin might also be worth a look - it adds automatic creation commands for setters, getters, and constructors.\r\n\r\n\r\n  [1]: http://spywhere.github.io/Javatar/\r\n  [2]: https://sublime.wbond.net/packages/QuickJava","title":"Sublime Text 3 Java autocomplete","body":"<p>Sublime 3 does have basic autocompletion for Java baked-in - if you start typing \"pub\", for example, it'll suggest \"public\". I'd also suggest looking at the <a href=\"http://spywhere.github.io/Javatar/\" rel=\"nofollow\">Javatar</a> plugin, which adds things like automatic creation of classes, packages, and interfaces. The <a href=\"https://sublime.wbond.net/packages/QuickJava\" rel=\"nofollow\">QuickJava</a> plugin might also be worth a look - it adds automatic creation commands for setters, getters, and constructors.</p>\n"},{"tags":[],"owner":{"account_id":6358723,"reputation":3857,"user_id":4934984,"accept_rate":58,"display_name":"tushortz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654850559,"creation_date":1446080106,"answer_id":33404208,"question_id":17519220,"body_markdown":"You can try [JavaIME](https://packagecontrol.io/packages/JavaIME) for helping with package imports and [Java Imports Made Easy](https://github.com/tushortz/javaime) for method names completion.","title":"Sublime Text 3 Java autocomplete","body":"<p>You can try <a href=\"https://packagecontrol.io/packages/JavaIME\" rel=\"nofollow noreferrer\">JavaIME</a> for helping with package imports and <a href=\"https://github.com/tushortz/javaime\" rel=\"nofollow noreferrer\">Java Imports Made Easy</a> for method names completion.</p>\n"}],"owner":{"account_id":1141849,"reputation":3329,"user_id":1125515,"accept_rate":67,"display_name":"Rustam Issabekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30929,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1654850559,"creation_date":1373257773,"question_id":17519220,"body_markdown":"Lately I was seriously considering switching to Sublime Text 3 for all of my projects. Now that Sublime Text 3 has a *goto* definition feature it&#39;s definitely more useful. However, to be a happy programmer under Sublime I still need a proper Java auto completion. Sublime Text 2 has one - it is called *sublimejava*. Unfortunately this plug-in doesn&#39;t deliver the magic with Sublime Text 3.\r\n\r\nDoes anyone know if Sublime Text 3 has a working plug-in for Java autocomplete?","title":"Sublime Text 3 Java autocomplete","body":"<p>Lately I was seriously considering switching to Sublime Text 3 for all of my projects. Now that Sublime Text 3 has a <em>goto</em> definition feature it's definitely more useful. However, to be a happy programmer under Sublime I still need a proper Java auto completion. Sublime Text 2 has one - it is called <em>sublimejava</em>. Unfortunately this plug-in doesn't deliver the magic with Sublime Text 3.</p>\n\n<p>Does anyone know if Sublime Text 3 has a working plug-in for Java autocomplete?</p>\n"},{"tags":["java","multithreading","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1500817764,"post_id":45265777,"comment_id":77494476,"body_markdown":"You do realise that a servlet and its fields are shared by all requests, right? You need to associate the map with the request or user session.","body":"You do realise that a servlet and its fields are shared by all requests, right? You need to associate the map with the request or user session."},{"owner":{"account_id":11238865,"reputation":759,"user_id":8243973,"accept_rate":38,"display_name":"Ansar Samad"},"score":0,"creation_date":1500828586,"post_id":45265777,"comment_id":77497900,"body_markdown":"Thank you Mark , it worked by associated the  map with session","body":"Thank you Mark , it worked by associated the  map with session"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1501103301,"post_id":45265777,"comment_id":77636919,"body_markdown":"@AnsarSamad add it as an answer then","body":"@AnsarSamad add it as an answer then"}],"answers":[{"tags":[],"owner":{"account_id":25335362,"reputation":13,"user_id":19154594,"display_name":"Rohit Dakota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654850384,"creation_date":1654850384,"answer_id":72571407,"question_id":45265777,"body_markdown":"You should associate the properties map with the user session or request","title":"Data inconsistency in multithreaded environment","body":"<p>You should associate the properties map with the user session or request</p>\n"}],"owner":{"account_id":11238865,"reputation":759,"user_id":8243973,"accept_rate":38,"display_name":"Ansar Samad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654850384,"creation_date":1500817518,"question_id":45265777,"body_markdown":"I have created an application which reads &amp; writes into a remote file. I have different files (`A.properties`, `B.properties`, `C.properties`) in different directories (`folder-1`, `folder-2`, `folder-3`). Each directory has the same filename with different data.\r\n\r\nI have implemented concurrency in my application by using the `LockRegistry` provided by [this other answer][1]. The issue is that if a thread is accessing `A.properties` while another thread accesses `B.properties`, the `propertyMap` displayed to the end user will contain both  data from property files. How can I resolve this issue?\r\n\r\nMy code:\r\n\r\n    public class UDEManager\r\n    {\r\n    \tprivate Map&lt;String, String&gt; propertyMap  = new TreeMap&lt;&gt;();\r\n    \tHttpSession session = null;\r\n    \r\n    \tpublic UDEPropertyManager()\r\n    \t{\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic void init(ServletConfig config) throws ServletException\r\n    \t{\r\n    \t\tsuper.init(config);\r\n    \t}\r\n    \r\n\t\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException\r\n    \t{\r\n    \t\tdoPost(request, response);\r\n    \t}\r\n    \r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t\tthrows ServletException, IOException\r\n    \t{\r\n    \t\t// Code for calling thread for read/write operations into remote\r\n    \t\t// file and fill the propertyMap\r\n    \t}\r\n    }\r\n    \r\n    class WebAppProperty implements Runnable\r\n    {\r\n    \tprivate WebApp webapp; // folder-1\r\n    \tprivate String propertyFile; // A.properties\r\n    \tprivate String keyValue; //messages-title=Messages\r\n    \tprivate LockType mode;\r\n    \r\n    \tpublic String getPropertyFile()\r\n    \t{\r\n    \t\treturn propertyFile;\r\n    \t}\r\n    \r\n    \tpublic void setPropertyFile(String propertyFile)\r\n    \t{\r\n    \t\tthis.propertyFile = propertyFile;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run()\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\tLockRegistry.INSTANCE.acquire(propertyFile, mode);\r\n    \r\n    \t\t\tif (this.mode == LockType.WRITE) {\r\n    \t\t\t\twriteToPropertyFile();\r\n    \t\t\t} else if (this.mode == LockType.READ) {\r\n    \t\t\t\tgetProperty(this.webapp, this.propertyFile);\r\n    \t\t\t}\r\n    \t\t} catch (Exception ie) {\r\n    \t\t\tsysoutAndLog(&quot;Thread is Interrupted&quot;);\r\n    \t\t\tie.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tLockRegistry.INSTANCE.release(propertyFile, mode);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate boolean getProperty(WebApp webapp, String property)\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\t// read from file and put it into Map instance variable\r\n    \t\t\t// of calling class (UDEManager)\r\n    \t\t\tpropertyMap.put(key, value);\r\n    \t\t} catch(Exception e) {\r\n    \t\t\tsysoutAndLog(&quot;Error while reading property &quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tprivate void writeToPropertyFile()\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\t// Write data into remote file\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tsysoutAndLog(&quot;exception while writing to file.&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24771092/java-synchronization-locking-across-multiple-files#24771796","title":"Data inconsistency in multithreaded environment","body":"<p>I have created an application which reads &amp; writes into a remote file. I have different files (<code>A.properties</code>, <code>B.properties</code>, <code>C.properties</code>) in different directories (<code>folder-1</code>, <code>folder-2</code>, <code>folder-3</code>). Each directory has the same filename with different data.</p>\n\n<p>I have implemented concurrency in my application by using the <code>LockRegistry</code> provided by <a href=\"https://stackoverflow.com/questions/24771092/java-synchronization-locking-across-multiple-files#24771796\">this other answer</a>. The issue is that if a thread is accessing <code>A.properties</code> while another thread accesses <code>B.properties</code>, the <code>propertyMap</code> displayed to the end user will contain both  data from property files. How can I resolve this issue?</p>\n\n<p>My code:</p>\n\n<pre><code>public class UDEManager\n{\n    private Map&lt;String, String&gt; propertyMap  = new TreeMap&lt;&gt;();\n    HttpSession session = null;\n\n    public UDEPropertyManager()\n    {\n        super();\n    }\n\n    public void init(ServletConfig config) throws ServletException\n    {\n        super.init(config);\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException\n    {\n        doPost(request, response);\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException\n    {\n        // Code for calling thread for read/write operations into remote\n        // file and fill the propertyMap\n    }\n}\n\nclass WebAppProperty implements Runnable\n{\n    private WebApp webapp; // folder-1\n    private String propertyFile; // A.properties\n    private String keyValue; //messages-title=Messages\n    private LockType mode;\n\n    public String getPropertyFile()\n    {\n        return propertyFile;\n    }\n\n    public void setPropertyFile(String propertyFile)\n    {\n        this.propertyFile = propertyFile;\n    }\n\n    @Override\n    public void run()\n    {\n        try {\n            LockRegistry.INSTANCE.acquire(propertyFile, mode);\n\n            if (this.mode == LockType.WRITE) {\n                writeToPropertyFile();\n            } else if (this.mode == LockType.READ) {\n                getProperty(this.webapp, this.propertyFile);\n            }\n        } catch (Exception ie) {\n            sysoutAndLog(\"Thread is Interrupted\");\n            ie.printStackTrace();\n        } finally {\n            LockRegistry.INSTANCE.release(propertyFile, mode);\n        }\n    }\n\n    private boolean getProperty(WebApp webapp, String property)\n    {\n        try {\n            // read from file and put it into Map instance variable\n            // of calling class (UDEManager)\n            propertyMap.put(key, value);\n        } catch(Exception e) {\n            sysoutAndLog(\"Error while reading property \");\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    private void writeToPropertyFile()\n    {\n        try {\n            // Write data into remote file\n        } catch (Exception e) {\n            sysoutAndLog(\"exception while writing to file.\");\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","smpp","jsmpp","opensmpp","cloudhopper"],"owner":{"account_id":11399034,"reputation":11,"user_id":8356491,"display_name":"prasadisuru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654850193,"creation_date":1654850193,"question_id":72571363,"body_markdown":"**i have 3rd party smpp connection. \r\nso i created java smpp client and its working fine.**\r\n\r\nhow i can create smpp server connect to 3rd party smpp connection and need to send sms via that created smpp server. my problem is i doesn&#39;t know how to connect smpp server to smsc/smpp 3rd party connection\r\n\r\nplease help to me connect this smpp server to smpp 3rd party server  for send sms..\r\n\r\n```\r\n\r\n\r\npublic class SMPPServerSimulator extends ServerResponseDeliveryAdapter implements Runnable, ServerMessageReceiverListener {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(SMPPServerSimulator.class);\r\n    private static final String QUERYSM_NOT_IMPLEMENTED = &quot;query_sm not implemented&quot;;\r\n    private static final String CANCELSM_NOT_IMPLEMENTED = &quot;cancel_sm not implemented&quot;;\r\n    private static final String DATASM_NOT_IMPLEMENTED = &quot;data_sm not implemented&quot;;\r\n    private static final String REPLACESM_NOT_IMPLEMENTED = &quot;replace_sm not implemented&quot;;\r\n    private static final String BROADCASTSM_NOT_IMPLEMENTED = &quot;broadcast_sm not implemented&quot;;\r\n    private static final String CANCELBROADCASTSM_NOT_IMPLEMENTED = &quot;cancel_broadcast_sm not implemented&quot;;\r\n    private static final String QUERYBROADCASTSM_NOT_IMPLEMENTED = &quot;query_broadcast_sm not implemented&quot;;\r\n    private static final Integer DEFAULT_PORT = 2775;\r\n    private static final String DEFAULT_SYSID = &quot;twtest&quot;;\r\n    private static final String DEFAULT_PASSWORD = &quot;test123&quot;;\r\n    private static final String SMSC_SYSTEMID = &quot;sys&quot;;\r\n    private final ExecutorService execService = Executors.newFixedThreadPool(5);\r\n    private final ExecutorService execServiceDelReceipt = Executors.newFixedThreadPool(100);\r\n    private final MessageIDGenerator messageIDGenerator = new RandomMessageIDGenerator();\r\n    private final boolean useSsl;\r\n    private final int port;\r\n    private final String systemId;\r\n    private final String password;\r\n\r\n    public SMPPServerSimulator(boolean useSsl, int port, String systemId, String password) {\r\n        this.useSsl = useSsl;\r\n        this.port = port;\r\n        this.systemId = systemId;\r\n        this.password = password;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        boolean running = true;\r\n        /*\r\n         * for SSL use the SSLServerSocketConnectionFactory() or DefaultSSLServerSocketConnectionFactory()\r\n         */\r\n        try (SMPPServerSessionListener sessionListener = useSsl ?\r\n            new SMPPServerSessionListener(port, new KeyStoreSSLServerSocketConnectionFactory())\r\n            : new SMPPServerSessionListener(port)) {\r\n            /*\r\n             * for SSL use the SSLServerSocketConnectionFactory() or DefaultSSLServerSocketConnectionFactory()\r\n             */\r\n            log.info(&quot;Listening on port {}{}&quot;, port, useSsl ? &quot; (SSL)&quot; : &quot;&quot;);\r\n            while (running) {\r\n                System.out.println(&quot;running&quot;);\r\n                SMPPServerSession serverSession = sessionListener.accept();\r\n                log.info(&quot;Accepted connection with session {}&quot;, serverSession.getSessionId());\r\n                serverSession.setMessageReceiverListener(this);\r\n                serverSession.setResponseDeliveryListener(this);\r\n                Future&lt;Boolean&gt; bindResult = execService.submit(new WaitBindTask(serverSession, 30000, systemId, password));\r\n                try {\r\n                    boolean bound = bindResult.get();\r\n                    System.out.println(bound+&quot; sss&quot;);\r\n                    if (bound) {\r\n                        // Could start deliver_sm to ESME\r\n                        log.info(&quot;The session is now in state {}&quot;, serverSession.getSessionState());\r\n\r\n                        serverSession.deliverShortMessage(&quot;CMT&quot;,\r\n                            TypeOfNumber.INTERNATIONAL, NumberingPlanIndicator.ISDN, &quot;94712320529&quot;,\r\n                            TypeOfNumber.INTERNATIONAL, NumberingPlanIndicator.ISDN, &quot;TWTEST&quot;,\r\n                            new ESMClass(0), (byte) 0x00, (byte) 0x00, new RegisteredDelivery(), DataCodings.ZERO,\r\n                            &quot;Hello Worldxxxxxxxxxxx&quot;.getBytes());\r\n                    }\r\n                } catch (InterruptedException e){\r\n                    log.info(&quot;Interrupted WaitBind task: {}&quot;, e.getMessage());\r\n                    Thread.currentThread().interrupt();\r\n                    running = false;\r\n                } catch (ExecutionException e){\r\n                    log.info(&quot;Exception on execute WaitBind task: {}&quot;, e.getMessage());\r\n                    running = false;\r\n                } catch (NegativeResponseException | ResponseTimeoutException | PDUException | InvalidResponseException e){\r\n                    log.info(&quot;Could not send deliver_sm: {}&quot;, e.getMessage());\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            log.error(&quot;IO error occurred&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public QuerySmResult onAcceptQuerySm(QuerySm querySm, SMPPServerSession source) throws ProcessRequestException {\r\n        log.info(&quot;QuerySm not implemented&quot;);\r\n\r\n        throw new ProcessRequestException(QUERYSM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RINVCMDID);\r\n    }\r\n\r\n    @Override\r\n    public SubmitSmResult onAcceptSubmitSm(SubmitSm submitSm,\r\n            SMPPServerSession source) throws ProcessRequestException {\r\n        MessageId messageId = messageIDGenerator.newMessageId();\r\n        log.info(&quot;Receiving submit_sm &#39;{}&#39;, and return message id {}&quot;, new String(submitSm.getShortMessage()), messageId);\r\n        if (SMSCDeliveryReceipt.FAILURE.containedIn(submitSm.getRegisteredDelivery()) || SMSCDeliveryReceipt.SUCCESS_FAILURE.containedIn(submitSm.getRegisteredDelivery())) {\r\n            execServiceDelReceipt.execute(new DeliveryReceiptTask(source, submitSm, messageId));\r\n        }\r\n        /*\r\n         * SMPP 5.0 allows the following optional parameters (SMPP 5.0 paragraph 4.2.5):\r\n         * additional_status_info_text, delivery_failure_reason, dpf_result, network_error_code\r\n         * Add the congestionState for SMPP 5.0 connections.\r\n         */\r\n        if (source.getInterfaceVersion().value() &gt;= InterfaceVersion.IF_50.value()) {\r\n            final int congestionRatio = source.getCongestionRatio();\r\n            OptionalParameter.Congestion_state congestionState = new OptionalParameter.Congestion_state((byte) congestionRatio);\r\n            return new SubmitSmResult(messageId, new OptionalParameter[]{ congestionState });\r\n        }\r\n        return new SubmitSmResult(messageId, new OptionalParameter[0]);\r\n    }\r\n\r\n    @Override\r\n    public void onSubmitSmRespSent(SubmitSmResult submitSmResult,\r\n            SMPPServerSession source) {\r\n        log.debug(&quot;submit_sm_resp with message_id {} has been sent&quot;, submitSmResult.getMessageId());\r\n    }\r\n\r\n    @Override\r\n    public SubmitMultiResult onAcceptSubmitMulti(SubmitMulti submitMulti, SMPPServerSession source)\r\n        throws ProcessRequestException {\r\n        MessageId messageId = messageIDGenerator.newMessageId();\r\n        log.debug(&quot;Receiving submit_multi_sm &#39;{}&#39;, and return message id {}&quot;,\r\n                new String(submitMulti.getShortMessage()), messageId);\r\n        if (SMSCDeliveryReceipt.FAILURE.containedIn(submitMulti.getRegisteredDelivery())\r\n                || SMSCDeliveryReceipt.SUCCESS_FAILURE.containedIn(submitMulti.getRegisteredDelivery())) {\r\n            execServiceDelReceipt.execute(new DeliveryReceiptTask(source, submitMulti, messageId));\r\n        }\r\n        /*\r\n         * SMPP 5.0 allows the following optional parameters (SMPP 5.0 paragraph 4.2.5):\r\n         * additional_status_info_text, delivery_failure_reason, dpf_result, network_error_code\r\n         * Add the congestionState for SMPP 5.0 connections.\r\n         */\r\n        if (source.getInterfaceVersion().value() &gt;= InterfaceVersion.IF_50.value()) {\r\n            final int congestionRatio = source.getCongestionRatio();\r\n            OptionalParameter.Congestion_state congestionState = new OptionalParameter.Congestion_state((byte) congestionRatio);\r\n            return new SubmitMultiResult(messageId.getValue(), new UnsuccessDelivery[0], new OptionalParameter[]{ congestionState });\r\n        }\r\n        return new SubmitMultiResult(messageId.getValue(), new UnsuccessDelivery[0], new OptionalParameter[0]);\r\n    }\r\n\r\n    @Override\r\n    public DataSmResult onAcceptDataSm(DataSm dataSm, Session source)\r\n            throws ProcessRequestException {\r\n        log.info(&quot;Accepting data_sm, but not implemented&quot;);\r\n        throw new ProcessRequestException(DATASM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RSYSERR);\r\n    }\r\n\r\n    @Override\r\n    public void onAcceptCancelSm(CancelSm cancelSm, SMPPServerSession source)\r\n            throws ProcessRequestException {\r\n        log.info(&quot;Accepting cancel_sm, but not implemented&quot;);\r\n        throw new ProcessRequestException(CANCELSM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RCANCELFAIL);\r\n    }\r\n\r\n    @Override\r\n    public void onAcceptReplaceSm(ReplaceSm replaceSm, SMPPServerSession source)\r\n            throws ProcessRequestException {\r\n        log.info(&quot;Accepting replace_sm, but not implemented&quot;);\r\n        throw new ProcessRequestException(REPLACESM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RREPLACEFAIL);\r\n    }\r\n\r\n    @Override\r\n    public BroadcastSmResult onAcceptBroadcastSm(final BroadcastSm broadcastSm, final SMPPServerSession source)\r\n        throws ProcessRequestException {\r\n        MessageId messageId = messageIDGenerator.newMessageId();\r\n        log.debug(&quot;Receiving broadcast_sm &#39;{}&#39;, and return message id {}&quot;,\r\n            new String(broadcastSm.getOptionalParameter(OptionalParameter.Tag.MESSAGE_PAYLOAD).serialize()), messageId);\r\n        return new BroadcastSmResult(messageId, new OptionalParameter[0]);\r\n    }\r\n\r\n    @Override\r\n    public void onAcceptCancelBroadcastSm(final CancelBroadcastSm cancelBroadcastSm, final SMPPServerSession source)\r\n        throws ProcessRequestException {\r\n        log.info(&quot;Accepting cancel_broadcast_sm, but not implemented&quot;);\r\n        throw new ProcessRequestException(CANCELBROADCASTSM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RBCASTCANCELFAIL);\r\n    }\r\n\r\n    @Override\r\n    public QueryBroadcastSmResult onAcceptQueryBroadcastSm(final QueryBroadcastSm queryBroadcastSm,\r\n                                                           final SMPPServerSession source) throws ProcessRequestException {\r\n        log.info(&quot;Accepting query_broadcast_sm, but not implemented&quot;);\r\n        throw new ProcessRequestException(QUERYBROADCASTSM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RBCASTQUERYFAIL);\r\n    }\r\n\r\n    private static class WaitBindTask implements Callable&lt;Boolean&gt; {\r\n        private final SMPPServerSession serverSession;\r\n        private final long timeout;\r\n        private final String systemId;\r\n        private final String password;\r\n\r\n        public WaitBindTask(SMPPServerSession serverSession, long timeout, String systemId, String password) {\r\n            this.serverSession = serverSession;\r\n            this.timeout = timeout;\r\n            this.systemId = systemId;\r\n            this.password = password;\r\n        }\r\n\r\n        @Override\r\n        public Boolean call() {\r\n            try {\r\n                System.out.println(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;);\r\n                BindRequest bindRequest = serverSession.waitForBind(timeout);\r\n                try {\r\n                    if (BindType.BIND_TRX.equals(bindRequest.getBindType())) {\r\n                      if (systemId.equals(bindRequest.getSystemId())) {\r\n                        if (password.equals(bindRequest.getPassword())) {\r\n                          log.info(&quot;Accepting bind for session {}, interface version {}&quot;, serverSession.getSessionId(), bindRequest.getInterfaceVersion());\r\n                          serverSession.setInterfaceVersion(InterfaceVersion.IF_50.min(bindRequest.getInterfaceVersion()));\r\n                          // The systemId identifies the SMSC to the ESME.\r\n\r\n                          bindRequest.accept(SMSC_SYSTEMID, InterfaceVersion.IF_50);\r\n\r\n                          return true;\r\n                        } else {\r\n                          log.info(&quot;Rejecting bind for session {}, interface version {}, invalid password&quot;, serverSession.getSessionId(), bindRequest.getInterfaceVersion());\r\n                          bindRequest.reject(SMPPConstant.STAT_ESME_RINVPASWD);\r\n                        }\r\n                      } else {\r\n                        log.info(&quot;Rejecting bind for session {}, interface version {}, invalid system id&quot;, serverSession.getSessionId(), bindRequest.getInterfaceVersion());\r\n                        bindRequest.reject(SMPPConstant.STAT_ESME_RINVSYSID);\r\n                      }\r\n                    } else {\r\n                      log.info(&quot;Rejecting bind for session {}, interface version {}, only accept transceiver&quot;, serverSession.getSessionId(), bindRequest.getInterfaceVersion());\r\n                      bindRequest.reject(SMPPConstant.STAT_ESME_RBINDFAIL);\r\n                    }\r\n                } catch (PDUStringException e) {\r\n                  log.error(&quot;Invalid system id: &quot; + SMSC_SYSTEMID, e);\r\n                  bindRequest.reject(SMPPConstant.STAT_ESME_RSYSERR);\r\n                }\r\n\r\n            } catch (IllegalStateException e) {\r\n                log.error(&quot;System error&quot;, e);\r\n            } catch (TimeoutException e) {\r\n                log.warn(&quot;Wait for bind has reach timeout&quot;, e);\r\n            } catch (IOException e) {\r\n                log.error(&quot;Failed accepting bind request for session {}&quot;, serverSession.getSessionId());\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private static class DeliveryReceiptTask implements Runnable {\r\n        private final SMPPServerSession session;\r\n        private final MessageId messageId;\r\n\r\n        private final TypeOfNumber sourceAddrTon;\r\n        private final NumberingPlanIndicator sourceAddrNpi;\r\n        private final String sourceAddress;\r\n\r\n        private final TypeOfNumber destAddrTon;\r\n        private final NumberingPlanIndicator destAddrNpi;\r\n        private final String destAddress;\r\n\r\n        private final int totalSubmitted;\r\n        private final int totalDelivered;\r\n\r\n        private final byte[] shortMessage;\r\n\r\n        public DeliveryReceiptTask(SMPPServerSession session,\r\n                SubmitSm submitSm, MessageId messageId) {\r\n            this.session = session;\r\n            this.messageId = messageId;\r\n\r\n            // reversing destination to source\r\n            sourceAddrTon = TypeOfNumber.valueOf(submitSm.getDestAddrTon());\r\n            sourceAddrNpi = NumberingPlanIndicator.valueOf(submitSm.getDestAddrNpi());\r\n            sourceAddress = submitSm.getDestAddress();\r\n\r\n            // reversing source to destination\r\n            destAddrTon = TypeOfNumber.valueOf(submitSm.getSourceAddrTon());\r\n            destAddrNpi = NumberingPlanIndicator.valueOf(submitSm.getSourceAddrNpi());\r\n            destAddress = submitSm.getSourceAddr();\r\n\r\n            totalSubmitted = totalDelivered = 1;\r\n\r\n            shortMessage = submitSm.getShortMessage();\r\n        }\r\n\r\n        public DeliveryReceiptTask(SMPPServerSession session,\r\n                SubmitMulti submitMulti, MessageId messageId) {\r\n            this.session = session;\r\n            this.messageId = messageId;\r\n\r\n            // set to unknown and null, since it was submit_multi\r\n            sourceAddrTon = TypeOfNumber.UNKNOWN;\r\n            sourceAddrNpi = NumberingPlanIndicator.UNKNOWN;\r\n            sourceAddress = null;\r\n\r\n            // reversing source to destination\r\n            destAddrTon = TypeOfNumber.valueOf(submitMulti.getSourceAddrTon());\r\n            destAddrNpi = NumberingPlanIndicator.valueOf(submitMulti.getSourceAddrNpi());\r\n            destAddress = submitMulti.getSourceAddr();\r\n\r\n            // distribution list assumed only contains single address\r\n            totalSubmitted = totalDelivered = submitMulti.getDestAddresses().length;\r\n\r\n            shortMessage = submitMulti.getShortMessage();\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                log.error(&quot;Interrupted&quot;, e);\r\n                //re-interrupt the current thread\r\n                Thread.currentThread().interrupt();\r\n            }\r\n            SessionState state = session.getSessionState();\r\n            if (!state.isReceivable()) {\r\n                log.debug(&quot;Not sending delivery receipt for message id {} since session state is {}&quot;, messageId, state);\r\n                return;\r\n            }\r\n            String stringValue = Integer.valueOf(messageId.getValue(), 16).toString();\r\n            try {\r\n\r\n                DeliveryReceipt delRec = new DeliveryReceipt(stringValue, totalSubmitted, totalDelivered, new Date(), new Date(), DeliveryReceiptState.DELIVRD, &quot;000&quot;, new String(shortMessage));\r\n                session.deliverShortMessage(\r\n                        &quot;mc&quot;,\r\n                        sourceAddrTon, sourceAddrNpi, sourceAddress,\r\n                        destAddrTon, destAddrNpi, destAddress,\r\n                        new ESMClass(MessageMode.DEFAULT, MessageType.SMSC_DEL_RECEIPT, GSMSpecificFeature.DEFAULT),\r\n                        (byte)0,\r\n                        (byte)0,\r\n                        new RegisteredDelivery(0),\r\n                        DataCodings.ZERO,\r\n                        delRec.toString().getBytes());\r\n                log.debug(&quot;Sending delivery receipt for message id {}: {}&quot;, messageId, stringValue);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Failed sending delivery_receipt for message id &quot; + messageId + &quot;:&quot; + stringValue, e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);\r\n        /*\r\n         * To use SSL, add -Djsmpp.simulator.ssl=true\r\n         * To debug SSL, add -Djavax.net.debug=ssl\r\n         */\r\n        String systemId = System.getProperty(&quot;jsmpp.client.systemId&quot;, DEFAULT_SYSID);\r\n        String password = System.getProperty(&quot;jsmpp.client.password&quot;, DEFAULT_PASSWORD);\r\n        int port;\r\n        try {\r\n            port = Integer.parseInt(System.getProperty(&quot;jsmpp.simulator.port&quot;, DEFAULT_PORT.toString()));\r\n        } catch (NumberFormatException e) {\r\n            port = DEFAULT_PORT;\r\n        }\r\n        boolean useSsl = Boolean.parseBoolean(System.getProperty(&quot;jsmpp.simulator.ssl&quot;, &quot;false&quot;));\r\n        SMPPServerSimulator smppServerSim = new SMPPServerSimulator(useSsl, port, systemId, password);\r\n        smppServerSim.run();\r\n    }\r\n}\r\n```","title":"SMPP java server connect to SMSC or SMPP Client can receive SMS via SMPP?","body":"<p><strong>i have 3rd party smpp connection.\nso i created java smpp client and its working fine.</strong></p>\n<p>how i can create smpp server connect to 3rd party smpp connection and need to send sms via that created smpp server. my problem is i doesn't know how to connect smpp server to smsc/smpp 3rd party connection</p>\n<p>please help to me connect this smpp server to smpp 3rd party server  for send sms..</p>\n<pre><code>\n\npublic class SMPPServerSimulator extends ServerResponseDeliveryAdapter implements Runnable, ServerMessageReceiverListener {\n\n    private static final Logger log = LoggerFactory.getLogger(SMPPServerSimulator.class);\n    private static final String QUERYSM_NOT_IMPLEMENTED = &quot;query_sm not implemented&quot;;\n    private static final String CANCELSM_NOT_IMPLEMENTED = &quot;cancel_sm not implemented&quot;;\n    private static final String DATASM_NOT_IMPLEMENTED = &quot;data_sm not implemented&quot;;\n    private static final String REPLACESM_NOT_IMPLEMENTED = &quot;replace_sm not implemented&quot;;\n    private static final String BROADCASTSM_NOT_IMPLEMENTED = &quot;broadcast_sm not implemented&quot;;\n    private static final String CANCELBROADCASTSM_NOT_IMPLEMENTED = &quot;cancel_broadcast_sm not implemented&quot;;\n    private static final String QUERYBROADCASTSM_NOT_IMPLEMENTED = &quot;query_broadcast_sm not implemented&quot;;\n    private static final Integer DEFAULT_PORT = 2775;\n    private static final String DEFAULT_SYSID = &quot;twtest&quot;;\n    private static final String DEFAULT_PASSWORD = &quot;test123&quot;;\n    private static final String SMSC_SYSTEMID = &quot;sys&quot;;\n    private final ExecutorService execService = Executors.newFixedThreadPool(5);\n    private final ExecutorService execServiceDelReceipt = Executors.newFixedThreadPool(100);\n    private final MessageIDGenerator messageIDGenerator = new RandomMessageIDGenerator();\n    private final boolean useSsl;\n    private final int port;\n    private final String systemId;\n    private final String password;\n\n    public SMPPServerSimulator(boolean useSsl, int port, String systemId, String password) {\n        this.useSsl = useSsl;\n        this.port = port;\n        this.systemId = systemId;\n        this.password = password;\n    }\n\n    @Override\n    public void run() {\n        boolean running = true;\n        /*\n         * for SSL use the SSLServerSocketConnectionFactory() or DefaultSSLServerSocketConnectionFactory()\n         */\n        try (SMPPServerSessionListener sessionListener = useSsl ?\n            new SMPPServerSessionListener(port, new KeyStoreSSLServerSocketConnectionFactory())\n            : new SMPPServerSessionListener(port)) {\n            /*\n             * for SSL use the SSLServerSocketConnectionFactory() or DefaultSSLServerSocketConnectionFactory()\n             */\n            log.info(&quot;Listening on port {}{}&quot;, port, useSsl ? &quot; (SSL)&quot; : &quot;&quot;);\n            while (running) {\n                System.out.println(&quot;running&quot;);\n                SMPPServerSession serverSession = sessionListener.accept();\n                log.info(&quot;Accepted connection with session {}&quot;, serverSession.getSessionId());\n                serverSession.setMessageReceiverListener(this);\n                serverSession.setResponseDeliveryListener(this);\n                Future&lt;Boolean&gt; bindResult = execService.submit(new WaitBindTask(serverSession, 30000, systemId, password));\n                try {\n                    boolean bound = bindResult.get();\n                    System.out.println(bound+&quot; sss&quot;);\n                    if (bound) {\n                        // Could start deliver_sm to ESME\n                        log.info(&quot;The session is now in state {}&quot;, serverSession.getSessionState());\n\n                        serverSession.deliverShortMessage(&quot;CMT&quot;,\n                            TypeOfNumber.INTERNATIONAL, NumberingPlanIndicator.ISDN, &quot;94712320529&quot;,\n                            TypeOfNumber.INTERNATIONAL, NumberingPlanIndicator.ISDN, &quot;TWTEST&quot;,\n                            new ESMClass(0), (byte) 0x00, (byte) 0x00, new RegisteredDelivery(), DataCodings.ZERO,\n                            &quot;Hello Worldxxxxxxxxxxx&quot;.getBytes());\n                    }\n                } catch (InterruptedException e){\n                    log.info(&quot;Interrupted WaitBind task: {}&quot;, e.getMessage());\n                    Thread.currentThread().interrupt();\n                    running = false;\n                } catch (ExecutionException e){\n                    log.info(&quot;Exception on execute WaitBind task: {}&quot;, e.getMessage());\n                    running = false;\n                } catch (NegativeResponseException | ResponseTimeoutException | PDUException | InvalidResponseException e){\n                    log.info(&quot;Could not send deliver_sm: {}&quot;, e.getMessage());\n                }\n            }\n        } catch (IOException e) {\n            log.error(&quot;IO error occurred&quot;, e);\n        }\n    }\n\n    @Override\n    public QuerySmResult onAcceptQuerySm(QuerySm querySm, SMPPServerSession source) throws ProcessRequestException {\n        log.info(&quot;QuerySm not implemented&quot;);\n\n        throw new ProcessRequestException(QUERYSM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RINVCMDID);\n    }\n\n    @Override\n    public SubmitSmResult onAcceptSubmitSm(SubmitSm submitSm,\n            SMPPServerSession source) throws ProcessRequestException {\n        MessageId messageId = messageIDGenerator.newMessageId();\n        log.info(&quot;Receiving submit_sm '{}', and return message id {}&quot;, new String(submitSm.getShortMessage()), messageId);\n        if (SMSCDeliveryReceipt.FAILURE.containedIn(submitSm.getRegisteredDelivery()) || SMSCDeliveryReceipt.SUCCESS_FAILURE.containedIn(submitSm.getRegisteredDelivery())) {\n            execServiceDelReceipt.execute(new DeliveryReceiptTask(source, submitSm, messageId));\n        }\n        /*\n         * SMPP 5.0 allows the following optional parameters (SMPP 5.0 paragraph 4.2.5):\n         * additional_status_info_text, delivery_failure_reason, dpf_result, network_error_code\n         * Add the congestionState for SMPP 5.0 connections.\n         */\n        if (source.getInterfaceVersion().value() &gt;= InterfaceVersion.IF_50.value()) {\n            final int congestionRatio = source.getCongestionRatio();\n            OptionalParameter.Congestion_state congestionState = new OptionalParameter.Congestion_state((byte) congestionRatio);\n            return new SubmitSmResult(messageId, new OptionalParameter[]{ congestionState });\n        }\n        return new SubmitSmResult(messageId, new OptionalParameter[0]);\n    }\n\n    @Override\n    public void onSubmitSmRespSent(SubmitSmResult submitSmResult,\n            SMPPServerSession source) {\n        log.debug(&quot;submit_sm_resp with message_id {} has been sent&quot;, submitSmResult.getMessageId());\n    }\n\n    @Override\n    public SubmitMultiResult onAcceptSubmitMulti(SubmitMulti submitMulti, SMPPServerSession source)\n        throws ProcessRequestException {\n        MessageId messageId = messageIDGenerator.newMessageId();\n        log.debug(&quot;Receiving submit_multi_sm '{}', and return message id {}&quot;,\n                new String(submitMulti.getShortMessage()), messageId);\n        if (SMSCDeliveryReceipt.FAILURE.containedIn(submitMulti.getRegisteredDelivery())\n                || SMSCDeliveryReceipt.SUCCESS_FAILURE.containedIn(submitMulti.getRegisteredDelivery())) {\n            execServiceDelReceipt.execute(new DeliveryReceiptTask(source, submitMulti, messageId));\n        }\n        /*\n         * SMPP 5.0 allows the following optional parameters (SMPP 5.0 paragraph 4.2.5):\n         * additional_status_info_text, delivery_failure_reason, dpf_result, network_error_code\n         * Add the congestionState for SMPP 5.0 connections.\n         */\n        if (source.getInterfaceVersion().value() &gt;= InterfaceVersion.IF_50.value()) {\n            final int congestionRatio = source.getCongestionRatio();\n            OptionalParameter.Congestion_state congestionState = new OptionalParameter.Congestion_state((byte) congestionRatio);\n            return new SubmitMultiResult(messageId.getValue(), new UnsuccessDelivery[0], new OptionalParameter[]{ congestionState });\n        }\n        return new SubmitMultiResult(messageId.getValue(), new UnsuccessDelivery[0], new OptionalParameter[0]);\n    }\n\n    @Override\n    public DataSmResult onAcceptDataSm(DataSm dataSm, Session source)\n            throws ProcessRequestException {\n        log.info(&quot;Accepting data_sm, but not implemented&quot;);\n        throw new ProcessRequestException(DATASM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RSYSERR);\n    }\n\n    @Override\n    public void onAcceptCancelSm(CancelSm cancelSm, SMPPServerSession source)\n            throws ProcessRequestException {\n        log.info(&quot;Accepting cancel_sm, but not implemented&quot;);\n        throw new ProcessRequestException(CANCELSM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RCANCELFAIL);\n    }\n\n    @Override\n    public void onAcceptReplaceSm(ReplaceSm replaceSm, SMPPServerSession source)\n            throws ProcessRequestException {\n        log.info(&quot;Accepting replace_sm, but not implemented&quot;);\n        throw new ProcessRequestException(REPLACESM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RREPLACEFAIL);\n    }\n\n    @Override\n    public BroadcastSmResult onAcceptBroadcastSm(final BroadcastSm broadcastSm, final SMPPServerSession source)\n        throws ProcessRequestException {\n        MessageId messageId = messageIDGenerator.newMessageId();\n        log.debug(&quot;Receiving broadcast_sm '{}', and return message id {}&quot;,\n            new String(broadcastSm.getOptionalParameter(OptionalParameter.Tag.MESSAGE_PAYLOAD).serialize()), messageId);\n        return new BroadcastSmResult(messageId, new OptionalParameter[0]);\n    }\n\n    @Override\n    public void onAcceptCancelBroadcastSm(final CancelBroadcastSm cancelBroadcastSm, final SMPPServerSession source)\n        throws ProcessRequestException {\n        log.info(&quot;Accepting cancel_broadcast_sm, but not implemented&quot;);\n        throw new ProcessRequestException(CANCELBROADCASTSM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RBCASTCANCELFAIL);\n    }\n\n    @Override\n    public QueryBroadcastSmResult onAcceptQueryBroadcastSm(final QueryBroadcastSm queryBroadcastSm,\n                                                           final SMPPServerSession source) throws ProcessRequestException {\n        log.info(&quot;Accepting query_broadcast_sm, but not implemented&quot;);\n        throw new ProcessRequestException(QUERYBROADCASTSM_NOT_IMPLEMENTED, SMPPConstant.STAT_ESME_RBCASTQUERYFAIL);\n    }\n\n    private static class WaitBindTask implements Callable&lt;Boolean&gt; {\n        private final SMPPServerSession serverSession;\n        private final long timeout;\n        private final String systemId;\n        private final String password;\n\n        public WaitBindTask(SMPPServerSession serverSession, long timeout, String systemId, String password) {\n            this.serverSession = serverSession;\n            this.timeout = timeout;\n            this.systemId = systemId;\n            this.password = password;\n        }\n\n        @Override\n        public Boolean call() {\n            try {\n                System.out.println(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;);\n                BindRequest bindRequest = serverSession.waitForBind(timeout);\n                try {\n                    if (BindType.BIND_TRX.equals(bindRequest.getBindType())) {\n                      if (systemId.equals(bindRequest.getSystemId())) {\n                        if (password.equals(bindRequest.getPassword())) {\n                          log.info(&quot;Accepting bind for session {}, interface version {}&quot;, serverSession.getSessionId(), bindRequest.getInterfaceVersion());\n                          serverSession.setInterfaceVersion(InterfaceVersion.IF_50.min(bindRequest.getInterfaceVersion()));\n                          // The systemId identifies the SMSC to the ESME.\n\n                          bindRequest.accept(SMSC_SYSTEMID, InterfaceVersion.IF_50);\n\n                          return true;\n                        } else {\n                          log.info(&quot;Rejecting bind for session {}, interface version {}, invalid password&quot;, serverSession.getSessionId(), bindRequest.getInterfaceVersion());\n                          bindRequest.reject(SMPPConstant.STAT_ESME_RINVPASWD);\n                        }\n                      } else {\n                        log.info(&quot;Rejecting bind for session {}, interface version {}, invalid system id&quot;, serverSession.getSessionId(), bindRequest.getInterfaceVersion());\n                        bindRequest.reject(SMPPConstant.STAT_ESME_RINVSYSID);\n                      }\n                    } else {\n                      log.info(&quot;Rejecting bind for session {}, interface version {}, only accept transceiver&quot;, serverSession.getSessionId(), bindRequest.getInterfaceVersion());\n                      bindRequest.reject(SMPPConstant.STAT_ESME_RBINDFAIL);\n                    }\n                } catch (PDUStringException e) {\n                  log.error(&quot;Invalid system id: &quot; + SMSC_SYSTEMID, e);\n                  bindRequest.reject(SMPPConstant.STAT_ESME_RSYSERR);\n                }\n\n            } catch (IllegalStateException e) {\n                log.error(&quot;System error&quot;, e);\n            } catch (TimeoutException e) {\n                log.warn(&quot;Wait for bind has reach timeout&quot;, e);\n            } catch (IOException e) {\n                log.error(&quot;Failed accepting bind request for session {}&quot;, serverSession.getSessionId());\n            }\n            return false;\n        }\n    }\n\n    private static class DeliveryReceiptTask implements Runnable {\n        private final SMPPServerSession session;\n        private final MessageId messageId;\n\n        private final TypeOfNumber sourceAddrTon;\n        private final NumberingPlanIndicator sourceAddrNpi;\n        private final String sourceAddress;\n\n        private final TypeOfNumber destAddrTon;\n        private final NumberingPlanIndicator destAddrNpi;\n        private final String destAddress;\n\n        private final int totalSubmitted;\n        private final int totalDelivered;\n\n        private final byte[] shortMessage;\n\n        public DeliveryReceiptTask(SMPPServerSession session,\n                SubmitSm submitSm, MessageId messageId) {\n            this.session = session;\n            this.messageId = messageId;\n\n            // reversing destination to source\n            sourceAddrTon = TypeOfNumber.valueOf(submitSm.getDestAddrTon());\n            sourceAddrNpi = NumberingPlanIndicator.valueOf(submitSm.getDestAddrNpi());\n            sourceAddress = submitSm.getDestAddress();\n\n            // reversing source to destination\n            destAddrTon = TypeOfNumber.valueOf(submitSm.getSourceAddrTon());\n            destAddrNpi = NumberingPlanIndicator.valueOf(submitSm.getSourceAddrNpi());\n            destAddress = submitSm.getSourceAddr();\n\n            totalSubmitted = totalDelivered = 1;\n\n            shortMessage = submitSm.getShortMessage();\n        }\n\n        public DeliveryReceiptTask(SMPPServerSession session,\n                SubmitMulti submitMulti, MessageId messageId) {\n            this.session = session;\n            this.messageId = messageId;\n\n            // set to unknown and null, since it was submit_multi\n            sourceAddrTon = TypeOfNumber.UNKNOWN;\n            sourceAddrNpi = NumberingPlanIndicator.UNKNOWN;\n            sourceAddress = null;\n\n            // reversing source to destination\n            destAddrTon = TypeOfNumber.valueOf(submitMulti.getSourceAddrTon());\n            destAddrNpi = NumberingPlanIndicator.valueOf(submitMulti.getSourceAddrNpi());\n            destAddress = submitMulti.getSourceAddr();\n\n            // distribution list assumed only contains single address\n            totalSubmitted = totalDelivered = submitMulti.getDestAddresses().length;\n\n            shortMessage = submitMulti.getShortMessage();\n        }\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                log.error(&quot;Interrupted&quot;, e);\n                //re-interrupt the current thread\n                Thread.currentThread().interrupt();\n            }\n            SessionState state = session.getSessionState();\n            if (!state.isReceivable()) {\n                log.debug(&quot;Not sending delivery receipt for message id {} since session state is {}&quot;, messageId, state);\n                return;\n            }\n            String stringValue = Integer.valueOf(messageId.getValue(), 16).toString();\n            try {\n\n                DeliveryReceipt delRec = new DeliveryReceipt(stringValue, totalSubmitted, totalDelivered, new Date(), new Date(), DeliveryReceiptState.DELIVRD, &quot;000&quot;, new String(shortMessage));\n                session.deliverShortMessage(\n                        &quot;mc&quot;,\n                        sourceAddrTon, sourceAddrNpi, sourceAddress,\n                        destAddrTon, destAddrNpi, destAddress,\n                        new ESMClass(MessageMode.DEFAULT, MessageType.SMSC_DEL_RECEIPT, GSMSpecificFeature.DEFAULT),\n                        (byte)0,\n                        (byte)0,\n                        new RegisteredDelivery(0),\n                        DataCodings.ZERO,\n                        delRec.toString().getBytes());\n                log.debug(&quot;Sending delivery receipt for message id {}: {}&quot;, messageId, stringValue);\n            } catch (Exception e) {\n                log.error(&quot;Failed sending delivery_receipt for message id &quot; + messageId + &quot;:&quot; + stringValue, e);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        // System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);\n        /*\n         * To use SSL, add -Djsmpp.simulator.ssl=true\n         * To debug SSL, add -Djavax.net.debug=ssl\n         */\n        String systemId = System.getProperty(&quot;jsmpp.client.systemId&quot;, DEFAULT_SYSID);\n        String password = System.getProperty(&quot;jsmpp.client.password&quot;, DEFAULT_PASSWORD);\n        int port;\n        try {\n            port = Integer.parseInt(System.getProperty(&quot;jsmpp.simulator.port&quot;, DEFAULT_PORT.toString()));\n        } catch (NumberFormatException e) {\n            port = DEFAULT_PORT;\n        }\n        boolean useSsl = Boolean.parseBoolean(System.getProperty(&quot;jsmpp.simulator.ssl&quot;, &quot;false&quot;));\n        SMPPServerSimulator smppServerSim = new SMPPServerSimulator(useSsl, port, systemId, password);\n        smppServerSim.run();\n    }\n}\n</code></pre>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654850190,"creation_date":1654850190,"answer_id":72571360,"question_id":72570199,"body_markdown":"If you need to determine the class for this or that JMeter test component:\r\n\r\n 1. Open [logger panel][1] by clicking yellow triangle with exclamation sign in the top-right corner of JMeter GUI\r\n    [![enter image description here][2]][2]\r\n 2. Having highlighted the test component choose `Help -&gt; What&#39;s this node` \r\n 3. The element class and GUI class will be displayed in the jmeter.log\r\n\r\n    [![enter image description here][3]][3]\r\n\r\nThe class you need is [PostThreadGroup][4], see the JavaDoc for all possible methods/fields/whatever.\r\n\r\nMore information: [How to Debug your Apache JMeter Script][5]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [2]: https://i.stack.imgur.com/2AKnn.png\r\n  [3]: https://i.stack.imgur.com/jLqrd.png\r\n  [4]: https://PostThreadGroup\r\n  [5]: https://www.blazemeter.com/blog/how-debug-your-apache-jmeter-script","title":"How to add tearDown Thread Group class in java code?","body":"<p>If you need to determine the class for this or that JMeter test component:</p>\n<ol>\n<li><p>Open <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">logger panel</a> by clicking yellow triangle with exclamation sign in the top-right corner of JMeter GUI\n<a href=\"https://i.stack.imgur.com/2AKnn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2AKnn.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Having highlighted the test component choose <code>Help -&gt; What's this node</code></p>\n</li>\n<li><p>The element class and GUI class will be displayed in the jmeter.log</p>\n<p><a href=\"https://i.stack.imgur.com/jLqrd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLqrd.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>The class you need is <a href=\"https://PostThreadGroup\" rel=\"nofollow noreferrer\">PostThreadGroup</a>, see the JavaDoc for all possible methods/fields/whatever.</p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/how-debug-your-apache-jmeter-script\" rel=\"nofollow noreferrer\">How to Debug your Apache JMeter Script</a></p>\n"}],"owner":{"account_id":25522308,"reputation":1,"user_id":19311963,"display_name":"Yusuf Kharodawala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1654850190,"creation_date":1654844035,"question_id":72570199,"body_markdown":"I am trying to develop a java application which uses jmeter&#39;s maven library `artifactId: ApacheJMeter_http` to load test.\r\n\r\nMy application does distributed remote tests, and i want to execute some java code after the test finishes execution. Upon reviewing the JMeter docs, I found out that `tearDown Thread Group` can do the job. In the JMeter GUI, you can simply add this type of Thread Group, but I can&#39;t find the equivalent java class in JMeter&#39;s library.\r\n\r\nMoreover, I am still not sure how to execute java code even after i manage to add this thread group to my test tree. \r\n\r\n**EDIT:**\r\n\r\nFound the answer to part 1 of my question. tearDown Thread Groups are named `PostThreadGroup` by jmeter. \r\n\r\nStill not sure how to execute java code using a PostThreadGroup. Basically I want to call a hook after the execution of a test.\r\n","title":"How to add tearDown Thread Group class in java code?","body":"<p>I am trying to develop a java application which uses jmeter's maven library <code>artifactId: ApacheJMeter_http</code> to load test.</p>\n<p>My application does distributed remote tests, and i want to execute some java code after the test finishes execution. Upon reviewing the JMeter docs, I found out that <code>tearDown Thread Group</code> can do the job. In the JMeter GUI, you can simply add this type of Thread Group, but I can't find the equivalent java class in JMeter's library.</p>\n<p>Moreover, I am still not sure how to execute java code even after i manage to add this thread group to my test tree.</p>\n<p><strong>EDIT:</strong></p>\n<p>Found the answer to part 1 of my question. tearDown Thread Groups are named <code>PostThreadGroup</code> by jmeter.</p>\n<p>Still not sure how to execute java code using a PostThreadGroup. Basically I want to call a hook after the execution of a test.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":50524,"reputation":6173,"user_id":150740,"accept_rate":88,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654803899,"creation_date":1654802566,"answer_id":72565615,"question_id":72565589,"body_markdown":"You need to use the following to match multiple contiguous tabs and spaces.\r\n\r\n```\r\n[\\\\t ]+\r\n```\r\n\r\nFor regular expressions it&#39;s always a good idea to test them out using a tool like https://regexr.com/ \r\n\r\nThere you can enter your sample and the regular expression and it even explains what&#39;s going on.","title":"Replace tab with a space inside a String","body":"<p>You need to use the following to match multiple contiguous tabs and spaces.</p>\n<pre><code>[\\\\t ]+\n</code></pre>\n<p>For regular expressions it's always a good idea to test them out using a tool like <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">https://regexr.com/</a></p>\n<p>There you can enter your sample and the regular expression and it even explains what's going on.</p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654850132,"creation_date":1654850132,"answer_id":72571350,"question_id":72565589,"body_markdown":"[Whitespace][1]:\r\n\r\n&gt; is any character or series of characters that represent **horizontal or vertical** space in typography. When\r\n\r\n## Issue\r\nIn you example the `\\s` matched and replaced all of the following:\r\n\r\n* regular space like ` ` (horizontal)\r\n* tab like `\\t` (horizontal)\r\n* carriage-return like `\\r` (vertical)\r\n* new-line or line-feed like `\\n` (vertical)\r\n\r\nSee this [substitution demo][2] for Java&#39;s regex-flavor.\r\n\r\n## Alternative Solutions\r\nIn Java you could easily condense this horizontal whitespace with:\r\n\r\n### (1) Split by lines and clean each line separately\r\nSee the [demo on IdeOne][3]:\r\n```java\r\nString multiLineText = &quot;\\tHello        World!&quot; + &quot;\\n&quot;        \r\n  + &quot;New line&quot;;\r\n\r\nString lineSeparatorRegex = &quot;\\r?\\n&quot;; // usually &quot;\\n&quot; on Linux/Mac or &quot;\\r\\n&quot; on Windows\r\n\r\nList&lt;String&gt; condensedLines = new ArrayList();\r\nString[] lines = multiLineText.split(System.lineSeparator()); // alternative: use the regex \r\nfor (String line : lines) {\r\n  condensedLines.add(line.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;)); // condense\r\n}\r\nString condensedPerLine = String.join(System.lineSeparator(), condensedLines);\r\n```\r\nNote: `System.getProperty(&quot;line.separator&quot;)` is the old way before [`System.lineSeparator()`][4] was introduced in Java 1.7\r\n\r\n### (2) Simple multi-line capable regex\r\nas [answered by Niko][5]:\r\n```\r\n// remove all tabs or additional space characters \r\nString condensedPerLine = multiLineText.replaceAll(&quot;[\\t ]+&quot;, &quot; &quot;);\r\n```\r\nSee on Regex101: [demo preserving lines][6].\r\n \r\n### (3) Use Apache StringUtils with streaming:\r\n`StringUtils` class is perfect for handling Strings null-safe, for this case [`normalizeWhitespace(s)`][7].\r\nNote there in JavaDocs also the hint:\r\n\r\n&gt;  Java&#39;s regexp pattern \\s defines whitespace as [ \\t\\n\\x0B\\f\\r] \r\n\r\n\r\n```\r\n// clean all superfluous whitespace and control-characters from lines\r\nString condensedPerLine = Arrays.stream(multiLineText.split(System.lineSeparator())\r\n    .map( s -&gt; return StringUtils.normalizeWhitespace(s))\r\n    .collect(Collectors.joining(System.lineSepartor()));\r\n```\r\n\r\n### See also\r\n* [Java Multi-line String | Baeldung](https://www.baeldung.com/java-multiline-string)\r\n* [Split a String in Java | Baeldung](https://www.baeldung.com/java-split-string)\r\n* https://stackoverflow.com/questions/50131679/split-string-between-lines-with-regex\r\n* https://stackoverflow.com/questions/49340617/difference-between-n-and-system-lineseparator\r\n* https://stackoverflow.com/questions/40932813/how-to-split-a-string-into-a-stream-of-strings\r\n* https://stackoverflow.com/questions/3651725/match-multiline-text-using-regular-expression\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Whitespace_character\r\n  [2]: https://regex101.com/r/pEw85v/1\r\n  [3]: https://ideone.com/8XHpGO\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#lineSeparator--\r\n  [5]: https://stackoverflow.com/a/72565615/5730279\r\n  [6]: https://regex101.com/r/JdP1bj/1\r\n  [7]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#normalizeSpace-java.lang.String-","title":"Replace tab with a space inside a String","body":"<p><a href=\"https://en.wikipedia.org/wiki/Whitespace_character\" rel=\"nofollow noreferrer\">Whitespace</a>:</p>\n<blockquote>\n<p>is any character or series of characters that represent <strong>horizontal or vertical</strong> space in typography. When</p>\n</blockquote>\n<h2>Issue</h2>\n<p>In you example the <code>\\s</code> matched and replaced all of the following:</p>\n<ul>\n<li>regular space like <code> </code> (horizontal)</li>\n<li>tab like <code>\\t</code> (horizontal)</li>\n<li>carriage-return like <code>\\r</code> (vertical)</li>\n<li>new-line or line-feed like <code>\\n</code> (vertical)</li>\n</ul>\n<p>See this <a href=\"https://regex101.com/r/pEw85v/1\" rel=\"nofollow noreferrer\">substitution demo</a> for Java's regex-flavor.</p>\n<h2>Alternative Solutions</h2>\n<p>In Java you could easily condense this horizontal whitespace with:</p>\n<h3>(1) Split by lines and clean each line separately</h3>\n<p>See the <a href=\"https://ideone.com/8XHpGO\" rel=\"nofollow noreferrer\">demo on IdeOne</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String multiLineText = &quot;\\tHello        World!&quot; + &quot;\\n&quot;        \n  + &quot;New line&quot;;\n\nString lineSeparatorRegex = &quot;\\r?\\n&quot;; // usually &quot;\\n&quot; on Linux/Mac or &quot;\\r\\n&quot; on Windows\n\nList&lt;String&gt; condensedLines = new ArrayList();\nString[] lines = multiLineText.split(System.lineSeparator()); // alternative: use the regex \nfor (String line : lines) {\n  condensedLines.add(line.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;)); // condense\n}\nString condensedPerLine = String.join(System.lineSeparator(), condensedLines);\n</code></pre>\n<p>Note: <code>System.getProperty(&quot;line.separator&quot;)</code> is the old way before <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#lineSeparator--\" rel=\"nofollow noreferrer\"><code>System.lineSeparator()</code></a> was introduced in Java 1.7</p>\n<h3>(2) Simple multi-line capable regex</h3>\n<p>as <a href=\"https://stackoverflow.com/a/72565615/5730279\">answered by Niko</a>:</p>\n<pre><code>// remove all tabs or additional space characters \nString condensedPerLine = multiLineText.replaceAll(&quot;[\\t ]+&quot;, &quot; &quot;);\n</code></pre>\n<p>See on Regex101: <a href=\"https://regex101.com/r/JdP1bj/1\" rel=\"nofollow noreferrer\">demo preserving lines</a>.</p>\n<h3>(3) Use Apache StringUtils with streaming:</h3>\n<p><code>StringUtils</code> class is perfect for handling Strings null-safe, for this case <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#normalizeSpace-java.lang.String-\" rel=\"nofollow noreferrer\"><code>normalizeWhitespace(s)</code></a>.\nNote there in JavaDocs also the hint:</p>\n<blockquote>\n<p>Java's regexp pattern \\s defines whitespace as [ \\t\\n\\x0B\\f\\r]</p>\n</blockquote>\n<pre><code>// clean all superfluous whitespace and control-characters from lines\nString condensedPerLine = Arrays.stream(multiLineText.split(System.lineSeparator())\n    .map( s -&gt; return StringUtils.normalizeWhitespace(s))\n    .collect(Collectors.joining(System.lineSepartor()));\n</code></pre>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-multiline-string\" rel=\"nofollow noreferrer\">Java Multi-line String | Baeldung</a></li>\n<li><a href=\"https://www.baeldung.com/java-split-string\" rel=\"nofollow noreferrer\">Split a String in Java | Baeldung</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50131679/split-string-between-lines-with-regex\">Split String between lines with regex</a></li>\n<li><a href=\"https://stackoverflow.com/questions/49340617/difference-between-n-and-system-lineseparator\">Difference between \\n and System.lineSeparator();?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/40932813/how-to-split-a-string-into-a-stream-of-strings\">How to split a String into a Stream of Strings?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3651725/match-multiline-text-using-regular-expression\">Match multiline text using regular expression</a></li>\n</ul>\n"}],"owner":{"account_id":19163471,"reputation":11,"user_id":13998754,"display_name":"Meffapefecy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654850132,"creation_date":1654802449,"question_id":72565589,"body_markdown":"I can&#39;t find a solution to this very simple problem:\r\nI would like to replace a tab in a String with a whitespace (and only one space). \r\nFor example, I have a String like this:\r\n\r\n```       \r\n        Hello        World!        \r\nNew line&quot;\r\n```\r\n\r\nAnd I would like to get this as a result:\r\n```\r\nHello World! \r\nNew line\r\n```\r\n\r\nFor this, I used this function :\r\n`myStr.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);`\r\n\r\nThe tabs are well removed... But also the carriage return:\r\n`Hello World! New line`\r\n\r\nI also tried to use replaceAll with &quot;[\\\\\\t ]&quot; as replacement characters but if I replace with a whitespace, it does not change anything.. \r\n\r\nI must be missing a simple solution but I don&#39;t see...","title":"Replace tab with a space inside a String","body":"<p>I can't find a solution to this very simple problem:\nI would like to replace a tab in a String with a whitespace (and only one space).\nFor example, I have a String like this:</p>\n<pre><code>        Hello        World!        \nNew line&quot;\n</code></pre>\n<p>And I would like to get this as a result:</p>\n<pre><code>Hello World! \nNew line\n</code></pre>\n<p>For this, I used this function :\n<code>myStr.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);</code></p>\n<p>The tabs are well removed... But also the carriage return:\n<code>Hello World! New line</code></p>\n<p>I also tried to use replaceAll with &quot;[\\\\t ]&quot; as replacement characters but if I replace with a whitespace, it does not change anything..</p>\n<p>I must be missing a simple solution but I don't see...</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8718,"page":1274,"page_size":100}
